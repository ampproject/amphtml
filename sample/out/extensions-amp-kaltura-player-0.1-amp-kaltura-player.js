(self.AMP=self.AMP||[]).push({n:"extensions-amp-kaltura-player-0.1-amp-kaltura-player.js", v:"erwin", f:(function(){function $AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$($$jscomp$super$this$jscomp$56_element$jscomp$355$$){$$jscomp$super$this$jscomp$56_element$jscomp$355$$=AMP.BaseElement.call(this,$$jscomp$super$this$jscomp$56_element$jscomp$355$$)||this;$$jscomp$super$this$jscomp$56_element$jscomp$355$$.$iframe_$=null;$$jscomp$super$this$jscomp$56_element$jscomp$355$$.$partnerId_$="";$$jscomp$super$this$jscomp$56_element$jscomp$355$$.$entryId_$="";return $$jscomp$super$this$jscomp$56_element$jscomp$355$$}
$$jscomp$inherits$$($AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$,AMP.BaseElement);$JSCompiler_prototypeAlias$$=$AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$.prototype;$JSCompiler_prototypeAlias$$.preconnectCallback=function($opt_onLayout$jscomp$19$$){this.preconnect.url("https://cdnapisec.kaltura.com",$opt_onLayout$jscomp$19$$)};$JSCompiler_prototypeAlias$$.isLayoutSupported=function($layout$jscomp$62$$){return $isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$62$$)};
$JSCompiler_prototypeAlias$$.buildCallback=function(){this.$partnerId_$=$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$(this.element.getAttribute("data-partner"),"The data-partner attribute is required for <amp-kaltura-player> %s",this.element);this.$entryId_$=this.element.getAttribute("data-entryid")||"default"};
$JSCompiler_prototypeAlias$$.layoutCallback=function(){var $uiconfId$$=this.element.getAttribute("data-uiconf")||this.element.getAttribute("data-uiconf-id")||"default",$iframe$jscomp$56$$=this.element.ownerDocument.createElement("iframe"),$src$jscomp$50$$="https://cdnapisec.kaltura.com/p/"+encodeURIComponent(this.$partnerId_$)+"/sp/"+encodeURIComponent(this.$partnerId_$)+"00/embedIframeJs/uiconf_id/"+encodeURIComponent($uiconfId$$)+"/partner_id/"+encodeURIComponent(this.$partnerId_$)+"?iframeembed=true&playerId=kaltura_player_amp&entry_id="+
encodeURIComponent(this.$entryId_$),$params$jscomp$29$$=$getDataParamsFromAttributes$$module$src$dom$$(this.element,function($uiconfId$$){return"flashvars["+$uiconfId$$+"]"}),$src$jscomp$50$$=$addParamsToUrl$$module$src$url$$($src$jscomp$50$$,$params$jscomp$29$$);$iframe$jscomp$56$$.setAttribute("frameborder","0");$iframe$jscomp$56$$.setAttribute("allowfullscreen","true");$iframe$jscomp$56$$.src=$src$jscomp$50$$;this.applyFillContent($iframe$jscomp$56$$);this.element.appendChild($iframe$jscomp$56$$);
this.$iframe_$=$iframe$jscomp$56$$;return this.loadPromise($iframe$jscomp$56$$)};
$JSCompiler_prototypeAlias$$.createPlaceholderCallback=function(){var $placeholder$jscomp$11$$=this.win.document.createElement("amp-img");this.propagateAttributes(["aria-label"],$placeholder$jscomp$11$$);var $width$jscomp$53$$=this.element.getAttribute("width"),$height$jscomp$50$$=this.element.getAttribute("height"),$src$jscomp$51$$="https://cdnapisec.kaltura.com/p/"+encodeURIComponent(this.$partnerId_$)+"/thumbnail/entry_id/"+encodeURIComponent(this.$entryId_$);$width$jscomp$53$$&&($src$jscomp$51$$+=
"/width/"+$width$jscomp$53$$);$height$jscomp$50$$&&($src$jscomp$51$$+="/height/"+$height$jscomp$50$$);$placeholder$jscomp$11$$.setAttribute("src",$src$jscomp$51$$);$placeholder$jscomp$11$$.setAttribute("layout","fill");$placeholder$jscomp$11$$.setAttribute("placeholder","");$placeholder$jscomp$11$$.setAttribute("referrerpolicy","origin");$placeholder$jscomp$11$$.hasAttribute("aria-label")?$placeholder$jscomp$11$$.setAttribute("alt","Loading video - "+$placeholder$jscomp$11$$.getAttribute("aria-label")):
$placeholder$jscomp$11$$.setAttribute("alt","Loading video");return $placeholder$jscomp$11$$};$JSCompiler_prototypeAlias$$.pauseCallback=function(){this.$iframe_$&&this.$iframe_$.contentWindow&&this.$iframe_$.contentWindow.postMessage(JSON.stringify($dict$$module$src$utils$object$$({method:"pause",value:""})),"*")};(function($AMP$jscomp$61$$){$AMP$jscomp$61$$.registerElement("amp-kaltura-player",$AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$)})(self.AMP);})});
//# sourceMappingURL=extensions-amp-kaltura-player-0.1-amp-kaltura-player.js.map

