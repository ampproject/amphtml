(self.AMP=self.AMP||[]).push({n:"extensions-amp-nexxtv-player-0.1-amp-nexxtv-player.js", v:"erwin", f:(function(){function $AmpNexxtvPlayer$$module$extensions$amp_nexxtv_player$0_1$amp_nexxtv_player$$($$jscomp$super$this$jscomp$63_element$jscomp$390$$){$$jscomp$super$this$jscomp$63_element$jscomp$390$$=AMP.BaseElement.call(this,$$jscomp$super$this$jscomp$63_element$jscomp$390$$)||this;$$jscomp$super$this$jscomp$63_element$jscomp$390$$.$iframe_$=null;$$jscomp$super$this$jscomp$63_element$jscomp$390$$.$videoIframeSrc_$=null;$$jscomp$super$this$jscomp$63_element$jscomp$390$$.$unlistenMessage_$=null;$$jscomp$super$this$jscomp$63_element$jscomp$390$$.$playerReadyPromise_$=
null;$$jscomp$super$this$jscomp$63_element$jscomp$390$$.$playerReadyResolver_$=null;return $$jscomp$super$this$jscomp$63_element$jscomp$390$$}$$jscomp$inherits$$($AmpNexxtvPlayer$$module$extensions$amp_nexxtv_player$0_1$amp_nexxtv_player$$,AMP.BaseElement);$JSCompiler_prototypeAlias$$=$AmpNexxtvPlayer$$module$extensions$amp_nexxtv_player$0_1$amp_nexxtv_player$$.prototype;
$JSCompiler_prototypeAlias$$.preconnectCallback=function($opt_onLayout$jscomp$20$$){this.preconnect.url(this.$getVideoIframeSrc_$(),$opt_onLayout$jscomp$20$$)};$JSCompiler_prototypeAlias$$.isLayoutSupported=function($layout$jscomp$67$$){return $isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$67$$)};
$JSCompiler_prototypeAlias$$.buildCallback=function(){var $deferred$jscomp$41$$=new $Deferred$$module$src$utils$promise$$;this.$playerReadyPromise_$=$deferred$jscomp$41$$.promise;this.$playerReadyResolver_$=$deferred$jscomp$41$$.resolve;$installVideoManagerForDoc$$module$src$service$video_manager_impl$$(this.element);$Services$$module$src$services$videoManagerForDoc$$(this.element).register(this)};
$JSCompiler_prototypeAlias$$.$getVideoIframeSrc_$=function(){if(this.$videoIframeSrc_$)return this.$videoIframeSrc_$;var $mediaId$$=$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$(this.element.getAttribute("data-mediaid"),"The data-mediaid attribute is required for <amp-nexxtv-player> %s",this.element),$client$jscomp$2$$=$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$(this.element.getAttribute("data-client"),"The data-client attribute is required for <amp-nexxtv-player> %s",
this.element),$delay$jscomp$13$$=this.element.getAttribute("data-seek-to")||"0",$mode$jscomp$12$$=this.element.getAttribute("data-mode")||"static",$streamtype$$=this.element.getAttribute("data-streamtype")||"video",$origin$jscomp$28_src$jscomp$54$$=this.element.getAttribute("data-origin")||"https://embed.nexx.cloud/",$disableAds$$=this.element.getAttribute("data-disable-ads"),$streamingFilter$$=this.element.getAttribute("data-streaming-filter");"video"!==$streamtype$$&&($origin$jscomp$28_src$jscomp$54$$+=
encodeURIComponent($streamtype$$)+"/");$origin$jscomp$28_src$jscomp$54$$+=encodeURIComponent($client$jscomp$2$$)+"/";$origin$jscomp$28_src$jscomp$54$$+=encodeURIComponent($mediaId$$);$origin$jscomp$28_src$jscomp$54$$+="?dataMode="+encodeURIComponent($mode$jscomp$12$$)+"&platform=amp";0<$delay$jscomp$13$$&&($origin$jscomp$28_src$jscomp$54$$+="&delay="+encodeURIComponent($delay$jscomp$13$$));"1"===$disableAds$$&&($origin$jscomp$28_src$jscomp$54$$+="&disableAds=1");null!==$streamingFilter$$&&0<$streamingFilter$$.length&&
($origin$jscomp$28_src$jscomp$54$$+="&streamingFilter="+encodeURIComponent($streamingFilter$$));return this.$videoIframeSrc_$=$assertAbsoluteHttpOrHttpsUrl$$module$src$url$$($origin$jscomp$28_src$jscomp$54$$)};$JSCompiler_prototypeAlias$$.viewportCallback=function($visible$jscomp$11$$){this.element.dispatchCustomEvent($VideoEvents$$module$src$video_interface$$.VISIBILITY,{visible:$visible$jscomp$11$$})};
$JSCompiler_prototypeAlias$$.layoutCallback=function(){var $$jscomp$this$jscomp$628$$=this,$iframe$jscomp$58_loaded$jscomp$3$$=this.element.ownerDocument.createElement("iframe");this.applyFillContent($iframe$jscomp$58_loaded$jscomp$3$$);$iframe$jscomp$58_loaded$jscomp$3$$.setAttribute("frameborder","0");$iframe$jscomp$58_loaded$jscomp$3$$.setAttribute("allowfullscreen","true");$iframe$jscomp$58_loaded$jscomp$3$$.src=this.$getVideoIframeSrc_$();this.$iframe_$=$iframe$jscomp$58_loaded$jscomp$3$$;this.$unlistenMessage_$=
$listen$$module$src$event_helper$$(this.win,"message",function($iframe$jscomp$58_loaded$jscomp$3$$){$iframe$jscomp$58_loaded$jscomp$3$$.data&&$iframe$jscomp$58_loaded$jscomp$3$$.source===$$jscomp$this$jscomp$628$$.$iframe_$.contentWindow&&($iframe$jscomp$58_loaded$jscomp$3$$=$isObject$$module$src$types$$($iframe$jscomp$58_loaded$jscomp$3$$.data)?$iframe$jscomp$58_loaded$jscomp$3$$.data:$tryParseJson$$module$src$json$$($iframe$jscomp$58_loaded$jscomp$3$$.data))&&("play"==$iframe$jscomp$58_loaded$jscomp$3$$.event?
$$jscomp$this$jscomp$628$$.element.dispatchCustomEvent($VideoEvents$$module$src$video_interface$$.PLAYING):"pause"==$iframe$jscomp$58_loaded$jscomp$3$$.event?$$jscomp$this$jscomp$628$$.element.dispatchCustomEvent($VideoEvents$$module$src$video_interface$$.PAUSE):"mute"==$iframe$jscomp$58_loaded$jscomp$3$$.event?$$jscomp$this$jscomp$628$$.element.dispatchCustomEvent($VideoEvents$$module$src$video_interface$$.MUTED):"unmute"==$iframe$jscomp$58_loaded$jscomp$3$$.event&&$$jscomp$this$jscomp$628$$.element.dispatchCustomEvent($VideoEvents$$module$src$video_interface$$.UNMUTED))});
this.element.appendChild(this.$iframe_$);$iframe$jscomp$58_loaded$jscomp$3$$=this.loadPromise(this.$iframe_$).then(function(){$$jscomp$this$jscomp$628$$.element.dispatchCustomEvent($VideoEvents$$module$src$video_interface$$.LOAD)});this.$playerReadyResolver_$($iframe$jscomp$58_loaded$jscomp$3$$);return $iframe$jscomp$58_loaded$jscomp$3$$};$JSCompiler_prototypeAlias$$.pauseCallback=function(){this.$iframe_$&&this.pause()};$JSCompiler_prototypeAlias$$.unlayoutOnPause=function(){return!0};
$JSCompiler_prototypeAlias$$.unlayoutCallback=function(){this.$iframe_$&&($removeElement$$module$src$dom$$(this.$iframe_$),this.$iframe_$=null);this.$unlistenMessage_$&&this.$unlistenMessage_$();var $deferred$jscomp$42$$=new $Deferred$$module$src$utils$promise$$;this.$playerReadyPromise_$=$deferred$jscomp$42$$.promise;this.$playerReadyResolver_$=$deferred$jscomp$42$$.resolve;return!0};
$JSCompiler_prototypeAlias$$.$sendCommand_$=function($command$jscomp$5$$){var $$jscomp$this$jscomp$629$$=this;this.$playerReadyPromise_$.then(function(){$$jscomp$this$jscomp$629$$.$iframe_$&&$$jscomp$this$jscomp$629$$.$iframe_$.contentWindow&&$$jscomp$this$jscomp$629$$.$iframe_$.contentWindow.postMessage($dict$$module$src$utils$object$$({cmd:$command$jscomp$5$$}),"*")})};$JSCompiler_prototypeAlias$$.play=function(){this.$sendCommand_$("play")};$JSCompiler_prototypeAlias$$.pause=function(){this.$sendCommand_$("pause")};
$JSCompiler_prototypeAlias$$.mute=function(){this.$sendCommand_$("mute")};$JSCompiler_prototypeAlias$$.unmute=function(){this.$sendCommand_$("unmute")};$JSCompiler_prototypeAlias$$.supportsPlatform=function(){return!0};$JSCompiler_prototypeAlias$$.isInteractive=function(){return!0};$JSCompiler_prototypeAlias$$.showControls=function(){};$JSCompiler_prototypeAlias$$.hideControls=function(){};$JSCompiler_prototypeAlias$$.fullscreenEnter=function(){this.$iframe_$&&$fullscreenEnter$$module$src$dom$$(this.$iframe_$)};
$JSCompiler_prototypeAlias$$.fullscreenExit=function(){this.$iframe_$&&$fullscreenExit$$module$src$dom$$(this.$iframe_$)};$JSCompiler_prototypeAlias$$.isFullscreen=function(){return this.$iframe_$?$isFullscreenElement$$module$src$dom$$(this.$iframe_$):!1};$JSCompiler_prototypeAlias$$.getMetadata=function(){};$JSCompiler_prototypeAlias$$.preimplementsMediaSessionAPI=function(){return!1};$JSCompiler_prototypeAlias$$.preimplementsAutoFullscreen=function(){return!1};
$JSCompiler_prototypeAlias$$.getCurrentTime=function(){return 0};$JSCompiler_prototypeAlias$$.getDuration=function(){return 1};$JSCompiler_prototypeAlias$$.getPlayedRanges=function(){return[]};(function($AMP$jscomp$68$$){$AMP$jscomp$68$$.registerElement("amp-nexxtv-player",$AmpNexxtvPlayer$$module$extensions$amp_nexxtv_player$0_1$amp_nexxtv_player$$)})(self.AMP);})});
//# sourceMappingURL=extensions-amp-nexxtv-player-0.1-amp-nexxtv-player.js.map

