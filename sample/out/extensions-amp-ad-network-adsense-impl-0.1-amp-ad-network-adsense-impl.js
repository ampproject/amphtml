(self.AMP=self.AMP||[]).push({n:"extensions-amp-ad-network-adsense-impl-0.1-amp-ad-network-adsense-impl.js", v:"erwin", f:(function(){function $additionalDimensions$$module$ads$google$a4a$utils$$($win$jscomp$212$$,$viewportSize$jscomp$4$$){var $screenX$jscomp$3$$,$screenY$jscomp$3$$,$outerWidth$$,$outerHeight$$,$innerWidth$$,$innerHeight$$;try{$screenX$jscomp$3$$=$win$jscomp$212$$.screenX,$screenY$jscomp$3$$=$win$jscomp$212$$.screenY}catch($e$jscomp$113$$){}try{$outerWidth$$=$win$jscomp$212$$.outerWidth,$outerHeight$$=$win$jscomp$212$$.outerHeight}catch($e$127$$){}try{$innerWidth$$=$viewportSize$jscomp$4$$.width,$innerHeight$$=
$viewportSize$jscomp$4$$.height}catch($e$128$$){}return[$win$jscomp$212$$.screenLeft,$win$jscomp$212$$.screenTop,$screenX$jscomp$3$$,$screenY$jscomp$3$$,$win$jscomp$212$$.screen?$win$jscomp$212$$.screen.availWidth:void 0,$win$jscomp$212$$.screen?$win$jscomp$212$$.screen.availTop:void 0,$outerWidth$$,$outerHeight$$,$innerWidth$$,$innerHeight$$].join()}function $AdsenseSharedState$$module$extensions$amp_ad_network_adsense_impl$0_1$adsense_shared_state$$(){this.B=[]}
$AdsenseSharedState$$module$extensions$amp_ad_network_adsense_impl$0_1$adsense_shared_state$$.prototype.C=function($format$jscomp$11$$,$id$jscomp$46$$,$client$jscomp$1$$,$slotname$$){var $result$jscomp$21$$={pv:2,prevFmts:"",prevSlotnames:""};this.B.forEach(function($format$jscomp$11$$){$result$jscomp$21$$.prevFmts+=($result$jscomp$21$$.prevFmts?",":"")+$format$jscomp$11$$.format;$format$jscomp$11$$.slotname&&($result$jscomp$21$$.prevSlotnames+=($result$jscomp$21$$.prevSlotnames?",":"")+$format$jscomp$11$$.slotname);
$format$jscomp$11$$.client==$client$jscomp$1$$&&($result$jscomp$21$$.pv=1)});this.B.push({id:$id$jscomp$46$$,format:$format$jscomp$11$$,client:$client$jscomp$1$$,slotname:$slotname$$});return $result$jscomp$21$$};$AdsenseSharedState$$module$extensions$amp_ad_network_adsense_impl$0_1$adsense_shared_state$$.prototype.D=function($id$jscomp$47$$){this.B=this.B.filter(function($slot$jscomp$1$$){return $slot$jscomp$1$$.id!=$id$jscomp$47$$})};
$AdsenseSharedState$$module$extensions$amp_ad_network_adsense_impl$0_1$adsense_shared_state$$.prototype.reset=function(){this.B=[]};var $sharedState$$module$extensions$amp_ad_network_adsense_impl$0_1$amp_ad_network_adsense_impl$$=new $AdsenseSharedState$$module$extensions$amp_ad_network_adsense_impl$0_1$adsense_shared_state$$;
function $AmpAdNetworkAdsenseImpl$$module$extensions$amp_ad_network_adsense_impl$0_1$amp_ad_network_adsense_impl$$($$jscomp$super$this$jscomp$7_element$jscomp$223$$){$$jscomp$super$this$jscomp$7_element$jscomp$223$$=$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.call(this,$$jscomp$super$this$jscomp$7_element$jscomp$223$$)||this;$$jscomp$super$this$jscomp$7_element$jscomp$223$$.$lifecycleReporter_$=$$jscomp$super$this$jscomp$7_element$jscomp$223$$.$lifecycleReporter_$||$$jscomp$super$this$jscomp$7_element$jscomp$223$$.initLifecycleReporter();
$$jscomp$super$this$jscomp$7_element$jscomp$223$$.$uniqueSlotId_$=null;$$jscomp$super$this$jscomp$7_element$jscomp$223$$.$ampAnalyticsConfig_$=null;$$jscomp$super$this$jscomp$7_element$jscomp$223$$.$extensions_$=$Services$$module$src$services$extensionsFor$$($$jscomp$super$this$jscomp$7_element$jscomp$223$$.win);$$jscomp$super$this$jscomp$7_element$jscomp$223$$.$size_$=null;$$jscomp$super$this$jscomp$7_element$jscomp$223$$.$ampAnalyticsElement_$=null;$$jscomp$super$this$jscomp$7_element$jscomp$223$$.$qqid_$=
null;$$jscomp$super$this$jscomp$7_element$jscomp$223$$.$responsiveAligned_$=!1;$$jscomp$super$this$jscomp$7_element$jscomp$223$$.$autoFormat_$=null;$$jscomp$super$this$jscomp$7_element$jscomp$223$$.$identityTokenPromise_$=null;$$jscomp$super$this$jscomp$7_element$jscomp$223$$.$isAmpCreative_$=null;return $$jscomp$super$this$jscomp$7_element$jscomp$223$$}$$jscomp$inherits$$($AmpAdNetworkAdsenseImpl$$module$extensions$amp_ad_network_adsense_impl$0_1$amp_ad_network_adsense_impl$$,$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$);
$JSCompiler_prototypeAlias$$=$AmpAdNetworkAdsenseImpl$$module$extensions$amp_ad_network_adsense_impl$0_1$amp_ad_network_adsense_impl$$.prototype;
$JSCompiler_prototypeAlias$$.isValidElement=function(){if("rspv"==this.$autoFormat_$){if(!this.element.hasAttribute("data-full-width"))return $user$$module$src$log$$().warn("amp-ad-network-adsense-impl","Responsive AdSense ad units require the attribute data-full-width."),!1;var $height$jscomp$27$$=this.element.getAttribute("height"),$width$jscomp$29$$=this.element.getAttribute("width");if(320!=$height$jscomp$27$$)return $user$$module$src$log$$().warn("amp-ad-network-adsense-impl","Specified height "+
$height$jscomp$27$$+" in <amp-ad> tag is not equal to the required height of 320 for responsive AdSense ad units."),!1;if("100vw"!=$width$jscomp$29$$)return $user$$module$src$log$$().warn("amp-ad-network-adsense-impl","Invalid width "+$width$jscomp$29$$+" for full-width responsive <amp-ad> tag. Width must be 100vw."),!1}return!!this.element.getAttribute("data-ad-client")&&this.isAmpAdElement()};$JSCompiler_prototypeAlias$$.delayAdRequestEnabled=function(){return!0};
$JSCompiler_prototypeAlias$$.buildCallback=function(){var $$jscomp$this$jscomp$270$$=this;$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.buildCallback.call(this);this.$identityTokenPromise_$=$Services$$module$src$services$viewerForDoc$$(this.getAmpDoc()).whenFirstVisible().then(function(){return $getIdentityToken$$module$ads$google$a4a$utils$$($$jscomp$this$jscomp$270$$.win,$$jscomp$this$jscomp$270$$.getAmpDoc())});this.$autoFormat_$=this.element.getAttribute("data-auto-format")||"";if("rspv"==
this.$autoFormat_$){var $viewportSize$jscomp$5$$=this.getViewport().getSize();return this.attemptChangeSize($AmpAdNetworkAdsenseImpl$$module$extensions$amp_ad_network_adsense_impl$0_1$amp_ad_network_adsense_impl$getResponsiveHeightForContext_$$($viewportSize$jscomp$5$$),$viewportSize$jscomp$5$$.width).catch(function(){})}};$JSCompiler_prototypeAlias$$.getConsentPolicy=function(){return null};
$JSCompiler_prototypeAlias$$.getAdUrl=function($consentState$jscomp$2$$){var $$jscomp$this$jscomp$271$$=this;if(4==$consentState$jscomp$2$$&&"true"!=this.element.getAttribute("data-npa-on-unknown-consent"))return $user$$module$src$log$$().$Log$$module$src$log_prototype$info$("amp-ad-network-adsense-impl","Ad request suppressed due to unknown consent"),Promise.resolve("");var $startTime$jscomp$16$$=Date.now(),$global$jscomp$9$$=this.win,$adClientId$$=this.element.getAttribute("data-ad-client"),$adClientId$$=
$adClientId$$.toLowerCase();"ca-"!=$adClientId$$.substring(0,3)&&($adClientId$$="ca-"+$adClientId$$);var $adTestOn$$=this.element.getAttribute("data-adtest")||$isInExperiment$$module$ads$google$a4a$traffic_experiments$$(this.element),$width$jscomp$30$$=Number(this.element.getAttribute("width")),$height$jscomp$28$$=Number(this.element.getAttribute("height")),$adsenseFormatExpName$$="as-use-attr-for-format",$experimentInfoMap$jscomp$2_format$jscomp$12$$={};$experimentInfoMap$jscomp$2_format$jscomp$12$$[$adsenseFormatExpName$$]=
{isTrafficEligible:function(){return"rspv"!=$$jscomp$this$jscomp$271$$.$autoFormat_$&&!isNaN($width$jscomp$30$$)&&0<$width$jscomp$30$$&&!isNaN($height$jscomp$28$$)&&0<$height$jscomp$28$$},branches:["21062003","21062004"]};var $adsenseFormatExpId$$=$randomlySelectUnsetExperiments$$module$src$experiments$$(this.win,$experimentInfoMap$jscomp$2_format$jscomp$12$$)[$adsenseFormatExpName$$];$addExperimentIdToElement$$module$ads$google$a4a$traffic_experiments$$($adsenseFormatExpId$$,this.element);this.$size_$=
"21062004"==$adsenseFormatExpId$$?{width:$width$jscomp$30$$,height:$height$jscomp$28$$}:this.getIntersectionElementLayoutBox();var $experimentInfoMap$jscomp$2_format$jscomp$12$$=this.$size_$.width+"x"+this.$size_$.height,$slotId$jscomp$3_slotname$jscomp$1$$=this.element.getAttribute("data-amp-slot-index"),$adk$$=this.$adKey_$($experimentInfoMap$jscomp$2_format$jscomp$12$$);this.$uniqueSlotId_$=$slotId$jscomp$3_slotname$jscomp$1$$+$adk$$;var $slotId$jscomp$3_slotname$jscomp$1$$=this.element.getAttribute("data-ad-slot"),
$sharedStateParams$$=$sharedState$$module$extensions$amp_ad_network_adsense_impl$0_1$amp_ad_network_adsense_impl$$.C($experimentInfoMap$jscomp$2_format$jscomp$12$$,this.$uniqueSlotId_$,$adClientId$$,$slotId$jscomp$3_slotname$jscomp$1$$),$viewportSize$jscomp$6$$=this.getViewport().getSize();this.win.ampAdGoogleIfiCounter=this.win.ampAdGoogleIfiCounter||1;var $enclosingContainers$jscomp$1$$=$getEnclosingContainerTypes$$module$ads$google$a4a$utils$$(this.element),$pfx$$=$enclosingContainers$jscomp$1$$.includes($ValidAdContainerTypes$$module$ads$google$a4a$utils$$["AMP-FX-FLYING-CARPET"])||
$enclosingContainers$jscomp$1$$.includes($ValidAdContainerTypes$$module$ads$google$a4a$utils$$["AMP-STICKY-AD"]),$parameters$jscomp$2$$={client:$adClientId$$,format:$experimentInfoMap$jscomp$2_format$jscomp$12$$,w:this.$size_$.width,h:this.$size_$.height,iu:$slotId$jscomp$3_slotname$jscomp$1$$,npa:2==$consentState$jscomp$2$$||4==$consentState$jscomp$2$$?1:null,adtest:$adTestOn$$?"on":null,adk:$adk$$,output:"html",bc:$global$jscomp$9$$.SVGElement&&$global$jscomp$9$$.document.createElementNS?"1":null,
ctypes:$JSCompiler_StaticMethods_getCtypes_$$(),host:this.element.getAttribute("data-ad-host"),hl:this.element.getAttribute("data-language"),to:this.element.getAttribute("data-tag-origin"),pv:$sharedStateParams$$.pv,channel:this.element.getAttribute("data-ad-channel"),wgl:$global$jscomp$9$$.WebGLRenderingContext?"1":"0",asnt:this.sentinel,dff:$computedStyle$$module$src$style$$(this.win,this.element)["font-family"],prev_fmts:$sharedStateParams$$.prevFmts||null,prev_slotnames:$sharedStateParams$$.prevSlotnames||
null,brdim:$additionalDimensions$$module$ads$google$a4a$utils$$(this.win,$viewportSize$jscomp$6$$),ifi:this.win.ampAdGoogleIfiCounter++,rc:this.fromResumeCallback?1:null,rafmt:"rspv"==this.$autoFormat_$?13:null,pfx:$pfx$$?"1":"0",crui:this.element.getAttribute("data-matched-content-ui-type"),cr_row:this.element.getAttribute("data-matched-content-rows-num"),cr_col:this.element.getAttribute("data-matched-content-columns-num"),pwprc:this.element.getAttribute("data-package")},$experimentIds$jscomp$1$$=
[],$ampAutoAdsBranch$$=$getAdSenseAmpAutoAdsExpBranch$$module$ads$google$adsense_amp_auto_ads$$(this.win);$ampAutoAdsBranch$$&&$experimentIds$jscomp$1$$.push($ampAutoAdsBranch$$);var $identityPromise$$=$Services$$module$src$services$timerFor$$(this.win).timeoutPromise(1E3,this.$identityTokenPromise_$).catch(function(){return{}});return $identityPromise$$.then(function($consentState$jscomp$2$$){return $googleAdUrl$$module$ads$google$a4a$utils$$($$jscomp$this$jscomp$271$$,"https://googleads.g.doubleclick.net/pagead/ads",
$startTime$jscomp$16$$,Object.assign({adsid:$consentState$jscomp$2$$.token||null,jar:$consentState$jscomp$2$$.jar||null,pucrd:$consentState$jscomp$2$$.pucrd||null},$parameters$jscomp$2$$),$experimentIds$jscomp$1$$)})};$JSCompiler_prototypeAlias$$.onNetworkFailure=function($error$jscomp$44$$,$adUrl$jscomp$5$$){$dev$$module$src$log$$().$Log$$module$src$log_prototype$info$("amp-ad-network-adsense-impl","network error, attempt adding of error parameter",$error$jscomp$44$$);return{adUrl:$maybeAppendErrorParameter$$module$ads$google$a4a$utils$$($adUrl$jscomp$5$$)}};
$JSCompiler_prototypeAlias$$.extractSize=function($responseHeaders$jscomp$2$$){$setGoogleLifecycleVarsFromHeaders$$module$ads$google$a4a$google_data_reporter$$($responseHeaders$jscomp$2$$,this.$lifecycleReporter_$);this.$ampAnalyticsConfig_$=$extractAmpAnalyticsConfig$$module$ads$google$a4a$utils$$($responseHeaders$jscomp$2$$);this.$qqid_$=$responseHeaders$jscomp$2$$.get("X-QQID");this.$ampAnalyticsConfig_$&&this.$extensions_$.installExtensionForDoc(this.getAmpDoc(),"amp-analytics");return this.$size_$};
$JSCompiler_prototypeAlias$$.$adKey_$=function($format$jscomp$13_string$jscomp$11$$){var $element$jscomp$224$$=this.element;$format$jscomp$13_string$jscomp$11$$=($element$jscomp$224$$.getAttribute("data-ad-slot")||"")+":"+$format$jscomp$13_string$jscomp$11$$+":"+$domFingerprintPlain$$module$src$utils$dom_fingerprint$$($element$jscomp$224$$);return $stringHash32$$module$src$string$$($format$jscomp$13_string$jscomp$11$$)};
function $JSCompiler_StaticMethods_getCtypes_$$(){var $ctypesReMatch$$;return null}$JSCompiler_prototypeAlias$$.emitLifecycleEvent=function($eventName$jscomp$2$$,$opt_extraVariables$jscomp$1$$){$opt_extraVariables$jscomp$1$$&&this.$lifecycleReporter_$.setPingParameters($opt_extraVariables$jscomp$1$$);this.$lifecycleReporter_$.sendPing($eventName$jscomp$2$$)};$JSCompiler_prototypeAlias$$.initLifecycleReporter=function(){return $googleLifecycleReporterFactory$$module$ads$google$a4a$google_data_reporter$$(this)};
$JSCompiler_prototypeAlias$$.onCreativeRender=function($creativeMetaData$jscomp$3$$){$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.onCreativeRender.call(this,$creativeMetaData$jscomp$3$$);this.$isAmpCreative_$=!!$creativeMetaData$jscomp$3$$;$creativeMetaData$jscomp$3$$&&!$creativeMetaData$jscomp$3$$.customElementExtensions.includes("amp-ad-exit")&&$Navigation$$module$src$service$navigation$installAnchorClickInterceptor$$(this.getAmpDoc(),this.iframe.contentWindow);this.$ampAnalyticsConfig_$&&
($isReportingEnabled$$module$ads$google$a4a$utils$$(this)&&$addCsiSignalsToAmpAnalyticsConfig$$module$ads$google$a4a$utils$$(this.win,this.element,this.$ampAnalyticsConfig_$,this.$qqid_$,!!$creativeMetaData$jscomp$3$$,this.$lifecycleReporter_$.getDeltaTime(),this.$lifecycleReporter_$.getInitTime()),this.$ampAnalyticsElement_$=$insertAnalyticsElement$$module$src$extension_analytics$$(this.element,this.$ampAnalyticsConfig_$,!!this.postAdResponseExperimentFeatures.avr_disable_immediate));this.$lifecycleReporter_$.addPingsForVisibility(this.element);
$setStyles$$module$src$style$$(this.iframe,{width:this.$size_$.width+"px",height:this.$size_$.height+"px"})};
$JSCompiler_prototypeAlias$$.unlayoutCallback=function(){switch(this.postAdResponseExperimentFeatures.unlayout_exp){case "all":this.$isAmpCreative_$=!1;break;case "remain":if(this.$qqid_$&&null===this.$isAmpCreative_$)return $dev$$module$src$log$$().$Log$$module$src$log_prototype$info$("amp-ad-network-adsense-impl","unlayoutCallback - unrendered creative can remain"),!1}if(this.$isAmpCreative_$)return!1;var $superResult$$=$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.unlayoutCallback.call(this);
this.element.setAttribute("data-amp-slot-index",this.win.ampAdSlotIdCounter++);this.$lifecycleReporter_$=this.initLifecycleReporter();this.$uniqueSlotId_$&&$sharedState$$module$extensions$amp_ad_network_adsense_impl$0_1$amp_ad_network_adsense_impl$$.D(this.$uniqueSlotId_$);this.$ampAnalyticsElement_$&&($removeElement$$module$src$dom$$(this.$ampAnalyticsElement_$),this.$ampAnalyticsElement_$=null);this.$isAmpCreative_$=this.$qqid_$=this.$ampAnalyticsConfig_$=null;return $superResult$$};
$JSCompiler_prototypeAlias$$.onLayoutMeasure=function(){var $$jscomp$this$jscomp$272$$=this;$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.onLayoutMeasure.call(this);if("rspv"==this.$autoFormat_$&&!this.$responsiveAligned_$){this.$responsiveAligned_$=!0;var $layoutBox$jscomp$3$$=this.getLayoutBox();this.getVsync().run({measure:function($layoutBox$jscomp$3$$){$layoutBox$jscomp$3$$.direction=$computedStyle$$module$src$style$$($$jscomp$this$jscomp$272$$.win,$$jscomp$this$jscomp$272$$.element).direction},
mutate:function($state$jscomp$38$$){"rtl"==$state$jscomp$38$$.direction?$setStyle$$module$src$style$$($$jscomp$this$jscomp$272$$.element,"marginRight",$layoutBox$jscomp$3$$.left,"px"):$setStyle$$module$src$style$$($$jscomp$this$jscomp$272$$.element,"marginLeft",-$layoutBox$jscomp$3$$.left,"px")}},{direction:""})}};$JSCompiler_prototypeAlias$$.getPreconnectUrls=function(){this.preconnect.preload($getDefaultBootstrapBaseUrl$$module$src$3p_frame$$(this.win,"nameframe"));return["https://googleads.g.doubleclick.net"]};
$JSCompiler_prototypeAlias$$.getA4aAnalyticsVars=function($analyticsTrigger$jscomp$1$$){return $getCsiAmpAnalyticsVariables$$module$ads$google$a4a$utils$$($analyticsTrigger$jscomp$1$$,this,this.$qqid_$)};$JSCompiler_prototypeAlias$$.getA4aAnalyticsConfig=function(){return $getCsiAmpAnalyticsConfig$$module$ads$google$a4a$utils$$()};
function $AmpAdNetworkAdsenseImpl$$module$extensions$amp_ad_network_adsense_impl$0_1$amp_ad_network_adsense_impl$getResponsiveHeightForContext_$$($viewportSize$jscomp$7$$){var $minHeight$$=100,$maxHeight$$=Math.min(300,$viewportSize$jscomp$7$$.height),$idealHeight$$=Math.round($viewportSize$jscomp$7$$.width/1.2);return $clamp$$module$src$utils$math$$($idealHeight$$,$minHeight$$,$maxHeight$$)}(function($AMP$jscomp$8$$){$AMP$jscomp$8$$.registerElement("amp-ad-network-adsense-impl",$AmpAdNetworkAdsenseImpl$$module$extensions$amp_ad_network_adsense_impl$0_1$amp_ad_network_adsense_impl$$)})(self.AMP);})});
//# sourceMappingURL=extensions-amp-ad-network-adsense-impl-0.1-amp-ad-network-adsense-impl.js.map

