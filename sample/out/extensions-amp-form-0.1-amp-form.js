(self.AMP=self.AMP||[]).push({n:"extensions-amp-form-0.1-amp-form.js", v:"erwin", f:(function(){function $getFormAsObject$$module$src$form$$($form$jscomp$2_inputs$jscomp$1$$){var $data$jscomp$52$$={};$form$jscomp$2_inputs$jscomp$1$$=$form$jscomp$2_inputs$jscomp$1$$.elements;for(var $submittableTagsRegex$$=/^(?:input|select|textarea)$/i,$unsubmittableTypesRegex$$=/^(?:button|image|file|reset)$/i,$checkableType$$=/^(?:checkbox|radio)$/i,$i$jscomp$127$$=0;$i$jscomp$127$$<$form$jscomp$2_inputs$jscomp$1$$.length;$i$jscomp$127$$++){var $input$jscomp$7$$=$form$jscomp$2_inputs$jscomp$1$$[$i$jscomp$127$$],
$JSCompiler_ancestors$jscomp$inline_1864_JSCompiler_inline_result$jscomp$436_JSCompiler_temp$jscomp$435$$;if($JSCompiler_ancestors$jscomp$inline_1864_JSCompiler_inline_result$jscomp$436_JSCompiler_temp$jscomp$435$$=$input$jscomp$7$$.name){a:if($input$jscomp$7$$.disabled)$JSCompiler_ancestors$jscomp$inline_1864_JSCompiler_inline_result$jscomp$436_JSCompiler_temp$jscomp$435$$=!0;else{$JSCompiler_ancestors$jscomp$inline_1864_JSCompiler_inline_result$jscomp$436_JSCompiler_temp$jscomp$435$$=$ancestorElementsByTag$$module$src$dom$$($input$jscomp$7$$,
"fieldset");for(var $JSCompiler_i$jscomp$inline_1865$$=0;$JSCompiler_i$jscomp$inline_1865$$<$JSCompiler_ancestors$jscomp$inline_1864_JSCompiler_inline_result$jscomp$436_JSCompiler_temp$jscomp$435$$.length;$JSCompiler_i$jscomp$inline_1865$$++)if($JSCompiler_ancestors$jscomp$inline_1864_JSCompiler_inline_result$jscomp$436_JSCompiler_temp$jscomp$435$$[$JSCompiler_i$jscomp$inline_1865$$].disabled){$JSCompiler_ancestors$jscomp$inline_1864_JSCompiler_inline_result$jscomp$436_JSCompiler_temp$jscomp$435$$=
!0;break a}$JSCompiler_ancestors$jscomp$inline_1864_JSCompiler_inline_result$jscomp$436_JSCompiler_temp$jscomp$435$$=!1}$JSCompiler_ancestors$jscomp$inline_1864_JSCompiler_inline_result$jscomp$436_JSCompiler_temp$jscomp$435$$=!$JSCompiler_ancestors$jscomp$inline_1864_JSCompiler_inline_result$jscomp$436_JSCompiler_temp$jscomp$435$$}!$JSCompiler_ancestors$jscomp$inline_1864_JSCompiler_inline_result$jscomp$436_JSCompiler_temp$jscomp$435$$||!$submittableTagsRegex$$.test($input$jscomp$7$$.tagName)||$unsubmittableTypesRegex$$.test($input$jscomp$7$$.type)||
$checkableType$$.test($input$jscomp$7$$.type)&&!$input$jscomp$7$$.checked||(void 0===$data$jscomp$52$$[$input$jscomp$7$$.name]&&($data$jscomp$52$$[$input$jscomp$7$$.name]=[]),$data$jscomp$52$$[$input$jscomp$7$$.name].push($input$jscomp$7$$.value))}return $data$jscomp$52$$}
function $FormDataWrapper$$module$src$form_data_wrapper$$($opt_form$jscomp$2$$){this.B=new FormData($opt_form$jscomp$2$$);this.C=this.B.entries?null:$opt_form$jscomp$2$$?$getFormAsObject$$module$src$form$$($opt_form$jscomp$2$$):$map$$module$src$utils$object$$()}
$FormDataWrapper$$module$src$form_data_wrapper$$.prototype.entries=function(){if(this.B.entries)return this.B.entries();var $fieldEntries$$=[],$fieldValues$$=this.C;Object.keys($fieldValues$$).forEach(function($nextIndex$$){$fieldValues$$[$nextIndex$$].forEach(function($fieldValues$$){return $fieldEntries$$.push([$nextIndex$$,$fieldValues$$])})});var $nextIndex$$=0;return{next:function(){return $nextIndex$$<$fieldEntries$$.length?{value:$fieldEntries$$[$nextIndex$$++],done:!1}:{value:void 0,done:!0}}}};
$FormDataWrapper$$module$src$form_data_wrapper$$.prototype.getFormData=function(){return this.B};function $LastAddedResolver$$module$src$utils$promise$$($opt_promises$$){var $resolve_$$,$reject_$$;this.C=new Promise(function($opt_promises$$,$i$jscomp$46$$){$resolve_$$=$opt_promises$$;$reject_$$=$i$jscomp$46$$});this.F=$resolve_$$;this.D=$reject_$$;this.B=0;if($opt_promises$$)for(var $i$jscomp$46$$=0;$i$jscomp$46$$<$opt_promises$$.length;$i$jscomp$46$$++)this.add($opt_promises$$[$i$jscomp$46$$])}
$LastAddedResolver$$module$src$utils$promise$$.prototype.add=function($promise$jscomp$1$$){var $$jscomp$this$$=this,$countAtAdd$$=++this.B;Promise.resolve($promise$jscomp$1$$).then(function($promise$jscomp$1$$){$$jscomp$this$$.B===$countAtAdd$$&&$$jscomp$this$$.F($promise$jscomp$1$$)},function($promise$jscomp$1$$){$$jscomp$this$$.B===$countAtAdd$$&&$$jscomp$this$$.D($promise$jscomp$1$$)});return this.C};
$LastAddedResolver$$module$src$utils$promise$$.prototype.then=function($opt_resolve$$,$opt_reject$$){return this.C.then($opt_resolve$$,$opt_reject$$)};function $installFormProxy$$module$extensions$amp_form$0_1$form_proxy$$($form$jscomp$3$$){var $JSCompiler_win$jscomp$inline_1867_proxy$jscomp$1$$=$form$jscomp$3$$.ownerDocument.defaultView;$JSCompiler_win$jscomp$inline_1867_proxy$jscomp$1$$.J||($JSCompiler_win$jscomp$inline_1867_proxy$jscomp$1$$.J=$createFormProxyConstr$$module$extensions$amp_form$0_1$form_proxy$$($JSCompiler_win$jscomp$inline_1867_proxy$jscomp$1$$));var $constr$$=$JSCompiler_win$jscomp$inline_1867_proxy$jscomp$1$$.J,$JSCompiler_win$jscomp$inline_1867_proxy$jscomp$1$$=
new $constr$$($form$jscomp$3$$);"action"in $JSCompiler_win$jscomp$inline_1867_proxy$jscomp$1$$||$setupLegacyProxy$$module$extensions$amp_form$0_1$form_proxy$$($form$jscomp$3$$,$JSCompiler_win$jscomp$inline_1867_proxy$jscomp$1$$);$form$jscomp$3$$.$p=$JSCompiler_win$jscomp$inline_1867_proxy$jscomp$1$$}
function $createFormProxyConstr$$module$extensions$amp_form$0_1$form_proxy$$($win$jscomp$293$$){function $FormProxy$$($win$jscomp$293$$){this.$form_$=$win$jscomp$293$$}var $FormProxyProto$$=$FormProxy$$.prototype,$inheritance$$=[$win$jscomp$293$$.HTMLFormElement,$win$jscomp$293$$.HTMLElement,$win$jscomp$293$$.Element,$win$jscomp$293$$.Node,$win$jscomp$293$$.EventTarget];$inheritance$$.forEach(function($FormProxy$$){var $inheritance$$=$FormProxy$$&&$FormProxy$$.prototype;$FormProxy$$={};for(var $$jscomp$loop$207_klass$jscomp$3$$ in $inheritance$$)if($FormProxy$$.property=
$win$jscomp$293$$.Object.getOwnPropertyDescriptor($inheritance$$,$$jscomp$loop$207_klass$jscomp$3$$),$FormProxy$$.property&&$$jscomp$loop$207_klass$jscomp$3$$.toUpperCase()!=$$jscomp$loop$207_klass$jscomp$3$$&&!$startsWith$$module$src$string$$($$jscomp$loop$207_klass$jscomp$3$$,"on")&&!$win$jscomp$293$$.Object.prototype.hasOwnProperty.call($FormProxyProto$$,$$jscomp$loop$207_klass$jscomp$3$$)){if("function"==typeof $FormProxy$$.property.value)$FormProxy$$.method=$FormProxy$$.property.value,$FormProxyProto$$[$$jscomp$loop$207_klass$jscomp$3$$]=
function($win$jscomp$293$$){return function(){return $win$jscomp$293$$.method.apply(this.$form_$,arguments)}}($FormProxy$$);else{var $spec$jscomp$34$$={};$FormProxy$$.property.get&&($spec$jscomp$34$$.get=function($win$jscomp$293$$){return function(){return $win$jscomp$293$$.property.get.call(this.$form_$)}}($FormProxy$$));$FormProxy$$.property.set&&($spec$jscomp$34$$.set=function($win$jscomp$293$$){return function($FormProxy$$){return $win$jscomp$293$$.property.set.call(this.$form_$,$FormProxy$$)}}($FormProxy$$));
$win$jscomp$293$$.Object.defineProperty($FormProxyProto$$,$$jscomp$loop$207_klass$jscomp$3$$,$spec$jscomp$34$$)}$FormProxy$$={method:$FormProxy$$.method,property:$FormProxy$$.property}}});return $FormProxy$$}
function $setupLegacyProxy$$module$extensions$amp_form$0_1$form_proxy$$($form$jscomp$5$$,$proxy$jscomp$2$$){var $current$jscomp$4_element$jscomp$307_proto$jscomp$9$$=$form$jscomp$5$$.ownerDocument.defaultView.HTMLFormElement.prototype.cloneNode.call($form$jscomp$5$$,!1),$$jscomp$loop$208$$={},$name$jscomp$196$$;for($name$jscomp$196$$ in $current$jscomp$4_element$jscomp$307_proto$jscomp$9$$)if($$jscomp$loop$208$$.name=$name$jscomp$196$$,!($$jscomp$loop$208$$.name in $proxy$jscomp$2$$||$$jscomp$loop$208$$.name.toUpperCase()==
$$jscomp$loop$208$$.name||$startsWith$$module$src$string$$($$jscomp$loop$208$$.name,"on"))){$$jscomp$loop$208$$.desc=$LEGACY_PROPS$$module$extensions$amp_form$0_1$form_proxy$$[$$jscomp$loop$208$$.name];$current$jscomp$4_element$jscomp$307_proto$jscomp$9$$=$form$jscomp$5$$[$$jscomp$loop$208$$.name];if($$jscomp$loop$208$$.desc)if($$jscomp$loop$208$$.desc.access==$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$READ_ONCE$$){$$jscomp$loop$208$$.actual=void 0;if($current$jscomp$4_element$jscomp$307_proto$jscomp$9$$&&
$current$jscomp$4_element$jscomp$307_proto$jscomp$9$$.nodeType){var $$jscomp$destructuring$var294_parent$jscomp$37$$=$current$jscomp$4_element$jscomp$307_proto$jscomp$9$$,$nextSibling$$=$$jscomp$destructuring$var294_parent$jscomp$37$$.nextSibling,$$jscomp$destructuring$var294_parent$jscomp$37$$=$$jscomp$destructuring$var294_parent$jscomp$37$$.parentNode;$$jscomp$destructuring$var294_parent$jscomp$37$$.removeChild($current$jscomp$4_element$jscomp$307_proto$jscomp$9$$);try{$$jscomp$loop$208$$.actual=
$form$jscomp$5$$[$$jscomp$loop$208$$.name]}finally{$$jscomp$destructuring$var294_parent$jscomp$37$$.insertBefore($current$jscomp$4_element$jscomp$307_proto$jscomp$9$$,$nextSibling$$)}}else $$jscomp$loop$208$$.actual=$current$jscomp$4_element$jscomp$307_proto$jscomp$9$$;Object.defineProperty($proxy$jscomp$2$$,$$jscomp$loop$208$$.name,{get:function($form$jscomp$5$$){return function(){return $form$jscomp$5$$.actual}}($$jscomp$loop$208$$)})}else $$jscomp$loop$208$$.desc.access==$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$&&
($$jscomp$loop$208$$.attr=$$jscomp$loop$208$$.desc.attr||$$jscomp$loop$208$$.name,Object.defineProperty($proxy$jscomp$2$$,$$jscomp$loop$208$$.name,{get:function($current$jscomp$4_element$jscomp$307_proto$jscomp$9$$){return function(){var $$jscomp$loop$208$$=$proxy$jscomp$2$$.getAttribute($current$jscomp$4_element$jscomp$307_proto$jscomp$9$$.attr);return null==$$jscomp$loop$208$$&&void 0!==$current$jscomp$4_element$jscomp$307_proto$jscomp$9$$.desc.def?$current$jscomp$4_element$jscomp$307_proto$jscomp$9$$.desc.def:
$current$jscomp$4_element$jscomp$307_proto$jscomp$9$$.desc.type==$LegacyPropDataType$$module$extensions$amp_form$0_1$form_proxy$BOOL$$?"true"===$$jscomp$loop$208$$:$current$jscomp$4_element$jscomp$307_proto$jscomp$9$$.desc.type==$LegacyPropDataType$$module$extensions$amp_form$0_1$form_proxy$TOGGLE$$?null!=$$jscomp$loop$208$$:$current$jscomp$4_element$jscomp$307_proto$jscomp$9$$.desc.type==$LegacyPropDataType$$module$extensions$amp_form$0_1$form_proxy$URL$$?($$jscomp$loop$208$$=$$jscomp$loop$208$$||
"",$Services$$module$src$services$urlForDoc$$($form$jscomp$5$$).parse($$jscomp$loop$208$$).href):$$jscomp$loop$208$$}}($$jscomp$loop$208$$),set:function($form$jscomp$5$$){return function($current$jscomp$4_element$jscomp$307_proto$jscomp$9$$){$form$jscomp$5$$.desc.type==$LegacyPropDataType$$module$extensions$amp_form$0_1$form_proxy$TOGGLE$$&&($current$jscomp$4_element$jscomp$307_proto$jscomp$9$$?$current$jscomp$4_element$jscomp$307_proto$jscomp$9$$="":$current$jscomp$4_element$jscomp$307_proto$jscomp$9$$=
null);null!=$current$jscomp$4_element$jscomp$307_proto$jscomp$9$$?$proxy$jscomp$2$$.setAttribute($form$jscomp$5$$.attr,$current$jscomp$4_element$jscomp$307_proto$jscomp$9$$):$proxy$jscomp$2$$.removeAttribute($form$jscomp$5$$.attr)}}($$jscomp$loop$208$$)}));else Object.defineProperty($proxy$jscomp$2$$,$$jscomp$loop$208$$.name,{get:function($proxy$jscomp$2$$){return function(){return $form$jscomp$5$$[$proxy$jscomp$2$$.name]}}($$jscomp$loop$208$$),set:function($proxy$jscomp$2$$){return function($current$jscomp$4_element$jscomp$307_proto$jscomp$9$$){$form$jscomp$5$$[$proxy$jscomp$2$$.name]=
$current$jscomp$4_element$jscomp$307_proto$jscomp$9$$}}($$jscomp$loop$208$$)});$$jscomp$loop$208$$={actual:$$jscomp$loop$208$$.actual,attr:$$jscomp$loop$208$$.attr,desc:$$jscomp$loop$208$$.desc,name:$$jscomp$loop$208$$.name}}}
var $LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$=1,$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$READ_ONCE$$=2,$LegacyPropDataType$$module$extensions$amp_form$0_1$form_proxy$URL$$=1,$LegacyPropDataType$$module$extensions$amp_form$0_1$form_proxy$BOOL$$=2,$LegacyPropDataType$$module$extensions$amp_form$0_1$form_proxy$TOGGLE$$=3,$LEGACY_PROPS$$module$extensions$amp_form$0_1$form_proxy$$={acceptCharset:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$,
attr:"accept-charset"},accessKey:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$,attr:"accesskey"},action:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$,type:$LegacyPropDataType$$module$extensions$amp_form$0_1$form_proxy$URL$$},attributes:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$READ_ONCE$$},autocomplete:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$,def:"on"},children:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$READ_ONCE$$},
dataset:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$READ_ONCE$$},dir:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$},draggable:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$,type:$LegacyPropDataType$$module$extensions$amp_form$0_1$form_proxy$BOOL$$,def:!1},elements:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$READ_ONCE$$},encoding:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$READ_ONCE$$},
enctype:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$},hidden:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$,type:$LegacyPropDataType$$module$extensions$amp_form$0_1$form_proxy$TOGGLE$$,def:!1},id:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$,def:""},lang:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$},localName:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$READ_ONCE$$},
method:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$,def:"get"},name:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$},noValidate:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$,attr:"novalidate",type:$LegacyPropDataType$$module$extensions$amp_form$0_1$form_proxy$TOGGLE$$,def:!1},prefix:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$READ_ONCE$$},spellcheck:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$},
style:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$READ_ONCE$$},target:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$,def:""},title:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$},translate:{access:$LegacyPropAccessType$$module$extensions$amp_form$0_1$form_proxy$ATTR$$}};function $getFormVerifier$$module$extensions$amp_form$0_1$form_verifiers$$($form$jscomp$6$$,$xhr$jscomp$9$$){return $form$jscomp$6$$.hasAttribute("verify-xhr")?new $AsyncVerifier$$module$extensions$amp_form$0_1$form_verifiers$$($form$jscomp$6$$,$xhr$jscomp$9$$):new $DefaultVerifier$$module$extensions$amp_form$0_1$form_verifiers$$($form$jscomp$6$$)}function $FormVerifier$$module$extensions$amp_form$0_1$form_verifiers$$($form$jscomp$7$$){this.$form_$=$form$jscomp$7$$}
$FormVerifier$$module$extensions$amp_form$0_1$form_verifiers$$.prototype.G=function(){$JSCompiler_StaticMethods_clearVerificationErrors_$$(this);return $JSCompiler_StaticMethods_isDirty_$$(this)?this.C():Promise.resolve([])};$FormVerifier$$module$extensions$amp_form$0_1$form_verifiers$$.prototype.C=function(){return Promise.resolve([])};
function $JSCompiler_StaticMethods_isDirty_$$($JSCompiler_StaticMethods_isDirty_$self_elements$jscomp$24$$){$JSCompiler_StaticMethods_isDirty_$self_elements$jscomp$24$$=$JSCompiler_StaticMethods_isDirty_$self_elements$jscomp$24$$.$form_$.elements;for(var $i$jscomp$283$$=0;$i$jscomp$283$$<$JSCompiler_StaticMethods_isDirty_$self_elements$jscomp$24$$.length;$i$jscomp$283$$++){var $field$jscomp$6_options$jscomp$23$$=$JSCompiler_StaticMethods_isDirty_$self_elements$jscomp$24$$[$i$jscomp$283$$];if(!$field$jscomp$6_options$jscomp$23$$.disabled)switch($field$jscomp$6_options$jscomp$23$$.type){case "select-multiple":case "select-one":for(var $field$jscomp$6_options$jscomp$23$$=
$field$jscomp$6_options$jscomp$23$$.options,$j$jscomp$35$$=0;$j$jscomp$35$$<$field$jscomp$6_options$jscomp$23$$.length;$j$jscomp$35$$++)if($field$jscomp$6_options$jscomp$23$$[$j$jscomp$35$$].selected!==$field$jscomp$6_options$jscomp$23$$[$j$jscomp$35$$].defaultSelected)return!0;break;case "checkbox":case "radio":if($field$jscomp$6_options$jscomp$23$$.checked!==$field$jscomp$6_options$jscomp$23$$.defaultChecked)return!0;break;default:if($field$jscomp$6_options$jscomp$23$$.value!==$field$jscomp$6_options$jscomp$23$$.defaultValue)return!0}}return!1}
function $JSCompiler_StaticMethods_clearVerificationErrors_$$($JSCompiler_StaticMethods_clearVerificationErrors_$self_elements$jscomp$25$$){($JSCompiler_StaticMethods_clearVerificationErrors_$self_elements$jscomp$25$$=$JSCompiler_StaticMethods_clearVerificationErrors_$self_elements$jscomp$25$$.$form_$.elements)&&$iterateCursor$$module$src$dom$$($JSCompiler_StaticMethods_clearVerificationErrors_$self_elements$jscomp$25$$,function($JSCompiler_StaticMethods_clearVerificationErrors_$self_elements$jscomp$25$$){$JSCompiler_StaticMethods_clearVerificationErrors_$self_elements$jscomp$25$$.setCustomValidity("")})}
function $DefaultVerifier$$module$extensions$amp_form$0_1$form_verifiers$$($var_args$jscomp$77$$){$FormVerifier$$module$extensions$amp_form$0_1$form_verifiers$$.apply(this,arguments)}$$jscomp$inherits$$($DefaultVerifier$$module$extensions$amp_form$0_1$form_verifiers$$,$FormVerifier$$module$extensions$amp_form$0_1$form_verifiers$$);
function $AsyncVerifier$$module$extensions$amp_form$0_1$form_verifiers$$($form$jscomp$8$$,$xhr$jscomp$10$$){this.$form_$=$form$jscomp$8$$;this.F=$xhr$jscomp$10$$;this.B=null;this.D=[]}$$jscomp$inherits$$($AsyncVerifier$$module$extensions$amp_form$0_1$form_verifiers$$,$FormVerifier$$module$extensions$amp_form$0_1$form_verifiers$$);
$AsyncVerifier$$module$extensions$amp_form$0_1$form_verifiers$$.prototype.C=function(){var $$jscomp$this$jscomp$493$$=this,$xhrConsumeErrors$$=this.F().then(function(){return[]},function($$jscomp$this$jscomp$493$$){return $getResponseErrorData_$$module$extensions$amp_form$0_1$form_verifiers$$($$jscomp$this$jscomp$493$$)});return $JSCompiler_StaticMethods_addToResolver_$$(this,$xhrConsumeErrors$$).then(function($xhrConsumeErrors$$){return $JSCompiler_StaticMethods_applyErrors_$$($$jscomp$this$jscomp$493$$,
$xhrConsumeErrors$$)})};
function $JSCompiler_StaticMethods_addToResolver_$$($JSCompiler_StaticMethods_addToResolver_$self$$,$promise$jscomp$27$$){if(!$JSCompiler_StaticMethods_addToResolver_$self$$.B){$JSCompiler_StaticMethods_addToResolver_$self$$.B=new $LastAddedResolver$$module$src$utils$promise$$;var $cleanup$jscomp$1$$=function(){return $JSCompiler_StaticMethods_addToResolver_$self$$.B=null};$JSCompiler_StaticMethods_addToResolver_$self$$.B.then($cleanup$jscomp$1$$,$cleanup$jscomp$1$$)}return $JSCompiler_StaticMethods_addToResolver_$self$$.B.add($promise$jscomp$27$$)}
function $JSCompiler_StaticMethods_applyErrors_$$($JSCompiler_StaticMethods_applyErrors_$self$$,$errors$jscomp$7$$){var $errorElements$$=[],$previousErrors$$=$JSCompiler_StaticMethods_applyErrors_$self$$.D;$JSCompiler_StaticMethods_applyErrors_$self$$.D=$errors$jscomp$7$$;for(var $i$jscomp$284$$=0;$i$jscomp$284$$<$errors$jscomp$7$$.length;$i$jscomp$284$$++){var $error$jscomp$71_message$jscomp$54$$=$errors$jscomp$7$$[$i$jscomp$284$$],$element$jscomp$308_name$jscomp$197$$=$user$$module$src$log$$().assertString($error$jscomp$71_message$jscomp$54$$.name,
"Verification errors must have a name property"),$error$jscomp$71_message$jscomp$54$$=$user$$module$src$log$$().assertString($error$jscomp$71_message$jscomp$54$$.message,"Verification errors must have a message property"),$element$jscomp$308_name$jscomp$197$$=$user$$module$src$log$$().assertElement($JSCompiler_StaticMethods_applyErrors_$self$$.$form_$.querySelector('[name="'+$element$jscomp$308_name$jscomp$197$$+'"]'),"Verification error name property must match a field name");$element$jscomp$308_name$jscomp$197$$.checkValidity()&&
($element$jscomp$308_name$jscomp$197$$.setCustomValidity($error$jscomp$71_message$jscomp$54$$),$errorElements$$.push($element$jscomp$308_name$jscomp$197$$))}var $fixedElements$$=$previousErrors$$.filter(function($JSCompiler_StaticMethods_applyErrors_$self$$){return $errors$jscomp$7$$.every(function($errors$jscomp$7$$){return $JSCompiler_StaticMethods_applyErrors_$self$$.name!==$errors$jscomp$7$$.name})}).map(function($errors$jscomp$7$$){return $JSCompiler_StaticMethods_applyErrors_$self$$.$form_$.querySelector('[name="'+
$errors$jscomp$7$$.name+'"]')});return $errorElements$$.concat($fixedElements$$)}function $getResponseErrorData_$$module$extensions$amp_form$0_1$form_verifiers$$($error$jscomp$73_response$jscomp$38$$){return($error$jscomp$73_response$jscomp$38$$=$error$jscomp$73_response$jscomp$38$$.response)?$error$jscomp$73_response$jscomp$38$$.json().then(function($error$jscomp$73_response$jscomp$38$$){return $error$jscomp$73_response$jscomp$38$$.verifyErrors||[]},function(){return[]}):Promise.resolve([])};function $ValidationBubble$$module$extensions$amp_form$0_1$validation_bubble$$($ampdoc$jscomp$144$$,$id$jscomp$64$$){this.G=$id$jscomp$64$$;this.$viewport_$=$Services$$module$src$services$viewportForDoc$$($ampdoc$jscomp$144$$);this.$vsync_$=$Services$$module$src$services$vsyncFor$$($ampdoc$jscomp$144$$.win);this.D=null;this.C="";this.$isVisible_$=!1;this.B=$ampdoc$jscomp$144$$.win.document.createElement("div");this.B.classList.add("i-amphtml-validation-bubble");this.B.__BUBBLE_OBJ=this;$ampdoc$jscomp$144$$.getBody().appendChild(this.B)}
$ValidationBubble$$module$extensions$amp_form$0_1$validation_bubble$$.prototype.F=function($element$jscomp$309$$){return this.$isVisible_$&&$element$jscomp$309$$==this.D};
function $JSCompiler_StaticMethods_ValidationBubble$$module$extensions$amp_form$0_1$validation_bubble_prototype$hide$$($JSCompiler_StaticMethods_ValidationBubble$$module$extensions$amp_form$0_1$validation_bubble_prototype$hide$self$$){$JSCompiler_StaticMethods_ValidationBubble$$module$extensions$amp_form$0_1$validation_bubble_prototype$hide$self$$.$isVisible_$&&($JSCompiler_StaticMethods_ValidationBubble$$module$extensions$amp_form$0_1$validation_bubble_prototype$hide$self$$.$isVisible_$=!1,$JSCompiler_StaticMethods_ValidationBubble$$module$extensions$amp_form$0_1$validation_bubble_prototype$hide$self$$.D=
null,$JSCompiler_StaticMethods_ValidationBubble$$module$extensions$amp_form$0_1$validation_bubble_prototype$hide$self$$.C="",$JSCompiler_StaticMethods_ValidationBubble$$module$extensions$amp_form$0_1$validation_bubble_prototype$hide$self$$.$vsync_$.run({measure:void 0,mutate:$hideBubble$$module$extensions$amp_form$0_1$validation_bubble$$},{bubbleElement:$JSCompiler_StaticMethods_ValidationBubble$$module$extensions$amp_form$0_1$validation_bubble_prototype$hide$self$$.B}))}
$ValidationBubble$$module$extensions$amp_form$0_1$validation_bubble$$.prototype.show=function($targetElement$$,$message$jscomp$55$$){this.F($targetElement$$)&&$message$jscomp$55$$==this.C||(this.$isVisible_$=!0,this.D=$targetElement$$,this.C=$message$jscomp$55$$,this.$vsync_$.run({measure:$measureTargetElement$$module$extensions$amp_form$0_1$validation_bubble$$,mutate:$showBubbleElement$$module$extensions$amp_form$0_1$validation_bubble$$},{message:$message$jscomp$55$$,targetElement:$targetElement$$,
bubbleElement:this.B,viewport:this.$viewport_$,id:this.G}))};function $hideBubble$$module$extensions$amp_form$0_1$validation_bubble$$($state$jscomp$61$$){$state$jscomp$61$$.bubbleElement.removeAttribute("aria-alert");$state$jscomp$61$$.bubbleElement.removeAttribute("role");$removeChildren$$module$src$dom$$($state$jscomp$61$$.bubbleElement);$setStyles$$module$src$style$$($state$jscomp$61$$.bubbleElement,{display:"none"})}
function $measureTargetElement$$module$extensions$amp_form$0_1$validation_bubble$$($state$jscomp$62$$){$state$jscomp$62$$.targetRect=$state$jscomp$62$$.viewport.getLayoutRect($state$jscomp$62$$.targetElement)}
function $showBubbleElement$$module$extensions$amp_form$0_1$validation_bubble$$($state$jscomp$63$$){$removeChildren$$module$src$dom$$($state$jscomp$63$$.bubbleElement);var $messageDiv$$=$state$jscomp$63$$.bubbleElement.ownerDocument.createElement("div");$messageDiv$$.id="bubble-message-"+$state$jscomp$63$$.id;$messageDiv$$.textContent=$state$jscomp$63$$.message;$state$jscomp$63$$.bubbleElement.setAttribute("aria-labeledby",$messageDiv$$.id);$state$jscomp$63$$.bubbleElement.setAttribute("role","alert");
$state$jscomp$63$$.bubbleElement.setAttribute("aria-live","assertive");$state$jscomp$63$$.bubbleElement.appendChild($messageDiv$$);$setStyles$$module$src$style$$($state$jscomp$63$$.bubbleElement,{display:"block",top:$state$jscomp$63$$.targetRect.top-10+"px",left:$state$jscomp$63$$.targetRect.left+$state$jscomp$63$$.targetRect.width/2+"px"})};var $reportValiditySupported$$module$extensions$amp_form$0_1$form_validators$$,$checkValiditySupported$$module$extensions$amp_form$0_1$form_validators$$,$validationBubbleCount$$module$extensions$amp_form$0_1$form_validators$$=0;
function $FormValidator$$module$extensions$amp_form$0_1$form_validators$$($form$jscomp$9$$){this.form=$form$jscomp$9$$;this.ampdoc=$getAmpdoc$$module$src$service$$($form$jscomp$9$$);this.resources=$Services$$module$src$services$resourcesForDoc$$($form$jscomp$9$$);this.H=this.ampdoc.getRootNode();this.F=null}$FormValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype.C=function(){};$FormValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype.onBlur=function(){};
$FormValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype.onInput=function(){};$FormValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype.B=function(){var $previousValidity$$=this.F;this.F=this.form.checkValidity();if($previousValidity$$!==this.F){var $event$158$$=$createCustomEvent$$module$src$event_helper$$(this.form.ownerDocument.defaultView,this.F?"valid":"invalid",null,{bubbles:!0});this.form.dispatchEvent($event$158$$)}};
function $DefaultValidator$$module$extensions$amp_form$0_1$form_validators$$($var_args$jscomp$78$$){$FormValidator$$module$extensions$amp_form$0_1$form_validators$$.apply(this,arguments)}$$jscomp$inherits$$($DefaultValidator$$module$extensions$amp_form$0_1$form_validators$$,$FormValidator$$module$extensions$amp_form$0_1$form_validators$$);$DefaultValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype.C=function(){this.form.reportValidity();this.B()};
function $PolyfillDefaultValidator$$module$extensions$amp_form$0_1$form_validators$$($form$jscomp$10$$){$FormValidator$$module$extensions$amp_form$0_1$form_validators$$.call(this,$form$jscomp$10$$);var $bubbleId$$="i-amphtml-validation-bubble-"+$validationBubbleCount$$module$extensions$amp_form$0_1$form_validators$$++;this.D=new $ValidationBubble$$module$extensions$amp_form$0_1$validation_bubble$$(this.ampdoc,$bubbleId$$)}
$$jscomp$inherits$$($PolyfillDefaultValidator$$module$extensions$amp_form$0_1$form_validators$$,$FormValidator$$module$extensions$amp_form$0_1$form_validators$$);
$PolyfillDefaultValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype.C=function(){for(var $inputs$jscomp$2$$=this.form.querySelectorAll("input,select,textarea"),$i$jscomp$285$$=0;$i$jscomp$285$$<$inputs$jscomp$2$$.length;$i$jscomp$285$$++)if(!$inputs$jscomp$2$$[$i$jscomp$285$$].checkValidity()){$inputs$jscomp$2$$[$i$jscomp$285$$].focus();this.D.show($inputs$jscomp$2$$[$i$jscomp$285$$],$inputs$jscomp$2$$[$i$jscomp$285$$].validationMessage);break}this.B()};
$PolyfillDefaultValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype.onBlur=function(){$JSCompiler_StaticMethods_ValidationBubble$$module$extensions$amp_form$0_1$validation_bubble_prototype$hide$$(this.D)};
$PolyfillDefaultValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype.onInput=function($event$jscomp$91_input$jscomp$43$$){$event$jscomp$91_input$jscomp$43$$=$event$jscomp$91_input$jscomp$43$$.target;this.D.F($event$jscomp$91_input$jscomp$43$$)&&($event$jscomp$91_input$jscomp$43$$.checkValidity()?($event$jscomp$91_input$jscomp$43$$.removeAttribute("aria-invalid"),$JSCompiler_StaticMethods_ValidationBubble$$module$extensions$amp_form$0_1$validation_bubble_prototype$hide$$(this.D)):
($event$jscomp$91_input$jscomp$43$$.setAttribute("aria-invalid","true"),this.D.show($event$jscomp$91_input$jscomp$43$$,$event$jscomp$91_input$jscomp$43$$.validationMessage)))};function $AbstractCustomValidator$$module$extensions$amp_form$0_1$form_validators$$($form$jscomp$11$$){$FormValidator$$module$extensions$amp_form$0_1$form_validators$$.call(this,$form$jscomp$11$$);this.G={};this.D={}}$$jscomp$inherits$$($AbstractCustomValidator$$module$extensions$amp_form$0_1$form_validators$$,$FormValidator$$module$extensions$amp_form$0_1$form_validators$$);
$JSCompiler_prototypeAlias$$=$AbstractCustomValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype;
$JSCompiler_prototypeAlias$$.reportInput=function($input$jscomp$44$$){var $JSCompiler_inline_result$jscomp$440_JSCompiler_invalidType$jscomp$inline_1872$$;a:{for($JSCompiler_inline_result$jscomp$440_JSCompiler_invalidType$jscomp$inline_1872$$ in $input$jscomp$44$$.validity)if($input$jscomp$44$$.validity[$JSCompiler_inline_result$jscomp$440_JSCompiler_invalidType$jscomp$inline_1872$$])break a;$JSCompiler_inline_result$jscomp$440_JSCompiler_invalidType$jscomp$inline_1872$$=null}var $invalidType$$=$JSCompiler_inline_result$jscomp$440_JSCompiler_invalidType$jscomp$inline_1872$$;
$invalidType$$&&this.showValidationFor($input$jscomp$44$$,$invalidType$$)};$JSCompiler_prototypeAlias$$.hideAllValidations=function(){for(var $id$jscomp$65$$ in this.D){var $input$jscomp$45$$=this.H.getElementById($id$jscomp$65$$);this.hideValidationFor($input$jscomp$45$$)}};
$JSCompiler_prototypeAlias$$.getValidationFor=function($input$jscomp$46_selector$jscomp$35$$,$invalidType$jscomp$1$$){if(!$input$jscomp$46_selector$jscomp$35$$.id)return null;$input$jscomp$46_selector$jscomp$35$$="[visible-when-invalid="+$invalidType$jscomp$1$$+"]"+("[validation-for="+$input$jscomp$46_selector$jscomp$35$$.id+"]");void 0===this.G[$input$jscomp$46_selector$jscomp$35$$]&&(this.G[$input$jscomp$46_selector$jscomp$35$$]=this.H.querySelector($input$jscomp$46_selector$jscomp$35$$));return this.G[$input$jscomp$46_selector$jscomp$35$$]};
$JSCompiler_prototypeAlias$$.showValidationFor=function($input$jscomp$47$$,$invalidType$jscomp$2$$){var $validation$$=this.getValidationFor($input$jscomp$47$$,$invalidType$jscomp$2$$);$validation$$&&($validation$$.textContent.trim()||($validation$$.textContent=$input$jscomp$47$$.validationMessage),this.D[$input$jscomp$47$$.id]=$validation$$,this.resources.mutateElement($input$jscomp$47$$,function(){return $input$jscomp$47$$.setAttribute("aria-invalid","true")}),this.resources.mutateElement($validation$$,
function(){return $validation$$.classList.add("visible")}))};$JSCompiler_prototypeAlias$$.hideValidationFor=function($input$jscomp$48$$){var $visibleValidation$$=this.getVisibleValidationFor($input$jscomp$48$$);$visibleValidation$$&&(delete this.D[$input$jscomp$48$$.id],this.resources.mutateElement($input$jscomp$48$$,function(){return $input$jscomp$48$$.removeAttribute("aria-invalid")}),this.resources.mutateElement($visibleValidation$$,function(){return $visibleValidation$$.classList.remove("visible")}))};
$JSCompiler_prototypeAlias$$.getVisibleValidationFor=function($input$jscomp$49$$){return $input$jscomp$49$$.id?this.D[$input$jscomp$49$$.id]:null};$JSCompiler_prototypeAlias$$.shouldValidateOnInteraction=function(){throw Error("Not Implemented");};
$JSCompiler_prototypeAlias$$.onInteraction=function($event$jscomp$92_input$jscomp$50$$){$event$jscomp$92_input$jscomp$50$$=$event$jscomp$92_input$jscomp$50$$.target;var $shouldValidate$jscomp$1$$=!!$event$jscomp$92_input$jscomp$50$$.checkValidity&&this.shouldValidateOnInteraction($event$jscomp$92_input$jscomp$50$$);this.hideValidationFor($event$jscomp$92_input$jscomp$50$$);$shouldValidate$jscomp$1$$&&!$event$jscomp$92_input$jscomp$50$$.checkValidity()&&this.reportInput($event$jscomp$92_input$jscomp$50$$)};
$JSCompiler_prototypeAlias$$.onBlur=function($event$jscomp$93$$){this.onInteraction($event$jscomp$93$$)};$JSCompiler_prototypeAlias$$.onInput=function($event$jscomp$94$$){this.onInteraction($event$jscomp$94$$)};function $ShowFirstOnSubmitValidator$$module$extensions$amp_form$0_1$form_validators$$($var_args$jscomp$79$$){$AbstractCustomValidator$$module$extensions$amp_form$0_1$form_validators$$.apply(this,arguments)}
$$jscomp$inherits$$($ShowFirstOnSubmitValidator$$module$extensions$amp_form$0_1$form_validators$$,$AbstractCustomValidator$$module$extensions$amp_form$0_1$form_validators$$);
$ShowFirstOnSubmitValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype.C=function(){this.hideAllValidations();for(var $inputs$jscomp$3$$=this.form.querySelectorAll("input,select,textarea"),$i$jscomp$286$$=0;$i$jscomp$286$$<$inputs$jscomp$3$$.length;$i$jscomp$286$$++)if(!$inputs$jscomp$3$$[$i$jscomp$286$$].checkValidity()){this.reportInput($inputs$jscomp$3$$[$i$jscomp$286$$]);$inputs$jscomp$3$$[$i$jscomp$286$$].focus();break}this.B()};
$ShowFirstOnSubmitValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype.shouldValidateOnInteraction=function($input$jscomp$51$$){return!!this.getVisibleValidationFor($input$jscomp$51$$)};function $ShowAllOnSubmitValidator$$module$extensions$amp_form$0_1$form_validators$$($var_args$jscomp$80$$){$AbstractCustomValidator$$module$extensions$amp_form$0_1$form_validators$$.apply(this,arguments)}
$$jscomp$inherits$$($ShowAllOnSubmitValidator$$module$extensions$amp_form$0_1$form_validators$$,$AbstractCustomValidator$$module$extensions$amp_form$0_1$form_validators$$);
$ShowAllOnSubmitValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype.C=function(){this.hideAllValidations();for(var $firstInvalidInput$$=null,$inputs$jscomp$4$$=this.form.querySelectorAll("input,select,textarea"),$i$jscomp$287$$=0;$i$jscomp$287$$<$inputs$jscomp$4$$.length;$i$jscomp$287$$++)$inputs$jscomp$4$$[$i$jscomp$287$$].checkValidity()||($firstInvalidInput$$=$firstInvalidInput$$||$inputs$jscomp$4$$[$i$jscomp$287$$],this.reportInput($inputs$jscomp$4$$[$i$jscomp$287$$]));$firstInvalidInput$$&&
$firstInvalidInput$$.focus();this.B()};$ShowAllOnSubmitValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype.shouldValidateOnInteraction=function($input$jscomp$52$$){return!!this.getVisibleValidationFor($input$jscomp$52$$)};function $AsYouGoValidator$$module$extensions$amp_form$0_1$form_validators$$($var_args$jscomp$81$$){$AbstractCustomValidator$$module$extensions$amp_form$0_1$form_validators$$.apply(this,arguments)}
$$jscomp$inherits$$($AsYouGoValidator$$module$extensions$amp_form$0_1$form_validators$$,$AbstractCustomValidator$$module$extensions$amp_form$0_1$form_validators$$);$AsYouGoValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype.shouldValidateOnInteraction=function(){return!0};
$AsYouGoValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype.onInteraction=function($event$jscomp$95$$){$AbstractCustomValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype.onInteraction.call(this,$event$jscomp$95$$);this.B()};function $InteractAndSubmitValidator$$module$extensions$amp_form$0_1$form_validators$$($var_args$jscomp$82$$){$ShowAllOnSubmitValidator$$module$extensions$amp_form$0_1$form_validators$$.apply(this,arguments)}
$$jscomp$inherits$$($InteractAndSubmitValidator$$module$extensions$amp_form$0_1$form_validators$$,$ShowAllOnSubmitValidator$$module$extensions$amp_form$0_1$form_validators$$);$InteractAndSubmitValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype.shouldValidateOnInteraction=function(){return!0};
$InteractAndSubmitValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype.onInteraction=function($event$jscomp$96$$){$ShowAllOnSubmitValidator$$module$extensions$amp_form$0_1$form_validators$$.prototype.onInteraction.call(this,$event$jscomp$96$$);this.B()};
function $getFormValidator$$module$extensions$amp_form$0_1$form_validators$$($form$jscomp$12$$){var $customValidation$$=$form$jscomp$12$$.getAttribute("custom-validation-reporting");switch($customValidation$$){case "as-you-go":return new $AsYouGoValidator$$module$extensions$amp_form$0_1$form_validators$$($form$jscomp$12$$);case "show-all-on-submit":return new $ShowAllOnSubmitValidator$$module$extensions$amp_form$0_1$form_validators$$($form$jscomp$12$$);case "interact-and-submit":return new $InteractAndSubmitValidator$$module$extensions$amp_form$0_1$form_validators$$($form$jscomp$12$$);
case "show-first-on-submit":return new $ShowFirstOnSubmitValidator$$module$extensions$amp_form$0_1$form_validators$$($form$jscomp$12$$)}$form$jscomp$12$$.ownerDocument&&void 0===$reportValiditySupported$$module$extensions$amp_form$0_1$form_validators$$&&($reportValiditySupported$$module$extensions$amp_form$0_1$form_validators$$=!!document.createElement("form").reportValidity);return $reportValiditySupported$$module$extensions$amp_form$0_1$form_validators$$?new $DefaultValidator$$module$extensions$amp_form$0_1$form_validators$$($form$jscomp$12$$):
new $PolyfillDefaultValidator$$module$extensions$amp_form$0_1$form_validators$$($form$jscomp$12$$)};var $EXTERNAL_DEPS$$module$extensions$amp_form$0_1$amp_form$$=["amp-selector"];
function $AmpForm$$module$extensions$amp_form$0_1$amp_form$$($element$jscomp$310_inputs$jscomp$5$$,$i$jscomp$288_id$jscomp$66$$){var $$jscomp$this$jscomp$496$$=this;try{$installFormProxy$$module$extensions$amp_form$0_1$form_proxy$$($element$jscomp$310_inputs$jscomp$5$$)}catch($e$jscomp$231$$){$dev$$module$src$log$$().error("amp-form","form proxy failed to install",$e$jscomp$231$$)}$element$jscomp$310_inputs$jscomp$5$$.__AMP_FORM=this;this.K=$i$jscomp$288_id$jscomp$66$$;this.C=$element$jscomp$310_inputs$jscomp$5$$.ownerDocument.defaultView;
this.$timer_$=$Services$$module$src$services$timerFor$$(this.C);this.J=$Services$$module$src$services$urlReplacementsForDoc$$($element$jscomp$310_inputs$jscomp$5$$);this.H=null;this.$form_$=$element$jscomp$310_inputs$jscomp$5$$;this.$templates_$=$Services$$module$src$services$templatesFor$$(this.C);this.$xhr_$=$Services$$module$src$services$xhrFor$$(this.C);this.$actions_$=$Services$$module$src$services$actionServiceForDoc$$(this.$form_$);this.M=$Services$$module$src$services$resourcesForDoc$$(this.$form_$);
this.$viewer_$=$Services$$module$src$services$viewerForDoc$$(this.$form_$);this.D=(this.$form_$.getAttribute("method")||"GET").toUpperCase();this.$target_$=this.$form_$.getAttribute("target");this.G=$JSCompiler_StaticMethods_getXhrUrl_$$(this,"action-xhr");this.S=$JSCompiler_StaticMethods_getXhrUrl_$$(this,"verify-xhr");this.I=!this.$form_$.hasAttribute("novalidate");this.$form_$.setAttribute("novalidate","");this.I||this.$form_$.setAttribute("amp-novalidate","");this.$form_$.classList.add("i-amphtml-form");
var $submitButtons$$=this.$form_$.querySelectorAll('[type="submit"]');this.P=$toArray$$module$src$types$$($submitButtons$$);this.B="initial";$element$jscomp$310_inputs$jscomp$5$$=this.$form_$.elements;for($i$jscomp$288_id$jscomp$66$$=0;$i$jscomp$288_id$jscomp$66$$<$element$jscomp$310_inputs$jscomp$5$$.length;$i$jscomp$288_id$jscomp$66$$++){var $name$jscomp$198$$=$element$jscomp$310_inputs$jscomp$5$$[$i$jscomp$288_id$jscomp$66$$].name;$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$("__amp_source_origin"!=
$name$jscomp$198$$&&"__amp_form_verify"!=$name$jscomp$198$$,"Illegal input name, %s found: %s",$name$jscomp$198$$,$element$jscomp$310_inputs$jscomp$5$$[$i$jscomp$288_id$jscomp$66$$])}this.F=$getFormValidator$$module$extensions$amp_form$0_1$form_validators$$(this.$form_$);this.R=$getFormVerifier$$module$extensions$amp_form$0_1$form_verifiers$$(this.$form_$,function(){return $JSCompiler_StaticMethods_handleXhrVerify_$$($$jscomp$this$jscomp$496$$)});this.$actions_$.installActionHandler(this.$form_$,
this.$actionHandler_$.bind(this),100);this.$installEventHandlers_$()}
function $JSCompiler_StaticMethods_getXhrUrl_$$($JSCompiler_StaticMethods_getXhrUrl_$self$$,$attribute$jscomp$4$$){var $url$jscomp$158$$=$JSCompiler_StaticMethods_getXhrUrl_$self$$.$form_$.getAttribute($attribute$jscomp$4$$);if($url$jscomp$158$$){var $urlService$jscomp$1$$=$Services$$module$src$services$urlForDoc$$($JSCompiler_StaticMethods_getXhrUrl_$self$$.$form_$);$urlService$jscomp$1$$.assertHttpsUrl($url$jscomp$158$$,$JSCompiler_StaticMethods_getXhrUrl_$self$$.$form_$,$attribute$jscomp$4$$);
$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$(!$urlService$jscomp$1$$.isProxyOrigin($url$jscomp$158$$),"form "+$attribute$jscomp$4$$+" should not be on AMP CDN: %s",$JSCompiler_StaticMethods_getXhrUrl_$self$$.$form_$)}return $url$jscomp$158$$}
$AmpForm$$module$extensions$amp_form$0_1$amp_form$$.prototype.$actionHandler_$=function($invocation$jscomp$28$$){var $$jscomp$this$jscomp$497$$=this;"submit"==$invocation$jscomp$28$$.method?$JSCompiler_StaticMethods_whenDependenciesReady_$$(this).then(function(){"submitting"!=$$jscomp$this$jscomp$497$$.B&&$JSCompiler_StaticMethods_checkValidity_$$($$jscomp$this$jscomp$497$$)&&($JSCompiler_StaticMethods_submit_$$($$jscomp$this$jscomp$497$$,$invocation$jscomp$28$$.C),"GET"!=$$jscomp$this$jscomp$497$$.D||
$$jscomp$this$jscomp$497$$.G||$$jscomp$this$jscomp$497$$.$form_$.submit())}):"clear"===$invocation$jscomp$28$$.method&&$JSCompiler_StaticMethods_handleClearAction_$$(this);return null};
function $JSCompiler_StaticMethods_whenDependenciesReady_$$($JSCompiler_StaticMethods_whenDependenciesReady_$self$$){if($JSCompiler_StaticMethods_whenDependenciesReady_$self$$.H)return $JSCompiler_StaticMethods_whenDependenciesReady_$self$$.H;var $depElements$$=$JSCompiler_StaticMethods_whenDependenciesReady_$self$$.$form_$.querySelectorAll($EXTERNAL_DEPS$$module$extensions$amp_form$0_1$amp_form$$.join(",")),$promises$jscomp$16$$=$toArray$$module$src$types$$($depElements$$).map(function($JSCompiler_StaticMethods_whenDependenciesReady_$self$$){return $JSCompiler_StaticMethods_whenDependenciesReady_$self$$.G()});
return $JSCompiler_StaticMethods_whenDependenciesReady_$self$$.H=$JSCompiler_StaticMethods_waitOnPromisesOrTimeout_$$($JSCompiler_StaticMethods_whenDependenciesReady_$self$$,$promises$jscomp$16$$,2E3)}
$AmpForm$$module$extensions$amp_form$0_1$amp_form$$.prototype.$installEventHandlers_$=function(){function $afterVerifierCommit$$(){"verifying"===$$jscomp$this$jscomp$498$$.B&&$JSCompiler_StaticMethods_setState_$$($$jscomp$this$jscomp$498$$,"initial")}var $$jscomp$this$jscomp$498$$=this;this.$viewer_$.whenNextVisible().then(function(){var $afterVerifierCommit$$=$$jscomp$this$jscomp$498$$.$form_$.querySelector("[autofocus]");$afterVerifierCommit$$&&$tryFocus$$module$src$dom$$($afterVerifierCommit$$)});
this.$form_$.addEventListener("submit",this.O.bind(this),!0);this.$form_$.addEventListener("blur",function($afterVerifierCommit$$){$checkUserValidityAfterInteraction_$$module$extensions$amp_form$0_1$amp_form$$($afterVerifierCommit$$.target);$$jscomp$this$jscomp$498$$.F.onBlur($afterVerifierCommit$$)},!0);this.$form_$.addEventListener("change",function($e$jscomp$233$$){$$jscomp$this$jscomp$498$$.R.G().then(function($afterVerifierCommit$$){$afterVerifierCommit$$.forEach($checkUserValidityAfterInteraction_$$module$extensions$amp_form$0_1$amp_form$$);
$$jscomp$this$jscomp$498$$.F.onBlur($e$jscomp$233$$)},function(){$checkUserValidityAfterInteraction_$$module$extensions$amp_form$0_1$amp_form$$($e$jscomp$233$$.target)}).then($afterVerifierCommit$$,$afterVerifierCommit$$)});this.$form_$.addEventListener("input",function($afterVerifierCommit$$){$checkUserValidityAfterInteraction_$$module$extensions$amp_form$0_1$amp_form$$($afterVerifierCommit$$.target);$$jscomp$this$jscomp$498$$.F.onInput($afterVerifierCommit$$)})};
function $JSCompiler_StaticMethods_triggerFormSubmitInAnalytics_$$($JSCompiler_StaticMethods_triggerFormSubmitInAnalytics_$self$$){var $formDataForAnalytics$$={},$formObject$$=$getFormAsObject$$module$src$form$$($JSCompiler_StaticMethods_triggerFormSubmitInAnalytics_$self$$.$form_$),$k$jscomp$63$$;for($k$jscomp$63$$ in $formObject$$)Object.prototype.hasOwnProperty.call($formObject$$,$k$jscomp$63$$)&&($formDataForAnalytics$$["formFields["+$k$jscomp$63$$+"]"]=$formObject$$[$k$jscomp$63$$].join(","));
$formDataForAnalytics$$.formId=$JSCompiler_StaticMethods_triggerFormSubmitInAnalytics_$self$$.$form_$.id;$JSCompiler_StaticMethods_triggerFormSubmitInAnalytics_$self$$.$analyticsEvent_$("amp-form-submit",$formDataForAnalytics$$)}
function $JSCompiler_StaticMethods_handleClearAction_$$($JSCompiler_StaticMethods_handleClearAction_$self$$){$JSCompiler_StaticMethods_handleClearAction_$self$$.$form_$.reset();$JSCompiler_StaticMethods_setState_$$($JSCompiler_StaticMethods_handleClearAction_$self$$,"initial");$JSCompiler_StaticMethods_handleClearAction_$self$$.$form_$.classList.remove("user-valid");$JSCompiler_StaticMethods_handleClearAction_$self$$.$form_$.classList.remove("user-invalid");var $validityElements$$=$JSCompiler_StaticMethods_handleClearAction_$self$$.$form_$.querySelectorAll(".user-valid, .user-invalid");
$iterateCursor$$module$src$dom$$($validityElements$$,function($JSCompiler_StaticMethods_handleClearAction_$self$$){$JSCompiler_StaticMethods_handleClearAction_$self$$.classList.remove("user-valid");$JSCompiler_StaticMethods_handleClearAction_$self$$.classList.remove("user-invalid")});var $messageElements$$=$JSCompiler_StaticMethods_handleClearAction_$self$$.$form_$.querySelectorAll(".visible[validation-for]");$iterateCursor$$module$src$dom$$($messageElements$$,function($JSCompiler_StaticMethods_handleClearAction_$self$$){$JSCompiler_StaticMethods_handleClearAction_$self$$.classList.remove("visible")});
$removeValidityStateClasses$$module$extensions$amp_form$0_1$amp_form$$($JSCompiler_StaticMethods_handleClearAction_$self$$.$form_$)}$AmpForm$$module$extensions$amp_form$0_1$amp_form$$.prototype.O=function($event$jscomp$97$$){"submitting"!=this.B&&$JSCompiler_StaticMethods_checkValidity_$$(this)?((this.G||"POST"==this.D)&&$event$jscomp$97$$.preventDefault(),$JSCompiler_StaticMethods_submit_$$(this,100)):($event$jscomp$97$$.stopImmediatePropagation(),$event$jscomp$97$$.preventDefault())};
function $JSCompiler_StaticMethods_submit_$$($JSCompiler_StaticMethods_submit_$self$$,$JSCompiler_varSubsFields$jscomp$inline_1885_trust$jscomp$6$$){var $varSubsFields$$=$JSCompiler_StaticMethods_getVarSubsFields_$$($JSCompiler_StaticMethods_submit_$self$$);if($JSCompiler_StaticMethods_submit_$self$$.G)$JSCompiler_StaticMethods_handleXhrSubmit_$$($JSCompiler_StaticMethods_submit_$self$$,$varSubsFields$$,$JSCompiler_varSubsFields$jscomp$inline_1885_trust$jscomp$6$$);else if("POST"==$JSCompiler_StaticMethods_submit_$self$$.D)$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$(!1,
"Only XHR based (via action-xhr attribute) submissions are supported for POST requests. %s",$JSCompiler_StaticMethods_submit_$self$$.$form_$);else if("GET"==$JSCompiler_StaticMethods_submit_$self$$.D){$JSCompiler_varSubsFields$jscomp$inline_1885_trust$jscomp$6$$=$varSubsFields$$;$JSCompiler_StaticMethods_assertNoSensitiveFields_$$($JSCompiler_StaticMethods_submit_$self$$);for(var $JSCompiler_i$jscomp$inline_1886$$=0;$JSCompiler_i$jscomp$inline_1886$$<$JSCompiler_varSubsFields$jscomp$inline_1885_trust$jscomp$6$$.length;$JSCompiler_i$jscomp$inline_1886$$++)$JSCompiler_StaticMethods_submit_$self$$.J.expandInputValueSync($JSCompiler_varSubsFields$jscomp$inline_1885_trust$jscomp$6$$[$JSCompiler_i$jscomp$inline_1886$$]);
$JSCompiler_StaticMethods_triggerFormSubmitInAnalytics_$$($JSCompiler_StaticMethods_submit_$self$$)}}function $JSCompiler_StaticMethods_getVarSubsFields_$$($JSCompiler_StaticMethods_getVarSubsFields_$self$$){return $JSCompiler_StaticMethods_getVarSubsFields_$self$$.$form_$.querySelectorAll('[type="hidden"][data-amp-replace]')}
function $JSCompiler_StaticMethods_handleXhrVerify_$$($JSCompiler_StaticMethods_handleXhrVerify_$self$$){if("submitting"===$JSCompiler_StaticMethods_handleXhrVerify_$self$$.B)return Promise.resolve();$JSCompiler_StaticMethods_setState_$$($JSCompiler_StaticMethods_handleXhrVerify_$self$$,"verifying");return $JSCompiler_StaticMethods_doVarSubs_$$($JSCompiler_StaticMethods_handleXhrVerify_$self$$,$JSCompiler_StaticMethods_getVarSubsFields_$$($JSCompiler_StaticMethods_handleXhrVerify_$self$$)).then(function(){var $JSCompiler_$jscomp$inline_1889$$=
{};return $JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$doXhr_$$($JSCompiler_StaticMethods_handleXhrVerify_$self$$,$JSCompiler_StaticMethods_handleXhrVerify_$self$$.S,$JSCompiler_StaticMethods_handleXhrVerify_$self$$.D,($JSCompiler_$jscomp$inline_1889$$.__amp_form_verify=!0,$JSCompiler_$jscomp$inline_1889$$))})}
function $JSCompiler_StaticMethods_handleXhrSubmit_$$($JSCompiler_StaticMethods_handleXhrSubmit_$self$$,$varSubsFields$jscomp$1$$,$trust$jscomp$7$$){$JSCompiler_StaticMethods_setState_$$($JSCompiler_StaticMethods_handleXhrSubmit_$self$$,"submitting");$JSCompiler_StaticMethods_doVarSubs_$$($JSCompiler_StaticMethods_handleXhrSubmit_$self$$,$varSubsFields$jscomp$1$$).then(function(){$JSCompiler_StaticMethods_triggerFormSubmitInAnalytics_$$($JSCompiler_StaticMethods_handleXhrSubmit_$self$$);$JSCompiler_StaticMethods_handleXhrSubmit_$self$$.$actions_$.trigger($JSCompiler_StaticMethods_handleXhrSubmit_$self$$.$form_$,
"submit",null,$trust$jscomp$7$$);var $varSubsFields$jscomp$1$$=$getFormAsObject$$module$src$form$$($JSCompiler_StaticMethods_handleXhrSubmit_$self$$.$form_$);$JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$renderTemplate_$$($JSCompiler_StaticMethods_handleXhrSubmit_$self$$,$varSubsFields$jscomp$1$$)}).then(function(){return $JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$doXhr_$$($JSCompiler_StaticMethods_handleXhrSubmit_$self$$,
$JSCompiler_StaticMethods_handleXhrSubmit_$self$$.G,$JSCompiler_StaticMethods_handleXhrSubmit_$self$$.D)}).then(function($varSubsFields$jscomp$1$$){return $JSCompiler_StaticMethods_handleXhrSubmitSuccess_$$($JSCompiler_StaticMethods_handleXhrSubmit_$self$$,$varSubsFields$jscomp$1$$)},function($varSubsFields$jscomp$1$$){return $JSCompiler_StaticMethods_handleXhrSubmitFailure_$$($JSCompiler_StaticMethods_handleXhrSubmit_$self$$,$varSubsFields$jscomp$1$$)})}
function $JSCompiler_StaticMethods_doVarSubs_$$($JSCompiler_StaticMethods_doVarSubs_$self$$,$varSubsFields$jscomp$2$$){for(var $varSubPromises$$=[],$i$jscomp$289$$=0;$i$jscomp$289$$<$varSubsFields$jscomp$2$$.length;$i$jscomp$289$$++)$varSubPromises$$.push($JSCompiler_StaticMethods_doVarSubs_$self$$.J.expandInputValueAsync($varSubsFields$jscomp$2$$[$i$jscomp$289$$]));return $JSCompiler_StaticMethods_waitOnPromisesOrTimeout_$$($JSCompiler_StaticMethods_doVarSubs_$self$$,$varSubPromises$$,100)}
function $JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$doXhr_$$($JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$doXhr_$self$$,$JSCompiler_StaticMethods_FormDataWrapper$$module$src$form_data_wrapper_prototype$append$self$jscomp$inline_1891_url$jscomp$159$$,$method$jscomp$23$$,$opt_extraFields$$){var $xhrUrl$$,$body$jscomp$16$$,$isHeadOrGet$$="GET"==$method$jscomp$23$$||"HEAD"==$method$jscomp$23$$;if($isHeadOrGet$$){$JSCompiler_StaticMethods_assertNoSensitiveFields_$$($JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$doXhr_$self$$);
var $key$jscomp$103_values$jscomp$17$$=$getFormAsObject$$module$src$form$$($JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$doXhr_$self$$.$form_$);$opt_extraFields$$&&$deepMerge$$module$src$utils$object$$($key$jscomp$103_values$jscomp$17$$,$opt_extraFields$$);$xhrUrl$$=$addParamsToUrl$$module$src$url$$($JSCompiler_StaticMethods_FormDataWrapper$$module$src$form_data_wrapper_prototype$append$self$jscomp$inline_1891_url$jscomp$159$$,$key$jscomp$103_values$jscomp$17$$)}else for($key$jscomp$103_values$jscomp$17$$ in $xhrUrl$$=
$JSCompiler_StaticMethods_FormDataWrapper$$module$src$form_data_wrapper_prototype$append$self$jscomp$inline_1891_url$jscomp$159$$,$body$jscomp$16$$=new $FormDataWrapper$$module$src$form_data_wrapper$$($JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$doXhr_$self$$.$form_$),$opt_extraFields$$){$JSCompiler_StaticMethods_FormDataWrapper$$module$src$form_data_wrapper_prototype$append$self$jscomp$inline_1891_url$jscomp$159$$=$body$jscomp$16$$;var $JSCompiler_name$jscomp$inline_1892$$=
$key$jscomp$103_values$jscomp$17$$,$JSCompiler_value$jscomp$inline_1893$$=$opt_extraFields$$[$key$jscomp$103_values$jscomp$17$$];if(!$JSCompiler_StaticMethods_FormDataWrapper$$module$src$form_data_wrapper_prototype$append$self$jscomp$inline_1891_url$jscomp$159$$.B.entries){var $JSCompiler_nameString$jscomp$inline_1894$$=String($JSCompiler_name$jscomp$inline_1892$$);$JSCompiler_StaticMethods_FormDataWrapper$$module$src$form_data_wrapper_prototype$append$self$jscomp$inline_1891_url$jscomp$159$$.C[$JSCompiler_nameString$jscomp$inline_1894$$]=
$JSCompiler_StaticMethods_FormDataWrapper$$module$src$form_data_wrapper_prototype$append$self$jscomp$inline_1891_url$jscomp$159$$.C[$JSCompiler_nameString$jscomp$inline_1894$$]||[];$JSCompiler_StaticMethods_FormDataWrapper$$module$src$form_data_wrapper_prototype$append$self$jscomp$inline_1891_url$jscomp$159$$.C[$JSCompiler_name$jscomp$inline_1892$$].push(String($JSCompiler_value$jscomp$inline_1893$$))}$JSCompiler_StaticMethods_FormDataWrapper$$module$src$form_data_wrapper_prototype$append$self$jscomp$inline_1891_url$jscomp$159$$.B.append($JSCompiler_name$jscomp$inline_1892$$,
$JSCompiler_value$jscomp$inline_1893$$)}return $JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$doXhr_$self$$.$xhr_$.$Xhr$$module$src$service$xhr_impl_prototype$fetch$($xhrUrl$$,{body:$body$jscomp$16$$,method:$method$jscomp$23$$,credentials:"include",headers:{Accept:"application/json"}})}
function $JSCompiler_StaticMethods_handleXhrSubmitSuccess_$$($JSCompiler_StaticMethods_handleXhrSubmitSuccess_$self$$,$response$jscomp$40$$){return $response$jscomp$40$$.json().then(function($json$jscomp$9$$){$JSCompiler_StaticMethods_triggerAction_$$($JSCompiler_StaticMethods_handleXhrSubmitSuccess_$self$$,!0,$json$jscomp$9$$);$JSCompiler_StaticMethods_handleXhrSubmitSuccess_$self$$.$analyticsEvent_$("amp-form-submit-success");$JSCompiler_StaticMethods_setState_$$($JSCompiler_StaticMethods_handleXhrSubmitSuccess_$self$$,
"submit-success");$JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$renderTemplate_$$($JSCompiler_StaticMethods_handleXhrSubmitSuccess_$self$$,$json$jscomp$9$$||{});$JSCompiler_StaticMethods_maybeHandleRedirect_$$($JSCompiler_StaticMethods_handleXhrSubmitSuccess_$self$$,$response$jscomp$40$$)},function($JSCompiler_StaticMethods_handleXhrSubmitSuccess_$self$$){$user$$module$src$log$$().error("amp-form","Failed to parse response JSON: "+$JSCompiler_StaticMethods_handleXhrSubmitSuccess_$self$$)})}
function $JSCompiler_StaticMethods_handleXhrSubmitFailure_$$($JSCompiler_StaticMethods_handleXhrSubmitFailure_$self$$,$error$jscomp$76$$){var $promise$jscomp$28$$;$error$jscomp$76$$&&$error$jscomp$76$$.response?$promise$jscomp$28$$=$error$jscomp$76$$.response.json().catch(function(){return null}):$promise$jscomp$28$$=Promise.resolve(null);return $promise$jscomp$28$$.then(function($promise$jscomp$28$$){$JSCompiler_StaticMethods_triggerAction_$$($JSCompiler_StaticMethods_handleXhrSubmitFailure_$self$$,
!1,$promise$jscomp$28$$);$JSCompiler_StaticMethods_handleXhrSubmitFailure_$self$$.$analyticsEvent_$("amp-form-submit-error");$JSCompiler_StaticMethods_setState_$$($JSCompiler_StaticMethods_handleXhrSubmitFailure_$self$$,"submit-error");$JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$renderTemplate_$$($JSCompiler_StaticMethods_handleXhrSubmitFailure_$self$$,$promise$jscomp$28$$||{});$JSCompiler_StaticMethods_maybeHandleRedirect_$$($JSCompiler_StaticMethods_handleXhrSubmitFailure_$self$$,
$error$jscomp$76$$.response);$user$$module$src$log$$().error("amp-form","Form submission failed: "+$error$jscomp$76$$)})}
function $JSCompiler_StaticMethods_assertNoSensitiveFields_$$($JSCompiler_StaticMethods_assertNoSensitiveFields_$self$$){var $fields$$=$JSCompiler_StaticMethods_assertNoSensitiveFields_$self$$.$form_$.querySelectorAll("input[type=password],input[type=file]");$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$(!$fields$$.length,"input[type=password] or input[type=file] may only appear in form[method=post]")}
function $JSCompiler_StaticMethods_checkValidity_$$($JSCompiler_StaticMethods_checkValidity_$self$$){void 0===$checkValiditySupported$$module$extensions$amp_form$0_1$form_validators$$&&($checkValiditySupported$$module$extensions$amp_form$0_1$form_validators$$=!!$JSCompiler_StaticMethods_checkValidity_$self$$.C.document.createElement("input").checkValidity);if($checkValiditySupported$$module$extensions$amp_form$0_1$form_validators$$){var $isValid$jscomp$2$$=$checkUserValidityOnSubmission$$module$extensions$amp_form$0_1$amp_form$$($JSCompiler_StaticMethods_checkValidity_$self$$.$form_$);
if($JSCompiler_StaticMethods_checkValidity_$self$$.I)return $JSCompiler_StaticMethods_checkValidity_$self$$.F.C(),$isValid$jscomp$2$$}return!0}
function $JSCompiler_StaticMethods_maybeHandleRedirect_$$($JSCompiler_StaticMethods_maybeHandleRedirect_$self$$,$response$jscomp$41$$){if($response$jscomp$41$$&&$response$jscomp$41$$.headers){var $redirectTo$$=$response$jscomp$41$$.headers.get("AMP-Redirect-To");if($redirectTo$$){$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$("_blank"!=$JSCompiler_StaticMethods_maybeHandleRedirect_$self$$.$target_$,"Redirecting to target=_blank using AMP-Redirect-To is currently not supported, use target=_top instead. %s",
$JSCompiler_StaticMethods_maybeHandleRedirect_$self$$.$form_$);try{var $urlService$jscomp$2$$=$Services$$module$src$services$urlForDoc$$($JSCompiler_StaticMethods_maybeHandleRedirect_$self$$.$form_$);$urlService$jscomp$2$$.assertAbsoluteHttpOrHttpsUrl($redirectTo$$);$urlService$jscomp$2$$.assertHttpsUrl($redirectTo$$,"AMP-Redirect-To","Url")}catch($e$jscomp$235$$){$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$(!1,"The `AMP-Redirect-To` header value must be an absolute URL starting with https://. Found %s",
$redirectTo$$)}$getServiceForDoc$$module$src$service$$($JSCompiler_StaticMethods_maybeHandleRedirect_$self$$.$form_$,"navigation").navigateTo($JSCompiler_StaticMethods_maybeHandleRedirect_$self$$.C,$redirectTo$$,"AMP-Redirect-To")}}}
function $JSCompiler_StaticMethods_triggerAction_$$($JSCompiler_StaticMethods_triggerAction_$self$$,$name$jscomp$199_success$jscomp$12$$,$event$jscomp$98_json$jscomp$10$$){$name$jscomp$199_success$jscomp$12$$=$name$jscomp$199_success$jscomp$12$$?"submit-success":"submit-error";$event$jscomp$98_json$jscomp$10$$=$createCustomEvent$$module$src$event_helper$$($JSCompiler_StaticMethods_triggerAction_$self$$.C,"amp-form."+$name$jscomp$199_success$jscomp$12$$,{response:$event$jscomp$98_json$jscomp$10$$});
$JSCompiler_StaticMethods_triggerAction_$self$$.$actions_$.trigger($JSCompiler_StaticMethods_triggerAction_$self$$.$form_$,$name$jscomp$199_success$jscomp$12$$,$event$jscomp$98_json$jscomp$10$$,100)}
function $JSCompiler_StaticMethods_waitOnPromisesOrTimeout_$$($JSCompiler_StaticMethods_waitOnPromisesOrTimeout_$self$$,$promises$jscomp$17$$,$timeout$jscomp$14$$){return Promise.race([Promise.all($promises$jscomp$17$$),$JSCompiler_StaticMethods_waitOnPromisesOrTimeout_$self$$.$timer_$.promise($timeout$jscomp$14$$)])}
$AmpForm$$module$extensions$amp_form$0_1$amp_form$$.prototype.$analyticsEvent_$=function($eventType$jscomp$49$$,$opt_vars$jscomp$7$$){$triggerAnalyticsEvent$$module$src$analytics$$(this.$form_$,$eventType$jscomp$49$$,$opt_vars$jscomp$7$$)};
function $JSCompiler_StaticMethods_setState_$$($JSCompiler_StaticMethods_setState_$self$$,$newState$jscomp$7$$){var $previousState$jscomp$1$$=$JSCompiler_StaticMethods_setState_$self$$.B;$JSCompiler_StaticMethods_setState_$self$$.$form_$.classList.remove("amp-form-"+$previousState$jscomp$1$$);$JSCompiler_StaticMethods_setState_$self$$.$form_$.classList.add("amp-form-"+$newState$jscomp$7$$);$JSCompiler_StaticMethods_cleanupRenderedTemplate_$$($JSCompiler_StaticMethods_setState_$self$$,$previousState$jscomp$1$$);
$JSCompiler_StaticMethods_setState_$self$$.B=$newState$jscomp$7$$;$JSCompiler_StaticMethods_setState_$self$$.P.forEach(function($JSCompiler_StaticMethods_setState_$self$$){"submitting"==$newState$jscomp$7$$?$JSCompiler_StaticMethods_setState_$self$$.setAttribute("disabled",""):$JSCompiler_StaticMethods_setState_$self$$.removeAttribute("disabled")})}
function $JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$renderTemplate_$$($JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$renderTemplate_$self$$,$data$jscomp$108$$){var $container$jscomp$8$$=$JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$renderTemplate_$self$$.$form_$.querySelector("["+$JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$renderTemplate_$self$$.B+
"]");if($container$jscomp$8$$){var $messageId$jscomp$1$$="rendered-message-"+$JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$renderTemplate_$self$$.K;$container$jscomp$8$$.setAttribute("role","alert");$container$jscomp$8$$.setAttribute("aria-labeledby",$messageId$jscomp$1$$);$container$jscomp$8$$.setAttribute("aria-live","assertive");$JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$renderTemplate_$self$$.$templates_$.hasTemplate($container$jscomp$8$$)?
$JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$renderTemplate_$self$$.$templates_$.findAndRenderTemplate($container$jscomp$8$$,$data$jscomp$108$$).then(function($data$jscomp$108$$){$data$jscomp$108$$.id=$messageId$jscomp$1$$;$data$jscomp$108$$.setAttribute("i-amphtml-rendered","");$container$jscomp$8$$.appendChild($data$jscomp$108$$);var $rendered$jscomp$2$$=$createCustomEvent$$module$src$event_helper$$($JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$renderTemplate_$self$$.C,
"amp:dom-update",null,{bubbles:!0});$container$jscomp$8$$.dispatchEvent($rendered$jscomp$2$$)}):($JSCompiler_StaticMethods_AmpForm$$module$extensions$amp_form$0_1$amp_form_prototype$renderTemplate_$self$$.M.mutateElement($container$jscomp$8$$,function(){}),Promise.resolve())}}
function $JSCompiler_StaticMethods_cleanupRenderedTemplate_$$($JSCompiler_StaticMethods_cleanupRenderedTemplate_$self_container$jscomp$9$$,$state$jscomp$64$$){if($JSCompiler_StaticMethods_cleanupRenderedTemplate_$self_container$jscomp$9$$=$JSCompiler_StaticMethods_cleanupRenderedTemplate_$self_container$jscomp$9$$.$form_$.querySelector("["+$state$jscomp$64$$+"]")){var $previousRender$$=$childElementByAttr$$module$src$dom$$($JSCompiler_StaticMethods_cleanupRenderedTemplate_$self_container$jscomp$9$$,
"i-amphtml-rendered");$previousRender$$&&$removeElement$$module$src$dom$$($previousRender$$)}}
function $checkUserValidityOnSubmission$$module$extensions$amp_form$0_1$amp_form$$($form$jscomp$13$$){var $elements$jscomp$26$$=$form$jscomp$13$$.querySelectorAll("input,select,textarea,fieldset");$iterateCursor$$module$src$dom$$($elements$jscomp$26$$,function($form$jscomp$13$$){return $checkUserValidity$$module$extensions$amp_form$0_1$amp_form$$($form$jscomp$13$$)});return $checkUserValidity$$module$extensions$amp_form$0_1$amp_form$$($form$jscomp$13$$)}
function $removeValidityStateClasses$$module$extensions$amp_form$0_1$amp_form$$($form$jscomp$14$$){var $dummyInput$$=document.createElement("input"),$$jscomp$loop$209$$={},$validityState$$;for($validityState$$ in $dummyInput$$.validity){$$jscomp$loop$209$$.validityState=$validityState$$;var $elements$jscomp$27$$=$form$jscomp$14$$.querySelectorAll("."+$cssEscape$$module$third_party$css_escape$css_escape$$($$jscomp$loop$209$$.validityState));$iterateCursor$$module$src$dom$$($elements$jscomp$27$$,function($form$jscomp$14$$){return function($dummyInput$$){return $dummyInput$$.classList.remove($form$jscomp$14$$.validityState)}}($$jscomp$loop$209$$));
$$jscomp$loop$209$$={validityState:$$jscomp$loop$209$$.validityState}}}
function $checkUserValidity$$module$extensions$amp_form$0_1$amp_form$$($element$jscomp$317$$,$propagate$$){$propagate$$=void 0===$propagate$$?!1:$propagate$$;if(!$element$jscomp$317$$.checkValidity)return!0;var $shouldPropagate$$=!1,$previousValidityState$$=$element$jscomp$317$$.classList.contains("user-valid")?"valid":$element$jscomp$317$$.classList.contains("user-invalid")?"invalid":"none",$isCurrentlyValid$$=$element$jscomp$317$$.checkValidity();"valid"!=$previousValidityState$$&&$isCurrentlyValid$$?
($element$jscomp$317$$.classList.add("user-valid"),$element$jscomp$317$$.classList.remove("user-invalid"),$shouldPropagate$$="invalid"==$previousValidityState$$):"invalid"==$previousValidityState$$||$isCurrentlyValid$$||($element$jscomp$317$$.classList.add("user-invalid"),$element$jscomp$317$$.classList.remove("user-valid"),$shouldPropagate$$=!0);if($element$jscomp$317$$.validity)for(var $JSCompiler_validationType$jscomp$inline_1901_ancestors$jscomp$2$$ in $element$jscomp$317$$.validity)$element$jscomp$317$$.classList.toggle($JSCompiler_validationType$jscomp$inline_1901_ancestors$jscomp$2$$,
$element$jscomp$317$$.validity[$JSCompiler_validationType$jscomp$inline_1901_ancestors$jscomp$2$$]);if($propagate$$&&$shouldPropagate$$){$JSCompiler_validationType$jscomp$inline_1901_ancestors$jscomp$2$$=$ancestorElementsByTag$$module$src$dom$$($element$jscomp$317$$,"fieldset");for(var $i$jscomp$291$$=0;$i$jscomp$291$$<$JSCompiler_validationType$jscomp$inline_1901_ancestors$jscomp$2$$.length;$i$jscomp$291$$++)$checkUserValidity$$module$extensions$amp_form$0_1$amp_form$$($JSCompiler_validationType$jscomp$inline_1901_ancestors$jscomp$2$$[$i$jscomp$291$$]);
$element$jscomp$317$$.form&&$checkUserValidity$$module$extensions$amp_form$0_1$amp_form$$($element$jscomp$317$$.form)}return $isCurrentlyValid$$}function $checkUserValidityAfterInteraction_$$module$extensions$amp_form$0_1$amp_form$$($input$jscomp$54$$){$checkUserValidity$$module$extensions$amp_form$0_1$amp_form$$($input$jscomp$54$$,!0)}
function $AmpFormService$$module$extensions$amp_form$0_1$amp_form$$($ampdoc$jscomp$145$$){this.B=$JSCompiler_StaticMethods_AmpFormService$$module$extensions$amp_form$0_1$amp_form_prototype$installStyles_$$($ampdoc$jscomp$145$$).then(function(){return $JSCompiler_StaticMethods_installHandlers_$$($ampdoc$jscomp$145$$)})}$AmpFormService$$module$extensions$amp_form$0_1$amp_form$$.prototype.C=function(){return this.B};
function $JSCompiler_StaticMethods_AmpFormService$$module$extensions$amp_form$0_1$amp_form_prototype$installStyles_$$($ampdoc$jscomp$146$$){var $deferred$jscomp$37$$=new $Deferred$$module$src$utils$promise$$;$installStylesForDoc$$module$src$style_installer$$($ampdoc$jscomp$146$$,'form.amp-form-submit-error [submit-error],form.amp-form-submit-success [submit-success],form.amp-form-submitting [submitting]{display:block}.i-amphtml-validation-bubble{-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%);background-color:#fff;box-shadow:0 5px 15px 0 rgba(0,0,0,0.5);max-width:200px;position:absolute;display:none;box-sizing:border-box;padding:10px;border-radius:5px}.i-amphtml-validation-bubble:after{content:" ";position:absolute;bottom:-8px;left:30px;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #fff}[visible-when-invalid]{display:none;color:red}[visible-when-invalid].visible{display:initial}\n/*# sourceURL=/extensions/amp-form/0.1/amp-form.css*/',
$deferred$jscomp$37$$.resolve,!1,"amp-form");return $deferred$jscomp$37$$.promise}function $JSCompiler_StaticMethods_installHandlers_$$($ampdoc$jscomp$147$$){return $ampdoc$jscomp$147$$.whenReady().then(function(){$JSCompiler_StaticMethods_installSubmissionHandlers_$$($ampdoc$jscomp$147$$.getRootNode().querySelectorAll("form"));$JSCompiler_StaticMethods_installGlobalEventListener_$$($ampdoc$jscomp$147$$.getRootNode())})}
function $JSCompiler_StaticMethods_installSubmissionHandlers_$$($forms$$){$forms$$&&$iterateCursor$$module$src$dom$$($forms$$,function($forms$$,$index$jscomp$98$$){var $form$jscomp$15$$=$forms$$.__AMP_FORM||null;$form$jscomp$15$$||new $AmpForm$$module$extensions$amp_form$0_1$amp_form$$($forms$$,"amp-form-"+$index$jscomp$98$$)})}
function $JSCompiler_StaticMethods_installGlobalEventListener_$$($doc$jscomp$77$$){$doc$jscomp$77$$.addEventListener("amp:dom-update",function(){$JSCompiler_StaticMethods_installSubmissionHandlers_$$($doc$jscomp$77$$.querySelectorAll("form"))})}(function($AMP$jscomp$43$$){$AMP$jscomp$43$$.registerServiceForDoc("amp-form",$AmpFormService$$module$extensions$amp_form$0_1$amp_form$$)})(self.AMP);})});
//# sourceMappingURL=extensions-amp-form-0.1-amp-form.js.map

