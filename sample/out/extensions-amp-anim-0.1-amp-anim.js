(self.AMP=self.AMP||[]).push({n:"extensions-amp-anim-0.1-amp-anim.js", v:"erwin", f:(function(){function $AmpAnim$$module$extensions$amp_anim$0_1$amp_anim$$($$jscomp$super$this$jscomp$14_element$jscomp$257$$){$$jscomp$super$this$jscomp$14_element$jscomp$257$$=AMP.BaseElement.call(this,$$jscomp$super$this$jscomp$14_element$jscomp$257$$)||this;$$jscomp$super$this$jscomp$14_element$jscomp$257$$.$img_$=null;$$jscomp$super$this$jscomp$14_element$jscomp$257$$.$srcset_$=null;$$jscomp$super$this$jscomp$14_element$jscomp$257$$.$hasLoaded_$=!1;return $$jscomp$super$this$jscomp$14_element$jscomp$257$$}
$$jscomp$inherits$$($AmpAnim$$module$extensions$amp_anim$0_1$amp_anim$$,AMP.BaseElement);$JSCompiler_prototypeAlias$$=$AmpAnim$$module$extensions$amp_anim$0_1$amp_anim$$.prototype;$JSCompiler_prototypeAlias$$.isLayoutSupported=function($layout$jscomp$31$$){return $isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$31$$)};
$JSCompiler_prototypeAlias$$.buildCallback=function(){this.$img_$=new Image;this.$img_$.setAttribute("decoding","async");this.propagateAttributes(["alt","aria-label","aria-describedby","aria-labelledby"],this.$img_$);this.applyFillContent(this.$img_$,!0);"img"==this.element.getAttribute("role")&&(this.element.removeAttribute("role"),this.user().error("AMP-ANIM","Setting role=img on amp-anim elements breaks screen readers. Please just set alt or ARIA attributes, they will be correctly propagated for the underlying <img> element."));
$toggle$$module$src$style$$(this.$img_$,!this.getPlaceholder());this.element.appendChild(this.$img_$)};$JSCompiler_prototypeAlias$$.isRelayoutNeeded=function(){return!0};$JSCompiler_prototypeAlias$$.layoutCallback=function(){this.$srcset_$||(this.$srcset_$=$srcsetFromElement$$module$src$srcset$$(this.element));return this.$updateImageSrc_$()};$JSCompiler_prototypeAlias$$.firstLayoutCompleted=function(){this.$hasLoaded_$=!0;this.$updateInViewport_$()};
$JSCompiler_prototypeAlias$$.viewportCallback=function(){this.$hasLoaded_$&&this.$updateInViewport_$()};$JSCompiler_prototypeAlias$$.unlayoutCallback=function(){this.$img_$.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";this.$hasLoaded_$=!1;return!0};$JSCompiler_prototypeAlias$$.$updateInViewport_$=function(){var $inViewport$jscomp$12$$=this.isInViewport();this.togglePlaceholder(!$inViewport$jscomp$12$$);$toggle$$module$src$style$$(this.$img_$,$inViewport$jscomp$12$$)};
$JSCompiler_prototypeAlias$$.$updateImageSrc_$=function(){var $$jscomp$this$jscomp$357$$=this;if(0>=this.getLayoutWidth())return Promise.resolve();var $src$jscomp$25$$=this.$srcset_$.select(this.getViewport().getWidth()||this.win.screen.width,this.getDpr());if($src$jscomp$25$$==this.$img_$.getAttribute("src"))return Promise.resolve();this.$img_$.setAttribute("src",$src$jscomp$25$$);return this.loadPromise(this.$img_$).catch(function($src$jscomp$25$$){if($$jscomp$this$jscomp$357$$.$img_$.getAttribute("src"))throw $src$jscomp$25$$;
})};(function($AMP$jscomp$18$$){$AMP$jscomp$18$$.registerElement("amp-anim",$AmpAnim$$module$extensions$amp_anim$0_1$amp_anim$$)})(self.AMP);})});
//# sourceMappingURL=extensions-amp-anim-0.1-amp-anim.js.map

