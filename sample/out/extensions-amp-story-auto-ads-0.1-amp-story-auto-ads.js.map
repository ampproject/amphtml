{
"version":3,
"file":"/./sample/out/extensions-amp-story-auto-ads-0.1-amp-story-auto-ads.js",
"lineCount":38,
"mappings":"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",
"sources":["/extensions/amp-story-auto-ads/0.1/amp-story-auto-ads.js","/src/utils/object.js","/src/element-service.js","/src/services.js","/extensions/amp-story/1.0/amp-story-store-service.js","/src/log.js","/src/common-signals.js","/src/dom.js","/src/json.js","/extensions/amp-story/1.0/navigation-state.js","/src/analytics.js","/build/amp-story-auto-ads-0.1.css.js"],
"names":["CTA_TYPES","EXPLORE","SHOP","READ","INSTALL","ALLOWED_AD_TYPES","map","constructor","AmpStoryAutoAds","element","ampStory_","navigationState_","uniquePagesCount_","uniquePageIds_","dict","adPageEls_","timeCurrentPageCreated_","Infinity","adsPlaced_","adPagesCreated_","currentAdElement_","isCurrentAdLoaded_","config_","analyticsData_","storeService_","$jscomp.inherits","AmpStoryAutoAds$$module$extensions$amp_story_auto_ads$0_1$amp_story_auto_ads.prototype","?.prototype","buildCallback","getElementServiceIfAvailable","win","then","storeService","isAutomaticAdInsertionAllowed_","get","CAN_INSERT_AUTOMATIC_AD","ampStoryElement","parentElement","user","assert","tagName","ampdoc","getAmpDoc","extensionService","Services$$module$src$services.extensionsFor","installExtensionForDoc","AD_TAG","MUSTACHE_TAG","getImpl","impl","getNavigationState","observe","handleStateChange_","bind","isLayoutSupported","layoutCallback","signals","whenSignal","INI_LOAD","container","createAdOverlay_","document","createElement","className","span","textContent","appendChild","child","readConfig_","children","isJsonScriptTag","parseJson","adAttributes","type","schedulePage_","Promise","resolve","page","createAdPage_","push","analyticsEvent_","AD_REQUESTED","Date","now","addPage","ampStoryAdPage","createPageElement_","ampAd","createAdElement_","glassPane","classList","add","GLASS_PANE_CLASS","gridLayer","setAttribute","paneGridLayer","cloneNode","currentPageEl","length","removeAttribute","LOADING_ATTR","AD_LOADED","id","attributes","createElementWithAttributes","requiredAttrs","configAttrs","forEach","attr","undefined","warn","TAG","Object","assign","stateChangeEvent","ACTIVE_PAGE","pageId","value","hasOwn","handleActivePageChange_","MIN_INTERVAL","adState","tryToPlaceAdAfterPage_","INSERTED","AD_INSERTED","FAILED","AD_DISCARDED","pageBeforeAdId","nextAdPageEl","TIMEOUT_LIMIT","pageBeforeAd","getPageById","pageAfterAd","getNextPage","PENDING","isDesktopView_","DESKTOP_STATE","isAd","ctaUrl","maybeCreateCtaLayer_","getAttribute","CTA_URL","ctaType","CTA_TYPE","ctaText","a","href","protocol","ctaLayer","error","ctaCreated","insertPage","eventType","vars","adIndex","triggerAnalyticsEvent","AMP","registerElement","CSS"]
}
