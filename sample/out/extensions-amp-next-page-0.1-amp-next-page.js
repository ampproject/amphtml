(self.AMP=self.AMP||[]).push({n:"extensions-amp-next-page-0.1-amp-next-page.js", v:"erwin", f:(function(){var $shadowDomStreamingSupported$$module$src$shadow_embed$$;
function $createShadowDomWriter$$module$src$shadow_embed$$($win$jscomp$87$$){void 0===$shadowDomStreamingSupported$$module$src$shadow_embed$$&&($shadowDomStreamingSupported$$module$src$shadow_embed$$=!$win$jscomp$87$$.document.implementation||"function"!=typeof $win$jscomp$87$$.document.implementation.createHTMLDocument||$Services$$module$src$services$platformFor$$($win$jscomp$87$$).isFirefox()?!1:!0);return $shadowDomStreamingSupported$$module$src$shadow_embed$$?new $ShadowDomWriterStreamer$$module$src$shadow_embed$$($win$jscomp$87$$):
new $ShadowDomWriterBulk$$module$src$shadow_embed$$($win$jscomp$87$$)}
function $importShadowBody$$module$src$shadow_embed$$($shadowRoot$jscomp$2$$,$body$jscomp$1_n$jscomp$8$$,$deep$jscomp$4$$){var $doc$jscomp$23$$=$shadowRoot$jscomp$2$$.ownerDocument,$resultBody$$;if($isShadowCssSupported$$module$src$web_components$$())$resultBody$$=$doc$jscomp$23$$.importNode($body$jscomp$1_n$jscomp$8$$,$deep$jscomp$4$$);else{$resultBody$$=$doc$jscomp$23$$.createElement("amp-body");$setStyle$$module$src$style$$($resultBody$$,"display","block");for(var $i$jscomp$91$$=0;$i$jscomp$91$$<
$body$jscomp$1_n$jscomp$8$$.attributes.length;$i$jscomp$91$$++)$resultBody$$.setAttribute($body$jscomp$1_n$jscomp$8$$.attributes[0].name,$body$jscomp$1_n$jscomp$8$$.attributes[0].value);if($deep$jscomp$4$$)for($body$jscomp$1_n$jscomp$8$$=$body$jscomp$1_n$jscomp$8$$.firstChild;$body$jscomp$1_n$jscomp$8$$;$body$jscomp$1_n$jscomp$8$$=$body$jscomp$1_n$jscomp$8$$.nextSibling)$resultBody$$.appendChild($doc$jscomp$23$$.importNode($body$jscomp$1_n$jscomp$8$$,!0))}$setStyle$$module$src$style$$($resultBody$$,
"position","relative");$shadowRoot$jscomp$2$$.appendChild($resultBody$$);Object.defineProperty($shadowRoot$jscomp$2$$,"body",{value:$resultBody$$});return $resultBody$$}function $MultidocManager$$module$src$runtime$$($win$jscomp$192$$,$ampdocService$jscomp$4$$,$extensions$jscomp$5$$,$timer$$){this.win=$win$jscomp$192$$;this.C=$ampdocService$jscomp$4$$;this.$extensions_$=$extensions$jscomp$5$$;this.$timer_$=$timer$$;this.B=[]}
function $JSCompiler_StaticMethods_MultidocManager$$module$src$runtime_prototype$attachShadowDoc_$$($JSCompiler_StaticMethods_MultidocManager$$module$src$runtime_prototype$attachShadowDoc_$self$$,$hostElement$jscomp$2$$,$url$jscomp$92$$,$initParams$$,$builder$jscomp$1$$){$JSCompiler_StaticMethods_purgeShadowRoots_$$($JSCompiler_StaticMethods_MultidocManager$$module$src$runtime_prototype$attachShadowDoc_$self$$);$setStyle$$module$src$style$$($hostElement$jscomp$2$$,"visibility","hidden");var $shadowRoot$jscomp$5$$=
$createShadowRoot$$module$src$shadow_embed$$($hostElement$jscomp$2$$);$shadowRoot$jscomp$5$$.AMP&&($user$$module$src$log$$().warn("runtime","Shadow doc wasn't previously closed"),$JSCompiler_StaticMethods_closeShadowRoot_$$($JSCompiler_StaticMethods_MultidocManager$$module$src$runtime_prototype$attachShadowDoc_$self$$,$shadowRoot$jscomp$5$$));var $amp$jscomp$1$$={};$shadowRoot$jscomp$5$$.AMP=$amp$jscomp$1$$;$amp$jscomp$1$$.url=$url$jscomp$92$$;var $origin$jscomp$15$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$92$$).origin,
$ampdoc$jscomp$81$$=$JSCompiler_StaticMethods_MultidocManager$$module$src$runtime_prototype$attachShadowDoc_$self$$.C.installShadowDoc($url$jscomp$92$$,$shadowRoot$jscomp$5$$);$amp$jscomp$1$$.ampdoc=$ampdoc$jscomp$81$$;$installStylesForDoc$$module$src$style_installer$$($ampdoc$jscomp$81$$,cssText$$module$build$css,null,!0);$installAmpdocServices$$module$src$runtime$$($ampdoc$jscomp$81$$,$initParams$$||Object.create(null));var $viewer$jscomp$26$$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$81$$);
$amp$jscomp$1$$.setVisibilityState=function($JSCompiler_StaticMethods_MultidocManager$$module$src$runtime_prototype$attachShadowDoc_$self$$){$JSCompiler_StaticMethods_setVisibilityState_$$($viewer$jscomp$26$$,$JSCompiler_StaticMethods_MultidocManager$$module$src$runtime_prototype$attachShadowDoc_$self$$)};$amp$jscomp$1$$.postMessage=$viewer$jscomp$26$$.receiveMessage.bind($viewer$jscomp$26$$);var $onMessage$$;$amp$jscomp$1$$.onMessage=function($JSCompiler_StaticMethods_MultidocManager$$module$src$runtime_prototype$attachShadowDoc_$self$$){$onMessage$$=
$JSCompiler_StaticMethods_MultidocManager$$module$src$runtime_prototype$attachShadowDoc_$self$$};$viewer$jscomp$26$$.setMessageDeliverer(function($hostElement$jscomp$2$$,$url$jscomp$92$$,$initParams$$){if("broadcast"==$hostElement$jscomp$2$$)return $JSCompiler_StaticMethods_broadcast_$$($JSCompiler_StaticMethods_MultidocManager$$module$src$runtime_prototype$attachShadowDoc_$self$$,$url$jscomp$92$$,$shadowRoot$jscomp$5$$),$initParams$$?Promise.resolve():void 0;if($onMessage$$)return $onMessage$$($hostElement$jscomp$2$$,
$url$jscomp$92$$,$initParams$$)},$origin$jscomp$15$$);$amp$jscomp$1$$.close=function(){$JSCompiler_StaticMethods_closeShadowRoot_$$($JSCompiler_StaticMethods_MultidocManager$$module$src$runtime_prototype$attachShadowDoc_$self$$,$shadowRoot$jscomp$5$$)};$getMode$$module$src$mode$$().development&&($amp$jscomp$1$$.toggleRuntime=$viewer$jscomp$26$$.toggleRuntime.bind($viewer$jscomp$26$$),$amp$jscomp$1$$.resources=$Services$$module$src$services$resourcesForDoc$$($ampdoc$jscomp$81$$));$builder$jscomp$1$$($amp$jscomp$1$$,
$shadowRoot$jscomp$5$$,$ampdoc$jscomp$81$$).then(function(){$ampdoc$jscomp$81$$.$AmpDocShadow$$module$src$service$ampdoc_impl_prototype$setReady$();$ampdoc$jscomp$81$$.signals().signal("render-start");$setStyle$$module$src$style$$($hostElement$jscomp$2$$,"visibility","visible")});$JSCompiler_StaticMethods_MultidocManager$$module$src$runtime_prototype$attachShadowDoc_$self$$.B.includes($shadowRoot$jscomp$5$$)||$JSCompiler_StaticMethods_MultidocManager$$module$src$runtime_prototype$attachShadowDoc_$self$$.B.push($shadowRoot$jscomp$5$$);
return $amp$jscomp$1$$}
$MultidocManager$$module$src$runtime$$.prototype.D=function($hostElement$jscomp$3$$,$doc$jscomp$56$$,$url$jscomp$93$$,$opt_initParams$jscomp$3$$){var $$jscomp$this$jscomp$177$$=this;return $JSCompiler_StaticMethods_MultidocManager$$module$src$runtime_prototype$attachShadowDoc_$$(this,$hostElement$jscomp$3$$,$url$jscomp$93$$,$opt_initParams$jscomp$3$$,function($url$jscomp$93$$,$opt_initParams$jscomp$3$$,$ampdoc$jscomp$82$$){$url$jscomp$93$$=$JSCompiler_StaticMethods_mergeShadowHead_$$($$jscomp$this$jscomp$177$$,$ampdoc$jscomp$82$$,
$opt_initParams$jscomp$3$$,$doc$jscomp$56$$);$$jscomp$this$jscomp$177$$.$extensions_$.installExtensionsInDoc($ampdoc$jscomp$82$$,$url$jscomp$93$$);$doc$jscomp$56$$.body&&($opt_initParams$jscomp$3$$=$importShadowBody$$module$src$shadow_embed$$($opt_initParams$jscomp$3$$,$doc$jscomp$56$$.body,!0),$opt_initParams$jscomp$3$$.classList.add("amp-shadow"),$ampdoc$jscomp$82$$.setBody($opt_initParams$jscomp$3$$));setTimeout(function(){$ampdoc$jscomp$82$$.signals().signal("render-start");$setStyle$$module$src$style$$($hostElement$jscomp$3$$,
"visibility","visible")},50);return Promise.resolve()})};
$MultidocManager$$module$src$runtime$$.prototype.F=function($hostElement$jscomp$4$$,$url$jscomp$94$$,$opt_initParams$jscomp$4$$){var $$jscomp$this$jscomp$178$$=this;return $JSCompiler_StaticMethods_MultidocManager$$module$src$runtime_prototype$attachShadowDoc_$$(this,$hostElement$jscomp$4$$,$url$jscomp$94$$,$opt_initParams$jscomp$4$$,function($url$jscomp$94$$,$opt_initParams$jscomp$4$$,$ampdoc$jscomp$83$$){var $amp$jscomp$3$$=!1,$shadowRoot$jscomp$7$$=$createShadowDomWriter$$module$src$shadow_embed$$($$jscomp$this$jscomp$178$$.win);
$url$jscomp$94$$.writer=$shadowRoot$jscomp$7$$;$shadowRoot$jscomp$7$$.onBody(function($hostElement$jscomp$4$$){var $url$jscomp$94$$=$JSCompiler_StaticMethods_mergeShadowHead_$$($$jscomp$this$jscomp$178$$,$ampdoc$jscomp$83$$,$opt_initParams$jscomp$4$$,$hostElement$jscomp$4$$);$$jscomp$this$jscomp$178$$.$extensions_$.installExtensionsInDoc($ampdoc$jscomp$83$$,$url$jscomp$94$$);$hostElement$jscomp$4$$=$importShadowBody$$module$src$shadow_embed$$($opt_initParams$jscomp$4$$,$hostElement$jscomp$4$$.body,
!1);$hostElement$jscomp$4$$.classList.add("amp-shadow");$ampdoc$jscomp$83$$.setBody($hostElement$jscomp$4$$);return $hostElement$jscomp$4$$});$shadowRoot$jscomp$7$$.onBodyChunk(function(){$amp$jscomp$3$$||($amp$jscomp$3$$=!0,setTimeout(function(){$ampdoc$jscomp$83$$.signals().signal("render-start");$setStyle$$module$src$style$$($hostElement$jscomp$4$$,"visibility","visible")},50))});return new Promise(function($hostElement$jscomp$4$$){$shadowRoot$jscomp$7$$.onEnd(function(){$hostElement$jscomp$4$$();
$url$jscomp$94$$.writer=null})})})};
function $JSCompiler_StaticMethods_mergeShadowHead_$$($JSCompiler_StaticMethods_mergeShadowHead_$self$$,$ampdoc$jscomp$84$$,$shadowRoot$jscomp$8$$,$doc$jscomp$58_n$jscomp$16$$){var $extensionIds$jscomp$4$$=[];if($doc$jscomp$58_n$jscomp$16$$.head){for(var $parentLinks$$={},$el$jscomp$18_links$jscomp$1_rel$jscomp$1_src$jscomp$18$$=$childElementsByTag$$module$src$dom$$($JSCompiler_StaticMethods_mergeShadowHead_$self$$.win.document.head,"link"),$href$123_i$jscomp$178_match$jscomp$10_tagName$jscomp$36_version$jscomp$8$$=0;$href$123_i$jscomp$178_match$jscomp$10_tagName$jscomp$36_version$jscomp$8$$<
$el$jscomp$18_links$jscomp$1_rel$jscomp$1_src$jscomp$18$$.length;$href$123_i$jscomp$178_match$jscomp$10_tagName$jscomp$36_version$jscomp$8$$++){var $href$jscomp$2_name$jscomp$148$$=$el$jscomp$18_links$jscomp$1_rel$jscomp$1_src$jscomp$18$$[$href$123_i$jscomp$178_match$jscomp$10_tagName$jscomp$36_version$jscomp$8$$].getAttribute("href");$href$jscomp$2_name$jscomp$148$$&&($parentLinks$$[$href$jscomp$2_name$jscomp$148$$]=!0)}for($doc$jscomp$58_n$jscomp$16$$=$doc$jscomp$58_n$jscomp$16$$.head.firstElementChild;$doc$jscomp$58_n$jscomp$16$$;$doc$jscomp$58_n$jscomp$16$$=
$doc$jscomp$58_n$jscomp$16$$.nextElementSibling)switch($href$123_i$jscomp$178_match$jscomp$10_tagName$jscomp$36_version$jscomp$8$$=$doc$jscomp$58_n$jscomp$16$$.tagName,$href$jscomp$2_name$jscomp$148$$=$doc$jscomp$58_n$jscomp$16$$.getAttribute("name"),$el$jscomp$18_links$jscomp$1_rel$jscomp$1_src$jscomp$18$$=$doc$jscomp$58_n$jscomp$16$$.getAttribute("rel"),$href$123_i$jscomp$178_match$jscomp$10_tagName$jscomp$36_version$jscomp$8$$){case "TITLE":$shadowRoot$jscomp$8$$.AMP.title=$doc$jscomp$58_n$jscomp$16$$.textContent;
break;case "META":$doc$jscomp$58_n$jscomp$16$$.hasAttribute("charset")||"viewport"!=$href$jscomp$2_name$jscomp$148$$&&$dev$$module$src$log$$().warn("runtime","meta ignored: ",$doc$jscomp$58_n$jscomp$16$$);break;case "LINK":$href$123_i$jscomp$178_match$jscomp$10_tagName$jscomp$36_version$jscomp$8$$=$doc$jscomp$58_n$jscomp$16$$.getAttribute("href");"canonical"==$el$jscomp$18_links$jscomp$1_rel$jscomp$1_src$jscomp$18$$?$shadowRoot$jscomp$8$$.AMP.canonicalUrl=$href$123_i$jscomp$178_match$jscomp$10_tagName$jscomp$36_version$jscomp$8$$:
"stylesheet"!=$el$jscomp$18_links$jscomp$1_rel$jscomp$1_src$jscomp$18$$||$parentLinks$$[$href$123_i$jscomp$178_match$jscomp$10_tagName$jscomp$36_version$jscomp$8$$]||($parentLinks$$[$href$123_i$jscomp$178_match$jscomp$10_tagName$jscomp$36_version$jscomp$8$$]=!0,$el$jscomp$18_links$jscomp$1_rel$jscomp$1_src$jscomp$18$$=$JSCompiler_StaticMethods_mergeShadowHead_$self$$.win.document.createElement("link"),$el$jscomp$18_links$jscomp$1_rel$jscomp$1_src$jscomp$18$$.setAttribute("rel","stylesheet"),$el$jscomp$18_links$jscomp$1_rel$jscomp$1_src$jscomp$18$$.setAttribute("type",
"text/css"),$el$jscomp$18_links$jscomp$1_rel$jscomp$1_src$jscomp$18$$.setAttribute("href",$href$123_i$jscomp$178_match$jscomp$10_tagName$jscomp$36_version$jscomp$8$$),$JSCompiler_StaticMethods_mergeShadowHead_$self$$.win.document.head.appendChild($el$jscomp$18_links$jscomp$1_rel$jscomp$1_src$jscomp$18$$));break;case "STYLE":$doc$jscomp$58_n$jscomp$16$$.hasAttribute("amp-boilerplate")||($doc$jscomp$58_n$jscomp$16$$.hasAttribute("amp-custom")?$installStylesForDoc$$module$src$style_installer$$($ampdoc$jscomp$84$$,
$doc$jscomp$58_n$jscomp$16$$.textContent,null,!1,"amp-custom"):$doc$jscomp$58_n$jscomp$16$$.hasAttribute("amp-keyframes")&&$installStylesForDoc$$module$src$style_installer$$($ampdoc$jscomp$84$$,$doc$jscomp$58_n$jscomp$16$$.textContent,null,!1,"amp-keyframes"));break;case "SCRIPT":if($doc$jscomp$58_n$jscomp$16$$.hasAttribute("src")){var $el$jscomp$18_links$jscomp$1_rel$jscomp$1_src$jscomp$18$$=$doc$jscomp$58_n$jscomp$16$$.getAttribute("src"),$isRuntime$$=-1!=$el$jscomp$18_links$jscomp$1_rel$jscomp$1_src$jscomp$18$$.indexOf("/amp.js")||
-1!=$el$jscomp$18_links$jscomp$1_rel$jscomp$1_src$jscomp$18$$.indexOf("/v0.js"),$customElement$$=$doc$jscomp$58_n$jscomp$16$$.getAttribute("custom-element"),$customTemplate$$=$doc$jscomp$58_n$jscomp$16$$.getAttribute("custom-template"),$versionRe$$=/-(\d+.\d+)(.max)?\.js$/,$href$123_i$jscomp$178_match$jscomp$10_tagName$jscomp$36_version$jscomp$8$$=($href$123_i$jscomp$178_match$jscomp$10_tagName$jscomp$36_version$jscomp$8$$=$versionRe$$.exec($el$jscomp$18_links$jscomp$1_rel$jscomp$1_src$jscomp$18$$))?
$href$123_i$jscomp$178_match$jscomp$10_tagName$jscomp$36_version$jscomp$8$$[1]:"0.1";$isRuntime$$||($customElement$$||$customTemplate$$?($JSCompiler_StaticMethods_mergeShadowHead_$self$$.$extensions_$.installExtensionForDoc($ampdoc$jscomp$84$$,$customElement$$||$customTemplate$$,$href$123_i$jscomp$178_match$jscomp$10_tagName$jscomp$36_version$jscomp$8$$),$customElement$$&&$extensionIds$jscomp$4$$.push($customElement$$)):$doc$jscomp$58_n$jscomp$16$$.hasAttribute("data-amp-report-test")||$user$$module$src$log$$().error("runtime",
"- unknown script: ",$doc$jscomp$58_n$jscomp$16$$,$el$jscomp$18_links$jscomp$1_rel$jscomp$1_src$jscomp$18$$))}else-1==($doc$jscomp$58_n$jscomp$16$$.getAttribute("type")||"application/javascript").indexOf("javascript")?$shadowRoot$jscomp$8$$.appendChild($JSCompiler_StaticMethods_mergeShadowHead_$self$$.win.document.importNode($doc$jscomp$58_n$jscomp$16$$,!0)):$user$$module$src$log$$().error("runtime","- unallowed inline javascript: ",$doc$jscomp$58_n$jscomp$16$$);break;case "NOSCRIPT":break;default:$user$$module$src$log$$().error("runtime",
"- UNKNOWN head element:",$doc$jscomp$58_n$jscomp$16$$)}}return $extensionIds$jscomp$4$$}
function $JSCompiler_StaticMethods_broadcast_$$($JSCompiler_StaticMethods_broadcast_$self$$,$data$jscomp$72$$,$sender$jscomp$1$$){$JSCompiler_StaticMethods_purgeShadowRoots_$$($JSCompiler_StaticMethods_broadcast_$self$$);$JSCompiler_StaticMethods_broadcast_$self$$.B.forEach(function($shadowRoot$jscomp$9$$){if($shadowRoot$jscomp$9$$!=$sender$jscomp$1$$){var $viewer$jscomp$27$$=$Services$$module$src$services$viewerForDoc$$($shadowRoot$jscomp$9$$.AMP.ampdoc);$JSCompiler_StaticMethods_broadcast_$self$$.$timer_$.delay(function(){$viewer$jscomp$27$$.receiveMessage("broadcast",
$data$jscomp$72$$,!1)},0)}})}
function $JSCompiler_StaticMethods_closeShadowRoot_$$($JSCompiler_StaticMethods_closeShadowRoot_$self_JSCompiler_viewer$jscomp$inline_2073_amp$jscomp$4$$,$ampdoc$jscomp$85_shadowRoot$jscomp$10$$){$JSCompiler_StaticMethods_removeShadowRoot_$$($JSCompiler_StaticMethods_closeShadowRoot_$self_JSCompiler_viewer$jscomp$inline_2073_amp$jscomp$4$$,$ampdoc$jscomp$85_shadowRoot$jscomp$10$$);$JSCompiler_StaticMethods_closeShadowRoot_$self_JSCompiler_viewer$jscomp$inline_2073_amp$jscomp$4$$=$ampdoc$jscomp$85_shadowRoot$jscomp$10$$.AMP;
delete $ampdoc$jscomp$85_shadowRoot$jscomp$10$$.AMP;$ampdoc$jscomp$85_shadowRoot$jscomp$10$$=$JSCompiler_StaticMethods_closeShadowRoot_$self_JSCompiler_viewer$jscomp$inline_2073_amp$jscomp$4$$.ampdoc;$JSCompiler_StaticMethods_closeShadowRoot_$self_JSCompiler_viewer$jscomp$inline_2073_amp$jscomp$4$$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$85_shadowRoot$jscomp$10$$);$JSCompiler_StaticMethods_setVisibilityState_$$($JSCompiler_StaticMethods_closeShadowRoot_$self_JSCompiler_viewer$jscomp$inline_2073_amp$jscomp$4$$,
"inactive");$disposeServicesInternal$$module$src$service$$($ampdoc$jscomp$85_shadowRoot$jscomp$10$$)}
function $JSCompiler_StaticMethods_removeShadowRoot_$$($JSCompiler_StaticMethods_removeShadowRoot_$self$$,$index$jscomp$69_shadowRoot$jscomp$11$$){$index$jscomp$69_shadowRoot$jscomp$11$$=$JSCompiler_StaticMethods_removeShadowRoot_$self$$.B.indexOf($index$jscomp$69_shadowRoot$jscomp$11$$);-1!=$index$jscomp$69_shadowRoot$jscomp$11$$&&$JSCompiler_StaticMethods_removeShadowRoot_$self$$.B.splice($index$jscomp$69_shadowRoot$jscomp$11$$,1)}
function $JSCompiler_StaticMethods_closeShadowRootAsync_$$($JSCompiler_StaticMethods_closeShadowRootAsync_$self$$,$shadowRoot$jscomp$12$$){$JSCompiler_StaticMethods_closeShadowRootAsync_$self$$.$timer_$.delay(function(){$JSCompiler_StaticMethods_closeShadowRoot_$$($JSCompiler_StaticMethods_closeShadowRootAsync_$self$$,$shadowRoot$jscomp$12$$)},0)}
function $JSCompiler_StaticMethods_purgeShadowRoots_$$($JSCompiler_StaticMethods_purgeShadowRoots_$self$$){$JSCompiler_StaticMethods_purgeShadowRoots_$self$$.B.forEach(function($shadowRoot$jscomp$13$$){$JSCompiler_StaticMethods_purgeShadowRoots_$self$$.win.document.contains($shadowRoot$jscomp$13$$.host)||($user$$module$src$log$$().warn("runtime","Shadow doc wasn't previously closed"),$JSCompiler_StaticMethods_removeShadowRoot_$$($JSCompiler_StaticMethods_purgeShadowRoots_$self$$,$shadowRoot$jscomp$13$$),
$JSCompiler_StaticMethods_closeShadowRootAsync_$$($JSCompiler_StaticMethods_purgeShadowRoots_$self$$,$shadowRoot$jscomp$13$$))})}
function $assertConfig$$module$extensions$amp_next_page$0_1$config$$($config$jscomp$47$$,$origin$jscomp$25$$,$sourceOrigin$jscomp$3$$){$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$($config$jscomp$47$$,"amp-next-page config must be specified");$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$($isArray$$module$src$types$$($config$jscomp$47$$.pages),"pages must be an array");$assertRecos$$module$extensions$amp_next_page$0_1$config$$($config$jscomp$47$$.pages,$origin$jscomp$25$$,
$sourceOrigin$jscomp$3$$);"hideSelectors"in $config$jscomp$47$$&&($user$$module$src$log$$().$Log$$module$src$log_prototype$assert$($isArray$$module$src$types$$($config$jscomp$47$$.hideSelectors),"amp-next-page hideSelectors should be an array"),$assertSelectors$$module$extensions$amp_next_page$0_1$config$$($config$jscomp$47$$.hideSelectors));return $config$jscomp$47$$}
function $assertRecos$$module$extensions$amp_next_page$0_1$config$$($recos$$,$origin$jscomp$26$$,$sourceOrigin$jscomp$4$$){$recos$$.forEach(function($recos$$){var $reco$$=$recos$$,$JSCompiler_url$jscomp$inline_2081$$=$parseUrlDeprecated$$module$src$url$$($reco$$.ampUrl);$user$$module$src$log$$().assertString($reco$$.ampUrl,"ampUrl must be a string");$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$($JSCompiler_url$jscomp$inline_2081$$.origin===$origin$jscomp$26$$||$JSCompiler_url$jscomp$inline_2081$$.origin===
$sourceOrigin$jscomp$4$$,"pages must be from the same origin as the current document");$user$$module$src$log$$().assertString($reco$$.image,"image must be a string");$user$$module$src$log$$().assertString($reco$$.title,"title must be a string");$sourceOrigin$jscomp$4$$&&($reco$$.ampUrl=$origin$jscomp$26$$+"/c/"+("https:"===$JSCompiler_url$jscomp$inline_2081$$.protocol?"s/":"")+encodeURIComponent($JSCompiler_url$jscomp$inline_2081$$.host)+$JSCompiler_url$jscomp$inline_2081$$.pathname+($JSCompiler_url$jscomp$inline_2081$$.search||
"")+($JSCompiler_url$jscomp$inline_2081$$.hash||""))})}var $BANNED_SELECTOR_PATTERNS$$module$extensions$amp_next_page$0_1$config$$=[/(^|\W)i-amphtml-/];
function $assertSelectors$$module$extensions$amp_next_page$0_1$config$$($selectors$jscomp$11$$){$selectors$jscomp$11$$.forEach(function($selectors$jscomp$11$$){$BANNED_SELECTOR_PATTERNS$$module$extensions$amp_next_page$0_1$config$$.forEach(function($selector$jscomp$36$$){$user$$module$src$log$$().assertString($selectors$jscomp$11$$,"amp-next-page hideSelector value "+$selectors$jscomp$11$$+" is not a string");$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$(!$selector$jscomp$36$$.test($selectors$jscomp$11$$),
"amp-next-page hideSelector '"+$selectors$jscomp$11$$+"' not allowed")})})};function $NextPageService$$module$extensions$amp_next_page$0_1$next_page_service$$(){this.M=this.I=this.O=this.$config_$=this.G=this.B=null;this.D=0;this.F=!1;this.$positionObserver_$=this.$viewport_$=this.$viewer_$=null;this.C=[];this.H=null;this.J=function(){}}$JSCompiler_prototypeAlias$$=$NextPageService$$module$extensions$amp_next_page$0_1$next_page_service$$.prototype;$JSCompiler_prototypeAlias$$.isActive=function(){return null!==this.$config_$};
$JSCompiler_prototypeAlias$$.register=function($element$jscomp$385$$,$config$jscomp$48$$,$separator$jscomp$1$$){var $$jscomp$this$jscomp$622$$=this;if(!this.isActive()){var $ampDoc$jscomp$23$$=$getAmpdoc$$module$src$service$$($element$jscomp$385$$),$win$jscomp$312$$=$ampDoc$jscomp$23$$.win;this.$config_$=$config$jscomp$48$$;this.B=$win$jscomp$312$$;this.O=$separator$jscomp$1$$||$JSCompiler_StaticMethods_createDefaultSeparator_$$(this);this.G=$element$jscomp$385$$;this.$config_$.hideSelectors&&(this.K=
this.$config_$.hideSelectors.join(","));this.$viewer_$=$Services$$module$src$services$viewerForDoc$$($ampDoc$jscomp$23$$);this.$viewport_$=$Services$$module$src$services$viewportForDoc$$($ampDoc$jscomp$23$$);this.I=$Services$$module$src$services$resourcesForDoc$$($ampDoc$jscomp$23$$);this.M=new $MultidocManager$$module$src$runtime$$($win$jscomp$312$$,$Services$$module$src$services$ampdocServiceFor$$($win$jscomp$312$$),$Services$$module$src$services$extensionsFor$$($win$jscomp$312$$),$Services$$module$src$services$timerFor$$($win$jscomp$312$$));
$installPositionObserverServiceForDoc$$module$src$service$position_observer$position_observer_impl$$($ampDoc$jscomp$23$$);this.$positionObserver_$=$getServiceForDoc$$module$src$service$$($ampDoc$jscomp$23$$,"position-observer");this.C.push({ampUrl:$win$jscomp$312$$.document.location.href,amp:{title:$win$jscomp$312$$.document.title},recUnit:null,cancelled:!1});this.H=this.C[0];this.$viewport_$.onScroll(function(){return $$jscomp$this$jscomp$622$$.$scrollHandler_$()});this.$viewport_$.onResize(function(){return $$jscomp$this$jscomp$622$$.$scrollHandler_$()});
this.$scrollHandler_$()}};$JSCompiler_prototypeAlias$$.setAppendPageHandler=function($handler$jscomp$47$$){this.J=$handler$jscomp$47$$};
function $JSCompiler_StaticMethods_createDefaultSeparator_$$($JSCompiler_StaticMethods_createDefaultSeparator_$self_separator$jscomp$2$$){$JSCompiler_StaticMethods_createDefaultSeparator_$self_separator$jscomp$2$$=$JSCompiler_StaticMethods_createDefaultSeparator_$self_separator$jscomp$2$$.B.document.createElement("div");$JSCompiler_StaticMethods_createDefaultSeparator_$self_separator$jscomp$2$$.classList.add("amp-next-page-default-separator");return $JSCompiler_StaticMethods_createDefaultSeparator_$self_separator$jscomp$2$$}
function $JSCompiler_StaticMethods_appendNextArticle_$$($JSCompiler_StaticMethods_appendNextArticle_$self$$){if($JSCompiler_StaticMethods_appendNextArticle_$self$$.D<$JSCompiler_StaticMethods_appendNextArticle_$self$$.$config_$.pages.length){var $next$jscomp$7$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$config_$.pages[$JSCompiler_StaticMethods_appendNextArticle_$self$$.D],$documentRef$$={ampUrl:$next$jscomp$7$$.ampUrl,amp:null,recUnit:null,cancelled:!1};$JSCompiler_StaticMethods_appendNextArticle_$self$$.C.push($documentRef$$);
var $container$jscomp$16$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.B.document.createElement("div"),$separator$jscomp$3$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.O.cloneNode(!0);$separator$jscomp$3$$.removeAttribute("separator");$container$jscomp$16$$.appendChild($separator$jscomp$3$$);var $articleLinks$$=$JSCompiler_StaticMethods_createArticleLinks_$$($JSCompiler_StaticMethods_appendNextArticle_$self$$,$JSCompiler_StaticMethods_appendNextArticle_$self$$.D);$container$jscomp$16$$.appendChild($articleLinks$$);
$documentRef$$.recUnit=$articleLinks$$;var $shadowRoot$jscomp$15$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.B.document.createElement("div");$container$jscomp$16$$.appendChild($shadowRoot$jscomp$15$$);var $page$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.D;$JSCompiler_StaticMethods_appendNextArticle_$self$$.J($container$jscomp$16$$).then(function(){$JSCompiler_StaticMethods_appendNextArticle_$self$$.$positionObserver_$.observe($separator$jscomp$3$$,0,function($next$jscomp$7$$){var $documentRef$$=
$page$$;if($next$jscomp$7$$&&null===$next$jscomp$7$$.positionRect){var $container$jscomp$16$$,$separator$jscomp$3$$="";"top"===$next$jscomp$7$$.relativePos?($container$jscomp$16$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.C[$documentRef$$+1],$separator$jscomp$3$$="amp-next-page-scroll"):"bottom"===$next$jscomp$7$$.relativePos&&($container$jscomp$16$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.C[$documentRef$$],$separator$jscomp$3$$="amp-next-page-scroll-back");$container$jscomp$16$$&&
$container$jscomp$16$$.amp&&($JSCompiler_StaticMethods_appendNextArticle_$self$$.$triggerAnalyticsEvent_$($separator$jscomp$3$$,$container$jscomp$16$$.ampUrl,$JSCompiler_StaticMethods_appendNextArticle_$self$$.H.ampUrl),$next$jscomp$7$$=$container$jscomp$16$$,$documentRef$$=$next$jscomp$7$$.amp,$JSCompiler_StaticMethods_appendNextArticle_$self$$.B.document.title=$documentRef$$.title||"",$JSCompiler_StaticMethods_appendNextArticle_$self$$.B.history.replaceState&&($container$jscomp$16$$=$parseUrlDeprecated$$module$src$url$$($next$jscomp$7$$.ampUrl),
$JSCompiler_StaticMethods_appendNextArticle_$self$$.B.history.replaceState({},$documentRef$$.title,$container$jscomp$16$$.pathname)),$JSCompiler_StaticMethods_appendNextArticle_$self$$.H=$next$jscomp$7$$)}});$JSCompiler_StaticMethods_appendNextArticle_$self$$.$positionObserver_$.observe($articleLinks$$,0,function(){var $next$jscomp$7$$=$documentRef$$;$next$jscomp$7$$.cancelled=!0;$next$jscomp$7$$.recUnit&&$JSCompiler_StaticMethods_appendNextArticle_$self$$.$positionObserver_$.unobserve($next$jscomp$7$$.recUnit)})});
2<=$JSCompiler_StaticMethods_appendNextArticle_$self$$.D||($JSCompiler_StaticMethods_appendNextArticle_$self$$.D++,$Services$$module$src$services$xhrFor$$($JSCompiler_StaticMethods_appendNextArticle_$self$$.B).fetchDocument($next$jscomp$7$$.ampUrl,{ampCors:!1}).then(function($next$jscomp$7$$){return new Promise(function($separator$jscomp$3$$,$page$$){$documentRef$$.cancelled?$separator$jscomp$3$$():($JSCompiler_StaticMethods_appendNextArticle_$self$$.$positionObserver_$.unobserve($articleLinks$$),
$JSCompiler_StaticMethods_appendNextArticle_$self$$.I.mutateElement($container$jscomp$16$$,function(){try{if($JSCompiler_StaticMethods_appendNextArticle_$self$$.K)for(var $container$jscomp$16$$=$next$jscomp$7$$.querySelectorAll($JSCompiler_StaticMethods_appendNextArticle_$self$$.K),$articleLinks$$=0;$articleLinks$$<$container$jscomp$16$$.length;$articleLinks$$++)$container$jscomp$16$$[$articleLinks$$].classList.add("i-amphtml-next-page-hidden");for(var $doc$jscomp$85$$=$next$jscomp$7$$.querySelectorAll("amp-analytics"),
$container$jscomp$16$$=0;$container$jscomp$16$$<$doc$jscomp$85$$.length;$container$jscomp$16$$++)$removeElement$$module$src$dom$$($doc$jscomp$85$$[$container$jscomp$16$$]);var $resolve$jscomp$59$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.M.D($shadowRoot$jscomp$15$$,$next$jscomp$7$$,"",{});$installStylesForDoc$$module$src$style_installer$$($resolve$jscomp$59$$.ampdoc,".amp-next-page-default-separator{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-links{border-top:1px solid rgba(0,0,0,0.12)}.amp-next-page-link{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-text{color:#3c4043;font-size:17px}.i-amphtml-next-page-document{overflow-y:hidden}.i-amphtml-next-page-document>[i-amphtml-fixedid]{display:none}.i-amphtml-next-page-hidden{display:none!important}.i-amphtml-next-page{background:#fff}.i-amphtml-next-page>[separator]{display:none}.i-amphtml-reco-holder-article{display:block;overflow:auto;padding:10px 0;text-decoration:none}.i-amphtml-next-article-image{width:72px;height:72px;float:left;margin:0 10px;background-size:cover;background-position:50%}.i-amphtml-next-article-title{position:relative;margin:5px 30px 5px 0}\n/*# sourceURL=/extensions/amp-next-page/0.1/amp-next-page.css*/",
null,!1,"amp-next-page");$resolve$jscomp$59$$.ampdoc.getBody().classList.add("i-amphtml-next-page-document");$documentRef$$.amp=$resolve$jscomp$59$$;$setStyle$$module$src$style$$($documentRef$$.recUnit,"display","none");$JSCompiler_StaticMethods_appendNextArticle_$self$$.F=!1;$separator$jscomp$3$$()}catch($e$jscomp$254$$){$page$$($e$jscomp$254$$)}}))})},function($JSCompiler_StaticMethods_appendNextArticle_$self$$){return $dev$$module$src$log$$().error("amp-next-page","failed to fetch "+$next$jscomp$7$$.ampUrl,
$JSCompiler_StaticMethods_appendNextArticle_$self$$)}).catch(function($JSCompiler_StaticMethods_appendNextArticle_$self$$){return $dev$$module$src$log$$().error("amp-next-page","failed to attach shadow document for "+$next$jscomp$7$$.ampUrl,$JSCompiler_StaticMethods_appendNextArticle_$self$$)}).then(function(){return $JSCompiler_StaticMethods_appendNextArticle_$self$$.$scrollHandler_$()}))}}
function $JSCompiler_StaticMethods_createArticleLinks_$$($JSCompiler_StaticMethods_createArticleLinks_$self$$,$nextPage$$){var $doc$jscomp$86$$=$JSCompiler_StaticMethods_createArticleLinks_$self$$.B.document,$currentArticle$$=$nextPage$$-1,$article$$=$nextPage$$,$currentAmpUrl$$="";0<$nextPage$$&&($currentAmpUrl$$=$JSCompiler_StaticMethods_createArticleLinks_$self$$.C[$currentArticle$$].ampUrl);var $element$jscomp$386$$=$doc$jscomp$86$$.createElement("div");$element$jscomp$386$$.classList.add("amp-next-page-links");
for(var $$jscomp$loop$210$$={};$article$$<$JSCompiler_StaticMethods_createArticleLinks_$self$$.$config_$.pages.length&&3>$article$$-$nextPage$$;){$$jscomp$loop$210$$.next=$JSCompiler_StaticMethods_createArticleLinks_$self$$.$config_$.pages[$article$$];$article$$++;var $articleHolder$$=$doc$jscomp$86$$.createElement("a");$articleHolder$$.href=$$jscomp$loop$210$$.next.ampUrl;$articleHolder$$.classList.add("i-amphtml-reco-holder-article","amp-next-page-link");$articleHolder$$.addEventListener("click",
function($nextPage$$){return function($doc$jscomp$86$$){$JSCompiler_StaticMethods_createArticleLinks_$self$$.$triggerAnalyticsEvent_$("amp-next-page-click",$nextPage$$.next.ampUrl,$currentAmpUrl$$);var $currentArticle$$=$JSCompiler_StaticMethods_createArticleLinks_$self$$.$viewer_$.navigateToAmpUrl($nextPage$$.next.ampUrl,"content-discovery");$currentArticle$$&&$doc$jscomp$86$$.preventDefault()}}($$jscomp$loop$210$$));var $imageElement$$=$doc$jscomp$86$$.createElement("div");$imageElement$$.classList.add("i-amphtml-next-article-image",
"amp-next-page-image");$setStyle$$module$src$style$$($imageElement$$,"background-image","url("+$$jscomp$loop$210$$.next.image+")");$articleHolder$$.appendChild($imageElement$$);var $titleElement$$=$doc$jscomp$86$$.createElement("div");$titleElement$$.classList.add("i-amphtml-next-article-title","amp-next-page-text");$titleElement$$.textContent=$$jscomp$loop$210$$.next.title;$articleHolder$$.appendChild($titleElement$$);$element$jscomp$386$$.appendChild($articleHolder$$);$$jscomp$loop$210$$={next:$$jscomp$loop$210$$.next}}return $element$jscomp$386$$}
$JSCompiler_prototypeAlias$$.$scrollHandler_$=function(){var $$jscomp$this$jscomp$625$$=this;if(!this.F){var $viewportSize$jscomp$10$$=this.$viewport_$.getSize(),$viewportBox$jscomp$3$$=$layoutRectLtwh$$module$src$layout_rect$$(0,0,$viewportSize$jscomp$10$$.width,$viewportSize$jscomp$10$$.height);this.$viewport_$.getClientRectAsync(this.G).then(function($elementBox$jscomp$1$$){if(!$$jscomp$this$jscomp$625$$.F){var $prerenderHeight$$=3*$viewportSize$jscomp$10$$.height;$elementBox$jscomp$1$$.bottom-
$viewportBox$jscomp$3$$.bottom<$prerenderHeight$$&&($$jscomp$this$jscomp$625$$.F=!0,$JSCompiler_StaticMethods_appendNextArticle_$$($$jscomp$this$jscomp$625$$))}})}};$JSCompiler_prototypeAlias$$.$triggerAnalyticsEvent_$=function($eventType$jscomp$50$$,$toURL$$,$fromURL$$){$fromURL$$=$fromURL$$||"";$triggerAnalyticsEvent$$module$src$analytics$$(this.G,$eventType$jscomp$50$$,{toURL:$toURL$$,fromURL:$fromURL$$})};function $AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page$$($$jscomp$super$this$jscomp$62_element$jscomp$387$$){$$jscomp$super$this$jscomp$62_element$jscomp$387$$=AMP.BaseElement.call(this,$$jscomp$super$this$jscomp$62_element$jscomp$387$$)||this;$$jscomp$super$this$jscomp$62_element$jscomp$387$$.$service_$=$getService$$module$src$service$$($$jscomp$super$this$jscomp$62_element$jscomp$387$$.win,"next-page");return $$jscomp$super$this$jscomp$62_element$jscomp$387$$}
$$jscomp$inherits$$($AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page$$,AMP.BaseElement);$AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page$$.prototype.isLayoutSupported=function($layout$jscomp$66$$){return"container"==$layout$jscomp$66$$};
$AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page$$.prototype.buildCallback=function(){var $$jscomp$this$jscomp$626$$=this;$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$($isExperimentOn$$module$src$experiments$$(this.win,"amp-next-page"),"Experiment amp-next-page disabled");if(!this.$service_$.isActive()){this.element.classList.add("i-amphtml-next-page");var $scriptElements$$=$childElementsByTag$$module$src$dom$$(this.element,"SCRIPT");$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$(1==
$scriptElements$$.length,"amp-next-page should contain only one <script> child.");var $config$jscomp$49_configJson$jscomp$15_scriptElement$jscomp$4$$=$scriptElements$$[0];$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$($isJsonScriptTag$$module$src$dom$$($config$jscomp$49_configJson$jscomp$15_scriptElement$jscomp$4$$),'amp-next-page config should be inside a <script> tag with type="application/json"');var $config$jscomp$49_configJson$jscomp$15_scriptElement$jscomp$4$$=$tryParseJson$$module$src$json$$($config$jscomp$49_configJson$jscomp$15_scriptElement$jscomp$4$$.textContent,
function($$jscomp$this$jscomp$626$$){$user$$module$src$log$$().error("amp-next-page","failed to parse config",$$jscomp$this$jscomp$626$$)}),$docInfo$jscomp$7_separator$jscomp$4$$=$Services$$module$src$services$documentInfoForDoc$$(this.element),$url$jscomp$164$$=$parseUrlDeprecated$$module$src$url$$($docInfo$jscomp$7_separator$jscomp$4$$.url),$sourceOrigin$jscomp$6$$=$getSourceOrigin$$module$src$url$$($url$jscomp$164$$),$config$jscomp$49_configJson$jscomp$15_scriptElement$jscomp$4$$=$assertConfig$$module$extensions$amp_next_page$0_1$config$$($config$jscomp$49_configJson$jscomp$15_scriptElement$jscomp$4$$,
$url$jscomp$164$$.origin,$sourceOrigin$jscomp$6$$);$isProxyOrigin$$module$src$url$$($url$jscomp$164$$)&&$config$jscomp$49_configJson$jscomp$15_scriptElement$jscomp$4$$.pages.forEach(function($$jscomp$this$jscomp$626$$){$$jscomp$this$jscomp$626$$.ampUrl=$$jscomp$this$jscomp$626$$.ampUrl.replace($sourceOrigin$jscomp$6$$,$url$jscomp$164$$.origin)});var $separatorElements$$=$scopedQuerySelectorAll$$module$src$dom$$(this.element,"> [separator]");$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$(1>=
$separatorElements$$.length,"amp-next-page should contain at most one <div separator> child");$docInfo$jscomp$7_separator$jscomp$4$$=null;1===$separatorElements$$.length&&($docInfo$jscomp$7_separator$jscomp$4$$=$separatorElements$$[0]);this.$service_$.register(this.element,$config$jscomp$49_configJson$jscomp$15_scriptElement$jscomp$4$$,$docInfo$jscomp$7_separator$jscomp$4$$);this.$service_$.setAppendPageHandler(function($scriptElements$$){return $JSCompiler_StaticMethods_appendPage_$$($$jscomp$this$jscomp$626$$,
$scriptElements$$)})}};function $JSCompiler_StaticMethods_appendPage_$$($JSCompiler_StaticMethods_appendPage_$self$$,$element$jscomp$389$$){return $JSCompiler_StaticMethods_appendPage_$self$$.mutateElement(function(){return $JSCompiler_StaticMethods_appendPage_$self$$.element.appendChild($element$jscomp$389$$)})}
(function($AMP$jscomp$67$$){var $service$jscomp$25$$=new $NextPageService$$module$extensions$amp_next_page$0_1$next_page_service$$;$AMP$jscomp$67$$.registerServiceForDoc("next-page",function(){return $service$jscomp$25$$});$AMP$jscomp$67$$.registerElement("amp-next-page",$AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page$$,".amp-next-page-default-separator{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-links{border-top:1px solid rgba(0,0,0,0.12)}.amp-next-page-link{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-text{color:#3c4043;font-size:17px}.i-amphtml-next-page-document{overflow-y:hidden}.i-amphtml-next-page-document>[i-amphtml-fixedid]{display:none}.i-amphtml-next-page-hidden{display:none!important}.i-amphtml-next-page{background:#fff}.i-amphtml-next-page>[separator]{display:none}.i-amphtml-reco-holder-article{display:block;overflow:auto;padding:10px 0;text-decoration:none}.i-amphtml-next-article-image{width:72px;height:72px;float:left;margin:0 10px;background-size:cover;background-position:50%}.i-amphtml-next-article-title{position:relative;margin:5px 30px 5px 0}\n/*# sourceURL=/extensions/amp-next-page/0.1/amp-next-page.css*/")})(self.AMP);})});
//# sourceMappingURL=extensions-amp-next-page-0.1-amp-next-page.js.map

