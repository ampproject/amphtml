(self.AMP=self.AMP||[]).push({n:"extensions-amp-fx-flying-carpet-0.1-amp-fx-flying-carpet.js", v:"erwin", f:(function(){function $AmpFlyingCarpet$$module$extensions$amp_fx_flying_carpet$0_1$amp_fx_flying_carpet$$($$jscomp$super$this$jscomp$40_element$jscomp$328$$){$$jscomp$super$this$jscomp$40_element$jscomp$328$$=AMP.BaseElement.call(this,$$jscomp$super$this$jscomp$40_element$jscomp$328$$)||this;$$jscomp$super$this$jscomp$40_element$jscomp$328$$.$children_$=[];$$jscomp$super$this$jscomp$40_element$jscomp$328$$.$totalChildren_$=0;$$jscomp$super$this$jscomp$40_element$jscomp$328$$.$container_$=null;return $$jscomp$super$this$jscomp$40_element$jscomp$328$$}
$$jscomp$inherits$$($AmpFlyingCarpet$$module$extensions$amp_fx_flying_carpet$0_1$amp_fx_flying_carpet$$,AMP.BaseElement);$JSCompiler_prototypeAlias$$=$AmpFlyingCarpet$$module$extensions$amp_fx_flying_carpet$0_1$amp_fx_flying_carpet$$.prototype;$JSCompiler_prototypeAlias$$.isLayoutSupported=function($layout$jscomp$50$$){return"fixed-height"==$layout$jscomp$50$$};
$JSCompiler_prototypeAlias$$.buildCallback=function(){var $$jscomp$this$jscomp$514$$=this,$doc$jscomp$78$$=this.element.ownerDocument,$container$jscomp$10$$=$doc$jscomp$78$$.createElement("div");this.$children_$=this.getRealChildren();this.$container_$=$container$jscomp$10$$;var $childNodes$$=this.getRealChildNodes();this.$totalChildren_$=$JSCompiler_StaticMethods_visibileChildren_$$($childNodes$$).length;this.$children_$.forEach(function($doc$jscomp$78$$){return $$jscomp$this$jscomp$514$$.setAsOwner($doc$jscomp$78$$)});
var $clip$$=$doc$jscomp$78$$.createElement("div");$clip$$.setAttribute("class","i-amphtml-fx-flying-carpet-clip");$container$jscomp$10$$.setAttribute("class","i-amphtml-fx-flying-carpet-container");$childNodes$$.forEach(function($$jscomp$this$jscomp$514$$){return $container$jscomp$10$$.appendChild($$jscomp$this$jscomp$514$$)});$clip$$.appendChild($container$jscomp$10$$);this.element.appendChild($clip$$);this.getViewport().addToFixedLayer($container$jscomp$10$$)};
$JSCompiler_prototypeAlias$$.onLayoutMeasure=function(){var $$jscomp$this$jscomp$515$$=this,$width$jscomp$45$$=this.getLayoutWidth();this.getVsync().mutate(function(){$setStyle$$module$src$style$$($$jscomp$this$jscomp$515$$.$container_$,"width",$width$jscomp$45$$,"px")})};$JSCompiler_prototypeAlias$$.viewportCallback=function($inViewport$jscomp$17$$){this.updateInViewport(this.$children_$,$inViewport$jscomp$17$$)};
$JSCompiler_prototypeAlias$$.$assertPosition_$=function(){var $layoutBox$jscomp$7$$=this.element.getLayoutBox(),$minTop$jscomp$2_viewport$jscomp$15$$=this.getViewport(),$viewportHeight$jscomp$6$$=$minTop$jscomp$2_viewport$jscomp$15$$.getHeight(),$docHeight$$=$minTop$jscomp$2_viewport$jscomp$15$$.getScrollHeight(),$minTop$jscomp$2_viewport$jscomp$15$$=.75*$viewportHeight$jscomp$6$$,$maxTop$$=$docHeight$$-.95*$viewportHeight$jscomp$6$$;$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$($layoutBox$jscomp$7$$.top>=
$minTop$jscomp$2_viewport$jscomp$15$$,"<amp-fx-flying-carpet> elements must be positioned after the 75% of first viewport: %s Current position: %s. Min: %s",this.element,$layoutBox$jscomp$7$$.top,$minTop$jscomp$2_viewport$jscomp$15$$);$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$($layoutBox$jscomp$7$$.top<=$maxTop$$,"<amp-fx-flying-carpet> elements must be positioned before the last viewport: %s Current position: %s. Max: %s",this.element,$layoutBox$jscomp$7$$.top,$maxTop$$)};
$JSCompiler_prototypeAlias$$.layoutCallback=function(){try{this.$assertPosition_$()}catch($e$jscomp$237$$){throw this.collapse(),$e$jscomp$237$$;}this.scheduleLayout(this.$children_$);$listen$$module$src$event_helper$$(this.element,"amp:built",this.$layoutBuiltChild_$.bind(this));return Promise.resolve()};
$JSCompiler_prototypeAlias$$.$layoutBuiltChild_$=function($child$jscomp$19_event$jscomp$100$$){$child$jscomp$19_event$jscomp$100$$=$child$jscomp$19_event$jscomp$100$$.target;$child$jscomp$19_event$jscomp$100$$.getOwner()===this.element&&this.scheduleLayout($child$jscomp$19_event$jscomp$100$$)};
$JSCompiler_prototypeAlias$$.collapsedCallback=function($child$jscomp$20_index$jscomp$99$$){$child$jscomp$20_index$jscomp$99$$=this.$children_$.indexOf($child$jscomp$20_index$jscomp$99$$);if(-1<$child$jscomp$20_index$jscomp$99$$&&(this.$children_$.splice($child$jscomp$20_index$jscomp$99$$,1),this.$totalChildren_$--,0==this.$totalChildren_$))return this.attemptCollapse().catch(function(){})};
function $JSCompiler_StaticMethods_visibileChildren_$$($nodes$jscomp$5$$){return $nodes$jscomp$5$$.filter(function($nodes$jscomp$5$$){return 1===$nodes$jscomp$5$$.nodeType?!0:3===$nodes$jscomp$5$$.nodeType?/\S/.test($nodes$jscomp$5$$.textContent):!1})}(function($AMP$jscomp$45$$){$AMP$jscomp$45$$.registerElement("amp-fx-flying-carpet",$AmpFlyingCarpet$$module$extensions$amp_fx_flying_carpet$0_1$amp_fx_flying_carpet$$,"amp-fx-flying-carpet{position:relative!important;box-sizing:border-box!important}amp-fx-flying-carpet>.i-amphtml-fx-flying-carpet-clip{position:absolute!important;top:0!important;left:0!important;width:100%!important;height:100%!important;border:0!important;margin:0!important;padding:0!important;clip:rect(0,auto,auto,0)!important;-webkit-clip-path:polygon(0px 0px,100% 0px,100% 100%,0px 100%)!important;clip-path:polygon(0px 0px,100% 0px,100% 100%,0px 100%)!important}amp-fx-flying-carpet>.i-amphtml-fx-flying-carpet-clip>.i-amphtml-fx-flying-carpet-container{position:fixed!important;top:0!important;width:100%;height:100%;-webkit-transform:translateZ(0)!important;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.i-amphtml-fx-flying-carpet-container>.i-amphtml-layout-fixed-height,.i-amphtml-fx-flying-carpet-container>.i-amphtml-layout-responsive{-ms-flex-item-align:stretch;align-self:stretch}\n/*# sourceURL=/extensions/amp-fx-flying-carpet/0.1/amp-fx-flying-carpet.css*/")})(self.AMP);})});
//# sourceMappingURL=extensions-amp-fx-flying-carpet-0.1-amp-fx-flying-carpet.js.map

