(self._S=self._S||[]).push((function(){(self.AMP=self.AMP||[]).push(function(){var Hd={title:"",artist:"",album:"",artwork:[{src:""}]};function Id(a,b,c,d){var e=a.navigator;"mediaSession"in e&&a.o&&(e.b.metadata=new a.o(Hd),Jd(b),e.b.metadata=new a.o(b),e.b.setActionHandler("play",c),e.b.setActionHandler("pause",d))}
function Kd(a){var b=a.querySelector('script[type="application/ld+json"]');if(b){var c=Gd(b.textContent);if(c&&c.image){if("string"===typeof c.image)return c.image;if(c.image["@list"]&&"string"===typeof c.image["@list"][0])return c.image["@list"][0];if("string"===typeof c.image.url)return c.image.url;if("string"===typeof c.image[0])return c.image[0]}}}function Ld(a){var b=a.querySelector('meta[property="og:image"]');if(b)return b.getAttribute("content")}
function Md(a){var b=a.querySelector('link[rel="shortcut icon"]')||a.querySelector('link[rel="icon"]');if(b)return b.getAttribute("href")}function Jd(a){a&&a.artwork&&(wb(a.artwork),a.artwork.forEach(function(a){if(a){var b=xb(a)?a.src:a;C().$(oc(b))}}))};var Nd={};function Od(a){a=self.AMP.BaseElement.call(this,a)||this;a.Ia=null;a.ob=Hd;a.isPlaying=!1;return a}n(Od,self.AMP.BaseElement);g=Od.prototype;g.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a};g.buildCallback=function(){this.registerAction("play",this.Sb.bind(this));this.registerAction("pause",this.$a.bind(this))};
g.layoutCallback=function(){var a=this,b=this.element.ownerDocument.createElement("audio");if(!b.play)return this.toggleFallback(!0),Promise.resolve();b.controls=!0;var c=this.element.getAttribute("src");c&&lc(c,this.element);this.propagateAttributes("src preload autoplay muted loop aria-label aria-describedby aria-labelledby controlsList".split(" "),b);this.applyFillContent(b);this.getRealChildNodes().forEach(function(a){a.getAttribute&&a.getAttribute("src")&&lc(a.getAttribute("src"),a);b.appendChild(a)});
this.element.appendChild(b);this.Ia=b;var d=this.getAmpDoc().win.document,e=this.element.getAttribute("artist")||"",c=this.element.getAttribute("title")||this.element.getAttribute("aria-label")||d.title||"",f=this.element.getAttribute("album")||"",d=this.element.getAttribute("artwork")||Kd(d)||Ld(d)||Md(d)||"";this.ob={title:c,artist:e,album:f,artwork:[{src:d}]};vc(this.Ia,"playing",function(){return Pd(a)});return this.loadPromise(b)};g.pauseCallback=function(){this.Ia&&this.Ia.pause()};
function Qd(a){return a.Ia?Jc(a.element,"AMP-STORY")?(C().Fa("amp-audio","<amp-story> elements do not support actions on <amp-audio> elements"),!1):!0:!1}g.$a=function(){Qd(this)&&this.Ia.pause()};g.Sb=function(){Qd(this)&&this.Ia.play()};function Pd(a){Id(a.getAmpDoc().win,a.ob,function(){a.Ia.play()},function(){a.Ia.pause()})}(function(a){a.registerElement("amp-audio",Od)})(self.AMP);Nd.AmpAudio=Od;(self._S=self._S||[])["//extensions/amp-audio/0.1/amp-audio.js"]=Nd;})}));
//# sourceMappingURL=extensions-amp-audio-0.1-amp-audio.js.map

