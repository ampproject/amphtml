(self._S=self._S||[]).push((function(){(self.AMP=self.AMP||[]).push(function(){var Nd="amp-user-notification{position:fixed!important;bottom:0;left:0;overflow:hidden!important;visibility:hidden;background:hsla(0,0%,100%,0.7);z-index:1000;width:100%}amp-user-notification.amp-active{visibility:visible}amp-user-notification.amp-hidden{visibility:hidden}\n/*# sourceURL=/extensions/amp-user-notification/0.1/amp-user-notification.css*/";/*
 Copyright (C) 2014-2016 by Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
var Od=function(){var a=self,b="auto";function c(){var a=Ha.splice(0,Ha.length);for(Ia=0;a.length;)a.shift().call(null,a.shift())}function d(a,b){for(var c=0,d=a.length;c<d;c++)bb(a[c],b)}function e(a){for(var b=0,c=a.length,d;b<c;b++)d=a[b],ma(d,na[g(d)])}function f(a){return function(b){fe(b)&&(bb(b,a),t.length&&d(b.querySelectorAll(t),a))}}function g(a){var b=V.call(a,"is"),c=a.nodeName.toUpperCase();a=x.call(N,b?Ja+b.toUpperCase():oa+c);return b&&-1<a&&!k(c,b)?-1:a}function k(a,b){return-1<t.indexOf(a+
'[is="'+b+'"]')}function n(a){var b=a.currentTarget,c=a.attrChange,d=a.attrName,e=a.target,f=a[Ka]||2,jc=a[pb]||3;if(La&&(!e||e===b)&&b[J]&&"style"!==d&&(a.prevValue!==a.newValue||""===a.newValue&&(c===f||c===jc)))b[J](d,c===f?null:a.prevValue,c===jc?null:a.newValue)}function Q(a){var b=f(a);return function(a){Ha.push(b,a.target);Ia&&clearTimeout(Ia);Ia=setTimeout(c,1)}}function v(a){lc&&(lc=!1,a.currentTarget.removeEventListener(mc,v));t.length&&d((a.target||l).querySelectorAll(t),a.detail===y?y:
C);W&&Uc()}function Tc(a,b){nc.call(this,a,b);qb.call(this,{target:this})}function cb(a,b){he(a,b);Ma?Ma.observe(a,ie):(Na&&(a.setAttribute=Tc,a[D]=rb(a),a[E](je,qb)),a[E](O,n));a[pa]&&La&&(a.created=!0,a[pa](),a.created=!1)}function Uc(){for(var a,b=0,c=qa.length;b<c;b++)a=qa[b],X.contains(a)||(c--,qa.splice(b--,1),bb(a,y))}function Kb(a){throw Error("A "+a+" type is already registered");}function bb(a,b){var c,d=g(a);-1<d&&(sb(a,na[d]),d=0,b!==C||a[C]?b!==y||a[y]||(a[C]=!1,a[y]=!0,d=1):(a[y]=!1,
a[C]=!0,d=1,W&&0>x.call(qa,a)&&qa.push(a)),d&&(c=a[b+P])&&c.call(a))}function R(){}function oc(a,b,c){c=c&&c[ra]||"";var d=b.prototype,e=tb(d),f=b.observedAttributes||ub,M={prototype:e};Oa(e,pa,{value:function(){if(Pa)Pa=!1;else if(!this[sa]){this[sa]=!0;new b(this);d[pa]&&d[pa].call(this);var a=ta[Qa.get(b)];(!Y||1<a.create.length)&&pc(this)}}});Oa(e,J,{value:function(a){-1<x.call(f,a)&&d[J].apply(this,arguments)}});d[qc]&&Oa(e,ke,{value:d[qc]});d[rc]&&Oa(e,le,{value:d[rc]});c&&(M[ra]=c);a=a.toUpperCase();
ta[a]={constructor:b,create:c?[c,Ra(a)]:[a]};Qa.set(b,a);l[ua](a.toLowerCase(),M);wb(a);Z[a].r()}function sc(a){return(a=ta[a.toUpperCase()])&&a.constructor}function tc(a){return"string"===typeof a?a:a&&a.is||""}function pc(a){for(var b=a[J],c=b?a.attributes:ub,d=c.length,e;d--;)e=c[d],b.call(a,e.name||e.nodeName,null,e.value||e.nodeValue)}function wb(a){a=a.toUpperCase();a in Z||(Z[a]={},Z[a].p=new uc(function(b){Z[a].r=b}));return Z[a].p}function vc(){F&&delete a.customElements;aa(a,"customElements",
{configurable:!0,value:new R});aa(a,"CustomElementRegistry",{configurable:!0,value:R});for(var b=function(b){var c=a[b];if(c){a[b]=function ge(a){var b;a||(a=this);a[sa]||(Pa=!0,a=ta[Qa.get(a.constructor)],a=(b=Y&&1===a.create.length)?Reflect.construct(c,ub,a.constructor):l.createElement.apply(l,a.create),a[sa]=!0,Pa=!1,b||pc(a));return a};a[b].prototype=c.prototype;try{c.prototype.constructor=a[b]}catch(ge){me=!0,aa(c,sa,{value:a[b]})}}},c=ne.get(/^HTML[A-Z]*[a-z]/),d=c.length;d--;b(c[d]));l.createElement=
function(a,b){return(b=tc(b))?xb.call(this,a,Ra(b)):xb.call(this,a)};wc||(yb=!0,l[ua](""))}var l=a.document,m=a.Object,ne=function(a){var b=/^[A-Z]+[a-z]/,c=function(a){var b=[],c;for(c in e)a.test(c)&&b.push(c);return b},d=function(a,b){b=b.toLowerCase();b in e||(e[a]=(e[a]||[]).concat(b),e[b]=e[b.toUpperCase()]=a)},e=(m.create||m)(null),f={},g,vb,k,r;for(vb in a)for(r in a[vb])for(k=a[vb][r],e[r]=k,g=0;g<k.length;g++)e[k[g].toLowerCase()]=e[k[g].toUpperCase()]=r;f.get=function(a){return"string"===
typeof a?e[a]||(b.test(a)?[]:""):c(a)};f.set=function af(a,c){return b.test(a)?d(a,c):d(c,a),f};return f}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],
HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:"element abbr address article aside b bdi bdo cite code command dd dfn dt em figcaption figure footer header i kbd mark nav noscript rp rt ruby s samp section small strong sub summary sup u var wbr".split(" "),
HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:"h1 h2 h3 h4 h5 h6".split(" "),HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],
HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],
HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],
HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],
XMLDocument:["xml"]}});b||(b="auto");var ua="registerElement",D="__"+ua+(1E5*a.Math.random()>>0),E="addEventListener",C="attached",P="Callback",y="detached",ra="extends",J="attributeChanged"+P,ke=C+P,qc="connected"+P,rc="disconnected"+P,pa="created"+P,le=y+P,Ka="ADDITION",zb="MODIFICATION",pb="REMOVAL",O="DOMAttrModified",mc="DOMContentLoaded",je="DOMSubtreeModified",oa="<",Ja="=",oe=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,pe="ANNOTATION-XML COLOR-PROFILE FONT-FACE FONT-FACE-SRC FONT-FACE-URI FONT-FACE-FORMAT FONT-FACE-NAME MISSING-GLYPH".split(" "),
N=[],na=[],t="",X=l.documentElement,x=N.indexOf||function(a){for(var b=this.length;b--&&this[b]!==a;);return b},Ab=m.prototype,Bb=Ab.hasOwnProperty,Sa=Ab.isPrototypeOf,aa=m.defineProperty,ub=[],Cb=m.getOwnPropertyDescriptor,xc=m.getOwnPropertyNames,qe=m.getPrototypeOf,yc=m.setPrototypeOf,zc=!!m.__proto__,me=!1,sa="__dreCEv1",F=a.customElements,Y="force"!==b&&!!(F&&F.define&&F.get&&F.whenDefined),Ac=m.create||m,re=a.Map||function(){var a=[],b=[],c;return{get:function(c){return b[x.call(a,c)]},set:function(d,
e){c=x.call(a,d);0>c?b[a.push(d)-1]=e:b[c]=e}}},uc=a.Promise||function(a){function b(a){for(d=!0;c.length;)c.shift()(a)}var c=[],d=!1,e={"catch":function(){return e},then:function(a){c.push(a);d&&setTimeout(b,1);return e}};a(b);return e},Pa=!1,ta=Ac(null),Z=Ac(null),Qa=new re,Ra=function(a){return a.toLowerCase()},tb=m.create||function M(a){return a?(M.prototype=a,new M):this},he=yc||(zc?function(a,b){a.__proto__=b;return a}:xc&&Cb?function(){function a(a,b){for(var c,d=xc(b),e=0,f=d.length;e<f;e++)c=
d[e],Bb.call(a,c)||aa(a,c,Cb(b,c))}return function(b,c){do a(b,c);while((c=qe(c))&&!Sa.call(c,b));return b}}():function(a,b){for(var c in b)a[c]=b[c];return a}),va=a.MutationObserver||a.WebKitMutationObserver,q=(a.HTMLElement||a.Element||a.Node).prototype,W=!Sa.call(q,X),Oa=W?function(a,b,c){a[b]=c.value;return a}:aa,fe=W?function(a){return 1===a.nodeType}:function(a){return Sa.call(q,a)},qa=W&&[],Bc=q.attachShadow,se=q.cloneNode,Db=q.dispatchEvent,V=q.getAttribute,te=q.hasAttribute,ue=q.removeAttribute,
nc=q.setAttribute,Ta=l.createElement,xb=Ta,ie=va&&{attributes:!0,characterData:!0,attributeOldValue:!0},Cc=va||function(a){Na=!1;X.removeEventListener(O,Cc)},Ha,Ia=0,wc=ua in l,Dc=!0,yb=!1,Na=!0,lc=!0,La=!0,qb,Ua,rb,Ma,Eb,sb,ma;wc||(yc||zc?(sb=function(a,b){Sa.call(b,a)||cb(a,b)},ma=cb):ma=sb=function(a,b){a[D]||(a[D]=m(!0),cb(a,b))},W?(Na=!1,function(){var a=Cb(q,E),b=a.value,c=function(a){var b=new CustomEvent(O,{bubbles:!0});b.attrName=a;b.prevValue=V.call(this,a);b.newValue=null;b[pb]=b.attrChange=
2;ue.call(this,a);Db.call(this,b)},d=function(a,b){var c=te.call(this,a),d=c&&V.call(this,a),e=new CustomEvent(O,{bubbles:!0});nc.call(this,a,b);e.attrName=a;e.prevValue=c?d:null;e.newValue=b;c?e[zb]=e.attrChange=1:e[Ka]=e.attrChange=0;Db.call(this,e)},e=function(a){var b=a.currentTarget,c=b[D];a=a.propertyName;var d;c.hasOwnProperty(a)&&(c=c[a],d=new CustomEvent(O,{bubbles:!0}),d.attrName=c.name,d.prevValue=c.value||null,d.newValue=c.value=b[a]||null,null==d.prevValue?d[Ka]=d.attrChange=0:d[zb]=
d.attrChange=1,Db.call(b,d))};a.value=function(a,f,g){a===O&&this[J]&&this.setAttribute!==d&&(this[D]={className:{name:"class",value:this.className}},this.setAttribute=d,this.removeAttribute=c,b.call(this,"propertychange",e));b.call(this,a,f,g)};aa(q,E,a)}()):va||(X[E](O,Cc),X.setAttribute(D,1),X.removeAttribute(D),Na&&(qb=function(a){var b,c,d;if(this===a.target){b=this[D];this[D]=c=rb(this);for(d in c){if(!(d in b))return Ua(0,this,d,b[d],c[d],Ka);if(c[d]!==b[d])return Ua(1,this,d,b[d],c[d],zb)}for(d in b)if(!(d in
c))return Ua(2,this,d,b[d],c[d],pb)}},Ua=function(a,b,c,d,e,f){c={attrChange:a,currentTarget:b,attrName:c,prevValue:d,newValue:e};c[f]=a;n(c)},rb=function(a){for(var b,c={},d=a.attributes,e=0,f=d.length;e<f;e++)a=d[e],b=a.name,"setAttribute"!==b&&(c[b]=a.value);return c})),l[ua]=function kc(a,b){r=a.toUpperCase();Dc&&(Dc=!1,va?(Ma=function(a,b){function c(a,b){for(var c=0,d=a.length;c<d;b(a[c++]));}return new va(function(d){for(var e,f,g,k=0,l=d.length;k<l;k++)if(e=d[k],"childList"===e.type)c(e.addedNodes,
a),c(e.removedNodes,b);else if(f=e.target,La&&f[J]&&"style"!==e.attributeName&&(g=V.call(f,e.attributeName),g!==e.oldValue))f[J](e.attributeName,e.oldValue,g)})}(f(C),f(y)),Eb=function(a){Ma.observe(a,{childList:!0,subtree:!0});return a},Eb(l),Bc&&(q.attachShadow=function(){return Eb(Bc.apply(this,arguments))})):(Ha=[],l[E]("DOMNodeInserted",Q(C)),l[E]("DOMNodeRemoved",Q(y))),l[E](mc,v),l[E]("readystatechange",v),q.cloneNode=function(a){var b=se.call(this,!!a),c=g(b);-1<c&&ma(b,na[c]);a&&t.length&&
e(b.querySelectorAll(t));return b});if(yb)return yb=!1;-2<x.call(N,Ja+r)+x.call(N,oa+r)&&Kb(a);if(!oe.test(r)||-1<x.call(pe,r))throw Error("The type "+a+" is invalid");var c=function(){return n?l.createElement(m,r):l.createElement(m)},k=b||Ab,n=Bb.call(k,ra),m=n?b[ra].toUpperCase():r,r;n&&-1<x.call(N,oa+m)&&Kb(m);b=N.push((n?Ja:oa)+r)-1;t=t.concat(t.length?",":"",n?m+'[is="'+a.toLowerCase()+'"]':m);c.prototype=na[b]=Bb.call(k,"prototype")?k.prototype:tb(q);t.length&&d(l.querySelectorAll(t),C);return c},
l.createElement=xb=function(a,b){var c=tc(b),d=c?Ta.call(l,a,Ra(c)):Ta.call(l,a);a=""+a;var e=x.call(N,(c?Ja:oa)+(c||a).toUpperCase()),f=-1<e;c&&(d.setAttribute("is",c=c.toLowerCase()),f&&(f=k(a.toUpperCase(),c)));La=!l.createElement.innerHTMLHelper;f&&ma(d,na[e]);return d});R.prototype={constructor:R,define:Y?function(a,b,c){if(c)oc(a,b,c);else{var d=a.toUpperCase();ta[d]={constructor:b,create:[d]};Qa.set(b,d);F.define(a,b)}}:oc,get:Y?function(a){return F.get(a)||sc(a)}:sc,whenDefined:Y?function(a){return uc.race([F.whenDefined(a),
wb(a)])}:wb};if(F&&"force"!==b)try{(function(b,c,d){c[ra]="a";b.prototype=tb(HTMLAnchorElement.prototype);b.prototype.constructor=b;a.customElements.define(d,b,c);if(V.call(l.createElement("a",{is:d}),"is")!==d||Y&&V.call(new b,"is")!==d)throw c;})(function kc(){return Reflect.construct(HTMLAnchorElement,[],kc)},{},"document-register-element-a")}catch(M){vc()}else vc();try{Ta.call(l,"a","a")}catch(M){Ra=function(a){return{is:a.toLowerCase()}}}};function Pd(a,b){var c=b||0;b=this.length;for(var d=0<=c?c:Math.max(b+c,0);d<b;d++){var e=this[d];if(e===a||a!==a&&e!==e)return!0}return!1}function Qd(){var a=self;a.Array.prototype.includes||a.Object.defineProperty(Array.prototype,"includes",{enumerable:!1,configurable:!0,writable:!0,value:Pd})};function Rd(a){return a==this||this.documentElement.contains(a)}function Sd(){var a=self,b=a.HTMLDocument||a.Document;b.prototype.contains||a.Object.defineProperty(b.prototype,"contains",{enumerable:!1,configurable:!0,writable:!0,value:Rd})};function Td(a,b){var c=void 0===b?this.contains(a):!b;if(c)return this.remove(a),!1;this.add(a);return!0}function Ud(){var a=self;Vd(a)&&a.DOMTokenList&&a.Object.defineProperty(a.DOMTokenList.prototype,"toggle",{enumerable:!1,configurable:!0,writable:!0,value:Td})}function Vd(a){return/Trident|MSIE|IEMobile/i.test(a.navigator.userAgent)};function Wd(a){return(a=Number(a))?0<a?1:-1:a}function Xd(){var a=self;a.Math.sign||a.Object.defineProperty(a.Math,"sign",{enumerable:!1,configurable:!0,writable:!0,value:Wd})};var Yd=Object.prototype,Zd=Yd.hasOwnProperty;function $d(a,b){if(null==a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1;d<arguments.length;d++){var e=arguments[d];if(null!=e)for(var f in e)Zd.call(e,f)&&(c[f]=e[f])}return c}function ae(){var a=self;a.Object.assign||a.Object.defineProperty(a.Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:$d})};Od();console.log("hello world");Ud();Xd();ae();Sd();Qd();function be(a){if(a.nodeType){var b=ic((a.ownerDocument||a).defaultView);if(b=ce(b))return b}return de(a,"url-replace")}function ce(a){var b=ee(a);return a!=b&&ve(a,"url-replace")?we(a,"url-replace"):null}function xe(a){var b=ye,c=ze,d=Ae(a),e=Be(d);Ce(e,d,b,c)}function De(a,b){a=ee(a);return we(a,b)}function de(a,b){a=Ae(a);a=Be(a);return we(a,b)}function Ee(a,b){return Fe(Be(a),b)}function ee(a){return a.__AMP_TOP||a}
function Ae(a){if(a.nodeType){var b=ic((a.ownerDocument||a).defaultView);return Ge(b).getAmpDoc(a)}return a}function Be(a){a=Ae(a);return a.isSingleDoc()?a.win:a}function Ge(a){return De(a,"ampdoc")}function we(a,b){ve(a,b);var c=He(a);a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}
function Ce(a,b,c,d){var e=He(a),f=e[c];f||(f=e[c]={obj:null,promise:null,resolve:null,context:null,ctor:null});f.ctor||f.obj||(f.ctor=d,f.context=b,f.resolve&&we(a,c))}function Fe(a,b){var c=Ie(a,b);if(c)return c;var d=new Rc,e=d.promise,d=d.resolve;He(a)[b]={obj:null,promise:e,resolve:d,context:null,ctor:null};return e}function Ie(a,b){var c=He(a)[b];if(c){if(c.promise)return c.promise;we(a,b);return c.promise=Promise.resolve(c.obj)}return null}
function He(a){var b=a.services;b||(b=a.services={});return b}function ve(a,b){a=a.services&&a.services[b];return!(!a||!a.ctor&&!a.obj)};var Je="notificationUIManager",Ke=function(){this.l=0;this.ia=Promise.resolve();this.ga=function(){};this.ha=function(){}};Ke.prototype.onQueueEmpty=function(a){this.ga=a;0==this.l&&a()};Ke.prototype.onQueueNotEmpty=function(a){this.ha=a;0<this.l&&a()};Ke.prototype.registerUI=function(a){var b=this;0==this.l&&this.ha();this.l++;var c=this.ia.then(function(){return a().then(function(){b.l--;0==b.l&&b.ga()})});return this.ia=c};var Le=function(a){return Ee(a,"cid")},Me=function(a){return Ee(a,"storage")},Ne=function(a){return be(a)},Oe=function(a){return de(a,"viewer")},Pe=function(a){return De(a,"xhr")};var Qe={},Re="amp-user-notification",ye="userNotificationManager",U=function(a){a=AMP.BaseElement.call(this,a)||this;a.Z=null;a.s=null;var b=new Rc;a.aa=b.promise;a.ba=b.resolve;a.o=null;a.T=!1;a.C=null;a.X="";a.Y=null;a.la=null;return a};ba(U,AMP.BaseElement);U.prototype.isAlwaysFixed=function(){return!0};
U.prototype.buildCallback=function(){var a=this,b=this.getAmpDoc();this.la=Ne(b);this.Y=Me(b);this.s=L().assert(this.element.id,"amp-user-notification should have an id.");this.X="amp-user-notification:"+this.s;(this.C=this.element.getAttribute("data-show-if-href"))&&rd(this.C,this.element);(this.o=this.element.getAttribute("data-dismiss-href"))&&rd(this.o,this.element);var c=this.element.getAttribute("role");c||this.element.setAttribute("role","alert");var d=this.element.getAttribute("data-persist-dismissal");
this.T="false"!=d&&"no"!=d;this.registerAction("dismiss",function(){return a.dismiss(!1)});this.registerAction("optoutOfCid",function(){return Se(a)});var e=Ee(b,ye);e.then(function(b){b.registerUserNotification(a.s,a)})};var Te=function(a,b){var c=a.C;return a.la.expandUrlAsync(c).then(function(c){return od(c,{elementId:a.s,ampUserId:b})})};
U.prototype.ua=function(a){var b=this;this.Z=a;return Te(this,a).then(function(a){var c={credentials:"include",requireAmpResponseSourceOrigin:!1};return Pe(b.win).fetchJson(a,c).then(function(a){return a.json()})})};var Ve=function(a){var b=a.element.getAttribute("enctype")||"application/json;charset=utf-8";Pe(a.win).fetchJson(a.o,Ue(a,b,a.s,a.Z))},Ue=function(a,b,c,d){return{method:"POST",credentials:"include",requireAmpResponseSourceOrigin:!1,body:Xc({elementId:c,ampUserId:d}),headers:{"Content-Type":b}}};
U.prototype.za=function(a){L().assert("boolean"==typeof a.showNotification,'`showNotification` should be a boolean. Got "%s" which is of type %s.',a.showNotification,typeof a.showNotification);a.showNotification||this.ba();return Promise.resolve(a.showNotification)};
var Se=function(a){return We(a).then(function(a){return a.optOut()}).then(function(){return a.dismiss(!1)},function(b){Qc().error(Re,"Failed to opt out of Cid",b);a.dismiss(!0)})},Xe=function(a){return We(a).then(function(b){return b.get({scope:Re,createCookieIfNotPresent:!0},Promise.resolve(),a.aa)})},We=function(a){return Le(a.element)};U.prototype.shouldShow=function(){var a=this;return this.isDismissed().then(function(b){return b?!1:a.C?Ye(a):!0})};var Ye=function(a){return Xe(a).then(a.ua.bind(a)).then(a.za.bind(a))};
U.prototype.show=function(){ed(this.element);this.element.classList.add("amp-active");this.getViewport().addToFixedLayer(this.element);return this.aa};U.prototype.isDismissed=function(){var a=this;return this.T?this.Y.then(function(b){return b.get(a.X)}).then(function(a){return!!a},function(a){Qc().error(Re,"Failed to read storage",a);return!1}):Promise.resolve(!1)};U.prototype.activate=function(){this.dismiss(!1)};
U.prototype.dismiss=function(a){var b=this;this.element.classList.remove("amp-active");this.element.classList.add("amp-hidden");this.ba();this.getViewport().removeFromFixedLayer(this.element);this.T&&!a&&this.Y.then(function(a){a.set(b.X,!0)});this.o&&Ve(this)};var ze=function(a){this.ampdoc=a;this.ja=Object.create(null);this.N=Object.create(null);this.Ha=Oe(this.ampdoc);this.ca=this.ampdoc.whenReady();this.ea=Promise.all([this.Ha.whenFirstVisible(),this.ca]);this.ya=Ee(this.ampdoc,Je)};
ze.prototype.get=function(a){var b=this;this.ea.then(function(){null==b.ampdoc.getElementById(a)&&L().warn(Re,"Did not find amp-user-notification element "+a+".")});return Ze(this,a).promise};ze.prototype.getNotification=function(a){var b=this;return this.ca.then(function(){return b.ja[a]})};
ze.prototype.registerUserNotification=function(a,b){var c=this;this.ja[a]=b;var d=Ze(this,a);return this.ea.then(function(){return b.shouldShow()}).then(function(a){if(a)return c.ya.then(function(a){return a.registerUI(b.show.bind(b))})}).then(d.resolve.bind(this,b)).catch(Mc.bind(null,"Notification service failed amp-user-notification",a))};var Ze=function(a,b){if(a.N[b])return a.N[b];var c=new Rc;return a.N[b]={promise:c.promise,resolve:c.resolve}};function $e(a){xe(a)}
(function(a){a.registerServiceForDoc(ye,ze);a.registerServiceForDoc(Je,Ke);a.registerElement(Re,U,Nd)})(self.AMP);Qe.AmpUserNotification=U;Qe.UserNotificationManager=ze;Qe.Ia=$e;(self._S=self._S||[])["//extensions/amp-user-notification/0.1/amp-user-notification.js"]=Qe;})}));
//# sourceMappingURL=extensions-amp-user-notification-0.1-amp-user-notification.js.map

