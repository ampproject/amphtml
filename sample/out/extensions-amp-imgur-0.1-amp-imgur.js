(self.AMP=self.AMP||[]).push({n:"extensions-amp-imgur-0.1-amp-imgur.js", v:"erwin", f:(function(){function $AmpImgur$$module$extensions$amp_imgur$0_1$amp_imgur$$($$jscomp$super$this$jscomp$51_element$jscomp$350$$){$$jscomp$super$this$jscomp$51_element$jscomp$350$$=AMP.BaseElement.call(this,$$jscomp$super$this$jscomp$51_element$jscomp$350$$)||this;$$jscomp$super$this$jscomp$51_element$jscomp$350$$.$iframe_$=null;$$jscomp$super$this$jscomp$51_element$jscomp$350$$.$unlistenMessage_$=null;$$jscomp$super$this$jscomp$51_element$jscomp$350$$.$imgurid_$="";return $$jscomp$super$this$jscomp$51_element$jscomp$350$$}
$$jscomp$inherits$$($AmpImgur$$module$extensions$amp_imgur$0_1$amp_imgur$$,AMP.BaseElement);$JSCompiler_prototypeAlias$$=$AmpImgur$$module$extensions$amp_imgur$0_1$amp_imgur$$.prototype;$JSCompiler_prototypeAlias$$.isLayoutSupported=function($layout$jscomp$58$$){return $isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$58$$)};
$JSCompiler_prototypeAlias$$.buildCallback=function(){this.$imgurid_$=$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$(this.element.getAttribute("data-imgur-id"),"The data-imgur-id attribute is required for <amp-imgur> %s",this.element)};
$JSCompiler_prototypeAlias$$.layoutCallback=function(){var $iframe$jscomp$50$$=this.element.ownerDocument.createElement("iframe");this.$iframe_$=$iframe$jscomp$50$$;this.$unlistenMessage_$=$listen$$module$src$event_helper$$(this.win,"message",this.$handleImgurMessages_$.bind(this));$iframe$jscomp$50$$.setAttribute("scrolling","no");$iframe$jscomp$50$$.setAttribute("frameborder","0");$iframe$jscomp$50$$.setAttribute("allowfullscreen","true");$iframe$jscomp$50$$.src="https://imgur.com/"+encodeURIComponent(this.$imgurid_$)+
"/embed?pub=true";this.applyFillContent($iframe$jscomp$50$$);this.element.appendChild($iframe$jscomp$50$$);return this.loadPromise($iframe$jscomp$50$$)};
$JSCompiler_prototypeAlias$$.$handleImgurMessages_$=function($data$jscomp$111_event$jscomp$108_eventData$jscomp$10$$){"https://imgur.com"==$data$jscomp$111_event$jscomp$108_eventData$jscomp$10$$.origin&&$data$jscomp$111_event$jscomp$108_eventData$jscomp$10$$.source==this.$iframe_$.contentWindow&&($data$jscomp$111_event$jscomp$108_eventData$jscomp$10$$=$data$jscomp$111_event$jscomp$108_eventData$jscomp$10$$.data)&&($isObject$$module$src$types$$($data$jscomp$111_event$jscomp$108_eventData$jscomp$10$$)||
$startsWith$$module$src$string$$($data$jscomp$111_event$jscomp$108_eventData$jscomp$10$$,"{"))&&($data$jscomp$111_event$jscomp$108_eventData$jscomp$10$$=$isObject$$module$src$types$$($data$jscomp$111_event$jscomp$108_eventData$jscomp$10$$)?$data$jscomp$111_event$jscomp$108_eventData$jscomp$10$$:$tryParseJson$$module$src$json$$($data$jscomp$111_event$jscomp$108_eventData$jscomp$10$$),"resize_imgur"==$data$jscomp$111_event$jscomp$108_eventData$jscomp$10$$.message&&this.attemptChangeHeight($data$jscomp$111_event$jscomp$108_eventData$jscomp$10$$.height).catch(function(){}))};
$JSCompiler_prototypeAlias$$.unlayoutCallback=function(){this.$iframe_$&&($removeElement$$module$src$dom$$(this.$iframe_$),this.$iframe_$=null);this.$unlistenMessage_$&&this.$unlistenMessage_$();return!0};(function($AMP$jscomp$56$$){$AMP$jscomp$56$$.registerElement("amp-imgur",$AmpImgur$$module$extensions$amp_imgur$0_1$amp_imgur$$)})(self.AMP);})});
//# sourceMappingURL=extensions-amp-imgur-0.1-amp-imgur.js.map

