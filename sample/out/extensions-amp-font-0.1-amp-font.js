(self.AMP=self.AMP||[]).push({n:"extensions-amp-font-0.1-amp-font.js", v:"erwin", f:(function(){var $DEFAULT_FONTS_$$module$extensions$amp_font$0_1$fontloader$$=["sans-serif","serif"];function $FontLoader$$module$extensions$amp_font$0_1$fontloader$$($ampdoc$jscomp$142$$){this.$ampdoc_$=$ampdoc$jscomp$142$$;this.$document_$=$ampdoc$jscomp$142$$.win.document;this.B=this.$container_$=null;this.C=this.D=!1}
$FontLoader$$module$extensions$amp_font$0_1$fontloader$$.prototype.load=function($fontConfig$$,$timeout$jscomp$13$$){var $$jscomp$this$jscomp$488$$=this;this.B=$fontConfig$$;return $Services$$module$src$services$timerFor$$(this.$ampdoc_$.win).timeoutPromise($timeout$jscomp$13$$,$JSCompiler_StaticMethods_FontLoader$$module$extensions$amp_font$0_1$fontloader_prototype$load_$$(this)).then(function(){$$jscomp$this$jscomp$488$$.D=!0;$$jscomp$this$jscomp$488$$.$dispose_$()},function($fontConfig$$){$$jscomp$this$jscomp$488$$.C=
!0;$$jscomp$this$jscomp$488$$.$dispose_$();throw $fontConfig$$;})};
function $JSCompiler_StaticMethods_FontLoader$$module$extensions$amp_font$0_1$fontloader_prototype$load_$$($JSCompiler_StaticMethods_FontLoader$$module$extensions$amp_font$0_1$fontloader_prototype$load_$self$$){return new Promise(function($resolve$jscomp$57$$,$reject$jscomp$20$$){var $fontString$$=$JSCompiler_StaticMethods_FontLoader$$module$extensions$amp_font$0_1$fontloader_prototype$load_$self$$.B.fontStyle+" "+$JSCompiler_StaticMethods_FontLoader$$module$extensions$amp_font$0_1$fontloader_prototype$load_$self$$.B.variant+" "+
$JSCompiler_StaticMethods_FontLoader$$module$extensions$amp_font$0_1$fontloader_prototype$load_$self$$.B.weight+" "+$JSCompiler_StaticMethods_FontLoader$$module$extensions$amp_font$0_1$fontloader_prototype$load_$self$$.B.size+" '"+$JSCompiler_StaticMethods_FontLoader$$module$extensions$amp_font$0_1$fontloader_prototype$load_$self$$.B.family+"'";"fonts"in $JSCompiler_StaticMethods_FontLoader$$module$extensions$amp_font$0_1$fontloader_prototype$load_$self$$.$document_$?$JSCompiler_StaticMethods_FontLoader$$module$extensions$amp_font$0_1$fontloader_prototype$load_$self$$.$document_$.fonts.check($fontString$$)?
$resolve$jscomp$57$$():$JSCompiler_StaticMethods_FontLoader$$module$extensions$amp_font$0_1$fontloader_prototype$load_$self$$.$document_$.fonts.load($fontString$$).then(function(){return $JSCompiler_StaticMethods_FontLoader$$module$extensions$amp_font$0_1$fontloader_prototype$load_$self$$.$document_$.fonts.load($fontString$$)}).then(function(){$JSCompiler_StaticMethods_FontLoader$$module$extensions$amp_font$0_1$fontloader_prototype$load_$self$$.$document_$.fonts.check($fontString$$)?$resolve$jscomp$57$$():
$reject$jscomp$20$$(Error("Font could not be loaded, probably due to incorrect @font-face."))}).catch($reject$jscomp$20$$):$JSCompiler_StaticMethods_loadWithPolyfill_$$($JSCompiler_StaticMethods_FontLoader$$module$extensions$amp_font$0_1$fontloader_prototype$load_$self$$).then($resolve$jscomp$57$$,$reject$jscomp$20$$)})}
function $JSCompiler_StaticMethods_loadWithPolyfill_$$($JSCompiler_StaticMethods_loadWithPolyfill_$self$$){return new Promise(function($resolve$jscomp$58$$,$reject$jscomp$21$$){var $vsync$jscomp$4$$=$Services$$module$src$services$vsyncFor$$($JSCompiler_StaticMethods_loadWithPolyfill_$self$$.$ampdoc_$.win),$comparators$$=$JSCompiler_StaticMethods_createFontComparators_$$($JSCompiler_StaticMethods_loadWithPolyfill_$self$$),$vsyncTask$$=$vsync$jscomp$4$$.createTask({measure:function(){$JSCompiler_StaticMethods_loadWithPolyfill_$self$$.D?
$resolve$jscomp$58$$():$JSCompiler_StaticMethods_loadWithPolyfill_$self$$.C?$reject$jscomp$21$$(Error("Font loading timed out.")):$comparators$$.some(function($JSCompiler_StaticMethods_loadWithPolyfill_$self$$){return $JSCompiler_StaticMethods_loadWithPolyfill_$self$$.compare()})?$resolve$jscomp$58$$():$vsyncTask$$()}});$vsyncTask$$()})}
function $JSCompiler_StaticMethods_createFontComparators_$$($JSCompiler_StaticMethods_createFontComparators_$self$$){var $containerElement$$=$JSCompiler_StaticMethods_createFontComparators_$self$$.$container_$=$JSCompiler_StaticMethods_createFontComparators_$self$$.$document_$.createElement("div");$setStyles$$module$src$style$$($containerElement$$,{fontSize:"40px",fontVariant:$JSCompiler_StaticMethods_createFontComparators_$self$$.B.variant,fontWeight:$JSCompiler_StaticMethods_createFontComparators_$self$$.B.weight,
fontStyle:$JSCompiler_StaticMethods_createFontComparators_$self$$.B.fontStyle,left:"-999px",lineHeight:"normal",margin:0,padding:0,position:"absolute",top:"-999px",visibility:"hidden"});var $comparators$jscomp$1$$=$DEFAULT_FONTS_$$module$extensions$amp_font$0_1$fontloader$$.map(function($comparators$jscomp$1$$){return new $FontComparator$$module$extensions$amp_font$0_1$fontloader$$($containerElement$$,$JSCompiler_StaticMethods_createFontComparators_$self$$.B.family,$comparators$jscomp$1$$)});$JSCompiler_StaticMethods_createFontComparators_$self$$.$ampdoc_$.getBody().appendChild($containerElement$$);
return $comparators$jscomp$1$$}$FontLoader$$module$extensions$amp_font$0_1$fontloader$$.prototype.$dispose_$=function(){this.$container_$&&$removeElement$$module$src$dom$$(this.$container_$);this.$container_$=null};
function $FontComparator$$module$extensions$amp_font$0_1$fontloader$$($container$jscomp$7$$,$customFont$$,$defaultFont$jscomp$1$$){var $doc$jscomp$73$$=$container$jscomp$7$$.ownerDocument,$testFontFamily$$=$customFont$$+","+$defaultFont$jscomp$1$$;this.B=$JSCompiler_StaticMethods_getFontElement_$$($doc$jscomp$73$$,$defaultFont$jscomp$1$$);this.C=$JSCompiler_StaticMethods_getFontElement_$$($doc$jscomp$73$$,$testFontFamily$$);$container$jscomp$7$$.appendChild(this.B);$container$jscomp$7$$.appendChild(this.C)}
function $JSCompiler_StaticMethods_getFontElement_$$($doc$jscomp$74_element$jscomp$305$$,$fontFamily$jscomp$1$$){$doc$jscomp$74_element$jscomp$305$$=$doc$jscomp$74_element$jscomp$305$$.createElement("div");$doc$jscomp$74_element$jscomp$305$$.textContent="MAxmTYklsjo190QW";$setStyles$$module$src$style$$($doc$jscomp$74_element$jscomp$305$$,{float:"left",fontFamily:$fontFamily$jscomp$1$$,margin:0,padding:0,whiteSpace:"nowrap"});return $doc$jscomp$74_element$jscomp$305$$}
$FontComparator$$module$extensions$amp_font$0_1$fontloader$$.prototype.compare=function(){var $hasWidthChanged$$=2<Math.abs(this.B.offsetWidth-this.C.offsetWidth),$hasHeightChanged$$=2<Math.abs(this.B.offsetHeight-this.C.offsetHeight);return $hasWidthChanged$$||$hasHeightChanged$$};function $AmpFont$$module$extensions$amp_font$0_1$amp_font$$($$jscomp$super$this$jscomp$39_element$jscomp$306$$){$$jscomp$super$this$jscomp$39_element$jscomp$306$$=AMP.BaseElement.call(this,$$jscomp$super$this$jscomp$39_element$jscomp$306$$)||this;$$jscomp$super$this$jscomp$39_element$jscomp$306$$.$fontFamily_$="";$$jscomp$super$this$jscomp$39_element$jscomp$306$$.$fontWeight_$="";$$jscomp$super$this$jscomp$39_element$jscomp$306$$.$fontStyle_$="";$$jscomp$super$this$jscomp$39_element$jscomp$306$$.$fontVariant_$=
"";$$jscomp$super$this$jscomp$39_element$jscomp$306$$.$fontLoader_$=null;return $$jscomp$super$this$jscomp$39_element$jscomp$306$$}$$jscomp$inherits$$($AmpFont$$module$extensions$amp_font$0_1$amp_font$$,AMP.BaseElement);$AmpFont$$module$extensions$amp_font$0_1$amp_font$$.prototype.prerenderAllowed=function(){return!0};
$AmpFont$$module$extensions$amp_font$0_1$amp_font$$.prototype.buildCallback=function(){this.$fontFamily_$=$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$(this.element.getAttribute("font-family"),"The font-family attribute is required for <amp-font> %s",this.element);this.$fontWeight_$=this.element.getAttribute("font-weight")||"400";this.$fontStyle_$=this.element.getAttribute("font-style")||"normal";this.$fontVariant_$=this.element.getAttribute("font-variant")||"normal";this.$fontLoader_$=
new $FontLoader$$module$extensions$amp_font$0_1$fontloader$$(this.getAmpDoc());$JSCompiler_StaticMethods_startLoad_$$(this)};
function $JSCompiler_StaticMethods_startLoad_$$($JSCompiler_StaticMethods_startLoad_$self$$){$JSCompiler_StaticMethods_startLoad_$self$$.$fontLoader_$.load({fontStyle:$JSCompiler_StaticMethods_startLoad_$self$$.$fontStyle_$,variant:$JSCompiler_StaticMethods_startLoad_$self$$.$fontVariant_$,weight:$JSCompiler_StaticMethods_startLoad_$self$$.$fontWeight_$,size:"medium",family:$JSCompiler_StaticMethods_startLoad_$self$$.$fontFamily_$},$JSCompiler_StaticMethods_startLoad_$self$$.$getTimeout_$()).then(function(){var $JSCompiler_addClassName$jscomp$inline_1856$$=
$JSCompiler_StaticMethods_startLoad_$self$$.element.getAttribute("on-load-add-class"),$JSCompiler_removeClassName$jscomp$inline_1857$$=$JSCompiler_StaticMethods_startLoad_$self$$.element.getAttribute("on-load-remove-class");$JSCompiler_StaticMethods_onFontLoadFinish_$$($JSCompiler_StaticMethods_startLoad_$self$$,$JSCompiler_addClassName$jscomp$inline_1856$$,$JSCompiler_removeClassName$jscomp$inline_1857$$)}).catch(function(){var $JSCompiler_addClassName$jscomp$inline_1860$$=$JSCompiler_StaticMethods_startLoad_$self$$.element.getAttribute("on-error-add-class"),
$JSCompiler_removeClassName$jscomp$inline_1861$$=$JSCompiler_StaticMethods_startLoad_$self$$.element.getAttribute("on-error-remove-class");$JSCompiler_StaticMethods_onFontLoadFinish_$$($JSCompiler_StaticMethods_startLoad_$self$$,$JSCompiler_addClassName$jscomp$inline_1860$$,$JSCompiler_removeClassName$jscomp$inline_1861$$);$user$$module$src$log$$().warn("amp-font","Font download timed out for "+$JSCompiler_StaticMethods_startLoad_$self$$.$fontFamily_$)})}
function $JSCompiler_StaticMethods_onFontLoadFinish_$$($JSCompiler_StaticMethods_onFontLoadFinish_$self$$,$addClassName$jscomp$2$$,$removeClassName$jscomp$2$$){var $ampdoc$jscomp$143_root$jscomp$48$$=$JSCompiler_StaticMethods_onFontLoadFinish_$self$$.getAmpDoc(),$ampdoc$jscomp$143_root$jscomp$48$$=$ampdoc$jscomp$143_root$jscomp$48$$.getRootNode().documentElement||$ampdoc$jscomp$143_root$jscomp$48$$.getBody();$addClassName$jscomp$2$$&&$ampdoc$jscomp$143_root$jscomp$48$$.classList.add($addClassName$jscomp$2$$);
$removeClassName$jscomp$2$$&&$ampdoc$jscomp$143_root$jscomp$48$$.classList.remove($removeClassName$jscomp$2$$);$JSCompiler_StaticMethods_onFontLoadFinish_$self$$.$dispose_$()}$AmpFont$$module$extensions$amp_font$0_1$amp_font$$.prototype.$dispose_$=function(){this.$fontLoader_$=null};
$AmpFont$$module$extensions$amp_font$0_1$amp_font$$.prototype.$getTimeout_$=function(){var $timeoutInMs$$=parseInt(this.element.getAttribute("timeout"),10),$timeoutInMs$$=!$isFiniteNumber$$module$src$types$$($timeoutInMs$$)||0>$timeoutInMs$$?3E3:$timeoutInMs$$;return $timeoutInMs$$=Math.max($timeoutInMs$$-$Services$$module$src$services$timerFor$$(this.win).timeSinceStart(),100)};(function($AMP$jscomp$42$$){$AMP$jscomp$42$$.registerElement("amp-font",$AmpFont$$module$extensions$amp_font$0_1$amp_font$$)})(self.AMP);})});
//# sourceMappingURL=extensions-amp-font-0.1-amp-font.js.map

