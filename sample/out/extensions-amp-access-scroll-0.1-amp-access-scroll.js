(self.AMP=self.AMP||[]).push({n:"extensions-amp-access-scroll-0.1-amp-access-scroll.js", v:"erwin", f:(function(){var $ACCESS_CONFIG$$module$extensions$amp_access_scroll$0_1$scroll_impl$$={authorization:"https://connect.scroll.com/amp/access?rid=READER_ID&o=SOURCE_URL&cid=CLIENT_ID(cid-fallback-cookie)",pingback:"https://connect.scroll.com/amp/pingback?rid=READER_ID&o=SOURCE_URL&cid=CLIENT_ID(cid-fallback-cookie)&d=AUTHDATA(scroll)&v=AUTHDATA(visitId)",namespace:"scroll"},$ANALYTICS_CONFIG$$module$extensions$amp_access_scroll$0_1$scroll_impl$$={requests:{scroll:"https://connect.scroll.com/amp/analytics?rid=ACCESS_READER_ID&cid=CLIENT_ID(cid-fallback-cookie)&o=SOURCE_URL&c=CANONICAL_URL&d=AUTHDATA(scroll.scroll)&v=AUTHDATA(scroll.visitId)&s=${totalEngagedTime}"},
triggers:{trackInterval:{on:"timer",timerSpec:{interval:15,maxTimerLength:7200},request:"scroll"}}};
function $ScrollAccessVendor$$module$extensions$amp_access_scroll$0_1$scroll_impl$$($ampdoc$jscomp$92$$,$accessService$jscomp$5$$,$accessSource$jscomp$1$$){$AccessClientAdapter$$module$extensions$amp_access$0_1$amp_access_client$$.call(this,$ampdoc$jscomp$92$$,$ACCESS_CONFIG$$module$extensions$amp_access_scroll$0_1$scroll_impl$$,{buildUrl:$accessSource$jscomp$1$$.buildUrl.bind($accessSource$jscomp$1$$),collectUrlVars:$accessSource$jscomp$1$$.collectUrlVars.bind($accessSource$jscomp$1$$)});this.H=
$accessService$jscomp$5$$;this.G=$accessSource$jscomp$1$$}$$jscomp$inherits$$($ScrollAccessVendor$$module$extensions$amp_access_scroll$0_1$scroll_impl$$,$AccessClientAdapter$$module$extensions$amp_access$0_1$amp_access_client$$);
$ScrollAccessVendor$$module$extensions$amp_access_scroll$0_1$scroll_impl$$.prototype.authorize=function(){var $$jscomp$this$jscomp$217$$=this;return $AccessClientAdapter$$module$extensions$amp_access$0_1$amp_access_client$$.prototype.authorize.call(this).then(function($response$jscomp$19$$){var $isStory$$=$$jscomp$this$jscomp$217$$.ampdoc.getRootNode().querySelector("amp-story[standalone]");if($response$jscomp$19$$&&$response$jscomp$19$$.scroll&&!$isStory$$){(new $ScrollElement$$module$extensions$amp_access_scroll$0_1$scroll_impl$$($$jscomp$this$jscomp$217$$.ampdoc)).show($$jscomp$this$jscomp$217$$.H);
var $JSCompiler_ampdoc$jscomp$inline_1226$$=$$jscomp$this$jscomp$217$$.ampdoc,$JSCompiler_analyticsElem$jscomp$inline_1230_JSCompiler_vendorConfig$jscomp$inline_1227$$=$$jscomp$this$jscomp$217$$.G.getAdapterConfig();if(!$JSCompiler_analyticsElem$jscomp$inline_1230_JSCompiler_vendorConfig$jscomp$inline_1227$$.disableAnalytics){var $JSCompiler_doc$jscomp$inline_1228_JSCompiler_scriptElem$jscomp$inline_1231$$=$JSCompiler_ampdoc$jscomp$inline_1226$$.win.document,$JSCompiler_attributes$jscomp$inline_1229$$=
$dict$$module$src$utils$object$$({trigger:"immediate"});$JSCompiler_analyticsElem$jscomp$inline_1230_JSCompiler_vendorConfig$jscomp$inline_1227$$.dataConsentId&&($JSCompiler_attributes$jscomp$inline_1229$$["data-block-on-consent"]="");$JSCompiler_analyticsElem$jscomp$inline_1230_JSCompiler_vendorConfig$jscomp$inline_1227$$=$createElementWithAttributes$$module$src$dom$$($JSCompiler_doc$jscomp$inline_1228_JSCompiler_scriptElem$jscomp$inline_1231$$,"amp-analytics",$JSCompiler_attributes$jscomp$inline_1229$$);
$JSCompiler_doc$jscomp$inline_1228_JSCompiler_scriptElem$jscomp$inline_1231$$=$createElementWithAttributes$$module$src$dom$$($JSCompiler_doc$jscomp$inline_1228_JSCompiler_scriptElem$jscomp$inline_1231$$,"script",$dict$$module$src$utils$object$$({type:"application/json"}));$JSCompiler_doc$jscomp$inline_1228_JSCompiler_scriptElem$jscomp$inline_1231$$.textContent=JSON.stringify($ANALYTICS_CONFIG$$module$extensions$amp_access_scroll$0_1$scroll_impl$$);$JSCompiler_analyticsElem$jscomp$inline_1230_JSCompiler_vendorConfig$jscomp$inline_1227$$.appendChild($JSCompiler_doc$jscomp$inline_1228_JSCompiler_scriptElem$jscomp$inline_1231$$);
$JSCompiler_analyticsElem$jscomp$inline_1230_JSCompiler_vendorConfig$jscomp$inline_1227$$.CONFIG=$ANALYTICS_CONFIG$$module$extensions$amp_access_scroll$0_1$scroll_impl$$;$Services$$module$src$services$extensionsFor$$($JSCompiler_ampdoc$jscomp$inline_1226$$.win).installExtensionForDoc($JSCompiler_ampdoc$jscomp$inline_1226$$,"amp-analytics");$JSCompiler_ampdoc$jscomp$inline_1226$$.getBody().appendChild($JSCompiler_analyticsElem$jscomp$inline_1230_JSCompiler_vendorConfig$jscomp$inline_1227$$)}}return $response$jscomp$19$$})};
function $ScrollElement$$module$extensions$amp_access_scroll$0_1$scroll_impl$$($ampdoc$jscomp$93_img$jscomp$2$$){$installStylesForDoc$$module$src$style_installer$$($ampdoc$jscomp$93_img$jscomp$2$$,".amp-access-scroll-bar{height:44px;position:fixed;left:0;width:100%;background:transparent;z-index:2147483647;bottom:0}.amp-access-scroll-placeholder{padding-top:8px;padding-left:8px;background-color:#fff;z-index:11;height:100%;border-top:1px solid #eee;border-bottom:1px solid #eee}\n/*# sourceURL=/extensions/amp-access-scroll/0.1/amp-access-scroll.css*/",
function(){},!1,"amp-access-scroll-elt");this.ampdoc=$ampdoc$jscomp$93_img$jscomp$2$$;this.B=document.createElement("div");this.B.classList.add("amp-access-scroll-bar");$ampdoc$jscomp$93_img$jscomp$2$$.getBody().appendChild(this.B);this.$placeholder_$=document.createElement("div");this.$placeholder_$.classList.add("amp-access-scroll-placeholder");this.B.appendChild(this.$placeholder_$);$ampdoc$jscomp$93_img$jscomp$2$$=document.createElement("img");$ampdoc$jscomp$93_img$jscomp$2$$.setAttribute("src",
"https://static.scroll.com/assets/icn-scroll-logo.svg");$ampdoc$jscomp$93_img$jscomp$2$$.setAttribute("layout","fixed");$ampdoc$jscomp$93_img$jscomp$2$$.setAttribute("width",26);$ampdoc$jscomp$93_img$jscomp$2$$.setAttribute("height",26);this.$placeholder_$.appendChild($ampdoc$jscomp$93_img$jscomp$2$$);this.$iframe_$=document.createElement("iframe");this.$iframe_$.setAttribute("scrolling","no");this.$iframe_$.setAttribute("frameborder","0");this.$iframe_$.setAttribute("allowtransparency","true");this.$iframe_$.setAttribute("title",
"Scroll");this.$iframe_$.setAttribute("width","100%");this.$iframe_$.setAttribute("height","100%");this.$iframe_$.setAttribute("sandbox","allow-scripts allow-same-origin allow-top-navigation allow-popups allow-popups-to-escape-sandbox");this.B.appendChild(this.$iframe_$)}
$ScrollElement$$module$extensions$amp_access_scroll$0_1$scroll_impl$$.prototype.show=function($accessService$jscomp$6$$){var $$jscomp$this$jscomp$218$$=this;$accessService$jscomp$6$$.getAccessReaderId().then(function($accessService$jscomp$6$$){$$jscomp$this$jscomp$218$$.$iframe_$.onload=function(){$$jscomp$this$jscomp$218$$.B.removeChild($$jscomp$this$jscomp$218$$.$placeholder_$)};$$jscomp$this$jscomp$218$$.$iframe_$.setAttribute("src","https://connect.scroll.com/amp/scrollbar?readerId="+encodeURIComponent($accessService$jscomp$6$$))})};(function($AMP$jscomp$4$$){$AMP$jscomp$4$$.registerServiceForDoc("scroll",function($AMP$jscomp$4$$){return $getElementServiceForDoc$$module$src$element_service$$($AMP$jscomp$4$$,"access","amp-access").then(function($ampdoc$jscomp$95$$){var $accessService$jscomp$7_vendor$jscomp$1$$=$ampdoc$jscomp$95$$.getVendorSource("scroll");$ampdoc$jscomp$95$$=new $ScrollAccessVendor$$module$extensions$amp_access_scroll$0_1$scroll_impl$$($AMP$jscomp$4$$,$ampdoc$jscomp$95$$,$accessService$jscomp$7_vendor$jscomp$1$$);
$accessService$jscomp$7_vendor$jscomp$1$$.getAdapter().registerVendor($ampdoc$jscomp$95$$);return $ampdoc$jscomp$95$$})})})(self.AMP);})});
//# sourceMappingURL=extensions-amp-access-scroll-0.1-amp-access-scroll.js.map

