(self.AMP=self.AMP||[]).push({n:"extensions-amp-3d-gltf-0.1-amp-3d-gltf.js", v:"erwin", f:(function(){function $Amp3dGltf$$module$extensions$amp_3d_gltf$0_1$amp_3d_gltf$$($$jscomp$super$this$jscomp$3_element$jscomp$213$$){$$jscomp$super$this$jscomp$3_element$jscomp$213$$=AMP.BaseElement.call(this,$$jscomp$super$this$jscomp$3_element$jscomp$213$$)||this;$$jscomp$super$this$jscomp$3_element$jscomp$213$$.$iframe_$=null;$$jscomp$super$this$jscomp$3_element$jscomp$213$$.$willBeReady_$=new $Deferred$$module$src$utils$promise$$;$$jscomp$super$this$jscomp$3_element$jscomp$213$$.$willBeLoaded_$=new $Deferred$$module$src$utils$promise$$;
$$jscomp$super$this$jscomp$3_element$jscomp$213$$.$context_$={};$$jscomp$super$this$jscomp$3_element$jscomp$213$$.$unlistenMessage_$=null;return $$jscomp$super$this$jscomp$3_element$jscomp$213$$}$$jscomp$inherits$$($Amp3dGltf$$module$extensions$amp_3d_gltf$0_1$amp_3d_gltf$$,AMP.BaseElement);$JSCompiler_prototypeAlias$$=$Amp3dGltf$$module$extensions$amp_3d_gltf$0_1$amp_3d_gltf$$.prototype;
$JSCompiler_prototypeAlias$$.preconnectCallback=function($opt_onLayout$jscomp$1$$){$preloadBootstrap$$module$src$3p_frame$$(this.win,this.preconnect);this.preconnect.url("https://cdnjs.cloudflare.com/ajax/libs/three.js/91/three.js",$opt_onLayout$jscomp$1$$);this.preconnect.url("https://cdn.jsdelivr.net/npm/three@0.91/examples/js/loaders/GLTFLoader.js",$opt_onLayout$jscomp$1$$);this.preconnect.url("https://cdn.jsdelivr.net/npm/three@0.91/examples/js/controls/OrbitControls.js",$opt_onLayout$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.unlayoutCallback=function(){this.$iframe_$&&($removeElement$$module$src$dom$$(this.$iframe_$),this.$iframe_$=null);this.$unlistenMessage_$&&this.$unlistenMessage_$();this.$willBeReady_$=new $Deferred$$module$src$utils$promise$$;this.$willBeLoaded_$=new $Deferred$$module$src$utils$promise$$;return!0};
$JSCompiler_prototypeAlias$$.buildCallback=function(){function $number$$($number$$){return parseFloat($number$$)}function $bool$$($number$$){return"false"!==$number$$}function $getOption$$($number$$,$bool$$,$getOption$$){return $$jscomp$this$jscomp$206$$.element.hasAttribute($number$$)?$bool$$($$jscomp$this$jscomp$206$$.element.getAttribute($number$$)):$getOption$$}var $$jscomp$this$jscomp$206$$=this,$src$jscomp$21$$=$assertHttpsUrl$$module$src$url$$($getOption$$("src",function($number$$){return $number$$},
""),this.element);this.$context_$=$dict$$module$src$utils$object$$({src:$src$jscomp$21$$,renderer:{alpha:$getOption$$("alpha",$bool$$,!1),antialias:$getOption$$("antialiasing",$bool$$,!0)},maxPixelRatio:$getOption$$("maxPixelRatio",$number$$,devicePixelRatio||1),controls:{enableZoom:$getOption$$("enableZoom",$bool$$,!0),autoRotate:$getOption$$("autoRotate",$bool$$,!1)},hostUrl:this.win.location.href})};
$JSCompiler_prototypeAlias$$.layoutCallback=function(){var $JSCompiler_canvas$jscomp$inline_1219_JSCompiler_gl$jscomp$inline_1220_iframe$jscomp$15$$=document.createElement("canvas"),$JSCompiler_canvas$jscomp$inline_1219_JSCompiler_gl$jscomp$inline_1220_iframe$jscomp$15$$=$JSCompiler_canvas$jscomp$inline_1219_JSCompiler_gl$jscomp$inline_1220_iframe$jscomp$15$$.getContext("webgl")||$JSCompiler_canvas$jscomp$inline_1219_JSCompiler_gl$jscomp$inline_1220_iframe$jscomp$15$$.getContext("experimental-webgl");
if(!($JSCompiler_canvas$jscomp$inline_1219_JSCompiler_gl$jscomp$inline_1220_iframe$jscomp$15$$&&$JSCompiler_canvas$jscomp$inline_1219_JSCompiler_gl$jscomp$inline_1220_iframe$jscomp$15$$ instanceof WebGLRenderingContext))return this.toggleFallback(!0),Promise.resolve();$JSCompiler_canvas$jscomp$inline_1219_JSCompiler_gl$jscomp$inline_1220_iframe$jscomp$15$$=$getIframe$$module$src$3p_frame$$(this.win,this.element,"3d-gltf",this.$context_$);this.applyFillContent($JSCompiler_canvas$jscomp$inline_1219_JSCompiler_gl$jscomp$inline_1220_iframe$jscomp$15$$,
!0);this.$iframe_$=$JSCompiler_canvas$jscomp$inline_1219_JSCompiler_gl$jscomp$inline_1220_iframe$jscomp$15$$;this.$unlistenMessage_$=$JSCompiler_StaticMethods_listenGltfViewerMessages_$$(this);this.element.appendChild(this.$iframe_$);return this.$willBeLoaded_$.promise};
function $JSCompiler_StaticMethods_listenGltfViewerMessages_$$($JSCompiler_StaticMethods_listenGltfViewerMessages_$self$$){if($JSCompiler_StaticMethods_listenGltfViewerMessages_$self$$.$iframe_$){var $listenIframe$$=function($listenIframe$$,$disposers$$){return $listenFor$$module$src$iframe_helper$$($JSCompiler_StaticMethods_listenGltfViewerMessages_$self$$.$iframe_$,$listenIframe$$,$disposers$$,!0)},$disposers$$=[$listenIframe$$("ready",$JSCompiler_StaticMethods_listenGltfViewerMessages_$self$$.$willBeReady_$.resolve),
$listenIframe$$("loaded",$JSCompiler_StaticMethods_listenGltfViewerMessages_$self$$.$willBeLoaded_$.resolve),$listenIframe$$("error",function(){$JSCompiler_StaticMethods_listenGltfViewerMessages_$self$$.toggleFallback(!0)})];return function(){return $disposers$$.forEach(function($JSCompiler_StaticMethods_listenGltfViewerMessages_$self$$){return $JSCompiler_StaticMethods_listenGltfViewerMessages_$self$$()})}}}
function $JSCompiler_StaticMethods_sendCommandWhenReady_$$($JSCompiler_StaticMethods_sendCommandWhenReady_$self$$,$action$jscomp$10$$,$args$jscomp$20$$){return $JSCompiler_StaticMethods_sendCommandWhenReady_$self$$.$willBeReady_$.promise.then(function(){var $message$jscomp$41$$=$dict$$module$src$utils$object$$({action:$action$jscomp$10$$,args:$args$jscomp$20$$}),$JSCompiler_iframe$jscomp$inline_2926$$=$JSCompiler_StaticMethods_sendCommandWhenReady_$self$$.$iframe_$;$postMessageToWindows$$module$src$iframe_helper$$($JSCompiler_iframe$jscomp$inline_2926$$,
[{win:$JSCompiler_iframe$jscomp$inline_2926$$.contentWindow,origin:"*"}],"action",$message$jscomp$41$$,!0)})}$JSCompiler_prototypeAlias$$.viewportCallback=function($inViewport$jscomp$6$$){return $JSCompiler_StaticMethods_sendCommandWhenReady_$$(this,"toggleAmpViewport",$inViewport$jscomp$6$$)};$JSCompiler_prototypeAlias$$.pauseCallback=function(){$JSCompiler_StaticMethods_sendCommandWhenReady_$$(this,"toggleAmpPlay",!1)};
$JSCompiler_prototypeAlias$$.resumeCallback=function(){$JSCompiler_StaticMethods_sendCommandWhenReady_$$(this,"toggleAmpPlay",!0)};$JSCompiler_prototypeAlias$$.onLayoutMeasure=function(){var $box$jscomp$10$$=this.getLayoutBox();$JSCompiler_StaticMethods_sendCommandWhenReady_$$(this,"setSize",$dict$$module$src$utils$object$$({width:$box$jscomp$10$$.width,height:$box$jscomp$10$$.height}))};$JSCompiler_prototypeAlias$$.isLayoutSupported=function($layout$jscomp$24$$){return $isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$24$$)};
(function($AMP$jscomp$1$$){$AMP$jscomp$1$$.registerElement("amp-3d-gltf",$Amp3dGltf$$module$extensions$amp_3d_gltf$0_1$amp_3d_gltf$$)})(self.AMP);})});
//# sourceMappingURL=extensions-amp-3d-gltf-0.1-amp-3d-gltf.js.map

