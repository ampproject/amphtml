{
"version":3,
"file":"/./sample/out/extensions-amp-user-notification-0.1-amp-user-notification.js",
"lineCount":26,
"mappings":"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",
"sources":["/extensions/amp-user-notification/0.1/amp-user-notification.js","/src/log.js","/src/url.js","/src/service.js","/src/utils/object.js","/src/style.js","/src/service/notification-ui-manager.js","/build/amp-user-notification-0.1.css.js"],
"names":["constructor","AmpUserNotification","element","ampUserId_","elementId_","deferred","Deferred","dialogPromise_","promise","dialogResolve_","resolve","dismissHref_","persistDismissal_","showIfHref_","storageKey_","storagePromise_","urlReplacements_","$jscomp.inherits","AmpUserNotification$$module$extensions$amp_user_notification$0_1$amp_user_notification.prototype","?.prototype","isAlwaysFixed","buildCallback","ampdoc","getAmpDoc","Services$$module$src$services.urlReplacementsForDoc","Services$$module$src$services.storageForDoc","user","assert","id","getAttribute","assertHttpsUrl","roleAttribute","setAttribute","persistDismissal","registerAction","dismiss","optoutOfCid_","userNotificationManagerPromise","getServicePromiseForDoc","SERVICE_ID","then","manager","registerUserNotification","buildGetHref_","ampUserId","showIfHref","expandUrlAsync","href","addParamsToUrl","data","getShowEndpoint_","getReq","credentials","requireAmpResponseSourceOrigin","Services$$module$src$services.xhrFor","win","fetchJson","res","json","postDismissEnpoint_","enctype","method","body","dict","headers","onGetShowEndpointSuccess_","Promise","Services$$module$src$services.cidForDoc","getCidService_","cid","optOut","reason","dev","error","TAG","getAsyncCid_","get","scope","createCookieIfNotPresent","shouldShow","isDismissed","dismissed","shouldShowViaXhr_","bind","show","setStyle","classList","add","getViewport","addToFixedLayer","storage","persistedValue","activate","forceNoPersist","remove","removeFromFixedLayer","set","UserNotificationManager","registry_","Object","create","deferRegistry_","viewer_","Services$$module$src$services.viewerForDoc","documentReadyPromise_","whenReady","managerReadyPromise_","all","whenFirstVisible","notificationUiManagerPromise_","NOTIFICATION_UI_MANAGER","getElementById","warn","getOrCreateDeferById_","getNotification","userNotification","registerUI","catch","rethrowAsync","AMP","registerServiceForDoc","NotificationUiManager","registerElement","CSS"]
}
