(self.AMP=self.AMP||[]).push({n:"extensions-amp-ad-network-fake-impl-0.1-amp-ad-network-fake-impl.js", v:"erwin", f:(function(){function $AmpAdNetworkFakeImpl$$module$extensions$amp_ad_network_fake_impl$0_1$amp_ad_network_fake_impl$$($element$jscomp$235$$){return $AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.call(this,$element$jscomp$235$$)||this}$$jscomp$inherits$$($AmpAdNetworkFakeImpl$$module$extensions$amp_ad_network_fake_impl$0_1$amp_ad_network_fake_impl$$,$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$);
$AmpAdNetworkFakeImpl$$module$extensions$amp_ad_network_fake_impl$0_1$amp_ad_network_fake_impl$$.prototype.buildCallback=function(){$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$(this.element.hasAttribute("src"),'Attribute src required for <amp-ad type="fake">: %s',this.element);$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.buildCallback.call(this)};
$AmpAdNetworkFakeImpl$$module$extensions$amp_ad_network_fake_impl$0_1$amp_ad_network_fake_impl$$.prototype.isValidElement=function(){var $id$jscomp$48$$=this.element.getAttribute("id");return $id$jscomp$48$$&&$startsWith$$module$src$string$$($id$jscomp$48$$,"i-amphtml-demo-")?!0:($user$$module$src$log$$().warn("AMP-AD-NETWORK-FAKE-IMPL","Only works with id starts with i-amphtml-demo-"),!1)};
$AmpAdNetworkFakeImpl$$module$extensions$amp_ad_network_fake_impl$0_1$amp_ad_network_fake_impl$$.prototype.getAdUrl=function(){return this.element.getAttribute("src")};
$AmpAdNetworkFakeImpl$$module$extensions$amp_ad_network_fake_impl$0_1$amp_ad_network_fake_impl$$.prototype.sendXhrRequest=function($adUrl$jscomp$9$$){var $$jscomp$this$jscomp$294$$=this;return $AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.sendXhrRequest.call(this,$adUrl$jscomp$9$$).then(function($adUrl$jscomp$9$$){if(!$adUrl$jscomp$9$$)return null;var $response$jscomp$33$$=$adUrl$jscomp$9$$.status,$headers$jscomp$7$$=$adUrl$jscomp$9$$.headers;return"true"==$$jscomp$this$jscomp$294$$.element.getAttribute("a4a-conversion")?
$adUrl$jscomp$9$$.text().then(function($adUrl$jscomp$9$$){var $$jscomp$this$jscomp$294$$=Response,$status$jscomp$3$$=$adUrl$jscomp$9$$,$responseText$$=(new DOMParser).parseFromString($status$jscomp$3$$,"text/html"),$JSCompiler_creative$jscomp$inline_1349_JSCompiler_root$jscomp$inline_1341$$=$responseText$$.documentElement;$JSCompiler_creative$jscomp$inline_1349_JSCompiler_root$jscomp$inline_1341$$.hasAttribute("\u26a1")?$JSCompiler_creative$jscomp$inline_1349_JSCompiler_root$jscomp$inline_1341$$.removeAttribute("\u26a1"):
$JSCompiler_creative$jscomp$inline_1349_JSCompiler_root$jscomp$inline_1341$$.hasAttribute("amp")?$JSCompiler_creative$jscomp$inline_1349_JSCompiler_root$jscomp$inline_1341$$.removeAttribute("amp"):$JSCompiler_creative$jscomp$inline_1349_JSCompiler_root$jscomp$inline_1341$$.hasAttribute("AMP")&&$JSCompiler_creative$jscomp$inline_1349_JSCompiler_root$jscomp$inline_1341$$.removeAttribute("AMP");$JSCompiler_creative$jscomp$inline_1349_JSCompiler_root$jscomp$inline_1341$$.hasAttribute("\u26a14ads")||$JSCompiler_creative$jscomp$inline_1349_JSCompiler_root$jscomp$inline_1341$$.hasAttribute("\u26a14ADS")||
$JSCompiler_creative$jscomp$inline_1349_JSCompiler_root$jscomp$inline_1341$$.setAttribute("amp4ads","");for(var $status$jscomp$3$$=[],$JSCompiler_scripts$jscomp$inline_1343_i$133$jscomp$inline_1347$$=$responseText$$.head.querySelectorAll("script[src]"),$JSCompiler_i$jscomp$inline_1344_JSCompiler_style$jscomp$inline_1348$$=0;$JSCompiler_i$jscomp$inline_1344_JSCompiler_style$jscomp$inline_1348$$<$JSCompiler_scripts$jscomp$inline_1343_i$133$jscomp$inline_1347$$.length;$JSCompiler_i$jscomp$inline_1344_JSCompiler_style$jscomp$inline_1348$$++){var $JSCompiler_script$jscomp$inline_1345$$=
$JSCompiler_scripts$jscomp$inline_1343_i$133$jscomp$inline_1347$$[$JSCompiler_i$jscomp$inline_1344_JSCompiler_style$jscomp$inline_1348$$];$JSCompiler_script$jscomp$inline_1345$$.hasAttribute("custom-element")?$status$jscomp$3$$.push($JSCompiler_script$jscomp$inline_1345$$.getAttribute("custom-element")):$JSCompiler_script$jscomp$inline_1345$$.hasAttribute("custom-template")&&$status$jscomp$3$$.push($JSCompiler_script$jscomp$inline_1345$$.getAttribute("custom-template"));$responseText$$.head.removeChild($JSCompiler_script$jscomp$inline_1345$$)}$responseText$$=
$responseText$$.head.querySelectorAll("style[amp-boilerplate]");for($JSCompiler_scripts$jscomp$inline_1343_i$133$jscomp$inline_1347$$=0;$JSCompiler_scripts$jscomp$inline_1343_i$133$jscomp$inline_1347$$<$responseText$$.length;$JSCompiler_scripts$jscomp$inline_1343_i$133$jscomp$inline_1347$$++)$JSCompiler_i$jscomp$inline_1344_JSCompiler_style$jscomp$inline_1348$$=$responseText$$[$JSCompiler_scripts$jscomp$inline_1343_i$133$jscomp$inline_1347$$],$JSCompiler_i$jscomp$inline_1344_JSCompiler_style$jscomp$inline_1348$$.parentNode.removeChild($JSCompiler_i$jscomp$inline_1344_JSCompiler_style$jscomp$inline_1348$$);
$JSCompiler_creative$jscomp$inline_1349_JSCompiler_root$jscomp$inline_1341$$=$JSCompiler_creative$jscomp$inline_1349_JSCompiler_root$jscomp$inline_1341$$.outerHTML;$JSCompiler_creative$jscomp$inline_1349_JSCompiler_root$jscomp$inline_1341$$+='<script type="application/json" amp-ad-metadata>{"ampRuntimeUtf16CharOffsets": [0, 0],"customElementExtensions": [';for($responseText$$=0;$responseText$$<$status$jscomp$3$$.length;$responseText$$++)0<$responseText$$&&($JSCompiler_creative$jscomp$inline_1349_JSCompiler_root$jscomp$inline_1341$$+=
","),$JSCompiler_creative$jscomp$inline_1349_JSCompiler_root$jscomp$inline_1341$$+='"'+$status$jscomp$3$$[$responseText$$]+'"';return new $$jscomp$this$jscomp$294$$($JSCompiler_creative$jscomp$inline_1349_JSCompiler_root$jscomp$inline_1341$$+"]}\x3c/script>",{status:$response$jscomp$33$$,headers:$headers$jscomp$7$$})}):$adUrl$jscomp$9$$})};(function($AMP$jscomp$12$$){$AMP$jscomp$12$$.registerElement("amp-ad-network-fake-impl",$AmpAdNetworkFakeImpl$$module$extensions$amp_ad_network_fake_impl$0_1$amp_ad_network_fake_impl$$)})(self.AMP);})});
//# sourceMappingURL=extensions-amp-ad-network-fake-impl-0.1-amp-ad-network-fake-impl.js.map

