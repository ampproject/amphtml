(self.AMP=self.AMP||[]).push({n:"extensions-amp-3q-player-0.1-amp-3q-player.js", v:"erwin", f:(function(){function $Amp3QPlayer$$module$extensions$amp_3q_player$0_1$amp_3q_player$$($$jscomp$super$this$jscomp$4_element$jscomp$214$$){$$jscomp$super$this$jscomp$4_element$jscomp$214$$=AMP.BaseElement.call(this,$$jscomp$super$this$jscomp$4_element$jscomp$214$$)||this;$$jscomp$super$this$jscomp$4_element$jscomp$214$$.$iframe_$=null;$$jscomp$super$this$jscomp$4_element$jscomp$214$$.$unlistenMessage_$=null;$$jscomp$super$this$jscomp$4_element$jscomp$214$$.$playerReadyPromise_$=null;$$jscomp$super$this$jscomp$4_element$jscomp$214$$.$playerReadyResolver_$=
null;$$jscomp$super$this$jscomp$4_element$jscomp$214$$.dataId=null;return $$jscomp$super$this$jscomp$4_element$jscomp$214$$}$$jscomp$inherits$$($Amp3QPlayer$$module$extensions$amp_3q_player$0_1$amp_3q_player$$,AMP.BaseElement);$JSCompiler_prototypeAlias$$=$Amp3QPlayer$$module$extensions$amp_3q_player$0_1$amp_3q_player$$.prototype;$JSCompiler_prototypeAlias$$.preconnectCallback=function($opt_onLayout$jscomp$2$$){this.preconnect.url("https://playout.3qsdn.com",$opt_onLayout$jscomp$2$$)};
$JSCompiler_prototypeAlias$$.buildCallback=function(){this.dataId=$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$(this.element.getAttribute("data-id"),"The data-id attribute is required for <amp-3q-player> %s",this.element);var $deferred$jscomp$17$$=new $Deferred$$module$src$utils$promise$$;this.$playerReadyPromise_$=$deferred$jscomp$17$$.promise;this.$playerReadyResolver_$=$deferred$jscomp$17$$.resolve;$installVideoManagerForDoc$$module$src$service$video_manager_impl$$(this.element);
$Services$$module$src$services$videoManagerForDoc$$(this.element).register(this)};
$JSCompiler_prototypeAlias$$.layoutCallback=function(){var $$jscomp$this$jscomp$209$$=this,$iframe$jscomp$16$$=this.element.ownerDocument.createElement("iframe");$iframe$jscomp$16$$.setAttribute("frameborder","0");$iframe$jscomp$16$$.setAttribute("allowfullscreen","true");this.$iframe_$=$iframe$jscomp$16$$;this.$unlistenMessage_$=$listen$$module$src$event_helper$$(this.win,"message",this.$sdnBridge_$.bind(this));this.applyFillContent($iframe$jscomp$16$$,!0);$iframe$jscomp$16$$.src="https://playout.3qsdn.com/"+
encodeURIComponent(this.dataId)+"?autoplay=false&amp=true";this.element.appendChild($iframe$jscomp$16$$);return this.loadPromise(this.$iframe_$).then(function(){return $$jscomp$this$jscomp$209$$.$playerReadyPromise_$})};
$JSCompiler_prototypeAlias$$.unlayoutCallback=function(){this.$iframe_$&&($removeElement$$module$src$dom$$(this.$iframe_$),this.$iframe_$=null);this.$unlistenMessage_$&&this.$unlistenMessage_$();var $deferred$jscomp$18$$=new $Deferred$$module$src$utils$promise$$;this.$playerReadyPromise_$=$deferred$jscomp$18$$.promise;this.$playerReadyResolver_$=$deferred$jscomp$18$$.resolve;return!0};$JSCompiler_prototypeAlias$$.isLayoutSupported=function($layout$jscomp$25$$){return $isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$25$$)};
$JSCompiler_prototypeAlias$$.viewportCallback=function($visible$jscomp$5$$){this.element.dispatchCustomEvent($VideoEvents$$module$src$video_interface$$.VISIBILITY,{visible:$visible$jscomp$5$$})};$JSCompiler_prototypeAlias$$.pauseCallback=function(){this.$iframe_$&&this.pause()};
$JSCompiler_prototypeAlias$$.$sdnBridge_$=function($data$jscomp$73_event$jscomp$44$$){if(!$data$jscomp$73_event$jscomp$44$$.source||$data$jscomp$73_event$jscomp$44$$.source==this.$iframe_$.contentWindow)if($data$jscomp$73_event$jscomp$44$$=$isObject$$module$src$types$$($data$jscomp$73_event$jscomp$44$$.data)?$data$jscomp$73_event$jscomp$44$$.data:$tryParseJson$$module$src$json$$($data$jscomp$73_event$jscomp$44$$.data),void 0!==$data$jscomp$73_event$jscomp$44$$)switch($data$jscomp$73_event$jscomp$44$$.data){case "ready":this.element.dispatchCustomEvent($VideoEvents$$module$src$video_interface$$.LOAD);
this.$playerReadyResolver_$();break;case "playing":this.element.dispatchCustomEvent($VideoEvents$$module$src$video_interface$$.PLAYING);break;case "paused":this.element.dispatchCustomEvent($VideoEvents$$module$src$video_interface$$.PAUSE);break;case "muted":this.element.dispatchCustomEvent($VideoEvents$$module$src$video_interface$$.MUTED);break;case "unmuted":this.element.dispatchCustomEvent($VideoEvents$$module$src$video_interface$$.UNMUTED)}};
function $JSCompiler_StaticMethods_sdnPostMessage_$$($JSCompiler_StaticMethods_sdnPostMessage_$self$$,$message$jscomp$43$$){$JSCompiler_StaticMethods_sdnPostMessage_$self$$.$playerReadyPromise_$.then(function(){$JSCompiler_StaticMethods_sdnPostMessage_$self$$.$iframe_$&&$JSCompiler_StaticMethods_sdnPostMessage_$self$$.$iframe_$.contentWindow&&$JSCompiler_StaticMethods_sdnPostMessage_$self$$.$iframe_$.contentWindow.postMessage($message$jscomp$43$$,"*")})}
$JSCompiler_prototypeAlias$$.play=function(){$JSCompiler_StaticMethods_sdnPostMessage_$$(this,"play2")};$JSCompiler_prototypeAlias$$.pause=function(){$JSCompiler_StaticMethods_sdnPostMessage_$$(this,"pause")};$JSCompiler_prototypeAlias$$.mute=function(){$JSCompiler_StaticMethods_sdnPostMessage_$$(this,"mute")};$JSCompiler_prototypeAlias$$.unmute=function(){$JSCompiler_StaticMethods_sdnPostMessage_$$(this,"unmute")};$JSCompiler_prototypeAlias$$.supportsPlatform=function(){return!0};
$JSCompiler_prototypeAlias$$.isInteractive=function(){return!0};$JSCompiler_prototypeAlias$$.showControls=function(){$JSCompiler_StaticMethods_sdnPostMessage_$$(this,"showControlbar")};$JSCompiler_prototypeAlias$$.hideControls=function(){$JSCompiler_StaticMethods_sdnPostMessage_$$(this,"hideControlbar")};$JSCompiler_prototypeAlias$$.fullscreenEnter=function(){this.$iframe_$&&$fullscreenEnter$$module$src$dom$$(this.$iframe_$)};
$JSCompiler_prototypeAlias$$.fullscreenExit=function(){this.$iframe_$&&$fullscreenExit$$module$src$dom$$(this.$iframe_$)};$JSCompiler_prototypeAlias$$.isFullscreen=function(){return this.$iframe_$?$isFullscreenElement$$module$src$dom$$(this.$iframe_$):!1};$JSCompiler_prototypeAlias$$.getMetadata=function(){};$JSCompiler_prototypeAlias$$.preimplementsMediaSessionAPI=function(){return!1};$JSCompiler_prototypeAlias$$.preimplementsAutoFullscreen=function(){return!1};
$JSCompiler_prototypeAlias$$.getCurrentTime=function(){return 0};$JSCompiler_prototypeAlias$$.getDuration=function(){return 1};$JSCompiler_prototypeAlias$$.getPlayedRanges=function(){return[]};(function($AMP$jscomp$2$$){$AMP$jscomp$2$$.registerElement("amp-3q-player",$Amp3QPlayer$$module$extensions$amp_3q_player$0_1$amp_3q_player$$)})(self.AMP);})});
//# sourceMappingURL=extensions-amp-3q-player-0.1-amp-3q-player.js.map

