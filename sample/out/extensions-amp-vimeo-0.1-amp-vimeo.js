(self.AMP=self.AMP||[]).push({n:"extensions-amp-vimeo-0.1-amp-vimeo.js", v:"erwin", f:(function(){var $$jscomp$templatelit$49$$=["<iframe frameborder=0 allowfullscreen></iframe>"];$$jscomp$templatelit$49$$.raw=["<iframe frameborder=0 allowfullscreen></iframe>"];var $VIMEO_EVENTS$$module$extensions$amp_vimeo$0_1$amp_vimeo$$={play:$VideoEvents$$module$src$video_interface$$.PLAYING,pause:$VideoEvents$$module$src$video_interface$$.PAUSE,ended:$VideoEvents$$module$src$video_interface$$.ENDED,volumechange:null};
function $AmpVimeo$$module$extensions$amp_vimeo$0_1$amp_vimeo$$($element$jscomp$458$$){var $$jscomp$super$this$jscomp$87$$;$$jscomp$super$this$jscomp$87$$=AMP.BaseElement.call(this,$element$jscomp$458$$)||this;$$jscomp$super$this$jscomp$87$$.$iframe_$=null;$$jscomp$super$this$jscomp$87$$.$setVolumeMethod_$=$once$$module$src$utils$function$$(function(){var $element$jscomp$458$$="set";return($element$jscomp$458$$=void 0===$element$jscomp$458$$?null:$element$jscomp$458$$)?$element$jscomp$458$$.toLowerCase()+
"Volume":"volume"});$$jscomp$super$this$jscomp$87$$.$onReadyOnce_$=$once$$module$src$utils$function$$(function(){return $JSCompiler_StaticMethods_onReady_$$($$jscomp$super$this$jscomp$87$$)});$$jscomp$super$this$jscomp$87$$.$muted_$=!1;$$jscomp$super$this$jscomp$87$$.$boundOnMessage_$=function($element$jscomp$458$$){if(/^(https?:)?\/\/((player|www).)?vimeo.com(?=$|\/)/.test($element$jscomp$458$$.origin)&&$element$jscomp$458$$.source===$$jscomp$super$this$jscomp$87$$.$iframe_$.contentWindow&&($element$jscomp$458$$=
$element$jscomp$458$$.data)&&($isObject$$module$src$types$$($element$jscomp$458$$)||$startsWith$$module$src$string$$($element$jscomp$458$$,"{"))){var $JSCompiler_element$jscomp$inline_2539_JSCompiler_eventData$jscomp$inline_2537_e$jscomp$288$$=$isObject$$module$src$types$$($element$jscomp$458$$)?$element$jscomp$458$$:$tryParseJson$$module$src$json$$($element$jscomp$458$$);if("ready"==$JSCompiler_element$jscomp$inline_2539_JSCompiler_eventData$jscomp$inline_2537_e$jscomp$288$$.event||"ping"==$JSCompiler_element$jscomp$inline_2539_JSCompiler_eventData$jscomp$inline_2537_e$jscomp$288$$.method)$$jscomp$super$this$jscomp$87$$.$onReadyOnce_$();
else{$element$jscomp$458$$=$$jscomp$super$this$jscomp$87$$.element;var $JSCompiler_eventToDispatch$jscomp$inline_2540$$=$VIMEO_EVENTS$$module$extensions$amp_vimeo$0_1$amp_vimeo$$[$JSCompiler_element$jscomp$inline_2539_JSCompiler_eventData$jscomp$inline_2537_e$jscomp$288$$.event];$JSCompiler_eventToDispatch$jscomp$inline_2540$$?$element$jscomp$458$$.dispatchCustomEvent($JSCompiler_eventToDispatch$jscomp$inline_2540$$):"volumechange"==$JSCompiler_element$jscomp$inline_2539_JSCompiler_eventData$jscomp$inline_2537_e$jscomp$288$$.event&&
($JSCompiler_element$jscomp$inline_2539_JSCompiler_eventData$jscomp$inline_2537_e$jscomp$288$$=$JSCompiler_element$jscomp$inline_2539_JSCompiler_eventData$jscomp$inline_2537_e$jscomp$288$$.data&&$JSCompiler_element$jscomp$inline_2539_JSCompiler_eventData$jscomp$inline_2537_e$jscomp$288$$.data.volume)&&(0>=$JSCompiler_element$jscomp$inline_2539_JSCompiler_eventData$jscomp$inline_2537_e$jscomp$288$$?($$jscomp$super$this$jscomp$87$$.$muted_$=!0,$element$jscomp$458$$.dispatchCustomEvent($VideoEvents$$module$src$video_interface$$.MUTED)):
$$jscomp$super$this$jscomp$87$$.$muted_$&&($$jscomp$super$this$jscomp$87$$.$muted_$=!1,$element$jscomp$458$$.dispatchCustomEvent($VideoEvents$$module$src$video_interface$$.UNMUTED)))}}};$$jscomp$super$this$jscomp$87$$.$unlistenFrame_$=null;return $$jscomp$super$this$jscomp$87$$}$$jscomp$inherits$$($AmpVimeo$$module$extensions$amp_vimeo$0_1$amp_vimeo$$,AMP.BaseElement);$JSCompiler_prototypeAlias$$=$AmpVimeo$$module$extensions$amp_vimeo$0_1$amp_vimeo$$.prototype;
$JSCompiler_prototypeAlias$$.preconnectCallback=function($onLayout$jscomp$9$$){$onLayout$jscomp$9$$=void 0===$onLayout$jscomp$9$$?!1:$onLayout$jscomp$9$$;var $preconnect$jscomp$5$$=this.preconnect;$preconnect$jscomp$5$$.url("https://player.vimeo.com",$onLayout$jscomp$9$$);$preconnect$jscomp$5$$.url("https://i.vimeocdn.com",$onLayout$jscomp$9$$);$preconnect$jscomp$5$$.url("https://f.vimeocdn.com",$onLayout$jscomp$9$$)};$JSCompiler_prototypeAlias$$.isLayoutSupported=function($layout$jscomp$85$$){return $isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$85$$)};
$JSCompiler_prototypeAlias$$.buildCallback=function(){$installVideoManagerForDoc$$module$src$service$video_manager_impl$$(this.getAmpDoc())};
$JSCompiler_prototypeAlias$$.layoutCallback=function(){var $$jscomp$this$jscomp$826$$=this;return $JSCompiler_StaticMethods_isAutoplay_$$(this).then(function($isAutoplay$jscomp$1$$){var $JSCompiler_element$jscomp$inline_2545$$=$$jscomp$this$jscomp$826$$.element,$JSCompiler_src$jscomp$inline_2548_JSCompiler_vidId$jscomp$inline_2546$$=$user$$module$src$log$$().$Log$$module$src$log_prototype$assert$($JSCompiler_element$jscomp$inline_2545$$.getAttribute("data-videoid"),"The data-videoid attribute is required for <amp-vimeo> %s",
$JSCompiler_element$jscomp$inline_2545$$),$JSCompiler_iframe$jscomp$inline_2547$$=$htmlFor$$module$src$static_template$$($JSCompiler_element$jscomp$inline_2545$$)($$jscomp$templatelit$49$$),$JSCompiler_src$jscomp$inline_2548_JSCompiler_vidId$jscomp$inline_2546$$="https://player.vimeo.com/video/"+encodeURIComponent($JSCompiler_src$jscomp$inline_2548_JSCompiler_vidId$jscomp$inline_2546$$);$isAutoplay$jscomp$1$$&&($$jscomp$this$jscomp$826$$.$muted_$=!0,$JSCompiler_src$jscomp$inline_2548_JSCompiler_vidId$jscomp$inline_2546$$=
$addParamToUrl$$module$src$url$$($JSCompiler_src$jscomp$inline_2548_JSCompiler_vidId$jscomp$inline_2546$$,"muted","1"));$JSCompiler_iframe$jscomp$inline_2547$$.src=$JSCompiler_src$jscomp$inline_2548_JSCompiler_vidId$jscomp$inline_2546$$;$$jscomp$this$jscomp$826$$.applyFillContent($JSCompiler_iframe$jscomp$inline_2547$$);$JSCompiler_element$jscomp$inline_2545$$.appendChild($JSCompiler_iframe$jscomp$inline_2547$$);$$jscomp$this$jscomp$826$$.$iframe_$=$JSCompiler_iframe$jscomp$inline_2547$$;$$jscomp$this$jscomp$826$$.$unlistenFrame_$=
$internalListenImplementation$$module$src$event_helper_listen$$($$jscomp$this$jscomp$826$$.win,"message",$$jscomp$this$jscomp$826$$.$boundOnMessage_$,void 0);$$jscomp$this$jscomp$826$$.$sendCommand_$("ping");return $$jscomp$this$jscomp$826$$.loadPromise($JSCompiler_iframe$jscomp$inline_2547$$)})};
$JSCompiler_prototypeAlias$$.unlayoutCallback=function(){this.$iframe_$&&($removeElement$$module$src$dom$$(this.$iframe_$),this.$iframe_$=null);this.$unlistenFrame_$&&(this.$unlistenFrame_$(),this.$unlistenFrame_$=null);return!0};
function $JSCompiler_StaticMethods_isAutoplay_$$($JSCompiler_StaticMethods_isAutoplay_$self_win$jscomp$363$$){if(!$JSCompiler_StaticMethods_isAutoplay_$self_win$jscomp$363$$.element.hasAttribute("autoplay"))return Promise.resolve(!1);$JSCompiler_StaticMethods_isAutoplay_$self_win$jscomp$363$$=$JSCompiler_StaticMethods_isAutoplay_$self_win$jscomp$363$$.win;var $JSCompiler_isLiteViewer$jscomp$inline_2553$$=$getMode$$module$src$mode$$($JSCompiler_StaticMethods_isAutoplay_$self_win$jscomp$363$$).lite;
$isAutoplaySupported$$module$src$utils$video$$||($isAutoplaySupported$$module$src$utils$video$$=$once$$module$src$utils$function$$($isAutoplaySupportedImpl$$module$src$utils$video$$));return $isAutoplaySupported$$module$src$utils$video$$($JSCompiler_StaticMethods_isAutoplay_$self_win$jscomp$363$$,$JSCompiler_isLiteViewer$jscomp$inline_2553$$)}
function $JSCompiler_StaticMethods_onReady_$$($JSCompiler_StaticMethods_onReady_$self$$){var $element$jscomp$460$$=$JSCompiler_StaticMethods_onReady_$self$$.element;Object.keys($VIMEO_EVENTS$$module$extensions$amp_vimeo$0_1$amp_vimeo$$).forEach(function($element$jscomp$460$$){$JSCompiler_StaticMethods_onReady_$self$$.$sendCommand_$("addEventListener",$element$jscomp$460$$)});$Services$$module$src$services$videoManagerForDoc$$($element$jscomp$460$$).register($JSCompiler_StaticMethods_onReady_$self$$);
$element$jscomp$460$$.dispatchCustomEvent($VideoEvents$$module$src$video_interface$$.LOAD)}$JSCompiler_prototypeAlias$$.pauseCallback=function(){this.pause()};$JSCompiler_prototypeAlias$$.pause=function(){this.$sendCommand_$("pause")};$JSCompiler_prototypeAlias$$.play=function(){this.$sendCommand_$("play")};$JSCompiler_prototypeAlias$$.mute=function(){this.$muted_$||this.$sendCommand_$(this.$setVolumeMethod_$(),"0")};
$JSCompiler_prototypeAlias$$.unmute=function(){this.$sendCommand_$(this.$setVolumeMethod_$(),"1")};$JSCompiler_prototypeAlias$$.isInteractive=function(){return!0};$JSCompiler_prototypeAlias$$.supportsPlatform=function(){return!0};$JSCompiler_prototypeAlias$$.preimplementsMediaSessionAPI=function(){return!0};$JSCompiler_prototypeAlias$$.preimplementsAutoFullscreen=function(){return!1};$JSCompiler_prototypeAlias$$.fullscreenEnter=function(){};$JSCompiler_prototypeAlias$$.fullscreenExit=function(){};
$JSCompiler_prototypeAlias$$.isFullscreen=function(){return!1};$JSCompiler_prototypeAlias$$.showControls=function(){};$JSCompiler_prototypeAlias$$.hideControls=function(){};$JSCompiler_prototypeAlias$$.getMetadata=function(){};$JSCompiler_prototypeAlias$$.getDuration=function(){return 0};$JSCompiler_prototypeAlias$$.getCurrentTime=function(){return 0};$JSCompiler_prototypeAlias$$.getPlayedRanges=function(){return[]};
$JSCompiler_prototypeAlias$$.$sendCommand_$=function($method$jscomp$24$$,$optParams$$){$optParams$$=void 0===$optParams$$?null:$optParams$$;if(this.$iframe_$){var $contentWindow$jscomp$1$$=this.$iframe_$.contentWindow;$contentWindow$jscomp$1$$&&$contentWindow$jscomp$1$$.postMessage(JSON.stringify($dict$$module$src$utils$object$$({method:$method$jscomp$24$$,value:$optParams$$||""})),"*")}};(function($AMP$jscomp$93$$){$AMP$jscomp$93$$.registerElement("amp-vimeo",$AmpVimeo$$module$extensions$amp_vimeo$0_1$amp_vimeo$$)})(self.AMP);})});
//# sourceMappingURL=extensions-amp-vimeo-0.1-amp-vimeo.js.map

