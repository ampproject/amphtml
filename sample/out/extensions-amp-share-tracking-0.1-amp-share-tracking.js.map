{
"version":3,
"file":"/./sample/out/extensions-amp-share-tracking-0.1-amp-share-tracking.js",
"lineCount":22,
"mappings":"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",
"sources":["/src/service/history-impl.js","/src/utils/object.js","/extensions/amp-share-tracking/0.1/amp-share-tracking.js","/src/experiments.js","/src/layout.js","/src/service.js","/src/log.js","/src/utils/promise.js","/src/utils/bytes.js","/src/utils/base64.js"],
"names":["updateFragment","fragment","win","history","replaceState","Promise","resolve","viewer_","hasCapability","sendMessageAwaitResponse","dict","getFragment","location","hash","substr","undefined","then","data","constructor","AmpShareTracking","element","vendorHref_","originalViewerFragment_","$jscomp.inherits","isExperimentOn_","isExperimentOn","TAG","isLayoutSupported","layout","NODISPLAY","CONTAINER","buildCallback","registerServiceBuilder","reject","user","createError","assert","getAttribute","shareTrackingFragments","all","getIncomingFragment_","getOutgoingFragment_","results","incomingFragment","outgoingFragment","fragmentResidual","getNewViewerFragment_","length","result","getHistory_","binding_","getOriginalViewerFragment_","match","getOutgoingFragmentFromVendor_","tryResolve","bytes","getCryptoRandomBytesArray","getShareTrackingRandomBytes_","SHARE_TRACKING_NUMBER_OF_BYTES","Uint8Array","random","Math","i","floor","base64UrlEncodeFromBytes","vendorUrl","postReq","method","credentials","body","Services$$module$src$services.xhrFor","fetchJson","res","json","error","err","Services$$module$src$services.historyForDoc","getAmpDoc","AMP","registerElement"]
}
