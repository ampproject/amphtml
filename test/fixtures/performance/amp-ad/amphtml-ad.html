<!doctype html>
<html amp4ads>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <style amp4ads-boilerplate>body {visibility: hidden}</style>
    <script async src="https://cdn.ampproject.org/amp4ads-v0.js"></script>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <style amp-custom>
      * {
        margin: 0;
        padding: 0;
      }
      #wrapper {
        width: 300px;
        height: 250px;
        background: #eee;
        border: 1px solid #999;
        border-radius: 0.5em;
        box-sizing: border-box;
        display: flex;
        justify-content: center;
        align-items: center;
      }
    </style>
</head>

<body>
    <div id=wrapper>
        <a href='https://trycontra.com'>Try Contra</a>
    </div>
    <amp-analytics>
      <script type="application/json">
        {
          "transport": {
            "beacon": false,
            "xhrpost": false
          },
          "requests": {
            "pageview": "https://www.cats.com/pageview",
            "viewable": "https://www.cats.com/viewable"
          },
          "triggers": {
            "pageview": {
              "on": "visible",
              "request": "pageview",
              "extraUrlParams": {
                "requestName": "inside-ad-visible"
              }
            },
            "pageviewPost": {
              "on": "visible",
              "parentPostMessage": "impression-visible"
            },
            "viewability": {
              "on": "visible",
              "request": "viewable",
              "visibilitySpec": {
                "selector": ":root",
                "visiblePercentageMin": 50,
                "continuousTimeMin": 1000
              },
              "extraUrlParams": {
                "requestName": "inside-ad-view"
              }
            },
            "viewabilityPost": {
              "on": "visible",
              "parentPostMessage": "impression-viewable",
              "visibilitySpec": {
                "selector": ":root",
                "visiblePercentageMin": 50,
                "continuousTimeMin": 1000
              }
            }
          },
          "extraUrlParams": {
            "expectedRequests": 5
          }
        }
      </script>
    </amp-analytics>
</body>
</html>
