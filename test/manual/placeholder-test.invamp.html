<!doctype html>
<html âš¡>
<head>
  <meta charset="utf-8">
  <title>Lorem Ipsum | PublisherName</title>
  <link rel="canonical" href="amps.html" >
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">
  <link href='https://fonts.googleapis.com/css?family=Georgia|Open+Sans|Roboto' rel='stylesheet' type='text/css'>
  <script custom-element="amp-lightbox" src="../../dist/v0/amp-lightbox-0.1.max.js" async></script>
  <script src="../../dist/amp.js" development async></script>
  <style>body {opacity: 0}</style><noscript><style>body {opacity: 1}</style></noscript>
  <style amp-custom>
    body {
      margin: 0;
      font-family: 'Georgia', Serif;
    }

    .brand-logo {
      font-family: 'Open Sans';
    }

    .ad-container {
      display: flex;
      justify-content: center;
    }

    .content-container p {
      line-height: 24px;
    }

    header,
    .article-body {
      padding: 15px;
    }

    .lightbox {
      background: #222;
    }

    .full-bleed {
      margin: 0 -15px;
    }

    .lightbox-content {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;

      display: flex;
      flex-direction: column;
      flex-wrap: nowrap;
      justify-content: center;
      align-items: center;
    }

    .lightbox-content p {
      color: #fff;
      padding: 15px;
    }

    .lightbox amp-img {
      width: 100%;
    }

    figure {
      margin: 0;
    }

    figcaption {
      color: #6f757a;
      padding: 15px 0;
      font-size: .9em;
    }

    .author {
      display: flex;
      align-items: center;

      background: #f4f4f4;
      padding: 0 15px;

      font-size: .8em;

      border: solid #dcdcdc;
      border-width: 1px 0;
    }

    .header-time {
      color: #a8a3ae;
      font-family: 'Roboto';
      font-size: 12px;
    }

    .author p {
      margin: 5px;
    }

    .byline {
      font-family: 'Roboto';
      display: inline-block;
    }

    .byline p {
      line-height: normal;
    }

    .byline .brand {
      color: #6f757a;
    }

    .standfirst {
      color: #6f757a;
    }

    .mailto {
      text-decoration: none;
    }

    #author-avatar {
      margin: 10px;
      border: 5px solid #fff;
      width: 50px;
      height: 50px;
      border-radius: 50%;
    }

    h1 {
      margin: 5px 0;
      font-weight: normal;
    }

    footer {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 226px;
      background: #f4f4f4;
    }

    hr {
      margin: 0;
    }

    amp-img {
      background-color: #f4f4f4;
    }
  </style>
</head>
<body>
  <header id="header">
    <div class="brand-logo">
      PublisherLogo
    </div>
  </header>
  <main role="main">
    <article>
      <figure>
        <amp-img
            src="../../examples/img/sample.jpg"
            layout="responsive" width="360" placeholder
            alt="Curabitur convallis, urna quis pulvinar feugiat, purus diam posuere turpis, sit amet tincidunt purus justo et mi."
            height="216" on="tap:headline-img-lightbox">
        </amp-img>
      </figure>

      <amp-lightbox id="headline-img-lightbox" class="lightbox"
          layout="nodisplay" from="floating-headline-img">

        <div class="lightbox-content">
          <amp-img id="floating-headline-img"
              src="../../examples/img/hero@1x.jpg"
              srcset="hero@1x.jpg 1x, ../../examples/img/hero@2x.jpg 2x"
              placeholder
              width="360" height="216" layout="responsive">
          </amp-img>
          <p>
            Fusce pretium tempor justo, vitae consequat dolor maximus eget.
          </p>
        </div>
      </amp-lightbox>

      <div class="content-container">
        <header>
          <h1 itemprop="headline">Lorem Ipsum</h1>
          <time class="header-time" itemprop="datePublished"
              datetime="2015-09-14 13:00">September 14, 2015</time>
          <p class="standfirst">
            Number of cycles:
            <input id="iter-count" type="number" value="4">
            </label>
            <button style="background: orange; padding: 10px;"
                id="scroll-trigger">Start Scrolling!</button>
            <label>
          </p>
        </header>

        <div class="author">
          <amp-img src="../../examples/img/sample.jpg" id="author-avatar" placeholder
              height="50" width="50">
          </amp-img>
          <div class="byline">
            <p>
              by <span itemscope itemtype="http://schema.org/Person"
              itemprop="author"><b>Lorem Ipsum</b>
              <a class="mailto" href="mailto:lorem.ipsum@">
              lorem.ipsum@</a></span>
            </p>
            <p class="brand">PublisherName News Reporter<p>
          </div>
        </div>
        <div class="article-body" itemprop="articleBody">
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit.
            Curabitur ullamcorper turpis vel commodo scelerisque. Phasellus
            luctus nunc ut elit cursus, et imperdiet diam vehicula.
            Duis et nisi sed urna blandit bibendum et sit amet erat.
            Suspendisse potenti. Curabitur consequat volutpat arcu nec
            elementum. Etiam a turpis ac libero varius condimentum.
            Maecenas sollicitudin felis aliquam tortor vulputate,
            ac posuere velit semper.
          </p>
          <amp-img class="full-bleed" placeholder
              src="../../examples/img/sea@1x.jpg"
              srcset="../../examples/img/sea@1x.jpg 1x, ../../examples/img/sea@2x.jpg 2x"
              layout="responsive" width="360"
              alt="Fusce pretium tempor justo, vitae consequat dolor maximus eget."
              height="216">
          </amp-img>
          <p>
            Fusce pretium tempor justo, vitae consequat dolor maximus eget.
            Aliquam iaculis tincidunt quam sed maximus. Suspendisse faucibus
            ornare sodales. Nullam id dolor vitae arcu consequat ornare a
            et lectus. Sed tempus eget enim eget lobortis.
            Mauris sem est, accumsan sed tincidunt ut, sagittis vel arcu.
            Nullam in libero nisi.
          </p>

          <div class="ad-container">
            <amp-ad width=300 height=250
                type="a9"
                data-aax_size="300x250"
                data-aax_pubname="abc123"
                data-aax_src="302">
            </amp-ad>
          </div>

          <p>
            Sed pharetra semper fringilla. Nulla fringilla, neque eget
            varius suscipit, mi turpis congue odio, quis dignissim nisi
            nulla at erat. Duis non nibh vel erat vehicula hendrerit eget
            vel velit. Donec congue augue magna, nec eleifend dui porttitor
            sed. Cras orci quam, dignissim nec elementum ac, bibendum et purus.
            Ut elementum mi eget felis ultrices tempus. Maecenas nec sodales
            ex. Phasellus ultrices, purus non egestas ullamcorper, felis
            lorem ultrices nibh, in tristique mauris justo sed ante.
            Nunc commodo purus feugiat metus bibendum consequat. Duis
            finibus urna ut ligula auctor, sed vehicula ex aliquam.
            Sed sed augue auctor, porta turpis ultrices, cursus diam.
            In venenatis aliquet porta. Sed volutpat fermentum quam,
            ac molestie nulla porttitor ac. Donec porta risus ut enim
            pellentesque, id placerat elit ornare.
          </p>
          <amp-img class="full-bleed" placeholder
              src="../../examples/img/sea@1x.jpg"
              srcset="../../examples/img/sea@1x.jpg 1x, ../../examples/img/sea@2x.jpg 2x"
              layout="responsive" width="360"
              alt="Fusce pretium tempor justo, vitae consequat dolor maximus eget."
              height="216">
          </amp-img>
          <p>
            Curabitur convallis, urna quis pulvinar feugiat, purus diam
            posuere turpis, sit amet tincidunt purus justo et mi. Donec
            sapien urna, aliquam ut lacinia quis, varius vitae ex.
            Maecenas efficitur iaculis lorem, at imperdiet orci viverra
            in. Nullam eu erat eu metus ultrices viverra a sit amet leo.
            Pellentesque est felis, pulvinar mollis sollicitudin et,
            suscipit eget massa. Nunc bibendum non nunc et consequat.
            Quisque auctor est vel leo faucibus, non faucibus magna ultricies.
            Vestibulum ante ipsum primis in faucibus orci luctus et ultrices
            posuere cubilia Curae; Vestibulum tortor lacus, bibendum et
            enim eu, vehicula placerat erat. Nullam gravida rhoncus accumsan.
            Integer suscipit iaculis elit nec mollis. Vestibulum eget arcu
            nec lectus finibus rutrum vel sed orci.
          </p>

          <figure>
            <amp-img class="full-bleed" placeholder
                src="../../examples/img/sea@1x.jpg"
                srcset="../../examples/img/sea@1x.jpg 1x, ../../examples/img/sea@2x.jpg 2x"
                layout="responsive" width="360"
                alt="Fusce pretium tempor justo, vitae consequat dolor maximus eget."
                height="216">
            </amp-img>
            <figcaption>
              Fusce pretium tempor justo, vitae consequat dolor maximus eget.
            </figcaption>
          </figure>
          <hr>

          <p>
            Cum sociis natoque penatibus et magnis dis parturient montes,
            nascetur ridiculus mus. Nulla et viverra turpis. Fusce
            viverra enim eget elit blandit, in finibus enim blandit. Integer
            fermentum eleifend felis non posuere. In vulputate et metus at
            aliquam. Praesent a varius est. Quisque et tincidunt nisi.
            Nam porta urna at turpis lacinia, sit amet mattis eros elementum.
            Etiam vel mauris mattis, dignissim tortor in, pulvinar arcu.
            In molestie sem elit, tincidunt venenatis tortor aliquet sodales.
            Ut elementum velit fermentum felis volutpat sodales in non libero.
            Aliquam erat volutpat.
          </p>

          <div class="ad-container">
            <amp-ad width=300 height=200
                type="adsense"
                data-ad-client="ca-pub-9350112648257122">
            </amp-ad>
          </div>

          <p>
            Morbi at velit vitae eros congue congue venenatis non dui.
            Sed lacus sem, feugiat sed elementum sed, maximus sed lacus.
            Integer accumsan magna in sagittis pharetra. Class aptent taciti
            sociosqu ad litora torquent per conubia nostra, per inceptos
            himenaeos. Suspendisse ac nisl efficitur ligula aliquam lacinia
            eu in magna. Vestibulum non felis odio. Ut consectetur venenatis
            felis aliquet maximus. Class aptent taciti sociosqu ad litora
            torquent per conubia nostra, per inceptos himenaeos.
          </p>

          <amp-img class="full-bleed" placeholder
              src="../../examples/img/sea@1x.jpg"
              srcset="../../examples/img/sea@1x.jpg 1x, ../../examples/img/sea@2x.jpg 2x"
              layout="responsive" width="360"
              alt="Fusce pretium tempor justo, vitae consequat dolor maximus eget."
              height="216">
          </amp-img>
        </div>
      </div>
    </article>
  </main>

  <footer id="footer">
    <div class="brand-logo">PublisherLogo</div>
  </footer>
  <script>
    (function(global, document) {
      var scrollTrigger = document.querySelector('#scroll-trigger');

      function easeInOutQuadratic(time, startPos, delta, duration) {
        time = time / (duration / 2);
        if (time < 1) {
          return delta / 2 * time * time + startPos;
        }
        time--;
        return (-delta) / 2 * (time * (time - 2) - 1) + startPos;
      }

      function getScrollingElement_() {
        if (document.scrollingElement) {
          return document.scrollingElement;
        }
        if (document.body) {
          return document.body;
        }
        return document.documentElement;
      }

      function getScrollTop_() {
        return getScrollingElement_()./*OK*/scrollTop || window.pageYOffset;
      }

      function jumpTo(newPos, done) {
        var duration = 400;
        var curPos = getScrollTop_();
        var delta = newPos - curPos;
        var time = 0;
        var tick = 10;

        function scroll() {
          time += tick;
          var curve = easeInOutQuadratic(time, curPos, delta, duration);
          document.body./*OK*/scrollTop = curve;

          if (time < duration) {
            window.requestAnimationFrame(scroll);
          } else if (done) {
            done();
          }
        }
        scroll();
      }

      scrollTrigger.addEventListener('click', function() {
        var iter = Number(document.querySelector('#iter-count').value);
        var up = jumpTo.bind(null, 0);
        var down = jumpTo.bind(null, document.documentElement.scrollHeight);

        function cycle() {
          if (iter-- <= 0) return;
          down(up.bind(null, cycle));
        }

        cycle();
      });
    }(window, document));
  </script>
</body>
</html>
