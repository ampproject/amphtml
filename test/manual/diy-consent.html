<html>
  afdsafdsfqewrfdsdasvcx cvfewsadf
  <button id='a'>Accept</button>
  <button id='r'>Reject</button>
  <button id='d'>Dismiss</button>
  <button id='f'>Learn More (Fullscreen)</button>
  <button id='ef'>Go Back (Exit Fullscreen)</button>
  <script type="text/javascript">

    // Default values for non-3P iframe.
var sentinel = 'amp';
var ampWindow = parent;

// Detect 3P sentinel in the location.hash.
var hashMatch = location.hash.match(/amp-3p-sentinel=((\d+)-\d+)/);
if (hashMatch) {
  sentinel = hashMatch[1];
  // Depth is measured from window.top.
  var depth = Number(hashMatch[2]);
  var ancestors = [];
  for (var win = window; win && win != win.parent; win = win.parent) {
    // Add window keeping the top-most one at the front.
    ancestors.unshift(win.parent);
  }
  ampWindow = ancestors[depth];
}


setTimeout(() => {
  parent.postMessage({
    type: 'consent-ui-ready',
  }, '*');
}, 500);

function registerClickConsentResponse(querySelector, action) {
  document.querySelector(querySelector).onclick = function () {
    // parent.postMessage("message to be sent", "http://the-website-that-will-receive-the-msg.com")
    parent.postMessage({
      type: 'consent-response',
      action
    }, '*');
  };
}

const consentResponseObjects = [
  {
    querySelector: '#a',
    action: 'accept'
  },
  {
    querySelector: '#r',
    action: 'reject'
  },
  {
    querySelector: '#d',
    action: 'dismisss'
  },
  {
    querySelector: '#f',
    action: 'enter_fullscreen'
  },
  {
    querySelector: '#ef',
      action: 'exit_fullscreen'
  }
]
consentResponseObjects.forEach(consentResponse => {
  registerClickConsentResponse(
    consentResponse.querySelector,
    consentResponse.action
  );
});
</script>
</html>
