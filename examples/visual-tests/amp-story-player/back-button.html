<html>
  <head>
    <title>Story Player (Non-AMP)</title>
    <script>
      // TODO(): Remove this when unit tests for player are fixed.
      __AMP_VISUAL_TEST = true;
    </script>
    <!-- <script async src="https://cdn.ampproject.org/amp-story-player-v0.js"></script> -->
    <script async src="../../../dist/amp-story-player.js"></script>
    <!-- <link href="../../../build/css/amp-story-player-v0.css" rel='stylesheet' type='text/css'> -->
    <style page>
      body {
        font-family: sans-serif;
      }

      amp-story-player {
        width:360px;
        height:600px;
        position:relative;
        display:block
      }
      
      amp-story-player a:first-of-type{
        width:100%;
        height:100%;
        background:var(--story-player-poster,#d3d3d3);
        background-size:100% 100%;display:block
      }

      amp-story-player a:not(:first-of-type){
        visibility:hidden
      }

      amp-story-player:after{
        content:" ";position:absolute;
        box-sizing:border-box;
        top:calc(50% - 32px);
        left:calc(50% - 32px);
        width:64px;
        height:64px;
        border-radius:50%;
        border-color:#fff transparent;
        border-style:solid;
        border-width:6px;
        filter:drop-shadow(0px 1px 3px rgba(0,0,0,0.25));
        animation-name:i-amphtml-story-player-spinner;
        animation-duration:4400ms;
        animation-timing-function:cubic-bezier(0.4,0,0.2,1);
        animation-iteration-count:infinite
      }
        
      @keyframes i-amphtml-story-player-spinner{
        12.5%{
          transform:rotate(135deg)
        }
        25%{
          transform:rotate(270deg)
        }
        37.5%{
          transform:rotate(405deg)
        }
        50%{
          transform:rotate(540deg)
        }
        62.5%{
          transform:rotate(675deg)
        }
        75%{
          transform:rotate(810deg)
        }
        87.5%{
          transform:rotate(945deg)
        }
        to{
          transform:rotate(1080deg)
        }
      }
      
      .i-amphtml-story-player-loaded:after{
        visibility:hidden
      }
    </style>
    <style injected>
      .story-player-iframe {
        background-size: cover;
        display: block;
        position: relative;
        height: 100%;
        width: 100%;
        flex: 0 0 100%;
      }

      .title {
        background: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 1));
        display: block;
        position: absolute;
        left: 0;
        right: 0;
        bottom: 0;
        color: #fff;
        font-size: 40px;
        padding: 88px 32px 32px 32px;
        line-height: 1.25;
        text-shadow: 3px 3px #000;
      }

      /* TODO: Remove this when poster image is no longer displayed. */
      amp-story-player a:first-of-type {
        display: none;
      }
    </style>
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  </head>
  <body>
    <amp-story-player style="width: 360px; height: 600px;" exit-control="back-button">
      <a href="https://www-washingtonpost-com.cdn.ampproject.org/v/s/www.washingtonpost.com/graphics/2019/lifestyle/travel/amp-stories/a-locals-guide-to-what-to-eat-and-do-in-new-york-city/"
      style="--story-player-poster: url('https://www-washingtonpost-com.cdn.ampproject.org/i/s/www.washingtonpost.com/graphics/2019/lifestyle/travel/amp-stories/a-locals-guide-to-what-to-eat-and-do-in-new-york-city/img/promo3x4.jpg');"
      class="story">
        <span class="title">A localâ€™s guide to what to eat and do in New York City</span>
      </a>
    </amp-story-player>
  </body>
</html>
