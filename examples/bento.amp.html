<!doctype html>
<html ⚡>
<head>
  <meta charset="utf-8">
  <title>AMP #0</title>
  <link rel="canonical" href="amps.html" >
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <link href='https://fonts.googleapis.com/css?family=Questrial' rel='stylesheet' type='text/css'>
  <script async custom-element="amp-audio" src="https://cdn.ampproject.org/v0/amp-audio-0.1.js"></script>
  <script async custom-element="amp-carousel" src="https://cdn.ampproject.org/v0/amp-carousel-0.1.js"></script>
  <script async custom-element="amp-base-carousel" src="https://cdn.ampproject.org/v0/amp-base-carousel-1.0.js"></script>
  <script async custom-element="amp-fit-text" src="https://cdn.ampproject.org/v0/amp-fit-text-0.1.js"></script>
  <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
  <script async custom-element="amp-youtube" src="https://cdn.ampproject.org/v0/amp-youtube-0.1.js"></script>
  <script async custom-element="amp-video" src="https://cdn.ampproject.org/v0/amp-video-0.1.js"></script>
  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
  <script async src="https://cdn.ampproject.org/v0.js"></script>
  <style amp-custom>
    main {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      height: 100vh;
      overflow: hidden auto;
      background: #eee;
    }

    section {
      margin: 8px 4px;
      border: 1px dotted lightgray;
      background: #fff;
    }

    .expl {
      margin: 4px;
      color: orange;
    }

    .hidden {
      display: none !important;
    }

    .h-scroll {
      display: flex;
      flex-direction: row;
      flex-wrap: no-wrap;
      height: 200px;
      position: relative;
      overflow: auto hidden;
    }
    .h-scroll > * {
      flex-shrink: 0;
      flex-grow: 0;
    }
  </style>
</head>
<body>
  <main>

    <section>
      <div class="expl">
        Audio doesn't pause when element is hidden. Notice that, a class is used
        for toggling, not the `hidden` attribute, which AMP Runtime explicitly
        supports. However, in a Bento world, we cannot rely on any particular
        toggling mechanism. A class can be used and `style.display` can be used.
      </div>
      <div>
        <button onclick="audio1.classList.toggle('hidden')">Toggle audio</button>
      </div>
      <amp-audio id="audio1" src="/examples/av/audio.mp3"></amp-audio>
    </section>

    <section>
      <amp-base-carousel width=300 height=200 layout=responsive type="slides">

        <div>
          <div class="expl">Problem: audio doesn't pause when slides change.</div>
          <amp-audio src="/examples/av/audio.mp3"></amp-audio>
        </div>

        <amp-img src="https://lh3.googleusercontent.com/pSECrJ82R7-AqeBCOEPGPM9iG9OEIQ_QXcbubWIOdkY=w300-h200-no-n" layout=fill></amp-img>

        <amp-img src="https://lh3.googleusercontent.com/5rcQ32ml8E5ONp9f9-Rf78IofLb9QjS5_0mqsY1zEFc=w300-h200-no-n" layout=fill></amp-img>

        <amp-img src="https://lh3.googleusercontent.com/Z4gtm5Bkxyv21Z2PtbTf95Clb9AE4VTR6olbBKYrenM=w300-h200-no-n" layout=fill></amp-img>
      </amp-base-carousel>
    </section>

    <section>
      <div class="expl">
        Problem: see vertical scroll <a href="#v-scroll">below</a>.
      </div>
      <div class="h-scroll">
        <div style="width:150vw;">scroll → to see more</div>
        <amp-img src="https://lh3.googleusercontent.com/pSECrJ82R7-AqeBCOEPGPM9iG9OEIQ_QXcbubWIOdkY=w300-h200-no-n" width=300 height=200></amp-img>
      </div>
    </section>

    <div style="height:150vh;">scroll ↓ to see more</div>

    <section id="v-scroll">
      <div class="expl">
        Problem: this is not a normal document scroller. This image loads now
        thanks to InOb loader. However, the `getLayoutBox()` returns completely
        wrong values, which has risks for features that rely on it. And, not
        clear there's such a thing as the "right" layout box value in a non-AMP
        document.
      </div>
      <amp-img src="https://lh3.googleusercontent.com/pSECrJ82R7-AqeBCOEPGPM9iG9OEIQ_QXcbubWIOdkY=w300-h200-no-n" width=300 height=200></amp-img>
    </section>
  </main>
</body>
</html>
