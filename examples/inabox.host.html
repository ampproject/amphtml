<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <title>amp-inabox-host example</title>
  <style>
    body {
      font-size: 1.2em;
    }
  </style>
</head>
<body>
  <h2>
    This page tests amp-inabox. Follow the instructions and check points.
  </h2>
  <hr>
  <h3>Inabox above the fold</h3>
  <iframe
      name="inabox-atf"
      src="//ads.localhost:8000/examples/inabox.amp.max.html"
      scrolling="no"
      width="300" height="200">
  </iframe>
  <div>
    <strong>Check Point 1: Above the fold visibility tracking</strong><br/>
    Before any scrolling, you should see 3 failed network requests: <code>visible</code>, <code>rootVisible</code> and <code>img2Visible</code>. Also check their URL params.
  </div>
  <hr>
  <h3>Inabox below the fold, and nested in friendly iframe </h3>
  <div>
    Now scroll slowly...
  </div>
  <div style="height: 100vh"></div>
  <iframe
      name="inabox-btf"
      srcdoc="<iframe src='//ads.localhost:8000/examples/inabox.amp.max.html' width='300' height='200' scrolling='no' frameborder=0></iframe>"
      scrolling="no"
      marginwidth="0"
      marginheight="0"
      width="300" height="200">
  </iframe>
  <div>
    <strong>Check Point 2: Below the fold visibility tracking</strong><br/>
    You should have seen another 2 failed network requests: <code>visible</code>, <code>rootVisible</code> when the 2nd iframe enters viewport.
    Then followed by <code>img2Visible</code> when the 2nd image in this iframe enters viewport.
  </div>
  <div style="height: 20vh"></div>
  <hr>
  <h3>Everything inabox</h3>
  <div>
    <strong>Check Point 3: AMP elements rendering for inabox</strong><br/>
    This is a long AMP document. You should see everything renders correctly. All check console errors.
  </div>
  <iframe
      name="inabox-article"
      src="//ads.localhost:8000/examples/inabox-more.amp.max.html"
      scrolling="no"
      width="300" height="1000">
  </iframe>

  <script src="./inabox-tag-integration.js"></script>
</body>
</html>
