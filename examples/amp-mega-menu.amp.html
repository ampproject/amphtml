<!doctype html>
<html âš¡>
<head>
  <meta charset="utf-8">
  <title>amp-mega-menu example</title>
  <link rel="canonical" href="amps.html">
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
  <style amp-custom>
    header {
      text-align: center;
      margin: 15px;
      font-size: 21px;
    }
    .hamburger{
      font-size: 2em;
      display: none;
      margin: -15px;
      width: 60px;
      height: 60px;
      z-index: 1;
      float: right;
    }
    #sidebar {
      width: 300px;
    }
    .heading, .content, .section {
      padding: 10px;
      margin: 0;
    }
    ul {
      list-style-type: none;
    }
    amp-embed {
      float: right;
      margin-right: 50px;
    }
    fieldset {
      border: none;
    }
    #main {
      background: #ccc;
      font-size: 18px;
    }
    @media (max-width: 960px) {
      amp-mega-menu {
        display: none !important;
      }
      .hamburger {
        display: block;
      }
    }
  </style>
  <script async src="https://cdn.ampproject.org/v0.js"></script>
  <script async custom-element="amp-mega-menu" src="https://cdn.ampproject.org/v0/amp-mega-menu-0.1.js"></script>
  <script async custom-element="amp-list" src="https://cdn.ampproject.org/v0/amp-list-0.1.js"></script>
  <script async custom-element="amp-mustache" src="https://cdn.ampproject.org/v0/amp-mustache-0.2.js"></script>
  <script async custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script>
  <script async custom-element="amp-accordion" src="https://cdn.ampproject.org/v0/amp-accordion-0.1.js"></script>
  <script async custom-element="amp-ad" src="https://cdn.ampproject.org/v0/amp-ad-0.1.js"></script>

</head>
<body>
  <header>
    <span>amp-mega-menu demo</span>
    <button
        class="hamburger"
        on='tap:sidebar.toggle'
        aria-label="Click to open sidebar">
      =
    </button>
  </header>

  <amp-sidebar id="sidebar" layout="nodisplay">
    <amp-list layout="fill" src="https://api.myjson.com/bins/5yx01" items="." single-item>
      <template type="amp-mustache">
        <amp-accordion expand-single-section>
          {{#menu}}
          <section>
            <h4 class="heading">{{title}}</h4>
            <div>
              {{#content}}
              <section class="section">
                <h4>{{title}}</h4>
                <div>
                  <ul>
                    {{#content}}
                    <li><a href="https://amp.dev/{{.}}">{{.}}</a></li>
                    {{/content}}
                  </ul>
                </div>
              </section>
              {{/content}}
            </div>
          </section>
          {{/menu}}
        </amp-accordion>
      </template>
    </amp-list>
  </amp-sidebar>

  <amp-mega-menu layout="fixed-height" height="48">
    <amp-list layout="fixed-height" height="600" src="https://api.myjson.com/bins/5yx01" items="." single-item>
      <template type="amp-mustache">
        {{#menu}}
        <section>
          <h4 class="heading">{{title}}</h4>
          <div class="content">
            <amp-img layout="fixed" width="450" height="80" src="{{image}}"></amp-img>
            <br/>
            {{#content}}
            <div class="section">
              <h4>{{title}}</h4>
              <ul>
                {{#content}}
                <li><a href="https://amp.dev/{{.}}">{{.}}</a></li>
                {{/content}}
              </ul>
            </div>
            {{/content}}
            <amp-ad width="10" height="1"
              layout="responsive"
              type="doubleclick"
              data-slot="/4119129/mobile_ad_banner">
            </amp-ad>
          </div>
        </section>
        {{/menu}}
        <section>
          <h4 class="heading">Subscribe</h4>
          <div class="content">
            <amp-embed type="taboola"
              width="480"
              height="480"
              layout="fixed"
              data-publisher="amp-demo"
              data-mode="thumbnails-a"
              data-placement="Ads Example"
              data-article="auto">
            </amp-embed>
            <p>Use the form below to subscribe to our <a href="https://amp.dev/" target="_blank" rel="noopener noreferrer">weekly newsletter</a>.</p>
            <form
              method="get"
              action="/form/search-html/get"
              action-xhr="/form/search-json/get"
              target="_top">
              <fieldset>
                <label>
                  <span>Name:</span>
                  <input type="text" name="name" required>
                </label>
                <br>
                <label>
                  <span>Email:</span>
                  <input type="email" name="email" required>
                </label>
                <br>
                <input type="submit" value="Subscribe">
              </fieldset>
              <div submit-success>
                <template type="amp-mustache">
                  Subscription successful!
                </template>
              </div>
              <div submit-error>
                <template type="amp-mustache">
                  Subscription failed!
                </template>
              </div>
            </form>
          </div>
        </section>
      </template>
    </amp-list>
  </amp-mega-menu>

  <main>
    <amp-img src="https://cdn.pixabay.com/photo/2015/12/15/09/04/banner-1093909__340.jpg" width="100" height="20" layout="responsive"></amp-img>
    <amp-layout id="main" layout="responsive" width="1" height="3">Main Content</amp-layout>
  </main>
</body>
</html>
