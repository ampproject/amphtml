<!doctype html>
<html âš¡>
<head>
  <meta charset="utf-8">
  <title>AMP Date Picker Example</title>
  <link rel="canonical" href="amps.html" >
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <style amp-custom>
  body {
    margin: 10px;
  }
  .highlight-corner {
    position: absolute;
    top: 0;
    right: 0;
    width: 0;
    height: 0;
    border: 10px solid transparent;
    border-top-color: red;
    border-bottom: 0;
    border-right: 0;
  }

  .taco-tuesday {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: lightblue;
    z-index: -1;
  }

  .fallingSnow {
    text-align: center;
  }

  .fallingSnow span {
    display: inline-block;
    width: 20px;
    position: relative;
    height: 21px;
    margin: -280px 60px 54px -34px;
    animation: fallingSnow 12s infinite cubic-bezier(0.35, 0.45, 0.39, 0.29);
  }

  .fallingSnow span:before {
    content: "ðŸŒ®";
    position: absolute;
  }

  .fallingSnow span:nth-child(5n+5) {
    -webkit-animation-delay: 1.3s;
    -moz-animation-delay: 1.3s;
  }

  .fallingSnow span:nth-child(3n+2) {
    -webkit-animation-delay: 1.5s;
    -moz-animation-delay: 1.5s;
  }

  .fallingSnow span:nth-child(2n+5) {
    -webkit-animation-delay: 1.7s;
    -moz-animation-delay: 1.7s;
  }

  .fallingSnow span:nth-child(3n+10) {
    -webkit-animation-delay: 2.7s;
    -moz-animation-delay: 2.7s;
  }

  .fallingSnow span:nth-child(7n+2) {
    -webkit-animation-delay: 3.5s;
    -moz-animation-delay: 3.5s;
  }

  .fallingSnow span:nth-child(4n+5) {
    -webkit-animation-delay: 5.5s;
    -moz-animation-delay: 5.5s;
  }

  .fallingSnow span:nth-child(3n+7) {
    animation-delay: 8s;
  }

  @keyframes fallingSnow {
    0% {
      opacity: 1;
      transform: translate(0, 0px) rotateZ(0deg);
    }
    75% {
      opacity: 1;
      transform: translate(100px, 600px) rotateZ(270deg);
    }
    100% {
      opacity: 0;
      transform: translate(150px, 800px) rotateZ(360deg);
    }
  }

  .hidden {display: none;}
  </style>
  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
  <script async custom-element="amp-bind" src="https://cdn.ampproject.org/v0/amp-bind-0.1.js"></script>
  <script async custom-element="amp-date-picker" src="https://cdn.ampproject.org/v0/amp-date-picker-0.1.js"></script>
  <script async custom-template="amp-mustache" src="https://cdn.ampproject.org/v0/amp-mustache-0.1.js"></script>
  <script async src="https://cdn.ampproject.org/v0.js"></script>
</head>
<body>
  <div [class]="dateType == 'tacos1' ? 'fallingSnow' : ''">
    <span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span>
    <span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span>
    <span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span>
  </div>
  <h1><code>amp-date-picker</code> example</h1>

  <h2><code>&lt;amp-date&gt;</code></h2>
  <p>Try to pick a date. This is a single-date picker</p>
  <button on="tap:sdp.setDate(date='2017-10-22')">Set date</button>
  <button on="tap:sdp.clear">Clear</button>
  <amp-date
    on="select:AMP.setState({date: event.date, dateType: event.id})"
    locale="en"
    format="Y-MM-DD"
    highlighted="2017-10-10 2017-10-12"
    blocked="2017-10-10 2017-10-17 2017-10-19 2017-10-21"
    show-clear-date
    keep-open-on-date-select
    id="sdp"
  >
    <input amp-date-placeholder placeholder="Pick a date!!" id="wow"/>
    <div date-template default>
      <template type="amp-mustache">
        {{^isBlocked}}{{^isHighlighted}}{{D}}{{/isHighlighted}}{{/isBlocked}}
        {{#isBlocked}}:({{/isBlocked}}
        {{#isHighlighted}}
          {{D}}
          <span class="highlight-corner"></span>
        {{/isHighlighted}}
      </template>
    </div>
    <div
      date-template
      dates="FREQ=WEEKLY;DTSTART=20170101T160000Z;INTERVAL=2;WKST=SU;BYDAY=TU 2017-10-30"
      id="tacos1"
    >
      <template type="amp-mustache">
        <span>ðŸŒ®</span>
        <span class="taco-tuesday"></span>
        {{#isHighlighted}}
          <span class="highlight-corner"></span>
        {{/isHighlighted}}
      </template>
    </div>
    <div info-template>
      <template type="amp-mustache">
        <span
          [text]="'You picked ' + date + '.' +
          (dateType == 'tacos1' ? ' Happy Taco Tuesday!' : '')"
        >You will see your chosen date here.</span>
      </template>
    </div>
  </amp-date>

  <h2><code>&lt;amp-date-range&gt;</code></h2>
  <p>Try to pick a range. This is a date-range picker</p>
  <button on="tap:drp.setDates(startDate='2017-10-26',endDate='2017-11-04')">Set date range</button>
  <button on="tap:drp.clear">Clear</button>
  <amp-date-range
    id="drp"
    on="
    select:
      AMP.setState({
        dates: event.dates,
        tacoTuesdays: event.dates.filter(d => d.id == 'tacos2').length,
      })"
    locale="en"
    format="Y-MM-DD"
    blocked="2017-10-15 2017-09-17 2017-10-19 2017-10-21"
    highlighted="2017-10-25"
    keep-open-on-date-select
    show-clear-dates
  >
    <input amp-date-placeholder-start placeholder="Start date" id="start" />
    <input amp-date-placeholder-end placeholder="End date" id="end" />
    <div date-template default>
      <template type="amp-mustache">
        {{^isBlocked}}{{^isHighlighted}}{{D}}{{/isHighlighted}}{{/isBlocked}}
        {{#isBlocked}}:({{/isBlocked}}
        {{#isHighlighted}}
          {{D}}
          <span class="highlight-corner"></span>
        {{/isHighlighted}}
      </template>
    </div>
    <div date-template dates="FREQ=WEEKLY;DTSTART=20170101T160000Z;INTERVAL=2;WKST=SU;BYDAY=TU" id="tacos2">
      <template type="amp-mustache">
        <span>ðŸŒ®</span>
        <span class="taco-tuesday"></span>
        {{#isHighlighted}}
          <span class="highlight-corner"></span>
        {{/isHighlighted}}
      </template>
    </div>
    <div date-template dates="FREQ=WEEKLY;DTSTART=20170101T160000Z;WKST=MO;BYDAY=SA,SU" id="weekendDelivery">
      <template type="amp-mustache">
        <span>+$10</span>
      </template>
    </div>
    <div info-template>
      <template type="amp-mustache">
        <span [text]="tacoTuesdays != null ? 'You chose ' + tacoTuesdays + ' taco tuesdays!' : ''">Cool</span>
        <span [text]="containsSales ? 'This is a sale' : ''">Cool</span>
      </template>
    </div>
  </amp-date-range>

  <h2>external <code>src</code></h2>
  <amp-date
    locale="en"
    format="Y-MM-DD"
    show-clear-date
    number-of-months="1"
    src="date-picker.json"
    with-portal
  >
    <input amp-date-placeholder placeholder="Pick a date!!" id="externalSrc"/>
    <div date-template id="spooky">
      <template type="amp-mustache">
        <span>ðŸ™€</span>
      </template>
    </div>
  </amp-date>

  <h2>minimal example</h2>
  <amp-date>
    <input amp-date-placeholder placeholder="Pick a date" id="myDate"/>
  </amp-date>

  <amp-state id="sales">
    <script type="application/json">
    {
      "dates": [
        "2017-10-20",
        "2017-10-22",
        "2017-10-24"
      ],
      "datesToDetails": {
        "2017-10-20": {
          "imageUrl": "https://www.ampbyexample.com/img/product1_640x426.jpg",
          "message": "We are having a special on apples!"
        },
        "2017-10-22": {
          "imageUrl": "https://www.ampbyexample.com/img/product2_640x426.jpg",
          "message": "We are having a special on oranges!"
        },
        "2017-10-24": {
          "imageUrl": "https://www.ampbyexample.com/img/product3_640x426.jpg",
          "message": "We are having a special on pears!"
        }
      }
    }
    </script>
  </amp-state>
</body>
</html>
