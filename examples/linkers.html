<!doctype html>
<html âš¡>
<head>
  <meta charset="utf-8">
  <title>AMP Linker</title>
  <link rel="canonical" href="analytics.amp.html" >
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
  <script async src="https://cdn.ampproject.org/v0.js"></script>
  <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
  <script async custom-element="amp-form" src="https://cdn.ampproject.org/v0/amp-form-0.1.js"></script>

  <meta name="amp-google-client-id-api" content="googleanalytics">
</head>
<body>
  <amp-analytics>
    <script type="application/json">
    {
      "vars": {
        "linkerVar": "LINKER_PARAM(ga, foo)"
      },
      "requests": {
        "endpoint": "/analytics/foo?b=${encoded}",
        "click": "${endpoint}&gclid=LINKER_PARAM(ga, gclid)"
      },
      "triggers": {
        "pageview": {
          "on": "visible",
          "request": "endpoint"
        },
        "click": {
          "on": "click",
          "request": "click",
          "selector": "#btn",
          "extraUrlParams": {
            "extraGclid": "LINKER_PARAM(ga, gclid)",
            "foo": "1",
            "linkerFoo": "${linkerVar}"
          }
        }
      },
      "linkers" : {
        "enabled": true,
        "proxyOnly": false,
        "ga": {
          "ids": {
            "_ga": "CLIENT_ID(_ga)",
            "gclid": "$IF(QUERY_PARAM(gclid), QUERY_PARAM(gclid), LINKER_PARAM(ga, gclid))",
            "foo": "123"
          },
          "destinationDomains": ["www.google.com"]
        },
        "linker2": {
          "ids": {
            "_cid": "CLIENT_ID(foo)",
            "t": "${title}"
          },
          "destinationDomains": ["www.example.com"]
        }
      }
    }
    </script>
  </amp-analytics>
  <!--
  <amp-analytics type="googleanalytics">
    <script type="application/json">
    {
      "requests": {
        "endpoint": "/analytics/foo?b=goog"
      },
      "triggers": {
        "pageview": {
          "on": "visible",
          "request": "endpoint"
        }
      },
      "linkers" : {
        "proxyOnly": false,
        "enabled": true
      }
    }
    </script>
    !-->
  </amp-analytics>
  <h1 id="top">AMP Analytics</h1>
  <div><a href="https://www.example.com">example.com #1</a></div>
  <div><a href="https://www.example.com">example.com #2</a></div>
  <div><a href="https://www.google.com">google.com</a></div>
  <div><a href="https://www.ampproject.com">ampproject.com</a></div>
  <button id="btn">Button</button>
  <form method="post"
    action-xhr="https://www.example.com"
    target="_top">
    post && action-xhr
    <fieldset>
      <label>
        <span>Name:</span>
        <input type="text"
          name="name">
      </label>
      <br>
      <br>
      <input type="submit"
        value="Subscribe">
    </fieldset>
  </form>

  <form method="get"
    action-xhr="https://www.example.com"
    target="_top">
    get && action-xhr
    <fieldset>
      <label>
        <span>Name:</span>
        <input type="text"
          name="name">
      </label>
      <br>
      <br>
      <input type="submit"
        value="Subscribe">
    </fieldset>
  </form>

  <form method="get"
    action="https://www.google.com"
    target="_top">
    get && action
    <fieldset>
      <label>
        <span>Name:</span>
        <input type="text"
          name="name">
      </label>
      <br>
      <br>
      <input type="submit"
        value="Subscribe">
    </fieldset>
  </form> -->

  <p>
    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam pellentesque augue quis elementum tempus. Pellentesque sit amet
    neque bibendum, sagittis purus vitae, pellentesque magna. Vestibulum non viverra metus, eget feugiat lacus. Nulla in
    maximus orci. Maecenas id turpis vel ipsum vestibulum bibendum ut sit amet magna. Nullam hendrerit ex at est eleifend,
    nec dignissim nibh rutrum. Aliquam quis tellus et nibh faucibus laoreet in eget turpis. Nam quam nisl, porttitor vel
    ex eget, dapibus placerat dui. Mauris commodo pellentesque leo, eu tempus quam. In hac habitasse platea dictumst. Suspendisse
    non ante finibus, luctus augue non, luctus orci. Vestibulum ornare lacinia aliquam. In sollicitudin vehicula vulputate.
    Sed mi elit, commodo nec sapien nec, pretium bibendum leo. Donec id justo tortor. Ut in mauris dapibus, laoreet metus
    vitae, dictum nisi.
  </p>
  <p>
    Integer dapibus egestas arcu. Nunc vitae velit congue, placerat augue quis, suscipit nisi. Donec suscipit imperdiet turpis
    pharetra feugiat. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Phasellus
    aliquam eleifend dolor, at lacinia orci semper vel. Nunc semper sem vel tincidunt posuere. Nunc lobortis velit vitae
    condimentum mollis. Morbi eu ullamcorper mauris. Pellentesque ac eros maximus, pulvinar sapien vitae, semper nisi. Curabitur
    imperdiet non mauris vitae sollicitudin.
  </p>
  <p>
    Nam posuere velit euismod risus pulvinar, in sollicitudin sapien consectetur. Vestibulum nec ex odio. Quisque at elit nec
    nunc ultricies lacinia nec non lorem. Maecenas porttitor consequat mauris, vitae porttitor ligula pellentesque ut. Pellentesque
    rhoncus diam vel lacus lobortis imperdiet. Sed maximus dictum hendrerit. Vivamus ornare, purus in laoreet sagittis, est
    ante pretium mauris, vel vulputate arcu erat eget mauris. Suspendisse eu lorem metus. Aliquam tempus aliquet urna, vitae
    mollis lacus pretium vitae. Etiam semper gravida commodo. Maecenas at pulvinar quam. Nullam dolor ipsum, ornare a sollicitudin
    et, sodales porttitor neque.
  </p>
  <p>
    Integer in felis at lacus mattis facilisis. Curabitur tincidunt, felis porttitor mollis finibus, tortor elit elementum dolor,
    vel vulputate lorem dui id ante. Vivamus in velit at lectus blandit gravida vitae quis arcu. Nam et magna magna. Fusce
    condimentum diam lacus, ac ullamcorper purus malesuada eu. Mauris ullamcorper elit et venenatis faucibus. Nullam lobortis
    molestie purus quis pellentesque. Sed at libero id nisi rhoncus tincidunt. Praesent vestibulum vehicula tristique. Etiam
    rutrum, nunc id porta interdum, nulla nisi molestie leo, at fermentum justo dolor at lorem. Duis in egestas sapien.
  </p>
  <p>
    Donec pharetra molestie sollicitudin. Duis mattis eleifend rutrum. Quisque luctus tincidunt lacus, vitae lobortis nisi malesuada
    ac. Aliquam mattis leo vel elit rutrum, nec consequat massa vestibulum. Maecenas bibendum metus nec ante feugiat, eu
    faucibus orci mattis. Cras tristique sem non elit congue malesuada. Proin ornare, lacus et porttitor consequat, sapien
    urna rutrum diam, ac pellentesque ligula est eget nisi. Interdum et malesuada fames ac ante ipsum primis in faucibus.
    Donec ultrices sollicitudin eros a placerat. Proin eget pulvinar est. Donec posuere ultrices odio at ultrices. Suspendisse
    potenti. Phasellus id orci id purus porttitor consectetur a at erat. Nullam volutpat ultricies nisl id maximus. Morbi
    porta ex ante, et egestas odio ultricies consequat.
  </p>
  <p>
    <ul>
      <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</li>
      <li>Aliquam in ex porta, imperdiet elit sit amet, condimentum diam.</li>
      <li>Etiam fermentum nisi at porta pulvinar.</li>
    </ul>
  </p>
  <p>
    <ul>
      <li>Proin mattis neque vel elit posuere molestie.</li>
      <li>Integer tincidunt sem sed nunc auctor elementum.</li>
      <li>Integer a felis in ipsum aliquet auctor sit amet a neque.</li>
    </ul>
  </p>
  <p>
    <ul>
      <li>Sed suscipit dolor molestie, rhoncus quam ac, lacinia ex.</li>
      <li>Curabitur et tellus vel justo ultrices aliquet sed id turpis.</li>
      <li>Nam finibus risus at justo elementum bibendum.</li>
      <li>In non lacus non urna congue feugiat at vel diam.</li>
    </ul>
  </p>
  <p>
    <ul>
      <li>Integer hendrerit augue interdum dui venenatis, sit amet tristique mauris cursus.</li>
      <li>Etiam quis eros viverra, tincidunt justo in, facilisis nunc.</li>
      <li>Aliquam at lacus faucibus, congue lorem interdum, semper mauris.</li>
      <li>Ut vulputate erat vel feugiat pharetra.</li>
      <li>Morbi id augue id orci sagittis tempus.</li>
      <li>Vestibulum varius libero ac dignissim sodales.</li>
    </ul>
  </p>
  <p>
    <ul>
      <li>Aenean ac sem eget libero varius viverra sit amet vitae nunc.</li>
    </ul>
  </p>
</div>
</body>

</html>
