<!doctype html>
<html âš¡ lang="en">
<head>
  <meta charset="utf-8">
  <title>My AMP Page</title>
  <link rel="canonical" href="amp-consent-amp-ad.amp.html" />
  <meta name="viewport" content="width=device-width,minimum-scale=1">
  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
  <script async src="https://cdn.ampproject.org/v0.js"></script>
  <script async custom-element="amp-ad" src="https://cdn.ampproject.org/v0/amp-ad-0.1.js"></script>
  <script async custom-element="amp-consent" src="https://cdn.ampproject.org/v0/amp-consent-0.1.js"></script>

  <style amp-custom>
    h1 {
      margin: 1rem;
    }

    amp-consent {
      background-color: rgba(0,0,0,0.25);
    }

  </style>
</head>
<body>

  <!-- _ping_ example -->
  <amp-consent id='ABC' layout='nodisplay' type='_ping_'>
    <script type="application/json">
      {
        "postPromptUI": "postPromptUI",
        "clientConfig": {
          "CMP_id": "test_id",
          "other_info": "test_info"
        }
      }
    </script>
    <div id="postPromptUI">
      Post Prompt UI
      <button on="tap:ABC.prompt(consent=_ping_)">Manage</button>
    </div>
  </amp-consent>
  <!-- End _ping_ example -->

  <h1>A4A Examples</h1>

  <h2>Doubleclick with RTC (Blocked _till_responded)</h2>
  <amp-ad data-block-on-consent='_till_responded'
    width="320" height="50"
    type="doubleclick"
    data-slot="/4119129/mobile_ad_banner"
    rtc-config='{"vendors": {"fakeVendor": {"SLOT_ID": "1"}}, "urls": ["https://localhost:4443/posts?slot_id=1&consent_state=CONSENT_STATE&consent_string=CONSENT_STRING&gdprApplies=CONSENT_METADATA(gdprApplies)&additionalConsent=CONSENT_METADATA(additionalConsent)&consentStringType=CONSENT_METADATA(consentStringType)"], "timeoutMillis": 500}'>
  </amp-ad>

  <h2>Doubleclick with RTC (Blocked by _till_accepted)</h2>
  <amp-ad data-block-on-consent='_till_accepted'
    width="320" height="50"
    type="doubleclick"
    data-slot="/4119129/mobile_ad_banner"
    rtc-config='{"vendors": {"fakeVendor": {"SLOT_ID": "1"}}, "urls": ["https://localhost:4443/posts?slot_id=1&consent_state=CONSENT_STATE&consent_string=CONSENT_STRING&gdprApplies=CONSENT_METADATA(gdprApplies)&additionalConsent=CONSENT_METADATA(additionalConsent)&consentStringType=CONSENT_METADATA(consentStringType)"], "timeoutMillis": 500}'>
    </amp-ad>

  </amp-ad>

</body>
</html>
