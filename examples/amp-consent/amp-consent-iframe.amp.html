<!doctype html>
<html âš¡>
  <head>
    <meta charset="utf-8">
    <title>AMP Consent CMP Vendors</title>
    <link rel="canonical" href="amp-consent-iframe.amp.html" >
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <style amp-custom>
    .box {
      background: #ccc;
      border: 1px solid #aaa;
      padding: 10px;
      margin: 10px;
    }

    #container {
      position: absolute;
      top: 10000px;
      height: 10px;
    }

    .filterBar {
      background: #eee;
      padding: 3px;
      font-size: 1.2em;
    }

    .filterBar form {
      display: flex;
      justify-content: flex-start;
      align-items: center;
    }

    .filterBar form * {
      margin-left: 10px;
      margin-right: 10px;
    }

    .filterBar .clearLocalStorage {
      margin-left: auto;
    }

    select {
      border: 1px solid #999;
    }

    input[type=submit] {
      font-size: 14px;
      border: 1px solid #999;
      border-radius: 3px;
      margin-left: 10px;
    }

    amp-consent {
      min-height: 30px;
      font-family: 'Roboto';
      font-weight: 500;
      line-height: 30px;
      padding: 8px;
      background: #46b6ac;
    }

    amp-consent button {
      border: none;
      border-radius: 2px;

      color: #fafafa;
      height: 26px;
      min-width: 32px;
      padding: 0 16px;
      margin: 0 16px;
      text-transform: uppercase;
      letter-spacing: 0;
      cursor: pointer;
      vertical-align: middle;
      line-height: 26px;
      text-align: center;
      background: #3f51b5;
    }

    </style>
    <script async custom-element="amp-geo" src="https://cdn.ampproject.org/v0/amp-geo-0.1.js"></script>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-form" src="https://cdn.ampproject.org/v0/amp-form-0.1.js"></script>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <script async custom-element="amp-consent" src="https://cdn.ampproject.org/v0/amp-consent-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
  </head>
  <body>

    <div class="filterBar">
      <form action="amp-consent-iframe.amp.html" method="get" target="_top">
        <label for="filter">Vendor filter</label>
        <select id="filter" name="type">
          <option>[Select a vendor]</option>
          <!-- This should be in alphabetical order. _ping_ should be the first -->
          <option>_ping_</option>
          <option>appconsent</option>
          <option>didomi</option>
          <option>sirdata</option>
          <option>Marfeel</option>
          <option>Ogury</option>
          <option>opencmp</option>
          <option>SourcePoint</option>
          <option>Usercentrics</option>
        </select>
        <input type="submit" value="Go">
        <button type="button" class="clearLocalStorage" onclick="localStorage.clear(); alert('localStorage Cleared!')">Clear localStorage</button>
      </form>
    </div>

    <h1 id="top">AMP Consent Iframe</h1>

    <amp-iframe
      data-block-on-consent="_till_responded"
      src="http://iframe.localhost:8000/examples/amp-consent/amp-consent-iframe.embed.html"
      sandbox="allow-scripts allow-same-origin allow-popups"
      allow="autoplay *; fullscreen *"
      frameborder="0"
      width="16"
      height="9"
      style="max-width:700px;"
      layout="responsive">
      <amp-img layout="fill" src="https://lh3.googleusercontent.com/pSECrJ82R7-AqeBCOEPGPM9iG9OEIQ_QXcbubWIOdkY=w300-h200-no-n" placeholder></amp-img>
    </amp-iframe>

    <div id="container">
      Container for amp-consent tags.

      <!-- This should be in alphabetical order. _ping_ should be the first -->

      <!-- _ping_ example -->
      <amp-consent id='ABC' layout='nodisplay' type='_ping_'>
        <script type="application/json">
          {
            "consents": {},
            "postPromptUI": "postPromptUI",
            "clientConfig": {
              "CMP_id": "test_id",
              "other_info": "test_info"
            }
          }
        </script>
        <div id="postPromptUI">
          Post Prompt UI
          <button on="tap:ABC.prompt(consent=_ping_)" role="button">Manage</button>
        </div>
      </amp-consent>
      <!-- End _ping_ example -->

      <!-- appconsent example -->
      <amp-consent id='ABC' layout='nodisplay' type='appconsent'>
        <script type="application/json">
          {
            "postPromptUI": "postPromptUI",
            "clientConfig": {
              "id": "1/10/v5eCA1JV4"
            }
          }
        </script>
        <div id="postPromptUI">
          Post Prompt UI
          <button on="tap:ABC.prompt(consent=appconsent)" role="button">Manage</button>
        </div>
      </amp-consent>
      <!-- End appconsent example -->

      <!-- didomi example -->
      <amp-consent id='didomi' layout='nodisplay' type='didomi'>
          <script type="application/json">
            {
              "consents": {},
              "postPromptUI": "postPromptUI",
              "clientConfig": {
                "config": {
                  "app": {
                    "apiKey": "03f1af55-a479-4c1f-891a-7481345171ce",
                    "name": "AMP - Didomi",
                    "vendors": {
                      "iab": {
                        "all": true
                      }
                    }
                  }
                }
              }
            }
          </script>
          <div id="postPromptUI">
            Post Prompt UI
            <button on="tap:didomi.prompt(consent=didomi)" role="button">Manage</button>
          </div>
        </amp-consent>
        <!-- End didomi example -->

      <!-- sirdata example -->
      <amp-consent id="consent" layout="nodisplay" type="sirdata">
        <script type="application/json">
          {
            "postPromptUI": "promptConsentUI",
            "clientConfig": {
              "cmp": {
                "theme": {
                  "noConsentButton": "refuse"
                }
              }
            }
          }
        </script>
        <div id="promptConsentUI">
          Post Prompt UI
          <button on="tap:consent.prompt(consent=sirdata)" role="button">Privacy settings</button>
        </div>
      </amp-consent>
      <!-- End sirdata example -->

      <!-- Marfeel example -->
      <amp-consent id='marfeelConsent' layout='nodisplay' type='Marfeel'>
        <script type="application/json">
          {
            "postPromptUI": "postPromptUI",
            "clientConfig": {
              "consentLanguage": "en",
              "publisherLogo": "https://marfeel.mgr.consensu.org/amp/img/marfeel-logo.png"
            }
          }
        </script>
        <div id="postPromptUI">
          Post Prompt UI
          <button on="tap:marfeelConsent.prompt(consent=Marfeel)" role="button">Manage</button>
        </div>
      </amp-consent>
      <!-- End Marfeel example -->

      <!-- Ogury example -->
      <amp-consent id='ogury' layout='nodisplay' type='Ogury'>
        <script type="application/json">
          {
            "postPromptUI": "custom-prompt-ui",
            "clientConfig": {
              "assetKey": "OGY-316B32F7E5B7"
            },
            "uiConfig": {
              "overlay": true
            }
          }
        </script>
        <div id="custom-prompt-ui">
          Post Prompt UI
          <button on="tap:ogury.prompt(consent=Ogury)" role="button">
            Privacy Settings
          </button>
        </div>
      </amp-consent>
      <!-- End Ogury example -->

      <!-- opencmp example -->
      <amp-consent id='consent' layout='nodisplay' type='opencmp'>
        <script type="application/json">
          {
            "postPromptUI": "opencmp-consent-prompt-ui",
            "clientConfig": {}
          }
        </script>
        <div id="opencmp-consent-prompt-ui">
          Post Prompt UI
          <button on="tap:consent.prompt(consent=opencmp)" role="button">Privacy Settings</button>
        </div>
      </amp-consent>
      <!-- End opencmp example -->

      <!-- SourcePoint example -->
      <amp-consent id='consent' layout='nodisplay' type='SourcePoint'>
        <script type="application/json">
          {
            "postPromptUI": "my-consent-prompt-ui",
            "clientConfig": {
              "accountId": 22,
              "siteName": "mobile.demo",
              "siteId": 2372,
              "privacyManagerId": "5c0e81b7d74b3c30c6852301",
              "stageCampaign": false,
              "authId": "MY-UUID",
              "targetingParams": {
                "MyPrivacyManager": "false"
              }
            }
          }
        </script>
        <div id="my-consent-prompt-ui">
          Post Prompt UI
          <button on="tap:consent.prompt(consent=SourcePoint)" role="button">Privacy Settings</button>
        </div>
      </amp-consent>
      <!-- End SourcePoint example -->

      <!-- Usercentrics example -->
      <amp-consent id='consent' layout='nodisplay' type='Usercentrics'>
        <script type="application/json">
          {
            "postPromptUI": "my-consent-prompt-ui",
            "clientConfig": {
              "id": "i3_E5TN2b"
            }
          }
        </script>
        <div id="my-consent-prompt-ui">
          Post Prompt UI
          <button on="tap:consent.prompt(consent=Usercentrics)" role="button">Privacy Settings</button>
        </div>
      </amp-consent>
      <!-- End Usercentrics example -->

    </div>
  </body>
</html>
