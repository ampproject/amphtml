<!DOCTYPE html>
<html âš¡>
  <head>
    <meta charset="utf-8" />
    <title>amp-video-iframe</title>
    <link rel="canonical" href="amps.html" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1" />
    <script async custom-element="amp-video-iframe" src="https://cdn.ampproject.org/v0/amp-video-iframe-0.1.js"></script>
    <script async custom-element="amp-consent" src="https://cdn.ampproject.org/v0/amp-consent-0.1.js"></script>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <script>
      (self.AMP = self.AMP || []).push(function(AMP) {
        AMP.toggleExperiment('tcf-post-message-proxy-api', true);
      });
    </script>
    <style amp-custom>
      body {
        max-width: 527px;
      }
      [fallback] {
        display: block;
        /* @alternative */
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
        justify-content: center;
        align-items: center;
        background: rgba(0, 0, 0, 0.5);
        color: #fff;
      }
      .spacer {
        height: 100vh;
      }
      p,
      h1,
      h2,
      h3 {
        padding: 10px;
      }

    amp-consent {
      min-height: 30px;
      font-family: 'Roboto';
      font-weight: 500;
      line-height: 30px;
      padding: 8px;
      background: #46b6ac;
    }

    amp-consent button {
      border: none;
      border-radius: 2px;

      color: #fafafa;
      height: 26px;
      min-width: 32px;
      padding: 0 16px;
      margin: 0 16px;
      text-transform: uppercase;
      letter-spacing: 0;
      cursor: pointer;
      vertical-align: middle;
      line-height: 26px;
      text-align: center;
      background: #3f51b5;
    }

    #ui1 {
      height: 100vh;
    }

    hr {
      margin: 0;
    }
    </style>
    <style amp-boilerplate>
      body {
        -webkit-animation: -amp-start 8s steps(1, end) 0s 1 normal both;
        -moz-animation: -amp-start 8s steps(1, end) 0s 1 normal both;
        -ms-animation: -amp-start 8s steps(1, end) 0s 1 normal both;
        animation: -amp-start 8s steps(1, end) 0s 1 normal both;
      }
      @-webkit-keyframes -amp-start {
        from {
          visibility: hidden;
        }
        to {
          visibility: visible;
        }
      }
      @-moz-keyframes -amp-start {
        from {
          visibility: hidden;
        }
        to {
          visibility: visible;
        }
      }
      @-ms-keyframes -amp-start {
        from {
          visibility: hidden;
        }
        to {
          visibility: visible;
        }
      }
      @-o-keyframes -amp-start {
        from {
          visibility: hidden;
        }
        to {
          visibility: visible;
        }
      }
      @keyframes -amp-start {
        from {
          visibility: hidden;
        }
        to {
          visibility: visible;
        }
      }
    </style>
    <noscript>
      <style amp-boilerplate>
        body {
          -webkit-animation: none;
          -moz-animation: none;
          -ms-animation: none;
          animation: none;
        }
        </style>
    </noscript>
  </head>
  <body>
    <h3>Image that is blocked by both consent</h3>
    <amp-img data-block-on-consent src="https://lh3.googleusercontent.com/pSECrJ82R7-AqeBCOEPGPM9iG9OEIQ_QXcbubWIOdkY=w300-h200-no-n" width="300" height="200"></amp-img>

    <h3>Image that is NOT blocked by consent</h3>
    <amp-img src="https://lh3.googleusercontent.com/pSECrJ82R7-AqeBCOEPGPM9iG9OEIQ_QXcbubWIOdkY=w300-h200-no-n" width="300" height="200"></amp-img>

    <amp-video-iframe data-block-on-consent='_till_responded' id="myVideo" src="./diy-3p-iframe-tcf-postmessage.html" width="720" height="405" layout="responsive" autoplay>
      <div placeholder>
        This is a placeholder
      </div>
      <div fallback>
        This is a fallback
      </div>
    </amp-video-iframe>
    
    <amp-video-iframe data-block-on-consent id="myVideo2" src="./diy-3p-iframe-tcf-postmessage.html" width="720" height="405" layout="responsive" autoplay>
      <div placeholder>
        This is a placeholder
      </div>
      <div fallback>
        This is a fallback
      </div>
    </amp-video-iframe>
    <amp-consent id="ABC" layout="nodisplay" type="_ping_">
      <script type="application/json">
        {
          "postPromptUI": "postPromptUI",
          "exposesTcfApi": true
        }
      </script>
      <div id="ui1">
        Please Accept to load image.
        <button on="tap:ABC.accept">Accept</button>
        <button on="tap:ABC.reject">Reject</button>
        <button on="tap:ABC.dismiss">Dismiss</button>
      </div>
      <div id="ui2">
        Please Accept to load image.
        <button on="tap:ABC.accept">Accept</button>
        <button on="tap:ABC.reject">Reject</button>
        <button on="tap:ABC.dismiss">Dismiss</button>
      </div>
      <div id="postPromptUI">
        Post Prompt UI
        <button on="tap:ABC.prompt(consent=_ping_)">Manage</button>
      </div>
    </amp-consent>
  </body>
</html>
