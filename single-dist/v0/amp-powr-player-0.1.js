(self.AMP=self.AMP||[]).push({n:"amp-powr-player",i:["_base_i","_base_media"],v:"1904281823091",f:(function(AMP,_){
var $AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player$$=function($$jscomp$super$this$jscomp$87_element$jscomp$587$$){$$jscomp$super$this$jscomp$87_element$jscomp$587$$=AMP.BaseElement.call(this,$$jscomp$super$this$jscomp$87_element$jscomp$587$$)||this;$$jscomp$super$this$jscomp$87_element$jscomp$587$$.$D$=null;$$jscomp$super$this$jscomp$87_element$jscomp$587$$.$J$=!1;$$jscomp$super$this$jscomp$87_element$jscomp$587$$.$G$=!1;$$jscomp$super$this$jscomp$87_element$jscomp$587$$.$M$=
!1;$$jscomp$super$this$jscomp$87_element$jscomp$587$$.$F$=null;$$jscomp$super$this$jscomp$87_element$jscomp$587$$.$I$=null;$$jscomp$super$this$jscomp$87_element$jscomp$587$$.$K$=null;$$jscomp$super$this$jscomp$87_element$jscomp$587$$.$H$=null;$$jscomp$super$this$jscomp$87_element$jscomp$587$$.$O$=null;return $$jscomp$super$this$jscomp$87_element$jscomp$587$$},$JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$sendCommand_$$=function($JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$sendCommand_$self$$,
$command$jscomp$8$$,$arg$jscomp$14$$){$JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$sendCommand_$self$$.$F$.then(function(){$JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$sendCommand_$self$$.$D$&&$JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$sendCommand_$self$$.$D$.contentWindow&&$JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$sendCommand_$self$$.$D$.contentWindow.postMessage(JSON.stringify(_.$dict$$module$src$utils$object$$({command:$command$jscomp$8$$,
args:$arg$jscomp$14$$})),"https://player.powr.com")})},$JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$getIframeSrc_$$=function($JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$getIframeSrc_$self$$){var $el$jscomp$84$$=$JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$getIframeSrc_$self$$.element,$account$jscomp$2_srcParams$$=$el$jscomp$84$$.getAttribute("data-account");
$JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$getIframeSrc_$self$$.$H$=$el$jscomp$84$$.getAttribute("data-player");var $src$jscomp$65_video$jscomp$26$$=$el$jscomp$84$$.getAttribute("data-video"),$customReferrer$jscomp$1_terms$jscomp$1$$=$el$jscomp$84$$.getAttribute("data-terms");$account$jscomp$2_srcParams$$=_.$dict$$module$src$utils$object$$({account:$account$jscomp$2_srcParams$$,player:$JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$getIframeSrc_$self$$.$H$});
$src$jscomp$65_video$jscomp$26$$&&($account$jscomp$2_srcParams$$.video=$src$jscomp$65_video$jscomp$26$$);$customReferrer$jscomp$1_terms$jscomp$1$$&&($account$jscomp$2_srcParams$$.terms=$customReferrer$jscomp$1_terms$jscomp$1$$);$src$jscomp$65_video$jscomp$26$$=_.$addParamsToUrl$$module$src$url$$("https://player.powr.com/iframe.html",$account$jscomp$2_srcParams$$);($customReferrer$jscomp$1_terms$jscomp$1$$=$el$jscomp$84$$.getAttribute("data-referrer"))&&$el$jscomp$84$$.setAttribute("data-param-referrer",
_.$JSCompiler_StaticMethods_expandUrlSync$$($JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$getIframeSrc_$self$$.$O$,$customReferrer$jscomp$1_terms$jscomp$1$$));$el$jscomp$84$$.setAttribute("data-param-playsinline","true");return _.$addParamsToUrl$$module$src$url$$($src$jscomp$65_video$jscomp$26$$,_.$getDataParamsFromAttributes$$module$src$dom$$($el$jscomp$84$$))},$PLAYER_EVENT_MAP$$module$extensions$amp_powr_player$0_1$amp_powr_player$$={ready:_.$VideoEvents$$module$src$video_interface$$.$LOAD$,
playing:_.$VideoEvents$$module$src$video_interface$$.$PLAYING$,pause:_.$VideoEvents$$module$src$video_interface$$.$PAUSE$,ended:_.$VideoEvents$$module$src$video_interface$$.$ENDED$,"ads-ad-started":_.$VideoEvents$$module$src$video_interface$$.$AD_START$,"ads-ad-ended":_.$VideoEvents$$module$src$video_interface$$.$AD_END$};_.$$jscomp$inherits$$($AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player$$,AMP.BaseElement);_.$JSCompiler_prototypeAlias$$=$AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player$$.prototype;
_.$JSCompiler_prototypeAlias$$.$preconnectCallback$=function(){this.$preconnect$.url("https://player.powr.com")};_.$JSCompiler_prototypeAlias$$.$isLayoutSupported$=function($layout$jscomp$95$$){return _.$isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$95$$)};_.$JSCompiler_prototypeAlias$$.$viewportCallback$=function($visible$jscomp$13$$){this.element.$dispatchCustomEvent$(_.$VideoEvents$$module$src$video_interface$$.$VISIBILITY$,{visible:$visible$jscomp$13$$})};
_.$JSCompiler_prototypeAlias$$.$buildCallback$=function(){this.$O$=_.$Services$$module$src$services$urlReplacementsForDoc$$(this.element);var $deferred$jscomp$54$$=new _.$Deferred$$module$src$utils$promise$$;this.$F$=$deferred$jscomp$54$$.$promise$;this.$I$=$deferred$jscomp$54$$.resolve};
_.$JSCompiler_prototypeAlias$$.$layoutCallback$=function(){var $$jscomp$this$jscomp$855$$=this,$iframe$jscomp$76$$=_.$createFrameFor$$module$src$iframe_video$$(this,$JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$getIframeSrc_$$(this));this.$D$=$iframe$jscomp$76$$;this.$K$=_.$listen$$module$src$event_helper$$(this.$win$,"message",function($iframe$jscomp$76$$){var $data$jscomp$inline_4127_e$jscomp$269_eventData$jscomp$inline_4126_muted$jscomp$inline_4129$$=
$$jscomp$this$jscomp$855$$.element;if($iframe$jscomp$76$$.source==$$jscomp$this$jscomp$855$$.$D$.contentWindow&&($iframe$jscomp$76$$=$iframe$jscomp$76$$.data,_.$isJsonOrObj$$module$src$iframe_video$$($iframe$jscomp$76$$)&&($iframe$jscomp$76$$=_.$objOrParseJson$$module$src$iframe_video$$($iframe$jscomp$76$$),void 0!==$iframe$jscomp$76$$))){var $eventType$jscomp$inline_4128$$=$iframe$jscomp$76$$.event;if($eventType$jscomp$inline_4128$$){if("ready"===$eventType$jscomp$inline_4128$$){$$jscomp$this$jscomp$855$$.$M$=
!0;var $element$jscomp$inline_6747$$=$$jscomp$this$jscomp$855$$.element;_.$installVideoManagerForDoc$$module$src$service$video_manager_impl$$($element$jscomp$inline_6747$$);_.$Services$$module$src$services$videoManagerForDoc$$($element$jscomp$inline_6747$$).register($$jscomp$this$jscomp$855$$);$$jscomp$this$jscomp$855$$.$I$($$jscomp$this$jscomp$855$$.$D$);_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$info$("amp-powr-player","Player %s ready. Powr Player version: %s IFrame Support version: %s",
$$jscomp$this$jscomp$855$$.$H$,$iframe$jscomp$76$$.powrVersion,$iframe$jscomp$76$$.iframeVersion)}"playing"===$eventType$jscomp$inline_4128$$&&($$jscomp$this$jscomp$855$$.$J$=!0);"pause"===$eventType$jscomp$inline_4128$$&&($$jscomp$this$jscomp$855$$.$J$=!1);_.$redispatch$$module$src$iframe_video$$($data$jscomp$inline_4127_e$jscomp$269_eventData$jscomp$inline_4126_muted$jscomp$inline_4129$$,$eventType$jscomp$inline_4128$$,$PLAYER_EVENT_MAP$$module$extensions$amp_powr_player$0_1$amp_powr_player$$)||
"volumechange"!==$eventType$jscomp$inline_4128$$||($iframe$jscomp$76$$=$iframe$jscomp$76$$.muted,null!=$iframe$jscomp$76$$&&$$jscomp$this$jscomp$855$$.$G$!=$iframe$jscomp$76$$&&($$jscomp$this$jscomp$855$$.$G$=$iframe$jscomp$76$$,$data$jscomp$inline_4127_e$jscomp$269_eventData$jscomp$inline_4126_muted$jscomp$inline_4129$$.$dispatchCustomEvent$(_.$mutedOrUnmutedEvent$$module$src$iframe_video$$($$jscomp$this$jscomp$855$$.$G$))))}}});return this.$loadPromise$($iframe$jscomp$76$$).then(function(){return $$jscomp$this$jscomp$855$$.$F$})};
_.$JSCompiler_prototypeAlias$$.$mutatedAttributesCallback$=function($mutations$jscomp$15$$){var $playerId$jscomp$1$$=$mutations$jscomp$15$$["data-player"]||$mutations$jscomp$15$$["data-player-id"],$video$jscomp$27$$=$mutations$jscomp$15$$["data-video"];void 0===$mutations$jscomp$15$$["data-account"]&&void 0===$playerId$jscomp$1$$&&void 0===$video$jscomp$27$$||!this.$D$||(this.$D$.src=$JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$getIframeSrc_$$(this))};
_.$JSCompiler_prototypeAlias$$.$pauseCallback$=function(){this.$D$&&this.$D$.contentWindow&&this.$M$&&this.$J$&&this.pause()};_.$JSCompiler_prototypeAlias$$.$unlayoutOnPause$=function(){return this.$M$?!1:!0};
_.$JSCompiler_prototypeAlias$$.$unlayoutCallback$=function(){this.$D$&&(_.$removeElement$$module$src$dom$$(this.$D$),this.$D$=null);this.$K$&&this.$K$();var $deferred$jscomp$55$$=new _.$Deferred$$module$src$utils$promise$$;this.$F$=$deferred$jscomp$55$$.$promise$;this.$I$=$deferred$jscomp$55$$.resolve;return!0};_.$JSCompiler_prototypeAlias$$.$supportsPlatform$=function(){return!0};_.$JSCompiler_prototypeAlias$$.$isInteractive$=function(){return!0};
_.$JSCompiler_prototypeAlias$$.play=function(){$JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$sendCommand_$$(this,"play")};_.$JSCompiler_prototypeAlias$$.pause=function(){$JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$sendCommand_$$(this,"pause")};
_.$JSCompiler_prototypeAlias$$.$mute$=function(){$JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$sendCommand_$$(this,"muted",!0)};_.$JSCompiler_prototypeAlias$$.$unmute$=function(){$JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$sendCommand_$$(this,"muted",!1)};
_.$JSCompiler_prototypeAlias$$.$showControls$=function(){$JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$sendCommand_$$(this,"controls",!0)};_.$JSCompiler_prototypeAlias$$.$hideControls$=function(){$JSCompiler_StaticMethods_AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player_prototype$sendCommand_$$(this,"controls",!1)};_.$JSCompiler_prototypeAlias$$.$fullscreenEnter$=function(){this.$D$&&_.$fullscreenEnter$$module$src$dom$$(this.$D$)};
_.$JSCompiler_prototypeAlias$$.$fullscreenExit$=function(){this.$D$&&_.$fullscreenExit$$module$src$dom$$(this.$D$)};_.$JSCompiler_prototypeAlias$$.$preimplementsAutoFullscreen$=function(){return!1};_.$JSCompiler_prototypeAlias$$.getMetadata=function(){};_.$JSCompiler_prototypeAlias$$.$preimplementsMediaSessionAPI$=function(){return!0};_.$JSCompiler_prototypeAlias$$.$getCurrentTime$=function(){return 0};_.$JSCompiler_prototypeAlias$$.$getDuration$=function(){return 1};
_.$JSCompiler_prototypeAlias$$.$getPlayedRanges$=function(){return[]};_.$JSCompiler_prototypeAlias$$.$seekTo$=function(){this.$user$().error("amp-powr-player","`seekTo` not supported.")};self.AMP.registerElement("amp-powr-player",$AmpPowrPlayer$$module$extensions$amp_powr_player$0_1$amp_powr_player$$);
})});

//# sourceMappingURL=amp-powr-player-0.1.js.map
