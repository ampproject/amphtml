{"version":3,"sources":["/extensions/amp-vimeo/0.1/amp-vimeo.js","/src/event-helper.js","/src/video-interface.js","/src/utils/video.js"],"names":["constructor","element","iframe_","setVolumeMethod_","once","optType","toLowerCase","prop","onReadyOnce_","onReady_","muted_","boundOnMessage_","this.boundOnMessage_","e","originMatches","onMessage_","eventData","data","isJsonOrObj","objOrParseJson","redispatch","VIMEO_EVENTS","volume","muted","dispatchCustomEvent","mutedOrUnmutedEvent","unlistenFrame_","isAutoplay_","hasAttribute","AUTOPLAY","Promise","resolve","win","lite","getMode","isAutoplaySupported","isAutoplaySupportedImpl","isLiteViewer","Object","keys","forEach","event","sendCommand_","Services$$module$src$services.videoManagerForDoc","register","VideoEvents","LOAD","method","optParams","contentWindow","postMessage","JSON","stringify","dict","PLAYING","PAUSE","ENDED","$jscomp.inherits","BaseElement","AmpVimeo","AMP","preconnectCallback","?.prototype","onLayout","preconnect","url","isLayoutSupported","layout","isLayoutSizeDefined","buildCallback","installVideoManagerForDoc","getAmpDoc","layoutCallback","then","isAutoplay","vidId","buildIframe_","getAttribute","src","encodeURIComponent","addParamToUrl","iframe","createFrameFor","internalListenImplementation","eventType","opt_evtListenerOpts","loadPromise","unlayoutCallback","removeIframe_","removeElement","pauseCallback","pause","play","mute","unmute","isInteractive","supportsPlatform","preimplementsMediaSessionAPI","preimplementsAutoFullscreen","fullscreenEnter","fullscreenExit","showControls","hideControls","getMetadata","getDuration","getCurrentTime","getPlayedRanges","seekTo","user","error","TAG","registerElement"],"mappings":"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","file":"amp-vimeo-0.1.js","sourcesContent":[]}