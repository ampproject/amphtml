(self.AMP=self.AMP||[]).push({n:"amp-ad-network-doubleclick-impl",i:["_base_i","_base_ad"],v:"1904281823091",f:(function(AMP,_){
var $groupAmpAdsByType$$module$ads$google$a4a$utils$$=function($win$jscomp$251$$,$type$jscomp$155$$){var $groupFn$$=$getNetworkId$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$;return _.$JSCompiler_StaticMethods_getMeasuredResources$$(_.$Services$$module$src$services$resourcesForDoc$$($win$jscomp$251$$.document.documentElement),$win$jscomp$251$$,function($win$jscomp$251$$){return"AMP-AD"==$win$jscomp$251$$.element.tagName&&$win$jscomp$251$$.element.getAttribute("type")==
$type$jscomp$155$$?!0:Object.keys(_.$ValidAdContainerTypes$$module$ads$google$a4a$utils$$).includes($win$jscomp$251$$.element.tagName)&&!!$win$jscomp$251$$.element.querySelector("amp-ad[type="+$type$jscomp$155$$+"]")}).then(function($win$jscomp$251$$){return Promise.all($win$jscomp$251$$.map(function($win$jscomp$251$$){return"AMP-AD"==$win$jscomp$251$$.element.tagName?$win$jscomp$251$$.element:_.$whenUpgradedToCustomElement$$module$src$dom$$($win$jscomp$251$$.element.querySelector("amp-ad[type="+
$type$jscomp$155$$+"]"))}))}).then(function($win$jscomp$251$$){return $win$jscomp$251$$.reduce(function($win$jscomp$251$$,$type$jscomp$155$$){var $elements$jscomp$15$$=$groupFn$$($type$jscomp$155$$);($win$jscomp$251$$[$elements$jscomp$15$$]||($win$jscomp$251$$[$elements$jscomp$15$$]=[])).push($type$jscomp$155$$.$getImpl$());return $win$jscomp$251$$},{})})},$getContainerWidth$$module$ads$google$a4a$utils$$=function($win$jscomp$267$$,$element$jscomp$251$$,$depth$jscomp$14_maxDepth$$){var $el$jscomp$29$$=
$element$jscomp$251$$;for($depth$jscomp$14_maxDepth$$=void 0===$depth$jscomp$14_maxDepth$$?100:$depth$jscomp$14_maxDepth$$;$el$jscomp$29$$&&$depth$jscomp$14_maxDepth$$--;)switch($el$jscomp$29$$.getAttribute("layout")){case "fixed":return parseInt($el$jscomp$29$$.getAttribute("width"),10)||0;case "responsive":case "fill":case "fixed-height":case "fluid":var $maxWidth$$=parseInt(_.$computedStyle$$module$src$style$$($win$jscomp$267$$,$el$jscomp$29$$).maxWidth,10);if($maxWidth$$||0==$maxWidth$$)return $maxWidth$$;
$el$jscomp$29$$=$el$jscomp$29$$.parentElement;break;case "container":return _.$Services$$module$src$services$viewportForDoc$$($element$jscomp$251$$).$getSize$().width;case "nodisplay":case "flex-item":return 0;default:return parseInt(_.$computedStyle$$module$src$style$$($win$jscomp$267$$,$el$jscomp$29$$).width,10)||0}return-1},$validateDimensions$$module$ads$google$utils$$=function($width$jscomp$37$$,$height$jscomp$35$$,$widthCond$$,$heightCond$$,$errorBuilder$$){var $badParams$jscomp$3$$=[];$widthCond$$($width$jscomp$37$$)&&
$badParams$jscomp$3$$.push({$dim$:"width",$val$:$width$jscomp$37$$});$heightCond$$($height$jscomp$35$$)&&$badParams$jscomp$3$$.push({$dim$:"height",$val$:$height$jscomp$35$$});$badParams$jscomp$3$$.length&&_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("AMP-AD",$errorBuilder$$($badParams$jscomp$3$$));return!$badParams$jscomp$3$$.length},$getMultiSizeDimensions$$module$ads$google$utils$$=function($arrayOfSizeStrs_multiSizeDataStr$$,$primaryWidth$$,$primaryHeight$$,$multiSizeValidation$$,
$isFluidPrimary$$){$isFluidPrimary$$=void 0===$isFluidPrimary$$?!1:$isFluidPrimary$$;var $dimensions$jscomp$1$$=[];$arrayOfSizeStrs_multiSizeDataStr$$=$arrayOfSizeStrs_multiSizeDataStr$$.split(",");for(var $$jscomp$loop$444$$={},$i$jscomp$149$$=0;$i$jscomp$149$$<$arrayOfSizeStrs_multiSizeDataStr$$.length;$$jscomp$loop$444$$={$$jscomp$loop$prop$minWidth$445$:$$jscomp$loop$444$$.$$jscomp$loop$prop$minWidth$445$,$$jscomp$loop$prop$minHeight$446$:$$jscomp$loop$444$$.$$jscomp$loop$prop$minHeight$446$},
$i$jscomp$149$$++){var $sizeStr$jscomp$1_width$jscomp$36$$=$arrayOfSizeStrs_multiSizeDataStr$$[$i$jscomp$149$$];if("fluid"==$sizeStr$jscomp$1_width$jscomp$36$$.toLowerCase())$isFluidPrimary$$||$dimensions$jscomp$1$$.push(_.$DUMMY_FLUID_SIZE_ARR$$module$ads$google$utils$$);else{var $height$jscomp$34_size$jscomp$22$$=$sizeStr$jscomp$1_width$jscomp$36$$.split("x");if(2!=$height$jscomp$34_size$jscomp$22$$.length)_.$user$$module$src$log$$().error("AMP-AD","Invalid multi-size data format '"+$sizeStr$jscomp$1_width$jscomp$36$$+
"'.");else if($sizeStr$jscomp$1_width$jscomp$36$$=Number($height$jscomp$34_size$jscomp$22$$[0]),$height$jscomp$34_size$jscomp$22$$=Number($height$jscomp$34_size$jscomp$22$$[1]),$validateDimensions$$module$ads$google$utils$$($sizeStr$jscomp$1_width$jscomp$36$$,$height$jscomp$34_size$jscomp$22$$,function($arrayOfSizeStrs_multiSizeDataStr$$){return isNaN($arrayOfSizeStrs_multiSizeDataStr$$)||0>=$arrayOfSizeStrs_multiSizeDataStr$$},function($arrayOfSizeStrs_multiSizeDataStr$$){return isNaN($arrayOfSizeStrs_multiSizeDataStr$$)||
0>=$arrayOfSizeStrs_multiSizeDataStr$$},function($arrayOfSizeStrs_multiSizeDataStr$$){return $arrayOfSizeStrs_multiSizeDataStr$$.map(function($arrayOfSizeStrs_multiSizeDataStr$$){return"Invalid "+$arrayOfSizeStrs_multiSizeDataStr$$.$dim$+" of "+$arrayOfSizeStrs_multiSizeDataStr$$.$val$+" given for secondary size."}).join(" ")})&&($isFluidPrimary$$||$validateDimensions$$module$ads$google$utils$$($sizeStr$jscomp$1_width$jscomp$36$$,$height$jscomp$34_size$jscomp$22$$,function($arrayOfSizeStrs_multiSizeDataStr$$){return $arrayOfSizeStrs_multiSizeDataStr$$>
$primaryWidth$$},function($arrayOfSizeStrs_multiSizeDataStr$$){return $arrayOfSizeStrs_multiSizeDataStr$$>$primaryHeight$$},function($arrayOfSizeStrs_multiSizeDataStr$$){return $arrayOfSizeStrs_multiSizeDataStr$$.map(function($arrayOfSizeStrs_multiSizeDataStr$$){return"Secondary "+$arrayOfSizeStrs_multiSizeDataStr$$.$dim$+" "+$arrayOfSizeStrs_multiSizeDataStr$$.$val$+" "+("can't be larger than the primary "+$arrayOfSizeStrs_multiSizeDataStr$$.$dim$+".")}).join(" ")}))){if($multiSizeValidation$$){var $minRatio$$=
2/3;$$jscomp$loop$444$$.$$jscomp$loop$prop$minWidth$445$=$minRatio$$*$primaryWidth$$;$$jscomp$loop$444$$.$$jscomp$loop$prop$minHeight$446$=$minRatio$$*$primaryHeight$$;if(!$validateDimensions$$module$ads$google$utils$$($sizeStr$jscomp$1_width$jscomp$36$$,$height$jscomp$34_size$jscomp$22$$,function($arrayOfSizeStrs_multiSizeDataStr$$){return function($primaryWidth$$){return $primaryWidth$$<$arrayOfSizeStrs_multiSizeDataStr$$.$$jscomp$loop$prop$minWidth$445$}}($$jscomp$loop$444$$),function($arrayOfSizeStrs_multiSizeDataStr$$){return function($primaryWidth$$){return $primaryWidth$$<
$arrayOfSizeStrs_multiSizeDataStr$$.$$jscomp$loop$prop$minHeight$446$}}($$jscomp$loop$444$$),function($arrayOfSizeStrs_multiSizeDataStr$$){return $arrayOfSizeStrs_multiSizeDataStr$$.map(function($arrayOfSizeStrs_multiSizeDataStr$$){return"Secondary "+$arrayOfSizeStrs_multiSizeDataStr$$.$dim$+" "+$arrayOfSizeStrs_multiSizeDataStr$$.$val$+" is "+("smaller than 2/3rds of the primary "+$arrayOfSizeStrs_multiSizeDataStr$$.$dim$+".")}).join(" ")}))continue}$dimensions$jscomp$1$$.push([$sizeStr$jscomp$1_width$jscomp$36$$,
$height$jscomp$34_size$jscomp$22$$])}}}return $dimensions$jscomp$1$$},$constructSRABlockParameters$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=function($impls$$){var $parameters$jscomp$3$$={output:"ldjh",impl:"fifs"};$SRA_JOINERS$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$.forEach(function($joiner$$){return Object.assign($parameters$jscomp$3$$,$joiner$$($impls$$))});return $parameters$jscomp$3$$},$getFirstInstanceValue_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=
function($impls$jscomp$1$$,$extractFn$$){for(var $i$jscomp$190$$=0;$i$jscomp$190$$<$impls$jscomp$1$$.length;$i$jscomp$190$$++){var $val$jscomp$14$$=$extractFn$$($impls$jscomp$1$$[$i$jscomp$190$$]);if($val$jscomp$14$$)return $val$jscomp$14$$}return null},$combineInventoryUnits$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=function($impls$jscomp$2$$){var $uniqueIuNames$$={},$iuNamesOutput$$=[],$uniqueIuNamesCount$$=0,$prevIusEncoded$$=[];$impls$jscomp$2$$.forEach(function($impls$jscomp$2$$){$impls$jscomp$2$$=
$impls$jscomp$2$$.element.getAttribute("data-slot").split("/");for(var $componentNames_instance$jscomp$2$$=[],$i$jscomp$191$$=0;$i$jscomp$191$$<$impls$jscomp$2$$.length;$i$jscomp$191$$++)if(""!=$impls$jscomp$2$$[$i$jscomp$191$$]){var $index$jscomp$103$$=$uniqueIuNames$$[$impls$jscomp$2$$[$i$jscomp$191$$]];void 0==$index$jscomp$103$$&&($iuNamesOutput$$.push($impls$jscomp$2$$[$i$jscomp$191$$]),$uniqueIuNames$$[$impls$jscomp$2$$[$i$jscomp$191$$]]=$index$jscomp$103$$=$uniqueIuNamesCount$$++);$componentNames_instance$jscomp$2$$.push($index$jscomp$103$$)}$prevIusEncoded$$.push($componentNames_instance$jscomp$2$$.join("/"))});
return{iu_parts:$iuNamesOutput$$.join(),enc_prev_ius:$prevIusEncoded$$.join()}},$getCookieOptOut$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=function($impls$jscomp$3$$){return $getFirstInstanceValue_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$3$$,function($impls$jscomp$3$$){return $impls$jscomp$3$$.$D$&&$impls$jscomp$3$$.$D$.cookieOptOut?{co:"1"}:null})},$getAdks$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=function($impls$jscomp$4$$){return{adks:$impls$jscomp$4$$.map(function($impls$jscomp$4$$){return $impls$jscomp$4$$.$Da$}).join()}},
$getSizes$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=function($impls$jscomp$5$$){return{prev_iu_szs:$impls$jscomp$5$$.map(function($impls$jscomp$5$$){return $impls$jscomp$5$$.$ha$}).join()}},$getTfcd$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=function($impls$jscomp$6$$){return $getFirstInstanceValue_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$6$$,function($impls$jscomp$6$$){return $impls$jscomp$6$$.$D$&&$impls$jscomp$6$$.$D$.tagForChildDirectedTreatment?
{tfcd:$impls$jscomp$6$$.$D$.tagForChildDirectedTreatment}:null})},$isAdTest$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=function($impls$jscomp$7$$){return $getFirstInstanceValue_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$7$$,function($impls$jscomp$7$$){return _.$isInExperiment$$module$ads$google$a4a$traffic_experiments$$($impls$jscomp$7$$.element)?{adtest:"on"}:null})},$getTargetingAndExclusions$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=
function($impls$jscomp$8$$){var $hasScp$$=!1,$scps$$=[];$impls$jscomp$8$$.forEach(function($impls$jscomp$8$$){$impls$jscomp$8$$.$D$&&($impls$jscomp$8$$.$D$.targeting||$impls$jscomp$8$$.$D$.categoryExclusions)?($hasScp$$=!0,$scps$$.push($serializeTargeting$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$8$$.$D$.targeting||null,$impls$jscomp$8$$.$D$.categoryExclusions||null))):$scps$$.push("")});return $hasScp$$?{prev_scp:$scps$$.join("|")}:null},$getExperimentIds$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=
function($eidKeys_impls$jscomp$9$$){var $eids$jscomp$2$$={};(($eidKeys_impls$jscomp$9$$.length&&/(?:#|,)deid=([\d,]+)/i.exec($eidKeys_impls$jscomp$9$$[0].$win$.location.hash)||[])[1]||"").split(",").forEach(function($eidKeys_impls$jscomp$9$$){return $eidKeys_impls$jscomp$9$$&&($eids$jscomp$2$$[$eidKeys_impls$jscomp$9$$]=1)});$eidKeys_impls$jscomp$9$$.forEach(function($eidKeys_impls$jscomp$9$$){return $eidKeys_impls$jscomp$9$$.$S$.forEach(function($eidKeys_impls$jscomp$9$$){return $eids$jscomp$2$$[$eidKeys_impls$jscomp$9$$]=
1})});return($eidKeys_impls$jscomp$9$$=Object.keys($eids$jscomp$2$$).join())?{eid:$eidKeys_impls$jscomp$9$$}:null},$getIdentity$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=function($impls$jscomp$10$$){return $getFirstInstanceValue_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$10$$,function($impls$jscomp$10$$){return $JSCompiler_StaticMethods_buildIdentityParams$$($impls$jscomp$10$$)})},$getForceSafeframe$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=
function($impls$jscomp$11$$){var $safeframeForced$$=!1,$forceSafeframes$$=[];$impls$jscomp$11$$.forEach(function($impls$jscomp$11$$){$safeframeForced$$=$safeframeForced$$||$impls$jscomp$11$$.$oa$;$forceSafeframes$$.push(Number($impls$jscomp$11$$.$oa$))});return $safeframeForced$$?{fsfs:$forceSafeframes$$.join()}:null},$getPageOffsets$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=function($impls$jscomp$12$$){var $adxs$$=[],$adys$$=[];$impls$jscomp$12$$.forEach(function($impls$jscomp$12$$){$impls$jscomp$12$$=
$impls$jscomp$12$$.$getPageLayoutBox$();$adxs$$.push($impls$jscomp$12$$.left);$adys$$.push($impls$jscomp$12$$.top)});return{adxs:$adxs$$.join(),adys:$adys$$.join()}},$getContainers$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=function($impls$jscomp$13$$){var $hasAmpContainer$$=!1,$result$jscomp$26$$=[];$impls$jscomp$13$$.forEach(function($impls$jscomp$13$$){$impls$jscomp$13$$=_.$getEnclosingContainerTypes$$module$ads$google$a4a$utils$$($impls$jscomp$13$$.element);$result$jscomp$26$$.push($impls$jscomp$13$$.join());
$hasAmpContainer$$=$hasAmpContainer$$||!!$impls$jscomp$13$$.length});return $hasAmpContainer$$?{acts:$result$jscomp$26$$.join("|")}:null},$getIsFluid$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=function($impls$jscomp$14$$){var $hasFluid$$=!1,$result$jscomp$27$$=[];$impls$jscomp$14$$.forEach(function($impls$jscomp$14$$){$impls$jscomp$14$$.$G$?($hasFluid$$=!0,$result$jscomp$27$$.push("height")):$result$jscomp$27$$.push("0")});return $hasFluid$$?{fluid:$result$jscomp$27$$.join()}:
null},$serializeTargeting$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=function($targeting$$,$categoryExclusions$$){var $serialized$$=$targeting$$?Object.keys($targeting$$).map(function($categoryExclusions$$){return $serializeItem_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($categoryExclusions$$,$targeting$$[$categoryExclusions$$])}):[];$categoryExclusions$$&&$serialized$$.push($serializeItem_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$("excl_cat",
$categoryExclusions$$));return $serialized$$.length?$serialized$$.join("&"):null},$serializeItem_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=function($key$jscomp$82$$,$serializedValue_value$jscomp$173$$){$serializedValue_value$jscomp$173$$=(Array.isArray($serializedValue_value$jscomp$173$$)?$serializedValue_value$jscomp$173$$:[$serializedValue_value$jscomp$173$$]).map(encodeURIComponent).join();return encodeURIComponent($key$jscomp$82$$)+"="+$serializedValue_value$jscomp$173$$},
$sraBlockCallbackHandler$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=function($creative$jscomp$8$$,$headersObj$$,$done$jscomp$1$$,$sraRequestAdUrlResolvers$$,$sraUrl$$){var $headerNames$$=Object.keys($headersObj$$);1==$headerNames$$.length&&_.$isObject$$module$src$types$$($headersObj$$[$headerNames$$[0]])&&($headersObj$$=$headersObj$$[$headerNames$$[0]],$headersObj$$=Object.keys($headersObj$$).reduce(function($creative$jscomp$8$$,$done$jscomp$1$$){$creative$jscomp$8$$[$done$jscomp$1$$.toLowerCase()]=
$headersObj$$[$done$jscomp$1$$];return $creative$jscomp$8$$},{}));$headersObj$$["x-ampadrender"]="safeframe";$sraRequestAdUrlResolvers$$.shift()({headers:{get:function($creative$jscomp$8$$){($creative$jscomp$8$$=$headersObj$$[$creative$jscomp$8$$.toLowerCase()])&&"string"!=typeof $creative$jscomp$8$$&&($creative$jscomp$8$$=JSON.stringify($creative$jscomp$8$$));return $creative$jscomp$8$$},has:function($creative$jscomp$8$$){return!!$headersObj$$[$creative$jscomp$8$$.toLowerCase()]}},arrayBuffer:function(){return _.$tryResolve$$module$src$utils$promise$$(function(){return _.$utf8Encode$$module$src$utils$bytes$$($creative$jscomp$8$$)})}});
$done$jscomp$1$$&&$sraRequestAdUrlResolvers$$.length&&_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$warn$("amp-ad-network-doubleclick-impl","Premature end of SRA response",$sraRequestAdUrlResolvers$$.length,$sraUrl$$)},$safeframeListener$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$=function($event$jscomp$75_safeframeHost$$){var $data$jscomp$117_expandHeight$jscomp$inline_6264_resizeHeight$jscomp$inline_6271$$=_.$tryParseJson$$module$src$json$$($event$jscomp$75_safeframeHost$$.data);
if("https://tpc.googlesyndication.com"==$event$jscomp$75_safeframeHost$$.origin&&$data$jscomp$117_expandHeight$jscomp$inline_6264_resizeHeight$jscomp$inline_6271$$){var $channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$=_.$tryParseJson$$module$src$json$$($data$jscomp$117_expandHeight$jscomp$inline_6264_resizeHeight$jscomp$inline_6271$$.p)||{},$expandWidth$jscomp$inline_6265_sentinel$jscomp$7$$=$data$jscomp$117_expandHeight$jscomp$inline_6264_resizeHeight$jscomp$inline_6271$$.e||
$channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$.sentinel;if($event$jscomp$75_safeframeHost$$=$safeframeHosts$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$[$expandWidth$jscomp$inline_6265_sentinel$jscomp$7$$])if($event$jscomp$75_safeframeHost$$.$I$){if($channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$)switch($data$jscomp$117_expandHeight$jscomp$inline_6264_resizeHeight$jscomp$inline_6271$$.s){case "creative_geometry_update":$JSCompiler_StaticMethods_handleFluidMessage_$$($event$jscomp$75_safeframeHost$$,
$channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$);break;case "expand_request":$event$jscomp$75_safeframeHost$$.$R$&&($data$jscomp$117_expandHeight$jscomp$inline_6264_resizeHeight$jscomp$inline_6271$$=Number($event$jscomp$75_safeframeHost$$.$G$.height)+$channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$.expand_b+$channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$.expand_t,$expandWidth$jscomp$inline_6265_sentinel$jscomp$7$$=
Number($event$jscomp$75_safeframeHost$$.$G$.width)+$channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$.expand_r+$channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$.expand_l,isNaN($data$jscomp$117_expandHeight$jscomp$inline_6264_resizeHeight$jscomp$inline_6271$$)||isNaN($expandWidth$jscomp$inline_6265_sentinel$jscomp$7$$)||$channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$.push&&!$event$jscomp$75_safeframeHost$$.$X$||!$channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$.push&&
!$event$jscomp$75_safeframeHost$$.$W$&&($expandWidth$jscomp$inline_6265_sentinel$jscomp$7$$>$event$jscomp$75_safeframeHost$$.$G$.width||$data$jscomp$117_expandHeight$jscomp$inline_6264_resizeHeight$jscomp$inline_6271$$>$event$jscomp$75_safeframeHost$$.$G$.height)?(_.$dev$$module$src$log$$().error("AMP-DOUBLECLICK-SAFEFRAME","Invalid expand values."),$JSCompiler_StaticMethods_sendResizeResponse$$($event$jscomp$75_safeframeHost$$,!1,"expand_response")):$data$jscomp$117_expandHeight$jscomp$inline_6264_resizeHeight$jscomp$inline_6271$$>
$event$jscomp$75_safeframeHost$$.$H$.$getSize$().height||$expandWidth$jscomp$inline_6265_sentinel$jscomp$7$$>$event$jscomp$75_safeframeHost$$.$H$.$getSize$().width?$JSCompiler_StaticMethods_sendResizeResponse$$($event$jscomp$75_safeframeHost$$,!1,"expand_response"):$JSCompiler_StaticMethods_handleSizeChange$$($event$jscomp$75_safeframeHost$$,$data$jscomp$117_expandHeight$jscomp$inline_6264_resizeHeight$jscomp$inline_6271$$,$expandWidth$jscomp$inline_6265_sentinel$jscomp$7$$,"expand_response"));break;
case "register_done":$event$jscomp$75_safeframeHost$$.$R$=!0;break;case "collapse_request":$event$jscomp$75_safeframeHost$$.$V$||!$event$jscomp$75_safeframeHost$$.$R$?$JSCompiler_StaticMethods_sendResizeResponse$$($event$jscomp$75_safeframeHost$$,!1,"collapse_response"):$JSCompiler_StaticMethods_handleSizeChange$$($event$jscomp$75_safeframeHost$$,$event$jscomp$75_safeframeHost$$.$P$.height,$event$jscomp$75_safeframeHost$$.$P$.width,"collapse_response",!0);break;case "resize_request":$event$jscomp$75_safeframeHost$$.$R$&&
($data$jscomp$117_expandHeight$jscomp$inline_6264_resizeHeight$jscomp$inline_6271$$=Number($event$jscomp$75_safeframeHost$$.$G$.height)+($channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$.resize_b+$channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$.resize_t),$channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$=Number($event$jscomp$75_safeframeHost$$.$G$.width)+($channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$.resize_r+
$channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$.resize_l),isNaN($channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$)||isNaN($data$jscomp$117_expandHeight$jscomp$inline_6264_resizeHeight$jscomp$inline_6271$$)?_.$dev$$module$src$log$$().error("AMP-DOUBLECLICK-SAFEFRAME","Invalid resize values."):$JSCompiler_StaticMethods_resizeAmpAdAndSafeframe$$($event$jscomp$75_safeframeHost$$,$data$jscomp$117_expandHeight$jscomp$inline_6264_resizeHeight$jscomp$inline_6271$$,
$channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$,"resize_response",!0))}}else $channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$=$data$jscomp$117_expandHeight$jscomp$inline_6264_resizeHeight$jscomp$inline_6271$$.c,$event$jscomp$75_safeframeHost$$.$F$=$event$jscomp$75_safeframeHost$$.$D$.iframe,$event$jscomp$75_safeframeHost$$.$I$=$channel$jscomp$inline_2372_payload$jscomp$7_resizeWidth$jscomp$inline_6272$$,$JSCompiler_StaticMethods_setupGeom_$$($event$jscomp$75_safeframeHost$$),
$event$jscomp$75_safeframeHost$$.$sendMessage_$({message:"connect",c:$event$jscomp$75_safeframeHost$$.$I$},"");else _.$dev$$module$src$log$$().$Log$$module$src$log_prototype$warn$("AMP-DOUBLECLICK-SAFEFRAME","Safeframe Host for sentinel: "+$expandWidth$jscomp$inline_6265_sentinel$jscomp$7$$+" not found.")}},$SafeframeHostApi$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$=function($baseInstance$jscomp$2_sfConfig$$,$isFluid$jscomp$1$$,$creativeSize$$){this.$D$=$baseInstance$jscomp$2_sfConfig$$;
this.$O$=this.$D$.$verifyStillCurrent$.bind(this.$D$)();this.$M$=this.$D$.$win$;this.$J$=this.$D$.sentinel;this.$K$=this.$I$=this.$F$=null;this.$Z$=Math.random();this.$U$=Math.random();this.$aa$=$isFluid$jscomp$1$$;this.$G$=$creativeSize$$;this.$P$=Object.assign({},$creativeSize$$);this.$H$=this.$D$.$getViewport$();this.$V$=!0;this.$R$=!1;$baseInstance$jscomp$2_sfConfig$$=Object(_.$tryParseJson$$module$src$json$$(this.$D$.element.getAttribute("data-safeframe-config"))||{});this.$W$=_.$hasOwn$$module$src$utils$object$$($baseInstance$jscomp$2_sfConfig$$,
"expandByOverlay")?$baseInstance$jscomp$2_sfConfig$$.expandByOverlay:!0;this.$X$=_.$hasOwn$$module$src$utils$object$$($baseInstance$jscomp$2_sfConfig$$,"expandByPush")?$baseInstance$jscomp$2_sfConfig$$.expandByPush:!0;this.$S$=null;$safeframeHosts$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$[this.$J$]=$safeframeHosts$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$[this.$J$]||this;$safeframeListenerCreated_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$||
($safeframeListenerCreated_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$=!0,this.$M$.addEventListener("message",$safeframeListener$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$,!1))},$JSCompiler_StaticMethods_maybeGetCanonicalUrl$$=function($JSCompiler_StaticMethods_maybeGetCanonicalUrl$self_metaReferrer$$){var $canonicalUrl$jscomp$5$$=_.$Services$$module$src$services$documentInfoForDoc$$($JSCompiler_StaticMethods_maybeGetCanonicalUrl$self_metaReferrer$$.$D$.$getAmpDoc$()).canonicalUrl;
$JSCompiler_StaticMethods_maybeGetCanonicalUrl$self_metaReferrer$$=$JSCompiler_StaticMethods_maybeGetCanonicalUrl$self_metaReferrer$$.$M$.document.querySelector("meta[name='referrer']");if(!$JSCompiler_StaticMethods_maybeGetCanonicalUrl$self_metaReferrer$$)return $canonicalUrl$jscomp$5$$;switch($JSCompiler_StaticMethods_maybeGetCanonicalUrl$self_metaReferrer$$.getAttribute("content")){case "same-origin":return;case "no-referrer":return;case "origin":return _.$parseUrlDeprecated$$module$src$url$$($canonicalUrl$jscomp$5$$).origin}return $canonicalUrl$jscomp$5$$},
$JSCompiler_StaticMethods_setupGeom_$$=function($JSCompiler_StaticMethods_setupGeom_$self$$){var $throttledUpdate$$=_.$throttle$$module$src$utils$rate_limit$$($JSCompiler_StaticMethods_setupGeom_$self$$.$M$,$JSCompiler_StaticMethods_setupGeom_$self$$.$Y$.bind($JSCompiler_StaticMethods_setupGeom_$self$$),1E3),$scrollUnlistener$$=_.$JSCompiler_StaticMethods_Viewport$$module$src$service$viewport$viewport_impl_prototype$onScroll$$($JSCompiler_StaticMethods_setupGeom_$self$$.$H$,$throttledUpdate$$),$changedUnlistener$$=
_.$JSCompiler_StaticMethods_onChanged$$($JSCompiler_StaticMethods_setupGeom_$self$$.$H$,$throttledUpdate$$);$JSCompiler_StaticMethods_setupGeom_$self$$.$S$=function(){$scrollUnlistener$$();$changedUnlistener$$()};$JSCompiler_StaticMethods_setupGeom_$self$$.$Y$()},$JSCompiler_StaticMethods_formatGeom_$$=function($JSCompiler_StaticMethods_formatGeom_$self$$,$currentGeometry_iframeBox$jscomp$2$$){var $viewportSize$jscomp$8$$=$JSCompiler_StaticMethods_formatGeom_$self$$.$H$.$getSize$(),$scrollLeft$jscomp$7$$=
$JSCompiler_StaticMethods_formatGeom_$self$$.$H$.getScrollLeft(),$scrollTop$jscomp$12$$=_.$JSCompiler_StaticMethods_Viewport$$module$src$service$viewport$viewport_impl_prototype$getScrollTop$$($JSCompiler_StaticMethods_formatGeom_$self$$.$H$);$currentGeometry_iframeBox$jscomp$2$$={windowCoords_t:0,windowCoords_r:$viewportSize$jscomp$8$$.width,windowCoords_b:$viewportSize$jscomp$8$$.height,windowCoords_l:0,frameCoords_t:$currentGeometry_iframeBox$jscomp$2$$.top+$scrollTop$jscomp$12$$,frameCoords_r:$currentGeometry_iframeBox$jscomp$2$$.right+
$scrollLeft$jscomp$7$$,frameCoords_b:$currentGeometry_iframeBox$jscomp$2$$.bottom+$scrollTop$jscomp$12$$,frameCoords_l:$currentGeometry_iframeBox$jscomp$2$$.left+$scrollLeft$jscomp$7$$,posCoords_t:$currentGeometry_iframeBox$jscomp$2$$.top,posCoords_b:$currentGeometry_iframeBox$jscomp$2$$.bottom,posCoords_r:$currentGeometry_iframeBox$jscomp$2$$.right,posCoords_l:$currentGeometry_iframeBox$jscomp$2$$.left,styleZIndex:_.$getStyle$$module$src$style$$($JSCompiler_StaticMethods_formatGeom_$self$$.$D$.element,
"zIndex"),allowedExpansion_r:$viewportSize$jscomp$8$$.width-$currentGeometry_iframeBox$jscomp$2$$.width,allowedExpansion_b:$viewportSize$jscomp$8$$.height-$currentGeometry_iframeBox$jscomp$2$$.height,allowedExpansion_t:0,allowedExpansion_l:0,yInView:$JSCompiler_StaticMethods_getPercInView$$($viewportSize$jscomp$8$$.height,$currentGeometry_iframeBox$jscomp$2$$.top,$currentGeometry_iframeBox$jscomp$2$$.bottom),xInView:$JSCompiler_StaticMethods_getPercInView$$($viewportSize$jscomp$8$$.width,$currentGeometry_iframeBox$jscomp$2$$.left,
$currentGeometry_iframeBox$jscomp$2$$.right)};$JSCompiler_StaticMethods_formatGeom_$self$$.$K$=$currentGeometry_iframeBox$jscomp$2$$;return JSON.stringify($currentGeometry_iframeBox$jscomp$2$$)},$JSCompiler_StaticMethods_getPercInView$$=function($rootBoundEnd$$,$boundingRectStart$$,$boundingRectEnd$$){return Math.max(0,Math.min(1,($boundingRectEnd$$>=$rootBoundEnd$$?$rootBoundEnd$$-$boundingRectStart$$:$boundingRectEnd$$)/($boundingRectEnd$$-$boundingRectStart$$)))||0},$JSCompiler_StaticMethods_resizeSafeframe$$=
function($JSCompiler_StaticMethods_resizeSafeframe$self$$,$height$jscomp$39$$,$width$jscomp$44$$,$messageType$$){$JSCompiler_StaticMethods_resizeSafeframe$self$$.$V$="collapse_response"==$messageType$$;$JSCompiler_StaticMethods_resizeSafeframe$self$$.$D$.$measureMutateElement$(function(){_.$Resource$$module$src$service$resource$forElementOptional$$($JSCompiler_StaticMethods_resizeSafeframe$self$$.$D$.element).measure()},function(){$JSCompiler_StaticMethods_resizeSafeframe$self$$.$F$&&(_.$setStyles$$module$src$style$$($JSCompiler_StaticMethods_resizeSafeframe$self$$.$F$,
{height:$height$jscomp$39$$+"px",width:$width$jscomp$44$$+"px"}),$JSCompiler_StaticMethods_resizeSafeframe$self$$.$G$.height=$height$jscomp$39$$,$JSCompiler_StaticMethods_resizeSafeframe$self$$.$G$.width=$width$jscomp$44$$);$JSCompiler_StaticMethods_sendResizeResponse$$($JSCompiler_StaticMethods_resizeSafeframe$self$$,!0,$messageType$$)},$JSCompiler_StaticMethods_resizeSafeframe$self$$.$F$)},$JSCompiler_StaticMethods_handleSizeChange$$=function($JSCompiler_StaticMethods_handleSizeChange$self$$,$height$jscomp$40$$,
$width$jscomp$45$$,$messageType$jscomp$1$$,$optIsCollapse$$){_.$JSCompiler_StaticMethods_getClientRectAsync$$($JSCompiler_StaticMethods_handleSizeChange$self$$.$H$,$JSCompiler_StaticMethods_handleSizeChange$self$$.$D$.element).then(function($box$jscomp$13$$){!$optIsCollapse$$&&$width$jscomp$45$$<=$box$jscomp$13$$.width&&$height$jscomp$40$$<=$box$jscomp$13$$.height?$JSCompiler_StaticMethods_resizeSafeframe$$($JSCompiler_StaticMethods_handleSizeChange$self$$,$height$jscomp$40$$,$width$jscomp$45$$,$messageType$jscomp$1$$):
$JSCompiler_StaticMethods_resizeAmpAdAndSafeframe$$($JSCompiler_StaticMethods_handleSizeChange$self$$,$height$jscomp$40$$,$width$jscomp$45$$,$messageType$jscomp$1$$,$optIsCollapse$$)})},$JSCompiler_StaticMethods_sendResizeResponse$$=function($JSCompiler_StaticMethods_sendResizeResponse$self$$,$success$jscomp$9$$,$messageType$jscomp$2$$){$JSCompiler_StaticMethods_sendResizeResponse$self$$.$F$&&_.$JSCompiler_StaticMethods_getClientRectAsync$$($JSCompiler_StaticMethods_sendResizeResponse$self$$.$H$,
$JSCompiler_StaticMethods_sendResizeResponse$self$$.$F$).then(function($formattedGeom$jscomp$1_iframeBox$jscomp$3$$){$JSCompiler_StaticMethods_sendResizeResponse$self$$.$O$();$formattedGeom$jscomp$1_iframeBox$jscomp$3$$=$JSCompiler_StaticMethods_formatGeom_$$($JSCompiler_StaticMethods_sendResizeResponse$self$$,$formattedGeom$jscomp$1_iframeBox$jscomp$3$$);$JSCompiler_StaticMethods_sendResizeResponse$self$$.$sendMessage_$({uid:$JSCompiler_StaticMethods_sendResizeResponse$self$$.$U$,$success$:$success$jscomp$9$$,
$newGeometry$:$formattedGeom$jscomp$1_iframeBox$jscomp$3$$,expand_t:$JSCompiler_StaticMethods_sendResizeResponse$self$$.$K$.allowedExpansion_t,expand_b:$JSCompiler_StaticMethods_sendResizeResponse$self$$.$K$.allowedExpansion_b,expand_r:$JSCompiler_StaticMethods_sendResizeResponse$self$$.$K$.allowedExpansion_r,expand_l:$JSCompiler_StaticMethods_sendResizeResponse$self$$.$K$.allowedExpansion_l,push:!0},$messageType$jscomp$2$$)}).catch(function($JSCompiler_StaticMethods_sendResizeResponse$self$$){return _.$dev$$module$src$log$$().error("AMP-DOUBLECLICK-SAFEFRAME",
$JSCompiler_StaticMethods_sendResizeResponse$self$$)})},$JSCompiler_StaticMethods_resizeAmpAdAndSafeframe$$=function($JSCompiler_StaticMethods_resizeAmpAdAndSafeframe$self$$,$height$jscomp$41$$,$width$jscomp$46$$,$messageType$jscomp$3$$,$opt_isShrinking$$){$JSCompiler_StaticMethods_resizeAmpAdAndSafeframe$self$$.$D$.$attemptChangeSize$($height$jscomp$41$$,$width$jscomp$46$$).then(function(){$JSCompiler_StaticMethods_resizeAmpAdAndSafeframe$self$$.$O$();$JSCompiler_StaticMethods_resizeSafeframe$$($JSCompiler_StaticMethods_resizeAmpAdAndSafeframe$self$$,
$height$jscomp$41$$,$width$jscomp$46$$,$messageType$jscomp$3$$)},function(){_.$Resource$$module$src$service$resource$forElementOptional$$($JSCompiler_StaticMethods_resizeAmpAdAndSafeframe$self$$.$D$.element).$R$=void 0;$opt_isShrinking$$?$JSCompiler_StaticMethods_resizeSafeframe$$($JSCompiler_StaticMethods_resizeAmpAdAndSafeframe$self$$,$height$jscomp$41$$,$width$jscomp$46$$,$messageType$jscomp$3$$):$JSCompiler_StaticMethods_sendResizeResponse$$($JSCompiler_StaticMethods_resizeAmpAdAndSafeframe$self$$,
!1,$messageType$jscomp$3$$)}).catch(function($height$jscomp$41$$){"CANCELLED"==$height$jscomp$41$$.message?_.$dev$$module$src$log$$().error("AMP-DOUBLECLICK-SAFEFRAME",$height$jscomp$41$$):(_.$dev$$module$src$log$$().error("AMP-DOUBLECLICK-SAFEFRAME","Resizing failed: "+$height$jscomp$41$$),$JSCompiler_StaticMethods_sendResizeResponse$$($JSCompiler_StaticMethods_resizeAmpAdAndSafeframe$self$$,!1,$messageType$jscomp$3$$))})},$JSCompiler_StaticMethods_handleFluidMessage_$$=function($JSCompiler_StaticMethods_handleFluidMessage_$self$$,
$payload$jscomp$12$$){var $newHeight$jscomp$10$$;$payload$jscomp$12$$&&($newHeight$jscomp$10$$=parseInt($payload$jscomp$12$$.height,10))&&_.$JSCompiler_StaticMethods_attemptChangeHeight$$($JSCompiler_StaticMethods_handleFluidMessage_$self$$.$D$,$newHeight$jscomp$10$$).then(function(){$JSCompiler_StaticMethods_handleFluidMessage_$self$$.$O$();var $payload$jscomp$12$$=$newHeight$jscomp$10$$,$iframe$jscomp$inline_2380$$=$JSCompiler_StaticMethods_handleFluidMessage_$self$$.$D$.iframe;(parseInt(_.$getStyle$$module$src$style$$($iframe$jscomp$inline_2380$$,
"height"),10)||0)!=$payload$jscomp$12$$&&_.$setStyles$$module$src$style$$($iframe$jscomp$inline_2380$$,{height:$payload$jscomp$12$$+"px"});$JSCompiler_StaticMethods_fireFluidDelayedImpression$$($JSCompiler_StaticMethods_handleFluidMessage_$self$$.$D$);$JSCompiler_StaticMethods_handleFluidMessage_$self$$.$F$.contentWindow.postMessage(JSON.stringify(_.$dict$$module$src$utils$object$$({message:"resize-complete",c:$JSCompiler_StaticMethods_handleFluidMessage_$self$$.$I$})),"https://tpc.googlesyndication.com")}).catch(function($JSCompiler_StaticMethods_handleFluidMessage_$self$$){"CANCELLED"==
$JSCompiler_StaticMethods_handleFluidMessage_$self$$.message&&_.$dev$$module$src$log$$().error("AMP-DOUBLECLICK-SAFEFRAME",$JSCompiler_StaticMethods_handleFluidMessage_$self$$)})},$lineDelimitedStreamer$$module$ads$google$a4a$line_delimited_response_handler$$=function($win$jscomp$300$$,$response$jscomp$42$$,$lineCallback$$){function $streamer$$($win$jscomp$300$$,$response$jscomp$42$$){for(var $streamer$$=/([^\n]*)(\n)?/g,$decoder$$;($decoder$$=$streamer$$.exec($win$jscomp$300$$))&&($line$jscomp$4$$+=
$decoder$$[1],$decoder$$[2]&&($lineCallback$$($line$jscomp$4$$,$response$jscomp$42$$&&$streamer$$.lastIndex===$win$jscomp$300$$.length),$line$jscomp$4$$=""),$streamer$$.lastIndex!==$win$jscomp$300$$.length););}var $line$jscomp$4$$="";if($response$jscomp$42$$.body&&$win$jscomp$300$$.TextDecoder){var $decoder$$=new TextDecoder("utf-8"),$reader$$=$response$jscomp$42$$.body.getReader();$reader$$.read().then(function $chunk$jscomp$9$$($win$jscomp$300$$){$win$jscomp$300$$.value&&$streamer$$($decoder$$.decode($win$jscomp$300$$.value,
{stream:!0}),$win$jscomp$300$$.done);$win$jscomp$300$$.done||$reader$$.read().then($chunk$jscomp$9$$)})}else $response$jscomp$42$$.text().then(function($win$jscomp$300$$){return $streamer$$($win$jscomp$300$$,!0)})},$metaJsonCreativeGrouper$$module$ads$google$a4a$line_delimited_response_handler$$=function($callback$jscomp$110$$){var $first$jscomp$10$$;return function($line$jscomp$5$$,$done$jscomp$3$$){if($first$jscomp$10$$){var $metadata$jscomp$2$$=_.$tryParseJson$$module$src$json$$($first$jscomp$10$$)||
{},$lowerCasedMetadata$$=Object.keys($metadata$jscomp$2$$).reduce(function($callback$jscomp$110$$,$first$jscomp$10$$){$callback$jscomp$110$$[$first$jscomp$10$$.toLowerCase()]=$metadata$jscomp$2$$[$first$jscomp$10$$];return $callback$jscomp$110$$},{});$callback$jscomp$110$$($unescapeLineDelimitedHtml_$$module$ads$google$a4a$line_delimited_response_handler$$($line$jscomp$5$$),$lowerCasedMetadata$$,$done$jscomp$3$$);$first$jscomp$10$$=null}else $first$jscomp$10$$=$line$jscomp$5$$}},$unescapeLineDelimitedHtml_$$module$ads$google$a4a$line_delimited_response_handler$$=
function($html$jscomp$8$$){return $html$jscomp$8$$.replace(/\\(n|r|\\)/g,function($html$jscomp$8$$,$match$jscomp$20$$){return"n"==$match$jscomp$20$$?"\n":"r"==$match$jscomp$20$$?"\r":"\\"})},$RealTimeConfigManager$$module$extensions$amp_a4a$0_1$real_time_config_manager$$=function($a4aElement$$){this.$F$=$a4aElement$$;this.$H$=this.$F$.$win$;this.$K$={};this.$J$=null;this.$I$=[];this.$D$=null;this.$F$.$getAmpDoc$();this.$G$=null},$JSCompiler_StaticMethods_buildErrorResponse_$$=function($JSCompiler_StaticMethods_buildErrorResponse_$self$$,
$error$jscomp$61$$,$callout$$,$errorReportingUrl_url$jscomp$inline_2387$$,$opt_rtcTime$$){_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$warn$("real-time-config","RTC callout to "+$callout$$+" caused "+$error$jscomp$61$$);if($errorReportingUrl_url$jscomp$inline_2387$$&&$ERROR_REPORTING_ENABLED$$module$extensions$amp_a4a$0_1$real_time_config_manager$$){var $macros$jscomp$inline_2386$$={$ERROR_TYPE$:$error$jscomp$61$$,$HREF$:$JSCompiler_StaticMethods_buildErrorResponse_$self$$.$H$.location.href};
$errorReportingUrl_url$jscomp$inline_2387$$=_.$JSCompiler_StaticMethods_expandUrlSync$$(_.$Services$$module$src$services$urlReplacementsForDoc$$($JSCompiler_StaticMethods_buildErrorResponse_$self$$.$F$.element),$errorReportingUrl_url$jscomp$inline_2387$$,$macros$jscomp$inline_2386$$,{$ERROR_TYPE$:!0,$HREF$:!0});(new $JSCompiler_StaticMethods_buildErrorResponse_$self$$.$H$.Image).src=$errorReportingUrl_url$jscomp$inline_2387$$}return Promise.resolve({error:$error$jscomp$61$$,callout:$callout$$,rtcTime:$opt_rtcTime$$||
0})},$JSCompiler_StaticMethods_getCalloutParam_$$=function($JSCompiler_StaticMethods_getCalloutParam_$self_parsedUrl$jscomp$1$$,$url$jscomp$146$$){$JSCompiler_StaticMethods_getCalloutParam_$self_parsedUrl$jscomp$1$$=_.$Services$$module$src$services$urlForDoc$$($JSCompiler_StaticMethods_getCalloutParam_$self_parsedUrl$jscomp$1$$.$F$.element).parse($url$jscomp$146$$);return($JSCompiler_StaticMethods_getCalloutParam_$self_parsedUrl$jscomp$1$$.hostname+$JSCompiler_StaticMethods_getCalloutParam_$self_parsedUrl$jscomp$1$$.pathname).substr(0,
50)},$JSCompiler_StaticMethods_isValidCalloutForConsentState$$=function($JSCompiler_StaticMethods_isValidCalloutForConsentState$self$$,$calloutConfig_i$jscomp$192$$,$optIsGloballyValid$$){var $sendRegardlessOfConsentState$$=$calloutConfig_i$jscomp$192$$.$sendRegardlessOfConsentState$;if(!_.$isObject$$module$src$types$$($calloutConfig_i$jscomp$192$$)||!$sendRegardlessOfConsentState$$)return!!$optIsGloballyValid$$;if("boolean"==typeof $sendRegardlessOfConsentState$$)return $sendRegardlessOfConsentState$$;
if(_.$isArray$$module$src$types$$($sendRegardlessOfConsentState$$)){for($calloutConfig_i$jscomp$192$$=0;$calloutConfig_i$jscomp$192$$<$sendRegardlessOfConsentState$$.length;$calloutConfig_i$jscomp$192$$++){if($JSCompiler_StaticMethods_isValidCalloutForConsentState$self$$.$G$==$CONSENT_POLICY_STATE$$module$src$consent_state$$[$sendRegardlessOfConsentState$$[$calloutConfig_i$jscomp$192$$]])return!0;$CONSENT_POLICY_STATE$$module$src$consent_state$$[$sendRegardlessOfConsentState$$[$calloutConfig_i$jscomp$192$$]]||
_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$warn$("real-time-config","Invalid RTC consent state given: "+$sendRegardlessOfConsentState$$[$calloutConfig_i$jscomp$192$$])}return!1}_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("real-time-config","Invalid value for sendRegardlessOfConsentState:"+$sendRegardlessOfConsentState$$);return!!$optIsGloballyValid$$},$JSCompiler_StaticMethods_modifyRtcConfigForConsentStateSettings$$=function($JSCompiler_StaticMethods_modifyRtcConfigForConsentStateSettings$self$$){if(void 0!=
$JSCompiler_StaticMethods_modifyRtcConfigForConsentStateSettings$self$$.$G$&&1!=$JSCompiler_StaticMethods_modifyRtcConfigForConsentStateSettings$self$$.$G$&&3!=$JSCompiler_StaticMethods_modifyRtcConfigForConsentStateSettings$self$$.$G$){var $isGloballyValid$$=$JSCompiler_StaticMethods_isValidCalloutForConsentState$$($JSCompiler_StaticMethods_modifyRtcConfigForConsentStateSettings$self$$,$JSCompiler_StaticMethods_modifyRtcConfigForConsentStateSettings$self$$.$D$);$JSCompiler_StaticMethods_modifyRtcConfigForConsentStateSettings$self$$.$D$.urls=
($JSCompiler_StaticMethods_modifyRtcConfigForConsentStateSettings$self$$.$D$.urls||[]).filter(function($url$jscomp$147$$){return $JSCompiler_StaticMethods_isValidCalloutForConsentState$$($JSCompiler_StaticMethods_modifyRtcConfigForConsentStateSettings$self$$,$url$jscomp$147$$,$isGloballyValid$$)});Object.keys($JSCompiler_StaticMethods_modifyRtcConfigForConsentStateSettings$self$$.$D$.$vendors$||{}).forEach(function($vendor$jscomp$10$$){$JSCompiler_StaticMethods_isValidCalloutForConsentState$$($JSCompiler_StaticMethods_modifyRtcConfigForConsentStateSettings$self$$,
$JSCompiler_StaticMethods_modifyRtcConfigForConsentStateSettings$self$$.$D$.$vendors$[$vendor$jscomp$10$$],$isGloballyValid$$)||delete $JSCompiler_StaticMethods_modifyRtcConfigForConsentStateSettings$self$$.$D$.$vendors$[$vendor$jscomp$10$$]})}},$JSCompiler_StaticMethods_assignMacros$$=function($JSCompiler_StaticMethods_assignMacros$self$$,$macros$jscomp$1$$){$macros$jscomp$1$$.TIMEOUT=function(){return $JSCompiler_StaticMethods_assignMacros$self$$.$D$.$timeoutMillis$};$macros$jscomp$1$$.CONSENT_STATE=
function(){return $JSCompiler_StaticMethods_assignMacros$self$$.$G$};return $macros$jscomp$1$$},$JSCompiler_StaticMethods_handleRtcForCustomUrls$$=function($JSCompiler_StaticMethods_handleRtcForCustomUrls$self$$,$customMacros$jscomp$1$$){($JSCompiler_StaticMethods_handleRtcForCustomUrls$self$$.$D$.urls||[]).forEach(function($urlObj$$){if(_.$isObject$$module$src$types$$($urlObj$$)){var $url$jscomp$148$$=$urlObj$$.url;var $errorReportingUrl$jscomp$2$$=$urlObj$$.errorReportingUrl}else"string"==typeof $urlObj$$?
$url$jscomp$148$$=$urlObj$$:_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$warn$("real-time-config","Invalid url: "+$urlObj$$);$JSCompiler_StaticMethods_inflateAndSendRtc_$$($JSCompiler_StaticMethods_handleRtcForCustomUrls$self$$,$url$jscomp$148$$,$customMacros$jscomp$1$$,$errorReportingUrl$jscomp$2$$)})},$JSCompiler_StaticMethods_handleRtcForVendorUrls$$=function($JSCompiler_StaticMethods_handleRtcForVendorUrls$self$$,$customMacros$jscomp$2$$){Object.keys($JSCompiler_StaticMethods_handleRtcForVendorUrls$self$$.$D$.$vendors$||
[]).forEach(function($vendor$jscomp$11$$){var $vendorObject$$=$RTC_VENDORS$$module$extensions$amp_a4a$0_1$callout_vendors$$[$vendor$jscomp$11$$.toLowerCase()],$url$jscomp$149$$=$vendorObject$$?$vendorObject$$.url:"",$errorReportingUrl$jscomp$3$$=$vendorObject$$&&$vendorObject$$.errorReportingUrl?$vendorObject$$.errorReportingUrl:"";if(!$url$jscomp$149$$)return $JSCompiler_StaticMethods_handleRtcForVendorUrls$self$$.$I$.push($JSCompiler_StaticMethods_buildErrorResponse_$$($JSCompiler_StaticMethods_handleRtcForVendorUrls$self$$,
"9",$vendor$jscomp$11$$,$errorReportingUrl$jscomp$3$$));var $vendorMacros$$=_.$isObject$$module$src$types$$($JSCompiler_StaticMethods_handleRtcForVendorUrls$self$$.$D$.$vendors$[$vendor$jscomp$11$$].macros)?$JSCompiler_StaticMethods_handleRtcForVendorUrls$self$$.$D$.$vendors$[$vendor$jscomp$11$$].macros:$JSCompiler_StaticMethods_handleRtcForVendorUrls$self$$.$D$.$vendors$[$vendor$jscomp$11$$],$validVendorMacros$$={};Object.keys($vendorMacros$$).forEach(function($JSCompiler_StaticMethods_handleRtcForVendorUrls$self$$){if($vendorObject$$.$macros$&&
$vendorObject$$.$macros$.includes($JSCompiler_StaticMethods_handleRtcForVendorUrls$self$$)){var $customMacros$jscomp$2$$=$vendorMacros$$[$JSCompiler_StaticMethods_handleRtcForVendorUrls$self$$];$validVendorMacros$$[$JSCompiler_StaticMethods_handleRtcForVendorUrls$self$$]=_.$isObject$$module$src$types$$($customMacros$jscomp$2$$)||_.$isArray$$module$src$types$$($customMacros$jscomp$2$$)?JSON.stringify($customMacros$jscomp$2$$):$customMacros$jscomp$2$$}else _.$user$$module$src$log$$().error("real-time-config",
"Unknown macro: "+$JSCompiler_StaticMethods_handleRtcForVendorUrls$self$$+" for vendor: "+$vendor$jscomp$11$$)});var $macros$jscomp$2$$=Object.assign($validVendorMacros$$,$customMacros$jscomp$2$$);$JSCompiler_StaticMethods_inflateAndSendRtc_$$($JSCompiler_StaticMethods_handleRtcForVendorUrls$self$$,$url$jscomp$149$$,$macros$jscomp$2$$,$errorReportingUrl$jscomp$3$$,$vendor$jscomp$11$$.toLowerCase())})},$JSCompiler_StaticMethods_inflateAndSendRtc_$$=function($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$,
$url$jscomp$150$$,$macros$jscomp$3$$,$errorReportingUrl$jscomp$4$$,$opt_vendor$$){function $send$jscomp$1$$($url$jscomp$150$$){if(5==Object.keys($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$K$).length)return $JSCompiler_StaticMethods_buildErrorResponse_$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$,"7",$callout$jscomp$1$$,$errorReportingUrl$jscomp$4$$);if(!_.$JSCompiler_StaticMethods_isSecure$$(_.$Services$$module$src$services$urlForDoc$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$F$.element),
$url$jscomp$150$$))return $JSCompiler_StaticMethods_buildErrorResponse_$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$,"6",$callout$jscomp$1$$,$errorReportingUrl$jscomp$4$$);if($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$K$[$url$jscomp$150$$])return $JSCompiler_StaticMethods_buildErrorResponse_$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$,"5",$callout$jscomp$1$$,$errorReportingUrl$jscomp$4$$);$JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$K$[$url$jscomp$150$$]=!0;16384<
$url$jscomp$150$$.length&&($url$jscomp$150$$=$url$jscomp$150$$.substr(0,16372).replace(/%\w?$/,""),$url$jscomp$150$$+="&__trunc__=1");return $JSCompiler_StaticMethods_sendRtcCallout_$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$,$url$jscomp$150$$,$timeoutMillis$$,$callout$jscomp$1$$,$checkStillCurrent$jscomp$6$$,$errorReportingUrl$jscomp$4$$)}var $timeoutMillis$$=$JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$D$.$timeoutMillis$,$callout$jscomp$1$$=$opt_vendor$$||$JSCompiler_StaticMethods_getCalloutParam_$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$,
$url$jscomp$150$$),$checkStillCurrent$jscomp$6$$=$JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$F$.$verifyStillCurrent$.bind($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$F$)(),$whitelist$jscomp$11$$={};Object.keys($macros$jscomp$3$$).forEach(function($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$){return $whitelist$jscomp$11$$[$JSCompiler_StaticMethods_inflateAndSendRtc_$self$$]=!0});var $urlReplacementStartTime$$=Date.now();$JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$I$.push(_.$JSCompiler_StaticMethods_timeoutPromise$$(_.$Services$$module$src$services$timerFor$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$H$),
$timeoutMillis$$,_.$JSCompiler_StaticMethods_expandUrlAsync$$(_.$Services$$module$src$services$urlReplacementsForDoc$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$F$.element),$url$jscomp$150$$,$macros$jscomp$3$$,$whitelist$jscomp$11$$)).then(function($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$){$checkStillCurrent$jscomp$6$$();$timeoutMillis$$-=$urlReplacementStartTime$$-Date.now();return $send$jscomp$1$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$)}).catch(function($url$jscomp$150$$){return _.$isCancellation$$module$src$error$$($url$jscomp$150$$)?
void 0:$JSCompiler_StaticMethods_buildErrorResponse_$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$,"11",$callout$jscomp$1$$,$errorReportingUrl$jscomp$4$$)}))},$JSCompiler_StaticMethods_sendRtcCallout_$$=function($JSCompiler_StaticMethods_sendRtcCallout_$self$$,$url$jscomp$154$$,$timeoutMillis$jscomp$1$$,$callout$jscomp$2$$,$checkStillCurrent$jscomp$7$$,$errorReportingUrl$jscomp$5$$){return _.$JSCompiler_StaticMethods_timeoutPromise$$(_.$Services$$module$src$services$timerFor$$($JSCompiler_StaticMethods_sendRtcCallout_$self$$.$H$),
$timeoutMillis$jscomp$1$$,_.$JSCompiler_StaticMethods_fetchJson$$(_.$Services$$module$src$services$xhrFor$$($JSCompiler_StaticMethods_sendRtcCallout_$self$$.$H$),$url$jscomp$154$$,{credentials:"include"}).then(function($url$jscomp$154$$){$checkStillCurrent$jscomp$7$$();return $url$jscomp$154$$.text().then(function($url$jscomp$154$$){$checkStillCurrent$jscomp$7$$();var $timeoutMillis$jscomp$1$$=Date.now()-$JSCompiler_StaticMethods_sendRtcCallout_$self$$.$J$;return $url$jscomp$154$$?($url$jscomp$154$$=
_.$tryParseJson$$module$src$json$$($url$jscomp$154$$))?{response:$url$jscomp$154$$,rtcTime:$timeoutMillis$jscomp$1$$,callout:$callout$jscomp$2$$}:$JSCompiler_StaticMethods_buildErrorResponse_$$($JSCompiler_StaticMethods_sendRtcCallout_$self$$,"4",$callout$jscomp$2$$,$errorReportingUrl$jscomp$5$$,$timeoutMillis$jscomp$1$$):{rtcTime:$timeoutMillis$jscomp$1$$,callout:$callout$jscomp$2$$}})})).catch(function($url$jscomp$154$$){return _.$isCancellation$$module$src$error$$($url$jscomp$154$$)?void 0:$JSCompiler_StaticMethods_buildErrorResponse_$$($JSCompiler_StaticMethods_sendRtcCallout_$self$$,
/^timeout/.test($url$jscomp$154$$.message)?"10":"8",$callout$jscomp$2$$,$errorReportingUrl$jscomp$5$$,Date.now()-$JSCompiler_StaticMethods_sendRtcCallout_$self$$.$J$)})},$JSCompiler_StaticMethods_validateRtcConfig_$$=function($JSCompiler_StaticMethods_validateRtcConfig_$self$$,$element$jscomp$312_unparsedRtcConfig$$){$element$jscomp$312_unparsedRtcConfig$$=$element$jscomp$312_unparsedRtcConfig$$.getAttribute("rtc-config");if(!$element$jscomp$312_unparsedRtcConfig$$)return!1;var $rtcConfig$$=_.$tryParseJson$$module$src$json$$($element$jscomp$312_unparsedRtcConfig$$);
if(!$rtcConfig$$)return _.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("real-time-config","Could not JSON parse rtc-config attribute"),!1;var $timeout$jscomp$11$$;try{Object.keys($rtcConfig$$).forEach(function($JSCompiler_StaticMethods_validateRtcConfig_$self$$){switch($JSCompiler_StaticMethods_validateRtcConfig_$self$$){case "vendors":break;case "urls":break;case "timeoutMillis":$timeout$jscomp$11$$=parseInt($rtcConfig$$[$JSCompiler_StaticMethods_validateRtcConfig_$self$$],10);
if(isNaN($timeout$jscomp$11$$))_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("real-time-config","Invalid RTC timeout is NaN, using default timeout 1000ms"),$timeout$jscomp$11$$=void 0;else if(1E3<=$timeout$jscomp$11$$||0>$timeout$jscomp$11$$)_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("real-time-config","Invalid RTC timeout: "+$timeout$jscomp$11$$+"ms, using default timeout 1000ms"),$timeout$jscomp$11$$=void 0;break;default:_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("real-time-config",
"Unknown RTC Config key: "+$JSCompiler_StaticMethods_validateRtcConfig_$self$$)}});if(!Object.keys($rtcConfig$$.vendors||{}).length&&!($rtcConfig$$.urls||[]).length)return!1;var $validateErrorReportingUrl$$=function($element$jscomp$312_unparsedRtcConfig$$){var $rtcConfig$$=$element$jscomp$312_unparsedRtcConfig$$.errorReportingUrl;$rtcConfig$$&&!_.$JSCompiler_StaticMethods_isSecure$$(_.$Services$$module$src$services$urlForDoc$$($JSCompiler_StaticMethods_validateRtcConfig_$self$$.$F$.element),$rtcConfig$$)&&
(_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$warn$("real-time-config","Insecure RTC errorReportingUrl: "+$rtcConfig$$),$element$jscomp$312_unparsedRtcConfig$$.errorReportingUrl=void 0)};($rtcConfig$$.urls||[]).forEach(function($JSCompiler_StaticMethods_validateRtcConfig_$self$$){_.$isObject$$module$src$types$$($JSCompiler_StaticMethods_validateRtcConfig_$self$$)&&$validateErrorReportingUrl$$($JSCompiler_StaticMethods_validateRtcConfig_$self$$)});$validateErrorReportingUrl$$($rtcConfig$$)}catch($unusedErr$jscomp$3$$){return!1}$rtcConfig$$.timeoutMillis=
void 0!==$timeout$jscomp$11$$?$timeout$jscomp$11$$:1E3;$JSCompiler_StaticMethods_validateRtcConfig_$self$$.$D$=$rtcConfig$$;return!0},$RefreshIntersectionObserverWrapper$$module$extensions$amp_a4a$0_1$refresh_intersection_observer_wrapper$$=function($callback$jscomp$111$$,$baseElement$jscomp$1$$,$config$jscomp$24$$){this.$D$=new _.$IntersectionObserverPolyfill$$module$src$intersection_observer_polyfill$$($callback$jscomp$111$$,$config$jscomp$24$$);this.$H$={};this.$F$=$baseElement$jscomp$1$$.$getViewport$();
this.$G$=!1},$getPublisherSpecifiedRefreshInterval$$module$extensions$amp_a4a$0_1$refresh_manager$$=function($element$jscomp$315$$,$i$jscomp$193_metaTagContent_win$jscomp$301$$){var $pair$jscomp$2_refreshInterval$$=$element$jscomp$315$$.getAttribute("data-enable-refresh");if($pair$jscomp$2_refreshInterval$$)return $checkAndSanitizeRefreshInterval$$module$extensions$amp_a4a$0_1$refresh_manager$$($pair$jscomp$2_refreshInterval$$);var $metaTag$jscomp$1_networkIntervalPairs$$;$i$jscomp$193_metaTagContent_win$jscomp$301$$=
($metaTag$jscomp$1_networkIntervalPairs$$=$i$jscomp$193_metaTagContent_win$jscomp$301$$.document.getElementsByName("amp-ad-enable-refresh"))&&$metaTag$jscomp$1_networkIntervalPairs$$[0]&&$metaTag$jscomp$1_networkIntervalPairs$$[0].getAttribute("content");if(!$i$jscomp$193_metaTagContent_win$jscomp$301$$)return null;$metaTag$jscomp$1_networkIntervalPairs$$=$i$jscomp$193_metaTagContent_win$jscomp$301$$.split(",");for($i$jscomp$193_metaTagContent_win$jscomp$301$$=0;$i$jscomp$193_metaTagContent_win$jscomp$301$$<
$metaTag$jscomp$1_networkIntervalPairs$$.length;$i$jscomp$193_metaTagContent_win$jscomp$301$$++)if($pair$jscomp$2_refreshInterval$$=$metaTag$jscomp$1_networkIntervalPairs$$[$i$jscomp$193_metaTagContent_win$jscomp$301$$].split("="),$pair$jscomp$2_refreshInterval$$[0].toLowerCase()==$element$jscomp$315$$.getAttribute("type").toLowerCase())return $checkAndSanitizeRefreshInterval$$module$extensions$amp_a4a$0_1$refresh_manager$$($pair$jscomp$2_refreshInterval$$[1]);return null},$checkAndSanitizeRefreshInterval$$module$extensions$amp_a4a$0_1$refresh_manager$$=
function($refreshInterval$jscomp$1$$){var $refreshIntervalNum$$=Number($refreshInterval$jscomp$1$$);return isNaN($refreshIntervalNum$$)||30>$refreshIntervalNum$$?(_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("AMP-AD","invalid refresh interval, must be a number no less than 30: "+$refreshInterval$jscomp$1$$),null):1E3*$refreshIntervalNum$$},$getRefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager$$=function($a4a$jscomp$6$$,$opt_predicate$$){var $refreshInterval$jscomp$2$$=
$getPublisherSpecifiedRefreshInterval$$module$extensions$amp_a4a$0_1$refresh_manager$$($a4a$jscomp$6$$.element,$a4a$jscomp$6$$.$win$);return!$refreshInterval$jscomp$2$$||$opt_predicate$$&&!$opt_predicate$$()?null:new $RefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager$$($a4a$jscomp$6$$,$refreshInterval$jscomp$2$$)},$RefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager$$=function($a4a$jscomp$7_managerId$$,$refreshInterval$jscomp$3$$){var $config$jscomp$25$$=_.$dict$$module$src$utils$object$$({visiblePercentageMin:50,
continuousTimeMin:1});this.$D$="initial";this.$J$=$a4a$jscomp$7_managerId$$;this.$H$=$a4a$jscomp$7_managerId$$.$win$;this.$element_$=$a4a$jscomp$7_managerId$$.element;this.$element_$.getAttribute("type");this.$M$=$refreshInterval$jscomp$3$$;$config$jscomp$25$$.continuousTimeMin*=1E3;$config$jscomp$25$$.visiblePercentageMin/=100;this.$F$=$config$jscomp$25$$;this.$G$=_.$Services$$module$src$services$timerFor$$(this.$H$);this.$I$=this.$O$=null;$a4a$jscomp$7_managerId$$=String($refreshManagerIdCounter$$module$extensions$amp_a4a$0_1$refresh_manager$$++);
this.$element_$.setAttribute("data-amp-ad-refresh-id",$a4a$jscomp$7_managerId$$);$managers$$module$extensions$amp_a4a$0_1$refresh_manager$$[$a4a$jscomp$7_managerId$$]=this;$JSCompiler_StaticMethods_initiateRefreshCycle$$(this)},$JSCompiler_StaticMethods_getIntersectionObserverWithThreshold_$$=function($JSCompiler_StaticMethods_getIntersectionObserverWithThreshold_$self$$,$threshold$jscomp$3$$){var $thresholdString$$=String($threshold$jscomp$3$$);return $observers$$module$extensions$amp_a4a$0_1$refresh_manager$$[$thresholdString$$]||
($observers$$module$extensions$amp_a4a$0_1$refresh_manager$$[$thresholdString$$]="IntersectionObserver"in $JSCompiler_StaticMethods_getIntersectionObserverWithThreshold_$self$$.$H$?new $JSCompiler_StaticMethods_getIntersectionObserverWithThreshold_$self$$.$H$.IntersectionObserver($JSCompiler_StaticMethods_getIntersectionObserverWithThreshold_$self$$.$K$,{threshold:$threshold$jscomp$3$$}):new $RefreshIntersectionObserverWrapper$$module$extensions$amp_a4a$0_1$refresh_intersection_observer_wrapper$$($JSCompiler_StaticMethods_getIntersectionObserverWithThreshold_$self$$.$K$,
$JSCompiler_StaticMethods_getIntersectionObserverWithThreshold_$self$$.$J$,{threshold:$threshold$jscomp$3$$}))},$JSCompiler_StaticMethods_initiateRefreshCycle$$=function($JSCompiler_StaticMethods_initiateRefreshCycle$self$$){switch($JSCompiler_StaticMethods_initiateRefreshCycle$self$$.$D$){case "initial":$JSCompiler_StaticMethods_getIntersectionObserverWithThreshold_$$($JSCompiler_StaticMethods_initiateRefreshCycle$self$$,$JSCompiler_StaticMethods_initiateRefreshCycle$self$$.$F$.visiblePercentageMin).observe($JSCompiler_StaticMethods_initiateRefreshCycle$self$$.$element_$)}},
$JSCompiler_StaticMethods_startRefreshTimer_$$=function($JSCompiler_StaticMethods_startRefreshTimer_$self$$){new Promise(function($resolve$jscomp$55$$){$JSCompiler_StaticMethods_startRefreshTimer_$self$$.$O$=$JSCompiler_StaticMethods_startRefreshTimer_$self$$.$G$.delay(function(){$JSCompiler_StaticMethods_startRefreshTimer_$self$$.$D$="initial";$JSCompiler_StaticMethods_RefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager_prototype$unobserve$$($JSCompiler_StaticMethods_startRefreshTimer_$self$$);
$JSCompiler_StaticMethods_startRefreshTimer_$self$$.$J$.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a_prototype$refresh$(function(){return $JSCompiler_StaticMethods_initiateRefreshCycle$$($JSCompiler_StaticMethods_startRefreshTimer_$self$$)});$resolve$jscomp$55$$(!0)},$JSCompiler_StaticMethods_startRefreshTimer_$self$$.$M$)})},$JSCompiler_StaticMethods_RefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager_prototype$unobserve$$=function($JSCompiler_StaticMethods_RefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager_prototype$unobserve$self$$){$JSCompiler_StaticMethods_getIntersectionObserverWithThreshold_$$($JSCompiler_StaticMethods_RefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager_prototype$unobserve$self$$,
$JSCompiler_StaticMethods_RefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager_prototype$unobserve$self$$.$F$.visiblePercentageMin).unobserve($JSCompiler_StaticMethods_RefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager_prototype$unobserve$self$$.$element_$)},$AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$=function($$jscomp$super$this$jscomp$12_element$jscomp$316$$){$$jscomp$super$this$jscomp$12_element$jscomp$316$$=
_.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.call(this,$$jscomp$super$this$jscomp$12_element$jscomp$316$$)||this;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$aa$=null;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$La$=_.$Services$$module$src$services$extensionsFor$$($$jscomp$super$this$jscomp$12_element$jscomp$316$$.$win$);$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$ea$=null;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$X$=null;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$ha$=
null;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$ka$=null;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$sa$=null;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$D$=null;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$Da$="0";$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$S$=[];$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$ma$=!1;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$F$=null;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$ra$=null;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$Ia$=
0;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$ba$=0;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$G$=!1;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$fa$=!1;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$wa$=null;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$Ga$=null;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$qa$=null;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$J$={};$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$Ba$=null;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$ga$=
!1;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$la$=null;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$oa$=!1;"forceSafeframe"in $$jscomp$super$this$jscomp$12_element$jscomp$316$$.element.dataset&&(/^(1|(true))$/i.test($$jscomp$super$this$jscomp$12_element$jscomp$316$$.element.dataset.forceSafeframe)?$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$oa$=!0:_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("amp-ad-network-doubleclick-impl","Ignoring invalid data-force-safeframe attribute: "+
$$jscomp$super$this$jscomp$12_element$jscomp$316$$.element.dataset.forceSafeframe));$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$consentState$=null;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$W$=new _.$Deferred$$module$src$utils$promise$$;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$Fa$=!1;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$Ca$=!1;$$jscomp$super$this$jscomp$12_element$jscomp$316$$.$Ja$=!1;return $$jscomp$super$this$jscomp$12_element$jscomp$316$$},$JSCompiler_StaticMethods_getIdleRenderEnabled_$$=
function($JSCompiler_StaticMethods_getIdleRenderEnabled_$self_expVal$$){if($JSCompiler_StaticMethods_getIdleRenderEnabled_$self_expVal$$.$ga$)return $JSCompiler_StaticMethods_getIdleRenderEnabled_$self_expVal$$.$ga$;if($JSCompiler_StaticMethods_getIdleRenderEnabled_$self_expVal$$.element.getAttribute("data-loading-strategy"))return!1;$JSCompiler_StaticMethods_getIdleRenderEnabled_$self_expVal$$=$JSCompiler_StaticMethods_getIdleRenderEnabled_$self_expVal$$.$Z$["render-idle-vp"];var $vpRange$$=parseInt($JSCompiler_StaticMethods_getIdleRenderEnabled_$self_expVal$$,
10);return $JSCompiler_StaticMethods_getIdleRenderEnabled_$self_expVal$$&&isNaN($vpRange$$)?!1:$vpRange$$||12},$JSCompiler_StaticMethods_setPageLevelExperiments$$=function($JSCompiler_StaticMethods_setPageLevelExperiments$self$$,$$jscomp$compprop32_experimentInfoMap$jscomp$2_urlExperimentId$jscomp$1$$){_.$isCdnProxy$$module$ads$google$a4a$utils$$($JSCompiler_StaticMethods_setPageLevelExperiments$self$$.$win$)||_.$isExperimentOn$$module$src$experiments$$($JSCompiler_StaticMethods_setPageLevelExperiments$self$$.$win$,
"expDfpInvOrigDeprecated")||$JSCompiler_StaticMethods_setPageLevelExperiments$self$$.$S$.push("21060933");var $forcedExperimentId$$;$$jscomp$compprop32_experimentInfoMap$jscomp$2_urlExperimentId$jscomp$1$$&&($forcedExperimentId$$={7:"117152666",8:"117152667",9:"21062235"}[$$jscomp$compprop32_experimentInfoMap$jscomp$2_urlExperimentId$jscomp$1$$])&&$JSCompiler_StaticMethods_setPageLevelExperiments$self$$.$S$.push($forcedExperimentId$$);$$jscomp$compprop32_experimentInfoMap$jscomp$2_urlExperimentId$jscomp$1$$=
{};$$jscomp$compprop32_experimentInfoMap$jscomp$2_urlExperimentId$jscomp$1$$=($$jscomp$compprop32_experimentInfoMap$jscomp$2_urlExperimentId$jscomp$1$$.doubleclickSraExp={$isTrafficEligible$:function(){return!$forcedExperimentId$$&&!$JSCompiler_StaticMethods_setPageLevelExperiments$self$$.$win$.document.querySelector("meta[name=amp-ad-enable-refresh], amp-ad[type=doubleclick][data-enable-refresh], meta[name=amp-ad-doubleclick-sra]")},$branches$:Object.keys($DOUBLECLICK_SRA_EXP_BRANCHES$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$).map(function($JSCompiler_StaticMethods_setPageLevelExperiments$self$$){return $DOUBLECLICK_SRA_EXP_BRANCHES$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$[$JSCompiler_StaticMethods_setPageLevelExperiments$self$$]})},
$$jscomp$compprop32_experimentInfoMap$jscomp$2_urlExperimentId$jscomp$1$$.flexAdSlots={$isTrafficEligible$:function(){return!0},$branches$:Object.values($FLEXIBLE_AD_SLOTS_BRANCHES$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$)},$$jscomp$compprop32_experimentInfoMap$jscomp$2_urlExperimentId$jscomp$1$$[["amp-ad-ff-adx-ady"]]={$isTrafficEligible$:function(){return!0},$branches$:[["21062398"],["21062593"]]},$$jscomp$compprop32_experimentInfoMap$jscomp$2_urlExperimentId$jscomp$1$$);
var $setExps$jscomp$1$$=_.$randomlySelectUnsetExperiments$$module$src$experiments$$($JSCompiler_StaticMethods_setPageLevelExperiments$self$$.$win$,$$jscomp$compprop32_experimentInfoMap$jscomp$2_urlExperimentId$jscomp$1$$);Object.keys($setExps$jscomp$1$$).forEach(function($$jscomp$compprop32_experimentInfoMap$jscomp$2_urlExperimentId$jscomp$1$$){return $setExps$jscomp$1$$[$$jscomp$compprop32_experimentInfoMap$jscomp$2_urlExperimentId$jscomp$1$$]&&$JSCompiler_StaticMethods_setPageLevelExperiments$self$$.$S$.push($setExps$jscomp$1$$[$$jscomp$compprop32_experimentInfoMap$jscomp$2_urlExperimentId$jscomp$1$$])});
$setExps$jscomp$1$$.flexAdSlots&&"21063174"==$setExps$jscomp$1$$.flexAdSlots&&($JSCompiler_StaticMethods_setPageLevelExperiments$self$$.$Ja$=!0)},$JSCompiler_StaticMethods_maybeDeprecationWarn_$$=function($JSCompiler_StaticMethods_maybeDeprecationWarn_$self$$){function $warnDeprecation$$($JSCompiler_StaticMethods_maybeDeprecationWarn_$self$$){return _.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("amp-ad-network-doubleclick-impl",$JSCompiler_StaticMethods_maybeDeprecationWarn_$self$$+
" is no longer supported for DoubleClick.Please refer to https://github.com/ampproject/amphtml/issues/11834 for more information")}("useSameDomainRenderingUntilDeprecated"in $JSCompiler_StaticMethods_maybeDeprecationWarn_$self$$.element.dataset||(_.$tryParseJson$$module$src$json$$($JSCompiler_StaticMethods_maybeDeprecationWarn_$self$$.element.getAttribute("json"))||{}).useSameDomainRenderingUntilDeprecated)&&$warnDeprecation$$("useSameDomainRenderingUntilDeprecated");$JSCompiler_StaticMethods_maybeDeprecationWarn_$self$$.$win$.document.querySelector("meta[name=amp-3p-iframe-src]")&&
$warnDeprecation$$("remote.html")},$JSCompiler_StaticMethods_getPageParameters$$=function($JSCompiler_StaticMethods_getPageParameters$self$$,$consentState$jscomp$5$$,$instances_pageviewStateTokensInAdRequest$jscomp$inline_2396$$){var $instancesInAdRequest$jscomp$inline_2395$$=$instances_pageviewStateTokensInAdRequest$jscomp$inline_2396$$=$instances_pageviewStateTokensInAdRequest$jscomp$inline_2396$$||[$JSCompiler_StaticMethods_getPageParameters$self$$];$instances_pageviewStateTokensInAdRequest$jscomp$inline_2396$$=
[];for(var $JSCompiler_temp_const$jscomp$696_token$jscomp$inline_2397$$ in $tokensToInstances$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$)$instancesInAdRequest$jscomp$inline_2395$$.includes($tokensToInstances$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$[$JSCompiler_temp_const$jscomp$696_token$jscomp$inline_2397$$])||$instances_pageviewStateTokensInAdRequest$jscomp$inline_2396$$.push($JSCompiler_temp_const$jscomp$696_token$jscomp$inline_2397$$);
$JSCompiler_temp_const$jscomp$696_token$jscomp$inline_2397$$=$JSCompiler_StaticMethods_getPageParameters$self$$.$win$.devicePixelRatio;$windowLocationQueryParameters$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$=$windowLocationQueryParameters$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$||_.$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_StaticMethods_getPageParameters$self$$.$win$.location&&
$JSCompiler_StaticMethods_getPageParameters$self$$.$win$.location.search||"");return{npa:2==$consentState$jscomp$5$$||4==$consentState$jscomp$5$$?1:null,gdfp_req:"1",sfv:"1-0-23",u_sd:$JSCompiler_temp_const$jscomp$696_token$jscomp$inline_2397$$,gct:$windowLocationQueryParameters$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$.google_preview||null,psts:$instances_pageviewStateTokensInAdRequest$jscomp$inline_2396$$.length?$instances_pageviewStateTokensInAdRequest$jscomp$inline_2396$$:
null}},$JSCompiler_StaticMethods_getBlockParameters_$$=function($JSCompiler_StaticMethods_getBlockParameters_$self$$){var $tfcd$$=$JSCompiler_StaticMethods_getBlockParameters_$self$$.$D$&&$JSCompiler_StaticMethods_getBlockParameters_$self$$.$D$.tagForChildDirectedTreatment;$JSCompiler_StaticMethods_getBlockParameters_$self$$.$win$.ampAdGoogleIfiCounter=$JSCompiler_StaticMethods_getBlockParameters_$self$$.$win$.ampAdGoogleIfiCounter||1;$JSCompiler_StaticMethods_getBlockParameters_$self$$.$ba$=$JSCompiler_StaticMethods_getBlockParameters_$self$$.$I$&&
$JSCompiler_StaticMethods_getBlockParameters_$self$$.$ba$||$JSCompiler_StaticMethods_getBlockParameters_$self$$.$win$.ampAdGoogleIfiCounter++;var $pageLayoutBox$$=$JSCompiler_StaticMethods_getBlockParameters_$self$$.$Y$?$JSCompiler_StaticMethods_getBlockParameters_$self$$.element.$getPageLayoutBox$():null,$psz$$=null,$msz_parentWidth$jscomp$2$$=null;if($JSCompiler_StaticMethods_getBlockParameters_$self$$.$Ja$){$msz_parentWidth$jscomp$2$$=$getContainerWidth$$module$ads$google$a4a$utils$$($JSCompiler_StaticMethods_getBlockParameters_$self$$.$win$,
$JSCompiler_StaticMethods_getBlockParameters_$self$$.element.parentElement);var $slotWidth$jscomp$2$$=$getContainerWidth$$module$ads$google$a4a$utils$$($JSCompiler_StaticMethods_getBlockParameters_$self$$.$win$,$JSCompiler_StaticMethods_getBlockParameters_$self$$.element,1);$psz$$=$msz_parentWidth$jscomp$2$$+"x-1";$msz_parentWidth$jscomp$2$$=(-1==$slotWidth$jscomp$2$$?$msz_parentWidth$jscomp$2$$:$slotWidth$jscomp$2$$)+"x-1"}return Object.assign({iu:$JSCompiler_StaticMethods_getBlockParameters_$self$$.element.getAttribute("data-slot"),
co:$JSCompiler_StaticMethods_getBlockParameters_$self$$.$D$&&$JSCompiler_StaticMethods_getBlockParameters_$self$$.$D$.cookieOptOut?"1":null,adk:$JSCompiler_StaticMethods_getBlockParameters_$self$$.$Da$,sz:$JSCompiler_StaticMethods_getBlockParameters_$self$$.$Y$?"1x1":$JSCompiler_StaticMethods_getBlockParameters_$self$$.$ha$,output:"html",impl:"ifr",tfcd:void 0==$tfcd$$?null:$tfcd$$,adtest:_.$isInExperiment$$module$ads$google$a4a$traffic_experiments$$($JSCompiler_StaticMethods_getBlockParameters_$self$$.element)?
"on":null,ifi:$JSCompiler_StaticMethods_getBlockParameters_$self$$.$ba$,rc:$JSCompiler_StaticMethods_getBlockParameters_$self$$.$Ia$||null,frc:Number($JSCompiler_StaticMethods_getBlockParameters_$self$$.$xa$)||null,fluid:$JSCompiler_StaticMethods_getBlockParameters_$self$$.$G$?"height":null,fsf:$JSCompiler_StaticMethods_getBlockParameters_$self$$.$oa$?"1":null,msz:$msz_parentWidth$jscomp$2$$,psz:$psz$$,scp:$serializeTargeting$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($JSCompiler_StaticMethods_getBlockParameters_$self$$.$D$&&
$JSCompiler_StaticMethods_getBlockParameters_$self$$.$D$.targeting||null,$JSCompiler_StaticMethods_getBlockParameters_$self$$.$D$&&$JSCompiler_StaticMethods_getBlockParameters_$self$$.$D$.categoryExclusions||null),spsa:$JSCompiler_StaticMethods_getBlockParameters_$self$$.$Y$?$pageLayoutBox$$.width+"x"+$pageLayoutBox$$.height:null},_.$googleBlockParameters$$module$ads$google$a4a$utils$$($JSCompiler_StaticMethods_getBlockParameters_$self$$))},$JSCompiler_StaticMethods_populateAdUrlState$$=function($JSCompiler_StaticMethods_populateAdUrlState$self$$,
$consentState$jscomp$6_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$47$$){$JSCompiler_StaticMethods_populateAdUrlState$self$$.$consentState$=$consentState$jscomp$6_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$47$$;$consentState$jscomp$6_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$47$$=Number($JSCompiler_StaticMethods_populateAdUrlState$self$$.element.getAttribute("data-override-width"))||Number($JSCompiler_StaticMethods_populateAdUrlState$self$$.element.getAttribute("width"));
var $height$jscomp$42_multiSizeValidation$jscomp$1$$=Number($JSCompiler_StaticMethods_populateAdUrlState$self$$.element.getAttribute("data-override-height"))||Number($JSCompiler_StaticMethods_populateAdUrlState$self$$.element.getAttribute("height"));$JSCompiler_StaticMethods_populateAdUrlState$self$$.$X$=$JSCompiler_StaticMethods_populateAdUrlState$self$$.$fa$?{width:0,height:0}:$consentState$jscomp$6_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$47$$&&$height$jscomp$42_multiSizeValidation$jscomp$1$$?
{width:$consentState$jscomp$6_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$47$$,height:$height$jscomp$42_multiSizeValidation$jscomp$1$$}:$JSCompiler_StaticMethods_populateAdUrlState$self$$.$getIntersectionElementLayoutBox$();$JSCompiler_StaticMethods_populateAdUrlState$self$$.$D$=_.$tryParseJson$$module$src$json$$($JSCompiler_StaticMethods_populateAdUrlState$self$$.element.getAttribute("json"))||{};$JSCompiler_StaticMethods_populateAdUrlState$self$$.$Da$=$JSCompiler_StaticMethods_generateAdKey_$$($JSCompiler_StaticMethods_populateAdUrlState$self$$,
$JSCompiler_StaticMethods_populateAdUrlState$self$$.$X$.width+"x"+$JSCompiler_StaticMethods_populateAdUrlState$self$$.$X$.height);$JSCompiler_StaticMethods_populateAdUrlState$self$$.$ha$=$JSCompiler_StaticMethods_populateAdUrlState$self$$.$fa$?"320x50":$JSCompiler_StaticMethods_populateAdUrlState$self$$.$X$.width+"x"+$JSCompiler_StaticMethods_populateAdUrlState$self$$.$X$.height;if($consentState$jscomp$6_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$47$$=$JSCompiler_StaticMethods_populateAdUrlState$self$$.element.getAttribute("data-multi-size"))$height$jscomp$42_multiSizeValidation$jscomp$1$$=
$JSCompiler_StaticMethods_populateAdUrlState$self$$.element.getAttribute("data-multi-size-validation")||"true",$consentState$jscomp$6_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$47$$=$getMultiSizeDimensions$$module$ads$google$utils$$($consentState$jscomp$6_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$47$$,$JSCompiler_StaticMethods_populateAdUrlState$self$$.$X$.width,$JSCompiler_StaticMethods_populateAdUrlState$self$$.$X$.height,"true"==$height$jscomp$42_multiSizeValidation$jscomp$1$$,
$JSCompiler_StaticMethods_populateAdUrlState$self$$.$fa$),$consentState$jscomp$6_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$47$$.length&&($JSCompiler_StaticMethods_populateAdUrlState$self$$.$ha$+="|"+$consentState$jscomp$6_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$47$$.map(function($JSCompiler_StaticMethods_populateAdUrlState$self$$){return $JSCompiler_StaticMethods_populateAdUrlState$self$$.join("x")}).join("|"))},$JSCompiler_StaticMethods_buildIdentityParams$$=function($JSCompiler_StaticMethods_buildIdentityParams$self$$){return $JSCompiler_StaticMethods_buildIdentityParams$self$$.$qa$?
{$adsid$:$JSCompiler_StaticMethods_buildIdentityParams$self$$.$qa$.$token$||null,$jar$:$JSCompiler_StaticMethods_buildIdentityParams$self$$.$qa$.$jar$||null,$pucrd$:$JSCompiler_StaticMethods_buildIdentityParams$self$$.$qa$.$pucrd$||null}:{}},$JSCompiler_StaticMethods_mergeRtcResponses_$$=function($JSCompiler_StaticMethods_mergeRtcResponses_$self$$,$rtcResponseArray$$){if(!$rtcResponseArray$$)return null;var $artc$$=[],$ati$$=[],$ard$$=[],$exclusions$$;$rtcResponseArray$$.forEach(function($rtcResponseArray$$){if($rtcResponseArray$$&&
($artc$$.push($rtcResponseArray$$.rtcTime),$ati$$.push($rtcResponseArray$$.error||"2"),$ard$$.push($rtcResponseArray$$.callout),$rtcResponseArray$$.response)){if($rtcResponseArray$$.response.targeting){var $rtcResponse$$=$JSCompiler_StaticMethods_rewriteRtcKeys_$$($rtcResponseArray$$.response.targeting,$rtcResponseArray$$.callout);$JSCompiler_StaticMethods_mergeRtcResponses_$self$$.$D$.targeting=$JSCompiler_StaticMethods_mergeRtcResponses_$self$$.$D$.targeting?_.$deepMerge$$module$src$utils$object$$($JSCompiler_StaticMethods_mergeRtcResponses_$self$$.$D$.targeting,
$rtcResponse$$):$rtcResponse$$}$rtcResponseArray$$.response.categoryExclusions&&($exclusions$$||($exclusions$$={},$JSCompiler_StaticMethods_mergeRtcResponses_$self$$.$D$.categoryExclusions&&$JSCompiler_StaticMethods_mergeRtcResponses_$self$$.$D$.categoryExclusions.forEach(function($JSCompiler_StaticMethods_mergeRtcResponses_$self$$){$exclusions$$[$JSCompiler_StaticMethods_mergeRtcResponses_$self$$]=!0})),$rtcResponseArray$$.response.categoryExclusions.forEach(function($JSCompiler_StaticMethods_mergeRtcResponses_$self$$){$exclusions$$[$JSCompiler_StaticMethods_mergeRtcResponses_$self$$]=
!0}))}});$exclusions$$&&($JSCompiler_StaticMethods_mergeRtcResponses_$self$$.$D$.categoryExclusions=Object.keys($exclusions$$));return{artc:$artc$$.join()||null,ati:$ati$$.join(),ard:$ard$$.join()}},$JSCompiler_StaticMethods_AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl_prototype$getReferrer_$$=function($JSCompiler_StaticMethods_AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl_prototype$getReferrer_$self$$,
$opt_timeout$jscomp$5_timeoutInt$$){$opt_timeout$jscomp$5_timeoutInt$$=parseInt($opt_timeout$jscomp$5_timeoutInt$$,10);var $referrerPromise$jscomp$1$$=_.$Services$$module$src$services$viewerForDoc$$($JSCompiler_StaticMethods_AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl_prototype$getReferrer_$self$$.$getAmpDoc$()).$I$;return isNaN($opt_timeout$jscomp$5_timeoutInt$$)||0>$opt_timeout$jscomp$5_timeoutInt$$?$referrerPromise$jscomp$1$$:
_.$JSCompiler_StaticMethods_timeoutPromise$$(_.$Services$$module$src$services$timerFor$$($JSCompiler_StaticMethods_AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl_prototype$getReferrer_$self$$.$win$),$opt_timeout$jscomp$5_timeoutInt$$,$referrerPromise$jscomp$1$$).catch(function(){})},$JSCompiler_StaticMethods_rewriteRtcKeys_$$=function($response$jscomp$44$$,$callout$jscomp$3$$){if(!$RTC_VENDORS$$module$extensions$amp_a4a$0_1$callout_vendors$$[$callout$jscomp$3$$]||
$RTC_VENDORS$$module$extensions$amp_a4a$0_1$callout_vendors$$[$callout$jscomp$3$$].$disableKeyAppend$)return $response$jscomp$44$$;var $newResponse$$={};Object.keys($response$jscomp$44$$).forEach(function($key$jscomp$88$$){$newResponse$$[$key$jscomp$88$$+"_"+$callout$jscomp$3$$]=$response$jscomp$44$$[$key$jscomp$88$$]});return $newResponse$$},$JSCompiler_StaticMethods_getSlotSize$$=function($JSCompiler_StaticMethods_getSlotSize$self$$){var $width$jscomp$48$$=Number($JSCompiler_StaticMethods_getSlotSize$self$$.element.getAttribute("width")),
$height$jscomp$43$$=Number($JSCompiler_StaticMethods_getSlotSize$self$$.element.getAttribute("height"));return $width$jscomp$48$$&&$height$jscomp$43$$?{width:$width$jscomp$48$$,height:$height$jscomp$43$$}:$JSCompiler_StaticMethods_getSlotSize$self$$.$getIntersectionElementLayoutBox$()},$JSCompiler_StaticMethods_expandFluidCreative_$$=function($JSCompiler_StaticMethods_expandFluidCreative_$self$$){$JSCompiler_StaticMethods_expandFluidCreative_$self$$.$G$&&!$JSCompiler_StaticMethods_expandFluidCreative_$self$$.$ka$&&
$JSCompiler_StaticMethods_expandFluidCreative_$self$$.$ya$?$JSCompiler_StaticMethods_expandFluidCreative_$self$$.iframe&&$JSCompiler_StaticMethods_expandFluidCreative_$self$$.iframe.contentWindow&&$JSCompiler_StaticMethods_expandFluidCreative_$self$$.iframe.contentWindow.document&&$JSCompiler_StaticMethods_expandFluidCreative_$self$$.iframe.contentWindow.document.body?_.$JSCompiler_StaticMethods_attemptChangeHeight$$($JSCompiler_StaticMethods_expandFluidCreative_$self$$,$JSCompiler_StaticMethods_expandFluidCreative_$self$$.iframe.contentWindow.document.body.clientHeight).then(function(){$JSCompiler_StaticMethods_fireFluidDelayedImpression$$($JSCompiler_StaticMethods_expandFluidCreative_$self$$);
$JSCompiler_StaticMethods_expandFluidCreative_$self$$.$Fa$=!1}).catch(function(){$JSCompiler_StaticMethods_expandFluidCreative_$self$$.$Fa$=!0}):(_.$dev$$module$src$log$$().error("amp-ad-network-doubleclick-impl","Attempting to expand fluid creative without a properly set up friendly frame. Slot id: "+$JSCompiler_StaticMethods_expandFluidCreative_$self$$.element.getAttribute("data-amp-slot-index")),Promise.reject("Cannot access body of friendly frame")):Promise.resolve()},$JSCompiler_StaticMethods_generateAdKey_$$=
function($JSCompiler_StaticMethods_generateAdKey_$self_domFingerprint$$,$size$jscomp$27$$){var $element$jscomp$317_multiSize$$=$JSCompiler_StaticMethods_generateAdKey_$self_domFingerprint$$.element;$JSCompiler_StaticMethods_generateAdKey_$self_domFingerprint$$=_.$domFingerprintPlain$$module$src$utils$dom_fingerprint$$($element$jscomp$317_multiSize$$);var $slot$jscomp$4$$=$element$jscomp$317_multiSize$$.getAttribute("data-slot")||"";$element$jscomp$317_multiSize$$=$element$jscomp$317_multiSize$$.getAttribute("data-multi-size")||
"";return _.$stringHash32$$module$src$string$$($slot$jscomp$4$$+":"+$size$jscomp$27$$+":"+$element$jscomp$317_multiSize$$+":"+$JSCompiler_StaticMethods_generateAdKey_$self_domFingerprint$$)},$JSCompiler_StaticMethods_AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl_prototype$handleResize_$$=function($JSCompiler_StaticMethods_AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl_prototype$handleResize_$self$$,
$width$jscomp$49$$,$height$jscomp$44$$){var $pWidth$$=$JSCompiler_StaticMethods_AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl_prototype$handleResize_$self$$.element.getAttribute("width"),$pHeight$$=$JSCompiler_StaticMethods_AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl_prototype$handleResize_$self$$.element.getAttribute("height");($JSCompiler_StaticMethods_AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl_prototype$handleResize_$self$$.$G$&&
$width$jscomp$49$$&&$height$jscomp$44$$||($width$jscomp$49$$!=$pWidth$$||$height$jscomp$44$$!=$pHeight$$)&&$width$jscomp$49$$<=$pWidth$$&&$height$jscomp$44$$<=$pHeight$$)&&$JSCompiler_StaticMethods_AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl_prototype$handleResize_$self$$.$attemptChangeSize$($height$jscomp$44$$,$width$jscomp$49$$).catch(function(){})},$JSCompiler_StaticMethods_fireDelayedImpressions$$=function($JSCompiler_StaticMethods_fireDelayedImpressions$self$$,
$impressions$$){$impressions$$&&$impressions$$.split(",").forEach(function($impressions$$){try{_.$JSCompiler_StaticMethods_isSecure$$(_.$Services$$module$src$services$urlForDoc$$($JSCompiler_StaticMethods_fireDelayedImpressions$self$$.element),$impressions$$)?$JSCompiler_StaticMethods_fireDelayedImpressions$self$$.$win$.document.body.appendChild(_.$createElementWithAttributes$$module$src$dom$$($JSCompiler_StaticMethods_fireDelayedImpressions$self$$.$win$.document,"amp-pixel",_.$dict$$module$src$utils$object$$({src:$impressions$$,
referrerpolicy:""}))):_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$warn$("amp-ad-network-doubleclick-impl","insecure impression url: "+$impressions$$)}catch($unusedError$jscomp$5$$){}})},$JSCompiler_StaticMethods_fireFluidDelayedImpression$$=function($JSCompiler_StaticMethods_fireFluidDelayedImpression$self$$){$JSCompiler_StaticMethods_fireFluidDelayedImpression$self$$.$wa$&&($JSCompiler_StaticMethods_fireDelayedImpressions$$($JSCompiler_StaticMethods_fireFluidDelayedImpression$self$$,
$JSCompiler_StaticMethods_fireFluidDelayedImpression$self$$.$wa$),$JSCompiler_StaticMethods_fireFluidDelayedImpression$self$$.$wa$=null)},$JSCompiler_StaticMethods_initiateSraRequests$$=function($JSCompiler_StaticMethods_initiateSraRequests$self$$){var $checkStillCurrent$jscomp$10$$=$JSCompiler_StaticMethods_initiateSraRequests$self$$.$verifyStillCurrent$(),$noFallbackExp$$=$JSCompiler_StaticMethods_initiateSraRequests$self$$.$S$.includes("21062235");return $sraRequests$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$=
$sraRequests$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$||$groupAmpAdsByType$$module$ads$google$a4a$utils$$($JSCompiler_StaticMethods_initiateSraRequests$self$$.$win$,$JSCompiler_StaticMethods_initiateSraRequests$self$$.element.getAttribute("type")).then(function($groupIdToBlocksAry$$){$checkStillCurrent$jscomp$10$$();var $sraRequestPromises$$=[];Object.keys($groupIdToBlocksAry$$).forEach(function($networkId$$){$sraRequestPromises$$.push(Promise.all($groupIdToBlocksAry$$[$networkId$$]).then(function($groupIdToBlocksAry$$){$checkStillCurrent$jscomp$10$$();
var $sraRequestPromises$$=$groupIdToBlocksAry$$.filter(function($JSCompiler_StaticMethods_initiateSraRequests$self$$){var $checkStillCurrent$jscomp$10$$=!!$JSCompiler_StaticMethods_initiateSraRequests$self$$.$P$;$checkStillCurrent$jscomp$10$$||_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$info$("amp-ad-network-doubleclick-impl","Ignoring instance without ad promise as likely invalid",$JSCompiler_StaticMethods_initiateSraRequests$self$$.element);return $checkStillCurrent$jscomp$10$$});
if($sraRequestPromises$$.length){if($noFallbackExp$$||1!=$sraRequestPromises$$.length){var $instances$jscomp$1$$;return $constructSRARequest_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$($JSCompiler_StaticMethods_initiateSraRequests$self$$,$sraRequestPromises$$).then(function($noFallbackExp$$){$checkStillCurrent$jscomp$10$$();$instances$jscomp$1$$=$noFallbackExp$$;return _.$Services$$module$src$services$xhrFor$$($JSCompiler_StaticMethods_initiateSraRequests$self$$.$win$).fetch($instances$jscomp$1$$,
{mode:"cors",method:"GET",credentials:"include"})}).then(function($noFallbackExp$$){$checkStillCurrent$jscomp$10$$();var $groupIdToBlocksAry$$=$sraRequestPromises$$.map(function($JSCompiler_StaticMethods_initiateSraRequests$self$$){return $JSCompiler_StaticMethods_initiateSraRequests$self$$.$F$.resolve});$lineDelimitedStreamer$$module$ads$google$a4a$line_delimited_response_handler$$($JSCompiler_StaticMethods_initiateSraRequests$self$$.$win$,$noFallbackExp$$,$metaJsonCreativeGrouper$$module$ads$google$a4a$line_delimited_response_handler$$(function($JSCompiler_StaticMethods_initiateSraRequests$self$$,
$noFallbackExp$$,$sraRequestPromises$$){$checkStillCurrent$jscomp$10$$();$sraBlockCallbackHandler$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($JSCompiler_StaticMethods_initiateSraRequests$self$$,$noFallbackExp$$,$sraRequestPromises$$,$groupIdToBlocksAry$$,$instances$jscomp$1$$)}));return Promise.all($sraRequestPromises$$.map(function($JSCompiler_StaticMethods_initiateSraRequests$self$$){return $JSCompiler_StaticMethods_initiateSraRequests$self$$.$F$.$promise$}))}).catch(function($checkStillCurrent$jscomp$10$$){_.$isCancellation$$module$src$error$$($checkStillCurrent$jscomp$10$$)?
$sraRequestPromises$$.forEach(function($JSCompiler_StaticMethods_initiateSraRequests$self$$){return $JSCompiler_StaticMethods_initiateSraRequests$self$$.$F$&&$JSCompiler_StaticMethods_initiateSraRequests$self$$.$F$.reject($checkStillCurrent$jscomp$10$$)}):$noFallbackExp$$||$JSCompiler_StaticMethods_initiateSraRequests$self$$.$win$.document.querySelector("meta[name=amp-ad-doubleclick-sra]")?(_.$assignAdUrlToError$$module$extensions$amp_a4a$0_1$amp_a4a$$($checkStillCurrent$jscomp$10$$,$instances$jscomp$1$$),
$JSCompiler_StaticMethods_warnOnError$$($checkStillCurrent$jscomp$10$$),$sraRequestPromises$$.forEach(function($JSCompiler_StaticMethods_initiateSraRequests$self$$){$JSCompiler_StaticMethods_initiateSraRequests$self$$.$H$=null;$JSCompiler_StaticMethods_initiateSraRequests$self$$.$attemptCollapse$();$JSCompiler_StaticMethods_initiateSraRequests$self$$.$F$.reject($checkStillCurrent$jscomp$10$$)})):$sraRequestPromises$$.forEach(function($JSCompiler_StaticMethods_initiateSraRequests$self$$){return $JSCompiler_StaticMethods_initiateSraRequests$self$$.$F$.resolve(null)})})}_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$info$("amp-ad-network-doubleclick-impl",
"single block in network "+$networkId$$);$sraRequestPromises$$[0].$F$=$sraRequestPromises$$[0].$F$||new _.$Deferred$$module$src$utils$promise$$;$sraRequestPromises$$[0].$F$.resolve(null)}}))});return Promise.all($sraRequestPromises$$)})},$JSCompiler_StaticMethods_warnOnError$$=function($error$jscomp$66$$){_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$warn$("amp-ad-network-doubleclick-impl","SRA request failure",$error$jscomp$66$$)},$JSCompiler_StaticMethods_postTroubleshootMessage$$=function($JSCompiler_StaticMethods_postTroubleshootMessage$self$$){$JSCompiler_StaticMethods_postTroubleshootMessage$self$$.$win$.opener&&
/[?|&]dfpdeb/.test($JSCompiler_StaticMethods_postTroubleshootMessage$self$$.$win$.location.search)&&$JSCompiler_StaticMethods_postTroubleshootMessage$self$$.$J$.$adUrl$.then(function($adUrl$jscomp$11_payload$jscomp$13$$){var $slotId$jscomp$2$$=$JSCompiler_StaticMethods_postTroubleshootMessage$self$$.$J$.$slotId$+"_"+$JSCompiler_StaticMethods_postTroubleshootMessage$self$$.$J$.$slotIndex$;$adUrl$jscomp$11_payload$jscomp$13$$=_.$dict$$module$src$utils$object$$({gutData:JSON.stringify(_.$dict$$module$src$utils$object$$({events:[{timestamp:Date.now(),
slotid:$slotId$jscomp$2$$,messageId:4}],slots:[{contentUrl:$adUrl$jscomp$11_payload$jscomp$13$$||"",id:$slotId$jscomp$2$$,leafAdUnitName:$JSCompiler_StaticMethods_postTroubleshootMessage$self$$.$J$.$slotId$,domId:$slotId$jscomp$2$$,lineItemId:$JSCompiler_StaticMethods_postTroubleshootMessage$self$$.$J$.$lineItemId$,creativeId:$JSCompiler_StaticMethods_postTroubleshootMessage$self$$.$J$.$creativeId$}]})),userAgent:navigator.userAgent,referrer:$JSCompiler_StaticMethods_postTroubleshootMessage$self$$.$win$.location.href,
messageType:"LOAD"});$JSCompiler_StaticMethods_postTroubleshootMessage$self$$.$win$.opener.postMessage($adUrl$jscomp$11_payload$jscomp$13$$,"*")})},$JSCompiler_StaticMethods_removePageviewStateToken$$=function($JSCompiler_StaticMethods_removePageviewStateToken$self$$){for(var $token$jscomp$24$$ in $tokensToInstances$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$)if($tokensToInstances$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$[$token$jscomp$24$$]==
$JSCompiler_StaticMethods_removePageviewStateToken$self$$){delete $tokensToInstances$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$[$token$jscomp$24$$];break}},$getNetworkId$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$=function($element$jscomp$318_networkId$jscomp$1$$){return($element$jscomp$318_networkId$jscomp$1$$=/^(?:\/)?(\d+)/.exec($element$jscomp$318_networkId$jscomp$1$$.getAttribute("data-slot")))?$element$jscomp$318_networkId$jscomp$1$$[1]:
""},$constructSRARequest_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$=function($a4a$jscomp$8$$,$instances$jscomp$2$$){var $startTime$jscomp$17$$=Date.now();return Promise.all($instances$jscomp$2$$.map(function($a4a$jscomp$8$$){return $a4a$jscomp$8$$.$W$.$promise$})).then(function(){return _.$googlePageParameters$$module$ads$google$a4a$utils$$($a4a$jscomp$8$$,$startTime$jscomp$17$$)}).then(function($a4a$jscomp$8$$){var $googPageLevelParameters$$=$constructSRABlockParameters$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($instances$jscomp$2$$);
return _.$truncAndTimeUrl$$module$ads$google$a4a$utils$$("https://securepubads.g.doubleclick.net/gampad/ads",Object.assign($googPageLevelParameters$$,$a4a$jscomp$8$$,$JSCompiler_StaticMethods_getPageParameters$$($instances$jscomp$2$$[0],$instances$jscomp$2$$[0].$consentState$,$instances$jscomp$2$$)),$startTime$jscomp$17$$)})};
_.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a_prototype$refresh$=_.$JSCompiler_unstubMethod$$(51,function($refreshEndCallback$$){var $$jscomp$this$jscomp$216$$=this;this.$I$=!0;this.$tearDownSlot$();_.$JSCompiler_StaticMethods_initiateAdRequest$$(this);if(!this.$P$)return Promise.resolve();var $promiseId$$=this.$ia$;return this.$P$.then(function(){if($$jscomp$this$jscomp$216$$.$I$&&$promiseId$$==$$jscomp$this$jscomp$216$$.$ia$)return $$jscomp$this$jscomp$216$$.$mutateElement$(function(){_.$triggerAnalyticsEvent$$module$src$analytics$$($$jscomp$this$jscomp$216$$.element,
"ad-refresh");$$jscomp$this$jscomp$216$$.$togglePlaceholder$(!0);return _.$Services$$module$src$services$timerFor$$($$jscomp$this$jscomp$216$$.$win$).$promise$(1E3).then(function(){$$jscomp$this$jscomp$216$$.$Ea$=!0;_.$JSCompiler_StaticMethods_layoutCanceled$$(_.$Resource$$module$src$service$resource$forElementOptional$$($$jscomp$this$jscomp$216$$.element));_.$JSCompiler_StaticMethods_whenNextVisible$$(_.$Services$$module$src$services$viewerForDoc$$($$jscomp$this$jscomp$216$$.$getAmpDoc$())).then(function(){_.$JSCompiler_StaticMethods_Resources$$module$src$service$resources_impl_prototype$requireLayout$$(_.$Services$$module$src$services$resourcesForDoc$$($$jscomp$this$jscomp$216$$.$getAmpDoc$()),
$$jscomp$this$jscomp$216$$.element)})})});$refreshEndCallback$$()})});
var $CONSENT_POLICY_STATE$$module$src$consent_state$$={$SUFFICIENT$:1,$INSUFFICIENT$:2,$UNKNOWN_NOT_REQUIRED$:3,$UNKNOWN$:4},$SRA_JOINERS$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=[$combineInventoryUnits$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$getCookieOptOut$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$getAdks$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$getSizes$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,
$getTfcd$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$isAdTest$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$getTargetingAndExclusions$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$getExperimentIds$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$getIdentity$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$getForceSafeframe$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$getPageOffsets$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,
$getContainers$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$getIsFluid$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$];var $safeframeHosts$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$={},$safeframeListenerCreated_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$=!1;
$SafeframeHostApi$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$.prototype.$Y$=function(){var $$jscomp$this$jscomp$326$$=this;this.$F$&&_.$JSCompiler_StaticMethods_getClientRectAsync$$(this.$H$,this.$F$).then(function($formattedGeom_iframeBox$jscomp$1$$){$$jscomp$this$jscomp$326$$.$O$();$formattedGeom_iframeBox$jscomp$1$$=$JSCompiler_StaticMethods_formatGeom_$$($$jscomp$this$jscomp$326$$,$formattedGeom_iframeBox$jscomp$1$$);$$jscomp$this$jscomp$326$$.$sendMessage_$({$newGeometry$:$formattedGeom_iframeBox$jscomp$1$$,
uid:$$jscomp$this$jscomp$326$$.$U$},"geometry_update")}).catch(function($$jscomp$this$jscomp$326$$){return _.$dev$$module$src$log$$().error("AMP-DOUBLECLICK-SAFEFRAME",$$jscomp$this$jscomp$326$$)})};
$SafeframeHostApi$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$.prototype.$sendMessage_$=function($payload$jscomp$8$$,$serviceName$$){if(this.$F$.contentWindow){var $message$jscomp$53$$={};$message$jscomp$53$$.c=this.$I$;$message$jscomp$53$$.p=JSON.stringify($payload$jscomp$8$$);$message$jscomp$53$$.s=$serviceName$$;$message$jscomp$53$$.e=this.$J$;$message$jscomp$53$$.i=this.$Z$;this.$F$.contentWindow.postMessage(JSON.stringify($message$jscomp$53$$),"https://tpc.googlesyndication.com")}else _.$dev$$module$src$log$$().error("AMP-DOUBLECLICK-SAFEFRAME",
"Frame contentWindow unavailable.")};
$SafeframeHostApi$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$.prototype.$destroy$=function(){this.$F$=null;delete $safeframeHosts$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$[this.$J$];this.$S$&&this.$S$();0==Object.keys($safeframeHosts$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$).length&&(window.removeEventListener("message",$safeframeListener$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$,!1),
$safeframeListenerCreated_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$=!1)};var $RTC_VENDORS$$module$extensions$amp_a4a$0_1$callout_vendors$$={$medianet$:{url:"https://amprtc.media.net/rtb/getrtc?cid=CID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&tgt=TGT&curl=CANONICAL_URL&to=TIMEOUT&purl=HREF",$macros$:["CID"],errorReportingUrl:"https://qsearch-a.akamaihd.net/log?logid=kfk&evtid=projectevents&project=amprtc_error&error=ERROR_TYPE&rd=HREF",$disableKeyAppend$:!0},$prebidappnexus$:{url:"https://prebid.adnxs.com/pbs/v1/openrtb2/amp?tag_id=PLACEMENT_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&adcid=ADCID&purl=HREF",
$macros$:["PLACEMENT_ID"],$disableKeyAppend$:!0},$prebidrubicon$:{url:"https://prebid-server.rubiconproject.com/openrtb2/amp?tag_id=REQUEST_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&adc=ADCID&purl=HREF",$macros$:["REQUEST_ID"],$disableKeyAppend$:!0},$indexexchange$:{url:"https://amp.casalemedia.com/amprtc?v=1&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&s=SITE_ID&p=CANONICAL_URL",
$macros$:["SITE_ID"],$disableKeyAppend$:!0},$lotame$:{url:"https://ad.crwdcntrl.net/5/pe=y/c=CLIENT_ID/an=AD_NETWORK",$macros$:["CLIENT_ID","AD_NETWORK"],$disableKeyAppend$:!0},$yieldbot$:{url:"https://i.yldbt.com/m/YB_PSN/v1/amp/init?curl=CANONICAL_URL&sn=YB_SLOT&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&aup=ATTR(data-slot)&pvi=PAGEVIEWID&tgt=TGT&adcid=ADCID&href=HREF",$macros$:["YB_PSN","YB_SLOT"],$disableKeyAppend$:!0},$salesforcedmp$:{url:"https://cdn.krxd.net/userdata/v2/amp/ORGANIZATION_ID?segments_key=SEGMENTS_KEY&kuid_key=USER_KEY",
$macros$:["ORGANIZATION_ID","SEGMENTS_KEY","USER_KEY"],$disableKeyAppend$:!0},$purch$:{url:"https://ads.servebom.com/tmntag.js?v=1.2&fmt=amp&o={%22p%22%3APLACEMENT_ID}&div_id=DIV_ID",$macros$:["PLACEMENT_ID","DIV_ID"],$disableKeyAppend$:!0},$aps$:{url:"https://aax.amazon-adsystem.com/e/dtb/bid?src=PUB_ID&pubid=PUB_UUID&amp=1&u=CANONICAL_URL&slots=%5B%7B%22sd%22%3A%22ATTR(data-slot)%22%2C%22s%22%3A%5B%22ATTR(width)xATTR(height)%22%5D%2C%22ms%22%3A%22ATTR(data-multi-size)%22%7D%5D&pj=PARAMS",$macros$:["PUB_ID",
"PARAMS","PUB_UUID"],$disableKeyAppend$:!0},$openwrap$:{url:"https://ow.pubmatic.com/amp?v=1&w=ATTR(width)&h=ATTR(height)&ms=ATTR(data-multi-size)&auId=ATTR(data-slot)&purl=HREF&pubId=PUB_ID&profId=PROFILE_ID",$macros$:["PUB_ID","PROFILE_ID"],errorReportingUrl:"https://ow.pubmatic.com/amp_error?e=ERROR_TYPE&h=HREF",$disableKeyAppend$:!0},$criteo$:{url:"https://bidder.criteo.com/amp/rtc?zid=ZONE_ID&nid=NETWORK_ID&psubid=PUBLISHER_SUB_ID&lir=LINE_ITEM_RANGES&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&timeout=TIMEOUT&curl=CANONICAL_URL&href=HREF",
$macros$:["ZONE_ID","NETWORK_ID","PUBLISHER_SUB_ID","LINE_ITEM_RANGES"],$disableKeyAppend$:!0},$navegg$:{url:"https://amp.navdmp.com/usr?acc=NVG_ACC&wst=0&v=10",$macros$:["NVG_ACC"]},$sonobi$:{url:"https://apex.go.sonobi.com/trinity.json?key_maker=%7B%22_DIVIDER_ATTR(data-slot)%7C1%22%3A%22PLACEMENT_ID_DIVIDER_ATTR(width)xATTR(height)%2CATTR(data-multi-size)%22%7D&ref=CANONICAL_URL&lib_name=amp&lib_v=0.1&pv=PAGEVIEWID&amp=1",$disableKeyAppend$:!0,$macros$:["PLACEMENT_ID","_DIVIDER_"]}};
if(_.$getMode$$module$src$mode$$().localDev||_.$getMode$$module$src$mode$$().test)$RTC_VENDORS$$module$extensions$amp_a4a$0_1$callout_vendors$$.fakevendor={url:"https://localhost:8000/examples/rtcE1.json?slot_id=SLOT_ID&page_id=PAGE_ID&foo_id=FOO_ID",$macros$:["SLOT_ID","PAGE_ID","FOO_ID"]},$RTC_VENDORS$$module$extensions$amp_a4a$0_1$callout_vendors$$.fakevendor2={url:"https://localhost:8000/examples/rtcE1.json?slot_id=SLOT_ID&page_id=PAGE_ID&foo_id=FOO_ID",errorReportingUrl:"https://localhost:8000/examples/ERROR_TYPE",
$disableKeyAppend$:!0};var $ERROR_REPORTING_ENABLED$$module$extensions$amp_a4a$0_1$real_time_config_manager$$=_.$getMode$$module$src$mode$$(window).localDev||_.$getMode$$module$src$mode$$(window).test||.01>Math.random();
$RealTimeConfigManager$$module$extensions$amp_a4a$0_1$real_time_config_manager$$.prototype.$maybeExecuteRealTimeConfig$=function($customMacros$$,$consentState$jscomp$4$$){if($JSCompiler_StaticMethods_validateRtcConfig_$$(this,this.$F$.element))return this.$G$=$consentState$jscomp$4$$,$JSCompiler_StaticMethods_modifyRtcConfigForConsentStateSettings$$(this),$customMacros$$=$JSCompiler_StaticMethods_assignMacros$$(this,$customMacros$$),this.$J$=Date.now(),$JSCompiler_StaticMethods_handleRtcForCustomUrls$$(this,
$customMacros$$),$JSCompiler_StaticMethods_handleRtcForVendorUrls$$(this,$customMacros$$),Promise.all(this.$I$)};AMP.RealTimeConfigManager=$RealTimeConfigManager$$module$extensions$amp_a4a$0_1$real_time_config_manager$$;$RefreshIntersectionObserverWrapper$$module$extensions$amp_a4a$0_1$refresh_intersection_observer_wrapper$$.prototype.observe=function($element$jscomp$313$$){var $$jscomp$this$jscomp$339$$=this,$refreshId$$=$element$jscomp$313$$.getAttribute("data-amp-ad-refresh-id");if(!this.$H$[$refreshId$$]){var $viewportCallback$$=$element$jscomp$313$$.$viewportCallback$.bind($element$jscomp$313$$);this.$H$[$refreshId$$]=$viewportCallback$$;$element$jscomp$313$$.$viewportCallback$=function($element$jscomp$313$$){$$jscomp$this$jscomp$339$$.$G$&&
_.$JSCompiler_StaticMethods_IntersectionObserverPolyfill$$module$src$intersection_observer_polyfill_prototype$tick$$($$jscomp$this$jscomp$339$$.$D$,_.$JSCompiler_StaticMethods_getRect$$($$jscomp$this$jscomp$339$$.$F$));$viewportCallback$$($element$jscomp$313$$)}}this.$G$=!0;this.$D$.observe($element$jscomp$313$$);_.$JSCompiler_StaticMethods_IntersectionObserverPolyfill$$module$src$intersection_observer_polyfill_prototype$tick$$(this.$D$,_.$JSCompiler_StaticMethods_getRect$$(this.$F$))};
$RefreshIntersectionObserverWrapper$$module$extensions$amp_a4a$0_1$refresh_intersection_observer_wrapper$$.prototype.unobserve=function($element$jscomp$314$$){_.$JSCompiler_StaticMethods_IntersectionObserverPolyfill$$module$src$intersection_observer_polyfill_prototype$tick$$(this.$D$,_.$JSCompiler_StaticMethods_getRect$$(this.$F$));this.$D$.unobserve($element$jscomp$314$$);this.$G$=!1};var $observers$$module$extensions$amp_a4a$0_1$refresh_manager$$={},$managers$$module$extensions$amp_a4a$0_1$refresh_manager$$={},$refreshManagerIdCounter$$module$extensions$amp_a4a$0_1$refresh_manager$$=0;
$RefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager$$.prototype.$K$=function($entries$jscomp$2$$){$entries$jscomp$2$$.forEach(function($entries$jscomp$2$$){var $entry$jscomp$18$$=$entries$jscomp$2$$.target.getAttribute("data-amp-ad-refresh-id"),$refreshManager$$=$managers$$module$extensions$amp_a4a$0_1$refresh_manager$$[$entry$jscomp$18$$];if($entries$jscomp$2$$.target==$refreshManager$$.$element_$)switch($refreshManager$$.$D$){case "initial":$entries$jscomp$2$$.intersectionRatio>=$refreshManager$$.$F$.visiblePercentageMin&&
($refreshManager$$.$D$="view_pending",$refreshManager$$.$I$=$refreshManager$$.$G$.delay(function(){$refreshManager$$.$D$="refresh_pending";$JSCompiler_StaticMethods_startRefreshTimer_$$($refreshManager$$)},$refreshManager$$.$F$.continuousTimeMin));break;case "view_pending":$entries$jscomp$2$$.intersectionRatio<$refreshManager$$.$F$.visiblePercentageMin&&($refreshManager$$.$G$.cancel($refreshManager$$.$I$),$refreshManager$$.$I$=null,$refreshManager$$.$D$="initial")}})};var $DOUBLECLICK_SRA_EXP_BRANCHES$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$={$SRA_CONTROL$:"117152666",$SRA$:"117152667",$SRA_NO_RECOVER$:"21062235"},$FLEXIBLE_AD_SLOTS_BRANCHES$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$={$CONTROL$:"21063173",$EXPERIMENT$:"21063174"},$tokensToInstances$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$={},$sraRequests$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$=
null,$windowLocationQueryParameters$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$;_.$$jscomp$inherits$$($AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$,_.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$);_.$JSCompiler_prototypeAlias$$=$AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$.prototype;
_.$JSCompiler_prototypeAlias$$.$idleRenderOutsideViewport$=function(){var $$jscomp$this$jscomp$341$$=this,$vpRange$jscomp$1$$=$JSCompiler_StaticMethods_getIdleRenderEnabled_$$(this);if(!1===$vpRange$jscomp$1$$)return $vpRange$jscomp$1$$;var $renderOutsideViewport$$=this.$renderOutsideViewport$();if("boolean"===typeof $renderOutsideViewport$$)return $renderOutsideViewport$$;this.$ga$=!0;_.$JSCompiler_StaticMethods_whenWithinViewport$$(_.$Resource$$module$src$service$resource$forElementOptional$$(this.element),
$renderOutsideViewport$$).then(function(){return $$jscomp$this$jscomp$341$$.$ga$=!1});return $vpRange$jscomp$1$$};_.$JSCompiler_prototypeAlias$$.$isLayoutSupported$=function($layout$jscomp$35$$){this.$fa$="fluid"==$layout$jscomp$35$$;this.$G$=this.$G$||this.$fa$;return this.$fa$||_.$isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$35$$)};_.$JSCompiler_prototypeAlias$$.isValidElement=function(){return _.$JSCompiler_StaticMethods_isAmpAdElement$$(this)};
_.$JSCompiler_prototypeAlias$$.$buildCallback$=function(){var $$jscomp$this$jscomp$343$$=this;_.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.$buildCallback$.call(this);$JSCompiler_StaticMethods_maybeDeprecationWarn_$$(this);$JSCompiler_StaticMethods_setPageLevelExperiments$$(this,_.$extractUrlExperimentId$$module$ads$google$a4a$traffic_experiments$$(this.$win$,this.element));this.$ma$=_.$getMode$$module$src$mode$$().localDev&&/(\?|&)force_sra=true(&|$)/.test(this.$win$.location.search)||
!!this.$win$.document.querySelector("meta[name=amp-ad-doubleclick-sra]")||["117152667","21062235"].some(function($multiSizeStr$$){return 0<=$$jscomp$this$jscomp$343$$.$S$.indexOf($multiSizeStr$$)});this.$Ga$=_.$Services$$module$src$services$viewerForDoc$$(this.$getAmpDoc$()).$D$.then(function(){return _.$getIdentityToken$$module$ads$google$a4a$utils$$($$jscomp$this$jscomp$343$$.$win$,$$jscomp$this$jscomp$343$$.$getAmpDoc$(),_.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.$getConsentPolicy$.call($$jscomp$this$jscomp$343$$))});
this.$J$.$slotId$=this.element.getAttribute("data-slot");this.$J$.$slotIndex$=this.element.getAttribute("data-amp-slot-index");if(!this.$G$){var $multiSizeStr$$=this.element.getAttribute("data-multi-size");this.$G$=!!$multiSizeStr$$&&-1!=$multiSizeStr$$.indexOf("fluid")}_.$JSCompiler_StaticMethods_maybeAddSinglePassExperiment$$(this)};_.$JSCompiler_prototypeAlias$$.$shouldPreferentialRenderWithoutCrypto$=function(){_.$isCdnProxy$$module$ads$google$a4a$utils$$(this.$win$);return!0};
_.$JSCompiler_prototypeAlias$$.$getConsentPolicy$=function(){return null};
_.$JSCompiler_prototypeAlias$$.$getAdUrl$=function($consentState$jscomp$7$$,$opt_rtcResponsesPromise$jscomp$1$$){var $$jscomp$this$jscomp$344$$=this;this.$ma$&&(this.$F$=this.$F$||new _.$Deferred$$module$src$utils$promise$$);if(4==$consentState$jscomp$7$$&&"true"!=this.element.getAttribute("data-npa-on-unknown-consent"))return _.$user$$module$src$log$$().$Log$$module$src$log_prototype$info$("amp-ad-network-doubleclick-impl","Ad request suppressed due to unknown consent"),this.$W$.resolve(""),Promise.resolve("");
if(this.iframe&&!this.$I$)return _.$dev$$module$src$log$$().$Log$$module$src$log_prototype$warn$("amp-ad-network-doubleclick-impl","Frame already exists, sra: "+this.$ma$),this.$W$.resolve(""),Promise.resolve("");$opt_rtcResponsesPromise$jscomp$1$$=$opt_rtcResponsesPromise$jscomp$1$$||Promise.resolve();$JSCompiler_StaticMethods_populateAdUrlState$$(this,$consentState$jscomp$7$$);var $startTime$jscomp$16$$=Date.now(),$identityPromise$jscomp$1$$=_.$JSCompiler_StaticMethods_timeoutPromise$$(_.$Services$$module$src$services$timerFor$$(this.$win$),
1E3,this.$Ga$).catch(function(){return{}}),$checkStillCurrent$jscomp$8$$=this.$verifyStillCurrent$();Promise.all([$opt_rtcResponsesPromise$jscomp$1$$,$identityPromise$jscomp$1$$]).then(function($opt_rtcResponsesPromise$jscomp$1$$){$checkStillCurrent$jscomp$8$$();var $identityPromise$jscomp$1$$=$JSCompiler_StaticMethods_mergeRtcResponses_$$($$jscomp$this$jscomp$344$$,$opt_rtcResponsesPromise$jscomp$1$$[0]);$$jscomp$this$jscomp$344$$.$qa$=$opt_rtcResponsesPromise$jscomp$1$$[1];_.$googleAdUrl$$module$ads$google$a4a$utils$$($$jscomp$this$jscomp$344$$,
"https://securepubads.g.doubleclick.net/gampad/ads",$startTime$jscomp$16$$,Object.assign($JSCompiler_StaticMethods_getBlockParameters_$$($$jscomp$this$jscomp$344$$),$JSCompiler_StaticMethods_buildIdentityParams$$($$jscomp$this$jscomp$344$$),$JSCompiler_StaticMethods_getPageParameters$$($$jscomp$this$jscomp$344$$,$consentState$jscomp$7$$),$identityPromise$jscomp$1$$),$$jscomp$this$jscomp$344$$.$S$).then(function($consentState$jscomp$7$$){return $$jscomp$this$jscomp$344$$.$W$.resolve($consentState$jscomp$7$$)})});
return this.$J$.$adUrl$=this.$W$.$promise$};
_.$JSCompiler_prototypeAlias$$.$getCustomRealTimeConfigMacros_$=function(){var $$jscomp$this$jscomp$346$$=this,$whitelist$jscomp$12$$={height:!0,width:!0,"data-slot":!0,"data-multi-size":!0,"data-multi-size-validation":!0,"data-override-width":!0,"data-override-height":!0};return{$PAGEVIEWID$:function(){return _.$Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$346$$.element).pageViewId},$HREF$:function(){return $$jscomp$this$jscomp$346$$.$win$.location.href},$REFERRER$:function($whitelist$jscomp$12$$){return $JSCompiler_StaticMethods_AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl_prototype$getReferrer_$$($$jscomp$this$jscomp$346$$,
$whitelist$jscomp$12$$)},$TGT$:function(){return JSON.stringify((_.$tryParseJson$$module$src$json$$($$jscomp$this$jscomp$346$$.element.getAttribute("json"))||{}).targeting)},$ADCID$:function($whitelist$jscomp$12$$){return _.$getOrCreateAdCid$$module$src$ad_cid$$($$jscomp$this$jscomp$346$$.$getAmpDoc$(),"AMP_ECID_GOOGLE","_ga",parseInt($whitelist$jscomp$12$$,10))},$ATTR$:function($name$jscomp$192$$){if($whitelist$jscomp$12$$[$name$jscomp$192$$.toLowerCase()])return $$jscomp$this$jscomp$346$$.element.getAttribute($name$jscomp$192$$);
_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$warn$("TAG","Invalid attribute "+$name$jscomp$192$$)},$CANONICAL_URL$:function(){return _.$Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$346$$.element).canonicalUrl}}};
_.$JSCompiler_prototypeAlias$$.$onNetworkFailure$=function($error$jscomp$64$$,$adUrl$jscomp$9$$){_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$info$("amp-ad-network-doubleclick-impl","network error, attempt adding of error parameter",$error$jscomp$64$$);return{$adUrl$:_.$maybeAppendErrorParameter$$module$ads$google$a4a$utils$$($adUrl$jscomp$9$$)}};
_.$JSCompiler_prototypeAlias$$.$maybeValidateAmpCreative$=function($bytes$jscomp$13$$,$checksum$jscomp$1_headers$jscomp$9$$){if("djb2a-32"!==$checksum$jscomp$1_headers$jscomp$9$$.get("AMP-Verification-Checksum-Algorithm"))return _.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.$maybeValidateAmpCreative$.call(this,$bytes$jscomp$13$$,$checksum$jscomp$1_headers$jscomp$9$$);$checksum$jscomp$1_headers$jscomp$9$$=$checksum$jscomp$1_headers$jscomp$9$$.get("AMP-Verification-Checksum");return Promise.resolve($checksum$jscomp$1_headers$jscomp$9$$&&
_.$stringHash32$$module$src$string$$(_.$utf8Decode$$module$src$utils$bytes$$($bytes$jscomp$13$$))==$checksum$jscomp$1_headers$jscomp$9$$?$bytes$jscomp$13$$:null)};
_.$JSCompiler_prototypeAlias$$.$extractSize$=function($responseHeaders$jscomp$3_token$jscomp$inline_2403$$){this.$aa$=_.$extractAmpAnalyticsConfig$$module$ads$google$a4a$utils$$($responseHeaders$jscomp$3_token$jscomp$inline_2403$$);this.$ea$=$responseHeaders$jscomp$3_token$jscomp$inline_2403$$.get("X-QQID");this.$Ca$="true"==$responseHeaders$jscomp$3_token$jscomp$inline_2403$$.get("amp-ff-sandbox");this.$J$.$creativeId$=$responseHeaders$jscomp$3_token$jscomp$inline_2403$$.get("google-creative-id")||
"-1";this.$J$.$lineItemId$=$responseHeaders$jscomp$3_token$jscomp$inline_2403$$.get("google-lineitem-id")||"-1";this.$aa$&&_.$JSCompiler_StaticMethods_installExtensionForDoc$$(this.$La$,this.$getAmpDoc$(),"amp-analytics");var $size$jscomp$25$$=_.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.$extractSize$.call(this,$responseHeaders$jscomp$3_token$jscomp$inline_2403$$);$size$jscomp$25$$?(this.$ka$=$size$jscomp$25$$,$JSCompiler_StaticMethods_AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl_prototype$handleResize_$$(this,
$size$jscomp$25$$.width,$size$jscomp$25$$.height)):$size$jscomp$25$$=$JSCompiler_StaticMethods_getSlotSize$$(this);this.$G$&&!this.$ka$&&(this.$wa$=$responseHeaders$jscomp$3_token$jscomp$inline_2403$$.get("X-AmpImps"));$responseHeaders$jscomp$3_token$jscomp$inline_2403$$.get("amp-ff-pageview-tokens")&&($JSCompiler_StaticMethods_removePageviewStateToken$$(this),$responseHeaders$jscomp$3_token$jscomp$inline_2403$$=$responseHeaders$jscomp$3_token$jscomp$inline_2403$$.get("amp-ff-pageview-tokens"),$tokensToInstances$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$[$responseHeaders$jscomp$3_token$jscomp$inline_2403$$]=
this);return $size$jscomp$25$$};_.$JSCompiler_prototypeAlias$$.$sandboxHTMLCreativeFrame$=function(){return this.$Ca$};
_.$JSCompiler_prototypeAlias$$.$tearDownSlot$=function(){_.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.$tearDownSlot$.call(this);this.element.setAttribute("data-amp-slot-index",this.$win$.$ampAdSlotIdCounter$++);this.$sa$&&(_.$removeElement$$module$src$dom$$(this.$sa$),this.$sa$=null);this.$Ba$=this.$D$=this.$aa$=null;this.$ga$=!1;this.$ea$=this.$F$=$sraRequests$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$=this.$ka$=this.$ha$=null;this.$Ca$=
!1;this.$consentState$=null;this.$W$=new _.$Deferred$$module$src$utils$promise$$;$JSCompiler_StaticMethods_removePageviewStateToken$$(this)};
_.$JSCompiler_prototypeAlias$$.$renderNonAmpCreative$=function(){var $$jscomp$this$jscomp$347$$=this;if(this.$Z$["render-idle-throttle"]&&this.$ga$){if(this.$win$["3pla"])return(_.$throttlePromise_$$module$extensions$amp_ad$0_1$concurrent_load$$||Promise.resolve()).then(function(){return _.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.$renderNonAmpCreative$.call($$jscomp$this$jscomp$347$$)});_.$incrementLoadingAds$$module$extensions$amp_ad$0_1$concurrent_load$$(this.$win$);return _.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.$renderNonAmpCreative$.call(this,
!0)}return _.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.$renderNonAmpCreative$.call(this)};_.$JSCompiler_prototypeAlias$$.$viewportCallback$=function($inViewport$jscomp$8$$){_.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.$viewportCallback$.call(this,$inViewport$jscomp$8$$);this.$Fa$&&!$inViewport$jscomp$8$$&&$JSCompiler_StaticMethods_expandFluidCreative_$$(this)};
_.$JSCompiler_prototypeAlias$$.$unlayoutCallback$=function(){this.$ra$&&$JSCompiler_StaticMethods_RefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager_prototype$unobserve$$(this.$ra$);if(!this.$ma$&&this.$Ba$)return!1;this.$la$&&(this.$la$.$destroy$(),this.$la$=null);return _.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.$unlayoutCallback$.call(this)};
_.$JSCompiler_prototypeAlias$$.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a_prototype$refresh$=function($refreshEndCallback$jscomp$1$$){this.$Ia$++;return _.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a_prototype$refresh$.call(this,$refreshEndCallback$jscomp$1$$)};
_.$JSCompiler_prototypeAlias$$.$onCreativeRender$=function($creativeMetaData$jscomp$4_size$jscomp$26$$,$opt_onLoadPromise$jscomp$1$$){var $$jscomp$this$jscomp$348$$=this;_.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.$onCreativeRender$.call(this,$creativeMetaData$jscomp$4_size$jscomp$26$$);this.$Ba$=!!$creativeMetaData$jscomp$4_size$jscomp$26$$;$creativeMetaData$jscomp$4_size$jscomp$26$$&&!$creativeMetaData$jscomp$4_size$jscomp$26$$.$customElementExtensions$.includes("amp-ad-exit")&&
_.$Navigation$$module$src$service$navigation$installAnchorClickInterceptor$$(this.$getAmpDoc$(),this.iframe.contentWindow);this.$aa$&&(_.$isReportingEnabled$$module$ads$google$a4a$utils$$(this)&&_.$addCsiSignalsToAmpAnalyticsConfig$$module$ads$google$a4a$utils$$(this.$win$,this.element,this.$aa$,this.$ea$,!!$creativeMetaData$jscomp$4_size$jscomp$26$$),this.$sa$=_.$insertAnalyticsElement$$module$src$extension_analytics$$(this.element,this.$aa$,!!this.$Z$.avr_disable_immediate));this.$I$&&($JSCompiler_StaticMethods_initiateRefreshCycle$$(this.$ra$),
this.$Ea$=this.$I$=!1);$creativeMetaData$jscomp$4_size$jscomp$26$$=this.$ka$||$JSCompiler_StaticMethods_getSlotSize$$(this);var $isMultiSizeFluid$$=this.$G$&&this.$ka$&&!(0==$creativeMetaData$jscomp$4_size$jscomp$26$$.width&&0==$creativeMetaData$jscomp$4_size$jscomp$26$$.height);_.$setStyles$$module$src$style$$(this.iframe,{width:$creativeMetaData$jscomp$4_size$jscomp$26$$.width+"px",height:$creativeMetaData$jscomp$4_size$jscomp$26$$.height+"px",position:$isMultiSizeFluid$$?"relative":null});this.$ea$&&
this.element.setAttribute("data-google-query-id",this.$ea$);this.iframe.id="google_ads_iframe_"+this.$ba$;$isMultiSizeFluid$$&&(this.element.removeAttribute("height"),_.$setStyles$$module$src$style$$(this.element,{width:$creativeMetaData$jscomp$4_size$jscomp$26$$.width+"px"}));$opt_onLoadPromise$jscomp$1$$&&$opt_onLoadPromise$jscomp$1$$.then(function(){$JSCompiler_StaticMethods_expandFluidCreative_$$($$jscomp$this$jscomp$348$$)});this.$ra$=this.$ra$||$getRefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager$$(this,
function(){return $$jscomp$this$jscomp$348$$.$ma$?(_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("amp-ad-network-doubleclick-impl","Refresh not compatible with SRA."),!1):_.$getEnclosingContainerTypes$$module$ads$google$a4a$utils$$($$jscomp$this$jscomp$348$$.element).filter(function($creativeMetaData$jscomp$4_size$jscomp$26$$){return $creativeMetaData$jscomp$4_size$jscomp$26$$!=_.$ValidAdContainerTypes$$module$ads$google$a4a$utils$$["AMP-CAROUSEL"]&&$creativeMetaData$jscomp$4_size$jscomp$26$$!=
_.$ValidAdContainerTypes$$module$ads$google$a4a$utils$$["AMP-STICKY-AD"]}).length?(_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("amp-ad-network-doubleclick-impl","Refresh not compatible with ad-containers, except for AMP-CAROUSEL and AMP-STICKY-AD"),!1):!0});$JSCompiler_StaticMethods_postTroubleshootMessage$$(this)};
_.$JSCompiler_prototypeAlias$$.$sendXhrRequest$=function($adUrl$jscomp$10$$){var $$jscomp$this$jscomp$350$$=this;if(!this.$ma$)return _.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.$sendXhrRequest$.call(this,$adUrl$jscomp$10$$);var $checkStillCurrent$jscomp$9$$=this.$verifyStillCurrent$();$JSCompiler_StaticMethods_initiateSraRequests$$(this).then(function(){$checkStillCurrent$jscomp$9$$();$$jscomp$this$jscomp$350$$.$F$||(_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$warn$("amp-ad-network-doubleclick-impl",
"SRA failed to include element "+$$jscomp$this$jscomp$350$$.$ba$),_.$isExperimentOn$$module$src$experiments$$($$jscomp$this$jscomp$350$$.$win$,"doubleclickSraReportExcludedBlock")&&$$jscomp$this$jscomp$350$$.$getAmpDoc$().$getBody$().appendChild(_.$createElementWithAttributes$$module$src$dom$$($$jscomp$this$jscomp$350$$.$win$.document,"amp-pixel",_.$dict$$module$src$utils$object$$({src:"https://pagead2.googlesyndication.com/pagead/gen_204?"+("id="+encodeURIComponent("a4a::sra")+"&ifi="+$$jscomp$this$jscomp$350$$.$ba$)}))))});
return this.$F$.$promise$.then(function($response$jscomp$45$$){$checkStillCurrent$jscomp$9$$();$$jscomp$this$jscomp$350$$.$F$=null;return $response$jscomp$45$$||_.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.$sendXhrRequest$.call($$jscomp$this$jscomp$350$$,$adUrl$jscomp$10$$)})};_.$JSCompiler_prototypeAlias$$.$getPreconnectUrls$=function(){return["https://securepubads.g.doubleclick.net/"]};
_.$JSCompiler_prototypeAlias$$.$getNonAmpCreativeRenderingMethod$=function($headerValue$jscomp$5$$){return this.$oa$||this.$G$?"safeframe":_.$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.$getNonAmpCreativeRenderingMethod$.call(this,$headerValue$jscomp$5$$)};
_.$JSCompiler_prototypeAlias$$.$getAdditionalContextMetadata$=function($JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$){if(this.$G$||(void 0===$JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$?0:$JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$)){$JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$=
this.$O$;$JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$=this.$la$=this.$la$||new $SafeframeHostApi$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$(this,this.$G$,$JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$);var $attributes$jscomp$inline_2410$$=_.$dict$$module$src$utils$object$$({});$attributes$jscomp$inline_2410$$.uid=$JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$.$U$;
$attributes$jscomp$inline_2410$$.hostPeerName=$JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$.$M$.location.origin;var $JSCompiler_inline_result$jscomp$5919_ampAdBox$jscomp$inline_6275$$=$JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$.$D$.$getPageLayoutBox$();var $heightOffset$jscomp$inline_6276$$=($JSCompiler_inline_result$jscomp$5919_ampAdBox$jscomp$inline_6275$$.height-$JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$.$G$.height)/
2,$widthOffset$jscomp$inline_6277$$=($JSCompiler_inline_result$jscomp$5919_ampAdBox$jscomp$inline_6275$$.width-$JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$.$G$.width)/2;$JSCompiler_inline_result$jscomp$5919_ampAdBox$jscomp$inline_6275$$=$JSCompiler_StaticMethods_formatGeom_$$($JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$,{top:$JSCompiler_inline_result$jscomp$5919_ampAdBox$jscomp$inline_6275$$.top+
$heightOffset$jscomp$inline_6276$$,bottom:$JSCompiler_inline_result$jscomp$5919_ampAdBox$jscomp$inline_6275$$.bottom-$heightOffset$jscomp$inline_6276$$,left:$JSCompiler_inline_result$jscomp$5919_ampAdBox$jscomp$inline_6275$$.left+$widthOffset$jscomp$inline_6277$$,right:$JSCompiler_inline_result$jscomp$5919_ampAdBox$jscomp$inline_6275$$.right-$widthOffset$jscomp$inline_6277$$,height:$JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$.$P$.height,
width:$JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$.$P$.width});$attributes$jscomp$inline_2410$$.initialGeometry=$JSCompiler_inline_result$jscomp$5919_ampAdBox$jscomp$inline_6275$$;$attributes$jscomp$inline_2410$$.permissions=JSON.stringify(_.$dict$$module$src$utils$object$$({expandByOverlay:$JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$.$W$,expandByPush:$JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$.$X$,
readCookie:!1,writeCookie:!1}));$attributes$jscomp$inline_2410$$.metadata=JSON.stringify(_.$dict$$module$src$utils$object$$({shared:{sf_ver:$JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$.$D$.$za$,ck_on:1,flash_ver:"26.0.0",canonical_url:$JSCompiler_StaticMethods_maybeGetCanonicalUrl$$($JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$),amp:{canonical_url:$JSCompiler_StaticMethods_maybeGetCanonicalUrl$$($JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$)}}}));
$attributes$jscomp$inline_2410$$.reportCreativeGeometry=$JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$.$aa$;$attributes$jscomp$inline_2410$$.isDifferentSourceWindow=!1;$attributes$jscomp$inline_2410$$.sentinel=$JSCompiler_StaticMethods_getSafeframeNameAttr$self$jscomp$inline_2409_creativeSize$jscomp$1_isSafeFrame$$.$J$;return $attributes$jscomp$inline_2410$$}};
_.$JSCompiler_prototypeAlias$$.$getA4aAnalyticsVars$=function($analyticsTrigger$jscomp$2$$){return _.$getCsiAmpAnalyticsVariables$$module$ads$google$a4a$utils$$($analyticsTrigger$jscomp$2$$,this,this.$ea$)};_.$JSCompiler_prototypeAlias$$.$getA4aAnalyticsConfig$=function(){return _.$getCsiAmpAnalyticsConfig$$module$ads$google$a4a$utils$$()};self.AMP.registerElement("amp-ad-network-doubleclick-impl",$AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$);
})});

//# sourceMappingURL=amp-ad-network-doubleclick-impl-0.1.js.map
