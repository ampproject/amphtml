(self.AMP=self.AMP||[]).push({n:"amp-next-page",i:["_base_i","_base_misc"],v:"1904281823091",f:(function(AMP,_){
var $JSCompiler_StaticMethods_PositionObserver$$module$src$service$position_observer$position_observer_impl_prototype$unobserve$$=function($JSCompiler_StaticMethods_PositionObserver$$module$src$service$position_observer$position_observer_impl_prototype$unobserve$self_JSCompiler_StaticMethods_removeWorker_$self$jscomp$inline_1994$$,$element$jscomp$248$$){for(var $i$jscomp$142$$=0;$i$jscomp$142$$<$JSCompiler_StaticMethods_PositionObserver$$module$src$service$position_observer$position_observer_impl_prototype$unobserve$self_JSCompiler_StaticMethods_removeWorker_$self$jscomp$inline_1994$$.$D$.length;$i$jscomp$142$$++)if($JSCompiler_StaticMethods_PositionObserver$$module$src$service$position_observer$position_observer_impl_prototype$unobserve$self_JSCompiler_StaticMethods_removeWorker_$self$jscomp$inline_1994$$.$D$[$i$jscomp$142$$].element==
$element$jscomp$248$$){$JSCompiler_StaticMethods_PositionObserver$$module$src$service$position_observer$position_observer_impl_prototype$unobserve$self_JSCompiler_StaticMethods_removeWorker_$self$jscomp$inline_1994$$.$D$.splice($i$jscomp$142$$,1);0==$JSCompiler_StaticMethods_PositionObserver$$module$src$service$position_observer$position_observer_impl_prototype$unobserve$self_JSCompiler_StaticMethods_removeWorker_$self$jscomp$inline_1994$$.$D$.length&&_.$JSCompiler_StaticMethods_stopCallback_$$($JSCompiler_StaticMethods_PositionObserver$$module$src$service$position_observer$position_observer_impl_prototype$unobserve$self_JSCompiler_StaticMethods_removeWorker_$self$jscomp$inline_1994$$);
return}_.$dev$$module$src$log$$().error("POSITION_OBSERVER","cannot unobserve unobserved element")},$assertConfig$$module$extensions$amp_next_page$0_1$config$$=function($context$jscomp$55$$,$config$jscomp$78$$,$documentUrl$$){$assertRecos$$module$extensions$amp_next_page$0_1$config$$($context$jscomp$55$$,$config$jscomp$78$$.$pages$,$documentUrl$$);"hideSelectors"in $config$jscomp$78$$&&$assertSelectors$$module$extensions$amp_next_page$0_1$config$$($config$jscomp$78$$.hideSelectors);return $config$jscomp$78$$},
$assertRecos$$module$extensions$amp_next_page$0_1$config$$=function($context$jscomp$56$$,$recos$$,$documentUrl$jscomp$1$$){$recos$$.forEach(function($recos$$){_.$JSCompiler_StaticMethods_assertString$$(_.$user$$module$src$log$$(),$recos$$.$ampUrl$,"ampUrl must be a string");var $reco$$=_.$getSourceUrl$$module$src$url$$($documentUrl$jscomp$1$$);$recos$$.$ampUrl$=_.$resolveRelativeUrl$$module$src$url$$($recos$$.$ampUrl$,$reco$$);var $origin$jscomp$inline_3967_urlService$jscomp$inline_3965$$=_.$Services$$module$src$services$urlForDoc$$($context$jscomp$56$$);
$reco$$=$origin$jscomp$inline_3967_urlService$jscomp$inline_3965$$.parse($recos$$.$ampUrl$);$origin$jscomp$inline_3967_urlService$jscomp$inline_3965$$=$origin$jscomp$inline_3967_urlService$jscomp$inline_3965$$.parse($documentUrl$jscomp$1$$).origin;var $sourceOrigin$jscomp$inline_3968$$=_.$getSourceOrigin$$module$src$url$$($documentUrl$jscomp$1$$);_.$JSCompiler_StaticMethods_assertString$$(_.$user$$module$src$log$$(),$recos$$.image,"image must be a string");_.$JSCompiler_StaticMethods_assertString$$(_.$user$$module$src$log$$(),
$recos$$.title,"title must be a string");$sourceOrigin$jscomp$inline_3968$$!==$origin$jscomp$inline_3967_urlService$jscomp$inline_3965$$&&$reco$$.origin===$sourceOrigin$jscomp$inline_3968$$&&($recos$$.$ampUrl$=$origin$jscomp$inline_3967_urlService$jscomp$inline_3965$$+"/c/"+("https:"===$reco$$.protocol?"s/":"")+encodeURIComponent($reco$$.host)+$reco$$.pathname+($reco$$.search||"")+($reco$$.hash||""))})},$assertSelectors$$module$extensions$amp_next_page$0_1$config$$=function($selectors$jscomp$11$$){$selectors$jscomp$11$$.forEach(function($selectors$jscomp$11$$){$BANNED_SELECTOR_PATTERNS$$module$extensions$amp_next_page$0_1$config$$.forEach(function(){_.$JSCompiler_StaticMethods_assertString$$(_.$user$$module$src$log$$(),
$selectors$jscomp$11$$,"amp-next-page hideSelector value should be a string")})})},$NextPageService$$module$extensions$amp_next_page$0_1$next_page_service$$=function(){this.$W$=this.$resources_$=this.$X$=this.$D$=this.$S$=this.$element_$=this.$F$=null;this.$H$=0;this.$M$=!1;this.$I$=this.$J$=this.$R$=null;this.$G$=[];this.$O$=null;this.$U$=function(){};this.$P$=this.$K$=null},$JSCompiler_StaticMethods_setAppendPageHandler$$=function($JSCompiler_StaticMethods_setAppendPageHandler$self$$,$handler$jscomp$51$$){$JSCompiler_StaticMethods_setAppendPageHandler$self$$.$U$=
$handler$jscomp$51$$},$JSCompiler_StaticMethods_createDefaultSeparator_$$=function($JSCompiler_StaticMethods_createDefaultSeparator_$self_separator$jscomp$2$$){$JSCompiler_StaticMethods_createDefaultSeparator_$self_separator$jscomp$2$$=$JSCompiler_StaticMethods_createDefaultSeparator_$self_separator$jscomp$2$$.$F$.document.createElement("div");$JSCompiler_StaticMethods_createDefaultSeparator_$self_separator$jscomp$2$$.classList.add("amp-next-page-default-separator");return $JSCompiler_StaticMethods_createDefaultSeparator_$self_separator$jscomp$2$$},
$JSCompiler_StaticMethods_appendNextArticle_$$=function($JSCompiler_StaticMethods_appendNextArticle_$self$$){if($JSCompiler_StaticMethods_appendNextArticle_$self$$.$H$<$JSCompiler_StaticMethods_appendNextArticle_$self$$.$D$.$pages$.length){var $next$jscomp$6$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$D$.$pages$[$JSCompiler_StaticMethods_appendNextArticle_$self$$.$H$],$documentRef$jscomp$1$$=$createDocumentRef$$module$extensions$amp_next_page$0_1$next_page_service$$($next$jscomp$6$$.$ampUrl$);
$JSCompiler_StaticMethods_appendNextArticle_$self$$.$G$.push($documentRef$jscomp$1$$);var $container$jscomp$30$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$F$.document.createElement("div"),$separator$jscomp$3$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$X$.cloneNode(!0);$separator$jscomp$3$$.removeAttribute("separator");$container$jscomp$30$$.appendChild($separator$jscomp$3$$);var $articleLinks$$=$JSCompiler_StaticMethods_createArticleLinks_$$($JSCompiler_StaticMethods_appendNextArticle_$self$$,
$JSCompiler_StaticMethods_appendNextArticle_$self$$.$H$);$container$jscomp$30$$.appendChild($articleLinks$$);$documentRef$jscomp$1$$.$recUnit$.$el$=$articleLinks$$;var $shadowRoot$jscomp$19$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$F$.document.createElement("div");$container$jscomp$30$$.appendChild($shadowRoot$jscomp$19$$);var $page$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$H$;$JSCompiler_StaticMethods_appendNextArticle_$self$$.$U$($container$jscomp$30$$).then(function(){$JSCompiler_StaticMethods_appendNextArticle_$self$$.$I$.observe($separator$jscomp$3$$,
0,function($next$jscomp$6$$){if($next$jscomp$6$$&&null===$next$jscomp$6$$.$positionRect$){var $documentRef$jscomp$1$$="";if("top"===$next$jscomp$6$$.$relativePos$){var $container$jscomp$30$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$G$[$page$$+1];$documentRef$jscomp$1$$="amp-next-page-scroll"}else"bottom"===$next$jscomp$6$$.$relativePos$&&($container$jscomp$30$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$G$[$page$$],$documentRef$jscomp$1$$="amp-next-page-scroll-back");$container$jscomp$30$$&&
$container$jscomp$30$$.amp&&(_.$triggerAnalyticsEvent$$module$src$analytics$$($JSCompiler_StaticMethods_appendNextArticle_$self$$.$element_$,$documentRef$jscomp$1$$,_.$dict$$module$src$utils$object$$({toURL:$container$jscomp$30$$.$ampUrl$,fromURL:$JSCompiler_StaticMethods_appendNextArticle_$self$$.$O$.$ampUrl$||""})),$JSCompiler_StaticMethods_appendNextArticle_$self$$.$F$.document.title=$container$jscomp$30$$.amp.title||"",$JSCompiler_StaticMethods_appendNextArticle_$self$$.$O$=$container$jscomp$30$$,
$documentRef$jscomp$1$$=$container$jscomp$30$$.amp,$next$jscomp$6$$=$documentRef$jscomp$1$$.title,$documentRef$jscomp$1$$=$documentRef$jscomp$1$$.canonicalUrl,$container$jscomp$30$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$K$.parse($container$jscomp$30$$.$ampUrl$),$JSCompiler_StaticMethods_appendNextArticle_$self$$.$P$.replace({title:$next$jscomp$6$$,url:$container$jscomp$30$$.pathname+$container$jscomp$30$$.search,canonicalUrl:$documentRef$jscomp$1$$}))}});$JSCompiler_StaticMethods_appendNextArticle_$self$$.$I$.observe($articleLinks$$,
0,function(){$documentRef$jscomp$1$$.$cancelled$=!0;$documentRef$jscomp$1$$.$recUnit$.$isObserving$&&($JSCompiler_StaticMethods_PositionObserver$$module$src$service$position_observer$position_observer_impl_prototype$unobserve$$($JSCompiler_StaticMethods_appendNextArticle_$self$$.$I$,$documentRef$jscomp$1$$.$recUnit$.$el$),$documentRef$jscomp$1$$.$recUnit$.$isObserving$=!1)})});2<=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$H$||($JSCompiler_StaticMethods_appendNextArticle_$self$$.$H$++,$JSCompiler_StaticMethods_appendNextArticle_$self$$.$S$.fetch($next$jscomp$6$$.$ampUrl$,
{ampCors:!1}).then(function($next$jscomp$6$$){$documentRef$jscomp$1$$.$ampUrl$=$next$jscomp$6$$.url;$JSCompiler_StaticMethods_appendNextArticle_$self$$.$K$.parse($next$jscomp$6$$.url);return $next$jscomp$6$$.text()}).then(function($next$jscomp$6$$){var $documentRef$jscomp$1$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$F$.document.implementation.createHTMLDocument("");$documentRef$jscomp$1$$.open();$documentRef$jscomp$1$$.write($next$jscomp$6$$);$documentRef$jscomp$1$$.close();return $documentRef$jscomp$1$$}).then(function($next$jscomp$6$$){return new Promise(function($separator$jscomp$3$$,
$page$$){$documentRef$jscomp$1$$.$cancelled$?$separator$jscomp$3$$():($documentRef$jscomp$1$$.$recUnit$.$isObserving$&&($JSCompiler_StaticMethods_PositionObserver$$module$src$service$position_observer$position_observer_impl_prototype$unobserve$$($JSCompiler_StaticMethods_appendNextArticle_$self$$.$I$,$articleLinks$$),$documentRef$jscomp$1$$.$recUnit$.$isObserving$=!0),$JSCompiler_StaticMethods_appendNextArticle_$self$$.$resources_$.$mutateElement$($container$jscomp$30$$,function(){try{if($JSCompiler_StaticMethods_appendNextArticle_$self$$.$V$)for(var $container$jscomp$30$$=
$next$jscomp$6$$.querySelectorAll($JSCompiler_StaticMethods_appendNextArticle_$self$$.$V$),$articleLinks$$=0;$articleLinks$$<$container$jscomp$30$$.length;$articleLinks$$++)$container$jscomp$30$$[$articleLinks$$].classList.add("i-amphtml-next-page-hidden");var $doc$jscomp$104$$=$next$jscomp$6$$.querySelectorAll("amp-analytics");for($container$jscomp$30$$=0;$container$jscomp$30$$<$doc$jscomp$104$$.length;$container$jscomp$30$$++)_.$removeElement$$module$src$dom$$($doc$jscomp$104$$[$container$jscomp$30$$]);
var $resolve$jscomp$69$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$W$.attachShadowDoc($shadowRoot$jscomp$19$$,$next$jscomp$6$$,"",{});_.$installStylesForDoc$$module$src$style_installer$$($resolve$jscomp$69$$.ampdoc,".amp-next-page-default-separator{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-links{border-top:1px solid rgba(0,0,0,0.12)}.amp-next-page-link{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-text{color:#3c4043;font-size:17px}.i-amphtml-next-page-document{overflow-y:hidden}.i-amphtml-next-page-document>[i-amphtml-fixedid]{display:none}.i-amphtml-next-page-hidden{display:none!important}.i-amphtml-next-page{background:#fff}.i-amphtml-next-page>[separator]{display:none}.i-amphtml-reco-holder-article{display:block;overflow:auto;padding:10px 0;text-decoration:none}.i-amphtml-next-article-image{width:72px;height:72px;float:left;margin:0 10px;background-size:cover;background-position:50%}.i-amphtml-next-article-title{position:relative;margin:5px 30px 5px 0}\n/*# sourceURL=/extensions/amp-next-page/0.1/amp-next-page.css*/",
null,!1,"amp-next-page");$resolve$jscomp$69$$.ampdoc.$getBody$().classList.add("i-amphtml-next-page-document");$documentRef$jscomp$1$$.amp=$resolve$jscomp$69$$;_.$toggle$$module$src$style$$($documentRef$jscomp$1$$.$recUnit$.$el$,!1);$JSCompiler_StaticMethods_appendNextArticle_$self$$.$M$=!1;$separator$jscomp$3$$()}catch($e$313$$){$page$$($e$313$$)}}))})},function($JSCompiler_StaticMethods_appendNextArticle_$self$$){return _.$dev$$module$src$log$$().error("amp-next-page","failed to fetch %s",$next$jscomp$6$$.$ampUrl$,
$JSCompiler_StaticMethods_appendNextArticle_$self$$)}).catch(function($JSCompiler_StaticMethods_appendNextArticle_$self$$){return _.$dev$$module$src$log$$().error("amp-next-page","failed to attach shadow document for %s",$next$jscomp$6$$.$ampUrl$,$JSCompiler_StaticMethods_appendNextArticle_$self$$)}).then(function(){return $JSCompiler_StaticMethods_NextPageService$$module$extensions$amp_next_page$0_1$next_page_service_prototype$scrollHandler_$$($JSCompiler_StaticMethods_appendNextArticle_$self$$)}))}},
$JSCompiler_StaticMethods_createArticleLinks_$$=function($JSCompiler_StaticMethods_createArticleLinks_$self$$,$nextPage$$){var $doc$jscomp$105$$=$JSCompiler_StaticMethods_createArticleLinks_$self$$.$F$.document,$currentArticle_element$jscomp$570$$=$nextPage$$-1,$article$$=$nextPage$$,$currentAmpUrl$$="";0<$nextPage$$&&($currentAmpUrl$$=$JSCompiler_StaticMethods_createArticleLinks_$self$$.$G$[$currentArticle_element$jscomp$570$$].$ampUrl$);$currentArticle_element$jscomp$570$$=$doc$jscomp$105$$.createElement("div");
$currentArticle_element$jscomp$570$$.classList.add("amp-next-page-links");for(var $$jscomp$loop$473$$={};$article$$<$JSCompiler_StaticMethods_createArticleLinks_$self$$.$D$.$pages$.length&&3>$article$$-$nextPage$$;){$$jscomp$loop$473$$.$$jscomp$loop$prop$next$474$=$JSCompiler_StaticMethods_createArticleLinks_$self$$.$D$.$pages$[$article$$];$article$$++;var $articleHolder$$=$doc$jscomp$105$$.createElement("a");$articleHolder$$.href=$$jscomp$loop$473$$.$$jscomp$loop$prop$next$474$.$ampUrl$;$articleHolder$$.classList.add("i-amphtml-reco-holder-article",
"amp-next-page-link");$articleHolder$$.addEventListener("click",function($nextPage$$){return function($doc$jscomp$105$$){_.$triggerAnalyticsEvent$$module$src$analytics$$($JSCompiler_StaticMethods_createArticleLinks_$self$$.$element_$,"amp-next-page-click",_.$dict$$module$src$utils$object$$({toURL:$nextPage$$.$$jscomp$loop$prop$next$474$.$ampUrl$,fromURL:$currentAmpUrl$$||""}));_.$JSCompiler_StaticMethods_navigateToAmpUrl$$($JSCompiler_StaticMethods_createArticleLinks_$self$$.$R$,$nextPage$$.$$jscomp$loop$prop$next$474$.$ampUrl$,
"content-discovery")&&$doc$jscomp$105$$.preventDefault()}}($$jscomp$loop$473$$));var $imageElement_titleElement$$=$doc$jscomp$105$$.createElement("div");$imageElement_titleElement$$.classList.add("i-amphtml-next-article-image","amp-next-page-image");_.$setStyle$$module$src$style$$($imageElement_titleElement$$,"background-image","url("+$$jscomp$loop$473$$.$$jscomp$loop$prop$next$474$.image+")");$articleHolder$$.appendChild($imageElement_titleElement$$);$imageElement_titleElement$$=$doc$jscomp$105$$.createElement("div");
$imageElement_titleElement$$.classList.add("i-amphtml-next-article-title","amp-next-page-text");$imageElement_titleElement$$.textContent=$$jscomp$loop$473$$.$$jscomp$loop$prop$next$474$.title;$articleHolder$$.appendChild($imageElement_titleElement$$);$currentArticle_element$jscomp$570$$.appendChild($articleHolder$$);$$jscomp$loop$473$$={$$jscomp$loop$prop$next$474$:$$jscomp$loop$473$$.$$jscomp$loop$prop$next$474$}}return $currentArticle_element$jscomp$570$$},$JSCompiler_StaticMethods_NextPageService$$module$extensions$amp_next_page$0_1$next_page_service_prototype$scrollHandler_$$=
function($JSCompiler_StaticMethods_NextPageService$$module$extensions$amp_next_page$0_1$next_page_service_prototype$scrollHandler_$self$$){if(!$JSCompiler_StaticMethods_NextPageService$$module$extensions$amp_next_page$0_1$next_page_service_prototype$scrollHandler_$self$$.$M$){var $viewportSize$jscomp$10$$=$JSCompiler_StaticMethods_NextPageService$$module$extensions$amp_next_page$0_1$next_page_service_prototype$scrollHandler_$self$$.$J$.$getSize$(),$viewportBox$jscomp$3$$=_.$layoutRectLtwh$$module$src$layout_rect$$(0,
0,$viewportSize$jscomp$10$$.width,$viewportSize$jscomp$10$$.height);_.$JSCompiler_StaticMethods_getClientRectAsync$$($JSCompiler_StaticMethods_NextPageService$$module$extensions$amp_next_page$0_1$next_page_service_prototype$scrollHandler_$self$$.$J$,$JSCompiler_StaticMethods_NextPageService$$module$extensions$amp_next_page$0_1$next_page_service_prototype$scrollHandler_$self$$.$element_$).then(function($elementBox$jscomp$1$$){!$JSCompiler_StaticMethods_NextPageService$$module$extensions$amp_next_page$0_1$next_page_service_prototype$scrollHandler_$self$$.$M$&&
$elementBox$jscomp$1$$.bottom-$viewportBox$jscomp$3$$.bottom<3*$viewportSize$jscomp$10$$.height&&($JSCompiler_StaticMethods_NextPageService$$module$extensions$amp_next_page$0_1$next_page_service_prototype$scrollHandler_$self$$.$M$=!0,$JSCompiler_StaticMethods_appendNextArticle_$$($JSCompiler_StaticMethods_NextPageService$$module$extensions$amp_next_page$0_1$next_page_service_prototype$scrollHandler_$self$$))})}},$createDocumentRef$$module$extensions$amp_next_page$0_1$next_page_service$$=function($ampUrl$$,
$title$jscomp$24$$,$canonicalUrl$jscomp$11$$){return{$ampUrl$:$ampUrl$$,amp:$title$jscomp$24$$||$canonicalUrl$jscomp$11$$?{title:$title$jscomp$24$$,canonicalUrl:$canonicalUrl$jscomp$11$$}:null,$recUnit$:{$el$:null,$isObserving$:!1},$cancelled$:!1}},$AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page$$=function($var_args$jscomp$80$$){return AMP.BaseElement.apply(this,arguments)||this},$JSCompiler_StaticMethods_AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page_prototype$getInlineConfig_$$=
function($JSCompiler_StaticMethods_AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page_prototype$getInlineConfig_$self_scriptElements$$){$JSCompiler_StaticMethods_AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page_prototype$getInlineConfig_$self_scriptElements$$=_.$childElementsByTag$$module$src$dom$$($JSCompiler_StaticMethods_AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page_prototype$getInlineConfig_$self_scriptElements$$.element,"SCRIPT");return $JSCompiler_StaticMethods_AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page_prototype$getInlineConfig_$self_scriptElements$$.length?
_.$tryParseJson$$module$src$json$$($JSCompiler_StaticMethods_AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page_prototype$getInlineConfig_$self_scriptElements$$[0].textContent,function($JSCompiler_StaticMethods_AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page_prototype$getInlineConfig_$self_scriptElements$$){_.$user$$module$src$log$$().error("amp-next-page","failed to parse config",$JSCompiler_StaticMethods_AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page_prototype$getInlineConfig_$self_scriptElements$$)}):
null},$JSCompiler_StaticMethods_fetchAdSensePages_$$=function($JSCompiler_StaticMethods_fetchAdSensePages_$self$$,$adUrl$jscomp$13_client$jscomp$3$$,$slot$jscomp$7$$,$personalized$$){$adUrl$jscomp$13_client$jscomp$3$$="https://googleads.g.doubleclick.net/pagead/ads?client="+$adUrl$jscomp$13_client$jscomp$3$$+"&slotname="+$slot$jscomp$7$$+("&url="+encodeURIComponent($JSCompiler_StaticMethods_fetchAdSensePages_$self$$.$getAmpDoc$().$AmpDoc$$module$src$service$ampdoc_impl_prototype$getUrl$()))+"&ecr=1&crui=title&is_amp=3&output=xml";
return _.$fetchDocument$$module$src$document_fetcher$$($JSCompiler_StaticMethods_fetchAdSensePages_$self$$.$win$,$adUrl$jscomp$13_client$jscomp$3$$,{credentials:$personalized$$?"include":"omit"}).then(function($adUrl$jscomp$13_client$jscomp$3$$){var $slot$jscomp$7$$=_.$Services$$module$src$services$urlForDoc$$($JSCompiler_StaticMethods_fetchAdSensePages_$self$$.element),$personalized$$=$slot$jscomp$7$$.parse($JSCompiler_StaticMethods_fetchAdSensePages_$self$$.$getAmpDoc$().$AmpDoc$$module$src$service$ampdoc_impl_prototype$getUrl$()).origin,
$ads$jscomp$1_doc$jscomp$106$$=[];$adUrl$jscomp$13_client$jscomp$3$$=$adUrl$jscomp$13_client$jscomp$3$$.getElementsByTagName("AD");for(var $i$jscomp$357$$=0;$i$jscomp$357$$<$adUrl$jscomp$13_client$jscomp$3$$.length;$i$jscomp$357$$++){var $ad$jscomp$3_url$jscomp$200$$=$adUrl$jscomp$13_client$jscomp$3$$[$i$jscomp$357$$],$title$jscomp$25_titleEl$$=$ad$jscomp$3_url$jscomp$200$$.querySelector("LINE1"),$image$jscomp$12_mediaEl$$=$ad$jscomp$3_url$jscomp$200$$.querySelector("MEDIA_TEMPLATE_DATA"),$visibleUrl$$=
$ad$jscomp$3_url$jscomp$200$$.getAttribute("visible_url");$ad$jscomp$3_url$jscomp$200$$=$ad$jscomp$3_url$jscomp$200$$.getAttribute("url");$title$jscomp$25_titleEl$$=($title$jscomp$25_titleEl$$&&$title$jscomp$25_titleEl$$.textContent||"").trim();try{var $JSCompiler_inline_result$jscomp$893$$=_.$parseJson$$module$src$json$$($image$jscomp$12_mediaEl$$.textContent.trim().slice(0,-1))[0].core_image_url}catch($e$314$jscomp$inline_3996$$){$JSCompiler_inline_result$jscomp$893$$=""}$image$jscomp$12_mediaEl$$=
$JSCompiler_inline_result$jscomp$893$$;$slot$jscomp$7$$.parse($visibleUrl$$).origin===$personalized$$&&$ad$jscomp$3_url$jscomp$200$$&&$title$jscomp$25_titleEl$$&&$image$jscomp$12_mediaEl$$&&$ads$jscomp$1_doc$jscomp$106$$.push({title:$title$jscomp$25_titleEl$$,image:$image$jscomp$12_mediaEl$$,$ampUrl$:$ad$jscomp$3_url$jscomp$200$$})}return $ads$jscomp$1_doc$jscomp$106$$})},$JSCompiler_StaticMethods_AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page_prototype$register_$$=function($JSCompiler_StaticMethods_AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page_prototype$register_$self$$,
$service$jscomp$30$$,$config$jscomp$81_configJson$jscomp$14$$,$separator$jscomp$5$$){var $element$jscomp$572$$=$JSCompiler_StaticMethods_AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page_prototype$register_$self$$.element;$config$jscomp$81_configJson$jscomp$14$$=$assertConfig$$module$extensions$amp_next_page$0_1$config$$($element$jscomp$572$$,$config$jscomp$81_configJson$jscomp$14$$,$JSCompiler_StaticMethods_AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page_prototype$register_$self$$.$getAmpDoc$().$AmpDoc$$module$src$service$ampdoc_impl_prototype$getUrl$());
$service$jscomp$30$$.register($element$jscomp$572$$,$config$jscomp$81_configJson$jscomp$14$$,$separator$jscomp$5$$);$JSCompiler_StaticMethods_setAppendPageHandler$$($service$jscomp$30$$,function($service$jscomp$30$$){return $JSCompiler_StaticMethods_appendPage_$$($JSCompiler_StaticMethods_AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page_prototype$register_$self$$,$service$jscomp$30$$)})},$JSCompiler_StaticMethods_appendPage_$$=function($JSCompiler_StaticMethods_appendPage_$self$$,$element$jscomp$574$$){return $JSCompiler_StaticMethods_appendPage_$self$$.$mutateElement$(function(){return $JSCompiler_StaticMethods_appendPage_$self$$.element.appendChild($element$jscomp$574$$)})},
$JSCompiler_StaticMethods_fetchConfig_$$=function($JSCompiler_StaticMethods_fetchConfig_$self$$){var $ampdoc$jscomp$218$$=$JSCompiler_StaticMethods_fetchConfig_$self$$.$getAmpDoc$();return _.$batchFetchJsonFor$$module$src$batched_json$$($ampdoc$jscomp$218$$,$JSCompiler_StaticMethods_fetchConfig_$self$$.element,void 0,2)},$BANNED_SELECTOR_PATTERNS$$module$extensions$amp_next_page$0_1$config$$=[/(^|\W)i-amphtml-/];$NextPageService$$module$extensions$amp_next_page$0_1$next_page_service$$.prototype.register=function($canonicalUrl$jscomp$9_element$jscomp$569$$,$config$jscomp$79$$,$separator$jscomp$1$$){var $$jscomp$this$jscomp$822$$=this;if(null===this.$D$){var $ampDoc$jscomp$25$$=_.$getAmpdoc$$module$src$service$$($canonicalUrl$jscomp$9_element$jscomp$569$$),$win$jscomp$379$$=$ampDoc$jscomp$25$$.$win$;this.$D$=$config$jscomp$79$$;this.$F$=$win$jscomp$379$$;this.$X$=$separator$jscomp$1$$||$JSCompiler_StaticMethods_createDefaultSeparator_$$(this);
this.$element_$=$canonicalUrl$jscomp$9_element$jscomp$569$$;this.$S$=_.$Services$$module$src$services$xhrFor$$($win$jscomp$379$$);this.$D$.$hideSelectors$&&(this.$V$=this.$D$.$hideSelectors$.join(","));this.$R$=_.$Services$$module$src$services$navigationForDoc$$($ampDoc$jscomp$25$$);this.$J$=_.$Services$$module$src$services$viewportForDoc$$($ampDoc$jscomp$25$$);this.$resources_$=_.$Services$$module$src$services$resourcesForDoc$$($ampDoc$jscomp$25$$);this.$W$=new _.$MultidocManager$$module$src$runtime$$($win$jscomp$379$$,
_.$Services$$module$src$services$ampdocServiceFor$$($win$jscomp$379$$),_.$Services$$module$src$services$extensionsFor$$($win$jscomp$379$$),_.$Services$$module$src$services$timerFor$$($win$jscomp$379$$));this.$K$=_.$Services$$module$src$services$urlForDoc$$(this.$element_$);this.$K$.parse($ampDoc$jscomp$25$$.$AmpDoc$$module$src$service$ampdoc_impl_prototype$getUrl$());this.$P$=_.$Services$$module$src$services$historyForDoc$$($ampDoc$jscomp$25$$);_.$installPositionObserverServiceForDoc$$module$src$service$position_observer$position_observer_impl$$($ampDoc$jscomp$25$$);
this.$I$=_.$getServiceForDoc$$module$src$service$$($ampDoc$jscomp$25$$,"position-observer");$canonicalUrl$jscomp$9_element$jscomp$569$$=_.$Services$$module$src$services$documentInfoForDoc$$($ampDoc$jscomp$25$$).canonicalUrl;this.$G$.push($createDocumentRef$$module$extensions$amp_next_page$0_1$next_page_service$$($win$jscomp$379$$.document.location.href,$win$jscomp$379$$.document.title,$canonicalUrl$jscomp$9_element$jscomp$569$$));this.$O$=this.$G$[0];_.$JSCompiler_StaticMethods_Viewport$$module$src$service$viewport$viewport_impl_prototype$onScroll$$(this.$J$,
function(){return $JSCompiler_StaticMethods_NextPageService$$module$extensions$amp_next_page$0_1$next_page_service_prototype$scrollHandler_$$($$jscomp$this$jscomp$822$$)});_.$JSCompiler_StaticMethods_Viewport$$module$src$service$viewport$viewport_impl_prototype$onResize$$(this.$J$,function(){return $JSCompiler_StaticMethods_NextPageService$$module$extensions$amp_next_page$0_1$next_page_service_prototype$scrollHandler_$$($$jscomp$this$jscomp$822$$)});$JSCompiler_StaticMethods_NextPageService$$module$extensions$amp_next_page$0_1$next_page_service_prototype$scrollHandler_$$(this)}};_.$$jscomp$inherits$$($AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page$$,AMP.BaseElement);$AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page$$.prototype.$isLayoutSupported$=function($layout$jscomp$88$$){return"container"==$layout$jscomp$88$$};
$AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page$$.prototype.$buildCallback$=function(){var $$jscomp$this$jscomp$826$$=this,$separatorElements$$=_.$scopedQuerySelectorAll$$module$src$dom$$(this.element,"> [separator]"),$separator$jscomp$4$$=null;1===$separatorElements$$.length&&($separator$jscomp$4$$=$separatorElements$$[0],_.$removeElement$$module$src$dom$$($separator$jscomp$4$$));return _.$getServicePromiseForDoc$$module$src$service$$(this.$getAmpDoc$(),"next-page").then(function($separatorElements$$){if(null===
$separatorElements$$.$D$){var $service$jscomp$29$$=$$jscomp$this$jscomp$826$$.element;$service$jscomp$29$$.classList.add("i-amphtml-next-page");var $src$jscomp$59$$=$service$jscomp$29$$.getAttribute("src"),$configPromise$jscomp$1$$,$consentPolicyId$jscomp$5_pagesPromise$$=Promise.resolve([]);if($service$jscomp$29$$.getAttribute("type")){var $client$jscomp$2$$=$service$jscomp$29$$.getAttribute("data-client"),$slot$jscomp$6$$=$service$jscomp$29$$.getAttribute("data-slot");$consentPolicyId$jscomp$5_pagesPromise$$=
$$jscomp$this$jscomp$826$$.$getConsentPolicy$();$consentPolicyId$jscomp$5_pagesPromise$$=($consentPolicyId$jscomp$5_pagesPromise$$?_.$getConsentPolicyState$$module$src$consent$$($service$jscomp$29$$,$consentPolicyId$jscomp$5_pagesPromise$$).catch(function($$jscomp$this$jscomp$826$$){_.$user$$module$src$log$$().error("amp-next-page","Error determining consent state",$$jscomp$this$jscomp$826$$);return 4}):Promise.resolve(1)).then(function($separatorElements$$){return $JSCompiler_StaticMethods_fetchAdSensePages_$$($$jscomp$this$jscomp$826$$,
$client$jscomp$2$$,$slot$jscomp$6$$,1===$separatorElements$$||3===$separatorElements$$)}).catch(function($$jscomp$this$jscomp$826$$){_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("amp-next-page","error fetching recommendations from AdSense",$$jscomp$this$jscomp$826$$);return[]})}$service$jscomp$29$$=$JSCompiler_StaticMethods_AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page_prototype$getInlineConfig_$$($$jscomp$this$jscomp$826$$);$src$jscomp$59$$?$configPromise$jscomp$1$$=
$JSCompiler_StaticMethods_fetchConfig_$$($$jscomp$this$jscomp$826$$).catch(function($$jscomp$this$jscomp$826$$){return _.$user$$module$src$log$$().error("amp-next-page","error fetching config",$$jscomp$this$jscomp$826$$)}):$configPromise$jscomp$1$$=Promise.resolve($service$jscomp$29$$);return Promise.all([$configPromise$jscomp$1$$,$consentPolicyId$jscomp$5_pagesPromise$$]).then(function($service$jscomp$29$$){var $element$jscomp$571_inlineConfig$jscomp$4$$=$service$jscomp$29$$[0]||{};$element$jscomp$571_inlineConfig$jscomp$4$$.$pages$=
($service$jscomp$29$$[1]||[]).concat($element$jscomp$571_inlineConfig$jscomp$4$$.$pages$||[]);$JSCompiler_StaticMethods_AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page_prototype$register_$$($$jscomp$this$jscomp$826$$,$separatorElements$$,$element$jscomp$571_inlineConfig$jscomp$4$$,$separator$jscomp$4$$)})}})};
(function($AMP$jscomp$86$$){var $service$jscomp$31$$=new $NextPageService$$module$extensions$amp_next_page$0_1$next_page_service$$;$AMP$jscomp$86$$.registerServiceForDoc("next-page",function(){return $service$jscomp$31$$});$AMP$jscomp$86$$.registerElement("amp-next-page",$AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page$$,".amp-next-page-default-separator{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-links{border-top:1px solid rgba(0,0,0,0.12)}.amp-next-page-link{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-text{color:#3c4043;font-size:17px}.i-amphtml-next-page-document{overflow-y:hidden}.i-amphtml-next-page-document>[i-amphtml-fixedid]{display:none}.i-amphtml-next-page-hidden{display:none!important}.i-amphtml-next-page{background:#fff}.i-amphtml-next-page>[separator]{display:none}.i-amphtml-reco-holder-article{display:block;overflow:auto;padding:10px 0;text-decoration:none}.i-amphtml-next-article-image{width:72px;height:72px;float:left;margin:0 10px;background-size:cover;background-position:50%}.i-amphtml-next-article-title{position:relative;margin:5px 30px 5px 0}\n/*# sourceURL=/extensions/amp-next-page/0.1/amp-next-page.css*/")})(self.AMP);
})});

//# sourceMappingURL=amp-next-page-0.1.js.map
