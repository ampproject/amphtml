(self.AMP=self.AMP||[]).push({n:"amp-dailymotion",i:["_base_i","_base_media"],v:"1904281823091",f:(function(AMP,_){
var $AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion$$=function($$jscomp$super$this$jscomp$37_element$jscomp$419$$){$$jscomp$super$this$jscomp$37_element$jscomp$419$$=AMP.BaseElement.call(this,$$jscomp$super$this$jscomp$37_element$jscomp$419$$)||this;$$jscomp$super$this$jscomp$37_element$jscomp$419$$.$H$="unstarted";$$jscomp$super$this$jscomp$37_element$jscomp$419$$.$J$=null;$$jscomp$super$this$jscomp$37_element$jscomp$419$$.$D$=null;$$jscomp$super$this$jscomp$37_element$jscomp$419$$.$F$=
!1;$$jscomp$super$this$jscomp$37_element$jscomp$419$$.$G$=null;$$jscomp$super$this$jscomp$37_element$jscomp$419$$.$I$=null;$$jscomp$super$this$jscomp$37_element$jscomp$419$$.$K$=null;$$jscomp$super$this$jscomp$37_element$jscomp$419$$.$M$=null;$$jscomp$super$this$jscomp$37_element$jscomp$419$$.$O$=!1;return $$jscomp$super$this$jscomp$37_element$jscomp$419$$},$JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$sendCommand_$$=function($JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$sendCommand_$self$$,
$command$jscomp$2$$,$opt_args$jscomp$15$$){$JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$sendCommand_$self$$.$G$.then(function(){if($JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$sendCommand_$self$$.$D$&&$JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$sendCommand_$self$$.$D$.contentWindow){var $message$jscomp$62$$=JSON.stringify(_.$dict$$module$src$utils$object$$({command:$command$jscomp$2$$,
parameters:$opt_args$jscomp$15$$||[]}));$JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$sendCommand_$self$$.$D$.contentWindow.postMessage($message$jscomp$62$$,"https://www.dailymotion.com")}})},$JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$getIframeSrc_$$=function($JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$getIframeSrc_$self$$){var $iframeSrc$$=
"https://www.dailymotion.com/embed/video/"+encodeURIComponent($JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$getIframeSrc_$self$$.$J$||"")+"?api=1&html=1&app=amp";"mute endscreen-enable sharing-enable start ui-highlight ui-logo info".split(" ").forEach(function($implicitParams$$){var $explicitParam$$=$JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$getIframeSrc_$self$$.element.getAttribute("data-"+
$implicitParams$$);$explicitParam$$&&($iframeSrc$$=_.$addParamToUrl$$module$src$url$$($iframeSrc$$,$implicitParams$$,$explicitParam$$))});var $implicitParams$$=_.$getDataParamsFromAttributes$$module$src$dom$$($JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$getIframeSrc_$self$$.element);return $iframeSrc$$=_.$addParamsToUrl$$module$src$url$$($iframeSrc$$,$implicitParams$$)};
_.$$jscomp$inherits$$($AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion$$,AMP.BaseElement);_.$JSCompiler_prototypeAlias$$=$AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion$$.prototype;_.$JSCompiler_prototypeAlias$$.$preconnectCallback$=function($opt_onLayout$jscomp$10$$){this.$preconnect$.url("https://www.dailymotion.com",$opt_onLayout$jscomp$10$$);this.$preconnect$.url("https://static1.dmcdn.net",$opt_onLayout$jscomp$10$$)};
_.$JSCompiler_prototypeAlias$$.$supportsPlatform$=function(){return!0};_.$JSCompiler_prototypeAlias$$.$isInteractive$=function(){return!0};_.$JSCompiler_prototypeAlias$$.$isLayoutSupported$=function($layout$jscomp$54$$){return _.$isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$54$$)};_.$JSCompiler_prototypeAlias$$.$viewportCallback$=function($visible$jscomp$7$$){this.element.$dispatchCustomEvent$(_.$VideoEvents$$module$src$video_interface$$.$VISIBILITY$,{visible:$visible$jscomp$7$$})};
_.$JSCompiler_prototypeAlias$$.$buildCallback$=function(){this.$J$=this.element.getAttribute("data-videoid");_.$installVideoManagerForDoc$$module$src$service$video_manager_impl$$(this.element);_.$Services$$module$src$services$videoManagerForDoc$$(this.element).register(this);var $bufferingDeferred_readyDeferred$jscomp$2$$=new _.$Deferred$$module$src$utils$promise$$;this.$G$=$bufferingDeferred_readyDeferred$jscomp$2$$.$promise$;this.$I$=$bufferingDeferred_readyDeferred$jscomp$2$$.resolve;$bufferingDeferred_readyDeferred$jscomp$2$$=
new _.$Deferred$$module$src$utils$promise$$;this.$K$=$bufferingDeferred_readyDeferred$jscomp$2$$.$promise$;this.$M$=$bufferingDeferred_readyDeferred$jscomp$2$$.resolve};
_.$JSCompiler_prototypeAlias$$.$layoutCallback$=function(){this.$D$=_.$createFrameFor$$module$src$iframe_video$$(this,$JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$getIframeSrc_$$(this));_.$listen$$module$src$event_helper$$(this.$win$,"message",this.$handleEvents_$.bind(this));return this.$loadPromise$(this.$D$)};
_.$JSCompiler_prototypeAlias$$.$handleEvents_$=function($data$jscomp$153_event$jscomp$115_isMuted$jscomp$1$$){if(_.$originMatches$$module$src$iframe_video$$($data$jscomp$153_event$jscomp$115_isMuted$jscomp$1$$,this.$D$,"https://www.dailymotion.com")){var $$jscomp$compprop33_eventData$jscomp$6$$=$data$jscomp$153_event$jscomp$115_isMuted$jscomp$1$$.data;if($$jscomp$compprop33_eventData$jscomp$6$$&&$data$jscomp$153_event$jscomp$115_isMuted$jscomp$1$$.type&&"message"==$data$jscomp$153_event$jscomp$115_isMuted$jscomp$1$$.type&&
($data$jscomp$153_event$jscomp$115_isMuted$jscomp$1$$=_.$parseQueryString_$$module$src$url_parse_query_string$$($$jscomp$compprop33_eventData$jscomp$6$$),void 0!==$data$jscomp$153_event$jscomp$115_isMuted$jscomp$1$$))switch($$jscomp$compprop33_eventData$jscomp$6$$={},_.$redispatch$$module$src$iframe_video$$(this.element,$data$jscomp$153_event$jscomp$115_isMuted$jscomp$1$$.event,($$jscomp$compprop33_eventData$jscomp$6$$.apiready=_.$VideoEvents$$module$src$video_interface$$.$LOAD$,$$jscomp$compprop33_eventData$jscomp$6$$.end=
[_.$VideoEvents$$module$src$video_interface$$.$ENDED$,_.$VideoEvents$$module$src$video_interface$$.$PAUSE$],$$jscomp$compprop33_eventData$jscomp$6$$.pause=_.$VideoEvents$$module$src$video_interface$$.$PAUSE$,$$jscomp$compprop33_eventData$jscomp$6$$.play=_.$VideoEvents$$module$src$video_interface$$.$PLAYING$,$$jscomp$compprop33_eventData$jscomp$6$$)),$data$jscomp$153_event$jscomp$115_isMuted$jscomp$1$$.event){case "apiready":this.$I$(!0);break;case "end":this.$H$="pause";break;case "pause":case "play":this.$H$=
$data$jscomp$153_event$jscomp$115_isMuted$jscomp$1$$.event;break;case "volumechange":$data$jscomp$153_event$jscomp$115_isMuted$jscomp$1$$=0==$data$jscomp$153_event$jscomp$115_isMuted$jscomp$1$$.volume||"true"==$data$jscomp$153_event$jscomp$115_isMuted$jscomp$1$$.muted;if("unstarted"==this.$H$||this.$F$!=$data$jscomp$153_event$jscomp$115_isMuted$jscomp$1$$)this.$F$=$data$jscomp$153_event$jscomp$115_isMuted$jscomp$1$$,this.element.$dispatchCustomEvent$(_.$mutedOrUnmutedEvent$$module$src$iframe_video$$($data$jscomp$153_event$jscomp$115_isMuted$jscomp$1$$));
break;case "progress":this.$M$(!0);break;case "fullscreenchange":this.$O$="true"==$data$jscomp$153_event$jscomp$115_isMuted$jscomp$1$$.fullscreen}}};_.$JSCompiler_prototypeAlias$$.$pauseCallback$=function(){this.pause()};
_.$JSCompiler_prototypeAlias$$.play=function($isAutoplay$$){var $$jscomp$this$jscomp$589$$=this;$JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$sendCommand_$$(this,"play");$isAutoplay$$&&"pause"!=this.$H$&&this.$K$.then(function(){$JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$sendCommand_$$($$jscomp$this$jscomp$589$$,"play")})};
_.$JSCompiler_prototypeAlias$$.pause=function(){$JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$sendCommand_$$(this,"pause")};
_.$JSCompiler_prototypeAlias$$.$mute$=function(){var $$jscomp$this$jscomp$590$$=this;$JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$sendCommand_$$(this,"muted",[!0]);this.$G$.then(function(){$$jscomp$this$jscomp$590$$.element.$dispatchCustomEvent$(_.$VideoEvents$$module$src$video_interface$$.$MUTED$);$$jscomp$this$jscomp$590$$.$F$=!0})};
_.$JSCompiler_prototypeAlias$$.$unmute$=function(){var $$jscomp$this$jscomp$591$$=this;$JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$sendCommand_$$(this,"muted",[!1]);this.$G$.then(function(){$$jscomp$this$jscomp$591$$.element.$dispatchCustomEvent$(_.$VideoEvents$$module$src$video_interface$$.$UNMUTED$);$$jscomp$this$jscomp$591$$.$F$=!1})};
_.$JSCompiler_prototypeAlias$$.$showControls$=function(){$JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$sendCommand_$$(this,"controls",[!0])};_.$JSCompiler_prototypeAlias$$.$hideControls$=function(){$JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$sendCommand_$$(this,"controls",[!1])};
_.$JSCompiler_prototypeAlias$$.$fullscreenEnter$=function(){var $platform$jscomp$11$$=_.$Services$$module$src$services$platformFor$$(this.$win$);_.$JSCompiler_StaticMethods_isSafari$$($platform$jscomp$11$$)||_.$JSCompiler_StaticMethods_isIos$$($platform$jscomp$11$$)?$JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$sendCommand_$$(this,"fullscreen",[!0]):this.$D$&&_.$fullscreenEnter$$module$src$dom$$(this.$D$)};
_.$JSCompiler_prototypeAlias$$.$fullscreenExit$=function(){var $platform$jscomp$12$$=_.$Services$$module$src$services$platformFor$$(this.$win$);_.$JSCompiler_StaticMethods_isSafari$$($platform$jscomp$12$$)||_.$JSCompiler_StaticMethods_isIos$$($platform$jscomp$12$$)?$JSCompiler_StaticMethods_AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion_prototype$sendCommand_$$(this,"fullscreen",[!1]):this.$D$&&_.$fullscreenExit$$module$src$dom$$(this.$D$)};
_.$JSCompiler_prototypeAlias$$.getMetadata=function(){};_.$JSCompiler_prototypeAlias$$.$preimplementsMediaSessionAPI$=function(){return!1};_.$JSCompiler_prototypeAlias$$.$preimplementsAutoFullscreen$=function(){return!1};_.$JSCompiler_prototypeAlias$$.$getCurrentTime$=function(){return 0};_.$JSCompiler_prototypeAlias$$.$getDuration$=function(){return 1};_.$JSCompiler_prototypeAlias$$.$getPlayedRanges$=function(){return[]};
_.$JSCompiler_prototypeAlias$$.$seekTo$=function(){this.$user$().error("amp-dailymotion","`seekTo` not supported.")};self.AMP.registerElement("amp-dailymotion",$AmpDailymotion$$module$extensions$amp_dailymotion$0_1$amp_dailymotion$$);
})});

//# sourceMappingURL=amp-dailymotion-0.1.js.map
