{"version":3,"sources":["/extensions/amp-powr-player/0.1/amp-powr-player.js","/src/event-helper.js"],"names":["constructor","element","iframe_","playing_","muted_","frameHasAmpSupport_","playerReadyPromise_","playerReadyResolver_","unlistenMessage_","playerId_","urlReplacements_","sendCommand_","command","arg","then","contentWindow","postMessage","JSON","stringify","dict","getIframeSrc_","el","account","getAttribute","video","terms","srcParams","src","addParamsToUrl","srcPrefix","customReferrer","setAttribute","expandUrlSync","getDataParamsFromAttributes","PLAYER_EVENT_MAP","VideoEvents","LOAD","PLAYING","PAUSE","ENDED","AD_START","AD_END","$jscomp.inherits","BaseElement","AmpPowrPlayer","AMP","preconnectCallback","?.prototype","preconnect","url","isLayoutSupported","layout","isLayoutSizeDefined","viewportCallback","visible","dispatchCustomEvent","VISIBILITY","buildCallback","Services$$module$src$services.urlReplacementsForDoc","deferred","Deferred","promise","resolve","layoutCallback","iframe","createFrameFor","listen","win","e","handlePlayerMessage_","source","eventData","data","isJsonOrObj","objOrParseJson","undefined","eventType","installVideoManagerForDoc","Services$$module$src$services.videoManagerForDoc","register","dev","info","TAG","redispatch","muted","mutedOrUnmutedEvent","loadPromise","mutatedAttributesCallback","mutations","playerId","pauseCallback","pause","unlayoutOnPause","unlayoutCallback","removeElement","supportsPlatform","isInteractive","play","mute","unmute","showControls","hideControls","fullscreenEnter","fullscreenExit","preimplementsAutoFullscreen","getMetadata","preimplementsMediaSessionAPI","getCurrentTime","getDuration","getPlayedRanges","seekTo","user","error","registerElement"],"mappings":"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","file":"amp-powr-player-0.1.js","sourcesContent":[]}