(self.AMP=self.AMP||[]).push({n:"amp-skimlinks",i:["_base_i","_base_misc"],v:"1904281823091",f:(function(AMP,_){
var $getNormalizedHostnameFromAnchor$$module$extensions$amp_skimlinks$0_1$utils$$=function($anchor$jscomp$17$$){return $anchor$jscomp$17$$?$anchor$jscomp$17$$.hostname.replace(/^www\./,""):""},$isExcludedDomain$$module$extensions$amp_skimlinks$0_1$utils$$=function($domain$jscomp$12$$,$excludedDomains_skimOptions$$){return($excludedDomains_skimOptions$$=$excludedDomains_skimOptions$$.$excludedDomains$)&&-1!==$excludedDomains_skimOptions$$.indexOf($domain$jscomp$12$$)},$isExcludedAnchorUrl$$module$extensions$amp_skimlinks$0_1$utils$$=
function($anchor$jscomp$18_domain$jscomp$13$$,$skimOptions$jscomp$1$$){$anchor$jscomp$18_domain$jscomp$13$$=$getNormalizedHostnameFromAnchor$$module$extensions$amp_skimlinks$0_1$utils$$($anchor$jscomp$18_domain$jscomp$13$$);return $isExcludedDomain$$module$extensions$amp_skimlinks$0_1$utils$$($anchor$jscomp$18_domain$jscomp$13$$,$skimOptions$jscomp$1$$)},$AffiliateLinkResolver$$module$extensions$amp_skimlinks$0_1$affiliate_link_resolver$$=function($xhr$jscomp$13$$,$skimOptions$jscomp$2$$,$waypoint$$){this.$I$=
$xhr$jscomp$13$$;this.$F$=$skimOptions$jscomp$2$$;this.$H$=$waypoint$$;this.$D$=_.$dict$$module$src$utils$object$$({});this.$G$=null},$JSCompiler_StaticMethods_fetchDomainResolverApi$$=function($JSCompiler_StaticMethods_fetchDomainResolverApi$self$$,$domains$jscomp$4$$){var $beaconUrl$$=$JSCompiler_StaticMethods_fetchDomainResolverApi$self$$.$F$.config.$beaconUrl$;$beaconUrl$$=$beaconUrl$$+"?data="+JSON.stringify(_.$dict$$module$src$utils$object$$({pubcode:$JSCompiler_StaticMethods_fetchDomainResolverApi$self$$.$F$.$pubcode$,
page:"",domains:$domains$jscomp$4$$}));return _.$JSCompiler_StaticMethods_fetchJson$$($JSCompiler_StaticMethods_fetchDomainResolverApi$self$$.$I$,$beaconUrl$$,{method:"GET",ampCors:!1,credentials:"include"}).then(function($JSCompiler_StaticMethods_fetchDomainResolverApi$self$$){return $JSCompiler_StaticMethods_fetchDomainResolverApi$self$$.json()})},$JSCompiler_StaticMethods_associateWithReplacementUrl_$$=function($JSCompiler_StaticMethods_associateWithReplacementUrl_$self$$,$anchorList$jscomp$3$$){return $anchorList$jscomp$3$$.map(function($anchorList$jscomp$3$$){var $anchor$jscomp$19$$=
null;var $JSCompiler_inline_result$jscomp$927_domain$jscomp$inline_4259_pubcode$jscomp$inline_4264_queryParams$jscomp$inline_4269$$=$getNormalizedHostnameFromAnchor$$module$extensions$amp_skimlinks$0_1$utils$$($anchorList$jscomp$3$$);$JSCompiler_inline_result$jscomp$927_domain$jscomp$inline_4259_pubcode$jscomp$inline_4264_queryParams$jscomp$inline_4269$$=$isExcludedDomain$$module$extensions$amp_skimlinks$0_1$utils$$($JSCompiler_inline_result$jscomp$927_domain$jscomp$inline_4259_pubcode$jscomp$inline_4264_queryParams$jscomp$inline_4269$$,
$JSCompiler_StaticMethods_associateWithReplacementUrl_$self$$.$F$)?"ignore":$JSCompiler_StaticMethods_associateWithReplacementUrl_$self$$.$D$[$JSCompiler_inline_result$jscomp$927_domain$jscomp$inline_4259_pubcode$jscomp$inline_4264_queryParams$jscomp$inline_4269$$]||"unknown";if("affiliate"===$JSCompiler_inline_result$jscomp$927_domain$jscomp$inline_4259_pubcode$jscomp$inline_4264_queryParams$jscomp$inline_4269$$||"unknown"===$JSCompiler_inline_result$jscomp$927_domain$jscomp$inline_4259_pubcode$jscomp$inline_4264_queryParams$jscomp$inline_4269$$)if($anchor$jscomp$19$$=
$JSCompiler_StaticMethods_associateWithReplacementUrl_$self$$.$H$,$anchorList$jscomp$3$$){var $$jscomp$inline_4263_guid$jscomp$inline_4267$$=$anchor$jscomp$19$$.$G$.$D$;$JSCompiler_inline_result$jscomp$927_domain$jscomp$inline_4259_pubcode$jscomp$inline_4264_queryParams$jscomp$inline_4269$$=$$jscomp$inline_4263_guid$jscomp$inline_4267$$.$pubcode$;var $pageImpressionId$jscomp$inline_4265$$=$$jscomp$inline_4263_guid$jscomp$inline_4267$$.$pageImpressionId$,$customTrackingId$jscomp$inline_4266_xcust$jscomp$inline_4268$$=
$$jscomp$inline_4263_guid$jscomp$inline_4267$$.$customTrackingId$;$$jscomp$inline_4263_guid$jscomp$inline_4267$$=$$jscomp$inline_4263_guid$jscomp$inline_4267$$.$guid$;$customTrackingId$jscomp$inline_4266_xcust$jscomp$inline_4268$$=$anchorList$jscomp$3$$.getAttribute("data-skimlinks-custom-tracking-id")||$customTrackingId$jscomp$inline_4266_xcust$jscomp$inline_4268$$;$JSCompiler_inline_result$jscomp$927_domain$jscomp$inline_4259_pubcode$jscomp$inline_4264_queryParams$jscomp$inline_4269$$=_.$dict$$module$src$utils$object$$({id:$JSCompiler_inline_result$jscomp$927_domain$jscomp$inline_4259_pubcode$jscomp$inline_4264_queryParams$jscomp$inline_4269$$,
url:$anchorList$jscomp$3$$.href,sref:$anchor$jscomp$19$$.$D$,pref:$anchor$jscomp$19$$.$H$,xguid:$$jscomp$inline_4263_guid$jscomp$inline_4267$$,xuuid:$pageImpressionId$jscomp$inline_4265$$,xtz:$anchor$jscomp$19$$.$I$,xs:"1",jv:"amp@1.0.3"});$customTrackingId$jscomp$inline_4266_xcust$jscomp$inline_4268$$&&($JSCompiler_inline_result$jscomp$927_domain$jscomp$inline_4259_pubcode$jscomp$inline_4264_queryParams$jscomp$inline_4269$$.xcust=$customTrackingId$jscomp$inline_4266_xcust$jscomp$inline_4268$$);$anchor$jscomp$19$$=
_.$addParamsToUrl$$module$src$url$$($anchor$jscomp$19$$.$F$.$waypointBaseUrl$,$JSCompiler_inline_result$jscomp$927_domain$jscomp$inline_4259_pubcode$jscomp$inline_4264_queryParams$jscomp$inline_4269$$)}else $anchor$jscomp$19$$=null;return{anchor:$anchorList$jscomp$3$$,$replacementUrl$:$anchor$jscomp$19$$}})},$JSCompiler_StaticMethods_getNewDomains_$$=function($JSCompiler_StaticMethods_getNewDomains_$self$$,$anchorList$jscomp$4$$){return $anchorList$jscomp$4$$.reduce(function($anchorList$jscomp$4$$,
$anchor$jscomp$20_domain$jscomp$15$$){$anchor$jscomp$20_domain$jscomp$15$$=$getNormalizedHostnameFromAnchor$$module$extensions$amp_skimlinks$0_1$utils$$($anchor$jscomp$20_domain$jscomp$15$$);var $acc$jscomp$8$$=$isExcludedDomain$$module$extensions$amp_skimlinks$0_1$utils$$($anchor$jscomp$20_domain$jscomp$15$$,$JSCompiler_StaticMethods_getNewDomains_$self$$.$F$),$isDuplicate$$=-1!==$anchorList$jscomp$4$$.indexOf($anchor$jscomp$20_domain$jscomp$15$$);$JSCompiler_StaticMethods_getNewDomains_$self$$.$D$[$anchor$jscomp$20_domain$jscomp$15$$]||
$acc$jscomp$8$$||$isDuplicate$$||$anchorList$jscomp$4$$.push($anchor$jscomp$20_domain$jscomp$15$$);return $anchorList$jscomp$4$$},[])},$JSCompiler_StaticMethods_markDomainsAsUnknown_$$=function($JSCompiler_StaticMethods_markDomainsAsUnknown_$self$$,$domains$jscomp$5$$){$domains$jscomp$5$$.forEach(function($domains$jscomp$5$$){$JSCompiler_StaticMethods_markDomainsAsUnknown_$self$$.$D$[$domains$jscomp$5$$]||($isExcludedDomain$$module$extensions$amp_skimlinks$0_1$utils$$($domains$jscomp$5$$,$JSCompiler_StaticMethods_markDomainsAsUnknown_$self$$.$F$)&&
($JSCompiler_StaticMethods_markDomainsAsUnknown_$self$$.$D$[$domains$jscomp$5$$]="ignore"),$JSCompiler_StaticMethods_markDomainsAsUnknown_$self$$.$D$[$domains$jscomp$5$$]="unknown")})},$JSCompiler_StaticMethods_AffiliateLinkResolver$$module$extensions$amp_skimlinks$0_1$affiliate_link_resolver_prototype$getUnknownAnchors_$$=function($anchorList$jscomp$5$$,$unknownDomains$$){return $anchorList$jscomp$5$$.filter(function($anchorList$jscomp$5$$){$anchorList$jscomp$5$$=$getNormalizedHostnameFromAnchor$$module$extensions$amp_skimlinks$0_1$utils$$($anchorList$jscomp$5$$);
return-1!==$unknownDomains$$.indexOf($anchorList$jscomp$5$$)})},$JSCompiler_StaticMethods_resolvedUnknownAnchorsAsync_$$=function($JSCompiler_StaticMethods_resolvedUnknownAnchorsAsync_$self$$,$anchorList$jscomp$6$$,$domainsToAsk$jscomp$1$$){var $promise$jscomp$57$$=$JSCompiler_StaticMethods_fetchDomainResolverApi$$($JSCompiler_StaticMethods_resolvedUnknownAnchorsAsync_$self$$,$domainsToAsk$jscomp$1$$);$JSCompiler_StaticMethods_resolvedUnknownAnchorsAsync_$self$$.$G$||($JSCompiler_StaticMethods_resolvedUnknownAnchorsAsync_$self$$.$G$=
$promise$jscomp$57$$);return $promise$jscomp$57$$.then(function($promise$jscomp$57$$){$JSCompiler_StaticMethods_updateDomainsStatusMap_$$($JSCompiler_StaticMethods_resolvedUnknownAnchorsAsync_$self$$,$domainsToAsk$jscomp$1$$,$promise$jscomp$57$$.merchant_domains||[]);return $JSCompiler_StaticMethods_associateWithReplacementUrl_$$($JSCompiler_StaticMethods_resolvedUnknownAnchorsAsync_$self$$,$anchorList$jscomp$6$$)})},$JSCompiler_StaticMethods_updateDomainsStatusMap_$$=function($JSCompiler_StaticMethods_updateDomainsStatusMap_$self$$,
$allDomains$$,$affiliateDomains$$){$allDomains$$.forEach(function($allDomains$$){$JSCompiler_StaticMethods_updateDomainsStatusMap_$self$$.$D$[$allDomains$$]=-1!==$affiliateDomains$$.indexOf($allDomains$$)?"affiliate":"non-affiliate"})},$getAmpSkimlinksOptions$$module$extensions$amp_skimlinks$0_1$skim_options$$=function($element$jscomp$605$$,$JSCompiler_temp_const$jscomp$928_docInfo$jscomp$7$$){var $JSCompiler_temp_const$jscomp$929$$=$element$jscomp$605$$.getAttribute("publisher-code"),$JSCompiler_inline_result$jscomp$930_JSCompiler_temp_const$jscomp$931_tracking$jscomp$inline_4275$$=
$getExcludedDomains_$$module$extensions$amp_skimlinks$0_1$skim_options$$,$JSCompiler_temp_const$jscomp$934_internalDomains$jscomp$inline_4272$$=[];$JSCompiler_temp_const$jscomp$928_docInfo$jscomp$7$$.canonicalUrl&&$JSCompiler_temp_const$jscomp$934_internalDomains$jscomp$inline_4272$$.push(_.$parseUrlDeprecated$$module$src$url$$($JSCompiler_temp_const$jscomp$928_docInfo$jscomp$7$$.canonicalUrl).hostname.replace(/^www\./,""));$JSCompiler_temp_const$jscomp$928_docInfo$jscomp$7$$.sourceUrl&&$JSCompiler_temp_const$jscomp$934_internalDomains$jscomp$inline_4272$$.push(_.$parseUrlDeprecated$$module$src$url$$($JSCompiler_temp_const$jscomp$928_docInfo$jscomp$7$$.sourceUrl).hostname.replace(/^www\./,
""));$JSCompiler_temp_const$jscomp$928_docInfo$jscomp$7$$=$JSCompiler_inline_result$jscomp$930_JSCompiler_temp_const$jscomp$931_tracking$jscomp$inline_4275$$($element$jscomp$605$$,$JSCompiler_temp_const$jscomp$934_internalDomains$jscomp$inline_4272$$);$JSCompiler_inline_result$jscomp$930_JSCompiler_temp_const$jscomp$931_tracking$jscomp$inline_4275$$=($JSCompiler_inline_result$jscomp$930_JSCompiler_temp_const$jscomp$931_tracking$jscomp$inline_4275$$=$element$jscomp$605$$.getAttribute("tracking"))?
"true"===$JSCompiler_inline_result$jscomp$930_JSCompiler_temp_const$jscomp$931_tracking$jscomp$inline_4275$$:!0;$JSCompiler_temp_const$jscomp$934_internalDomains$jscomp$inline_4272$$=$element$jscomp$605$$.getAttribute("custom-tracking-id");var $JSCompiler_temp_const$jscomp$933$$=$element$jscomp$605$$.getAttribute("link-selector")||null,$JSCompiler_inline_result$jscomp$936_JSCompiler_temp_const$jscomp$937_customSubDomain$jscomp$inline_4278$$;($JSCompiler_inline_result$jscomp$936_JSCompiler_temp_const$jscomp$937_customSubDomain$jscomp$inline_4278$$=
$element$jscomp$605$$.getAttribute("custom-redirect-domain"))?($JSCompiler_inline_result$jscomp$936_JSCompiler_temp_const$jscomp$937_customSubDomain$jscomp$inline_4278$$=$JSCompiler_inline_result$jscomp$936_JSCompiler_temp_const$jscomp$937_customSubDomain$jscomp$inline_4278$$.replace(/^\/\/|^https?:\/\/|\/$/g,""),$JSCompiler_inline_result$jscomp$936_JSCompiler_temp_const$jscomp$937_customSubDomain$jscomp$inline_4278$$="http://"+$JSCompiler_inline_result$jscomp$936_JSCompiler_temp_const$jscomp$937_customSubDomain$jscomp$inline_4278$$):
$JSCompiler_inline_result$jscomp$936_JSCompiler_temp_const$jscomp$937_customSubDomain$jscomp$inline_4278$$="https://go.skimresources.com";try{var $customConfigJson$jscomp$inline_4281$$=_.$getChildJsonConfig$$module$src$json$$($element$jscomp$605$$);var $JSCompiler_inline_result$jscomp$938$$={$pageTrackingUrl$:$customConfigJson$jscomp$inline_4281$$.pageTrackingUrl||$DEFAULT_CONFIG$$module$extensions$amp_skimlinks$0_1$constants$$.$pageTrackingUrl$,$linksTrackingUrl$:$customConfigJson$jscomp$inline_4281$$.linksTrackingUrl||
$DEFAULT_CONFIG$$module$extensions$amp_skimlinks$0_1$constants$$.$linksTrackingUrl$,$nonAffiliateTrackingUrl$:$customConfigJson$jscomp$inline_4281$$.nonAffiliateTrackingUrl||$DEFAULT_CONFIG$$module$extensions$amp_skimlinks$0_1$constants$$.$nonAffiliateTrackingUrl$,$beaconUrl$:$customConfigJson$jscomp$inline_4281$$.beaconUrl||$DEFAULT_CONFIG$$module$extensions$amp_skimlinks$0_1$constants$$.$beaconUrl$}}catch($err$jscomp$inline_4282$$){$JSCompiler_inline_result$jscomp$938$$=$DEFAULT_CONFIG$$module$extensions$amp_skimlinks$0_1$constants$$}return{$pubcode$:$JSCompiler_temp_const$jscomp$929$$,
$excludedDomains$:$JSCompiler_temp_const$jscomp$928_docInfo$jscomp$7$$,$tracking$:$JSCompiler_inline_result$jscomp$930_JSCompiler_temp_const$jscomp$931_tracking$jscomp$inline_4275$$,$customTrackingId$:$JSCompiler_temp_const$jscomp$934_internalDomains$jscomp$inline_4272$$,$linkSelector$:$JSCompiler_temp_const$jscomp$933$$,$waypointBaseUrl$:$JSCompiler_inline_result$jscomp$936_JSCompiler_temp_const$jscomp$937_customSubDomain$jscomp$inline_4278$$,config:$JSCompiler_inline_result$jscomp$938$$}},$getExcludedDomains_$$module$extensions$amp_skimlinks$0_1$skim_options$$=
function($element$jscomp$606_excludedDomainsAttr$$,$excludedDomains$jscomp$1_internalDomains$$){$excludedDomains$jscomp$1_internalDomains$$=[].concat($excludedDomains$jscomp$1_internalDomains$$).concat($GLOBAL_DOMAIN_BLACKLIST$$module$extensions$amp_skimlinks$0_1$constants$$);($element$jscomp$606_excludedDomainsAttr$$=$element$jscomp$606_excludedDomainsAttr$$.getAttribute("excluded-domains"))&&($excludedDomains$jscomp$1_internalDomains$$=$excludedDomains$jscomp$1_internalDomains$$.concat($element$jscomp$606_excludedDomainsAttr$$.trim().split(/\s+/).map(function($element$jscomp$606_excludedDomainsAttr$$){return $element$jscomp$606_excludedDomainsAttr$$.replace(/^www\./,
"")})));return $excludedDomains$jscomp$1_internalDomains$$},$Tracking$$module$extensions$amp_skimlinks$0_1$tracking$$=function($analyticsBuilder$jscomp$inline_4289_element$jscomp$613$$,$$jscomp$inline_4290_skimOptions$jscomp$3$$,$linksTrackingUrl$jscomp$inline_4291_referrer$jscomp$14$$){this.$H$=$$jscomp$inline_4290_skimOptions$jscomp$3$$.$tracking$;for(var $JSCompiler_temp_const$jscomp$924_nonAffiliateTrackingUrl$jscomp$inline_4292$$=$$jscomp$inline_4290_skimOptions$jscomp$3$$.$customTrackingId$,
$str$jscomp$inline_4284$$="",$i$322$jscomp$inline_4285$$=0;8>$i$322$jscomp$inline_4285$$;$i$322$jscomp$inline_4285$$++)$str$jscomp$inline_4284$$+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);this.$D$={$customTrackingId$:$JSCompiler_temp_const$jscomp$924_nonAffiliateTrackingUrl$jscomp$inline_4292$$,$guid$:null,$pageImpressionId$:$str$jscomp$inline_4284$$,$pageUrl$:"CANONICAL_URL",$pubcode$:$$jscomp$inline_4290_skimOptions$jscomp$3$$.$pubcode$,referrer:$linksTrackingUrl$jscomp$inline_4291_referrer$jscomp$14$$,
$timezone$:"TIMEZONE"};this.$G$=$$jscomp$inline_4290_skimOptions$jscomp$3$$;$analyticsBuilder$jscomp$inline_4289_element$jscomp$613$$=new _.$CustomEventReporterBuilder$$module$src$extension_analytics$$($analyticsBuilder$jscomp$inline_4289_element$jscomp$613$$);$$jscomp$inline_4290_skimOptions$jscomp$3$$=this.$G$.config;$linksTrackingUrl$jscomp$inline_4291_referrer$jscomp$14$$=$$jscomp$inline_4290_skimOptions$jscomp$3$$.$linksTrackingUrl$;$JSCompiler_temp_const$jscomp$924_nonAffiliateTrackingUrl$jscomp$inline_4292$$=
$$jscomp$inline_4290_skimOptions$jscomp$3$$.$nonAffiliateTrackingUrl$;$analyticsBuilder$jscomp$inline_4289_element$jscomp$613$$.track("page-impressions",$$jscomp$inline_4290_skimOptions$jscomp$3$$.$pageTrackingUrl$);$analyticsBuilder$jscomp$inline_4289_element$jscomp$613$$.track("link-impressions",$linksTrackingUrl$jscomp$inline_4291_referrer$jscomp$14$$);$analyticsBuilder$jscomp$inline_4289_element$jscomp$613$$.track("non-affiliate-click",$JSCompiler_temp_const$jscomp$924_nonAffiliateTrackingUrl$jscomp$inline_4292$$);
$analyticsBuilder$jscomp$inline_4289_element$jscomp$613$$.$D$.transport=_.$dict$$module$src$utils$object$$({beacon:!0,image:!0,xhrpost:!1});this.$F$=$analyticsBuilder$jscomp$inline_4289_element$jscomp$613$$.$build$()},$JSCompiler_StaticMethods_setTrackingInfo$$=function($JSCompiler_StaticMethods_setTrackingInfo$self$$,$newInfo$$){Object.assign($JSCompiler_StaticMethods_setTrackingInfo$self$$.$D$,$newInfo$$)},$JSCompiler_StaticMethods_extractAnchorTrackingInfo_$$=function($JSCompiler_StaticMethods_extractAnchorTrackingInfo_$self$$,
$anchorReplacementList$jscomp$1$$){var $numberAffiliateLinks$jscomp$3$$=0,$urls$jscomp$6$$=_.$dict$$module$src$utils$object$$({});$anchorReplacementList$jscomp$1$$.forEach(function($anchorReplacementList$jscomp$1$$){var $$jscomp$destructuring$var584_anchor$jscomp$24$$=$anchorReplacementList$jscomp$1$$.$replacementUrl$;$anchorReplacementList$jscomp$1$$=$anchorReplacementList$jscomp$1$$.anchor;var $isExcluded$jscomp$1$$=$isExcludedAnchorUrl$$module$extensions$amp_skimlinks$0_1$utils$$($anchorReplacementList$jscomp$1$$,
$JSCompiler_StaticMethods_extractAnchorTrackingInfo_$self$$.$G$);$$jscomp$destructuring$var584_anchor$jscomp$24$$&&!$isExcluded$jscomp$1$$&&($urls$jscomp$6$$[$anchorReplacementList$jscomp$1$$.href]=$urls$jscomp$6$$[$anchorReplacementList$jscomp$1$$.href]||_.$dict$$module$src$utils$object$$({ae:1,count:0}),$urls$jscomp$6$$[$anchorReplacementList$jscomp$1$$.href].count+=1,$numberAffiliateLinks$jscomp$3$$+=1)});return{$numberAffiliateLinks$:$numberAffiliateLinks$jscomp$3$$,urls:$urls$jscomp$6$$}},$Waypoint$$module$extensions$amp_skimlinks$0_1$waypoint$$=
function($ampdoc$jscomp$222$$,$skimOptions$jscomp$4$$,$tracking$jscomp$1$$,$referrer$jscomp$17$$){this.$G$=$tracking$jscomp$1$$;this.$H$=$referrer$jscomp$17$$;this.$D$=_.$Services$$module$src$services$documentInfoForDoc$$($ampdoc$jscomp$222$$).canonicalUrl;this.$I$=""+(new Date).getTimezoneOffset();this.$F$=$skimOptions$jscomp$4$$},$AmpSkimlinks$$module$extensions$amp_skimlinks$0_1$amp_skimlinks$$=function($$jscomp$super$this$jscomp$95_element$jscomp$615$$){$$jscomp$super$this$jscomp$95_element$jscomp$615$$=
AMP.BaseElement.call(this,$$jscomp$super$this$jscomp$95_element$jscomp$615$$)||this;$$jscomp$super$this$jscomp$95_element$jscomp$615$$.$O$=null;$$jscomp$super$this$jscomp$95_element$jscomp$615$$.$D$=null;$$jscomp$super$this$jscomp$95_element$jscomp$615$$.$P$=null;$$jscomp$super$this$jscomp$95_element$jscomp$615$$.$K$=null;$$jscomp$super$this$jscomp$95_element$jscomp$615$$.$J$=null;$$jscomp$super$this$jscomp$95_element$jscomp$615$$.$F$={};$$jscomp$super$this$jscomp$95_element$jscomp$615$$.$G$=null;
$$jscomp$super$this$jscomp$95_element$jscomp$615$$.$H$=null;$$jscomp$super$this$jscomp$95_element$jscomp$615$$.$M$=null;$$jscomp$super$this$jscomp$95_element$jscomp$615$$.$R$=null;$$jscomp$super$this$jscomp$95_element$jscomp$615$$.$I$=null;return $$jscomp$super$this$jscomp$95_element$jscomp$615$$},$JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$$=function($JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$){var $linkRewriter$jscomp$5$$=_.$JSCompiler_StaticMethods_registerLinkRewriter$$($JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$.$J$,
"amp-skimlinks",function($linkRewriter$jscomp$5$$){var $$jscomp$compprop50$$=$JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$.$H$,$eventHandlers$$=$JSCompiler_StaticMethods_associateWithReplacementUrl_$$($$jscomp$compprop50$$,$linkRewriter$jscomp$5$$),$anchorList$jscomp$7_unknownAnchors$jscomp$inline_4309$$=null,$domainsToAsk$jscomp$inline_4308$$=$JSCompiler_StaticMethods_getNewDomains_$$($$jscomp$compprop50$$,$linkRewriter$jscomp$5$$);$domainsToAsk$jscomp$inline_4308$$.length&&($JSCompiler_StaticMethods_markDomainsAsUnknown_$$($$jscomp$compprop50$$,
$domainsToAsk$jscomp$inline_4308$$),$linkRewriter$jscomp$5$$=$JSCompiler_StaticMethods_AffiliateLinkResolver$$module$extensions$amp_skimlinks$0_1$affiliate_link_resolver_prototype$getUnknownAnchors_$$($linkRewriter$jscomp$5$$,$domainsToAsk$jscomp$inline_4308$$),$anchorList$jscomp$7_unknownAnchors$jscomp$inline_4309$$=$JSCompiler_StaticMethods_resolvedUnknownAnchorsAsync_$$($$jscomp$compprop50$$,$linkRewriter$jscomp$5$$,$domainsToAsk$jscomp$inline_4308$$));return new _.$TwoStepsResponse$$module$extensions$amp_skimlinks$0_1$link_rewriter$two_steps_response$$($eventHandlers$$,
$anchorList$jscomp$7_unknownAnchors$jscomp$inline_4309$$)},{$linkSelector$:$JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$.$F$.$linkSelector$}),$$jscomp$compprop50$$={},$eventHandlers$$=($$jscomp$compprop50$$.PAGE_SCANNED=_.$once$$module$src$utils$function$$($JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$.$onPageScanned_$.bind($JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$)),$$jscomp$compprop50$$.CLICK=$JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$.$AmpSkimlinks$$module$extensions$amp_skimlinks$0_1$amp_skimlinks_prototype$onClick_$.bind($JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$),
$$jscomp$compprop50$$);$linkRewriter$jscomp$5$$.events.add(function($JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$){var $linkRewriter$jscomp$5$$=$eventHandlers$$[$JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$.type];$linkRewriter$jscomp$5$$&&$linkRewriter$jscomp$5$$($JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$.$eventData$)});return $linkRewriter$jscomp$5$$};var $DEFAULT_CONFIG$$module$extensions$amp_skimlinks$0_1$constants$$={$pageTrackingUrl$:"https://t.skimresources.com/api/track.php?data=${data}",$linksTrackingUrl$:"https://t.skimresources.com/api/link?data=${data}",$nonAffiliateTrackingUrl$:"https://t.skimresources.com/api/?call=track&rnd=${rnd}&data=${data}",$beaconUrl$:"https://r.skimresources.com/api"},$GLOBAL_DOMAIN_BLACKLIST$$module$extensions$amp_skimlinks$0_1$constants$$="facebook.com go.redirectingat.com go.skimresources.com instagram.com twitter.com youtube.com".split(" ");_.$$jscomp$inherits$$($AmpSkimlinks$$module$extensions$amp_skimlinks$0_1$amp_skimlinks$$,AMP.BaseElement);_.$JSCompiler_prototypeAlias$$=$AmpSkimlinks$$module$extensions$amp_skimlinks$0_1$amp_skimlinks$$.prototype;
_.$JSCompiler_prototypeAlias$$.$buildCallback$=function(){var $$jscomp$this$jscomp$899$$=this;this.$O$=_.$Services$$module$src$services$xhrFor$$(this.$win$);this.$D$=this.$getAmpDoc$();this.$P$=_.$Services$$module$src$services$documentInfoForDoc$$(this.$D$);this.$K$=_.$Services$$module$src$services$viewerForDoc$$(this.$D$);this.$J$=new _.$LinkRewriterManager$$module$extensions$amp_skimlinks$0_1$link_rewriter$link_rewriter_manager$$(this.$D$);this.$F$=$getAmpSkimlinksOptions$$module$extensions$amp_skimlinks$0_1$skim_options$$(this.element,
this.$P$);return this.$D$.$whenBodyAvailable$().then(function(){return $$jscomp$this$jscomp$899$$.$K$.$I$}).then(function($JSCompiler_inline_result$jscomp$5969_referrer$jscomp$18$$){$$jscomp$this$jscomp$899$$.$I$=$JSCompiler_inline_result$jscomp$5969_referrer$jscomp$18$$;$$jscomp$this$jscomp$899$$.signals().signal("load-start");$JSCompiler_inline_result$jscomp$5969_referrer$jscomp$18$$=new $Tracking$$module$extensions$amp_skimlinks$0_1$tracking$$($$jscomp$this$jscomp$899$$.element,$$jscomp$this$jscomp$899$$.$F$,
$$jscomp$this$jscomp$899$$.$I$);$$jscomp$this$jscomp$899$$.$G$=$JSCompiler_inline_result$jscomp$5969_referrer$jscomp$18$$;$$jscomp$this$jscomp$899$$.$M$=new $Waypoint$$module$extensions$amp_skimlinks$0_1$waypoint$$($$jscomp$this$jscomp$899$$.$D$,$$jscomp$this$jscomp$899$$.$F$,$$jscomp$this$jscomp$899$$.$G$,$$jscomp$this$jscomp$899$$.$I$);$$jscomp$this$jscomp$899$$.$H$=new $AffiliateLinkResolver$$module$extensions$amp_skimlinks$0_1$affiliate_link_resolver$$($$jscomp$this$jscomp$899$$.$O$,$$jscomp$this$jscomp$899$$.$F$,
$$jscomp$this$jscomp$899$$.$M$);$$jscomp$this$jscomp$899$$.$R$=$JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$$($$jscomp$this$jscomp$899$$)})};
_.$JSCompiler_prototypeAlias$$.$sendImpressionTracking_$=function($beaconData$$){var $$jscomp$this$jscomp$900$$=this;$JSCompiler_StaticMethods_setTrackingInfo$$(this.$G$,{$guid$:$beaconData$$.guid});_.$Services$$module$src$services$viewerForDoc$$(this.$D$).$D$.then(function(){var $beaconData$$=$$jscomp$this$jscomp$900$$.$G$,$anchorReplacementList$jscomp$inline_4297_numberAffiliateLinks$jscomp$inline_4301$$=_.$JSCompiler_StaticMethods_LinkReplacementCache$$module$extensions$amp_skimlinks$0_1$link_rewriter$link_replacement_cache_prototype$getAnchorReplacementList$$($$jscomp$this$jscomp$900$$.$R$.$D$);
if($beaconData$$.$H$){var $$jscomp$inline_4298_commonData$jscomp$inline_4299_data$jscomp$inline_6780$$=$beaconData$$.$D$;$$jscomp$inline_4298_commonData$jscomp$inline_4299_data$jscomp$inline_6780$$=_.$dict$$module$src$utils$object$$({pub:$$jscomp$inline_4298_commonData$jscomp$inline_4299_data$jscomp$inline_6780$$.$pubcode$,pag:$$jscomp$inline_4298_commonData$jscomp$inline_4299_data$jscomp$inline_6780$$.$pageUrl$,guid:$$jscomp$inline_4298_commonData$jscomp$inline_4299_data$jscomp$inline_6780$$.$guid$,
uuid:$$jscomp$inline_4298_commonData$jscomp$inline_4299_data$jscomp$inline_6780$$.$pageImpressionId$,tz:$$jscomp$inline_4298_commonData$jscomp$inline_4299_data$jscomp$inline_6780$$.$timezone$,jv:"amp@1.0.3"});var $$jscomp$inline_4300_urls$jscomp$inline_4302$$=$JSCompiler_StaticMethods_extractAnchorTrackingInfo_$$($beaconData$$,$anchorReplacementList$jscomp$inline_4297_numberAffiliateLinks$jscomp$inline_4301$$);$anchorReplacementList$jscomp$inline_4297_numberAffiliateLinks$jscomp$inline_4301$$=$$jscomp$inline_4300_urls$jscomp$inline_4302$$.$numberAffiliateLinks$;
$$jscomp$inline_4300_urls$jscomp$inline_4302$$=$$jscomp$inline_4300_urls$jscomp$inline_4302$$.urls;var $$jscomp$inline_6773_data$jscomp$inline_6774$$=$beaconData$$.$D$;$$jscomp$inline_6773_data$jscomp$inline_6774$$=Object.assign(_.$dict$$module$src$utils$object$$({slc:$anchorReplacementList$jscomp$inline_4297_numberAffiliateLinks$jscomp$inline_4301$$,jsl:0,pref:$$jscomp$inline_6773_data$jscomp$inline_6774$$.referrer,uc:$$jscomp$inline_6773_data$jscomp$inline_6774$$.$customTrackingId$,t:1}),$$jscomp$inline_4298_commonData$jscomp$inline_4299_data$jscomp$inline_6780$$);
$beaconData$$.$F$.$trigger$("page-impressions",_.$dict$$module$src$utils$object$$({data:JSON.stringify($$jscomp$inline_6773_data$jscomp$inline_6774$$)}));0!==$anchorReplacementList$jscomp$inline_4297_numberAffiliateLinks$jscomp$inline_4301$$&&($$jscomp$inline_4298_commonData$jscomp$inline_4299_data$jscomp$inline_6780$$=Object.assign(_.$dict$$module$src$utils$object$$({dl:$$jscomp$inline_4300_urls$jscomp$inline_4302$$,hae:$anchorReplacementList$jscomp$inline_4297_numberAffiliateLinks$jscomp$inline_4301$$?
1:0,typ:"l"}),$$jscomp$inline_4298_commonData$jscomp$inline_4299_data$jscomp$inline_6780$$),$beaconData$$.$F$.$trigger$("link-impressions",_.$dict$$module$src$utils$object$$({data:JSON.stringify($$jscomp$inline_4298_commonData$jscomp$inline_4299_data$jscomp$inline_6780$$)})))}})};_.$JSCompiler_prototypeAlias$$.$onPageScanned_$=function(){return(this.$H$.$G$||$JSCompiler_StaticMethods_fetchDomainResolverApi$$(this.$H$,[])).then(this.$sendImpressionTracking_$.bind(this))};
_.$JSCompiler_prototypeAlias$$.$AmpSkimlinks$$module$extensions$amp_skimlinks$0_1$amp_skimlinks_prototype$onClick_$=function($anchor$jscomp$inline_4312_data$jscomp$inline_4317_eventData$jscomp$19$$){if("amp-skimlinks"!==$anchor$jscomp$inline_4312_data$jscomp$inline_4317_eventData$jscomp$19$$.$linkRewriterId$&&"contextmenu"!==$anchor$jscomp$inline_4312_data$jscomp$inline_4317_eventData$jscomp$19$$.$clickType$){var $JSCompiler_StaticMethods_sendNaClickTracking$self$jscomp$inline_4311$$=this.$G$;$anchor$jscomp$inline_4312_data$jscomp$inline_4317_eventData$jscomp$19$$=
$anchor$jscomp$inline_4312_data$jscomp$inline_4317_eventData$jscomp$19$$.anchor;if($JSCompiler_StaticMethods_sendNaClickTracking$self$jscomp$inline_4311$$.$H$&&!$isExcludedAnchorUrl$$module$extensions$amp_skimlinks$0_1$utils$$($anchor$jscomp$inline_4312_data$jscomp$inline_4317_eventData$jscomp$19$$,$JSCompiler_StaticMethods_sendNaClickTracking$self$jscomp$inline_4311$$.$G$)){var $$jscomp$inline_4313$$=$JSCompiler_StaticMethods_sendNaClickTracking$self$jscomp$inline_4311$$.$D$,$pageImpressionId$jscomp$inline_4314$$=
$$jscomp$inline_4313$$.$pageImpressionId$,$timezone$jscomp$inline_4315$$=$$jscomp$inline_4313$$.$timezone$,$customTrackingId$jscomp$inline_4316$$=$$jscomp$inline_4313$$.$customTrackingId$;$anchor$jscomp$inline_4312_data$jscomp$inline_4317_eventData$jscomp$19$$=_.$dict$$module$src$utils$object$$({pubcode:$$jscomp$inline_4313$$.$pubcode$,referrer:$$jscomp$inline_4313$$.$pageUrl$,pref:$$jscomp$inline_4313$$.referrer,site:"false",url:$anchor$jscomp$inline_4312_data$jscomp$inline_4317_eventData$jscomp$19$$.href,
custom:$anchor$jscomp$inline_4312_data$jscomp$inline_4317_eventData$jscomp$19$$.getAttribute("data-skimlinks-custom-tracking-id")||$customTrackingId$jscomp$inline_4316$$,xtz:$timezone$jscomp$inline_4315$$,uuid:$pageImpressionId$jscomp$inline_4314$$,product:"1",jv:"amp@1.0.3"});$JSCompiler_StaticMethods_sendNaClickTracking$self$jscomp$inline_4311$$.$F$.$trigger$("non-affiliate-click",_.$dict$$module$src$utils$object$$({data:JSON.stringify($anchor$jscomp$inline_4312_data$jscomp$inline_4317_eventData$jscomp$19$$),
rnd:"RANDOM"}))}}};_.$JSCompiler_prototypeAlias$$.$isLayoutSupported$=function(){return!0};self.AMP.registerElement("amp-skimlinks",$AmpSkimlinks$$module$extensions$amp_skimlinks$0_1$amp_skimlinks$$);
})});

//# sourceMappingURL=amp-skimlinks-0.1.js.map
