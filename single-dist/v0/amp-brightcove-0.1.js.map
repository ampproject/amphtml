{"version":3,"sources":["/extensions/amp-brightcove/0.1/amp-brightcove.js","/src/event-helper.js"],"names":["constructor","element","iframe_","playing_","muted_","currentTime_","duration_","playedRanges_","hasAmpSupport_","playerReadyPromise_","playerReadyResolver_","readyTimeout_","unlistenMessage_","playerId_","urlReplacements_","sendCommand_","command","arg","then","contentWindow","postMessage","JSON","stringify","dict","getIframeSrc_","el","account","getAttribute","embed","src","encodeURIComponent","encodeId_","customReferrer","setAttribute","expandUrlSync","addParamsToUrl","getDataParamsFromAttributes","id","substring","$jscomp.inherits","BaseElement","AmpBrightcove","AMP","preconnectCallback","?.prototype","preconnect","url","isLayoutSupported","layout","isLayoutSizeDefined","viewportCallback","visible","dispatchCustomEvent","VideoEvents","VISIBILITY","buildCallback","Services$$module$src$services.urlReplacementsForDoc","deferred","Deferred","promise","resolve","Services$$module$src$services.timerFor","window","delay","user","warn","TAG","layoutCallback","iframe","createFrameFor","listen","win","e","handlePlayerMessage_","source","eventData","data","isJsonOrObj","objOrParseJson","undefined","eventType","cancel","installVideoManagerForDoc","Services$$module$src$services.videoManagerForDoc","register","dev","info","redispatch","LOAD","PLAYING","PAUSE","ENDED","AD_START","AD_END","muted","mutedOrUnmutedEvent","loadPromise","mutatedAttributesCallback","mutations","playerId","playlistId","videoId","pauseCallback","pause","unlayoutOnPause","unlayoutCallback","removeElement","supportsPlatform","isInteractive","play","mute","unmute","showControls","hideControls","fullscreenEnter","fullscreenExit","preimplementsAutoFullscreen","getMetadata","preimplementsMediaSessionAPI","getCurrentTime","getDuration","getPlayedRanges","seekTo","error","registerElement"],"mappings":"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","file":"amp-brightcove-0.1.js","sourcesContent":[]}