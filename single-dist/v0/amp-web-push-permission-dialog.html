<!doctype html>
<html>
<!-- AMP Web Push Permission Dialog -->

<head>
  <meta charset="utf-8">

  <!-- Do not edit styles in this section -->
  <style builtin>
    /* Do not edit styles in this section. Add custom styles in the next
       style section */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    /* Default loading spinner */
    .spinner,
    .spinner:after {
      border-radius: 50%;
      width: 10em;
      height: 10em;
    }
    .spinner {
      margin: 60px auto;
      font-size: 10px;
      position: relative;
      text-indent: -9999em;
      border-top: 1.1em solid rgba(140, 140, 140, 0.2);
      border-right: 1.1em solid rgba(140, 140, 140, 0.2);
      border-bottom: 1.1em solid rgba(140, 140, 140, 0.2);
      border-left: 1.1em solid rgb(140, 140, 140);
      -webkit-transform: translateZ(0);
      -ms-transform: translateZ(0);
      transform: translateZ(0);
      -webkit-animation: spinner 1.1s infinite linear;
      animation: spinner 1.1s infinite linear;
    }
    @-webkit-keyframes spinner {
      0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
      }
      100% {
        -webkit-transform: rotate(360deg);
        transform: rotate(360deg);
      }
    }
    @keyframes spinner {
      0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
      }
      100% {
        -webkit-transform: rotate(360deg);
        transform: rotate(360deg);
      }
    }

    /* Horizontally and vertically center items */
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 15px;
    }

    /* Page message text styles */
    .message {
      font-size: 22px;
      font-family: sans-serif;
      text-align: center;
    }

    /* Close icon styles */
    #close {
      position: fixed;
      right: 32px;
      top: 32px;
      width: 32px;
      height: 32px;
      opacity: 0.5;
      cursor: pointer;
    }
    #close:before, #close:after {
      position: fixed;
      right: 48px;
      content: ' ';
      height: 33px;
      width: 3px;
      background-color: #333;
    }
    #close:before {
      transform: rotate(45deg);
    }
    #close:after {
      transform: rotate(-45deg);
    }

    /* Used to hide the preload and postload sections */
    .invisible {
      display: none;
    }
  </style>

  <!-- Optional: Add custom styles here -->
  <style custom>
    /* Add custom styles here */
  </style>
</head>
<body>
  <div id="preload">
    <!-- Anything in this section will be shown before the main script
          runs, and will be hidden after -->
    <div class="spinner"></div>
  </div>
  <div id="postload" class="invisible">
    <span id="close"></span>
    <div permission="default">
      <p class="message">
        <!--
        Customize the subscribing message here
            (e.g. "Click Allow to receive notifications")
        -->
        Click Allow to receive notifications.
      </p>
    </div>
    <div permission="denied">
      <!--
        Customize the unblocking message here
            (e.g. "Please unblock notifications in your browser settings
                    to receive notifications from this website.")
        -->
      <p class="message">
        Please unblock notifications in your browser settings to receive notifications from this website.
      </p>
    </div>
  </div>
  <script>(function(){var $JSCompiler_prototypeAlias$,$jscomp$global$=function($maybeGlobal$){return"undefined"!=typeof window&&window===$maybeGlobal$?$maybeGlobal$:"undefined"!=typeof global&&null!=global?global:$maybeGlobal$}(this);function $tryDecodeUriComponent_$module$src$url_try_decode_uri_component$($component$jscomp$4$,$fallback$){$fallback$=void 0===$fallback$?"":$fallback$;try{return decodeURIComponent($component$jscomp$4$)}catch($e$jscomp$7$){return $fallback$}};var $regex$module$src$url_parse_query_string$=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;
function $parseQueryString_$module$src$url_parse_query_string$($queryString$){var $params$jscomp$1$=Object.create(null);if(!$queryString$)return $params$jscomp$1$;for(var $match$;$match$=$regex$module$src$url_parse_query_string$.exec($queryString$);){var $name$jscomp$70$=$tryDecodeUriComponent_$module$src$url_try_decode_uri_component$($match$[1],$match$[1]),$value$jscomp$86$=$match$[2]?$tryDecodeUriComponent_$module$src$url_try_decode_uri_component$($match$[2],$match$[2]):"";
$params$jscomp$1$[$name$jscomp$70$]=$value$jscomp$86$}return $params$jscomp$1$};var $rtvVersion$module$src$mode$="";
function $getMode$module$src$mode$(){var $opt_win$,$win$=$opt_win$||self;if($win$.AMP_MODE)var $JSCompiler_temp$jscomp$8_JSCompiler_win$jscomp$inline_13$=$win$.AMP_MODE;else{$JSCompiler_temp$jscomp$8_JSCompiler_win$jscomp$inline_13$=$win$;var $JSCompiler_AMP_CONFIG$jscomp$inline_14_JSCompiler_singlePassType$jscomp$inline_21$=self.AMP_CONFIG||{},$JSCompiler_runningTests$jscomp$inline_18$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_14_JSCompiler_singlePassType$jscomp$inline_21$.test||!(!$JSCompiler_temp$jscomp$8_JSCompiler_win$jscomp$inline_13$.AMP_TEST&&
!$JSCompiler_temp$jscomp$8_JSCompiler_win$jscomp$inline_13$.__karma__),$JSCompiler_isLocalDev$jscomp$inline_19$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_14_JSCompiler_singlePassType$jscomp$inline_21$.localDev||$JSCompiler_runningTests$jscomp$inline_18$,$JSCompiler_hashQuery$jscomp$inline_20$=$parseQueryString_$module$src$url_parse_query_string$($JSCompiler_temp$jscomp$8_JSCompiler_win$jscomp$inline_13$.location.originalHash||$JSCompiler_temp$jscomp$8_JSCompiler_win$jscomp$inline_13$.location.hash);
$JSCompiler_AMP_CONFIG$jscomp$inline_14_JSCompiler_singlePassType$jscomp$inline_21$=$JSCompiler_AMP_CONFIG$jscomp$inline_14_JSCompiler_singlePassType$jscomp$inline_21$.spt;var $JSCompiler_searchQuery$jscomp$inline_22$=$parseQueryString_$module$src$url_parse_query_string$($JSCompiler_temp$jscomp$8_JSCompiler_win$jscomp$inline_13$.location.search);$rtvVersion$module$src$mode$||($rtvVersion$module$src$mode$=$JSCompiler_isLocalDev$jscomp$inline_19$?"1904281823091":$JSCompiler_temp$jscomp$8_JSCompiler_win$jscomp$inline_13$.AMP_CONFIG&&
$JSCompiler_temp$jscomp$8_JSCompiler_win$jscomp$inline_13$.AMP_CONFIG.v?$JSCompiler_temp$jscomp$8_JSCompiler_win$jscomp$inline_13$.AMP_CONFIG.v:"011904281823091");$JSCompiler_temp$jscomp$8_JSCompiler_win$jscomp$inline_13$=$win$.AMP_MODE={localDev:$JSCompiler_isLocalDev$jscomp$inline_19$,development:!("1"!=$JSCompiler_hashQuery$jscomp$inline_20$.development&&!$JSCompiler_temp$jscomp$8_JSCompiler_win$jscomp$inline_13$.AMP_DEV_MODE),examiner:"2"==$JSCompiler_hashQuery$jscomp$inline_20$.development,
filter:$JSCompiler_hashQuery$jscomp$inline_20$.filter,geoOverride:$JSCompiler_hashQuery$jscomp$inline_20$["amp-geo"],minified:!0,lite:void 0!=$JSCompiler_searchQuery$jscomp$inline_22$.amp_lite,test:$JSCompiler_runningTests$jscomp$inline_18$,log:$JSCompiler_hashQuery$jscomp$inline_20$.log,version:"1904281823091",rtvVersion:$rtvVersion$module$src$mode$,singlePassType:$JSCompiler_AMP_CONFIG$jscomp$inline_14_JSCompiler_singlePassType$jscomp$inline_21$}}return $JSCompiler_temp$jscomp$8_JSCompiler_win$jscomp$inline_13$}
;self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$module$src$log$=self.log;function $LruCache$module$src$utils$lru_cache$(){var $capacity$=100;this.$capacity_$=$capacity$;this.$access_$=this.$size_$=0;this.$cache_$=Object.create(null)}$LruCache$module$src$utils$lru_cache$.prototype.has=function($key$jscomp$37$){return!!this.$cache_$[$key$jscomp$37$]};$LruCache$module$src$utils$lru_cache$.prototype.get=function($key$jscomp$38$){var $cacheable$=this.$cache_$[$key$jscomp$38$];if($cacheable$)return $cacheable$.access=++this.$access_$,$cacheable$.payload};
$LruCache$module$src$utils$lru_cache$.prototype.put=function($JSCompiler_cache$jscomp$inline_25_JSCompiler_inline_result$jscomp$56_key$jscomp$39$,$payload$){this.has($JSCompiler_cache$jscomp$inline_25_JSCompiler_inline_result$jscomp$56_key$jscomp$39$)||this.$size_$++;this.$cache_$[$JSCompiler_cache$jscomp$inline_25_JSCompiler_inline_result$jscomp$56_key$jscomp$39$]={payload:$payload$,access:this.$access_$};if(!(this.$size_$<=this.$capacity_$)){if($logs$module$src$log$.dev)$JSCompiler_cache$jscomp$inline_25_JSCompiler_inline_result$jscomp$56_key$jscomp$39$=
$logs$module$src$log$.dev;else throw Error("failed to call initLogConstructor");$JSCompiler_cache$jscomp$inline_25_JSCompiler_inline_result$jscomp$56_key$jscomp$39$.warn("lru-cache","Trimming LRU cache");$JSCompiler_cache$jscomp$inline_25_JSCompiler_inline_result$jscomp$56_key$jscomp$39$=this.$cache_$;var $JSCompiler_oldest$jscomp$inline_26$=this.$access_$+1,$JSCompiler_key$jscomp$inline_28$;for($JSCompiler_key$jscomp$inline_28$ in $JSCompiler_cache$jscomp$inline_25_JSCompiler_inline_result$jscomp$56_key$jscomp$39$){var $JSCompiler_access$jscomp$inline_29$=
$JSCompiler_cache$jscomp$inline_25_JSCompiler_inline_result$jscomp$56_key$jscomp$39$[$JSCompiler_key$jscomp$inline_28$].access;if($JSCompiler_access$jscomp$inline_29$<$JSCompiler_oldest$jscomp$inline_26$){$JSCompiler_oldest$jscomp$inline_26$=$JSCompiler_access$jscomp$inline_29$;var $JSCompiler_oldestKey$jscomp$inline_27$=$JSCompiler_key$jscomp$inline_28$}}void 0!==$JSCompiler_oldestKey$jscomp$inline_27$&&(delete $JSCompiler_cache$jscomp$inline_25_JSCompiler_inline_result$jscomp$56_key$jscomp$39$[$JSCompiler_oldestKey$jscomp$inline_27$],
this.$size_$--)}};(function($opt_initial$jscomp$1$){return $opt_initial$jscomp$1$||{}})({c:!0,v:!0,a:!0,ad:!0,action:!0});var $a$module$src$url$,$cache$module$src$url$;
function $parseUrlDeprecated$module$src$url$($JSCompiler_inline_result$jscomp$10_url$jscomp$21$){var $opt_nocache$;$a$module$src$url$||($a$module$src$url$=self.document.createElement("a"),$cache$module$src$url$=self.UrlCache||(self.UrlCache=new $LruCache$module$src$utils$lru_cache$));var $JSCompiler_opt_cache$jscomp$inline_32$=$opt_nocache$?null:$cache$module$src$url$,$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$=$a$module$src$url$;if($JSCompiler_opt_cache$jscomp$inline_32$&&
$JSCompiler_opt_cache$jscomp$inline_32$.has($JSCompiler_inline_result$jscomp$10_url$jscomp$21$))$JSCompiler_inline_result$jscomp$10_url$jscomp$21$=$JSCompiler_opt_cache$jscomp$inline_32$.get($JSCompiler_inline_result$jscomp$10_url$jscomp$21$);else{$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$.href=$JSCompiler_inline_result$jscomp$10_url$jscomp$21$;$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$.protocol||($JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$.href=
$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$.href);var $JSCompiler_info$jscomp$inline_34$={href:$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$.href,protocol:$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$.protocol,host:$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$.host,hostname:$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$.hostname,port:"0"==$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$.port?
"":$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$.port,pathname:$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$.pathname,search:$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$.search,hash:$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$.hash,origin:null};"/"!==$JSCompiler_info$jscomp$inline_34$.pathname[0]&&($JSCompiler_info$jscomp$inline_34$.pathname="/"+$JSCompiler_info$jscomp$inline_34$.pathname);if("http:"==$JSCompiler_info$jscomp$inline_34$.protocol&&
80==$JSCompiler_info$jscomp$inline_34$.port||"https:"==$JSCompiler_info$jscomp$inline_34$.protocol&&443==$JSCompiler_info$jscomp$inline_34$.port)$JSCompiler_info$jscomp$inline_34$.port="",$JSCompiler_info$jscomp$inline_34$.host=$JSCompiler_info$jscomp$inline_34$.hostname;$JSCompiler_info$jscomp$inline_34$.origin=$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$.origin&&"null"!=$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$.origin?$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$.origin:
"data:"!=$JSCompiler_info$jscomp$inline_34$.protocol&&$JSCompiler_info$jscomp$inline_34$.host?$JSCompiler_info$jscomp$inline_34$.protocol+"//"+$JSCompiler_info$jscomp$inline_34$.host:$JSCompiler_info$jscomp$inline_34$.href;$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$=$getMode$module$src$mode$().test&&Object.freeze?Object.freeze($JSCompiler_info$jscomp$inline_34$):$JSCompiler_info$jscomp$inline_34$;$JSCompiler_opt_cache$jscomp$inline_32$&&$JSCompiler_opt_cache$jscomp$inline_32$.put($JSCompiler_inline_result$jscomp$10_url$jscomp$21$,
$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$);$JSCompiler_inline_result$jscomp$10_url$jscomp$21$=$JSCompiler_a$jscomp$inline_33_JSCompiler_frozen$jscomp$inline_35$}return $JSCompiler_inline_result$jscomp$10_url$jscomp$21$};function $WindowMessenger$module$build$all$amp_web_push_0_1$window_messenger$($options$jscomp$15$){$options$jscomp$15$||($options$jscomp$15$={debug:!1,windowContext:window});this.$messages_$={};this.$listeners_$={};this.$debug_$=$options$jscomp$15$.debug;this.$connected_$=this.$connecting_$=this.$listening_$=!1;this.$onChannelMessageReceivedProc_$=this.$onConnectConnectionMessageReceivedProc_$=this.$onListenConnectionMessageReceivedProc_$=this.$messagePort_$=this.$channel_$=null;this.$window_$=
$options$jscomp$15$.windowContext||window}$JSCompiler_prototypeAlias$=$WindowMessenger$module$build$all$amp_web_push_0_1$window_messenger$.prototype;
$JSCompiler_prototypeAlias$.listen=function($allowedOrigins$){var $jscomp$this$=this;return(new Promise(function($resolve$jscomp$2$,$reject$jscomp$1$){$jscomp$this$.$connected_$?$reject$jscomp$1$(Error("Already connected.")):$jscomp$this$.$listening_$?$reject$jscomp$1$(Error("Already listening for connections.")):Array.isArray($allowedOrigins$)?($jscomp$this$.$onListenConnectionMessageReceivedProc_$=$jscomp$this$.$onListenConnectionMessageReceived_$.bind($jscomp$this$,$allowedOrigins$,
$resolve$jscomp$2$,$reject$jscomp$1$),$jscomp$this$.$window_$.addEventListener("message",$jscomp$this$.$onListenConnectionMessageReceivedProc_$)):$reject$jscomp$1$(Error("allowedOrigins should be a string array of allowed origins to accept messages from. Got:",$allowedOrigins$))})).then(function(){$jscomp$this$.send($WindowMessenger$module$build$all$amp_web_push_0_1$window_messenger$.Topics.CONNECT_HANDSHAKE,null);$jscomp$this$.$connected_$=!0})};
$JSCompiler_prototypeAlias$.$onListenConnectionMessageReceived_$=function($JSCompiler_inline_result$jscomp$12_allowedOrigins$jscomp$2$,$resolvePromise$,$rejectPromise$,$messageChannelEvent$){var $message$jscomp$30$=$messageChannelEvent$.data,$jscomp$destructuring$var5_JSCompiler_normalizedOrigin$jscomp$inline_40$=$messageChannelEvent$,$messagePorts$=$jscomp$destructuring$var5_JSCompiler_normalizedOrigin$jscomp$inline_40$.ports;a:{$jscomp$destructuring$var5_JSCompiler_normalizedOrigin$jscomp$inline_40$=
$parseUrlDeprecated$module$src$url$($jscomp$destructuring$var5_JSCompiler_normalizedOrigin$jscomp$inline_40$.origin).origin;for(var $JSCompiler_i$jscomp$inline_41$=0;$JSCompiler_i$jscomp$inline_41$<$JSCompiler_inline_result$jscomp$12_allowedOrigins$jscomp$2$.length;$JSCompiler_i$jscomp$inline_41$++)if($parseUrlDeprecated$module$src$url$($JSCompiler_inline_result$jscomp$12_allowedOrigins$jscomp$2$[$JSCompiler_i$jscomp$inline_41$]).origin===$jscomp$destructuring$var5_JSCompiler_normalizedOrigin$jscomp$inline_40$){$JSCompiler_inline_result$jscomp$12_allowedOrigins$jscomp$2$=
!0;break a}$JSCompiler_inline_result$jscomp$12_allowedOrigins$jscomp$2$=!1}$JSCompiler_inline_result$jscomp$12_allowedOrigins$jscomp$2$&&$message$jscomp$30$&&$message$jscomp$30$.topic===$WindowMessenger$module$build$all$amp_web_push_0_1$window_messenger$.Topics.CONNECT_HANDSHAKE&&(this.$window_$.removeEventListener("message",this.$onListenConnectionMessageReceivedProc_$),this.$messagePort_$=$messagePorts$[0],this.$onChannelMessageReceivedProc_$=this.$onChannelMessageReceived_$.bind(this),this.$messagePort_$.addEventListener("message",
this.$onChannelMessageReceivedProc_$,!1),this.$messagePort_$.start(),$resolvePromise$())};
$JSCompiler_prototypeAlias$.connect=function($remoteWindowContext$,$expectedRemoteOrigin$){var $jscomp$this$jscomp$1$=this;return new Promise(function($resolve$jscomp$3$,$reject$jscomp$2$){$remoteWindowContext$||$reject$jscomp$2$(Error("Provide a valid Window context to connect to."));$expectedRemoteOrigin$||$reject$jscomp$2$(Error("Provide an expected origin for the remote Window or provide the wildcard *."));$jscomp$this$jscomp$1$.$connected_$?$reject$jscomp$2$(Error("Already connected.")):
$jscomp$this$jscomp$1$.$connecting_$?$reject$jscomp$2$(Error("Already connecting.")):($jscomp$this$jscomp$1$.$channel_$=new MessageChannel,$jscomp$this$jscomp$1$.$messagePort_$=$jscomp$this$jscomp$1$.$channel_$.port1,$jscomp$this$jscomp$1$.$onConnectConnectionMessageReceivedProc_$=$jscomp$this$jscomp$1$.$onConnectConnectionMessageReceived_$.bind($jscomp$this$jscomp$1$,$jscomp$this$jscomp$1$.$messagePort_$,$expectedRemoteOrigin$,$resolve$jscomp$3$),$jscomp$this$jscomp$1$.$messagePort_$.addEventListener("message",
$jscomp$this$jscomp$1$.$onConnectConnectionMessageReceivedProc_$),$jscomp$this$jscomp$1$.$messagePort_$.start(),$remoteWindowContext$.postMessage({topic:$WindowMessenger$module$build$all$amp_web_push_0_1$window_messenger$.Topics.CONNECT_HANDSHAKE},"*"===$expectedRemoteOrigin$?"*":$parseUrlDeprecated$module$src$url$($expectedRemoteOrigin$).origin,[$jscomp$this$jscomp$1$.$channel_$.port2]))})};
$JSCompiler_prototypeAlias$.$onConnectConnectionMessageReceived_$=function($messagePort$,$expectedRemoteOrigin$jscomp$1$,$resolvePromise$jscomp$1$){this.$connected_$=!0;$messagePort$.removeEventListener("message",this.$onConnectConnectionMessageReceivedProc_$);this.$onChannelMessageReceivedProc_$=this.$onChannelMessageReceived_$.bind(this);$messagePort$.addEventListener("message",this.$onChannelMessageReceivedProc_$,!1);$resolvePromise$jscomp$1$()};
$JSCompiler_prototypeAlias$.$onChannelMessageReceived_$=function($event$jscomp$9_message$jscomp$31$){$event$jscomp$9_message$jscomp$31$=$event$jscomp$9_message$jscomp$31$.data;if(this.$messages_$[$event$jscomp$9_message$jscomp$31$.id]&&$event$jscomp$9_message$jscomp$31$.isReply){var $existingMessage$=this.$messages_$[$event$jscomp$9_message$jscomp$31$.id];delete this.$messages_$[$event$jscomp$9_message$jscomp$31$.id];var $promiseResolver$=$existingMessage$.promiseResolver;$existingMessage$.message=
$event$jscomp$9_message$jscomp$31$.data;$promiseResolver$([$event$jscomp$9_message$jscomp$31$.data,this.$sendReply_$.bind(this,$event$jscomp$9_message$jscomp$31$.id,$existingMessage$.topic)])}else{var $listeners$=this.$listeners_$[$event$jscomp$9_message$jscomp$31$.topic];if($listeners$)for(var $i$jscomp$10$=0;$i$jscomp$10$<$listeners$.length;$i$jscomp$10$++)(0,$listeners$[$i$jscomp$10$])($event$jscomp$9_message$jscomp$31$.data,this.$sendReply_$.bind(this,$event$jscomp$9_message$jscomp$31$.id,
$event$jscomp$9_message$jscomp$31$.topic))}};$JSCompiler_prototypeAlias$.on=function($topic$,$callback$jscomp$55$){this.$listeners_$[$topic$]?this.$listeners_$[$topic$].push($callback$jscomp$55$):this.$listeners_$[$topic$]=[$callback$jscomp$55$]};
$JSCompiler_prototypeAlias$.off=function($topic$jscomp$1$,$callback$jscomp$56$){if($callback$jscomp$56$){var $callbackIndex$=this.$listeners_$[$topic$jscomp$1$].indexOf($callback$jscomp$56$);-1!==$callbackIndex$&&this.$listeners_$[$topic$jscomp$1$].splice($callbackIndex$,1)}else this.$listeners_$[$topic$jscomp$1$]&&delete this.$listeners_$[$topic$jscomp$1$]};
$JSCompiler_prototypeAlias$.$sendReply_$=function($id$jscomp$6$,$topic$jscomp$2$,$data$jscomp$57$){var $jscomp$this$jscomp$2$=this,$payload$jscomp$1$={id:$id$jscomp$6$,topic:$topic$jscomp$2$,data:$data$jscomp$57$,isReply:!0};this.$messagePort_$.postMessage($payload$jscomp$1$);return new Promise(function($id$jscomp$6$){$jscomp$this$jscomp$2$.$messages_$[$payload$jscomp$1$.id]={message:$data$jscomp$57$,topic:$topic$jscomp$2$,promiseResolver:$id$jscomp$6$}})};
$JSCompiler_prototypeAlias$.send=function($topic$jscomp$3$,$data$jscomp$58$){var $jscomp$this$jscomp$3$=this,$payload$jscomp$2$={id:crypto.getRandomValues(new Uint8Array(10)).join(""),topic:$topic$jscomp$3$,data:$data$jscomp$58$};this.$messagePort_$.postMessage($payload$jscomp$2$);return new Promise(function($resolve$jscomp$5$){$jscomp$this$jscomp$3$.$messages_$[$payload$jscomp$2$.id]={message:$data$jscomp$58$,topic:$topic$jscomp$3$,promiseResolver:$resolve$jscomp$5$}})};
$jscomp$global$.Object.defineProperties($WindowMessenger$module$build$all$amp_web_push_0_1$window_messenger$,{Topics:{configurable:!0,enumerable:!0,get:function(){return{CONNECT_HANDSHAKE:"topic-connect-handshake",NOTIFICATION_PERMISSION_STATE:"topic-notification-permission-state",SERVICE_WORKER_STATE:"topic-service-worker-state",SERVICE_WORKER_REGISTRATION:"topic-service-worker-registration",SERVICE_WORKER_QUERY:"topic-service-worker-query",STORAGE_GET:"topic-storage-get"}}}});/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var $regex$module$third_party$css_escape$css_escape$=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function $escaper$module$third_party$css_escape$css_escape$($match$jscomp$2$,$nil$,$dash$,$hexEscape$,$chars$){return $chars$?$chars$:$nil$?"\ufffd":$hexEscape$?$match$jscomp$2$.slice(0,-1)+"\\"+$match$jscomp$2$.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+$match$jscomp$2$};function $AmpWebPushPermissionDialog$module$build$all$amp_web_push_0_1$amp_web_push_permission_dialog$(){var $options$jscomp$16$={debug:!1};this.$debug_$=$options$jscomp$16$&&$options$jscomp$16$.debug;this.$window_$=$options$jscomp$16$.windowContext||window;this.$ampMessenger_$=new $WindowMessenger$module$build$all$amp_web_push_0_1$window_messenger$({debug:this.$debug_$,windowContext:this.$window_$})}$JSCompiler_prototypeAlias$=$AmpWebPushPermissionDialog$module$build$all$amp_web_push_0_1$amp_web_push_permission_dialog$.prototype;
$JSCompiler_prototypeAlias$.isCurrentDialogPopup=function(){return!!this.$window_$.opener&&this.$window_$.opener!==this.$window_$};$JSCompiler_prototypeAlias$.requestNotificationPermission=function(){var $jscomp$this$jscomp$4$=this;return new Promise(function($resolve$jscomp$6$,$reject$jscomp$3$){try{$jscomp$this$jscomp$4$.$window_$.Notification.requestPermission(function($jscomp$this$jscomp$4$){return $resolve$jscomp$6$($jscomp$this$jscomp$4$)})}catch($e$jscomp$13$){$reject$jscomp$3$($e$jscomp$13$)}})};
$JSCompiler_prototypeAlias$.run=function(){$JSCompiler_StaticMethods_onCloseIconClick_$(this);$JSCompiler_StaticMethods_storeNotificationPermission_$(this);for(var $JSCompiler_allSections$jscomp$inline_45_JSCompiler_preloadSection$jscomp$inline_50_JSCompiler_section$jscomp$inline_47$=this.$window_$.document.querySelectorAll("[permission]"),$JSCompiler_i$jscomp$inline_46_JSCompiler_postloadSection$jscomp$inline_51$=0;$JSCompiler_i$jscomp$inline_46_JSCompiler_postloadSection$jscomp$inline_51$<
$JSCompiler_allSections$jscomp$inline_45_JSCompiler_preloadSection$jscomp$inline_50_JSCompiler_section$jscomp$inline_47$.length;$JSCompiler_i$jscomp$inline_46_JSCompiler_postloadSection$jscomp$inline_51$++)$JSCompiler_StaticMethods_setDomElementVisibility_$($JSCompiler_allSections$jscomp$inline_45_JSCompiler_preloadSection$jscomp$inline_50_JSCompiler_section$jscomp$inline_47$[$JSCompiler_i$jscomp$inline_46_JSCompiler_postloadSection$jscomp$inline_51$],!1);($JSCompiler_allSections$jscomp$inline_45_JSCompiler_preloadSection$jscomp$inline_50_JSCompiler_section$jscomp$inline_47$=
this.$window_$.document.querySelector("[permission="+String(this.$window_$.Notification.permission).replace($regex$module$third_party$css_escape$css_escape$,$escaper$module$third_party$css_escape$css_escape$)+"]"))&&$JSCompiler_StaticMethods_setDomElementVisibility_$($JSCompiler_allSections$jscomp$inline_45_JSCompiler_preloadSection$jscomp$inline_50_JSCompiler_section$jscomp$inline_47$,!0);$JSCompiler_allSections$jscomp$inline_45_JSCompiler_preloadSection$jscomp$inline_50_JSCompiler_section$jscomp$inline_47$=
this.$window_$.document.querySelector("#preload");$JSCompiler_i$jscomp$inline_46_JSCompiler_postloadSection$jscomp$inline_51$=this.$window_$.document.querySelector("#postload");$JSCompiler_allSections$jscomp$inline_45_JSCompiler_preloadSection$jscomp$inline_50_JSCompiler_section$jscomp$inline_47$&&$JSCompiler_i$jscomp$inline_46_JSCompiler_postloadSection$jscomp$inline_51$&&($JSCompiler_StaticMethods_setDomElementVisibility_$($JSCompiler_allSections$jscomp$inline_45_JSCompiler_preloadSection$jscomp$inline_50_JSCompiler_section$jscomp$inline_47$,
!1),$JSCompiler_StaticMethods_setDomElementVisibility_$($JSCompiler_i$jscomp$inline_46_JSCompiler_postloadSection$jscomp$inline_51$,!0));"denied"!==this.$window_$.Notification.permission?$JSCompiler_StaticMethods_onPermissionDefaultOrGranted_$(this):$JSCompiler_StaticMethods_onPermissionDenied_$(this)};
function $JSCompiler_StaticMethods_onCloseIconClick_$($JSCompiler_StaticMethods_onCloseIconClick_$self$){var $closeIcon$=$JSCompiler_StaticMethods_onCloseIconClick_$self$.$window_$.document.querySelector("#close");$closeIcon$&&$closeIcon$.addEventListener("click",function(){$JSCompiler_StaticMethods_onCloseIconClick_$self$.closeDialog()})}
$JSCompiler_prototypeAlias$.closeDialog=function(){if(this.isCurrentDialogPopup())this.$window_$.close();else{var $winLocation$=this.$window_$.fakeLocation||this.$window_$.location,$queryParams$=$parseQueryString_$module$src$url_parse_query_string$($winLocation$.search);if(!$queryParams$["return"])throw Error("Missing required parameter.");var $redirectLocation$=$tryDecodeUriComponent_$module$src$url_try_decode_uri_component$($queryParams$["return"],void 0);this.redirectToUrl($redirectLocation$)}};
function $JSCompiler_StaticMethods_onPermissionDenied_$($JSCompiler_StaticMethods_onPermissionDenied_$self$){navigator.permissions.query({name:"notifications"}).then(function($permissionStatus$){$permissionStatus$.onchange=function(){$JSCompiler_StaticMethods_storeNotificationPermission_$($JSCompiler_StaticMethods_onPermissionDenied_$self$);switch($JSCompiler_StaticMethods_onPermissionDenied_$self$.$window_$.Notification.permission){case "default":case "granted":$JSCompiler_StaticMethods_onPermissionDefaultOrGranted_$($JSCompiler_StaticMethods_onPermissionDenied_$self$)}}})}
function $JSCompiler_StaticMethods_storeNotificationPermission_$($JSCompiler_StaticMethods_storeNotificationPermission_$self$){$JSCompiler_StaticMethods_storeNotificationPermission_$self$.$window_$.localStorage.setItem("amp-web-push-notification-permission",$JSCompiler_StaticMethods_storeNotificationPermission_$self$.$window_$.Notification.permission)}
function $JSCompiler_StaticMethods_setDomElementVisibility_$($domElement$,$isVisible$){if($domElement$){var $invisibilityCssClassName$="invisible";$isVisible$?$domElement$.classList.remove($invisibilityCssClassName$):$domElement$.classList.add($invisibilityCssClassName$)}}
function $JSCompiler_StaticMethods_onPermissionDefaultOrGranted_$($JSCompiler_StaticMethods_onPermissionDefaultOrGranted_$self$){$JSCompiler_StaticMethods_onPermissionDefaultOrGranted_$self$.requestNotificationPermission().then(function($permission$jscomp$2$){$JSCompiler_StaticMethods_storeNotificationPermission_$($JSCompiler_StaticMethods_onPermissionDefaultOrGranted_$self$);if($JSCompiler_StaticMethods_onPermissionDefaultOrGranted_$self$.isCurrentDialogPopup())return $JSCompiler_StaticMethods_onPermissionDefaultOrGranted_$self$.$ampMessenger_$.connect(opener,
"*"),$JSCompiler_StaticMethods_onPermissionDefaultOrGranted_$self$.$ampMessenger_$.send($WindowMessenger$module$build$all$amp_web_push_0_1$window_messenger$.Topics.NOTIFICATION_PERMISSION_STATE,$permission$jscomp$2$).then(function($permission$jscomp$2$){var $result$=$permission$jscomp$2$[0];$result$&&$result$.closeFrame&&$JSCompiler_StaticMethods_onPermissionDefaultOrGranted_$self$.closeDialog()});$JSCompiler_StaticMethods_onPermissionDefaultOrGranted_$self$.closeDialog()})}
$JSCompiler_prototypeAlias$.redirectToUrl=function($url$jscomp$40$){var $parsedUrl$jscomp$1$=$parseUrlDeprecated$module$src$url$($url$jscomp$40$);!$parsedUrl$jscomp$1$||"http:"!==$parsedUrl$jscomp$1$.protocol&&"https:"!==$parsedUrl$jscomp$1$.protocol||(this.$window_$.location.href=$url$jscomp$40$)};$getMode$module$src$mode$().test||(window._ampWebPushPermissionDialog=new $AmpWebPushPermissionDialog$module$build$all$amp_web_push_0_1$amp_web_push_permission_dialog$,window._ampWebPushPermissionDialog.run());})();

//# sourceMappingURL=amp-web-push-permission-dialog.js.map
</script>
</body>
</html>
