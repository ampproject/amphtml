{"version":3,"sources":["/extensions/amp-sticky-ad/1.0/amp-sticky-ad.js","/src/base-element.js","/src/custom-element.js","/src/service/resources-impl.js","/src/service/resource.js","/src/common-signals.js","/src/style.js","/build/amp-sticky-ad-1.0.css.js"],"names":["constructor","element","vsync_","getVsync","ad_","viewport_","visible_","scrollUnlisten_","collapsed_","adReadyPromise_","removeOnScrollListener_","display_","then","mutateElement","addCloseButton_","addToFixedLayer","scheduleLayoutForAd_","whenUpgradedToCustomElement","ad","whenBuilt","layoutAd_","bind","closeButton","win","document","createElement","classList","add","setAttribute","getAttribute","boundOnCloseButtonClick","onCloseButtonClick_","addEventListener","appendChild","scheduleUnlayout","elements","resources_","parentElement","subElements","parentResource","Resource$$module$src$service$resource.forElementOptional","elements_","discoverResourcesForArray_","resource","unlayout","$jscomp.inherits","BaseElement","AmpStickyAd","AMP","buildCallback","?.prototype","getViewport","getRealChildren","children","Resource$$module$src$service$resource.setOwner","setAsOwner","toggle","paddingBar","insertBefore","setTimeout","onScroll","getScrollTop","scrollTop","onScroll_","layoutCallback","updatePaddingBottom","offsetHeight","updateInViewport","scheduleLayout","Promise","resolve","isAlwaysFixed","unlayoutCallback","detachedCallback","collapsedCallback","mutate","signals","race","whenSignal","RENDER_START","LOAD_END","backgroundColor","measureElement","computedStyle","mutatePromise","newBackgroundColor","replace","user","warn","setStyle","forceOpacity_","removeFromFixedLayer","removeElement","registerElement","CSS"],"mappings":"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","file":"amp-sticky-ad-1.0.js","sourcesContent":[]}