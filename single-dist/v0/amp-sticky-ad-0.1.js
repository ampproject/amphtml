(self.AMP=self.AMP||[]).push({n:"amp-sticky-ad",i:["_base_i","_base_ad"],v:"1904281823091",f:(function(AMP,_){
var $AmpStickyAd$$module$extensions$amp_sticky_ad$1_0$amp_sticky_ad$$=function($$jscomp$super$this$jscomp$101_element$jscomp$628$$){$$jscomp$super$this$jscomp$101_element$jscomp$628$$=AMP.BaseElement.call(this,$$jscomp$super$this$jscomp$101_element$jscomp$628$$)||this;$$jscomp$super$this$jscomp$101_element$jscomp$628$$.$I$=_.$JSCompiler_StaticMethods_getVsync$$($$jscomp$super$this$jscomp$101_element$jscomp$628$$);$$jscomp$super$this$jscomp$101_element$jscomp$628$$.$F$=null;$$jscomp$super$this$jscomp$101_element$jscomp$628$$.$D$=
null;$$jscomp$super$this$jscomp$101_element$jscomp$628$$.$G$=!1;$$jscomp$super$this$jscomp$101_element$jscomp$628$$.$H$=null;$$jscomp$super$this$jscomp$101_element$jscomp$628$$.$K$=!1;$$jscomp$super$this$jscomp$101_element$jscomp$628$$.$J$=null;return $$jscomp$super$this$jscomp$101_element$jscomp$628$$},$JSCompiler_StaticMethods_removeOnScrollListener_$$=function($JSCompiler_StaticMethods_removeOnScrollListener_$self$$){$JSCompiler_StaticMethods_removeOnScrollListener_$self$$.$H$&&($JSCompiler_StaticMethods_removeOnScrollListener_$self$$.$H$(),
$JSCompiler_StaticMethods_removeOnScrollListener_$self$$.$H$=null)},$JSCompiler_StaticMethods_display_$$=function($JSCompiler_StaticMethods_display_$self$$){$JSCompiler_StaticMethods_removeOnScrollListener_$$($JSCompiler_StaticMethods_display_$self$$);$JSCompiler_StaticMethods_display_$self$$.$J$.then(function(){$JSCompiler_StaticMethods_display_$self$$.$mutateElement$(function(){$JSCompiler_StaticMethods_display_$self$$.$K$||($JSCompiler_StaticMethods_display_$self$$.$G$=!0,$JSCompiler_StaticMethods_addCloseButton_$$($JSCompiler_StaticMethods_display_$self$$),
_.$JSCompiler_StaticMethods_addToFixedLayer$$($JSCompiler_StaticMethods_display_$self$$.$D$,$JSCompiler_StaticMethods_display_$self$$.element,!0).then(function(){return $JSCompiler_StaticMethods_scheduleLayoutForAd_$$($JSCompiler_StaticMethods_display_$self$$)}))})})},$JSCompiler_StaticMethods_scheduleLayoutForAd_$$=function($JSCompiler_StaticMethods_scheduleLayoutForAd_$self$$){_.$whenUpgradedToCustomElement$$module$src$dom$$($JSCompiler_StaticMethods_scheduleLayoutForAd_$self$$.$F$).then(function($ad$jscomp$5$$){$ad$jscomp$5$$.$whenBuilt$().then($JSCompiler_StaticMethods_scheduleLayoutForAd_$self$$.$layoutAd_$.bind($JSCompiler_StaticMethods_scheduleLayoutForAd_$self$$))})},
$JSCompiler_StaticMethods_addCloseButton_$$=function($JSCompiler_StaticMethods_addCloseButton_$self$$){var $closeButton$jscomp$1$$=$JSCompiler_StaticMethods_addCloseButton_$self$$.$win$.document.createElement("button");$closeButton$jscomp$1$$.classList.add("amp-sticky-ad-close-button");$closeButton$jscomp$1$$.setAttribute("aria-label",$JSCompiler_StaticMethods_addCloseButton_$self$$.element.getAttribute("data-close-button-aria-label")||"Close this ad");var $boundOnCloseButtonClick$$=$JSCompiler_StaticMethods_addCloseButton_$self$$.$onCloseButtonClick_$.bind($JSCompiler_StaticMethods_addCloseButton_$self$$);
$closeButton$jscomp$1$$.addEventListener("click",$boundOnCloseButtonClick$$);$JSCompiler_StaticMethods_addCloseButton_$self$$.element.appendChild($closeButton$jscomp$1$$)};_.$BaseElement$$module$src$base_element$$.prototype.$scheduleUnlayout$=_.$JSCompiler_unstubMethod$$(18,function($elements$jscomp$8$$){this.element.$resources_$.$scheduleUnlayout$(this.element,$elements$jscomp$8$$)});
_.$Resources$$module$src$service$resources_impl$$.prototype.$scheduleUnlayout$=_.$JSCompiler_unstubMethod$$(17,function($parentElement$jscomp$3_parentResource$jscomp$2$$,$subElements$jscomp$3$$){$parentElement$jscomp$3_parentResource$jscomp$2$$=_.$Resource$$module$src$service$resource$forElementOptional$$($parentElement$jscomp$3_parentResource$jscomp$2$$);$subElements$jscomp$3$$=_.$elements_$$module$src$service$resources_impl$$($subElements$jscomp$3$$);_.$JSCompiler_StaticMethods_discoverResourcesForArray_$$(this,
$parentElement$jscomp$3_parentResource$jscomp$2$$,$subElements$jscomp$3$$,function($parentElement$jscomp$3_parentResource$jscomp$2$$){_.$JSCompiler_StaticMethods_unlayout$$($parentElement$jscomp$3_parentResource$jscomp$2$$)})});_.$$jscomp$inherits$$($AmpStickyAd$$module$extensions$amp_sticky_ad$1_0$amp_sticky_ad$$,AMP.BaseElement);_.$JSCompiler_prototypeAlias$$=$AmpStickyAd$$module$extensions$amp_sticky_ad$1_0$amp_sticky_ad$$.prototype;
_.$JSCompiler_prototypeAlias$$.$buildCallback$=function(){var $$jscomp$this$jscomp$909$$=this;this.$D$=this.$getViewport$();this.element.classList.add("i-amphtml-sticky-ad-layout");this.$F$=this.$getRealChildren$()[0];_.$Resource$$module$src$service$resource$setOwner$$(this.$F$,this.element);this.$J$=_.$whenUpgradedToCustomElement$$module$src$dom$$(this.$F$).then(function($$jscomp$this$jscomp$909$$){return $$jscomp$this$jscomp$909$$.$whenBuilt$()}).then(function(){return $$jscomp$this$jscomp$909$$.$mutateElement$(function(){_.$toggle$$module$src$style$$($$jscomp$this$jscomp$909$$.element,
!0)})});var $paddingBar$jscomp$1$$=this.$win$.document.createElement("amp-sticky-ad-top-padding");$paddingBar$jscomp$1$$.classList.add("amp-sticky-ad-top-padding");this.element.insertBefore($paddingBar$jscomp$1$$,this.$F$);this.$win$.setTimeout(function(){$$jscomp$this$jscomp$909$$.$H$=_.$JSCompiler_StaticMethods_Viewport$$module$src$service$viewport$viewport_impl_prototype$onScroll$$($$jscomp$this$jscomp$909$$.$D$,function(){1<_.$JSCompiler_StaticMethods_Viewport$$module$src$service$viewport$viewport_impl_prototype$getScrollTop$$($$jscomp$this$jscomp$909$$.$D$)&&
$JSCompiler_StaticMethods_display_$$($$jscomp$this$jscomp$909$$)})})};_.$JSCompiler_prototypeAlias$$.$layoutCallback$=function(){this.$G$&&(_.$toggle$$module$src$style$$(this.element,!0),_.$JSCompiler_StaticMethods_updatePaddingBottom$$(this.$D$,this.element.offsetHeight),this.$updateInViewport$(this.$F$,!0),this.$scheduleLayout$(this.$F$));return Promise.resolve()};_.$JSCompiler_prototypeAlias$$.$isAlwaysFixed$=function(){return!0};
_.$JSCompiler_prototypeAlias$$.$unlayoutCallback$=function(){_.$JSCompiler_StaticMethods_updatePaddingBottom$$(this.$D$,0);return!0};_.$JSCompiler_prototypeAlias$$.detachedCallback=function(){$JSCompiler_StaticMethods_removeOnScrollListener_$$(this)};
_.$JSCompiler_prototypeAlias$$.$collapsedCallback$=function(){var $$jscomp$this$jscomp$910$$=this;this.$K$=!0;this.$G$=!1;_.$toggle$$module$src$style$$(this.element,!1);this.$I$.$mutate$(function(){_.$JSCompiler_StaticMethods_updatePaddingBottom$$($$jscomp$this$jscomp$910$$.$D$,0)})};
_.$JSCompiler_prototypeAlias$$.$layoutAd_$=function(){var $$jscomp$this$jscomp$913$$=this,$ad$jscomp$6_signals$jscomp$3$$=this.$F$;this.$updateInViewport$($ad$jscomp$6_signals$jscomp$3$$,!0);this.$scheduleLayout$($ad$jscomp$6_signals$jscomp$3$$);$ad$jscomp$6_signals$jscomp$3$$=$ad$jscomp$6_signals$jscomp$3$$.signals();return Promise.race([$ad$jscomp$6_signals$jscomp$3$$.whenSignal("render-start"),$ad$jscomp$6_signals$jscomp$3$$.whenSignal("load-end")]).then(function(){var $ad$jscomp$6_signals$jscomp$3$$;
return $$jscomp$this$jscomp$913$$.$measureElement$(function(){$ad$jscomp$6_signals$jscomp$3$$=_.$computedStyle$$module$src$style$$($$jscomp$this$jscomp$913$$.$win$,$$jscomp$this$jscomp$913$$.element).backgroundColor}).then(function(){return _.$JSCompiler_StaticMethods_mutatePromise$$($$jscomp$this$jscomp$913$$.$I$,function(){$$jscomp$this$jscomp$913$$.element.setAttribute("visible","");_.$JSCompiler_StaticMethods_updatePaddingBottom$$($$jscomp$this$jscomp$913$$.$D$,$$jscomp$this$jscomp$913$$.element.offsetHeight);
var $backgroundColor$$=$ad$jscomp$6_signals$jscomp$3$$.replace(/\(([^,]+),([^,]+),([^,)]+),[^)]+\)/g,"($1,$2,$3, 1)");$ad$jscomp$6_signals$jscomp$3$$!=$backgroundColor$$&&(_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("AMP-STICKY-AD","Do not allow container to be semitransparent"),_.$setStyle$$module$src$style$$($$jscomp$this$jscomp$913$$.element,"background-color",$backgroundColor$$))})})})};
_.$JSCompiler_prototypeAlias$$.$onCloseButtonClick_$=function(){var $$jscomp$this$jscomp$914$$=this;this.$I$.$mutate$(function(){$$jscomp$this$jscomp$914$$.$G$=!1;$$jscomp$this$jscomp$914$$.$scheduleUnlayout$($$jscomp$this$jscomp$914$$.$F$);_.$JSCompiler_StaticMethods_removeFromFixedLayer$$($$jscomp$this$jscomp$914$$.$D$,$$jscomp$this$jscomp$914$$.element);_.$removeElement$$module$src$dom$$($$jscomp$this$jscomp$914$$.element);_.$JSCompiler_StaticMethods_updatePaddingBottom$$($$jscomp$this$jscomp$914$$.$D$,
0)})};self.AMP.registerElement("amp-sticky-ad",$AmpStickyAd$$module$extensions$amp_sticky_ad$1_0$amp_sticky_ad$$,"amp-sticky-ad{position:fixed!important;text-align:center;bottom:0!important;left:0;width:100%!important;z-index:11;max-height:100px!important;box-sizing:border-box;opacity:1!important;background-image:none!important;background-color:#fff;box-shadow:0 0 5px 0 rgba(0,0,0,0.2)!important;margin-bottom:0!important}amp-sticky-ad-top-padding{display:block;width:100%!important;background:#fff;height:4px;max-height:5px!important;z-index:12}.i-amphtml-sticky-ad-layout{display:-webkit-box;display:-ms-flexbox;display:flex;visibility:hidden!important;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;overflow:visible!important;-webkit-transform:translateZ(0)!important;transform:translateZ(0)!important}amp-sticky-ad[visible]{visibility:visible!important}.i-amphtml-sticky-ad-layout>amp-ad{display:block}.amp-sticky-ad-close-button{position:absolute;visibility:hidden;width:28px;height:28px;top:-28px;right:0;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='13' height='13' viewBox='341 8 13 13' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%234F4F4F' d='M354 9.31L352.69 8l-5.19 5.19L342.31 8 341 9.31l5.19 5.19-5.19 5.19 1.31 1.31 5.19-5.19 5.19 5.19 1.31-1.31-5.19-5.19z' fill-rule='evenodd'/%3E%3C/svg%3E\");background-size:13px 13px;background-position:9px;background-color:#fff;background-repeat:no-repeat;box-shadow:0 -1px 1px 0 rgba(0,0,0,0.2);border:none;border-radius:12px 0 0 0}amp-sticky-ad[visible]>.amp-sticky-ad-close-button{visibility:visible}.amp-sticky-ad-close-button:before{position:absolute;content:\"\";top:-20px;right:0;left:-20px;bottom:0}[dir=rtl] .amp-sticky-ad-close-button{right:auto;left:0;border-top-left-radius:0;border-top-right-radius:12px;background-position:6px}[dir=rtl] .amp-sticky-ad-close-button:before{right:-20px;left:0}\n/*# sourceURL=/extensions/amp-sticky-ad/1.0/amp-sticky-ad.css*/");
})});

//# sourceMappingURL=amp-sticky-ad-1.0.js.map
