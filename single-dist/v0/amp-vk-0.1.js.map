{"version":3,"sources":["/extensions/amp-vk/0.1/amp-vk.js","/src/service/viewer-impl.js","/src/event-helper.js","/src/layout.js"],"names":["constructor","element","iframe_","widgetHeight_","unlistenMessage_","embedType_","ownerId_","postId_","hash_","apiId_","pollId_","getIFrameSrc_","createdTime","Date","now","toString","iframeSrcPromise","POST","getVkPostIFrameSrc_","POLL","getVkPollIFrameSrc_","then","iframeSrc","appendEncodedParamStringToUrl","Services$$module$src$services.viewerForDoc","getReferrerUrl","referrerUrl_","ref","startWidth","offsetWidth","pageUrl","getAmpDoc","getUrl","addParamsToUrl","iframeUrl","dict","queryParams","EmbedType","$jscomp.inherits","BaseElement","AmpVk","AMP","preconnectCallback","?.prototype","opt_onLayout","preconnect","url","buildCallback","getAttribute","assertEnumValue","user","postBuildCallback_","pollBuildCallback_","layoutCallback","iframe","ownerDocument","createElement","listen","win","handleVkIframeMessage_","bind","src","setAttribute","applyFillContent","appendChild","loadPromise","e","origin","source","contentWindow","eventData","data","matches","regExp","exec","newHeight","parseInt","changeHeight","isLayoutSupported","layout","RESPONSIVE","FLEX_ITEM","FIXED","unlayoutOnPause","unlayoutCallback","removeElement","registerElement"],"mappings":"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","file":"amp-vk-0.1.js","sourcesContent":[]}