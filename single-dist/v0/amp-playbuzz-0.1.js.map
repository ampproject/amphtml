{"version":3,"sources":["/extensions/amp-playbuzz/0.1/utils.js","/extensions/amp-playbuzz/0.1/amp-playbuzz.js","/extensions/amp-playbuzz/0.1/images.js","/src/event-helper.js","/src/url.js","/src/layout.js","/build/amp-playbuzz-0.1.css.js"],"names":["debounce","func","timeout","context","args","arguments","clearTimeout","setTimeout","apply","wait","getElementCreator","document","createElement","name","className","children","element","appendChildren","Array","isArray","forEach","child","appendChild","parsePlaybuzzEventData","data","err","parseJson","e","rethrowAsync","dict","constructor","iframe_","iframePromise_","itemHeight_","displayItemInfo_","displayShareBar_","displayComments_","iframeLoaded_","unlisteners_","iframeSrcUrl_","getOverflowElement_","ownerDocument","overflow","setAttribute","overflowButton","textContent","arrow","src","showMoreArrow","createPlaybuzzLoader_","loaderImage","logo","loadingPlaceholder","listenToPlaybuzzItemMessage_","handler","unlisten","listen","win","event","contentWindow","source","push","generateEmbedSourceUrl_","canonicalUrl","Services$$module$src$services.documentInfoForDoc","parsedPageUrl","parseUrlDeprecated","pathname","itemUrl","serializeQueryString","relativeUrl","undefined","removeFragment","parentUrl","href","host","$jscomp.inherits","BaseElement","AmpPlaybuzz","AMP","preconnectCallback","?.prototype","preconnect","url","renderOutsideViewport","buildCallback","getAttribute","itemId","parsedHeight","parseInt","iframeSrcUrl","localtion","replace","protocol","isNaN","isLayoutSupported","layout","RESPONSIVE","FIXED_HEIGHT","createPlaceholderCallback","placeholder","hasAttribute","layoutCallback","iframe","itemHeightChanged_","bind","applyFillContent","loadPromise","then","attemptChangeHeight","catch","onChanged","getViewport","sendScrollDataToItem_","height","changeEvent","isInViewport","scrollingData","top","getLayoutBox","JSON","stringify","notifyIframe_","postMessage","unlayoutOnPause","unlayoutCallback","length","removeElement","registerElement","CSS"],"mappings":"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","file":"amp-playbuzz-0.1.js","sourcesContent":[]}