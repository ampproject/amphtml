(self.AMP=self.AMP||[]).push({n:"amp-brightcove",i:["_base_i","_base_media"],v:"1904281823091",f:(function(AMP,_){
var $AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove$$=function($$jscomp$super$this$jscomp$29_element$jscomp$408$$){$$jscomp$super$this$jscomp$29_element$jscomp$408$$=AMP.BaseElement.call(this,$$jscomp$super$this$jscomp$29_element$jscomp$408$$)||this;$$jscomp$super$this$jscomp$29_element$jscomp$408$$.$D$=null;$$jscomp$super$this$jscomp$29_element$jscomp$408$$.$J$=!1;$$jscomp$super$this$jscomp$29_element$jscomp$408$$.$H$=!1;$$jscomp$super$this$jscomp$29_element$jscomp$408$$.$O$=
null;$$jscomp$super$this$jscomp$29_element$jscomp$408$$.$P$=null;$$jscomp$super$this$jscomp$29_element$jscomp$408$$.$R$=[];$$jscomp$super$this$jscomp$29_element$jscomp$408$$.$M$=!1;$$jscomp$super$this$jscomp$29_element$jscomp$408$$.$G$=null;$$jscomp$super$this$jscomp$29_element$jscomp$408$$.$I$=null;$$jscomp$super$this$jscomp$29_element$jscomp$408$$.$U$=null;$$jscomp$super$this$jscomp$29_element$jscomp$408$$.$K$=null;$$jscomp$super$this$jscomp$29_element$jscomp$408$$.$F$=null;$$jscomp$super$this$jscomp$29_element$jscomp$408$$.$S$=
null;return $$jscomp$super$this$jscomp$29_element$jscomp$408$$},$JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$sendCommand_$$=function($JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$sendCommand_$self$$,$command$jscomp$1$$,$arg$jscomp$13$$){$JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$sendCommand_$self$$.$G$.then(function(){$JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$sendCommand_$self$$.$D$&&
$JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$sendCommand_$self$$.$D$.contentWindow&&$JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$sendCommand_$self$$.$D$.contentWindow.postMessage(JSON.stringify(_.$dict$$module$src$utils$object$$({command:$command$jscomp$1$$,args:$arg$jscomp$13$$})),"https://players.brightcove.net")})},$JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$getIframeSrc_$$=
function($JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$getIframeSrc_$self$$){var $el$jscomp$72$$=$JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$getIframeSrc_$self$$.element,$account_src$jscomp$30$$=$el$jscomp$72$$.getAttribute("data-account"),$customReferrer_embed$jscomp$6$$=$el$jscomp$72$$.getAttribute("data-embed")||"default";$JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$getIframeSrc_$self$$.$F$=
$el$jscomp$72$$.getAttribute("data-player")||$el$jscomp$72$$.getAttribute("data-player-id")||"default";$account_src$jscomp$30$$="https://players.brightcove.net/"+encodeURIComponent($account_src$jscomp$30$$)+("/"+encodeURIComponent($JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$getIframeSrc_$self$$.$F$))+("_"+encodeURIComponent($customReferrer_embed$jscomp$6$$)+"/index.html")+($el$jscomp$72$$.getAttribute("data-playlist-id")?"?playlistId="+$JSCompiler_StaticMethods_encodeId_$$($el$jscomp$72$$.getAttribute("data-playlist-id")):
$el$jscomp$72$$.getAttribute("data-video-id")?"?videoId="+$JSCompiler_StaticMethods_encodeId_$$($el$jscomp$72$$.getAttribute("data-video-id")):"");($customReferrer_embed$jscomp$6$$=$el$jscomp$72$$.getAttribute("data-referrer"))&&$el$jscomp$72$$.setAttribute("data-param-referrer",_.$JSCompiler_StaticMethods_expandUrlSync$$($JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$getIframeSrc_$self$$.$S$,$customReferrer_embed$jscomp$6$$));$el$jscomp$72$$.setAttribute("data-param-playsinline",
"true");return _.$addParamsToUrl$$module$src$url$$($account_src$jscomp$30$$,_.$getDataParamsFromAttributes$$module$src$dom$$($el$jscomp$72$$))},$JSCompiler_StaticMethods_encodeId_$$=function($id$jscomp$69$$){return"ref:"===$id$jscomp$69$$.substring(0,4)?"ref:"+encodeURIComponent($id$jscomp$69$$.substring(4)):encodeURIComponent($id$jscomp$69$$)};_.$$jscomp$inherits$$($AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove$$,AMP.BaseElement);_.$JSCompiler_prototypeAlias$$=$AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove$$.prototype;
_.$JSCompiler_prototypeAlias$$.$preconnectCallback$=function(){this.$preconnect$.url("https://players.brightcove.net")};_.$JSCompiler_prototypeAlias$$.$isLayoutSupported$=function($layout$jscomp$49$$){return _.$isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$49$$)};_.$JSCompiler_prototypeAlias$$.$viewportCallback$=function($visible$jscomp$6$$){this.element.$dispatchCustomEvent$(_.$VideoEvents$$module$src$video_interface$$.$VISIBILITY$,{visible:$visible$jscomp$6$$})};
_.$JSCompiler_prototypeAlias$$.$buildCallback$=function(){var $$jscomp$this$jscomp$537$$=this;this.$S$=_.$Services$$module$src$services$urlReplacementsForDoc$$(this.element);var $deferred$jscomp$37$$=new _.$Deferred$$module$src$utils$promise$$;this.$G$=$deferred$jscomp$37$$.$promise$;this.$I$=$deferred$jscomp$37$$.resolve;this.$U$=_.$Services$$module$src$services$timerFor$$(window).delay(function(){_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("amp-brightcove","Did not receive ready callback from player %s. Ensure it has the videojs-amp-support plugin.",
$$jscomp$this$jscomp$537$$.$F$)},3E3);this.$I$(this.$D$)};
_.$JSCompiler_prototypeAlias$$.$layoutCallback$=function(){var $$jscomp$this$jscomp$538$$=this,$iframe$jscomp$43$$=_.$createFrameFor$$module$src$iframe_video$$(this,$JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$getIframeSrc_$$(this));this.$D$=$iframe$jscomp$43$$;this.$K$=_.$listen$$module$src$event_helper$$(this.$win$,"message",function($iframe$jscomp$43$$){var $data$jscomp$inline_3199_e$jscomp$202_eventData$jscomp$inline_3198_muted$jscomp$inline_3201$$=$$jscomp$this$jscomp$538$$.element;
if($iframe$jscomp$43$$.source==$$jscomp$this$jscomp$538$$.$D$.contentWindow&&($iframe$jscomp$43$$=$iframe$jscomp$43$$.data,_.$isJsonOrObj$$module$src$iframe_video$$($iframe$jscomp$43$$)&&($iframe$jscomp$43$$=_.$objOrParseJson$$module$src$iframe_video$$($iframe$jscomp$43$$),void 0!==$iframe$jscomp$43$$))){var $eventType$jscomp$inline_3200$$=$iframe$jscomp$43$$.event;if($eventType$jscomp$inline_3200$$){if("ready"===$eventType$jscomp$inline_3200$$){$$jscomp$this$jscomp$538$$.$M$=!0;_.$Services$$module$src$services$timerFor$$($$jscomp$this$jscomp$538$$.$win$).cancel($$jscomp$this$jscomp$538$$.$U$);
var $element$jscomp$inline_6519$$=$$jscomp$this$jscomp$538$$.element;_.$installVideoManagerForDoc$$module$src$service$video_manager_impl$$($element$jscomp$inline_6519$$);_.$Services$$module$src$services$videoManagerForDoc$$($element$jscomp$inline_6519$$).register($$jscomp$this$jscomp$538$$);_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$info$("amp-brightcove","Player %s ready. Brightcove Player version: %s AMP Support version: %s",$$jscomp$this$jscomp$538$$.$F$,$iframe$jscomp$43$$.bcVersion,
$iframe$jscomp$43$$.ampSupportVersion)}"playing"===$eventType$jscomp$inline_3200$$&&($$jscomp$this$jscomp$538$$.$J$=!0);"pause"===$eventType$jscomp$inline_3200$$&&($$jscomp$this$jscomp$538$$.$J$=!1);$iframe$jscomp$43$$.ct&&($$jscomp$this$jscomp$538$$.$O$=$iframe$jscomp$43$$.ct);$iframe$jscomp$43$$.pr&&($$jscomp$this$jscomp$538$$.$R$=$iframe$jscomp$43$$.pr);$iframe$jscomp$43$$.dur&&($$jscomp$this$jscomp$538$$.$P$=$iframe$jscomp$43$$.dur);_.$redispatch$$module$src$iframe_video$$($data$jscomp$inline_3199_e$jscomp$202_eventData$jscomp$inline_3198_muted$jscomp$inline_3201$$,
$eventType$jscomp$inline_3200$$,{ready:_.$VideoEvents$$module$src$video_interface$$.$LOAD$,playing:_.$VideoEvents$$module$src$video_interface$$.$PLAYING$,pause:_.$VideoEvents$$module$src$video_interface$$.$PAUSE$,ended:_.$VideoEvents$$module$src$video_interface$$.$ENDED$,"ads-ad-started":_.$VideoEvents$$module$src$video_interface$$.$AD_START$,"ads-ad-ended":_.$VideoEvents$$module$src$video_interface$$.$AD_END$})||"volumechange"!==$eventType$jscomp$inline_3200$$||($iframe$jscomp$43$$=$iframe$jscomp$43$$.muted,
null!=$iframe$jscomp$43$$&&$$jscomp$this$jscomp$538$$.$H$!=$iframe$jscomp$43$$&&($$jscomp$this$jscomp$538$$.$H$=$iframe$jscomp$43$$,$data$jscomp$inline_3199_e$jscomp$202_eventData$jscomp$inline_3198_muted$jscomp$inline_3201$$.$dispatchCustomEvent$(_.$mutedOrUnmutedEvent$$module$src$iframe_video$$($$jscomp$this$jscomp$538$$.$H$))))}}});return this.$loadPromise$($iframe$jscomp$43$$).then(function(){return $$jscomp$this$jscomp$538$$.$G$})};
_.$JSCompiler_prototypeAlias$$.$mutatedAttributesCallback$=function($mutations$jscomp$7$$){var $playerId$$=$mutations$jscomp$7$$["data-player"]||$mutations$jscomp$7$$["data-player-id"],$embed$jscomp$7$$=$mutations$jscomp$7$$["data-embed"],$playlistId$$=$mutations$jscomp$7$$["data-playlist-id"],$videoId$$=$mutations$jscomp$7$$["data-video-id"];void 0===$mutations$jscomp$7$$["data-account"]&&void 0===$playerId$$&&void 0===$playlistId$$&&void 0===$embed$jscomp$7$$&&void 0===$videoId$$||!this.$D$||(this.$D$.src=
$JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$getIframeSrc_$$(this))};_.$JSCompiler_prototypeAlias$$.$pauseCallback$=function(){this.$D$&&this.$D$.contentWindow&&this.$M$&&this.$J$&&this.pause()};_.$JSCompiler_prototypeAlias$$.$unlayoutOnPause$=function(){return this.$M$?!1:!0};
_.$JSCompiler_prototypeAlias$$.$unlayoutCallback$=function(){this.$D$&&(_.$removeElement$$module$src$dom$$(this.$D$),this.$D$=null);this.$K$&&this.$K$();var $deferred$jscomp$38$$=new _.$Deferred$$module$src$utils$promise$$;this.$G$=$deferred$jscomp$38$$.$promise$;this.$I$=$deferred$jscomp$38$$.resolve;return!0};_.$JSCompiler_prototypeAlias$$.$supportsPlatform$=function(){return!0};_.$JSCompiler_prototypeAlias$$.$isInteractive$=function(){return!0};
_.$JSCompiler_prototypeAlias$$.play=function(){$JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$sendCommand_$$(this,"play")};_.$JSCompiler_prototypeAlias$$.pause=function(){$JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$sendCommand_$$(this,"pause")};
_.$JSCompiler_prototypeAlias$$.$mute$=function(){$JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$sendCommand_$$(this,"muted",!0)};_.$JSCompiler_prototypeAlias$$.$unmute$=function(){$JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$sendCommand_$$(this,"muted",!1)};
_.$JSCompiler_prototypeAlias$$.$showControls$=function(){$JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$sendCommand_$$(this,"controls",!0)};_.$JSCompiler_prototypeAlias$$.$hideControls$=function(){$JSCompiler_StaticMethods_AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove_prototype$sendCommand_$$(this,"controls",!1)};_.$JSCompiler_prototypeAlias$$.$fullscreenEnter$=function(){this.$D$&&_.$fullscreenEnter$$module$src$dom$$(this.$D$)};
_.$JSCompiler_prototypeAlias$$.$fullscreenExit$=function(){this.$D$&&_.$fullscreenExit$$module$src$dom$$(this.$D$)};_.$JSCompiler_prototypeAlias$$.$preimplementsAutoFullscreen$=function(){return!1};_.$JSCompiler_prototypeAlias$$.getMetadata=function(){};_.$JSCompiler_prototypeAlias$$.$preimplementsMediaSessionAPI$=function(){return!0};_.$JSCompiler_prototypeAlias$$.$getCurrentTime$=function(){return this.$O$};_.$JSCompiler_prototypeAlias$$.$getDuration$=function(){return this.$P$};
_.$JSCompiler_prototypeAlias$$.$getPlayedRanges$=function(){return this.$R$};_.$JSCompiler_prototypeAlias$$.$seekTo$=function(){this.$user$().error("amp-brightcove","`seekTo` not supported.")};self.AMP.registerElement("amp-brightcove",$AmpBrightcove$$module$extensions$amp_brightcove$0_1$amp_brightcove$$);
})});

//# sourceMappingURL=amp-brightcove-0.1.js.map
