{"version":3,"sources":["/extensions/amp-gwd-animation/0.1/amp-gwd-animation-impl.js","/src/css.js","/extensions/amp-gwd-animation/0.1/amp-gwd-animation.js","/src/service/action-impl.js","/src/event-helper.js","/src/action-constants.js","/build/amp-gwd-animation-0.1.css.js"],"names":["constructor","ampdoc","opt_win","ampdoc_","win_","win","doc_","document","boundOnAnimationEndEvent_","onAnimationEndEvent_","bind","then","docReadyPromise","waitForBodyPromise","whenBodyAvailable","body","waitForChild","querySelector","cssEscape","GWD_PAGE_WRAPPER_CLASS","initialize_","deactivatePage_","pageEl","classList","remove","PLAY","concat","toArray","querySelectorAll","forEach","el","PAUSE","hasAttribute","CURRENT_LABEL_ANIMATION_ATTR","activeGotoAnimation","getAttribute","removeAttribute","getReceiver","id","receiver","getElementById","user","error","LOG_ID","playLabelAnimation_","label","currentLabel","self","offsetWidth","add","setAttribute","element","timelineEventPrefix_","fie_","boundOnGwdTimelineEvent_","onGwdTimelineEvent_","getRoot_","getAmpDoc","getRootNode","executeInvocation_","invocation","service","getExistingServiceForDocInEmbedScope","GWD_SERVICE_NAME","actionArgs","ACTION_IMPL_ARGS","argPaths","method","map","argPath","parts","split","value","i","length","part","undefined","apply","VENDOR_ANIMATIONEND_EVENTS","installInEmbedWindow","embedWin","installServiceInEmbedScope","AmpGwdRuntimeService","?.prototype","AmpGwdRuntimeService$$module$extensions$amp_gwd_animation$0_1$amp_gwd_animation_impl_prototype$initialize_","listenForAnimationEnd_","addEventListener","gwdPages","setCurrentPage","warn","activePageSelector","currentPageEl","scopedQuerySelector","newPageEl","index","play","pause","togglePlay","toggle","gotoAndPlay","gotoAndPause","setTimeout","GOTO_AND_PAUSE_DELAY","gotoAndPlayNTimes","maxCount","eventName","counterName","currentCount","hasOwn","event","userEventName","target","EVENT_NAME_ATTR","timelineEvent","createCustomEvent","GWD_TIMELINE_EVENT","dict","detail","dispatchEvent","dispose","unlistenForAnimationEnd_","removeEventListener","$jscomp.inherits","BaseElement","GwdAnimation","AMP","buildCallback","frameElement","getParentWindowFrameElement","getFriendlyIframeEmbedOptional","root","gwdPageDeck","getGwdPageDeck_","GWD_PAGEDECK_ID","setCurrentPageAction","currentActionsStr","eventActionsIndex","indexOf","eventPrefix","newActionsStr","substr","actionsStartIndex","actionStr","Services$$module$src$services.actionServiceForDoc","actionService","context","ACTION_MAP_","handler","actionHandler_","name","registerAction","shouldExecuteInvocation_","source","trigger","HIGH","detachedCallback","registerServiceForDoc","registerElement","TAG","CSS"],"mappings":"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","file":"amp-gwd-animation-0.1.js","sourcesContent":[]}