{"version":3,"sources":["/extensions/amp-dailymotion/0.1/amp-dailymotion.js","/src/event-helper.js","/src/url.js"],"names":["constructor","element","playerState_","UNSTARTED","videoid_","iframe_","muted_","playerReadyPromise_","playerReadyResolver_","startedBufferingPromise_","startedBufferingResolver_","isFullscreen_","sendCommand_","command","opt_args","then","contentWindow","message","JSON","stringify","dict","postMessage","endpoint","getIframeSrc_","iframeSrc","encodeURIComponent","explicitParamsAttributes","forEach","explicitParam","val","getAttribute","addParamToUrl","implicitParams","getDataParamsFromAttributes","addParamsToUrl","$jscomp.inherits","BaseElement","AmpDailymotion","AMP","preconnectCallback","?.prototype","opt_onLayout","preconnect","url","supportsPlatform","isInteractive","isLayoutSupported","layout","isLayoutSizeDefined","viewportCallback","visible","dispatchCustomEvent","VideoEvents","VISIBILITY","buildCallback","installVideoManagerForDoc","Services$$module$src$services.videoManagerForDoc","register","readyDeferred","Deferred","promise","resolve","bufferingDeferred","layoutCallback","createFrameFor","listen","win","handleEvents_","bind","loadPromise","event","originMatches","eventData","data","type","parseQueryString_","undefined","redispatch","LOAD","ENDED","PAUSE","PLAYING","API_READY","END","PLAY","VOLUMECHANGE","isMuted","mutedOrUnmutedEvent","STARTED_BUFFERING","FULLSCREEN_CHANGE","pauseCallback","pause","play","isAutoplay","mute","MUTED","unmute","UNMUTED","showControls","hideControls","fullscreenEnter","platform","Services$$module$src$services.platformFor","isSafari","isIos","fullscreenExit","getMetadata","preimplementsMediaSessionAPI","preimplementsAutoFullscreen","getCurrentTime","getDuration","getPlayedRanges","seekTo","user","error","TAG","registerElement"],"mappings":"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","file":"amp-dailymotion-0.1.js","sourcesContent":[]}