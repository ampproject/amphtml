(self.AMP=self.AMP||[]).push({n:"amp-bodymovin-animation",i:["_base_i","_base_media"],v:"1904281823091",f:(function(AMP,_){
var $AmpBodymovinAnimation$$module$extensions$amp_bodymovin_animation$0_1$amp_bodymovin_animation$$=function($$jscomp$super$this$jscomp$27_element$jscomp$403$$){$$jscomp$super$this$jscomp$27_element$jscomp$403$$=AMP.BaseElement.call(this,$$jscomp$super$this$jscomp$27_element$jscomp$403$$)||this;$$jscomp$super$this$jscomp$27_element$jscomp$403$$.$ampdoc_$=_.$getAmpdoc$$module$src$service$$($$jscomp$super$this$jscomp$27_element$jscomp$403$$.element);$$jscomp$super$this$jscomp$27_element$jscomp$403$$.$D$=
null;$$jscomp$super$this$jscomp$27_element$jscomp$403$$.$K$=null;$$jscomp$super$this$jscomp$27_element$jscomp$403$$.$H$=null;$$jscomp$super$this$jscomp$27_element$jscomp$403$$.$J$=null;$$jscomp$super$this$jscomp$27_element$jscomp$403$$.$F$=null;$$jscomp$super$this$jscomp$27_element$jscomp$403$$.$G$=null;$$jscomp$super$this$jscomp$27_element$jscomp$403$$.$I$=null;return $$jscomp$super$this$jscomp$27_element$jscomp$403$$},$JSCompiler_StaticMethods_AmpBodymovinAnimation$$module$extensions$amp_bodymovin_animation$0_1$amp_bodymovin_animation_prototype$sendCommand_$$=
function($JSCompiler_StaticMethods_AmpBodymovinAnimation$$module$extensions$amp_bodymovin_animation$0_1$amp_bodymovin_animation_prototype$sendCommand_$self$$,$action$jscomp$22$$,$opt_valueType$$,$opt_value$jscomp$11$$){$JSCompiler_StaticMethods_AmpBodymovinAnimation$$module$extensions$amp_bodymovin_animation$0_1$amp_bodymovin_animation_prototype$sendCommand_$self$$.$F$.then(function(){if($JSCompiler_StaticMethods_AmpBodymovinAnimation$$module$extensions$amp_bodymovin_animation$0_1$amp_bodymovin_animation_prototype$sendCommand_$self$$.$D$&&
$JSCompiler_StaticMethods_AmpBodymovinAnimation$$module$extensions$amp_bodymovin_animation$0_1$amp_bodymovin_animation_prototype$sendCommand_$self$$.$D$.contentWindow){var $message$jscomp$60$$=JSON.stringify(_.$dict$$module$src$utils$object$$({action:$action$jscomp$22$$,valueType:$opt_valueType$$||"",value:$opt_value$jscomp$11$$||""}));$JSCompiler_StaticMethods_AmpBodymovinAnimation$$module$extensions$amp_bodymovin_animation$0_1$amp_bodymovin_animation_prototype$sendCommand_$self$$.$D$.contentWindow.postMessage($message$jscomp$60$$,
"*")}})};_.$$jscomp$inherits$$($AmpBodymovinAnimation$$module$extensions$amp_bodymovin_animation$0_1$amp_bodymovin_animation$$,AMP.BaseElement);_.$JSCompiler_prototypeAlias$$=$AmpBodymovinAnimation$$module$extensions$amp_bodymovin_animation$0_1$amp_bodymovin_animation$$.prototype;_.$JSCompiler_prototypeAlias$$.$isLayoutSupported$=function($layout$jscomp$47$$){return _.$isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$47$$)};
_.$JSCompiler_prototypeAlias$$.$preconnectCallback$=function($opt_onLayout$jscomp$8$$){var $scriptToLoad$$="svg"===this.$H$?"https://cdnjs.cloudflare.com/ajax/libs/bodymovin/4.13.0/bodymovin_light.min.js":"https://cdnjs.cloudflare.com/ajax/libs/bodymovin/4.13.0/bodymovin.min.js";_.$preloadBootstrap$$module$src$3p_frame$$(this.$win$,this.$preconnect$);this.$preconnect$.url($scriptToLoad$$,$opt_onLayout$jscomp$8$$)};
_.$JSCompiler_prototypeAlias$$.$buildCallback$=function(){var $$jscomp$this$jscomp$532$$=this;this.$K$=this.element.getAttribute("loop")||"true";this.$J$=!this.element.hasAttribute("noautoplay");this.$H$=this.element.getAttribute("renderer")||"svg";this.element.getAttribute("src");var $deferred$jscomp$33$$=new _.$Deferred$$module$src$utils$promise$$;this.$F$=$deferred$jscomp$33$$.$promise$;this.$G$=$deferred$jscomp$33$$.resolve;_.$JSCompiler_StaticMethods_registerAction$$(this,"play",function(){$JSCompiler_StaticMethods_AmpBodymovinAnimation$$module$extensions$amp_bodymovin_animation$0_1$amp_bodymovin_animation_prototype$sendCommand_$$($$jscomp$this$jscomp$532$$,
"play")},1);_.$JSCompiler_StaticMethods_registerAction$$(this,"pause",function(){$JSCompiler_StaticMethods_AmpBodymovinAnimation$$module$extensions$amp_bodymovin_animation$0_1$amp_bodymovin_animation_prototype$sendCommand_$$($$jscomp$this$jscomp$532$$,"pause")},1);_.$JSCompiler_StaticMethods_registerAction$$(this,"stop",function(){$JSCompiler_StaticMethods_AmpBodymovinAnimation$$module$extensions$amp_bodymovin_animation$0_1$amp_bodymovin_animation_prototype$sendCommand_$$($$jscomp$this$jscomp$532$$,
"stop")},1);_.$JSCompiler_StaticMethods_registerAction$$(this,"seekTo",function($deferred$jscomp$33$$){if($deferred$jscomp$33$$=$deferred$jscomp$33$$.args){var $args$jscomp$35_invocation$jscomp$26_percent$jscomp$inline_3189$$=parseFloat($deferred$jscomp$33$$&&$deferred$jscomp$33$$.time);_.$isFiniteNumber$$module$src$types$$($args$jscomp$35_invocation$jscomp$26_percent$jscomp$inline_3189$$)&&$JSCompiler_StaticMethods_AmpBodymovinAnimation$$module$extensions$amp_bodymovin_animation$0_1$amp_bodymovin_animation_prototype$sendCommand_$$($$jscomp$this$jscomp$532$$,
"seekTo","time",$args$jscomp$35_invocation$jscomp$26_percent$jscomp$inline_3189$$);$deferred$jscomp$33$$=parseFloat($deferred$jscomp$33$$&&$deferred$jscomp$33$$.percent);_.$isFiniteNumber$$module$src$types$$($deferred$jscomp$33$$)&&$JSCompiler_StaticMethods_AmpBodymovinAnimation$$module$extensions$amp_bodymovin_animation$0_1$amp_bodymovin_animation_prototype$sendCommand_$$($$jscomp$this$jscomp$532$$,"seekTo","percent",_.$clamp$$module$src$utils$math$$($deferred$jscomp$33$$,0,1))}},1)};
_.$JSCompiler_prototypeAlias$$.$layoutCallback$=function(){var $$jscomp$this$jscomp$533$$=this;return _.$batchFetchJsonFor$$module$src$batched_json$$(this.$ampdoc_$,this.element).then(function($data$jscomp$144$$){var $iframe$jscomp$41$$=_.$getIframe$$module$src$3p_frame$$($$jscomp$this$jscomp$533$$.$win$,$$jscomp$this$jscomp$533$$.element,"bodymovinanimation",{loop:$$jscomp$this$jscomp$533$$.$K$,autoplay:$$jscomp$this$jscomp$533$$.$J$,$renderer$:$$jscomp$this$jscomp$533$$.$H$,$animationData$:$data$jscomp$144$$});
return _.$JSCompiler_StaticMethods_mutatePromise$$(_.$Services$$module$src$services$vsyncFor$$($$jscomp$this$jscomp$533$$.$win$),function(){_.$JSCompiler_StaticMethods_applyFillContent$$($iframe$jscomp$41$$);$$jscomp$this$jscomp$533$$.$I$=_.$listen$$module$src$event_helper$$($$jscomp$this$jscomp$533$$.$win$,"message",$$jscomp$this$jscomp$533$$.$handleBodymovinMessages_$.bind($$jscomp$this$jscomp$533$$));$$jscomp$this$jscomp$533$$.element.appendChild($iframe$jscomp$41$$);$$jscomp$this$jscomp$533$$.$D$=
$iframe$jscomp$41$$}).then(function(){return $$jscomp$this$jscomp$533$$.$F$})})};_.$JSCompiler_prototypeAlias$$.$unlayoutCallback$=function(){this.$D$&&(_.$removeElement$$module$src$dom$$(this.$D$),this.$D$=null);this.$I$&&this.$I$();var $deferred$jscomp$34$$=new _.$Deferred$$module$src$utils$promise$$;this.$F$=$deferred$jscomp$34$$.$promise$;this.$G$=$deferred$jscomp$34$$.resolve;return!0};
_.$JSCompiler_prototypeAlias$$.$handleBodymovinMessages_$=function($event$jscomp$106_eventData$jscomp$3$$){this.$D$&&$event$jscomp$106_eventData$jscomp$3$$.source!=this.$D$.contentWindow||!$event$jscomp$106_eventData$jscomp$3$$.data||!_.$isObject$$module$src$types$$($event$jscomp$106_eventData$jscomp$3$$.data)&&!_.$startsWith$$module$src$string$$($event$jscomp$106_eventData$jscomp$3$$.data,"{")||($event$jscomp$106_eventData$jscomp$3$$=_.$isObject$$module$src$types$$($event$jscomp$106_eventData$jscomp$3$$.data)?
$event$jscomp$106_eventData$jscomp$3$$.data:_.$parseJson$$module$src$json$$($event$jscomp$106_eventData$jscomp$3$$.data),void 0!==$event$jscomp$106_eventData$jscomp$3$$&&"ready"==$event$jscomp$106_eventData$jscomp$3$$.action&&this.$G$())};self.AMP.registerElement("amp-bodymovin-animation",$AmpBodymovinAnimation$$module$extensions$amp_bodymovin_animation$0_1$amp_bodymovin_animation$$);
})});

//# sourceMappingURL=amp-bodymovin-animation-0.1.js.map
