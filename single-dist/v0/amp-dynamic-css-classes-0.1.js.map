{"version":3,"sources":["/extensions/amp-dynamic-css-classes/0.1/amp-dynamic-css-classes.js","/src/service/viewer-impl.js"],"names":["referrers_","referrer","domainBase","split","domains","reduceRight","referrers","domain","push","normalizedReferrers","ampdoc","Services$$module$src$services.viewerForDoc","getUnconfirmedReferrerUrl","unconfirmedReferrerUrl_","Services$$module$src$services.urlForDoc","getHeadNode","parse","hostname","test","win","navigator","userAgent","addDynamicCssClasses","classes","isBodyAvailable","addCssClassesToBody","getBody","whenBodyAvailable","then","body","classList","i","length","add","addReferrerClasses","map","replace","Services$$module$src$services.vsyncFor","mutate","addViewerClass","viewer","messagingReadyPromise_","constructor","whenReady","Promise","resolve","AMP","registerServiceForDoc","AmpDynamicCssClasses"],"mappings":"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","file":"amp-dynamic-css-classes-0.1.js","sourcesContent":[]}