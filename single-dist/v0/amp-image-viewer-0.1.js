(self.AMP=self.AMP||[]).push({n:"amp-image-viewer",i:["_base_i","_base_misc"],v:"1904281823091",f:(function(AMP,_){
var $AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer$$=function($$jscomp$super$this$jscomp$64_element$jscomp$504$$){$$jscomp$super$this$jscomp$64_element$jscomp$504$$=AMP.BaseElement.call(this,$$jscomp$super$this$jscomp$64_element$jscomp$504$$)||this;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$F$=null;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$ia$=null;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$O$=0;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$W$=
0;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$G$=null;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$K$=null;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$ba$=null;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$fa$=null;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$D$=1;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$Y$=1;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$ga$=1;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$ha$=1;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$X$=
2;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$Z$=0;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$aa$=0;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$I$=0;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$J$=0;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$S$=0;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$U$=0;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$P$=0;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$R$=0;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$H$=
null;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$V$=null;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$ea$=null;$$jscomp$super$this$jscomp$64_element$jscomp$504$$.$M$=null;return $$jscomp$super$this$jscomp$64_element$jscomp$504$$},$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setSourceDimensions_$$=function($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setSourceDimensions_$self$$,
$ampImg$jscomp$2$$){var $img$jscomp$12$$=$ampImg$jscomp$2$$.querySelector("img");$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setSourceDimensions_$self$$.$measureElement$(function(){$img$jscomp$12$$?($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setSourceDimensions_$self$$.$O$=$img$jscomp$12$$.naturalWidth||$ampImg$jscomp$2$$.offsetWidth,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setSourceDimensions_$self$$.$W$=
$img$jscomp$12$$.naturalHeight||$ampImg$jscomp$2$$.offsetHeight):($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setSourceDimensions_$self$$.$O$=$ampImg$jscomp$2$$.offsetWidth,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setSourceDimensions_$self$$.$W$=$ampImg$jscomp$2$$.offsetHeight)})},$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$init_$$=
function($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$init_$self$$){if($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$init_$self$$.$F$)return Promise.resolve();$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$init_$self$$.$F$=$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$init_$self$$.element.ownerDocument.createElement("img");
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$init_$self$$.$F$.classList.add("i-amphtml-image-viewer-image");var $ampImg$jscomp$3$$=$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$init_$self$$.$ea$;$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setSourceDimensions_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$init_$self$$,
$ampImg$jscomp$3$$);$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$init_$self$$.$ia$=_.$srcsetFromElement$$module$src$srcset$$($ampImg$jscomp$3$$);return $JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$init_$self$$.$mutateElement$(function(){_.$setStyles$$module$src$style$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$init_$self$$.$F$,
{top:0,left:0,width:0,height:0});_.$toggle$$module$src$style$$($ampImg$jscomp$3$$,!1);$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$init_$self$$.element.appendChild($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$init_$self$$.$F$);return $ampImg$jscomp$3$$.$getImpl$().then(function($ampImg$jscomp$3$$){_.$JSCompiler_StaticMethods_propagateAttributes$$($ampImg$jscomp$3$$,$ARIA_ATTRIBUTES$$module$extensions$amp_image_viewer$0_1$amp_image_viewer$$,
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$init_$self$$.$F$)})})},$JSCompiler_StaticMethods_resetImageDimensions_$$=function($JSCompiler_StaticMethods_resetImageDimensions_$self$$){return $JSCompiler_StaticMethods_resetImageDimensions_$self$$.$measureElement$(function(){$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$G$=_.$layoutRectFromDomRect$$module$src$layout_rect$$($JSCompiler_StaticMethods_resetImageDimensions_$self$$.element.getBoundingClientRect());
var $sourceAspectRatio$jscomp$inline_3669$$=$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$O$/$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$W$,$elementBoxRatio$jscomp$inline_3672_height$jscomp$inline_3670$$=Math.min($JSCompiler_StaticMethods_resetImageDimensions_$self$$.$G$.width/$sourceAspectRatio$jscomp$inline_3669$$,$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$G$.height),$width$jscomp$inline_3671$$=Math.min($JSCompiler_StaticMethods_resetImageDimensions_$self$$.$G$.height*
$sourceAspectRatio$jscomp$inline_3669$$,$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$G$.width);16>=Math.abs($width$jscomp$inline_3671$$-$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$O$)&&Math.abs(16>=$elementBoxRatio$jscomp$inline_3672_height$jscomp$inline_3670$$-$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$W$)&&($width$jscomp$inline_3671$$=$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$O$,$elementBoxRatio$jscomp$inline_3672_height$jscomp$inline_3670$$=$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$W$);
$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$K$=_.$layoutRectLtwh$$module$src$layout_rect$$(Math.round(($JSCompiler_StaticMethods_resetImageDimensions_$self$$.$G$.width-$width$jscomp$inline_3671$$)/2),Math.round(($JSCompiler_StaticMethods_resetImageDimensions_$self$$.$G$.height-$elementBoxRatio$jscomp$inline_3672_height$jscomp$inline_3670$$)/2),Math.round($width$jscomp$inline_3671$$),Math.round($elementBoxRatio$jscomp$inline_3672_height$jscomp$inline_3670$$));$elementBoxRatio$jscomp$inline_3672_height$jscomp$inline_3670$$=
$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$G$.width/$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$G$.height;$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$X$=Math.max(2,Math.max($elementBoxRatio$jscomp$inline_3672_height$jscomp$inline_3670$$/$sourceAspectRatio$jscomp$inline_3669$$,$sourceAspectRatio$jscomp$inline_3669$$/$elementBoxRatio$jscomp$inline_3672_height$jscomp$inline_3670$$));$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$Y$=$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$D$=
1;$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$Z$=$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$I$=0;$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$aa$=$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$J$=0;$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoomBounds_$$($JSCompiler_StaticMethods_resetImageDimensions_$self$$,$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$D$)}).then(function(){var $image$jscomp$10$$=
$JSCompiler_StaticMethods_resetImageDimensions_$self$$.$F$;return $JSCompiler_StaticMethods_resetImageDimensions_$self$$.$mutateElement$(function(){_.$setStyles$$module$src$style$$($image$jscomp$10$$,{top:_.$px$$module$src$style$$($JSCompiler_StaticMethods_resetImageDimensions_$self$$.$K$.top),left:_.$px$$module$src$style$$($JSCompiler_StaticMethods_resetImageDimensions_$self$$.$K$.left),width:_.$px$$module$src$style$$($JSCompiler_StaticMethods_resetImageDimensions_$self$$.$K$.width),height:_.$px$$module$src$style$$($JSCompiler_StaticMethods_resetImageDimensions_$self$$.$K$.height)});
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoom_$$($JSCompiler_StaticMethods_resetImageDimensions_$self$$)},$image$jscomp$10$$)}).then(function(){return $JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updateSrc_$$($JSCompiler_StaticMethods_resetImageDimensions_$self$$)})},$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updateSrc_$$=
function($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updateSrc_$self$$){if(!$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updateSrc_$self$$.$ia$)return Promise.resolve();$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updateSrc_$self$$.$ga$=Math.max($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updateSrc_$self$$.$ga$,
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updateSrc_$self$$.$D$);var $src$jscomp$48$$=$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updateSrc_$self$$.$ia$.select(Math.max($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updateSrc_$self$$.$K$.width*$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updateSrc_$self$$.$ga$,
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updateSrc_$self$$.$O$),$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updateSrc_$self$$.$getDpr$());return $src$jscomp$48$$==$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updateSrc_$self$$.$F$.getAttribute("src")?Promise.resolve():$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updateSrc_$self$$.$mutateElement$(function(){$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updateSrc_$self$$.$F$.setAttribute("src",
$src$jscomp$48$$)},$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updateSrc_$self$$.$F$)},$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$$=function($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$){$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$.$H$=
_.$Gestures$$module$src$gesture$get$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$.element);_.$JSCompiler_StaticMethods_onGesture$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$.$H$,_.$DoubletapRecognizer$$module$src$gesture_recognizers$$,function($data$jscomp$172_gesture$$){$data$jscomp$172_gesture$$=$data$jscomp$172_gesture$$.data;
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoom_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$,1==$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$.$D$?$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$.$X$:
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$.$ha$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$.$G$.width/2-$data$jscomp$172_gesture$$.clientX,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$.$G$.height/2-$data$jscomp$172_gesture$$.clientY,!0).then(function(){return $JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoomRelease_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$)})});
_.$JSCompiler_StaticMethods_onGesture$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$.$H$,_.$TapRecognizer$$module$src$gesture_recognizers$$,function($gesture$jscomp$1_target$jscomp$inline_3675$$){$gesture$jscomp$1_target$jscomp$inline_3675$$=$gesture$jscomp$1_target$jscomp$inline_3675$$.data.target;var $event$jscomp$inline_3676$$=_.$createCustomEvent$$module$src$event_helper$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$.$win$,
"click",null,{bubbles:!0});$gesture$jscomp$1_target$jscomp$inline_3675$$.dispatchEvent($event$jscomp$inline_3676$$)});_.$JSCompiler_StaticMethods_onGesture$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$.$H$,_.$TapzoomRecognizer$$module$src$gesture_recognizers$$,function($data$jscomp$173_gesture$jscomp$2$$){$data$jscomp$173_gesture$jscomp$2$$=$data$jscomp$173_gesture$jscomp$2$$.data;var $deltaX$jscomp$inline_3681$$=
$data$jscomp$173_gesture$jscomp$2$$.deltaX,$deltaY$jscomp$inline_3682$$=$data$jscomp$173_gesture$jscomp$2$$.deltaY;$JSCompiler_StaticMethods_zoomToPoint_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$,$data$jscomp$173_gesture$jscomp$2$$.$centerClientX$,$data$jscomp$173_gesture$jscomp$2$$.$centerClientY$,$deltaX$jscomp$inline_3681$$,$deltaY$jscomp$inline_3682$$,Math.abs($deltaY$jscomp$inline_3682$$)>Math.abs($deltaX$jscomp$inline_3681$$)?
Math.sign($deltaY$jscomp$inline_3682$$):Math.sign(-$deltaX$jscomp$inline_3681$$));$data$jscomp$173_gesture$jscomp$2$$.$last$&&$JSCompiler_StaticMethods_onTapZoomRelease_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$,$data$jscomp$173_gesture$jscomp$2$$.$centerClientX$,$data$jscomp$173_gesture$jscomp$2$$.$centerClientY$,$data$jscomp$173_gesture$jscomp$2$$.deltaX,$data$jscomp$173_gesture$jscomp$2$$.deltaY,$data$jscomp$173_gesture$jscomp$2$$.velocityY,
$data$jscomp$173_gesture$jscomp$2$$.velocityY)});_.$JSCompiler_StaticMethods_onGesture$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$.$H$,_.$PinchRecognizer$$module$src$gesture_recognizers$$,function($data$jscomp$174_gesture$jscomp$3$$){$data$jscomp$174_gesture$jscomp$3$$=$data$jscomp$174_gesture$jscomp$3$$.data;$JSCompiler_StaticMethods_zoomToPoint_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$,
$data$jscomp$174_gesture$jscomp$3$$.$centerClientX$,$data$jscomp$174_gesture$jscomp$3$$.$centerClientY$,$data$jscomp$174_gesture$jscomp$3$$.deltaX,$data$jscomp$174_gesture$jscomp$3$$.deltaY,$data$jscomp$174_gesture$jscomp$3$$.dir);$data$jscomp$174_gesture$jscomp$3$$.$last$&&$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoomRelease_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$self$$)})},
$JSCompiler_StaticMethods_onZoomedIn_$$=function($JSCompiler_StaticMethods_onZoomedIn_$self$$){$JSCompiler_StaticMethods_onZoomedIn_$self$$.$ba$=_.$JSCompiler_StaticMethods_onGesture$$($JSCompiler_StaticMethods_onZoomedIn_$self$$.$H$,_.$SwipeXYRecognizer$$module$src$gesture_recognizers$$,function($data$jscomp$175_gesture$jscomp$4$$){$data$jscomp$175_gesture$jscomp$4$$=$data$jscomp$175_gesture$jscomp$4$$.data;$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$$($JSCompiler_StaticMethods_onZoomedIn_$self$$,
$JSCompiler_StaticMethods_onZoomedIn_$self$$.$D$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$boundValue_$$($JSCompiler_StaticMethods_onZoomedIn_$self$$.$Z$+$data$jscomp$175_gesture$jscomp$4$$.deltaX,$JSCompiler_StaticMethods_onZoomedIn_$self$$.$S$,$JSCompiler_StaticMethods_onZoomedIn_$self$$.$P$,0),$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$boundValue_$$($JSCompiler_StaticMethods_onZoomedIn_$self$$.$aa$+
$data$jscomp$175_gesture$jscomp$4$$.deltaY,$JSCompiler_StaticMethods_onZoomedIn_$self$$.$U$,$JSCompiler_StaticMethods_onZoomedIn_$self$$.$R$,0),!1);$data$jscomp$175_gesture$jscomp$4$$.$last$&&$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onMoveRelease_$$($JSCompiler_StaticMethods_onZoomedIn_$self$$,$data$jscomp$175_gesture$jscomp$4$$.velocityX,$data$jscomp$175_gesture$jscomp$4$$.velocityY)});$JSCompiler_StaticMethods_onZoomedIn_$self$$.$fa$=
_.$JSCompiler_StaticMethods_onPointerDown$$($JSCompiler_StaticMethods_onZoomedIn_$self$$.$H$,function(){$JSCompiler_StaticMethods_onZoomedIn_$self$$.$V$&&_.$JSCompiler_StaticMethods_Motion$$module$src$motion_prototype$halt$$($JSCompiler_StaticMethods_onZoomedIn_$self$$.$V$)})},$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$boundValue_$$=function($v$jscomp$19$$,$min$jscomp$10$$,$max$jscomp$12$$,$extent$jscomp$1$$){return Math.max($min$jscomp$10$$-
$extent$jscomp$1$$,Math.min($max$jscomp$12$$+$extent$jscomp$1$$,$v$jscomp$19$$))},$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoomBounds_$$=function($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoomBounds_$self$$,$dw$jscomp$2_maxX$jscomp$1_scale$jscomp$4$$){var $dh$jscomp$2_maxY$jscomp$2$$=$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoomBounds_$self$$.$G$.height-
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoomBounds_$self$$.$K$.height*$dw$jscomp$2_maxX$jscomp$1_scale$jscomp$4$$;if(0<=$dh$jscomp$2_maxY$jscomp$2$$)var $minY$jscomp$1$$=$dh$jscomp$2_maxY$jscomp$2$$=0;else $minY$jscomp$1$$=$dh$jscomp$2_maxY$jscomp$2$$/2,$dh$jscomp$2_maxY$jscomp$2$$=-$minY$jscomp$1$$;$dw$jscomp$2_maxX$jscomp$1_scale$jscomp$4$$=$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoomBounds_$self$$.$G$.width-
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoomBounds_$self$$.$K$.width*$dw$jscomp$2_maxX$jscomp$1_scale$jscomp$4$$;if(0<=$dw$jscomp$2_maxX$jscomp$1_scale$jscomp$4$$)var $minX$jscomp$1$$=$dw$jscomp$2_maxX$jscomp$1_scale$jscomp$4$$=0;else $minX$jscomp$1$$=$dw$jscomp$2_maxX$jscomp$1_scale$jscomp$4$$/2,$dw$jscomp$2_maxX$jscomp$1_scale$jscomp$4$$=-$minX$jscomp$1$$;$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoomBounds_$self$$.$S$=
$minX$jscomp$1$$;$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoomBounds_$self$$.$U$=$minY$jscomp$1$$;$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoomBounds_$self$$.$P$=$dw$jscomp$2_maxX$jscomp$1_scale$jscomp$4$$;$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoomBounds_$self$$.$R$=$dh$jscomp$2_maxY$jscomp$2$$},
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoom_$$=function($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoom_$self$$){_.$setStyles$$module$src$style$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoom_$self$$.$F$,{transform:_.$translate$$module$src$style$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoom_$self$$.$I$,
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoom_$self$$.$J$)+" "+_.$scale$$module$src$style$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoom_$self$$.$D$)})},$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onMoveRelease_$$=function($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onMoveRelease_$self$$,
$veloX$jscomp$4$$,$veloY$jscomp$4$$){$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onMoveRelease_$self$$.$V$=_.$continueMotion$$module$src$motion$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onMoveRelease_$self$$.$F$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onMoveRelease_$self$$.$I$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onMoveRelease_$self$$.$J$,
$veloX$jscomp$4$$,$veloY$jscomp$4$$,function($veloX$jscomp$4$$,$veloY$jscomp$4$$){$veloX$jscomp$4$$=$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$boundValue_$$($veloX$jscomp$4$$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onMoveRelease_$self$$.$S$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onMoveRelease_$self$$.$P$,
0);$veloY$jscomp$4$$=$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$boundValue_$$($veloY$jscomp$4$$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onMoveRelease_$self$$.$U$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onMoveRelease_$self$$.$R$,0);if(1>Math.abs($veloX$jscomp$4$$-$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onMoveRelease_$self$$.$I$)&&
1>Math.abs($veloY$jscomp$4$$-$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onMoveRelease_$self$$.$J$))return!1;$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onMoveRelease_$self$$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onMoveRelease_$self$$.$D$,
$veloX$jscomp$4$$,$veloY$jscomp$4$$,!1);return!0});_.$JSCompiler_StaticMethods_Motion$$module$src$motion_prototype$thenAlways$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onMoveRelease_$self$$.$V$,function(){$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onMoveRelease_$self$$.$V$=null;return $JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onMoveRelease_$self$$)})},
$JSCompiler_StaticMethods_zoomToPoint_$$=function($JSCompiler_StaticMethods_zoomToPoint_$self$$,$centerClientX$jscomp$4$$,$centerClientY$jscomp$4_deltaCenterY$jscomp$1$$,$deltaCenterX$jscomp$1_deltaX$jscomp$11$$,$deltaY$jscomp$12_dist$jscomp$2$$,$dir$jscomp$11_newScale$jscomp$6$$){0!=$dir$jscomp$11_newScale$jscomp$6$$&&($deltaY$jscomp$12_dist$jscomp$2$$=Math.sqrt($deltaCenterX$jscomp$1_deltaX$jscomp$11$$*$deltaCenterX$jscomp$1_deltaX$jscomp$11$$+$deltaY$jscomp$12_dist$jscomp$2$$*$deltaY$jscomp$12_dist$jscomp$2$$),
$dir$jscomp$11_newScale$jscomp$6$$=$JSCompiler_StaticMethods_zoomToPoint_$self$$.$Y$*(1+$dir$jscomp$11_newScale$jscomp$6$$*$deltaY$jscomp$12_dist$jscomp$2$$/100),$deltaCenterX$jscomp$1_deltaX$jscomp$11$$=$JSCompiler_StaticMethods_zoomToPoint_$self$$.$G$.width/2-$centerClientX$jscomp$4$$,$centerClientY$jscomp$4_deltaCenterY$jscomp$1$$=$JSCompiler_StaticMethods_zoomToPoint_$self$$.$G$.height/2-$centerClientY$jscomp$4_deltaCenterY$jscomp$1$$,$deltaCenterX$jscomp$1_deltaX$jscomp$11$$=Math.min($deltaCenterX$jscomp$1_deltaX$jscomp$11$$,
$deltaY$jscomp$12_dist$jscomp$2$$/100*$deltaCenterX$jscomp$1_deltaX$jscomp$11$$),$deltaY$jscomp$12_dist$jscomp$2$$=Math.min($centerClientY$jscomp$4_deltaCenterY$jscomp$1$$,$deltaY$jscomp$12_dist$jscomp$2$$/100*$centerClientY$jscomp$4_deltaCenterY$jscomp$1$$),$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoom_$$($JSCompiler_StaticMethods_zoomToPoint_$self$$,$dir$jscomp$11_newScale$jscomp$6$$,$deltaCenterX$jscomp$1_deltaX$jscomp$11$$,$deltaY$jscomp$12_dist$jscomp$2$$,
!1))},$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoom_$$=function($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoom_$self$$,$newScale$jscomp$7_scale$jscomp$5$$,$deltaX$jscomp$12$$,$deltaY$jscomp$13$$,$animate$jscomp$8$$){$newScale$jscomp$7_scale$jscomp$5$$=$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$boundValue_$$($newScale$jscomp$7_scale$jscomp$5$$,
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoom_$self$$.$ha$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoom_$self$$.$X$,.25);if($newScale$jscomp$7_scale$jscomp$5$$!=$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoom_$self$$.$D$)return $JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoomBounds_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoom_$self$$,
$newScale$jscomp$7_scale$jscomp$5$$),$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoom_$self$$,$newScale$jscomp$7_scale$jscomp$5$$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$boundValue_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoom_$self$$.$Z$+
$deltaX$jscomp$12$$*$newScale$jscomp$7_scale$jscomp$5$$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoom_$self$$.$S$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoom_$self$$.$P$,0),$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$boundValue_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoom_$self$$.$aa$+
$deltaY$jscomp$13$$*$newScale$jscomp$7_scale$jscomp$5$$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoom_$self$$.$U$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoom_$self$$.$R$,0),$animate$jscomp$8$$)},$JSCompiler_StaticMethods_onTapZoomRelease_$$=function($JSCompiler_StaticMethods_onTapZoomRelease_$self$$,$centerClientX$jscomp$5$$,$centerClientY$jscomp$5$$,$deltaX$jscomp$13$$,
$deltaY$jscomp$14$$,$veloX$jscomp$5$$,$veloY$jscomp$5$$){(0==$veloX$jscomp$5$$&&0==$veloY$jscomp$5$$?Promise.resolve():_.$JSCompiler_StaticMethods_Motion$$module$src$motion_prototype$thenAlways$$(_.$continueMotion$$module$src$motion$$($JSCompiler_StaticMethods_onTapZoomRelease_$self$$.$F$,$deltaX$jscomp$13$$,$deltaY$jscomp$14$$,$veloX$jscomp$5$$,$veloY$jscomp$5$$,function($deltaX$jscomp$13$$,$deltaY$jscomp$14$$){$JSCompiler_StaticMethods_zoomToPoint_$$($JSCompiler_StaticMethods_onTapZoomRelease_$self$$,
$centerClientX$jscomp$5$$,$centerClientY$jscomp$5$$,$deltaX$jscomp$13$$,$deltaY$jscomp$14$$,Math.abs($deltaY$jscomp$14$$)>Math.abs($deltaX$jscomp$13$$)?Math.sign($deltaY$jscomp$14$$):Math.sign(-$deltaX$jscomp$13$$));return!0}))).then(function(){$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoomRelease_$$($JSCompiler_StaticMethods_onTapZoomRelease_$self$$)})},$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoomRelease_$$=
function($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoomRelease_$self$$){var $relayout$jscomp$1$$=$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoomRelease_$self$$.$D$>$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoomRelease_$self$$.$Y$;return $JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoomRelease_$self$$).then(function(){$relayout$jscomp$1$$&&
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updateSrc_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoomRelease_$self$$);1<$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoomRelease_$self$$.$D$?$JSCompiler_StaticMethods_onZoomedIn_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoomRelease_$self$$):
($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoomRelease_$self$$.$ba$&&($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoomRelease_$self$$.$ba$(),$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoomRelease_$self$$.$ba$=null,_.$JSCompiler_StaticMethods_removeGesture$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoomRelease_$self$$.$H$)),
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoomRelease_$self$$.$fa$&&($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoomRelease_$self$$.$fa$(),$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$onZoomRelease_$self$$.$fa$=null))})},$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$$=
function($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$,$newScale$jscomp$8$$,$newPosX$jscomp$8$$,$newPosY$jscomp$8$$,$animate$jscomp$9$$){var $ds$jscomp$1$$=$newScale$jscomp$8$$-$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$.$D$,$dist$jscomp$3_dx$jscomp$12$$=$newPosX$jscomp$8$$-$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$.$I$,
$dur$jscomp$3_dy$jscomp$15$$=$newPosY$jscomp$8$$-$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$.$J$;$dist$jscomp$3_dx$jscomp$12$$=Math.sqrt($dist$jscomp$3_dx$jscomp$12$$*$dist$jscomp$3_dx$jscomp$12$$+$dur$jscomp$3_dy$jscomp$15$$*$dur$jscomp$3_dy$jscomp$15$$);$dur$jscomp$3_dy$jscomp$15$$=0;$animate$jscomp$9$$&&($dur$jscomp$3_dy$jscomp$15$$=Math.min(250,Math.max(2.5*$dist$jscomp$3_dx$jscomp$12$$,250*Math.abs($ds$jscomp$1$$))));
if(16<$dur$jscomp$3_dy$jscomp$15$$&&$animate$jscomp$9$$){var $scaleFunc$jscomp$1$$=_.$numeric$$module$src$transition$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$.$D$,$newScale$jscomp$8$$),$xFunc$jscomp$1$$=_.$numeric$$module$src$transition$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$.$I$,$newPosX$jscomp$8$$),$yFunc$jscomp$1$$=_.$numeric$$module$src$transition$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$.$J$,
$newPosY$jscomp$8$$);var $promise$jscomp$49$$=_.$JSCompiler_StaticMethods_AnimationPlayer$$module$src$animation_prototype$thenAlways$$(_.$Animation$$module$src$animation$animate$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$.$F$,function($newScale$jscomp$8$$){$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$.$D$=$scaleFunc$jscomp$1$$($newScale$jscomp$8$$);
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$.$I$=$xFunc$jscomp$1$$($newScale$jscomp$8$$);$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$.$J$=$yFunc$jscomp$1$$($newScale$jscomp$8$$);$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoom_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$)},
$dur$jscomp$3_dy$jscomp$15$$,$PAN_ZOOM_CURVE_$$module$extensions$amp_image_viewer$0_1$amp_image_viewer$$),function(){$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$.$D$=$newScale$jscomp$8$$;$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$.$I$=$newPosX$jscomp$8$$;$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$.$J$=
$newPosY$jscomp$8$$;$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoom_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$)})}else $JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$.$D$=$newScale$jscomp$8$$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$.$I$=
$newPosX$jscomp$8$$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$.$J$=$newPosY$jscomp$8$$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoom_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$self$$),$animate$jscomp$9$$?$promise$jscomp$49$$=Promise.resolve():$promise$jscomp$49$$=void 0;return $promise$jscomp$49$$},
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$$=function($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$){var $newScale$jscomp$9$$=$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$boundValue_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$.$D$,
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$.$ha$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$.$X$,0);$newScale$jscomp$9$$!=$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$.$D$&&$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$updatePanZoomBounds_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$,
$newScale$jscomp$9$$);return $JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$set_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$,$newScale$jscomp$9$$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$boundValue_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$.$I$/
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$.$D$*$newScale$jscomp$9$$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$.$S$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$.$P$,0),$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$boundValue_$$($JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$.$J$/
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$.$D$*$newScale$jscomp$9$$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$.$U$,$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$.$R$,0),!0).then(function(){$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$.$Y$=
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$.$D$;$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$.$Z$=$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$.$I$;$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$.$aa$=
$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$release_$self$$.$J$})};var $PAN_ZOOM_CURVE_$$module$extensions$amp_image_viewer$0_1$amp_image_viewer$$=_.$bezierCurve$$module$src$curve$$(.4,0,.2,1.4),$ARIA_ATTRIBUTES$$module$extensions$amp_image_viewer$0_1$amp_image_viewer$$=["aria-label","aria-describedby","aria-labelledby"];_.$$jscomp$inherits$$($AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer$$,AMP.BaseElement);_.$JSCompiler_prototypeAlias$$=$AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer$$.prototype;
_.$JSCompiler_prototypeAlias$$.$buildCallback$=function(){this.element.classList.add("i-amphtml-image-viewer");this.$ea$=this.$getRealChildren$()[0];_.$Resource$$module$src$service$resource$setOwner$$(this.$ea$,this.element)};_.$JSCompiler_prototypeAlias$$.$onMeasureChanged$=function(){var $$jscomp$this$jscomp$713$$=this;_.$closestAncestorElementBySelector$$module$src$dom$$(this.element,"[i-amphtml-scale-animation]")||this.$M$&&this.$M$.then(function(){return $JSCompiler_StaticMethods_resetImageDimensions_$$($$jscomp$this$jscomp$713$$)})};
_.$JSCompiler_prototypeAlias$$.$layoutCallback$=function(){var $$jscomp$this$jscomp$714$$=this;if(this.$M$)return this.$M$;if(_.$closestAncestorElementBySelector$$module$src$dom$$(this.element,"[i-amphtml-scale-animation]"))return Promise.resolve();var $ampImg$jscomp$1$$=this.$ea$,$haveImg$$=!!this.$F$,$laidOutPromise$$=$haveImg$$?Promise.resolve():$ampImg$jscomp$1$$.signals().whenSignal("load-end");$haveImg$$||this.$scheduleLayout$($ampImg$jscomp$1$$);return this.$M$=$laidOutPromise$$.then(function(){return $JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$init_$$($$jscomp$this$jscomp$714$$)}).then(function(){return $JSCompiler_StaticMethods_resetImageDimensions_$$($$jscomp$this$jscomp$714$$)}).then(function(){return $JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$$($$jscomp$this$jscomp$714$$)})};
_.$JSCompiler_prototypeAlias$$.$pauseCallback$=function(){var $$jscomp$this$jscomp$715$$=this;this.$M$&&this.$M$.then(function(){$JSCompiler_StaticMethods_resetImageDimensions_$$($$jscomp$this$jscomp$715$$);$$jscomp$this$jscomp$715$$.$H$&&($$jscomp$this$jscomp$715$$.$H$.$cleanup$(),$$jscomp$this$jscomp$715$$.$H$=null)})};
_.$JSCompiler_prototypeAlias$$.$resumeCallback$=function(){var $$jscomp$this$jscomp$716$$=this;this.$M$&&this.$M$.then(function(){$JSCompiler_StaticMethods_resetImageDimensions_$$($$jscomp$this$jscomp$716$$);$JSCompiler_StaticMethods_AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer_prototype$setupGestures_$$($$jscomp$this$jscomp$716$$)})};_.$JSCompiler_prototypeAlias$$.$unlayoutCallback$=function(){this.$H$&&(this.$H$.$cleanup$(),this.$H$=null);this.$M$=null;return!0};
_.$JSCompiler_prototypeAlias$$.$isLayoutSupported$=function($layout$jscomp$77$$){return"fill"==$layout$jscomp$77$$};_.$JSCompiler_prototypeAlias$$.$getImage$=function(){return this.$F$};_.$JSCompiler_prototypeAlias$$.$getImageBoxWithOffset$=function(){if(0==this.$I$&&0==this.$J$||!this.$K$)return this.$K$;var $expansionScale$$=(this.$D$-1)/2;return _.$moveLayoutRect$$module$src$layout_rect$$(_.$expandLayoutRect$$module$src$layout_rect$$(this.$K$,$expansionScale$$,$expansionScale$$),this.$I$,this.$J$)};
self.AMP.registerElement("amp-image-viewer",$AmpImageViewer$$module$extensions$amp_image_viewer$0_1$amp_image_viewer$$,".i-amphtml-image-viewer-image{position:absolute;-o-object-fit:contain;object-fit:contain}.i-amphtml-image-viewer{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;-webkit-transform:translateZ(0);transform:translateZ(0)}\n/*# sourceURL=/extensions/amp-image-viewer/0.1/amp-image-viewer.css*/");
})});

//# sourceMappingURL=amp-image-viewer-0.1.js.map
