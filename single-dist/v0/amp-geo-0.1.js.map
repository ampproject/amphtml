{"version":3,"sources":["/extensions/amp-geo/0.1/amp-geo.js","/extensions/amp-geo/0.1/amp-geo-presets.js","/extensions/amp-geo/0.1/amp-geo-in-group.js"],"names":["constructor","element","mode_","GEO_HOT_PATCH","error_","country_","matchedGroups_","definedGroups_","assertWithErrorReturn_","shouldBeTrueish","geoDeferred","resolve","findCountry_","ampdoc","preRenderMatch","getBody","className","match","PRE_RENDER_REGEX","trimmedCountryMatch","exec","COUNTRY","getMode","win","geoOverride","isCanary","localDev","test","GEO_OVERRIDE","toLowerCase","isProxyOrigin","Services$$module$src$services.urlForDoc","location","GEO_PRERENDER","dev","error","TAG","matchCountryGroups_","config","ISOCountryGroups","isObject","Object","keys","forEach","group","isArray","checkGroup_","push","countryGroup","reduce","countries","country","ampGeoPresets","concat","map","expandedGroup","c","includes","clearPreRender_","body","classList","classesToRemove","stripRe","i","length","addToBody_","getAmpDoc","states","whenBodyAvailable","then","self","ISOCountry","classesToAdd","GROUP_PREFIX","COUNTRY_PREFIX","mutateElement","toRemove","remove","toAdd","add","geoState","getElementById","GEO_ID","parentNode","removeChild","state","document","createElement","confScript","setAttribute","textContent","JSON","stringify","appendChild","id","matchedISOCountryGroups","allISOCountryGroups","isInCountryGroup","bind","$jscomp.inherits","BaseElement","AmpGeo","AMP","prerenderAllowed","buildCallback","children","isJsonScriptTag","tryParseJson","geo","targetGroup","targets","trim","split","filter","indexOf","NOT_DEFINED","IN","NOT_IN","Deferred","registerElement","registerServiceForDoc","SERVICE_TAG","promise"],"mappings":"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","file":"amp-geo-0.1.js","sourcesContent":[]}