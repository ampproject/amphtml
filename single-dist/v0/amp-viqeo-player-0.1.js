(self.AMP=self.AMP||[]).push({n:"amp-viqeo-player",i:["_base_i","_base_media"],v:"1904281823091",f:(function(AMP,_){
var $AmpViqeoPlayer$$module$extensions$amp_viqeo_player$0_1$amp_viqeo_player$$=function($$jscomp$super$this$jscomp$121_element$jscomp$770$$){$$jscomp$super$this$jscomp$121_element$jscomp$770$$=AMP.BaseElement.call(this,$$jscomp$super$this$jscomp$121_element$jscomp$770$$)||this;$$jscomp$super$this$jscomp$121_element$jscomp$770$$.$D$=null;$$jscomp$super$this$jscomp$121_element$jscomp$770$$.$G$=null;$$jscomp$super$this$jscomp$121_element$jscomp$770$$.$H$=null;$$jscomp$super$this$jscomp$121_element$jscomp$770$$.$K$=
null;$$jscomp$super$this$jscomp$121_element$jscomp$770$$.$I$=null;$$jscomp$super$this$jscomp$121_element$jscomp$770$$.$F$=null;$$jscomp$super$this$jscomp$121_element$jscomp$770$$.$J$=!1;$$jscomp$super$this$jscomp$121_element$jscomp$770$$.$M$="";return $$jscomp$super$this$jscomp$121_element$jscomp$770$$},$JSCompiler_StaticMethods_AmpViqeoPlayer$$module$extensions$amp_viqeo_player$0_1$amp_viqeo_player_prototype$sendCommand_$$=function($JSCompiler_StaticMethods_AmpViqeoPlayer$$module$extensions$amp_viqeo_player$0_1$amp_viqeo_player_prototype$sendCommand_$self_contentWindow$jscomp$2$$,
$command$jscomp$9$$){$JSCompiler_StaticMethods_AmpViqeoPlayer$$module$extensions$amp_viqeo_player$0_1$amp_viqeo_player_prototype$sendCommand_$self_contentWindow$jscomp$2$$.$D$&&($JSCompiler_StaticMethods_AmpViqeoPlayer$$module$extensions$amp_viqeo_player$0_1$amp_viqeo_player_prototype$sendCommand_$self_contentWindow$jscomp$2$$=$JSCompiler_StaticMethods_AmpViqeoPlayer$$module$extensions$amp_viqeo_player$0_1$amp_viqeo_player_prototype$sendCommand_$self_contentWindow$jscomp$2$$.$D$.contentWindow)&&("string"===
typeof $command$jscomp$9$$&&($command$jscomp$9$$={action:$command$jscomp$9$$}),$JSCompiler_StaticMethods_AmpViqeoPlayer$$module$extensions$amp_viqeo_player$0_1$amp_viqeo_player_prototype$sendCommand_$self_contentWindow$jscomp$2$$.postMessage($command$jscomp$9$$,"*"))};_.$$jscomp$inherits$$($AmpViqeoPlayer$$module$extensions$amp_viqeo_player$0_1$amp_viqeo_player$$,AMP.BaseElement);_.$JSCompiler_prototypeAlias$$=$AmpViqeoPlayer$$module$extensions$amp_viqeo_player$0_1$amp_viqeo_player$$.prototype;
_.$JSCompiler_prototypeAlias$$.$preconnectCallback$=function($opt_onLayout$jscomp$30$$){this.$preconnect$.url("https://api.viqeo.tv",$opt_onLayout$jscomp$30$$);this.$preconnect$.url("https://cdn.viqeo.tv",$opt_onLayout$jscomp$30$$)};_.$JSCompiler_prototypeAlias$$.$isLayoutSupported$=function($layout$jscomp$120$$){return _.$isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$120$$)};
_.$JSCompiler_prototypeAlias$$.$buildCallback$=function(){this.$M$=this.element.getAttribute("data-videoid");this.$J$=this.element.hasAttribute("autoplay");var $deferred$jscomp$66$$=new _.$Deferred$$module$src$utils$promise$$;this.$G$=$deferred$jscomp$66$$.$promise$;this.$H$=$deferred$jscomp$66$$.resolve;_.$installVideoManagerForDoc$$module$src$service$video_manager_impl$$(this.element);_.$Services$$module$src$services$videoManagerForDoc$$(this.element).register(this)};
_.$JSCompiler_prototypeAlias$$.$layoutCallback$=function(){var $$jscomp$this$jscomp$1415$$=this,$iframe$jscomp$99$$=_.$getIframe$$module$src$3p_frame$$(this.$win$,this.element,"viqeoplayer",{autoplay:this.$J$},{$allowFullscreen$:!0});$iframe$jscomp$99$$.setAttribute("allow","autoplay");this.$I$=_.$listen$$module$src$event_helper$$(this.$win$,"message",this.$handleViqeoMessages_$.bind(this));return this.$mutateElement$(function(){$$jscomp$this$jscomp$1415$$.element.appendChild($iframe$jscomp$99$$);
$$jscomp$this$jscomp$1415$$.$D$=$iframe$jscomp$99$$;_.$JSCompiler_StaticMethods_applyFillContent$$($iframe$jscomp$99$$)}).then(function(){return $$jscomp$this$jscomp$1415$$.$G$})};
_.$JSCompiler_prototypeAlias$$.$handleViqeoMessages_$=function($action$jscomp$48_event$jscomp$265$$){var $eventData$jscomp$22$$=$action$jscomp$48_event$jscomp$265$$.data;$eventData$jscomp$22$$&&$action$jscomp$48_event$jscomp$265$$.source===(this.$D$&&this.$D$.contentWindow)&&"ViqeoPlayer"===$eventData$jscomp$22$$.source&&($action$jscomp$48_event$jscomp$265$$=$eventData$jscomp$22$$.action,"ready"===$action$jscomp$48_event$jscomp$265$$?(this.element.$dispatchCustomEvent$(_.$VideoEvents$$module$src$video_interface$$.$LOAD$),
this.$H$(this.$D$)):"play"===$action$jscomp$48_event$jscomp$265$$?this.element.$dispatchCustomEvent$(_.$VideoEvents$$module$src$video_interface$$.$PLAYING$):"pause"===$action$jscomp$48_event$jscomp$265$$?this.element.$dispatchCustomEvent$(_.$VideoEvents$$module$src$video_interface$$.$PAUSE$):"mute"===$action$jscomp$48_event$jscomp$265$$?this.element.$dispatchCustomEvent$(_.$VideoEvents$$module$src$video_interface$$.$MUTED$):"unmute"===$action$jscomp$48_event$jscomp$265$$?this.element.$dispatchCustomEvent$(_.$VideoEvents$$module$src$video_interface$$.$UNMUTED$):
"volume"===$action$jscomp$48_event$jscomp$265$$&&(this.$K$=parseFloat($eventData$jscomp$22$$.value),0===this.$K$?this.element.$dispatchCustomEvent$(_.$VideoEvents$$module$src$video_interface$$.$MUTED$):this.element.$dispatchCustomEvent$(_.$VideoEvents$$module$src$video_interface$$.$UNMUTED$)))};
_.$JSCompiler_prototypeAlias$$.$unlayoutCallback$=function(){this.$D$&&(_.$removeElement$$module$src$dom$$(this.$D$),this.$D$=null);this.$I$&&this.$I$();var $deferred$jscomp$67$$=new _.$Deferred$$module$src$utils$promise$$;this.$G$=$deferred$jscomp$67$$.$promise$;this.$H$=$deferred$jscomp$67$$.resolve;return!0};
_.$JSCompiler_prototypeAlias$$.$createPlaceholderCallback$=function(){var $placeholder$jscomp$23$$=this.element.ownerDocument.createElement("amp-img");_.$JSCompiler_StaticMethods_propagateAttributes$$(this,["aria-label"],$placeholder$jscomp$23$$);$placeholder$jscomp$23$$.hasAttribute("aria-label")?$placeholder$jscomp$23$$.setAttribute("alt","Loading video - "+$placeholder$jscomp$23$$.getAttribute("aria-label")):$placeholder$jscomp$23$$.setAttribute("alt","Loading video");$placeholder$jscomp$23$$.setAttribute("src",
"https://cdn.viqeo.tv/preview/"+encodeURIComponent(this.$M$)+".jpg");$placeholder$jscomp$23$$.setAttribute("layout","fill");$placeholder$jscomp$23$$.setAttribute("placeholder","");$placeholder$jscomp$23$$.setAttribute("referrerpolicy","origin");_.$JSCompiler_StaticMethods_applyFillContent$$($placeholder$jscomp$23$$);return $placeholder$jscomp$23$$};_.$JSCompiler_prototypeAlias$$.$supportsPlatform$=function(){return!0};_.$JSCompiler_prototypeAlias$$.$isInteractive$=function(){return!0};
_.$JSCompiler_prototypeAlias$$.play=function(){$JSCompiler_StaticMethods_AmpViqeoPlayer$$module$extensions$amp_viqeo_player$0_1$amp_viqeo_player_prototype$sendCommand_$$(this,"play")};_.$JSCompiler_prototypeAlias$$.pause=function(){$JSCompiler_StaticMethods_AmpViqeoPlayer$$module$extensions$amp_viqeo_player$0_1$amp_viqeo_player_prototype$sendCommand_$$(this,"pause")};
_.$JSCompiler_prototypeAlias$$.$mute$=function(){$JSCompiler_StaticMethods_AmpViqeoPlayer$$module$extensions$amp_viqeo_player$0_1$amp_viqeo_player_prototype$sendCommand_$$(this,"mute")};_.$JSCompiler_prototypeAlias$$.$unmute$=function(){$JSCompiler_StaticMethods_AmpViqeoPlayer$$module$extensions$amp_viqeo_player$0_1$amp_viqeo_player_prototype$sendCommand_$$(this,"unmute")};_.$JSCompiler_prototypeAlias$$.$showControls$=function(){};_.$JSCompiler_prototypeAlias$$.$hideControls$=function(){};
_.$JSCompiler_prototypeAlias$$.$fullscreenEnter$=function(){this.$D$&&_.$fullscreenEnter$$module$src$dom$$(this.$D$)};_.$JSCompiler_prototypeAlias$$.$fullscreenExit$=function(){this.$D$&&_.$fullscreenExit$$module$src$dom$$(this.$D$)};_.$JSCompiler_prototypeAlias$$.getMetadata=function(){};_.$JSCompiler_prototypeAlias$$.$preimplementsMediaSessionAPI$=function(){return!1};_.$JSCompiler_prototypeAlias$$.$preimplementsAutoFullscreen$=function(){return!1};
_.$JSCompiler_prototypeAlias$$.$getCurrentTime$=function(){return this.$F$?this.$F$.$getCurrentTime$():0};_.$JSCompiler_prototypeAlias$$.$getDuration$=function(){return this.$F$?this.$F$.$getDuration$():1};_.$JSCompiler_prototypeAlias$$.$getPlayedRanges$=function(){return[]};_.$JSCompiler_prototypeAlias$$.$seekTo$=function(){this.$user$().error("amp-viqeo-player","`seekTo` not supported.")};self.AMP.registerElement("amp-viqeo-player",$AmpViqeoPlayer$$module$extensions$amp_viqeo_player$0_1$amp_viqeo_player$$);
})});

//# sourceMappingURL=amp-viqeo-player-0.1.js.map
