{"version":3,"sources":["/extensions/amp-delight-player/0.1/amp-delight-player.js","/src/event-helper.js","/src/video-interface.js","/build/amp-delight-player-0.1.css.js"],"names":["constructor","element","baseURL_","contentID_","totalDuration_","currentTime_","playedRanges_","isFullscreen_","iframe_","playerReadyPromise_","playerReadyResolver_","unlistenMessage_","unlistenScreenOrientationChange_","unlistenOrientationChange_","unlistenDeviceOrientation_","unlistenDeviceMotion_","placeholderEl_","sendCommand_","type","payload","then","iframe","contentWindow","postMessage","JSON","stringify","registerEventHandlers_","dispatchOrientationChangeEvents","WINDOW_ORIENTATIONCHANGE","orientation","window","dispatchScreenOrientationChangeEvents","screen","mozOrientation","msOrientation","SCREEN_CHANGE","angle","addEventListener","internalListenImplementation","eventType","opt_evtListenerOpts","win","listen","dispatchDeviceOrientationEvents","event","WINDOW_DEVICEORIENTATION","alpha","beta","gamma","absolute","timeStamp","dispatchDeviceMotionEvents","WINDOW_DEVICEMOTION","acceleration","x","y","z","accelerationIncludingGravity","rotationRate","interval","_template","$jscomp.inherits","BaseElement","AmpDelightPlayer","AMP","preconnectCallback","?.prototype","onLayout","preconnect","url","renderOutsideViewport","buildCallback","getAttribute","deferred","Deferred","promise","resolve","installVideoManagerForDoc","Services$$module$src$services.videoManagerForDoc","register","layoutCallback","createFrameFor","setAttribute","source","handleDelightMessage_","data","objOrParseJson","undefined","PING","guid","PONG","idx","READY","dispatchCustomEvent","VideoEvents","LOAD","PLAYING","PAUSED","PAUSE","ENDED","TIME_UPDATE","currentTime","playedRanges","MUTED","UNMUTED","DURATION","duration","EXPANDED","setStyle","MINIMIZED","ENTERED_FULLSCREEN","EXITED_FULLSCREEN","loadPromise","unlayoutCallback","hasAttribute","DOCK","removeElement","unregisterEventHandlers_","isLayoutSupported","layout","isLayoutSizeDefined","createPlaceholderCallback","placeholder","htmlFor","html","firstElementChild","firstLayoutCompleted","el","isInViewport","classList","add","listenOncePromise","Promise","super","pauseCallback","pause","resumeCallback","play","supportsPlatform","isInteractive","PLAY","mute","MUTE","unmute","UNMUTE","showControls","ENABLE_INTERFACE","hideControls","DISABLE_INTERFACE","fullscreenEnter","ENTER_FULLSCREEN","fullscreenExit","EXIT_FULLSCREEN","getMetadata","preimplementsMediaSessionAPI","preimplementsAutoFullscreen","getCurrentTime","getDuration","getPlayedRanges","seekTo","user","error","TAG","registerElement","CSS"],"mappings":"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","file":"amp-delight-player-0.1.js","sourcesContent":[]}