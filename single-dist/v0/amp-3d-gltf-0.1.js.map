{"version":3,"sources":["/extensions/amp-3d-gltf/0.1/amp-3d-gltf.js","/src/utils/object.js","/src/iframe-helper.js","/src/action-constants.js"],"names":["constructor","element","iframe_","willBeReady_","Deferred","willBeLoaded_","context_","unlistenMessage_","listenGltfViewerMessages_","listenIframe","evName","cb","listenFor","disposers","resolve","toggleFallback","forEach","d","sendCommandWhenReady_","action","args","promise","then","postMessage_","postMessageToWindows","iframe","win","contentWindow","origin","targetOrigin","type","dict","message","opt_is3P","$jscomp.inherits","BaseElement","Amp3dGltf","AMP","preconnectCallback","?.prototype","opt_onLayout","preloadBootstrap","preconnect","url","unlayoutCallback","removeElement","buildCallback","string","x","bool","getOption","name","fmt","dflt","hasAttribute","getAttribute","src","urlString","useAlpha","resolveRelativeUrl","getAmpDoc","getUrl","number","parseFloat","devicePixelRatio","registerAction","invocation","catch","e","dev","error","LOW","layoutCallback","canvas","document","createElement","gl","getContext","WebGLRenderingContext","Promise","getIframe","applyFillContent","appendChild","viewportCallback","inViewport","pauseCallback","resumeCallback","onLayoutMeasure","box","getLayoutBox","width","height","isLayoutSupported","layout","isLayoutSizeDefined","registerElement","TAG"],"mappings":"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","file":"amp-3d-gltf-0.1.js","sourcesContent":[]}