{"version":3,"sources":["/extensions/amp-mowplayer/0.1/amp-mowplayer.js","/src/event-helper.js"],"names":["constructor","element","mediaid_","muted_","iframe_","videoIframeSrc_","playerReadyPromise_","playerReadyResolver_","unlistenMessage_","getVideoIframeSrc_","addParamsToUrl","src","dict","params","sendCommand_","command","opt_args","then","contentWindow","message","JSON","stringify","postMessage","$jscomp.inherits","BaseElement","AmpMowplayer","AMP","preconnectCallback","?.prototype","opt_onLayout","preconnect","url","isLayoutSupported","layout","isLayoutSizeDefined","viewportCallback","visible","dispatchCustomEvent","VideoEvents","VISIBILITY","buildCallback","getAttribute","deferred","Deferred","promise","resolve","installVideoManagerForDoc","Services$$module$src$services.videoManagerForDoc","register","layoutCallback","createFrameFor","iframe","listen","win","handleMowMessage_","bind","loaded","loadPromise","listenToFrame_","window","location","href","origin","LOAD","unlayoutCallback","removeElement","pauseCallback","pause","mutatedAttributesCallback","mutations","event","originMatches","eventData","data","isJsonOrObj","objOrParseJson","eventType","info","attemptChangeHeight","catch","playerState","redispatch","toString","PLAYING","PAUSED","PAUSE","ENDED","muted","mutedOrUnmutedEvent","supportsPlatform","isInteractive","play","mute","unmute","showControls","hideControls","fullscreenEnter","fullscreenExit","getMetadata","preimplementsMediaSessionAPI","preimplementsAutoFullscreen","getCurrentTime","getDuration","getPlayedRanges","seekTo","user","error","TAG","registerElement"],"mappings":"A;AA2DEA,IAAAA,mEAAAA,QAAWA,CAACC,kDAADD,CAAUA,CACnBA,kDAAAA,CAAAA,GAAAA,YAAAA,KAAAA,CAAAA,IAAAA,CAAMC,kDAAND,CAAAA,EAAAA,IAGAA,mDAAAE,IAAAF,CAAgBA,EAGhBA,mDAAAG,IAAAH,CAAcA,CAAAA,CAGdA,mDAAAI,IAAAJ,CAAeA,IAGfA,mDAAAK,IAAAL,CAAuBA,IAGvBA;kDAAAM,IAAAN,CAA2BA,IAG3BA,mDAAAO,IAAAP,CAA4BA,IAG5BA,mDAAAQ,IAAAR,CAAwBA,IAtBLA,OAAAA,mDAAAA,CAArBA,CAmEAS,yHAAAA,QAAkBA,CAAlBA,6HAAkBA,CAAGA,CACnBA,MAAIA,8HAAAJ,IAAJI;AACSA,6HAAAJ,IADTI,CASOA,6HAAAJ,IATPI,CAMYC,CAAAA,kCAAAC,CAAeF,uCAAfE,CAHGC,CAAAA,iCAAAC,CAAKJ,CAClBA,KAAQA,6HAAAP,IADUO,CAALI,CAGHF,CAPOF,CAnErBT;AAyIAc,mHAAAA,QAAYA,CAAZA,uHAAYA,CAACC,mBAADD,CAAUE,qBAAVF,CAAoBA,CAC9BA,uHAAAR,IAAAW,KAAAH,CAA8BA,QAAAA,EAAMA,CAClCA,GAF4BA,uHAExBV,IAAJU;AAF4BA,uHAERV,IAAAc,cAApBJ,CAAgDA,CAC9CA,IAAMK,qBAAUC,IAAAC,UAAAP,CAAeF,CAAAA,iCAAAE,CAAKA,CAClCA,MAASA,SADyBA,CAElCA,KAAQC,mBAF0BD,CAGlCA,KAAQE,qBAARF,EAAoBA,EAHcA,CAALA,CAAfA,CAHUA,wHAQ1BV,IAAAc,cAAAI,YAAAR,CAA8CK,oBAA9CL,CAAuDA,2BAAvDA,CAN8CA,CADdA,CAApCA,CAD8BA,CA5IPS;CAAAA,oBAAAC,CAArBC,kEAAqBD,CAAAE,GAAAF,YAAAA,CAgCzBG,EAAAA,6BAAAA,CAAAA,kEAAAA,UAAAC;CAAAA,6BAAAD,qBAAAA,CAAAA,QAAkB,CAACE,yBAAD,CAAe,CACvB,IAAAC,uBAAe,IAAf,aACRA,uBAAAC,IAAA,CAAetB,wHAAA,CAAAA,IAAA,CAAf,CAEAqB,uBAAAC,IAAA,CAAe,2BAAf,CAA4CF,yBAA5C,CAEAC,uBAAAC,IAAA,CAAe,4BAAf,CAA6CF,yBAA7C,CAN+B,CAUjCD;CAAAA,6BAAAI,oBAAAA,CAAAA,QAAiB,CAACC,mBAAD,CAAS,CACxB,MAAOC,EAAAA,0CAAA,CAAoBD,mBAApB,CADiB,CAK1BL,EAAAA,6BAAAO,mBAAAA,CAAAA,QAAgB,CAACC,oBAAD,CAAU,CACxB,IAAAnC,QAAAoC,sBAAA,CAAiCC,CAAAA,2CAAAC,aAAjC,CAAyD,CAAEH,QAAAA,oBAAF,CAAzD,CADwB,CAK1BR;CAAAA,6BAAAY,gBAAAA,CAAAA,QAAa,EAAG,CACd,IAAAtC,IAAA,CACA,IAAAD,QAAAwC,aAAA,CAA0B,cAA1B,CAIA,KAAMC,sBAAW,IAAIC,CAAAA,sCACrB,KAAArC,IAAA,CAA2BoC,qBAAAE,UAC3B,KAAArC,IAAA,CAA4BmC,qBAAAG,QAE5BC,EAAAA,oEAAA,CAA0B,IAAA7C,QAA1B,CACA8C,EAAAA,oDAAA,CAA4B,IAAA9C,QAA5B,CAAA+C,SAAA,CAAmD,IAAnD,CAXc,CAgChBpB;CAAAA,6BAAAqB,iBAAAA,CAAAA,QAAc,EAAG,CAAA,IAAA,2BAAA,IAEf,KAAA7C,IAAA,CADe8C,CAAAA,2CAAAC,CAAe,IAAfA,CAAqB1C,wHAAA,CAAAA,IAAA,CAArB0C,CAEf,KAAA3C,IAAA,CAAwB4C,CAAAA,mCAAA,CACxB,IAAAC,MADwB,CAExB,SAFwB,CAGxB,IAAAC,oBAAAC,KAAA,CAA4B,IAA5B,CAHwB,CAKxB,KAAMC,mBAAS,IAAAC,cAAA,CAAiB,IAAArD,IAAjB,CAAAa,KAAA,CAAoC,QAAA,EAAM,CAEvDyC,0BAoHGtD,IAAL,EAIAU,kHAAA,CAxHE4C,0BAwHF;AAAkB,WAAlB,CAA+B,CAC/B,KAD+B,CAE/BC,MAAAC,SAAAC,KAF+B,CAG/BF,MAAAC,SAAAE,OAH+B,CAI/B,CAAA,CAJ+B,CAA/B,CAvHE,2BAAA7D,QAAAoC,sBAAA,CAAiCC,CAAAA,2CAAAyB,OAAjC,CAHuD,CAA1C,CAKf,KAAAxD,IAAA,CAA0BiD,kBAA1B,CACA,OAAOA,mBAdQ,CAkBjB5B;CAAAA,6BAAAoC,mBAAAA,CAAAA,QAAgB,EAAG,CACb,IAAA5D,IAAJ,GACE6D,CAAAA,iCAAA,CAAc,IAAA7D,IAAd,CACA,CAAA,IAAAA,IAAA,CAAe,IAFjB,CAII,KAAAI,IAAJ,EACE,IAAAA,IAAA,EAEF,KAAMkC,sBAAW,IAAIC,CAAAA,sCACrB,KAAArC,IAAA,CAA2BoC,qBAAAE,UAC3B,KAAArC,IAAA,CAA4BmC,qBAAAG,QAC5B,OAAO,CAAA,CAXU,CAenBjB,EAAAA,6BAAAsC,gBAAAA,CAAAA,QAAa,EAAG,CACV,IAAA9D,IAAJ,EAAoB,IAAAA,IAAAc,cAApB,EACE,IAAAiD,MAAA,EAFY,CAOhBvC;CAAAA,6BAAAwC,4BAAAA,CAAAA,QAAyB,CAACC,sBAAD,CAAY,CACF,IAAjC,EAAIA,sBAAA,CAAU,cAAV,CAAJ,EAGK,IAAAjE,IAHL,EAMAU,kHAAA,CAAAA,IAAA,CAAkB,eAAlB,CAAmC,CAAC,IAAAZ,IAAD,CAAnC,CAPmC,CAiCrC0B;CAAAA,6BAAA0B,oBAAAA,CAAAA,QAAiB,CAACgB,8EAAD,CAAQ,CACvB,GAAKC,CAAAA,0CAAA,CAAcD,8EAAd,CAAqB,IAAAlE,IAArB,CAAmC,2BAAnC,CAAL,GAGMoE,8EAED,CAFqBF,8ECxJwBG,KD0J7C,CAAAC,CAAAA,wCAAA,CAAYF,8EAAZ,CALL,EAKA,CAIA,IAAMC;AAAOE,CAAAA,2CAAA,CAAeH,8EAAf,CAEb,IAAY,IAAZ,EAAIC,qCAAJ,CAAA,CAIMG,8EAAAA,CAAYH,qCAAA,MAClB,KAAMI,kBAAOJ,qCAAA,KAAPI,EAAuB,EAErB5E,sCAAAA,CAAY,IAAZ,QAEU,mBAAlB,GAAI2E,8EAAJ;AACEE,CAAAA,gDAAA,CAAAA,IAAA,CAAyBD,iBAAA,WAAzB,CAAAE,MAAA,CAAmD,QAAA,EAAM,EAAzD,CAGF,KAAMC,8BAAcH,iBAAA,YACH,eAAjB,EAAID,8EAAJ,EAAkD,IAAlD,EAAmCI,6BAAnC,EACE,8EAAA,CAA4C,EAA5C,CAAAC,CAAAA,uCAAA,CAAWhF,qCAAX,CAAoB+E,6BAAAE,SAAA,EAApB;CAA4C,8EAAA,CA7LvCC,CA6LuC,CAAA,CAClB7C,CAAAA,2CAAA6C,UADkB,CAAA,8EAAA,CA5LxCC,CA4LwC,CAAA,CAEnB9C,CAAAA,2CAAA+C,QAFmB,CAAA,8EAAA,CA9LzCC,CA8LyC,CAAA,CAIpB,CAAChD,CAAAA,2CAAAgD,QAAD,CAAoBhD,CAAAA,2CAAA+C,QAApB,CAJoB,CAAA,8EAA5C,EADF;CAUME,6BACN,CADcV,iBAAA,MACd,CAAiB,cAAjB,EAAID,8EAAJ,EAAmCC,iBAAnC,EAAoD,IAApD,EAA2CU,6BAA3C,EACM,IAAApF,IADN,EACqBoF,6BADrB,GAIE,IAAApF,IACA,CADcoF,6BACd,CAAAtF,qCAAAoC,sBAAA,CAA4BmD,CAAAA,gDAAA,CAAoB,IAAArF,IAApB,CAA5B,CALF,CAXA,CAdA,CANA,CANuB,CAmEzByB,EAAAA,6BAAA6D,mBAAAA,CAAAA,QAAgB,EAAG,CACjB,MAAO,CAAA,CADU,CAKnB7D;CAAAA,6BAAA8D,gBAAAA,CAAAA,QAAa,EAAG,CACd,MAAO,CAAA,CADO,CAKhB9D,EAAAA,6BAAA+D,KAAAA,CAAAA,QAAI,EAAmB,CACrB7E,kHAAA,CAAAA,IAAA,CAAkB,WAAlB,CADqB,CAKvBc,EAAAA,6BAAAuC,MAAAA,CAAAA,QAAK,EAAG,CACNrD,kHAAA,CAAAA,IAAA,CAAkB,YAAlB,CADM,CAKRc;CAAAA,6BAAAgE,OAAAA,CAAAA,QAAI,EAAG,CACL9E,kHAAA,CAAAA,IAAA,CAAkB,MAAlB,CADK,CAKPc,EAAAA,6BAAAiE,SAAAA,CAAAA,QAAM,EAAG,CACP/E,kHAAA,CAAAA,IAAA,CAAkB,QAAlB,CADO,CAKTc,EAAAA,6BAAAkE,eAAAA,CAAAA,QAAY,EAAG,EAKflE,EAAAA,6BAAAmE,eAAAA,CAAAA,QAAY,EAAG,EAKfnE;CAAAA,6BAAAoE,kBAAAA,CAAAA,QAAe,EAAG,CACX,IAAA5F,IAAL,EAGA4F,CAAAA,mCAAA,CAAyC,IAAA5F,IAAzC,CAJgB,CAQlBwB,EAAAA,6BAAAqE,iBAAAA,CAAAA,QAAc,EAAG,CACV,IAAA7F,IAAL,EAGA6F,CAAAA,kCAAA,CAAwC,IAAA7F,IAAxC,CAJe,CAgBjBwB,EAAAA,6BAAAsE,YAAAA,CAAAA,QAAW,EAAG,EAKdtE,EAAAA,6BAAAuE,+BAAAA,CAAAA,QAA4B,EAAG,CAC7B,MAAO,CAAA,CADsB,CAK/BvE,EAAAA,6BAAAwE,8BAAAA,CAAAA,QAA2B,EAAG,CAC5B,MAAO,CAAA,CADqB,CAK9BxE;CAAAA,6BAAAyE,iBAAAA,CAAAA,QAAc,EAAG,CAEf,MAAO,EAFQ,CAMjBzE,EAAAA,6BAAA0E,cAAAA,CAAAA,QAAW,EAAG,CAEZ,MAAO,EAFK,CAMd1E,EAAAA,6BAAA2E,kBAAAA,CAAAA,QAAe,EAAG,CAEhB,MAAO,EAFS,CAMlB3E,EAAAA,6BAAA4E,SAAAA,CAAAA,QAAM,EAAoB,CACxB,IAAAC,OAAA,EAAAC,MAAA,CAhVQC,eAgVR,CAAuB,yBAAvB,CADwB,CAMF,KAAAjF,IACxBkF,gBAAA,CAtVUD,eAsVV,CAAyBlF,kEAAzB","file":"amp-mowplayer-0.1.js","sourcesContent":[]}