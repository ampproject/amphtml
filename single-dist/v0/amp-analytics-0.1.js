(self.AMP=self.AMP||[]).push({n:"amp-analytics",i:["_base_i","_base_misc"],v:"1904281823091",f:(function(AMP,_){
var $JSCompiler_StaticMethods_expandStringAsync$$=function($JSCompiler_StaticMethods_expandStringAsync$self$$,$source$jscomp$21$$,$opt_bindings$jscomp$3$$,$opt_whiteList$jscomp$4$$){return(new _.$Expander$$module$src$service$url_expander$expander$$($JSCompiler_StaticMethods_expandStringAsync$self$$.$D$,$opt_bindings$jscomp$3$$,void 0,void 0,$opt_whiteList$jscomp$4$$,!0)).expand($source$jscomp$21$$)},$expandTemplate$$module$src$string$$=function($template$jscomp$1$$,$getter$$){for(var $$jscomp$loop$423$$=
{},$i$jscomp$6$$=0;5>$i$jscomp$6$$&&($$jscomp$loop$423$$.$$jscomp$loop$prop$matches$424$=0,$template$jscomp$1$$=$template$jscomp$1$$.replace(/\${([^}]*)}/g,function($template$jscomp$1$$){return function($$jscomp$loop$423$$,$i$jscomp$6$$){$template$jscomp$1$$.$$jscomp$loop$prop$matches$424$++;return $getter$$($i$jscomp$6$$)}}($$jscomp$loop$423$$)),$$jscomp$loop$423$$.$$jscomp$loop$prop$matches$424$);$$jscomp$loop$423$$={$$jscomp$loop$prop$matches$424$:$$jscomp$loop$423$$.$$jscomp$loop$prop$matches$424$},
$i$jscomp$6$$++);return $template$jscomp$1$$},$layoutPositionRelativeToScrolledViewport$$module$src$layout_rect$$=function($layoutBox$$,$scrollLayoutBox_viewport$$,$scrollPos$$){$scrollLayoutBox_viewport$$=_.$layoutRectFromDomRect$$module$src$layout_rect$$({top:$scrollPos$$,bottom:$scrollPos$$+_.$JSCompiler_StaticMethods_getHeight$$($scrollLayoutBox_viewport$$),left:0,right:$scrollLayoutBox_viewport$$.getWidth()});return _.$layoutRectsOverlap$$module$src$layout_rect$$($layoutBox$$,$scrollLayoutBox_viewport$$)?
"inside":_.$layoutRectsRelativePos$$module$src$layout_rect$$($layoutBox$$,$scrollLayoutBox_viewport$$)},$base64UrlEncodeFromString$$module$src$utils$base64$$=function($bytes$jscomp$5_str$jscomp$14$$){$bytes$jscomp$5_str$jscomp$14$$=_.$utf8Encode$$module$src$utils$bytes$$($bytes$jscomp$5_str$jscomp$14$$);return _.$base64UrlEncodeFromBytes$$module$src$utils$base64$$($bytes$jscomp$5_str$jscomp$14$$)},$nativeIntersectionObserverSupported$$module$src$intersection_observer_polyfill$$=function($win$jscomp$142$$){return"IntersectionObserver"in
$win$jscomp$142$$&&"IntersectionObserverEntry"in $win$jscomp$142$$&&"intersectionRatio"in $win$jscomp$142$$.IntersectionObserverEntry.prototype},$crc32$$module$extensions$amp_analytics$0_1$crc32$$=function($bytes$jscomp$14_str$jscomp$22$$){if(!$crcTable$$module$extensions$amp_analytics$0_1$crc32$$){for(var $crc_crcTable$jscomp$inline_6363$$=Array(256),$i$jscomp$199_i$jscomp$inline_6364$$=0;256>$i$jscomp$199_i$jscomp$inline_6364$$;$i$jscomp$199_i$jscomp$inline_6364$$++){for(var $c$jscomp$inline_6365$$=
$i$jscomp$199_i$jscomp$inline_6364$$,$j$jscomp$inline_6366$$=0;8>$j$jscomp$inline_6366$$;$j$jscomp$inline_6366$$++)$c$jscomp$inline_6365$$=$c$jscomp$inline_6365$$&1?$c$jscomp$inline_6365$$>>>1^3988292384:$c$jscomp$inline_6365$$>>>1;$crc_crcTable$jscomp$inline_6363$$[$i$jscomp$199_i$jscomp$inline_6364$$]=$c$jscomp$inline_6365$$}$crcTable$$module$extensions$amp_analytics$0_1$crc32$$=$crc_crcTable$jscomp$inline_6363$$}$bytes$jscomp$14_str$jscomp$22$$=_.$utf8Encode$$module$src$utils$bytes$$($bytes$jscomp$14_str$jscomp$22$$);
$crc_crcTable$jscomp$inline_6363$$=4294967295;for($i$jscomp$199_i$jscomp$inline_6364$$=0;$i$jscomp$199_i$jscomp$inline_6364$$<$bytes$jscomp$14_str$jscomp$22$$.length;$i$jscomp$199_i$jscomp$inline_6364$$++)$crc_crcTable$jscomp$inline_6363$$=$crc_crcTable$jscomp$inline_6363$$>>>8^$crcTable$$module$extensions$amp_analytics$0_1$crc32$$[($crc_crcTable$jscomp$inline_6363$$^$bytes$jscomp$14_str$jscomp$22$$[$i$jscomp$199_i$jscomp$inline_6364$$])&255];return($crc_crcTable$jscomp$inline_6363$$^-1)>>>0},$createLinker$$module$extensions$amp_analytics$0_1$linker$$=
function($ids$jscomp$1_serializedIds$$){$ids$jscomp$1_serializedIds$$=$serialize$$module$extensions$amp_analytics$0_1$linker$$($ids$jscomp$1_serializedIds$$);return""===$ids$jscomp$1_serializedIds$$?"":["1",$crc32$$module$extensions$amp_analytics$0_1$crc32$$([$getFingerprint$$module$extensions$amp_analytics$0_1$linker$$(),Math.floor(Date.now()/6E4),$ids$jscomp$1_serializedIds$$].join("*")).toString(36),$ids$jscomp$1_serializedIds$$].join("*")},$getFingerprint$$module$extensions$amp_analytics$0_1$linker$$=
function(){var $win$jscomp$inline_2524$$=window;return[window.navigator.userAgent,(new Date).getTimezoneOffset(),$win$jscomp$inline_2524$$.navigator.$G$||$win$jscomp$inline_2524$$.navigator.language].join("*")},$serialize$$module$extensions$amp_analytics$0_1$linker$$=function($pairs$jscomp$1$$){return $pairs$jscomp$1$$?Object.keys($pairs$jscomp$1$$).filter(function($pairs$jscomp$1$$){var $key$jscomp$93$$=$KEY_VALIDATOR$$module$extensions$amp_analytics$0_1$linker$$.test($pairs$jscomp$1$$);$key$jscomp$93$$||
_.$user$$module$src$log$$().error("amp-analytics/linker","Invalid linker key: "+$pairs$jscomp$1$$);return $key$jscomp$93$$}).map(function($key$jscomp$94$$){return $key$jscomp$94$$+"*"+$base64UrlEncodeFromString$$module$src$utils$base64$$(String($pairs$jscomp$1$$[$key$jscomp$94$$]))}).join("*"):""},$LinkerReader$$module$extensions$amp_analytics$0_1$linker_reader$$=function($win$jscomp$306$$){this.$F$=$win$jscomp$306$$;this.$D$={}},$ExpansionOptions$$module$extensions$amp_analytics$0_1$variables$$=
function($vars$jscomp$12$$,$opt_iterations$$,$opt_noEncode$jscomp$1$$){this.$vars$=$vars$jscomp$12$$;this.iterations=void 0===$opt_iterations$$?2:$opt_iterations$$;this.$F$=!!$opt_noEncode$jscomp$1$$;this.$D$={}},$substrMacro$$module$extensions$amp_analytics$0_1$variables$$=function($str$jscomp$24$$,$s$jscomp$34_start$jscomp$15$$,$opt_l$$){$s$jscomp$34_start$jscomp$15$$=Number($s$jscomp$34_start$jscomp$15$$);var $length$jscomp$36$$=$str$jscomp$24$$.length;$opt_l$$&&($length$jscomp$36$$=Number($opt_l$$));
return $str$jscomp$24$$.substr($s$jscomp$34_start$jscomp$15$$,$length$jscomp$36$$)},$defaultMacro$$module$extensions$amp_analytics$0_1$variables$$=function($value$jscomp$184$$,$defaultValue$jscomp$6$$){return $value$jscomp$184$$&&$value$jscomp$184$$.length?$value$jscomp$184$$:_.$JSCompiler_StaticMethods_assertString$$(_.$user$$module$src$log$$(),$defaultValue$jscomp$6$$)},$replaceMacro$$module$extensions$amp_analytics$0_1$variables$$=function($string$jscomp$18$$,$matchPattern$$,$opt_newSubStr$$){$matchPattern$$||
_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("amp-analytics/variables","REPLACE macro must have two or more arguments");$opt_newSubStr$$||($opt_newSubStr$$="");return $string$jscomp$18$$.replace(new RegExp($matchPattern$$,"g"),$opt_newSubStr$$)},$VariableService$$module$extensions$amp_analytics$0_1$variables$$=function($window$jscomp$27$$){var $$jscomp$this$jscomp$377$$=this;this.$F$=$window$jscomp$27$$;this.$D$=_.$dict$$module$src$utils$object$$({});this.$I$=_.$getService$$module$src$service$$(this.$F$,
"amp-analytics-linker-reader");this.$D$.$DEFAULT=$defaultMacro$$module$extensions$amp_analytics$0_1$variables$$;this.$D$.$SUBSTR=$substrMacro$$module$extensions$amp_analytics$0_1$variables$$;$JSCompiler_StaticMethods_VariableService$$module$extensions$amp_analytics$0_1$variables_prototype$register_$$(this,"$TRIM",function($window$jscomp$27$$){return $window$jscomp$27$$.trim()});$JSCompiler_StaticMethods_VariableService$$module$extensions$amp_analytics$0_1$variables_prototype$register_$$(this,"$TOLOWERCASE",
function($window$jscomp$27$$){return $window$jscomp$27$$.toLowerCase()});$JSCompiler_StaticMethods_VariableService$$module$extensions$amp_analytics$0_1$variables_prototype$register_$$(this,"$TOUPPERCASE",function($window$jscomp$27$$){return $window$jscomp$27$$.toUpperCase()});$JSCompiler_StaticMethods_VariableService$$module$extensions$amp_analytics$0_1$variables_prototype$register_$$(this,"$NOT",function($window$jscomp$27$$){return String(!$window$jscomp$27$$)});$JSCompiler_StaticMethods_VariableService$$module$extensions$amp_analytics$0_1$variables_prototype$register_$$(this,
"$BASE64",function($window$jscomp$27$$){return $base64UrlEncodeFromString$$module$src$utils$base64$$($window$jscomp$27$$)});$JSCompiler_StaticMethods_VariableService$$module$extensions$amp_analytics$0_1$variables_prototype$register_$$(this,"$HASH",this.$H$.bind(this));$JSCompiler_StaticMethods_VariableService$$module$extensions$amp_analytics$0_1$variables_prototype$register_$$(this,"$IF",function($window$jscomp$27$$,$$jscomp$this$jscomp$377$$,$elseValue$$){return $window$jscomp$27$$?$$jscomp$this$jscomp$377$$:
$elseValue$$});this.$D$.$REPLACE=$replaceMacro$$module$extensions$amp_analytics$0_1$variables$$;$JSCompiler_StaticMethods_VariableService$$module$extensions$amp_analytics$0_1$variables_prototype$register_$$(this,"LINKER_PARAM",function($window$jscomp$27$$,$id$jscomp$55$$){return $$jscomp$this$jscomp$377$$.$I$.get($window$jscomp$27$$,$id$jscomp$55$$)})},$JSCompiler_StaticMethods_VariableService$$module$extensions$amp_analytics$0_1$variables_prototype$register_$$=function($JSCompiler_StaticMethods_VariableService$$module$extensions$amp_analytics$0_1$variables_prototype$register_$self$$,
$name$jscomp$204$$,$macro$jscomp$1$$){$JSCompiler_StaticMethods_VariableService$$module$extensions$amp_analytics$0_1$variables_prototype$register_$self$$.$D$[$name$jscomp$204$$]=$macro$jscomp$1$$},$JSCompiler_StaticMethods_expandTemplate$$=function($JSCompiler_StaticMethods_expandTemplate$self$$,$template$jscomp$14$$,$options$jscomp$30$$){return _.$tryResolve$$module$src$utils$promise$$($JSCompiler_StaticMethods_expandTemplate$self$$.$G$.bind($JSCompiler_StaticMethods_expandTemplate$self$$,$template$jscomp$14$$,
$options$jscomp$30$$))},$encodeVars$$module$extensions$amp_analytics$0_1$variables$$=function($$jscomp$destructuring$var324_raw$jscomp$3$$){if(null==$$jscomp$destructuring$var324_raw$jscomp$3$$)return"";if(_.$isArray$$module$src$types$$($$jscomp$destructuring$var324_raw$jscomp$3$$))return $$jscomp$destructuring$var324_raw$jscomp$3$$.map($encodeVars$$module$extensions$amp_analytics$0_1$variables$$).join(",");$$jscomp$destructuring$var324_raw$jscomp$3$$=$getNameArgs$$module$extensions$amp_analytics$0_1$variables$$(String($$jscomp$destructuring$var324_raw$jscomp$3$$));
var $argList$jscomp$3$$=$$jscomp$destructuring$var324_raw$jscomp$3$$.$argList$;return encodeURIComponent($$jscomp$destructuring$var324_raw$jscomp$3$$.name)+$argList$jscomp$3$$},$getNameArgs$$module$extensions$amp_analytics$0_1$variables$$=function($key$jscomp$97_match$jscomp$23$$){if(!$key$jscomp$97_match$jscomp$23$$)return{name:"",$argList$:""};$key$jscomp$97_match$jscomp$23$$=$key$jscomp$97_match$jscomp$23$$.match($VARIABLE_ARGS_REGEXP$$module$extensions$amp_analytics$0_1$variables$$);return{name:$key$jscomp$97_match$jscomp$23$$[1]||
$key$jscomp$97_match$jscomp$23$$[0],$argList$:$key$jscomp$97_match$jscomp$23$$[2]||""}},$variableServiceFor$$module$extensions$amp_analytics$0_1$variables$$=function($win$jscomp$310$$){return _.$getService$$module$src$service$$($win$jscomp$310$$,"amp-analytics-variables")},$getConsentStateStr$$module$extensions$amp_analytics$0_1$variables$$=function($element$jscomp$324$$){return _.$getConsentPolicyState$$module$src$consent$$($element$jscomp$324$$).then(function($element$jscomp$324$$){return $element$jscomp$324$$?
$EXTERNAL_CONSENT_POLICY_STATE_STRING$$module$extensions$amp_analytics$0_1$variables$$[$element$jscomp$324$$]:null})},$CookieWriter$$module$extensions$amp_analytics$0_1$cookie_writer$$=function($win$jscomp$311$$,$element$jscomp$325$$,$config$jscomp$30$$){this.$D$=$win$jscomp$311$$;this.$element_$=$element$jscomp$325$$;this.$I$=_.$Services$$module$src$services$urlReplacementsForDoc$$($element$jscomp$325$$);this.$G$=null;this.$F$=$config$jscomp$30$$;this.$H$=$variableServiceFor$$module$extensions$amp_analytics$0_1$variables$$(this.$D$).$D$},
$JSCompiler_StaticMethods_CookieWriter$$module$extensions$amp_analytics$0_1$cookie_writer_prototype$init_$$=function($JSCompiler_StaticMethods_CookieWriter$$module$extensions$amp_analytics$0_1$cookie_writer_prototype$init_$self$$){if(_.$isInFie$$module$src$friendly_iframe_embed$$($JSCompiler_StaticMethods_CookieWriter$$module$extensions$amp_analytics$0_1$cookie_writer_prototype$init_$self$$.$element_$)||_.$isProxyOrigin$$module$src$url$$($JSCompiler_StaticMethods_CookieWriter$$module$extensions$amp_analytics$0_1$cookie_writer_prototype$init_$self$$.$D$.location)||
"inabox"==_.$getMode$$module$src$mode$$($JSCompiler_StaticMethods_CookieWriter$$module$extensions$amp_analytics$0_1$cookie_writer_prototype$init_$self$$.$D$).runtime||!_.$hasOwn$$module$src$utils$object$$($JSCompiler_StaticMethods_CookieWriter$$module$extensions$amp_analytics$0_1$cookie_writer_prototype$init_$self$$.$F$,"cookies"))return Promise.resolve();if(!_.$isObject$$module$src$types$$($JSCompiler_StaticMethods_CookieWriter$$module$extensions$amp_analytics$0_1$cookie_writer_prototype$init_$self$$.$F$.cookies))return _.$user$$module$src$log$$().error("amp-analytics/cookie-writer",
"cookies config must be an object"),Promise.resolve();var $inputConfig$$=$JSCompiler_StaticMethods_CookieWriter$$module$extensions$amp_analytics$0_1$cookie_writer_prototype$init_$self$$.$F$.cookies;if(!1===$inputConfig$$.enabled)return Promise.resolve();for(var $ids$jscomp$2$$=Object.keys($inputConfig$$),$promises$jscomp$14$$=[],$i$jscomp$203$$=0;$i$jscomp$203$$<$ids$jscomp$2$$.length;$i$jscomp$203$$++){var $cookieName$jscomp$3$$=$ids$jscomp$2$$[$i$jscomp$203$$],$cookieObj$$=$inputConfig$$[$cookieName$jscomp$3$$];
$JSCompiler_StaticMethods_isValidCookieConfig_$$($cookieName$jscomp$3$$,$cookieObj$$)&&$promises$jscomp$14$$.push($JSCompiler_StaticMethods_expandAndWrite_$$($JSCompiler_StaticMethods_CookieWriter$$module$extensions$amp_analytics$0_1$cookie_writer_prototype$init_$self$$,$cookieName$jscomp$3$$,$cookieObj$$.value))}return Promise.all($promises$jscomp$14$$)},$JSCompiler_StaticMethods_isValidCookieConfig_$$=function($cookieName$jscomp$4_str$jscomp$25$$,$cookieConfig_name$jscomp$207$$){if($RESERVED_KEYS$$module$extensions$amp_analytics$0_1$cookie_writer$$[$cookieName$jscomp$4_str$jscomp$25$$])return!1;
if(!_.$isObject$$module$src$types$$($cookieConfig_name$jscomp$207$$))return _.$user$$module$src$log$$().error("amp-analytics/cookie-writer","cookieValue must be configured in an object"),!1;if(!_.$hasOwn$$module$src$utils$object$$($cookieConfig_name$jscomp$207$$,"value"))return _.$user$$module$src$log$$().error("amp-analytics/cookie-writer","value is required in the cookieValue object"),!1;$cookieName$jscomp$4_str$jscomp$25$$=$cookieConfig_name$jscomp$207$$.value;$cookieConfig_name$jscomp$207$$=$getNameArgs$$module$extensions$amp_analytics$0_1$variables$$($cookieName$jscomp$4_str$jscomp$25$$).name;
return $EXPAND_WHITELIST$$module$extensions$amp_analytics$0_1$cookie_writer$$[$cookieConfig_name$jscomp$207$$]?!0:(_.$user$$module$src$log$$().error("amp-analytics/cookie-writer","cookie value "+$cookieName$jscomp$4_str$jscomp$25$$+" not supported. Only QUERY_PARAM and LINKER_PARAM is supported"),!1)},$JSCompiler_StaticMethods_expandAndWrite_$$=function($JSCompiler_StaticMethods_expandAndWrite_$self$$,$cookieName$jscomp$5$$,$cookieValue$$){return $JSCompiler_StaticMethods_expandStringAsync$$($JSCompiler_StaticMethods_expandAndWrite_$self$$.$I$,
$cookieValue$$,$JSCompiler_StaticMethods_expandAndWrite_$self$$.$H$,$EXPAND_WHITELIST$$module$extensions$amp_analytics$0_1$cookie_writer$$).then(function($cookieValue$$){$cookieValue$$&&_.$setCookie$$module$src$cookies$$($JSCompiler_StaticMethods_expandAndWrite_$self$$.$D$,$cookieName$jscomp$5$$,$cookieValue$$,Date.now()+31536E6)}).catch(function($JSCompiler_StaticMethods_expandAndWrite_$self$$){_.$user$$module$src$log$$().error("amp-analytics/cookie-writer","Error expanding cookie string",$JSCompiler_StaticMethods_expandAndWrite_$self$$)})},
$findEngagedTimeBetween$$module$extensions$amp_analytics$0_1$activity_impl$$=function($activityEvent$$,$time$jscomp$21$$){var $engagementBonus$$=0;"active"===$activityEvent$$.type&&($engagementBonus$$=5);return Math.min($time$jscomp$21$$-$activityEvent$$.time,$engagementBonus$$)},$ActivityHistory$$module$extensions$amp_analytics$0_1$activity_impl$$=function(){this.$F$=0;this.$D$=void 0},$Activity$$module$extensions$amp_analytics$0_1$activity_impl$$=function($ampdoc$jscomp$129$$){this.ampdoc=$ampdoc$jscomp$129$$;
this.$R$=this.$stopIgnore_$.bind(this);this.$J$=this.$handleActivity_$.bind(this);this.$P$=this.$handleVisibilityChange_$.bind(this);this.$D$={};this.$K$=[];this.$G$=this.$F$=!1;this.$I$=new $ActivityHistory$$module$extensions$amp_analytics$0_1$activity_impl$$;this.$H$=_.$Services$$module$src$services$viewerForDoc$$(this.ampdoc);this.$O$=_.$Services$$module$src$services$viewportForDoc$$(this.ampdoc);this.$H$.$D$.then(this.$Activity$$module$extensions$amp_analytics$0_1$activity_impl_prototype$start_$.bind(this))},
$JSCompiler_StaticMethods_getTimeSinceStart_$$=function($JSCompiler_StaticMethods_getTimeSinceStart_$self_timeSinceStart$jscomp$2$$){$JSCompiler_StaticMethods_getTimeSinceStart_$self_timeSinceStart$jscomp$2$$=Date.now()-$JSCompiler_StaticMethods_getTimeSinceStart_$self_timeSinceStart$jscomp$2$$.$M$;return 0<$JSCompiler_StaticMethods_getTimeSinceStart_$self_timeSinceStart$jscomp$2$$?$JSCompiler_StaticMethods_getTimeSinceStart_$self_timeSinceStart$jscomp$2$$:0},$JSCompiler_StaticMethods_handleActivityEvent_$$=
function($JSCompiler_StaticMethods_handleActivityEvent_$self$$,$type$jscomp$181$$){var $timeSinceStart$jscomp$3$$=$JSCompiler_StaticMethods_getTimeSinceStart_$$($JSCompiler_StaticMethods_handleActivityEvent_$self$$),$secondKey$$=Math.floor($timeSinceStart$jscomp$3$$/1E3);setTimeout($JSCompiler_StaticMethods_handleActivityEvent_$self$$.$R$,1E3-$timeSinceStart$jscomp$3$$%1E3);$JSCompiler_StaticMethods_handleActivityEvent_$self$$.$I$.push({type:$type$jscomp$181$$,time:$secondKey$$})},$AnalyticsConfig$$module$extensions$amp_analytics$0_1$config$$=
function($element$jscomp$326$$){this.$element_$=$element$jscomp$326$$;this.$F$=null;this.$I$=$ANALYTICS_CONFIG$$module$extensions$amp_analytics$0_1$vendors$$;this.$G$={};this.$D$={};this.$H$=!1},$JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$loadConfig$$=function($JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$loadConfig$self$$){$JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$loadConfig$self$$.$F$=
$JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$loadConfig$self$$.$element_$.ownerDocument.defaultView;$JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$loadConfig$self$$.$H$=$JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$loadConfig$self$$.$element_$.hasAttribute("sandbox");return $JSCompiler_StaticMethods_fetchRemoteConfig_$$($JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$loadConfig$self$$).then($JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$loadConfig$self$$.$J$.bind($JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$loadConfig$self$$)).then(function(){return $JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$loadConfig$self$$.$G$})},
$JSCompiler_StaticMethods_fetchRemoteConfig_$$=function($JSCompiler_StaticMethods_fetchRemoteConfig_$self$$){var $remoteConfigUrl$$=$JSCompiler_StaticMethods_fetchRemoteConfig_$self$$.$element_$.getAttribute("config");if(!$remoteConfigUrl$$||$JSCompiler_StaticMethods_fetchRemoteConfig_$self$$.$H$)return Promise.resolve();var $TAG$jscomp$4$$=$JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$getName_$$($JSCompiler_StaticMethods_fetchRemoteConfig_$self$$);
$TAG$jscomp$4$$;var $fetchConfig$$={requireAmpResponseSourceOrigin:!1};$JSCompiler_StaticMethods_fetchRemoteConfig_$self$$.$element_$.hasAttribute("data-credentials")&&($fetchConfig$$.credentials=$JSCompiler_StaticMethods_fetchRemoteConfig_$self$$.$element_$.getAttribute("data-credentials"));return _.$JSCompiler_StaticMethods_expandUrlAsync$$(_.$Services$$module$src$services$urlReplacementsForDoc$$($JSCompiler_StaticMethods_fetchRemoteConfig_$self$$.$element_$),$remoteConfigUrl$$).then(function($TAG$jscomp$4$$){$remoteConfigUrl$$=
$TAG$jscomp$4$$;return _.$JSCompiler_StaticMethods_fetchJson$$(_.$Services$$module$src$services$xhrFor$$($JSCompiler_StaticMethods_fetchRemoteConfig_$self$$.$F$),$remoteConfigUrl$$,$fetchConfig$$)}).then(function($JSCompiler_StaticMethods_fetchRemoteConfig_$self$$){return $JSCompiler_StaticMethods_fetchRemoteConfig_$self$$.json()}).then(function($remoteConfigUrl$$){$JSCompiler_StaticMethods_fetchRemoteConfig_$self$$.$D$=$remoteConfigUrl$$;$TAG$jscomp$4$$},function($JSCompiler_StaticMethods_fetchRemoteConfig_$self$$){_.$user$$module$src$log$$().error($TAG$jscomp$4$$,
"Error loading remote config: ",$remoteConfigUrl$$,$JSCompiler_StaticMethods_fetchRemoteConfig_$self$$)})},$JSCompiler_StaticMethods_handleConfigRewriter_$$=function($JSCompiler_StaticMethods_handleConfigRewriter_$self$$,$config$jscomp$33$$,$configRewriterUrl$jscomp$1$$){var $TAG$jscomp$5$$=$JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$getName_$$($JSCompiler_StaticMethods_handleConfigRewriter_$self$$);$TAG$jscomp$5$$;return $JSCompiler_StaticMethods_handleVarGroups_$$($JSCompiler_StaticMethods_handleConfigRewriter_$self$$,
$config$jscomp$33$$).then(function(){var $fetchConfig$jscomp$1$$={method:"POST",body:$config$jscomp$33$$,requireAmpResponseSourceOrigin:!1};$JSCompiler_StaticMethods_handleConfigRewriter_$self$$.$element_$.hasAttribute("data-credentials")&&($fetchConfig$jscomp$1$$.credentials=$JSCompiler_StaticMethods_handleConfigRewriter_$self$$.$element_$.getAttribute("data-credentials"));return _.$JSCompiler_StaticMethods_expandUrlAsync$$(_.$Services$$module$src$services$urlReplacementsForDoc$$($JSCompiler_StaticMethods_handleConfigRewriter_$self$$.$element_$),
$configRewriterUrl$jscomp$1$$).then(function($config$jscomp$33$$){return _.$JSCompiler_StaticMethods_fetchJson$$(_.$Services$$module$src$services$xhrFor$$($JSCompiler_StaticMethods_handleConfigRewriter_$self$$.$F$),$config$jscomp$33$$,$fetchConfig$jscomp$1$$)}).then(function($JSCompiler_StaticMethods_handleConfigRewriter_$self$$){return $JSCompiler_StaticMethods_handleConfigRewriter_$self$$.json()}).then(function($config$jscomp$33$$){$JSCompiler_StaticMethods_handleConfigRewriter_$self$$.$G$=$JSCompiler_StaticMethods_mergeConfigs_$$($JSCompiler_StaticMethods_handleConfigRewriter_$self$$,
$config$jscomp$33$$);$TAG$jscomp$5$$},function($JSCompiler_StaticMethods_handleConfigRewriter_$self$$){_.$user$$module$src$log$$().error($TAG$jscomp$5$$,"Error rewriting configuration: ",$configRewriterUrl$jscomp$1$$,$JSCompiler_StaticMethods_handleConfigRewriter_$self$$)})})},$JSCompiler_StaticMethods_handleVarGroups_$$=function($JSCompiler_StaticMethods_handleVarGroups_$self$$,$pubConfig$$){var $TAG$jscomp$6_pubRewriterConfig_vendorVarGroups$$=$pubConfig$$.configRewriter,$pubVarGroups$$=$TAG$jscomp$6_pubRewriterConfig_vendorVarGroups$$&&
$TAG$jscomp$6_pubRewriterConfig_vendorVarGroups$$.varGroups;$TAG$jscomp$6_pubRewriterConfig_vendorVarGroups$$=($JSCompiler_StaticMethods_getTypeConfig_$$($JSCompiler_StaticMethods_handleVarGroups_$self$$).configRewriter||{}).varGroups;if(!$pubVarGroups$$&&!$TAG$jscomp$6_pubRewriterConfig_vendorVarGroups$$)return Promise.resolve();if($pubVarGroups$$&&!$TAG$jscomp$6_pubRewriterConfig_vendorVarGroups$$)return $TAG$jscomp$6_pubRewriterConfig_vendorVarGroups$$=$JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$getName_$$($JSCompiler_StaticMethods_handleVarGroups_$self$$),
_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$($TAG$jscomp$6_pubRewriterConfig_vendorVarGroups$$,"This analytics provider does not currently support varGroups"),Promise.resolve();$pubConfig$$.configRewriter=$pubConfig$$.configRewriter||{};var $rewriterConfig$$=$pubConfig$$.configRewriter;$rewriterConfig$$.vars=_.$dict$$module$src$utils$object$$({});var $allPromises$$=[],$mergedConfig$$=$pubVarGroups$$||{};_.$deepMerge$$module$src$utils$object$$($mergedConfig$$,$TAG$jscomp$6_pubRewriterConfig_vendorVarGroups$$);
Object.keys($mergedConfig$$).forEach(function($pubConfig$$){$pubConfig$$=$mergedConfig$$[$pubConfig$$];$pubConfig$$.enabled&&($pubConfig$$=$JSCompiler_StaticMethods_shallowExpandObject$$($JSCompiler_StaticMethods_handleVarGroups_$self$$,$JSCompiler_StaticMethods_handleVarGroups_$self$$.$element_$,$pubConfig$$).then(function($JSCompiler_StaticMethods_handleVarGroups_$self$$){delete $JSCompiler_StaticMethods_handleVarGroups_$self$$.enabled;Object.assign($rewriterConfig$$.vars,$JSCompiler_StaticMethods_handleVarGroups_$self$$)}),
$allPromises$$.push($pubConfig$$))});return Promise.all($allPromises$$).then(function(){if(!Object.keys($rewriterConfig$$.vars).length)return delete $pubConfig$$.configRewriter;$pubVarGroups$$&&delete $rewriterConfig$$.varGroups})},$JSCompiler_StaticMethods_mergeConfigs_$$=function($JSCompiler_StaticMethods_mergeConfigs_$self$$,$rewrittenConfig$$){var $config$jscomp$34$$=_.$dict$$module$src$utils$object$$({vars:{requestCount:0}});$mergeObjects$$module$extensions$amp_analytics$0_1$config$$($expandConfigRequest$$module$extensions$amp_analytics$0_1$config$$($JSCompiler_StaticMethods_mergeConfigs_$self$$.$I$["default"]||
{}),$config$jscomp$34$$);$mergeObjects$$module$extensions$amp_analytics$0_1$config$$($expandConfigRequest$$module$extensions$amp_analytics$0_1$config$$($JSCompiler_StaticMethods_getTypeConfig_$$($JSCompiler_StaticMethods_mergeConfigs_$self$$)),$config$jscomp$34$$,!0);$mergeObjects$$module$extensions$amp_analytics$0_1$config$$($expandConfigRequest$$module$extensions$amp_analytics$0_1$config$$($rewrittenConfig$$),$config$jscomp$34$$,!0);return $config$jscomp$34$$},$JSCompiler_StaticMethods_getTypeConfig_$$=
function($JSCompiler_StaticMethods_getTypeConfig_$self$$){var $type$jscomp$182$$=$JSCompiler_StaticMethods_getTypeConfig_$self$$.$element_$.getAttribute("type");return $JSCompiler_StaticMethods_getTypeConfig_$self$$.$I$[$type$jscomp$182$$]||{}},$JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$getName_$$=function($JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$getName_$self$$){return"AmpAnalytics "+($JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$getName_$self$$.$element_$.getAttribute("id")||
"<unknown id>")},$JSCompiler_StaticMethods_shallowExpandObject$$=function($JSCompiler_StaticMethods_shallowExpandObject$self$$,$element$jscomp$327$$,$obj$jscomp$42$$){var $expandedObj$$={},$keys$jscomp$7$$=[],$expansionPromises$$=[];Object.keys($obj$jscomp$42$$).forEach(function($expandedObj$$){$keys$jscomp$7$$.push($expandedObj$$);$expandedObj$$=$JSCompiler_StaticMethods_expandStringAsync$$(_.$Services$$module$src$services$urlReplacementsForDoc$$($element$jscomp$327$$),$obj$jscomp$42$$[$expandedObj$$],
$variableServiceFor$$module$extensions$amp_analytics$0_1$variables$$($JSCompiler_StaticMethods_shallowExpandObject$self$$.$F$).$D$);$expansionPromises$$.push($expandedObj$$)});return Promise.all($expansionPromises$$).then(function($JSCompiler_StaticMethods_shallowExpandObject$self$$){$keys$jscomp$7$$.forEach(function($element$jscomp$327$$,$obj$jscomp$42$$){return $expandedObj$$[$element$jscomp$327$$]=$JSCompiler_StaticMethods_shallowExpandObject$self$$[$obj$jscomp$42$$]});return $expandedObj$$})},
$mergeObjects$$module$extensions$amp_analytics$0_1$config$$=function($from$jscomp$3$$,$to$jscomp$2$$,$opt_predefinedConfig$$){if(null===$to$jscomp$2$$||void 0===$to$jscomp$2$$)$to$jscomp$2$$={};for(var $property$jscomp$13$$ in $from$jscomp$3$$)_.$hasOwn$$module$src$utils$object$$($from$jscomp$3$$,$property$jscomp$13$$)&&(_.$isArray$$module$src$types$$($from$jscomp$3$$[$property$jscomp$13$$])?(_.$isArray$$module$src$types$$($to$jscomp$2$$[$property$jscomp$13$$])||($to$jscomp$2$$[$property$jscomp$13$$]=
[]),$to$jscomp$2$$[$property$jscomp$13$$]=$mergeObjects$$module$extensions$amp_analytics$0_1$config$$($from$jscomp$3$$[$property$jscomp$13$$],$to$jscomp$2$$[$property$jscomp$13$$],$opt_predefinedConfig$$)):_.$isObject$$module$src$types$$($from$jscomp$3$$[$property$jscomp$13$$])?(_.$isObject$$module$src$types$$($to$jscomp$2$$[$property$jscomp$13$$])||($to$jscomp$2$$[$property$jscomp$13$$]={}),$to$jscomp$2$$[$property$jscomp$13$$]=$mergeObjects$$module$extensions$amp_analytics$0_1$config$$($from$jscomp$3$$[$property$jscomp$13$$],
$to$jscomp$2$$[$property$jscomp$13$$],$opt_predefinedConfig$$)):$to$jscomp$2$$[$property$jscomp$13$$]=$from$jscomp$3$$[$property$jscomp$13$$]);return $to$jscomp$2$$},$expandConfigRequest$$module$extensions$amp_analytics$0_1$config$$=function($config$jscomp$35$$){if(!$config$jscomp$35$$.requests)return $config$jscomp$35$$;for(var $k$jscomp$21$$ in $config$jscomp$35$$.requests)if(_.$hasOwn$$module$src$utils$object$$($config$jscomp$35$$.requests,$k$jscomp$21$$)){var $JSCompiler_temp_const$jscomp$726$$=
$config$jscomp$35$$.requests;var $JSCompiler_inline_result$jscomp$727_request$jscomp$inline_2576$$=$config$jscomp$35$$.requests[$k$jscomp$21$$];$JSCompiler_inline_result$jscomp$727_request$jscomp$inline_2576$$=_.$isObject$$module$src$types$$($JSCompiler_inline_result$jscomp$727_request$jscomp$inline_2576$$)?$JSCompiler_inline_result$jscomp$727_request$jscomp$inline_2576$$:{baseUrl:$JSCompiler_inline_result$jscomp$727_request$jscomp$inline_2576$$};$JSCompiler_temp_const$jscomp$726$$[$k$jscomp$21$$]=
$JSCompiler_inline_result$jscomp$727_request$jscomp$inline_2576$$}return $config$jscomp$35$$},$NO_UNLISTEN$$module$extensions$amp_analytics$0_1$events$$=function(){},$getTrackerKeyName$$module$extensions$amp_analytics$0_1$events$$=function($eventType$jscomp$32$$){return _.$startsWith$$module$src$string$$($eventType$jscomp$32$$,"video")?"video":$TRACKER_TYPE$$module$extensions$amp_analytics$0_1$events$$[$eventType$jscomp$32$$]||_.$isEnumValue$$module$src$types$$($AnalyticsEventType$$module$extensions$amp_analytics$0_1$events$$,
$eventType$jscomp$32$$)?_.$hasOwn$$module$src$utils$object$$($TRACKER_TYPE$$module$extensions$amp_analytics$0_1$events$$,$eventType$jscomp$32$$)?$TRACKER_TYPE$$module$extensions$amp_analytics$0_1$events$$[$eventType$jscomp$32$$].name:$eventType$jscomp$32$$:"custom"},$getTrackerTypesForParentType$$module$extensions$amp_analytics$0_1$events$$=function($parentType$$){var $filtered$$={};Object.keys($TRACKER_TYPE$$module$extensions$amp_analytics$0_1$events$$).forEach(function($key$jscomp$101$$){_.$hasOwn$$module$src$utils$object$$($TRACKER_TYPE$$module$extensions$amp_analytics$0_1$events$$,
$key$jscomp$101$$)&&-1!=$TRACKER_TYPE$$module$extensions$amp_analytics$0_1$events$$[$key$jscomp$101$$].$allowedFor$.indexOf($parentType$$)&&($filtered$$[$key$jscomp$101$$]=$TRACKER_TYPE$$module$extensions$amp_analytics$0_1$events$$[$key$jscomp$101$$].$klass$)},this);return $filtered$$},$AnalyticsEvent$$module$extensions$amp_analytics$0_1$events$$=function($target$jscomp$140$$,$type$jscomp$184$$,$opt_vars$jscomp$6$$){this.target=$target$jscomp$140$$;this.type=$type$jscomp$184$$;this.vars=$opt_vars$jscomp$6$$||
{}},$EventTracker$$module$extensions$amp_analytics$0_1$events$$=function($root$jscomp$47$$){this.$D$=$root$jscomp$47$$},$CustomEventTracker$$module$extensions$amp_analytics$0_1$events$$=function($root$jscomp$48$$){this.$D$=$root$jscomp$48$$;var $$jscomp$this$jscomp$385$$=this;this.$H$={};this.$F$={};this.$G$={};setTimeout(function(){$$jscomp$this$jscomp$385$$.$F$=void 0},1E4)},$ClickEventTracker$$module$extensions$amp_analytics$0_1$events$$=function($root$jscomp$49$$){this.$D$=$root$jscomp$49$$;this.$F$=
new _.$Observable$$module$src$observable$$;this.$G$=this.$F$.$fire$.bind(this.$F$);this.$D$.$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root_prototype$getRoot$().addEventListener("click",this.$G$)},$ScrollEventTracker$$module$extensions$amp_analytics$0_1$events$$=function($root$jscomp$50$$){this.$G$=this.$D$=$root$jscomp$50$$;this.$F$=null},$JSCompiler_StaticMethods_normalizeBoundaries_$$=function($bounds$$){var $result$jscomp$33$$=_.$dict$$module$src$utils$object$$({});if(!$bounds$$||
!Array.isArray($bounds$$))return $result$jscomp$33$$;for(var $b$jscomp$13$$=0;$b$jscomp$13$$<$bounds$$.length;$b$jscomp$13$$++){var $bound$jscomp$2$$=$bounds$$[$b$jscomp$13$$];if("number"!==typeof $bound$jscomp$2$$||!isFinite($bound$jscomp$2$$)){_.$user$$module$src$log$$().error("amp-analytics/events","Scroll trigger boundaries must be finite.");break}$bound$jscomp$2$$=Math.min(5*Math.round($bound$jscomp$2$$/5),100);$result$jscomp$33$$[$bound$jscomp$2$$]=!1}return $result$jscomp$33$$},$JSCompiler_StaticMethods_triggerScrollEvents_$$=
function($JSCompiler_StaticMethods_triggerScrollEvents_$self$$,$bounds$jscomp$1$$,$scrollPos$jscomp$2$$,$varName$jscomp$6$$,$listener$jscomp$77$$){if($scrollPos$jscomp$2$$)for(var $b$jscomp$14$$ in $bounds$jscomp$1$$)if(_.$hasOwn$$module$src$utils$object$$($bounds$jscomp$1$$,$b$jscomp$14$$)){var $bound$jscomp$3_vars$jscomp$13$$=parseInt($b$jscomp$14$$,10);$bound$jscomp$3_vars$jscomp$13$$>$scrollPos$jscomp$2$$||$bounds$jscomp$1$$[$bound$jscomp$3_vars$jscomp$13$$]||($bounds$jscomp$1$$[$bound$jscomp$3_vars$jscomp$13$$]=
!0,$bound$jscomp$3_vars$jscomp$13$$={},$bound$jscomp$3_vars$jscomp$13$$[$varName$jscomp$6$$]=$b$jscomp$14$$,$listener$jscomp$77$$(new $AnalyticsEvent$$module$extensions$amp_analytics$0_1$events$$($JSCompiler_StaticMethods_triggerScrollEvents_$self$$.$G$.$getRootElement$(),"scroll",$bound$jscomp$3_vars$jscomp$13$$)))}},$SignalTracker$$module$extensions$amp_analytics$0_1$events$$=function($root$jscomp$51$$){this.$D$=$root$jscomp$51$$},$IniLoadTracker$$module$extensions$amp_analytics$0_1$events$$=function($root$jscomp$52$$){this.$D$=
$root$jscomp$52$$},$TimerEventHandler$$module$extensions$amp_analytics$0_1$events$$=function($timerSpec$$,$opt_startBuilder$$,$opt_stopBuilder$$){this.$D$=void 0;this.$P$=Number($timerSpec$$.interval)||0;this.$S$="maxTimerLength"in $timerSpec$$?Number($timerSpec$$.maxTimerLength):7200;this.$R$="maxTimerLength"in $timerSpec$$;this.$O$="immediate"in $timerSpec$$?!!$timerSpec$$.immediate:!0;this.$F$=this.$H$=this.$M$=null;this.$G$=$opt_startBuilder$$||null;this.$K$=$opt_stopBuilder$$||null;this.$J$=
this.$I$=void 0},$JSCompiler_StaticMethods_unlistenForStart_$$=function($JSCompiler_StaticMethods_unlistenForStart_$self$$){$JSCompiler_StaticMethods_unlistenForStart_$self$$.$H$&&($JSCompiler_StaticMethods_unlistenForStart_$self$$.$H$(),$JSCompiler_StaticMethods_unlistenForStart_$self$$.$H$=null)},$JSCompiler_StaticMethods_listenForStop_$$=function($JSCompiler_StaticMethods_listenForStop_$self$$){if($JSCompiler_StaticMethods_listenForStop_$self$$.$K$)try{$JSCompiler_StaticMethods_listenForStop_$self$$.$F$=
$JSCompiler_StaticMethods_listenForStop_$self$$.$K$()}catch($e$247$$){throw $JSCompiler_StaticMethods_listenForStop_$self$$.$dispose$(),$e$247$$;}},$JSCompiler_StaticMethods_startIntervalInWindow$$=function($JSCompiler_StaticMethods_startIntervalInWindow$self$$,$win$jscomp$312$$,$timerCallback$$,$timeoutCallback$$){$JSCompiler_StaticMethods_startIntervalInWindow$self$$.$D$||($JSCompiler_StaticMethods_startIntervalInWindow$self$$.$I$=Date.now(),$JSCompiler_StaticMethods_startIntervalInWindow$self$$.$J$=
void 0,$JSCompiler_StaticMethods_startIntervalInWindow$self$$.$M$=$timerCallback$$,$JSCompiler_StaticMethods_startIntervalInWindow$self$$.$D$=$win$jscomp$312$$.setInterval(function(){$timerCallback$$()},1E3*$JSCompiler_StaticMethods_startIntervalInWindow$self$$.$P$),(!$JSCompiler_StaticMethods_startIntervalInWindow$self$$.$K$||$JSCompiler_StaticMethods_startIntervalInWindow$self$$.$K$&&$JSCompiler_StaticMethods_startIntervalInWindow$self$$.$R$)&&$win$jscomp$312$$.setTimeout(function(){$timeoutCallback$$()},
1E3*$JSCompiler_StaticMethods_startIntervalInWindow$self$$.$S$),$JSCompiler_StaticMethods_unlistenForStart_$$($JSCompiler_StaticMethods_startIntervalInWindow$self$$),$JSCompiler_StaticMethods_startIntervalInWindow$self$$.$O$&&$timerCallback$$(),$JSCompiler_StaticMethods_listenForStop_$$($JSCompiler_StaticMethods_startIntervalInWindow$self$$))},$JSCompiler_StaticMethods_TimerEventHandler$$module$extensions$amp_analytics$0_1$events_prototype$stopTimer_$$=function($JSCompiler_StaticMethods_TimerEventHandler$$module$extensions$amp_analytics$0_1$events_prototype$stopTimer_$self$$,
$win$jscomp$313$$){$JSCompiler_StaticMethods_TimerEventHandler$$module$extensions$amp_analytics$0_1$events_prototype$stopTimer_$self$$.$D$&&($JSCompiler_StaticMethods_TimerEventHandler$$module$extensions$amp_analytics$0_1$events_prototype$stopTimer_$self$$.$M$(),$JSCompiler_StaticMethods_TimerEventHandler$$module$extensions$amp_analytics$0_1$events_prototype$stopTimer_$self$$.$M$=null,$win$jscomp$313$$.clearInterval($JSCompiler_StaticMethods_TimerEventHandler$$module$extensions$amp_analytics$0_1$events_prototype$stopTimer_$self$$.$D$),
$JSCompiler_StaticMethods_TimerEventHandler$$module$extensions$amp_analytics$0_1$events_prototype$stopTimer_$self$$.$D$=void 0,$JSCompiler_StaticMethods_TimerEventHandler$$module$extensions$amp_analytics$0_1$events_prototype$stopTimer_$self$$.$J$=void 0,$JSCompiler_StaticMethods_TimerEventHandler$$module$extensions$amp_analytics$0_1$events_prototype$stopTimer_$self$$.$F$&&($JSCompiler_StaticMethods_TimerEventHandler$$module$extensions$amp_analytics$0_1$events_prototype$stopTimer_$self$$.$F$(),$JSCompiler_StaticMethods_TimerEventHandler$$module$extensions$amp_analytics$0_1$events_prototype$stopTimer_$self$$.$F$=
null),$JSCompiler_StaticMethods_TimerEventHandler$$module$extensions$amp_analytics$0_1$events_prototype$stopTimer_$self$$.$G$&&($JSCompiler_StaticMethods_TimerEventHandler$$module$extensions$amp_analytics$0_1$events_prototype$stopTimer_$self$$.$H$=$JSCompiler_StaticMethods_TimerEventHandler$$module$extensions$amp_analytics$0_1$events_prototype$stopTimer_$self$$.$G$()))},$TimerEventTracker$$module$extensions$amp_analytics$0_1$events$$=function($root$jscomp$53$$){this.$D$=$root$jscomp$53$$;this.$F$=
{};this.$G$=1},$JSCompiler_StaticMethods_getTracker_$$=function($JSCompiler_StaticMethods_getTracker_$self$$,$config$jscomp$42_eventType$jscomp$42_trackerKey$$){$config$jscomp$42_eventType$jscomp$42_trackerKey$$=_.$JSCompiler_StaticMethods_assertString$$(_.$user$$module$src$log$$(),$config$jscomp$42_eventType$jscomp$42_trackerKey$$.on);$config$jscomp$42_eventType$jscomp$42_trackerKey$$=$getTrackerKeyName$$module$extensions$amp_analytics$0_1$events$$($config$jscomp$42_eventType$jscomp$42_trackerKey$$);
return $JSCompiler_StaticMethods_getTrackerForWhitelist$$($JSCompiler_StaticMethods_getTracker_$self$$.$D$,$config$jscomp$42_eventType$jscomp$42_trackerKey$$,$getTrackerTypesForParentType$$module$extensions$amp_analytics$0_1$events$$("timer"))},$VideoEventTracker$$module$extensions$amp_analytics$0_1$events$$=function($root$jscomp$54$$){this.$D$=$root$jscomp$54$$;var $$jscomp$this$jscomp$392$$=this;this.$F$=new _.$Observable$$module$src$observable$$;this.$G$=this.$F$.$fire$.bind(this.$F$);Object.keys($VideoAnalyticsEvents$$module$src$video_interface$$).forEach(function($root$jscomp$54$$){$$jscomp$this$jscomp$392$$.$D$.$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root_prototype$getRoot$().addEventListener($VideoAnalyticsEvents$$module$src$video_interface$$[$root$jscomp$54$$],
$$jscomp$this$jscomp$392$$.$G$)})},$VisibilityTracker$$module$extensions$amp_analytics$0_1$events$$=function($root$jscomp$56$$){this.$D$=$root$jscomp$56$$;this.$F$={}},$JSCompiler_StaticMethods_VisibilityTracker$$module$extensions$amp_analytics$0_1$events_prototype$getReadyPromise$$=function($JSCompiler_StaticMethods_VisibilityTracker$$module$extensions$amp_analytics$0_1$events_prototype$getReadyPromise$self$$,$waitForSpec$jscomp$1$$,$selector$jscomp$28_trackerWhitelist_waitForTracker$$,$opt_element$jscomp$17$$){if(!$waitForSpec$jscomp$1$$)if($selector$jscomp$28_trackerWhitelist_waitForTracker$$)$waitForSpec$jscomp$1$$=
"ini-load";else return null;$selector$jscomp$28_trackerWhitelist_waitForTracker$$=$getTrackerTypesForParentType$$module$extensions$amp_analytics$0_1$events$$("visible");if($selector$jscomp$28_trackerWhitelist_waitForTracker$$=$JSCompiler_StaticMethods_VisibilityTracker$$module$extensions$amp_analytics$0_1$events_prototype$getReadyPromise$self$$.$F$[$waitForSpec$jscomp$1$$]||$JSCompiler_StaticMethods_getTrackerForWhitelist$$($JSCompiler_StaticMethods_VisibilityTracker$$module$extensions$amp_analytics$0_1$events_prototype$getReadyPromise$self$$.$D$,
$waitForSpec$jscomp$1$$,$selector$jscomp$28_trackerWhitelist_waitForTracker$$))$JSCompiler_StaticMethods_VisibilityTracker$$module$extensions$amp_analytics$0_1$events_prototype$getReadyPromise$self$$.$F$[$waitForSpec$jscomp$1$$]=$selector$jscomp$28_trackerWhitelist_waitForTracker$$;else return null;return $opt_element$jscomp$17$$?$selector$jscomp$28_trackerWhitelist_waitForTracker$$.$getElementSignal$($waitForSpec$jscomp$1$$,$opt_element$jscomp$17$$):$selector$jscomp$28_trackerWhitelist_waitForTracker$$.$getRootSignal$($waitForSpec$jscomp$1$$)},
$AnalyticsGroup$$module$extensions$amp_analytics$0_1$analytics_group$$=function($root$jscomp$57$$,$analyticsElement$jscomp$1$$){this.$F$=$root$jscomp$57$$;this.$G$=$analyticsElement$jscomp$1$$;this.$D$=[]},$ScrollManager$$module$extensions$amp_analytics$0_1$scroll_manager$$=function($ampdoc$jscomp$130$$){this.$D$=_.$Services$$module$src$services$viewportForDoc$$($ampdoc$jscomp$130$$);this.$F$=null;this.$G$=new _.$Observable$$module$src$observable$$},$getMinOpacity$$module$extensions$amp_analytics$0_1$opacity$$=
function($el$jscomp$43_minOpacityFound$$){var $el$jscomp$inline_2619_i$jscomp$209_parent$jscomp$inline_2621$$=$el$jscomp$43_minOpacityFound$$.parentElement,$nodeList$jscomp$inline_2620$$=[];if($el$jscomp$inline_2619_i$jscomp$209_parent$jscomp$inline_2621$$){var $$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$=$el$jscomp$inline_2619_i$jscomp$209_parent$jscomp$inline_2621$$;$nodeList$jscomp$inline_2620$$.push($$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$);
for(var $i$jscomp$inline_2623_opacity$jscomp$inline_2627$$=0;50>$i$jscomp$inline_2623_opacity$jscomp$inline_2627$$;$i$jscomp$inline_2623_opacity$jscomp$inline_2627$$++)if(($el$jscomp$inline_2619_i$jscomp$209_parent$jscomp$inline_2621$$=$$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$.parentNode||$$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$.parentElement)&&
1==$el$jscomp$inline_2619_i$jscomp$209_parent$jscomp$inline_2621$$.nodeType)$$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$=$el$jscomp$inline_2619_i$jscomp$209_parent$jscomp$inline_2621$$,$nodeList$jscomp$inline_2620$$.push($$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$);else if($el$jscomp$inline_2619_i$jscomp$209_parent$jscomp$inline_2621$$&&9==$el$jscomp$inline_2619_i$jscomp$209_parent$jscomp$inline_2621$$.nodeType)if(($el$jscomp$inline_2619_i$jscomp$209_parent$jscomp$inline_2621$$=
$$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$.ownerDocument.defaultView.frameElement)&&1==$el$jscomp$inline_2619_i$jscomp$209_parent$jscomp$inline_2621$$.nodeType)$$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$=$el$jscomp$inline_2619_i$jscomp$209_parent$jscomp$inline_2621$$,$nodeList$jscomp$inline_2620$$.push($$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$);
else break;else break}$nodeList$jscomp$inline_2620$$.push($el$jscomp$43_minOpacityFound$$);$el$jscomp$43_minOpacityFound$$=1;for($el$jscomp$inline_2619_i$jscomp$209_parent$jscomp$inline_2621$$=0;$el$jscomp$inline_2619_i$jscomp$209_parent$jscomp$inline_2621$$<$nodeList$jscomp$inline_2620$$.length&&(($$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$=$nodeList$jscomp$inline_2620$$[$el$jscomp$inline_2619_i$jscomp$209_parent$jscomp$inline_2621$$])?
($$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$=_.$computedStyle$$module$src$style$$(window,$$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$),$i$jscomp$inline_2623_opacity$jscomp$inline_2627$$=$$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$.opacity,"hidden"===$$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$.visibility?
$$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$=0:($$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$=""===$i$jscomp$inline_2623_opacity$jscomp$inline_2627$$?1:parseFloat($i$jscomp$inline_2623_opacity$jscomp$inline_2627$$),$$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$=isNaN($$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$)?
1:$$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$)):$$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$=1,$$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$<$el$jscomp$43_minOpacityFound$$&&($el$jscomp$43_minOpacityFound$$=$$jscomp$inline_2626_el$jscomp$inline_2625_element$jscomp$inline_2622_opacity$jscomp$1_opacityValue$jscomp$inline_2628$$),
0!==$el$jscomp$43_minOpacityFound$$);$el$jscomp$inline_2619_i$jscomp$209_parent$jscomp$inline_2621$$++);return $el$jscomp$43_minOpacityFound$$},$VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model$$=function($deferred$jscomp$31_spec$jscomp$11$$,$calcVisibility$$){var $$jscomp$this$jscomp$395$$=this;this.$ma$=$calcVisibility$$;this.$F$=_.$dict$$module$src$utils$object$$({visiblePercentageMin:Number($deferred$jscomp$31_spec$jscomp$11$$.visiblePercentageMin)/100||0,visiblePercentageMax:Number($deferred$jscomp$31_spec$jscomp$11$$.visiblePercentageMax)/
100||1,totalTimeMin:Number($deferred$jscomp$31_spec$jscomp$11$$.totalTimeMin)||0,totalTimeMax:Number($deferred$jscomp$31_spec$jscomp$11$$.totalTimeMax)||Infinity,continuousTimeMin:Number($deferred$jscomp$31_spec$jscomp$11$$.continuousTimeMin)||0,continuousTimeMax:Number($deferred$jscomp$31_spec$jscomp$11$$.continuousTimeMax)||Infinity});"0"===String($deferred$jscomp$31_spec$jscomp$11$$.visiblePercentageMax).trim()&&(this.$F$.visiblePercentageMax=0);this.$oa$=void 0!==$deferred$jscomp$31_spec$jscomp$11$$.reportWhen;
this.$la$=!0===$deferred$jscomp$31_spec$jscomp$11$$.repeat;this.$J$=new _.$Observable$$module$src$observable$$;$deferred$jscomp$31_spec$jscomp$11$$=new _.$Deferred$$module$src$utils$promise$$;this.$V$=$deferred$jscomp$31_spec$jscomp$11$$.$promise$;this.$K$=$deferred$jscomp$31_spec$jscomp$11$$.resolve;this.$V$.then(function(){$$jscomp$this$jscomp$395$$.$J$.$fire$()});this.$Z$=[];this.$na$=Date.now();this.$fa$=this.$ha$=!0;this.$D$=this.$U$=null;this.$aa$=this.$M$=!1;this.$ka$=this.$O$=this.$X$=this.$P$=
this.$ea$=this.$S$=this.$R$=this.$ba$=this.$W$=this.$G$=this.$I$=this.$H$=0;this.$ga$=this.$ia$=!1;this.$Y$=null},$JSCompiler_StaticMethods_onTriggerEvent$$=function($JSCompiler_StaticMethods_onTriggerEvent$self$$,$handler$jscomp$43$$){$JSCompiler_StaticMethods_onTriggerEvent$self$$.$J$&&$JSCompiler_StaticMethods_onTriggerEvent$self$$.$J$.add($handler$jscomp$43$$);$JSCompiler_StaticMethods_onTriggerEvent$self$$.$V$&&!$JSCompiler_StaticMethods_onTriggerEvent$self$$.$K$&&$handler$jscomp$43$$()},$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$setReady$$=
function($JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$setReady$self$$,$ready$jscomp$2$$){$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$setReady$self$$.$ha$=$ready$jscomp$2$$;$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$setReady$self$$.update()},$JSCompiler_StaticMethods_setReportReady$$=function($JSCompiler_StaticMethods_setReportReady$self$$,
$callback$jscomp$112$$){$JSCompiler_StaticMethods_setReportReady$self$$.$fa$=!1;$JSCompiler_StaticMethods_setReportReady$self$$.$U$=$callback$jscomp$112$$},$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$$=function($JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$,$reportReadyPromise_timeToWait$jscomp$1_visibility$jscomp$1$$){$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$ga$?
$JSCompiler_StaticMethods_isVisibilityMatch_$$($JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$,$reportReadyPromise_timeToWait$jscomp$1_visibility$jscomp$1$$)||$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$reset_$():$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$K$&&($JSCompiler_StaticMethods_updateCounters_$$($JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$,
$reportReadyPromise_timeToWait$jscomp$1_visibility$jscomp$1$$)||$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$oa$?($JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$D$&&(clearTimeout($JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$D$),$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$D$=
null),$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$fa$?($JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$K$(),$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$K$=null,$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$la$&&
($JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$ga$=!0,$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$H$=0)):$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$U$&&($reportReadyPromise_timeToWait$jscomp$1_visibility$jscomp$1$$=$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$U$(),
$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$U$=null,$reportReadyPromise_timeToWait$jscomp$1_visibility$jscomp$1$$.then(function(){$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$fa$=!0;$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.update()}))):$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$M$&&
!$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$D$?($reportReadyPromise_timeToWait$jscomp$1_visibility$jscomp$1$$=$JSCompiler_StaticMethods_computeTimeToWait_$$($JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$),0<$reportReadyPromise_timeToWait$jscomp$1_visibility$jscomp$1$$&&($JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$D$=
setTimeout(function(){$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$D$=null;$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.update()},$reportReadyPromise_timeToWait$jscomp$1_visibility$jscomp$1$$))):!$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$M$&&$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$D$&&
(clearTimeout($JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$D$),$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$self$$.$D$=null))},$JSCompiler_StaticMethods_isVisibilityMatch_$$=function($JSCompiler_StaticMethods_isVisibilityMatch_$self$$,$visibility$jscomp$2$$){return 1==$JSCompiler_StaticMethods_isVisibilityMatch_$self$$.$F$.visiblePercentageMin?1==$visibility$jscomp$2$$:
0==$JSCompiler_StaticMethods_isVisibilityMatch_$self$$.$F$.visiblePercentageMax?0==$visibility$jscomp$2$$:$visibility$jscomp$2$$>$JSCompiler_StaticMethods_isVisibilityMatch_$self$$.$F$.visiblePercentageMin&&$visibility$jscomp$2$$<=$JSCompiler_StaticMethods_isVisibilityMatch_$self$$.$F$.visiblePercentageMax},$JSCompiler_StaticMethods_updateCounters_$$=function($JSCompiler_StaticMethods_updateCounters_$self$$,$visibility$jscomp$3$$){var $now$jscomp$25$$=Date.now();0<$visibility$jscomp$3$$&&($JSCompiler_StaticMethods_updateCounters_$self$$.$W$=
$JSCompiler_StaticMethods_updateCounters_$self$$.$W$||$now$jscomp$25$$,$JSCompiler_StaticMethods_updateCounters_$self$$.$ba$=$now$jscomp$25$$,!$JSCompiler_StaticMethods_updateCounters_$self$$.$ea$&&300>$now$jscomp$25$$-$JSCompiler_StaticMethods_updateCounters_$self$$.$na$&&($JSCompiler_StaticMethods_updateCounters_$self$$.$ea$=$visibility$jscomp$3$$));var $prevMatchesVisibility$$=$JSCompiler_StaticMethods_updateCounters_$self$$.$M$,$timeSinceLastUpdate$$=$JSCompiler_StaticMethods_updateCounters_$self$$.$O$?
$now$jscomp$25$$-$JSCompiler_StaticMethods_updateCounters_$self$$.$O$:0;$JSCompiler_StaticMethods_updateCounters_$self$$.$M$=$JSCompiler_StaticMethods_isVisibilityMatch_$$($JSCompiler_StaticMethods_updateCounters_$self$$,$visibility$jscomp$3$$);$JSCompiler_StaticMethods_updateCounters_$self$$.$M$?($JSCompiler_StaticMethods_updateCounters_$self$$.$aa$=!0,$prevMatchesVisibility$$?($JSCompiler_StaticMethods_updateCounters_$self$$.$G$+=$timeSinceLastUpdate$$,$JSCompiler_StaticMethods_updateCounters_$self$$.$H$+=
$timeSinceLastUpdate$$,$JSCompiler_StaticMethods_updateCounters_$self$$.$I$=Math.max($JSCompiler_StaticMethods_updateCounters_$self$$.$I$,$JSCompiler_StaticMethods_updateCounters_$self$$.$H$)):$JSCompiler_StaticMethods_updateCounters_$self$$.$R$=$JSCompiler_StaticMethods_updateCounters_$self$$.$R$||$now$jscomp$25$$,$JSCompiler_StaticMethods_updateCounters_$self$$.$O$=$now$jscomp$25$$,$JSCompiler_StaticMethods_updateCounters_$self$$.$P$=0<$JSCompiler_StaticMethods_updateCounters_$self$$.$P$?Math.min($JSCompiler_StaticMethods_updateCounters_$self$$.$P$,
$visibility$jscomp$3$$):$visibility$jscomp$3$$,$JSCompiler_StaticMethods_updateCounters_$self$$.$X$=Math.max($JSCompiler_StaticMethods_updateCounters_$self$$.$X$,$visibility$jscomp$3$$),$JSCompiler_StaticMethods_updateCounters_$self$$.$S$=$now$jscomp$25$$):$prevMatchesVisibility$$&&($JSCompiler_StaticMethods_updateCounters_$self$$.$I$=Math.max($JSCompiler_StaticMethods_updateCounters_$self$$.$I$,$JSCompiler_StaticMethods_updateCounters_$self$$.$H$+$timeSinceLastUpdate$$),$JSCompiler_StaticMethods_updateCounters_$self$$.$O$=
0,$JSCompiler_StaticMethods_updateCounters_$self$$.$G$+=$timeSinceLastUpdate$$,$JSCompiler_StaticMethods_updateCounters_$self$$.$H$=0,$JSCompiler_StaticMethods_updateCounters_$self$$.$S$=$now$jscomp$25$$);return $JSCompiler_StaticMethods_updateCounters_$self$$.$aa$&&$JSCompiler_StaticMethods_updateCounters_$self$$.$G$>=$JSCompiler_StaticMethods_updateCounters_$self$$.$F$.totalTimeMin&&$JSCompiler_StaticMethods_updateCounters_$self$$.$G$<=$JSCompiler_StaticMethods_updateCounters_$self$$.$F$.totalTimeMax&&
$JSCompiler_StaticMethods_updateCounters_$self$$.$I$>=$JSCompiler_StaticMethods_updateCounters_$self$$.$F$.continuousTimeMin&&$JSCompiler_StaticMethods_updateCounters_$self$$.$I$<=$JSCompiler_StaticMethods_updateCounters_$self$$.$F$.continuousTimeMax},$JSCompiler_StaticMethods_maybeSetInitialScrollDepth$$=function($JSCompiler_StaticMethods_maybeSetInitialScrollDepth$self$$,$depth$jscomp$15$$){$JSCompiler_StaticMethods_maybeSetInitialScrollDepth$self$$.$ia$||($JSCompiler_StaticMethods_maybeSetInitialScrollDepth$self$$.$ka$=
$depth$jscomp$15$$,$JSCompiler_StaticMethods_maybeSetInitialScrollDepth$self$$.$ia$=!0)},$JSCompiler_StaticMethods_computeTimeToWait_$$=function($JSCompiler_StaticMethods_computeTimeToWait_$self_waitForTotalTime$$){var $waitForContinuousTime$$=Math.max($JSCompiler_StaticMethods_computeTimeToWait_$self_waitForTotalTime$$.$F$.continuousTimeMin-$JSCompiler_StaticMethods_computeTimeToWait_$self_waitForTotalTime$$.$H$,0);$JSCompiler_StaticMethods_computeTimeToWait_$self_waitForTotalTime$$=Math.max($JSCompiler_StaticMethods_computeTimeToWait_$self_waitForTotalTime$$.$F$.totalTimeMin-
$JSCompiler_StaticMethods_computeTimeToWait_$self_waitForTotalTime$$.$G$,0);return Math.min(Math.max($waitForContinuousTime$$,$JSCompiler_StaticMethods_computeTimeToWait_$self_waitForTotalTime$$),$waitForContinuousTime$$||Infinity,$JSCompiler_StaticMethods_computeTimeToWait_$self_waitForTotalTime$$||Infinity)},$timeBase$$module$extensions$amp_analytics$0_1$visibility_model$$=function($time$jscomp$23$$,$baseTime$$){return $time$jscomp$23$$>=$baseTime$$?$time$jscomp$23$$-$baseTime$$:0},$getElementId$$module$extensions$amp_analytics$0_1$visibility_manager$$=
function($element$jscomp$334$$){var $id$jscomp$56$$=$element$jscomp$334$$.__AMP_VIS_ID;$id$jscomp$56$$||($id$jscomp$56$$=++$visibilityIdCounter$$module$extensions$amp_analytics$0_1$visibility_manager$$,$element$jscomp$334$$.__AMP_VIS_ID=$id$jscomp$56$$);return $id$jscomp$56$$},$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$=function($parent$jscomp$39$$,$ampdoc$jscomp$131$$){var $$jscomp$this$jscomp$398$$=this;this.parent=$parent$jscomp$39$$;this.ampdoc=$ampdoc$jscomp$131$$;
this.$resources_$=_.$Services$$module$src$services$resourcesForDoc$$($ampdoc$jscomp$131$$);this.$O$=0;this.$G$=[];this.$D$=null;this.$M$=[];this.$K$=0;this.parent&&$JSCompiler_StaticMethods_addChild_$$(this.parent,this);var $viewport$jscomp$17$$=_.$Services$$module$src$services$viewportForDoc$$(this.ampdoc);_.$JSCompiler_StaticMethods_onChanged$$($viewport$jscomp$17$$,function(){var $parent$jscomp$39$$=_.$JSCompiler_StaticMethods_Viewport$$module$src$service$viewport$viewport_impl_prototype$getScrollTop$$($viewport$jscomp$17$$);
$parent$jscomp$39$$>$$jscomp$this$jscomp$398$$.$K$&&($$jscomp$this$jscomp$398$$.$K$=$parent$jscomp$39$$)})},$JSCompiler_StaticMethods_addChild_$$=function($JSCompiler_StaticMethods_addChild_$self$$,$child$jscomp$12$$){$JSCompiler_StaticMethods_addChild_$self$$.$D$||($JSCompiler_StaticMethods_addChild_$self$$.$D$=[]);$JSCompiler_StaticMethods_addChild_$self$$.$D$.push($child$jscomp$12$$)},$JSCompiler_StaticMethods_removeChild_$$=function($JSCompiler_StaticMethods_removeChild_$self$$,$child$jscomp$13_index$jscomp$105$$){$JSCompiler_StaticMethods_removeChild_$self$$.$D$&&
($child$jscomp$13_index$jscomp$105$$=$JSCompiler_StaticMethods_removeChild_$self$$.$D$.indexOf($child$jscomp$13_index$jscomp$105$$),-1!=$child$jscomp$13_index$jscomp$105$$&&$JSCompiler_StaticMethods_removeChild_$self$$.$D$.splice($child$jscomp$13_index$jscomp$105$$,1))},$JSCompiler_StaticMethods_updateModels_$$=function($JSCompiler_StaticMethods_updateModels_$self$$){for(var $i$jscomp$213$$=0;$i$jscomp$213$$<$JSCompiler_StaticMethods_updateModels_$self$$.$G$.length;$i$jscomp$213$$++)$JSCompiler_StaticMethods_updateModels_$self$$.$G$[$i$jscomp$213$$].update()},
$JSCompiler_StaticMethods_createModelAndListen_$$=function($JSCompiler_StaticMethods_createModelAndListen_$self$$,$calcVisibility$jscomp$3_model$$,$spec$jscomp$14$$,$readyPromise$jscomp$3$$,$createReportPromiseFunc$jscomp$2$$,$callback$jscomp$115$$,$opt_element$jscomp$18$$){if($spec$jscomp$14$$.visiblePercentageThresholds&&void 0==$spec$jscomp$14$$.visiblePercentageMin&&void 0==$spec$jscomp$14$$.visiblePercentageMax){var $unlisteners$jscomp$2$$=[],$ranges$jscomp$1$$=$spec$jscomp$14$$.visiblePercentageThresholds;
if(!$ranges$jscomp$1$$||!_.$isArray$$module$src$types$$($ranges$jscomp$1$$))return _.$user$$module$src$log$$().error("amp-analytics/visibility-manager","invalid visiblePercentageThresholds"),function(){};for(var $i$jscomp$214$$=0;$i$jscomp$214$$<$ranges$jscomp$1$$.length;$i$jscomp$214$$++){var $max$jscomp$2_percents$$=$ranges$jscomp$1$$[$i$jscomp$214$$];if(_.$isArray$$module$src$types$$($max$jscomp$2_percents$$)&&2==$max$jscomp$2_percents$$.length)if(_.$isFiniteNumber$$module$src$types$$($max$jscomp$2_percents$$[0])&&
_.$isFiniteNumber$$module$src$types$$($max$jscomp$2_percents$$[1])){var $min$jscomp$1_model$249$$=Number($max$jscomp$2_percents$$[0]);$max$jscomp$2_percents$$=Number($max$jscomp$2_percents$$[1]);if(0>$min$jscomp$1_model$249$$||100<$max$jscomp$2_percents$$||$min$jscomp$1_model$249$$>$max$jscomp$2_percents$$||$min$jscomp$1_model$249$$==$max$jscomp$2_percents$$&&100!=$min$jscomp$1_model$249$$&&0!=$max$jscomp$2_percents$$)_.$user$$module$src$log$$().error("amp-analytics/visibility-manager","visiblePercentageThresholds entry invalid min/max value");
else{var $newSpec$$=$spec$jscomp$14$$;$newSpec$$.visiblePercentageMin=$min$jscomp$1_model$249$$;$newSpec$$.visiblePercentageMax=$max$jscomp$2_percents$$;$min$jscomp$1_model$249$$=new $VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model$$($newSpec$$,$calcVisibility$jscomp$3_model$$);$unlisteners$jscomp$2$$.push($JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$$($JSCompiler_StaticMethods_createModelAndListen_$self$$,
$min$jscomp$1_model$249$$,$readyPromise$jscomp$3$$,$createReportPromiseFunc$jscomp$2$$,$callback$jscomp$115$$,$opt_element$jscomp$18$$))}}else _.$user$$module$src$log$$().error("amp-analytics/visibility-manager","visiblePercentageThresholds entry is not valid number");else _.$user$$module$src$log$$().error("amp-analytics/visibility-manager","visiblePercentageThresholds entry length is not 2")}return function(){$unlisteners$jscomp$2$$.forEach(function($JSCompiler_StaticMethods_createModelAndListen_$self$$){return $JSCompiler_StaticMethods_createModelAndListen_$self$$()})}}$calcVisibility$jscomp$3_model$$=
new $VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model$$($spec$jscomp$14$$,$calcVisibility$jscomp$3_model$$);return $JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$$($JSCompiler_StaticMethods_createModelAndListen_$self$$,$calcVisibility$jscomp$3_model$$,$readyPromise$jscomp$3$$,$createReportPromiseFunc$jscomp$2$$,$callback$jscomp$115$$,$opt_element$jscomp$18$$)},$JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$$=
function($JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$self$$,$model$jscomp$1$$,$readyPromise$jscomp$4$$,$createReportPromiseFunc$jscomp$3$$,$callback$jscomp$116$$,$opt_element$jscomp$19$$){$createReportPromiseFunc$jscomp$3$$&&$JSCompiler_StaticMethods_setReportReady$$($model$jscomp$1$$,$createReportPromiseFunc$jscomp$3$$);var $viewport$jscomp$18$$=_.$Services$$module$src$services$viewportForDoc$$($JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$self$$.ampdoc),
$scrollDepth$$=_.$JSCompiler_StaticMethods_Viewport$$module$src$service$viewport$viewport_impl_prototype$getScrollTop$$($viewport$jscomp$18$$);$scrollDepth$$>$JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$self$$.$K$&&($JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$self$$.$K$=$scrollDepth$$);$readyPromise$jscomp$4$$?($JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$setReady$$($model$jscomp$1$$,
!1),$readyPromise$jscomp$4$$.then(function(){$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$setReady$$($model$jscomp$1$$,!0);$JSCompiler_StaticMethods_maybeSetInitialScrollDepth$$($model$jscomp$1$$,$scrollDepth$$)})):$JSCompiler_StaticMethods_maybeSetInitialScrollDepth$$($model$jscomp$1$$,$scrollDepth$$);$JSCompiler_StaticMethods_onTriggerEvent$$($model$jscomp$1$$,function(){var $readyPromise$jscomp$4$$=$JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$self$$.$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$getStartTime$(),
$createReportPromiseFunc$jscomp$3$$=$model$jscomp$1$$.getState($readyPromise$jscomp$4$$);$createReportPromiseFunc$jscomp$3$$.backgrounded=$JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$self$$.$isBackgrounded$()?1:0;$createReportPromiseFunc$jscomp$3$$.backgroundedAtStart=$JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$self$$.$isBackgroundedAtStart$()?1:0;$createReportPromiseFunc$jscomp$3$$.totalTime=
Date.now()-$readyPromise$jscomp$4$$;if($opt_element$jscomp$19$$){$createReportPromiseFunc$jscomp$3$$.opacity=$getMinOpacity$$module$extensions$amp_analytics$0_1$opacity$$($opt_element$jscomp$19$$);$readyPromise$jscomp$4$$=($readyPromise$jscomp$4$$=_.$Resource$$module$src$service$resource$forElementOptional$$($opt_element$jscomp$19$$))?$readyPromise$jscomp$4$$.$getLayoutBox$():$viewport$jscomp$18$$.$getLayoutRect$($opt_element$jscomp$19$$);var $scrollDepth$$=$JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$self$$.$getElementVisibility$($opt_element$jscomp$19$$),
$intersectionRect$jscomp$2$$=$JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$self$$.$getElementIntersectionRect$($opt_element$jscomp$19$$);Object.assign($createReportPromiseFunc$jscomp$3$$,_.$dict$$module$src$utils$object$$({intersectionRatio:$scrollDepth$$,intersectionRect:JSON.stringify($intersectionRect$jscomp$2$$)}))}else $createReportPromiseFunc$jscomp$3$$.opacity=$JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$self$$.$getRootMinOpacity$(),
$createReportPromiseFunc$jscomp$3$$.intersectionRatio=$JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$self$$.$getRootVisibility$(),$readyPromise$jscomp$4$$=$JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$self$$.$getRootLayoutBox$();$model$jscomp$1$$.$la$||$model$jscomp$1$$.$dispose$();$readyPromise$jscomp$4$$&&(Object.assign($createReportPromiseFunc$jscomp$3$$,
_.$dict$$module$src$utils$object$$({elementX:$readyPromise$jscomp$4$$.left,elementY:$readyPromise$jscomp$4$$.top,elementWidth:$readyPromise$jscomp$4$$.width,elementHeight:$readyPromise$jscomp$4$$.height})),$createReportPromiseFunc$jscomp$3$$.initialScrollDepth=$layoutPositionRelativeToScrolledViewport$$module$src$layout_rect$$($readyPromise$jscomp$4$$,$viewport$jscomp$18$$,$model$jscomp$1$$.$ka$),$createReportPromiseFunc$jscomp$3$$.maxScrollDepth=$layoutPositionRelativeToScrolledViewport$$module$src$layout_rect$$($readyPromise$jscomp$4$$,
$viewport$jscomp$18$$,$JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$self$$.$K$));$callback$jscomp$116$$($createReportPromiseFunc$jscomp$3$$)});$JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$self$$.$G$.push($model$jscomp$1$$);$model$jscomp$1$$.unsubscribe(function(){var $readyPromise$jscomp$4$$=$JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$self$$.$G$.indexOf($model$jscomp$1$$);
-1!=$readyPromise$jscomp$4$$&&$JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$self$$.$G$.splice($readyPromise$jscomp$4$$,1)});$opt_element$jscomp$19$$&&$model$jscomp$1$$.unsubscribe($JSCompiler_StaticMethods_VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$listen_$self$$.observe($opt_element$jscomp$19$$,function(){return $model$jscomp$1$$.update()}));$model$jscomp$1$$.update();return function(){$model$jscomp$1$$.$dispose$()}},
$VisibilityManagerForDoc$$module$extensions$amp_analytics$0_1$visibility_manager$$=function($ampdoc$jscomp$132_root$jscomp$58$$){$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$.call(this,null,$ampdoc$jscomp$132_root$jscomp$58$$);var $$jscomp$this$jscomp$400$$=this;this.$I$=_.$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$132_root$jscomp$58$$);this.$J$=_.$Services$$module$src$services$viewportForDoc$$($ampdoc$jscomp$132_root$jscomp$58$$);this.$P$=!_.$JSCompiler_StaticMethods_Viewer$$module$src$service$viewer_impl_prototype$isVisible$$(this.$I$);
this.$R$=this.$isBackgrounded$();this.$H$=_.$map$$module$src$utils$object$$();this.$F$=null;"inabox"==_.$getMode$$module$src$mode$$(this.ampdoc.$win$).runtime?($ampdoc$jscomp$132_root$jscomp$58$$=this.ampdoc.getRootNode(),this.unsubscribe(this.observe($ampdoc$jscomp$132_root$jscomp$58$$.documentElement||$ampdoc$jscomp$132_root$jscomp$58$$.body||$ampdoc$jscomp$132_root$jscomp$58$$,this.$setRootVisibility$.bind(this)))):(this.$setRootVisibility$(_.$JSCompiler_StaticMethods_Viewer$$module$src$service$viewer_impl_prototype$isVisible$$(this.$I$)?
1:0),this.unsubscribe(_.$JSCompiler_StaticMethods_Viewer$$module$src$service$viewer_impl_prototype$onVisibilityChanged$$(this.$I$,function(){var $ampdoc$jscomp$132_root$jscomp$58$$=_.$JSCompiler_StaticMethods_Viewer$$module$src$service$viewer_impl_prototype$isVisible$$($$jscomp$this$jscomp$400$$.$I$);$ampdoc$jscomp$132_root$jscomp$58$$||($$jscomp$this$jscomp$400$$.$P$=!0);$$jscomp$this$jscomp$400$$.$setRootVisibility$($ampdoc$jscomp$132_root$jscomp$58$$?1:0)})))},$JSCompiler_StaticMethods_createIntersectionObserver_$$=
function($JSCompiler_StaticMethods_createIntersectionObserver_$self$$){function $ticker$$(){_.$JSCompiler_StaticMethods_IntersectionObserverPolyfill$$module$src$intersection_observer_polyfill_prototype$tick$$($intersectionObserverPolyfill$$,_.$JSCompiler_StaticMethods_getRect$$($JSCompiler_StaticMethods_createIntersectionObserver_$self$$.$J$))}var $win$jscomp$316$$=$JSCompiler_StaticMethods_createIntersectionObserver_$self$$.ampdoc.$win$;if($nativeIntersectionObserverSupported$$module$src$intersection_observer_polyfill$$($win$jscomp$316$$))return new $win$jscomp$316$$.IntersectionObserver($JSCompiler_StaticMethods_createIntersectionObserver_$self$$.$onIntersectionChanges_$.bind($JSCompiler_StaticMethods_createIntersectionObserver_$self$$),
{threshold:_.$DEFAULT_THRESHOLD$$module$src$intersection_observer_polyfill$$});var $intersectionObserverPolyfill$$=new _.$IntersectionObserverPolyfill$$module$src$intersection_observer_polyfill$$($JSCompiler_StaticMethods_createIntersectionObserver_$self$$.$onIntersectionChanges_$.bind($JSCompiler_StaticMethods_createIntersectionObserver_$self$$),{threshold:_.$DEFAULT_THRESHOLD$$module$src$intersection_observer_polyfill$$});$JSCompiler_StaticMethods_createIntersectionObserver_$self$$.unsubscribe(_.$JSCompiler_StaticMethods_Viewport$$module$src$service$viewport$viewport_impl_prototype$onScroll$$($JSCompiler_StaticMethods_createIntersectionObserver_$self$$.$J$,
$ticker$$));$JSCompiler_StaticMethods_createIntersectionObserver_$self$$.unsubscribe(_.$JSCompiler_StaticMethods_onChanged$$($JSCompiler_StaticMethods_createIntersectionObserver_$self$$.$J$,$ticker$$));setTimeout($ticker$$);return $intersectionObserverPolyfill$$},$JSCompiler_StaticMethods_polyfillAmpElementIfNeeded_$$=function($JSCompiler_StaticMethods_polyfillAmpElementIfNeeded_$self$$,$element$jscomp$339$$){$nativeIntersectionObserverSupported$$module$src$intersection_observer_polyfill$$($JSCompiler_StaticMethods_polyfillAmpElementIfNeeded_$self$$.ampdoc.$win$)||
"function"==typeof $element$jscomp$339$$.$getLayoutBox$||($element$jscomp$339$$.$getLayoutBox$=function(){return $JSCompiler_StaticMethods_polyfillAmpElementIfNeeded_$self$$.$J$.$getLayoutRect$($element$jscomp$339$$)},$element$jscomp$339$$.$getOwner$=function(){return null})},$VisibilityManagerForEmbed$$module$extensions$amp_analytics$0_1$visibility_manager$$=function($parent$jscomp$40$$,$embed$jscomp$2$$){$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$.call(this,$parent$jscomp$40$$,
$parent$jscomp$40$$.ampdoc);this.embed=$embed$jscomp$2$$;this.$F$=this.parent.$isBackgrounded$();this.unsubscribe(this.parent.observe($embed$jscomp$2$$.host,this.$setRootVisibility$.bind(this)))},$VisibilityManagerForMApp$$module$extensions$amp_analytics$0_1$visibility_manager_for_mapp$$=function($ampdoc$jscomp$133$$,$visibilityInterface$$){$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$.call(this,null,$ampdoc$jscomp$133$$);this.$F$=_.$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$133$$);
this.$P$=$visibilityInterface$$;this.$J$=!_.$JSCompiler_StaticMethods_Viewer$$module$src$service$viewer_impl_prototype$isVisible$$(this.$F$);this.$I$=null;this.$H$=!1;this.$P$.$F$(this.$onVisibilityChangeHandler_$.bind(this))},$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$=function($ampdoc$jscomp$134$$,$parent$jscomp$41$$){this.ampdoc=$ampdoc$jscomp$134$$;this.parent=$parent$jscomp$41$$;this.$D$=_.$map$$module$src$utils$object$$();this.$I$=this.$G$=this.$F$=this.$H$=null},$JSCompiler_StaticMethods_isUsingHostAPI$$=
function($JSCompiler_StaticMethods_isUsingHostAPI$self$$){if($JSCompiler_StaticMethods_isUsingHostAPI$self$$.$G$)return $JSCompiler_StaticMethods_isUsingHostAPI$self$$.$G$;_.$HostServices$$module$src$inabox$host_services$isAvailable$$($JSCompiler_StaticMethods_isUsingHostAPI$self$$.ampdoc)?$JSCompiler_StaticMethods_isUsingHostAPI$self$$.$G$=_.$getServicePromiseForDoc$$module$src$service$$($JSCompiler_StaticMethods_isUsingHostAPI$self$$.ampdoc,"host-visibility").then(function($visibilityService$$){$JSCompiler_StaticMethods_isUsingHostAPI$self$$.$I$=
$visibilityService$$;return!0}).catch(function($JSCompiler_StaticMethods_isUsingHostAPI$self$$){"amp-analytics/analytics-root";if($JSCompiler_StaticMethods_isUsingHostAPI$self$$.$fallback$)return!1;throw _.$user$$module$src$log$$().$createError$("Host Visibility Service Error");}):$JSCompiler_StaticMethods_isUsingHostAPI$self$$.$G$=Promise.resolve(!1);return $JSCompiler_StaticMethods_isUsingHostAPI$self$$.$G$},$JSCompiler_StaticMethods_getTrackerForWhitelist$$=function($JSCompiler_StaticMethods_getTrackerForWhitelist$self$$,
$name$jscomp$209$$,$trackerProfile_whitelist$jscomp$13$$){return($trackerProfile_whitelist$jscomp$13$$=$trackerProfile_whitelist$jscomp$13$$[$name$jscomp$209$$])?$JSCompiler_StaticMethods_getTracker$$($JSCompiler_StaticMethods_getTrackerForWhitelist$self$$,$name$jscomp$209$$,$trackerProfile_whitelist$jscomp$13$$):null},$JSCompiler_StaticMethods_getTracker$$=function($JSCompiler_StaticMethods_getTracker$self$$,$name$jscomp$210$$,$klass$jscomp$2$$){var $tracker$jscomp$1$$=$JSCompiler_StaticMethods_getTracker$self$$.$D$[$name$jscomp$210$$];
$tracker$jscomp$1$$||($tracker$jscomp$1$$=new $klass$jscomp$2$$($JSCompiler_StaticMethods_getTracker$self$$),$JSCompiler_StaticMethods_getTracker$self$$.$D$[$name$jscomp$210$$]=$tracker$jscomp$1$$);return $tracker$jscomp$1$$},$JSCompiler_StaticMethods_getAmpElement$$=function($JSCompiler_StaticMethods_getAmpElement$self$$,$context$jscomp$32$$,$selector$jscomp$30$$,$selectionMethod$jscomp$7$$){return $JSCompiler_StaticMethods_getAmpElement$self$$.$getElement$($context$jscomp$32$$,$selector$jscomp$30$$,
$selectionMethod$jscomp$7$$).then(function($JSCompiler_StaticMethods_getAmpElement$self$$){return $JSCompiler_StaticMethods_getAmpElement$self$$})},$JSCompiler_StaticMethods_createSelectiveListener$$=function($JSCompiler_StaticMethods_createSelectiveListener$self$$,$listener$jscomp$89$$,$context$jscomp$33$$,$selector$jscomp$31$$,$selectionMethod$jscomp$8$$){$selectionMethod$jscomp$8$$=void 0===$selectionMethod$jscomp$8$$?null:$selectionMethod$jscomp$8$$;return function($event$jscomp$83$$){if(":host"!=
$selector$jscomp$31$$)for(var $rootElement$jscomp$6$$=$JSCompiler_StaticMethods_createSelectiveListener$self$$.$getRootElement$(),$isSelectAny$$="*"==$selector$jscomp$31$$,$isSelectRoot$$=":root"==$selector$jscomp$31$$,$target$jscomp$149$$=$event$jscomp$83$$.target;$target$jscomp$149$$&&$JSCompiler_StaticMethods_createSelectiveListener$self$$.contains($target$jscomp$149$$)&&("scope"!=$selectionMethod$jscomp$8$$||$isSelectRoot$$||$context$jscomp$33$$.contains($target$jscomp$149$$));){if("closest"!=
$selectionMethod$jscomp$8$$||$target$jscomp$149$$.contains($context$jscomp$33$$)){var $JSCompiler_temp$jscomp$735$$;if(!($JSCompiler_temp$jscomp$735$$=$isSelectAny$$||$isSelectRoot$$&&$target$jscomp$149$$==$rootElement$jscomp$6$$)){var $selector$jscomp$inline_2649$$=$selector$jscomp$31$$;try{$JSCompiler_temp$jscomp$735$$=_.$matches$$module$src$dom$$($target$jscomp$149$$,$selector$jscomp$inline_2649$$)}catch($e$251$jscomp$inline_2650$$){_.$user$$module$src$log$$().error("amp-analytics/analytics-root",
"Bad query selector.",$selector$jscomp$inline_2649$$,$e$251$jscomp$inline_2650$$),$JSCompiler_temp$jscomp$735$$=!1}}if($JSCompiler_temp$jscomp$735$$){$listener$jscomp$89$$($target$jscomp$149$$,$event$jscomp$83$$);break}}$target$jscomp$149$$=$target$jscomp$149$$.parentElement}}},$JSCompiler_StaticMethods_getVisibilityManager$$=function($JSCompiler_StaticMethods_getVisibilityManager$self$$){$JSCompiler_StaticMethods_getVisibilityManager$self$$.$H$||($JSCompiler_StaticMethods_getVisibilityManager$self$$.$H$=
$JSCompiler_StaticMethods_getVisibilityManager$self$$.$createVisibilityManager$());return $JSCompiler_StaticMethods_getVisibilityManager$self$$.$H$},$JSCompiler_StaticMethods_getScrollManager$$=function($JSCompiler_StaticMethods_getScrollManager$self$$){$JSCompiler_StaticMethods_getScrollManager$self$$.$F$||($JSCompiler_StaticMethods_getScrollManager$self$$.$F$=new $ScrollManager$$module$extensions$amp_analytics$0_1$scroll_manager$$($JSCompiler_StaticMethods_getScrollManager$self$$.ampdoc));return $JSCompiler_StaticMethods_getScrollManager$self$$.$F$},
$AmpdocAnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$=function($ampdoc$jscomp$135$$){$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$.call(this,$ampdoc$jscomp$135$$,null)},$EmbedAnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$=function($ampdoc$jscomp$136$$,$embed$jscomp$3$$,$parent$jscomp$42$$){$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$.call(this,$ampdoc$jscomp$136$$,$parent$jscomp$42$$);this.embed=$embed$jscomp$3$$},
$InstrumentationService$$module$extensions$amp_analytics$0_1$instrumentation$$=function($ampdoc$jscomp$137$$){this.ampdoc=$ampdoc$jscomp$137$$;this.$D$=new $AmpdocAnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$(this.ampdoc)},$JSCompiler_StaticMethods_createAnalyticsGroup$$=function($JSCompiler_StaticMethods_createAnalyticsGroup$self_root$jscomp$63$$,$analyticsElement$jscomp$2$$){$JSCompiler_StaticMethods_createAnalyticsGroup$self_root$jscomp$63$$=$JSCompiler_StaticMethods_findRoot_$$($JSCompiler_StaticMethods_createAnalyticsGroup$self_root$jscomp$63$$,
$analyticsElement$jscomp$2$$);return new $AnalyticsGroup$$module$extensions$amp_analytics$0_1$analytics_group$$($JSCompiler_StaticMethods_createAnalyticsGroup$self_root$jscomp$63$$,$analyticsElement$jscomp$2$$)},$JSCompiler_StaticMethods_findRoot_$$=function($JSCompiler_StaticMethods_findRoot_$self$$,$context$jscomp$35_frame$jscomp$2$$){if($context$jscomp$35_frame$jscomp$2$$=_.$getParentWindowFrameElement$$module$src$service$$($context$jscomp$35_frame$jscomp$2$$,$JSCompiler_StaticMethods_findRoot_$self$$.ampdoc.$win$)){var $embed$jscomp$4$$=
_.$getFriendlyIframeEmbedOptional$$module$src$friendly_iframe_embed$$($context$jscomp$35_frame$jscomp$2$$);if($embed$jscomp$4$$)return $JSCompiler_StaticMethods_getOrCreateRoot_$$($embed$jscomp$4$$,function(){return new $EmbedAnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$($JSCompiler_StaticMethods_findRoot_$self$$.ampdoc,$embed$jscomp$4$$,$JSCompiler_StaticMethods_findRoot_$self$$.$D$)})}return $JSCompiler_StaticMethods_findRoot_$self$$.$D$},$JSCompiler_StaticMethods_getOrCreateRoot_$$=
function($holder$jscomp$25$$,$factory$jscomp$3$$){var $root$jscomp$65$$=$holder$jscomp$25$$.__AMP_AN_ROOT;$root$jscomp$65$$||($root$jscomp$65$$=$factory$jscomp$3$$(),$holder$jscomp$25$$.__AMP_AN_ROOT=$root$jscomp$65$$);return $root$jscomp$65$$},$instrumentationServicePromiseForDoc$$module$extensions$amp_analytics$0_1$instrumentation$$=function($elementOrAmpDoc$jscomp$34$$){return _.$getServicePromiseForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$34$$,"amp-analytics-instrumentation")},$LinkerManager$$module$extensions$amp_analytics$0_1$linker_manager$$=
function($ampdoc$jscomp$138$$,$config$jscomp$46$$,$type$jscomp$186$$,$element$jscomp$344$$){this.$ampdoc_$=$ampdoc$jscomp$138$$;this.$D$=$config$jscomp$46$$.linkers;this.$O$=$config$jscomp$46$$.vars||{};this.$M$=$type$jscomp$186$$;this.$element_$=$element$jscomp$344$$;this.$I$=[];this.$G$={};this.$H$=_.$Services$$module$src$services$urlForDoc$$(this.$element_$);this.$K$=_.$getServicePromiseForDoc$$module$src$service$$($ampdoc$jscomp$138$$,"form-submit-service");this.$F$=null;this.$J$=$variableServiceFor$$module$extensions$amp_analytics$0_1$variables$$(this.$ampdoc_$.$win$)},
$JSCompiler_StaticMethods_processConfig_$$=function($JSCompiler_StaticMethods_processConfig_$self$$,$config$jscomp$47$$){var $processedConfig$$={},$defaultConfig$jscomp$1$$={enabled:$JSCompiler_StaticMethods_isLegacyOptIn_$$($JSCompiler_StaticMethods_processConfig_$self$$)&&$JSCompiler_StaticMethods_isSafari12OrAbove_$$($JSCompiler_StaticMethods_processConfig_$self$$)},$linkerNames$$=Object.keys($config$jscomp$47$$).filter(function($JSCompiler_StaticMethods_processConfig_$self$$){var $processedConfig$$=
$config$jscomp$47$$[$JSCompiler_StaticMethods_processConfig_$self$$],$linkerNames$$=_.$isObject$$module$src$types$$($processedConfig$$);$linkerNames$$||($defaultConfig$jscomp$1$$[$JSCompiler_StaticMethods_processConfig_$self$$]=$processedConfig$$);return $linkerNames$$}),$isProxyOrigin$$=_.$isProxyOrigin$$module$src$url$$($JSCompiler_StaticMethods_processConfig_$self$$.$ampdoc_$.$win$.location);$linkerNames$$.forEach(function($JSCompiler_StaticMethods_processConfig_$self$$){var $linkerNames$$=Object.assign({},
$defaultConfig$jscomp$1$$,$config$jscomp$47$$[$JSCompiler_StaticMethods_processConfig_$self$$]);if(!0!==$linkerNames$$.enabled)_.$user$$module$src$log$$().$Log$$module$src$log_prototype$info$("amp-analytics/linker-manager","linker config for %s is not enabled and will be ignored.",$JSCompiler_StaticMethods_processConfig_$self$$);else if($isProxyOrigin$$||!1===$linkerNames$$.proxyOnly)$linkerNames$$.ids?$processedConfig$$[$JSCompiler_StaticMethods_processConfig_$self$$]=$linkerNames$$:_.$user$$module$src$log$$().error("amp-analytics/linker-manager",
'"ids" is a required field for use of "linkers".')});return $processedConfig$$},$JSCompiler_StaticMethods_LinkerManager$$module$extensions$amp_analytics$0_1$linker_manager_prototype$expandTemplateWithUrlParams_$$=function($JSCompiler_StaticMethods_LinkerManager$$module$extensions$amp_analytics$0_1$linker_manager_prototype$expandTemplateWithUrlParams_$self$$,$template$jscomp$16$$,$expansionOptions$jscomp$1$$){var $bindings$$=$JSCompiler_StaticMethods_LinkerManager$$module$extensions$amp_analytics$0_1$linker_manager_prototype$expandTemplateWithUrlParams_$self$$.$J$.$D$;
return $JSCompiler_StaticMethods_expandTemplate$$($JSCompiler_StaticMethods_LinkerManager$$module$extensions$amp_analytics$0_1$linker_manager_prototype$expandTemplateWithUrlParams_$self$$.$J$,$template$jscomp$16$$,$expansionOptions$jscomp$1$$).then(function($template$jscomp$16$$){return _.$JSCompiler_StaticMethods_expandUrlAsync$$(_.$Services$$module$src$services$urlReplacementsForDoc$$($JSCompiler_StaticMethods_LinkerManager$$module$extensions$amp_analytics$0_1$linker_manager_prototype$expandTemplateWithUrlParams_$self$$.$element_$),
$template$jscomp$16$$,$bindings$$)})},$JSCompiler_StaticMethods_isLegacyOptIn_$$=function($JSCompiler_StaticMethods_isLegacyOptIn_$self$$){var $optInMeta$jscomp$1$$=$JSCompiler_StaticMethods_isLegacyOptIn_$self$$.$ampdoc_$.$win$.document.head.querySelector('meta[name="amp-google-client-id-api"][content="googleanalytics"]');if(!$optInMeta$jscomp$1$$||$optInMeta$jscomp$1$$.hasAttribute("i-amphtml-linker-created")||"googleanalytics"!==$JSCompiler_StaticMethods_isLegacyOptIn_$self$$.$M$)return!1;$optInMeta$jscomp$1$$.setAttribute("i-amphtml-linker-created",
"");return!0},$JSCompiler_StaticMethods_isSafari12OrAbove_$$=function($JSCompiler_StaticMethods_isSafari12OrAbove_$self_platform$jscomp$6$$){$JSCompiler_StaticMethods_isSafari12OrAbove_$self_platform$jscomp$6$$=_.$Services$$module$src$services$platformFor$$($JSCompiler_StaticMethods_isSafari12OrAbove_$self_platform$jscomp$6$$.$ampdoc_$.$win$);return _.$JSCompiler_StaticMethods_isSafari$$($JSCompiler_StaticMethods_isSafari12OrAbove_$self_platform$jscomp$6$$)&&12<=_.$JSCompiler_StaticMethods_getMajorVersion$$($JSCompiler_StaticMethods_isSafari12OrAbove_$self_platform$jscomp$6$$)},
$JSCompiler_StaticMethods_isDomainMatch_$$=function($JSCompiler_StaticMethods_isDomainMatch_$self_i$jscomp$217$$,$hostname$jscomp$3$$,$$jscomp$destructuring$var334_domain$jscomp$6_name$jscomp$215_regex$jscomp$inline_2662_sourceOrigin$jscomp$3$$,$canonicalOrigin_canonicalUrl$jscomp$6_domains$jscomp$1$$){if($canonicalOrigin_canonicalUrl$jscomp$6_domains$jscomp$1$$&&!Array.isArray($canonicalOrigin_canonicalUrl$jscomp$6_domains$jscomp$1$$))return _.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("amp-analytics/linker-manager",
"%s destinationDomains must be an array.",$$jscomp$destructuring$var334_domain$jscomp$6_name$jscomp$215_regex$jscomp$inline_2662_sourceOrigin$jscomp$3$$),!1;if($canonicalOrigin_canonicalUrl$jscomp$6_domains$jscomp$1$$){for($JSCompiler_StaticMethods_isDomainMatch_$self_i$jscomp$217$$=0;$JSCompiler_StaticMethods_isDomainMatch_$self_i$jscomp$217$$<$canonicalOrigin_canonicalUrl$jscomp$6_domains$jscomp$1$$.length;$JSCompiler_StaticMethods_isDomainMatch_$self_i$jscomp$217$$++){$$jscomp$destructuring$var334_domain$jscomp$6_name$jscomp$215_regex$jscomp$inline_2662_sourceOrigin$jscomp$3$$=
$canonicalOrigin_canonicalUrl$jscomp$6_domains$jscomp$1$$[$JSCompiler_StaticMethods_isDomainMatch_$self_i$jscomp$217$$];var $JSCompiler_temp$jscomp$738_JSCompiler_temp$jscomp$739_hostname$jscomp$inline_2660$$;!($JSCompiler_temp$jscomp$738_JSCompiler_temp$jscomp$739_hostname$jscomp$inline_2660$$=$$jscomp$destructuring$var334_domain$jscomp$6_name$jscomp$215_regex$jscomp$inline_2662_sourceOrigin$jscomp$3$$===$hostname$jscomp$3$$)&&($JSCompiler_temp$jscomp$738_JSCompiler_temp$jscomp$739_hostname$jscomp$inline_2660$$=
-1!==$$jscomp$destructuring$var334_domain$jscomp$6_name$jscomp$215_regex$jscomp$inline_2662_sourceOrigin$jscomp$3$$.indexOf("*"))&&($JSCompiler_temp$jscomp$738_JSCompiler_temp$jscomp$739_hostname$jscomp$inline_2660$$=$hostname$jscomp$3$$,$$jscomp$destructuring$var334_domain$jscomp$6_name$jscomp$215_regex$jscomp$inline_2662_sourceOrigin$jscomp$3$$=$$jscomp$destructuring$var334_domain$jscomp$6_name$jscomp$215_regex$jscomp$inline_2662_sourceOrigin$jscomp$3$$.replace(/[-\/\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,
".*"),$JSCompiler_temp$jscomp$738_JSCompiler_temp$jscomp$739_hostname$jscomp$inline_2660$$=(new RegExp("^"+$$jscomp$destructuring$var334_domain$jscomp$6_name$jscomp$215_regex$jscomp$inline_2662_sourceOrigin$jscomp$3$$+"$")).test($JSCompiler_temp$jscomp$738_JSCompiler_temp$jscomp$739_hostname$jscomp$inline_2660$$));if($JSCompiler_temp$jscomp$738_JSCompiler_temp$jscomp$739_hostname$jscomp$inline_2660$$)return!0}return!1}if($JSCompiler_StaticMethods_isDomainMatch_$self_i$jscomp$217$$.$ampdoc_$.$win$.location.hostname===
$hostname$jscomp$3$$)return!1;$$jscomp$destructuring$var334_domain$jscomp$6_name$jscomp$215_regex$jscomp$inline_2662_sourceOrigin$jscomp$3$$=_.$Services$$module$src$services$documentInfoForDoc$$($JSCompiler_StaticMethods_isDomainMatch_$self_i$jscomp$217$$.$ampdoc_$);$canonicalOrigin_canonicalUrl$jscomp$6_domains$jscomp$1$$=$$jscomp$destructuring$var334_domain$jscomp$6_name$jscomp$215_regex$jscomp$inline_2662_sourceOrigin$jscomp$3$$.canonicalUrl;$$jscomp$destructuring$var334_domain$jscomp$6_name$jscomp$215_regex$jscomp$inline_2662_sourceOrigin$jscomp$3$$=
$JSCompiler_StaticMethods_isDomainMatch_$self_i$jscomp$217$$.$H$.parse($$jscomp$destructuring$var334_domain$jscomp$6_name$jscomp$215_regex$jscomp$inline_2662_sourceOrigin$jscomp$3$$.sourceUrl).hostname;$canonicalOrigin_canonicalUrl$jscomp$6_domains$jscomp$1$$=$JSCompiler_StaticMethods_isDomainMatch_$self_i$jscomp$217$$.$H$.parse($canonicalOrigin_canonicalUrl$jscomp$6_domains$jscomp$1$$).hostname;return $getBaseDomain$$module$extensions$amp_analytics$0_1$linker_manager$$($$jscomp$destructuring$var334_domain$jscomp$6_name$jscomp$215_regex$jscomp$inline_2662_sourceOrigin$jscomp$3$$)===
$getBaseDomain$$module$extensions$amp_analytics$0_1$linker_manager$$($hostname$jscomp$3$$)||$getBaseDomain$$module$extensions$amp_analytics$0_1$linker_manager$$($canonicalOrigin_canonicalUrl$jscomp$6_domains$jscomp$1$$)===$getBaseDomain$$module$extensions$amp_analytics$0_1$linker_manager$$($hostname$jscomp$3$$)?!0:!1},$JSCompiler_StaticMethods_enableFormSupport_$$=function($JSCompiler_StaticMethods_enableFormSupport_$self$$){$JSCompiler_StaticMethods_enableFormSupport_$self$$.$F$||$JSCompiler_StaticMethods_enableFormSupport_$self$$.$K$.then(function($formService$$){$JSCompiler_StaticMethods_enableFormSupport_$self$$.$F$=
$formService$$.$F$($JSCompiler_StaticMethods_enableFormSupport_$self$$.$R$.bind($JSCompiler_StaticMethods_enableFormSupport_$self$$))})},$getBaseDomain$$module$extensions$amp_analytics$0_1$linker_manager$$=function($domain$jscomp$7$$){return $domain$jscomp$7$$.replace(/^(?:www\.|m\.|amp\.)+/,"")},$yieldThread$$module$extensions$amp_analytics$0_1$resource_timing$$=function($fn$jscomp$21$$){return new Promise(function($resolve$jscomp$59$$){setTimeout(function(){return $resolve$jscomp$59$$($fn$jscomp$21$$())})})},
$validateResourceTimingSpec$$module$extensions$amp_analytics$0_1$resource_timing$$=function($spec$jscomp$16$$){return _.$isObject$$module$src$types$$($spec$jscomp$16$$.resources)?$spec$jscomp$16$$.encoding&&$spec$jscomp$16$$.encoding.entry&&$spec$jscomp$16$$.encoding.delim?2>$spec$jscomp$16$$.encoding.base||36<$spec$jscomp$16$$.encoding.base?(_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("ANALYTICS","resource timing variables only supports bases between 2 and 36"),!1):null!=$spec$jscomp$16$$.responseAfter&&
"number"!=typeof $spec$jscomp$16$$.responseAfter?(_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("ANALYTICS",'resourceTimingSpec["responseAfter"] must be a number'),!1):!0:(_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("ANALYTICS","resourceTimingSpec is missing or has incomplete encoding options"),!1):(_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("ANALYTICS",'resourceTimingSpec missing "resources" field'),!1)},$nameForEntry$$module$extensions$amp_analytics$0_1$resource_timing$$=
function($entry$jscomp$20_i$jscomp$218$$,$resourcesByHost$$){var $url$jscomp$174$$=_.$parseUrlDeprecated$$module$src$url$$($entry$jscomp$20_i$jscomp$218$$.name);for($entry$jscomp$20_i$jscomp$218$$=0;$entry$jscomp$20_i$jscomp$218$$<$resourcesByHost$$.length;++$entry$jscomp$20_i$jscomp$218$$){var $$jscomp$destructuring$var337_index$jscomp$108$$=$resourcesByHost$$[$entry$jscomp$20_i$jscomp$218$$],$resources$jscomp$7$$=$$jscomp$destructuring$var337_index$jscomp$108$$.$resources$;if($$jscomp$destructuring$var337_index$jscomp$108$$.$hostPattern$.test($url$jscomp$174$$.host)&&
($$jscomp$destructuring$var337_index$jscomp$108$$=_.$findIndex$$module$src$utils$array$$($resources$jscomp$7$$,function($entry$jscomp$20_i$jscomp$218$$){return $entry$jscomp$20_i$jscomp$218$$.$pathPattern$.test($url$jscomp$174$$.pathname)&&$entry$jscomp$20_i$jscomp$218$$.$queryPattern$.test($url$jscomp$174$$.search)}),-1!=$$jscomp$destructuring$var337_index$jscomp$108$$))return $resources$jscomp$7$$[$$jscomp$destructuring$var337_index$jscomp$108$$].name}return null},$groupSpecsByHost$$module$extensions$amp_analytics$0_1$resource_timing$$=
function($byHostArray_resourceDefs$$){var $byHost$$={},$name$jscomp$217$$;for($name$jscomp$217$$ in $byHostArray_resourceDefs$$){var $host$jscomp$7$$=$byHostArray_resourceDefs$$[$name$jscomp$217$$].host||"",$pattern$jscomp$5$$={name:$name$jscomp$217$$,$pathPattern$:new RegExp($byHostArray_resourceDefs$$[$name$jscomp$217$$].path||""),$queryPattern$:new RegExp($byHostArray_resourceDefs$$[$name$jscomp$217$$].query||"")};$byHost$$[$host$jscomp$7$$]?$byHost$$[$host$jscomp$7$$].$resources$.push($pattern$jscomp$5$$):
$byHost$$[$host$jscomp$7$$]={$hostPattern$:new RegExp($host$jscomp$7$$),$resources$:[$pattern$jscomp$5$$]}}$byHostArray_resourceDefs$$=[];for(var $host$252$$ in $byHost$$)$byHostArray_resourceDefs$$.push($byHost$$[$host$252$$]);return $byHostArray_resourceDefs$$},$filterEntries$$module$extensions$amp_analytics$0_1$resource_timing$$=function($entries$jscomp$4$$,$resourceDefs$jscomp$1$$){var $byHost$jscomp$1$$=$groupSpecsByHost$$module$extensions$amp_analytics$0_1$resource_timing$$($resourceDefs$jscomp$1$$),
$results$jscomp$5$$=[];$entries$jscomp$4$$.forEach(function($entries$jscomp$4$$){var $resourceDefs$jscomp$1$$=$nameForEntry$$module$extensions$amp_analytics$0_1$resource_timing$$($entries$jscomp$4$$,$byHost$jscomp$1$$);$resourceDefs$jscomp$1$$&&$results$jscomp$5$$.push({$entry$:$entries$jscomp$4$$,name:$resourceDefs$jscomp$1$$})});return $results$jscomp$5$$},$serialize$$module$extensions$amp_analytics$0_1$resource_timing$$=function($entries$jscomp$5_promises$jscomp$15$$,$resourceTimingSpec$$,$win$jscomp$319$$){function $format$jscomp$22$$($entries$jscomp$5_promises$jscomp$15$$,
$resourceTimingSpec$$){return Math.round($entries$jscomp$5_promises$jscomp$15$$-(void 0===$resourceTimingSpec$$?0:$resourceTimingSpec$$)).toString($encoding$jscomp$2$$.base||10)}var $resources$jscomp$8$$=$resourceTimingSpec$$.resources,$encoding$jscomp$2$$=$resourceTimingSpec$$.encoding,$variableService$$=$variableServiceFor$$module$extensions$amp_analytics$0_1$variables$$($win$jscomp$319$$);$entries$jscomp$5_promises$jscomp$15$$=$filterEntries$$module$extensions$amp_analytics$0_1$resource_timing$$($entries$jscomp$5_promises$jscomp$15$$,
$resources$jscomp$8$$).map(function($entries$jscomp$5_promises$jscomp$15$$){var $resourceTimingSpec$$=$entries$jscomp$5_promises$jscomp$15$$.$entry$;$entries$jscomp$5_promises$jscomp$15$$={key:$entries$jscomp$5_promises$jscomp$15$$.name,startTime:$format$jscomp$22$$($resourceTimingSpec$$.startTime),redirectTime:$format$jscomp$22$$($resourceTimingSpec$$.redirectEnd,$resourceTimingSpec$$.redirectStart),domainLookupTime:$format$jscomp$22$$($resourceTimingSpec$$.domainLookupEnd,$resourceTimingSpec$$.domainLookupStart),
tcpConnectTime:$format$jscomp$22$$($resourceTimingSpec$$.connectEnd,$resourceTimingSpec$$.connectStart),serverResponseTime:$format$jscomp$22$$($resourceTimingSpec$$.responseStart,$resourceTimingSpec$$.requestStart),networkTransferTime:$format$jscomp$22$$($resourceTimingSpec$$.responseEnd,$resourceTimingSpec$$.responseStart),transferSize:$format$jscomp$22$$($resourceTimingSpec$$.transferSize||0),encodedBodySize:$format$jscomp$22$$($resourceTimingSpec$$.encodedBodySize||0),decodedBodySize:$format$jscomp$22$$($resourceTimingSpec$$.decodedBodySize||
0),duration:$format$jscomp$22$$($resourceTimingSpec$$.duration),initiatorType:$resourceTimingSpec$$.initiatorType};return new $ExpansionOptions$$module$extensions$amp_analytics$0_1$variables$$($entries$jscomp$5_promises$jscomp$15$$,1)}).map(function($entries$jscomp$5_promises$jscomp$15$$){return $JSCompiler_StaticMethods_expandTemplate$$($variableService$$,$encoding$jscomp$2$$.entry,$entries$jscomp$5_promises$jscomp$15$$)});return Promise.all($entries$jscomp$5_promises$jscomp$15$$).then(function($entries$jscomp$5_promises$jscomp$15$$){return $entries$jscomp$5_promises$jscomp$15$$.join($encoding$jscomp$2$$.delim)})},
$serializeResourceTiming$$module$extensions$amp_analytics$0_1$resource_timing$$=function($win$jscomp$320$$,$resourceTimingSpec$jscomp$1$$){if($resourceTimingSpec$jscomp$1$$.done||!$win$jscomp$320$$.performance||!$win$jscomp$320$$.performance.now||!$win$jscomp$320$$.performance.getEntriesByType||!$validateResourceTimingSpec$$module$extensions$amp_analytics$0_1$resource_timing$$($resourceTimingSpec$jscomp$1$$))return $resourceTimingSpec$jscomp$1$$.done=!0,Promise.resolve("");var $entries$jscomp$6$$=
$win$jscomp$320$$.performance.getEntriesByType("resource");150<=$entries$jscomp$6$$.length&&($resourceTimingSpec$jscomp$1$$.done=!0);var $responseAfter$$=$resourceTimingSpec$jscomp$1$$.responseAfter||0;$resourceTimingSpec$jscomp$1$$.responseAfter=Math.max($responseAfter$$,$win$jscomp$320$$.performance.now());$entries$jscomp$6$$=$entries$jscomp$6$$.filter(function($win$jscomp$320$$){return $win$jscomp$320$$.startTime+$win$jscomp$320$$.duration>=$responseAfter$$});return $entries$jscomp$6$$.length?
$yieldThread$$module$extensions$amp_analytics$0_1$resource_timing$$(function(){return $serialize$$module$extensions$amp_analytics$0_1$resource_timing$$($entries$jscomp$6$$,$resourceTimingSpec$jscomp$1$$,$win$jscomp$320$$)}):Promise.resolve("")},$getResourceTiming$$module$extensions$amp_analytics$0_1$resource_timing$$=function($win$jscomp$321$$,$spec$jscomp$17$$,$startTime$jscomp$20$$){return $spec$jscomp$17$$&&Date.now()<$startTime$jscomp$20$$+6E4?$serializeResourceTiming$$module$extensions$amp_analytics$0_1$resource_timing$$($win$jscomp$321$$,
$spec$jscomp$17$$):Promise.resolve("")},$JSCompiler_StaticMethods_generateBatchRequest$$=function($baseUrl$jscomp$10$$,$segments$jscomp$1$$,$withPayload$jscomp$1$$){return(void 0===$withPayload$jscomp$1$$?0:$withPayload$jscomp$1$$)?{url:$baseUrl$jscomp$10$$.replace("${extraUrlParams}",""),$payload$:JSON.stringify($segments$jscomp$1$$.map(function($baseUrl$jscomp$10$$){return $baseUrl$jscomp$10$$.extraUrlParams}))}:{url:$defaultSerializer$$module$extensions$amp_analytics$0_1$transport_serializer$$($baseUrl$jscomp$10$$,
$segments$jscomp$1$$)}},$defaultSerializer$$module$extensions$amp_analytics$0_1$transport_serializer$$=function($baseUrl$jscomp$11$$,$batchSegments_extraUrlParamsStr$$){$batchSegments_extraUrlParamsStr$$=$batchSegments_extraUrlParamsStr$$.map(function($baseUrl$jscomp$11$$){return _.$serializeQueryString$$module$src$url$$($baseUrl$jscomp$11$$.extraUrlParams)}).filter(function($baseUrl$jscomp$11$$){return!!$baseUrl$jscomp$11$$}).join("&");return 0<=$baseUrl$jscomp$11$$.indexOf("${extraUrlParams}")?
$baseUrl$jscomp$11$$.replace("${extraUrlParams}",$batchSegments_extraUrlParamsStr$$):_.$appendEncodedParamStringToUrl$$module$src$url$$($baseUrl$jscomp$11$$,$batchSegments_extraUrlParamsStr$$)},$RequestHandler$$module$extensions$amp_analytics$0_1$requests$$=function($element$jscomp$346_i$jscomp$inline_2679$$,$interval$jscomp$inline_2680_request$jscomp$17$$,$preconnect$jscomp$3$$,$transport$jscomp$1$$,$isSandbox$$){this.$element_$=$element$jscomp$346_i$jscomp$inline_2679$$;this.$ampdoc_$=$element$jscomp$346_i$jscomp$inline_2679$$.$getAmpDoc$();
this.$win$=this.$ampdoc_$.$win$;this.$Y$=$interval$jscomp$inline_2680_request$jscomp$17$$.baseUrl;this.$D$=$interval$jscomp$inline_2680_request$jscomp$17$$.batchInterval;this.$W$=Number($interval$jscomp$inline_2680_request$jscomp$17$$.reportWindow)||null;this.$M$=null;this.$K$=$variableServiceFor$$module$extensions$amp_analytics$0_1$variables$$(this.$win$);this.$S$=_.$Services$$module$src$services$urlReplacementsForDoc$$($element$jscomp$346_i$jscomp$inline_2679$$);this.$I$=this.$H$=null;this.$O$=
[];this.$Z$=$preconnect$jscomp$3$$;this.$R$=$transport$jscomp$1$$;this.$U$=$isSandbox$$?$SANDBOX_AVAILABLE_VARS$$module$extensions$amp_analytics$0_1$sandbox_vars_whitelist$$:void 0;this.$J$=this.$F$=null;this.$V$=!0;this.$P$=null;this.$G$=0;this.$X$=Date.now();$JSCompiler_StaticMethods_initReportWindow_$$(this);if(this.$D$){this.$D$=_.$isArray$$module$src$types$$(this.$D$)?this.$D$:[this.$D$];for($element$jscomp$346_i$jscomp$inline_2679$$=0;$element$jscomp$346_i$jscomp$inline_2679$$<this.$D$.length;$element$jscomp$346_i$jscomp$inline_2679$$++)$interval$jscomp$inline_2680_request$jscomp$17$$=
this.$D$[$element$jscomp$346_i$jscomp$inline_2679$$],$interval$jscomp$inline_2680_request$jscomp$17$$=1E3*Number($interval$jscomp$inline_2680_request$jscomp$17$$),this.$D$[$element$jscomp$346_i$jscomp$inline_2679$$]=$interval$jscomp$inline_2680_request$jscomp$17$$;this.$M$=0;$JSCompiler_StaticMethods_refreshBatchInterval_$$(this)}},$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$$=function($JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$,
$configParams_params$jscomp$24$$,$trigger$$,$batchSegmentPromise_expansionOption$$){var $isImportant$$=!0===$trigger$$.important;if($JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$V$||$isImportant$$){$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$G$++;$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$P$=$trigger$$;
var $bindings$jscomp$1$$=$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$K$.$D$;$bindings$jscomp$1$$.RESOURCE_TIMING=$getResourceTiming$$module$extensions$amp_analytics$0_1$resource_timing$$($JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$win$,$trigger$$.resourceTimingSpec,$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$X$);
$bindings$jscomp$1$$.CONSENT_STATE=$getConsentStateStr$$module$extensions$amp_analytics$0_1$variables$$($JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$element_$);$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$H$||($batchSegmentPromise_expansionOption$$.$D$.extraUrlParams=!0,$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$I$=
$JSCompiler_StaticMethods_expandTemplate$$($JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$K$,$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$Y$,$batchSegmentPromise_expansionOption$$),$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$H$=$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$I$.then(function($configParams_params$jscomp$24$$){return _.$JSCompiler_StaticMethods_expandUrlAsync$$($JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$S$,
$configParams_params$jscomp$24$$,$bindings$jscomp$1$$,$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$U$)}));$configParams_params$jscomp$24$$=Object.assign({},$configParams_params$jscomp$24$$,$trigger$$.extraUrlParams);var $timestamp$jscomp$3$$=$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$win$.Date.now();$batchSegmentPromise_expansionOption$$=$expandExtraUrlParams$$module$extensions$amp_analytics$0_1$requests$$($JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$K$,
$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$S$,$configParams_params$jscomp$24$$,$batchSegmentPromise_expansionOption$$,$bindings$jscomp$1$$,$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$U$).then(function($JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$){return _.$dict$$module$src$utils$object$$({trigger:$trigger$$.on,
timestamp:$timestamp$jscomp$3$$,extraUrlParams:$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$})});$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$O$.push($batchSegmentPromise_expansionOption$$);0==$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$G$||!$isImportant$$&&$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$.$D$||
$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$fire_$$($JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$self$$)}},$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$fire_$$=function($JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$fire_$self$$){var $baseUrlTemplatePromise$$=$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$fire_$self$$.$I$,
$baseUrlPromise$$=$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$fire_$self$$.$H$,$segmentPromises$$=$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$fire_$self$$.$O$,$trigger$jscomp$1$$=$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$fire_$self$$.$P$;$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$fire_$self$$.$reset_$();
$baseUrlTemplatePromise$$.then(function($baseUrlTemplatePromise$$){$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$fire_$self$$.$Z$.url($baseUrlTemplatePromise$$,!0);Promise.all([$baseUrlPromise$$,Promise.all($segmentPromises$$)]).then(function($baseUrlTemplatePromise$$){var $baseUrlPromise$$=$baseUrlTemplatePromise$$[0];$baseUrlTemplatePromise$$=$baseUrlTemplatePromise$$[1];0!==$baseUrlTemplatePromise$$.length&&($trigger$jscomp$1$$.iframePing?$JSCompiler_StaticMethods_sendRequestUsingIframe$$($JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$fire_$self$$.$R$,
$baseUrlPromise$$,$baseUrlTemplatePromise$$[0]):$JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$$($JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$fire_$self$$.$R$,$baseUrlPromise$$,$baseUrlTemplatePromise$$,!!$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$fire_$self$$.$D$))})})},$JSCompiler_StaticMethods_initReportWindow_$$=function($JSCompiler_StaticMethods_initReportWindow_$self$$){$JSCompiler_StaticMethods_initReportWindow_$self$$.$W$&&
($JSCompiler_StaticMethods_initReportWindow_$self$$.$J$=$JSCompiler_StaticMethods_initReportWindow_$self$$.$win$.setTimeout(function(){0!=$JSCompiler_StaticMethods_initReportWindow_$self$$.$G$&&$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$fire_$$($JSCompiler_StaticMethods_initReportWindow_$self$$);$JSCompiler_StaticMethods_initReportWindow_$self$$.$V$=!1;$JSCompiler_StaticMethods_initReportWindow_$self$$.$F$&&($JSCompiler_StaticMethods_initReportWindow_$self$$.$win$.clearTimeout($JSCompiler_StaticMethods_initReportWindow_$self$$.$F$),
$JSCompiler_StaticMethods_initReportWindow_$self$$.$F$=null)},1E3*$JSCompiler_StaticMethods_initReportWindow_$self$$.$W$))},$JSCompiler_StaticMethods_refreshBatchInterval_$$=function($JSCompiler_StaticMethods_refreshBatchInterval_$self$$){var $interval$jscomp$8$$=$JSCompiler_StaticMethods_refreshBatchInterval_$self$$.$M$<$JSCompiler_StaticMethods_refreshBatchInterval_$self$$.$D$.length?$JSCompiler_StaticMethods_refreshBatchInterval_$self$$.$D$[$JSCompiler_StaticMethods_refreshBatchInterval_$self$$.$M$++]:
$JSCompiler_StaticMethods_refreshBatchInterval_$self$$.$D$[$JSCompiler_StaticMethods_refreshBatchInterval_$self$$.$D$.length-1];$JSCompiler_StaticMethods_refreshBatchInterval_$self$$.$F$=$JSCompiler_StaticMethods_refreshBatchInterval_$self$$.$win$.setTimeout(function(){0!=$JSCompiler_StaticMethods_refreshBatchInterval_$self$$.$G$&&$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$fire_$$($JSCompiler_StaticMethods_refreshBatchInterval_$self$$);$JSCompiler_StaticMethods_refreshBatchInterval_$$($JSCompiler_StaticMethods_refreshBatchInterval_$self$$)},
$interval$jscomp$8$$)},$expandPostMessage$$module$extensions$amp_analytics$0_1$requests$$=function($ampdoc$jscomp$139_basePromise$$,$msg$jscomp$1$$,$configParams$jscomp$1$$,$trigger$jscomp$2$$,$expansionOption$jscomp$1$$,$element$jscomp$347$$){var $variableService$jscomp$1$$=$variableServiceFor$$module$extensions$amp_analytics$0_1$variables$$($ampdoc$jscomp$139_basePromise$$.$win$),$urlReplacementService$$=_.$Services$$module$src$services$urlReplacementsForDoc$$($element$jscomp$347$$),$bindings$jscomp$2$$=
$variableService$jscomp$1$$.$D$;$expansionOption$jscomp$1$$.$D$.extraUrlParams=!0;$ampdoc$jscomp$139_basePromise$$=$JSCompiler_StaticMethods_expandTemplate$$($variableService$jscomp$1$$,$msg$jscomp$1$$,$expansionOption$jscomp$1$$).then(function($ampdoc$jscomp$139_basePromise$$){return $JSCompiler_StaticMethods_expandStringAsync$$($urlReplacementService$$,$ampdoc$jscomp$139_basePromise$$,$bindings$jscomp$2$$)});return 0>$msg$jscomp$1$$.indexOf("${extraUrlParams}")?$ampdoc$jscomp$139_basePromise$$:
$ampdoc$jscomp$139_basePromise$$.then(function($ampdoc$jscomp$139_basePromise$$){var $msg$jscomp$1$$=Object.assign({},$configParams$jscomp$1$$,$trigger$jscomp$2$$.extraUrlParams);return $expandExtraUrlParams$$module$extensions$amp_analytics$0_1$requests$$($variableService$jscomp$1$$,$urlReplacementService$$,$msg$jscomp$1$$,$expansionOption$jscomp$1$$,$bindings$jscomp$2$$).then(function($msg$jscomp$1$$){return $defaultSerializer$$module$extensions$amp_analytics$0_1$transport_serializer$$($ampdoc$jscomp$139_basePromise$$,
[_.$dict$$module$src$utils$object$$({extraUrlParams:$msg$jscomp$1$$})])})})},$expandExtraUrlParams$$module$extensions$amp_analytics$0_1$requests$$=function($variableService$jscomp$2$$,$urlReplacements$jscomp$4$$,$params$jscomp$27$$,$expansionOption$jscomp$2$$,$bindings$jscomp$3$$,$opt_whitelist$$){function $expandObject$$($params$jscomp$27$$,$expansionOption$jscomp$2$$){var $params$jscomp$28$$=$params$jscomp$27$$[$expansionOption$jscomp$2$$];if("string"===typeof $params$jscomp$28$$){var $key$jscomp$107$$=
$JSCompiler_StaticMethods_expandTemplate$$($variableService$jscomp$2$$,$params$jscomp$28$$,$option$jscomp$11$$).then(function($variableService$jscomp$2$$){return $JSCompiler_StaticMethods_expandStringAsync$$($urlReplacements$jscomp$4$$,$variableService$jscomp$2$$,$bindings$jscomp$3$$,$opt_whitelist$$)}).then(function($variableService$jscomp$2$$){return $params$jscomp$27$$[$expansionOption$jscomp$2$$]=$variableService$jscomp$2$$});$requestPromises$$.push($key$jscomp$107$$)}else _.$isArray$$module$src$types$$($params$jscomp$28$$)?
$params$jscomp$28$$.forEach(function($variableService$jscomp$2$$,$urlReplacements$jscomp$4$$){return $expandObject$$($params$jscomp$28$$,$urlReplacements$jscomp$4$$)}):_.$isObject$$module$src$types$$($params$jscomp$28$$)&&null!==$params$jscomp$28$$&&Object.keys($params$jscomp$28$$).forEach(function($variableService$jscomp$2$$){return $expandObject$$($params$jscomp$28$$,$variableService$jscomp$2$$)})}var $requestPromises$$=[],$option$jscomp$11$$=new $ExpansionOptions$$module$extensions$amp_analytics$0_1$variables$$($expansionOption$jscomp$2$$.$vars$,
$expansionOption$jscomp$2$$.iterations,!0);Object.keys($params$jscomp$27$$).forEach(function($variableService$jscomp$2$$){return $expandObject$$($params$jscomp$27$$,$variableService$jscomp$2$$)});return Promise.all($requestPromises$$).then(function(){return $params$jscomp$27$$})},$IframeTransportMessageQueue$$module$extensions$amp_analytics$0_1$iframe_transport_message_queue$$=function($frame$jscomp$3$$){var $$jscomp$this$jscomp$416$$=this;this.$H$=$frame$jscomp$3$$;this.$F$=!1;this.$D$=[];this.$G$=
new _.$SubscriptionApi$$module$src$iframe_helper$$(this.$H$,"send-iframe-transport-events",!0,function(){$$jscomp$this$jscomp$416$$.$F$=!0;$JSCompiler_StaticMethods_flushQueue_$$($$jscomp$this$jscomp$416$$)})},$JSCompiler_StaticMethods_flushQueue_$$=function($JSCompiler_StaticMethods_flushQueue_$self$$){$JSCompiler_StaticMethods_flushQueue_$self$$.$F$&&$JSCompiler_StaticMethods_flushQueue_$self$$.$D$.length&&(_.$JSCompiler_StaticMethods_SubscriptionApi$$module$src$iframe_helper_prototype$send$$($JSCompiler_StaticMethods_flushQueue_$self$$.$G$,
"iframe-transport-events",{events:$JSCompiler_StaticMethods_flushQueue_$self$$.$D$}),$JSCompiler_StaticMethods_flushQueue_$self$$.$D$=[])},$getIframeTransportScriptUrl$$module$extensions$amp_analytics$0_1$iframe_transport$$=function($ampWin_loc$jscomp$9$$){return(_.$getMode$$module$src$mode$$().localDev||_.$getMode$$module$src$mode$$().test)&&$ampWin_loc$jscomp$9$$.parent&&$ampWin_loc$jscomp$9$$.parent.location?($ampWin_loc$jscomp$9$$=$ampWin_loc$jscomp$9$$.parent.location,$ampWin_loc$jscomp$9$$.protocol+
"//"+$ampWin_loc$jscomp$9$$.host+"/dist/iframe-transport-client-lib.js"):_.$urls$$module$src$config$$.thirdParty+"/1904281823091/iframe-transport-client-v0.js"},$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$$=function($ampWin$jscomp$1_frameData$jscomp$inline_2694_frameData$jscomp$inline_6413_sentinel$jscomp$inline_6410$$,$frame$jscomp$inline_6412_frameName$jscomp$inline_6411_type$jscomp$187$$,$config$jscomp$50$$,$id$jscomp$63$$){this.$F$=$ampWin$jscomp$1_frameData$jscomp$inline_2694_frameData$jscomp$inline_6413_sentinel$jscomp$inline_6410$$;
this.$D$=$frame$jscomp$inline_6412_frameName$jscomp$inline_6411_type$jscomp$187$$;this.$H$=$id$jscomp$63$$;this.$G$=$config$jscomp$50$$.iframe;this.$I$=0;_.$hasOwn$$module$src$utils$object$$($IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$crossDomainIframes_$$,this.$D$)?($ampWin$jscomp$1_frameData$jscomp$inline_2694_frameData$jscomp$inline_6413_sentinel$jscomp$inline_6410$$=$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$crossDomainIframes_$$[this.$D$],
++$ampWin$jscomp$1_frameData$jscomp$inline_2694_frameData$jscomp$inline_6413_sentinel$jscomp$inline_6410$$.$usageCount$):($ampWin$jscomp$1_frameData$jscomp$inline_2694_frameData$jscomp$inline_6413_sentinel$jscomp$inline_6410$$=String(++$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$nextId_$$),$frame$jscomp$inline_6412_frameName$jscomp$inline_6411_type$jscomp$187$$=JSON.stringify({$scriptSrc$:$getIframeTransportScriptUrl$$module$extensions$amp_analytics$0_1$iframe_transport$$(this.$F$),
sentinel:$ampWin$jscomp$1_frameData$jscomp$inline_2694_frameData$jscomp$inline_6413_sentinel$jscomp$inline_6410$$,type:this.$D$}),$frame$jscomp$inline_6412_frameName$jscomp$inline_6411_type$jscomp$187$$=_.$createElementWithAttributes$$module$src$dom$$(this.$F$.document,"iframe",{sandbox:"allow-scripts allow-same-origin",name:$frame$jscomp$inline_6412_frameName$jscomp$inline_6411_type$jscomp$187$$,"data-amp-3p-sentinel":$ampWin$jscomp$1_frameData$jscomp$inline_2694_frameData$jscomp$inline_6413_sentinel$jscomp$inline_6410$$}),
$frame$jscomp$inline_6412_frameName$jscomp$inline_6411_type$jscomp$187$$.sentinel=$ampWin$jscomp$1_frameData$jscomp$inline_2694_frameData$jscomp$inline_6413_sentinel$jscomp$inline_6410$$,_.$toggle$$module$src$style$$($frame$jscomp$inline_6412_frameName$jscomp$inline_6411_type$jscomp$187$$,!1),$frame$jscomp$inline_6412_frameName$jscomp$inline_6411_type$jscomp$187$$.src=this.$G$,$ampWin$jscomp$1_frameData$jscomp$inline_2694_frameData$jscomp$inline_6413_sentinel$jscomp$inline_6410$$={frame:$frame$jscomp$inline_6412_frameName$jscomp$inline_6411_type$jscomp$187$$,
$usageCount$:1,$queue$:new $IframeTransportMessageQueue$$module$extensions$amp_analytics$0_1$iframe_transport_message_queue$$($frame$jscomp$inline_6412_frameName$jscomp$inline_6411_type$jscomp$187$$)},$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$crossDomainIframes_$$[this.$D$]=$ampWin$jscomp$1_frameData$jscomp$inline_2694_frameData$jscomp$inline_6413_sentinel$jscomp$inline_6410$$,this.$F$.document.body.appendChild($ampWin$jscomp$1_frameData$jscomp$inline_2694_frameData$jscomp$inline_6413_sentinel$jscomp$inline_6410$$.frame),
$JSCompiler_StaticMethods_createPerformanceObserver_$$(this))},$JSCompiler_StaticMethods_createPerformanceObserver_$$=function($JSCompiler_StaticMethods_createPerformanceObserver_$self$$){_.$isLongTaskApiSupported$$module$src$service$jank_meter$$($JSCompiler_StaticMethods_createPerformanceObserver_$self$$.$F$)&&($IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$performanceObservers_$$[$JSCompiler_StaticMethods_createPerformanceObserver_$self$$.$D$]=new $JSCompiler_StaticMethods_createPerformanceObserver_$self$$.$F$.PerformanceObserver(function($entryList$jscomp$1$$){$entryList$jscomp$1$$&&
$entryList$jscomp$1$$.getEntries().forEach(function($entryList$jscomp$1$$){$entryList$jscomp$1$$&&"longtask"==$entryList$jscomp$1$$.entryType&&"cross-origin-descendant"==$entryList$jscomp$1$$.name&&$entryList$jscomp$1$$.attribution&&$entryList$jscomp$1$$.attribution.forEach(function($entryList$jscomp$1$$){$JSCompiler_StaticMethods_createPerformanceObserver_$self$$.$G$==$entryList$jscomp$1$$.containerSrc&&0==++$JSCompiler_StaticMethods_createPerformanceObserver_$self$$.$I$%5&&_.$user$$module$src$log$$().error("amp-analytics/iframe-transport",
'Long Task: Vendor: "'+$JSCompiler_StaticMethods_createPerformanceObserver_$self$$.$D$+'"')})})}),$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$performanceObservers_$$[$JSCompiler_StaticMethods_createPerformanceObserver_$self$$.$D$].observe({entryTypes:["longtask"]}))},$JSCompiler_StaticMethods_IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport_prototype$sendRequest$$=function($JSCompiler_StaticMethods_IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport_prototype$sendRequest$self_event$jscomp$inline_2697$$,
$event$jscomp$88$$){var $JSCompiler_StaticMethods_IframeTransportMessageQueue$$module$extensions$amp_analytics$0_1$iframe_transport_message_queue_prototype$enqueue$self$jscomp$inline_2696$$=$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$crossDomainIframes_$$[$JSCompiler_StaticMethods_IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport_prototype$sendRequest$self_event$jscomp$inline_2697$$.$D$].$queue$;$JSCompiler_StaticMethods_IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport_prototype$sendRequest$self_event$jscomp$inline_2697$$=
{$creativeId$:$JSCompiler_StaticMethods_IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport_prototype$sendRequest$self_event$jscomp$inline_2697$$.$H$,message:$event$jscomp$88$$};$JSCompiler_StaticMethods_IframeTransportMessageQueue$$module$extensions$amp_analytics$0_1$iframe_transport_message_queue_prototype$enqueue$self$jscomp$inline_2696$$.$D$.push($JSCompiler_StaticMethods_IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport_prototype$sendRequest$self_event$jscomp$inline_2697$$);
100<=$JSCompiler_StaticMethods_IframeTransportMessageQueue$$module$extensions$amp_analytics$0_1$iframe_transport_message_queue_prototype$enqueue$self$jscomp$inline_2696$$.$D$.length&&(_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$warn$("amp-analytics/iframe-transport-message-queue","Exceeded maximum size of queue for: "+$JSCompiler_StaticMethods_IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport_prototype$sendRequest$self_event$jscomp$inline_2697$$.$creativeId$),$JSCompiler_StaticMethods_IframeTransportMessageQueue$$module$extensions$amp_analytics$0_1$iframe_transport_message_queue_prototype$enqueue$self$jscomp$inline_2696$$.$D$.shift());
$JSCompiler_StaticMethods_flushQueue_$$($JSCompiler_StaticMethods_IframeTransportMessageQueue$$module$extensions$amp_analytics$0_1$iframe_transport_message_queue_prototype$enqueue$self$jscomp$inline_2696$$)},$Transport$$module$extensions$amp_analytics$0_1$transport$$=function($win$jscomp$323$$,$options$jscomp$32$$){$options$jscomp$32$$=void 0===$options$jscomp$32$$?{}:$options$jscomp$32$$;this.$G$=$win$jscomp$323$$;this.$D$=$options$jscomp$32$$;this.$H$=this.$D$.referrerPolicy;"no-referrer"===this.$H$&&
(this.$D$.beacon=!1,this.$D$.xhrpost=!1);this.$I$=!!this.$D$.useBody;this.$F$=null;this.$J$="inabox"==_.$getMode$$module$src$mode$$($win$jscomp$323$$).runtime},$JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$$=function($JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$,$url$jscomp$175$$,$segments$jscomp$2$$,$inBatch$$){if($url$jscomp$175$$&&0!==$segments$jscomp$2$$.length){var $getRequest$$=
$cacheFuncResult$$module$extensions$amp_analytics$0_1$transport$$(function($JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$){if($inBatch$$)$JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$=$JSCompiler_StaticMethods_generateBatchRequest$$($url$jscomp$175$$,$segments$jscomp$2$$,$JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$);
else{var $getRequest$$=$segments$jscomp$2$$[0];$JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$=(void 0===$JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$?0:$JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$)?{url:$url$jscomp$175$$.replace("${extraUrlParams}",""),$payload$:JSON.stringify($getRequest$$.extraUrlParams)}:
{url:$defaultSerializer$$module$extensions$amp_analytics$0_1$transport_serializer$$($url$jscomp$175$$,[$getRequest$$])}}_.$checkCorsUrl$$module$src$url$$($JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$.url);return $JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$});if($JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$.$D$.iframe)$JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$.$F$?
$JSCompiler_StaticMethods_IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport_prototype$sendRequest$$($JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$.$F$,$getRequest$$(!1).url):_.$dev$$module$src$log$$().error("amp-analytics/transport","iframe transport was inadvertently deleted");else if(!$JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$.$D$.beacon||!$Transport$$module$extensions$amp_analytics$0_1$transport$sendRequestUsingBeacon$$($JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$.$G$,
$getRequest$$($JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$.$I$)))if(!$JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$.$D$.xhrpost||!$Transport$$module$extensions$amp_analytics$0_1$transport$sendRequestUsingXhr$$($JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$.$G$,$getRequest$$($JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$.$I$))){var $image$jscomp$6_suppressWarnings$$=
$JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$.$D$.image;$image$jscomp$6_suppressWarnings$$?($image$jscomp$6_suppressWarnings$$="object"==typeof $image$jscomp$6_suppressWarnings$$&&$image$jscomp$6_suppressWarnings$$.suppressWarnings,$Transport$$module$extensions$amp_analytics$0_1$transport$sendRequestUsingImage$$($JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$.$G$,$getRequest$$(!1),
$image$jscomp$6_suppressWarnings$$,$JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$.$H$)):_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("amp-analytics/transport","Failed to send request",$url$jscomp$175$$,$JSCompiler_StaticMethods_Transport$$module$extensions$amp_analytics$0_1$transport_prototype$sendRequest$self$$.$D$)}}else _.$dev$$module$src$log$$().$Log$$module$src$log_prototype$info$("amp-analytics/transport","Empty request not sent: ",
$url$jscomp$175$$)},$JSCompiler_StaticMethods_maybeInitIframeTransport$$=function($JSCompiler_StaticMethods_maybeInitIframeTransport$self$$,$win$jscomp$324$$,$ampAdResourceId_element$jscomp$348$$,$opt_preconnect_type$jscomp$191$$){$JSCompiler_StaticMethods_maybeInitIframeTransport$self$$.$D$.iframe&&!$JSCompiler_StaticMethods_maybeInitIframeTransport$self$$.$F$&&($opt_preconnect_type$jscomp$191$$&&$opt_preconnect_type$jscomp$191$$.preload($getIframeTransportScriptUrl$$module$extensions$amp_analytics$0_1$iframe_transport$$($win$jscomp$324$$),
"script"),$opt_preconnect_type$jscomp$191$$=$ampAdResourceId_element$jscomp$348$$.getAttribute("type"),$ampAdResourceId_element$jscomp$348$$=$JSCompiler_StaticMethods_maybeInitIframeTransport$self$$.$J$?"1":_.$JSCompiler_StaticMethods_assertString$$(_.$user$$module$src$log$$(),_.$getAmpAdResourceId$$module$src$ad_helper$$($ampAdResourceId_element$jscomp$348$$,_.$getTopWindow$$module$src$service$$($win$jscomp$324$$)),"No friendly amp-ad ancestor element was found for amp-analytics tag with iframe transport."),
$JSCompiler_StaticMethods_maybeInitIframeTransport$self$$.$F$=new $IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$$($win$jscomp$324$$,$opt_preconnect_type$jscomp$191$$,$JSCompiler_StaticMethods_maybeInitIframeTransport$self$$.$D$,$ampAdResourceId_element$jscomp$348$$))},$JSCompiler_StaticMethods_sendRequestUsingIframe$$=function($JSCompiler_StaticMethods_sendRequestUsingIframe$self$$,$request$jscomp$20_url$jscomp$176$$,$segment$jscomp$5$$){if($request$jscomp$20_url$jscomp$176$$=
$defaultSerializer$$module$extensions$amp_analytics$0_1$transport_serializer$$($request$jscomp$20_url$jscomp$176$$,[$segment$jscomp$5$$])){var $iframe$jscomp$36$$=$JSCompiler_StaticMethods_sendRequestUsingIframe$self$$.$G$.document.createElement("iframe");_.$toggle$$module$src$style$$($iframe$jscomp$36$$,!1);$iframe$jscomp$36$$.onload=$iframe$jscomp$36$$.onerror=function(){_.$Services$$module$src$services$timerFor$$($JSCompiler_StaticMethods_sendRequestUsingIframe$self$$.$G$).delay(function(){_.$removeElement$$module$src$dom$$($iframe$jscomp$36$$)},
5E3)};$iframe$jscomp$36$$.setAttribute("amp-analytics","");$iframe$jscomp$36$$.setAttribute("sandbox","allow-scripts allow-same-origin");$iframe$jscomp$36$$.src=$request$jscomp$20_url$jscomp$176$$;$JSCompiler_StaticMethods_sendRequestUsingIframe$self$$.$G$.document.body.appendChild($iframe$jscomp$36$$)}else _.$user$$module$src$log$$().error("amp-analytics/transport","Request not sent. Contents empty.")},$Transport$$module$extensions$amp_analytics$0_1$transport$sendRequestUsingImage$$=function($image$jscomp$7_win$jscomp$325$$,
$request$jscomp$21$$,$suppressWarnings$jscomp$1$$,$referrerPolicy$jscomp$1$$){$image$jscomp$7_win$jscomp$325$$=_.$createPixel$$module$src$pixel$$($image$jscomp$7_win$jscomp$325$$,$request$jscomp$21$$.url,$referrerPolicy$jscomp$1$$);_.$loadPromise$$module$src$event_helper$$($image$jscomp$7_win$jscomp$325$$).then(function(){"amp-analytics/transport"}).catch(function(){$suppressWarnings$jscomp$1$$||_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("amp-analytics/transport","Response unparseable or failed to send image request",
$request$jscomp$21$$.url)})},$Transport$$module$extensions$amp_analytics$0_1$transport$sendRequestUsingBeacon$$=function($JSCompiler_inline_result$jscomp$718_win$jscomp$326$$,$request$jscomp$22_result$jscomp$35$$){$JSCompiler_inline_result$jscomp$718_win$jscomp$326$$=$JSCompiler_inline_result$jscomp$718_win$jscomp$326$$.navigator.sendBeacon?$JSCompiler_inline_result$jscomp$718_win$jscomp$326$$.navigator.sendBeacon.bind($JSCompiler_inline_result$jscomp$718_win$jscomp$326$$.navigator):void 0;if(!$JSCompiler_inline_result$jscomp$718_win$jscomp$326$$)return!1;
($request$jscomp$22_result$jscomp$35$$=$JSCompiler_inline_result$jscomp$718_win$jscomp$326$$($request$jscomp$22_result$jscomp$35$$.url,$request$jscomp$22_result$jscomp$35$$.$payload$||""))&&"amp-analytics/transport";return $request$jscomp$22_result$jscomp$35$$},$Transport$$module$extensions$amp_analytics$0_1$transport$sendRequestUsingXhr$$=function($XMLHttpRequest$jscomp$1_win$jscomp$327$$,$request$jscomp$23$$){$XMLHttpRequest$jscomp$1_win$jscomp$327$$=$XMLHttpRequest$jscomp$1_win$jscomp$327$$.XMLHttpRequest;
if(!$XMLHttpRequest$jscomp$1_win$jscomp$327$$)return!1;var $xhr$jscomp$9$$=new $XMLHttpRequest$jscomp$1_win$jscomp$327$$;if(!("withCredentials"in $xhr$jscomp$9$$))return!1;$xhr$jscomp$9$$.open("POST",$request$jscomp$23$$.url,!0);$xhr$jscomp$9$$.withCredentials=!0;$xhr$jscomp$9$$.setRequestHeader("Content-Type","text/plain");$xhr$jscomp$9$$.onreadystatechange=function(){4==$xhr$jscomp$9$$.readyState&&"amp-analytics/transport"};$xhr$jscomp$9$$.send($request$jscomp$23$$.$payload$||"");return!0},$cacheFuncResult$$module$extensions$amp_analytics$0_1$transport$$=
function($func$jscomp$5$$){var $cachedValue$$={};return function($arg$jscomp$12$$){var $key$jscomp$110$$=String($arg$jscomp$12$$);void 0===$cachedValue$$[$key$jscomp$110$$]&&($cachedValue$$[$key$jscomp$110$$]=$func$jscomp$5$$($arg$jscomp$12$$));return $cachedValue$$[$key$jscomp$110$$]}},$AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics$$=function($$jscomp$super$this$jscomp$16_element$jscomp$349$$){$$jscomp$super$this$jscomp$16_element$jscomp$349$$=AMP.BaseElement.call(this,$$jscomp$super$this$jscomp$16_element$jscomp$349$$)||
this;$$jscomp$super$this$jscomp$16_element$jscomp$349$$.$R$=Promise.resolve();$$jscomp$super$this$jscomp$16_element$jscomp$349$$.$P$=null;$$jscomp$super$this$jscomp$16_element$jscomp$349$$.$M$=!1;$$jscomp$super$this$jscomp$16_element$jscomp$349$$.$I$={};$$jscomp$super$this$jscomp$16_element$jscomp$349$$.$D$={};$$jscomp$super$this$jscomp$16_element$jscomp$349$$.$S$=null;$$jscomp$super$this$jscomp$16_element$jscomp$349$$.$H$=null;$$jscomp$super$this$jscomp$16_element$jscomp$349$$.$O$=$variableServiceFor$$module$extensions$amp_analytics$0_1$variables$$($$jscomp$super$this$jscomp$16_element$jscomp$349$$.$win$);
$$jscomp$super$this$jscomp$16_element$jscomp$349$$.$U$=_.$Services$$module$src$services$cryptoFor$$($$jscomp$super$this$jscomp$16_element$jscomp$349$$.$win$);$$jscomp$super$this$jscomp$16_element$jscomp$349$$.$F$=null;$$jscomp$super$this$jscomp$16_element$jscomp$349$$.$J$=null;$$jscomp$super$this$jscomp$16_element$jscomp$349$$.$G$="inabox"==_.$getMode$$module$src$mode$$($$jscomp$super$this$jscomp$16_element$jscomp$349$$.$win$).runtime;$$jscomp$super$this$jscomp$16_element$jscomp$349$$.$K$=null;return $$jscomp$super$this$jscomp$16_element$jscomp$349$$},
$JSCompiler_StaticMethods_ensureInitialized_$$=function($JSCompiler_StaticMethods_ensureInitialized_$self$$){if($JSCompiler_StaticMethods_ensureInitialized_$self$$.$F$)return $JSCompiler_StaticMethods_ensureInitialized_$self$$.$F$;_.$toggle$$module$src$style$$($JSCompiler_StaticMethods_ensureInitialized_$self$$.element,!1);$JSCompiler_StaticMethods_ensureInitialized_$self$$.$F$=_.$Services$$module$src$services$viewerForDoc$$($JSCompiler_StaticMethods_ensureInitialized_$self$$.$getAmpDoc$()).$D$.then(function(){return _.$Services$$module$src$services$timerFor$$($JSCompiler_StaticMethods_ensureInitialized_$self$$.$win$).$promise$(1)}).then(function(){return $JSCompiler_StaticMethods_ensureInitialized_$self$$.$R$}).then(function(){return _.$Services$$module$src$services$ampdocServiceFor$$($JSCompiler_StaticMethods_ensureInitialized_$self$$.$win$)}).then(function($ampDocService$$){return $ampDocService$$.$getAmpDoc$($JSCompiler_StaticMethods_ensureInitialized_$self$$.element,
{$closestAmpDoc$:!0})}).then($instrumentationServicePromiseForDoc$$module$extensions$amp_analytics$0_1$instrumentation$$).then(function($instrumentation$$){$JSCompiler_StaticMethods_ensureInitialized_$self$$.$S$=$instrumentation$$;return $JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$loadConfig$$(new $AnalyticsConfig$$module$extensions$amp_analytics$0_1$config$$($JSCompiler_StaticMethods_ensureInitialized_$self$$.element))}).then(function($config$jscomp$51$$){$JSCompiler_StaticMethods_ensureInitialized_$self$$.$D$=
$config$jscomp$51$$;return(new $CookieWriter$$module$extensions$amp_analytics$0_1$cookie_writer$$($JSCompiler_StaticMethods_ensureInitialized_$self$$.$win$,$JSCompiler_StaticMethods_ensureInitialized_$self$$.element,$JSCompiler_StaticMethods_ensureInitialized_$self$$.$D$)).write()}).then(function(){$JSCompiler_StaticMethods_ensureInitialized_$self$$.$J$=new $Transport$$module$extensions$amp_analytics$0_1$transport$$($JSCompiler_StaticMethods_ensureInitialized_$self$$.$win$,$JSCompiler_StaticMethods_ensureInitialized_$self$$.$D$.transport||
{})}).then($JSCompiler_StaticMethods_ensureInitialized_$self$$.$registerTriggers_$.bind($JSCompiler_StaticMethods_ensureInitialized_$self$$)).then($JSCompiler_StaticMethods_ensureInitialized_$self$$.$initializeLinker_$.bind($JSCompiler_StaticMethods_ensureInitialized_$self$$));return $JSCompiler_StaticMethods_ensureInitialized_$self$$.$F$},$JSCompiler_StaticMethods_addTriggerNoInline_$$=function($JSCompiler_StaticMethods_addTriggerNoInline_$self_TAG$jscomp$10$$,$config$jscomp$52$$){if($JSCompiler_StaticMethods_addTriggerNoInline_$self_TAG$jscomp$10$$.$H$)try{var $JSCompiler_StaticMethods_addTrigger$self$jscomp$inline_2708$$=
$JSCompiler_StaticMethods_addTriggerNoInline_$self_TAG$jscomp$10$$.$H$,$handler$jscomp$inline_2710$$=$JSCompiler_StaticMethods_addTriggerNoInline_$self_TAG$jscomp$10$$.$AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$handleEvent_$.bind($JSCompiler_StaticMethods_addTriggerNoInline_$self_TAG$jscomp$10$$,$config$jscomp$52$$),$eventType$jscomp$inline_2711$$=$config$jscomp$52$$.on,$trackerKey$jscomp$inline_2712$$=$getTrackerKeyName$$module$extensions$amp_analytics$0_1$events$$($eventType$jscomp$inline_2711$$),
$trackerWhitelist$jscomp$inline_2713$$=$getTrackerTypesForParentType$$module$extensions$amp_analytics$0_1$events$$($JSCompiler_StaticMethods_addTrigger$self$jscomp$inline_2708$$.$F$.$getType$()),$unlisten$jscomp$inline_2714$$=$JSCompiler_StaticMethods_getTrackerForWhitelist$$($JSCompiler_StaticMethods_addTrigger$self$jscomp$inline_2708$$.$F$,$trackerKey$jscomp$inline_2712$$,$trackerWhitelist$jscomp$inline_2713$$).add($JSCompiler_StaticMethods_addTrigger$self$jscomp$inline_2708$$.$G$,$eventType$jscomp$inline_2711$$,
$config$jscomp$52$$,$handler$jscomp$inline_2710$$);$JSCompiler_StaticMethods_addTrigger$self$jscomp$inline_2708$$.$D$.push($unlisten$jscomp$inline_2714$$)}catch($e$255$$){$JSCompiler_StaticMethods_addTriggerNoInline_$self_TAG$jscomp$10$$=$JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$getName_$$($JSCompiler_StaticMethods_addTriggerNoInline_$self_TAG$jscomp$10$$),_.$rethrowAsync$$module$src$log$$($JSCompiler_StaticMethods_addTriggerNoInline_$self_TAG$jscomp$10$$,
'Failed to process trigger "'+$config$jscomp$52$$.on+'"',$e$255$$)}},$JSCompiler_StaticMethods_processExtraUrlParams_$$=function($JSCompiler_StaticMethods_processExtraUrlParams_$self$$,$TAG$jscomp$11_params$jscomp$29$$,$replaceMap$$){if($TAG$jscomp$11_params$jscomp$29$$&&$replaceMap$$){var $count$jscomp$20$$=0,$replaceMapKey$$;for($replaceMapKey$$ in $replaceMap$$){if(16<++$count$jscomp$20$$){$TAG$jscomp$11_params$jscomp$29$$=$JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$getName_$$($JSCompiler_StaticMethods_processExtraUrlParams_$self$$);
$JSCompiler_StaticMethods_processExtraUrlParams_$self$$.$user$().error($TAG$jscomp$11_params$jscomp$29$$,"More than 16 extraUrlParamsReplaceMap rules aren't allowed; Skipping the rest");break}for(var $extraUrlParamsKey$$ in $TAG$jscomp$11_params$jscomp$29$$){var $newkey$$=$extraUrlParamsKey$$.replace($replaceMapKey$$,$replaceMap$$[$replaceMapKey$$]);if($extraUrlParamsKey$$!=$newkey$$){var $value$jscomp$199$$=$TAG$jscomp$11_params$jscomp$29$$[$extraUrlParamsKey$$];delete $TAG$jscomp$11_params$jscomp$29$$[$extraUrlParamsKey$$];
$TAG$jscomp$11_params$jscomp$29$$[$newkey$$]=$value$jscomp$199$$}}}}},$JSCompiler_StaticMethods_hasOptedOut_$$=function($JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$25$$){var $elementId_props$jscomp$136$$=$JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$25$$.$D$.optoutElementId;if($elementId_props$jscomp$136$$&&$JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$25$$.$win$.document.getElementById($elementId_props$jscomp$136$$))return!0;if(!$JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$25$$.$D$.optout)return!1;
$elementId_props$jscomp$136$$=$JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$25$$.$D$.optout.split(".");$JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$25$$=$JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$25$$.$win$;for(var $i$jscomp$220$$=0;$i$jscomp$220$$<$elementId_props$jscomp$136$$.length;$i$jscomp$220$$++){if(!$JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$25$$)return!1;$JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$25$$=$JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$25$$[$elementId_props$jscomp$136$$[$i$jscomp$220$$]]}return $JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$25$$()},
$JSCompiler_StaticMethods_generateRequests_$$=function($JSCompiler_StaticMethods_generateRequests_$self$$){if(!$JSCompiler_StaticMethods_generateRequests_$self$$.$D$.requests){if(!$JSCompiler_StaticMethods_generateRequests_$self$$.$G$){var $TAG$jscomp$12_k$257$$=$JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$getName_$$($JSCompiler_StaticMethods_generateRequests_$self$$);$JSCompiler_StaticMethods_generateRequests_$self$$.$user$().error($TAG$jscomp$12_k$257$$,
"No request strings defined. Analytics data will not be sent from this page.")}}else if($JSCompiler_StaticMethods_generateRequests_$self$$.$D$.requests){for(var $k$jscomp$26_requests$jscomp$2$$ in $JSCompiler_StaticMethods_generateRequests_$self$$.$D$.requests)_.$hasOwn$$module$src$utils$object$$($JSCompiler_StaticMethods_generateRequests_$self$$.$D$.requests,$k$jscomp$26_requests$jscomp$2$$)&&!$JSCompiler_StaticMethods_generateRequests_$self$$.$D$.requests[$k$jscomp$26_requests$jscomp$2$$].baseUrl&&
($JSCompiler_StaticMethods_generateRequests_$self$$.$user$().error("amp-analytics","request must have a baseUrl"),delete $JSCompiler_StaticMethods_generateRequests_$self$$.$D$.requests[$k$jscomp$26_requests$jscomp$2$$]);for(var $k$256$$ in $JSCompiler_StaticMethods_generateRequests_$self$$.$D$.requests)$JSCompiler_StaticMethods_generateRequests_$self$$.$D$.requests[$k$256$$].baseUrl=$expandTemplate$$module$src$string$$($JSCompiler_StaticMethods_generateRequests_$self$$.$D$.requests[$k$256$$].baseUrl,
function($TAG$jscomp$12_k$257$$){var $k$jscomp$26_requests$jscomp$2$$=$JSCompiler_StaticMethods_generateRequests_$self$$.$D$.requests[$TAG$jscomp$12_k$257$$];return $k$jscomp$26_requests$jscomp$2$$&&$k$jscomp$26_requests$jscomp$2$$.baseUrl||"${"+$TAG$jscomp$12_k$257$$+"}"});$k$jscomp$26_requests$jscomp$2$$={};for($TAG$jscomp$12_k$257$$ in $JSCompiler_StaticMethods_generateRequests_$self$$.$D$.requests)_.$hasOwn$$module$src$utils$object$$($JSCompiler_StaticMethods_generateRequests_$self$$.$D$.requests,
$TAG$jscomp$12_k$257$$)&&($k$jscomp$26_requests$jscomp$2$$[$TAG$jscomp$12_k$257$$]=new $RequestHandler$$module$extensions$amp_analytics$0_1$requests$$($JSCompiler_StaticMethods_generateRequests_$self$$.element,$JSCompiler_StaticMethods_generateRequests_$self$$.$D$.requests[$TAG$jscomp$12_k$257$$],$JSCompiler_StaticMethods_generateRequests_$self$$.$preconnect$,$JSCompiler_StaticMethods_generateRequests_$self$$.$J$,$JSCompiler_StaticMethods_generateRequests_$self$$.$M$));$JSCompiler_StaticMethods_generateRequests_$self$$.$I$=
$k$jscomp$26_requests$jscomp$2$$}},$JSCompiler_StaticMethods_handleRequestForEvent_$$=function($JSCompiler_StaticMethods_handleRequestForEvent_$self$$,$TAG$259_requestName$jscomp$2$$,$trigger$jscomp$4$$,$event$jscomp$90$$){if(!$JSCompiler_StaticMethods_handleRequestForEvent_$self$$.element.ownerDocument.defaultView){var $TAG$jscomp$13_hasPostMessage$$=$JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$getName_$$($JSCompiler_StaticMethods_handleRequestForEvent_$self$$);
_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$warn$($TAG$jscomp$13_hasPostMessage$$,"request against destroyed embed: ",$trigger$jscomp$4$$.on)}var $request$jscomp$27$$=$JSCompiler_StaticMethods_handleRequestForEvent_$self$$.$I$[$TAG$259_requestName$jscomp$2$$];$TAG$jscomp$13_hasPostMessage$$=$JSCompiler_StaticMethods_handleRequestForEvent_$self$$.$G$&&$trigger$jscomp$4$$.parentPostMessage;if(void 0!=$TAG$259_requestName$jscomp$2$$&&!$request$jscomp$27$$&&($TAG$259_requestName$jscomp$2$$=
$JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$getName_$$($JSCompiler_StaticMethods_handleRequestForEvent_$self$$),$JSCompiler_StaticMethods_handleRequestForEvent_$self$$.$user$().error($TAG$259_requestName$jscomp$2$$,"Ignoring request for event. Request string not found: ",$trigger$jscomp$4$$.request),!$TAG$jscomp$13_hasPostMessage$$))return;$JSCompiler_StaticMethods_checkTriggerEnabled_$$($JSCompiler_StaticMethods_handleRequestForEvent_$self$$,
$trigger$jscomp$4$$,$event$jscomp$90$$).then(function($TAG$259_requestName$jscomp$2$$){$TAG$259_requestName$jscomp$2$$&&($request$jscomp$27$$&&($JSCompiler_StaticMethods_handleRequestForEvent_$self$$.$D$.vars.requestCount++,$TAG$259_requestName$jscomp$2$$=$JSCompiler_StaticMethods_expansionOptions_$$($JSCompiler_StaticMethods_handleRequestForEvent_$self$$,$event$jscomp$90$$,$trigger$jscomp$4$$),$JSCompiler_StaticMethods_RequestHandler$$module$extensions$amp_analytics$0_1$requests_prototype$send$$($request$jscomp$27$$,
$JSCompiler_StaticMethods_handleRequestForEvent_$self$$.$D$.extraUrlParams,$trigger$jscomp$4$$,$TAG$259_requestName$jscomp$2$$)),$JSCompiler_StaticMethods_expandAndPostMessage_$$($JSCompiler_StaticMethods_handleRequestForEvent_$self$$,$trigger$jscomp$4$$,$event$jscomp$90$$))})},$JSCompiler_StaticMethods_expandAndPostMessage_$$=function($JSCompiler_StaticMethods_expandAndPostMessage_$self$$,$trigger$jscomp$6$$,$event$jscomp$92_expansionOptions$jscomp$3$$){var $msg$jscomp$2$$=$trigger$jscomp$6$$.parentPostMessage;
$msg$jscomp$2$$&&$JSCompiler_StaticMethods_expandAndPostMessage_$self$$.$G$&&($event$jscomp$92_expansionOptions$jscomp$3$$=$JSCompiler_StaticMethods_expansionOptions_$$($JSCompiler_StaticMethods_expandAndPostMessage_$self$$,$event$jscomp$92_expansionOptions$jscomp$3$$,$trigger$jscomp$6$$),$expandPostMessage$$module$extensions$amp_analytics$0_1$requests$$($JSCompiler_StaticMethods_expandAndPostMessage_$self$$.$getAmpDoc$(),$msg$jscomp$2$$,$JSCompiler_StaticMethods_expandAndPostMessage_$self$$.$D$.extraUrlParams,
$trigger$jscomp$6$$,$event$jscomp$92_expansionOptions$jscomp$3$$,$JSCompiler_StaticMethods_expandAndPostMessage_$self$$.element).then(function($trigger$jscomp$6$$){_.$isIframed$$module$src$dom$$($JSCompiler_StaticMethods_expandAndPostMessage_$self$$.$win$)&&$JSCompiler_StaticMethods_expandAndPostMessage_$self$$.$win$.parent.postMessage($trigger$jscomp$6$$,"*")}))},$JSCompiler_StaticMethods_isSampledIn_$$=function($JSCompiler_StaticMethods_isSampledIn_$self$$,$expansionOptions$jscomp$4_trigger$jscomp$7$$){var $spec$jscomp$18$$=
$expansionOptions$jscomp$4_trigger$jscomp$7$$.sampleSpec,$resolve$jscomp$60$$=Promise.resolve(!0),$TAG$jscomp$14$$=$JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$getName_$$($JSCompiler_StaticMethods_isSampledIn_$self$$);if(!$spec$jscomp$18$$)return $resolve$jscomp$60$$;var $sampleOn$$=$spec$jscomp$18$$.sampleOn;if(!$sampleOn$$)return $JSCompiler_StaticMethods_isSampledIn_$self$$.$user$().error($TAG$jscomp$14$$,"Invalid sampleOn value."),$resolve$jscomp$60$$;
var $threshold$jscomp$4$$=parseFloat($spec$jscomp$18$$.threshold);if(0<=$threshold$jscomp$4$$&&100>=$threshold$jscomp$4$$)return $expansionOptions$jscomp$4_trigger$jscomp$7$$=$JSCompiler_StaticMethods_expansionOptions_$$($JSCompiler_StaticMethods_isSampledIn_$self$$,_.$dict$$module$src$utils$object$$({}),$expansionOptions$jscomp$4_trigger$jscomp$7$$),$JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$expandTemplateWithUrlParams_$$($JSCompiler_StaticMethods_isSampledIn_$self$$,
$sampleOn$$,$expansionOptions$jscomp$4_trigger$jscomp$7$$).then(function($expansionOptions$jscomp$4_trigger$jscomp$7$$){return _.$JSCompiler_StaticMethods_uniform$$($JSCompiler_StaticMethods_isSampledIn_$self$$.$U$,$expansionOptions$jscomp$4_trigger$jscomp$7$$)}).then(function($JSCompiler_StaticMethods_isSampledIn_$self$$){return 100*$JSCompiler_StaticMethods_isSampledIn_$self$$<$threshold$jscomp$4$$});_.$user$$module$src$log$$().error($TAG$jscomp$14$$,"Invalid threshold for sampling.");return $resolve$jscomp$60$$},
$JSCompiler_StaticMethods_checkTriggerEnabled_$$=function($JSCompiler_StaticMethods_checkTriggerEnabled_$self_enabledOnTriggerLevel$$,$trigger$jscomp$8$$,$enabledOnTagLevel_event$jscomp$93$$){var $expansionOptions$jscomp$5$$=$JSCompiler_StaticMethods_expansionOptions_$$($JSCompiler_StaticMethods_checkTriggerEnabled_$self_enabledOnTriggerLevel$$,$enabledOnTagLevel_event$jscomp$93$$,$trigger$jscomp$8$$);$enabledOnTagLevel_event$jscomp$93$$=$JSCompiler_StaticMethods_checkSpecEnabled_$$($JSCompiler_StaticMethods_checkTriggerEnabled_$self_enabledOnTriggerLevel$$,
$JSCompiler_StaticMethods_checkTriggerEnabled_$self_enabledOnTriggerLevel$$.$D$.enabled,$expansionOptions$jscomp$5$$);$JSCompiler_StaticMethods_checkTriggerEnabled_$self_enabledOnTriggerLevel$$=$JSCompiler_StaticMethods_checkSpecEnabled_$$($JSCompiler_StaticMethods_checkTriggerEnabled_$self_enabledOnTriggerLevel$$,$trigger$jscomp$8$$.enabled,$expansionOptions$jscomp$5$$);return Promise.all([$enabledOnTagLevel_event$jscomp$93$$,$JSCompiler_StaticMethods_checkTriggerEnabled_$self_enabledOnTriggerLevel$$]).then(function($JSCompiler_StaticMethods_checkTriggerEnabled_$self_enabledOnTriggerLevel$$){return $JSCompiler_StaticMethods_checkTriggerEnabled_$self_enabledOnTriggerLevel$$[0]&&
$JSCompiler_StaticMethods_checkTriggerEnabled_$self_enabledOnTriggerLevel$$[1]})},$JSCompiler_StaticMethods_checkSpecEnabled_$$=function($JSCompiler_StaticMethods_checkSpecEnabled_$self$$,$spec$jscomp$19$$,$expansionOptions$jscomp$6$$){return void 0===$spec$jscomp$19$$?Promise.resolve(!0):"boolean"===typeof $spec$jscomp$19$$?Promise.resolve($spec$jscomp$19$$):$JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$expandTemplateWithUrlParams_$$($JSCompiler_StaticMethods_checkSpecEnabled_$self$$,
$spec$jscomp$19$$,$expansionOptions$jscomp$6$$).then(function($JSCompiler_StaticMethods_checkSpecEnabled_$self$$){return""!==$JSCompiler_StaticMethods_checkSpecEnabled_$self$$&&"0"!==$JSCompiler_StaticMethods_checkSpecEnabled_$self$$&&"false"!==$JSCompiler_StaticMethods_checkSpecEnabled_$self$$&&"null"!==$JSCompiler_StaticMethods_checkSpecEnabled_$self$$&&"NaN"!==$JSCompiler_StaticMethods_checkSpecEnabled_$self$$&&"undefined"!==$JSCompiler_StaticMethods_checkSpecEnabled_$self$$})},$JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$expandTemplateWithUrlParams_$$=
function($JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$expandTemplateWithUrlParams_$self$$,$spec$jscomp$20$$,$expansionOptions$jscomp$7$$){return $JSCompiler_StaticMethods_expandTemplate$$($JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$expandTemplateWithUrlParams_$self$$.$O$,$spec$jscomp$20$$,$expansionOptions$jscomp$7$$).then(function($spec$jscomp$20$$){return _.$JSCompiler_StaticMethods_expandUrlAsync$$(_.$Services$$module$src$services$urlReplacementsForDoc$$($JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$expandTemplateWithUrlParams_$self$$.element),
$spec$jscomp$20$$,$JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$expandTemplateWithUrlParams_$self$$.$O$.$D$)})},$JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$getName_$$=function($JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$getName_$self$$){return"AmpAnalytics "+($JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$getName_$self$$.element.getAttribute("id")||
"<unknown id>")},$JSCompiler_StaticMethods_expansionOptions_$$=function($JSCompiler_StaticMethods_expansionOptions_$self$$,$source1$$,$source2$$,$opt_iterations$jscomp$1$$,$opt_noEncode$jscomp$2$$){var $vars$jscomp$16$$={};$mergeObjects$$module$extensions$amp_analytics$0_1$config$$($JSCompiler_StaticMethods_expansionOptions_$self$$.$D$.vars,$vars$jscomp$16$$);$mergeObjects$$module$extensions$amp_analytics$0_1$config$$($source2$$.vars,$vars$jscomp$16$$);$mergeObjects$$module$extensions$amp_analytics$0_1$config$$($source1$$.vars,
$vars$jscomp$16$$);return new $ExpansionOptions$$module$extensions$amp_analytics$0_1$variables$$($vars$jscomp$16$$,$opt_iterations$jscomp$1$$,$opt_noEncode$jscomp$2$$)},$VideoAnalyticsEvents$$module$src$video_interface$$={$ENDED$:"video-ended",$PAUSE$:"video-pause",$PLAY$:"video-play",$SESSION$:"video-session",$SESSION_VISIBLE$:"video-session-visible",$SECONDS_PLAYED$:"video-seconds-played",$CUSTOM$:"video-hosted-custom",$PERCENTAGE_PLAYED$:"video-percentage-played"},$SANDBOX_AVAILABLE_VARS$$module$extensions$amp_analytics$0_1$sandbox_vars_whitelist$$=
{RANDOM:!0,CANONICAL_URL:!0,CANONICAL_HOST:!0,CANONICAL_HOSTNAME:!0,CANONICAL_PATH:!0,AMPDOC_URL:!0,AMPDOC_HOST:!0,AMPDOC_HOSTNAME:!0,SOURCE_URL:!0,SOURCE_HOST:!0,SOURCE_HOSTNAME:!0,SOURCE_PATH:!0,TIMESTAMP:!0,TIMEZONE:!0,TIMEZONE_CODE:!0,VIEWPORT_HEIGHT:!0,VIEWPORT_WIDTH:!0,SCREEN_WIDTH:!0,SCREEN_HEIGHT:!0,AVAILABLE_SCREEN_HEIGHT:!0,AVAILABLE_SCREEN_WIDTH:!0,SCREEN_COLOR_DEPTH:!0,DOCUMENT_CHARSET:!0,BROWSER_LANGUAGE:!0,AMP_VERSION:!0,BACKGROUND_STATE:!0,USER_AGENT:!0,FIRST_CONTENTFUL_PAINT:!0,FIRST_VIEWPORT_READY:!0,
MAKE_BODY_VISIBLE:!0};var $crcTable$$module$extensions$amp_analytics$0_1$crc32$$=null;var $KEY_VALIDATOR$$module$extensions$amp_analytics$0_1$linker$$=/^[a-zA-Z0-9\-_.]+$/;$LinkerReader$$module$extensions$amp_analytics$0_1$linker_reader$$.prototype.get=function($name$jscomp$199$$,$id$jscomp$54$$){if(!$name$jscomp$199$$||!$id$jscomp$54$$)return _.$user$$module$src$log$$().error("amp-analytics/linker-reader","LINKER_PARAM requires two params, name and id"),null;if(!_.$hasOwn$$module$src$utils$object$$(this.$D$,$name$jscomp$199$$)){var $JSCompiler_temp_const$jscomp$720$$=this.$D$;var $params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$=
_.$parseUrlDeprecated$$module$src$url$$(this.$F$.location.href);var $JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$=_.$parseQueryString_$$module$src$url_parse_query_string$$($params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$.search);
if(_.$hasOwn$$module$src$utils$object$$($JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$,$name$jscomp$199$$)){$JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$=
$JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$[$name$jscomp$199$$];if(this.$F$.history.replaceState){var $JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$;
$JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$=($JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$=$params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$.search)&&"?"!=$JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$?
($JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$=$JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$.replace(new RegExp("[?&]"+$name$jscomp$199$$+"=[^&]*","g"),"").replace(/^[?&]/,""))?"?"+$JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$:
"":"";this.$F$.history.replaceState(null,"",$params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$.origin+$params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$.pathname+$JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$+($params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$.hash||
""))}$params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$=$JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$.split("*");$JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$=
0==$params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$.length%2;4>$params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$.length||!$JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$?(_.$user$$module$src$log$$().error("amp-analytics/linker","Invalid linker_param value "+
$JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$),$JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$=
null):($JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$=Number($params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$.shift()),1!==$JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$?
(_.$user$$module$src$log$$().error("amp-analytics/linker","Invalid version number "+$JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$),$JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$=
null):$JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$={$checksum$:$params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$.shift(),$serializedIds$:$params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$.join("*")});
if($JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$){$params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$=$JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$.$serializedIds$;
c:{$JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$=$JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$.$checksum$;
for($JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$=0;1>=$JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$;$JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$++)if($crc32$$module$extensions$amp_analytics$0_1$crc32$$([$getFingerprint$$module$extensions$amp_analytics$0_1$linker$$(),
Math.floor(Date.now()/6E4)-($JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$||0),$params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$].join("*")).toString(36)==$JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$){$JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$=
!0;break c}$JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$=!1}if($JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$)for($JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$=
{},$params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$=$params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$.split("*"),$JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$=0;$JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$<
$params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$.length;$JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$+=2){var $key$jscomp$inline_7186$$=$params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$[$JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$];
if($KEY_VALIDATOR$$module$extensions$amp_analytics$0_1$linker$$.test($key$jscomp$inline_7186$$)){var $JSCompiler_inline_result$jscomp$inline_7187_bytes$jscomp$inline_7188$$=_.$base64UrlDecodeToBytes$$module$src$utils$base64$$(String($params$jscomp$inline_7184_parsedUrl$jscomp$inline_2528_parts$jscomp$inline_7174_serializedIds$jscomp$inline_6381$$[$JSCompiler_inline_result$jscomp$inline_6374_i$jscomp$inline_7180_i$jscomp$inline_7185_isEven$jscomp$inline_7175_search$jscomp$inline_6376_urlSearch$jscomp$inline_6375$$+
1]));$JSCompiler_inline_result$jscomp$inline_7187_bytes$jscomp$inline_7188$$=_.$utf8Decode$$module$src$utils$bytes$$($JSCompiler_inline_result$jscomp$inline_7187_bytes$jscomp$inline_7188$$);$JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$[$key$jscomp$inline_7186$$]=$JSCompiler_inline_result$jscomp$inline_7187_bytes$jscomp$inline_7188$$}else _.$user$$module$src$log$$().error("amp-analytics/linker",
"Invalid linker key "+$key$jscomp$inline_7186$$+", value ignored")}else _.$user$$module$src$log$$().error("amp-analytics/linker","LINKER_PARAM value checksum not valid"),$JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$=null}else $JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$=
null}else $JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$=null;$JSCompiler_temp_const$jscomp$720$$[$name$jscomp$199$$]=$JSCompiler_inline_result$jscomp$7113_JSCompiler_inline_result$jscomp$7114_JSCompiler_inline_result$jscomp$721_checksum$jscomp$inline_7179_keyValuePairs$jscomp$inline_7183_linkerObj$jscomp$inline_6380_params$jscomp$inline_2529_value$jscomp$inline_2530_version$jscomp$inline_7176$$}return this.$D$[$name$jscomp$199$$]&&
this.$D$[$name$jscomp$199$$][$id$jscomp$54$$]?this.$D$[$name$jscomp$199$$][$id$jscomp$54$$]:null};var $VARIABLE_ARGS_REGEXP$$module$extensions$amp_analytics$0_1$variables$$=/^(?:([^\s]*)(\([^)]*\))|[^]+)$/,$EXTERNAL_CONSENT_POLICY_STATE_STRING$$module$extensions$amp_analytics$0_1$variables$$={1:"sufficient",2:"insufficient",3:"not_required",4:"unknown"};
$VariableService$$module$extensions$amp_analytics$0_1$variables$$.prototype.$G$=function($template$jscomp$15$$,$options$jscomp$31$$){var $$jscomp$this$jscomp$378$$=this;return $template$jscomp$15$$.replace(/\${([^}]*)}/g,function($template$jscomp$15$$,$$jscomp$destructuring$var323_argList$jscomp$2_key$jscomp$96$$){if(0>$options$jscomp$31$$.iterations)return _.$user$$module$src$log$$().error("amp-analytics/variables","Maximum depth reached while expanding variables. Please ensure that the variables are not recursive."),
$template$jscomp$15$$;if(!$$jscomp$destructuring$var323_argList$jscomp$2_key$jscomp$96$$)return"";$$jscomp$destructuring$var323_argList$jscomp$2_key$jscomp$96$$=$getNameArgs$$module$extensions$amp_analytics$0_1$variables$$($$jscomp$destructuring$var323_argList$jscomp$2_key$jscomp$96$$);var $match$jscomp$22_value$jscomp$191_value$jscomp$inline_2550$$=$$jscomp$destructuring$var323_argList$jscomp$2_key$jscomp$96$$.name;$$jscomp$destructuring$var323_argList$jscomp$2_key$jscomp$96$$=$$jscomp$destructuring$var323_argList$jscomp$2_key$jscomp$96$$.$argList$;
if($options$jscomp$31$$.$D$[$match$jscomp$22_value$jscomp$191_value$jscomp$inline_2550$$])return $template$jscomp$15$$;$template$jscomp$15$$=$options$jscomp$31$$.$vars$[$match$jscomp$22_value$jscomp$191_value$jscomp$inline_2550$$];null==$template$jscomp$15$$&&($template$jscomp$15$$="");"string"==typeof $template$jscomp$15$$&&($template$jscomp$15$$=$$jscomp$this$jscomp$378$$.$G$($template$jscomp$15$$,new $ExpansionOptions$$module$extensions$amp_analytics$0_1$variables$$($options$jscomp$31$$.$vars$,
$options$jscomp$31$$.iterations-1,!0)));$options$jscomp$31$$.$F$||($template$jscomp$15$$=$encodeVars$$module$extensions$amp_analytics$0_1$variables$$($template$jscomp$15$$));$template$jscomp$15$$&&($template$jscomp$15$$+=$$jscomp$destructuring$var323_argList$jscomp$2_key$jscomp$96$$);return $template$jscomp$15$$})};
$VariableService$$module$extensions$amp_analytics$0_1$variables$$.prototype.$H$=function($value$jscomp$192$$){return _.$JSCompiler_StaticMethods_sha384Base64$$(_.$Services$$module$src$services$cryptoFor$$(this.$F$),$value$jscomp$192$$)};var $EXPAND_WHITELIST$$module$extensions$amp_analytics$0_1$cookie_writer$$={QUERY_PARAM:!0,LINKER_PARAM:!0},$RESERVED_KEYS$$module$extensions$amp_analytics$0_1$cookie_writer$$={referrerDomains:!0,enabled:!0,cookiePath:!0,cookieMaxAge:!0,cookieSecure:!0,cookieDomain:!0};$CookieWriter$$module$extensions$amp_analytics$0_1$cookie_writer$$.prototype.write=function(){this.$G$||(this.$G$=$JSCompiler_StaticMethods_CookieWriter$$module$extensions$amp_analytics$0_1$cookie_writer_prototype$init_$$(this));return this.$G$};$ActivityHistory$$module$extensions$amp_analytics$0_1$activity_impl$$.prototype.push=function($activityEvent$jscomp$1$$){this.$D$||(this.$D$=$activityEvent$jscomp$1$$);this.$D$.time<$activityEvent$jscomp$1$$.time&&(this.$F$+=$findEngagedTimeBetween$$module$extensions$amp_analytics$0_1$activity_impl$$(this.$D$,$activityEvent$jscomp$1$$.time),this.$D$=$activityEvent$jscomp$1$$)};
var $ACTIVE_EVENT_TYPES$$module$extensions$amp_analytics$0_1$activity_impl$$=["mousedown","mouseup","mousemove","keydown","keyup"];_.$JSCompiler_prototypeAlias$$=$Activity$$module$extensions$amp_analytics$0_1$activity_impl$$.prototype;
_.$JSCompiler_prototypeAlias$$.$Activity$$module$extensions$amp_analytics$0_1$activity_impl_prototype$start_$=function(){this.$M$=Date.now();this.$handleActivity_$();for(var $i$jscomp$inline_2553$$=0;$i$jscomp$inline_2553$$<$ACTIVE_EVENT_TYPES$$module$extensions$amp_analytics$0_1$activity_impl$$.length;$i$jscomp$inline_2553$$++)this.$K$.push(_.$listen$$module$src$event_helper$$(this.ampdoc.getRootNode(),$ACTIVE_EVENT_TYPES$$module$extensions$amp_analytics$0_1$activity_impl$$[$i$jscomp$inline_2553$$],
this.$J$));this.$K$.push(_.$JSCompiler_StaticMethods_Viewer$$module$src$service$viewer_impl_prototype$onVisibilityChanged$$(this.$H$,this.$P$));_.$JSCompiler_StaticMethods_Viewport$$module$src$service$viewport$viewport_impl_prototype$onScroll$$(this.$O$,this.$J$)};_.$JSCompiler_prototypeAlias$$.$stopIgnore_$=function(){this.$G$=this.$F$=!1};_.$JSCompiler_prototypeAlias$$.$handleActivity_$=function(){this.$F$||(this.$F$=!0,this.$G$=!1,$JSCompiler_StaticMethods_handleActivityEvent_$$(this,"active"))};
_.$JSCompiler_prototypeAlias$$.$handleVisibilityChange_$=function(){_.$JSCompiler_StaticMethods_Viewer$$module$src$service$viewer_impl_prototype$isVisible$$(this.$H$)?this.$handleActivity_$():this.$G$||(this.$G$=!0,this.$F$=!1,$JSCompiler_StaticMethods_handleActivityEvent_$$(this,"inactive"))};
_.$JSCompiler_prototypeAlias$$.$Activity$$module$extensions$amp_analytics$0_1$activity_impl_prototype$getTotalEngagedTime$=function(){var $JSCompiler_StaticMethods_ActivityHistory$$module$extensions$amp_analytics$0_1$activity_impl_prototype$getTotalEngagedTime$self$jscomp$inline_2557$$=this.$I$,$totalEngagedTime$jscomp$inline_2559$$=0;void 0!==$JSCompiler_StaticMethods_ActivityHistory$$module$extensions$amp_analytics$0_1$activity_impl_prototype$getTotalEngagedTime$self$jscomp$inline_2557$$.$D$&&($totalEngagedTime$jscomp$inline_2559$$=
$JSCompiler_StaticMethods_ActivityHistory$$module$extensions$amp_analytics$0_1$activity_impl_prototype$getTotalEngagedTime$self$jscomp$inline_2557$$.$F$+$findEngagedTimeBetween$$module$extensions$amp_analytics$0_1$activity_impl$$($JSCompiler_StaticMethods_ActivityHistory$$module$extensions$amp_analytics$0_1$activity_impl_prototype$getTotalEngagedTime$self$jscomp$inline_2557$$.$D$,Math.floor($JSCompiler_StaticMethods_getTimeSinceStart_$$(this)/1E3)));return $totalEngagedTime$jscomp$inline_2559$$};
_.$JSCompiler_prototypeAlias$$.$Activity$$module$extensions$amp_analytics$0_1$activity_impl_prototype$getIncrementalEngagedTime$=function($name$jscomp$208$$,$reset$jscomp$2$$){$reset$jscomp$2$$=void 0===$reset$jscomp$2$$?!0:$reset$jscomp$2$$;if(!_.$hasOwn$$module$src$utils$object$$(this.$D$,$name$jscomp$208$$))return $reset$jscomp$2$$&&(this.$D$[$name$jscomp$208$$]=this.$Activity$$module$extensions$amp_analytics$0_1$activity_impl_prototype$getTotalEngagedTime$()),this.$Activity$$module$extensions$amp_analytics$0_1$activity_impl_prototype$getTotalEngagedTime$();
var $currentIncrementalEngagedTime$$=this.$D$[$name$jscomp$208$$];if(!1===$reset$jscomp$2$$)return this.$Activity$$module$extensions$amp_analytics$0_1$activity_impl_prototype$getTotalEngagedTime$()-$currentIncrementalEngagedTime$$;this.$D$[$name$jscomp$208$$]=this.$Activity$$module$extensions$amp_analytics$0_1$activity_impl_prototype$getTotalEngagedTime$();return this.$D$[$name$jscomp$208$$]-$currentIncrementalEngagedTime$$};var $_FAKE_$$module$extensions$amp_analytics$0_1$vendors$_fake_$$={requests:{endpoint:"/analytics/fake"},transport:{useBody:!0},triggers:{view:{on:"visible",request:"endpoint"}},configRewriter:{url:"/analytics/rewriter",varGroups:{feature1:{dr:"DOCUMENT_REFERRER",su:"SOURCE_URL"},feature2:{name:"cats",title:"TITLE"},alwaysOnFeature:{title2:"TITLE",enabled:!0}}},vars:{clientId:"CLIENT_ID(_fake_)",dataSource:"AMP"}};var $ANALYTICS_CONFIG$$module$extensions$amp_analytics$0_1$vendors$$={"default":{transport:{beacon:!0,xhrpost:!0,image:!0},vars:{accessReaderId:"ACCESS_READER_ID",ampdocHost:"AMPDOC_HOST",ampdocHostname:"AMPDOC_HOSTNAME",ampdocUrl:"AMPDOC_URL",ampGeo:"AMP_GEO",ampState:"AMP_STATE",ampVersion:"AMP_VERSION",ancestorOrigin:"ANCESTOR_ORIGIN",authdata:"AUTHDATA",availableScreenHeight:"AVAILABLE_SCREEN_HEIGHT",availableScreenWidth:"AVAILABLE_SCREEN_WIDTH",backgroundState:"BACKGROUND_STATE",browserLanguage:"BROWSER_LANGUAGE",
canonicalHost:"CANONICAL_HOST",canonicalHostname:"CANONICAL_HOSTNAME",canonicalPath:"CANONICAL_PATH",canonicalUrl:"CANONICAL_URL",clientId:"CLIENT_ID",consentState:"CONSENT_STATE",contentLoadTime:"CONTENT_LOAD_TIME",counter:"COUNTER",documentCharset:"DOCUMENT_CHARSET",documentReferrer:"DOCUMENT_REFERRER",domainLookupTime:"DOMAIN_LOOKUP_TIME",domInteractiveTime:"DOM_INTERACTIVE_TIME",externalReferrer:"EXTERNAL_REFERRER",firstContentfulPaint:"FIRST_CONTENTFUL_PAINT",firstViewportReady:"FIRST_VIEWPORT_READY",
fragmentParam:"FRAGMENT_PARAM",makeBodyVisible:"MAKE_BODY_VISIBLE",htmlAttr:"HTML_ATTR",incrementalEngagedTime:"INCREMENTAL_ENGAGED_TIME",navRedirectCount:"NAV_REDIRECT_COUNT",navTiming:"NAV_TIMING",navType:"NAV_TYPE",pageDownloadTime:"PAGE_DOWNLOAD_TIME",pageLoadTime:"PAGE_LOAD_TIME",pageViewId:"PAGE_VIEW_ID",queryParam:"QUERY_PARAM",random:"RANDOM",redirectTime:"REDIRECT_TIME",resourceTiming:"RESOURCE_TIMING",screenColorDepth:"SCREEN_COLOR_DEPTH",screenHeight:"SCREEN_HEIGHT",screenWidth:"SCREEN_WIDTH",
scrollHeight:"SCROLL_HEIGHT",scrollLeft:"SCROLL_LEFT",scrollTop:"SCROLL_TOP",scrollWidth:"SCROLL_WIDTH",serverResponseTime:"SERVER_RESPONSE_TIME",sourceUrl:"SOURCE_URL",sourceHost:"SOURCE_HOST",sourceHostname:"SOURCE_HOSTNAME",sourcePath:"SOURCE_PATH",tcpConnectTime:"TCP_CONNECT_TIME",timestamp:"TIMESTAMP",timezone:"TIMEZONE",timezoneCode:"TIMEZONE_CODE",title:"TITLE",totalEngagedTime:"TOTAL_ENGAGED_TIME",userAgent:"USER_AGENT",viewer:"VIEWER",viewportHeight:"VIEWPORT_HEIGHT",viewportWidth:"VIEWPORT_WIDTH"}},
acquialift:{vars:{decisionApiUrl:"us-east-1-decisionapi.lift.acquia.com",accountId:"xxxxxxxx",siteId:"xxxxxxxx"},transport:{beacon:!0,xhrpost:!0,image:!1},requests:{base:"https://${decisionApiUrl}/capture?account_id=${accountId}&site_id=${siteId}",basicCapture:"${base}&ident=${clientId(tc_ptid)}&identsrc=amp&es=Amp&url=${canonicalUrl}&rurl=${documentReferrer}&cttl=${title}",pageview:"${basicCapture}&en=Content View",click:"${basicCapture}&en=Click-Through"},triggers:{defaultPageview:{on:"visible",
request:"pageview"}}},adobeanalytics:{transport:{xhrpost:!1,beacon:!1,image:!0},vars:{pageName:"TITLE",host:"",reportSuites:"",linkType:"o",linkUrl:"",linkName:""},requests:{requestPath:"/b/ss/${reportSuites}/0/amp-1.0/s${random}",basePrefix:"vid=z${clientId(adobe_amp_id)}&ndh=0&ce=${documentCharset}&pageName=${pageName}&g=${ampdocUrl}&r=${documentReferrer}&bh=${availableScreenHeight}&bw=${availableScreenWidth}&c=${screenColorDepth}&j=amp&s=${screenWidth}x${screenHeight}",pageview:"https://${host}${requestPath}?${basePrefix}",
click:"https://${host}${requestPath}?${basePrefix}&pe=lnk_${linkType}&pev1=${linkUrl}&pev2=${linkName}"}},adobeanalytics_nativeConfig:{triggers:{pageLoad:{on:"visible",request:"iframeMessage"}}},afsanalytics:{vars:{server:"www",websiteid:"xxxxxxxx",event:"click",clicklabel:"clicked from AMP page"},transport:{beacon:!1,xhrpost:!1,image:!0},requests:{host:"//${server}.afsanalytics.com",base:"${host}/cgi_bin/",pageview:"${base}connect.cgi?usr=${websiteid}Pauto&js=1&amp=1&title=${title}&url=${canonicalUrl}&refer=${documentReferrer}&resolution=${screenWidth}x${screenHeight}&color=${screenColorDepth}&Tips=${random}",
click:"${base}click.cgi?usr=${websiteid}&event=${event}&exit=${clicklabel}"},triggers:{defaultPageview:{on:"visible",request:"pageview"}}},alexametrics:{requests:{base:"https://${ampAtrkHost}/atrk.gif?account=${atrk_acct}&domain=${domain}",pageview:"${base}&jsv=amp-${ampVersion}&frame_height=${viewportHeight}&frame_width=${viewportWidth}&title=${title}&time=${timestamp}&time_zone_offset=${timezone}&screen_params=${screenWidth}x${screenHeight}x${screenColorDepth}&ref_url=${documentReferrer}&host_url=${sourceUrl}&random_number=${random}&user_cookie=${clientId(__auc)}&user_cookie_flag=0&user_lang=${browserLanguage}&amp_doc_url=${ampdocUrl}"},
vars:{atrk_acct:"",domain:"",ampAtrkHost:"certify-amp.alexametrics.com"},triggers:{trackPageview:{on:"visible",request:"pageview"}},transport:{xhrpost:!1,beacon:!1,image:!0}},amplitude:{transport:{beacon:!0,xhrpost:!0,useBody:!0,image:!1},vars:{deviceId:"CLIENT_ID(amplitude_amp_id)"},requests:{host:"https://api.amplitude.com",event:{baseUrl:"${host}/amp/event"}},extraUrlParams:{api_key:"${apiKey}",device_id:"${deviceId}",library:"amp/${ampVersion}",time:"${timestamp}",language:"${browserLanguage}",
user_agent:"${userAgent}"},linkers:{amplitude:{ids:{amplitude_amp_id:"${deviceId}"},proxyOnly:!1}},cookies:{amplitude_amp_id:{value:"LINKER_PARAM(amplitude, amplitude_amp_id)"}}},atinternet:{transport:{beacon:!1,xhrpost:!1,image:!0},vars:{pixelPath:"hit.xiti",domain:".xiti.com"},requests:{base:"https://${log}${domain}/${pixelPath}?s=${site}&ts=${timestamp}&r=${screenWidth}x${screenHeight}x${screenColorDepth}&re=${availableScreenWidth}x${availableScreenHeight}",suffix:"&medium=amp&${extraUrlParams}&ref=${documentReferrer}",
pageview:"${base}&p=${title}&s2=${level2}${suffix}",click:"${base}&pclick=${title}&s2click=${level2}&p=${label}&s2=${level2Click}&type=click&click=${type}${suffix}"}},baiduanalytics:{requests:{host:"https://hm.baidu.com",base:"${host}/hm.gif?si=${token}&nv=0&st=4&v=pixel-1.0&rnd=${timestamp}",pageview:"${base}&et=0",event:"${base}&ep=${category}*${action}*${label}*${value}&et=4&api=8_0"},transport:{beacon:!1,xhrpost:!1,image:!0}},bg:{},burt:{vars:{trackingKey:"ignore",category:"",subCategory:""},
requests:{host:"//${trackingKey}.c.richmetrics.com/",base:"${host}imglog?e=${trackingKey}&pi=${trackingKey}|${pageViewId}|${canonicalPath}|${clientId(burt-amp-user-id)}&ui=${clientId(burt-amp-user-id)}&v=amp&ts=${timestamp}&sn=${requestCount}&",pageview:"${base}type=page&ca=${category}&sc=${subCategory}&ln=${browserLanguage}&lr=${documentReferrer}&eu=${sourceUrl}&tz=${timezone}&pd=${scrollWidth}x${scrollHeight}&sd=${screenWidth}x${screenHeight}&wd=${availableScreenWidth}x${availableScreenHeight}&ws=${scrollLeft}x${scrollTop}",
pageping:"${base}type=pageping"},triggers:{pageview:{on:"visible",request:"pageview"},pageping:{on:"timer",timerSpec:{interval:15,maxTimerLength:1200},request:"pageping"}},transport:{beacon:!1,xhrpost:!1,image:!0}},byside:{vars:{webcareZone:"webcare",webcareId:"",channel:"",fid:"",lang:"pt"},requests:{host:"//${webcareZone}.byside.com/",base:"${host}BWA${webcareId}/amp/",pageview:"${base}pixel.php",event:"${base}signal.php?event_id=${eventId}&event_label=${eventLabel}&fields=${fields}"},extraUrlParams:{webcare_id:"${webcareId}",
bwch:"${channel}",lang:"${lang}",fid:"${fid}",bwit:"A",tuid:"${clientId(byside_webcare_tuid)}",suid:"",puid:"${pageViewId}p${timestamp}",referrer:"${documentReferrer}",page:"${sourceUrl}",amppage:"${ampdocUrl}",bwpt:"${title}",bres:"${viewportWidth}x${viewportHeight}",res:"${screenWidth}x${screenHeight}",v:"v20171116a",ampv:"${ampVersion}",viewer:"${viewer}",ua:"${userAgent}",r:"${random}"},triggers:{pageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},chartbeat:{requests:{host:"https://ping.chartbeat.net",
basePrefix:"/ping?h=${domain}&p=${canonicalPath}&u=${clientId(_cb)}&d=${canonicalHost}&g=${uid}&g0=${sections}&g1=${authors}&g2=${zone}&g3=${sponsorName}&g4=${contentType}&c=120&x=${scrollTop}&y=${scrollHeight}&j=${decayTime}&R=1&W=0&I=0&E=${totalEngagedTime}&r=${documentReferrer}&t=${pageViewId}${clientId(_cb)}&b=${pageLoadTime}&i=${title}&T=${timestamp}&tz=${timezone}&C=2",baseSuffix:"&_",interval:"${host}${basePrefix}${baseSuffix}",anchorClick:"${host}${basePrefix}${baseSuffix}"},triggers:{trackInterval:{on:"timer",
timerSpec:{interval:15,maxTimerLength:7200},request:"interval",vars:{decayTime:30}},trackAnchorClick:{on:"click",selector:"a",request:"anchorClick",vars:{decayTime:30}}},transport:{beacon:!1,xhrpost:!1,image:!0}},clicky:{vars:{site_id:""},requests:{base:"https://in.getclicky.com/in.php?site_id=${site_id}",baseSuffix:"&mime=${contentType}&x=${random}",pageview:"${base}&res=${screenWidth}x${screenHeight}&lang=${browserLanguage}&secure=1&type=pageview&href=${canonicalPath}&title=${title}${baseSuffix}",
interval:"${base}&type=ping${baseSuffix}"},triggers:{defaultPageview:{on:"visible",request:"pageview"},interval:{on:"timer",timerSpec:{interval:60,maxTimerLength:600},request:"interval"}},transport:{beacon:!1,xhrpost:!1,image:!0}},colanalytics:{requests:{host:"https://ase.clmbtech.com",base:"${host}/message",pageview:"${base}?cid=${id}&val_101=${id}&val_101=${canonicalPath}&ch=${canonicalHost}&uuid=${uid}&au=${authors}&zo=${zone}&sn=${sponsorName}&ct=${contentType}&st=${scrollTop}&sh=${scrollHeight}&dct=${decayTime}&tet=${totalEngagedTime}&dr=${documentReferrer}&plt=${pageLoadTime}&val_108=${title}&val_120=3"},
triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},comscore:{vars:{c2:"1000001"},requests:{host:"https://sb.scorecardresearch.com",base:"${host}/b?",pageview:"${base}c1=2&c2=${c2}&cs_pv=${pageViewId}&c12=${clientId(comScore)}&rn=${random}&c8=${title}&c7=${canonicalUrl}&c9=${documentReferrer}&cs_c7amp=${ampdocUrl}"},triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},cxense:{requests:{host:"https://scomcluster.cxense.com",
base:"${host}/Repo/rep.gif",pageview:"${base}?ver=1&typ=pgv&sid=${siteId}&ckp=${clientId(cX_P)}&loc=${sourceUrl}&rnd=${random}&ref=${documentReferrer}&ltm=${timestamp}&wsz=${screenWidth}x${screenHeight}&bln=${browserLanguage}&chs=${documentCharset}&col=${screenColorDepth}&tzo=${timezone}&cp_cx_channel=amp"},triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},dynatrace:{requests:{endpoint:"${protocol}://${tenant}${separator}${environment}:${port}/ampbf/${tenantpath}",
pageview:"${endpoint}?type=js&flavor=amp&v=1&a=1%7C1%7C_load_%7C_load_%7C-%7C${navTiming(navigationStart)}%7C${navTiming(domContentLoadedEventEnd)}%7C0%2C2%7C2%7C_onload_%7C_load_%7C-%7C${navTiming(domContentLoadedEventStart)}%7C${navTiming(domContentLoadedEventEnd)}%7C0&fId=${pageViewId}&vID=${clientId(rxVisitor)}&url=${sourceUrl}&title=${title}&sw=${screenWidth}&sh=${screenHeight}&w=${viewportWidth}&h=${viewportHeight}&nt=a${navType}b${navTiming(navigationStart)}c${navTiming(navigationStart,redirectStart)}d${navTiming(navigationStart,redirectEnd)}e${navTiming(navigationStart,fetchStart)}f${navTiming(navigationStart,domainLookupStart)}g${navTiming(navigationStart,domainLookupEnd)}h${navTiming(navigationStart,connectStart)}i${navTiming(navigationStart,connectEnd)}j${navTiming(navigationStart,secureConnectionStart)}k${navTiming(navigationStart,requestStart)}l${navTiming(navigationStart,responseStart)}m${navTiming(navigationStart,responseEnd)}n${navTiming(navigationStart,domLoading)}o${navTiming(navigationStart,domInteractive)}p${navTiming(navigationStart,domContentLoadedEventStart)}q${navTiming(navigationStart,domContentLoadedEventEnd)}r${navTiming(navigationStart,domComplete)}s${navTiming(navigationStart,loadEventStart)}t${navTiming(navigationStart,loadEventEnd)}&app=${app}&time=${timestamp}"},
triggers:{trackPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0},vars:{app:"ampapp",protocol:"https",tenant:"",environment:"live.dynatrace.com",port:"443",separator:"."}},epica:{transport:{beacon:!1,xhrpost:!1,image:!0},vars:{anonymousId:"CLIENT_ID(epica_amp_id)"},requests:{host:"https://cat.poder.io/api/v1/pixel",base:"?writeKey=${writeKey}&context.library.name=amp&anonymousId=${anonymousId}&context.locale=${browserLanguage}&context.page.path=${canonicalPath}&context.page.url=${canonicalUrl}&context.page.referrer=${documentReferrer}&context.page.title=${title}&context.screen.width=${screenWidth}&context.screen.height=${screenHeight}",
page:"${host}/page${base}&name=${name}",track:"${host}/track${base}&event=${event}"},triggers:{page:{on:"visible",request:"page"}}},euleriananalytics:{vars:{analyticsHost:"",documentLocation:"SOURCE_URL"},requests:{base:"https://${analyticsHost}",basePrefix:"-/${random}?euid-amp=${clientId(etuix)}&url=${documentLocation}&",pageview:"${base}/col2/${basePrefix}rf=${externalReferrer}&urlp=${pagePath}&ss=${screenWidth}x${screenHeight}&sd=${screenColorDepth}",action:"${base}/action/${basePrefix}eact=${actionCode}&actr=${actionRef}",
user:"${base}/uparam/${basePrefix}euk${userParamKey}=${userParamVal}",contextflag:"${base}/cflag2/${basePrefix}ecf0k=${cflagKey}&ecf0v=${cflagVal}"},transport:{beacon:!1,xhrpost:!1,image:!0}},facebookpixel:{vars:{pixelId:"PIXEL-ID"},requests:{host:"https://www.facebook.com",base:"${host}/tr?noscript=1",pageview:"${base}&ev=PageView&id=${pixelId}",event:"${base}&ev=${eventName}&id=${pixelId}&cd[content_name]=${content_name}",eventViewContent:"${base}&ev=ViewContent&id=${pixelId}&cd[value]=${value}&cd[currency]=${currency}&cd[content_name]=${content_name}&cd[content_type]=${content_type}&cd[content_ids]=${content_ids}",
eventSearch:"${base}&ev=Search&id=${pixelId}&cd[value]=${value}&cd[currency]=${currency}&cd[content_category]=${content_category}&cd[content_ids]=${content_ids}&cd[search_string]=${search_string}",eventAddToCart:"${base}&ev=AddToCart&id=${pixelId}&cd[value]=${value}&cd[currency]=${currency}&cd[content_name]=${content_name}&cd[content_type]=${content_type}&cd[content_ids]=${content_ids}",eventAddToWishlist:"${base}&ev=AddToWishlist&id=${pixelId}&cd[value]=${value}&cd[currency]=${currency}&cd[content_name]=${content_name}&cd[content_category]=${content_category}&cd[content_ids]=${content_ids}",
eventInitiateCheckout:"${base}&ev=InitiateCheckout&id=${pixelId}&cd[value]=${value}&cd[currency]=${currency}&cd[content_name]=${content_name}&cd[content_category]=${content_category}&cd[num_items]=${num_items}&cd[content_ids]=${content_ids}",eventAddPaymentInfo:"${base}&ev=AddPaymentInfo&id=${pixelId}&cd[value]=${value}&cd[currency]=${currency}&cd[content_category]=${content_category}&cd[content_ids]=${content_ids}",eventPurchase:"${base}&ev=Purchase&id=${pixelId}&cd[value]=${value}&cd[currency]=${currency}&cd[content_name]=${content_name}&cd[content_type]=${content_type}&cd[content_ids]=${content_ids}&cd[num_items]=${num_items}",
eventLead:"${base}&ev=Lead&id=${pixelId}&cd[value]=${value}&cd[currency]=${currency}&cd[content_name]=${content_name}&cd[content_category]=${content_category}",eventCompleteRegistration:"${base}&ev=CompleteRegistration&id=${pixelId}&cd[value]=${value}&cd[currency]=${currency}&cd[content_name]=${content_name}&cd[status]=${status}"},triggers:{trackPageview:{on:"visible",request:"pageview"}}},gemius:{vars:{dnt:"0"},requests:{base:"https://${prefix}.hit.gemius.pl/_${timestamp}/redot.gif?l=91&id=${identifier}&screen=${screenWidth}x${screenHeight}&window=${viewportWidth}x${viewportHeight}&fr=1&href=${sourceUrl}&ref=${documentReferrer}&extra=gemamp%3D1%7Campid%3D${clientId(gemius)}%7C${extraparams}&nc=${dnt}",
pageview:"${base}&et=view&hsrc=1",event:"${base}&et=action&hsrc=3"},triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},googleadwords:{requests:{conversion_prefix:"https://www.googleadservices.com/pagead/conversion/",remarketing_prefix:"https://googleads.g.doubleclick.net/pagead/viewthroughconversion/",common_params:"${googleConversionId}/?cv=amp2&label=${googleConversionLabel}&random=${random}&url=${sourceUrl}&ref=${documentReferrer}&fst=${pageViewId}&num=${counter(googleadwords)}&fmt=3&async=1&u_h=${screenHeight}&u_w=${screenWidth}&u_ah=${availableScreenHeight}&u_aw=${availableScreenWidth}&u_cd=${screenColorDepth}&u_tz=${timezone}&tiba=${title}&guid=ON&script=0",
conversion_params:"value=${googleConversionValue}&currency_code=${googleConversionCurrency}&bg=${googleConversionColor}&hl=${googleConversionLanguage}",conversion:"${conversion_prefix}${common_params}&${conversion_params}",remarketing:"${remarketing_prefix}${common_params}"},transport:{beacon:!1,xhrpost:!1,image:!0}},googleanalytics:{vars:{eventValue:"0",documentLocation:"SOURCE_URL",clientId:"CLIENT_ID(AMP_ECID_GOOGLE,,_ga)",dataSource:"AMP",anonymizeIP:"aip",errorParam:"${errorName}-${errorMessage}"},
requests:{host:"https://www.google-analytics.com",basePrefix:"v=1&_v=a1&ds=${dataSource}&${anonymizeIP}&_s=${requestCount}&dt=${title}&sr=${screenWidth}x${screenHeight}&_utmht=${timestamp}&cid=${clientId}&tid=${account}&dl=${documentLocation}&dr=${externalReferrer}&sd=${screenColorDepth}&ul=${browserLanguage}&de=${documentCharset}",baseSuffix:"&a=${pageViewId}&z=${random}",pageview:"${host}/r/collect?${basePrefix}&t=pageview&jid=${random}&_r=1${baseSuffix}",event:"${host}/collect?${basePrefix}&t=event&jid=&ec=${eventCategory}&ea=${eventAction}&el=${eventLabel}&ev=${eventValue}${baseSuffix}",
social:"${host}/collect?${basePrefix}&t=social&jid=&sa=${socialAction}&sn=${socialNetwork}&st=${socialTarget}${baseSuffix}",timing:"${host}/collect?${basePrefix}&t=${timingRequestType}&jid=&plt=${pageLoadTime}&dns=${domainLookupTime}&tcp=${tcpConnectTime}&rrt=${redirectTime}&srt=${serverResponseTime}&pdt=${pageDownloadTime}&clt=${contentLoadTime}&dit=${domInteractiveTime}${baseSuffix}",error:"${host}/collect?${basePrefix}&t=exception&exd=${errorParam}${baseSuffix}"},triggers:{performanceTiming:{on:"visible",
request:"timing",sampleSpec:{sampleOn:"${clientId}",threshold:1},vars:{timingRequestType:"timing"}},adwordsTiming:{on:"visible",request:"timing",enabled:"${queryParam(gclid)}",vars:{timingRequestType:"adtiming"}}},extraUrlParamsReplaceMap:{dimension:"cd",metric:"cm"},optout:"_gaUserPrefs.ioo",optoutElementId:"__gaOptOutExtension",linkers:{_gl:{ids:{_ga:"${clientId}"}}},cookies:{_ga:{value:"LINKER_PARAM(_gl, _ga)"}}},gtag:{configRewriter:{url:"https://www.googletagmanager.com/gtag/amp",varGroups:{dns:{dr:"DOCUMENT_REFERRER",
dl:"SOURCE_URL"},conversion:{gclsrc:"QUERY_PARAM(gclsrc)",hasGcl:"$IF(QUERY_PARAM(gclid), 1, 0)",hasDcl:"$IF(QUERY_PARAM(dclid), 1, 0)",enabled:!0}}},vars:{eventValue:"0",clientId:"CLIENT_ID(AMP_ECID_GOOGLE,,_ga)",dataSource:"AMP",anonymizeIP:"aip",errorParam:"${errorName}-${errorMessage}"},requests:{uaHost:"https://www.google-analytics.com",uaBasePrefix:"v=1&_v=a1&ds=${dataSource}&${anonymizeIP}&_s=${requestCount}&dt=${title}&sr=${screenWidth}x${screenHeight}&cid=${clientId}&tid=${trackingId}&dl=${sourceUrl}&dr=${externalReferrer}&sd=${screenColorDepth}&ul=${browserLanguage}&de=${documentCharset}",
uaBaseSuffix:"&a=${pageViewId}&z=${random}",uaPageviewCommon:"&t=pageview&jid=${random}&gjid=${random}&_r=1",uaPageview:"${uaHost}/r/collect?${uaBasePrefix}${uaPageviewCommon}${uaBaseSuffix}",uaPageviewNpa:"${uaHost}/collect?${uaBasePrefix}${uaPageviewCommon}${uaBaseSuffix}",uaEvent:"${uaHost}/collect?${uaBasePrefix}&t=event&jid=${uaBaseSuffix}",uaTiming:"${uaHost}/collect?${uaBasePrefix}&jid=&plt=${pageLoadTime}&dns=${domainLookupTime}&tcp=${tcpConnectTime}&rrt=${redirectTime}&srt=${serverResponseTime}&pdt=${pageDownloadTime}&clt=${contentLoadTime}&dit=${domInteractiveTime}${uaBaseSuffix}",
uaError:"${uaHost}/collect?${uaBasePrefix}&t=exception&exd=${errorParam}${uaBaseSuffix}",awConversionPrefix:"https://www.googleadservices.com/pagead/conversion/",awRemarketingPrefix:"https://googleads.g.doubleclick.net/pagead/viewthroughconversion/",awCommonParams:"${conversionId}/?cv=amp3&label=${conversionLabel}&random=${random}&url=${sourceUrl}&ref=${documentReferrer}&fst=${pageViewId}&num=${counter(googleadwords)}&fmt=3&async=1&u_h=${screenHeight}&u_w=${screenWidth}&u_ah=${availableScreenHeight}&u_aw=${availableScreenWidth}&u_cd=${screenColorDepth}&u_tz=${timezone}&tiba=${title}&guid=ON&script=0",
awConversion:"${awConversionPrefix}${awCommonParams}",awRemarketing:"${awRemarketingPrefix}${awCommonParams}",flBase:"https://ad.doubleclick.net/activity;src=${flSrc};type=${flType};cat=${flCat}",flDynamicBase:"https://${flSrc}.fls.doubleclick.net/activityi;src=${flSrc};type=${flType};cat=${flCat}",dnsBase:"https://ad.doubleclick.net/ddm/clk/"},transport:{beacon:!1,xhrpost:!1,image:!0}},ibeatanalytics:{requests:{host:"https://ibeat.indiatimes.com",base:"https://ibeat.indiatimes.com/iBeat/pageTrendlogAmp.html",
pageview:"${base}?&h=${h}&d=${h}&url=${url}&k=${key}&ts=${time}&ch=${channel}&sid=${uid}&at=${agentType}&ref=${documentReferrer}&aid=${aid}&loc=1&ct=1&cat=${cat}&scat=${scat}&ac=1&tg=${tags}&ctids=${catIds}&pts=${pagePublishTime}&auth=${author}&pos=${position}&iBeatField=${ibeatFields}&cid=${clientId(MSCSAuthDetails)}"},triggers:{defaultPageview:{on:"visible",request:"pageview"}}},infonline:{vars:{sv:"ke",ap:"1"},transport:{beacon:!1,xhrpost:!1,image:!0},requests:{pageview:"${url}?st=${st}&sv=${sv}&ap=${ap}&co=${co}&cp=${cp}&ps=${ps}&host=${canonicalHost}&path=${canonicalPath}"},
triggers:{pageview:{on:"visible",request:"pageview"}}},iplabel:{requests:{collectorUrl:"m.col.ip-label.net",endpoint:"https://${collectorUrl}/coll/",onload:"${endpoint}?T=${trackerId}&m=2502|${navTiming(navigationStart)}|2508|${navTiming(domainLookupStart)}|2509|${navTiming(domainLookupEnd)}|2510|${navTiming(connectStart)}|2512|${navTiming(connectEnd)}|2514|${navTiming(responseStart)}|2515|${navTiming(responseEnd)}|2517|${navTiming(domInteractive)}|2520|${navTiming(loadEventStart)}&ts=${timestamp}&ua=${userAgent}&d=${ipldim}&i=${clientip}&d[1]=${customdim}&d[2]=${business}&d[3]=${abtesting}&d[4]=${infrastructure}&d[5]=${customer}&u=${urlgroup}&w=${availableScreenWidth}&h=${availableScreenHeight}&r=${documentReferrer}&l=${browserLanguage}"},
triggers:{trackPageview:{on:"visible",request:"onload"}},transport:{beacon:!0,xhrpost:!0,image:{suppressWarnings:!0}},vars:{trackerId:"notrackerID",customdim:"",business:"",abtesting:"",infrastructure:"",customer:"",clientip:"",urlgroup:""}},keen:{requests:{base:"https://api.keen.io/3.0/projects/${projectId}/events",pageview:"${base}/pageviews?api_key=${writeKey}",click:"${base}/clicks?api_key=${writeKey}",custom:"${base}/${collection}?api_key=${writeKey}"},triggers:{trackPageview:{on:"visible",request:"pageview"}},
extraUrlParams:{amp:!0,ampdocHostname:"${ampdocHostname}",ampdocUrl:"${ampdocUrl}",ampVersion:"${ampVersion}",backgroundState:"${backgroundState}",backgroundedAtStart:"${backgroundedAtStart}",browserLanguage:"${browserLanguage}",canonicalHost:"${canonicalHost}",canonicalHostname:"${canonicalHostname}",canonicalPath:"${canonicalPath}",canonicalUrl:"${canonicalUrl}",clientId:"CLIENT_ID(cid)",contentLoadTime:"${contentLoadTime}",documentReferrer:"${documentReferrer}",domainLookupTime:"${domainLookupTime}",
domInteractiveTime:"${domInteractiveTime}",externalReferrer:"${externalReferrer}",incrementalEngagedTime:"${incrementalEngagedTime}",pageDownloadTime:"${pageDownloadTime}",pageLoadTime:"${pageLoadTime}",screenHeight:"${screenHeight}",screenWidth:"${screenWidth}",screenColorDepth:"${screenColorDepth}",scrollHeight:"${scrollHeight}",scrollWidth:"${scrollWidth}",scrollTop:"${scrollTop}",scrollLeft:"${scrollLeft}",serverResponseTime:"${serverResponseTime}",timestamp:"${timestamp}",timezone:"${timezone}",
title:"${title}",totalEngagedTime:"${totalEngagedTime}",totalTime:"${totalTime}",userAgent:"${userAgent}",viewportHeight:"${viewportHeight}",viewportWidth:"${viewportWidth}"},transport:{beacon:!0,xhrpost:!0,img:!1,useBody:!0}},kenshoo:{vars:{clientId:"CLIENT_ID(ken_amp_id)",channelClickId:"QUERY_PARAM(gclid)"},requests:{host:"https://amp.xg4ken.com",parameters:"ampcid=${clientId}&chcid=${channelClickId}&tid=${tid}&uid=${userId}&domain=${canonicalHostname}",landingPage:"${host}/amp/v1/match?${parameters}"},
triggers:{trackLandingPage:{enabled:"QUERY_PARAM(gclid)",on:"visible",request:"landingPage"}},linkers:{linker:{ids:{clientId:"${clientId}",channelClickId:"${channelClickId}"},proxyOnly:!1,enabled:!0}},cookies:{enabled:!0,ken_gclid:{value:"QUERY_PARAM(gclid)"},ken_amp_gclid:{value:"QUERY_PARAM(gclid)"}}},krux:{requests:{beaconHost:"https://beacon.krxd.net",timing:"t_navigation_type=0&t_dns=${domainLookupTime}&t_tcp=${tcpConnectTime}&t_http_request=${serverResponseTime}&t_http_response=${pageDownloadTime}&t_content_ready=${contentLoadTime}&t_window_load=${pageLoadTime}&t_redirect=${redirectTime}",
common:"source=amp&confid=${confid}&_kpid=${pubid}&_kcp_s=${site}&_kcp_sc=${section}&_kcp_ssc=${subsection}&_kcp_d=${canonicalHost}&_kpref_=${documentReferrer}&_kua_kx_amp_client_id=${clientId(_kuid_)}&_kua_kx_lang=${browserLanguage}&_kua_kx_tech_browser_language=${browserLanguage}&_kua_kx_tz=${timezone}",pageview:"${beaconHost}/pixel.gif?${common}&${timing}",event:"${beaconHost}/event.gif?${common}&${timing}&pageview=false"},transport:{beacon:!1,xhrpost:!1,image:!0},extraUrlParamsReplaceMap:{"user.":"_kua_",
"page.":"_kpa_"}},linkpulse:{vars:{id:"",pageUrl:"CANONICAL_URL",title:"TITLE",section:"",channel:"amp",type:"",host:"pp.lp4.io",empty:""},requests:{base:"https://${host}",pageview:"${base}/p?i=${id}&r=${documentReferrer}&p=${pageUrl}&s=${section}&t=${type}&c=${channel}&mt=${title}&_t=amp&_r=${random}",pageload:"${base}/pl?i=${id}&ct=${domInteractiveTime}&rt=${pageDownloadTime}&pt=${pageLoadTime}&p=${pageUrl}&c=${channel}&t=${type}&s=${section}&_t=amp&_r=${random}",ping:"${base}/u?i=${id}&u=${clientId(_lp4_u)}&p=${pageUrl}&uActive=true&isPing=yes&c=${channel}&t=${type}&s=${section}&_t=amp&_r=${random}"},
triggers:{pageview:{on:"visible",request:"pageview"},pageload:{on:"visible",request:"pageload"},ping:{on:"timer",timerSpec:{interval:30,maxTimerLength:7200},request:"ping"}},transport:{beacon:!1,xhrpost:!1,image:!0}},lotame:{requests:{pageview:"https://bcp.crwdcntrl.net/amp?c=${account}&pv=y"},triggers:{"track pageview":{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},marinsoftware:{requests:{base:"https://tracker.marinsm.com/tp",baseParams:"cid=${trackerId}&ampVersion=${ampVersion}&ds=AMP&ref=${externalReferrer}&page=${sourceUrl}&uuid=${clientId(marin_amp_id)}&rnd=${random}",
pageView:"${base}?${baseParams}&act=1",conversion:"${base}?${baseParams}&act=2&trans=UTM:I|${orderId}|${marinConversionType}|${productName}|${category}|${price}|${quantity}"},transport:{beacon:!0,xhrpost:!1,image:!0}},mediametrie:{requests:{host:"https://prof.estat.com/m/web",pageview:"${host}/${serial}?c=${level1}&dom=${ampdocUrl}&enc=${documentCharset}&l3=${level3}&l4=${level4}&n=${random}&p=${level2}&r=${documentReferrer}&sch=${screenHeight}&scw=${screenWidth}&tn=amp&v=1&vh=${availableScreenHeight}&vw=${availableScreenWidth}"},
triggers:{trackPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},mediarithmics:{vars:{domain:"events.mediarithmics.com",url:"SOURCE_URL",event_name:"$page_view",referrer:"DOCUMENT_REFERRER"},requests:{host:"https://${domain}",pageview:"${host}/v1/visits/pixel?$site_token=${site_token}&$url=${url}&$ev=${event_name}&$referrer=${referrer}"},triggers:{trackPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},mediator:{requests:{host:"//collector.mediator.media/script/${mediator_id}/amp/",
renderstart:"${host}init/?url=${canonicalUrl}",prefix:"${host}register/?url=${canonicalUrl}&ref=${documentReferrer}&",suffix:"vh=${viewportHeight}&sh=${scrollHeight}&st=${scrollTop}",pageview:"${prefix}e=v",timer:"${prefix}e=t&${suffix}",s0:"${prefix}e=s0",s1:"${prefix}e=s1",s2:"${prefix}e=s2",s3:"${prefix}e=s3"},vars:{mediator_id:""},triggers:{renderStart:{on:"render-start",request:"renderstart"},trackPageview:{on:"visible",request:"pageview"},scrollPing0:{on:"scroll",scrollSpec:{verticalBoundaries:[5]},
request:"s0"},scrollPing1:{on:"scroll",scrollSpec:{verticalBoundaries:[35]},request:"s1"},scrollPing2:{on:"scroll",scrollSpec:{verticalBoundaries:[65]},request:"s2"},scrollPing3:{on:"scroll",scrollSpec:{verticalBoundaries:[95]},request:"s3"},pageTimer:{on:"timer",timerSpec:{interval:5,maxTimerLength:600,immediate:!1},request:"timer"}}},metrika:{transport:{beacon:!0,xhrpost:!0,image:!1},requests:{pageview:"${_watch}?browser-info=${_brInfo}&${_siteInfo}&${_suffix}",notBounce:"${_watch}?browser-info=ar%3A1%3Anb%3A1%3A${_brInfo}&${_suffix}",
externalLink:"${_watch}?browser-info=ln%3A1%3A${_brInfo}&${_suffix}",reachGoal:"${_watch}?browser-info=ar%3A1%3A${_brInfo}&${_siteInfo}&${_goalSuffix}",_domain:"https://mc.yandex.ru",_watch:"${_domain}/watch/${counterId}",_suffix:"page-url=${sourceUrl}&page-ref=${documentReferrer}",_goalSuffix:"page-url=goal%3A%2F%2F${sourceHost}%2F${goalId}&page-ref=${sourceUrl}",_techInfo:"amp%3A1%3Az%3A${timezone}%3Ai%3A${timestamp}%3Arn%3A${random}%3Ala%3A${browserLanguage}%3Aen%3A${documentCharset}%3Arqn%3A${requestCount}%3As%3A${screenWidth}x${screenHeight}x${screenColorDepth}%3Aw%3A${availableScreenWidth}x${availableScreenHeight}%3Ads%3A${_timings}%3Auid%3A${clientId(_ym_uid)}%3Apvid%3A${pageViewId}",
_timings:"${domainLookupTime}%2C${tcpConnectTime}%2C${serverResponseTime}%2C${pageDownloadTime}%2C${redirectTime}%2C${navTiming(redirectStart,redirectEnd)}%2C${navRedirectCount}%2C${navTiming(domLoading,domInteractive)}%2C${navTiming(domContentLoadedEventStart,domContentLoadedEventEnd)}%2C${navTiming(navigationStart,domComplete)}%2C${pageLoadTime}%2C${navTiming(loadEventStart,loadEventEnd)}%2C${contentLoadTime}",_brInfo:"${_techInfo}%3A${_title}",_title:"t%3A${title}",_siteInfo:"site-info=${yaParams}"},
triggers:{pageview:{on:"visible",request:"pageview"}}},moat:{vars:{element:":root"},requests:{load:JSON.stringify({type:"load",pcode:"${pcode}",l0t:"${l0t}",acctType:"${acctType}",adType:"${adType}",qs:"${qs}",element:{src:"${htmlAttr(img,src,width)}",viewer:"${viewer}"},document:{AMPDocumentHostname:"${ampdocHostname}",AMPDocumentURL:"${ampdocUrl}",canonicalHost:"${canonicalHost}",canonicalHostname:"${canonicalHostname}",canonicalPath:"${canonicalPath}",canonicalURL:"${canonicalUrl}",documentCharset:"${documentCharset}",
documentReferrer:"${documentReferrer}",externalReferrer:"${externalReferrer}",sourceURL:"${sourceUrl}",sourceHost:"${sourceHost}",sourceHostname:"${sourceHostname}",sourcePath:"${sourcePath}",title:"${title}",viewer:"${viewer}"},device:{availableScreenHeight:"${availableScreenHeight}",availableScreenWidth:"${availableScreenWidth}",browserLanguage:"${browserLanguage}",screenColorDepth:"${screenColorDepth}",screenHeight:"${screenHeight}",screenWidth:"${screenWidth}",scrollHeight:"${scrollHeight}",scrollWidth:"${scrollWidth}",
scrollLeft:"${scrollLeft}",scrollTop:"${scrollTop}",timezone:"${timezone}",userAgent:"${userAgent}",viewportHeight:"${viewportHeight}",viewportWidth:"${viewportWidth}"},requestCount:"${requestCount}",timeStamp:"${timestamp}"}),unload:JSON.stringify({type:"unload",pcode:"${pcode}",l0t:"${l0t}",requestCount:"${requestCount}",timeStamp:"${timestamp}"}),click:JSON.stringify({type:"click",pcode:"${pcode}",l0t:"${l0t}",requestCount:"${requestCount}",timeStamp:"${timestamp}"}),viewability:JSON.stringify({type:"viewability",
pcode:"${pcode}",l0t:"${l0t}",backgroundState:"${backgroundState}",intersectionRect:"${intersectionRect}",intersectionRatio:"${intersectionRatio}",maxVisiblePercentage:"${maxVisiblePercentage}",minVisiblePercentage:"${minVisiblePercentage}",x:"${elementX}",y:"${elementY}",height:"${elementHeight}",width:"${elementWidth}",viewportHeight:"${viewportHeight}",viewportWidth:"${viewportWidth}",opacity:"${opacity}",timeStamp:"${timestamp}",requestCount:"${requestCount}"}),iframe:JSON.stringify({type:"iframe",
pcode:"${pcode}",height:"${elementHeight}",width:"${elementWidth}",x:"${elementX}",y:"${elementY}",requestCount:"${requestCount}"})},triggers:{load:{on:"ini-load",request:"load"},unload:{on:"ad-refresh",selector:"${element}",request:"unload"},click:{on:"click",selector:"${element}",request:"click"},viewability:{on:"visible",selector:"${element}",request:"viewability",visibilitySpec:{repeat:!0,visiblePercentageThresholds:[[0,0],[0,5],[5,10],[10,15],[15,20],[20,25],[25,30],[30,35],[35,40],[40,45],[45,
50],[50,55],[55,60],[60,65],[65,70],[70,75],[75,80],[80,85],[85,90],[90,95],[95,100],[100,100]]}},iframe:{on:"visible",selector:":root",request:"iframe",visibilitySpec:{repeat:!0,visiblePercentageThresholds:[[0,0]]}}}},mobify:{vars:{projectSlug:"mobify-project-id",templateName:"page-type"},requests:{_host:"https://engagement-collector.mobify.net",_dimensions:"%22platform%22%3a%22AMP%22%2c%22client_id%22%3a%22${clientId(sandy-client-id)}%22%2c%22title%22%3a%22${title}%22%2c%22location%22%3a%22${sourceUrl}%22%2c%22page%22%3a%22${sourcePath}%22%2c%22src_location%22%3a%22${ampdocUrl}%22%2c%22referrer%22%3a%22${documentReferrer}%22%2c%22templateName%22%3a%22${templateName}%22",
_basePrefix:"${_host}/s.gif?slug=${projectSlug}&timestamp_local=${timestamp}&channel=web&dimensions=%7b${_dimensions}%7d",ampstart:"${_basePrefix}&data=%7b%22category%22%3a%22timing%22%2c%22action%22%3a%22ampStart%22%2c%22value%22%3a${navTiming(navigationStart,domLoading)}%7d",pageview:"${_basePrefix}&data=%7b%22action%22%3a%22pageview%22%7d",pageload:"${_basePrefix}&data=%7b%22category%22%3a%22timing%22%2c%22action%22%3a%22load%22%2c%22value%22%3a${pageLoadTime}%7d",pagedcl:"${_basePrefix}&data=%7b%22category%22%3a%22timing%22%2c%22action%22%3a%22DOMContentLoaded%22%2c%22value%22%3a${contentLoadTime}%7d"},
triggers:{triggerName:{on:"visible",request:["ampstart","pageload","pagedcl"]},pageview:{on:"ini-load",request:"pageview"}},transport:{beacon:!0,xhrpost:!1,image:!0}},mparticle:{vars:{eventType:"Unknown",debug:!1,amp_clientId:"CLIENT_ID(mparticle_amp_id)"},requests:{host:"https://pixels.mparticle.com",endpointPath:"/v1/${apiKey}/Pixel",baseParams:"et=${eventType}&amp_id=${amp_clientId}&attrs_k=${eventAttributes_Keys}&attrs_v=${eventAttributes_Values}&ua_k=${userAttributes_Keys}&ua_v=${userAttributes_Values}&ui_t=${userIdentities_Types}&ui_v=${userIdentities_Values}&flags_k=${customFlags_Keys}&flags_v=${customFlags_Values}&ct=${timestamp}&dbg=${debug}&lc=${location}&av=${appVersion}",
pageview:"${host}${endpointPath}?dt=ScreenView&n=${pageName}&hn=${ampdocUrl}&ttl=${title}&path=${canonicalPath}&${baseParams}",event:"${host}${endpointPath}?dt=AppEvent&n=${eventName}&${baseParams}"},transport:{beacon:!1,xhrpost:!1,image:!0}},mpulse:{requests:{onvisible:"https://${beacon_url}?h.d=${h.d}&h.key=${h.key}&h.t=${h.t}&h.cr=${h.cr}&rt.start=navigation&rt.si=${clientId(amp_mpulse)}&rt.ss=${timestamp}&rt.end=${timestamp}&t_resp=${navTiming(navigationStart,responseStart)}&t_page=${navTiming(responseStart,loadEventStart)}&t_done=${navTiming(navigationStart,loadEventStart)}&nt_nav_type=${navType}&nt_red_cnt=${navRedirectCount}&nt_nav_st=${navTiming(navigationStart)}&nt_red_st=${navTiming(redirectStart)}&nt_red_end=${navTiming(redirectEnd)}&nt_fet_st=${navTiming(fetchStart)}&nt_dns_st=${navTiming(domainLookupStart)}&nt_dns_end=${navTiming(domainLookupEnd)}&nt_con_st=${navTiming(connectStart)}&nt_ssl_st=${navTiming(secureConnectionStart)}&nt_con_end=${navTiming(connectEnd)}&nt_req_st=${navTiming(requestStart)}&nt_res_st=${navTiming(responseStart)}&nt_unload_st=${navTiming(unloadEventStart)}&nt_unload_end=${navTiming(unloadEventEnd)}&nt_domloading=${navTiming(domLoading)}&nt_res_end=${navTiming(responseEnd)}&nt_domint=${navTiming(domInteractive)}&nt_domcontloaded_st=${navTiming(domContentLoadedEventStart)}&nt_domcontloaded_end=${navTiming(domContentLoadedEventEnd)}&nt_domcomp=${navTiming(domComplete)}&nt_load_st=${navTiming(loadEventStart)}&nt_load_end=${navTiming(loadEventEnd)}&v=1&http.initiator=amp&u=${sourceUrl}&amp.u=${ampdocUrl}&r2=${documentReferrer}&scr.xy=${screenWidth}x${screenHeight}"},
triggers:{onvisible:{on:"visible",request:"onvisible"}},transport:{beacon:!1,xhrpost:!1,image:!0},extraUrlParamsReplaceMap:{ab_test:"h.ab",page_group:"h.pg","custom_dimension.":"cdim.","custom_metric.":"cmet."}},navegg:{requests:{pageview:"https://amp.navdmp.com/amp?aid=${clientId(navegg_id)}&url=${canonicalUrl}&ref=${documentReferrer}&tit=${title}&lan=${browserLanguage}&acc=${account}&v=7"},triggers:{trackpageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:{suppressWarnings:!0}}},
newrelic:{requests:{pageview:"https://${beacon}/amp?appId=${appId}&licenseKey=${licenseKey}&ampUrl=${ampdocUrl}&canonicalUrl=${canonicalUrl}&timeToDomContentLoadedEventEnd=${navTiming(domContentLoadedEventEnd)}&timeToDomInteractive=${navTiming(domInteractive)}&timeToDomComplete=${navTiming(domComplete)}&timeToDomLoading=${navTiming(domLoading)}&timeToResponseStart=${navTiming(responseStart)}&timeToResponseEnd=${navTiming(responseEnd)}&timeToLoadEventStart=${navTiming(loadEventStart)}&timeToLoadEventEnd=${navTiming(loadEventEnd)}&timeToConnectStart=${navTiming(connectStart)}&timeToConnectEnd=${navTiming(connectEnd)}&timeToFetchStart=${navTiming(fetchStart)}&timeToRequestStart=${navTiming(requestStart)}&timeToUnloadEventStart=${navTiming(unloadEventStart)}&timeToUnloadEventEnd=${navTiming(unloadEventEnd)}&timeToDomainLookupStart=${navTiming(domainLookupStart)}&timeToDomainLookupEnd=${navTiming(domainLookupEnd)}&timeToRedirectStart=${navTiming(redirectStart)}&timeToRedirectEnd=${navTiming(redirectEnd)}&timeToSecureConnection=${navTiming(secureConnectionStart)}&timestamp=${timestamp}&ampVersion=${ampVersion}&pageLoadTime=${pageLoadTime}"},
vars:{beacon:"bam.nr-data.net",appId:[],licenseKey:""},triggers:{trackPageview:{on:"ini-load",request:"pageview"}}},nielsen:{vars:{sessionId:"CLIENT_ID(imrworldwide)",prefix:""},requests:{session:"https://${prefix}uaid-linkage.imrworldwide.com/cgi-bin/gn?prd=session&c13=asid,P${apid}&sessionId=${sessionId}_${pageViewId}&pingtype=4&enc=false&c61=createtm,${timestamp}&rnd=${random}",cloudapi:"https://${prefix}cloudapi.imrworldwide.com/nmapi/v2/${apid}/${sessionId}_${pageViewId}/a?b=%7B%22devInfo%22%3A%7B%22devId%22%3A%22${sessionId}_${pageViewId}%22%2C%22apn%22%3A%22${apn}%22%2C%22apv%22%3A%22${apv}%22%2C%22apid%22%3A%22${apid}%22%7D%2C%22metadata%22%3A%7B%22static%22%3A%7B%22type%22%3A%22static%22%2C%22section%22%3A%22${section}%22%2C%22assetid%22%3A%22${pageViewId}%22%2C%22segA%22%3A%22${segA}%22%2C%22segB%22%3A%22${segB}%22%2C%22segC%22%3A%22${segC}%22%2C%22adModel%22%3A%220%22%2C%22dataSrc%22%3A%22cms%22%7D%2C%22content%22%3A%7B%7D%2C%22ad%22%3A%7B%7D%7D%2C%22event%22%3A%22playhead%22%2C%22position%22%3A%22${timestamp}%22%2C%22data%22%3A%7B%22hidden%22%3A%22${backgroundState}%22%2C%22blur%22%3A%22${backgroundState}%22%2C%22position%22%3A%22${timestamp}%22%7D%2C%22type%22%3A%22static%22%2C%22utc%22%3A%22${timestamp}%22%2C%22index%22%3A%22${requestCount}%22%7D"},
triggers:{visible:{on:"visible",request:["session","cloudapi"]},hidden:{on:"hidden",request:"cloudapi"},duration:{on:"timer",timerSpec:{interval:10,maxTimerLength:86400,immediate:!1},request:"cloudapi"}},transport:{beacon:!1,xhrpost:!1,image:!0,referrerPolicy:"no-referrer"}},"nielsen-marketing-cloud":{transport:{beacon:!1,xhrpost:!1,image:!0},vars:{pubId:"",siteId:""},requests:{host:"loadeu.exelator.com",pathPrefix:"load/",trackurl:"https://${host}/${pathPrefix}?p=${pubId}&g=${siteId}&j=0"},triggers:{defaultPageview:{on:"visible",
request:"trackurl"}}},oewa:{transport:{beacon:!1,xhrpost:!1,image:!0},requests:{pageview:"${url}?s=${s}&amp=1&cp=${cp}&host=${canonicalHost}&path=${canonicalPath}"},triggers:{pageview:{on:"visible",request:"pageview"}}},oewadirect:{transport:{beacon:!1,xhrpost:!1,image:!0},requests:{pageview:"https://${s}.oewabox.at/j0=,,,r=${canonicalUrl};+,amp=1+cp=${cp}+ssl=1+hn=${canonicalHost};;;?lt=${pageViewId}&x=${screenWidth}x${screenHeight}x24&c=CLIENT_ID(oewa)"},triggers:{pageview:{on:"visible",request:"pageview"}}},
oracleInfinityAnalytics:{transport:{beacon:!1,xhrpost:!1,image:!0},requests:{host:"https://dc.oracleinfinity.io/${guid}/dcs.gif?",baseUrl:"dcssip=${dcssip}&dcsuri=${dcsuri}",baseRef:"&dcsref=${documentReferrer}",baseEs:"&WT.es=${sourceHost}${sourcePath}",baseTi:"&WT.ti=${ti}&dcsdat=${timestamp}",basePrefix:"${baseUrl}${baseTi}${baseRef}${baseEs}",screenBs:"&WT.bs=${availableScreenWidth}x${availableScreenHeight}",screenSr:"&WT.sr=${screenWidth}x${screenHeight}",screenDc:"&WT.cd=${screenColorDepth}",
screenMeasures:"${screenBs}${screenSr}${screenDc}",browserUl:"&WT.ul=${browserLanguage}",browserLe:"&WT.le=${documentCharset}",browserMeasures:"${browserUl}${browserLe}&WT.js=Yes",sessCof:"&WT.co_f=${clientId(WT_AMP)}",sessVer:"&ora.tv_amp=1.0.0&ora.amp_ver=${ampVersion}",sessionization:"${sessCof}${sessVer}&dcscfg=3",baseP1:"${host}${basePrefix}",baseP2:"${screenMeasures}${browserMeasures}${sessionization}",baseDl:"&WT.dl=${dl}",pageview:"${baseP1}${baseP2}${baseDl}",event:"${baseP1}${baseP2}${baseDl}",
dlPdf:'a[href$=".pdf"]',dlXls:',a[href$=".xls"]',dlPpt:',a[href$=".ppt"]',dlZip:',a[href$=".zip"]',dlTxt:',a[href$=".txt"]',dlRtf:',a[href$=".rtf"]',dlXml:',a[href$=".xml"]',downLoad:"${dlPdf}${dlXls}${dlPpt}${dlZip}${dlTxt}${dlRtf}${dlXml}"},vars:{dcssip:"${sourceHost}",dcsuri:"${sourcePath}",dl:"0",ti:"${title}"},triggers:{trackPageview:{on:"visible",request:"pageview"},trackAnchorClicks:{on:"click",selector:"a",request:"event",vars:{dl:"99",ti:"Link Click"}}},trackDownloadClicks:{on:"click",selector:"${downLoad}",
request:"event",vars:{dl:"20",ti:"Download Click"}}},parsely:{requests:{host:"https://srv.pixel.parsely.com",basePrefix:"${host}/plogger/?rand=${timestamp}&idsite=${apikey}&url=${ampdocUrl}&urlref=${documentReferrer}&screen=${screenWidth}x${screenHeight}%7C${availableScreenWidth}x${availableScreenHeight}%7C${screenColorDepth}&title=${title}&date=${timestamp}&ampid=${clientId(_parsely_visitor)}",pageview:'${basePrefix}&action=pageview&metadata={"canonical_url":"${canonicalUrl}"}',heartbeat:"${basePrefix}&action=heartbeat&tt=${totalEngagedTime}&inc=${incrementalEngagedTime(parsely-js)}"},
triggers:{defaultPageview:{on:"visible",request:"pageview"},defaultHeartbeat:{on:"timer",enabled:"${incrementalEngagedTime(parsely-js,false)}",timerSpec:{interval:10,maxTimerLength:7200},request:"heartbeat"}},transport:{beacon:!1,xhrpost:!1,image:!0}},piStats:{requests:{host:"https://events.pi-stats.com",basePrefix:"${host}/eventsamp/?e=PageLoad&pid=${property}&url=${ampdocUrl}&cnt=${cntId}&lang=${language}&ref=${documentReferrer}&id=${clientId(piStatsDEVICEID)}&ua=${userAgent}&ctype=web&blang=${browserLanguage}&v=2.0&dist=Javascript",
pageview:"${basePrefix}&eventtype=pageview"},triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},permutive:{vars:{identity:"${clientId(_ga)}"},requests:{track:"https://${namespace}.amp.permutive.com/track?k=${key}&i=${identity}&it=amp",pageview:"${track}&e=Pageview&_ep_isp_info=%24ip_isp_info&_ep_geo_info=%24ip_geo_info",engagement:"${track}&e=PageviewEngagement&_ep_engaged_time=5",completion:"${track}&e=PageviewEngagement&_ep_completion=0.25"},
triggers:{trackPageview:{on:"visible",request:"pageview"},trackEngagement:{on:"visible",timerSpec:{interval:5,maxTimerLength:600,immediate:!1},request:"engagement"},trackCompletion:{on:"scroll",scrollSpec:{verticalBoundaries:[25,50,75,100]},request:"completion"}},transport:{beacon:!1,xhrpost:!1,image:!0},extraUrlParams:{"properties.client.type":"amp","properties.client.title":"${title}","properties.client.domain":"${canonicalHost}","properties.client.url":"${canonicalUrl}","properties.client.referrer":"${documentReferrer}",
"properties.client.user_agent":"${userAgent}"},extraUrlParamsReplaceMap:{"properties.":"_ep_"}},piano:{requests:{host:"https://api-v3.tinypass.com",basePrefix:"/api/v3",baseSuffix:"&pageview_id=${pageViewId}&rand=${random}&amp_client_id=${clientId}&aid=${aid}",pageview:"${host}${basePrefix}/page/track?url=${canonicalUrl}&referer=${documentReferrer}&content_created=${contentCreated}&content_author=${contentAuthor}&content_section=${contentSection}&timezone_offset=${timezone}&tags=${tags}&amp_url=${ampdocUrl}&screen=${screenWidth}x${screenHeight}${baseSuffix}"}},
pinpoll:{requests:{pageview:"${protocol}://${host}/${version}?url=${sourceUrl}&sourceHost=${sourceHost}&sourceHostname=${sourceHostname}&sourcePath=${sourcePath}&canonicalUrl=${canonicalUrl}&platform=AMP&title=${title}&referrer=${documentReferrer}&screenHeight=${screenHeight}&screenWidth=${screenWidth}&screenColorDepth=${screenColorDepth}&ua=${userAgent}&clientId=${clientId(pinpoll)}"},triggers:{pageview:{on:"visible",request:"pageview"}},vars:{version:"v1",protocol:"https",host:"pa.pinpoll.com"}},
pressboard:{vars:{mediaId:"",campaignId:"",storyRequestId:"",geoNameId:"",country:"",region:"",city:"",dbInstance:"",timeZoneOffset:"",clientId:"CLIENT_ID(_pressboardmedia)"},requests:{host:"https://adserver.pressboard.ca",common_params:"&amp=1&url=${canonicalUrl}&referrer=${documentReferrer}&ts=${timestamp}&ua=${userAgent}&rand=${random}&uid=${clientId}&mid=${mediaId}&cid=${campaignId}&sid=${storyRequestId}&geoid=${geoNameId}&cn=${country}&rg=${region}&ct=${city}&dbi=${dbInstance}&tz=${timeZoneOffset}",
conversion_params:"&hbt=${requestCount}&pvid=${pageViewId}&asurl=${sourceUrl}&ash=${scrollHeight}&asnh=${screenHeight}&aasnh=${availableScreenHeight}&avh=${viewportHeight}&ast=${scrollTop}&atet=${totalEngagedTime}",conversion:"${host}/track/attention-amp?${common_params}${conversion_params}"},triggers:{pageTimer:{on:"timer",timerSpec:{interval:1,startSpec:{on:"visible"},stopSpec:{on:"hidden"}},request:"conversion"}},transport:{beacon:!1,xhrpost:!1,image:!0}},quantcast:{vars:{labels:""},requests:{host:"https://pixel.quantserve.com/pixel",
pageview:"${host};r=${random};a=${pcode};labels=${labels};fpan=;fpa=${clientId(__qca)};ns=0;ce=1;cm=;je=0;sr=${screenWidth}x${screenHeight}x${screenColorDepth};enc=n;et=${timestamp};ref=${documentReferrer};url=${canonicalUrl}"},triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},retargetly:{requests:{host:"https://api.retargetly.com",page:"${host}/api?id=${accountId}&src=${sourceId}&url=${sourceUrl}&n=${title}&ref=${documentReferrer}&ua=${userAgent}&random=${random}&bl=${browserLanguage}&source=amp"},
transport:{beacon:!1,xhrpost:!1,image:!0},triggers:{trackPageview:{on:"visible",request:"page"}}},rakam:{vars:{deviceId:"CLIENT_ID(rakam_device_id)"},requests:{base:"?api.api_key=${writeKey}&prop._platform=amp&prop._device_id=${deviceId}&prop.locale=${browserLanguage}&prop.path=${canonicalPath}&prop.url=${canonicalUrl}&prop.color_depth=${screenColorDepth}&prop._referrer=${documentReferrer}&prop.title=${title}&prop.timezone=${timezone}&prop._time=${timestamp}&prop.resolution=${screenWidth} \u00d7 ${screenHeight}",
pageview:"https://${apiEndpoint}/event/pixel${base}&collection=${pageViewName}",custom:"https://${apiEndpoint}/event/pixel${base}&collection=${collection}"}},reppublika:{requests:{host:"https://t5.mindtake.com",basePrefix:"/tag/cid/",baseSuffix:"Service=${service}&Category=${category}&Url=${sourceUrl}&Device=${device}&uid=${random}",pageview:"${host}${basePrefix}${code}/track.gif?${baseSuffix}"},transport:{beacon:!1,xhrpost:!1,image:!0}},segment:{transport:{beacon:!1,xhrpost:!1,image:!0},vars:{anonymousId:"CLIENT_ID(AMP_ECID_GOOGLE,,_ga)"},
requests:{host:"https://api.segment.io/v1/pixel",base:"?writeKey=${writeKey}&context.library.name=amp&anonymousId=${anonymousId}&context.locale=${browserLanguage}&context.page.path=${canonicalPath}&context.page.url=${canonicalUrl}&context.page.referrer=${documentReferrer}&context.page.title=${title}&context.screen.width=${screenWidth}&context.screen.height=${screenHeight}",page:"${host}/page${base}&name=${name}",track:"${host}/track${base}&event=${event}"},triggers:{page:{on:"visible",request:"page"}},
linkers:{segment:{ids:{s_amp_id:"${anonymousId}"},proxyOnly:!1}},cookies:{_ga:{value:"LINKER_PARAM(segment, s_amp_id)"}}},shinystat:{transport:{beacon:!1,xhrpost:!1,image:!0},requests:{base:"https://amp.shinystat.com/cgi-bin/shinyamp.cgi",commpar:"AMP=1&RM=${random}&USER=${account}&PAG=${page}&HR=${sourceUrl}&REFER=${documentReferrer}&RES=${screenWidth}X${screenHeight}&COLOR=${screenColorDepth}&CID=${clientId(AMP_CID)}&PAGID=${pageViewId}&TITL=${title}&RQC=${requestCount}",pagepar:"&VIE=${viewer}&PLT=${pageLoadTime}",
eventpar:"&SSXL=1",linkpar:"&LINK=${outboundLink}",pageview:"${base}?${commpar}${pagepar}",event:"${base}?${commpar}${eventpar}",link:"${base}?${commpar}${linkpar}"},triggers:{pageview:{on:"visible",request:"pageview"}}},simplereach:{vars:{pid:"",published_at:"",authors:[],channels:[],tags:[]},requests:{host:"https://edge.simplereach.com",baseParams:"amp=true&pid=${pid}&title=${title}&url=${canonicalUrl}&date=${published_at}&authors=${authors}&channels=${categories}&tags=${tags}&referrer=${documentReferrer}&page_url=${sourceUrl}&user_id=${clientId(sr_amp_id)}&domain=${canonicalHost}&article_id=${article_id}&ignore_metadata=${ignore_metadata}",
visible:"${host}/n?${baseParams}",timer:"${host}/t?${baseParams}&t=5000&e=5000"},triggers:{visible:{on:"visible",request:"visible"},timer:{on:"timer",timerSpec:{interval:5,maxTimerLength:1200},request:"timer"}}},snowplow:{vars:{duid:"CLIENT_ID(_sp_id)"},requests:{aaVersion:"amp-0.2",basePrefix:"https://${collectorHost}/i?url=${canonicalUrl}&page=${title}&res=${screenWidth}x${screenHeight}&stm=${timestamp}&tz=${timezone}&aid=${appId}&p=web&tv=${aaVersion}&cd=${screenColorDepth}&cs=${documentCharset}&duid=${duid}&lang=${browserLanguage}&refr=${documentReferrer}&stm=${timezone}&vp=${viewportWidth}x${viewportHeight}",
pageView:"${basePrefix}&e=pv",structEvent:"${basePrefix}&e=se&se_ca=${structEventCategory}&se_ac=${structEventAction}&se_la=${structEventLabel}&se_pr=${structEventProperty}&se_va=${structEventValue}"},transport:{beacon:!1,xhrpost:!1,image:!0}},teaanalytics:{$vars$:{$userUniqueId$:"${clientId(__tea_sdk__user_unique_id)}",debug:0},$requests$:{domain:"https://${channel}/v1/amp",$commonParams$:"user.user_unique_id=${userUniqueId}&header.app_id=${app_id}&header.language=${browserLanguage}&header.screen_height=${screenHeight}&header.screen_width=${screenWidth}&header.resolution=${screenHeight}x${screenWidth}&header.tz_offset=${timezone}&header.tz_name=${timezoneCode}&header.referrer=${documentReferrer}&header.custom.user_agent=${userAgent}&event.local_time_ms=${timestamp}&event.params._staging_flag=${debug}&verbose=${debug}",
base:"${domain}?${commonParams}&rnd=${random}",$pageview$:"${base}&event=predefine_pageview&event.params.url=${sourceUrl}&event.params.url_path=${sourcePath}&event.params.title=${title}",event:"${base}"}},tealiumcollect:{transport:{beacon:!1,xhrpost:!1,image:!0},vars:{account:"TEALIUM_ACCOUNT",profile:"TEALIUM_PROFILE",datasource:"TEALIUM_DATASOURCE",visitor_id:"CLIENT_ID(AMP_ECID_GOOGLE,,_ga)"},requests:{host:"https://collect.tealiumiq.com",base:"${host}/event?${tealium}&${dom1}&${dom2}&${datetime}&tealium_event=${tealium_event}&amp_version=${ampVersion}&amp_request_count=${requestCount}",
tealium:"tealium_account=${account}&tealium_profile=${profile}&tealium_datasource=${datasource}&tealium_visitor_id=${visitor_id}",dom1:"url=${sourceUrl}&ampdoc_url=${ampdocUrl}&domain=${sourceHost}&pathname=${sourcePath}&amp_hostname=${ampdocHostname}&canonical_hostname=${canonicalHostname}",dom2:"title=${title}&viewport_width=${availableScreenWidth}&viewport_height=${availableScreenHeight}",datetime:"timestamp=${timestamp}&tz=${timezone}&lang=${browserLanguage}",pageview:"${base}&referrer=${documentReferrer}&screen_size=${screenWidth}x${screenHeight}&content_load_ms=${contentLoadTime}&page_view_id=${pageViewId}",
event:"${base}&scroll_y=${scrollTop}&scroll_x=${scrollLeft}"},triggers:{defaultPageview:{on:"visible",request:"pageview",vars:{tealium_event:"screen_view"}}}},top100:{vars:{pid:"",rid:"PAGE_VIEW_ID",ruid:"CLIENT_ID(ruid)",version:"1.0.0"},requests:{host:"https://kraken.rambler.ru",base:"${host}/cnt/?pid=${pid}&rid=${rid}&v=${version}&rn=${random}&ruid=${ruid}&ct=amp",pageview:"${base}&et=pv${_pageData}${_screenData}",_screenData:"&sr=${screenWidth}x${screenHeight}&cd=${screenColorDepth}-bit&bs=${scrollWidth}x${scrollHeight}",
_pageData:"&pt=${title}&rf=${documentReferrer}&en=${documentCharset}&la=${browserLanguage}&tz=${timezone}"},triggers:{trackPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},topmailru:{transport:{beacon:!1,xhrpost:!1,image:!0},vars:{url:"${sourceUrl}",referrer:"${documentReferrer}"},requests:{pageView:"${_domain}/counter?${_basicMessage};title=${title}",reachGoal:"${_domain}/tracker?${_basicMessage};title=${title};e=RG%3A${value}%2F${goal}",sendEvent:"${_domain}/tracker?${_basicMessage};e=CE%3A${value}%2F${category}%3B${action}%3B${label}",
_domain:"https://top-fwz1.mail.ru",_basicMessage:"js=13;id=${id};u=${url};r=${referrer};s=${screenWidth}*${screenHeight};vp=${viewportWidth}*${viewportHeight};st=${start};gender=${gender};age=${age};pid=${pid};userid=${userid};device=${device};params=${params};_=${random}"},triggers:{pageView:{on:"visible",request:"pageView"}}},treasuredata:{vars:{host:"in.treasuredata.com",writeKey:"",database:"",table:"events"},requests:{base:"https://${host}/postback/v3/event/${database}",baseParams:"td_write_key=${writeKey}&td_global_id=td_global_id&td_client_id=CLIENT_ID(_td)&td_charset=DOCUMENT_CHARSET&td_language=BROWSER_LANGUAGE&td_color=SCREEN_COLOR_DEPTH&td_screen=${screenWidth}x${scrollHeight}&td_viewport=${availableScreenWidth}x${availableScreenHeight}&td_title=TITLE&td_url=SOURCE_URL&td_user_agent=USER_AGENT&td_host=SOURCE_HOST&td_path=SOURCE_PATH&td_referrer=DOCUMENT_REFERRER&td_ip=td_ip",
pageview:"${base}/${table}?${baseParams}",event:"${base}/${table}?${baseParams}"}},umenganalytics:{vars:{siteid:"",initial_view_time:"",eventName:"",eventProps:""},requests:{base:"https://b.cnzz.com/utrack?&_siteid=${siteid}&_distinct_id=${clientId(umeng_amp_id)}&_t=${timestamp}&_s=google&_b=web&_r=${externalReferrer}&_h=${screenHeight}&_w=${screenWidth}&_ivt=${initial_view_time}",pageview:"${base}&_ename=$w_page_view&_eprops=${eventProps}",event:"${base}&_ename=${eventName}&_eprops=${eventProps}"},
triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},upscore:{requests:{host:"https://hit-pool.upscore.com/amp?",basePrefix:"u_id=${clientId(upscore)}&hit_id=${pageViewId}&scTop=${scrollTop}&scHeight=${scrollHeight}&vHeight=${viewportHeight}&domain=${domain}&load=${domInteractiveTime}&timespent=${totalEngagedTime}",initialHit:"author=${author}&creator=${creator}&o_id=${object_id}&o_type=${object_type}&pubdate=${pubdate}&ref=${documentReferrer}&section=${section}&url=${ampdocUrl}&agent=${userAgent}&location=${ampGeo(ISOCountry)}",
finalbeat:"${host}${basePrefix}&type=final",heartbeat:"${host}${basePrefix}&type=pulse",pageview:"${host}${basePrefix}&${initialHit}&type=init"},triggers:{initHit:{on:"visible",request:"pageview"},pulse:{on:"timer",timerSpec:{interval:10,immediate:!1,stopSpec:{on:"hidden"}},request:"heartbeat"},"final":{on:"hidden",visibilitySpec:{totalTimeMin:5E3},request:"finalbeat"}},transport:{beacon:!0,xhrpost:!0,image:!1}},vponanalytics:{vars:{ctid:"${clientId(vpadn-ctid)}"},requests:{host:"https://tags-dmp.vpadn.com",
sync:"https://ids-dmp.vpadn.com/set?t=${timestamp}&dn=&ctid=${ctid}",scroll:'${host}/et?t=${timestamp}&sdkn=j&sdkv=1.2.0&lk=${licence_key}&en=UTF-8&ctid=${ctid}&ev=element_interact&pl={"name":"${category}","action":"${action}","value":"${documentReferrer}"}',event:"${host}/et?t=${timestamp}&sdkn=j&sdkv=1.2.0&lk=${licence_key}&en=UTF-8&ctid=${ctid}&ev=${ev_name}&pl=${payload}",elementInteract:'${host}/et?t=${timestamp}&sdkn=j&sdkv=1.2.0&lk=${licence_key}&en=UTF-8&ctid=${ctid}&ev=element_interact&pl={"name":"${category}","action":"${action}","value":"${label}"}'},
extraUrlParams:{is_amp:"1",page_id:"${pageViewId}"},triggers:{cookieSync:{on:"visible",request:"sync"},trackPageview:{on:"visible",request:"event",vars:{ev_name:"page_view",payload:'{"title":"${title}","current":"${canonicalUrl}","previous":"${documentReferrer}"}'}}},transport:{beacon:!1,xhrpost:!1,image:!0}},webtrekk:{requests:{trackURL:"https://${trackDomain}/${trackId}/wt",parameterPrefix:"?p=432,${contentId},1,${screenWidth}x${screenHeight},${screenColorDepth},1,${timestamp},${documentReferrer},${viewportWidth}x${viewportHeight},0&tz=${timezone}&eid=${clientId(amp-wt3-eid)}&la=${browserLanguage}",
parameterSuffix:"&pu=${sourceUrl}",pageParameter:"&cp1=${pageParameter1}&cp2=${pageParameter2}&cp3=${pageParameter3}&cp4=${pageParameter4}&cp5=${pageParameter5}&cp6=${pageParameter6}&cp7=${pageParameter7}&cp8=${pageParameter8}&cp9=${pageParameter9}&cp10=${pageParameter10}",pageCategories:"&cg1=${pageCategory1}&cg2=${pageCategory2}&cg3=${pageCategory3}&cg4=${pageCategory4}&cg5=${pageCategory5}&cg6=${pageCategory6}&cg7=${pageCategory7}&cg8=${pageCategory8}&cg9=${pageCategory9}&cg10=${pageCategory10}",
pageview:"${trackURL}${parameterPrefix}${pageParameter}${pageCategories}${parameterSuffix}",actionParameter:"&ck1=${actionParameter1}&ck2=${actionParameter2}&ck3=${actionParameter3}&ck4=${actionParameter4}&ck5=${actionParameter5}",event:"${trackURL}${parameterPrefix}&ct=${actionName}${actionParameter}${parameterSuffix}"},transport:{beacon:!1,xhrpost:!1,image:!0}},webtrekk_v2:{vars:{actionName:"webtrekk_ignore",contentId:"${title}",mediaName:"${id}",everId:"${clientId(amp-wt3-eid)}"},requests:{trackURL:"https://${trackDomain}/${trackId}/wt",
basePrefix:"?p=440,${contentId},1,${screenWidth}x${screenHeight},${screenColorDepth},1,",baseSuffix:",${documentReferrer},${viewportWidth}x${viewportHeight},0&tz=${timezone}&eid=${everId}&la=${browserLanguage}",parameterPrefix:"${basePrefix}${timestamp}${baseSuffix}",parameterSuffix:"&pu=${sourceUrl}&eor=1",pageview:"${trackURL}${parameterPrefix}&${extraUrlParams}&cp570=${pageLoadTime}${parameterSuffix}",event:"${trackURL}${parameterPrefix}&ct=${actionName}&${extraUrlParams}${parameterSuffix}",scroll:"${trackURL}${parameterPrefix}&ct=${actionName}&ck540=${verticalScrollBoundary}${parameterSuffix}",
mediaPrefix:"${trackURL}${basePrefix}${baseSuffix}&mi=${mediaName}",mediaSuffix:"&mt1=${currentTime}&mt2=${duration}&${extraUrlParams}${parameterSuffix}&x=${playedTotal}",mediaPlay:"${mediaPrefix}&mk=play${mediaSuffix}",mediaPause:"${mediaPrefix}&mk=pause${mediaSuffix}",mediaPosition:"${mediaPrefix}&mk=pos${mediaSuffix}",mediaEnded:"${mediaPrefix}&mk=eof${mediaSuffix}"},extraUrlParamsReplaceMap:{pageParameter:"cp",contentGroup:"cg",actionParameter:"ck",sessionParameter:"cs",ecommerceParameter:"cb",
urmCategory:"uc",campaignParameter:"cc",mediaCategory:"mg"},transport:{beacon:!1,xhrpost:!1,image:!0}}};if(_.$getMode$$module$src$mode$$().test||_.$getMode$$module$src$mode$$().localDev)$ANALYTICS_CONFIG$$module$extensions$amp_analytics$0_1$vendors$$._fake_=$_FAKE_$$module$extensions$amp_analytics$0_1$vendors$_fake_$$;$ANALYTICS_CONFIG$$module$extensions$amp_analytics$0_1$vendors$$.infonline.triggers.pageview.iframePing=!0;
$ANALYTICS_CONFIG$$module$extensions$amp_analytics$0_1$vendors$$.adobeanalytics_nativeConfig.triggers.pageLoad.iframePing=!0;$ANALYTICS_CONFIG$$module$extensions$amp_analytics$0_1$vendors$$.oewa.triggers.pageview.iframePing=!0;
for(var $vendor$jscomp$inline_2563$$ in _.$IFRAME_TRANSPORTS$$module$extensions$amp_analytics$0_1$iframe_transport_vendors$$)_.$hasOwn$$module$src$utils$object$$(_.$IFRAME_TRANSPORTS$$module$extensions$amp_analytics$0_1$iframe_transport_vendors$$,$vendor$jscomp$inline_2563$$)&&($ANALYTICS_CONFIG$$module$extensions$amp_analytics$0_1$vendors$$[$vendor$jscomp$inline_2563$$].transport=Object.assign({},$ANALYTICS_CONFIG$$module$extensions$amp_analytics$0_1$vendors$$[$vendor$jscomp$inline_2563$$].transport,
{iframe:_.$IFRAME_TRANSPORTS$$module$extensions$amp_analytics$0_1$iframe_transport_vendors$$[$vendor$jscomp$inline_2563$$]}));$AnalyticsConfig$$module$extensions$amp_analytics$0_1$config$$.prototype.$J$=function(){var $configRewriterUrl$$=($JSCompiler_StaticMethods_getTypeConfig_$$(this).configRewriter||{}).url,$config$jscomp$32$$=_.$dict$$module$src$utils$object$$({});if(this.$element_$.$CONFIG$)var $JSCompiler_inline_result$jscomp$724_inlineConfig_inlineConfig$jscomp$inline_2566$$=this.$element_$.$CONFIG$;else{$JSCompiler_inline_result$jscomp$724_inlineConfig_inlineConfig$jscomp$inline_2566$$={};var $TAG$jscomp$inline_2567_TAG$jscomp$inline_2574_type$jscomp$inline_2573$$=
$JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$getName_$$(this);try{var $children$jscomp$inline_2568$$=this.$element_$.children;1==$children$jscomp$inline_2568$$.length?$JSCompiler_inline_result$jscomp$724_inlineConfig_inlineConfig$jscomp$inline_2566$$=_.$getChildJsonConfig$$module$src$json$$(this.$element_$):1<$children$jscomp$inline_2568$$.length&&_.$user$$module$src$log$$().error($TAG$jscomp$inline_2567_TAG$jscomp$inline_2574_type$jscomp$inline_2573$$,
"The tag should contain only one <script> child.")}catch($er$jscomp$inline_2569$$){_.$user$$module$src$log$$().error($TAG$jscomp$inline_2567_TAG$jscomp$inline_2574_type$jscomp$inline_2573$$,$er$jscomp$inline_2569$$.message)}}$TAG$jscomp$inline_2567_TAG$jscomp$inline_2574_type$jscomp$inline_2573$$=this.$element_$.getAttribute("type");this.$I$[$TAG$jscomp$inline_2567_TAG$jscomp$inline_2574_type$jscomp$inline_2573$$]&&($JSCompiler_inline_result$jscomp$724_inlineConfig_inlineConfig$jscomp$inline_2566$$.transport||
this.$D$.transport)&&($TAG$jscomp$inline_2567_TAG$jscomp$inline_2574_type$jscomp$inline_2573$$=$JSCompiler_StaticMethods_AnalyticsConfig$$module$extensions$amp_analytics$0_1$config_prototype$getName_$$(this),_.$user$$module$src$log$$().error($TAG$jscomp$inline_2567_TAG$jscomp$inline_2574_type$jscomp$inline_2573$$,"Inline or remote config should not overwrite vendor transport settings"));$JSCompiler_inline_result$jscomp$724_inlineConfig_inlineConfig$jscomp$inline_2566$$.transport&&$JSCompiler_inline_result$jscomp$724_inlineConfig_inlineConfig$jscomp$inline_2566$$.transport.iframe&&
(_.$user$$module$src$log$$().error("amp-analytics/config","Inline configs are not allowed to specify transport iframe"),!_.$getMode$$module$src$mode$$().localDev||_.$getMode$$module$src$mode$$().test)&&($JSCompiler_inline_result$jscomp$724_inlineConfig_inlineConfig$jscomp$inline_2566$$.transport.iframe=void 0);this.$D$.transport&&this.$D$.transport.iframe&&(_.$user$$module$src$log$$().error("amp-analytics/config","Remote configs are not allowed to specify transport iframe"),this.$D$.transport.iframe=
void 0);$mergeObjects$$module$extensions$amp_analytics$0_1$config$$($JSCompiler_inline_result$jscomp$724_inlineConfig_inlineConfig$jscomp$inline_2566$$,$config$jscomp$32$$);$mergeObjects$$module$extensions$amp_analytics$0_1$config$$(this.$D$,$config$jscomp$32$$);return!$configRewriterUrl$$||this.$H$?(this.$G$=$JSCompiler_StaticMethods_mergeConfigs_$$(this,$config$jscomp$32$$),Promise.resolve()):$JSCompiler_StaticMethods_handleConfigRewriter_$$(this,$config$jscomp$32$$,$configRewriterUrl$$)};var $VARIABLE_DATA_ATTRIBUTE_KEY$$module$extensions$amp_analytics$0_1$events$$=/^vars(.+)/,$AnalyticsEventType$$module$extensions$amp_analytics$0_1$events$$={$VISIBLE$:"visible",$CLICK$:"click",$TIMER$:"timer",$SCROLL$:"scroll",$HIDDEN$:"hidden"},$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$=["ampdoc","embed"],$TRACKER_TYPE$$module$extensions$amp_analytics$0_1$events$$=Object.freeze({click:{name:"click",$allowedFor$:$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$.concat(["timer"]),
$klass$:function($root$jscomp$38$$){return new $ClickEventTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$38$$)}},scroll:{name:"scroll",$allowedFor$:$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$.concat(["timer"]),$klass$:function($root$jscomp$39$$){return new $ScrollEventTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$39$$)}},custom:{name:"custom",$allowedFor$:$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$.concat(["timer"]),
$klass$:function($root$jscomp$40$$){return new $CustomEventTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$40$$)}},"render-start":{name:"render-start",$allowedFor$:$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$.concat(["timer","visible"]),$klass$:function($root$jscomp$41$$){return new $SignalTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$41$$)}},"ini-load":{name:"ini-load",$allowedFor$:$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$.concat(["timer",
"visible"]),$klass$:function($root$jscomp$42$$){return new $IniLoadTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$42$$)}},timer:{name:"timer",$allowedFor$:$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$,$klass$:function($root$jscomp$43$$){return new $TimerEventTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$43$$)}},visible:{name:"visible",$allowedFor$:$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$.concat(["timer"]),
$klass$:function($root$jscomp$44$$){return new $VisibilityTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$44$$)}},hidden:{name:"visible",$allowedFor$:$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$.concat(["timer"]),$klass$:function($root$jscomp$45$$){return new $VisibilityTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$45$$)}},video:{name:"video",$allowedFor$:$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$.concat(["timer"]),
$klass$:function($root$jscomp$46$$){return new $VideoEventTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$46$$)}}});_.$$jscomp$inherits$$($CustomEventTracker$$module$extensions$amp_analytics$0_1$events$$,$EventTracker$$module$extensions$amp_analytics$0_1$events$$);$CustomEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.$dispose$=function(){this.$G$=this.$F$=void 0;for(var $k$jscomp$22$$ in this.$H$)_.$JSCompiler_StaticMethods_removeAll$$(this.$H$[$k$jscomp$22$$])};
$CustomEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.add=function($context$jscomp$23_observables$$,$eventType$jscomp$33$$,$config$jscomp$36$$,$listener$jscomp$72$$){var $$jscomp$this$jscomp$386$$=this,$selector$jscomp$21$$=$config$jscomp$36$$.selector;$selector$jscomp$21$$||($selector$jscomp$21$$=":root");var $targetReady$$=this.$D$.$getElement$($context$jscomp$23_observables$$,$selector$jscomp$21$$,$config$jscomp$36$$.selectionMethod||null),$isSandboxEvent$$=_.$startsWith$$module$src$string$$($eventType$jscomp$33$$,
"sandbox-"),$buffer$jscomp$20$$=$isSandboxEvent$$?this.$G$&&this.$G$[$eventType$jscomp$33$$]:this.$F$&&this.$F$[$eventType$jscomp$33$$];if($buffer$jscomp$20$$){var $bufferLength$$=$buffer$jscomp$20$$.length;$targetReady$$.then(function($context$jscomp$23_observables$$){setTimeout(function(){for(var $config$jscomp$36$$=0;$config$jscomp$36$$<$bufferLength$$;$config$jscomp$36$$++){var $selector$jscomp$21$$=$buffer$jscomp$20$$[$config$jscomp$36$$];$context$jscomp$23_observables$$.contains($selector$jscomp$21$$.target)&&
$listener$jscomp$72$$($selector$jscomp$21$$)}$isSandboxEvent$$&&($$jscomp$this$jscomp$386$$.$G$[$eventType$jscomp$33$$]=void 0)},1)})}$context$jscomp$23_observables$$=this.$H$[$eventType$jscomp$33$$];$context$jscomp$23_observables$$||($context$jscomp$23_observables$$=new _.$Observable$$module$src$observable$$,this.$H$[$eventType$jscomp$33$$]=$context$jscomp$23_observables$$);return this.$H$[$eventType$jscomp$33$$].add(function($context$jscomp$23_observables$$){$targetReady$$.then(function($eventType$jscomp$33$$){$eventType$jscomp$33$$.contains($context$jscomp$23_observables$$.target)&&
$listener$jscomp$72$$($context$jscomp$23_observables$$)})})};
$CustomEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.$trigger$=function($event$jscomp$81$$){var $eventType$jscomp$34$$=$event$jscomp$81$$.type,$isSandboxEvent$jscomp$1$$=_.$startsWith$$module$src$string$$($eventType$jscomp$34$$,"sandbox-"),$observables$jscomp$1$$=this.$H$[$eventType$jscomp$34$$];if($observables$jscomp$1$$&&($observables$jscomp$1$$.$fire$($event$jscomp$81$$),$isSandboxEvent$jscomp$1$$))return;$isSandboxEvent$jscomp$1$$?(this.$G$[$eventType$jscomp$34$$]=this.$G$[$eventType$jscomp$34$$]||
[],this.$G$[$eventType$jscomp$34$$].push($event$jscomp$81$$)):this.$F$&&(this.$F$[$eventType$jscomp$34$$]=this.$F$[$eventType$jscomp$34$$]||[],this.$F$[$eventType$jscomp$34$$].push($event$jscomp$81$$))};_.$$jscomp$inherits$$($ClickEventTracker$$module$extensions$amp_analytics$0_1$events$$,$EventTracker$$module$extensions$amp_analytics$0_1$events$$);
$ClickEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.$dispose$=function(){this.$D$.$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root_prototype$getRoot$().removeEventListener("click",this.$G$);_.$JSCompiler_StaticMethods_removeAll$$(this.$F$)};
$ClickEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.add=function($context$jscomp$24$$,$eventType$jscomp$35_selector$jscomp$22$$,$config$jscomp$37_selectionMethod$jscomp$1$$,$listener$jscomp$73$$){$eventType$jscomp$35_selector$jscomp$22$$=$config$jscomp$37_selectionMethod$jscomp$1$$.selector;$config$jscomp$37_selectionMethod$jscomp$1$$=$config$jscomp$37_selectionMethod$jscomp$1$$.selectionMethod||null;return this.$F$.add($JSCompiler_StaticMethods_createSelectiveListener$$(this.$D$,
this.$H$.bind(this,$listener$jscomp$73$$),$context$jscomp$24$$.parentElement||$context$jscomp$24$$,$eventType$jscomp$35_selector$jscomp$22$$,$config$jscomp$37_selectionMethod$jscomp$1$$))};
$ClickEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.$H$=function($listener$jscomp$74$$,$target$jscomp$143$$){var $params$jscomp$22$$=_.$getDataParamsFromAttributes$$module$src$dom$$($target$jscomp$143$$,void 0,$VARIABLE_DATA_ATTRIBUTE_KEY$$module$extensions$amp_analytics$0_1$events$$);$listener$jscomp$74$$(new $AnalyticsEvent$$module$extensions$amp_analytics$0_1$events$$($target$jscomp$143$$,"click",$params$jscomp$22$$))};
_.$$jscomp$inherits$$($ScrollEventTracker$$module$extensions$amp_analytics$0_1$events$$,$EventTracker$$module$extensions$amp_analytics$0_1$events$$);
$ScrollEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.$dispose$=function(){if(null!==this.$F$){var $JSCompiler_StaticMethods_removeScrollHandler$self$jscomp$inline_2584$$=$JSCompiler_StaticMethods_getScrollManager$$(this.$G$);$JSCompiler_StaticMethods_removeScrollHandler$self$jscomp$inline_2584$$.$G$.remove(this.$F$);0>=_.$JSCompiler_StaticMethods_getHandlerCount$$($JSCompiler_StaticMethods_removeScrollHandler$self$jscomp$inline_2584$$.$G$)&&$JSCompiler_StaticMethods_removeScrollHandler$self$jscomp$inline_2584$$.$F$&&
($JSCompiler_StaticMethods_removeScrollHandler$self$jscomp$inline_2584$$.$F$(),$JSCompiler_StaticMethods_removeScrollHandler$self$jscomp$inline_2584$$.$F$=null);this.$F$=null}};
$ScrollEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.add=function($boundsV_context$jscomp$25_scrollEvent$jscomp$inline_2590_size$jscomp$inline_2589$$,$eventType$jscomp$36$$,$boundsH_config$jscomp$38_handler$jscomp$inline_2588$$,$JSCompiler_StaticMethods_addScrollHandler$self$jscomp$inline_2587_listener$jscomp$75$$){if(!$boundsH_config$jscomp$38_handler$jscomp$inline_2588$$.scrollSpec)return _.$user$$module$src$log$$().error("amp-analytics/events","Missing scrollSpec on scroll trigger."),
$NO_UNLISTEN$$module$extensions$amp_analytics$0_1$events$$;if(!Array.isArray($boundsH_config$jscomp$38_handler$jscomp$inline_2588$$.scrollSpec.verticalBoundaries)&&!Array.isArray($boundsH_config$jscomp$38_handler$jscomp$inline_2588$$.scrollSpec.horizontalBoundaries))return _.$user$$module$src$log$$().error("amp-analytics/events","Boundaries are required for the scroll trigger to work."),$NO_UNLISTEN$$module$extensions$amp_analytics$0_1$events$$;$boundsV_context$jscomp$25_scrollEvent$jscomp$inline_2590_size$jscomp$inline_2589$$=
$JSCompiler_StaticMethods_normalizeBoundaries_$$($boundsH_config$jscomp$38_handler$jscomp$inline_2588$$.scrollSpec.verticalBoundaries);$boundsH_config$jscomp$38_handler$jscomp$inline_2588$$=$JSCompiler_StaticMethods_normalizeBoundaries_$$($boundsH_config$jscomp$38_handler$jscomp$inline_2588$$.scrollSpec.horizontalBoundaries);this.$F$=this.$H$.bind(this,$boundsV_context$jscomp$25_scrollEvent$jscomp$inline_2590_size$jscomp$inline_2589$$,$boundsH_config$jscomp$38_handler$jscomp$inline_2588$$,$JSCompiler_StaticMethods_addScrollHandler$self$jscomp$inline_2587_listener$jscomp$75$$);
$JSCompiler_StaticMethods_addScrollHandler$self$jscomp$inline_2587_listener$jscomp$75$$=$JSCompiler_StaticMethods_getScrollManager$$(this.$G$);$boundsH_config$jscomp$38_handler$jscomp$inline_2588$$=this.$F$;$boundsV_context$jscomp$25_scrollEvent$jscomp$inline_2590_size$jscomp$inline_2589$$=$JSCompiler_StaticMethods_addScrollHandler$self$jscomp$inline_2587_listener$jscomp$75$$.$D$.$getSize$();$boundsV_context$jscomp$25_scrollEvent$jscomp$inline_2590_size$jscomp$inline_2589$$={top:_.$JSCompiler_StaticMethods_Viewport$$module$src$service$viewport$viewport_impl_prototype$getScrollTop$$($JSCompiler_StaticMethods_addScrollHandler$self$jscomp$inline_2587_listener$jscomp$75$$.$D$),
left:$JSCompiler_StaticMethods_addScrollHandler$self$jscomp$inline_2587_listener$jscomp$75$$.$D$.getScrollLeft(),width:$boundsV_context$jscomp$25_scrollEvent$jscomp$inline_2590_size$jscomp$inline_2589$$.width,height:$boundsV_context$jscomp$25_scrollEvent$jscomp$inline_2590_size$jscomp$inline_2589$$.height,scrollWidth:$JSCompiler_StaticMethods_addScrollHandler$self$jscomp$inline_2587_listener$jscomp$75$$.$D$.getScrollWidth(),scrollHeight:$JSCompiler_StaticMethods_addScrollHandler$self$jscomp$inline_2587_listener$jscomp$75$$.$D$.$getScrollHeight$()};
$boundsH_config$jscomp$38_handler$jscomp$inline_2588$$($boundsV_context$jscomp$25_scrollEvent$jscomp$inline_2590_size$jscomp$inline_2589$$);0===_.$JSCompiler_StaticMethods_getHandlerCount$$($JSCompiler_StaticMethods_addScrollHandler$self$jscomp$inline_2587_listener$jscomp$75$$.$G$)&&($JSCompiler_StaticMethods_addScrollHandler$self$jscomp$inline_2587_listener$jscomp$75$$.$F$=_.$JSCompiler_StaticMethods_onChanged$$($JSCompiler_StaticMethods_addScrollHandler$self$jscomp$inline_2587_listener$jscomp$75$$.$D$,
$JSCompiler_StaticMethods_addScrollHandler$self$jscomp$inline_2587_listener$jscomp$75$$.$H$.bind($JSCompiler_StaticMethods_addScrollHandler$self$jscomp$inline_2587_listener$jscomp$75$$)));return $JSCompiler_StaticMethods_addScrollHandler$self$jscomp$inline_2587_listener$jscomp$75$$.$G$.add($boundsH_config$jscomp$38_handler$jscomp$inline_2588$$)};
$ScrollEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.$H$=function($boundsV$jscomp$1$$,$boundsH$jscomp$1$$,$listener$jscomp$76$$,$e$jscomp$121$$){$JSCompiler_StaticMethods_triggerScrollEvents_$$(this,$boundsV$jscomp$1$$,100*($e$jscomp$121$$.top+$e$jscomp$121$$.height)/$e$jscomp$121$$.scrollHeight,"verticalScrollBoundary",$listener$jscomp$76$$);$JSCompiler_StaticMethods_triggerScrollEvents_$$(this,$boundsH$jscomp$1$$,100*($e$jscomp$121$$.left+$e$jscomp$121$$.width)/$e$jscomp$121$$.scrollWidth,
"horizontalScrollBoundary",$listener$jscomp$76$$)};_.$$jscomp$inherits$$($SignalTracker$$module$extensions$amp_analytics$0_1$events$$,$EventTracker$$module$extensions$amp_analytics$0_1$events$$);$SignalTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.$dispose$=function(){};
$SignalTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.add=function($context$jscomp$26_signalsPromise$$,$eventType$jscomp$37$$,$config$jscomp$39$$,$listener$jscomp$78$$){var $$jscomp$this$jscomp$387$$=this,$selector$jscomp$23$$=$config$jscomp$39$$.selector||":root";if(":root"==$selector$jscomp$23$$||":host"==$selector$jscomp$23$$){var $target$jscomp$144$$=this.$D$.$getRootElement$();$context$jscomp$26_signalsPromise$$=this.$getRootSignal$($eventType$jscomp$37$$)}else $context$jscomp$26_signalsPromise$$=
$JSCompiler_StaticMethods_getAmpElement$$(this.$D$,$context$jscomp$26_signalsPromise$$.parentElement||$context$jscomp$26_signalsPromise$$,$selector$jscomp$23$$,$config$jscomp$39$$.selectionMethod).then(function($context$jscomp$26_signalsPromise$$){$target$jscomp$144$$=$context$jscomp$26_signalsPromise$$;return $$jscomp$this$jscomp$387$$.$getElementSignal$($eventType$jscomp$37$$,$target$jscomp$144$$)});$context$jscomp$26_signalsPromise$$.then(function(){$listener$jscomp$78$$(new $AnalyticsEvent$$module$extensions$amp_analytics$0_1$events$$($target$jscomp$144$$,
$eventType$jscomp$37$$))});return $NO_UNLISTEN$$module$extensions$amp_analytics$0_1$events$$};$SignalTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.$getRootSignal$=function($eventType$jscomp$38$$){return this.$D$.signals().whenSignal($eventType$jscomp$38$$)};$SignalTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.$getElementSignal$=function($eventType$jscomp$39$$,$element$jscomp$329$$){return"function"!=typeof $element$jscomp$329$$.signals?Promise.resolve():$element$jscomp$329$$.signals().whenSignal($eventType$jscomp$39$$)};
_.$$jscomp$inherits$$($IniLoadTracker$$module$extensions$amp_analytics$0_1$events$$,$EventTracker$$module$extensions$amp_analytics$0_1$events$$);$IniLoadTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.$dispose$=function(){};
$IniLoadTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.add=function($context$jscomp$27_promise$jscomp$35$$,$eventType$jscomp$40$$,$config$jscomp$40$$,$listener$jscomp$79$$){var $$jscomp$this$jscomp$388$$=this,$selector$jscomp$24$$=$config$jscomp$40$$.selector||":root";if(":root"==$selector$jscomp$24$$||":host"==$selector$jscomp$24$$){var $target$jscomp$145$$=this.$D$.$getRootElement$();$context$jscomp$27_promise$jscomp$35$$=this.$getRootSignal$()}else $context$jscomp$27_promise$jscomp$35$$=
$JSCompiler_StaticMethods_getAmpElement$$(this.$D$,$context$jscomp$27_promise$jscomp$35$$.parentElement||$context$jscomp$27_promise$jscomp$35$$,$selector$jscomp$24$$,$config$jscomp$40$$.selectionMethod).then(function($context$jscomp$27_promise$jscomp$35$$){$target$jscomp$145$$=$context$jscomp$27_promise$jscomp$35$$;return $$jscomp$this$jscomp$388$$.$getElementSignal$("ini-load",$target$jscomp$145$$)});$context$jscomp$27_promise$jscomp$35$$.then(function(){$listener$jscomp$79$$(new $AnalyticsEvent$$module$extensions$amp_analytics$0_1$events$$($target$jscomp$145$$,
$eventType$jscomp$40$$))});return $NO_UNLISTEN$$module$extensions$amp_analytics$0_1$events$$};$IniLoadTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.$getRootSignal$=function(){return this.$D$.$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root_prototype$whenIniLoaded$()};
$IniLoadTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.$getElementSignal$=function($signals$jscomp$2_unusedEventType$jscomp$3$$,$element$jscomp$331$$){if("function"!=typeof $element$jscomp$331$$.signals)return Promise.resolve();$signals$jscomp$2_unusedEventType$jscomp$3$$=$element$jscomp$331$$.signals();return Promise.race([$signals$jscomp$2_unusedEventType$jscomp$3$$.whenSignal("ini-load"),$signals$jscomp$2_unusedEventType$jscomp$3$$.whenSignal("load-end")])};
$TimerEventHandler$$module$extensions$amp_analytics$0_1$events$$.prototype.init=function($startTimer$$){this.$G$?this.$G$&&(this.$H$=this.$G$()):$startTimer$$()};$TimerEventHandler$$module$extensions$amp_analytics$0_1$events$$.prototype.$dispose$=function(){this.$F$&&(this.$F$(),this.$F$=null);$JSCompiler_StaticMethods_unlistenForStart_$$(this)};_.$$jscomp$inherits$$($TimerEventTracker$$module$extensions$amp_analytics$0_1$events$$,$EventTracker$$module$extensions$amp_analytics$0_1$events$$);
_.$JSCompiler_prototypeAlias$$=$TimerEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype;_.$JSCompiler_prototypeAlias$$.$dispose$=function(){var $$jscomp$this$jscomp$389$$=this;Object.keys(this.$F$).forEach(function($timerId$$){$$jscomp$this$jscomp$389$$.$removeTracker_$($timerId$$)})};
_.$JSCompiler_prototypeAlias$$.add=function($context$jscomp$28_timerHandler$$,$eventType$jscomp$41$$,$config$jscomp$41_timerSpec$jscomp$1$$,$listener$jscomp$80$$){var $$jscomp$this$jscomp$390$$=this;$config$jscomp$41_timerSpec$jscomp$1$$=$config$jscomp$41_timerSpec$jscomp$1$$.timerSpec;var $timerStart$$="startSpec"in $config$jscomp$41_timerSpec$jscomp$1$$?$config$jscomp$41_timerSpec$jscomp$1$$.startSpec:null,$timerStop$$="stopSpec"in $config$jscomp$41_timerSpec$jscomp$1$$?$config$jscomp$41_timerSpec$jscomp$1$$.stopSpec:
null,$timerId$jscomp$1$$=++this.$G$;if($timerStart$$){var $startBuilder_startTracker$$=$JSCompiler_StaticMethods_getTracker_$$(this,$timerStart$$);$startBuilder_startTracker$$=$startBuilder_startTracker$$.add.bind($startBuilder_startTracker$$,$context$jscomp$28_timerHandler$$,$timerStart$$.on,$timerStart$$,this.$handleTimerToggle_$.bind(this,$timerId$jscomp$1$$,$eventType$jscomp$41$$,$listener$jscomp$80$$))}if($timerStop$$){var $stopBuilder_stopTracker$$=$JSCompiler_StaticMethods_getTracker_$$(this,
$timerStop$$);$stopBuilder_stopTracker$$=$stopBuilder_stopTracker$$.add.bind($stopBuilder_stopTracker$$,$context$jscomp$28_timerHandler$$,$timerStop$$.on,$timerStop$$,this.$handleTimerToggle_$.bind(this,$timerId$jscomp$1$$,$eventType$jscomp$41$$,$listener$jscomp$80$$))}$context$jscomp$28_timerHandler$$=new $TimerEventHandler$$module$extensions$amp_analytics$0_1$events$$($config$jscomp$41_timerSpec$jscomp$1$$,$startBuilder_startTracker$$,$stopBuilder_stopTracker$$);this.$F$[$timerId$jscomp$1$$]=$context$jscomp$28_timerHandler$$;
$context$jscomp$28_timerHandler$$.init(this.$startTimer_$.bind(this,$timerId$jscomp$1$$,$eventType$jscomp$41$$,$listener$jscomp$80$$));return function(){$$jscomp$this$jscomp$390$$.$removeTracker_$($timerId$jscomp$1$$)}};
_.$JSCompiler_prototypeAlias$$.$handleTimerToggle_$=function($timerId$jscomp$2$$,$eventType$jscomp$43$$,$listener$jscomp$81$$){var $timerHandler$jscomp$1$$=this.$F$[$timerId$jscomp$2$$];$timerHandler$jscomp$1$$&&($timerHandler$jscomp$1$$.$D$?$JSCompiler_StaticMethods_TimerEventHandler$$module$extensions$amp_analytics$0_1$events_prototype$stopTimer_$$(this.$F$[$timerId$jscomp$2$$],this.$D$.ampdoc.$win$):this.$startTimer_$($timerId$jscomp$2$$,$eventType$jscomp$43$$,$listener$jscomp$81$$))};
_.$JSCompiler_prototypeAlias$$.$startTimer_$=function($timerId$jscomp$3$$,$eventType$jscomp$44$$,$listener$jscomp$82$$){var $$jscomp$this$jscomp$391$$=this;$JSCompiler_StaticMethods_startIntervalInWindow$$(this.$F$[$timerId$jscomp$3$$],this.$D$.ampdoc.$win$,function(){var $JSCompiler_temp_const$jscomp$5929$$=$$jscomp$this$jscomp$391$$.$D$.$getRootElement$(),$JSCompiler_StaticMethods_getTimerVars$self$jscomp$inline_6395$$=$$jscomp$this$jscomp$391$$.$F$[$timerId$jscomp$3$$],$timerDuration$jscomp$inline_6396$$=
0;$JSCompiler_StaticMethods_getTimerVars$self$jscomp$inline_6395$$.$D$&&($timerDuration$jscomp$inline_6396$$=$JSCompiler_StaticMethods_getTimerVars$self$jscomp$inline_6395$$.$I$?Date.now()-($JSCompiler_StaticMethods_getTimerVars$self$jscomp$inline_6395$$.$J$||$JSCompiler_StaticMethods_getTimerVars$self$jscomp$inline_6395$$.$I$):0,$JSCompiler_StaticMethods_getTimerVars$self$jscomp$inline_6395$$.$J$=Date.now());$listener$jscomp$82$$(new $AnalyticsEvent$$module$extensions$amp_analytics$0_1$events$$($JSCompiler_temp_const$jscomp$5929$$,
$eventType$jscomp$44$$,_.$dict$$module$src$utils$object$$({timerDuration:$timerDuration$jscomp$inline_6396$$,timerStart:$JSCompiler_StaticMethods_getTimerVars$self$jscomp$inline_6395$$.$I$||0})))},this.$removeTracker_$.bind(this,$timerId$jscomp$3$$))};
_.$JSCompiler_prototypeAlias$$.$removeTracker_$=function($timerId$jscomp$6$$){this.$F$[$timerId$jscomp$6$$]&&($JSCompiler_StaticMethods_TimerEventHandler$$module$extensions$amp_analytics$0_1$events_prototype$stopTimer_$$(this.$F$[$timerId$jscomp$6$$],this.$D$.ampdoc.$win$),this.$F$[$timerId$jscomp$6$$].$dispose$(),delete this.$F$[$timerId$jscomp$6$$])};_.$$jscomp$inherits$$($VideoEventTracker$$module$extensions$amp_analytics$0_1$events$$,$EventTracker$$module$extensions$amp_analytics$0_1$events$$);
$VideoEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.$dispose$=function(){var $$jscomp$this$jscomp$393$$=this,$root$jscomp$55$$=this.$D$.$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root_prototype$getRoot$();Object.keys($VideoAnalyticsEvents$$module$src$video_interface$$).forEach(function($key$jscomp$103$$){$root$jscomp$55$$.removeEventListener($VideoAnalyticsEvents$$module$src$video_interface$$[$key$jscomp$103$$],$$jscomp$this$jscomp$393$$.$G$)});this.$F$=this.$G$=
null};
$VideoEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.add=function($context$jscomp$29$$,$eventType$jscomp$46_videoSpec$$,$config$jscomp$43$$,$listener$jscomp$83$$){$eventType$jscomp$46_videoSpec$$=$config$jscomp$43$$.videoSpec||{};var $targetReady$jscomp$1$$=this.$D$.$getElement$($context$jscomp$29$$,$config$jscomp$43$$.selector||$eventType$jscomp$46_videoSpec$$.selector,$config$jscomp$43$$.selectionMethod||null),$endSessionWhenInvisible$$=$eventType$jscomp$46_videoSpec$$["end-session-when-invisible"],$excludeAutoplay$$=
$eventType$jscomp$46_videoSpec$$["exclude-autoplay"],$interval$jscomp$6$$=$eventType$jscomp$46_videoSpec$$.interval,$percentages$$=$eventType$jscomp$46_videoSpec$$.percentages,$on$jscomp$9$$=$config$jscomp$43$$.on,$intervalCounter$$=0,$lastPercentage$$=0;return this.$F$.add(function($context$jscomp$29$$){var $eventType$jscomp$46_videoSpec$$=$context$jscomp$29$$.type,$config$jscomp$43$$="video-session-visible"===$eventType$jscomp$46_videoSpec$$,$event$jscomp$82$$=$config$jscomp$43$$?"video-session":
$eventType$jscomp$46_videoSpec$$,$details$jscomp$3$$=$context$jscomp$29$$.data;if($event$jscomp$82$$===$on$jscomp$9$$)if("video-seconds-played"!==$event$jscomp$82$$||$interval$jscomp$6$$){if("video-seconds-played"===$event$jscomp$82$$&&($intervalCounter$$++,0!==$intervalCounter$$%$interval$jscomp$6$$))return;if("video-percentage-played"===$event$jscomp$82$$){if(!$percentages$$){_.$user$$module$src$log$$().error("amp-analytics/events","video-percentage-played requires percentages spec.");return}for($eventType$jscomp$46_videoSpec$$=
0;$eventType$jscomp$46_videoSpec$$<$percentages$$.length;$eventType$jscomp$46_videoSpec$$++){var $percentage$jscomp$1$$=$percentages$$[$eventType$jscomp$46_videoSpec$$];if(0>=$percentage$jscomp$1$$||0!=$percentage$jscomp$1$$%5){_.$user$$module$src$log$$().error("amp-analytics/events","Percentages must be set in increments of %s with non-zero values",5);return}}$eventType$jscomp$46_videoSpec$$=parseInt($details$jscomp$3$$.normalizedPercentage,10);if($lastPercentage$$==$eventType$jscomp$46_videoSpec$$||
0>$percentages$$.indexOf($eventType$jscomp$46_videoSpec$$))return;$lastPercentage$$=$eventType$jscomp$46_videoSpec$$}if(!$config$jscomp$43$$||$endSessionWhenInvisible$$)if(!$excludeAutoplay$$||"playing_auto"!==$details$jscomp$3$$.state){var $el$jscomp$42$$=$context$jscomp$29$$.target;$targetReady$jscomp$1$$.then(function($context$jscomp$29$$){$context$jscomp$29$$.contains($el$jscomp$42$$)&&$listener$jscomp$83$$(new $AnalyticsEvent$$module$extensions$amp_analytics$0_1$events$$($context$jscomp$29$$,
$event$jscomp$82$$,$details$jscomp$3$$))})}}else _.$user$$module$src$log$$().error("amp-analytics/events","video-seconds-played requires interval spec with non-zero value")})};_.$$jscomp$inherits$$($VisibilityTracker$$module$extensions$amp_analytics$0_1$events$$,$EventTracker$$module$extensions$amp_analytics$0_1$events$$);_.$JSCompiler_prototypeAlias$$=$VisibilityTracker$$module$extensions$amp_analytics$0_1$events$$.prototype;_.$JSCompiler_prototypeAlias$$.$dispose$=function(){};
_.$JSCompiler_prototypeAlias$$.add=function($context$jscomp$30$$,$eventType$jscomp$47$$,$config$jscomp$44$$,$listener$jscomp$84$$){var $$jscomp$this$jscomp$394$$=this,$visibilitySpec$$=$config$jscomp$44$$.visibilitySpec||{},$selector$jscomp$26$$=$config$jscomp$44$$.selector||$visibilitySpec$$.selector,$waitForSpec$$=$visibilitySpec$$.waitFor,$reportWhenSpec$$=$visibilitySpec$$.reportWhen,$createReportReadyPromiseFunc$$=null;"hidden"==$eventType$jscomp$47$$&&($reportWhenSpec$$&&_.$user$$module$src$log$$().error("amp-analytics/events",
'ReportWhen should not be defined when eventType is "hidden"'),$reportWhenSpec$$="documentHidden");var $visibilityManagerPromise$$=$JSCompiler_StaticMethods_isUsingHostAPI$$(this.$D$).then(function(){return $JSCompiler_StaticMethods_getVisibilityManager$$($$jscomp$this$jscomp$394$$.$D$)});"documentHidden"==$reportWhenSpec$$?$createReportReadyPromiseFunc$$=this.$createReportReadyPromiseForDocumentHidden_$.bind(this):"documentExit"==$reportWhenSpec$$&&($createReportReadyPromiseFunc$$=this.$createReportReadyPromiseForDocumentExit_$.bind(this));
var $unlistenPromise$$=$selector$jscomp$26$$&&":root"!=$selector$jscomp$26$$&&":host"!=$selector$jscomp$26$$?$JSCompiler_StaticMethods_getAmpElement$$(this.$D$,$context$jscomp$30$$.parentElement||$context$jscomp$30$$,$selector$jscomp$26$$,$config$jscomp$44$$.selectionMethod||$visibilitySpec$$.selectionMethod).then(function($context$jscomp$30$$){return $visibilityManagerPromise$$.then(function($config$jscomp$44$$){return $config$jscomp$44$$.$listenElement$($context$jscomp$30$$,$visibilitySpec$$,$JSCompiler_StaticMethods_VisibilityTracker$$module$extensions$amp_analytics$0_1$events_prototype$getReadyPromise$$($$jscomp$this$jscomp$394$$,
$waitForSpec$$,$selector$jscomp$26$$,$context$jscomp$30$$),$createReportReadyPromiseFunc$$,$$jscomp$this$jscomp$394$$.$onEvent_$.bind($$jscomp$this$jscomp$394$$,$eventType$jscomp$47$$,$listener$jscomp$84$$,$context$jscomp$30$$))},function(){})}):$visibilityManagerPromise$$.then(function($context$jscomp$30$$){var $config$jscomp$44$$=$JSCompiler_StaticMethods_VisibilityTracker$$module$extensions$amp_analytics$0_1$events_prototype$getReadyPromise$$($$jscomp$this$jscomp$394$$,$waitForSpec$$,$selector$jscomp$26$$),
$reportWhenSpec$$=$createReportReadyPromiseFunc$$,$unlistenPromise$$=$$jscomp$this$jscomp$394$$.$onEvent_$.bind($$jscomp$this$jscomp$394$$,$eventType$jscomp$47$$,$listener$jscomp$84$$,$$jscomp$this$jscomp$394$$.$D$.$getRootElement$()),$visibilityManagerPromise$$=$context$jscomp$30$$.$getRootVisibility$.bind($context$jscomp$30$$);return $JSCompiler_StaticMethods_createModelAndListen_$$($context$jscomp$30$$,$visibilityManagerPromise$$,$visibilitySpec$$,$config$jscomp$44$$,$reportWhenSpec$$,$unlistenPromise$$)},
function(){});return function(){$unlistenPromise$$.then(function($context$jscomp$30$$){$context$jscomp$30$$()})}};
_.$JSCompiler_prototypeAlias$$.$createReportReadyPromiseForDocumentHidden_$=function(){var $viewer$jscomp$34$$=_.$Services$$module$src$services$viewerForDoc$$(this.$D$.ampdoc);return _.$JSCompiler_StaticMethods_Viewer$$module$src$service$viewer_impl_prototype$isVisible$$($viewer$jscomp$34$$)?new Promise(function($resolve$jscomp$57$$){_.$JSCompiler_StaticMethods_Viewer$$module$src$service$viewer_impl_prototype$onVisibilityChanged$$($viewer$jscomp$34$$,function(){_.$JSCompiler_StaticMethods_Viewer$$module$src$service$viewer_impl_prototype$isVisible$$($viewer$jscomp$34$$)||
$resolve$jscomp$57$$()})}):Promise.resolve()};
_.$JSCompiler_prototypeAlias$$.$createReportReadyPromiseForDocumentExit_$=function(){var $deferred$jscomp$30$$=new _.$Deferred$$module$src$utils$promise$$,$win$jscomp$314$$=this.$D$.ampdoc.$win$,$unloadListener$$,$pageHideListener$$;$win$jscomp$314$$.addEventListener("unload",$unloadListener$$=function(){$win$jscomp$314$$.removeEventListener("unload",$unloadListener$$);$deferred$jscomp$30$$.resolve()});$win$jscomp$314$$.addEventListener("pagehide",$pageHideListener$$=function(){$win$jscomp$314$$.removeEventListener("pagehide",
$pageHideListener$$);$deferred$jscomp$30$$.resolve()});return $deferred$jscomp$30$$.$promise$};
_.$JSCompiler_prototypeAlias$$.$onEvent_$=function($eventType$jscomp$48$$,$listener$jscomp$85$$,$target$jscomp$147$$,$state$jscomp$44$$){var $attr$jscomp$14$$=_.$getDataParamsFromAttributes$$module$src$dom$$($target$jscomp$147$$,void 0,$VARIABLE_DATA_ATTRIBUTE_KEY$$module$extensions$amp_analytics$0_1$events$$),$key$jscomp$104$$;for($key$jscomp$104$$ in $attr$jscomp$14$$)$state$jscomp$44$$[$key$jscomp$104$$]=$attr$jscomp$14$$[$key$jscomp$104$$];$listener$jscomp$85$$(new $AnalyticsEvent$$module$extensions$amp_analytics$0_1$events$$($target$jscomp$147$$,
$eventType$jscomp$48$$,$state$jscomp$44$$))};$AnalyticsGroup$$module$extensions$amp_analytics$0_1$analytics_group$$.prototype.$dispose$=function(){this.$D$.forEach(function($listener$jscomp$86$$){$listener$jscomp$86$$()})};$ScrollManager$$module$extensions$amp_analytics$0_1$scroll_manager$$.prototype.$dispose$=function(){_.$JSCompiler_StaticMethods_removeAll$$(this.$G$);this.$F$&&(this.$F$(),this.$F$=null)};
$ScrollManager$$module$extensions$amp_analytics$0_1$scroll_manager$$.prototype.$H$=function($e$jscomp$122_scrollEvent$jscomp$1$$){$e$jscomp$122_scrollEvent$jscomp$1$$={top:$e$jscomp$122_scrollEvent$jscomp$1$$.top,left:$e$jscomp$122_scrollEvent$jscomp$1$$.left,width:$e$jscomp$122_scrollEvent$jscomp$1$$.width,height:$e$jscomp$122_scrollEvent$jscomp$1$$.height,scrollWidth:this.$D$.getScrollWidth(),scrollHeight:this.$D$.$getScrollHeight$()};this.$G$.$fire$($e$jscomp$122_scrollEvent$jscomp$1$$)};_.$JSCompiler_prototypeAlias$$=$VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model$$.prototype;
_.$JSCompiler_prototypeAlias$$.$reset_$=function(){var $$jscomp$this$jscomp$396$$=this,$deferred$jscomp$32$$=new _.$Deferred$$module$src$utils$promise$$;this.$V$=$deferred$jscomp$32$$.$promise$;this.$K$=$deferred$jscomp$32$$.resolve;this.$V$.then(function(){$$jscomp$this$jscomp$396$$.$J$.$fire$()});this.$Y$=null;this.$M$=this.$aa$=!1;this.$O$=this.$X$=this.$P$=this.$S$=this.$ba$=this.$W$=this.$R$=this.$G$=this.$I$=this.$H$=0;this.$ga$=!1};
_.$JSCompiler_prototypeAlias$$.$dispose$=function(){this.$D$&&(clearTimeout(this.$D$),this.$D$=null);this.$Y$&&(clearTimeout(this.$Y$),this.$Y$=null);this.$Z$.forEach(function($unsubscribe$$){$unsubscribe$$()});this.$Z$.length=0;this.$K$=null;this.$J$&&(_.$JSCompiler_StaticMethods_removeAll$$(this.$J$),this.$J$=null)};_.$JSCompiler_prototypeAlias$$.unsubscribe=function($handler$jscomp$42$$){this.$Z$.push($handler$jscomp$42$$)};
_.$JSCompiler_prototypeAlias$$.update=function(){$JSCompiler_StaticMethods_VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model_prototype$update_$$(this,this.$ha$?this.$ma$():0)};
_.$JSCompiler_prototypeAlias$$.getState=function($startTime$jscomp$18$$){return _.$dict$$module$src$utils$object$$({firstSeenTime:$timeBase$$module$extensions$amp_analytics$0_1$visibility_model$$(this.$W$,$startTime$jscomp$18$$),lastSeenTime:$timeBase$$module$extensions$amp_analytics$0_1$visibility_model$$(this.$ba$,$startTime$jscomp$18$$),lastVisibleTime:$timeBase$$module$extensions$amp_analytics$0_1$visibility_model$$(this.$S$,$startTime$jscomp$18$$),firstVisibleTime:$timeBase$$module$extensions$amp_analytics$0_1$visibility_model$$(this.$R$,
$startTime$jscomp$18$$),maxContinuousVisibleTime:this.$I$,totalVisibleTime:this.$G$,loadTimeVisibility:100*this.$ea$||0,minVisiblePercentage:100*this.$P$,maxVisiblePercentage:100*this.$X$})};var $visibilityIdCounter$$module$extensions$amp_analytics$0_1$visibility_manager$$=1;_.$JSCompiler_prototypeAlias$$=$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$.prototype;
_.$JSCompiler_prototypeAlias$$.$dispose$=function(){this.$setRootVisibility$(0);for(var $i$248_i$jscomp$211$$=this.$G$.length-1;0<=$i$248_i$jscomp$211$$;$i$248_i$jscomp$211$$--)this.$G$[$i$248_i$jscomp$211$$].$dispose$();this.$M$.forEach(function($i$248_i$jscomp$211$$){$i$248_i$jscomp$211$$()});this.$M$.length=0;this.parent&&$JSCompiler_StaticMethods_removeChild_$$(this.parent,this);if(this.$D$)for($i$248_i$jscomp$211$$=0;$i$248_i$jscomp$211$$<this.$D$.length;$i$248_i$jscomp$211$$++)this.$D$[$i$248_i$jscomp$211$$].$dispose$()};
_.$JSCompiler_prototypeAlias$$.unsubscribe=function($handler$jscomp$44$$){this.$M$.push($handler$jscomp$44$$)};_.$JSCompiler_prototypeAlias$$.$getRootVisibility$=function(){return this.parent?0<this.parent.$getRootVisibility$()?this.$O$:0:this.$O$};
_.$JSCompiler_prototypeAlias$$.$setRootVisibility$=function($i$jscomp$212_visibility$jscomp$4$$){this.$O$=$i$jscomp$212_visibility$jscomp$4$$;$JSCompiler_StaticMethods_updateModels_$$(this);if(this.$D$)for($i$jscomp$212_visibility$jscomp$4$$=0;$i$jscomp$212_visibility$jscomp$4$$<this.$D$.length;$i$jscomp$212_visibility$jscomp$4$$++)$JSCompiler_StaticMethods_updateModels_$$(this.$D$[$i$jscomp$212_visibility$jscomp$4$$])};
_.$JSCompiler_prototypeAlias$$.$listenElement$=function($element$jscomp$335$$,$spec$jscomp$13$$,$readyPromise$jscomp$2$$,$createReportPromiseFunc$jscomp$1$$,$callback$jscomp$114$$){var $calcVisibility$jscomp$2$$=this.$getElementVisibility$.bind(this,$element$jscomp$335$$);return $JSCompiler_StaticMethods_createModelAndListen_$$(this,$calcVisibility$jscomp$2$$,$spec$jscomp$13$$,$readyPromise$jscomp$2$$,$createReportPromiseFunc$jscomp$1$$,$callback$jscomp$114$$,$element$jscomp$335$$)};
_.$$jscomp$inherits$$($VisibilityManagerForDoc$$module$extensions$amp_analytics$0_1$visibility_manager$$,$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$);_.$JSCompiler_prototypeAlias$$=$VisibilityManagerForDoc$$module$extensions$amp_analytics$0_1$visibility_manager$$.prototype;
_.$JSCompiler_prototypeAlias$$.$dispose$=function(){$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$.prototype.$dispose$.call(this);this.$F$&&(this.$F$.disconnect(),this.$F$=null)};_.$JSCompiler_prototypeAlias$$.$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$getStartTime$=function(){return this.$I$.$M$};_.$JSCompiler_prototypeAlias$$.$isBackgrounded$=function(){return this.$P$};
_.$JSCompiler_prototypeAlias$$.$isBackgroundedAtStart$=function(){return this.$R$};_.$JSCompiler_prototypeAlias$$.$getRootMinOpacity$=function(){var $root$jscomp$59$$=this.ampdoc.getRootNode();return $getMinOpacity$$module$extensions$amp_analytics$0_1$opacity$$($root$jscomp$59$$.documentElement||$root$jscomp$59$$.body||$root$jscomp$59$$)};
_.$JSCompiler_prototypeAlias$$.$getRootLayoutBox$=function(){var $root$jscomp$60$$=this.ampdoc.getRootNode();return this.$J$.$getLayoutRect$($root$jscomp$60$$.documentElement||$root$jscomp$60$$.body||$root$jscomp$60$$)};
_.$JSCompiler_prototypeAlias$$.observe=function($element$jscomp$336$$,$listener$jscomp$87$$){var $$jscomp$this$jscomp$401$$=this;$JSCompiler_StaticMethods_polyfillAmpElementIfNeeded_$$(this,$element$jscomp$336$$);var $id$jscomp$57$$=$getElementId$$module$extensions$amp_analytics$0_1$visibility_manager$$($element$jscomp$336$$),$trackedElement$$=this.$H$[$id$jscomp$57$$];$trackedElement$$?0<$trackedElement$$.intersectionRatio&&$listener$jscomp$87$$($trackedElement$$.intersectionRatio):($trackedElement$$=
{element:$element$jscomp$336$$,intersectionRatio:0,intersectionRect:null,$listeners$:[]},this.$H$[$id$jscomp$57$$]=$trackedElement$$);$trackedElement$$.$listeners$.push($listener$jscomp$87$$);this.$F$||(this.$F$=$JSCompiler_StaticMethods_createIntersectionObserver_$$(this));this.$F$.observe($element$jscomp$336$$);return function(){var $trackedElement$$=$$jscomp$this$jscomp$401$$.$H$[$id$jscomp$57$$];if($trackedElement$$){var $index$jscomp$107$$=$trackedElement$$.$listeners$.indexOf($listener$jscomp$87$$);
-1!=$index$jscomp$107$$&&$trackedElement$$.$listeners$.splice($index$jscomp$107$$,1);0==$trackedElement$$.$listeners$.length&&($$jscomp$this$jscomp$401$$.$F$.unobserve($element$jscomp$336$$),delete $$jscomp$this$jscomp$401$$.$H$[$id$jscomp$57$$])}}};
_.$JSCompiler_prototypeAlias$$.$getElementVisibility$=function($element$jscomp$337_id$jscomp$58_trackedElement$jscomp$2$$){if(0==this.$getRootVisibility$())return 0;$element$jscomp$337_id$jscomp$58_trackedElement$jscomp$2$$=$getElementId$$module$extensions$amp_analytics$0_1$visibility_manager$$($element$jscomp$337_id$jscomp$58_trackedElement$jscomp$2$$);return($element$jscomp$337_id$jscomp$58_trackedElement$jscomp$2$$=this.$H$[$element$jscomp$337_id$jscomp$58_trackedElement$jscomp$2$$])&&$element$jscomp$337_id$jscomp$58_trackedElement$jscomp$2$$.intersectionRatio||
0};
_.$JSCompiler_prototypeAlias$$.$getElementIntersectionRect$=function($element$jscomp$338_id$jscomp$59_trackedElement$jscomp$3$$){if(0>=this.$getElementVisibility$($element$jscomp$338_id$jscomp$59_trackedElement$jscomp$3$$))return null;$element$jscomp$338_id$jscomp$59_trackedElement$jscomp$3$$=$getElementId$$module$extensions$amp_analytics$0_1$visibility_manager$$($element$jscomp$338_id$jscomp$59_trackedElement$jscomp$3$$);return($element$jscomp$338_id$jscomp$59_trackedElement$jscomp$3$$=this.$H$[$element$jscomp$338_id$jscomp$59_trackedElement$jscomp$3$$])?$element$jscomp$338_id$jscomp$59_trackedElement$jscomp$3$$.intersectionRect:
null};
_.$JSCompiler_prototypeAlias$$.$onIntersectionChanges_$=function($entries$jscomp$3$$){var $$jscomp$this$jscomp$404$$=this;$entries$jscomp$3$$.forEach(function($entries$jscomp$3$$){var $change$jscomp$4_id$jscomp$inline_2644_trackedElement$jscomp$inline_2645$$=$entries$jscomp$3$$.intersectionRect;$change$jscomp$4_id$jscomp$inline_2644_trackedElement$jscomp$inline_2645$$=_.$layoutRectLtwh$$module$src$layout_rect$$(Number($change$jscomp$4_id$jscomp$inline_2644_trackedElement$jscomp$inline_2645$$.left),Number($change$jscomp$4_id$jscomp$inline_2644_trackedElement$jscomp$inline_2645$$.top),
Number($change$jscomp$4_id$jscomp$inline_2644_trackedElement$jscomp$inline_2645$$.width),Number($change$jscomp$4_id$jscomp$inline_2644_trackedElement$jscomp$inline_2645$$.height));var $intersectionRatio$jscomp$inline_2642$$=$entries$jscomp$3$$.intersectionRatio;$intersectionRatio$jscomp$inline_2642$$=Math.min(Math.max($intersectionRatio$jscomp$inline_2642$$,0),1);$entries$jscomp$3$$=$getElementId$$module$extensions$amp_analytics$0_1$visibility_manager$$($entries$jscomp$3$$.target);if($entries$jscomp$3$$=
$$jscomp$this$jscomp$404$$.$H$[$entries$jscomp$3$$])for($entries$jscomp$3$$.intersectionRatio=$intersectionRatio$jscomp$inline_2642$$,$entries$jscomp$3$$.intersectionRect=$change$jscomp$4_id$jscomp$inline_2644_trackedElement$jscomp$inline_2645$$,$change$jscomp$4_id$jscomp$inline_2644_trackedElement$jscomp$inline_2645$$=0;$change$jscomp$4_id$jscomp$inline_2644_trackedElement$jscomp$inline_2645$$<$entries$jscomp$3$$.$listeners$.length;$change$jscomp$4_id$jscomp$inline_2644_trackedElement$jscomp$inline_2645$$++)$entries$jscomp$3$$.$listeners$[$change$jscomp$4_id$jscomp$inline_2644_trackedElement$jscomp$inline_2645$$]($intersectionRatio$jscomp$inline_2642$$)})};
_.$$jscomp$inherits$$($VisibilityManagerForEmbed$$module$extensions$amp_analytics$0_1$visibility_manager$$,$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$);_.$JSCompiler_prototypeAlias$$=$VisibilityManagerForEmbed$$module$extensions$amp_analytics$0_1$visibility_manager$$.prototype;_.$JSCompiler_prototypeAlias$$.$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$getStartTime$=function(){return this.embed.$G$};
_.$JSCompiler_prototypeAlias$$.$isBackgrounded$=function(){return this.parent.$isBackgrounded$()};_.$JSCompiler_prototypeAlias$$.$isBackgroundedAtStart$=function(){return this.$F$};_.$JSCompiler_prototypeAlias$$.$getRootMinOpacity$=function(){return $getMinOpacity$$module$extensions$amp_analytics$0_1$opacity$$(this.embed.iframe)};_.$JSCompiler_prototypeAlias$$.$getRootLayoutBox$=function(){var $rootElement$jscomp$4$$=this.embed.iframe;return _.$Services$$module$src$services$viewportForDoc$$(this.ampdoc).$getLayoutRect$($rootElement$jscomp$4$$)};
_.$JSCompiler_prototypeAlias$$.observe=function($element$jscomp$340$$,$listener$jscomp$88$$){return this.parent.observe($element$jscomp$340$$,$listener$jscomp$88$$)};_.$JSCompiler_prototypeAlias$$.$getElementVisibility$=function($element$jscomp$341$$){return 0==this.$getRootVisibility$()?0:this.parent.$getElementVisibility$($element$jscomp$341$$)};_.$JSCompiler_prototypeAlias$$.$getElementIntersectionRect$=function($element$jscomp$342$$){return 0==this.$getRootVisibility$()?null:this.parent.$getElementIntersectionRect$($element$jscomp$342$$)};_.$$jscomp$inherits$$($VisibilityManagerForMApp$$module$extensions$amp_analytics$0_1$visibility_manager_for_mapp$$,$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$);_.$JSCompiler_prototypeAlias$$=$VisibilityManagerForMApp$$module$extensions$amp_analytics$0_1$visibility_manager_for_mapp$$.prototype;_.$JSCompiler_prototypeAlias$$.$dispose$=function(){$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$.prototype.$dispose$.call(this);this.$H$=!0};
_.$JSCompiler_prototypeAlias$$.$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager_prototype$getStartTime$=function(){return this.$F$.$M$};_.$JSCompiler_prototypeAlias$$.$isBackgrounded$=function(){return!_.$JSCompiler_StaticMethods_Viewer$$module$src$service$viewer_impl_prototype$isVisible$$(this.$F$)};_.$JSCompiler_prototypeAlias$$.$isBackgroundedAtStart$=function(){return this.$J$};
_.$JSCompiler_prototypeAlias$$.$getRootMinOpacity$=function(){var $root$jscomp$61$$=this.ampdoc.getRootNode();return $getMinOpacity$$module$extensions$amp_analytics$0_1$opacity$$($root$jscomp$61$$.documentElement||$root$jscomp$61$$.body||$root$jscomp$61$$)};_.$JSCompiler_prototypeAlias$$.$listenElement$=function(){return function(){}};_.$JSCompiler_prototypeAlias$$.$getRootLayoutBox$=function(){return this.$I$};
_.$JSCompiler_prototypeAlias$$.$onVisibilityChangeHandler_$=function($visibilityData$$){if(!this.$H$){var $ratio$jscomp$6$$=$visibilityData$$.$visibleRatio$;$ratio$jscomp$6$$=Math.min(Math.max(0,$ratio$jscomp$6$$),1);this.$setRootVisibility$($ratio$jscomp$6$$);this.$I$=$visibilityData$$.$visibleRect$}};_.$JSCompiler_prototypeAlias$$.observe=function(){return function(){}};_.$JSCompiler_prototypeAlias$$.$getElementVisibility$=function(){return 0};
_.$JSCompiler_prototypeAlias$$.$getElementIntersectionRect$=function(){_.$dev$$module$src$log$$().error("amp-analytics/visibility-manager","element level visibility not supported, getElementIntersectionRect should not be called in VisibilityManager for mApp");return _.$dict$$module$src$utils$object$$({})};$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$.prototype.$dispose$=function(){for(var $k$jscomp$23$$ in this.$D$)this.$D$[$k$jscomp$23$$].$dispose$(),delete this.$D$[$k$jscomp$23$$];this.$H$&&this.$H$.$dispose$();this.$F$&&this.$F$.$dispose$()};
$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$.prototype.$getRootElement$=function(){var $root$jscomp$62$$=this.$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root_prototype$getRoot$();return $root$jscomp$62$$.documentElement||$root$jscomp$62$$.body||$root$jscomp$62$$};$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$.prototype.contains=function($node$jscomp$65$$){return this.$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root_prototype$getRoot$().contains($node$jscomp$65$$)};
$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$.prototype.$getElement$=function($context$jscomp$31$$,$selector$jscomp$29$$,$selectionMethod$jscomp$6$$){var $$jscomp$this$jscomp$406$$=this;$selectionMethod$jscomp$6$$=void 0===$selectionMethod$jscomp$6$$?null:$selectionMethod$jscomp$6$$;return":root"==$selector$jscomp$29$$?_.$tryResolve$$module$src$utils$promise$$(function(){return $$jscomp$this$jscomp$406$$.$getRootElement$()}):":host"==$selector$jscomp$29$$?new Promise(function($context$jscomp$31$$){$context$jscomp$31$$(_.$JSCompiler_StaticMethods_assertElement$$(_.$user$$module$src$log$$(),
$$jscomp$this$jscomp$406$$.$getHostElement$(),'Element "'+$selector$jscomp$29$$+'" not found'))}):this.ampdoc.$whenReady$().then(function(){var $result$jscomp$34$$=null;try{var $found$jscomp$3$$="scope"==$selectionMethod$jscomp$6$$?_.$scopedQuerySelector$$module$src$dom$$($context$jscomp$31$$,$selector$jscomp$29$$):"closest"==$selectionMethod$jscomp$6$$?_.$closestAncestorElementBySelector$$module$src$dom$$($context$jscomp$31$$,$selector$jscomp$29$$):$$jscomp$this$jscomp$406$$.$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root_prototype$getRoot$().querySelector($selector$jscomp$29$$)}catch($e$250$$){}$found$jscomp$3$$&&
$$jscomp$this$jscomp$406$$.contains($found$jscomp$3$$)&&($result$jscomp$34$$=$found$jscomp$3$$);return _.$JSCompiler_StaticMethods_assertElement$$(_.$user$$module$src$log$$(),$result$jscomp$34$$,'Element "'+$selector$jscomp$29$$+'" not found')})};_.$$jscomp$inherits$$($AmpdocAnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$,$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$);_.$JSCompiler_prototypeAlias$$=$AmpdocAnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$.prototype;
_.$JSCompiler_prototypeAlias$$.$getType$=function(){return"ampdoc"};_.$JSCompiler_prototypeAlias$$.$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root_prototype$getRoot$=function(){return this.ampdoc.getRootNode()};_.$JSCompiler_prototypeAlias$$.$getHostElement$=function(){return null};_.$JSCompiler_prototypeAlias$$.signals=function(){return this.ampdoc.signals()};_.$JSCompiler_prototypeAlias$$.getElementById=function($id$jscomp$61$$){return this.ampdoc.getElementById($id$jscomp$61$$)};
_.$JSCompiler_prototypeAlias$$.$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root_prototype$whenIniLoaded$=function(){var $rect$jscomp$16_size$jscomp$29_viewport$jscomp$19$$=_.$Services$$module$src$services$viewportForDoc$$(this.ampdoc);"inabox"==_.$getMode$$module$src$mode$$(this.ampdoc.$win$).runtime?$rect$jscomp$16_size$jscomp$29_viewport$jscomp$19$$=$rect$jscomp$16_size$jscomp$29_viewport$jscomp$19$$.$getLayoutRect$(this.$getRootElement$()):($rect$jscomp$16_size$jscomp$29_viewport$jscomp$19$$=
$rect$jscomp$16_size$jscomp$29_viewport$jscomp$19$$.$getSize$(),$rect$jscomp$16_size$jscomp$29_viewport$jscomp$19$$=_.$layoutRectLtwh$$module$src$layout_rect$$(0,0,$rect$jscomp$16_size$jscomp$29_viewport$jscomp$19$$.width,$rect$jscomp$16_size$jscomp$29_viewport$jscomp$19$$.height));return _.$whenContentIniLoad$$module$src$friendly_iframe_embed$$(this.ampdoc,this.ampdoc.$win$,$rect$jscomp$16_size$jscomp$29_viewport$jscomp$19$$)};
_.$JSCompiler_prototypeAlias$$.$createVisibilityManager$=function(){return this.$I$?(fetch("http://localhost:8000/visiblityManagerForMAPP"),new $VisibilityManagerForMApp$$module$extensions$amp_analytics$0_1$visibility_manager_for_mapp$$(this.ampdoc,this.$I$)):new $VisibilityManagerForDoc$$module$extensions$amp_analytics$0_1$visibility_manager$$(this.ampdoc)};_.$$jscomp$inherits$$($EmbedAnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$,$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$);
_.$JSCompiler_prototypeAlias$$=$EmbedAnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$.prototype;_.$JSCompiler_prototypeAlias$$.$getType$=function(){return"embed"};_.$JSCompiler_prototypeAlias$$.$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root_prototype$getRoot$=function(){return this.embed.$win$.document};_.$JSCompiler_prototypeAlias$$.$getHostElement$=function(){return this.embed.iframe};_.$JSCompiler_prototypeAlias$$.signals=function(){return this.embed.signals()};
_.$JSCompiler_prototypeAlias$$.getElementById=function($id$jscomp$62$$){return this.embed.$win$.document.getElementById($id$jscomp$62$$)};_.$JSCompiler_prototypeAlias$$.$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root_prototype$whenIniLoaded$=function(){return this.embed.$FriendlyIframeEmbed$$module$src$friendly_iframe_embed_prototype$whenIniLoaded$()};
_.$JSCompiler_prototypeAlias$$.$createVisibilityManager$=function(){return new $VisibilityManagerForEmbed$$module$extensions$amp_analytics$0_1$visibility_manager$$($JSCompiler_StaticMethods_getVisibilityManager$$(this.parent),this.embed)};$InstrumentationService$$module$extensions$amp_analytics$0_1$instrumentation$$.prototype.$dispose$=function(){this.$D$.$dispose$()};
$InstrumentationService$$module$extensions$amp_analytics$0_1$instrumentation$$.prototype.$F$=function($target$jscomp$150$$,$event$jscomp$84_eventType$jscomp$50$$,$opt_vars$jscomp$7$$){$event$jscomp$84_eventType$jscomp$50$$=new $AnalyticsEvent$$module$extensions$amp_analytics$0_1$events$$($target$jscomp$150$$,$event$jscomp$84_eventType$jscomp$50$$,$opt_vars$jscomp$7$$);$JSCompiler_StaticMethods_getTracker$$($JSCompiler_StaticMethods_findRoot_$$(this,$target$jscomp$150$$),"custom",$CustomEventTracker$$module$extensions$amp_analytics$0_1$events$$).$trigger$($event$jscomp$84_eventType$jscomp$50$$)};$LinkerManager$$module$extensions$amp_analytics$0_1$linker_manager$$.prototype.init=function(){var $$jscomp$this$jscomp$409$$=this;if(_.$isObject$$module$src$types$$(this.$D$))return this.$D$=$JSCompiler_StaticMethods_processConfig_$$(this,this.$D$),this.$I$=Object.keys(this.$D$).map(function($name$jscomp$212$$){var $ids$jscomp$3$$=$$jscomp$this$jscomp$409$$.$D$[$name$jscomp$212$$].ids,$keys$jscomp$8$$=Object.keys($ids$jscomp$3$$),$valuePromises$$=$keys$jscomp$8$$.map(function($name$jscomp$212$$){return $JSCompiler_StaticMethods_LinkerManager$$module$extensions$amp_analytics$0_1$linker_manager_prototype$expandTemplateWithUrlParams_$$($$jscomp$this$jscomp$409$$,
$ids$jscomp$3$$[$name$jscomp$212$$],new $ExpansionOptions$$module$extensions$amp_analytics$0_1$variables$$($$jscomp$this$jscomp$409$$.$O$,void 0,!0))});return Promise.all($valuePromises$$).then(function($ids$jscomp$3$$){var $valuePromises$$={};$ids$jscomp$3$$.forEach(function($$jscomp$this$jscomp$409$$,$name$jscomp$212$$){$$jscomp$this$jscomp$409$$&&($valuePromises$$[$keys$jscomp$8$$[$name$jscomp$212$$]]=$$jscomp$this$jscomp$409$$)});$$jscomp$this$jscomp$409$$.$G$[$name$jscomp$212$$]=$valuePromises$$})}),
this.$I$.length&&_.$JSCompiler_StaticMethods_registerAnchorMutator$$(_.$Services$$module$src$services$navigationForDoc$$(this.$ampdoc_$),this.$P$.bind(this),2),$JSCompiler_StaticMethods_enableFormSupport_$$(this),Promise.all(this.$I$)};$LinkerManager$$module$extensions$amp_analytics$0_1$linker_manager$$.prototype.$dispose$=function(){this.$F$&&this.$F$()};
$LinkerManager$$module$extensions$amp_analytics$0_1$linker_manager$$.prototype.$P$=function($element$jscomp$345$$,$event$jscomp$85_linkerConfigs$$){if($element$jscomp$345$$.href&&"click"===$event$jscomp$85_linkerConfigs$$.type){$event$jscomp$85_linkerConfigs$$=this.$D$;for(var $linkerName$$ in $event$jscomp$85_linkerConfigs$$)if(this.$G$[$linkerName$$]){var $el$jscomp$inline_2653$$=$element$jscomp$345$$,$name$jscomp$inline_2654$$=$linkerName$$,$href$jscomp$inline_2656$$=$el$jscomp$inline_2653$$.href;
if($JSCompiler_StaticMethods_isDomainMatch_$$(this,$el$jscomp$inline_2653$$.hostname,$name$jscomp$inline_2654$$,$event$jscomp$85_linkerConfigs$$[$linkerName$$].destinationDomains)){var $linkerValue$jscomp$inline_2657$$=$createLinker$$module$extensions$amp_analytics$0_1$linker$$(this.$G$[$name$jscomp$inline_2654$$]);if($linkerValue$jscomp$inline_2657$$){var $params$jscomp$inline_2658$$={};$params$jscomp$inline_2658$$[$name$jscomp$inline_2654$$]=$linkerValue$jscomp$inline_2657$$;$el$jscomp$inline_2653$$.href=
_.$addMissingParamsToUrl$$module$src$url$$($href$jscomp$inline_2656$$,$params$jscomp$inline_2658$$)}}}}};
$LinkerManager$$module$extensions$amp_analytics$0_1$linker_manager$$.prototype.$R$=function($actionXhrMutator_event$jscomp$86$$){var $form$jscomp$4$$=$actionXhrMutator_event$jscomp$86$$.form;$actionXhrMutator_event$jscomp$86$$=$actionXhrMutator_event$jscomp$86$$.$actionXhrMutator$;for(var $linkerName$jscomp$1$$ in this.$D$){var $decoratedUrl$jscomp$inline_2671_domains$jscomp$2_inputEl$jscomp$inline_6403_linkerName$jscomp$inline_2667$$=this.$D$[$linkerName$jscomp$1$$].destinationDomains,$hostname$jscomp$4_ids$jscomp$inline_2668_linkerValue$jscomp$inline_2669_url$jscomp$173$$=
$form$jscomp$4$$.getAttribute("action-xhr")||$form$jscomp$4$$.getAttribute("action");$hostname$jscomp$4_ids$jscomp$inline_2668_linkerValue$jscomp$inline_2669_url$jscomp$173$$=this.$H$.parse($hostname$jscomp$4_ids$jscomp$inline_2668_linkerValue$jscomp$inline_2669_url$jscomp$173$$).hostname;if($JSCompiler_StaticMethods_isDomainMatch_$$(this,$hostname$jscomp$4_ids$jscomp$inline_2668_linkerValue$jscomp$inline_2669_url$jscomp$173$$,$linkerName$jscomp$1$$,$decoratedUrl$jscomp$inline_2671_domains$jscomp$2_inputEl$jscomp$inline_6403_linkerName$jscomp$inline_2667$$)&&
($decoratedUrl$jscomp$inline_2671_domains$jscomp$2_inputEl$jscomp$inline_6403_linkerName$jscomp$inline_2667$$=$linkerName$jscomp$1$$,$hostname$jscomp$4_ids$jscomp$inline_2668_linkerValue$jscomp$inline_2669_url$jscomp$173$$=this.$G$[$decoratedUrl$jscomp$inline_2671_domains$jscomp$2_inputEl$jscomp$inline_6403_linkerName$jscomp$inline_2667$$])){$hostname$jscomp$4_ids$jscomp$inline_2668_linkerValue$jscomp$inline_2669_url$jscomp$173$$=$createLinker$$module$extensions$amp_analytics$0_1$linker$$($hostname$jscomp$4_ids$jscomp$inline_2668_linkerValue$jscomp$inline_2669_url$jscomp$173$$);
var $actionXhrUrl$jscomp$inline_2670$$=$form$jscomp$4$$.getAttribute("action-xhr");$actionXhrUrl$jscomp$inline_2670$$?($decoratedUrl$jscomp$inline_2671_domains$jscomp$2_inputEl$jscomp$inline_6403_linkerName$jscomp$inline_2667$$=_.$addParamToUrl$$module$src$url$$($actionXhrUrl$jscomp$inline_2670$$,$decoratedUrl$jscomp$inline_2671_domains$jscomp$2_inputEl$jscomp$inline_6403_linkerName$jscomp$inline_2667$$,$hostname$jscomp$4_ids$jscomp$inline_2668_linkerValue$jscomp$inline_2669_url$jscomp$173$$),$actionXhrMutator_event$jscomp$86$$($decoratedUrl$jscomp$inline_2671_domains$jscomp$2_inputEl$jscomp$inline_6403_linkerName$jscomp$inline_2667$$)):
($decoratedUrl$jscomp$inline_2671_domains$jscomp$2_inputEl$jscomp$inline_6403_linkerName$jscomp$inline_2667$$=_.$createElementWithAttributes$$module$src$dom$$($form$jscomp$4$$.ownerDocument,"input",_.$dict$$module$src$utils$object$$({type:"hidden",name:$decoratedUrl$jscomp$inline_2671_domains$jscomp$2_inputEl$jscomp$inline_6403_linkerName$jscomp$inline_2667$$,value:$hostname$jscomp$4_ids$jscomp$inline_2668_linkerValue$jscomp$inline_2669_url$jscomp$173$$})),$form$jscomp$4$$.appendChild($decoratedUrl$jscomp$inline_2671_domains$jscomp$2_inputEl$jscomp$inline_6403_linkerName$jscomp$inline_2667$$))}}};$RequestHandler$$module$extensions$amp_analytics$0_1$requests$$.prototype.$dispose$=function(){this.$reset_$();this.$F$&&(this.$win$.clearTimeout(this.$F$),this.$F$=null);this.$J$&&(this.$win$.clearTimeout(this.$J$),this.$J$=null)};$RequestHandler$$module$extensions$amp_analytics$0_1$requests$$.prototype.$reset_$=function(){this.$G$=0;this.$I$=this.$H$=null;this.$O$=[];this.$P$=null};$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$$.prototype.$getType$=function(){return this.$D$};var $IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$crossDomainIframes_$$={},$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$nextId_$$=0,$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$performanceObservers_$$={};var $WHITELIST_EVENT_IN_SANDBOX$$module$extensions$amp_analytics$0_1$amp_analytics$$=["visible","hidden"];_.$$jscomp$inherits$$($AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics$$,AMP.BaseElement);_.$JSCompiler_prototypeAlias$$=$AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics$$.prototype;_.$JSCompiler_prototypeAlias$$.$getLayoutPriority$=function(){return this.$G$?0:1};_.$JSCompiler_prototypeAlias$$.$isAlwaysFixed$=function(){return!_.$isInFie$$module$src$friendly_iframe_embed$$(this.element)};
_.$JSCompiler_prototypeAlias$$.$isLayoutSupported$=function(){return!0};
_.$JSCompiler_prototypeAlias$$.$buildCallback$=function(){var $$jscomp$this$jscomp$419$$=this;this.$M$=this.element.hasAttribute("sandbox");this.element.setAttribute("aria-hidden","true");this.$P$=this.element.getAttribute("data-consent-notification-id");null!=this.$P$&&(this.$R$=_.$Services$$module$src$services$userNotificationManagerForDoc$$(this.element).then(function($service$jscomp$27$$){return $service$jscomp$27$$.get($$jscomp$this$jscomp$419$$.$P$)}));"immediate"==this.element.getAttribute("trigger")&&
$JSCompiler_StaticMethods_ensureInitialized_$$(this)};_.$JSCompiler_prototypeAlias$$.$layoutCallback$=function(){return $JSCompiler_StaticMethods_ensureInitialized_$$(this)};_.$JSCompiler_prototypeAlias$$.detachedCallback=function(){this.$H$&&(this.$H$.$dispose$(),this.$H$=null);this.$K$&&(this.$K$.$dispose$(),this.$K$=null);for(var $request$jscomp$24$$ in this.$I$)this.$I$[$request$jscomp$24$$].$dispose$(),delete this.$I$[$request$jscomp$24$$]};
_.$JSCompiler_prototypeAlias$$.$resumeCallback$=function(){var $$jscomp$this$jscomp$420$$=this;this.$F$&&this.$F$.then(function(){$JSCompiler_StaticMethods_maybeInitIframeTransport$$($$jscomp$this$jscomp$420$$.$J$,$$jscomp$this$jscomp$420$$.$getAmpDoc$().$win$,$$jscomp$this$jscomp$420$$.element)})};
_.$JSCompiler_prototypeAlias$$.$unlayoutCallback$=function(){var $$jscomp$this$jscomp$421$$=this;if(_.$JSCompiler_StaticMethods_Viewer$$module$src$service$viewer_impl_prototype$isVisible$$(_.$Services$$module$src$services$viewerForDoc$$(this.$getAmpDoc$())))return!1;this.$F$&&this.$F$.then(function(){var $JSCompiler_StaticMethods_deleteIframeTransport$self$jscomp$inline_2706$$=$$jscomp$this$jscomp$421$$.$J$;if($JSCompiler_StaticMethods_deleteIframeTransport$self$jscomp$inline_2706$$.$F$){var $JSCompiler_StaticMethods_IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport_prototype$detach$self$jscomp$inline_6415_type$jscomp$inline_7191$$=
$JSCompiler_StaticMethods_deleteIframeTransport$self$jscomp$inline_2706$$.$F$,$ampDoc$jscomp$inline_7190$$=$JSCompiler_StaticMethods_IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport_prototype$detach$self$jscomp$inline_6415_type$jscomp$inline_7191$$.$F$.document;$JSCompiler_StaticMethods_IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport_prototype$detach$self$jscomp$inline_6415_type$jscomp$inline_7191$$=$JSCompiler_StaticMethods_IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport_prototype$detach$self$jscomp$inline_6415_type$jscomp$inline_7191$$.$D$;
var $frameData$jscomp$inline_7192$$=$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$crossDomainIframes_$$[$JSCompiler_StaticMethods_IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport_prototype$detach$self$jscomp$inline_6415_type$jscomp$inline_7191$$];--$frameData$jscomp$inline_7192$$.$usageCount$||($ampDoc$jscomp$inline_7190$$.body.removeChild($frameData$jscomp$inline_7192$$.frame),delete $IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$crossDomainIframes_$$[$JSCompiler_StaticMethods_IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport_prototype$detach$self$jscomp$inline_6415_type$jscomp$inline_7191$$],
$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$performanceObservers_$$[$JSCompiler_StaticMethods_IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport_prototype$detach$self$jscomp$inline_6415_type$jscomp$inline_7191$$]&&($IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$performanceObservers_$$[$JSCompiler_StaticMethods_IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport_prototype$detach$self$jscomp$inline_6415_type$jscomp$inline_7191$$].disconnect(),
$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$performanceObservers_$$[$JSCompiler_StaticMethods_IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport_prototype$detach$self$jscomp$inline_6415_type$jscomp$inline_7191$$]=null));$JSCompiler_StaticMethods_deleteIframeTransport$self$jscomp$inline_2706$$.$F$=null}});return AMP.BaseElement.prototype.$unlayoutCallback$.call(this)};
_.$JSCompiler_prototypeAlias$$.$registerTriggers_$=function(){var $$jscomp$this$jscomp$423$$=this;if($JSCompiler_StaticMethods_hasOptedOut_$$(this)){var $TAG$253_TAG$jscomp$9_promises$jscomp$16$$=$JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$getName_$$(this);$TAG$253_TAG$jscomp$9_promises$jscomp$16$$;return Promise.resolve()}$JSCompiler_StaticMethods_generateRequests_$$(this);if(!this.$D$.triggers)return $TAG$253_TAG$jscomp$9_promises$jscomp$16$$=
$JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$getName_$$(this),this.$user$().error($TAG$253_TAG$jscomp$9_promises$jscomp$16$$,"No triggers were found in the config. No analytics data will be sent."),Promise.resolve();$JSCompiler_StaticMethods_processExtraUrlParams_$$(this,this.$D$.extraUrlParams,this.$D$.extraUrlParamsReplaceMap);this.$H$=$JSCompiler_StaticMethods_createAnalyticsGroup$$(this.$S$,this.element);$JSCompiler_StaticMethods_maybeInitIframeTransport$$(this.$J$,
this.$getAmpDoc$().$win$,this.element,this.$preconnect$);$TAG$253_TAG$jscomp$9_promises$jscomp$16$$=[];var $$jscomp$loop$454$$={},$k$jscomp$24$$;for($k$jscomp$24$$ in this.$D$.triggers){a:if(_.$hasOwn$$module$src$utils$object$$(this.$D$.triggers,$k$jscomp$24$$)){$$jscomp$loop$454$$.$$jscomp$loop$prop$trigger$455$=this.$D$.triggers[$k$jscomp$24$$];$$jscomp$loop$454$$.$$jscomp$loop$prop$expansionOptions$456$=$JSCompiler_StaticMethods_expansionOptions_$$(this,_.$dict$$module$src$utils$object$$({}),$$jscomp$loop$454$$.$$jscomp$loop$prop$trigger$455$,
void 0,!0);var $TAG$254$$=$JSCompiler_StaticMethods_AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$getName_$$(this);if($$jscomp$loop$454$$.$$jscomp$loop$prop$trigger$455$){var $errorMsgSeg_eventType$jscomp$51_hasRequestOrPostMessage$$=$$jscomp$loop$454$$.$$jscomp$loop$prop$trigger$455$.request||$$jscomp$loop$454$$.$$jscomp$loop$prop$trigger$455$.parentPostMessage&&this.$G$;if($$jscomp$loop$454$$.$$jscomp$loop$prop$trigger$455$.on&&$errorMsgSeg_eventType$jscomp$51_hasRequestOrPostMessage$$){if(this.$M$&&
($errorMsgSeg_eventType$jscomp$51_hasRequestOrPostMessage$$=$$jscomp$loop$454$$.$$jscomp$loop$prop$trigger$455$.on,_.$isEnumValue$$module$src$types$$($AnalyticsEventType$$module$extensions$amp_analytics$0_1$events$$,$errorMsgSeg_eventType$jscomp$51_hasRequestOrPostMessage$$)&&!$WHITELIST_EVENT_IN_SANDBOX$$module$extensions$amp_analytics$0_1$amp_analytics$$.includes($errorMsgSeg_eventType$jscomp$51_hasRequestOrPostMessage$$))){this.$user$().error($TAG$254$$,$errorMsgSeg_eventType$jscomp$51_hasRequestOrPostMessage$$+
" is not supported for amp-analytics in scope");break a}$JSCompiler_StaticMethods_processExtraUrlParams_$$(this,$$jscomp$loop$454$$.$$jscomp$loop$prop$trigger$455$.extraUrlParams,this.$D$.extraUrlParamsReplaceMap);$TAG$253_TAG$jscomp$9_promises$jscomp$16$$.push($JSCompiler_StaticMethods_isSampledIn_$$(this,$$jscomp$loop$454$$.$$jscomp$loop$prop$trigger$455$).then(function($TAG$253_TAG$jscomp$9_promises$jscomp$16$$){return function($$jscomp$loop$454$$){if($$jscomp$loop$454$$)if($$jscomp$this$jscomp$423$$.$M$)$$jscomp$this$jscomp$423$$.element.parentElement&&
($TAG$253_TAG$jscomp$9_promises$jscomp$16$$.$$jscomp$loop$prop$trigger$455$.selector=$$jscomp$this$jscomp$423$$.element.parentElement.tagName,$TAG$253_TAG$jscomp$9_promises$jscomp$16$$.$$jscomp$loop$prop$trigger$455$.selectionMethod="closest",$JSCompiler_StaticMethods_addTriggerNoInline_$$($$jscomp$this$jscomp$423$$,$TAG$253_TAG$jscomp$9_promises$jscomp$16$$.$$jscomp$loop$prop$trigger$455$));else{if($TAG$253_TAG$jscomp$9_promises$jscomp$16$$.$$jscomp$loop$prop$trigger$455$.selector)return $JSCompiler_StaticMethods_expandTemplate$$($$jscomp$this$jscomp$423$$.$O$,
$TAG$253_TAG$jscomp$9_promises$jscomp$16$$.$$jscomp$loop$prop$trigger$455$.selector,$TAG$253_TAG$jscomp$9_promises$jscomp$16$$.$$jscomp$loop$prop$expansionOptions$456$).then(function($$jscomp$loop$454$$){$TAG$253_TAG$jscomp$9_promises$jscomp$16$$.$$jscomp$loop$prop$trigger$455$.selector=$$jscomp$loop$454$$;$JSCompiler_StaticMethods_addTriggerNoInline_$$($$jscomp$this$jscomp$423$$,$TAG$253_TAG$jscomp$9_promises$jscomp$16$$.$$jscomp$loop$prop$trigger$455$)});$JSCompiler_StaticMethods_addTriggerNoInline_$$($$jscomp$this$jscomp$423$$,
$TAG$253_TAG$jscomp$9_promises$jscomp$16$$.$$jscomp$loop$prop$trigger$455$)}}}($$jscomp$loop$454$$)))}else $errorMsgSeg_eventType$jscomp$51_hasRequestOrPostMessage$$=this.$G$?'/"parentPostMessage"':"",this.$user$().error($TAG$254$$,'"on" and "request"'+$errorMsgSeg_eventType$jscomp$51_hasRequestOrPostMessage$$+" attributes are required for data to be collected.")}else this.$user$().error($TAG$254$$,"Trigger should be an object: ",$k$jscomp$24$$)}$$jscomp$loop$454$$={$$jscomp$loop$prop$trigger$455$:$$jscomp$loop$454$$.$$jscomp$loop$prop$trigger$455$,
$$jscomp$loop$prop$expansionOptions$456$:$$jscomp$loop$454$$.$$jscomp$loop$prop$expansionOptions$456$}}return Promise.all($TAG$253_TAG$jscomp$9_promises$jscomp$16$$)};_.$JSCompiler_prototypeAlias$$.preload=function($url$jscomp$177$$,$opt_preloadAs$jscomp$2$$){this.$preconnect$.preload($url$jscomp$177$$,$opt_preloadAs$jscomp$2$$)};
_.$JSCompiler_prototypeAlias$$.$initializeLinker_$=function(){var $type$jscomp$192$$=this.element.getAttribute("type");this.$K$=new $LinkerManager$$module$extensions$amp_analytics$0_1$linker_manager$$(this.$getAmpDoc$(),this.$D$,$type$jscomp$192$$,this.element);this.$K$.init()};
_.$JSCompiler_prototypeAlias$$.$AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics_prototype$handleEvent_$=function($trigger$jscomp$3$$,$event$jscomp$89$$){for(var $requests$jscomp$3$$=_.$isArray$$module$src$types$$($trigger$jscomp$3$$.request)?$trigger$jscomp$3$$.request:[$trigger$jscomp$3$$.request],$r$jscomp$24$$=0;$r$jscomp$24$$<$requests$jscomp$3$$.length;$r$jscomp$24$$++)$JSCompiler_StaticMethods_handleRequestForEvent_$$(this,$requests$jscomp$3$$[$r$jscomp$24$$],$trigger$jscomp$3$$,
$event$jscomp$89$$)};var $AMP$jscomp$inline_2722$$=self.AMP;$AMP$jscomp$inline_2722$$.registerServiceForDoc("amp-analytics-instrumentation",$InstrumentationService$$module$extensions$amp_analytics$0_1$instrumentation$$);$AMP$jscomp$inline_2722$$.registerServiceForDoc("activity",$Activity$$module$extensions$amp_analytics$0_1$activity_impl$$);_.$registerServiceBuilder$$module$src$service$$($AMP$jscomp$inline_2722$$.$win$,"amp-analytics-variables",$VariableService$$module$extensions$amp_analytics$0_1$variables$$);
_.$registerServiceBuilder$$module$src$service$$($AMP$jscomp$inline_2722$$.$win$,"amp-analytics-linker-reader",$LinkerReader$$module$extensions$amp_analytics$0_1$linker_reader$$);$AMP$jscomp$inline_2722$$.registerElement("amp-analytics",$AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics$$);
})});

//# sourceMappingURL=amp-analytics-0.1.js.map
