(self.AMP=self.AMP||[]).push({n:"amp-lightbox",i:["_base_i","_base_misc"],v:"1904281823091",f:(function(AMP,_){
var $AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox$$=function($element$jscomp$543$$){var $$jscomp$super$this$jscomp$72$$=AMP.BaseElement.call(this,$element$jscomp$543$$)||this;$$jscomp$super$this$jscomp$72$$.$P$=null;$$jscomp$super$this$jscomp$72$$.$D$=null;$$jscomp$super$this$jscomp$72$$.$S$=null;$$jscomp$super$this$jscomp$72$$.$M$=-1;$$jscomp$super$this$jscomp$72$$.$H$=!1;$$jscomp$super$this$jscomp$72$$.$I$=null;$$jscomp$super$this$jscomp$72$$.$G$=!1;$$jscomp$super$this$jscomp$72$$.$F$=
0;$$jscomp$super$this$jscomp$72$$.$U$=0;$$jscomp$super$this$jscomp$72$$.$R$=0;$$jscomp$super$this$jscomp$72$$.$O$=null;$$jscomp$super$this$jscomp$72$$.$J$=($element$jscomp$543$$.getAttribute("animate-in")||"fade-in").toLowerCase();$$jscomp$super$this$jscomp$72$$.$K$=null;$$jscomp$super$this$jscomp$72$$.$V$=_.$debounce$$module$src$utils$rate_limit$$($$jscomp$super$this$jscomp$72$$.$win$,function(){var $element$jscomp$543$$=_.$JSCompiler_StaticMethods_assertElement$$(_.$user$$module$src$log$$(),$$jscomp$super$this$jscomp$72$$.$D$,
"E#19457 this.container_");$$jscomp$super$this$jscomp$72$$.$scheduleLayout$($element$jscomp$543$$);$$jscomp$super$this$jscomp$72$$.$scheduleResume$($element$jscomp$543$$)},500);return $$jscomp$super$this$jscomp$72$$},$JSCompiler_StaticMethods_takeOwnershipOfDescendants_$$=function($JSCompiler_StaticMethods_takeOwnershipOfDescendants_$self$$){_.$toArray$$module$src$types$$($JSCompiler_StaticMethods_takeOwnershipOfDescendants_$self$$.element.getElementsByClassName("i-amphtml-element")).forEach(function($child$jscomp$27$$){_.$Resource$$module$src$service$resource$setOwner$$($child$jscomp$27$$,
$JSCompiler_StaticMethods_takeOwnershipOfDescendants_$self$$.element)})},$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$$=function($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$){if(!$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$.$D$){var $element$jscomp$544$$=$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$.element;
$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$.$G$=$element$jscomp$544$$.hasAttribute("scrollable");var $children$jscomp$143$$=$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$.$getRealChildren$();$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$.$D$=$element$jscomp$544$$.ownerDocument.createElement("div");
$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$.$G$||_.$JSCompiler_StaticMethods_applyFillContent$$($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$.$D$);$element$jscomp$544$$.appendChild($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$.$D$);$children$jscomp$143$$.forEach(function($element$jscomp$544$$){$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$.$D$.appendChild($element$jscomp$544$$)});
$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$.$G$&&($JSCompiler_StaticMethods_takeOwnershipOfDescendants_$$($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$),$element$jscomp$544$$.classList.add("i-amphtml-scrollable"),$element$jscomp$544$$.addEventListener("amp:dom-update",function(){$JSCompiler_StaticMethods_takeOwnershipOfDescendants_$$($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$);
$JSCompiler_StaticMethods_updateChildrenInViewport_$$($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$,$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$.$F$,$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$.$F$)}),$element$jscomp$544$$.addEventListener("scroll",$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$.$AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$scrollHandler_$.bind($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$)));
$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$self$$.$G$||_.$JSCompiler_StaticMethods_onGesture$$(_.$Gestures$$module$src$gesture$get$$($element$jscomp$544$$),_.$SwipeXYRecognizer$$module$src$gesture_recognizers$$,function(){})}},$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$open_$$=function($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$open_$self$$){if(!$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$open_$self$$.$H$){$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$initialize_$$($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$open_$self$$);
$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$open_$self$$.$I$=$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$open_$self$$.$AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$closeOnEscape_$.bind($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$open_$self$$);$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$open_$self$$.$win$.document.documentElement.addEventListener("keydown",
$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$open_$self$$.$I$);var $$jscomp$destructuring$var527$$=new _.$Deferred$$module$src$utils$promise$$,$promise$jscomp$50$$=$$jscomp$destructuring$var527$$.$promise$,$resolve$jscomp$67$$=$$jscomp$destructuring$var527$$.resolve;_.$JSCompiler_StaticMethods_enterLightboxMode$$($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$open_$self$$.$getViewport$(),$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$open_$self$$.element,
$promise$jscomp$50$$).then(function(){return $JSCompiler_StaticMethods_finalizeOpen_$$($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$open_$self$$,$resolve$jscomp$67$$)})}},$JSCompiler_StaticMethods_handleAutofocus_$$=function($JSCompiler_StaticMethods_handleAutofocus_$self_autofocusElement$$){($JSCompiler_StaticMethods_handleAutofocus_$self_autofocusElement$$=$JSCompiler_StaticMethods_handleAutofocus_$self_autofocusElement$$.$D$.querySelector("[autofocus]"))&&
_.$tryFocus$$module$src$dom$$($JSCompiler_StaticMethods_handleAutofocus_$self_autofocusElement$$)},$JSCompiler_StaticMethods_finalizeOpen_$$=function($JSCompiler_StaticMethods_finalizeOpen_$self$$,$callback$jscomp$123$$){function $onAnimationEnd$$(){$JSCompiler_StaticMethods_finalizeOpen_$self$$.$V$();$callback$jscomp$123$$()}var $element$jscomp$545$$=$JSCompiler_StaticMethods_finalizeOpen_$self$$.element,$$jscomp$destructuring$var529_closedStyle_container$jscomp$23$$=$AnimationPresets$$module$extensions$amp_lightbox$0_1$amp_lightbox$$[$JSCompiler_StaticMethods_finalizeOpen_$self$$.$J$],
$durationSeconds$jscomp$2$$=$$jscomp$destructuring$var529_closedStyle_container$jscomp$23$$.$durationSeconds$,$openStyle$$=$$jscomp$destructuring$var529_closedStyle_container$jscomp$23$$.$openStyle$;$$jscomp$destructuring$var529_closedStyle_container$jscomp$23$$=$$jscomp$destructuring$var529_closedStyle_container$jscomp$23$$.$closedStyle$;var $transition$jscomp$9$$=Object.keys($openStyle$$).map(function($JSCompiler_StaticMethods_finalizeOpen_$self$$){return $JSCompiler_StaticMethods_finalizeOpen_$self$$+
" "+$durationSeconds$jscomp$2$$+"s ease-in"}).join(",");$JSCompiler_StaticMethods_finalizeOpen_$self$$.$R$++;$JSCompiler_StaticMethods_finalizeOpen_$self$$.$G$&&_.$setStyle$$module$src$style$$($element$jscomp$545$$,"webkitOverflowScrolling","touch");_.$setStyle$$module$src$style$$($element$jscomp$545$$,"transition",$transition$jscomp$9$$);_.$setStyles$$module$src$style$$($element$jscomp$545$$,_.$assertDoesNotContainDisplay$$module$src$style$$($$jscomp$destructuring$var529_closedStyle_container$jscomp$23$$));
_.$toggle$$module$src$style$$($element$jscomp$545$$,!0);$JSCompiler_StaticMethods_finalizeOpen_$self$$.$mutateElement$(function(){$element$jscomp$545$$.scrollTop=0});$JSCompiler_StaticMethods_handleAutofocus_$$($JSCompiler_StaticMethods_finalizeOpen_$self$$);$JSCompiler_StaticMethods_maybeRenderCloseButtonHeader_$$($JSCompiler_StaticMethods_finalizeOpen_$self$$);$JSCompiler_StaticMethods_finalizeOpen_$self$$.$mutateElement$(function(){_.$setStyles$$module$src$style$$($element$jscomp$545$$,_.$assertDoesNotContainDisplay$$module$src$style$$($openStyle$$))});
$$jscomp$destructuring$var529_closedStyle_container$jscomp$23$$=$JSCompiler_StaticMethods_finalizeOpen_$self$$.$D$;$JSCompiler_StaticMethods_finalizeOpen_$self$$.$G$?($JSCompiler_StaticMethods_finalizeOpen_$self$$.$AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$scrollHandler_$(),$JSCompiler_StaticMethods_updateChildrenInViewport_$$($JSCompiler_StaticMethods_finalizeOpen_$self$$,$JSCompiler_StaticMethods_finalizeOpen_$self$$.$F$,$JSCompiler_StaticMethods_finalizeOpen_$self$$.$F$)):
$JSCompiler_StaticMethods_finalizeOpen_$self$$.$updateInViewport$($$jscomp$destructuring$var529_closedStyle_container$jscomp$23$$,!0);$element$jscomp$545$$.addEventListener("transitionend",$onAnimationEnd$$);$element$jscomp$545$$.addEventListener("animationend",$onAnimationEnd$$);$JSCompiler_StaticMethods_finalizeOpen_$self$$.$scheduleLayout$($$jscomp$destructuring$var529_closedStyle_container$jscomp$23$$);$JSCompiler_StaticMethods_finalizeOpen_$self$$.$scheduleResume$($$jscomp$destructuring$var529_closedStyle_container$jscomp$23$$);
$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$triggerEvent_$$($JSCompiler_StaticMethods_finalizeOpen_$self$$,"lightboxOpen");_.$Services$$module$src$services$historyForDoc$$($JSCompiler_StaticMethods_finalizeOpen_$self$$.$getAmpDoc$()).push($JSCompiler_StaticMethods_finalizeOpen_$self$$.close.bind($JSCompiler_StaticMethods_finalizeOpen_$self$$)).then(function($callback$jscomp$123$$){$JSCompiler_StaticMethods_finalizeOpen_$self$$.$M$=$callback$jscomp$123$$});
$JSCompiler_StaticMethods_finalizeOpen_$self$$.$H$=!0},$JSCompiler_StaticMethods_maybeRenderCloseButtonHeader_$$=function($JSCompiler_StaticMethods_maybeRenderCloseButtonHeader_$self$$){var $element$jscomp$546$$=$JSCompiler_StaticMethods_maybeRenderCloseButtonHeader_$self$$.element;if(null!=$element$jscomp$546$$.getAttribute("close-button")){var $header$jscomp$11$$=_.$htmlFor$$module$src$static_template$$($element$jscomp$546$$)($_template$$module$extensions$amp_lightbox$0_1$amp_lightbox$$);$JSCompiler_StaticMethods_maybeRenderCloseButtonHeader_$self$$.$K$=
$header$jscomp$11$$;_.$listenOnce$$module$src$event_helper$$($header$jscomp$11$$,"click",function(){return $JSCompiler_StaticMethods_maybeRenderCloseButtonHeader_$self$$.close()});$element$jscomp$546$$.insertBefore($header$jscomp$11$$,$JSCompiler_StaticMethods_maybeRenderCloseButtonHeader_$self$$.$D$);var $headerHeight$jscomp$2$$;$JSCompiler_StaticMethods_maybeRenderCloseButtonHeader_$self$$.$measureMutateElement$(function(){$headerHeight$jscomp$2$$=$header$jscomp$11$$.getBoundingClientRect().height},
function(){$header$jscomp$11$$.classList.add("amp-ad-close-header");_.$setImportantStyles$$module$src$style$$($JSCompiler_StaticMethods_maybeRenderCloseButtonHeader_$self$$.$D$,{"margin-top":_.$px$$module$src$style$$($headerHeight$jscomp$2$$),"min-height":"calc(100vh - "+_.$px$$module$src$style$$($headerHeight$jscomp$2$$)+")"})})}},$JSCompiler_StaticMethods_finalizeClose_$$=function($JSCompiler_StaticMethods_finalizeClose_$self$$){function $collapseAndReschedule$$(){$event$jscomp$159$$==$JSCompiler_StaticMethods_finalizeClose_$self$$.$R$&&
($JSCompiler_StaticMethods_finalizeClose_$self$$.collapse(),$JSCompiler_StaticMethods_finalizeClose_$self$$.$V$())}var $element$jscomp$547$$=$JSCompiler_StaticMethods_finalizeClose_$self$$.element,$event$jscomp$159$$=++$JSCompiler_StaticMethods_finalizeClose_$self$$.$R$;$JSCompiler_StaticMethods_isInAd_$$($JSCompiler_StaticMethods_finalizeClose_$self$$)?(_.$resetStyles$$module$src$style$$($element$jscomp$547$$,["transition"]),$collapseAndReschedule$$()):($element$jscomp$547$$.addEventListener("transitionend",
$collapseAndReschedule$$),$element$jscomp$547$$.addEventListener("animationend",$collapseAndReschedule$$));_.$setStyles$$module$src$style$$($element$jscomp$547$$,_.$assertDoesNotContainDisplay$$module$src$style$$($AnimationPresets$$module$extensions$amp_lightbox$0_1$amp_lightbox$$[$JSCompiler_StaticMethods_finalizeClose_$self$$.$J$].$closedStyle$));-1!=$JSCompiler_StaticMethods_finalizeClose_$self$$.$M$&&_.$Services$$module$src$services$historyForDoc$$($JSCompiler_StaticMethods_finalizeClose_$self$$.$getAmpDoc$()).pop($JSCompiler_StaticMethods_finalizeClose_$self$$.$M$);
$JSCompiler_StaticMethods_finalizeClose_$self$$.$win$.document.documentElement.removeEventListener("keydown",$JSCompiler_StaticMethods_finalizeClose_$self$$.$I$);$JSCompiler_StaticMethods_finalizeClose_$self$$.$I$=null;$JSCompiler_StaticMethods_finalizeClose_$self$$.$schedulePause$($JSCompiler_StaticMethods_finalizeClose_$self$$.$D$);$JSCompiler_StaticMethods_finalizeClose_$self$$.$H$=!1;$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$triggerEvent_$$($JSCompiler_StaticMethods_finalizeClose_$self$$,
"lightboxClose")},$JSCompiler_StaticMethods_isInAd_$$=function($JSCompiler_StaticMethods_isInAd_$self$$){return"inabox"==_.$getMode$$module$src$mode$$($JSCompiler_StaticMethods_isInAd_$self$$.$win$).runtime||_.$isInFie$$module$src$friendly_iframe_embed$$($JSCompiler_StaticMethods_isInAd_$self$$.element)},$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$waitForScroll_$$=function($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$waitForScroll_$self$$,
$startingScrollTop$$){$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$waitForScroll_$self$$.$O$=_.$Services$$module$src$services$timerFor$$($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$waitForScroll_$self$$.$win$).delay(function(){if(30>Math.abs($startingScrollTop$$-$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$waitForScroll_$self$$.$F$)){"amp-lightbox";
$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$waitForScroll_$self$$.$O$=null;var $pos$jscomp$inline_3794$$=$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$waitForScroll_$self$$.$F$;"amp-lightbox";$JSCompiler_StaticMethods_updateChildrenInViewport_$$($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$waitForScroll_$self$$,$pos$jscomp$inline_3794$$,$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$waitForScroll_$self$$.$U$);
$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$waitForScroll_$self$$.$U$=$pos$jscomp$inline_3794$$;$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$waitForScroll_$self$$.$F$=$pos$jscomp$inline_3794$$}else"amp-lightbox",$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$waitForScroll_$$($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$waitForScroll_$self$$,
$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$waitForScroll_$self$$.$F$)},100)},$JSCompiler_StaticMethods_updateChildrenInViewport_$$=function($JSCompiler_StaticMethods_updateChildrenInViewport_$self$$,$newPos$jscomp$6$$,$oldPos$jscomp$3$$){var $seen$jscomp$3$$=[];$JSCompiler_StaticMethods_forEachVisibleChild_$$($JSCompiler_StaticMethods_updateChildrenInViewport_$self$$,$newPos$jscomp$6$$,function($newPos$jscomp$6$$){$seen$jscomp$3$$.push($newPos$jscomp$6$$);
$JSCompiler_StaticMethods_updateChildrenInViewport_$self$$.$updateInViewport$($newPos$jscomp$6$$,!0);$JSCompiler_StaticMethods_updateChildrenInViewport_$self$$.$scheduleLayout$($newPos$jscomp$6$$)});$oldPos$jscomp$3$$!=$newPos$jscomp$6$$&&$JSCompiler_StaticMethods_forEachVisibleChild_$$($JSCompiler_StaticMethods_updateChildrenInViewport_$self$$,$oldPos$jscomp$3$$,function($newPos$jscomp$6$$){$seen$jscomp$3$$.includes($newPos$jscomp$6$$)||$JSCompiler_StaticMethods_updateChildrenInViewport_$self$$.$updateInViewport$($newPos$jscomp$6$$,
!1)})},$JSCompiler_StaticMethods_forEachVisibleChild_$$=function($JSCompiler_StaticMethods_forEachVisibleChild_$self$$,$pos$jscomp$23$$,$callback$jscomp$124$$){$JSCompiler_StaticMethods_forEachVisibleChild_$self$$.$P$||($JSCompiler_StaticMethods_forEachVisibleChild_$self$$.$P$={width:$JSCompiler_StaticMethods_forEachVisibleChild_$self$$.element.clientWidth,height:$JSCompiler_StaticMethods_forEachVisibleChild_$self$$.element.clientHeight});for(var $containerHeight$$=$JSCompiler_StaticMethods_forEachVisibleChild_$self$$.$P$.height,
$descendants$$=_.$toArray$$module$src$types$$($JSCompiler_StaticMethods_forEachVisibleChild_$self$$.element.getElementsByClassName("i-amphtml-element")),$i$jscomp$339$$=0;$i$jscomp$339$$<$descendants$$.length;$i$jscomp$339$$++){for(var $descendant$jscomp$1$$=$descendants$$[$i$jscomp$339$$],$offsetTop$jscomp$2$$=0,$n$jscomp$43_visibilityMargin$$=$descendant$jscomp$1$$;$n$jscomp$43_visibilityMargin$$&&$JSCompiler_StaticMethods_forEachVisibleChild_$self$$.element.contains($n$jscomp$43_visibilityMargin$$);$n$jscomp$43_visibilityMargin$$=
$n$jscomp$43_visibilityMargin$$.offsetParent)$offsetTop$jscomp$2$$+=$n$jscomp$43_visibilityMargin$$.offsetTop;$n$jscomp$43_visibilityMargin$$=2*$containerHeight$$;$offsetTop$jscomp$2$$+$descendant$jscomp$1$$.offsetHeight>=$pos$jscomp$23$$-$n$jscomp$43_visibilityMargin$$&&$offsetTop$jscomp$2$$<=$pos$jscomp$23$$+$n$jscomp$43_visibilityMargin$$&&$callback$jscomp$124$$($descendant$jscomp$1$$)}},$JSCompiler_StaticMethods_maybeSetTransparentBody_$$=function($JSCompiler_StaticMethods_maybeSetTransparentBody_$self$$){var $win$jscomp$374$$=
$JSCompiler_StaticMethods_maybeSetTransparentBody_$self$$.$win$;_.$isInFie$$module$src$friendly_iframe_embed$$($JSCompiler_StaticMethods_maybeSetTransparentBody_$self$$.element)&&$setTransparentBody$$module$extensions$amp_lightbox$0_1$amp_lightbox$$($win$jscomp$374$$,$win$jscomp$374$$.document.body)},$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$triggerEvent_$$=function($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$triggerEvent_$self$$,
$name$jscomp$256$$){var $event$jscomp$160$$=_.$createCustomEvent$$module$src$event_helper$$($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$triggerEvent_$self$$.$win$,"amp-lightbox."+$name$jscomp$256$$,_.$dict$$module$src$utils$object$$({}));$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$triggerEvent_$self$$.$S$.$trigger$($JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$triggerEvent_$self$$.element,
$name$jscomp$256$$,$event$jscomp$160$$,100)},$setTransparentBody$$module$extensions$amp_lightbox$0_1$amp_lightbox$$=function($win$jscomp$375$$,$body$jscomp$32$$){var $JSCompiler_object_inline_alreadyTransparent_483$$,$ampdoc$jscomp$213$$=_.$Services$$module$src$services$ampdocServiceFor$$($win$jscomp$375$$).$getAmpDoc$();_.$Services$$module$src$services$resourcesForDoc$$($ampdoc$jscomp$213$$).$measureMutateElement$($body$jscomp$32$$,function(){$JSCompiler_object_inline_alreadyTransparent_483$$="rgba(0, 0, 0, 0)"==
_.$computedStyle$$module$src$style$$($win$jscomp$375$$,$body$jscomp$32$$)["background-color"]},function(){$JSCompiler_object_inline_alreadyTransparent_483$$||_.$getMode$$module$src$mode$$().test||_.$user$$module$src$log$$().$Log$$module$src$log_prototype$warn$("amp-lightbox","The background of the <body> element has been forced to transparent. If you need to set background, use an intermediate container.");_.$setImportantStyles$$module$src$style$$($body$jscomp$32$$,{background:"transparent"})})};var $_template$$module$extensions$amp_lightbox$0_1$amp_lightbox$$=['<i-amphtml-ad-close-header role=button tabindex=0 aria-label="Close Ad"><div>Ad</div><i-amphtml-ad-close-button class=amp-ad-close-button></i-amphtml-ad-close-button></i-amphtml-ad-close-header>'],$AnimationPresets$$module$extensions$amp_lightbox$0_1$amp_lightbox$$={"fade-in":{$openStyle$:_.$dict$$module$src$utils$object$$({opacity:1}),$closedStyle$:_.$dict$$module$src$utils$object$$({opacity:0}),$durationSeconds$:.1},"fly-in-bottom":{$openStyle$:_.$dict$$module$src$utils$object$$({transform:"translate(0, 0)"}),
$closedStyle$:_.$dict$$module$src$utils$object$$({transform:"translate(0, 100%)"}),$durationSeconds$:.2},"fly-in-top":{$openStyle$:_.$dict$$module$src$utils$object$$({transform:"translate(0, 0)"}),$closedStyle$:_.$dict$$module$src$utils$object$$({transform:"translate(0, -100%)"}),$durationSeconds$:.2}};_.$$jscomp$inherits$$($AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox$$,AMP.BaseElement);_.$JSCompiler_prototypeAlias$$=$AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox$$.prototype;
_.$JSCompiler_prototypeAlias$$.$buildCallback$=function(){var $$jscomp$this$jscomp$769$$=this;this.$user$().$Log$$module$src$log_prototype$assert$(_.$hasOwn$$module$src$utils$object$$($AnimationPresets$$module$extensions$amp_lightbox$0_1$amp_lightbox$$,this.$J$),"Invalid `animate-in` value %s",this.$J$);this.element.classList.add("i-amphtml-overlay");this.$S$=_.$Services$$module$src$services$actionServiceForDoc$$(this.element);$JSCompiler_StaticMethods_maybeSetTransparentBody_$$(this);_.$JSCompiler_StaticMethods_registerDefaultAction$$(this,
function(){return $JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$open_$$($$jscomp$this$jscomp$769$$)},"open");_.$JSCompiler_StaticMethods_registerAction$$(this,"close",this.close.bind(this))};_.$JSCompiler_prototypeAlias$$.$layoutCallback$=function(){return Promise.resolve()};
_.$JSCompiler_prototypeAlias$$.$mutatedAttributesCallback$=function($mutations$jscomp$12_open$jscomp$2$$){$mutations$jscomp$12_open$jscomp$2$$=$mutations$jscomp$12_open$jscomp$2$$.open;void 0!==$mutations$jscomp$12_open$jscomp$2$$&&($mutations$jscomp$12_open$jscomp$2$$?$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$open_$$(this):this.close())};
_.$JSCompiler_prototypeAlias$$.$AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$closeOnEscape_$=function($event$jscomp$158$$){"Escape"==$event$jscomp$158$$.key&&($event$jscomp$158$$.preventDefault(),this.close())};
_.$JSCompiler_prototypeAlias$$.close=function(){var $$jscomp$this$jscomp$775$$=this;this.$H$&&(this.$G$&&_.$setStyle$$module$src$style$$(this.element,"webkitOverflowScrolling",""),this.$K$&&(_.$removeElement$$module$src$dom$$(this.$K$),this.$K$=null),_.$JSCompiler_StaticMethods_leaveLightboxMode$$(this.$getViewport$(),this.element).then(function(){return $JSCompiler_StaticMethods_finalizeClose_$$($$jscomp$this$jscomp$775$$)}))};
_.$JSCompiler_prototypeAlias$$.$AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$scrollHandler_$=function(){var $currentScrollTop$$=this.element.scrollTop||1;this.$F$=this.element.scrollTop=$currentScrollTop$$;null===this.$O$&&$JSCompiler_StaticMethods_AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox_prototype$waitForScroll_$$(this,$currentScrollTop$$)};var $AMP$jscomp$inline_3798$$=self.AMP;
"inabox"==_.$getMode$$module$src$mode$$().runtime&&$setTransparentBody$$module$extensions$amp_lightbox$0_1$amp_lightbox$$(window,document.body);$AMP$jscomp$inline_3798$$.registerElement("amp-lightbox",$AmpLightbox$$module$extensions$amp_lightbox$0_1$amp_lightbox$$,"amp-lightbox{display:none;position:fixed!important;z-index:1000;top:0!important;left:0!important;bottom:0!important;right:0!important}amp-lightbox[scrollable]{overflow-y:auto!important;overflow-x:hidden!important}i-amphtml-ad-close-header{height:60px!important;display:block!important;visibility:visible!important;opacity:0;position:fixed!important;top:0!important;left:0!important;right:0!important;z-index:1000!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;-webkit-box-pack:right!important;-ms-flex-pack:right!important;justify-content:right!important;-webkit-transition:opacity 0.1s ease-in;transition:opacity 0.1s ease-in}[animate-in=fly-in-bottom]>i-amphtml-ad-close-header,[animate-in=fly-in-top]>i-amphtml-ad-close-header{-webkit-transition-delay:0.2s;transition-delay:0.2s}.amp-ad-close-header{opacity:1!important;box-sizing:border-box;padding:5px;line-height:40px;background-color:#000;color:#fff;font-family:Helvetica,sans-serif;font-size:12px;cursor:pointer}.amp-ad-close-header>:first-child{margin-left:auto!important;pointer-events:none!important}.amp-ad-close-button{display:block!important;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\") no-repeat;background-position:50%;width:40px;height:40px;pointer-events:none!important;border-radius:40px;margin-left:5px}.amp-ad-close-header:active>.amp-ad-close-button{background-color:hsla(0,0%,100%,0.3)}\n/*# sourceURL=/extensions/amp-lightbox/0.1/amp-lightbox.css*/");
})});

//# sourceMappingURL=amp-lightbox-0.1.js.map
