(self.AMP=self.AMP||[]).push({n:"amp-mustache",i:["_base_i","_base_misc"],v:"1904281823091",f:(function(AMP,_){
var $purifyTagsForTripleMustache$$module$src$purifier$$=function($fragment$jscomp$6_html$jscomp$7$$,$div$jscomp$2_doc$jscomp$64$$){$div$jscomp$2_doc$jscomp$64$$=void 0===$div$jscomp$2_doc$jscomp$64$$?self.document:$div$jscomp$2_doc$jscomp$64$$;var $allowedTags$jscomp$1$$;_.$DomPurify$$module$src$purifier$$.$addHook$("uponSanitizeElement",function($fragment$jscomp$6_html$jscomp$7$$,$div$jscomp$2_doc$jscomp$64$$){var $node$jscomp$58_type$jscomp$160$$=$div$jscomp$2_doc$jscomp$64$$.tagName;$allowedTags$jscomp$1$$=
$div$jscomp$2_doc$jscomp$64$$.$allowedTags$;"template"===$node$jscomp$58_type$jscomp$160$$&&($fragment$jscomp$6_html$jscomp$7$$=$fragment$jscomp$6_html$jscomp$7$$.getAttribute("type"))&&"amp-mustache"===$fragment$jscomp$6_html$jscomp$7$$.toLowerCase()&&($allowedTags$jscomp$1$$.template=!0)});_.$DomPurify$$module$src$purifier$$.$addHook$("afterSanitizeElements",function(){$allowedTags$jscomp$1$$.template=!1});$fragment$jscomp$6_html$jscomp$7$$=_.$DomPurify$$module$src$purifier$$.$sanitize$($fragment$jscomp$6_html$jscomp$7$$,
{ALLOWED_TAGS:_.$TRIPLE_MUSTACHE_WHITELISTED_TAGS$$module$src$sanitation$$,FORCE_BODY:!0,RETURN_DOM_FRAGMENT:!0});_.$DomPurify$$module$src$purifier$$.$removeAllHooks$();$div$jscomp$2_doc$jscomp$64$$=$div$jscomp$2_doc$jscomp$64$$.createElement("div");$div$jscomp$2_doc$jscomp$64$$.appendChild($fragment$jscomp$6_html$jscomp$7$$);return $div$jscomp$2_doc$jscomp$64$$.innerHTML},$AmpMustache$$module$extensions$amp_mustache$0_2$amp_mustache$$=function($element$jscomp$568$$,$win$jscomp$378$$){var $$jscomp$super$this$jscomp$79$$=
AMP.BaseTemplate.call(this,$element$jscomp$568$$,$win$jscomp$378$$)||this;_.$Mustache$$module$third_party$mustache$mustache$$.$setUnescapedSanitizer$(function($element$jscomp$568$$){return $purifyTagsForTripleMustache$$module$src$purifier$$($element$jscomp$568$$,$$jscomp$super$this$jscomp$79$$.$win$.document)});return $$jscomp$super$this$jscomp$79$$},$JSCompiler_StaticMethods_AmpMustache$$module$extensions$amp_mustache$0_2$amp_mustache_prototype$processNestedTemplates_$$=function($JSCompiler_StaticMethods_AmpMustache$$module$extensions$amp_mustache$0_2$amp_mustache_prototype$processNestedTemplates_$self$$,
$content$jscomp$22$$){_.$iterateCursor$$module$src$dom$$($content$jscomp$22$$.querySelectorAll("template"),function($content$jscomp$22$$,$index$jscomp$152_key$jscomp$141$$){$index$jscomp$152_key$jscomp$141$$="__AMP_NESTED_TEMPLATE_"+$index$jscomp$152_key$jscomp$141$$;$JSCompiler_StaticMethods_AmpMustache$$module$extensions$amp_mustache$0_2$amp_mustache_prototype$processNestedTemplates_$self$$.$G$[$index$jscomp$152_key$jscomp$141$$]=$content$jscomp$22$$.outerHTML;$content$jscomp$22$$.parentNode.replaceChild($JSCompiler_StaticMethods_AmpMustache$$module$extensions$amp_mustache$0_2$amp_mustache_prototype$processNestedTemplates_$self$$.element.ownerDocument.createTextNode("{{{"+
$index$jscomp$152_key$jscomp$141$$+"}}}"),$content$jscomp$22$$)})},$JSCompiler_StaticMethods_purifyAndSetHtml_$$=function($JSCompiler_StaticMethods_purifyAndSetHtml_$self_root$jscomp$86$$,$body$jscomp$inline_3957_html$jscomp$23$$){var $diffing$jscomp$inline_3955$$=_.$isExperimentOn$$module$src$experiments$$(self,"amp-list-diffing");$diffing$jscomp$inline_3955$$=void 0===$diffing$jscomp$inline_3955$$?!1:$diffing$jscomp$inline_3955$$;var $config$jscomp$inline_3956$$=_.$purifyConfig$$module$src$purifier$$();
_.$addPurifyHooks$$module$src$purifier$$(_.$DomPurify$$module$src$purifier$$,$diffing$jscomp$inline_3955$$);$body$jscomp$inline_3957_html$jscomp$23$$=_.$DomPurify$$module$src$purifier$$.$sanitize$($body$jscomp$inline_3957_html$jscomp$23$$,$config$jscomp$inline_3956$$);_.$DomPurify$$module$src$purifier$$.$removeAllHooks$();$JSCompiler_StaticMethods_purifyAndSetHtml_$self_root$jscomp$86$$=$JSCompiler_StaticMethods_purifyAndSetHtml_$self_root$jscomp$86$$.$win$.document.createElement("div");$JSCompiler_StaticMethods_purifyAndSetHtml_$self_root$jscomp$86$$.innerHTML=
$body$jscomp$inline_3957_html$jscomp$23$$.innerHTML;return _.$JSCompiler_StaticMethods_unwrap$$($JSCompiler_StaticMethods_purifyAndSetHtml_$self_root$jscomp$86$$)};_.$$jscomp$inherits$$($AmpMustache$$module$extensions$amp_mustache$0_2$amp_mustache$$,AMP.BaseTemplate);
$AmpMustache$$module$extensions$amp_mustache$0_2$amp_mustache$$.prototype.$F$=function(){if(!_.$JSCompiler_StaticMethods_hasCapability$$(this.$I$,"viewerRenderTemplate")){this.$G$={};if("TEMPLATE"==this.element.tagName){var $JSCompiler_inline_result$jscomp$888_content$jscomp$inline_3951$$=_.$templateContentClone$$module$src$dom$$(this.element);$JSCompiler_StaticMethods_AmpMustache$$module$extensions$amp_mustache$0_2$amp_mustache_prototype$processNestedTemplates_$$(this,$JSCompiler_inline_result$jscomp$888_content$jscomp$inline_3951$$);
var $container$jscomp$inline_3952$$=this.element.ownerDocument.createElement("div");$container$jscomp$inline_3952$$.appendChild($JSCompiler_inline_result$jscomp$888_content$jscomp$inline_3951$$);$JSCompiler_inline_result$jscomp$888_content$jscomp$inline_3951$$=$container$jscomp$inline_3952$$.innerHTML}else $JSCompiler_inline_result$jscomp$888_content$jscomp$inline_3951$$="SCRIPT"==this.element.tagName?this.element.textContent:"";this.$H$=$JSCompiler_inline_result$jscomp$888_content$jscomp$inline_3951$$;
_.$Mustache$$module$third_party$mustache$mustache$$.parse(this.$H$,void 0)}};$AmpMustache$$module$extensions$amp_mustache$0_2$amp_mustache$$.prototype.$D$=function($html$jscomp$21$$){return $JSCompiler_StaticMethods_purifyAndSetHtml_$$(this,$html$jscomp$21$$)};
$AmpMustache$$module$extensions$amp_mustache$0_2$amp_mustache$$.prototype.render=function($data$jscomp$189_html$jscomp$22$$){var $mustacheData$jscomp$1$$=$data$jscomp$189_html$jscomp$22$$;"object"===typeof $data$jscomp$189_html$jscomp$22$$&&($mustacheData$jscomp$1$$=Object.assign({},$data$jscomp$189_html$jscomp$22$$,this.$G$));$data$jscomp$189_html$jscomp$22$$=_.$Mustache$$module$third_party$mustache$mustache$$.render(this.$H$,$mustacheData$jscomp$1$$,void 0);return $JSCompiler_StaticMethods_purifyAndSetHtml_$$(this,
$data$jscomp$189_html$jscomp$22$$)};var $AMP$jscomp$inline_3959$$=self.AMP;_.$getMode$$module$src$mode$$().test&&_.$JSCompiler_StaticMethods_unregisterTemplate$$();$AMP$jscomp$inline_3959$$.registerTemplate("amp-mustache",$AmpMustache$$module$extensions$amp_mustache$0_2$amp_mustache$$);
})});

//# sourceMappingURL=amp-mustache-0.2.js.map
