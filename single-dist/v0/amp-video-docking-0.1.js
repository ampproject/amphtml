(self.AMP=self.AMP||[]).push({n:"amp-video-docking",i:["_base_i","_base_media"],v:"1904281823091",f:(function(AMP,_){
var $applyBreakpointClassname$$module$extensions$amp_video_docking$0_1$breakpoints$$=function($element$jscomp$727$$,$width$jscomp$76$$,$breakpoints$$){$breakpoints$$=$breakpoints$$.sort(function($element$jscomp$727$$,$width$jscomp$76$$){return $width$jscomp$76$$.minWidth-$element$jscomp$727$$.minWidth});var $maxBreakpoint$$=-1;$breakpoints$$.forEach(function($breakpoints$$){var $$jscomp$destructuring$var643_minWidth$jscomp$2$$=$breakpoints$$.className;$breakpoints$$=$breakpoints$$.minWidth;$breakpoints$$<=
$width$jscomp$76$$&&$breakpoints$$>$maxBreakpoint$$?($element$jscomp$727$$.classList.add($$jscomp$destructuring$var643_minWidth$jscomp$2$$),$maxBreakpoint$$=$breakpoints$$):$element$jscomp$727$$.classList.remove($$jscomp$destructuring$var643_minWidth$jscomp$2$$)})},$calculateRightJustifiedX$$module$extensions$amp_video_docking$0_1$math$$=function($containerWidth$jscomp$7$$,$itemWidth$jscomp$1$$,$itemMargin$jscomp$1$$,$step$$){return $step$$*($containerWidth$jscomp$7$$-$itemWidth$jscomp$1$$-2*$itemMargin$jscomp$1$$)},
$calculateLeftJustifiedX$$module$extensions$amp_video_docking$0_1$math$$=function($containerWidth$jscomp$8$$,$itemWidth$jscomp$2$$,$itemMargin$jscomp$2$$,$step$jscomp$1$$){return-$step$jscomp$1$$*($containerWidth$jscomp$8$$-$itemWidth$jscomp$2$$-2*$itemMargin$jscomp$2$$)},$pointerCoords$$module$extensions$amp_video_docking$0_1$events$$=function($coords_e$jscomp$320$$){$coords_e$jscomp$320$$=$coords_e$jscomp$320$$.touches?$coords_e$jscomp$320$$.touches[0]:$coords_e$jscomp$320$$;return{x:"x"in $coords_e$jscomp$320$$?
$coords_e$jscomp$320$$.x:$coords_e$jscomp$320$$.clientX,y:"y"in $coords_e$jscomp$320$$?$coords_e$jscomp$320$$.y:$coords_e$jscomp$320$$.clientY}},$Timeout$$module$extensions$amp_video_docking$0_1$timeout$$=function($win$jscomp$493$$,$handler$jscomp$62$$){this.$F$=_.$Services$$module$src$services$timerFor$$($win$jscomp$493$$);this.$G$=$handler$jscomp$62$$;this.$D$=null},$swap$$module$extensions$amp_video_docking$0_1$controls$$=function($a$jscomp$285$$,$b$jscomp$261$$){_.$toggle$$module$src$style$$($a$jscomp$285$$,
!1);_.$toggle$$module$src$style$$($b$jscomp$261$$,!0)},$Controls$$module$extensions$amp_video_docking$0_1$controls$$=function($ampdoc$jscomp$256$$){var $$jscomp$this$jscomp$1365$$=this;this.$ampdoc_$=$ampdoc$jscomp$256$$;var $html$jscomp$40_refs$jscomp$2$$=_.$htmlFor$$module$src$static_template$$($ampdoc$jscomp$256$$.$getBody$());this.container=$html$jscomp$40_refs$jscomp$2$$($_template2$$module$extensions$amp_video_docking$0_1$controls$$);this.$D$=$html$jscomp$40_refs$jscomp$2$$($_template$$module$extensions$amp_video_docking$0_1$controls$$);
this.$S$=_.$once$$module$src$utils$function$$(function(){return _.$Services$$module$src$services$videoManagerForDoc$$($ampdoc$jscomp$256$$)});$html$jscomp$40_refs$jscomp$2$$=_.$htmlRefs$$module$src$static_template$$(this.container);this.$V$=$html$jscomp$40_refs$jscomp$2$$.dismissButton;this.$K$=$html$jscomp$40_refs$jscomp$2$$.playButton;this.$J$=$html$jscomp$40_refs$jscomp$2$$.pauseButton;this.$I$=$html$jscomp$40_refs$jscomp$2$$.muteButton;this.$M$=$html$jscomp$40_refs$jscomp$2$$.unmuteButton;this.$X$=
$html$jscomp$40_refs$jscomp$2$$.fullscreenButton;this.$W$=$html$jscomp$40_refs$jscomp$2$$.dismissContainer;this.$P$=this.$O$=!1;this.$Y$=_.$once$$module$src$utils$function$$(function(){return new $Timeout$$module$extensions$amp_video_docking$0_1$timeout$$($$jscomp$this$jscomp$1365$$.$ampdoc_$.$win$,function(){$$jscomp$this$jscomp$1365$$.$hide$(!0)})});this.$R$=[];this.$G$=this.$U$=this.$H$=this.$F$=null;$JSCompiler_StaticMethods_hideOnTapOutside_$$(this);$JSCompiler_StaticMethods_showOnTapOrHover_$$(this)},
$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$disable$$=function($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$disable$self$$){_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$info$("amp-video-docking-controls","disable");$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$disable$self$$.$O$=!0},$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$enable$$=
function($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$enable$self$$){_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$info$("amp-video-docking-controls","enable");$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$enable$self$$.$O$=!1},$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$$=function($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$,
$video$jscomp$32$$){$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$unlisten_$$($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$);var $element$jscomp$728$$=$video$jscomp$32$$.element;$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.$R$.push($JSCompiler_StaticMethods_listenWhenEnabled_$$($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$,
$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.$V$,"click",function(){$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.container.dispatchEvent(_.$createCustomEvent$$module$src$event_helper$$($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.$ampdoc_$.$win$,"dock-dismiss-on-tap",void 0))}),$JSCompiler_StaticMethods_listenWhenEnabled_$$($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$,
$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.$K$,"click",function(){$video$jscomp$32$$.play(!1)}),$JSCompiler_StaticMethods_listenWhenEnabled_$$($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$,$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.$J$,"click",function(){$video$jscomp$32$$.pause()}),$JSCompiler_StaticMethods_listenWhenEnabled_$$($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$,
$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.$I$,"click",function(){$video$jscomp$32$$.$mute$()}),$JSCompiler_StaticMethods_listenWhenEnabled_$$($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$,$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.$M$,"click",function(){$video$jscomp$32$$.$unmute$()}),$JSCompiler_StaticMethods_listenWhenEnabled_$$($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$,
$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.$X$,"click",function(){$video$jscomp$32$$.$fullscreenEnter$()}),_.$listen$$module$src$event_helper$$($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.container,"mouseup",function(){return $JSCompiler_StaticMethods_hideOnTimeout$$($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$,
800)}),_.$listen$$module$src$event_helper$$($element$jscomp$728$$,_.$VideoEvents$$module$src$video_interface$$.$PLAYING$,function(){var $video$jscomp$32$$=$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.$K$,$element$jscomp$728$$=$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.$J$;$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.$P$=
!1;$swap$$module$extensions$amp_video_docking$0_1$controls$$($video$jscomp$32$$,$element$jscomp$728$$)}),_.$listen$$module$src$event_helper$$($element$jscomp$728$$,_.$VideoEvents$$module$src$video_interface$$.$PAUSE$,function(){var $video$jscomp$32$$=$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.$J$,$element$jscomp$728$$=$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.$K$;
$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.$P$=!0;$swap$$module$extensions$amp_video_docking$0_1$controls$$($video$jscomp$32$$,$element$jscomp$728$$)}),_.$listen$$module$src$event_helper$$($element$jscomp$728$$,_.$VideoEvents$$module$src$video_interface$$.$MUTED$,function(){$swap$$module$extensions$amp_video_docking$0_1$controls$$($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.$I$,
$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.$M$)}),_.$listen$$module$src$event_helper$$($element$jscomp$728$$,_.$VideoEvents$$module$src$video_interface$$.$UNMUTED$,function(){$swap$$module$extensions$amp_video_docking$0_1$controls$$($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.$M$,$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$self$$.$I$)}))},
$JSCompiler_StaticMethods_listenWhenEnabled_$$=function($JSCompiler_StaticMethods_listenWhenEnabled_$self$$,$element$jscomp$729$$,$eventType$jscomp$67$$,$callback$jscomp$177$$){return _.$listen$$module$src$event_helper$$($element$jscomp$729$$,$eventType$jscomp$67$$,function(){$JSCompiler_StaticMethods_listenWhenEnabled_$self$$.$O$||$callback$jscomp$177$$()})},$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$unlisten_$$=function($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$unlisten_$self$$){for(;0<
$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$unlisten_$self$$.$R$.length;)$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$unlisten_$self$$.$R$.pop().call()},$JSCompiler_StaticMethods_hideOnTimeout$$=function($JSCompiler_StaticMethods_hideOnTimeout$self$$,$timeout$jscomp$23$$){$timeout$jscomp$23$$=void 0===$timeout$jscomp$23$$?1200:$timeout$jscomp$23$$;$JSCompiler_StaticMethods_hideOnTimeout$self$$.$Y$().$trigger$($timeout$jscomp$23$$)},
$JSCompiler_StaticMethods_showOnTapOrHover_$$=function($JSCompiler_StaticMethods_showOnTapOrHover_$self$$){function $boundShow$$(){return $JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$show_$$($JSCompiler_StaticMethods_showOnTapOrHover_$self$$)}var $overlay$$=$JSCompiler_StaticMethods_showOnTapOrHover_$self$$.$D$;$JSCompiler_StaticMethods_listenWhenEnabled_$$($JSCompiler_StaticMethods_showOnTapOrHover_$self$$,$overlay$$,"click",$boundShow$$);$JSCompiler_StaticMethods_listenWhenEnabled_$$($JSCompiler_StaticMethods_showOnTapOrHover_$self$$,
$overlay$$,"mouseover",$boundShow$$)},$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$show_$$=function($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$show_$self$$){$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$show_$self$$.$ampdoc_$.$win$.requestAnimationFrame(function(){var $container$jscomp$inline_5414$$=$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$show_$self$$.container,
$overlay$jscomp$inline_5415$$=$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$show_$self$$.$D$,$playButton$jscomp$inline_5416$$=$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$show_$self$$.$K$,$pauseButton$jscomp$inline_5417$$=$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$show_$self$$.$J$,$muteButton$jscomp$inline_5418$$=$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$show_$self$$.$I$,
$unmuteButton$jscomp$inline_5419$$=$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$show_$self$$.$M$;_.$toggle$$module$src$style$$($container$jscomp$inline_5414$$,!0);$container$jscomp$inline_5414$$.classList.add("amp-video-docked-controls-shown");$overlay$jscomp$inline_5415$$.classList.add("amp-video-docked-controls-bg");$JSCompiler_StaticMethods_listenToMouseMove_$$($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$show_$self$$);
"paused"!=$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$show_$self$$.$S$().$getPlayingState$($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$show_$self$$.$G$)?$swap$$module$extensions$amp_video_docking$0_1$controls$$($playButton$jscomp$inline_5416$$,$pauseButton$jscomp$inline_5417$$):$swap$$module$extensions$amp_video_docking$0_1$controls$$($pauseButton$jscomp$inline_5417$$,$playButton$jscomp$inline_5416$$);
$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$show_$self$$.$S$().$isMuted$($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$show_$self$$.$G$)?$swap$$module$extensions$amp_video_docking$0_1$controls$$($muteButton$jscomp$inline_5418$$,$unmuteButton$jscomp$inline_5419$$):$swap$$module$extensions$amp_video_docking$0_1$controls$$($unmuteButton$jscomp$inline_5419$$,$muteButton$jscomp$inline_5418$$);$JSCompiler_StaticMethods_hideOnTimeout$$($JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$show_$self$$)})},
$JSCompiler_StaticMethods_positionOnVsync$$=function($JSCompiler_StaticMethods_positionOnVsync$self_dismissContainer$$,$scale$jscomp$14$$,$centerX_x$jscomp$123$$,$centerY$jscomp$1_y$jscomp$93$$,$width$jscomp$77$$,$height$jscomp$83$$){var $container$jscomp$47$$=$JSCompiler_StaticMethods_positionOnVsync$self_dismissContainer$$.container;$JSCompiler_StaticMethods_positionOnVsync$self_dismissContainer$$=$JSCompiler_StaticMethods_positionOnVsync$self_dismissContainer$$.$W$;var $halfScale$$=$scale$jscomp$14$$/
2;$centerX_x$jscomp$123$$+=$width$jscomp$77$$*$halfScale$$;$centerY$jscomp$1_y$jscomp$93$$+=$height$jscomp$83$$*$halfScale$$;$applyBreakpointClassname$$module$extensions$amp_video_docking$0_1$breakpoints$$($container$jscomp$47$$,$scale$jscomp$14$$*$width$jscomp$77$$,$BREAKPOINTS$$module$extensions$amp_video_docking$0_1$controls$$);_.$setImportantStyles$$module$src$style$$($container$jscomp$47$$,{transform:_.$translate$$module$src$style$$($centerX_x$jscomp$123$$,$centerY$jscomp$1_y$jscomp$93$$)});
_.$setImportantStyles$$module$src$style$$($JSCompiler_StaticMethods_positionOnVsync$self_dismissContainer$$,{transform:_.$translate$$module$src$style$$($width$jscomp$77$$*$halfScale$$-4-40,-($height$jscomp$83$$*$halfScale$$-4-40))})},$JSCompiler_StaticMethods_hideOnTapOutside_$$=function($JSCompiler_StaticMethods_hideOnTapOutside_$self$$){_.$listen$$module$src$event_helper$$($JSCompiler_StaticMethods_hideOnTapOutside_$self$$.$ampdoc_$.getRootNode(),"mousedown",function($e$jscomp$321_target$jscomp$inline_5422$$){$e$jscomp$321_target$jscomp$inline_5422$$=
$e$jscomp$321_target$jscomp$inline_5422$$.target;$e$jscomp$321_target$jscomp$inline_5422$$==$JSCompiler_StaticMethods_hideOnTapOutside_$self$$.$D$||_.$closestAncestorElementBySelector$$module$src$dom$$($e$jscomp$321_target$jscomp$inline_5422$$,".amp-video-docked-controls")||$JSCompiler_StaticMethods_hideOnTapOutside_$self$$.$hide$(!0)})},$JSCompiler_StaticMethods_listenToMouseMove_$$=function($JSCompiler_StaticMethods_listenToMouseMove_$self$$){$JSCompiler_StaticMethods_listenToMouseMove_$self$$.$F$||
($JSCompiler_StaticMethods_listenToMouseMove_$self$$.$F$=_.$listen$$module$src$event_helper$$($JSCompiler_StaticMethods_listenToMouseMove_$self$$.$D$,"mousemove",function(){$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$show_$$($JSCompiler_StaticMethods_listenToMouseMove_$self$$)}),$JSCompiler_StaticMethods_listenToMouseMove_$self$$.$H$=_.$listen$$module$src$event_helper$$($JSCompiler_StaticMethods_listenToMouseMove_$self$$.$D$,"mouseout",function($e$jscomp$322_x$jscomp$124$$){var $$jscomp$destructuring$var654_y$jscomp$94$$=
$pointerCoords$$module$extensions$amp_video_docking$0_1$events$$($e$jscomp$322_x$jscomp$124$$);$e$jscomp$322_x$jscomp$124$$=$$jscomp$destructuring$var654_y$jscomp$94$$.x;$$jscomp$destructuring$var654_y$jscomp$94$$=$$jscomp$destructuring$var654_y$jscomp$94$$.y;var $$jscomp$destructuring$var655$$=$JSCompiler_StaticMethods_listenToMouseMove_$self$$.$U$,$top$jscomp$17$$=$$jscomp$destructuring$var655$$.top,$right$jscomp$11$$=$$jscomp$destructuring$var655$$.right,$bottom$jscomp$4$$=$$jscomp$destructuring$var655$$.bottom;
if($e$jscomp$322_x$jscomp$124$$<$$jscomp$destructuring$var655$$.left||$e$jscomp$322_x$jscomp$124$$>$right$jscomp$11$$||$$jscomp$destructuring$var654_y$jscomp$94$$<$top$jscomp$17$$||$$jscomp$destructuring$var654_y$jscomp$94$$>$bottom$jscomp$4$$)$JSCompiler_StaticMethods_listenToMouseMove_$self$$.$hide$(!0),$JSCompiler_StaticMethods_listenToMouseMove_$self$$.$F$&&($JSCompiler_StaticMethods_listenToMouseMove_$self$$.$F$(),$JSCompiler_StaticMethods_listenToMouseMove_$self$$.$F$=null),$JSCompiler_StaticMethods_listenToMouseMove_$self$$.$H$&&
($JSCompiler_StaticMethods_listenToMouseMove_$self$$.$H$(),$JSCompiler_StaticMethods_listenToMouseMove_$self$$.$H$=null)}))},$throttleByAnimationFrame$$module$extensions$amp_video_docking$0_1$amp_video_docking$$=function($win$jscomp$494$$,$fn$jscomp$25$$){var $running$$=!1;return function($args$jscomp$63$$){for(var $$jscomp$restParams$jscomp$6$$=[],$$jscomp$restIndex$jscomp$6$$=0;$$jscomp$restIndex$jscomp$6$$<arguments.length;++$$jscomp$restIndex$jscomp$6$$)$$jscomp$restParams$jscomp$6$$[$$jscomp$restIndex$jscomp$6$$]=
arguments[$$jscomp$restIndex$jscomp$6$$];$running$$||($running$$=!0,$win$jscomp$494$$.requestAnimationFrame(function(){$fn$jscomp$25$$.apply(null,$$jscomp$restParams$jscomp$6$$);$running$$=!1}))}},$isSizedLayoutRect$$module$extensions$amp_video_docking$0_1$amp_video_docking$$=function($$jscomp$destructuring$var657$$){var $height$jscomp$84$$=$$jscomp$destructuring$var657$$.height;return 0<$$jscomp$destructuring$var657$$.width&&0<$height$jscomp$84$$},$targetsEqual$$module$extensions$amp_video_docking$0_1$amp_video_docking$$=
function($a$jscomp$286$$,$b$jscomp$262$$){return 1==$a$jscomp$286$$.nodeType?$a$jscomp$286$$==$b$jscomp$262$$:$a$jscomp$286$$.$posX$==$b$jscomp$262$$.$posX$},$VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking$$=function($ampdoc$jscomp$257$$,$opt_injectedPositionObserver$$){var $$jscomp$this$jscomp$1372$$=this;this.$ampdoc_$=$ampdoc$jscomp$257$$;this.$fa$=_.$once$$module$src$utils$function$$(function(){return _.$Services$$module$src$services$videoManagerForDoc$$($ampdoc$jscomp$257$$)});
this.$F$=_.$Services$$module$src$services$viewportForDoc$$($ampdoc$jscomp$257$$);this.$D$=null;this.$ba$=_.$isRTL$$module$src$dom$$(this.$ampdoc_$.getRootNode())?0:1;var $html$jscomp$43$$=_.$htmlFor$$module$src$static_template$$(this.$ampdoc_$.getRootNode());this.$V$=_.$once$$module$src$utils$function$$(function(){return $JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$append_$$($$jscomp$this$jscomp$1372$$,$html$jscomp$43$$($_template$$module$extensions$amp_video_docking$0_1$amp_video_docking$$))});
this.$G$=_.$once$$module$src$utils$function$$(function(){return $JSCompiler_StaticMethods_installControls_$$($$jscomp$this$jscomp$1372$$)});this.$U$=_.$once$$module$src$utils$function$$(function(){return $JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$append_$$($$jscomp$this$jscomp$1372$$,$html$jscomp$43$$($_template2$$module$extensions$amp_video_docking$0_1$amp_video_docking$$))});this.$M$=_.$once$$module$src$utils$function$$(function(){return _.$htmlRefs$$module$src$static_template$$($$jscomp$this$jscomp$1372$$.$U$())});
this.$R$=this.$J$=this.$I$=this.$X$=this.$aa$=null;this.$S$=_.$JSCompiler_StaticMethods_Viewport$$module$src$service$viewport$viewport_impl_prototype$getScrollTop$$(this.$F$);this.$W$=!1;this.$K$=this.$P$=0;this.$Y$=[];this.$ea$=_.$once$$module$src$utils$function$$(function(){var $ampdoc$jscomp$257$$=$$jscomp$this$jscomp$1372$$.$ampdoc_$;_.$JSCompiler_StaticMethods_Viewport$$module$src$service$viewport$viewport_impl_prototype$onScroll$$($$jscomp$this$jscomp$1372$$.$F$,$throttleByAnimationFrame$$module$extensions$amp_video_docking$0_1$amp_video_docking$$($ampdoc$jscomp$257$$.$win$,
function(){var $ampdoc$jscomp$257$$=_.$JSCompiler_StaticMethods_Viewport$$module$src$service$viewport$viewport_impl_prototype$getScrollTop$$($$jscomp$this$jscomp$1372$$.$F$);5>Math.abs($ampdoc$jscomp$257$$-$$jscomp$this$jscomp$1372$$.$S$)||($$jscomp$this$jscomp$1372$$.$R$=$ampdoc$jscomp$257$$>$$jscomp$this$jscomp$1372$$.$S$?1:-1,$$jscomp$this$jscomp$1372$$.$S$=$ampdoc$jscomp$257$$)}));_.$JSCompiler_StaticMethods_Viewport$$module$src$service$viewport$viewport_impl_prototype$onResize$$($$jscomp$this$jscomp$1372$$.$F$,
function(){return $JSCompiler_StaticMethods_updateAllOnResize_$$($$jscomp$this$jscomp$1372$$)});_.$installStylesForDoc$$module$src$style_installer$$($ampdoc$jscomp$257$$,".amp-video-docked-controls{opacity:0;pointer-events:none!important;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;height:120px}.amp-video-docked-main-button-group{height:40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:-20px 0 0 -60px}.amp-large>.amp-video-docked-main-button-group{margin-left:-70px}.amp-large>.amp-video-docked-main-button-group>.amp-video-docked-button-group{margin-right:10px}.amp-large>.amp-video-docked-button-dismiss-group{margin:6px 0 0 -6px}.amp-small>.amp-video-docked-button-dismiss-group,.amp-small>.amp-video-docked-button-dismiss-group>div[role=button]{min-width:32px;height:32px;border-radius:32px;background-size:20px 20px}.amp-small>.amp-video-docked-button-dismiss-group{margin-left:8px}.amp-video-docked-controls-shown{opacity:1;pointer-events:initial!important}.amp-video-docked-button-group{margin:0}.amp-video-docked-button-dismiss-group,.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group,.amp-video-docked-button-group>div[role=button]{min-width:40px;height:40px;border-radius:40px}.amp-video-docked-button-dismiss-group:active,.amp-video-docked-button-group:active{background-color:hsla(0,0%,100%,0.7)}.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group,.amp-video-docked-button-group>div[role=button],.amp-video-docked-controls,.i-amphtml-video-docked-overlay{-webkit-tap-highlight-color:rgba(0,0,0,0)!important}.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group>div[role=button]{background-repeat:no-repeat;background-position:50%}.amp-video-docked-shadow{box-shadow:0px 0 20px 6px rgba(0,0,0,0.2)}.amp-video-docked-controls-bg{background:hsla(0,0%,90.2%,0.6)}.amp-video-docked-mute{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-unmute{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M16.5 12A4.5 4.5 0 0 0 14 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0 0 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 0 0 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-pause{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M6 19h4V5H6v14zm8-14v14h4V5h-4z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-play{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M8 5v14l11-7z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-fullscreen{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z'/%3E%3C/svg%3E\")}.amp-video-docked-dismiss{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-shadow,.i-amphtml-video-docked,.i-amphtml-video-docked-overlay{margin:0!important}.i-amphtml-video-docked{-webkit-transition-property:-webkit-transform!important;transition-property:-webkit-transform!important;transition-property:transform!important;transition-property:transform,-webkit-transform!important}.amp-video-docked-controls,.amp-video-docked-shadow,.i-amphtml-video-docked,.i-amphtml-video-docked-overlay{position:fixed!important;top:0!important;left:0!important;right:auto!important;bottom:auto!important;padding:0!important;min-width:0!important;min-height:0!important;max-width:auto!important;max-height:auto!important;-webkit-transform-origin:left top!important;transform-origin:left top!important;will-change:width,height,transition,transform,opacity}.i-amphtml-video-docked-overlay{opacity:0;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;contain:strict!important}.amp-video-docked-controls-bg{opacity:1}.i-amphtml-video-docked-overlay.amp-video-docked-almost-dismissed{opacity:1;background:hsla(0,0%,39.2%,0.1)}.i-amphtml-video-docked-shadow.amp-video-docked-almost-dismissed,.i-amphtml-video-docked.amp-video-docked-almost-dismissed{opacity:0.3}.amp-video-docked-button-dismiss-group{position:absolute;top:-40px}.amp-video-docked-placeholder-background{background:hsla(0,0%,78.4%,0.5);-webkit-transition-property:opacity;transition-property:opacity;overflow:hidden;pointer-events:none;z-index:0;opacity:0}.amp-video-docked-placeholder-icon{-webkit-mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h48v48H0z'/%3E%3Cpath d='M40 4H16c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4h24c2.2 0 4-1.8 4-4V8c0-2.2-1.8-4-4-4zM8 12H4v28c0 2.2 1.8 4 4 4h28v-4H8V12zm28 3.868L23.382 28.486l-2.828-2.828L33.212 13H25V9h15v15h-4v-8.132z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h48v48H0z'/%3E%3Cpath d='M40 4H16c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4h24c2.2 0 4-1.8 4-4V8c0-2.2-1.8-4-4-4zM8 12H4v28c0 2.2 1.8 4 4 4h28v-4H8V12zm28 3.868L23.382 28.486l-2.828-2.828L33.212 13H25V9h15v15h-4v-8.132z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");-webkit-mask-size:48px 48px;mask-size:48px 48px;height:48px;width:48px;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:bottom left;mask-position:bottom left;background:hsla(0,0%,39.2%,0.8);-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform;will-change:opacity,transform;position:absolute;bottom:40px;left:40px}.amp-video-docked-placeholder-icon.amp-rtl{-webkit-mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M-4-4h48v48H-4z'/%3E%3Cpath d='M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M-4-4h48v48H-4z'/%3E%3Cpath d='M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");left:auto;right:40px}.amp-video-docked-placeholder-icon.amp-small{-webkit-mask-size:32px 32px;mask-size:32px 32px;width:32px;height:32px;bottom:20px;left:20px}.amp-video-docked-placeholder-icon.amp-rtl.amp-small{left:auto;right:20px}.amp-video-docked-placeholder-background-poster{background-size:cover;background-repeat:no-repeat;-webkit-filter:blur(20px);filter:blur(20px);-webkit-transform:scale(1.1);transform:scale(1.1);opacity:0.3}.amp-video-docked-controls{z-index:2147483646!important}.i-amphtml-video-docked-overlay{z-index:2147483645!important}.i-amphtml-video-docked{z-index:2147483644!important}.amp-video-docked-shadow{z-index:2147483643!important}\n/*# sourceURL=/extensions/amp-video-docking/0.1/amp-video-docking.css*/",
null,!1,"amp-video-docking")});this.$H$=_.$once$$module$src$utils$function$$(function(){var $ampdoc$jscomp$257$$=$$jscomp$this$jscomp$1372$$.$ampdoc_$.getRootNode(),$opt_injectedPositionObserver$$=$ampdoc$jscomp$257$$.querySelector("[dock]");$opt_injectedPositionObserver$$;$opt_injectedPositionObserver$$=$opt_injectedPositionObserver$$.getAttribute("dock").trim();return""==$opt_injectedPositionObserver$$?null:$ampdoc$jscomp$257$$.querySelector($opt_injectedPositionObserver$$)});this.$Z$=$opt_injectedPositionObserver$$||
null;this.$O$=!1;$JSCompiler_StaticMethods_registerAll_$$(this)},$JSCompiler_StaticMethods_registerAll_$$=function($JSCompiler_StaticMethods_registerAll_$self$$){if($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$isEnabled_$$($JSCompiler_StaticMethods_registerAll_$self$$)){var $ampdoc$jscomp$259$$=$JSCompiler_StaticMethods_registerAll_$self$$.$ampdoc_$,$dockableElements_dockableSelector$$="["+_.$cssEscape$$module$third_party$css_escape$css_escape$$("dock")+
"]";$dockableElements_dockableSelector$$=$ampdoc$jscomp$259$$.getRootNode().querySelectorAll($dockableElements_dockableSelector$$);for(var $i$397$$=0;$i$397$$<$dockableElements_dockableSelector$$.length;$i$397$$++){var $element$jscomp$732$$=$dockableElements_dockableSelector$$[$i$397$$];$element$jscomp$732$$.signals&&$element$jscomp$732$$.signals().get(_.$VideoEvents$$module$src$video_interface$$.$REGISTERED$)&&$JSCompiler_StaticMethods_registerAll_$self$$.registerElement($element$jscomp$732$$)}_.$listen$$module$src$event_helper$$($ampdoc$jscomp$259$$.$getBody$(),
_.$VideoEvents$$module$src$video_interface$$.$REGISTERED$,function($ampdoc$jscomp$259$$){$ampdoc$jscomp$259$$=$ampdoc$jscomp$259$$.target;$ampdoc$jscomp$259$$.hasAttribute("dock")&&$JSCompiler_StaticMethods_registerAll_$self$$.registerElement($ampdoc$jscomp$259$$)})}},$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$isEnabled_$$=function($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$isEnabled_$self$$){return _.$JSCompiler_StaticMethods_isIos$$(_.$Services$$module$src$services$platformFor$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$isEnabled_$self$$.$ampdoc_$.$win$))&&
_.$Services$$module$src$services$viewerForDoc$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$isEnabled_$self$$.$ampdoc_$).$G$?!1:!0},$JSCompiler_StaticMethods_updateAllOnResize_$$=function($JSCompiler_StaticMethods_updateAllOnResize_$self$$){$JSCompiler_StaticMethods_updateAllOnResize_$self$$.$Y$.forEach(function($video$jscomp$34$$){return $JSCompiler_StaticMethods_updateOnResize_$$($JSCompiler_StaticMethods_updateAllOnResize_$self$$,
$video$jscomp$34$$)})},$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$append_$$=function($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$append_$self$$,$element$jscomp$735$$){return($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$append_$self$$.$ampdoc_$.getRootNode().body||$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$append_$self$$.$ampdoc_$.getRootNode()).appendChild($element$jscomp$735$$)},
$JSCompiler_StaticMethods_addDragListeners_$$=function($JSCompiler_StaticMethods_addDragListeners_$self$$,$element$jscomp$736$$){function $handler$jscomp$63$$($element$jscomp$736$$){return $JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$$($JSCompiler_StaticMethods_addDragListeners_$self$$,$element$jscomp$736$$)}_.$internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$736$$,"touchstart",$handler$jscomp$63$$,
void 0);_.$internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$736$$,"mousedown",$handler$jscomp$63$$,void 0)},$JSCompiler_StaticMethods_installControls_$$=function($JSCompiler_StaticMethods_installControls_$self$$){var $controls$$=new $Controls$$module$extensions$amp_video_docking$0_1$controls$$($JSCompiler_StaticMethods_installControls_$self$$.$ampdoc_$),$container$jscomp$50$$=$controls$$.container,$overlay$jscomp$4$$=$controls$$.$D$;_.$listen$$module$src$event_helper$$($container$jscomp$50$$,
"dock-dismiss-on-tap",function(){$JSCompiler_StaticMethods_installControls_$self$$.$G$().$hide$(!1,!0);$JSCompiler_StaticMethods_undock_$$($JSCompiler_StaticMethods_installControls_$self$$,$JSCompiler_StaticMethods_installControls_$self$$.$D$.video)});$JSCompiler_StaticMethods_addDragListeners_$$($JSCompiler_StaticMethods_installControls_$self$$,$container$jscomp$50$$);$JSCompiler_StaticMethods_addDragListeners_$$($JSCompiler_StaticMethods_installControls_$self$$,$overlay$jscomp$4$$);$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$append_$$($JSCompiler_StaticMethods_installControls_$self$$,
$container$jscomp$50$$);$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$append_$$($JSCompiler_StaticMethods_installControls_$self$$,$overlay$jscomp$4$$);return $controls$$},$JSCompiler_StaticMethods_getTargetFor_$$=function($JSCompiler_StaticMethods_getTargetFor_$self$$,$posY_video$jscomp$37$$){var $$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$;
if(!($$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$=$JSCompiler_StaticMethods_getTargetFor_$self$$.$W$)){$$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$=
$posY_video$jscomp$37$$.$getLayoutBox$();var $TAG$jscomp$inline_6984_height$jscomp$inline_5446_top$jscomp$inline_5452$$=$$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$.height;.98>$$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$.width/
$TAG$jscomp$inline_6984_height$jscomp$inline_5446_top$jscomp$inline_5452$$?($$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$=$posY_video$jscomp$37$$.element,$TAG$jscomp$inline_6984_height$jscomp$inline_5446_top$jscomp$inline_5452$$=$$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$.tagName.toUpperCase(),
_.$user$$module$src$log$$().error($TAG$jscomp$inline_6984_height$jscomp$inline_5446_top$jscomp$inline_5452$$,"Minimize-to-corner (`dock`) does not support portrait video.",$$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$),$$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$=
!1):$$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$=320<=$JSCompiler_StaticMethods_getRightEdge_$$($JSCompiler_StaticMethods_getTargetFor_$self$$)&&$JSCompiler_StaticMethods_getTargetFor_$self$$.$F$.$getSize$().height>=.7*$TAG$jscomp$inline_6984_height$jscomp$inline_5446_top$jscomp$inline_5452$$;
$$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$=!$$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$}!($$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$=
$$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$||$JSCompiler_StaticMethods_getTargetFor_$self$$.$D$&&!($JSCompiler_StaticMethods_getTargetFor_$self$$.$D$&&$JSCompiler_StaticMethods_getTargetFor_$self$$.$D$.video==$posY_video$jscomp$37$$))&&($$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$=
!$JSCompiler_StaticMethods_getTargetFor_$self$$.$D$)&&($$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$=(void 0===$posY_video$jscomp$37$$?null:$posY_video$jscomp$37$$)||$JSCompiler_StaticMethods_getTargetFor_$self$$.$D$.video,$$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$=
"playing_manual"!=$JSCompiler_StaticMethods_getTargetFor_$self$$.$fa$().$getPlayingState$($$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$));if($$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$)return null;
if($JSCompiler_StaticMethods_slotHasDimensions_$$($JSCompiler_StaticMethods_getTargetFor_$self$$)){$$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$=$JSCompiler_StaticMethods_getSlotRelativeY_$$($JSCompiler_StaticMethods_getTargetFor_$self$$);var $bottom$jscomp$inline_5453_intersectionRect$jscomp$inline_5451$$=
$posY_video$jscomp$37$$.element.$getIntersectionChangeEntry$().intersectionRect;if($isSizedLayoutRect$$module$extensions$amp_video_docking$0_1$amp_video_docking$$($bottom$jscomp$inline_5453_intersectionRect$jscomp$inline_5451$$)){$TAG$jscomp$inline_6984_height$jscomp$inline_5446_top$jscomp$inline_5452$$=$bottom$jscomp$inline_5453_intersectionRect$jscomp$inline_5451$$.top;$bottom$jscomp$inline_5453_intersectionRect$jscomp$inline_5451$$=$bottom$jscomp$inline_5453_intersectionRect$jscomp$inline_5451$$.bottom;
var $$jscomp$inline_5454_slotBottom$jscomp$inline_5457_slotHeight$jscomp$inline_5456$$=$JSCompiler_StaticMethods_getFixedLayoutBox_$$($JSCompiler_StaticMethods_getTargetFor_$self$$,$JSCompiler_StaticMethods_getTargetFor_$self$$.$H$()),$slotTop$jscomp$inline_5455$$=$$jscomp$inline_5454_slotBottom$jscomp$inline_5457_slotHeight$jscomp$inline_5456$$.top;$$jscomp$inline_5454_slotBottom$jscomp$inline_5457_slotHeight$jscomp$inline_5456$$=$$jscomp$inline_5454_slotBottom$jscomp$inline_5457_slotHeight$jscomp$inline_5456$$.height;
$$jscomp$inline_5454_slotBottom$jscomp$inline_5457_slotHeight$jscomp$inline_5456$$=$JSCompiler_StaticMethods_getTargetFor_$self$$.$F$.$getSize$().height-$$jscomp$inline_5454_slotBottom$jscomp$inline_5457_slotHeight$jscomp$inline_5456$$-$slotTop$jscomp$inline_5455$$;$$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$=
0==$$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$?$TAG$jscomp$inline_6984_height$jscomp$inline_5446_top$jscomp$inline_5452$$<=$slotTop$jscomp$inline_5455$$:$bottom$jscomp$inline_5453_intersectionRect$jscomp$inline_5451$$>=$$jscomp$inline_5454_slotBottom$jscomp$inline_5457_slotHeight$jscomp$inline_5456$$}else $$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$=
!1}else $$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$=!1;if($$jscomp$inline_5445_JSCompiler_inline_result$jscomp$1104_JSCompiler_inline_result$jscomp$1107_JSCompiler_temp$jscomp$1106_JSCompiler_temp$jscomp$6011_JSCompiler_temp$jscomp$6012_element$jscomp$inline_6983_relativeY$jscomp$inline_5450_video$jscomp$inline_6988$$)return $JSCompiler_StaticMethods_getTargetFor_$self$$.$H$();
$posY_video$jscomp$37$$=$JSCompiler_StaticMethods_maybeGetRelativeY_$$($JSCompiler_StaticMethods_getTargetFor_$self$$,$posY_video$jscomp$37$$);return null===$posY_video$jscomp$37$$?$posY_video$jscomp$37$$:{$posY$:$posY_video$jscomp$37$$,$posX$:$JSCompiler_StaticMethods_getTargetFor_$self$$.$ba$}},$JSCompiler_StaticMethods_getFixedLayoutBox_$$=function($JSCompiler_StaticMethods_getFixedLayoutBox_$self_dy$jscomp$21$$,$element$jscomp$738$$){$JSCompiler_StaticMethods_getFixedLayoutBox_$self_dy$jscomp$21$$=
-_.$JSCompiler_StaticMethods_Viewport$$module$src$service$viewport$viewport_impl_prototype$getScrollTop$$($JSCompiler_StaticMethods_getFixedLayoutBox_$self_dy$jscomp$21$$.$F$);return _.$moveLayoutRect$$module$src$layout_rect$$($element$jscomp$738$$.$getLayoutBox$(),0,$JSCompiler_StaticMethods_getFixedLayoutBox_$self_dy$jscomp$21$$)},$JSCompiler_StaticMethods_slotHasDimensions_$$=function($$jscomp$destructuring$var664_JSCompiler_StaticMethods_slotHasDimensions_$self$$){if(!$$jscomp$destructuring$var664_JSCompiler_StaticMethods_slotHasDimensions_$self$$.$H$())return!1;
$$jscomp$destructuring$var664_JSCompiler_StaticMethods_slotHasDimensions_$self$$=$JSCompiler_StaticMethods_getFixedLayoutBox_$$($$jscomp$destructuring$var664_JSCompiler_StaticMethods_slotHasDimensions_$self$$,$$jscomp$destructuring$var664_JSCompiler_StaticMethods_slotHasDimensions_$self$$.$H$());var $height$jscomp$85$$=$$jscomp$destructuring$var664_JSCompiler_StaticMethods_slotHasDimensions_$self$$.height;return 0<$$jscomp$destructuring$var664_JSCompiler_StaticMethods_slotHasDimensions_$self$$.width&&
0<$height$jscomp$85$$},$JSCompiler_StaticMethods_updateOnResize_$$=function($JSCompiler_StaticMethods_updateOnResize_$self$$,$video$jscomp$39$$){$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$raf_$$($JSCompiler_StaticMethods_updateOnResize_$self$$,function(){var $target$jscomp$219$$=$JSCompiler_StaticMethods_getTargetFor_$$($JSCompiler_StaticMethods_updateOnResize_$self$$,$video$jscomp$39$$);$target$jscomp$219$$?$JSCompiler_StaticMethods_dock_$$($JSCompiler_StaticMethods_updateOnResize_$self$$,
$video$jscomp$39$$,$target$jscomp$219$$,1):$JSCompiler_StaticMethods_updateOnResize_$self$$.$D$&&$JSCompiler_StaticMethods_updateOnResize_$self$$.$D$.video==$video$jscomp$39$$&&$JSCompiler_StaticMethods_undock_$$($JSCompiler_StaticMethods_updateOnResize_$self$$,$video$jscomp$39$$)})},$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$raf_$$=function($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$raf_$self$$,
$cb$jscomp$14$$){$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$raf_$self$$.$ampdoc_$.$win$.requestAnimationFrame($cb$jscomp$14$$)},$JSCompiler_StaticMethods_getRightEdge_$$=function($JSCompiler_StaticMethods_getRightEdge_$self$$){return $JSCompiler_StaticMethods_getRightEdge_$self$$.$F$.$getSize$().width},$JSCompiler_StaticMethods_maybeGetRelativeY_$$=function($JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$5$$,
$video$jscomp$44$$){if($JSCompiler_StaticMethods_slotHasDimensions_$$($JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$5$$))return null;if($JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$5$$.$D$&&$JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$5$$.$D$.video==$video$jscomp$44$$&&1!=$JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$5$$.$D$.target.nodeType)return $JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$5$$.$D$.target.$posY$;
$JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$5$$=$video$jscomp$44$$.element.$getIntersectionChangeEntry$().intersectionRect;if(!$isSizedLayoutRect$$module$extensions$amp_video_docking$0_1$amp_video_docking$$($JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$5$$)||0<$JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$5$$.top)return null;_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$info$("amp-video-docking","should dock at Y = TOP",
{video:$video$jscomp$44$$,intersectionRect:$JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$5$$});return 0},$JSCompiler_StaticMethods_getSlotRelativeY_$$=function($JSCompiler_StaticMethods_getSlotRelativeY_$self$$){var $$jscomp$destructuring$var668_height$jscomp$87$$=$JSCompiler_StaticMethods_getFixedLayoutBox_$$($JSCompiler_StaticMethods_getSlotRelativeY_$self$$,$JSCompiler_StaticMethods_getSlotRelativeY_$self$$.$H$()),$top$jscomp$19$$=$$jscomp$destructuring$var668_height$jscomp$87$$.top;
$$jscomp$destructuring$var668_height$jscomp$87$$=$$jscomp$destructuring$var668_height$jscomp$87$$.height;return $JSCompiler_StaticMethods_getSlotRelativeY_$self$$.$F$.$getSize$().height-$$jscomp$destructuring$var668_height$jscomp$87$$-$top$jscomp$19$$>$top$jscomp$19$$?0:1},$JSCompiler_StaticMethods_dockInTransferLayerStep_$$=function($JSCompiler_StaticMethods_dockInTransferLayerStep_$self$$,$video$jscomp$47$$,$target$jscomp$222$$,$opt_step$$){var $step$jscomp$3$$=$opt_step$$||.1;return.3<$step$jscomp$3$$?
$JSCompiler_StaticMethods_dock_$$($JSCompiler_StaticMethods_dockInTransferLayerStep_$self$$,$video$jscomp$47$$,$target$jscomp$222$$,1):$JSCompiler_StaticMethods_dock_$$($JSCompiler_StaticMethods_dockInTransferLayerStep_$self$$,$video$jscomp$47$$,$target$jscomp$222$$,$step$jscomp$3$$,!0).then(function(){return new Promise(function($opt_step$$){$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$raf_$$($JSCompiler_StaticMethods_dockInTransferLayerStep_$self$$,
function(){$JSCompiler_StaticMethods_dockInTransferLayerStep_$$($JSCompiler_StaticMethods_dockInTransferLayerStep_$self$$,$video$jscomp$47$$,$target$jscomp$222$$,$step$jscomp$3$$+.1).then($opt_step$$)})})})},$JSCompiler_StaticMethods_dock_$$=function($JSCompiler_StaticMethods_dock_$self$$,$video$jscomp$48$$,$target$jscomp$223$$,$step$jscomp$4$$,$opt_isTransferLayerStep$$){_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$info$("amp-video-docking","dock",{video:$video$jscomp$48$$,target:$target$jscomp$223$$,
step:$step$jscomp$4$$});$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$removePosterForAndroidBug_$$($video$jscomp$48$$.element);var $$jscomp$destructuring$var670_relativeX$$=$JSCompiler_StaticMethods_getDims_$$($JSCompiler_StaticMethods_dock_$self$$,$video$jscomp$48$$,$target$jscomp$223$$,$step$jscomp$4$$),$x$jscomp$126$$=$$jscomp$destructuring$var670_relativeX$$.x,$y$jscomp$96$$=$$jscomp$destructuring$var670_relativeX$$.y,$scale$jscomp$16$$=
$$jscomp$destructuring$var670_relativeX$$.scale;$$jscomp$destructuring$var670_relativeX$$=$$jscomp$destructuring$var670_relativeX$$.$relativeX$;$video$jscomp$48$$.$hideControls$();var $transitionDurationMs$$=$JSCompiler_StaticMethods_dock_$self$$.$D$?300*Math.abs($step$jscomp$4$$-$JSCompiler_StaticMethods_dock_$self$$.$D$.step):0;$JSCompiler_StaticMethods_setCurrentlyDocked_$$($JSCompiler_StaticMethods_dock_$self$$,$video$jscomp$48$$,$target$jscomp$223$$,$step$jscomp$4$$);return $JSCompiler_StaticMethods_placeAt_$$($JSCompiler_StaticMethods_dock_$self$$,
$video$jscomp$48$$,$x$jscomp$126$$,$y$jscomp$96$$,$scale$jscomp$16$$,$step$jscomp$4$$,$transitionDurationMs$$,$$jscomp$destructuring$var670_relativeX$$).then(function(){$opt_isTransferLayerStep$$||$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$enable$$($JSCompiler_StaticMethods_dock_$self$$.$G$())})},$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$trigger_$$=function($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$trigger_$self_event$jscomp$259$$,
$action$jscomp$47$$){var $element$jscomp$741$$=$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$trigger_$self_event$jscomp$259$$.$D$&&1==$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$trigger_$self_event$jscomp$259$$.$D$.target.nodeType?$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$trigger_$self_event$jscomp$259$$.$H$():
$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$trigger_$self_event$jscomp$259$$.$D$.video.element;$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$trigger_$self_event$jscomp$259$$=_.$createCustomEvent$$module$src$event_helper$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$trigger_$self_event$jscomp$259$$.$ampdoc_$.$win$,
$action$jscomp$47$$,_.$dict$$module$src$utils$object$$({}));_.$Services$$module$src$services$actionServiceForDoc$$($element$jscomp$741$$).$trigger$($element$jscomp$741$$,$action$jscomp$47$$,$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$trigger_$self_event$jscomp$259$$,1)},$JSCompiler_StaticMethods_placeAt_$$=function($JSCompiler_StaticMethods_placeAt_$self$$,$video$jscomp$50$$,$x$jscomp$128$$,$y$jscomp$98$$,$scale$jscomp$18$$,$step$jscomp$6$$,
$transitionDurationMs$jscomp$1$$,$isPlacementRtl_opt_relativeX$$){function $setTransitionTiming$$($JSCompiler_StaticMethods_placeAt_$self$$){return _.$setImportantStyles$$module$src$style$$($JSCompiler_StaticMethods_placeAt_$self$$,{"transition-duration":$transitionDurationMs$jscomp$1$$+"ms","transition-timing-function":$transitionTiming$$})}if($JSCompiler_StaticMethods_placeAt_$self$$.$I$&&$JSCompiler_StaticMethods_placeAt_$self$$.$I$.x==$x$jscomp$128$$&&$JSCompiler_StaticMethods_placeAt_$self$$.$I$.y==
$y$jscomp$98$$&&$JSCompiler_StaticMethods_placeAt_$self$$.$I$.scale==$scale$jscomp$18$$)return Promise.resolve();$JSCompiler_StaticMethods_placeAt_$self$$.$O$=!0;var $$jscomp$destructuring$var673_isSmallPlaceholderIcon$$=$video$jscomp$50$$.$getLayoutBox$(),$width$jscomp$81$$=$$jscomp$destructuring$var673_isSmallPlaceholderIcon$$.width,$height$jscomp$89$$=$$jscomp$destructuring$var673_isSmallPlaceholderIcon$$.height;$JSCompiler_StaticMethods_placeAt_$self$$.$I$={x:$x$jscomp$128$$,y:$y$jscomp$98$$,
scale:$scale$jscomp$18$$};var $transitionTiming$$=0<$step$jscomp$6$$?"ease-out":"ease-in",$element$jscomp$743$$=$video$jscomp$50$$.element,$internalElement$jscomp$1$$=_.$getInternalVideoElementFor$$module$src$utils$video$$($element$jscomp$743$$),$shadowLayer$$=$JSCompiler_StaticMethods_placeAt_$self$$.$V$(),$overlay$jscomp$5$$=$JSCompiler_StaticMethods_placeAt_$self$$.$G$().$D$,$placeholderBackground$$=$JSCompiler_StaticMethods_placeAt_$self$$.$U$(),$placeholderIcon$$=$JSCompiler_StaticMethods_placeAt_$self$$.$M$().icon,
$hasRelativePlacement$$=_.$isFiniteNumber$$module$src$types$$($isPlacementRtl_opt_relativeX$$);$isPlacementRtl_opt_relativeX$$=0==$isPlacementRtl_opt_relativeX$$;$hasRelativePlacement$$&&($applyBreakpointClassname$$module$extensions$amp_video_docking$0_1$breakpoints$$($placeholderIcon$$,$width$jscomp$81$$,$PLACEHOLDER_ICON_BREAKPOINTS$$module$extensions$amp_video_docking$0_1$amp_video_docking$$),$placeholderIcon$$.classList.toggle("amp-rtl",$isPlacementRtl_opt_relativeX$$));var $boxNeedsSizing$$=
$JSCompiler_StaticMethods_boxNeedsSizing_$$($JSCompiler_StaticMethods_placeAt_$self$$,$width$jscomp$81$$,$height$jscomp$89$$);$$jscomp$destructuring$var673_isSmallPlaceholderIcon$$=$placeholderIcon$$.classList.contains("amp-small");var $placeholderIconX$$=($isPlacementRtl_opt_relativeX$$?$calculateLeftJustifiedX$$module$extensions$amp_video_docking$0_1$math$$:$calculateRightJustifiedX$$module$extensions$amp_video_docking$0_1$math$$)($width$jscomp$81$$,$$jscomp$destructuring$var673_isSmallPlaceholderIcon$$?
32:48,$$jscomp$destructuring$var673_isSmallPlaceholderIcon$$?20:40,$step$jscomp$6$$);$video$jscomp$50$$.$mutateElement$(function(){$internalElement$jscomp$1$$.classList.add("i-amphtml-video-docked");_.$setImportantStyles$$module$src$style$$($element$jscomp$743$$,{overflow:"visible"});_.$toggle$$module$src$style$$($shadowLayer$$,!0);_.$toggle$$module$src$style$$($overlay$jscomp$5$$,!0);_.$JSCompiler_StaticMethods_applyFillContent$$($JSCompiler_StaticMethods_placeAt_$self$$.$M$().poster);_.$JSCompiler_StaticMethods_applyFillContent$$($placeholderBackground$$);
$JSCompiler_StaticMethods_setPosterImage_$$($JSCompiler_StaticMethods_placeAt_$self$$,$video$jscomp$50$$);$element$jscomp$743$$.appendChild($placeholderBackground$$);$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$raf_$$($JSCompiler_StaticMethods_placeAt_$self$$,function(){$video$jscomp$50$$.$mutateElement$(function(){_.$setImportantStyles$$module$src$style$$($placeholderBackground$$,{opacity:$step$jscomp$6$$});$setTransitionTiming$$($placeholderBackground$$);
$setTransitionTiming$$($placeholderIcon$$);$hasRelativePlacement$$&&_.$setImportantStyles$$module$src$style$$($placeholderIcon$$,{transform:"translate("+$placeholderIconX$$+"px, 0px) scale(1)"})})});[_.$getInternalVideoElementFor$$module$src$utils$video$$($video$jscomp$50$$.element),$JSCompiler_StaticMethods_placeAt_$self$$.$V$(),$JSCompiler_StaticMethods_placeAt_$self$$.$G$().$D$].forEach(function($JSCompiler_StaticMethods_placeAt_$self$$){_.$setImportantStyles$$module$src$style$$($JSCompiler_StaticMethods_placeAt_$self$$,
{transform:"translate("+$x$jscomp$128$$+"px, "+$y$jscomp$98$$+"px) scale("+$scale$jscomp$18$$+")"});$setTransitionTiming$$($JSCompiler_StaticMethods_placeAt_$self$$);$boxNeedsSizing$$&&_.$setImportantStyles$$module$src$style$$($JSCompiler_StaticMethods_placeAt_$self$$,{width:_.$px$$module$src$style$$($width$jscomp$81$$),height:_.$px$$module$src$style$$($height$jscomp$89$$),"min-width":_.$px$$module$src$style$$($width$jscomp$81$$),"min-height":_.$px$$module$src$style$$($height$jscomp$89$$)})});_.$setImportantStyles$$module$src$style$$($shadowLayer$$,
{opacity:$step$jscomp$6$$});$JSCompiler_StaticMethods_positionOnVsync$$($JSCompiler_StaticMethods_placeAt_$self$$.$G$(),$scale$jscomp$18$$,$x$jscomp$128$$,$y$jscomp$98$$,$width$jscomp$81$$,$height$jscomp$89$$)});return _.$Services$$module$src$services$timerFor$$($JSCompiler_StaticMethods_placeAt_$self$$.$ampdoc_$.$win$).$promise$($transitionDurationMs$jscomp$1$$).then(function(){$JSCompiler_StaticMethods_placeAt_$self$$.$O$=!1})},$JSCompiler_StaticMethods_setPosterImage_$$=function($JSCompiler_StaticMethods_setPosterImage_$self_placeholderPoster$$,
$JSCompiler_inline_result$jscomp$1111_element$jscomp$inline_5465_imgEl$jscomp$inline_5469_posterSrc_video$jscomp$53$$){$JSCompiler_StaticMethods_setPosterImage_$self_placeholderPoster$$=$JSCompiler_StaticMethods_setPosterImage_$self_placeholderPoster$$.$M$().poster;a:{$JSCompiler_inline_result$jscomp$1111_element$jscomp$inline_5465_imgEl$jscomp$inline_5469_posterSrc_video$jscomp$53$$=$JSCompiler_inline_result$jscomp$1111_element$jscomp$inline_5465_imgEl$jscomp$inline_5469_posterSrc_video$jscomp$53$$.element;
for(var $attrs$jscomp$inline_5466$$=["poster","data-poster"],$i$401$jscomp$inline_5467$$=0;$i$401$jscomp$inline_5467$$<$attrs$jscomp$inline_5466$$.length;$i$401$jscomp$inline_5467$$++){var $attr$jscomp$inline_5468$$=$attrs$jscomp$inline_5466$$[$i$401$jscomp$inline_5467$$];if($JSCompiler_inline_result$jscomp$1111_element$jscomp$inline_5465_imgEl$jscomp$inline_5469_posterSrc_video$jscomp$53$$.hasAttribute($attr$jscomp$inline_5468$$)){$JSCompiler_inline_result$jscomp$1111_element$jscomp$inline_5465_imgEl$jscomp$inline_5469_posterSrc_video$jscomp$53$$=
$JSCompiler_inline_result$jscomp$1111_element$jscomp$inline_5465_imgEl$jscomp$inline_5469_posterSrc_video$jscomp$53$$.getAttribute($attr$jscomp$inline_5468$$);break a}}$JSCompiler_inline_result$jscomp$1111_element$jscomp$inline_5465_imgEl$jscomp$inline_5469_posterSrc_video$jscomp$53$$=($JSCompiler_inline_result$jscomp$1111_element$jscomp$inline_5465_imgEl$jscomp$inline_5469_posterSrc_video$jscomp$53$$=_.$scopedQuerySelector$$module$src$dom$$($JSCompiler_inline_result$jscomp$1111_element$jscomp$inline_5465_imgEl$jscomp$inline_5469_posterSrc_video$jscomp$53$$,
"amp-img[placeholder],img[placeholder],[placeholder] amp-img"))?$JSCompiler_inline_result$jscomp$1111_element$jscomp$inline_5465_imgEl$jscomp$inline_5469_posterSrc_video$jscomp$53$$.getAttribute("src"):void 0}$JSCompiler_inline_result$jscomp$1111_element$jscomp$inline_5465_imgEl$jscomp$inline_5469_posterSrc_video$jscomp$53$$?(_.$toggle$$module$src$style$$($JSCompiler_StaticMethods_setPosterImage_$self_placeholderPoster$$,!0),_.$setStyles$$module$src$style$$($JSCompiler_StaticMethods_setPosterImage_$self_placeholderPoster$$,
{"background-image":"url("+$JSCompiler_inline_result$jscomp$1111_element$jscomp$inline_5465_imgEl$jscomp$inline_5469_posterSrc_video$jscomp$53$$+")"})):_.$toggle$$module$src$style$$($JSCompiler_StaticMethods_setPosterImage_$self_placeholderPoster$$,!1)},$JSCompiler_StaticMethods_boxNeedsSizing_$$=function($JSCompiler_StaticMethods_boxNeedsSizing_$self$$,$width$jscomp$82$$,$height$jscomp$90$$){var $needsSizing$$=!$JSCompiler_StaticMethods_boxNeedsSizing_$self$$.$J$||$JSCompiler_StaticMethods_boxNeedsSizing_$self$$.$J$.width!=
$width$jscomp$82$$||$JSCompiler_StaticMethods_boxNeedsSizing_$self$$.$J$.height!=$height$jscomp$90$$;$needsSizing$$&&($JSCompiler_StaticMethods_boxNeedsSizing_$self$$.$J$={width:$width$jscomp$82$$,height:$height$jscomp$90$$});return $needsSizing$$},$JSCompiler_StaticMethods_setCurrentlyDocked_$$=function($JSCompiler_StaticMethods_setCurrentlyDocked_$self$$,$video$jscomp$55$$,$area$jscomp$inline_5473_target$jscomp$225$$,$JSCompiler_StaticMethods_setVideo$self$jscomp$inline_5471_step$jscomp$7$$){var $previouslyDocked$$=
$JSCompiler_StaticMethods_setCurrentlyDocked_$self$$.$D$;$JSCompiler_StaticMethods_setCurrentlyDocked_$self$$.$D$={video:$video$jscomp$55$$,target:$area$jscomp$inline_5473_target$jscomp$225$$,step:$JSCompiler_StaticMethods_setVideo$self$jscomp$inline_5471_step$jscomp$7$$};$previouslyDocked$$&&$targetsEqual$$module$extensions$amp_video_docking$0_1$amp_video_docking$$($area$jscomp$inline_5473_target$jscomp$225$$,$previouslyDocked$$.target)&&$previouslyDocked$$.video==$video$jscomp$55$$||($JSCompiler_StaticMethods_setVideo$self$jscomp$inline_5471_step$jscomp$7$$=
$JSCompiler_StaticMethods_setCurrentlyDocked_$self$$.$G$(),$area$jscomp$inline_5473_target$jscomp$225$$=$JSCompiler_StaticMethods_getTargetArea_$$($JSCompiler_StaticMethods_setCurrentlyDocked_$self$$,$video$jscomp$55$$,$area$jscomp$inline_5473_target$jscomp$225$$),$JSCompiler_StaticMethods_setVideo$self$jscomp$inline_5471_step$jscomp$7$$.$U$=$area$jscomp$inline_5473_target$jscomp$225$$,$JSCompiler_StaticMethods_setVideo$self$jscomp$inline_5471_step$jscomp$7$$.$G$!=$video$jscomp$55$$&&($JSCompiler_StaticMethods_setVideo$self$jscomp$inline_5471_step$jscomp$7$$.$G$=
$video$jscomp$55$$,$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$listen_$$($JSCompiler_StaticMethods_setVideo$self$jscomp$inline_5471_step$jscomp$7$$,$video$jscomp$55$$)),$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$trigger_$$($JSCompiler_StaticMethods_setCurrentlyDocked_$self$$,"dock"))},$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$isVisible_$$=
function($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$isVisible_$self_JSCompiler_inline_result$jscomp$1109$$,$element$jscomp$748_layoutBox$jscomp$inline_5478$$,$minRatio$jscomp$1$$){$minRatio$jscomp$1$$=void 0===$minRatio$jscomp$1$$?1:$minRatio$jscomp$1$$;var $target$jscomp$inline_5477_top$jscomp$inline_5479$$=$JSCompiler_StaticMethods_slotHasDimensions_$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$isVisible_$self_JSCompiler_inline_result$jscomp$1109$$)?
$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$isVisible_$self_JSCompiler_inline_result$jscomp$1109$$.$H$():null;$target$jscomp$inline_5477_top$jscomp$inline_5479$$=void 0===$target$jscomp$inline_5477_top$jscomp$inline_5479$$?null:$target$jscomp$inline_5477_top$jscomp$inline_5479$$;if(null!=$target$jscomp$inline_5477_top$jscomp$inline_5479$$&&1==$target$jscomp$inline_5477_top$jscomp$inline_5479$$.nodeType){$element$jscomp$748_layoutBox$jscomp$inline_5478$$=
$element$jscomp$748_layoutBox$jscomp$inline_5478$$.$getLayoutBox$();$target$jscomp$inline_5477_top$jscomp$inline_5479$$=$element$jscomp$748_layoutBox$jscomp$inline_5478$$.top;var $bottom$jscomp$inline_5480$$=$element$jscomp$748_layoutBox$jscomp$inline_5478$$.bottom,$height$jscomp$inline_5481$$=$element$jscomp$748_layoutBox$jscomp$inline_5478$$.height,$$jscomp$inline_5482_slotBottom$jscomp$inline_5484$$=$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$isVisible_$self_JSCompiler_inline_result$jscomp$1109$$.$H$().$getLayoutBox$(),
$slotTop$jscomp$inline_5483$$=$$jscomp$inline_5482_slotBottom$jscomp$inline_5484$$.top;$$jscomp$inline_5482_slotBottom$jscomp$inline_5484$$=$$jscomp$inline_5482_slotBottom$jscomp$inline_5484$$.bottom;$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$isVisible_$self_JSCompiler_inline_result$jscomp$1109$$=$isSizedLayoutRect$$module$extensions$amp_video_docking$0_1$amp_video_docking$$($element$jscomp$748_layoutBox$jscomp$inline_5478$$)?0==$JSCompiler_StaticMethods_getSlotRelativeY_$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$isVisible_$self_JSCompiler_inline_result$jscomp$1109$$)?
($bottom$jscomp$inline_5480$$-Math.max($target$jscomp$inline_5477_top$jscomp$inline_5479$$,$slotTop$jscomp$inline_5483$$))/$height$jscomp$inline_5481$$:($$jscomp$inline_5482_slotBottom$jscomp$inline_5484$$-$target$jscomp$inline_5477_top$jscomp$inline_5479$$)/$height$jscomp$inline_5481$$:0}else $JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$isVisible_$self_JSCompiler_inline_result$jscomp$1109$$=$element$jscomp$748_layoutBox$jscomp$inline_5478$$.$getIntersectionChangeEntry$().intersectionRatio;
return $JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$isVisible_$self_JSCompiler_inline_result$jscomp$1109$$>$minRatio$jscomp$1$$-.02},$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$$=function($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$,$$jscomp$destructuring$var682_e$jscomp$325_onDragMove$$){if($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$.$D$&&
!($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$.$D$&&1==$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$.$D$.target.nodeType||$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$.$O$)){var $initialX$$=$pointerCoords$$module$extensions$amp_video_docking$0_1$events$$($$jscomp$destructuring$var682_e$jscomp$325_onDragMove$$).x,
$offset$jscomp$33$$={x:0,y:0};$$jscomp$destructuring$var682_e$jscomp$325_onDragMove$$=$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$.$D$.target;var $currentPosX$$=$$jscomp$destructuring$var682_e$jscomp$325_onDragMove$$.$posX$,$currentPosY$$=$$jscomp$destructuring$var682_e$jscomp$325_onDragMove$$.$posY$;$$jscomp$destructuring$var682_e$jscomp$325_onDragMove$$=$throttleByAnimationFrame$$module$extensions$amp_video_docking$0_1$amp_video_docking$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$.$ampdoc_$.$win$,
function($$jscomp$destructuring$var682_e$jscomp$325_onDragMove$$){var $onDragEnd$$=$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$.$D$.target,$root$jscomp$108$$=$onDragEnd$$.$posY$;if($onDragEnd$$.$posX$===$currentPosX$$&&$root$jscomp$108$$===$currentPosY$$&&($offset$jscomp$33$$.x=$pointerCoords$$module$extensions$amp_video_docking$0_1$events$$($$jscomp$destructuring$var682_e$jscomp$325_onDragMove$$).x-$initialX$$,$offset$jscomp$33$$.y=
0,!(10>=Math.sqrt(Math.pow($offset$jscomp$33$$.x,2)+Math.pow($offset$jscomp$33$$.y,2))))){$$jscomp$destructuring$var682_e$jscomp$325_onDragMove$$.preventDefault();$$jscomp$destructuring$var682_e$jscomp$325_onDragMove$$.stopPropagation();$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$.$G$().$hide$(!1,!0);$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$.$W$=
!0;$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$disable$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$.$G$());$$jscomp$destructuring$var682_e$jscomp$325_onDragMove$$=$offset$jscomp$33$$.x;$onDragEnd$$=$offset$jscomp$33$$.y;$root$jscomp$108$$=$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$.$D$.video;var $unlisteners$jscomp$4$$=
$JSCompiler_StaticMethods_getDims_$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$,$root$jscomp$108$$,$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$.$D$.target,1),$e$jscomp$326_offsetX$jscomp$inline_6991$$=$unlisteners$jscomp$4$$.x,$y$jscomp$inline_6996$$=$unlisteners$jscomp$4$$.y;$unlisteners$jscomp$4$$=$unlisteners$jscomp$4$$.scale;var $offsetRelativeX$jscomp$inline_6999$$=
$JSCompiler_StaticMethods_getCenter_$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$,$$jscomp$destructuring$var682_e$jscomp$325_onDragMove$$,$onDragEnd$$).$centerX$>=$JSCompiler_StaticMethods_getRightEdge_$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$)/2?1:0;$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$.$K$=
$$jscomp$destructuring$var682_e$jscomp$325_onDragMove$$-$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$.$P$;$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$.$P$=$$jscomp$destructuring$var682_e$jscomp$325_onDragMove$$;$JSCompiler_StaticMethods_placeAt_$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$,
$root$jscomp$108$$,$e$jscomp$326_offsetX$jscomp$inline_6991$$+$$jscomp$destructuring$var682_e$jscomp$325_onDragMove$$,$y$jscomp$inline_6996$$+$onDragEnd$$,$unlisteners$jscomp$4$$,1,0,$offsetRelativeX$jscomp$inline_6999$$)}});var $onDragEnd$$=function(){return $JSCompiler_StaticMethods_onDragEnd_$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$,$unlisteners$jscomp$4$$,$offset$jscomp$33$$)},$root$jscomp$108$$=$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$.$ampdoc_$.getRootNode(),
$unlisteners$jscomp$4$$=[$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$disableScroll_$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$),$JSCompiler_StaticMethods_disableUserSelect_$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$),$JSCompiler_StaticMethods_workaroundWebkitDragAndScrollIssue_$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$drag_$self$$),
_.$internalListenImplementation$$module$src$event_helper_listen$$($root$jscomp$108$$,"touchmove",$$jscomp$destructuring$var682_e$jscomp$325_onDragMove$$,void 0),_.$internalListenImplementation$$module$src$event_helper_listen$$($root$jscomp$108$$,"mousemove",$$jscomp$destructuring$var682_e$jscomp$325_onDragMove$$,void 0),_.$listenOnce$$module$src$event_helper$$($root$jscomp$108$$,"touchend",$onDragEnd$$),_.$listenOnce$$module$src$event_helper$$($root$jscomp$108$$,"mouseup",$onDragEnd$$)]}},$JSCompiler_StaticMethods_disableUserSelect_$$=
function($JSCompiler_StaticMethods_disableUserSelect_$self$$){var $docEl$$=$JSCompiler_StaticMethods_disableUserSelect_$self$$.$ampdoc_$.getRootNode().documentElement;$docEl$$.classList.add("i-amphtml-select-disabled");return function(){return $docEl$$.classList.remove("i-amphtml-select-disabled")}},$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$disableScroll_$$=function($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$disableScroll_$self$$){_.$JSCompiler_StaticMethods_Viewport$$module$src$service$viewport$viewport_impl_prototype$disableScroll$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$disableScroll_$self$$.$F$);
return $JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$disableScroll_$self$$.$F$.$Viewport$$module$src$service$viewport$viewport_impl_prototype$resetScroll$.bind($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$disableScroll_$self$$.$F$)},$JSCompiler_StaticMethods_workaroundWebkitDragAndScrollIssue_$$=function($JSCompiler_StaticMethods_workaroundWebkitDragAndScrollIssue_$self$$){function $handler$jscomp$64$$($JSCompiler_StaticMethods_workaroundWebkitDragAndScrollIssue_$self$$){return $JSCompiler_StaticMethods_workaroundWebkitDragAndScrollIssue_$self$$.preventDefault()}
var $win$jscomp$495$$=$JSCompiler_StaticMethods_workaroundWebkitDragAndScrollIssue_$self$$.$ampdoc_$.$win$;if(!_.$JSCompiler_StaticMethods_isIos$$(_.$Services$$module$src$services$platformFor$$($win$jscomp$495$$)))return function(){};$win$jscomp$495$$.addEventListener("touchmove",$handler$jscomp$64$$,{passive:!1});return function(){return $win$jscomp$495$$.removeEventListener("touchmove",$handler$jscomp$64$$)}},$JSCompiler_StaticMethods_onDragEnd_$$=function($JSCompiler_StaticMethods_onDragEnd_$self$$,
$unlisteners$jscomp$5$$,$offset$jscomp$35$$){$unlisteners$jscomp$5$$.forEach(function($JSCompiler_StaticMethods_onDragEnd_$self$$){return $JSCompiler_StaticMethods_onDragEnd_$self$$.call()});$JSCompiler_StaticMethods_onDragEnd_$self$$.$W$=!1;$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$enable$$($JSCompiler_StaticMethods_onDragEnd_$self$$.$G$());40>Math.abs($JSCompiler_StaticMethods_onDragEnd_$self$$.$K$)?$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$snap_$$($JSCompiler_StaticMethods_onDragEnd_$self$$,
$offset$jscomp$35$$.x,$offset$jscomp$35$$.y):$JSCompiler_StaticMethods_flickToDismiss_$$($JSCompiler_StaticMethods_onDragEnd_$self$$,$JSCompiler_StaticMethods_onDragEnd_$self$$.$P$,Math.sign($JSCompiler_StaticMethods_onDragEnd_$self$$.$K$));$JSCompiler_StaticMethods_onDragEnd_$self$$.$K$=0;$JSCompiler_StaticMethods_onDragEnd_$self$$.$P$=0},$JSCompiler_StaticMethods_flickToDismiss_$$=function($JSCompiler_StaticMethods_flickToDismiss_$self$$,$currentX_offsetX$jscomp$21_transitionDurationMs$jscomp$4$$,
$direction$jscomp$22_nextX$$){var $video$jscomp$57$$=$JSCompiler_StaticMethods_flickToDismiss_$self$$.$D$.video;$video$jscomp$57$$.pause();if($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$isVisible_$$($JSCompiler_StaticMethods_flickToDismiss_$self$$,$video$jscomp$57$$.element,.2))$JSCompiler_StaticMethods_bounceToDismiss_$$($JSCompiler_StaticMethods_flickToDismiss_$self$$,$video$jscomp$57$$,$currentX_offsetX$jscomp$21_transitionDurationMs$jscomp$4$$,
$direction$jscomp$22_nextX$$);else{var $scale$jscomp$21_target$jscomp$228$$=$JSCompiler_StaticMethods_flickToDismiss_$self$$.$D$.target,$$jscomp$destructuring$var686_width$jscomp$83$$=$JSCompiler_StaticMethods_getTargetArea_$$($JSCompiler_StaticMethods_flickToDismiss_$self$$,$video$jscomp$57$$,$scale$jscomp$21_target$jscomp$228$$),$x$jscomp$131$$=$$jscomp$destructuring$var686_width$jscomp$83$$.x,$y$jscomp$101$$=$$jscomp$destructuring$var686_width$jscomp$83$$.y;$$jscomp$destructuring$var686_width$jscomp$83$$=
$$jscomp$destructuring$var686_width$jscomp$83$$.width;$scale$jscomp$21_target$jscomp$228$$=$JSCompiler_StaticMethods_getDims_$$($JSCompiler_StaticMethods_flickToDismiss_$self$$,$video$jscomp$57$$,$scale$jscomp$21_target$jscomp$228$$,1).scale;$currentX_offsetX$jscomp$21_transitionDurationMs$jscomp$4$$=$x$jscomp$131$$+$currentX_offsetX$jscomp$21_transitionDurationMs$jscomp$4$$;$direction$jscomp$22_nextX$$=1==$direction$jscomp$22_nextX$$?$JSCompiler_StaticMethods_getRightEdge_$$($JSCompiler_StaticMethods_flickToDismiss_$self$$):
-$$jscomp$destructuring$var686_width$jscomp$83$$;$currentX_offsetX$jscomp$21_transitionDurationMs$jscomp$4$$=Math.min(300,Math.abs($direction$jscomp$22_nextX$$-$currentX_offsetX$jscomp$21_transitionDurationMs$jscomp$4$$)/2);$JSCompiler_StaticMethods_reconcileUndocked_$$($JSCompiler_StaticMethods_flickToDismiss_$self$$);$video$jscomp$57$$.$showControls$();$JSCompiler_StaticMethods_placeAt_$$($JSCompiler_StaticMethods_flickToDismiss_$self$$,$video$jscomp$57$$,$direction$jscomp$22_nextX$$,$y$jscomp$101$$,
$scale$jscomp$21_target$jscomp$228$$,0,$currentX_offsetX$jscomp$21_transitionDurationMs$jscomp$4$$).then(function(){$JSCompiler_StaticMethods_resetOnUndock_$$($JSCompiler_StaticMethods_flickToDismiss_$self$$,$video$jscomp$57$$)})}},$JSCompiler_StaticMethods_bounceToDismiss_$$=function($JSCompiler_StaticMethods_bounceToDismiss_$self$$,$video$jscomp$58$$,$offsetX$jscomp$22_transitionDurationMs$jscomp$5$$,$direction$jscomp$23_nextX$jscomp$1$$){var $scale$jscomp$22_target$jscomp$229$$=$JSCompiler_StaticMethods_bounceToDismiss_$self$$.$D$.target,
$$jscomp$destructuring$var689_width$jscomp$84$$=$JSCompiler_StaticMethods_getTargetArea_$$($JSCompiler_StaticMethods_bounceToDismiss_$self$$,$video$jscomp$58$$,$scale$jscomp$22_target$jscomp$229$$),$x$jscomp$132$$=$$jscomp$destructuring$var689_width$jscomp$84$$.x,$y$jscomp$102$$=$$jscomp$destructuring$var689_width$jscomp$84$$.y;$$jscomp$destructuring$var689_width$jscomp$84$$=$$jscomp$destructuring$var689_width$jscomp$84$$.width;$scale$jscomp$22_target$jscomp$229$$=$JSCompiler_StaticMethods_getDims_$$($JSCompiler_StaticMethods_bounceToDismiss_$self$$,
$video$jscomp$58$$,$scale$jscomp$22_target$jscomp$229$$,1).scale;var $areaWidth$$=$JSCompiler_StaticMethods_getRightEdge_$$($JSCompiler_StaticMethods_bounceToDismiss_$self$$);$direction$jscomp$23_nextX$jscomp$1$$=1==$direction$jscomp$23_nextX$jscomp$1$$?$areaWidth$$-$$jscomp$destructuring$var689_width$jscomp$84$$:-1*($areaWidth$$-$$jscomp$destructuring$var689_width$jscomp$84$$);$offsetX$jscomp$22_transitionDurationMs$jscomp$5$$=Math.min(300,Math.abs($direction$jscomp$23_nextX$jscomp$1$$-($x$jscomp$132$$+
$offsetX$jscomp$22_transitionDurationMs$jscomp$5$$))/2);$JSCompiler_StaticMethods_reconcileUndocked_$$($JSCompiler_StaticMethods_bounceToDismiss_$self$$);$JSCompiler_StaticMethods_placeAt_$$($JSCompiler_StaticMethods_bounceToDismiss_$self$$,$video$jscomp$58$$,$direction$jscomp$23_nextX$jscomp$1$$,$y$jscomp$102$$,$scale$jscomp$22_target$jscomp$229$$,0,$offsetX$jscomp$22_transitionDurationMs$jscomp$5$$).then(function(){$JSCompiler_StaticMethods_undock_$$($JSCompiler_StaticMethods_bounceToDismiss_$self$$,
$video$jscomp$58$$,!0);$video$jscomp$58$$.$showControls$()})},$JSCompiler_StaticMethods_getCenter_$$=function($$jscomp$destructuring$var693_JSCompiler_StaticMethods_getCenter_$self$$,$offsetX$jscomp$23$$,$offsetY$jscomp$13$$){var $$jscomp$destructuring$var691_width$jscomp$85$$=$$jscomp$destructuring$var693_JSCompiler_StaticMethods_getCenter_$self$$.$D$,$scale$jscomp$23_target$jscomp$230$$=$$jscomp$destructuring$var691_width$jscomp$85$$.target,$step$jscomp$11$$=$$jscomp$destructuring$var691_width$jscomp$85$$.step,
$video$jscomp$59$$=$$jscomp$destructuring$var693_JSCompiler_StaticMethods_getCenter_$self$$.$D$.video,$$jscomp$destructuring$var692_height$jscomp$91$$=$video$jscomp$59$$.$getLayoutBox$();$$jscomp$destructuring$var691_width$jscomp$85$$=$$jscomp$destructuring$var692_height$jscomp$91$$.width;$$jscomp$destructuring$var692_height$jscomp$91$$=$$jscomp$destructuring$var692_height$jscomp$91$$.height;$$jscomp$destructuring$var693_JSCompiler_StaticMethods_getCenter_$self$$=$JSCompiler_StaticMethods_getDims_$$($$jscomp$destructuring$var693_JSCompiler_StaticMethods_getCenter_$self$$,
$video$jscomp$59$$,$scale$jscomp$23_target$jscomp$230$$,$step$jscomp$11$$);$scale$jscomp$23_target$jscomp$230$$=$$jscomp$destructuring$var693_JSCompiler_StaticMethods_getCenter_$self$$.scale;return{$centerX$:$$jscomp$destructuring$var693_JSCompiler_StaticMethods_getCenter_$self$$.x+$offsetX$jscomp$23$$+$$jscomp$destructuring$var691_width$jscomp$85$$*$scale$jscomp$23_target$jscomp$230$$/2,$centerY$:$$jscomp$destructuring$var693_JSCompiler_StaticMethods_getCenter_$self$$.y+$offsetY$jscomp$13$$+$$jscomp$destructuring$var692_height$jscomp$91$$*
$scale$jscomp$23_target$jscomp$230$$/2}},$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$snap_$$=function($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$snap_$self$$,$offsetRelativeX$jscomp$1_offsetX$jscomp$24$$,$$jscomp$destructuring$var696_offsetY$jscomp$14_target$jscomp$231$$){var $video$jscomp$60$$=$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$snap_$self$$.$D$.video,
$step$jscomp$12$$=$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$snap_$self$$.$D$.step;$offsetRelativeX$jscomp$1_offsetX$jscomp$24$$=$JSCompiler_StaticMethods_getCenter_$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$snap_$self$$,$offsetRelativeX$jscomp$1_offsetX$jscomp$24$$,$$jscomp$destructuring$var696_offsetY$jscomp$14_target$jscomp$231$$).$centerX$>=$JSCompiler_StaticMethods_getRightEdge_$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$snap_$self$$)/
2?1:0;$$jscomp$destructuring$var696_offsetY$jscomp$14_target$jscomp$231$$={$posX$:$offsetRelativeX$jscomp$1_offsetX$jscomp$24$$,$posY$:0};$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$snap_$self$$.$D$.target=$$jscomp$destructuring$var696_offsetY$jscomp$14_target$jscomp$231$$;$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$snap_$self$$.$ba$=$offsetRelativeX$jscomp$1_offsetX$jscomp$24$$;
$$jscomp$destructuring$var696_offsetY$jscomp$14_target$jscomp$231$$=$JSCompiler_StaticMethods_getDims_$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$snap_$self$$,$video$jscomp$60$$,$$jscomp$destructuring$var696_offsetY$jscomp$14_target$jscomp$231$$,$step$jscomp$12$$);$JSCompiler_StaticMethods_placeAt_$$($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$snap_$self$$,$video$jscomp$60$$,
$$jscomp$destructuring$var696_offsetY$jscomp$14_target$jscomp$231$$.x,$$jscomp$destructuring$var696_offsetY$jscomp$14_target$jscomp$231$$.y,$$jscomp$destructuring$var696_offsetY$jscomp$14_target$jscomp$231$$.scale,$step$jscomp$12$$,200,$offsetRelativeX$jscomp$1_offsetX$jscomp$24$$)},$JSCompiler_StaticMethods_getTargetArea_$$=function($JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$1113_top$jscomp$inline_5504_y$jscomp$inline_5507_y$jscomp$inline_5522$$,$slotWidth$jscomp$inline_5502_targetWidth$jscomp$inline_5519_video$jscomp$61_width$jscomp$inline_5515_x$jscomp$inline_5506$$,
$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$){if(1==$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$.nodeType){var $$jscomp$inline_5498_naturalHeight$jscomp$inline_5500_posY$jscomp$inline_5513$$=$slotWidth$jscomp$inline_5502_targetWidth$jscomp$inline_5519_video$jscomp$61_width$jscomp$inline_5515_x$jscomp$inline_5506$$.$getLayoutBox$(),$naturalWidth$jscomp$inline_5499_posX$jscomp$inline_5512_x$jscomp$inline_5521$$=
$$jscomp$inline_5498_naturalHeight$jscomp$inline_5500_posY$jscomp$inline_5513$$.width;$$jscomp$inline_5498_naturalHeight$jscomp$inline_5500_posY$jscomp$inline_5513$$=$$jscomp$inline_5498_naturalHeight$jscomp$inline_5500_posY$jscomp$inline_5513$$.height;$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$=$JSCompiler_StaticMethods_getFixedLayoutBox_$$($JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$1113_top$jscomp$inline_5504_y$jscomp$inline_5507_y$jscomp$inline_5522$$,
$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$);$slotWidth$jscomp$inline_5502_targetWidth$jscomp$inline_5519_video$jscomp$61_width$jscomp$inline_5515_x$jscomp$inline_5506$$=$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$.width;var $aspectRatio$jscomp$inline_5518_height$jscomp$inline_5516_slotHeight$jscomp$inline_5503_targetHeight$jscomp$inline_5520$$=$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$.height;
$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$1113_top$jscomp$inline_5504_y$jscomp$inline_5507_y$jscomp$inline_5522$$=$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$.top;var $left$jscomp$inline_5505$$=$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$.left;$naturalWidth$jscomp$inline_5499_posX$jscomp$inline_5512_x$jscomp$inline_5521$$/$$jscomp$inline_5498_naturalHeight$jscomp$inline_5500_posY$jscomp$inline_5513$$>
$slotWidth$jscomp$inline_5502_targetWidth$jscomp$inline_5519_video$jscomp$61_width$jscomp$inline_5515_x$jscomp$inline_5506$$/$aspectRatio$jscomp$inline_5518_height$jscomp$inline_5516_slotHeight$jscomp$inline_5503_targetHeight$jscomp$inline_5520$$?($$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$=$slotWidth$jscomp$inline_5502_targetWidth$jscomp$inline_5519_video$jscomp$61_width$jscomp$inline_5515_x$jscomp$inline_5506$$/$naturalWidth$jscomp$inline_5499_posX$jscomp$inline_5512_x$jscomp$inline_5521$$,
$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$1113_top$jscomp$inline_5504_y$jscomp$inline_5507_y$jscomp$inline_5522$$=$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$1113_top$jscomp$inline_5504_y$jscomp$inline_5507_y$jscomp$inline_5522$$+$aspectRatio$jscomp$inline_5518_height$jscomp$inline_5516_slotHeight$jscomp$inline_5503_targetHeight$jscomp$inline_5520$$/2-$$jscomp$inline_5498_naturalHeight$jscomp$inline_5500_posY$jscomp$inline_5513$$*$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$/
2,$slotWidth$jscomp$inline_5502_targetWidth$jscomp$inline_5519_video$jscomp$61_width$jscomp$inline_5515_x$jscomp$inline_5506$$=$left$jscomp$inline_5505$$):($$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$=$aspectRatio$jscomp$inline_5518_height$jscomp$inline_5516_slotHeight$jscomp$inline_5503_targetHeight$jscomp$inline_5520$$/$$jscomp$inline_5498_naturalHeight$jscomp$inline_5500_posY$jscomp$inline_5513$$,$slotWidth$jscomp$inline_5502_targetWidth$jscomp$inline_5519_video$jscomp$61_width$jscomp$inline_5515_x$jscomp$inline_5506$$=
$left$jscomp$inline_5505$$+$slotWidth$jscomp$inline_5502_targetWidth$jscomp$inline_5519_video$jscomp$61_width$jscomp$inline_5515_x$jscomp$inline_5506$$/2-$naturalWidth$jscomp$inline_5499_posX$jscomp$inline_5512_x$jscomp$inline_5521$$*$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$/2);$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$1113_top$jscomp$inline_5504_y$jscomp$inline_5507_y$jscomp$inline_5522$$=_.$layoutRectLtwh$$module$src$layout_rect$$($slotWidth$jscomp$inline_5502_targetWidth$jscomp$inline_5519_video$jscomp$61_width$jscomp$inline_5515_x$jscomp$inline_5506$$,
$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$1113_top$jscomp$inline_5504_y$jscomp$inline_5507_y$jscomp$inline_5522$$,$naturalWidth$jscomp$inline_5499_posX$jscomp$inline_5512_x$jscomp$inline_5521$$*$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$,$$jscomp$inline_5498_naturalHeight$jscomp$inline_5500_posY$jscomp$inline_5513$$*$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$)}else $naturalWidth$jscomp$inline_5499_posX$jscomp$inline_5512_x$jscomp$inline_5521$$=
$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$.$posX$,$$jscomp$inline_5498_naturalHeight$jscomp$inline_5500_posY$jscomp$inline_5513$$=$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$.$posY$,$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$=$slotWidth$jscomp$inline_5502_targetWidth$jscomp$inline_5519_video$jscomp$61_width$jscomp$inline_5515_x$jscomp$inline_5506$$.$getLayoutBox$(),
$slotWidth$jscomp$inline_5502_targetWidth$jscomp$inline_5519_video$jscomp$61_width$jscomp$inline_5515_x$jscomp$inline_5506$$=$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$.width,$aspectRatio$jscomp$inline_5518_height$jscomp$inline_5516_slotHeight$jscomp$inline_5503_targetHeight$jscomp$inline_5520$$=$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$.height,$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$=
Math.min(30,.04*$JSCompiler_StaticMethods_getRightEdge_$$($JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$1113_top$jscomp$inline_5504_y$jscomp$inline_5507_y$jscomp$inline_5522$$)),$aspectRatio$jscomp$inline_5518_height$jscomp$inline_5516_slotHeight$jscomp$inline_5503_targetHeight$jscomp$inline_5520$$=$slotWidth$jscomp$inline_5502_targetWidth$jscomp$inline_5519_video$jscomp$61_width$jscomp$inline_5515_x$jscomp$inline_5506$$/$aspectRatio$jscomp$inline_5518_height$jscomp$inline_5516_slotHeight$jscomp$inline_5503_targetHeight$jscomp$inline_5520$$,
$slotWidth$jscomp$inline_5502_targetWidth$jscomp$inline_5519_video$jscomp$61_width$jscomp$inline_5515_x$jscomp$inline_5506$$=Math.max(180,.3*$JSCompiler_StaticMethods_getRightEdge_$$($JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$1113_top$jscomp$inline_5504_y$jscomp$inline_5507_y$jscomp$inline_5522$$)),$aspectRatio$jscomp$inline_5518_height$jscomp$inline_5516_slotHeight$jscomp$inline_5503_targetHeight$jscomp$inline_5520$$=$slotWidth$jscomp$inline_5502_targetWidth$jscomp$inline_5519_video$jscomp$61_width$jscomp$inline_5515_x$jscomp$inline_5506$$/
$aspectRatio$jscomp$inline_5518_height$jscomp$inline_5516_slotHeight$jscomp$inline_5503_targetHeight$jscomp$inline_5520$$,$naturalWidth$jscomp$inline_5499_posX$jscomp$inline_5512_x$jscomp$inline_5521$$=1==$naturalWidth$jscomp$inline_5499_posX$jscomp$inline_5512_x$jscomp$inline_5521$$?$JSCompiler_StaticMethods_getRightEdge_$$($JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$1113_top$jscomp$inline_5504_y$jscomp$inline_5507_y$jscomp$inline_5522$$)-$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$-
$slotWidth$jscomp$inline_5502_targetWidth$jscomp$inline_5519_video$jscomp$61_width$jscomp$inline_5515_x$jscomp$inline_5506$$:$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$,$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$1113_top$jscomp$inline_5504_y$jscomp$inline_5507_y$jscomp$inline_5522$$=0==$$jscomp$inline_5498_naturalHeight$jscomp$inline_5500_posY$jscomp$inline_5513$$?$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$:
$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$1113_top$jscomp$inline_5504_y$jscomp$inline_5507_y$jscomp$inline_5522$$.$F$.$getSize$().height-$$jscomp$inline_5501_$jscomp$inline_5514_margin$jscomp$inline_5517_scale$jscomp$inline_5508_target$jscomp$232$$-$aspectRatio$jscomp$inline_5518_height$jscomp$inline_5516_slotHeight$jscomp$inline_5503_targetHeight$jscomp$inline_5520$$,$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$1113_top$jscomp$inline_5504_y$jscomp$inline_5507_y$jscomp$inline_5522$$=
_.$layoutRectLtwh$$module$src$layout_rect$$($naturalWidth$jscomp$inline_5499_posX$jscomp$inline_5512_x$jscomp$inline_5521$$,$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$1113_top$jscomp$inline_5504_y$jscomp$inline_5507_y$jscomp$inline_5522$$,$slotWidth$jscomp$inline_5502_targetWidth$jscomp$inline_5519_video$jscomp$61_width$jscomp$inline_5515_x$jscomp$inline_5506$$,$aspectRatio$jscomp$inline_5518_height$jscomp$inline_5516_slotHeight$jscomp$inline_5503_targetHeight$jscomp$inline_5520$$);
return $JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$1113_top$jscomp$inline_5504_y$jscomp$inline_5507_y$jscomp$inline_5522$$},$JSCompiler_StaticMethods_getDims_$$=function($$jscomp$destructuring$var701_JSCompiler_StaticMethods_getDims_$self$$,$video$jscomp$64_x$jscomp$137$$,$target$jscomp$233$$,$step$jscomp$13$$){var $$jscomp$destructuring$var700_width$jscomp$87$$=$JSCompiler_StaticMethods_getFixedLayoutBox_$$($$jscomp$destructuring$var701_JSCompiler_StaticMethods_getDims_$self$$,
$video$jscomp$64_x$jscomp$137$$.element),$dims_left$jscomp$21$$=$$jscomp$destructuring$var700_width$jscomp$87$$.left,$top$jscomp$22$$=$$jscomp$destructuring$var700_width$jscomp$87$$.top;$$jscomp$destructuring$var700_width$jscomp$87$$=$$jscomp$destructuring$var700_width$jscomp$87$$.width;$$jscomp$destructuring$var701_JSCompiler_StaticMethods_getDims_$self$$=$JSCompiler_StaticMethods_getTargetArea_$$($$jscomp$destructuring$var701_JSCompiler_StaticMethods_getDims_$self$$,$video$jscomp$64_x$jscomp$137$$,
$target$jscomp$233$$);$video$jscomp$64_x$jscomp$137$$=$$jscomp$destructuring$var701_JSCompiler_StaticMethods_getDims_$self$$.x;$dims_left$jscomp$21$$={x:_.$mapRange$$module$src$utils$math$$($step$jscomp$13$$,0,1,$dims_left$jscomp$21$$,$video$jscomp$64_x$jscomp$137$$),y:_.$mapRange$$module$src$utils$math$$($step$jscomp$13$$,0,1,$top$jscomp$22$$,$$jscomp$destructuring$var701_JSCompiler_StaticMethods_getDims_$self$$.y),scale:_.$mapRange$$module$src$utils$math$$($step$jscomp$13$$,0,1,$$jscomp$destructuring$var700_width$jscomp$87$$,
$$jscomp$destructuring$var701_JSCompiler_StaticMethods_getDims_$self$$.width)/$$jscomp$destructuring$var700_width$jscomp$87$$,$relativeX$:$video$jscomp$64_x$jscomp$137$$<$dims_left$jscomp$21$$?0:1};_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$info$("amp-video-docking","translated to dims",$dims_left$jscomp$21$$," @ step=",$step$jscomp$13$$);return $dims_left$jscomp$21$$},$JSCompiler_StaticMethods_undock_$$=function($JSCompiler_StaticMethods_undock_$self$$,$video$jscomp$65$$,$$jscomp$destructuring$var704_opt_reconciled$$){_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$info$("amp-video-docking",
"undock",{video:$video$jscomp$65$$});var $isMostlyInView$$=$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$isVisible_$$($JSCompiler_StaticMethods_undock_$self$$,$video$jscomp$65$$.element,.7);$isMostlyInView$$||($video$jscomp$65$$.pause(),$video$jscomp$65$$.$showControls$());$$jscomp$destructuring$var704_opt_reconciled$$||$JSCompiler_StaticMethods_reconcileUndocked_$$($JSCompiler_StaticMethods_undock_$self$$);$$jscomp$destructuring$var704_opt_reconciled$$=
$JSCompiler_StaticMethods_getDims_$$($JSCompiler_StaticMethods_undock_$self$$,$video$jscomp$65$$,$JSCompiler_StaticMethods_undock_$self$$.$D$.target,0);$JSCompiler_StaticMethods_placeAt_$$($JSCompiler_StaticMethods_undock_$self$$,$video$jscomp$65$$,$$jscomp$destructuring$var704_opt_reconciled$$.x,$$jscomp$destructuring$var704_opt_reconciled$$.y,$$jscomp$destructuring$var704_opt_reconciled$$.scale,0,$isMostlyInView$$?$JSCompiler_StaticMethods_undock_$self$$.$D$?300*Math.abs(-$JSCompiler_StaticMethods_undock_$self$$.$D$.step):
0:0,$$jscomp$destructuring$var704_opt_reconciled$$.$relativeX$).then(function(){a:{if($JSCompiler_StaticMethods_undock_$self$$.$I$){var $$jscomp$destructuring$var704_opt_reconciled$$=$JSCompiler_StaticMethods_undock_$self$$.$I$;var $isMostlyInView$$=$$jscomp$destructuring$var704_opt_reconciled$$.x;var $y$jscomp$inline_5528$$=$$jscomp$destructuring$var704_opt_reconciled$$.y;$$jscomp$destructuring$var704_opt_reconciled$$=$$jscomp$destructuring$var704_opt_reconciled$$.scale;var $fixedScrollTop$jscomp$inline_5530$$=
$JSCompiler_StaticMethods_getFixedLayoutBox_$$($JSCompiler_StaticMethods_undock_$self$$,$video$jscomp$65$$.element).top;if($y$jscomp$inline_5528$$!=$fixedScrollTop$jscomp$inline_5530$$){$isMostlyInView$$=$JSCompiler_StaticMethods_placeAt_$$($JSCompiler_StaticMethods_undock_$self$$,$video$jscomp$65$$,$isMostlyInView$$,$fixedScrollTop$jscomp$inline_5530$$,$$jscomp$destructuring$var704_opt_reconciled$$,0,Math.min(150,Math.abs($y$jscomp$inline_5528$$-$fixedScrollTop$jscomp$inline_5530$$)/2));break a}}$isMostlyInView$$=
void 0}return $isMostlyInView$$}).then(function(){$video$jscomp$65$$.$showControls$();$JSCompiler_StaticMethods_resetOnUndock_$$($JSCompiler_StaticMethods_undock_$self$$,$video$jscomp$65$$)})},$JSCompiler_StaticMethods_reconcileUndocked_$$=function($JSCompiler_StaticMethods_reconcileUndocked_$self$$){$JSCompiler_StaticMethods_Controls$$module$extensions$amp_video_docking$0_1$controls_prototype$disable$$($JSCompiler_StaticMethods_reconcileUndocked_$self$$.$G$());$JSCompiler_StaticMethods_reconcileUndocked_$self$$.$G$().$hide$(!1,
!0);$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$trigger_$$($JSCompiler_StaticMethods_reconcileUndocked_$self$$,"undock")},$JSCompiler_StaticMethods_resetOnUndock_$$=function($JSCompiler_StaticMethods_resetOnUndock_$self$$,$video$jscomp$66$$){var $internalElement$jscomp$2$$=_.$getInternalVideoElementFor$$module$src$utils$video$$($video$jscomp$66$$.element);_.$dev$$module$src$log$$().$Log$$module$src$log_prototype$info$("amp-video-docking",
"resetOnUndock",{video:$video$jscomp$66$$});$video$jscomp$66$$.$mutateElement$(function(){$internalElement$jscomp$2$$.classList.remove("i-amphtml-video-docked");var $video$jscomp$66$$=$JSCompiler_StaticMethods_resetOnUndock_$self$$.$V$(),$placeholderIcon$jscomp$1$$=$JSCompiler_StaticMethods_resetOnUndock_$self$$.$M$().icon,$placeholderBackground$jscomp$1$$=$JSCompiler_StaticMethods_resetOnUndock_$self$$.$U$();_.$toggle$$module$src$style$$($video$jscomp$66$$,!1);$JSCompiler_StaticMethods_resetOnUndock_$self$$.$G$().reset();
[$internalElement$jscomp$2$$,$video$jscomp$66$$,$placeholderBackground$jscomp$1$$,$placeholderIcon$jscomp$1$$].forEach(function($JSCompiler_StaticMethods_resetOnUndock_$self$$){_.$resetStyles$$module$src$style$$($JSCompiler_StaticMethods_resetOnUndock_$self$$,"transform transition min-width min-height width height opacity overflow".split(" "))});$JSCompiler_StaticMethods_resetOnUndock_$self$$.$I$=null;$JSCompiler_StaticMethods_resetOnUndock_$self$$.$J$=null;$JSCompiler_StaticMethods_resetOnUndock_$self$$.$D$=
null})},$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$removePosterForAndroidBug_$$=function($el$jscomp$182_parent$jscomp$58$$){($el$jscomp$182_parent$jscomp$58$$=$el$jscomp$182_parent$jscomp$58$$.querySelector(".i-amphtml-android-poster-bug"))&&_.$removeElement$$module$src$dom$$($el$jscomp$182_parent$jscomp$58$$)};
_.$VideoManager$$module$src$service$video_manager_impl$$.prototype.$isMuted$=_.$JSCompiler_unstubMethod$$(50,function($video$jscomp$8$$){return _.$JSCompiler_StaticMethods_getEntryForVideo_$$(this,$video$jscomp$8$$).$isMuted$()});_.$VideoEntry$$module$src$service$video_manager_impl$$.prototype.$isMuted$=_.$JSCompiler_unstubMethod$$(49,function(){return this.$I$});$Timeout$$module$extensions$amp_video_docking$0_1$timeout$$.prototype.$trigger$=function($time$jscomp$37$$,$args$jscomp$62$$){for(var $$jscomp$restParams$jscomp$5$$=[],$$jscomp$restIndex$jscomp$5$$=1;$$jscomp$restIndex$jscomp$5$$<arguments.length;++$$jscomp$restIndex$jscomp$5$$)$$jscomp$restParams$jscomp$5$$[$$jscomp$restIndex$jscomp$5$$-1]=arguments[$$jscomp$restIndex$jscomp$5$$];var $$jscomp$this$jscomp$1364$$=this;this.cancel();this.$D$=this.$F$.delay(function(){return $$jscomp$this$jscomp$1364$$.$G$.apply(null,
$$jscomp$restParams$jscomp$5$$)},$time$jscomp$37$$)};$Timeout$$module$extensions$amp_video_docking$0_1$timeout$$.prototype.cancel=function(){null!==this.$D$&&(this.$F$.cancel(this.$D$),this.$D$=null)};var $_template$$module$extensions$amp_video_docking$0_1$controls$$=["<div class=i-amphtml-video-docked-overlay hidden></div>"],$_template2$$module$extensions$amp_video_docking$0_1$controls$$=["<div class=amp-video-docked-controls hidden><div class=amp-video-docked-main-button-group><div class=amp-video-docked-button-group><div role=button ref=playButton class=amp-video-docked-play></div><div role=button ref=pauseButton class=amp-video-docked-pause></div></div><div class=amp-video-docked-button-group><div role=button ref=muteButton class=amp-video-docked-mute></div><div role=button ref=unmuteButton class=amp-video-docked-unmute></div></div><div class=amp-video-docked-button-group><div role=button ref=fullscreenButton class=amp-video-docked-fullscreen></div></div></div><div class=amp-video-docked-button-dismiss-group ref=dismissContainer><div role=button ref=dismissButton class=amp-video-docked-dismiss></div></div></div>"],
$BREAKPOINTS$$module$extensions$amp_video_docking$0_1$controls$$=[{className:"amp-small",minWidth:0},{className:"amp-large",minWidth:300}];
$Controls$$module$extensions$amp_video_docking$0_1$controls$$.prototype.$hide$=function($opt_respectSticky$$,$opt_immediately$$){var $container$jscomp$48$$=this.container,$overlay$jscomp$2$$=this.$D$;!$container$jscomp$48$$.classList.contains("amp-video-docked-controls-shown")||$opt_respectSticky$$&&this.$P$||($opt_immediately$$&&(_.$toggle$$module$src$style$$($container$jscomp$48$$,!1),_.$toggle$$module$src$style$$($overlay$jscomp$2$$,!1)),$overlay$jscomp$2$$.classList.remove("amp-video-docked-controls-bg"),
$container$jscomp$48$$.classList.remove("amp-video-docked-controls-shown"))};
$Controls$$module$extensions$amp_video_docking$0_1$controls$$.prototype.reset=function(){var $i$395_overlay$jscomp$3$$=this.$D$,$els$jscomp$2$$=[$i$395_overlay$jscomp$3$$,this.container];_.$toggle$$module$src$style$$($i$395_overlay$jscomp$3$$,!1);this.$hide$();for($i$395_overlay$jscomp$3$$=0;$i$395_overlay$jscomp$3$$<$els$jscomp$2$$.length;$i$395_overlay$jscomp$3$$++)_.$resetStyles$$module$src$style$$($els$jscomp$2$$[$i$395_overlay$jscomp$3$$],["transform","transition","width","height"])};var $_template$$module$extensions$amp_video_docking$0_1$amp_video_docking$$=["<div class=amp-video-docked-shadow hidden></div>"],$_template2$$module$extensions$amp_video_docking$0_1$amp_video_docking$$=["<div class=amp-video-docked-placeholder-background><div class=amp-video-docked-placeholder-background-poster ref=poster></div><div class=amp-video-docked-placeholder-icon ref=icon></div></div>"],$PLACEHOLDER_ICON_BREAKPOINTS$$module$extensions$amp_video_docking$0_1$amp_video_docking$$=[{className:"amp-small",
minWidth:0},{className:"amp-large",minWidth:420}];
$VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking$$.prototype.register=function($video$jscomp$35$$){var $$jscomp$this$jscomp$1375$$=this;this.$ea$();var $element$jscomp$733$$=$video$jscomp$35$$.element;if(this.$Z$)var $JSCompiler_inline_result$jscomp$1103$$=this.$Z$;else _.$installPositionObserverServiceForDoc$$module$src$service$position_observer$position_observer_impl$$(this.$ampdoc_$),$JSCompiler_inline_result$jscomp$1103$$=_.$getServiceForDoc$$module$src$service$$(this.$ampdoc_$,
"position-observer");$JSCompiler_inline_result$jscomp$1103$$.observe($element$jscomp$733$$,1,function(){if(!$$jscomp$this$jscomp$1375$$.$O$)if(1==$$jscomp$this$jscomp$1375$$.$R$){var $element$jscomp$733$$=$JSCompiler_StaticMethods_getTargetFor_$$($$jscomp$this$jscomp$1375$$,$video$jscomp$35$$);if($element$jscomp$733$$){var $JSCompiler_inline_result$jscomp$1103$$;if(!($JSCompiler_inline_result$jscomp$1103$$=$$jscomp$this$jscomp$1375$$.$aa$!=$video$jscomp$35$$)&&($JSCompiler_inline_result$jscomp$1103$$=
null!==$$jscomp$this$jscomp$1375$$.$X$)){$JSCompiler_inline_result$jscomp$1103$$=$$jscomp$this$jscomp$1375$$.$X$;var $direction$jscomp$inline_7248$$=$$jscomp$this$jscomp$1375$$.$R$;$JSCompiler_inline_result$jscomp$1103$$=!(0==$JSCompiler_inline_result$jscomp$1103$$&&1==$direction$jscomp$inline_7248$$||1==$JSCompiler_inline_result$jscomp$1103$$&&-1==$direction$jscomp$inline_7248$$)}$JSCompiler_inline_result$jscomp$1103$$?$JSCompiler_inline_result$jscomp$1103$$=!1:($JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$isVisible_$$($$jscomp$this$jscomp$1375$$,
$video$jscomp$35$$.element,.02)&&($$jscomp$this$jscomp$1375$$.$aa$=null,$$jscomp$this$jscomp$1375$$.$X$=null),$JSCompiler_inline_result$jscomp$1103$$=!0);$JSCompiler_inline_result$jscomp$1103$$||$$jscomp$this$jscomp$1375$$.$D$||($JSCompiler_inline_result$jscomp$1103$$=$$jscomp$this$jscomp$1375$$.$D$)&&$targetsEqual$$module$extensions$amp_video_docking$0_1$amp_video_docking$$($element$jscomp$733$$,$JSCompiler_inline_result$jscomp$1103$$.target)&&0<=$JSCompiler_inline_result$jscomp$1103$$.step||$JSCompiler_StaticMethods_dockInTransferLayerStep_$$($$jscomp$this$jscomp$1375$$,
$video$jscomp$35$$,$element$jscomp$733$$)}}else-1==$$jscomp$this$jscomp$1375$$.$R$&&$$jscomp$this$jscomp$1375$$.$D$&&($element$jscomp$733$$=$$jscomp$this$jscomp$1375$$.$D$.video,$JSCompiler_StaticMethods_VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking_prototype$isVisible_$$($$jscomp$this$jscomp$1375$$,$element$jscomp$733$$.element,.7)&&$JSCompiler_StaticMethods_undock_$$($$jscomp$this$jscomp$1375$$,$element$jscomp$733$$))});this.$Y$.push($video$jscomp$35$$)};
$VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking$$.prototype.registerElement=function($element$jscomp$734$$){var $$jscomp$this$jscomp$1376$$=this;$element$jscomp$734$$.$getImpl$().then(function($element$jscomp$734$$){return $$jscomp$this$jscomp$1376$$.register($element$jscomp$734$$)})};self.AMP.registerServiceForDoc("video-docking",$VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking$$);
})});

//# sourceMappingURL=amp-video-docking-0.1.js.map
