{"version":3,"sources":["/extensions/amp-experiment/0.1/variant.js","/extensions/amp-experiment/0.1/amp-experiment.js","/src/layout.js"],"names":["constructor","ampdoc","variantsDeferred_","Deferred","allocateVariant","experimentName","config","validateConfig","override","getParam","Services$$module$src$services.viewerForDoc","viewer","ATTR_PREFIX","hasOwn","Promise","resolve","sticky","cidScope","hasConsentPromise","Services$$module$src$services.userNotificationManagerForDoc","getHeadNode","element","then","manager","getNotification","userNotification","isDismissed","hasConsent","getBucketTicket","ticket","upperBound","variantNames","Object","keys","sort","i","length","variants","variantName","group","opt_cidScope","win","Math","random","cidPromise","Services$$module$src$services.cidForDoc","cidService","get","scope","createCookieIfNotPresent","all","Services$$module$src$services.cryptoFor","results","uniform","hash","init","whenReady","promise","$jscomp.inherits","BaseElement","AmpExperiment","AMP","isLayoutSupported","layout","NODISPLAY","CONTAINER","buildCallback","getServicePromiseForDoc","getAmpDoc","variantsService","parseJson","getConfig_","children","textContent","create","map","experimentVariants","addToBody_","bind","e","experiments","doc","whenBodyAvailable","body","name","setAttribute","registerServiceForDoc","Variants","registerElement","TAG"],"mappings":"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","file":"amp-experiment-0.1.js","sourcesContent":[]}