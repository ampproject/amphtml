var _e=Object.create,H=Object.defineProperty,Re=Object.getOwnPropertyDescriptor,Pe=Object.getOwnPropertyNames,we=Object.getPrototypeOf,Ne=Object.prototype.hasOwnProperty,Y=function(e){return H(e,"__esModule",{value:!0})},Te=function(e,t){for(var n in Y(e),t)H(e,n,{get:t[n],enumerable:!0})},Me=function(e,t,n){if(t&&"object"==typeof t||"function"==typeof t)for(var r,o=Pe(t),u=0,i=o.length;u<i;u++)r=o[u],!Ne.call(e,r)&&"default"!==r&&H(e,r,{get:function(e){return t[e]}.bind(null,r),enumerable:!(n=Re(t,r))||n.enumerable});return e},K=function(e){return Me(Y(H(null!=e?_e(we(e)):{},"default",e&&e.__esModule&&"default"in e?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)};Te(exports,{KEYBOARD_SELECT_MODE:function(){return T},Option:function(){return Ye},Selector:function(){return ge}});var ee="option-9237376",re="selected-9237376",te="disabled-9237376",ne="multiselected-9237376",_=K(require("react")),oe=K(require("react-dom")),l=K(require("react"));function D(e,t,n){return _.createElement.apply(void 0,arguments)}function ie(e){return _.createContext(e,void 0)}function ue(e){return l.useState(e)}function B(e){return l.useRef(e)}function ae(e,t){l.useEffect(e,t)}function Q(e,t){l.useLayoutEffect(e,t)}function se(e){return l.useContext(e)}function ce(e,t){return l.useMemo(e,t)}function m(e,t){return l.useCallback(e,t)}function fe(e,t,n){return l.useImperativeHandle(e,t,n)}var R={ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT_ARROW:"ArrowLeft",UP_ARROW:"ArrowUp",RIGHT_ARROW:"ArrowRight",DOWN_ARROW:"ArrowDown",TAB:"Tab",BACKSPACE:"Backspace",HOME:"Home",END:"End"},q=K(require("react"));function le(e){return q.forwardRef(e)}var de=Array.isArray,me=Object.prototype,Sr=me.hasOwnProperty,gr=me.toString;function xe(e,t){return e>0&&t>0?e%t:(e%t+t)%t}function ye(e){try{e.focus()}catch(e){}}var Ke=["as","disabled","defaultValue","form","keyboardSelectMode","value","multiple","name","onChange","onKeyDown","role","tabIndex","children"],Be=["as","disabled","index","onClick","onFocus","onKeyDown","option","role","tabIndex"];function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(e,t){return Qe(e)||ze(e,t)||Je(e,t)||Ve()}function Ve(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Je(e,t){if(e){if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ze(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,u=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(u.push(r.value),!t||u.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{!i&&null!=n.return&&n.return()}finally{if(l)throw o}}return u}}function Qe(e){if(Array.isArray(e))return e}function Ee(e,t){if(null==e)return{};var n,r,o=Ze(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)n=u[r],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(o[n]=e[n]))}return o}function Ze(e,t){if(null==e)return{};var n,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],!(t.indexOf(n)>=0)&&(o[n]=e[n]);return o}var Se=ie({selected:[]}),T={NONE:"none",FOCUS:"focus",SELECT:"select"};function Xe(e,t){var n=e.as,r=void 0===n?"div":n,o=e.disabled,u=e.defaultValue,i=void 0===u?[]:u,l=e.form,c=e.keyboardSelectMode,a=void 0===c?T.NONE:c,f=e.value,s=e.multiple,d=e.name,b=e.onChange,p=e.onKeyDown,y=e.role,v=void 0===y?"listbox":y,O=e.tabIndex,g=e.children,E=Ee(e,Ke),S=Ge(ue(null!=f?f:i),2),h=S[0],w=S[1],j=B([]),A=B({active:null,focusMap:{}}),P=null!=f?f:h,C=m((function(e){if(e){var t=null;(t=s?P.includes(e)?P.filter((function(t){return t!=e})):P.concat(e):[e])&&(w(t),b&&b({value:t,option:e}))}}),[s,b,P]),_=ce((function(){return{disabled:o,focusRef:A,keyboardSelectMode:a,multiple:s,optionsRef:j,selected:P,selectOption:C}}),[o,A,a,s,P,C]);ae((function(){if(!s&&P.length>1){var e=P.pop();w([e]),b&&b({value:[e],option:e})}}),[b,s,P]);var x=m((function(){return w([])}),[]),M=m((function(e,t){var n=P.includes(e);t&&n||((null!=t?t:!n)?C(e):w((function(t){var n=t.filter((function(t){return t!=e}));return b&&b({value:n,option:e}),n})))}),[b,w,C,P]),K=m((function(e,t,n){if(j.current.length){var r=j.current.filter((function(e){return null!=e}));if(r.length){var o=r.indexOf(t);n(r[xe(-1===o&&e<0?e:o+e,r.length)])}}}),[]),N=m((function(e){return K(e,P.shift(),C)}),[K,P,C]),I=m((function(e){return K(e,A.current.active,(function(e){var t=A.current.focusMap[e];t&&t()}))}),[K]);fe(t,(function(){return{clear:x,selectBy:N,toggle:M}}),[x,N,M]);var H=m((function(e){var t;switch(p&&p(e),e.key){case R.LEFT_ARROW:case R.UP_ARROW:t=-1;break;case R.RIGHT_ARROW:case R.DOWN_ARROW:t=1}t&&(a===T.SELECT?N(t):a===T.FOCUS&&I(t))}),[p,a,I,N]);return D(r,k(k({},E),{},{role:v,"aria-disabled":o,"aria-multiselectable":s,disabled:o,form:l,keyboardSelectMode:a,multiple:s,name:d,onKeyDown:H,tabIndex:(null!=O?O:a===T.SELECT)?0:-1,value:P}),D("input",{hidden:!0,defaultValue:P,name:d,form:l}),D(Se.Provider,{value:_},g))}var ge=le(Xe);function Ye(e){var t=e.as,n=void 0===t?"div":t,r=e.disabled,o=void 0!==r&&r,u=e.index,i=e.onClick,l=e.onFocus,c=e.onKeyDown,a=e.option,f=e.role,s=void 0===f?"option":f,d=e.tabIndex,b=Ee(e,Be),p=B(null),y=se(Se),v=y.disabled,O=y.focusRef,g=y.keyboardSelectMode,E=y.multiple,S=y.optionsRef,h=y.selectOption,w=y.selected,j=m((function(e){l&&l(e),p.current&&ye(p.current)}),[l]);Q((function(){var e=S;if(e&&e.current)return null!=u&&!o&&(e.current[u]=a),function(){return delete e.current[u]}}),[o,u,a,S]),Q((function(){if(O){var e=O.current;if(e&&e.focusMap)return e.focusMap[a]=j,function(){return delete e.focusMap[a]}}}),[j,O,a]);var A=m((function(){v||o||h(a)}),[o,a,h,v]),P=m((function(e){A(),i&&i(e)}),[i,A]),C=m((function(e){(e.key===R.ENTER||e.key===R.SPACE)&&A(),c&&c(e)}),[c,A]),_=w.includes(a),x=k(k({},b),{},{className:ee+(_&&!E?" "+re:"")+(_&&E?" "+ne:"")+(o||v?" "+te:""),disabled:o,"aria-disabled":String(o),onClick:P,onFocus:function(){return O.current.active=a},onKeyDown:C,option:a,ref:p,role:s,selected:_,"aria-selected":String(_),tabIndex:(null!=d?d:g===T.SELECT)?-1:0});return D(n,k({},x))}
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
//# sourceMappingURL=component-react.js.map
ge.displayName="Selector";