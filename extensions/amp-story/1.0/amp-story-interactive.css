/**
 * Copyright 2020 The AMP HTML Authors. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS-IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

.i-amphtml-story-interactive-container {
  font-family: 'Poppins', sans-serif !important;
}

.i-amphtml-story-interactive-container {
  background: var(--interactive-prompt-background) !important;
  border-radius: 32px !important;
}

.i-amphtml-story-interactive-prompt-container {
  display: flex !important;
  justify-items: center !important;
  padding: 20px !important;
  color: var(--interactive-prompt-text-color) !important;
}

.i-amphtml-story-interactive-prompt {
  margin: 0px !important;
  overflow : hidden !important;
  text-overflow: ellipsis !important;
  display: -webkit-box !important;
  -webkit-line-clamp: 4 !important;
  -webkit-box-orient: vertical !important;
  visibility: visible !important;
  font-size: var(--i-amphtml-interactive-prompt-text-size) !important;
  line-height: var(--i-amphtml-interactive-prompt-line-height) !important;
  max-height: 112px !important;
  font-weight: bold !important;
  text-align: var(--interactive-prompt-alignment) !important;
}

@keyframes i-amphtml-interactive-animation-flash-background {
  0% {
    opacity: .4;
  }
  100% {
    opacity: .2;
  }
}

@keyframes i-amphtml-interactive-animation-flash-background-color {
  0% {
    background-color: var(--i-amphtml-interactive-theme-shading-flash);
  }
  100% {
    background-color: var(--i-amphtml-interactive-theme-shading);
  }
}

.i-amphtml-story-interactive-confetti-wrapper {
  position: absolute !important;
  top: 50% !important;
  left: 50% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center;
  z-index: 1 !important;
  transform: scale(0) !important;
  transition: transform .5s var(--i-amphtml-interactive-ease-out-curve), opacity .5s var(--i-amphtml-interactive-ease-out-curve) !important;
}

.i-amphtml-story-interactive-confetti-wrapper.i-amphtml-story-interactive-confetti-wrapper-animate-in {
  transform: scale(1) !important;
}

.i-amphtml-story-interactive-confetti-wrapper.i-amphtml-story-interactive-confetti-wrapper-animate-out {
  transform: scale(1.2) !important;
  opacity: 0 !important;
}

.i-amphtml-story-interactive-confetti {
  position: absolute !important;
}

/* landing animations */

.i-amphtml-story-interactive-active {
  --landing-animation-delay: .5s;
}

.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) 
  .i-amphtml-story-interactive-option:before {
  background-color: var(--i-amphtml-interactive-theme-shading-flash);
  content: '' !important;
  position: absolute !important;
  width: 100% !important;
  height: 100% !important;
  left: 0;
  opacity: 0;
  animation: i-amphtml-interactive-animation-landing-animation-flash-background calc(var(--i-amphtml-interactive-animation-time));
  animation-delay: var(--landing-animation-delay);
}

.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) 
  .i-amphtml-story-interactive-option:nth-of-type(2):before {
  animation-delay: calc(var(--landing-animation-delay) + var(--i-amphtml-interactive-animation-time) * .3);
} 

.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) 
  .i-amphtml-story-interactive-option:nth-of-type(3):before {
  animation-delay: calc(var(--landing-animation-delay) + var(--i-amphtml-interactive-animation-time) * .6);
} 

.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) 
  .i-amphtml-story-interactive-option:nth-of-type(4):before {
  animation-delay: calc(var(--landing-animation-delay) + var(--i-amphtml-interactive-animation-time) * .9);
} 

@keyframes i-amphtml-interactive-animation-landing-animation-flash-background {
  30% {
    opacity: 1
  }
}

@keyframes i-amphtml-interactive-animation-landing-animation-text {
  30% {
    transform: scale(.95);
  }
}

/* i-amphtml-story-interactive-quiz-option-text */
.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection)
  .i-amphtml-story-interactive-option
    .i-amphtml-story-interactive-quiz-option-text  {
    animation: i-amphtml-interactive-animation-landing-animation-text calc(var(--i-amphtml-interactive-animation-time));
    animation-delay: var(--landing-animation-delay);
}

.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection)
  .i-amphtml-story-interactive-option:nth-of-type(2) 
    .i-amphtml-story-interactive-quiz-option-text {
  animation-delay: calc(var(--landing-animation-delay) + var(--i-amphtml-interactive-animation-time) * .3);
}

.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection)
  .i-amphtml-story-interactive-option:nth-of-type(3) 
    .i-amphtml-story-interactive-quiz-option-text {
  animation-delay: calc(var(--landing-animation-delay) + var(--i-amphtml-interactive-animation-time) * .6);
}

.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection)
  .i-amphtml-story-interactive-option:nth-of-type(4) 
    .i-amphtml-story-interactive-quiz-option-text {
  animation-delay: calc(var(--landing-animation-delay) + var(--i-amphtml-interactive-animation-time) * .9);
}

/* .i-amphtml-story-interactive-option-title-text */
.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection)
  .i-amphtml-story-interactive-option
    .i-amphtml-story-interactive-option-title-text {
    animation: i-amphtml-interactive-animation-landing-animation-text calc(var(--i-amphtml-interactive-animation-time));
    animation-delay: var(--landing-animation-delay);
}

.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection)
  .i-amphtml-story-interactive-option:nth-of-type(2) 
    .i-amphtml-story-interactive-option-title-text {
  animation-delay: calc(var(--landing-animation-delay) + var(--i-amphtml-interactive-animation-time) * .3);
}


/* i-amphtml-story-interactive-option-text */
.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection)
  .i-amphtml-story-interactive-option
    .i-amphtml-story-interactive-option-text {
    transform-origin: center !important;
    animation: i-amphtml-interactive-animation-landing-animation-text calc(var(--i-amphtml-interactive-animation-time));
    animation-delay: var(--landing-animation-delay);
}

.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection)
  .i-amphtml-story-interactive-option:nth-of-type(2) 
    .i-amphtml-story-interactive-option-text {
  animation-delay: calc(var(--landing-animation-delay) + var(--i-amphtml-interactive-animation-time) * .3);
}