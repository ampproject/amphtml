# Поддерживаемые языки

Чтобы узнать список поддерживаемых языков, просмотрите список файлов `*.js` в [каталоге `_locales`](https://github.com/ampproject/amphtml/tree/main/extensions/amp-story/1.0/_locales).

# Резервные языки

Когда в используемой локализации отсутствует нужная строка, то отображается строка из более общего варианта языка, а если и это невозможно, то из локализации `default`. Вариант языка обозначается буквами после дефиса в его коде.

Например, при использовании языка `en-GB` порядок будет следующим:

-   `en-GB` (английский, Великобритания)
-   `en` (английский)
-   `default` (по умолчанию)

Код `default` соответствует резервной локализации, используемой в случае недоступности языка, запрашиваемого издателем. Она содержит минимальный набор англоязычных строк, что позволяет не перегружать документ строками на языке, отличном от основного. Подписи к значкам, значение которых очевидно и без пояснений, опускаются. Например, поскольку кнопки «Поделиться» содержат логотипы соцсетей (таких, как Twitter), названия соцсетей являются избыточными и при использовании языка `default` могут не отображаться.

# Просмотр текущих строк

Переводы для каждого языка можно просмотреть в [таблице по ссылке](https://bit.ly/amp-story-strings). Текст `undefined` в ячейке означает, что строка не будет отображаться на соответствующем языке; вместо этого будет использоваться резервный язык.

# Добавление новых (англоязычных) строк

1. Добавьте в список [`LocalizedStringId`](https://github.com/ampproject/amphtml/blob/main/src/localized-strings.js#L31) новый идентификатор строки. Не нарушайте алфавитный порядок списка `LocalizedStringId` и убедитесь, что название идентификатора четко отражает предназначение строки.
2. Откройте файл [`en.js`](https://github.com/ampproject/amphtml/blob/main/extensions/amp-story/1.0/_locales/en.js).
3. Добавьте в объект новый элемент, указав в качестве ключа идентификатор из списка `LocalizedStringId`, а в качестве значения — объект со строкой и ее описанием. Например:

```javascript
/* ... */

[LocalizedStringId.MY_LOCALIZED_STRING_ID]: {
  string: 'My string',
  description: 'This is a description of my string, explaining what it means and/or how it is used.',
},

/* ... */
```

1. Отправьте pull-запрос с внесенными изменениями.

# Добавление новых переводов (на языки, отличные от английского)

1. Откройте [таблицу переводов](https://bit.ly/amp-story-strings), чтобы узнать, какие строки отсутствуют.
2. Откройте в [каталоге `_locales`](https://github.com/ampproject/amphtml/tree/main/extensions/amp-story/1.0/_locales) файл `*.js`, соответствующий языку, для которого нужно добавить перевод.
3. Добавьте в объект новый элемент, указав в качестве ключа идентификатор из списка `LocalizedStringId`, а в качестве значения — объект со строкой. Например:

```javascript
/* ... */

[LocalizedStringId.MY_LOCALIZED_STRING_ID]: {
  string: 'My string',
},

/* ... */
```

1. Отправьте pull-запрос с внесенными изменениями.

ПРИМЕЧАНИЕ. Не нарушайте алфавитный порядок идентификаторов строк и не используйте ключ `description` в объектах, содержащих строку, если язык отличается от английского.
