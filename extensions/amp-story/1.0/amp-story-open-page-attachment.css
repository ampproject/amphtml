/**
 * Copyright 2021 The AMP HTML Authors. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS-IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/** amp-story-page open attachment message Shadow DOM. */

@keyframes open-attachment-fly-in {
  0% {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes open-attachment-icon {
  0% {
    transform: translateY(14px);
  }
  to {
    transform: translateY(0);
  }
}

@keyframes open-attachment-icon-explode {
  0% {
    transform: scale(0);
  }
  to {
    transform: scale(1);
    box-shadow: 0 1px 3px 1px rgba(0, 0, 0, 0.12);
  }
}

@keyframes open-attachment-icon-color {
  0% {
    background: #fff;
  }
  to {
    background: rgba(0, 0, 0, 0.87);
    text-shadow: none;
  }
}

@keyframes open-attachment-bar-left {
  0% {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(-30deg);
  }
}

@keyframes open-attachment-bar-right {
  0% {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(30deg);
  }
}

/**
   * Hiding the element and only showing it on the active page so the animation
   * triggers every time the page becomes active.
   */
.i-amphtml-story-page-open-attachment {
  display: none !important;
}

.i-amphtml-story-page-open-attachment[active] {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  flex-direction: column !important;
  position: absolute !important;
  bottom: 0 !important;
  left: 0 !important;
  width: 100% !important;
  background: linear-gradient(0, rgba(0, 0, 0, 0.15), transparent) !important;
  pointer-events: none !important;
  z-index: 3 !important;
  animation: open-attachment-fly-in 0.3s cubic-bezier(0.4, 0, 0.2, 1) both !important;
  -webkit-touch-callout: default !important; /* Allow long pressing the button to open context menu in iOS */
  text-decoration: none !important;
}

.i-amphtml-story-page-open-attachment > * {
  cursor: pointer !important;
  pointer-events: auto !important;
}

.i-amphtml-story-page-open-attachment-icon {
  display: block !important;
  height: 32px !important;
  width: 32px !important;
  cursor: pointer !important;
  animation: open-attachment-icon 0.2s cubic-bezier(0.4, 0, 0.2, 1) 2s both !important;
}

.i-amphtml-story-page-open-attachment-icon::after {
  content: '' !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  height: 100% !important;
  width: 100% !important;
  background: #fff !important;
  border-radius: 100% !important;
  z-index: -1 !important;
  animation: open-attachment-icon-explode 0.25s cubic-bezier(0.4, 0, 0.2, 1) 2s
    both !important;
}

.i-amphtml-story-page-open-attachment-bar-left,
.i-amphtml-story-page-open-attachment-bar-right,
.i-amphtml-story-outlink-page-open-attachment-bar-left,
.i-amphtml-story-outlink-page-open-attachment-bar-right {
  position: absolute !important;
  display: block !important;
  height: 3px !important;
  width: 12px !important;
  border-radius: 3px !important;
  top: 14px !important;
}

.i-amphtml-story-page-open-attachment-bar-left {
  left: 6px !important;
  animation: open-attachment-icon-color 0.25s cubic-bezier(0.4, 0, 0.2, 1) 2s
      both,
    open-attachment-bar-left 0.3s cubic-bezier(0.4, 0, 0.2, 1) both !important;
}

.i-amphtml-story-page-open-attachment-bar-right {
  right: 6px !important;
  animation: open-attachment-icon-color 0.25s cubic-bezier(0.4, 0, 0.2, 1) 2s
      both,
    open-attachment-bar-right 0.3s cubic-bezier(0.4, 0, 0.2, 1) both !important;
}

.i-amphtml-story-page-open-attachment-label {
  position: relative !important;
  padding: 12px 32px 20px 32px !important;
  height: 16px !important;
  max-width: calc(100% - 64px) !important;
  color: #fff !important;
  font-family: 'Roboto', sans-serif !important;
  font-size: 16px !important;
  font-weight: bold !important;
  letter-spacing: 0.3px;
  line-height: 16px !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  text-shadow: 0px 0px 6px rgba(0, 0, 0, 0.36) !important;
  white-space: nowrap !important;
}

/** For amp-story-inline-page-attachment-v2 experiment elements. */
.i-amphtml-story-page-open-attachment {
  --i-amphtml-chip-background-color: rgba(255, 255, 255, 0.5) !important;
  --i-amphtml-img-background-color: white !important;
  --i-amphtml-label-text-color: white !important;
}

[theme="dark"].i-amphtml-story-page-open-attachment {
  --i-amphtml-chip-background-color: rgba(0, 0, 0, 0.5) !important;
  --i-amphtml-img-background-color: black !important;
  --i-amphtml-label-text-color: black !important;
}

.i-amphtml-story-inline-page-attachment-chip {
  background-color: var(--i-amphtml-chip-background-color) !important;
  display: flex !important;
  border-radius: 24px !important;
  align-items: center !important;
  overflow: hidden !important;
  margin-bottom: 12px !important;
}

.i-amphtml-story-inline-page-attachment-chip:only-child {
  margin-bottom: 20px !important;
}

.i-amphtml-story-inline-page-attachment-img,
.i-amphtml-story-inline-page-attachment-arrow {
  background-size: contain !important;
  background-repeat: no-repeat !important;
}

.i-amphtml-story-inline-page-attachment-img {
  height: 48px !important;
  width: 48px !important;
  background-color: var(--i-amphtml-img-background-color) !important;
}

.i-amphtml-story-inline-page-attachment-img:nth-child(2) {
  margin-inline-start: 1px !important;
}

.i-amphtml-story-inline-page-attachment-arrow {
  height: 32px !important;
  width: 32px !important;
  margin: 8px !important;
  background-image: url('data:image/svg+xml;charset=utf-8,<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M16 32C24.8366 32 32 24.8366 32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32Z" fill="white"/> <path d="M6.74612 18.796C6.33376 18.0797 6.57889 17.1649 7.29412 16.7508L15.0632 12.2529C15.7808 11.8374 16.6995 12.0835 17.1132 12.8022C17.5256 13.5184 17.2805 14.4333 16.5652 14.8474L8.7962 19.3453C8.07854 19.7608 7.15989 19.5146 6.74612 18.796Z" fill="black"/> <path d="M14.724 12.8022C15.1377 12.0835 16.0564 11.8374 16.774 12.2528L24.5431 16.7508C25.2583 17.1648 25.5034 18.0797 25.0911 18.7959C24.6773 19.5146 23.7587 19.7607 23.041 19.3452L15.272 14.8473C14.5567 14.4332 14.3116 13.5184 14.724 12.8022Z" fill="black"/> </svg>') !important;
  background-position: center !important;
}

[theme="dark"] .i-amphtml-story-inline-page-attachment-arrow {
  background-image: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 32 32"><path d="M16 32a16 16 0 100-32 16 16 0 000 32z" fill="black"/><path d="M7 19v-2l8-5a1 1 0 112 3l-8 4H7z" fill="white"/><path d="M15 13l2-1 8 5a1 1 0 11-2 2l-8-4v-2z" fill="white"/></svg>') !important;
}

.i-amphtml-story-inline-page-attachment-label {
  font-family: 'Roboto', sans-serif !important;
  font-size: 16px !important;
  font-weight: 700 !important;
  letter-spacing: 0.25px !important;
  line-height: 16px !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  max-width: 210px !important;
  margin-bottom: 20px !important;
  color: var(--i-amphtml-label-text-color) !important;
}

/** For amp-story-outlink-page-attachment-v2 experiment elements. */
.i-amphtml-story-outlink-page-attachment-arrow {
  display: block !important;
  height: 32px !important;
  width: 32px !important;
  cursor: pointer !important;
  position: relative !important;
}

.i-amphtml-story-outlink-page-open-attachment-bar-left {
  background: white !important;
  left: 6px !important;
  animation: open-attachment-bar-left 0.3s cubic-bezier(0.4, 0.0, 0.2, 1) both !important;
}

.i-amphtml-story-outlink-page-open-attachment-bar-right {
  background: white !important;
  right: 6px !important;
  animation: open-attachment-bar-right 0.3s cubic-bezier(0.4, 0.0, 0.2, 1) both !important;
}

.i-amphtml-story-outlink-page-attachment-outlink-chip {
  display: flex !important;
  position: relative !important;
  padding: 10px 6px 10px 6px !important;
  margin: 0 0 20px 0 !important;
  height: 16px !important;
  max-width: calc(100% - 64px) !important;
  border-radius: 30px !important;
  background: white !important;
  color: var(--cta-accent-color, black) !important;
  place-items: center !important;
}

.i-amphtml-story-outlink-page-attachment-img {
  height: 24px !important;
  width: 24px !important;
  vertical-align: middle !important;
  background-size: cover !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
  border-radius: 50% !important;
  background-image: url('data:image/svg+xml;charset=utf-8,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"> <rect width="24" height="24" rx="12" fill="#E8EAED"/> <path d="M9.63108 18.0003C9.63887 18.0003 9.63887 18.0003 9.63108 18.0003C10.6051 18.0003 11.5245 17.6183 12.2102 16.9321L13.6829 15.4507C13.8933 15.2402 13.8933 14.8893 13.6829 14.6788C13.4725 14.4683 13.1219 14.4683 12.9115 14.6788L11.4388 16.1602C10.9557 16.6436 10.3168 16.9087 9.63887 16.9087C8.96097 16.9087 8.32202 16.6436 7.83892 16.1602C7.35581 15.6768 7.09088 15.0374 7.09088 14.3591C7.09088 13.6808 7.35581 13.0414 7.83892 12.558L9.3194 11.0843C9.52979 10.8738 9.53758 10.523 9.3194 10.3124C9.10122 10.1019 8.75838 10.0941 8.54799 10.3124L7.06751 11.7861C6.38181 12.4722 6 13.3845 6 14.3591C6 15.3337 6.37402 16.246 7.06751 16.9321C7.7532 17.6183 8.66487 18.0003 9.63108 18.0003Z" fill="black" stroke="black" stroke-width="0.25"/> <path d="M11.0882 9.31374L12.5609 7.8323C13.044 7.34889 13.683 7.08379 14.3609 7.08379C15.0388 7.08379 15.6777 7.34889 16.1608 7.8323C16.6439 8.31572 16.9089 8.95508 16.9089 9.63342C16.9089 10.3118 16.6439 10.9511 16.1608 11.4345L14.6804 12.9082C14.47 13.1187 14.4622 13.4696 14.6804 13.6801C14.7894 13.7892 14.9297 13.8438 15.07 13.8438C15.2102 13.8438 15.3505 13.7892 15.4518 13.6879L16.9323 12.2142C17.6179 11.5281 17.9998 10.6158 17.9998 9.64122C17.9998 8.66659 17.6257 7.75433 16.9323 7.06819C16.2466 6.38205 15.3349 6 14.3609 6C14.3609 6 14.3609 6 14.3531 6C13.3791 6 12.4674 6.38205 11.7817 7.06819L10.309 8.54963C10.0986 8.76015 10.0986 9.11102 10.309 9.32154C10.5272 9.53206 10.8779 9.53206 11.0882 9.31374Z" fill="black" stroke="black" stroke-width="0.25"/> <path d="M14.6259 9.36883C14.4155 9.15831 14.0649 9.15831 13.8545 9.36883L9.3741 13.8521C9.16371 14.0626 9.16371 14.4135 9.3741 14.624C9.48319 14.7332 9.62344 14.7878 9.75591 14.7878C9.88837 14.7878 10.0364 14.7332 10.1377 14.624L14.6181 10.1407C14.8363 9.93021 14.8363 9.57935 14.6259 9.36883Z" fill="black" stroke="black" stroke-width="0.25"/> </svg>') !important;
}

.i-amphtml-story-outlink-page-attachment-label {
  display: flex !important;
  font-family: 'Roboto', sans-serif !important;
  font-size: 16px !important;
  font-weight: bold !important;
  letter-spacing: 0.3px;
  line-height: 16px !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  max-width: 210px !important;
  padding-inline-start: 6px !important;
  padding-inline-end: 8px !important;
}

.i-amphtml-story-outlink-page-attachment-outlink-chip-no-image {
  padding-inline-start: 14px !important;
}

.i-amphtml-story-outlink-page-attachment-outlink-chip-no-image > * {
  padding-inline-start: 0px !important;
}

