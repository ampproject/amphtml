load("@rules_cc//cc:defs.bzl", "cc_library", "cc_test")

# Requirements:
# clang with c++17 support.
#
# Usage:
# To build the library, use the following bazel command:
#
# bazel build --repo_env=CC=clang --cxxopt='-std=c++17' <build_target>

package(default_visibility = ["//visibility:public"])

licenses(["notice"])

exports_files(
    [
        # These are generated by validatorgen.cc
        "json.h",
    ],
    visibility = ["//cpp/htmlparser/bin:__subpackages__"],
)

cc_library(
    name = "json",
    hdrs = ["json.h"],
)

cc_test(
    name = "json_test",
    srcs = [
        "json_test.cc",
    ],
    deps = [
        ":json",
        "@com_google_googletest//:gtest_main",
    ],
)
