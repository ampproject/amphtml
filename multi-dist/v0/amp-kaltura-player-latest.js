(self.AMP=self.AMP||[]).push({n:"amp-kaltura-player",v:"1904281823091",f:(function(AMP,_){
var $$jscomp$objectCreate$$="function"==typeof Object.create?Object.create:function($prototype$$){function $ctor$$(){}$ctor$$.prototype=$prototype$$;return new $ctor$$},$JSCompiler_temp$jscomp$10$$;
if("function"==typeof Object.setPrototypeOf)$JSCompiler_temp$jscomp$10$$=Object.setPrototypeOf;else{var $JSCompiler_inline_result$jscomp$11$$;a:{var $JSCompiler_x$jscomp$inline_13$$={a:!0},$JSCompiler_y$jscomp$inline_14$$={};try{$JSCompiler_y$jscomp$inline_14$$.__proto__=$JSCompiler_x$jscomp$inline_13$$;$JSCompiler_inline_result$jscomp$11$$=$JSCompiler_y$jscomp$inline_14$$.a;break a}catch($JSCompiler_e$jscomp$inline_15$$){}$JSCompiler_inline_result$jscomp$11$$=!1}$JSCompiler_temp$jscomp$10$$=$JSCompiler_inline_result$jscomp$11$$?
function($target$jscomp$83$$,$proto$jscomp$3$$){$target$jscomp$83$$.__proto__=$proto$jscomp$3$$;if($target$jscomp$83$$.__proto__!==$proto$jscomp$3$$)throw new TypeError($target$jscomp$83$$+" is not extensible");return $target$jscomp$83$$}:null}var $$jscomp$setPrototypeOf$$=$JSCompiler_temp$jscomp$10$$;self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log;function $dict$$module$src$utils$object$$($opt_initial$jscomp$1$$){return $opt_initial$jscomp$1$$||{}};$dict$$module$src$utils$object$$({c:!0,v:!0,a:!0,ad:!0,action:!0});
function $appendEncodedParamStringToUrl$$module$src$url$$($url$jscomp$23$$,$paramString$$){var $opt_addToFront$$;if(!$paramString$$)return $url$jscomp$23$$;var $mainAndFragment$$=$url$jscomp$23$$.split("#",2),$mainAndQuery$$=$mainAndFragment$$[0].split("?",2),$newUrl$$=$mainAndQuery$$[0]+($mainAndQuery$$[1]?$opt_addToFront$$?"?"+$paramString$$+"&"+$mainAndQuery$$[1]:"?"+$mainAndQuery$$[1]+"&"+$paramString$$:"?"+$paramString$$);return $newUrl$$+=$mainAndFragment$$[1]?"#"+$mainAndFragment$$[1]:""}
function $serializeQueryString$$module$src$url$$($params$jscomp$4$$){var $s$jscomp$8$$=[],$k$jscomp$1$$;for($k$jscomp$1$$ in $params$jscomp$4$$){var $v$$=$params$jscomp$4$$[$k$jscomp$1$$];if(null!=$v$$)if(Array.isArray($v$$))for(var $i$jscomp$8_sv$1$$=0;$i$jscomp$8_sv$1$$<$v$$.length;$i$jscomp$8_sv$1$$++){var $sv$$=$v$$[$i$jscomp$8_sv$1$$];$s$jscomp$8$$.push(encodeURIComponent($k$jscomp$1$$)+"="+encodeURIComponent($sv$$))}else $i$jscomp$8_sv$1$$=$v$$,$s$jscomp$8$$.push(encodeURIComponent($k$jscomp$1$$)+
"="+encodeURIComponent($i$jscomp$8_sv$1$$))}return $s$jscomp$8$$.join("&")};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function $getDataParamsFromAttributes$$module$src$dom$$($element$jscomp$18_params$jscomp$5$$,$opt_computeParamNameFunc$$){var $opt_paramPattern$$,$computeParamNameFunc$$=$opt_computeParamNameFunc$$||function($element$jscomp$18_params$jscomp$5$$){return $element$jscomp$18_params$jscomp$5$$},$dataset$$=$element$jscomp$18_params$jscomp$5$$.dataset;$element$jscomp$18_params$jscomp$5$$={};var $paramPattern$$=$opt_paramPattern$$?$opt_paramPattern$$:/^param(.+)/,$key$jscomp$46$$;for($key$jscomp$46$$ in $dataset$$){var $matches$$=
$key$jscomp$46$$.match($paramPattern$$);$matches$$&&($element$jscomp$18_params$jscomp$5$$[$computeParamNameFunc$$($matches$$[1][0].toLowerCase()+$matches$$[1].substr(1))]=$dataset$$[$key$jscomp$46$$])}return $element$jscomp$18_params$jscomp$5$$};function $AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$($$jscomp$super$this_element$jscomp$40$$){$$jscomp$super$this_element$jscomp$40$$=AMP.BaseElement.call(this,$$jscomp$super$this_element$jscomp$40$$)||this;$$jscomp$super$this_element$jscomp$40$$.$iframe_$=null;$$jscomp$super$this_element$jscomp$40$$.$partnerId_$="";$$jscomp$super$this_element$jscomp$40$$.$entryId_$="";return $$jscomp$super$this_element$jscomp$40$$}var $JSCompiler_parentCtor$jscomp$inline_18$$=AMP.BaseElement;
$AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$.prototype=$$jscomp$objectCreate$$($JSCompiler_parentCtor$jscomp$inline_18$$.prototype);$AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$.prototype.constructor=$AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$;
if($$jscomp$setPrototypeOf$$)$$jscomp$setPrototypeOf$$($AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$,$JSCompiler_parentCtor$jscomp$inline_18$$);else for(var $JSCompiler_p$jscomp$inline_19$$ in $JSCompiler_parentCtor$jscomp$inline_18$$)if("prototype"!=$JSCompiler_p$jscomp$inline_19$$)if(Object.defineProperties){var $JSCompiler_descriptor$jscomp$inline_20$$=Object.getOwnPropertyDescriptor($JSCompiler_parentCtor$jscomp$inline_18$$,$JSCompiler_p$jscomp$inline_19$$);$JSCompiler_descriptor$jscomp$inline_20$$&&
Object.defineProperty($AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$,$JSCompiler_p$jscomp$inline_19$$,$JSCompiler_descriptor$jscomp$inline_20$$)}else $AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$[$JSCompiler_p$jscomp$inline_19$$]=$JSCompiler_parentCtor$jscomp$inline_18$$[$JSCompiler_p$jscomp$inline_19$$];$AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$.$superClass_$=$JSCompiler_parentCtor$jscomp$inline_18$$.prototype;
$AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$.prototype.preconnectCallback=function($opt_onLayout$$){this.preconnect.url("https://cdnapisec.kaltura.com",$opt_onLayout$$)};
$AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$.prototype.isLayoutSupported=function($layout$jscomp$3$$){return"fixed"==$layout$jscomp$3$$||"fixed-height"==$layout$jscomp$3$$||"responsive"==$layout$jscomp$3$$||"fill"==$layout$jscomp$3$$||"flex-item"==$layout$jscomp$3$$||"fluid"==$layout$jscomp$3$$||"intrinsic"==$layout$jscomp$3$$};
$AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$.prototype.buildCallback=function(){var $JSCompiler_shouldBeTrueish$jscomp$inline_22$$=this.element.getAttribute("data-partner"),$JSCompiler_opt_1$jscomp$inline_23$$=this.element;if(!$logs$$module$src$log$$.user)throw Error("failed to call initLogConstructor");this.$partnerId_$=$logs$$module$src$log$$.user.assert($JSCompiler_shouldBeTrueish$jscomp$inline_22$$,"The data-partner attribute is required for <amp-kaltura-player> %s",
$JSCompiler_opt_1$jscomp$inline_23$$,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0);this.$entryId_$=this.element.getAttribute("data-entryid")||"default"};
$AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$.prototype.layoutCallback=function(){var $uiconfId$$=this.element.getAttribute("data-uiconf")||this.element.getAttribute("data-uiconf-id")||"default",$iframe$$=this.element.ownerDocument.createElement("iframe"),$src$jscomp$4$$="https://cdnapisec.kaltura.com/p/"+encodeURIComponent(this.$partnerId_$)+"/sp/"+encodeURIComponent(this.$partnerId_$)+"00/embedIframeJs/uiconf_id/"+encodeURIComponent($uiconfId$$)+"/partner_id/"+encodeURIComponent(this.$partnerId_$)+
"?iframeembed=true&playerId=kaltura_player_amp&entry_id="+encodeURIComponent(this.$entryId_$),$params$jscomp$6$$=$getDataParamsFromAttributes$$module$src$dom$$(this.element,function($uiconfId$$){return"flashvars["+$uiconfId$$+"]"});$src$jscomp$4$$=$appendEncodedParamStringToUrl$$module$src$url$$($src$jscomp$4$$,$serializeQueryString$$module$src$url$$($params$jscomp$6$$));$iframe$$.setAttribute("frameborder","0");$iframe$$.setAttribute("allowfullscreen","true");$iframe$$.src=$src$jscomp$4$$;this.applyFillContent($iframe$$);
this.element.appendChild($iframe$$);this.$iframe_$=$iframe$$;return this.loadPromise($iframe$$)};
$AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$.prototype.createPlaceholderCallback=function(){var $placeholder$$=this.win.document.createElement("amp-img");this.propagateAttributes(["aria-label"],$placeholder$$);var $width$jscomp$28$$=this.element.getAttribute("width"),$height$jscomp$27$$=this.element.getAttribute("height"),$src$jscomp$5$$="https://cdnapisec.kaltura.com/p/"+encodeURIComponent(this.$partnerId_$)+"/thumbnail/entry_id/"+encodeURIComponent(this.$entryId_$);
$width$jscomp$28$$&&($src$jscomp$5$$+="/width/"+$width$jscomp$28$$);$height$jscomp$27$$&&($src$jscomp$5$$+="/height/"+$height$jscomp$27$$);$placeholder$$.setAttribute("src",$src$jscomp$5$$);$placeholder$$.setAttribute("layout","fill");$placeholder$$.setAttribute("placeholder","");$placeholder$$.setAttribute("referrerpolicy","origin");$placeholder$$.hasAttribute("aria-label")?$placeholder$$.setAttribute("alt","Loading video - "+$placeholder$$.getAttribute("aria-label")):$placeholder$$.setAttribute("alt",
"Loading video");return $placeholder$$};$AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$.prototype.pauseCallback=function(){this.$iframe_$&&this.$iframe_$.contentWindow&&this.$iframe_$.contentWindow.postMessage(JSON.stringify($dict$$module$src$utils$object$$({method:"pause",value:""})),"*")};(function($AMP$jscomp$1$$){$AMP$jscomp$1$$.registerElement("amp-kaltura-player",$AmpKaltura$$module$extensions$amp_kaltura_player$0_1$amp_kaltura_player$$)})(self.AMP);
})});

//# sourceMappingURL=amp-kaltura-player-0.1.js.map
