(self.AMP=self.AMP||[]).push({n:"amp-experiment",v:"1904281823091",f:(function(AMP,_){
var $$jscomp$objectCreate$$="function"==typeof Object.create?Object.create:function($prototype$$){function $ctor$$(){}$ctor$$.prototype=$prototype$$;return new $ctor$$},$JSCompiler_temp$jscomp$19$$;
if("function"==typeof Object.setPrototypeOf)$JSCompiler_temp$jscomp$19$$=Object.setPrototypeOf;else{var $JSCompiler_inline_result$jscomp$20$$;a:{var $JSCompiler_x$jscomp$inline_31$$={a:!0},$JSCompiler_y$jscomp$inline_32$$={};try{$JSCompiler_y$jscomp$inline_32$$.__proto__=$JSCompiler_x$jscomp$inline_31$$;$JSCompiler_inline_result$jscomp$20$$=$JSCompiler_y$jscomp$inline_32$$.a;break a}catch($JSCompiler_e$jscomp$inline_33$$){}$JSCompiler_inline_result$jscomp$20$$=!1}$JSCompiler_temp$jscomp$19$$=$JSCompiler_inline_result$jscomp$20$$?
function($target$jscomp$83$$,$proto$jscomp$3$$){$target$jscomp$83$$.__proto__=$proto$jscomp$3$$;if($target$jscomp$83$$.__proto__!==$proto$jscomp$3$$)throw new TypeError($target$jscomp$83$$+" is not extensible");return $target$jscomp$83$$}:null}var $$jscomp$setPrototypeOf$$=$JSCompiler_temp$jscomp$19$$;
function $tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($component$jscomp$4$$,$fallback$$){$fallback$$=void 0===$fallback$$?"":$fallback$$;try{return decodeURIComponent($component$jscomp$4$$)}catch($e$jscomp$8$$){return $fallback$$}};var $regex$$module$src$url_parse_query_string$$=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;
function $parseQueryString_$$module$src$url_parse_query_string$$($queryString$$){var $params$jscomp$1$$=Object.create(null);if(!$queryString$$)return $params$jscomp$1$$;for(var $match$$;$match$$=$regex$$module$src$url_parse_query_string$$.exec($queryString$$);){var $name$jscomp$70$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[1],$match$$[1]),$value$jscomp$86$$=$match$$[2]?$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[2],$match$$[2]):"";
$params$jscomp$1$$[$name$jscomp$70$$]=$value$jscomp$86$$}return $params$jscomp$1$$};var $rtvVersion$$module$src$mode$$="";var $toString_$$module$src$types$$=Object.prototype.toString;function $isObject$$module$src$types$$($value$jscomp$89$$){return"[object Object]"===$toString_$$module$src$types$$.call($value$jscomp$89$$)};self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log;function $user$$module$src$log$$(){if(!$logs$$module$src$log$$.user)throw Error("failed to call initLogConstructor");return $logs$$module$src$log$$.user}
function $userAssert$$module$src$log$$($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$,$opt_4$jscomp$1$$){return $user$$module$src$log$$().assert($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$,$opt_4$jscomp$1$$,void 0,void 0,void 0,void 0,void 0)};var $hasOwn_$$module$src$utils$object$$=Object.prototype.hasOwnProperty;function $Deferred$$module$src$utils$promise$$(){var $resolve$$,$reject$$;this.promise=new Promise(function($res$jscomp$1$$,$rej$$){$resolve$$=$res$jscomp$1$$;$reject$$=$rej$$});this.resolve=$resolve$$;this.reject=$reject$$};function $registerServiceBuilderForDoc$$module$src$service$$($JSCompiler_holder$jscomp$inline_112_nodeOrDoc$jscomp$1$$){var $constructor$jscomp$2$$=$OriginExperiments$$module$src$service$origin_experiments_impl$$,$ampdoc$$=$getAmpdoc$$module$src$service$$($JSCompiler_holder$jscomp$inline_112_nodeOrDoc$jscomp$1$$),$holder$$=$getAmpdocServiceHolder$$module$src$service$$($ampdoc$$);$JSCompiler_holder$jscomp$inline_112_nodeOrDoc$jscomp$1$$=$holder$$;var $JSCompiler_services$jscomp$inline_116$$=$getServices$$module$src$service$$($JSCompiler_holder$jscomp$inline_112_nodeOrDoc$jscomp$1$$),
$JSCompiler_s$jscomp$inline_117$$=$JSCompiler_services$jscomp$inline_116$$["origin-experiments"];$JSCompiler_s$jscomp$inline_117$$||($JSCompiler_s$jscomp$inline_117$$=$JSCompiler_services$jscomp$inline_116$$["origin-experiments"]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});$JSCompiler_s$jscomp$inline_117$$.ctor||$JSCompiler_s$jscomp$inline_117$$.obj||($JSCompiler_s$jscomp$inline_117$$.ctor=$constructor$jscomp$2$$,$JSCompiler_s$jscomp$inline_117$$.context=$ampdoc$$,$JSCompiler_s$jscomp$inline_117$$.resolve&&
$getServiceInternal$$module$src$service$$($JSCompiler_holder$jscomp$inline_112_nodeOrDoc$jscomp$1$$,"origin-experiments"))}function $getService$$module$src$service$$($win$jscomp$9$$,$id$jscomp$11$$){$win$jscomp$9$$=$win$jscomp$9$$.__AMP_TOP||$win$jscomp$9$$;return $getServiceInternal$$module$src$service$$($win$jscomp$9$$,$id$jscomp$11$$)}
function $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$$,$id$jscomp$15$$){var $ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdoc$$module$src$service$$($elementOrAmpDoc$$);$ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$);return $getServiceInternal$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$,$id$jscomp$15$$)}
function $getServicePromiseForDoc$$module$src$service$$($JSCompiler_holder$jscomp$inline_38_JSCompiler_services$jscomp$inline_41_elementOrAmpDoc$jscomp$1$$,$JSCompiler_inline_result$jscomp$22_id$jscomp$17$$){$JSCompiler_holder$jscomp$inline_38_JSCompiler_services$jscomp$inline_41_elementOrAmpDoc$jscomp$1$$=$getAmpdocServiceHolder$$module$src$service$$($JSCompiler_holder$jscomp$inline_38_JSCompiler_services$jscomp$inline_41_elementOrAmpDoc$jscomp$1$$);var $JSCompiler_cached$jscomp$inline_40$$=$getServicePromiseOrNullInternal$$module$src$service$$($JSCompiler_holder$jscomp$inline_38_JSCompiler_services$jscomp$inline_41_elementOrAmpDoc$jscomp$1$$,
$JSCompiler_inline_result$jscomp$22_id$jscomp$17$$);$JSCompiler_cached$jscomp$inline_40$$?$JSCompiler_inline_result$jscomp$22_id$jscomp$17$$=$JSCompiler_cached$jscomp$inline_40$$:($JSCompiler_holder$jscomp$inline_38_JSCompiler_services$jscomp$inline_41_elementOrAmpDoc$jscomp$1$$=$getServices$$module$src$service$$($JSCompiler_holder$jscomp$inline_38_JSCompiler_services$jscomp$inline_41_elementOrAmpDoc$jscomp$1$$),$JSCompiler_holder$jscomp$inline_38_JSCompiler_services$jscomp$inline_41_elementOrAmpDoc$jscomp$1$$[$JSCompiler_inline_result$jscomp$22_id$jscomp$17$$]=
$emptyServiceHolderWithPromise$$module$src$service$$(),$JSCompiler_inline_result$jscomp$22_id$jscomp$17$$=$JSCompiler_holder$jscomp$inline_38_JSCompiler_services$jscomp$inline_41_elementOrAmpDoc$jscomp$1$$[$JSCompiler_inline_result$jscomp$22_id$jscomp$17$$].promise);return $JSCompiler_inline_result$jscomp$22_id$jscomp$17$$}
function $getAmpdoc$$module$src$service$$($nodeOrDoc$jscomp$3$$){return $nodeOrDoc$jscomp$3$$.nodeType?$getService$$module$src$service$$(($nodeOrDoc$jscomp$3$$.ownerDocument||$nodeOrDoc$jscomp$3$$).defaultView,"ampdoc").getAmpDoc($nodeOrDoc$jscomp$3$$):$nodeOrDoc$jscomp$3$$}
function $getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$4$$){$ampdoc$jscomp$4_nodeOrDoc$jscomp$4$$=$getAmpdoc$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$4$$);return $ampdoc$jscomp$4_nodeOrDoc$jscomp$4$$.isSingleDoc()?$ampdoc$jscomp$4_nodeOrDoc$jscomp$4$$.win:$ampdoc$jscomp$4_nodeOrDoc$jscomp$4$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$10$$,$id$jscomp$19$$){$isServiceRegistered$$module$src$service$$($holder$jscomp$4_s$jscomp$10$$,$id$jscomp$19$$);var $services$$=$getServices$$module$src$service$$($holder$jscomp$4_s$jscomp$10$$);$holder$jscomp$4_s$jscomp$10$$=$services$$[$id$jscomp$19$$];$holder$jscomp$4_s$jscomp$10$$.obj||($holder$jscomp$4_s$jscomp$10$$.obj=new $holder$jscomp$4_s$jscomp$10$$.ctor($holder$jscomp$4_s$jscomp$10$$.context),$holder$jscomp$4_s$jscomp$10$$.ctor=
null,$holder$jscomp$4_s$jscomp$10$$.context=null,$holder$jscomp$4_s$jscomp$10$$.resolve&&$holder$jscomp$4_s$jscomp$10$$.resolve($holder$jscomp$4_s$jscomp$10$$.obj));return $holder$jscomp$4_s$jscomp$10$$.obj}
function $getServicePromiseOrNullInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$){var $s$jscomp$13$$=$getServices$$module$src$service$$($holder$jscomp$8$$)[$id$jscomp$23$$];if($s$jscomp$13$$){if($s$jscomp$13$$.promise)return $s$jscomp$13$$.promise;$getServiceInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$);return $s$jscomp$13$$.promise=Promise.resolve($s$jscomp$13$$.obj)}return null}
function $getServices$$module$src$service$$($holder$jscomp$9$$){var $services$jscomp$5$$=$holder$jscomp$9$$.services;$services$jscomp$5$$||($services$jscomp$5$$=$holder$jscomp$9$$.services={});return $services$jscomp$5$$}
function $isServiceRegistered$$module$src$service$$($holder$jscomp$12_service$jscomp$4$$,$id$jscomp$27$$){$holder$jscomp$12_service$jscomp$4$$=$holder$jscomp$12_service$jscomp$4$$.services&&$holder$jscomp$12_service$jscomp$4$$.services[$id$jscomp$27$$];return!(!$holder$jscomp$12_service$jscomp$4$$||!$holder$jscomp$12_service$jscomp$4$$.ctor&&!$holder$jscomp$12_service$jscomp$4$$.obj)}
function $emptyServiceHolderWithPromise$$module$src$service$$(){var $deferred$$=new $Deferred$$module$src$utils$promise$$,$$jscomp$destructuring$var6_reject$jscomp$3$$=$deferred$$,$promise$jscomp$1$$=$$jscomp$destructuring$var6_reject$jscomp$3$$.promise,$resolve$jscomp$4$$=$$jscomp$destructuring$var6_reject$jscomp$3$$.resolve;$$jscomp$destructuring$var6_reject$jscomp$3$$=$$jscomp$destructuring$var6_reject$jscomp$3$$.reject;$promise$jscomp$1$$.catch(function(){});return{obj:null,promise:$promise$jscomp$1$$,
resolve:$resolve$jscomp$4$$,reject:$$jscomp$destructuring$var6_reject$jscomp$3$$,context:null,ctor:null}};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function $getElementServiceForDoc$$module$src$element_service$$($element$jscomp$42$$){return $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$42$$).then(function($element$jscomp$42$$){return $userAssert$$module$src$log$$($element$jscomp$42$$,"Service %s was requested to be provided through %s, but %s is not loaded in the current page. To fix this problem load the JavaScript file for %s in this page.","userNotificationManager","amp-user-notification","amp-user-notification",
"amp-user-notification")})}
function $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$43$$){var $s$jscomp$15$$=$getServicePromiseOrNullInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($element$jscomp$43$$),"userNotificationManager");if($s$jscomp$15$$)return $s$jscomp$15$$;var $ampdoc$jscomp$7$$=$getAmpdoc$$module$src$service$$($element$jscomp$43$$);return $ampdoc$jscomp$7$$.whenBodyAvailable().then(function(){var $element$jscomp$43$$=$ampdoc$jscomp$7$$.win;var $s$jscomp$15$$=
$ampdoc$jscomp$7$$.win.document.head;if($s$jscomp$15$$){var $JSCompiler_inline_result$jscomp$146_JSCompiler_scripts$jscomp$inline_152$$=[];$s$jscomp$15$$=$s$jscomp$15$$.querySelectorAll("script[custom-element]");for(var $JSCompiler_i$jscomp$inline_154$$=0;$JSCompiler_i$jscomp$inline_154$$<$s$jscomp$15$$.length;$JSCompiler_i$jscomp$inline_154$$++)$JSCompiler_inline_result$jscomp$146_JSCompiler_scripts$jscomp$inline_152$$.push($s$jscomp$15$$[$JSCompiler_i$jscomp$inline_154$$].getAttribute("custom-element"))}else $JSCompiler_inline_result$jscomp$146_JSCompiler_scripts$jscomp$inline_152$$=
[];$element$jscomp$43$$=$JSCompiler_inline_result$jscomp$146_JSCompiler_scripts$jscomp$inline_152$$.includes("amp-user-notification")?$getService$$module$src$service$$($element$jscomp$43$$,"extensions").waitForExtension($element$jscomp$43$$,"amp-user-notification"):Promise.resolve();return $element$jscomp$43$$}).then(function(){var $s$jscomp$15$$=$ampdoc$jscomp$7$$.win;return $s$jscomp$15$$.ampExtendedElements&&$s$jscomp$15$$.ampExtendedElements["amp-user-notification"]?$getServicePromiseForDoc$$module$src$service$$($element$jscomp$43$$,
"userNotificationManager"):null})};var $nameValidator$$module$extensions$amp_experiment$1_0$variant$$=/^[\w-]+$/;function $Variants$$module$extensions$amp_experiment$1_0$variant$$($ampdoc$jscomp$10$$){this.ampdoc=$ampdoc$jscomp$10$$;this.$variantsDeferred_$=new $Deferred$$module$src$utils$promise$$}$Variants$$module$extensions$amp_experiment$1_0$variant$$.prototype.init=function($variants$$){var $$jscomp$this$jscomp$1$$=this;$variants$$.then(function($variants$$){return $$jscomp$this$jscomp$1$$.$variantsDeferred_$.resolve($variants$$)})};
$Variants$$module$extensions$amp_experiment$1_0$variant$$.prototype.getVariants=function(){return this.$variantsDeferred_$.promise};$Variants$$module$extensions$amp_experiment$1_0$variant$$.prototype.whenReady=function(){return this.getVariants()};
function $allocateVariant$$module$extensions$amp_experiment$1_0$variant$$($ampdoc$jscomp$11$$,$experimentName$$,$experimentObject$$){$assertName$$module$extensions$amp_experiment$1_0$variant$$($experimentName$$);$validateExperiment$$module$extensions$amp_experiment$1_0$variant$$($experimentName$$,$experimentObject$$);var $viewer$$=$getServiceForDoc$$module$src$service$$($ampdoc$jscomp$11$$,"viewer"),$override$$=$viewer$$.getParam("amp-x-"+$experimentName$$);if($override$$&&$hasOwn_$$module$src$utils$object$$.call($experimentObject$$.variants,
$override$$))return Promise.resolve($override$$);var $sticky$$=!1!==$experimentObject$$.sticky,$cidScope$$=$experimentObject$$.cidScope||"amp-experiment",$hasConsentPromise$$=Promise.resolve(!0);if($sticky$$&&$experimentObject$$.consentNotificationId){var $element$jscomp$65$$=$ampdoc$jscomp$11$$.getHeadNode();$hasConsentPromise$$=$getElementServiceForDoc$$module$src$element_service$$($element$jscomp$65$$).then(function($ampdoc$jscomp$11$$){return $ampdoc$jscomp$11$$.getNotification($experimentObject$$.consentNotificationId)}).then(function($ampdoc$jscomp$11$$){$userAssert$$module$src$log$$($ampdoc$jscomp$11$$,
"Notification not found: "+$experimentObject$$.consentNotificationId);return $ampdoc$jscomp$11$$.isDismissed()})}return $hasConsentPromise$$.then(function($viewer$$){if(!$viewer$$)return null;var $override$$=$experimentObject$$.group||$experimentName$$;return $getBucketTicket$$module$extensions$amp_experiment$1_0$variant$$($ampdoc$jscomp$11$$,$override$$,$sticky$$?$cidScope$$:null).then(function($ampdoc$jscomp$11$$){for(var $experimentName$$=0,$viewer$$=$experimentObject$$.variants,$override$$=Object.keys($viewer$$).sort(),
$sticky$$=0;$sticky$$<$override$$.length;$sticky$$++)if($experimentName$$+=$viewer$$[$override$$[$sticky$$]].weight,$ampdoc$jscomp$11$$<$experimentName$$)return $override$$[$sticky$$];return null})})}
function $validateExperiment$$module$extensions$amp_experiment$1_0$variant$$($experimentName$jscomp$1$$,$JSCompiler_variant$jscomp$inline_51_experimentObject$jscomp$1$$){var $variants$jscomp$2$$=$JSCompiler_variant$jscomp$inline_51_experimentObject$jscomp$1$$.variants;$userAssert$$module$src$log$$($isObject$$module$src$types$$($variants$jscomp$2$$)&&0<Object.keys($variants$jscomp$2$$).length,"Missing variants object from experiment.");$JSCompiler_variant$jscomp$inline_51_experimentObject$jscomp$1$$.group&&
$assertName$$module$extensions$amp_experiment$1_0$variant$$($JSCompiler_variant$jscomp$inline_51_experimentObject$jscomp$1$$.group);var $totalPercentage$$=0,$variantName$$;for($variantName$$ in $variants$jscomp$2$$)if($hasOwn_$$module$src$utils$object$$.call($variants$jscomp$2$$,$variantName$$)){$assertName$$module$extensions$amp_experiment$1_0$variant$$($variantName$$);var $variant$$=$variants$jscomp$2$$[$variantName$$];$JSCompiler_variant$jscomp$inline_51_experimentObject$jscomp$1$$=$variant$$;
var $JSCompiler_experimentName$jscomp$inline_52$$=$experimentName$jscomp$1$$,$JSCompiler_variantName$jscomp$inline_53$$=$variantName$$;$userAssert$$module$src$log$$($isObject$$module$src$types$$($JSCompiler_variant$jscomp$inline_51_experimentObject$jscomp$1$$),$JSCompiler_experimentName$jscomp$inline_52$$+".variants."+$JSCompiler_variantName$jscomp$inline_53$$+" must be an object.");$userAssert$$module$src$log$$(void 0!==$JSCompiler_variant$jscomp$inline_51_experimentObject$jscomp$1$$.weight&&"number"===
typeof $JSCompiler_variant$jscomp$inline_51_experimentObject$jscomp$1$$.weight,$JSCompiler_experimentName$jscomp$inline_52$$+".variants."+$JSCompiler_variantName$jscomp$inline_53$$+" must have a number weight.");var $JSCompiler_percentage$jscomp$inline_54$$=$JSCompiler_variant$jscomp$inline_51_experimentObject$jscomp$1$$.weight;$userAssert$$module$src$log$$(0<$JSCompiler_percentage$jscomp$inline_54$$&&100>$JSCompiler_percentage$jscomp$inline_54$$,"Invalid weight percentage %s."+(" "+$JSCompiler_experimentName$jscomp$inline_52$$+
".variants."+$JSCompiler_variantName$jscomp$inline_53$$)+" Has to be greater than 0 and less than 100",$JSCompiler_percentage$jscomp$inline_54$$);$userAssert$$module$src$log$$($JSCompiler_variant$jscomp$inline_51_experimentObject$jscomp$1$$.mutations&&Array.isArray($JSCompiler_variant$jscomp$inline_51_experimentObject$jscomp$1$$.mutations),$JSCompiler_experimentName$jscomp$inline_52$$+".variants."+$JSCompiler_variantName$jscomp$inline_53$$+" must have a mutations array.");$userAssert$$module$src$log$$(0<
$JSCompiler_variant$jscomp$inline_51_experimentObject$jscomp$1$$.mutations.length,$JSCompiler_experimentName$jscomp$inline_52$$+".variants."+$JSCompiler_variantName$jscomp$inline_53$$+" mutations must have at least one mutation.");var $percentage$$=$variant$$.weight;$totalPercentage$$+=$percentage$$}$userAssert$$module$src$log$$(100>=$totalPercentage$$.toFixed(6),"Total percentage is bigger than 100: "+$totalPercentage$$)}
function $getBucketTicket$$module$extensions$amp_experiment$1_0$variant$$($ampdoc$jscomp$12$$,$group$jscomp$1$$,$opt_cidScope$$){if(!$opt_cidScope$$)return Promise.resolve(100*$ampdoc$jscomp$12$$.win.Math.random());var $cidPromise$$=$getServicePromiseForDoc$$module$src$service$$($ampdoc$jscomp$12$$,"cid").then(function($ampdoc$jscomp$12$$){return $ampdoc$jscomp$12$$.get({scope:$opt_cidScope$$,createCookieIfNotPresent:!0},Promise.resolve())});return Promise.all([$cidPromise$$,$getService$$module$src$service$$($ampdoc$jscomp$12$$.win,
"crypto")]).then(function($ampdoc$jscomp$12$$){return $ampdoc$jscomp$12$$[1].uniform($group$jscomp$1$$+":"+$ampdoc$jscomp$12$$[0])}).then(function($ampdoc$jscomp$12$$){return 100*$ampdoc$jscomp$12$$})}function $assertName$$module$extensions$amp_experiment$1_0$variant$$($name$jscomp$75$$){$userAssert$$module$src$log$$($nameValidator$$module$extensions$amp_experiment$1_0$variant$$.test($name$jscomp$75$$),"Invalid name: %s. Allowed chars are [a-zA-Z0-9-_].",$name$jscomp$75$$)};function $stringToBytes$$module$src$utils$bytes$$($str$jscomp$8$$){for(var $bytes$jscomp$1$$=new Uint8Array($str$jscomp$8$$.length),$i$jscomp$15$$=0;$i$jscomp$15$$<$str$jscomp$8$$.length;$i$jscomp$15$$++){var $charCode$$=$str$jscomp$8$$.charCodeAt($i$jscomp$15$$);$bytes$jscomp$1$$[$i$jscomp$15$$]=$charCode$$}return $bytes$jscomp$1$$}
function $bytesToString$$module$src$utils$bytes$$($bytes$jscomp$2$$){for(var $array$jscomp$7$$=Array($bytes$jscomp$2$$.length),$i$jscomp$16$$=0;$i$jscomp$16$$<$bytes$jscomp$2$$.length;$i$jscomp$16$$++)$array$jscomp$7$$[$i$jscomp$16$$]=String.fromCharCode($bytes$jscomp$2$$[$i$jscomp$16$$]);return $array$jscomp$7$$.join("")};function $LruCache$$module$src$utils$lru_cache$$(){var $capacity$$=100;this.$capacity_$=$capacity$$;this.$access_$=this.$size_$=0;this.$cache_$=Object.create(null)}$LruCache$$module$src$utils$lru_cache$$.prototype.has=function($key$jscomp$43$$){return!!this.$cache_$[$key$jscomp$43$$]};$LruCache$$module$src$utils$lru_cache$$.prototype.get=function($key$jscomp$44$$){var $cacheable$$=this.$cache_$[$key$jscomp$44$$];if($cacheable$$)return $cacheable$$.access=++this.$access_$,$cacheable$$.payload};
$LruCache$$module$src$utils$lru_cache$$.prototype.put=function($JSCompiler_cache$jscomp$inline_57_JSCompiler_inline_result$jscomp$106_key$jscomp$45$$,$payload$$){this.has($JSCompiler_cache$jscomp$inline_57_JSCompiler_inline_result$jscomp$106_key$jscomp$45$$)||this.$size_$++;this.$cache_$[$JSCompiler_cache$jscomp$inline_57_JSCompiler_inline_result$jscomp$106_key$jscomp$45$$]={payload:$payload$$,access:this.$access_$};if(!(this.$size_$<=this.$capacity_$)){if($logs$$module$src$log$$.dev)$JSCompiler_cache$jscomp$inline_57_JSCompiler_inline_result$jscomp$106_key$jscomp$45$$=
$logs$$module$src$log$$.dev;else throw Error("failed to call initLogConstructor");$JSCompiler_cache$jscomp$inline_57_JSCompiler_inline_result$jscomp$106_key$jscomp$45$$.warn("lru-cache","Trimming LRU cache");$JSCompiler_cache$jscomp$inline_57_JSCompiler_inline_result$jscomp$106_key$jscomp$45$$=this.$cache_$;var $JSCompiler_oldest$jscomp$inline_58$$=this.$access_$+1,$JSCompiler_key$jscomp$inline_60$$;for($JSCompiler_key$jscomp$inline_60$$ in $JSCompiler_cache$jscomp$inline_57_JSCompiler_inline_result$jscomp$106_key$jscomp$45$$){var $JSCompiler_access$jscomp$inline_61$$=
$JSCompiler_cache$jscomp$inline_57_JSCompiler_inline_result$jscomp$106_key$jscomp$45$$[$JSCompiler_key$jscomp$inline_60$$].access;if($JSCompiler_access$jscomp$inline_61$$<$JSCompiler_oldest$jscomp$inline_58$$){$JSCompiler_oldest$jscomp$inline_58$$=$JSCompiler_access$jscomp$inline_61$$;var $JSCompiler_oldestKey$jscomp$inline_59$$=$JSCompiler_key$jscomp$inline_60$$}}void 0!==$JSCompiler_oldestKey$jscomp$inline_59$$&&(delete $JSCompiler_cache$jscomp$inline_57_JSCompiler_inline_result$jscomp$106_key$jscomp$45$$[$JSCompiler_oldestKey$jscomp$inline_59$$],
this.$size_$--)}};var $env$$module$src$config$$=self.AMP_CONFIG||{},$urls$$module$src$config$$={thirdParty:$env$$module$src$config$$.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:$env$$module$src$config$$.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof $env$$module$src$config$$.thirdPartyFrameRegex?new RegExp($env$$module$src$config$$.thirdPartyFrameRegex):$env$$module$src$config$$.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:$env$$module$src$config$$.cdnUrl||
"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof $env$$module$src$config$$.cdnProxyRegex?new RegExp($env$$module$src$config$$.cdnProxyRegex):$env$$module$src$config$$.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:$env$$module$src$config$$.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:$env$$module$src$config$$.localDev||!1};var $SERVING_TYPE_PREFIX$$module$src$url$$=function($opt_initial$jscomp$1$$){return $opt_initial$jscomp$1$$||{}}({c:!0,v:!0,a:!0,ad:!0,action:!0}),$a$$module$src$url$$,$cache$$module$src$url$$,$AMP_JS_PARAMS_REGEX$$module$src$url$$=/[?&]amp_js[^&]*/,$AMP_GSA_PARAMS_REGEX$$module$src$url$$=/[?&]amp_gsa[^&]*/,$AMP_R_PARAMS_REGEX$$module$src$url$$=/[?&]amp_r[^&]*/,$AMP_KIT_PARAMS_REGEX$$module$src$url$$=/[?&]amp_kit[^&]*/,$GOOGLE_EXPERIMENT_PARAMS_REGEX$$module$src$url$$=/[?&]usqp[^&]*/;
function $parseUrlDeprecated$$module$src$url$$($JSCompiler_inline_result$jscomp$26_url$jscomp$22$$){var $opt_nocache$$;$a$$module$src$url$$||($a$$module$src$url$$=self.document.createElement("a"),$cache$$module$src$url$$=self.UrlCache||(self.UrlCache=new $LruCache$$module$src$utils$lru_cache$$));var $JSCompiler_opt_cache$jscomp$inline_64$$=$opt_nocache$$?null:$cache$$module$src$url$$,$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$=$a$$module$src$url$$;
if($JSCompiler_opt_cache$jscomp$inline_64$$&&$JSCompiler_opt_cache$jscomp$inline_64$$.has($JSCompiler_inline_result$jscomp$26_url$jscomp$22$$))$JSCompiler_inline_result$jscomp$26_url$jscomp$22$$=$JSCompiler_opt_cache$jscomp$inline_64$$.get($JSCompiler_inline_result$jscomp$26_url$jscomp$22$$);else{$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.href=$JSCompiler_inline_result$jscomp$26_url$jscomp$22$$;$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.protocol||
($JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.href=$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.href);var $JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$={href:$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.href,protocol:$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.protocol,host:$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.host,
hostname:$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.hostname,port:"0"==$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.port?"":$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.port,pathname:$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.pathname,search:$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.search,
hash:$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.hash,origin:null};"/"!==$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$.pathname[0]&&($JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$.pathname="/"+$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$.pathname);if("http:"==$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$.protocol&&80==$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$.port||
"https:"==$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$.protocol&&443==$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$.port)$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$.port="",$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$.host=$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$.hostname;$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$.origin=$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.origin&&
"null"!=$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.origin?$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.origin:"data:"!=$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$.protocol&&$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$.host?$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$.protocol+"//"+$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$.host:
$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$.href;$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$=self;if($JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.AMP_MODE)$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$=$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.AMP_MODE;else{var $JSCompiler_AMP_CONFIG$jscomp$inline_157_JSCompiler_singlePassType$jscomp$inline_164$$=
self.AMP_CONFIG||{},$JSCompiler_runningTests$jscomp$inline_161$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_157_JSCompiler_singlePassType$jscomp$inline_164$$.test||!(!$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.AMP_TEST&&!$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.__karma__),$JSCompiler_isLocalDev$jscomp$inline_162$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_157_JSCompiler_singlePassType$jscomp$inline_164$$.localDev||
$JSCompiler_runningTests$jscomp$inline_161$$,$JSCompiler_hashQuery$jscomp$inline_163$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.location.originalHash||$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.location.hash);$JSCompiler_AMP_CONFIG$jscomp$inline_157_JSCompiler_singlePassType$jscomp$inline_164$$=$JSCompiler_AMP_CONFIG$jscomp$inline_157_JSCompiler_singlePassType$jscomp$inline_164$$.spt;
var $JSCompiler_searchQuery$jscomp$inline_165$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.location.search);$rtvVersion$$module$src$mode$$||($rtvVersion$$module$src$mode$$=$JSCompiler_isLocalDev$jscomp$inline_162$$?"1904281823091":$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.AMP_CONFIG&&$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.AMP_CONFIG.v?
$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.AMP_CONFIG.v:"011904281823091");$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$=$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.AMP_MODE={localDev:$JSCompiler_isLocalDev$jscomp$inline_162$$,development:!("1"!=$JSCompiler_hashQuery$jscomp$inline_163$$.development&&!$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.AMP_DEV_MODE),
examiner:"2"==$JSCompiler_hashQuery$jscomp$inline_163$$.development,filter:$JSCompiler_hashQuery$jscomp$inline_163$$.filter,geoOverride:$JSCompiler_hashQuery$jscomp$inline_163$$["amp-geo"],minified:!0,lite:void 0!=$JSCompiler_searchQuery$jscomp$inline_165$$.amp_lite,test:$JSCompiler_runningTests$jscomp$inline_161$$,log:$JSCompiler_hashQuery$jscomp$inline_163$$.log,version:"1904281823091",rtvVersion:$rtvVersion$$module$src$mode$$,singlePassType:$JSCompiler_AMP_CONFIG$jscomp$inline_157_JSCompiler_singlePassType$jscomp$inline_164$$}}$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$=
$JSCompiler_a$jscomp$inline_65_JSCompiler_temp$jscomp$143_JSCompiler_win$jscomp$inline_124$$.test&&Object.freeze?Object.freeze($JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$):$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$;$JSCompiler_opt_cache$jscomp$inline_64$$&&$JSCompiler_opt_cache$jscomp$inline_64$$.put($JSCompiler_inline_result$jscomp$26_url$jscomp$22$$,$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$);$JSCompiler_inline_result$jscomp$26_url$jscomp$22$$=
$JSCompiler_frozen$jscomp$inline_67_JSCompiler_info$jscomp$inline_66$$}return $JSCompiler_inline_result$jscomp$26_url$jscomp$22$$}
function $assertHttpsUrl$$module$src$url$$($JSCompiler_string$jscomp$inline_126_JSCompiler_url$jscomp$inline_69_urlString$jscomp$1$$){var $elementContext$$="attributes",$sourceName$$="mutation";$sourceName$$=void 0===$sourceName$$?"source":$sourceName$$;$userAssert$$module$src$log$$(null!=$JSCompiler_string$jscomp$inline_126_JSCompiler_url$jscomp$inline_69_urlString$jscomp$1$$,"%s %s must be available",$elementContext$$,$sourceName$$);var $theUrlString$$=$JSCompiler_string$jscomp$inline_126_JSCompiler_url$jscomp$inline_69_urlString$jscomp$1$$;
$JSCompiler_string$jscomp$inline_126_JSCompiler_url$jscomp$inline_69_urlString$jscomp$1$$=$theUrlString$$;"string"==typeof $JSCompiler_string$jscomp$inline_126_JSCompiler_url$jscomp$inline_69_urlString$jscomp$1$$&&($JSCompiler_string$jscomp$inline_126_JSCompiler_url$jscomp$inline_69_urlString$jscomp$1$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_string$jscomp$inline_126_JSCompiler_url$jscomp$inline_69_urlString$jscomp$1$$));var $JSCompiler_index$jscomp$inline_127_JSCompiler_temp$jscomp$107$$;
($JSCompiler_index$jscomp$inline_127_JSCompiler_temp$jscomp$107$$="https:"==$JSCompiler_string$jscomp$inline_126_JSCompiler_url$jscomp$inline_69_urlString$jscomp$1$$.protocol||"localhost"==$JSCompiler_string$jscomp$inline_126_JSCompiler_url$jscomp$inline_69_urlString$jscomp$1$$.hostname||"127.0.0.1"==$JSCompiler_string$jscomp$inline_126_JSCompiler_url$jscomp$inline_69_urlString$jscomp$1$$.hostname)||($JSCompiler_string$jscomp$inline_126_JSCompiler_url$jscomp$inline_69_urlString$jscomp$1$$=$JSCompiler_string$jscomp$inline_126_JSCompiler_url$jscomp$inline_69_urlString$jscomp$1$$.hostname,
$JSCompiler_index$jscomp$inline_127_JSCompiler_temp$jscomp$107$$=$JSCompiler_string$jscomp$inline_126_JSCompiler_url$jscomp$inline_69_urlString$jscomp$1$$.length-10,$JSCompiler_index$jscomp$inline_127_JSCompiler_temp$jscomp$107$$=0<=$JSCompiler_index$jscomp$inline_127_JSCompiler_temp$jscomp$107$$&&$JSCompiler_string$jscomp$inline_126_JSCompiler_url$jscomp$inline_69_urlString$jscomp$1$$.indexOf(".localhost",$JSCompiler_index$jscomp$inline_127_JSCompiler_temp$jscomp$107$$)==$JSCompiler_index$jscomp$inline_127_JSCompiler_temp$jscomp$107$$);
$userAssert$$module$src$log$$($JSCompiler_index$jscomp$inline_127_JSCompiler_temp$jscomp$107$$||/^(\/\/)/.test($theUrlString$$),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',$elementContext$$,$sourceName$$,$theUrlString$$);return $theUrlString$$};var $PUBLIC_JWK$$module$src$service$origin_experiments_impl$$={alg:"RS256",e:"AQAB",ext:!0,key_ops:["verify"],kty:"RSA",n:"uAGSMYKze8Fit508UaGHz1eZowfX4YsA0lmyi-65xQfjF7nMo61c4Iz4erdqgRp-ov662yVPquhPmTxgB-nzNcTPrj15Jo05Js78Q9hS2hrPIjKMlzcKSYQN_08QieWKOSmVbLSv_-4n9Ms5ta8nRs4pwc_2nX5n7m5B5GH4VerGbqIWIn9FRNYMShBRQ9TCHpb6BIUTwUn6iwmJLenq0A1xhGrQ9rswGC1QJhjotkeReKXZDLLWaFr0uRw-IyvRa5RiiEGntgOvcbvamM5TnbKavc2rxvg2TWTCNQnb7lWSAzldJA_yAOYet_MjnHMyj2srUdbQSDCk8kPWWuafiQ"};
function $OriginExperiments$$module$src$service$origin_experiments_impl$$($JSCompiler_ampdoc$jscomp$inline_168_JSCompiler_element$jscomp$inline_129_JSCompiler_embedService$jscomp$inline_133_JSCompiler_holder$jscomp$inline_169_JSCompiler_inline_result$jscomp$108_ampdoc$jscomp$13$$){this.$ampdoc_$=$JSCompiler_ampdoc$jscomp$inline_168_JSCompiler_element$jscomp$inline_129_JSCompiler_embedService$jscomp$inline_133_JSCompiler_holder$jscomp$inline_169_JSCompiler_inline_result$jscomp$108_ampdoc$jscomp$13$$;
this.$crypto_$=$getService$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_168_JSCompiler_element$jscomp$inline_129_JSCompiler_embedService$jscomp$inline_133_JSCompiler_holder$jscomp$inline_169_JSCompiler_inline_result$jscomp$108_ampdoc$jscomp$13$$.win,"crypto");a:{$JSCompiler_ampdoc$jscomp$inline_168_JSCompiler_element$jscomp$inline_129_JSCompiler_embedService$jscomp$inline_133_JSCompiler_holder$jscomp$inline_169_JSCompiler_inline_result$jscomp$108_ampdoc$jscomp$13$$=$JSCompiler_ampdoc$jscomp$inline_168_JSCompiler_element$jscomp$inline_129_JSCompiler_embedService$jscomp$inline_133_JSCompiler_holder$jscomp$inline_169_JSCompiler_inline_result$jscomp$108_ampdoc$jscomp$13$$.getHeadNode();
var $JSCompiler_win$jscomp$inline_131$$=$JSCompiler_ampdoc$jscomp$inline_168_JSCompiler_element$jscomp$inline_129_JSCompiler_embedService$jscomp$inline_133_JSCompiler_holder$jscomp$inline_169_JSCompiler_inline_result$jscomp$108_ampdoc$jscomp$13$$.ownerDocument.defaultView;if($JSCompiler_win$jscomp$inline_131$$!=($JSCompiler_win$jscomp$inline_131$$.__AMP_TOP||$JSCompiler_win$jscomp$inline_131$$)){if($isServiceRegistered$$module$src$service$$($JSCompiler_win$jscomp$inline_131$$,"url")&&($JSCompiler_ampdoc$jscomp$inline_168_JSCompiler_element$jscomp$inline_129_JSCompiler_embedService$jscomp$inline_133_JSCompiler_holder$jscomp$inline_169_JSCompiler_inline_result$jscomp$108_ampdoc$jscomp$13$$=
$getServiceInternal$$module$src$service$$($JSCompiler_win$jscomp$inline_131$$,"url")))break a;$JSCompiler_ampdoc$jscomp$inline_168_JSCompiler_element$jscomp$inline_129_JSCompiler_embedService$jscomp$inline_133_JSCompiler_holder$jscomp$inline_169_JSCompiler_inline_result$jscomp$108_ampdoc$jscomp$13$$=null}else $JSCompiler_ampdoc$jscomp$inline_168_JSCompiler_element$jscomp$inline_129_JSCompiler_embedService$jscomp$inline_133_JSCompiler_holder$jscomp$inline_169_JSCompiler_inline_result$jscomp$108_ampdoc$jscomp$13$$=
$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_168_JSCompiler_element$jscomp$inline_129_JSCompiler_embedService$jscomp$inline_133_JSCompiler_holder$jscomp$inline_169_JSCompiler_inline_result$jscomp$108_ampdoc$jscomp$13$$),$JSCompiler_ampdoc$jscomp$inline_168_JSCompiler_element$jscomp$inline_129_JSCompiler_embedService$jscomp$inline_133_JSCompiler_holder$jscomp$inline_169_JSCompiler_inline_result$jscomp$108_ampdoc$jscomp$13$$=$getAmpdocServiceHolder$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_168_JSCompiler_element$jscomp$inline_129_JSCompiler_embedService$jscomp$inline_133_JSCompiler_holder$jscomp$inline_169_JSCompiler_inline_result$jscomp$108_ampdoc$jscomp$13$$),
$JSCompiler_ampdoc$jscomp$inline_168_JSCompiler_element$jscomp$inline_129_JSCompiler_embedService$jscomp$inline_133_JSCompiler_holder$jscomp$inline_169_JSCompiler_inline_result$jscomp$108_ampdoc$jscomp$13$$=$isServiceRegistered$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_168_JSCompiler_element$jscomp$inline_129_JSCompiler_embedService$jscomp$inline_133_JSCompiler_holder$jscomp$inline_169_JSCompiler_inline_result$jscomp$108_ampdoc$jscomp$13$$,"url")?$getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_168_JSCompiler_element$jscomp$inline_129_JSCompiler_embedService$jscomp$inline_133_JSCompiler_holder$jscomp$inline_169_JSCompiler_inline_result$jscomp$108_ampdoc$jscomp$13$$,
"url"):null}this.$url_$=$JSCompiler_ampdoc$jscomp$inline_168_JSCompiler_element$jscomp$inline_129_JSCompiler_embedService$jscomp$inline_133_JSCompiler_holder$jscomp$inline_169_JSCompiler_inline_result$jscomp$108_ampdoc$jscomp$13$$;this.$tokenMaster_$=new $TokenMaster$$module$src$service$origin_experiments_impl$$(this.$crypto_$,this.$url_$);this.$scanPromise_$=null}
$OriginExperiments$$module$src$service$origin_experiments_impl$$.prototype.getExperiments=function($opt_rescan$$,$publicJwk$$){$opt_rescan$$=void 0===$opt_rescan$$?!1:$opt_rescan$$;$publicJwk$$=void 0===$publicJwk$$?$PUBLIC_JWK$$module$src$service$origin_experiments_impl$$:$publicJwk$$;if(!this.$crypto_$.isPkcsAvailable())return $user$$module$src$log$$().error("OriginExperiments","Crypto is unavailable."),Promise.resolve([]);if(!this.$scanPromise_$||$opt_rescan$$)this.$scanPromise_$=$JSCompiler_StaticMethods_scanForTokens_$$(this,
$publicJwk$$);return this.$scanPromise_$};
function $JSCompiler_StaticMethods_scanForTokens_$$($JSCompiler_StaticMethods_scanForTokens_$self$$,$publicJwk$jscomp$1$$){var $metas$$=$JSCompiler_StaticMethods_scanForTokens_$self$$.$ampdoc_$.getHeadNode().querySelectorAll('meta[name="amp-experiment-token"]');if(0==$metas$$.length)return Promise.resolve();var $win$jscomp$46$$=$JSCompiler_StaticMethods_scanForTokens_$self$$.$ampdoc_$.win;return $getService$$module$src$service$$($win$jscomp$46$$,"crypto").importPkcsKey($publicJwk$jscomp$1$$).then(function($publicJwk$jscomp$1$$){for(var $publicKey$$=[],
$i$jscomp$21$$=0;$i$jscomp$21$$<$metas$$.length;$i$jscomp$21$$++){var $meta$$=$metas$$[$i$jscomp$21$$],$p$jscomp$1_token$jscomp$3$$=$meta$$.getAttribute("content");$p$jscomp$1_token$jscomp$3$$?($p$jscomp$1_token$jscomp$3$$=$JSCompiler_StaticMethods_scanForTokens_$self$$.$tokenMaster_$.verifyToken($p$jscomp$1_token$jscomp$3$$,$win$jscomp$46$$.location,$publicJwk$jscomp$1$$).catch(function($JSCompiler_StaticMethods_scanForTokens_$self$$){$user$$module$src$log$$().error("OriginExperiments","Failed to verify experiment token:",
$JSCompiler_StaticMethods_scanForTokens_$self$$)}),$publicKey$$.push($p$jscomp$1_token$jscomp$3$$)):$user$$module$src$log$$().error("OriginExperiments","Missing content for experiment token: ",$meta$$)}return Promise.all($publicKey$$)})}function $TokenMaster$$module$src$service$origin_experiments_impl$$($crypto$jscomp$2$$,$url$jscomp$41$$){this.$crypto_$=$crypto$jscomp$2$$;this.$url_$=$url$jscomp$41$$}
$TokenMaster$$module$src$service$origin_experiments_impl$$.prototype.generateKeys=function(){var $generationAlgo$$=Object.assign({modulusLength:2048,publicExponent:Uint8Array.of(1,0,1)},this.$crypto_$.pkcsAlgo);return this.$crypto_$.subtle.generateKey($generationAlgo$$,!0,["sign","verify"])};
$TokenMaster$$module$src$service$origin_experiments_impl$$.prototype.generateToken=function($version$jscomp$6$$,$config$jscomp$2_json$jscomp$2$$,$privateKey$$){$config$jscomp$2_json$jscomp$2$$=$stringToBytes$$module$src$utils$bytes$$(JSON.stringify($config$jscomp$2_json$jscomp$2$$));var $data$jscomp$57$$=$JSCompiler_StaticMethods_prepend_$$($version$jscomp$6$$,$config$jscomp$2_json$jscomp$2$$);return this.$crypto_$.subtle.sign(this.$crypto_$.pkcsAlgo,$privateKey$$,$data$jscomp$57$$).then(function($version$jscomp$6$$){$version$jscomp$6$$=
new Uint8Array($version$jscomp$6$$);$version$jscomp$6$$=$bytesToString$$module$src$utils$bytes$$($data$jscomp$57$$)+$bytesToString$$module$src$utils$bytes$$($version$jscomp$6$$);return btoa($version$jscomp$6$$)})};
$TokenMaster$$module$src$service$origin_experiments_impl$$.prototype.verifyToken=function($token$jscomp$4$$,$location$jscomp$47$$,$publicKey$jscomp$1$$){var $$jscomp$this$jscomp$4$$=this;return new Promise(function($resolve$jscomp$10$$){var $i$jscomp$22$$=0,$bytes$jscomp$4$$=$stringToBytes$$module$src$utils$bytes$$(atob($token$jscomp$4$$)),$length$jscomp$23_version$jscomp$7$$=$bytes$jscomp$4$$[$i$jscomp$22$$];if(0!==$length$jscomp$23_version$jscomp$7$$)throw Error("Unrecognized token version: "+$length$jscomp$23_version$jscomp$7$$);
$i$jscomp$22$$+=1;$length$jscomp$23_version$jscomp$7$$=(new DataView($bytes$jscomp$4$$.buffer)).getUint32($i$jscomp$22$$);$i$jscomp$22$$+=4;if($length$jscomp$23_version$jscomp$7$$>$bytes$jscomp$4$$.length-$i$jscomp$22$$)throw Error("Unexpected config length: "+$length$jscomp$23_version$jscomp$7$$);var $configBytes$$=$bytes$jscomp$4$$.subarray($i$jscomp$22$$,$i$jscomp$22$$+$length$jscomp$23_version$jscomp$7$$);$i$jscomp$22$$+=$length$jscomp$23_version$jscomp$7$$;$resolve$jscomp$10$$($$jscomp$this$jscomp$4$$.$crypto_$.verifyPkcs($publicKey$jscomp$1$$,
$bytes$jscomp$4$$.subarray($i$jscomp$22$$),$bytes$jscomp$4$$.subarray(0,$i$jscomp$22$$)).then(function($token$jscomp$4$$){if(!$token$jscomp$4$$)throw Error("Failed to verify token signature.");var $publicKey$jscomp$1$$=$bytesToString$$module$src$utils$bytes$$($configBytes$$),$resolve$jscomp$10$$=JSON.parse($publicKey$jscomp$1$$),$i$jscomp$22$$=$$jscomp$this$jscomp$4$$.$url_$.parse($resolve$jscomp$10$$.origin).origin;var $bytes$jscomp$4$$=$location$jscomp$47$$;"string"==typeof $bytes$jscomp$4$$&&($bytes$jscomp$4$$=
$parseUrlDeprecated$$module$src$url$$($bytes$jscomp$4$$));var $length$jscomp$23_version$jscomp$7$$=$bytes$jscomp$4$$;"string"==typeof $length$jscomp$23_version$jscomp$7$$&&($length$jscomp$23_version$jscomp$7$$=$parseUrlDeprecated$$module$src$url$$($length$jscomp$23_version$jscomp$7$$));if($urls$$module$src$config$$.cdnProxyRegex.test($length$jscomp$23_version$jscomp$7$$.origin)){$length$jscomp$23_version$jscomp$7$$=$bytes$jscomp$4$$.pathname.split("/");$userAssert$$module$src$log$$($SERVING_TYPE_PREFIX$$module$src$url$$[$length$jscomp$23_version$jscomp$7$$[1]],
"Unknown path prefix in url %s",$bytes$jscomp$4$$.href);var $JSCompiler_domainOrHttpsSignal$jscomp$inline_137_JSCompiler_inline_result$jscomp$149_JSCompiler_search$jscomp$inline_174_JSCompiler_urlSearch$jscomp$inline_173$$=$length$jscomp$23_version$jscomp$7$$[2],$verified$$="s"==$JSCompiler_domainOrHttpsSignal$jscomp$inline_137_JSCompiler_inline_result$jscomp$149_JSCompiler_search$jscomp$inline_174_JSCompiler_urlSearch$jscomp$inline_173$$?"https://"+decodeURIComponent($length$jscomp$23_version$jscomp$7$$[3]):
"http://"+decodeURIComponent($JSCompiler_domainOrHttpsSignal$jscomp$inline_137_JSCompiler_inline_result$jscomp$149_JSCompiler_search$jscomp$inline_174_JSCompiler_urlSearch$jscomp$inline_173$$);$userAssert$$module$src$log$$(0<$verified$$.indexOf("."),"Expected a . in origin %s",$verified$$);$length$jscomp$23_version$jscomp$7$$.splice(1,"s"==$JSCompiler_domainOrHttpsSignal$jscomp$inline_137_JSCompiler_inline_result$jscomp$149_JSCompiler_search$jscomp$inline_174_JSCompiler_urlSearch$jscomp$inline_173$$?
3:2);$length$jscomp$23_version$jscomp$7$$=$verified$$+$length$jscomp$23_version$jscomp$7$$.join("/");$JSCompiler_domainOrHttpsSignal$jscomp$inline_137_JSCompiler_inline_result$jscomp$149_JSCompiler_search$jscomp$inline_174_JSCompiler_urlSearch$jscomp$inline_173$$=($JSCompiler_domainOrHttpsSignal$jscomp$inline_137_JSCompiler_inline_result$jscomp$149_JSCompiler_search$jscomp$inline_174_JSCompiler_urlSearch$jscomp$inline_173$$=$bytes$jscomp$4$$.search)&&"?"!=$JSCompiler_domainOrHttpsSignal$jscomp$inline_137_JSCompiler_inline_result$jscomp$149_JSCompiler_search$jscomp$inline_174_JSCompiler_urlSearch$jscomp$inline_173$$?
($JSCompiler_domainOrHttpsSignal$jscomp$inline_137_JSCompiler_inline_result$jscomp$149_JSCompiler_search$jscomp$inline_174_JSCompiler_urlSearch$jscomp$inline_173$$=$JSCompiler_domainOrHttpsSignal$jscomp$inline_137_JSCompiler_inline_result$jscomp$149_JSCompiler_search$jscomp$inline_174_JSCompiler_urlSearch$jscomp$inline_173$$.replace($AMP_JS_PARAMS_REGEX$$module$src$url$$,"").replace($AMP_GSA_PARAMS_REGEX$$module$src$url$$,"").replace($AMP_R_PARAMS_REGEX$$module$src$url$$,"").replace($AMP_KIT_PARAMS_REGEX$$module$src$url$$,
"").replace($GOOGLE_EXPERIMENT_PARAMS_REGEX$$module$src$url$$,"").replace(/^[?&]/,""))?"?"+$JSCompiler_domainOrHttpsSignal$jscomp$inline_137_JSCompiler_inline_result$jscomp$149_JSCompiler_search$jscomp$inline_174_JSCompiler_urlSearch$jscomp$inline_173$$:"":"";$bytes$jscomp$4$$=$length$jscomp$23_version$jscomp$7$$+$JSCompiler_domainOrHttpsSignal$jscomp$inline_137_JSCompiler_inline_result$jscomp$149_JSCompiler_search$jscomp$inline_174_JSCompiler_urlSearch$jscomp$inline_173$$+($bytes$jscomp$4$$.hash||
"")}else $bytes$jscomp$4$$=$bytes$jscomp$4$$.href;$bytes$jscomp$4$$=$parseUrlDeprecated$$module$src$url$$($bytes$jscomp$4$$).origin;if($i$jscomp$22$$!==$bytes$jscomp$4$$)throw Error("Config origin ("+$i$jscomp$22$$+") does not match "+("window ("+$bytes$jscomp$4$$+")."));var $experimentId$$=$resolve$jscomp$10$$.experiment,$expiration$$=$resolve$jscomp$10$$.expiration;if($expiration$$>=Date.now())return $experimentId$$;throw Error('Experiment "'+$experimentId$$+'" has expired.');}))})};
function $JSCompiler_StaticMethods_prepend_$$($version$jscomp$8$$,$config$jscomp$4$$){var $data$jscomp$59$$=new Uint8Array($config$jscomp$4$$.length+5);$data$jscomp$59$$[0]=$version$jscomp$8$$;(new DataView($data$jscomp$59$$.buffer)).setUint32(1,$config$jscomp$4$$.length,!1);$data$jscomp$59$$.set($config$jscomp$4$$,5);return $data$jscomp$59$$};function $isExperimentOn$$module$src$experiments$$($JSCompiler_params$jscomp$inline_85_win$jscomp$54$$){if($JSCompiler_params$jscomp$inline_85_win$jscomp$54$$.__AMP__EXPERIMENT_TOGGLES)var $JSCompiler_inline_result$jscomp$30_JSCompiler_toggles$jscomp$inline_77$$=$JSCompiler_params$jscomp$inline_85_win$jscomp$54$$.__AMP__EXPERIMENT_TOGGLES;else{$JSCompiler_params$jscomp$inline_85_win$jscomp$54$$.__AMP__EXPERIMENT_TOGGLES=Object.create(null);$JSCompiler_inline_result$jscomp$30_JSCompiler_toggles$jscomp$inline_77$$=
$JSCompiler_params$jscomp$inline_85_win$jscomp$54$$.__AMP__EXPERIMENT_TOGGLES;if($JSCompiler_params$jscomp$inline_85_win$jscomp$54$$.AMP_CONFIG)for(var $JSCompiler_allowed$jscomp$inline_80_JSCompiler_experimentId$jscomp$inline_78_allowed$9$jscomp$inline_84$$ in $JSCompiler_params$jscomp$inline_85_win$jscomp$54$$.AMP_CONFIG){var $JSCompiler_frequency$jscomp$inline_79_JSCompiler_meta$jscomp$inline_81_JSCompiler_optedInExperiments$jscomp$inline_82_i$10$jscomp$inline_86$$=$JSCompiler_params$jscomp$inline_85_win$jscomp$54$$.AMP_CONFIG[$JSCompiler_allowed$jscomp$inline_80_JSCompiler_experimentId$jscomp$inline_78_allowed$9$jscomp$inline_84$$];
"number"===typeof $JSCompiler_frequency$jscomp$inline_79_JSCompiler_meta$jscomp$inline_81_JSCompiler_optedInExperiments$jscomp$inline_82_i$10$jscomp$inline_86$$&&0<=$JSCompiler_frequency$jscomp$inline_79_JSCompiler_meta$jscomp$inline_81_JSCompiler_optedInExperiments$jscomp$inline_82_i$10$jscomp$inline_86$$&&1>=$JSCompiler_frequency$jscomp$inline_79_JSCompiler_meta$jscomp$inline_81_JSCompiler_optedInExperiments$jscomp$inline_82_i$10$jscomp$inline_86$$&&($JSCompiler_inline_result$jscomp$30_JSCompiler_toggles$jscomp$inline_77$$[$JSCompiler_allowed$jscomp$inline_80_JSCompiler_experimentId$jscomp$inline_78_allowed$9$jscomp$inline_84$$]=
Math.random()<$JSCompiler_frequency$jscomp$inline_79_JSCompiler_meta$jscomp$inline_81_JSCompiler_optedInExperiments$jscomp$inline_82_i$10$jscomp$inline_86$$)}if($JSCompiler_params$jscomp$inline_85_win$jscomp$54$$.AMP_CONFIG&&Array.isArray($JSCompiler_params$jscomp$inline_85_win$jscomp$54$$.AMP_CONFIG["allow-doc-opt-in"])&&0<$JSCompiler_params$jscomp$inline_85_win$jscomp$54$$.AMP_CONFIG["allow-doc-opt-in"].length&&($JSCompiler_allowed$jscomp$inline_80_JSCompiler_experimentId$jscomp$inline_78_allowed$9$jscomp$inline_84$$=
$JSCompiler_params$jscomp$inline_85_win$jscomp$54$$.AMP_CONFIG["allow-doc-opt-in"],$JSCompiler_frequency$jscomp$inline_79_JSCompiler_meta$jscomp$inline_81_JSCompiler_optedInExperiments$jscomp$inline_82_i$10$jscomp$inline_86$$=$JSCompiler_params$jscomp$inline_85_win$jscomp$54$$.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){$JSCompiler_frequency$jscomp$inline_79_JSCompiler_meta$jscomp$inline_81_JSCompiler_optedInExperiments$jscomp$inline_82_i$10$jscomp$inline_86$$=$JSCompiler_frequency$jscomp$inline_79_JSCompiler_meta$jscomp$inline_81_JSCompiler_optedInExperiments$jscomp$inline_82_i$10$jscomp$inline_86$$.getAttribute("content").split(",");
for(var $JSCompiler_i$jscomp$inline_83_JSCompiler_param$jscomp$inline_87$$=0;$JSCompiler_i$jscomp$inline_83_JSCompiler_param$jscomp$inline_87$$<$JSCompiler_frequency$jscomp$inline_79_JSCompiler_meta$jscomp$inline_81_JSCompiler_optedInExperiments$jscomp$inline_82_i$10$jscomp$inline_86$$.length;$JSCompiler_i$jscomp$inline_83_JSCompiler_param$jscomp$inline_87$$++)-1!=$JSCompiler_allowed$jscomp$inline_80_JSCompiler_experimentId$jscomp$inline_78_allowed$9$jscomp$inline_84$$.indexOf($JSCompiler_frequency$jscomp$inline_79_JSCompiler_meta$jscomp$inline_81_JSCompiler_optedInExperiments$jscomp$inline_82_i$10$jscomp$inline_86$$[$JSCompiler_i$jscomp$inline_83_JSCompiler_param$jscomp$inline_87$$])&&
($JSCompiler_inline_result$jscomp$30_JSCompiler_toggles$jscomp$inline_77$$[$JSCompiler_frequency$jscomp$inline_79_JSCompiler_meta$jscomp$inline_81_JSCompiler_optedInExperiments$jscomp$inline_82_i$10$jscomp$inline_86$$[$JSCompiler_i$jscomp$inline_83_JSCompiler_param$jscomp$inline_87$$]]=!0)}Object.assign($JSCompiler_inline_result$jscomp$30_JSCompiler_toggles$jscomp$inline_77$$,$getExperimentTogglesFromCookie$$module$src$experiments$$($JSCompiler_params$jscomp$inline_85_win$jscomp$54$$));if($JSCompiler_params$jscomp$inline_85_win$jscomp$54$$.AMP_CONFIG&&
Array.isArray($JSCompiler_params$jscomp$inline_85_win$jscomp$54$$.AMP_CONFIG["allow-url-opt-in"])&&0<$JSCompiler_params$jscomp$inline_85_win$jscomp$54$$.AMP_CONFIG["allow-url-opt-in"].length)for($JSCompiler_allowed$jscomp$inline_80_JSCompiler_experimentId$jscomp$inline_78_allowed$9$jscomp$inline_84$$=$JSCompiler_params$jscomp$inline_85_win$jscomp$54$$.AMP_CONFIG["allow-url-opt-in"],$JSCompiler_params$jscomp$inline_85_win$jscomp$54$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_params$jscomp$inline_85_win$jscomp$54$$.location.originalHash||
$JSCompiler_params$jscomp$inline_85_win$jscomp$54$$.location.hash),$JSCompiler_frequency$jscomp$inline_79_JSCompiler_meta$jscomp$inline_81_JSCompiler_optedInExperiments$jscomp$inline_82_i$10$jscomp$inline_86$$=0;$JSCompiler_frequency$jscomp$inline_79_JSCompiler_meta$jscomp$inline_81_JSCompiler_optedInExperiments$jscomp$inline_82_i$10$jscomp$inline_86$$<$JSCompiler_allowed$jscomp$inline_80_JSCompiler_experimentId$jscomp$inline_78_allowed$9$jscomp$inline_84$$.length;$JSCompiler_frequency$jscomp$inline_79_JSCompiler_meta$jscomp$inline_81_JSCompiler_optedInExperiments$jscomp$inline_82_i$10$jscomp$inline_86$$++)$JSCompiler_i$jscomp$inline_83_JSCompiler_param$jscomp$inline_87$$=
$JSCompiler_params$jscomp$inline_85_win$jscomp$54$$["e-"+$JSCompiler_allowed$jscomp$inline_80_JSCompiler_experimentId$jscomp$inline_78_allowed$9$jscomp$inline_84$$[$JSCompiler_frequency$jscomp$inline_79_JSCompiler_meta$jscomp$inline_81_JSCompiler_optedInExperiments$jscomp$inline_82_i$10$jscomp$inline_86$$]],"1"==$JSCompiler_i$jscomp$inline_83_JSCompiler_param$jscomp$inline_87$$&&($JSCompiler_inline_result$jscomp$30_JSCompiler_toggles$jscomp$inline_77$$[$JSCompiler_allowed$jscomp$inline_80_JSCompiler_experimentId$jscomp$inline_78_allowed$9$jscomp$inline_84$$[$JSCompiler_frequency$jscomp$inline_79_JSCompiler_meta$jscomp$inline_81_JSCompiler_optedInExperiments$jscomp$inline_82_i$10$jscomp$inline_86$$]]=
!0),"0"==$JSCompiler_i$jscomp$inline_83_JSCompiler_param$jscomp$inline_87$$&&($JSCompiler_inline_result$jscomp$30_JSCompiler_toggles$jscomp$inline_77$$[$JSCompiler_allowed$jscomp$inline_80_JSCompiler_experimentId$jscomp$inline_78_allowed$9$jscomp$inline_84$$[$JSCompiler_frequency$jscomp$inline_79_JSCompiler_meta$jscomp$inline_81_JSCompiler_optedInExperiments$jscomp$inline_82_i$10$jscomp$inline_86$$]]=!1)}var $toggles$$=$JSCompiler_inline_result$jscomp$30_JSCompiler_toggles$jscomp$inline_77$$;return!!$toggles$$["amp-experiment-1.0"]}
function $getExperimentTogglesFromCookie$$module$src$experiments$$($JSCompiler_cookieString$jscomp$inline_91_JSCompiler_cookies$jscomp$inline_92_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_96_toggles$jscomp$3_win$jscomp$58$$){a:{try{var $JSCompiler_i$jscomp$inline_93_JSCompiler_inline_result$jscomp$111_i$jscomp$26$$=$JSCompiler_cookieString$jscomp$inline_91_JSCompiler_cookies$jscomp$inline_92_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_96_toggles$jscomp$3_win$jscomp$58$$.document.cookie}catch($JSCompiler_e$jscomp$inline_141$$){$JSCompiler_i$jscomp$inline_93_JSCompiler_inline_result$jscomp$111_i$jscomp$26$$=
""}if($JSCompiler_cookieString$jscomp$inline_91_JSCompiler_cookies$jscomp$inline_92_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_96_toggles$jscomp$3_win$jscomp$58$$=$JSCompiler_i$jscomp$inline_93_JSCompiler_inline_result$jscomp$111_i$jscomp$26$$)for($JSCompiler_cookieString$jscomp$inline_91_JSCompiler_cookies$jscomp$inline_92_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_96_toggles$jscomp$3_win$jscomp$58$$=$JSCompiler_cookieString$jscomp$inline_91_JSCompiler_cookies$jscomp$inline_92_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_96_toggles$jscomp$3_win$jscomp$58$$.split(";"),
$JSCompiler_i$jscomp$inline_93_JSCompiler_inline_result$jscomp$111_i$jscomp$26$$=0;$JSCompiler_i$jscomp$inline_93_JSCompiler_inline_result$jscomp$111_i$jscomp$26$$<$JSCompiler_cookieString$jscomp$inline_91_JSCompiler_cookies$jscomp$inline_92_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_96_toggles$jscomp$3_win$jscomp$58$$.length;$JSCompiler_i$jscomp$inline_93_JSCompiler_inline_result$jscomp$111_i$jscomp$26$$++){var $JSCompiler_cookie$jscomp$inline_94$$=$JSCompiler_cookieString$jscomp$inline_91_JSCompiler_cookies$jscomp$inline_92_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_96_toggles$jscomp$3_win$jscomp$58$$[$JSCompiler_i$jscomp$inline_93_JSCompiler_inline_result$jscomp$111_i$jscomp$26$$].trim(),
$JSCompiler_eq$jscomp$inline_95$$=$JSCompiler_cookie$jscomp$inline_94$$.indexOf("=");if(-1!=$JSCompiler_eq$jscomp$inline_95$$&&"AMP_EXP"==$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_cookie$jscomp$inline_94$$.substring(0,$JSCompiler_eq$jscomp$inline_95$$).trim(),void 0)){$JSCompiler_cookieString$jscomp$inline_91_JSCompiler_cookies$jscomp$inline_92_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_96_toggles$jscomp$3_win$jscomp$58$$=$JSCompiler_cookie$jscomp$inline_94$$.substring($JSCompiler_eq$jscomp$inline_95$$+
1).trim();$JSCompiler_cookieString$jscomp$inline_91_JSCompiler_cookies$jscomp$inline_92_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_96_toggles$jscomp$3_win$jscomp$58$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_cookieString$jscomp$inline_91_JSCompiler_cookies$jscomp$inline_92_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_96_toggles$jscomp$3_win$jscomp$58$$,$JSCompiler_cookieString$jscomp$inline_91_JSCompiler_cookies$jscomp$inline_92_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_96_toggles$jscomp$3_win$jscomp$58$$);
break a}}$JSCompiler_cookieString$jscomp$inline_91_JSCompiler_cookies$jscomp$inline_92_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_96_toggles$jscomp$3_win$jscomp$58$$=null}var $experimentCookie$$=$JSCompiler_cookieString$jscomp$inline_91_JSCompiler_cookies$jscomp$inline_92_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_96_toggles$jscomp$3_win$jscomp$58$$,$tokens$$=$experimentCookie$$?$experimentCookie$$.split(/\s*,\s*/g):[];$JSCompiler_cookieString$jscomp$inline_91_JSCompiler_cookies$jscomp$inline_92_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_96_toggles$jscomp$3_win$jscomp$58$$=
Object.create(null);for($JSCompiler_i$jscomp$inline_93_JSCompiler_inline_result$jscomp$111_i$jscomp$26$$=0;$JSCompiler_i$jscomp$inline_93_JSCompiler_inline_result$jscomp$111_i$jscomp$26$$<$tokens$$.length;$JSCompiler_i$jscomp$inline_93_JSCompiler_inline_result$jscomp$111_i$jscomp$26$$++)0!=$tokens$$[$JSCompiler_i$jscomp$inline_93_JSCompiler_inline_result$jscomp$111_i$jscomp$26$$].length&&("-"==$tokens$$[$JSCompiler_i$jscomp$inline_93_JSCompiler_inline_result$jscomp$111_i$jscomp$26$$][0]?$JSCompiler_cookieString$jscomp$inline_91_JSCompiler_cookies$jscomp$inline_92_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_96_toggles$jscomp$3_win$jscomp$58$$[$tokens$$[$JSCompiler_i$jscomp$inline_93_JSCompiler_inline_result$jscomp$111_i$jscomp$26$$].substr(1)]=
!1:$JSCompiler_cookieString$jscomp$inline_91_JSCompiler_cookies$jscomp$inline_92_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_96_toggles$jscomp$3_win$jscomp$58$$[$tokens$$[$JSCompiler_i$jscomp$inline_93_JSCompiler_inline_result$jscomp$111_i$jscomp$26$$]]=!0);return $JSCompiler_cookieString$jscomp$inline_91_JSCompiler_cookies$jscomp$inline_92_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_96_toggles$jscomp$3_win$jscomp$58$$};var $MUTATION_TYPES$$module$extensions$amp_experiment$1_0$mutation_parser$$=["attributes","characterData","childList"],$SUPPORTED_ATTRIBUTES$$module$extensions$amp_experiment$1_0$mutation_parser$$={style:function($value$jscomp$105$$){return $value$jscomp$105$$.match(/(!\s*important|\x3c!--)/)?!1:$value$jscomp$105$$.match(/^color:\s*#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3});?$/)||$value$jscomp$105$$.match(/^background-color:\s*#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3});?$/)?!0:!1},src:function($value$jscomp$106$$){return $assertHttpsUrl$$module$src$url$$($value$jscomp$106$$)},
href:function($value$jscomp$107$$){return $assertHttpsUrl$$module$src$url$$($value$jscomp$107$$)}};
function $parseMutation$$module$extensions$amp_experiment$1_0$mutation_parser$$($mutation$$,$document$jscomp$2$$){var $mutationRecord$$=$assertMutationRecord$$module$extensions$amp_experiment$1_0$mutation_parser$$($mutation$$),$stringifiedMutation$$=JSON.stringify($mutation$$);$setSelectorToElement$$module$extensions$amp_experiment$1_0$mutation_parser$$($mutationRecord$$,$document$jscomp$2$$);if("attributes"===$mutationRecord$$.type)return $assertAttributeMutation$$module$extensions$amp_experiment$1_0$mutation_parser$$($mutationRecord$$,
$stringifiedMutation$$),function(){$mutationRecord$$.targetElement.setAttribute($mutationRecord$$.attributeName,$mutationRecord$$.value)};if("characterData"===$mutationRecord$$.type)return $assertCharacterDataMutation$$module$extensions$amp_experiment$1_0$mutation_parser$$($mutationRecord$$,$stringifiedMutation$$),function(){$mutationRecord$$.targetElement.textContent=$mutationRecord$$.value};$user$$module$src$log$$().error("amp-experiment mutation-parser","childList mutations not supported in the current experiment state.");
return function(){}}
function $assertMutationRecord$$module$extensions$amp_experiment$1_0$mutation_parser$$($mutation$jscomp$1$$){$userAssert$$module$src$log$$($isObject$$module$src$types$$($mutation$jscomp$1$$),"Mutation %s must be an object.",JSON.stringify($mutation$jscomp$1$$));$userAssert$$module$src$log$$(void 0!==$mutation$jscomp$1$$.type&&"string"===typeof $mutation$jscomp$1$$.type,"Mutation %s must have a type.",JSON.stringify($mutation$jscomp$1$$));$userAssert$$module$src$log$$(0<=$MUTATION_TYPES$$module$extensions$amp_experiment$1_0$mutation_parser$$.indexOf($mutation$jscomp$1$$.type),"Mutation %s must have a type.",
JSON.stringify($mutation$jscomp$1$$));$userAssert$$module$src$log$$(void 0!==$mutation$jscomp$1$$.target&&"string"===typeof $mutation$jscomp$1$$.target,"Mutation %s must have a target.",JSON.stringify($mutation$jscomp$1$$));return $mutation$jscomp$1$$}
function $setSelectorToElement$$module$extensions$amp_experiment$1_0$mutation_parser$$($mutationRecord$jscomp$1$$,$document$jscomp$3$$){var $selectorKey$$="target",$targetElement$$=$document$jscomp$3$$.querySelector($mutationRecord$jscomp$1$$[$selectorKey$$]);$userAssert$$module$src$log$$(null!==$targetElement$$,"No element on the document matches the selector, %s .",$mutationRecord$jscomp$1$$[$selectorKey$$]);$mutationRecord$jscomp$1$$[$selectorKey$$+"Element"]=$targetElement$$}
function $assertAttributeMutation$$module$extensions$amp_experiment$1_0$mutation_parser$$($mutationRecord$jscomp$2$$,$stringifiedMutation$jscomp$1$$){$userAssert$$module$src$log$$(void 0!==$mutationRecord$jscomp$2$$.value&&"string"===typeof $mutationRecord$jscomp$2$$.value,"Mutation %s must have a value.",$stringifiedMutation$jscomp$1$$);$userAssert$$module$src$log$$(void 0!==$mutationRecord$jscomp$2$$.attributeName&&"string"===typeof $mutationRecord$jscomp$2$$.attributeName,"Mutation %s must have a attributeName.",
$stringifiedMutation$jscomp$1$$);var $supportedAttributeKeys$$=Object.keys($SUPPORTED_ATTRIBUTES$$module$extensions$amp_experiment$1_0$mutation_parser$$);$userAssert$$module$src$log$$(0<=$supportedAttributeKeys$$.indexOf($mutationRecord$jscomp$2$$.attributeName),"Mutation %s has an unsupported attributeName.",$stringifiedMutation$jscomp$1$$);$userAssert$$module$src$log$$($SUPPORTED_ATTRIBUTES$$module$extensions$amp_experiment$1_0$mutation_parser$$[$mutationRecord$jscomp$2$$.attributeName]($mutationRecord$jscomp$2$$.value),
"Mutation %s has an an unsupported value.",$stringifiedMutation$jscomp$1$$)}function $assertCharacterDataMutation$$module$extensions$amp_experiment$1_0$mutation_parser$$($mutationRecord$jscomp$3$$,$stringifiedMutation$jscomp$2$$){$userAssert$$module$src$log$$(void 0!==$mutationRecord$jscomp$3$$.value&&"string"===typeof $mutationRecord$jscomp$3$$.value,"Mutation %s must have a value.",$stringifiedMutation$jscomp$2$$)};function $AmpExperiment$$module$extensions$amp_experiment$1_0$amp_experiment$$($var_args$jscomp$55$$){return AMP.BaseElement.apply(this,arguments)||this}var $JSCompiler_parentCtor$jscomp$inline_99$$=AMP.BaseElement;$AmpExperiment$$module$extensions$amp_experiment$1_0$amp_experiment$$.prototype=$$jscomp$objectCreate$$($JSCompiler_parentCtor$jscomp$inline_99$$.prototype);$AmpExperiment$$module$extensions$amp_experiment$1_0$amp_experiment$$.prototype.constructor=$AmpExperiment$$module$extensions$amp_experiment$1_0$amp_experiment$$;
if($$jscomp$setPrototypeOf$$)$$jscomp$setPrototypeOf$$($AmpExperiment$$module$extensions$amp_experiment$1_0$amp_experiment$$,$JSCompiler_parentCtor$jscomp$inline_99$$);else for(var $JSCompiler_p$jscomp$inline_100$$ in $JSCompiler_parentCtor$jscomp$inline_99$$)if("prototype"!=$JSCompiler_p$jscomp$inline_100$$)if(Object.defineProperties){var $JSCompiler_descriptor$jscomp$inline_101$$=Object.getOwnPropertyDescriptor($JSCompiler_parentCtor$jscomp$inline_99$$,$JSCompiler_p$jscomp$inline_100$$);$JSCompiler_descriptor$jscomp$inline_101$$&&
Object.defineProperty($AmpExperiment$$module$extensions$amp_experiment$1_0$amp_experiment$$,$JSCompiler_p$jscomp$inline_100$$,$JSCompiler_descriptor$jscomp$inline_101$$)}else $AmpExperiment$$module$extensions$amp_experiment$1_0$amp_experiment$$[$JSCompiler_p$jscomp$inline_100$$]=$JSCompiler_parentCtor$jscomp$inline_99$$[$JSCompiler_p$jscomp$inline_100$$];$AmpExperiment$$module$extensions$amp_experiment$1_0$amp_experiment$$.$superClass_$=$JSCompiler_parentCtor$jscomp$inline_99$$.prototype;
$AmpExperiment$$module$extensions$amp_experiment$1_0$amp_experiment$$.prototype.isLayoutSupported=function($layout$jscomp$3$$){return"nodisplay"==$layout$jscomp$3$$||"container"==$layout$jscomp$3$$};
$AmpExperiment$$module$extensions$amp_experiment$1_0$amp_experiment$$.prototype.buildCallback=function(){var $$jscomp$this$jscomp$5$$=this,$buildCallbackPromises$$=[$getServicePromiseForDoc$$module$src$service$$(this.getAmpDoc(),"variant"),$JSCompiler_StaticMethods_isExperimentEnabled_$$(this)];return Promise.all($buildCallbackPromises$$).then(function($buildCallbackPromises$$){var $responses$$=$buildCallbackPromises$$[0];if(!$buildCallbackPromises$$[1])return $user$$module$src$log$$().error("amp-experiment",
"Experiment amp-experiment-1.0 is not enabled."),$responses$$.init(Promise.resolve({})),Promise.reject("Experiment amp-experiment-1.0 is not enabled.");try{var $config$jscomp$5$$=$JSCompiler_StaticMethods_getConfig_$$($$jscomp$this$jscomp$5$$),$results$jscomp$1$$=Object.create(null),$variants$jscomp$3$$=Object.keys($config$jscomp$5$$).map(function($buildCallbackPromises$$){return $allocateVariant$$module$extensions$amp_experiment$1_0$variant$$($$jscomp$this$jscomp$5$$.getAmpDoc(),$buildCallbackPromises$$,
$config$jscomp$5$$[$buildCallbackPromises$$]).then(function($$jscomp$this$jscomp$5$$){$results$jscomp$1$$[$buildCallbackPromises$$]=$$jscomp$this$jscomp$5$$})}),$experimentVariants$$=Promise.all($variants$jscomp$3$$).then(function(){return $results$jscomp$1$$}).then($$jscomp$this$jscomp$5$$.$applyExperimentVariants_$.bind($$jscomp$this$jscomp$5$$,$config$jscomp$5$$));$responses$$.init($experimentVariants$$)}catch($e$jscomp$18$$){throw $responses$$.init(Promise.resolve({})),$e$jscomp$18$$;}})};
function $JSCompiler_StaticMethods_getConfig_$$($JSCompiler_StaticMethods_getConfig_$self_children$jscomp$127$$){$JSCompiler_StaticMethods_getConfig_$self_children$jscomp$127$$=$JSCompiler_StaticMethods_getConfig_$self_children$jscomp$127$$.element.children;$userAssert$$module$src$log$$(1==$JSCompiler_StaticMethods_getConfig_$self_children$jscomp$127$$.length&&"SCRIPT"==$JSCompiler_StaticMethods_getConfig_$self_children$jscomp$127$$[0].tagName&&"APPLICATION/JSON"==$JSCompiler_StaticMethods_getConfig_$self_children$jscomp$127$$[0].getAttribute("type").toUpperCase(),
'<amp-experiment> should contain exactly one <script type="application/json"> child.');return JSON.parse($JSCompiler_StaticMethods_getConfig_$self_children$jscomp$127$$[0].textContent)}
$AmpExperiment$$module$extensions$amp_experiment$1_0$amp_experiment$$.prototype.$applyExperimentVariants_$=function($config$jscomp$6$$,$experimentToVariant$$){var $appliedExperimentToVariantPromises$$=[],$experimentName$jscomp$7$$;for($experimentName$jscomp$7$$ in $experimentToVariant$$){var $variantName$jscomp$3$$=$experimentToVariant$$[$experimentName$jscomp$7$$];if($variantName$jscomp$3$$){var $variantObject$$=$config$jscomp$6$$[$experimentName$jscomp$7$$].variants[$variantName$jscomp$3$$];$appliedExperimentToVariantPromises$$.push($JSCompiler_StaticMethods_applyMutations_$$(this,
$variantObject$$))}}return Promise.all($appliedExperimentToVariantPromises$$).then(function(){return $experimentToVariant$$})};
function $JSCompiler_StaticMethods_applyMutations_$$($JSCompiler_StaticMethods_applyMutations_$self$$,$variantObject$jscomp$1$$){return $JSCompiler_StaticMethods_applyMutations_$self$$.getAmpDoc().whenBodyAvailable().then(function(){var $mutationOperations$$=$variantObject$jscomp$1$$.mutations.map(function($variantObject$jscomp$1$$){return $parseMutation$$module$extensions$amp_experiment$1_0$mutation_parser$$($variantObject$jscomp$1$$,$JSCompiler_StaticMethods_applyMutations_$self$$.win.document)});
$mutationOperations$$.forEach(function($JSCompiler_StaticMethods_applyMutations_$self$$){return $JSCompiler_StaticMethods_applyMutations_$self$$()})})}
function $JSCompiler_StaticMethods_isExperimentEnabled_$$($JSCompiler_StaticMethods_isExperimentEnabled_$self$$){if($isExperimentOn$$module$src$experiments$$($JSCompiler_StaticMethods_isExperimentEnabled_$self$$.win))return Promise.resolve(!0);$registerServiceBuilderForDoc$$module$src$service$$($JSCompiler_StaticMethods_isExperimentEnabled_$self$$.getAmpDoc());return $getServiceForDoc$$module$src$service$$($JSCompiler_StaticMethods_isExperimentEnabled_$self$$.element,"origin-experiments").getExperiments().then(function($JSCompiler_StaticMethods_isExperimentEnabled_$self$$){return $JSCompiler_StaticMethods_isExperimentEnabled_$self$$&&
$JSCompiler_StaticMethods_isExperimentEnabled_$self$$.includes("amp-experiment-1.0")})}(function($AMP$jscomp$1$$){$AMP$jscomp$1$$.registerServiceForDoc("variant",$Variants$$module$extensions$amp_experiment$1_0$variant$$);$AMP$jscomp$1$$.registerElement("amp-experiment",$AmpExperiment$$module$extensions$amp_experiment$1_0$amp_experiment$$)})(self.AMP);
})});

//# sourceMappingURL=amp-experiment-1.0.js.map
