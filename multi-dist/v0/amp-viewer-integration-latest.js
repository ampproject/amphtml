(self.AMP=self.AMP||[]).push({n:"amp-viewer-integration",p:"high",v:"1904281823091",f:(function(AMP,_){
function $tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($component$jscomp$4$$,$fallback$$){$fallback$$=void 0===$fallback$$?"":$fallback$$;try{return decodeURIComponent($component$jscomp$4$$)}catch($e$jscomp$7$$){return $fallback$$}};var $regex$$module$src$url_parse_query_string$$=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;
function $parseQueryString_$$module$src$url_parse_query_string$$($queryString$$){var $params$jscomp$1$$=Object.create(null);if(!$queryString$$)return $params$jscomp$1$$;for(var $match$$;$match$$=$regex$$module$src$url_parse_query_string$$.exec($queryString$$);){var $name$jscomp$70$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[1],$match$$[1]),$value$jscomp$86$$=$match$$[2]?$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[2],$match$$[2]):"";
$params$jscomp$1$$[$name$jscomp$70$$]=$value$jscomp$86$$}return $params$jscomp$1$$};var $rtvVersion$$module$src$mode$$="";self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log;function $userAssert$$module$src$log$$($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$){if(!$logs$$module$src$log$$.user)throw Error("failed to call initLogConstructor");$logs$$module$src$log$$.user.assert($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};function $LruCache$$module$src$utils$lru_cache$$(){var $capacity$$=100;this.$capacity_$=$capacity$$;this.$access_$=this.$size_$=0;this.$cache_$=Object.create(null)}$LruCache$$module$src$utils$lru_cache$$.prototype.has=function($key$jscomp$37$$){return!!this.$cache_$[$key$jscomp$37$$]};$LruCache$$module$src$utils$lru_cache$$.prototype.get=function($key$jscomp$38$$){var $cacheable$$=this.$cache_$[$key$jscomp$38$$];if($cacheable$$)return $cacheable$$.access=++this.$access_$,$cacheable$$.payload};
$LruCache$$module$src$utils$lru_cache$$.prototype.put=function($JSCompiler_cache$jscomp$inline_39_JSCompiler_inline_result$jscomp$179_key$jscomp$39$$,$payload$$){this.has($JSCompiler_cache$jscomp$inline_39_JSCompiler_inline_result$jscomp$179_key$jscomp$39$$)||this.$size_$++;this.$cache_$[$JSCompiler_cache$jscomp$inline_39_JSCompiler_inline_result$jscomp$179_key$jscomp$39$$]={payload:$payload$$,access:this.$access_$};if(!(this.$size_$<=this.$capacity_$)){if($logs$$module$src$log$$.dev)$JSCompiler_cache$jscomp$inline_39_JSCompiler_inline_result$jscomp$179_key$jscomp$39$$=
$logs$$module$src$log$$.dev;else throw Error("failed to call initLogConstructor");$JSCompiler_cache$jscomp$inline_39_JSCompiler_inline_result$jscomp$179_key$jscomp$39$$.warn("lru-cache","Trimming LRU cache");$JSCompiler_cache$jscomp$inline_39_JSCompiler_inline_result$jscomp$179_key$jscomp$39$$=this.$cache_$;var $JSCompiler_oldest$jscomp$inline_40$$=this.$access_$+1,$JSCompiler_key$jscomp$inline_42$$;for($JSCompiler_key$jscomp$inline_42$$ in $JSCompiler_cache$jscomp$inline_39_JSCompiler_inline_result$jscomp$179_key$jscomp$39$$){var $JSCompiler_access$jscomp$inline_43$$=
$JSCompiler_cache$jscomp$inline_39_JSCompiler_inline_result$jscomp$179_key$jscomp$39$$[$JSCompiler_key$jscomp$inline_42$$].access;if($JSCompiler_access$jscomp$inline_43$$<$JSCompiler_oldest$jscomp$inline_40$$){$JSCompiler_oldest$jscomp$inline_40$$=$JSCompiler_access$jscomp$inline_43$$;var $JSCompiler_oldestKey$jscomp$inline_41$$=$JSCompiler_key$jscomp$inline_42$$}}void 0!==$JSCompiler_oldestKey$jscomp$inline_41$$&&(delete $JSCompiler_cache$jscomp$inline_39_JSCompiler_inline_result$jscomp$179_key$jscomp$39$$[$JSCompiler_oldestKey$jscomp$inline_41$$],
this.$size_$--)}};function $map$$module$src$utils$object$$(){var $opt_initial$$,$obj$jscomp$25$$=Object.create(null);$opt_initial$$&&Object.assign($obj$jscomp$25$$,$opt_initial$$);return $obj$jscomp$25$$}function $dict$$module$src$utils$object$$($opt_initial$jscomp$1$$){return $opt_initial$jscomp$1$$||{}};var $env$$module$src$config$$=self.AMP_CONFIG||{},$urls$$module$src$config$$={thirdParty:$env$$module$src$config$$.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:$env$$module$src$config$$.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof $env$$module$src$config$$.thirdPartyFrameRegex?new RegExp($env$$module$src$config$$.thirdPartyFrameRegex):$env$$module$src$config$$.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:$env$$module$src$config$$.cdnUrl||
"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof $env$$module$src$config$$.cdnProxyRegex?new RegExp($env$$module$src$config$$.cdnProxyRegex):$env$$module$src$config$$.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:$env$$module$src$config$$.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:$env$$module$src$config$$.localDev||!1};var $SERVING_TYPE_PREFIX$$module$src$url$$=$dict$$module$src$utils$object$$({c:!0,v:!0,a:!0,ad:!0,action:!0}),$a$$module$src$url$$,$cache$$module$src$url$$,$AMP_JS_PARAMS_REGEX$$module$src$url$$=/[?&]amp_js[^&]*/,$AMP_GSA_PARAMS_REGEX$$module$src$url$$=/[?&]amp_gsa[^&]*/,$AMP_R_PARAMS_REGEX$$module$src$url$$=/[?&]amp_r[^&]*/,$AMP_KIT_PARAMS_REGEX$$module$src$url$$=/[?&]amp_kit[^&]*/,$GOOGLE_EXPERIMENT_PARAMS_REGEX$$module$src$url$$=/[?&]usqp[^&]*/;
function $parseUrlDeprecated$$module$src$url$$($JSCompiler_inline_result$jscomp$15_url$jscomp$21$$){var $opt_nocache$$;$a$$module$src$url$$||($a$$module$src$url$$=self.document.createElement("a"),$cache$$module$src$url$$=self.UrlCache||(self.UrlCache=new $LruCache$$module$src$utils$lru_cache$$));var $JSCompiler_opt_cache$jscomp$inline_46$$=$opt_nocache$$?null:$cache$$module$src$url$$,$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$=$a$$module$src$url$$;
if($JSCompiler_opt_cache$jscomp$inline_46$$&&$JSCompiler_opt_cache$jscomp$inline_46$$.has($JSCompiler_inline_result$jscomp$15_url$jscomp$21$$))$JSCompiler_inline_result$jscomp$15_url$jscomp$21$$=$JSCompiler_opt_cache$jscomp$inline_46$$.get($JSCompiler_inline_result$jscomp$15_url$jscomp$21$$);else{$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.href=$JSCompiler_inline_result$jscomp$15_url$jscomp$21$$;$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.protocol||
($JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.href=$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.href);var $JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$={href:$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.href,protocol:$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.protocol,host:$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.host,
hostname:$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.hostname,port:"0"==$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.port?"":$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.port,pathname:$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.pathname,search:$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.search,
hash:$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.hash,origin:null};"/"!==$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$.pathname[0]&&($JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$.pathname="/"+$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$.pathname);if("http:"==$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$.protocol&&80==$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$.port||
"https:"==$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$.protocol&&443==$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$.port)$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$.port="",$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$.host=$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$.hostname;$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$.origin=$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.origin&&
"null"!=$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.origin?$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.origin:"data:"!=$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$.protocol&&$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$.host?$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$.protocol+"//"+$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$.host:
$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$.href;$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$=self;if($JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.AMP_MODE)$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$=$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.AMP_MODE;else{var $JSCompiler_AMP_CONFIG$jscomp$inline_247_JSCompiler_singlePassType$jscomp$inline_254$$=
self.AMP_CONFIG||{},$JSCompiler_runningTests$jscomp$inline_251$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_247_JSCompiler_singlePassType$jscomp$inline_254$$.test||!(!$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.AMP_TEST&&!$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.__karma__),$JSCompiler_isLocalDev$jscomp$inline_252$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_247_JSCompiler_singlePassType$jscomp$inline_254$$.localDev||
$JSCompiler_runningTests$jscomp$inline_251$$,$JSCompiler_hashQuery$jscomp$inline_253$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.location.originalHash||$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.location.hash);$JSCompiler_AMP_CONFIG$jscomp$inline_247_JSCompiler_singlePassType$jscomp$inline_254$$=$JSCompiler_AMP_CONFIG$jscomp$inline_247_JSCompiler_singlePassType$jscomp$inline_254$$.spt;
var $JSCompiler_searchQuery$jscomp$inline_255$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.location.search);$rtvVersion$$module$src$mode$$||($rtvVersion$$module$src$mode$$=$JSCompiler_isLocalDev$jscomp$inline_252$$?"1904281823091":$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.AMP_CONFIG&&$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.AMP_CONFIG.v?
$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.AMP_CONFIG.v:"011904281823091");$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$=$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.AMP_MODE={localDev:$JSCompiler_isLocalDev$jscomp$inline_252$$,development:!("1"!=$JSCompiler_hashQuery$jscomp$inline_253$$.development&&!$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.AMP_DEV_MODE),
examiner:"2"==$JSCompiler_hashQuery$jscomp$inline_253$$.development,filter:$JSCompiler_hashQuery$jscomp$inline_253$$.filter,geoOverride:$JSCompiler_hashQuery$jscomp$inline_253$$["amp-geo"],minified:!0,lite:void 0!=$JSCompiler_searchQuery$jscomp$inline_255$$.amp_lite,test:$JSCompiler_runningTests$jscomp$inline_251$$,log:$JSCompiler_hashQuery$jscomp$inline_253$$.log,version:"1904281823091",rtvVersion:$rtvVersion$$module$src$mode$$,singlePassType:$JSCompiler_AMP_CONFIG$jscomp$inline_247_JSCompiler_singlePassType$jscomp$inline_254$$}}$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$=
$JSCompiler_a$jscomp$inline_47_JSCompiler_temp$jscomp$244_JSCompiler_win$jscomp$inline_193$$.test&&Object.freeze?Object.freeze($JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$):$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$;$JSCompiler_opt_cache$jscomp$inline_46$$&&$JSCompiler_opt_cache$jscomp$inline_46$$.put($JSCompiler_inline_result$jscomp$15_url$jscomp$21$$,$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$);$JSCompiler_inline_result$jscomp$15_url$jscomp$21$$=
$JSCompiler_frozen$jscomp$inline_49_JSCompiler_info$jscomp$inline_48$$}return $JSCompiler_inline_result$jscomp$15_url$jscomp$21$$}
function $getSourceUrl$$module$src$url$$($url$jscomp$36$$){"string"==typeof $url$jscomp$36$$&&($url$jscomp$36$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$36$$));var $JSCompiler_temp_const$jscomp$17_JSCompiler_url$jscomp$inline_51_path$jscomp$4$$=$url$jscomp$36$$;"string"==typeof $JSCompiler_temp_const$jscomp$17_JSCompiler_url$jscomp$inline_51_path$jscomp$4$$&&($JSCompiler_temp_const$jscomp$17_JSCompiler_url$jscomp$inline_51_path$jscomp$4$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_temp_const$jscomp$17_JSCompiler_url$jscomp$inline_51_path$jscomp$4$$));
if(!$urls$$module$src$config$$.cdnProxyRegex.test($JSCompiler_temp_const$jscomp$17_JSCompiler_url$jscomp$inline_51_path$jscomp$4$$.origin))return $url$jscomp$36$$.href;$JSCompiler_temp_const$jscomp$17_JSCompiler_url$jscomp$inline_51_path$jscomp$4$$=$url$jscomp$36$$.pathname.split("/");$userAssert$$module$src$log$$($SERVING_TYPE_PREFIX$$module$src$url$$[$JSCompiler_temp_const$jscomp$17_JSCompiler_url$jscomp$inline_51_path$jscomp$4$$[1]],"Unknown path prefix in url %s",$url$jscomp$36$$.href);var $domainOrHttpsSignal$$=
$JSCompiler_temp_const$jscomp$17_JSCompiler_url$jscomp$inline_51_path$jscomp$4$$[2],$origin$$="s"==$domainOrHttpsSignal$$?"https://"+decodeURIComponent($JSCompiler_temp_const$jscomp$17_JSCompiler_url$jscomp$inline_51_path$jscomp$4$$[3]):"http://"+decodeURIComponent($domainOrHttpsSignal$$);$userAssert$$module$src$log$$(0<$origin$$.indexOf("."),"Expected a . in origin %s",$origin$$);$JSCompiler_temp_const$jscomp$17_JSCompiler_url$jscomp$inline_51_path$jscomp$4$$.splice(1,"s"==$domainOrHttpsSignal$$?
3:2);$JSCompiler_temp_const$jscomp$17_JSCompiler_url$jscomp$inline_51_path$jscomp$4$$=$origin$$+$JSCompiler_temp_const$jscomp$17_JSCompiler_url$jscomp$inline_51_path$jscomp$4$$.join("/");var $JSCompiler_inline_result$jscomp$18_JSCompiler_search$jscomp$inline_54_JSCompiler_urlSearch$jscomp$inline_53$$;$JSCompiler_inline_result$jscomp$18_JSCompiler_search$jscomp$inline_54_JSCompiler_urlSearch$jscomp$inline_53$$=($JSCompiler_inline_result$jscomp$18_JSCompiler_search$jscomp$inline_54_JSCompiler_urlSearch$jscomp$inline_53$$=
$url$jscomp$36$$.search)&&"?"!=$JSCompiler_inline_result$jscomp$18_JSCompiler_search$jscomp$inline_54_JSCompiler_urlSearch$jscomp$inline_53$$?($JSCompiler_inline_result$jscomp$18_JSCompiler_search$jscomp$inline_54_JSCompiler_urlSearch$jscomp$inline_53$$=$JSCompiler_inline_result$jscomp$18_JSCompiler_search$jscomp$inline_54_JSCompiler_urlSearch$jscomp$inline_53$$.replace($AMP_JS_PARAMS_REGEX$$module$src$url$$,"").replace($AMP_GSA_PARAMS_REGEX$$module$src$url$$,"").replace($AMP_R_PARAMS_REGEX$$module$src$url$$,
"").replace($AMP_KIT_PARAMS_REGEX$$module$src$url$$,"").replace($GOOGLE_EXPERIMENT_PARAMS_REGEX$$module$src$url$$,"").replace(/^[?&]/,""))?"?"+$JSCompiler_inline_result$jscomp$18_JSCompiler_search$jscomp$inline_54_JSCompiler_urlSearch$jscomp$inline_53$$:"":"";return $JSCompiler_temp_const$jscomp$17_JSCompiler_url$jscomp$inline_51_path$jscomp$4$$+$JSCompiler_inline_result$jscomp$18_JSCompiler_search$jscomp$inline_54_JSCompiler_urlSearch$jscomp$inline_53$$+($url$jscomp$36$$.hash||"")};function $AmpViewerIntegrationVariableService$$module$extensions$amp_viewer_integration$0_1$variable_service$$($ampdoc$$){var $$jscomp$this$$=this;this.$ampdoc_$=$ampdoc$$;this.$variables_$={ancestorOrigin:function(){var $ampdoc$$=$$jscomp$this$$.$ampdoc_$.win.location.ancestorOrigins;return $ampdoc$$?$ampdoc$$[0]:""},fragmentParam:function($ampdoc$$,$defaultValue$jscomp$2$$){$userAssert$$module$src$log$$($ampdoc$$,"The first argument to FRAGMENT_PARAM, the fragment string param is required");$userAssert$$module$src$log$$("string"==
typeof $ampdoc$$,"param should be a string");var $param$jscomp$5$$=$parseQueryString_$$module$src$url_parse_query_string$$($$jscomp$this$$.$ampdoc_$.win.location.originalHash);return void 0===$param$jscomp$5$$[$ampdoc$$]?$defaultValue$jscomp$2$$:$param$jscomp$5$$[$ampdoc$$]}}}$AmpViewerIntegrationVariableService$$module$extensions$amp_viewer_integration$0_1$variable_service$$.prototype.get=function(){return this.$variables_$};var $optsSupported$$module$src$event_helper_listen$$;
function $internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$11$$,$eventType$jscomp$3$$,$listener$jscomp$62$$,$opt_evtListenerOpts$$){var $localElement$$=$element$jscomp$11$$,$localListener$$=$listener$jscomp$62$$;var $wrapped$$=function($element$jscomp$11$$){try{return $localListener$$($element$jscomp$11$$)}catch($e$jscomp$10$$){throw self.reportError($e$jscomp$10$$),$e$jscomp$10$$;}};var $optsSupported$$=$detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(),$capture$$=
!1;$opt_evtListenerOpts$$&&($capture$$=$opt_evtListenerOpts$$.capture);$localElement$$.addEventListener($eventType$jscomp$3$$,$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$$);return function(){$localElement$$&&$localElement$$.removeEventListener($eventType$jscomp$3$$,$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$$);$wrapped$$=$localElement$$=$localListener$$=null}}
function $detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(){if(void 0!==$optsSupported$$module$src$event_helper_listen$$)return $optsSupported$$module$src$event_helper_listen$$;$optsSupported$$module$src$event_helper_listen$$=!1;try{var $options$jscomp$14$$={get capture(){$optsSupported$$module$src$event_helper_listen$$=!0}};self.addEventListener("test-options",null,$options$jscomp$14$$);self.removeEventListener("test-options",null,$options$jscomp$14$$)}catch($err$jscomp$3$$){}return $optsSupported$$module$src$event_helper_listen$$}
;function $listen$$module$src$event_helper$$($element$jscomp$12$$,$eventType$jscomp$4$$,$listener$jscomp$63$$,$opt_evtListenerOpts$jscomp$1$$){return $internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$12$$,$eventType$jscomp$4$$,$listener$jscomp$63$$,$opt_evtListenerOpts$jscomp$1$$)}
function $listenOnce$$module$src$event_helper$$($element$jscomp$13$$,$eventType$jscomp$5$$,$listener$jscomp$64$$){var $localListener$jscomp$1$$=$listener$jscomp$64$$,$unlisten$$=$internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$13$$,$eventType$jscomp$5$$,function($element$jscomp$13$$){try{$localListener$jscomp$1$$($element$jscomp$13$$)}finally{$localListener$jscomp$1$$=null,$unlisten$$()}},void 0)};function $FocusHandler$$module$extensions$amp_viewer_integration$0_1$focus_handler$$($win$jscomp$9$$,$messaging$$){this.win=$win$jscomp$9$$;this.$messaging_$=$messaging$$;$listen$$module$src$event_helper$$(this.win.document,"focusin",this.$forwardEventToViewer_$.bind(this),{capture:!1})}
$FocusHandler$$module$extensions$amp_viewer_integration$0_1$focus_handler$$.prototype.$forwardEventToViewer_$=function($e$jscomp$12$$){$e$jscomp$12$$.defaultPrevented||this.$messaging_$.sendRequest($e$jscomp$12$$.type,$dict$$module$src$utils$object$$({focusTargetRect:$e$jscomp$12$$.target.getBoundingClientRect()}),!1)};function $registerServiceBuilder$$module$src$service$$($win$jscomp$11$$,$constructor$jscomp$1$$){var $opt_instantiate$$,$JSCompiler_holder$jscomp$inline_66$$=$win$jscomp$11$$=$win$jscomp$11$$.__AMP_TOP||$win$jscomp$11$$,$JSCompiler_context$jscomp$inline_67$$=$win$jscomp$11$$,$JSCompiler_services$jscomp$inline_70$$=$getServices$$module$src$service$$($JSCompiler_holder$jscomp$inline_66$$),$JSCompiler_s$jscomp$inline_71$$=$JSCompiler_services$jscomp$inline_70$$["viewer-integration-variable"];$JSCompiler_s$jscomp$inline_71$$||
($JSCompiler_s$jscomp$inline_71$$=$JSCompiler_services$jscomp$inline_70$$["viewer-integration-variable"]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});$JSCompiler_s$jscomp$inline_71$$.ctor||$JSCompiler_s$jscomp$inline_71$$.obj||($JSCompiler_s$jscomp$inline_71$$.ctor=$constructor$jscomp$1$$,$JSCompiler_s$jscomp$inline_71$$.context=$JSCompiler_context$jscomp$inline_67$$,$JSCompiler_s$jscomp$inline_71$$.resolve&&$getServiceInternal$$module$src$service$$($JSCompiler_holder$jscomp$inline_66$$,
"viewer-integration-variable"));$opt_instantiate$$&&$getServiceInternal$$module$src$service$$($win$jscomp$11$$,"viewer-integration-variable")}
function $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$$,$id$jscomp$15$$){var $JSCompiler_ampdoc$jscomp$inline_74_JSCompiler_inline_result$jscomp$21_ampdoc$jscomp$3$$=$getAmpdoc$$module$src$service$$($elementOrAmpDoc$$);$JSCompiler_ampdoc$jscomp$inline_74_JSCompiler_inline_result$jscomp$21_ampdoc$jscomp$3$$=$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_74_JSCompiler_inline_result$jscomp$21_ampdoc$jscomp$3$$);$JSCompiler_ampdoc$jscomp$inline_74_JSCompiler_inline_result$jscomp$21_ampdoc$jscomp$3$$=
$JSCompiler_ampdoc$jscomp$inline_74_JSCompiler_inline_result$jscomp$21_ampdoc$jscomp$3$$.isSingleDoc()?$JSCompiler_ampdoc$jscomp$inline_74_JSCompiler_inline_result$jscomp$21_ampdoc$jscomp$3$$.win:$JSCompiler_ampdoc$jscomp$inline_74_JSCompiler_inline_result$jscomp$21_ampdoc$jscomp$3$$;return $getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_74_JSCompiler_inline_result$jscomp$21_ampdoc$jscomp$3$$,$id$jscomp$15$$)}
function $getAmpdoc$$module$src$service$$($JSCompiler_temp$jscomp$181_nodeOrDoc$jscomp$2$$){if($JSCompiler_temp$jscomp$181_nodeOrDoc$jscomp$2$$.nodeType){var $JSCompiler_win$jscomp$inline_195$$=($JSCompiler_temp$jscomp$181_nodeOrDoc$jscomp$2$$.ownerDocument||$JSCompiler_temp$jscomp$181_nodeOrDoc$jscomp$2$$).defaultView;$JSCompiler_win$jscomp$inline_195$$=$JSCompiler_win$jscomp$inline_195$$.__AMP_TOP||$JSCompiler_win$jscomp$inline_195$$;$JSCompiler_temp$jscomp$181_nodeOrDoc$jscomp$2$$=$getServiceInternal$$module$src$service$$($JSCompiler_win$jscomp$inline_195$$,
"ampdoc").getAmpDoc($JSCompiler_temp$jscomp$181_nodeOrDoc$jscomp$2$$)}return $JSCompiler_temp$jscomp$181_nodeOrDoc$jscomp$2$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$9$$,$id$jscomp$19$$){var $services$$=$getServices$$module$src$service$$($holder$jscomp$4_s$jscomp$9$$);$holder$jscomp$4_s$jscomp$9$$=$services$$[$id$jscomp$19$$];$holder$jscomp$4_s$jscomp$9$$.obj||($holder$jscomp$4_s$jscomp$9$$.obj=new $holder$jscomp$4_s$jscomp$9$$.ctor($holder$jscomp$4_s$jscomp$9$$.context),$holder$jscomp$4_s$jscomp$9$$.ctor=null,$holder$jscomp$4_s$jscomp$9$$.context=null,$holder$jscomp$4_s$jscomp$9$$.resolve&&
$holder$jscomp$4_s$jscomp$9$$.resolve($holder$jscomp$4_s$jscomp$9$$.obj));return $holder$jscomp$4_s$jscomp$9$$.obj}function $getServices$$module$src$service$$($holder$jscomp$9$$){var $services$jscomp$5$$=$holder$jscomp$9$$.services;$services$jscomp$5$$||($services$jscomp$5$$=$holder$jscomp$9$$.services={});return $services$jscomp$5$$};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function $isDocumentReady$$module$src$document_ready$$($doc$jscomp$3$$){return"loading"!=$doc$jscomp$3$$.readyState&&"uninitialized"!=$doc$jscomp$3$$.readyState}
function $onDocumentState$$module$src$document_ready$$($doc$jscomp$6$$,$callback$jscomp$56$$){var $stateFn$$=$isDocumentReady$$module$src$document_ready$$,$ready$$=$stateFn$$($doc$jscomp$6$$);if($ready$$)$callback$jscomp$56$$($doc$jscomp$6$$);else{var $readyListener$$=function(){$stateFn$$($doc$jscomp$6$$)&&($ready$$||($ready$$=!0,$callback$jscomp$56$$($doc$jscomp$6$$)),$doc$jscomp$6$$.removeEventListener("readystatechange",$readyListener$$))};$doc$jscomp$6$$.addEventListener("readystatechange",$readyListener$$)}}
function $whenDocumentReady$$module$src$document_ready$$($doc$jscomp$7$$){return new Promise(function($resolve$jscomp$7$$){$onDocumentState$$module$src$document_ready$$($doc$jscomp$7$$,$resolve$jscomp$7$$)})};function $isIframed$$module$src$dom$$($win$jscomp$23$$){return $win$jscomp$23$$.parent&&$win$jscomp$23$$.parent!=$win$jscomp$23$$};var $propertyNameCache$$module$src$style$$,$vendorPrefixes$$module$src$style$$="Webkit webkit Moz moz ms O o".split(" ");
function $setStyle$$module$src$style$$($element$jscomp$60$$,$JSCompiler_inline_result$jscomp$22_property$jscomp$4_propertyName$jscomp$10$$,$value$jscomp$94$$){var $opt_units$$;var $JSCompiler_style$jscomp$inline_83$$=$element$jscomp$60$$.style;if(2>$JSCompiler_inline_result$jscomp$22_property$jscomp$4_propertyName$jscomp$10$$.length||0!=$JSCompiler_inline_result$jscomp$22_property$jscomp$4_propertyName$jscomp$10$$.lastIndexOf("--",0)){$propertyNameCache$$module$src$style$$||($propertyNameCache$$module$src$style$$=
$map$$module$src$utils$object$$());var $JSCompiler_propertyName$jscomp$inline_86$$=$propertyNameCache$$module$src$style$$[$JSCompiler_inline_result$jscomp$22_property$jscomp$4_propertyName$jscomp$10$$];if(!$JSCompiler_propertyName$jscomp$inline_86$$){$JSCompiler_propertyName$jscomp$inline_86$$=$JSCompiler_inline_result$jscomp$22_property$jscomp$4_propertyName$jscomp$10$$;if(void 0===$JSCompiler_style$jscomp$inline_83$$[$JSCompiler_inline_result$jscomp$22_property$jscomp$4_propertyName$jscomp$10$$]){var $JSCompiler_inline_result$jscomp$183_JSCompiler_prefixedPropertyName$jscomp$inline_88_JSCompiler_titleCase$jscomp$inline_87$$=
$JSCompiler_inline_result$jscomp$22_property$jscomp$4_propertyName$jscomp$10$$.charAt(0).toUpperCase()+$JSCompiler_inline_result$jscomp$22_property$jscomp$4_propertyName$jscomp$10$$.slice(1);b:{for(var $JSCompiler_i$jscomp$inline_199$$=0;$JSCompiler_i$jscomp$inline_199$$<$vendorPrefixes$$module$src$style$$.length;$JSCompiler_i$jscomp$inline_199$$++){var $JSCompiler_propertyName$jscomp$inline_200$$=$vendorPrefixes$$module$src$style$$[$JSCompiler_i$jscomp$inline_199$$]+$JSCompiler_inline_result$jscomp$183_JSCompiler_prefixedPropertyName$jscomp$inline_88_JSCompiler_titleCase$jscomp$inline_87$$;
if(void 0!==$JSCompiler_style$jscomp$inline_83$$[$JSCompiler_propertyName$jscomp$inline_200$$]){$JSCompiler_inline_result$jscomp$183_JSCompiler_prefixedPropertyName$jscomp$inline_88_JSCompiler_titleCase$jscomp$inline_87$$=$JSCompiler_propertyName$jscomp$inline_200$$;break b}}$JSCompiler_inline_result$jscomp$183_JSCompiler_prefixedPropertyName$jscomp$inline_88_JSCompiler_titleCase$jscomp$inline_87$$=""}void 0!==$JSCompiler_style$jscomp$inline_83$$[$JSCompiler_inline_result$jscomp$183_JSCompiler_prefixedPropertyName$jscomp$inline_88_JSCompiler_titleCase$jscomp$inline_87$$]&&
($JSCompiler_propertyName$jscomp$inline_86$$=$JSCompiler_inline_result$jscomp$183_JSCompiler_prefixedPropertyName$jscomp$inline_88_JSCompiler_titleCase$jscomp$inline_87$$)}$propertyNameCache$$module$src$style$$[$JSCompiler_inline_result$jscomp$22_property$jscomp$4_propertyName$jscomp$10$$]=$JSCompiler_propertyName$jscomp$inline_86$$}$JSCompiler_inline_result$jscomp$22_property$jscomp$4_propertyName$jscomp$10$$=$JSCompiler_propertyName$jscomp$inline_86$$}$JSCompiler_inline_result$jscomp$22_property$jscomp$4_propertyName$jscomp$10$$&&
($element$jscomp$60$$.style[$JSCompiler_inline_result$jscomp$22_property$jscomp$4_propertyName$jscomp$10$$]=$opt_units$$?$value$jscomp$94$$+$opt_units$$:$value$jscomp$94$$)}function $setStyles$$module$src$style$$($element$jscomp$62$$,$styles$jscomp$1$$){for(var $k$jscomp$3$$ in $styles$jscomp$1$$)$setStyle$$module$src$style$$($element$jscomp$62$$,$k$jscomp$3$$,$styles$jscomp$1$$[$k$jscomp$3$$])};function $CircularBuffer$$module$extensions$amp_viewer_integration$0_1$findtext$$($max$$){this.$max_$=$max$$;this.$buff_$=[];this.$next_$=0}$CircularBuffer$$module$extensions$amp_viewer_integration$0_1$findtext$$.prototype.add=function($item$$){this.$buff_$[this.$next_$]=$item$$;this.$next_$=(this.$next_$+1)%this.$max_$};
$CircularBuffer$$module$extensions$amp_viewer_integration$0_1$findtext$$.prototype.get=function($index$jscomp$72$$){this.$buff_$.length>=this.$max_$&&($index$jscomp$72$$=(this.$next_$+$index$jscomp$72$$)%this.$max_$);return this.$buff_$[$index$jscomp$72$$]};var $skipCharRe$$module$extensions$amp_viewer_integration$0_1$findtext$$=/[,.\s\u2022()]/;
function $canonicalizeChar$$module$extensions$amp_viewer_integration$0_1$findtext$$($c$jscomp$1$$){return"\u2019"==$c$jscomp$1$$||"\u2018"==$c$jscomp$1$$?"'":"\u201c"==$c$jscomp$1$$||"\u201d"==$c$jscomp$1$$?'"':$c$jscomp$1$$.toLowerCase()}
function $markSingleTextNode$$module$extensions$amp_viewer_integration$0_1$findtext$$($doc$jscomp$15_win$jscomp$50$$,$node$jscomp$7$$,$start$jscomp$12$$,$end$jscomp$6$$,$marked$jscomp$2$$){if($start$jscomp$12$$>=$end$jscomp$6$$)return null;$doc$jscomp$15_win$jscomp$50$$=$doc$jscomp$15_win$jscomp$50$$.document;var $parent$jscomp$14$$=$node$jscomp$7$$.parentNode,$text$jscomp$13$$=$node$jscomp$7$$.wholeText;0<$start$jscomp$12$$&&$parent$jscomp$14$$.insertBefore($doc$jscomp$15_win$jscomp$50$$.createTextNode($text$jscomp$13$$.substring(0,
$start$jscomp$12$$)),$node$jscomp$7$$);var $span$$=$doc$jscomp$15_win$jscomp$50$$.createElement("span");$span$$.appendChild($doc$jscomp$15_win$jscomp$50$$.createTextNode($text$jscomp$13$$.substring($start$jscomp$12$$,$end$jscomp$6$$)));$parent$jscomp$14$$.insertBefore($span$$,$node$jscomp$7$$);$marked$jscomp$2$$.push($span$$);var $endText$$=null;$end$jscomp$6$$<$text$jscomp$13$$.length&&($endText$$=$doc$jscomp$15_win$jscomp$50$$.createTextNode($text$jscomp$13$$.substring($end$jscomp$6$$)),$parent$jscomp$14$$.insertBefore($endText$$,
$node$jscomp$7$$));$parent$jscomp$14$$.removeChild($node$jscomp$7$$);return $endText$$}
function $TextScanner$$module$extensions$amp_viewer_integration$0_1$findtext$$($win$jscomp$52$$,$child$jscomp$6_node$jscomp$9$$){this.$win_$=$win$jscomp$52$$;this.$node_$=$child$jscomp$6_node$jscomp$9$$;this.$textIdx_$=-1;this.$child_$=null;if($child$jscomp$6_node$jscomp$9$$ instanceof $win$jscomp$52$$.Text)this.$textIdx_$=0;else if($child$jscomp$6_node$jscomp$9$$ instanceof $win$jscomp$52$$.Element){var $display$$=($win$jscomp$52$$.getComputedStyle($child$jscomp$6_node$jscomp$9$$)||$map$$module$src$utils$object$$()).display;
"none"!=$display$$&&($child$jscomp$6_node$jscomp$9$$=$child$jscomp$6_node$jscomp$9$$.firstChild,null!=$child$jscomp$6_node$jscomp$9$$&&(this.$child_$=new $TextScanner$$module$extensions$amp_viewer_integration$0_1$findtext$$($win$jscomp$52$$,$child$jscomp$6_node$jscomp$9$$)))}}
$TextScanner$$module$extensions$amp_viewer_integration$0_1$findtext$$.prototype.next=function(){if(0<=this.$textIdx_$){var $JSCompiler_idx$jscomp$inline_105_JSCompiler_inline_result$jscomp$27_JSCompiler_text$jscomp$inline_104_pos$jscomp$4$$;a:{for($JSCompiler_idx$jscomp$inline_105_JSCompiler_inline_result$jscomp$27_JSCompiler_text$jscomp$inline_104_pos$jscomp$4$$=this.$node_$.wholeText;this.$textIdx_$<$JSCompiler_idx$jscomp$inline_105_JSCompiler_inline_result$jscomp$27_JSCompiler_text$jscomp$inline_104_pos$jscomp$4$$.length;){$JSCompiler_idx$jscomp$inline_105_JSCompiler_inline_result$jscomp$27_JSCompiler_text$jscomp$inline_104_pos$jscomp$4$$=
this.$textIdx_$;this.$textIdx_$++;$JSCompiler_idx$jscomp$inline_105_JSCompiler_inline_result$jscomp$27_JSCompiler_text$jscomp$inline_104_pos$jscomp$4$$={node:this.$node_$,offset:$JSCompiler_idx$jscomp$inline_105_JSCompiler_inline_result$jscomp$27_JSCompiler_text$jscomp$inline_104_pos$jscomp$4$$};break a}$JSCompiler_idx$jscomp$inline_105_JSCompiler_inline_result$jscomp$27_JSCompiler_text$jscomp$inline_104_pos$jscomp$4$$=null}return $JSCompiler_idx$jscomp$inline_105_JSCompiler_inline_result$jscomp$27_JSCompiler_text$jscomp$inline_104_pos$jscomp$4$$}for(;null!=
this.$child_$;){$JSCompiler_idx$jscomp$inline_105_JSCompiler_inline_result$jscomp$27_JSCompiler_text$jscomp$inline_104_pos$jscomp$4$$=this.$child_$.next();if(null!=$JSCompiler_idx$jscomp$inline_105_JSCompiler_inline_result$jscomp$27_JSCompiler_text$jscomp$inline_104_pos$jscomp$4$$)return $JSCompiler_idx$jscomp$inline_105_JSCompiler_inline_result$jscomp$27_JSCompiler_text$jscomp$inline_104_pos$jscomp$4$$;var $sibling$$=this.$child_$.$node_$.nextSibling;this.$child_$=null!=$sibling$$?new $TextScanner$$module$extensions$amp_viewer_integration$0_1$findtext$$(this.$win_$,
$sibling$$):null}return null};function $getHighlightParam$$module$extensions$amp_viewer_integration$0_1$highlight_handler$$($ampdoc$jscomp$11_i$jscomp$23_param$jscomp$8$$){$ampdoc$jscomp$11_i$jscomp$23_param$jscomp$8$$=$parseQueryString_$$module$src$url_parse_query_string$$($ampdoc$jscomp$11_i$jscomp$23_param$jscomp$8$$.win.location.hash).highlight;if(!$ampdoc$jscomp$11_i$jscomp$23_param$jscomp$8$$||102400<$ampdoc$jscomp$11_i$jscomp$23_param$jscomp$8$$.length)return null;var $highlight$$=JSON.parse($ampdoc$jscomp$11_i$jscomp$23_param$jscomp$8$$),
$sens$$=$highlight$$.s;if(!($sens$$ instanceof Array)||15<$sens$$.length)return null;var $sum$$=0;for($ampdoc$jscomp$11_i$jscomp$23_param$jscomp$8$$=0;$ampdoc$jscomp$11_i$jscomp$23_param$jscomp$8$$<$sens$$.length;$ampdoc$jscomp$11_i$jscomp$23_param$jscomp$8$$++){var $sen$jscomp$1$$=$sens$$[$ampdoc$jscomp$11_i$jscomp$23_param$jscomp$8$$];if("string"!=typeof $sen$jscomp$1$$||!$sen$jscomp$1$$)return null;$sum$$+=$sen$jscomp$1$$.length;if(1500<$sum$$)return null}var $skipRendering$$=!1;$highlight$$.n&&
($skipRendering$$=!0);return{sentences:$sens$$,skipRendering:$skipRendering$$}}
function $HighlightHandler$$module$extensions$amp_viewer_integration$0_1$highlight_handler$$($ampdoc$jscomp$12$$,$highlightInfo$$){var $$jscomp$this$jscomp$2$$=this;this.$ampdoc_$=$ampdoc$jscomp$12$$;this.$viewer_$=$getServiceForDoc$$module$src$service$$($ampdoc$jscomp$12$$,"viewer");this.$viewport_$=$getServiceForDoc$$module$src$service$$(this.$ampdoc_$,"viewport");this.$highlightedNodes_$=null;$whenDocumentReady$$module$src$document_ready$$($ampdoc$jscomp$12$$.win.document).then(function(){$JSCompiler_StaticMethods_initHighlight_$$($$jscomp$this$jscomp$2$$,$highlightInfo$$)})}
function $JSCompiler_StaticMethods_sendHighlightState_$$($JSCompiler_StaticMethods_sendHighlightState_$self$$,$state$$,$opt_params$$){var $params$jscomp$7$$=$dict$$module$src$utils$object$$({state:$state$$}),$key$jscomp$49$$;for($key$jscomp$49$$ in $opt_params$$)$params$jscomp$7$$[$key$jscomp$49$$]=$opt_params$$[$key$jscomp$49$$];$JSCompiler_StaticMethods_sendHighlightState_$self$$.$viewer_$.sendMessage("highlightState",$params$jscomp$7$$)}
function $JSCompiler_StaticMethods_findHighlightedNodes_$$($JSCompiler_StaticMethods_findHighlightedNodes_$self$$,$JSCompiler_inline_result$jscomp$23_JSCompiler_ranges$jscomp$inline_127_JSCompiler_ranges$jscomp$inline_209_JSCompiler_sentences$jscomp$inline_109_highlightInfo$jscomp$1_sens$jscomp$1$$){var $win$jscomp$53$$=$JSCompiler_StaticMethods_findHighlightedNodes_$self$$.$ampdoc_$.win;a:{var $JSCompiler_marked$jscomp$inline_128_JSCompiler_node$jscomp$inline_108_JSCompiler_ret$jscomp$inline_210_JSCompiler_scanner$jscomp$inline_110$$=
$JSCompiler_StaticMethods_findHighlightedNodes_$self$$.$ampdoc_$.getBody();$JSCompiler_inline_result$jscomp$23_JSCompiler_ranges$jscomp$inline_127_JSCompiler_ranges$jscomp$inline_209_JSCompiler_sentences$jscomp$inline_109_highlightInfo$jscomp$1_sens$jscomp$1$$=$JSCompiler_inline_result$jscomp$23_JSCompiler_ranges$jscomp$inline_127_JSCompiler_ranges$jscomp$inline_209_JSCompiler_sentences$jscomp$inline_109_highlightInfo$jscomp$1_sens$jscomp$1$$.sentences;$JSCompiler_marked$jscomp$inline_128_JSCompiler_node$jscomp$inline_108_JSCompiler_ret$jscomp$inline_210_JSCompiler_scanner$jscomp$inline_110$$=
new $TextScanner$$module$extensions$amp_viewer_integration$0_1$findtext$$($win$jscomp$53$$,$JSCompiler_marked$jscomp$inline_128_JSCompiler_node$jscomp$inline_108_JSCompiler_ret$jscomp$inline_210_JSCompiler_scanner$jscomp$inline_110$$);for(var $JSCompiler_i$jscomp$inline_129_JSCompiler_matches$jscomp$inline_111_JSCompiler_prev$jscomp$inline_211$$=[],$JSCompiler_i$jscomp$inline_212_JSCompiler_i$jscomp$inline_224_JSCompiler_idx$jscomp$inline_219_JSCompiler_r$jscomp$inline_130_JSCompiler_senIdx$jscomp$inline_112$$=
0;$JSCompiler_i$jscomp$inline_212_JSCompiler_i$jscomp$inline_224_JSCompiler_idx$jscomp$inline_219_JSCompiler_r$jscomp$inline_130_JSCompiler_senIdx$jscomp$inline_112$$<$JSCompiler_inline_result$jscomp$23_JSCompiler_ranges$jscomp$inline_127_JSCompiler_ranges$jscomp$inline_209_JSCompiler_sentences$jscomp$inline_109_highlightInfo$jscomp$1_sens$jscomp$1$$.length;$JSCompiler_i$jscomp$inline_212_JSCompiler_i$jscomp$inline_224_JSCompiler_idx$jscomp$inline_219_JSCompiler_r$jscomp$inline_130_JSCompiler_senIdx$jscomp$inline_112$$++){for(var $JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$=
$JSCompiler_inline_result$jscomp$23_JSCompiler_ranges$jscomp$inline_127_JSCompiler_ranges$jscomp$inline_209_JSCompiler_sentences$jscomp$inline_109_highlightInfo$jscomp$1_sens$jscomp$1$$[$JSCompiler_i$jscomp$inline_212_JSCompiler_i$jscomp$inline_224_JSCompiler_idx$jscomp$inline_219_JSCompiler_r$jscomp$inline_130_JSCompiler_senIdx$jscomp$inline_112$$],$JSCompiler_buf$jscomp$inline_203_JSCompiler_newText$jscomp$inline_221_JSCompiler_skipTable$jscomp$inline_114_JSCompiler_start$jscomp$inline_216$$=[],
$JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$=0;$JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$<$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$.length;$JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$++){var $JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$=
$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$[$JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$];$skipCharRe$$module$extensions$amp_viewer_integration$0_1$findtext$$.test($JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$)||
$JSCompiler_buf$jscomp$inline_203_JSCompiler_newText$jscomp$inline_221_JSCompiler_skipTable$jscomp$inline_114_JSCompiler_start$jscomp$inline_216$$.push($canonicalizeChar$$module$extensions$amp_viewer_integration$0_1$findtext$$($JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$))}if($JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$=
$JSCompiler_buf$jscomp$inline_203_JSCompiler_newText$jscomp$inline_221_JSCompiler_skipTable$jscomp$inline_114_JSCompiler_start$jscomp$inline_216$$.join("")){$JSCompiler_buf$jscomp$inline_203_JSCompiler_newText$jscomp$inline_221_JSCompiler_skipTable$jscomp$inline_114_JSCompiler_start$jscomp$inline_216$$={};for($JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$=0;$JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$<
$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$.length;$JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$++)$JSCompiler_buf$jscomp$inline_203_JSCompiler_newText$jscomp$inline_221_JSCompiler_skipTable$jscomp$inline_114_JSCompiler_start$jscomp$inline_216$$[$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$[$JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$]]=
$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$.length-1-$JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$;$JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$=
new $CircularBuffer$$module$extensions$amp_viewer_integration$0_1$findtext$$($JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$.length);$JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$=
-1;for(var $JSCompiler_nextIndex$jscomp$inline_118_JSCompiler_node$jscomp$inline_228$$=$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$.length-1;;){var $JSCompiler_next$jscomp$inline_229_JSCompiler_ok$jscomp$inline_120_JSCompiler_pos$jscomp$inline_119$$=$JSCompiler_marked$jscomp$inline_128_JSCompiler_node$jscomp$inline_108_JSCompiler_ret$jscomp$inline_210_JSCompiler_scanner$jscomp$inline_110$$.next();
if(null==$JSCompiler_next$jscomp$inline_229_JSCompiler_ok$jscomp$inline_120_JSCompiler_pos$jscomp$inline_119$$){$JSCompiler_inline_result$jscomp$23_JSCompiler_ranges$jscomp$inline_127_JSCompiler_ranges$jscomp$inline_209_JSCompiler_sentences$jscomp$inline_109_highlightInfo$jscomp$1_sens$jscomp$1$$=null;break a}if(!($skipCharRe$$module$extensions$amp_viewer_integration$0_1$findtext$$.test($JSCompiler_next$jscomp$inline_229_JSCompiler_ok$jscomp$inline_120_JSCompiler_pos$jscomp$inline_119$$.node.wholeText[$JSCompiler_next$jscomp$inline_229_JSCompiler_ok$jscomp$inline_120_JSCompiler_pos$jscomp$inline_119$$.offset])||
($JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$.add($JSCompiler_next$jscomp$inline_229_JSCompiler_ok$jscomp$inline_120_JSCompiler_pos$jscomp$inline_119$$),$JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$++,$JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$<
$JSCompiler_nextIndex$jscomp$inline_118_JSCompiler_node$jscomp$inline_228$$))){$JSCompiler_next$jscomp$inline_229_JSCompiler_ok$jscomp$inline_120_JSCompiler_pos$jscomp$inline_119$$=!0;for(var $JSCompiler_j$jscomp$inline_121$$=0;$JSCompiler_j$jscomp$inline_121$$<$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$.length;$JSCompiler_j$jscomp$inline_121$$++){var $JSCompiler_pos$jscomp$inline_207_JSCompiler_skip$jscomp$inline_123_c$1$jscomp$inline_122$$=
$JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$.get($JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$.length-$JSCompiler_j$jscomp$inline_121$$-1);$JSCompiler_pos$jscomp$inline_207_JSCompiler_skip$jscomp$inline_123_c$1$jscomp$inline_122$$=
$canonicalizeChar$$module$extensions$amp_viewer_integration$0_1$findtext$$($JSCompiler_pos$jscomp$inline_207_JSCompiler_skip$jscomp$inline_123_c$1$jscomp$inline_122$$.node.wholeText[$JSCompiler_pos$jscomp$inline_207_JSCompiler_skip$jscomp$inline_123_c$1$jscomp$inline_122$$.offset]);if($JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$[$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$.length-
1-$JSCompiler_j$jscomp$inline_121$$]!=$JSCompiler_pos$jscomp$inline_207_JSCompiler_skip$jscomp$inline_123_c$1$jscomp$inline_122$$){$JSCompiler_next$jscomp$inline_229_JSCompiler_ok$jscomp$inline_120_JSCompiler_pos$jscomp$inline_119$$=!1;$JSCompiler_pos$jscomp$inline_207_JSCompiler_skip$jscomp$inline_123_c$1$jscomp$inline_122$$=$JSCompiler_buf$jscomp$inline_203_JSCompiler_newText$jscomp$inline_221_JSCompiler_skipTable$jscomp$inline_114_JSCompiler_start$jscomp$inline_216$$[$JSCompiler_pos$jscomp$inline_207_JSCompiler_skip$jscomp$inline_123_c$1$jscomp$inline_122$$];
null==$JSCompiler_pos$jscomp$inline_207_JSCompiler_skip$jscomp$inline_123_c$1$jscomp$inline_122$$&&($JSCompiler_pos$jscomp$inline_207_JSCompiler_skip$jscomp$inline_123_c$1$jscomp$inline_122$$=$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$.length);$JSCompiler_pos$jscomp$inline_207_JSCompiler_skip$jscomp$inline_123_c$1$jscomp$inline_122$$-=$JSCompiler_j$jscomp$inline_121$$;
1>$JSCompiler_pos$jscomp$inline_207_JSCompiler_skip$jscomp$inline_123_c$1$jscomp$inline_122$$&&($JSCompiler_pos$jscomp$inline_207_JSCompiler_skip$jscomp$inline_123_c$1$jscomp$inline_122$$=1);$JSCompiler_nextIndex$jscomp$inline_118_JSCompiler_node$jscomp$inline_228$$+=$JSCompiler_pos$jscomp$inline_207_JSCompiler_skip$jscomp$inline_123_c$1$jscomp$inline_122$$;break}}if($JSCompiler_next$jscomp$inline_229_JSCompiler_ok$jscomp$inline_120_JSCompiler_pos$jscomp$inline_119$$){$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$=
$JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$.get($JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$.length-1);$JSCompiler_i$jscomp$inline_129_JSCompiler_matches$jscomp$inline_111_JSCompiler_prev$jscomp$inline_211$$.push({start:$JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$.get(0),
end:{node:$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$.node,offset:$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$.offset+1}});break}}}}}$JSCompiler_inline_result$jscomp$23_JSCompiler_ranges$jscomp$inline_127_JSCompiler_ranges$jscomp$inline_209_JSCompiler_sentences$jscomp$inline_109_highlightInfo$jscomp$1_sens$jscomp$1$$=
0<$JSCompiler_i$jscomp$inline_129_JSCompiler_matches$jscomp$inline_111_JSCompiler_prev$jscomp$inline_211$$.length?$JSCompiler_i$jscomp$inline_129_JSCompiler_matches$jscomp$inline_111_JSCompiler_prev$jscomp$inline_211$$:null}if($JSCompiler_inline_result$jscomp$23_JSCompiler_ranges$jscomp$inline_127_JSCompiler_ranges$jscomp$inline_209_JSCompiler_sentences$jscomp$inline_109_highlightInfo$jscomp$1_sens$jscomp$1$$){$JSCompiler_marked$jscomp$inline_128_JSCompiler_node$jscomp$inline_108_JSCompiler_ret$jscomp$inline_210_JSCompiler_scanner$jscomp$inline_110$$=
[];$JSCompiler_i$jscomp$inline_129_JSCompiler_matches$jscomp$inline_111_JSCompiler_prev$jscomp$inline_211$$=null;for($JSCompiler_i$jscomp$inline_212_JSCompiler_i$jscomp$inline_224_JSCompiler_idx$jscomp$inline_219_JSCompiler_r$jscomp$inline_130_JSCompiler_senIdx$jscomp$inline_112$$=0;$JSCompiler_i$jscomp$inline_212_JSCompiler_i$jscomp$inline_224_JSCompiler_idx$jscomp$inline_219_JSCompiler_r$jscomp$inline_130_JSCompiler_senIdx$jscomp$inline_112$$<$JSCompiler_inline_result$jscomp$23_JSCompiler_ranges$jscomp$inline_127_JSCompiler_ranges$jscomp$inline_209_JSCompiler_sentences$jscomp$inline_109_highlightInfo$jscomp$1_sens$jscomp$1$$.length;$JSCompiler_i$jscomp$inline_212_JSCompiler_i$jscomp$inline_224_JSCompiler_idx$jscomp$inline_219_JSCompiler_r$jscomp$inline_130_JSCompiler_senIdx$jscomp$inline_112$$++)$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$=
$JSCompiler_inline_result$jscomp$23_JSCompiler_ranges$jscomp$inline_127_JSCompiler_ranges$jscomp$inline_209_JSCompiler_sentences$jscomp$inline_109_highlightInfo$jscomp$1_sens$jscomp$1$$[$JSCompiler_i$jscomp$inline_212_JSCompiler_i$jscomp$inline_224_JSCompiler_idx$jscomp$inline_219_JSCompiler_r$jscomp$inline_130_JSCompiler_senIdx$jscomp$inline_112$$],$JSCompiler_i$jscomp$inline_129_JSCompiler_matches$jscomp$inline_111_JSCompiler_prev$jscomp$inline_211$$&&$JSCompiler_i$jscomp$inline_129_JSCompiler_matches$jscomp$inline_111_JSCompiler_prev$jscomp$inline_211$$.end.node==
$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$.start.node&&$JSCompiler_i$jscomp$inline_129_JSCompiler_matches$jscomp$inline_111_JSCompiler_prev$jscomp$inline_211$$.end.offset==$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$.start.offset?
$JSCompiler_i$jscomp$inline_129_JSCompiler_matches$jscomp$inline_111_JSCompiler_prev$jscomp$inline_211$$.end=$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$.end:($JSCompiler_i$jscomp$inline_129_JSCompiler_matches$jscomp$inline_111_JSCompiler_prev$jscomp$inline_211$$=$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$,
$JSCompiler_marked$jscomp$inline_128_JSCompiler_node$jscomp$inline_108_JSCompiler_ret$jscomp$inline_210_JSCompiler_scanner$jscomp$inline_110$$.push($JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$));$JSCompiler_inline_result$jscomp$23_JSCompiler_ranges$jscomp$inline_127_JSCompiler_ranges$jscomp$inline_209_JSCompiler_sentences$jscomp$inline_109_highlightInfo$jscomp$1_sens$jscomp$1$$=
$JSCompiler_marked$jscomp$inline_128_JSCompiler_node$jscomp$inline_108_JSCompiler_ret$jscomp$inline_210_JSCompiler_scanner$jscomp$inline_110$$;$JSCompiler_marked$jscomp$inline_128_JSCompiler_node$jscomp$inline_108_JSCompiler_ret$jscomp$inline_210_JSCompiler_scanner$jscomp$inline_110$$=[];for($JSCompiler_i$jscomp$inline_129_JSCompiler_matches$jscomp$inline_111_JSCompiler_prev$jscomp$inline_211$$=0;$JSCompiler_i$jscomp$inline_129_JSCompiler_matches$jscomp$inline_111_JSCompiler_prev$jscomp$inline_211$$<
$JSCompiler_inline_result$jscomp$23_JSCompiler_ranges$jscomp$inline_127_JSCompiler_ranges$jscomp$inline_209_JSCompiler_sentences$jscomp$inline_109_highlightInfo$jscomp$1_sens$jscomp$1$$.length;$JSCompiler_i$jscomp$inline_129_JSCompiler_matches$jscomp$inline_111_JSCompiler_prev$jscomp$inline_211$$++)for($JSCompiler_i$jscomp$inline_212_JSCompiler_i$jscomp$inline_224_JSCompiler_idx$jscomp$inline_219_JSCompiler_r$jscomp$inline_130_JSCompiler_senIdx$jscomp$inline_112$$=$JSCompiler_inline_result$jscomp$23_JSCompiler_ranges$jscomp$inline_127_JSCompiler_ranges$jscomp$inline_209_JSCompiler_sentences$jscomp$inline_109_highlightInfo$jscomp$1_sens$jscomp$1$$[$JSCompiler_i$jscomp$inline_129_JSCompiler_matches$jscomp$inline_111_JSCompiler_prev$jscomp$inline_211$$],
$JSCompiler_buf$jscomp$inline_203_JSCompiler_newText$jscomp$inline_221_JSCompiler_skipTable$jscomp$inline_114_JSCompiler_start$jscomp$inline_216$$=$JSCompiler_i$jscomp$inline_212_JSCompiler_i$jscomp$inline_224_JSCompiler_idx$jscomp$inline_219_JSCompiler_r$jscomp$inline_130_JSCompiler_senIdx$jscomp$inline_112$$.start,$JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$=$JSCompiler_i$jscomp$inline_212_JSCompiler_i$jscomp$inline_224_JSCompiler_idx$jscomp$inline_219_JSCompiler_r$jscomp$inline_130_JSCompiler_senIdx$jscomp$inline_112$$.end,
$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$=$JSCompiler_inline_result$jscomp$23_JSCompiler_ranges$jscomp$inline_127_JSCompiler_ranges$jscomp$inline_209_JSCompiler_sentences$jscomp$inline_109_highlightInfo$jscomp$1_sens$jscomp$1$$,$JSCompiler_i$jscomp$inline_212_JSCompiler_i$jscomp$inline_224_JSCompiler_idx$jscomp$inline_219_JSCompiler_r$jscomp$inline_130_JSCompiler_senIdx$jscomp$inline_112$$=
$JSCompiler_i$jscomp$inline_129_JSCompiler_matches$jscomp$inline_111_JSCompiler_prev$jscomp$inline_211$$;;){if($JSCompiler_buf$jscomp$inline_203_JSCompiler_newText$jscomp$inline_221_JSCompiler_skipTable$jscomp$inline_114_JSCompiler_start$jscomp$inline_216$$.node==$JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$.node){if($JSCompiler_buf$jscomp$inline_203_JSCompiler_newText$jscomp$inline_221_JSCompiler_skipTable$jscomp$inline_114_JSCompiler_start$jscomp$inline_216$$=
$markSingleTextNode$$module$extensions$amp_viewer_integration$0_1$findtext$$($win$jscomp$53$$,$JSCompiler_buf$jscomp$inline_203_JSCompiler_newText$jscomp$inline_221_JSCompiler_skipTable$jscomp$inline_114_JSCompiler_start$jscomp$inline_216$$.node,$JSCompiler_buf$jscomp$inline_203_JSCompiler_newText$jscomp$inline_221_JSCompiler_skipTable$jscomp$inline_114_JSCompiler_start$jscomp$inline_216$$.offset,$JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$.offset,
$JSCompiler_marked$jscomp$inline_128_JSCompiler_node$jscomp$inline_108_JSCompiler_ret$jscomp$inline_210_JSCompiler_scanner$jscomp$inline_110$$))for($JSCompiler_i$jscomp$inline_212_JSCompiler_i$jscomp$inline_224_JSCompiler_idx$jscomp$inline_219_JSCompiler_r$jscomp$inline_130_JSCompiler_senIdx$jscomp$inline_112$$+=1;$JSCompiler_i$jscomp$inline_212_JSCompiler_i$jscomp$inline_224_JSCompiler_idx$jscomp$inline_219_JSCompiler_r$jscomp$inline_130_JSCompiler_senIdx$jscomp$inline_112$$<$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$.length;$JSCompiler_i$jscomp$inline_212_JSCompiler_i$jscomp$inline_224_JSCompiler_idx$jscomp$inline_219_JSCompiler_r$jscomp$inline_130_JSCompiler_senIdx$jscomp$inline_112$$++){$JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$=
$JSCompiler_endPos$jscomp$inline_124_JSCompiler_r$jscomp$inline_213_JSCompiler_ranges$jscomp$inline_218_JSCompiler_ranges$jscomp$inline_223_JSCompiler_s$jscomp$inline_202_JSCompiler_sen$jscomp$inline_113$$[$JSCompiler_i$jscomp$inline_212_JSCompiler_i$jscomp$inline_224_JSCompiler_idx$jscomp$inline_219_JSCompiler_r$jscomp$inline_130_JSCompiler_senIdx$jscomp$inline_112$$];if($JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$.node!=
$JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$.start.node)break;$JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$.start.node=$JSCompiler_buf$jscomp$inline_203_JSCompiler_newText$jscomp$inline_221_JSCompiler_skipTable$jscomp$inline_114_JSCompiler_start$jscomp$inline_216$$;
$JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$.start.offset-=$JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$.offset;if($JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$.node!=
$JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$.end.node)break;$JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$.end.node=$JSCompiler_buf$jscomp$inline_203_JSCompiler_newText$jscomp$inline_221_JSCompiler_skipTable$jscomp$inline_114_JSCompiler_start$jscomp$inline_216$$;
$JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$.end.offset-=$JSCompiler_buf$jscomp$inline_116_JSCompiler_end$jscomp$inline_217_JSCompiler_i$jscomp$inline_115_JSCompiler_i$jscomp$inline_204_JSCompiler_pos$jscomp$inline_222$$.offset}break}a:for($JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$=
!0,$JSCompiler_nextIndex$jscomp$inline_118_JSCompiler_node$jscomp$inline_228$$=$JSCompiler_buf$jscomp$inline_203_JSCompiler_newText$jscomp$inline_221_JSCompiler_skipTable$jscomp$inline_114_JSCompiler_start$jscomp$inline_216$$.node;;){if(null==$JSCompiler_nextIndex$jscomp$inline_118_JSCompiler_node$jscomp$inline_228$$){$JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$=
null;break a}if($JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$)($JSCompiler_next$jscomp$inline_229_JSCompiler_ok$jscomp$inline_120_JSCompiler_pos$jscomp$inline_119$$=$JSCompiler_nextIndex$jscomp$inline_118_JSCompiler_node$jscomp$inline_228$$.nextSibling)?($JSCompiler_nextIndex$jscomp$inline_118_JSCompiler_node$jscomp$inline_228$$=$JSCompiler_next$jscomp$inline_229_JSCompiler_ok$jscomp$inline_120_JSCompiler_pos$jscomp$inline_119$$,
$JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$=!1):$JSCompiler_nextIndex$jscomp$inline_118_JSCompiler_node$jscomp$inline_228$$=$JSCompiler_nextIndex$jscomp$inline_118_JSCompiler_node$jscomp$inline_228$$.parentNode;else{if($JSCompiler_nextIndex$jscomp$inline_118_JSCompiler_node$jscomp$inline_228$$ instanceof $win$jscomp$53$$.Text){$JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$=
$JSCompiler_nextIndex$jscomp$inline_118_JSCompiler_node$jscomp$inline_228$$;break a}$JSCompiler_nextIndex$jscomp$inline_118_JSCompiler_node$jscomp$inline_228$$.firstChild?$JSCompiler_nextIndex$jscomp$inline_118_JSCompiler_node$jscomp$inline_228$$=$JSCompiler_nextIndex$jscomp$inline_118_JSCompiler_node$jscomp$inline_228$$.firstChild:$JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$=
!0}}$markSingleTextNode$$module$extensions$amp_viewer_integration$0_1$findtext$$($win$jscomp$53$$,$JSCompiler_buf$jscomp$inline_203_JSCompiler_newText$jscomp$inline_221_JSCompiler_skipTable$jscomp$inline_114_JSCompiler_start$jscomp$inline_216$$.node,$JSCompiler_buf$jscomp$inline_203_JSCompiler_newText$jscomp$inline_221_JSCompiler_skipTable$jscomp$inline_114_JSCompiler_start$jscomp$inline_216$$.offset,$JSCompiler_buf$jscomp$inline_203_JSCompiler_newText$jscomp$inline_221_JSCompiler_skipTable$jscomp$inline_114_JSCompiler_start$jscomp$inline_216$$.node.wholeText.length,
$JSCompiler_marked$jscomp$inline_128_JSCompiler_node$jscomp$inline_108_JSCompiler_ret$jscomp$inline_210_JSCompiler_scanner$jscomp$inline_110$$);if(!$JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$)break;$JSCompiler_buf$jscomp$inline_203_JSCompiler_newText$jscomp$inline_221_JSCompiler_skipTable$jscomp$inline_114_JSCompiler_start$jscomp$inline_216$$=
{node:$JSCompiler_c$jscomp$inline_205_JSCompiler_index$jscomp$inline_117_JSCompiler_inline_result$jscomp$inline_226_JSCompiler_leaving$jscomp$inline_227_JSCompiler_next$jscomp$inline_230_JSCompiler_r$jscomp$inline_225$$,offset:0}}$JSCompiler_marked$jscomp$inline_128_JSCompiler_node$jscomp$inline_108_JSCompiler_ret$jscomp$inline_210_JSCompiler_scanner$jscomp$inline_110$$&&0!=$JSCompiler_marked$jscomp$inline_128_JSCompiler_node$jscomp$inline_108_JSCompiler_ret$jscomp$inline_210_JSCompiler_scanner$jscomp$inline_110$$.length&&
($JSCompiler_StaticMethods_findHighlightedNodes_$self$$.$highlightedNodes_$=$JSCompiler_marked$jscomp$inline_128_JSCompiler_node$jscomp$inline_108_JSCompiler_ret$jscomp$inline_210_JSCompiler_scanner$jscomp$inline_110$$)}}
function $JSCompiler_StaticMethods_initHighlight_$$($JSCompiler_StaticMethods_initHighlight_$self$$,$highlightInfo$jscomp$2_i$jscomp$24$$){if($JSCompiler_StaticMethods_initHighlight_$self$$.$ampdoc_$.win.document.querySelector('script[id="amp-access"]'))$JSCompiler_StaticMethods_sendHighlightState_$$($JSCompiler_StaticMethods_initHighlight_$self$$,"has_amp_access");else if($JSCompiler_StaticMethods_findHighlightedNodes_$$($JSCompiler_StaticMethods_initHighlight_$self$$,$highlightInfo$jscomp$2_i$jscomp$24$$),
$JSCompiler_StaticMethods_initHighlight_$self$$.$highlightedNodes_$){var $scrollTop$$=$JSCompiler_StaticMethods_calcTopToCenterHighlightedNodes_$$($JSCompiler_StaticMethods_initHighlight_$self$$);$JSCompiler_StaticMethods_sendHighlightState_$$($JSCompiler_StaticMethods_initHighlight_$self$$,"found",$dict$$module$src$utils$object$$({scroll:$scrollTop$$}));if(!$highlightInfo$jscomp$2_i$jscomp$24$$.skipRendering){for($highlightInfo$jscomp$2_i$jscomp$24$$=0;$highlightInfo$jscomp$2_i$jscomp$24$$<$JSCompiler_StaticMethods_initHighlight_$self$$.$highlightedNodes_$.length;$highlightInfo$jscomp$2_i$jscomp$24$$++)$setStyles$$module$src$style$$($JSCompiler_StaticMethods_initHighlight_$self$$.$highlightedNodes_$[$highlightInfo$jscomp$2_i$jscomp$24$$],
{backgroundColor:"#ff9632",color:"#000"});var $visibility$$=$JSCompiler_StaticMethods_initHighlight_$self$$.$viewer_$.getVisibilityState();if("visible"==$visibility$$)$JSCompiler_StaticMethods_animateScrollToTop_$$($JSCompiler_StaticMethods_initHighlight_$self$$,$scrollTop$$);else{$JSCompiler_StaticMethods_initHighlight_$self$$.$viewport_$.setScrollTop(Math.max(0,$scrollTop$$-500));var $called$$=!1;$JSCompiler_StaticMethods_initHighlight_$self$$.$viewer_$.onVisibilityChanged(function(){$called$$||
"visible"!=$JSCompiler_StaticMethods_initHighlight_$self$$.$viewer_$.getVisibilityState()||($JSCompiler_StaticMethods_animateScrollToTop_$$($JSCompiler_StaticMethods_initHighlight_$self$$,$JSCompiler_StaticMethods_calcTopToCenterHighlightedNodes_$$($JSCompiler_StaticMethods_initHighlight_$self$$)),$called$$=!0)})}$listenOnce$$module$src$event_helper$$($JSCompiler_StaticMethods_initHighlight_$self$$.$ampdoc_$.getBody(),"click",$JSCompiler_StaticMethods_initHighlight_$self$$.$dismissHighlight_$.bind($JSCompiler_StaticMethods_initHighlight_$self$$))}}else $JSCompiler_StaticMethods_sendHighlightState_$$($JSCompiler_StaticMethods_initHighlight_$self$$,
"not_found")}
function $JSCompiler_StaticMethods_calcTopToCenterHighlightedNodes_$$($JSCompiler_StaticMethods_calcTopToCenterHighlightedNodes_$self_viewport$jscomp$1$$){var $height$jscomp$27_nodes$jscomp$17_pos$jscomp$5$$=$JSCompiler_StaticMethods_calcTopToCenterHighlightedNodes_$self_viewport$jscomp$1$$.$highlightedNodes_$;if(!$height$jscomp$27_nodes$jscomp$17_pos$jscomp$5$$)return 0;$JSCompiler_StaticMethods_calcTopToCenterHighlightedNodes_$self_viewport$jscomp$1$$=$JSCompiler_StaticMethods_calcTopToCenterHighlightedNodes_$self_viewport$jscomp$1$$.$viewport_$;for(var $minTop$$=
Number.MAX_VALUE,$maxBottom$$=0,$paddingTop$$=$JSCompiler_StaticMethods_calcTopToCenterHighlightedNodes_$self_viewport$jscomp$1$$.getPaddingTop(),$i$jscomp$25$$=0;$i$jscomp$25$$<$height$jscomp$27_nodes$jscomp$17_pos$jscomp$5$$.length;$i$jscomp$25$$++){var $JSCompiler_height$jscomp$inline_236_JSCompiler_rect$jscomp$inline_135_bottom$jscomp$1$$=$JSCompiler_StaticMethods_calcTopToCenterHighlightedNodes_$self_viewport$jscomp$1$$.getLayoutRect($height$jscomp$27_nodes$jscomp$17_pos$jscomp$5$$[$i$jscomp$25$$]),
$JSCompiler_dy$jscomp$inline_136_JSCompiler_top$jscomp$inline_234$$=-$paddingTop$$;if(0==$JSCompiler_dy$jscomp$inline_136_JSCompiler_top$jscomp$inline_234$$||0==$JSCompiler_height$jscomp$inline_236_JSCompiler_rect$jscomp$inline_135_bottom$jscomp$1$$.width&&0==$JSCompiler_height$jscomp$inline_236_JSCompiler_rect$jscomp$inline_135_bottom$jscomp$1$$.height)var $$jscomp$destructuring$var19_JSCompiler_left$jscomp$inline_233_JSCompiler_temp$jscomp$186$$=$JSCompiler_height$jscomp$inline_236_JSCompiler_rect$jscomp$inline_135_bottom$jscomp$1$$;
else{$$jscomp$destructuring$var19_JSCompiler_left$jscomp$inline_233_JSCompiler_temp$jscomp$186$$=$JSCompiler_height$jscomp$inline_236_JSCompiler_rect$jscomp$inline_135_bottom$jscomp$1$$.left+0;$JSCompiler_dy$jscomp$inline_136_JSCompiler_top$jscomp$inline_234$$=$JSCompiler_height$jscomp$inline_236_JSCompiler_rect$jscomp$inline_135_bottom$jscomp$1$$.top+$JSCompiler_dy$jscomp$inline_136_JSCompiler_top$jscomp$inline_234$$;var $JSCompiler_width$jscomp$inline_235$$=$JSCompiler_height$jscomp$inline_236_JSCompiler_rect$jscomp$inline_135_bottom$jscomp$1$$.width;
$JSCompiler_height$jscomp$inline_236_JSCompiler_rect$jscomp$inline_135_bottom$jscomp$1$$=$JSCompiler_height$jscomp$inline_236_JSCompiler_rect$jscomp$inline_135_bottom$jscomp$1$$.height;$$jscomp$destructuring$var19_JSCompiler_left$jscomp$inline_233_JSCompiler_temp$jscomp$186$$={left:$$jscomp$destructuring$var19_JSCompiler_left$jscomp$inline_233_JSCompiler_temp$jscomp$186$$,top:$JSCompiler_dy$jscomp$inline_136_JSCompiler_top$jscomp$inline_234$$,width:$JSCompiler_width$jscomp$inline_235$$,height:$JSCompiler_height$jscomp$inline_236_JSCompiler_rect$jscomp$inline_135_bottom$jscomp$1$$,
bottom:$JSCompiler_dy$jscomp$inline_136_JSCompiler_top$jscomp$inline_234$$+$JSCompiler_height$jscomp$inline_236_JSCompiler_rect$jscomp$inline_135_bottom$jscomp$1$$,right:$$jscomp$destructuring$var19_JSCompiler_left$jscomp$inline_233_JSCompiler_temp$jscomp$186$$+$JSCompiler_width$jscomp$inline_235$$,x:$$jscomp$destructuring$var19_JSCompiler_left$jscomp$inline_233_JSCompiler_temp$jscomp$186$$,y:$JSCompiler_dy$jscomp$inline_136_JSCompiler_top$jscomp$inline_234$$}}$JSCompiler_height$jscomp$inline_236_JSCompiler_rect$jscomp$inline_135_bottom$jscomp$1$$=
$$jscomp$destructuring$var19_JSCompiler_left$jscomp$inline_233_JSCompiler_temp$jscomp$186$$.bottom;$minTop$$=Math.min($minTop$$,$$jscomp$destructuring$var19_JSCompiler_left$jscomp$inline_233_JSCompiler_temp$jscomp$186$$.top);$maxBottom$$=Math.max($maxBottom$$,$JSCompiler_height$jscomp$inline_236_JSCompiler_rect$jscomp$inline_135_bottom$jscomp$1$$)}if($minTop$$>=$maxBottom$$)return 0;$height$jscomp$27_nodes$jscomp$17_pos$jscomp$5$$=$JSCompiler_StaticMethods_calcTopToCenterHighlightedNodes_$self_viewport$jscomp$1$$.getHeight()-
$paddingTop$$;$height$jscomp$27_nodes$jscomp$17_pos$jscomp$5$$=($maxBottom$$+$minTop$$-$height$jscomp$27_nodes$jscomp$17_pos$jscomp$5$$)/2;$height$jscomp$27_nodes$jscomp$17_pos$jscomp$5$$>$minTop$$-80&&($height$jscomp$27_nodes$jscomp$17_pos$jscomp$5$$=$minTop$$-80);return 0<$height$jscomp$27_nodes$jscomp$17_pos$jscomp$5$$?$height$jscomp$27_nodes$jscomp$17_pos$jscomp$5$$:0}
function $JSCompiler_StaticMethods_animateScrollToTop_$$($JSCompiler_StaticMethods_animateScrollToTop_$self$$,$top$jscomp$5$$){$JSCompiler_StaticMethods_animateScrollToTop_$self$$.$viewport_$.setScrollTop(Math.max(0,$top$jscomp$5$$-500));var $sentinel$$=$JSCompiler_StaticMethods_animateScrollToTop_$self$$.$ampdoc_$.win.document.createElement("div");$sentinel$$.style.display="block";$setStyles$$module$src$style$$($sentinel$$,{position:"absolute",top:Math.floor($top$jscomp$5$$)+"px",height:"1px",left:"0",
width:"1px","pointer-events":"none"});var $body$jscomp$1$$=$JSCompiler_StaticMethods_animateScrollToTop_$self$$.$ampdoc_$.getBody();$body$jscomp$1$$.appendChild($sentinel$$);$JSCompiler_StaticMethods_sendHighlightState_$$($JSCompiler_StaticMethods_animateScrollToTop_$self$$,"auto_scroll");$JSCompiler_StaticMethods_animateScrollToTop_$self$$.$viewport_$.animateScrollIntoView($sentinel$$).then(function(){$body$jscomp$1$$.removeChild($sentinel$$);var $JSCompiler_inline_result$jscomp$29_JSCompiler_newTop$jscomp$inline_144$$=
$JSCompiler_StaticMethods_calcTopToCenterHighlightedNodes_$$($JSCompiler_StaticMethods_animateScrollToTop_$self$$);var $JSCompiler_current$jscomp$inline_145$$=$JSCompiler_StaticMethods_animateScrollToTop_$self$$.$viewport_$.getScrollTop();if($JSCompiler_current$jscomp$inline_145$$==$JSCompiler_inline_result$jscomp$29_JSCompiler_newTop$jscomp$inline_144$$&&$JSCompiler_current$jscomp$inline_145$$==$top$jscomp$5$$)$JSCompiler_inline_result$jscomp$29_JSCompiler_newTop$jscomp$inline_144$$=null;else{var $JSCompiler_shownParam$jscomp$inline_146$$=
{};$JSCompiler_current$jscomp$inline_145$$!=$JSCompiler_inline_result$jscomp$29_JSCompiler_newTop$jscomp$inline_144$$&&($JSCompiler_StaticMethods_animateScrollToTop_$self$$.$viewport_$.setScrollTop($JSCompiler_inline_result$jscomp$29_JSCompiler_newTop$jscomp$inline_144$$),$JSCompiler_shownParam$jscomp$inline_146$$.nd=$JSCompiler_current$jscomp$inline_145$$-$JSCompiler_inline_result$jscomp$29_JSCompiler_newTop$jscomp$inline_144$$);$JSCompiler_current$jscomp$inline_145$$!=$top$jscomp$5$$&&($JSCompiler_shownParam$jscomp$inline_146$$.od=
$JSCompiler_current$jscomp$inline_145$$-$top$jscomp$5$$);$JSCompiler_inline_result$jscomp$29_JSCompiler_newTop$jscomp$inline_144$$=$JSCompiler_shownParam$jscomp$inline_146$$}$JSCompiler_StaticMethods_sendHighlightState_$$($JSCompiler_StaticMethods_animateScrollToTop_$self$$,"shown",$JSCompiler_inline_result$jscomp$29_JSCompiler_newTop$jscomp$inline_144$$)})}
$HighlightHandler$$module$extensions$amp_viewer_integration$0_1$highlight_handler$$.prototype.setupMessaging=function($messaging$jscomp$1$$){$messaging$jscomp$1$$.registerHandler("highlightDismiss",this.$dismissHighlight_$.bind(this))};
$HighlightHandler$$module$extensions$amp_viewer_integration$0_1$highlight_handler$$.prototype.$dismissHighlight_$=function(){if(this.$highlightedNodes_$)for(var $i$jscomp$26$$=0;$i$jscomp$26$$<this.$highlightedNodes_$.length;$i$jscomp$26$$++)for(var $JSCompiler_element$jscomp$inline_148$$=this.$highlightedNodes_$[$i$jscomp$26$$],$JSCompiler_properties$jscomp$inline_149$$=["backgroundColor","color"],$JSCompiler_i$jscomp$inline_150$$=0;$JSCompiler_i$jscomp$inline_150$$<$JSCompiler_properties$jscomp$inline_149$$.length;$JSCompiler_i$jscomp$inline_150$$++)$setStyle$$module$src$style$$($JSCompiler_element$jscomp$inline_148$$,
$JSCompiler_properties$jscomp$inline_149$$[$JSCompiler_i$jscomp$inline_150$$],null)};var $eventProperties$$module$extensions$amp_viewer_integration$0_1$keyboard_handler$$="key code location ctrlKey shiftKey altKey metaKey repeat isComposing charCode keyCode which".split(" ");
function $KeyboardHandler$$module$extensions$amp_viewer_integration$0_1$keyboard_handler$$($JSCompiler_handleEvent$jscomp$inline_153_win$jscomp$54$$,$messaging$jscomp$2$$){this.win=$JSCompiler_handleEvent$jscomp$inline_153_win$jscomp$54$$;this.$messaging_$=$messaging$jscomp$2$$;$JSCompiler_handleEvent$jscomp$inline_153_win$jscomp$54$$=this.$handleEvent_$.bind(this);$internalListenImplementation$$module$src$event_helper_listen$$(this.win,"keydown",$JSCompiler_handleEvent$jscomp$inline_153_win$jscomp$54$$,
void 0);$internalListenImplementation$$module$src$event_helper_listen$$(this.win,"keypress",$JSCompiler_handleEvent$jscomp$inline_153_win$jscomp$54$$,void 0);$internalListenImplementation$$module$src$event_helper_listen$$(this.win,"keyup",$JSCompiler_handleEvent$jscomp$inline_153_win$jscomp$54$$,void 0)}
$KeyboardHandler$$module$extensions$amp_viewer_integration$0_1$keyboard_handler$$.prototype.$handleEvent_$=function($e$jscomp$19$$){$isHandledByEventTarget$$module$extensions$amp_viewer_integration$0_1$keyboard_handler$$($e$jscomp$19$$)||this.$forwardEventToViewer_$($e$jscomp$19$$)};
$KeyboardHandler$$module$extensions$amp_viewer_integration$0_1$keyboard_handler$$.prototype.$forwardEventToViewer_$=function($e$jscomp$20$$){this.$messaging_$.sendRequest($e$jscomp$20$$.type,$getKeyboardEventInit$$module$extensions$amp_viewer_integration$0_1$keyboard_handler$$($e$jscomp$20$$),!1)};
function $isHandledByEventTarget$$module$extensions$amp_viewer_integration$0_1$keyboard_handler$$($e$jscomp$21$$){if($e$jscomp$21$$.defaultPrevented)return!0;if("Escape"==$e$jscomp$21$$.key)return!1;switch($e$jscomp$21$$.target.nodeName){case "INPUT":return"checkbox"!=$e$jscomp$21$$.target.type||" "==$e$jscomp$21$$.key;case "TEXTAREA":case "BUTTON":case "SELECT":case "OPTION":return!0}return $e$jscomp$21$$.target.hasAttribute&&$e$jscomp$21$$.target.hasAttribute("contenteditable")}
function $getKeyboardEventInit$$module$extensions$amp_viewer_integration$0_1$keyboard_handler$$($e$jscomp$22$$){var $copiedEvent$$={};$eventProperties$$module$extensions$amp_viewer_integration$0_1$keyboard_handler$$.forEach(function($eventProperty$$){void 0!==$e$jscomp$22$$[$eventProperty$$]&&($copiedEvent$$[$eventProperty$$]=$e$jscomp$22$$[$eventProperty$$])});return $copiedEvent$$};function $parseMessage$$module$extensions$amp_viewer_integration$0_1$messaging$messaging$$($message$jscomp$30$$){if("string"!=typeof $message$jscomp$30$$)return $message$jscomp$30$$;if("{"!=$message$jscomp$30$$.charAt(0))return null;try{return JSON.parse($message$jscomp$30$$)}catch($e$jscomp$23$$){return null}}
function $WindowPortEmulator$$module$extensions$amp_viewer_integration$0_1$messaging$messaging$$($win$jscomp$55$$,$origin$jscomp$1$$,$target$jscomp$86$$){this.win=$win$jscomp$55$$;this.$origin_$=$origin$jscomp$1$$;this.$target_$=$target$jscomp$86$$}
$WindowPortEmulator$$module$extensions$amp_viewer_integration$0_1$messaging$messaging$$.prototype.addEventListener=function($eventType$jscomp$7$$,$handler$jscomp$4$$){var $$jscomp$this$jscomp$5$$=this;this.win.addEventListener("message",function($eventType$jscomp$7$$){$eventType$jscomp$7$$.origin==$$jscomp$this$jscomp$5$$.$origin_$&&$eventType$jscomp$7$$.source==$$jscomp$this$jscomp$5$$.$target_$&&"__AMPHTML__"==$eventType$jscomp$7$$.data.app&&$handler$jscomp$4$$($eventType$jscomp$7$$)})};
$WindowPortEmulator$$module$extensions$amp_viewer_integration$0_1$messaging$messaging$$.prototype.postMessage=function($data$jscomp$57$$){this.$target_$.postMessage($data$jscomp$57$$,this.$origin_$)};$WindowPortEmulator$$module$extensions$amp_viewer_integration$0_1$messaging$messaging$$.prototype.start=function(){};
function $Messaging$$module$extensions$amp_viewer_integration$0_1$messaging$messaging$$($win$jscomp$56$$,$port$$,$opt_isWebview$$,$opt_token$$){this.win=$win$jscomp$56$$;this.$port_$=$port$$;this.$isWebview_$=!!$opt_isWebview$$;this.$token_$=$opt_token$$;this.$requestIdCounter_$=0;this.$waitingForResponse_$={};this.$messageHandlers_$={};this.$defaultHandler_$=null;this.$port_$.addEventListener("message",this.$handleMessage_$.bind(this));this.$port_$.start()}
$Messaging$$module$extensions$amp_viewer_integration$0_1$messaging$messaging$$.prototype.registerHandler=function($messageName$$,$requestHandler$$){this.$messageHandlers_$[$messageName$$]=$requestHandler$$};$Messaging$$module$extensions$amp_viewer_integration$0_1$messaging$messaging$$.prototype.unregisterHandler=function($messageName$jscomp$1$$){delete this.$messageHandlers_$[$messageName$jscomp$1$$]};
$Messaging$$module$extensions$amp_viewer_integration$0_1$messaging$messaging$$.prototype.setDefaultHandler=function($requestHandler$jscomp$1$$){this.$defaultHandler_$=$requestHandler$jscomp$1$$};
$Messaging$$module$extensions$amp_viewer_integration$0_1$messaging$messaging$$.prototype.$handleMessage_$=function($event$jscomp$9_message$jscomp$31$$){if($event$jscomp$9_message$jscomp$31$$=$parseMessage$$module$extensions$amp_viewer_integration$0_1$messaging$messaging$$($event$jscomp$9_message$jscomp$31$$.data))if("q"==$event$jscomp$9_message$jscomp$31$$.type)$JSCompiler_StaticMethods_handleRequest_$$(this,$event$jscomp$9_message$jscomp$31$$);else if("s"==$event$jscomp$9_message$jscomp$31$$.type){var $JSCompiler_requestId$jscomp$inline_157$$=
$event$jscomp$9_message$jscomp$31$$.requestid,$JSCompiler_pending$jscomp$inline_158$$=this.$waitingForResponse_$[$JSCompiler_requestId$jscomp$inline_157$$];$JSCompiler_pending$jscomp$inline_158$$&&(delete this.$waitingForResponse_$[$JSCompiler_requestId$jscomp$inline_157$$],$event$jscomp$9_message$jscomp$31$$.error?($JSCompiler_StaticMethods_logError_$$(this,"amp-viewer-messaging: handleResponse_ error: ",$event$jscomp$9_message$jscomp$31$$.error),$JSCompiler_pending$jscomp$inline_158$$.reject(Error("Request "+
$event$jscomp$9_message$jscomp$31$$.name+" failed: "+$event$jscomp$9_message$jscomp$31$$.error))):$JSCompiler_pending$jscomp$inline_158$$.resolve($event$jscomp$9_message$jscomp$31$$.data))}};
$Messaging$$module$extensions$amp_viewer_integration$0_1$messaging$messaging$$.prototype.sendRequest=function($messageName$jscomp$2$$,$messageData$$,$awaitResponse$$){var $$jscomp$this$jscomp$6$$=this,$requestId$$=++this.$requestIdCounter_$,$promise$jscomp$2$$=void 0;$awaitResponse$$&&($promise$jscomp$2$$=new Promise(function($messageName$jscomp$2$$,$messageData$$){$$jscomp$this$jscomp$6$$.$waitingForResponse_$[$requestId$$]={resolve:$messageName$jscomp$2$$,reject:$messageData$$}}));$JSCompiler_StaticMethods_sendMessage_$$(this,
{app:"__AMPHTML__",requestid:$requestId$$,type:"q",name:$messageName$jscomp$2$$,data:$messageData$$,rsvp:$awaitResponse$$});return $promise$jscomp$2$$};
function $JSCompiler_StaticMethods_sendResponseError_$$($JSCompiler_StaticMethods_sendResponseError_$self$$,$requestId$jscomp$2$$,$messageName$jscomp$4$$,$reason$jscomp$7$$){var $errString$$=$reason$jscomp$7$$?$reason$jscomp$7$$.message?$reason$jscomp$7$$.message:String($reason$jscomp$7$$):"unknown error";$JSCompiler_StaticMethods_logError_$$($JSCompiler_StaticMethods_sendResponseError_$self$$,"amp-viewer-messaging: sendResponseError_, Message name: "+$messageName$jscomp$4$$,$errString$$);$JSCompiler_StaticMethods_sendMessage_$$($JSCompiler_StaticMethods_sendResponseError_$self$$,
{app:"__AMPHTML__",requestid:$requestId$jscomp$2$$,type:"s",name:$messageName$jscomp$4$$,data:null,error:$errString$$})}
function $JSCompiler_StaticMethods_sendMessage_$$($JSCompiler_StaticMethods_sendMessage_$self$$,$message$jscomp$32$$){var $finalMessage$$=Object.assign($message$jscomp$32$$,{});$JSCompiler_StaticMethods_sendMessage_$self$$.$token_$&&($finalMessage$$.messagingToken=$JSCompiler_StaticMethods_sendMessage_$self$$.$token_$);$JSCompiler_StaticMethods_sendMessage_$self$$.$port_$.postMessage($JSCompiler_StaticMethods_sendMessage_$self$$.$isWebview_$?JSON.stringify($finalMessage$$):$finalMessage$$)}
function $JSCompiler_StaticMethods_handleRequest_$$($JSCompiler_StaticMethods_handleRequest_$self$$,$message$jscomp$33$$){var $error$jscomp$14_handler$jscomp$5_promise$jscomp$3$$=$JSCompiler_StaticMethods_handleRequest_$self$$.$messageHandlers_$[$message$jscomp$33$$.name];$error$jscomp$14_handler$jscomp$5_promise$jscomp$3$$||($error$jscomp$14_handler$jscomp$5_promise$jscomp$3$$=$JSCompiler_StaticMethods_handleRequest_$self$$.$defaultHandler_$);if(!$error$jscomp$14_handler$jscomp$5_promise$jscomp$3$$)throw $error$jscomp$14_handler$jscomp$5_promise$jscomp$3$$=
Error("Cannot handle request because handshake is not yet confirmed!"),$error$jscomp$14_handler$jscomp$5_promise$jscomp$3$$.args=$message$jscomp$33$$.name,$error$jscomp$14_handler$jscomp$5_promise$jscomp$3$$;$error$jscomp$14_handler$jscomp$5_promise$jscomp$3$$=$error$jscomp$14_handler$jscomp$5_promise$jscomp$3$$($message$jscomp$33$$.name,$message$jscomp$33$$.data,!!$message$jscomp$33$$.rsvp);if($message$jscomp$33$$.rsvp){var $requestId$jscomp$3$$=$message$jscomp$33$$.requestid;if(!$error$jscomp$14_handler$jscomp$5_promise$jscomp$3$$)throw $JSCompiler_StaticMethods_sendResponseError_$$($JSCompiler_StaticMethods_handleRequest_$self$$,
$requestId$jscomp$3$$,$message$jscomp$33$$.name,Error("no response")),Error("expected response but none given: "+$message$jscomp$33$$.name);$error$jscomp$14_handler$jscomp$5_promise$jscomp$3$$.then(function($error$jscomp$14_handler$jscomp$5_promise$jscomp$3$$){$JSCompiler_StaticMethods_sendMessage_$$($JSCompiler_StaticMethods_handleRequest_$self$$,{app:"__AMPHTML__",requestid:$requestId$jscomp$3$$,type:"s",name:$message$jscomp$33$$.name,data:$error$jscomp$14_handler$jscomp$5_promise$jscomp$3$$})},
function($error$jscomp$14_handler$jscomp$5_promise$jscomp$3$$){$JSCompiler_StaticMethods_sendResponseError_$$($JSCompiler_StaticMethods_handleRequest_$self$$,$requestId$jscomp$3$$,$message$jscomp$33$$.name,$error$jscomp$14_handler$jscomp$5_promise$jscomp$3$$)})}}
function $JSCompiler_StaticMethods_logError_$$($JSCompiler_StaticMethods_logError_$self$$,$state$jscomp$1$$,$opt_data$jscomp$3$$){var $stateStr$$="amp-messaging-error-logger: "+$state$jscomp$1$$,$dataStr$$=" data: "+($opt_data$jscomp$3$$?$opt_data$jscomp$3$$.message?$opt_data$jscomp$3$$.message:String($opt_data$jscomp$3$$):"unknown error");$stateStr$$+=$dataStr$$;$JSCompiler_StaticMethods_logError_$self$$.win.viewerState=$stateStr$$};var $EVENT_PROPERTIES$$module$extensions$amp_viewer_integration$0_1$touch_handler$$="altKey charCode ctrlKey detail eventPhase key layerX layerY metaKey pageX pageY returnValue shiftKey timeStamp type which".split(" "),$TOUCH_PROPERTIES$$module$extensions$amp_viewer_integration$0_1$touch_handler$$="clientX clientY force identifier pageX pageY radiusX radiusY screenX screenY".split(" ");
function $TouchHandler$$module$extensions$amp_viewer_integration$0_1$touch_handler$$($win$jscomp$57$$,$messaging$jscomp$3$$){this.win=$win$jscomp$57$$;this.$messaging_$=$messaging$jscomp$3$$;this.$scrollLocked_$=!1;this.$unlistenHandlers_$=[];$messaging$jscomp$3$$.registerHandler("scrollLock",this.$scrollLockHandler_$.bind(this));$JSCompiler_StaticMethods_listenForTouchEvents_$$(this)}
function $JSCompiler_StaticMethods_listenForTouchEvents_$$($JSCompiler_StaticMethods_listenForTouchEvents_$self$$){var $handleEvent$jscomp$1$$=$JSCompiler_StaticMethods_listenForTouchEvents_$self$$.$handleEvent_$.bind($JSCompiler_StaticMethods_listenForTouchEvents_$self$$),$doc$jscomp$16$$=$JSCompiler_StaticMethods_listenForTouchEvents_$self$$.win.document,$options$jscomp$15$$={capture:!1,passive:!$JSCompiler_StaticMethods_listenForTouchEvents_$self$$.$scrollLocked_$};$JSCompiler_StaticMethods_listenForTouchEvents_$self$$.$unlistenHandlers_$.push($internalListenImplementation$$module$src$event_helper_listen$$($doc$jscomp$16$$,
"touchstart",$handleEvent$jscomp$1$$,$options$jscomp$15$$),$internalListenImplementation$$module$src$event_helper_listen$$($doc$jscomp$16$$,"touchend",$handleEvent$jscomp$1$$,$options$jscomp$15$$),$internalListenImplementation$$module$src$event_helper_listen$$($doc$jscomp$16$$,"touchmove",$handleEvent$jscomp$1$$,$options$jscomp$15$$))}
function $JSCompiler_StaticMethods_unlisten_$$($JSCompiler_StaticMethods_unlisten_$self$$){$JSCompiler_StaticMethods_unlisten_$self$$.$unlistenHandlers_$.forEach(function($JSCompiler_StaticMethods_unlisten_$self$$){return $JSCompiler_StaticMethods_unlisten_$self$$()});$JSCompiler_StaticMethods_unlisten_$self$$.$unlistenHandlers_$.length=0}
$TouchHandler$$module$extensions$amp_viewer_integration$0_1$touch_handler$$.prototype.$handleEvent_$=function($e$jscomp$25$$){switch($e$jscomp$25$$.type){case "touchstart":case "touchend":case "touchmove":if($e$jscomp$25$$&&$e$jscomp$25$$.type){var $JSCompiler_copiedEvent$jscomp$inline_242$$=$JSCompiler_StaticMethods_copyProperties_$$($e$jscomp$25$$,$EVENT_PROPERTIES$$module$extensions$amp_viewer_integration$0_1$touch_handler$$);$e$jscomp$25$$.touches&&($JSCompiler_copiedEvent$jscomp$inline_242$$.touches=
$JSCompiler_StaticMethods_copyTouches_$$($e$jscomp$25$$.touches));$e$jscomp$25$$.changedTouches&&($JSCompiler_copiedEvent$jscomp$inline_242$$.changedTouches=$JSCompiler_StaticMethods_copyTouches_$$($e$jscomp$25$$.changedTouches));this.$messaging_$.sendRequest($e$jscomp$25$$.type,$JSCompiler_copiedEvent$jscomp$inline_242$$,!1)}this.$scrollLocked_$&&$e$jscomp$25$$.preventDefault()}};
function $JSCompiler_StaticMethods_copyTouches_$$($touchList$$){for(var $copiedTouches$$=[],$i$jscomp$27$$=0;$i$jscomp$27$$<$touchList$$.length;$i$jscomp$27$$++)$copiedTouches$$.push($JSCompiler_StaticMethods_copyProperties_$$($touchList$$[$i$jscomp$27$$],$TOUCH_PROPERTIES$$module$extensions$amp_viewer_integration$0_1$touch_handler$$));return $copiedTouches$$}
function $JSCompiler_StaticMethods_copyProperties_$$($o$jscomp$1$$,$properties$jscomp$1$$){for(var $copy$jscomp$1$$={},$i$jscomp$28$$=0;$i$jscomp$28$$<$properties$jscomp$1$$.length;$i$jscomp$28$$++){var $p$$=$properties$jscomp$1$$[$i$jscomp$28$$];void 0!==$o$jscomp$1$$[$p$$]&&($copy$jscomp$1$$[$p$$]=$o$jscomp$1$$[$p$$])}return $copy$jscomp$1$$}
$TouchHandler$$module$extensions$amp_viewer_integration$0_1$touch_handler$$.prototype.$scrollLockHandler_$=function($type$jscomp$135$$,$payload$jscomp$1$$,$awaitResponse$jscomp$1$$){this.$scrollLocked_$=!!$payload$jscomp$1$$;$JSCompiler_StaticMethods_unlisten_$$(this);$JSCompiler_StaticMethods_listenForTouchEvents_$$(this);return $awaitResponse$jscomp$1$$?Promise.resolve({}):void 0};function $AmpViewerIntegration$$module$extensions$amp_viewer_integration$0_1$amp_viewer_integration$$($win$jscomp$58$$){var $$jscomp$this$jscomp$8$$=this;this.win=$win$jscomp$58$$;this.$isHandShakePoll_$=this.$isWebView_$=!1;this.$highlightHandler_$=null;this.$variableService_$=new $AmpViewerIntegrationVariableService$$module$extensions$amp_viewer_integration$0_1$variable_service$$($getAmpdoc$$module$src$service$$(this.win.document));$registerServiceBuilder$$module$src$service$$(this.win,function(){return $$jscomp$this$jscomp$8$$.$variableService_$.get()})}
$AmpViewerIntegration$$module$extensions$amp_viewer_integration$0_1$amp_viewer_integration$$.prototype.init=function(){var $$jscomp$this$jscomp$9$$=this,$ampdoc$jscomp$13$$=$getAmpdoc$$module$src$service$$(this.win.document),$viewer$$=$getServiceForDoc$$module$src$service$$($ampdoc$jscomp$13$$,"viewer");this.$isWebView_$="1"==$viewer$$.getParam("webview");this.$isHandShakePoll_$=$viewer$$.hasCapability("handshakepoll");var $messagingToken$$=$viewer$$.getParam("messagingToken"),$origin$jscomp$2$$=
$viewer$$.getParam("origin")||"";if(!this.$isWebView_$&&!$origin$jscomp$2$$)return Promise.resolve();if(this.$isWebView_$||this.$isHandShakePoll_$){var $highlightInfo$jscomp$3_port$jscomp$1_source$jscomp$13$$=$isIframed$$module$src$dom$$(this.win)?this.win.parent:null;return $JSCompiler_StaticMethods_webviewPreHandshakePromise_$$(this,$highlightInfo$jscomp$3_port$jscomp$1_source$jscomp$13$$,$origin$jscomp$2$$).then(function($highlightInfo$jscomp$3_port$jscomp$1_source$jscomp$13$$){return $JSCompiler_StaticMethods_openChannelAndStart_$$($$jscomp$this$jscomp$9$$,
$viewer$$,$ampdoc$jscomp$13$$,$origin$jscomp$2$$,new $Messaging$$module$extensions$amp_viewer_integration$0_1$messaging$messaging$$($$jscomp$this$jscomp$9$$.win,$highlightInfo$jscomp$3_port$jscomp$1_source$jscomp$13$$,$$jscomp$this$jscomp$9$$.$isWebView_$,$messagingToken$$))})}if($highlightInfo$jscomp$3_port$jscomp$1_source$jscomp$13$$=$getHighlightParam$$module$extensions$amp_viewer_integration$0_1$highlight_handler$$($ampdoc$jscomp$13$$))this.$highlightHandler_$=new $HighlightHandler$$module$extensions$amp_viewer_integration$0_1$highlight_handler$$($ampdoc$jscomp$13$$,
$highlightInfo$jscomp$3_port$jscomp$1_source$jscomp$13$$);$highlightInfo$jscomp$3_port$jscomp$1_source$jscomp$13$$=new $WindowPortEmulator$$module$extensions$amp_viewer_integration$0_1$messaging$messaging$$(this.win,$origin$jscomp$2$$,this.win.parent);return $JSCompiler_StaticMethods_openChannelAndStart_$$(this,$viewer$$,$ampdoc$jscomp$13$$,$origin$jscomp$2$$,new $Messaging$$module$extensions$amp_viewer_integration$0_1$messaging$messaging$$(this.win,$highlightInfo$jscomp$3_port$jscomp$1_source$jscomp$13$$,
this.$isWebView_$,$messagingToken$$))};
function $JSCompiler_StaticMethods_webviewPreHandshakePromise_$$($JSCompiler_StaticMethods_webviewPreHandshakePromise_$self$$,$source$jscomp$14$$,$origin$jscomp$3$$){return new Promise(function($resolve$jscomp$13$$){var $unlisten$jscomp$3$$=$listen$$module$src$event_helper$$($JSCompiler_StaticMethods_webviewPreHandshakePromise_$self$$.win,"message",function($e$jscomp$28_port$jscomp$2$$){var $data$jscomp$59$$=$parseMessage$$module$extensions$amp_viewer_integration$0_1$messaging$messaging$$($e$jscomp$28_port$jscomp$2$$.data);if($data$jscomp$59$$&&
$e$jscomp$28_port$jscomp$2$$.origin===$origin$jscomp$3$$&&$e$jscomp$28_port$jscomp$2$$.source===$source$jscomp$14$$&&"__AMPHTML__"==$data$jscomp$59$$.app&&"handshake-poll"==$data$jscomp$59$$.name){if($JSCompiler_StaticMethods_webviewPreHandshakePromise_$self$$.$isWebView_$&&(!$e$jscomp$28_port$jscomp$2$$.ports||!$e$jscomp$28_port$jscomp$2$$.ports.length))throw Error("Did not receive communication port from the Viewer!");$e$jscomp$28_port$jscomp$2$$=$e$jscomp$28_port$jscomp$2$$.ports&&0<$e$jscomp$28_port$jscomp$2$$.ports.length?
$e$jscomp$28_port$jscomp$2$$.ports[0]:new $WindowPortEmulator$$module$extensions$amp_viewer_integration$0_1$messaging$messaging$$($JSCompiler_StaticMethods_webviewPreHandshakePromise_$self$$.win,$origin$jscomp$3$$,$JSCompiler_StaticMethods_webviewPreHandshakePromise_$self$$.win.parent);$resolve$jscomp$13$$($e$jscomp$28_port$jscomp$2$$);$unlisten$jscomp$3$$()}})})}
function $JSCompiler_StaticMethods_openChannelAndStart_$$($JSCompiler_StaticMethods_openChannelAndStart_$self$$,$viewer$jscomp$1$$,$ampdoc$jscomp$14$$,$origin$jscomp$4$$,$messaging$jscomp$4$$){var $ampdocUrl$$=$ampdoc$jscomp$14$$.getUrl(),$srcUrl$$=$getSourceUrl$$module$src$url$$($ampdocUrl$$);return $messaging$jscomp$4$$.sendRequest("channelOpen",$dict$$module$src$utils$object$$({url:$ampdocUrl$$,sourceUrl:$srcUrl$$}),!0).then(function(){$JSCompiler_StaticMethods_setup_$$($JSCompiler_StaticMethods_openChannelAndStart_$self$$,
$messaging$jscomp$4$$,$viewer$jscomp$1$$,$origin$jscomp$4$$)})}
function $JSCompiler_StaticMethods_setup_$$($JSCompiler_StaticMethods_setup_$self$$,$messaging$jscomp$5$$,$viewer$jscomp$2$$,$origin$jscomp$5$$){$messaging$jscomp$5$$.setDefaultHandler(function($JSCompiler_StaticMethods_setup_$self$$,$messaging$jscomp$5$$,$origin$jscomp$5$$){return $viewer$jscomp$2$$.receiveMessage($JSCompiler_StaticMethods_setup_$self$$,$messaging$jscomp$5$$,$origin$jscomp$5$$)});$viewer$jscomp$2$$.setMessageDeliverer($messaging$jscomp$5$$.sendRequest.bind($messaging$jscomp$5$$),$origin$jscomp$5$$);
$listenOnce$$module$src$event_helper$$($JSCompiler_StaticMethods_setup_$self$$.win,"unload",$JSCompiler_StaticMethods_setup_$self$$.$handleUnload_$.bind($JSCompiler_StaticMethods_setup_$self$$,$messaging$jscomp$5$$));$viewer$jscomp$2$$.hasCapability("swipe")&&new $TouchHandler$$module$extensions$amp_viewer_integration$0_1$touch_handler$$($JSCompiler_StaticMethods_setup_$self$$.win,$messaging$jscomp$5$$);$viewer$jscomp$2$$.hasCapability("keyboard")&&new $KeyboardHandler$$module$extensions$amp_viewer_integration$0_1$keyboard_handler$$($JSCompiler_StaticMethods_setup_$self$$.win,
$messaging$jscomp$5$$);$viewer$jscomp$2$$.hasCapability("focus-rect")&&new $FocusHandler$$module$extensions$amp_viewer_integration$0_1$focus_handler$$($JSCompiler_StaticMethods_setup_$self$$.win,$messaging$jscomp$5$$);null!=$JSCompiler_StaticMethods_setup_$self$$.$highlightHandler_$&&$JSCompiler_StaticMethods_setup_$self$$.$highlightHandler_$.setupMessaging($messaging$jscomp$5$$)}
$AmpViewerIntegration$$module$extensions$amp_viewer_integration$0_1$amp_viewer_integration$$.prototype.$handleUnload_$=function($messaging$jscomp$6$$){return $messaging$jscomp$6$$.sendRequest("unloaded",{},!0)};(function($AMP$jscomp$1$$){(new $AmpViewerIntegration$$module$extensions$amp_viewer_integration$0_1$amp_viewer_integration$$($AMP$jscomp$1$$.win)).init()})(self.AMP);
})});

//# sourceMappingURL=amp-viewer-integration-0.1.js.map
