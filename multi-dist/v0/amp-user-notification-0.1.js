(self.AMP=self.AMP||[]).push({n:"amp-user-notification",v:"1904281823091",f:(function(AMP,_){
var $JSCompiler_prototypeAlias$$,$$jscomp$objectCreate$$="function"==typeof Object.create?Object.create:function($prototype$$){function $ctor$$(){}$ctor$$.prototype=$prototype$$;return new $ctor$$},$JSCompiler_temp$jscomp$9$$;
if("function"==typeof Object.setPrototypeOf)$JSCompiler_temp$jscomp$9$$=Object.setPrototypeOf;else{var $JSCompiler_inline_result$jscomp$10$$;a:{var $JSCompiler_x$jscomp$inline_18$$={a:!0},$JSCompiler_y$jscomp$inline_19$$={};try{$JSCompiler_y$jscomp$inline_19$$.__proto__=$JSCompiler_x$jscomp$inline_18$$;$JSCompiler_inline_result$jscomp$10$$=$JSCompiler_y$jscomp$inline_19$$.a;break a}catch($JSCompiler_e$jscomp$inline_20$$){}$JSCompiler_inline_result$jscomp$10$$=!1}$JSCompiler_temp$jscomp$9$$=$JSCompiler_inline_result$jscomp$10$$?
function($target$jscomp$83$$,$proto$jscomp$3$$){$target$jscomp$83$$.__proto__=$proto$jscomp$3$$;if($target$jscomp$83$$.__proto__!==$proto$jscomp$3$$)throw new TypeError($target$jscomp$83$$+" is not extensible");return $target$jscomp$83$$}:null}var $$jscomp$setPrototypeOf$$=$JSCompiler_temp$jscomp$9$$;function $Deferred$$module$src$utils$promise$$(){var $resolve$$,$reject$$;this.promise=new Promise(function($res$$,$rej$$){$resolve$$=$res$$;$reject$$=$rej$$});this.resolve=$resolve$$;this.reject=$reject$$};function $NotificationUiManager$$module$src$service$notification_ui_manager$$(){this.$queueSize_$=0;this.$queuePromise_$=Promise.resolve();this.$queueEmptyHandler_$=function(){};this.$queueNotEmptyHandler_$=function(){}}$NotificationUiManager$$module$src$service$notification_ui_manager$$.prototype.onQueueEmpty=function($handler$jscomp$4$$){this.$queueEmptyHandler_$=$handler$jscomp$4$$;0==this.$queueSize_$&&$handler$jscomp$4$$()};
$NotificationUiManager$$module$src$service$notification_ui_manager$$.prototype.onQueueNotEmpty=function($handler$jscomp$5$$){this.$queueNotEmptyHandler_$=$handler$jscomp$5$$;0<this.$queueSize_$&&$handler$jscomp$5$$()};
$NotificationUiManager$$module$src$service$notification_ui_manager$$.prototype.registerUI=function($show$$){var $$jscomp$this$jscomp$1$$=this;0==this.$queueSize_$&&this.$queueNotEmptyHandler_$();this.$queueSize_$++;var $promise$jscomp$1$$=this.$queuePromise_$.then(function(){return $show$$().then(function(){$$jscomp$this$jscomp$1$$.$queueSize_$--;0==$$jscomp$this$jscomp$1$$.$queueSize_$&&$$jscomp$this$jscomp$1$$.$queueEmptyHandler_$()})});return this.$queuePromise_$=$promise$jscomp$1$$};function $tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($component$jscomp$4$$,$fallback$$){$fallback$$=void 0===$fallback$$?"":$fallback$$;try{return decodeURIComponent($component$jscomp$4$$)}catch($e$jscomp$8$$){return $fallback$$}};var $regex$$module$src$url_parse_query_string$$=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;
function $parseQueryString_$$module$src$url_parse_query_string$$($queryString$$){var $params$jscomp$1$$=Object.create(null);if(!$queryString$$)return $params$jscomp$1$$;for(var $match$$;$match$$=$regex$$module$src$url_parse_query_string$$.exec($queryString$$);){var $name$jscomp$70$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[1],$match$$[1]),$value$jscomp$87$$=$match$$[2]?$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[2],$match$$[2]):"";
$params$jscomp$1$$[$name$jscomp$70$$]=$value$jscomp$87$$}return $params$jscomp$1$$};var $rtvVersion$$module$src$mode$$="";function $createErrorVargs$$module$src$log$$($var_args$jscomp$53$$){for(var $JSCompiler_prop$jscomp$inline_26_error$jscomp$10$$=null,$message$jscomp$28$$="",$i$jscomp$6$$=0;$i$jscomp$6$$<arguments.length;$i$jscomp$6$$++){var $arg$jscomp$6$$=arguments[$i$jscomp$6$$];if($arg$jscomp$6$$ instanceof Error&&!$JSCompiler_prop$jscomp$inline_26_error$jscomp$10$$){$JSCompiler_prop$jscomp$inline_26_error$jscomp$10$$=void 0;var $JSCompiler_messageProperty$jscomp$inline_23_JSCompiler_stack$jscomp$inline_24$$=
Object.getOwnPropertyDescriptor($arg$jscomp$6$$,"message");if($JSCompiler_messageProperty$jscomp$inline_23_JSCompiler_stack$jscomp$inline_24$$&&$JSCompiler_messageProperty$jscomp$inline_23_JSCompiler_stack$jscomp$inline_24$$.writable)$JSCompiler_prop$jscomp$inline_26_error$jscomp$10$$=$arg$jscomp$6$$;else{$JSCompiler_messageProperty$jscomp$inline_23_JSCompiler_stack$jscomp$inline_24$$=$arg$jscomp$6$$.stack;var $JSCompiler_e$jscomp$inline_25$$=Error($arg$jscomp$6$$.message);for($JSCompiler_prop$jscomp$inline_26_error$jscomp$10$$ in $arg$jscomp$6$$)$JSCompiler_e$jscomp$inline_25$$[$JSCompiler_prop$jscomp$inline_26_error$jscomp$10$$]=
$arg$jscomp$6$$[$JSCompiler_prop$jscomp$inline_26_error$jscomp$10$$];$JSCompiler_e$jscomp$inline_25$$.stack=$JSCompiler_messageProperty$jscomp$inline_23_JSCompiler_stack$jscomp$inline_24$$;$JSCompiler_prop$jscomp$inline_26_error$jscomp$10$$=$JSCompiler_e$jscomp$inline_25$$}}else $message$jscomp$28$$&&($message$jscomp$28$$+=" "),$message$jscomp$28$$+=$arg$jscomp$6$$}$JSCompiler_prop$jscomp$inline_26_error$jscomp$10$$?$message$jscomp$28$$&&($JSCompiler_prop$jscomp$inline_26_error$jscomp$10$$.message=
$message$jscomp$28$$+": "+$JSCompiler_prop$jscomp$inline_26_error$jscomp$10$$.message):$JSCompiler_prop$jscomp$inline_26_error$jscomp$10$$=Error($message$jscomp$28$$);return $JSCompiler_prop$jscomp$inline_26_error$jscomp$10$$}function $rethrowAsync$$module$src$log$$($var_args$jscomp$54$$){var $error$jscomp$11$$=$createErrorVargs$$module$src$log$$.apply(null,arguments);setTimeout(function(){self.reportError($error$jscomp$11$$);throw $error$jscomp$11$$;})}self.log=self.log||{user:null,dev:null,userForEmbed:null};
var $logs$$module$src$log$$=self.log;function $user$$module$src$log$$(){if(!$logs$$module$src$log$$.user)throw Error("failed to call initLogConstructor");return $logs$$module$src$log$$.user}function $dev$$module$src$log$$(){if($logs$$module$src$log$$.dev)return $logs$$module$src$log$$.dev;throw Error("failed to call initLogConstructor");}
function $userAssert$$module$src$log$$($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$){return $user$$module$src$log$$().assert($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$,void 0,void 0,void 0,void 0,void 0,void 0)};function $getExistingServiceForDocInEmbedScope$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_72_JSCompiler_holder$jscomp$inline_73_element$jscomp$11$$){var $opt_fallbackToTopWin$$,$win$jscomp$6$$=$JSCompiler_ampdoc$jscomp$inline_72_JSCompiler_holder$jscomp$inline_73_element$jscomp$11$$.ownerDocument.defaultView,$isEmbed$$=$win$jscomp$6$$!=($win$jscomp$6$$.__AMP_TOP||$win$jscomp$6$$);if($isEmbed$$){if($isServiceRegistered$$module$src$service$$($win$jscomp$6$$,"url-replace")){var $embedService$$=
$getServiceInternal$$module$src$service$$($win$jscomp$6$$,"url-replace");if($embedService$$)return $embedService$$}if(!$opt_fallbackToTopWin$$)return null}$JSCompiler_ampdoc$jscomp$inline_72_JSCompiler_holder$jscomp$inline_73_element$jscomp$11$$=$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_72_JSCompiler_holder$jscomp$inline_73_element$jscomp$11$$);$JSCompiler_ampdoc$jscomp$inline_72_JSCompiler_holder$jscomp$inline_73_element$jscomp$11$$=$getAmpdocServiceHolder$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_72_JSCompiler_holder$jscomp$inline_73_element$jscomp$11$$);
return $isServiceRegistered$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_72_JSCompiler_holder$jscomp$inline_73_element$jscomp$11$$,"url-replace")?$getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_72_JSCompiler_holder$jscomp$inline_73_element$jscomp$11$$,"url-replace"):null}
function $getService$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$){$win$jscomp$8$$=$win$jscomp$8$$.__AMP_TOP||$win$jscomp$8$$;return $getServiceInternal$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$)}function $getAmpdoc$$module$src$service$$($nodeOrDoc$jscomp$2$$){return $nodeOrDoc$jscomp$2$$.nodeType?$getService$$module$src$service$$(($nodeOrDoc$jscomp$2$$.ownerDocument||$nodeOrDoc$jscomp$2$$).defaultView,"ampdoc").getAmpDoc($nodeOrDoc$jscomp$2$$):$nodeOrDoc$jscomp$2$$}
function $getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$){$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$=$getAmpdoc$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$);return $ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.isSingleDoc()?$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.win:$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$){$isServiceRegistered$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$);var $services$$=$getServices$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$);$holder$jscomp$4_s$jscomp$8$$=$services$$[$id$jscomp$19$$];$holder$jscomp$4_s$jscomp$8$$.obj||($holder$jscomp$4_s$jscomp$8$$.obj=new $holder$jscomp$4_s$jscomp$8$$.ctor($holder$jscomp$4_s$jscomp$8$$.context),$holder$jscomp$4_s$jscomp$8$$.ctor=
null,$holder$jscomp$4_s$jscomp$8$$.context=null,$holder$jscomp$4_s$jscomp$8$$.resolve&&$holder$jscomp$4_s$jscomp$8$$.resolve($holder$jscomp$4_s$jscomp$8$$.obj));return $holder$jscomp$4_s$jscomp$8$$.obj}
function $getServicePromiseInternal$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$,$id$jscomp$21$$){var $cached$$=$getServicePromiseOrNullInternal$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$,$id$jscomp$21$$);if($cached$$)return $cached$$;$holder$jscomp$6_services$jscomp$2$$=$getServices$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$);$holder$jscomp$6_services$jscomp$2$$[$id$jscomp$21$$]=$emptyServiceHolderWithPromise$$module$src$service$$();return $holder$jscomp$6_services$jscomp$2$$[$id$jscomp$21$$].promise}
function $getServicePromiseOrNullInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$){var $s$jscomp$11$$=$getServices$$module$src$service$$($holder$jscomp$8$$)[$id$jscomp$23$$];if($s$jscomp$11$$){if($s$jscomp$11$$.promise)return $s$jscomp$11$$.promise;$getServiceInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$);return $s$jscomp$11$$.promise=Promise.resolve($s$jscomp$11$$.obj)}return null}
function $getServices$$module$src$service$$($holder$jscomp$9$$){var $services$jscomp$5$$=$holder$jscomp$9$$.services;$services$jscomp$5$$||($services$jscomp$5$$=$holder$jscomp$9$$.services={});return $services$jscomp$5$$}
function $isServiceRegistered$$module$src$service$$($holder$jscomp$12_service$jscomp$4$$,$id$jscomp$27$$){$holder$jscomp$12_service$jscomp$4$$=$holder$jscomp$12_service$jscomp$4$$.services&&$holder$jscomp$12_service$jscomp$4$$.services[$id$jscomp$27$$];return!(!$holder$jscomp$12_service$jscomp$4$$||!$holder$jscomp$12_service$jscomp$4$$.ctor&&!$holder$jscomp$12_service$jscomp$4$$.obj)}
function $emptyServiceHolderWithPromise$$module$src$service$$(){var $deferred$$=new $Deferred$$module$src$utils$promise$$,$$jscomp$destructuring$var2_reject$jscomp$3$$=$deferred$$,$promise$jscomp$2$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.promise,$resolve$jscomp$4$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.resolve;$$jscomp$destructuring$var2_reject$jscomp$3$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.reject;$promise$jscomp$2$$.catch(function(){});return{obj:null,promise:$promise$jscomp$2$$,
resolve:$resolve$jscomp$4$$,reject:$$jscomp$destructuring$var2_reject$jscomp$3$$,context:null,ctor:null}};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function $dict$$module$src$utils$object$$($opt_initial$jscomp$1$$){return $opt_initial$jscomp$1$$||{}};function $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$33$$){var $s$jscomp$13$$=$getServicePromiseOrNullInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($element$jscomp$33$$),"geo");if($s$jscomp$13$$)return $s$jscomp$13$$;var $ampdoc$jscomp$7$$=$getAmpdoc$$module$src$service$$($element$jscomp$33$$);return $ampdoc$jscomp$7$$.whenBodyAvailable().then(function(){var $element$jscomp$33$$=$ampdoc$jscomp$7$$.win;var $s$jscomp$13$$=$ampdoc$jscomp$7$$.win.document.head;
if($s$jscomp$13$$){var $JSCompiler_inline_result$jscomp$115_JSCompiler_scripts$jscomp$inline_118$$=[];$s$jscomp$13$$=$s$jscomp$13$$.querySelectorAll("script[custom-element]");for(var $JSCompiler_i$jscomp$inline_120$$=0;$JSCompiler_i$jscomp$inline_120$$<$s$jscomp$13$$.length;$JSCompiler_i$jscomp$inline_120$$++)$JSCompiler_inline_result$jscomp$115_JSCompiler_scripts$jscomp$inline_118$$.push($s$jscomp$13$$[$JSCompiler_i$jscomp$inline_120$$].getAttribute("custom-element"))}else $JSCompiler_inline_result$jscomp$115_JSCompiler_scripts$jscomp$inline_118$$=
[];$element$jscomp$33$$=$JSCompiler_inline_result$jscomp$115_JSCompiler_scripts$jscomp$inline_118$$.includes("amp-geo")?$getService$$module$src$service$$($element$jscomp$33$$,"extensions").waitForExtension($element$jscomp$33$$,"amp-geo"):Promise.resolve();return $element$jscomp$33$$}).then(function(){return $getServicePromiseOrNullInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($element$jscomp$33$$),"geo")})};function $LruCache$$module$src$utils$lru_cache$$(){var $capacity$$=100;this.$capacity_$=$capacity$$;this.$access_$=this.$size_$=0;this.$cache_$=Object.create(null)}$LruCache$$module$src$utils$lru_cache$$.prototype.has=function($key$jscomp$43$$){return!!this.$cache_$[$key$jscomp$43$$]};$LruCache$$module$src$utils$lru_cache$$.prototype.get=function($key$jscomp$44$$){var $cacheable$$=this.$cache_$[$key$jscomp$44$$];if($cacheable$$)return $cacheable$$.access=++this.$access_$,$cacheable$$.payload};
$LruCache$$module$src$utils$lru_cache$$.prototype.put=function($JSCompiler_cache$jscomp$inline_40_key$jscomp$45$$,$payload$$){this.has($JSCompiler_cache$jscomp$inline_40_key$jscomp$45$$)||this.$size_$++;this.$cache_$[$JSCompiler_cache$jscomp$inline_40_key$jscomp$45$$]={payload:$payload$$,access:this.$access_$};if(!(this.$size_$<=this.$capacity_$)){$dev$$module$src$log$$().warn("lru-cache","Trimming LRU cache");$JSCompiler_cache$jscomp$inline_40_key$jscomp$45$$=this.$cache_$;var $JSCompiler_oldest$jscomp$inline_41$$=
this.$access_$+1,$JSCompiler_key$jscomp$inline_43$$;for($JSCompiler_key$jscomp$inline_43$$ in $JSCompiler_cache$jscomp$inline_40_key$jscomp$45$$){var $JSCompiler_access$jscomp$inline_44$$=$JSCompiler_cache$jscomp$inline_40_key$jscomp$45$$[$JSCompiler_key$jscomp$inline_43$$].access;if($JSCompiler_access$jscomp$inline_44$$<$JSCompiler_oldest$jscomp$inline_41$$){$JSCompiler_oldest$jscomp$inline_41$$=$JSCompiler_access$jscomp$inline_44$$;var $JSCompiler_oldestKey$jscomp$inline_42$$=$JSCompiler_key$jscomp$inline_43$$}}void 0!==
$JSCompiler_oldestKey$jscomp$inline_42$$&&(delete $JSCompiler_cache$jscomp$inline_40_key$jscomp$45$$[$JSCompiler_oldestKey$jscomp$inline_42$$],this.$size_$--)}};$dict$$module$src$utils$object$$({c:!0,v:!0,a:!0,ad:!0,action:!0});var $a$$module$src$url$$,$cache$$module$src$url$$;
function $assertHttpsUrl$$module$src$url$$($JSCompiler_string$jscomp$inline_92_JSCompiler_url$jscomp$inline_49_JSCompiler_url$jscomp$inline_89_urlString$jscomp$1$$,$elementContext$$){var $sourceName$$=void 0===$sourceName$$?"source":$sourceName$$;$userAssert$$module$src$log$$(null!=$JSCompiler_string$jscomp$inline_92_JSCompiler_url$jscomp$inline_49_JSCompiler_url$jscomp$inline_89_urlString$jscomp$1$$,"%s %s must be available",$elementContext$$,$sourceName$$);var $theUrlString$$=$JSCompiler_string$jscomp$inline_92_JSCompiler_url$jscomp$inline_49_JSCompiler_url$jscomp$inline_89_urlString$jscomp$1$$;
$JSCompiler_string$jscomp$inline_92_JSCompiler_url$jscomp$inline_49_JSCompiler_url$jscomp$inline_89_urlString$jscomp$1$$=$theUrlString$$;if("string"==typeof $JSCompiler_string$jscomp$inline_92_JSCompiler_url$jscomp$inline_49_JSCompiler_url$jscomp$inline_89_urlString$jscomp$1$$){$a$$module$src$url$$||($a$$module$src$url$$=self.document.createElement("a"),$cache$$module$src$url$$=self.UrlCache||(self.UrlCache=new $LruCache$$module$src$utils$lru_cache$$));var $JSCompiler_index$jscomp$inline_93_JSCompiler_opt_cache$jscomp$inline_123_JSCompiler_temp$jscomp$66$$=
$cache$$module$src$url$$,$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$=$a$$module$src$url$$;if($JSCompiler_index$jscomp$inline_93_JSCompiler_opt_cache$jscomp$inline_123_JSCompiler_temp$jscomp$66$$&&$JSCompiler_index$jscomp$inline_93_JSCompiler_opt_cache$jscomp$inline_123_JSCompiler_temp$jscomp$66$$.has($JSCompiler_string$jscomp$inline_92_JSCompiler_url$jscomp$inline_49_JSCompiler_url$jscomp$inline_89_urlString$jscomp$1$$))$JSCompiler_string$jscomp$inline_92_JSCompiler_url$jscomp$inline_49_JSCompiler_url$jscomp$inline_89_urlString$jscomp$1$$=
$JSCompiler_index$jscomp$inline_93_JSCompiler_opt_cache$jscomp$inline_123_JSCompiler_temp$jscomp$66$$.get($JSCompiler_string$jscomp$inline_92_JSCompiler_url$jscomp$inline_49_JSCompiler_url$jscomp$inline_89_urlString$jscomp$1$$);else{$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.href=$JSCompiler_string$jscomp$inline_92_JSCompiler_url$jscomp$inline_49_JSCompiler_url$jscomp$inline_89_urlString$jscomp$1$$;$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.protocol||
($JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.href=$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.href);var $JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$={href:$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.href,protocol:$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.protocol,
host:$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.host,hostname:$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.hostname,port:"0"==$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.port?"":$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.port,pathname:$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.pathname,
search:$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.search,hash:$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.hash,origin:null};"/"!==$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$.pathname[0]&&($JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$.pathname="/"+$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$.pathname);
if("http:"==$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$.protocol&&80==$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$.port||"https:"==$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$.protocol&&443==$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$.port)$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$.port="",$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$.host=
$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$.hostname;$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$.origin=$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.origin&&"null"!=$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.origin?$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.origin:"data:"!=
$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$.protocol&&$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$.host?$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$.protocol+"//"+$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$.host:$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$.href;$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$=
self;if($JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.AMP_MODE)$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$=$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.AMP_MODE;else{var $JSCompiler_AMP_CONFIG$jscomp$inline_129_JSCompiler_singlePassType$jscomp$inline_134$$=self.AMP_CONFIG||{},$JSCompiler_runningTests$jscomp$inline_131$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_129_JSCompiler_singlePassType$jscomp$inline_134$$.test||
!(!$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.AMP_TEST&&!$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.__karma__),$JSCompiler_isLocalDev$jscomp$inline_132$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_129_JSCompiler_singlePassType$jscomp$inline_134$$.localDev||$JSCompiler_runningTests$jscomp$inline_131$$,$JSCompiler_hashQuery$jscomp$inline_133$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.location.originalHash||
$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.location.hash);$JSCompiler_AMP_CONFIG$jscomp$inline_129_JSCompiler_singlePassType$jscomp$inline_134$$=$JSCompiler_AMP_CONFIG$jscomp$inline_129_JSCompiler_singlePassType$jscomp$inline_134$$.spt;var $JSCompiler_searchQuery$jscomp$inline_135$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.location.search);
$rtvVersion$$module$src$mode$$||($rtvVersion$$module$src$mode$$=$JSCompiler_isLocalDev$jscomp$inline_132$$?"1904281823091":$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.AMP_CONFIG&&$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.AMP_CONFIG.v?$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.AMP_CONFIG.v:"011904281823091");$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$=
$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.AMP_MODE={localDev:$JSCompiler_isLocalDev$jscomp$inline_132$$,development:!("1"!=$JSCompiler_hashQuery$jscomp$inline_133$$.development&&!$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.AMP_DEV_MODE),examiner:"2"==$JSCompiler_hashQuery$jscomp$inline_133$$.development,filter:$JSCompiler_hashQuery$jscomp$inline_133$$.filter,geoOverride:$JSCompiler_hashQuery$jscomp$inline_133$$["amp-geo"],
minified:!0,lite:void 0!=$JSCompiler_searchQuery$jscomp$inline_135$$.amp_lite,test:$JSCompiler_runningTests$jscomp$inline_131$$,log:$JSCompiler_hashQuery$jscomp$inline_133$$.log,version:"1904281823091",rtvVersion:$rtvVersion$$module$src$mode$$,singlePassType:$JSCompiler_AMP_CONFIG$jscomp$inline_129_JSCompiler_singlePassType$jscomp$inline_134$$}}$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$=$JSCompiler_a$jscomp$inline_124_JSCompiler_temp$jscomp$inline_127_JSCompiler_win$jscomp$inline_126$$.test&&
Object.freeze?Object.freeze($JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$):$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$;$JSCompiler_index$jscomp$inline_93_JSCompiler_opt_cache$jscomp$inline_123_JSCompiler_temp$jscomp$66$$&&$JSCompiler_index$jscomp$inline_93_JSCompiler_opt_cache$jscomp$inline_123_JSCompiler_temp$jscomp$66$$.put($JSCompiler_string$jscomp$inline_92_JSCompiler_url$jscomp$inline_49_JSCompiler_url$jscomp$inline_89_urlString$jscomp$1$$,
$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$);$JSCompiler_string$jscomp$inline_92_JSCompiler_url$jscomp$inline_49_JSCompiler_url$jscomp$inline_89_urlString$jscomp$1$$=$JSCompiler_frozen$jscomp$inline_136_JSCompiler_info$jscomp$inline_125$$}}($JSCompiler_index$jscomp$inline_93_JSCompiler_opt_cache$jscomp$inline_123_JSCompiler_temp$jscomp$66$$="https:"==$JSCompiler_string$jscomp$inline_92_JSCompiler_url$jscomp$inline_49_JSCompiler_url$jscomp$inline_89_urlString$jscomp$1$$.protocol||
"localhost"==$JSCompiler_string$jscomp$inline_92_JSCompiler_url$jscomp$inline_49_JSCompiler_url$jscomp$inline_89_urlString$jscomp$1$$.hostname||"127.0.0.1"==$JSCompiler_string$jscomp$inline_92_JSCompiler_url$jscomp$inline_49_JSCompiler_url$jscomp$inline_89_urlString$jscomp$1$$.hostname)||($JSCompiler_string$jscomp$inline_92_JSCompiler_url$jscomp$inline_49_JSCompiler_url$jscomp$inline_89_urlString$jscomp$1$$=$JSCompiler_string$jscomp$inline_92_JSCompiler_url$jscomp$inline_49_JSCompiler_url$jscomp$inline_89_urlString$jscomp$1$$.hostname,
$JSCompiler_index$jscomp$inline_93_JSCompiler_opt_cache$jscomp$inline_123_JSCompiler_temp$jscomp$66$$=$JSCompiler_string$jscomp$inline_92_JSCompiler_url$jscomp$inline_49_JSCompiler_url$jscomp$inline_89_urlString$jscomp$1$$.length-10,$JSCompiler_index$jscomp$inline_93_JSCompiler_opt_cache$jscomp$inline_123_JSCompiler_temp$jscomp$66$$=0<=$JSCompiler_index$jscomp$inline_93_JSCompiler_opt_cache$jscomp$inline_123_JSCompiler_temp$jscomp$66$$&&$JSCompiler_string$jscomp$inline_92_JSCompiler_url$jscomp$inline_49_JSCompiler_url$jscomp$inline_89_urlString$jscomp$1$$.indexOf(".localhost",
$JSCompiler_index$jscomp$inline_93_JSCompiler_opt_cache$jscomp$inline_123_JSCompiler_temp$jscomp$66$$)==$JSCompiler_index$jscomp$inline_93_JSCompiler_opt_cache$jscomp$inline_123_JSCompiler_temp$jscomp$66$$);$userAssert$$module$src$log$$($JSCompiler_index$jscomp$inline_93_JSCompiler_opt_cache$jscomp$inline_123_JSCompiler_temp$jscomp$66$$||/^(\/\/)/.test($theUrlString$$),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',$elementContext$$,
$sourceName$$,$theUrlString$$)};function $AmpUserNotification$$module$extensions$amp_user_notification$0_1$amp_user_notification$$($$jscomp$super$this_element$jscomp$61$$){$$jscomp$super$this_element$jscomp$61$$=AMP.BaseElement.call(this,$$jscomp$super$this_element$jscomp$61$$)||this;$$jscomp$super$this_element$jscomp$61$$.$ampUserId_$=null;$$jscomp$super$this_element$jscomp$61$$.$elementId_$=null;var $deferred$jscomp$2$$=new $Deferred$$module$src$utils$promise$$;$$jscomp$super$this_element$jscomp$61$$.$dialogPromise_$=$deferred$jscomp$2$$.promise;
$$jscomp$super$this_element$jscomp$61$$.$dialogResolve_$=$deferred$jscomp$2$$.resolve;$$jscomp$super$this_element$jscomp$61$$.$dismissHref_$=null;$$jscomp$super$this_element$jscomp$61$$.$persistDismissal_$=!1;$$jscomp$super$this_element$jscomp$61$$.$showIfGeo_$=null;$$jscomp$super$this_element$jscomp$61$$.$showIfNotGeo_$=null;$$jscomp$super$this_element$jscomp$61$$.$geoPromise_$=null;$$jscomp$super$this_element$jscomp$61$$.$showIfHref_$=null;$$jscomp$super$this_element$jscomp$61$$.$storageKey_$="";
$$jscomp$super$this_element$jscomp$61$$.$storagePromise_$=null;$$jscomp$super$this_element$jscomp$61$$.$urlReplacements_$=null;return $$jscomp$super$this_element$jscomp$61$$}var $JSCompiler_parentCtor$jscomp$inline_52$$=AMP.BaseElement;$AmpUserNotification$$module$extensions$amp_user_notification$0_1$amp_user_notification$$.prototype=$$jscomp$objectCreate$$($JSCompiler_parentCtor$jscomp$inline_52$$.prototype);
$AmpUserNotification$$module$extensions$amp_user_notification$0_1$amp_user_notification$$.prototype.constructor=$AmpUserNotification$$module$extensions$amp_user_notification$0_1$amp_user_notification$$;
if($$jscomp$setPrototypeOf$$)$$jscomp$setPrototypeOf$$($AmpUserNotification$$module$extensions$amp_user_notification$0_1$amp_user_notification$$,$JSCompiler_parentCtor$jscomp$inline_52$$);else for(var $JSCompiler_p$jscomp$inline_53$$ in $JSCompiler_parentCtor$jscomp$inline_52$$)if("prototype"!=$JSCompiler_p$jscomp$inline_53$$)if(Object.defineProperties){var $JSCompiler_descriptor$jscomp$inline_54$$=Object.getOwnPropertyDescriptor($JSCompiler_parentCtor$jscomp$inline_52$$,$JSCompiler_p$jscomp$inline_53$$);
$JSCompiler_descriptor$jscomp$inline_54$$&&Object.defineProperty($AmpUserNotification$$module$extensions$amp_user_notification$0_1$amp_user_notification$$,$JSCompiler_p$jscomp$inline_53$$,$JSCompiler_descriptor$jscomp$inline_54$$)}else $AmpUserNotification$$module$extensions$amp_user_notification$0_1$amp_user_notification$$[$JSCompiler_p$jscomp$inline_53$$]=$JSCompiler_parentCtor$jscomp$inline_52$$[$JSCompiler_p$jscomp$inline_53$$];
$AmpUserNotification$$module$extensions$amp_user_notification$0_1$amp_user_notification$$.$superClass_$=$JSCompiler_parentCtor$jscomp$inline_52$$.prototype;$JSCompiler_prototypeAlias$$=$AmpUserNotification$$module$extensions$amp_user_notification$0_1$amp_user_notification$$.prototype;$JSCompiler_prototypeAlias$$.isAlwaysFixed=function(){return!0};
$JSCompiler_prototypeAlias$$.buildCallback=function(){var $$jscomp$this$jscomp$2$$=this,$ampdoc$jscomp$10$$=this.getAmpDoc();this.$urlReplacements_$=$getExistingServiceForDocInEmbedScope$$module$src$service$$(this.element);this.$storagePromise_$=$getServicePromiseInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$(this.element),"storage");this.$elementId_$=$userAssert$$module$src$log$$(this.element.id,"amp-user-notification should have an id.");this.$storageKey_$="amp-user-notification:"+
this.$elementId_$;this.$showIfGeo_$=this.element.getAttribute("data-show-if-geo");this.$showIfNotGeo_$=this.element.getAttribute("data-show-if-not-geo");(this.$showIfHref_$=this.element.getAttribute("data-show-if-href"))&&$assertHttpsUrl$$module$src$url$$(this.$showIfHref_$,this.element);$userAssert$$module$src$log$$(1>=!!this.$showIfHref_$+!!this.$showIfGeo_$+!!this.$showIfNotGeo_$,'Only one "data-show-if-*" attribute allowed');this.$showIfGeo_$&&(this.$geoPromise_$=$JSCompiler_StaticMethods_isNotificationRequiredGeo_$$(this,
this.$showIfGeo_$,!0));this.$showIfNotGeo_$&&(this.$geoPromise_$=$JSCompiler_StaticMethods_isNotificationRequiredGeo_$$(this,this.$showIfNotGeo_$,!1));(this.$dismissHref_$=this.element.getAttribute("data-dismiss-href"))&&$assertHttpsUrl$$module$src$url$$(this.$dismissHref_$,this.element);var $roleAttribute$$=this.element.getAttribute("role");$roleAttribute$$||this.element.setAttribute("role","alert");var $persistDismissal$$=this.element.getAttribute("data-persist-dismissal");this.$persistDismissal_$=
"false"!=$persistDismissal$$&&"no"!=$persistDismissal$$;this.registerDefaultAction(function(){return $$jscomp$this$jscomp$2$$.dismiss(!1)},"dismiss");this.registerAction("optoutOfCid",function(){return $JSCompiler_StaticMethods_optoutOfCid_$$($$jscomp$this$jscomp$2$$)});var $userNotificationManagerPromise$$=$getServicePromiseInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$10$$),"userNotificationManager");$userNotificationManagerPromise$$.then(function($ampdoc$jscomp$10$$){$ampdoc$jscomp$10$$.registerUserNotification($$jscomp$this$jscomp$2$$.$elementId_$,
$$jscomp$this$jscomp$2$$)})};
function $JSCompiler_StaticMethods_isNotificationRequiredGeo_$$($JSCompiler_StaticMethods_isNotificationRequiredGeo_$self$$,$geoGroup$$,$includeGeos$$){return $getElementServiceIfAvailableForDoc$$module$src$element_service$$($JSCompiler_StaticMethods_isNotificationRequiredGeo_$self$$.element).then(function($JSCompiler_StaticMethods_isNotificationRequiredGeo_$self$$){$userAssert$$module$src$log$$($JSCompiler_StaticMethods_isNotificationRequiredGeo_$self$$,"requires <amp-geo> to use promptIfUnknownForGeoGroup");var $matchedGeos$$=
$geoGroup$$.split(/,\s*/).filter(function($geoGroup$$){return 2==$JSCompiler_StaticMethods_isNotificationRequiredGeo_$self$$.isInCountryGroup($geoGroup$$)});return!($includeGeos$$?!$matchedGeos$$.length:$matchedGeos$$.length)})}
function $JSCompiler_StaticMethods_buildGetHref_$$($JSCompiler_StaticMethods_buildGetHref_$self$$,$ampUserId$$){var $showIfHref$$=$JSCompiler_StaticMethods_buildGetHref_$self$$.$showIfHref_$;return $JSCompiler_StaticMethods_buildGetHref_$self$$.$urlReplacements_$.expandUrlAsync($showIfHref$$).then(function($showIfHref$$){var $JSCompiler_inline_result$jscomp$16_JSCompiler_inline_result$jscomp$69_JSCompiler_newUrl$jscomp$inline_108_JSCompiler_params$jscomp$inline_95$$={elementId:$JSCompiler_StaticMethods_buildGetHref_$self$$.$elementId_$,
ampUserId:$ampUserId$$};var $JSCompiler_mainAndFragment$jscomp$inline_106_JSCompiler_s$jscomp$inline_96_JSCompiler_url$jscomp$inline_103$$=[];for($JSCompiler_k$jscomp$inline_97_JSCompiler_mainAndQuery$jscomp$inline_107$$ in $JSCompiler_inline_result$jscomp$16_JSCompiler_inline_result$jscomp$69_JSCompiler_newUrl$jscomp$inline_108_JSCompiler_params$jscomp$inline_95$$){var $JSCompiler_v$jscomp$inline_98_sv$0$jscomp$inline_101$$=$JSCompiler_inline_result$jscomp$16_JSCompiler_inline_result$jscomp$69_JSCompiler_newUrl$jscomp$inline_108_JSCompiler_params$jscomp$inline_95$$[$JSCompiler_k$jscomp$inline_97_JSCompiler_mainAndQuery$jscomp$inline_107$$];
if(null!=$JSCompiler_v$jscomp$inline_98_sv$0$jscomp$inline_101$$)if(Array.isArray($JSCompiler_v$jscomp$inline_98_sv$0$jscomp$inline_101$$))for(var $href$$=0;$href$$<$JSCompiler_v$jscomp$inline_98_sv$0$jscomp$inline_101$$.length;$href$$++){var $JSCompiler_sv$jscomp$inline_100$$=$JSCompiler_v$jscomp$inline_98_sv$0$jscomp$inline_101$$[$href$$];$JSCompiler_mainAndFragment$jscomp$inline_106_JSCompiler_s$jscomp$inline_96_JSCompiler_url$jscomp$inline_103$$.push(encodeURIComponent($JSCompiler_k$jscomp$inline_97_JSCompiler_mainAndQuery$jscomp$inline_107$$)+
"="+encodeURIComponent($JSCompiler_sv$jscomp$inline_100$$))}else $JSCompiler_mainAndFragment$jscomp$inline_106_JSCompiler_s$jscomp$inline_96_JSCompiler_url$jscomp$inline_103$$.push(encodeURIComponent($JSCompiler_k$jscomp$inline_97_JSCompiler_mainAndQuery$jscomp$inline_107$$)+"="+encodeURIComponent($JSCompiler_v$jscomp$inline_98_sv$0$jscomp$inline_101$$))}$JSCompiler_inline_result$jscomp$16_JSCompiler_inline_result$jscomp$69_JSCompiler_newUrl$jscomp$inline_108_JSCompiler_params$jscomp$inline_95$$=
$JSCompiler_mainAndFragment$jscomp$inline_106_JSCompiler_s$jscomp$inline_96_JSCompiler_url$jscomp$inline_103$$.join("&");$JSCompiler_mainAndFragment$jscomp$inline_106_JSCompiler_s$jscomp$inline_96_JSCompiler_url$jscomp$inline_103$$=$showIfHref$$;if($JSCompiler_inline_result$jscomp$16_JSCompiler_inline_result$jscomp$69_JSCompiler_newUrl$jscomp$inline_108_JSCompiler_params$jscomp$inline_95$$){$JSCompiler_mainAndFragment$jscomp$inline_106_JSCompiler_s$jscomp$inline_96_JSCompiler_url$jscomp$inline_103$$=
$JSCompiler_mainAndFragment$jscomp$inline_106_JSCompiler_s$jscomp$inline_96_JSCompiler_url$jscomp$inline_103$$.split("#",2);var $JSCompiler_k$jscomp$inline_97_JSCompiler_mainAndQuery$jscomp$inline_107$$=$JSCompiler_mainAndFragment$jscomp$inline_106_JSCompiler_s$jscomp$inline_96_JSCompiler_url$jscomp$inline_103$$[0].split("?",2);$JSCompiler_inline_result$jscomp$16_JSCompiler_inline_result$jscomp$69_JSCompiler_newUrl$jscomp$inline_108_JSCompiler_params$jscomp$inline_95$$=$JSCompiler_k$jscomp$inline_97_JSCompiler_mainAndQuery$jscomp$inline_107$$[0]+
($JSCompiler_k$jscomp$inline_97_JSCompiler_mainAndQuery$jscomp$inline_107$$[1]?"?"+$JSCompiler_k$jscomp$inline_97_JSCompiler_mainAndQuery$jscomp$inline_107$$[1]+"&"+$JSCompiler_inline_result$jscomp$16_JSCompiler_inline_result$jscomp$69_JSCompiler_newUrl$jscomp$inline_108_JSCompiler_params$jscomp$inline_95$$:"?"+$JSCompiler_inline_result$jscomp$16_JSCompiler_inline_result$jscomp$69_JSCompiler_newUrl$jscomp$inline_108_JSCompiler_params$jscomp$inline_95$$);$JSCompiler_inline_result$jscomp$16_JSCompiler_inline_result$jscomp$69_JSCompiler_newUrl$jscomp$inline_108_JSCompiler_params$jscomp$inline_95$$+=
$JSCompiler_mainAndFragment$jscomp$inline_106_JSCompiler_s$jscomp$inline_96_JSCompiler_url$jscomp$inline_103$$[1]?"#"+$JSCompiler_mainAndFragment$jscomp$inline_106_JSCompiler_s$jscomp$inline_96_JSCompiler_url$jscomp$inline_103$$[1]:""}else $JSCompiler_inline_result$jscomp$16_JSCompiler_inline_result$jscomp$69_JSCompiler_newUrl$jscomp$inline_108_JSCompiler_params$jscomp$inline_95$$=$JSCompiler_mainAndFragment$jscomp$inline_106_JSCompiler_s$jscomp$inline_96_JSCompiler_url$jscomp$inline_103$$;return $JSCompiler_inline_result$jscomp$16_JSCompiler_inline_result$jscomp$69_JSCompiler_newUrl$jscomp$inline_108_JSCompiler_params$jscomp$inline_95$$})}
$JSCompiler_prototypeAlias$$.$getShowEndpoint_$=function($ampUserId$jscomp$1$$){var $$jscomp$this$jscomp$4$$=this;this.$ampUserId_$=$ampUserId$jscomp$1$$;return $JSCompiler_StaticMethods_buildGetHref_$$(this,$ampUserId$jscomp$1$$).then(function($ampUserId$jscomp$1$$){var $href$jscomp$1$$={credentials:"include",requireAmpResponseSourceOrigin:!1};return $getService$$module$src$service$$($$jscomp$this$jscomp$4$$.win,"xhr").fetchJson($ampUserId$jscomp$1$$,$href$jscomp$1$$).then(function($ampUserId$jscomp$1$$){return $ampUserId$jscomp$1$$.json()})})};
function $JSCompiler_StaticMethods_postDismissEnpoint_$$($JSCompiler_StaticMethods_postDismissEnpoint_$self$$){var $enctype$$=$JSCompiler_StaticMethods_postDismissEnpoint_$self$$.element.getAttribute("enctype")||"application/json;charset=utf-8";$getService$$module$src$service$$($JSCompiler_StaticMethods_postDismissEnpoint_$self$$.win,"xhr").fetchJson($JSCompiler_StaticMethods_postDismissEnpoint_$self$$.$dismissHref_$,{method:"POST",credentials:"include",requireAmpResponseSourceOrigin:!1,body:$dict$$module$src$utils$object$$({elementId:$JSCompiler_StaticMethods_postDismissEnpoint_$self$$.$elementId_$,
ampUserId:$JSCompiler_StaticMethods_postDismissEnpoint_$self$$.$ampUserId_$}),headers:{"Content-Type":$enctype$$}})}$JSCompiler_prototypeAlias$$.$onGetShowEndpointSuccess_$=function($data$jscomp$58$$){$userAssert$$module$src$log$$("boolean"==typeof $data$jscomp$58$$.showNotification,'`showNotification` should be a boolean. Got "%s" which is of type %s.',$data$jscomp$58$$.showNotification,typeof $data$jscomp$58$$.showNotification);$data$jscomp$58$$.showNotification||this.$dialogResolve_$();return Promise.resolve($data$jscomp$58$$.showNotification)};
function $JSCompiler_StaticMethods_optoutOfCid_$$($JSCompiler_StaticMethods_optoutOfCid_$self$$){return $getServicePromiseInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($JSCompiler_StaticMethods_optoutOfCid_$self$$.element),"cid").then(function($JSCompiler_StaticMethods_optoutOfCid_$self$$){return $JSCompiler_StaticMethods_optoutOfCid_$self$$.optOut()}).then(function(){return $JSCompiler_StaticMethods_optoutOfCid_$self$$.dismiss(!1)},function($reason$jscomp$7$$){$dev$$module$src$log$$().error("amp-user-notification",
"Failed to opt out of Cid",$reason$jscomp$7$$);$JSCompiler_StaticMethods_optoutOfCid_$self$$.dismiss(!0)})}
function $JSCompiler_StaticMethods_getAsyncCid_$$($JSCompiler_StaticMethods_getAsyncCid_$self$$){return $getServicePromiseInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($JSCompiler_StaticMethods_getAsyncCid_$self$$.element),"cid").then(function($cid$jscomp$1$$){return $cid$jscomp$1$$.get({scope:"amp-user-notification",createCookieIfNotPresent:!0},Promise.resolve(),$JSCompiler_StaticMethods_getAsyncCid_$self$$.$dialogPromise_$)})}
$JSCompiler_prototypeAlias$$.shouldShow=function(){var $$jscomp$this$jscomp$7$$=this;return this.isDismissed().then(function($dismissed$$){return $dismissed$$?!1:$$jscomp$this$jscomp$7$$.$showIfHref_$?$JSCompiler_StaticMethods_getAsyncCid_$$($$jscomp$this$jscomp$7$$).then($$jscomp$this$jscomp$7$$.$getShowEndpoint_$.bind($$jscomp$this$jscomp$7$$)).then($$jscomp$this$jscomp$7$$.$onGetShowEndpointSuccess_$.bind($$jscomp$this$jscomp$7$$)):$$jscomp$this$jscomp$7$$.$geoPromise_$?$$jscomp$this$jscomp$7$$.$geoPromise_$:
!0})};
$JSCompiler_prototypeAlias$$.show=function(){var $JSCompiler_element$jscomp$inline_59$$=this.element,$JSCompiler_opt_display$jscomp$inline_60$$=!0;void 0===$JSCompiler_opt_display$jscomp$inline_60$$&&($JSCompiler_opt_display$jscomp$inline_60$$=$JSCompiler_element$jscomp$inline_59$$.hasAttribute("hidden"));$JSCompiler_opt_display$jscomp$inline_60$$?$JSCompiler_element$jscomp$inline_59$$.removeAttribute("hidden"):$JSCompiler_element$jscomp$inline_59$$.setAttribute("hidden","");this.element.classList.add("amp-active");this.getViewport().addToFixedLayer(this.element);
return this.$dialogPromise_$};$JSCompiler_prototypeAlias$$.isDismissed=function(){var $$jscomp$this$jscomp$8$$=this;return this.$persistDismissal_$?this.$storagePromise_$.then(function($storage$$){return $storage$$.get($$jscomp$this$jscomp$8$$.$storageKey_$)}).then(function($$jscomp$this$jscomp$8$$){return!!$$jscomp$this$jscomp$8$$},function($$jscomp$this$jscomp$8$$){$dev$$module$src$log$$().error("amp-user-notification","Failed to read storage",$$jscomp$this$jscomp$8$$);return!1}):Promise.resolve(!1)};
$JSCompiler_prototypeAlias$$.dismiss=function($forceNoPersist$$){var $$jscomp$this$jscomp$9$$=this;this.element.classList.remove("amp-active");this.element.classList.add("amp-hidden");this.$dialogResolve_$();this.getViewport().removeFromFixedLayer(this.element);this.$persistDismissal_$&&!$forceNoPersist$$&&this.$storagePromise_$.then(function($forceNoPersist$$){$forceNoPersist$$.set($$jscomp$this$jscomp$9$$.$storageKey_$,!0)});this.$dismissHref_$&&$JSCompiler_StaticMethods_postDismissEnpoint_$$(this)};
function $UserNotificationManager$$module$extensions$amp_user_notification$0_1$amp_user_notification$$($JSCompiler_ampdoc$jscomp$inline_111_JSCompiler_holder$jscomp$inline_112_ampdoc$jscomp$11$$){this.ampdoc=$JSCompiler_ampdoc$jscomp$inline_111_JSCompiler_holder$jscomp$inline_112_ampdoc$jscomp$11$$;this.$registry_$=Object.create(null);this.$deferRegistry_$=Object.create(null);$JSCompiler_ampdoc$jscomp$inline_111_JSCompiler_holder$jscomp$inline_112_ampdoc$jscomp$11$$=$getAmpdoc$$module$src$service$$(this.ampdoc);
$JSCompiler_ampdoc$jscomp$inline_111_JSCompiler_holder$jscomp$inline_112_ampdoc$jscomp$11$$=$getAmpdocServiceHolder$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_111_JSCompiler_holder$jscomp$inline_112_ampdoc$jscomp$11$$);this.$viewer_$=$getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_111_JSCompiler_holder$jscomp$inline_112_ampdoc$jscomp$11$$,"viewer");this.$documentReadyPromise_$=this.ampdoc.whenReady();this.$managerReadyPromise_$=Promise.all([this.$viewer_$.whenFirstVisible(),
this.$documentReadyPromise_$]);this.$notificationUiManagerPromise_$=$getServicePromiseInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$(this.ampdoc),"notificationUIManager")}
$UserNotificationManager$$module$extensions$amp_user_notification$0_1$amp_user_notification$$.prototype.get=function($id$jscomp$35$$){var $$jscomp$this$jscomp$10$$=this;this.$managerReadyPromise_$.then(function(){null==$$jscomp$this$jscomp$10$$.ampdoc.getElementById($id$jscomp$35$$)&&$user$$module$src$log$$().warn("amp-user-notification","Did not find amp-user-notification element "+$id$jscomp$35$$+".")});return $JSCompiler_StaticMethods_getOrCreateDeferById_$$(this,$id$jscomp$35$$).promise};
$UserNotificationManager$$module$extensions$amp_user_notification$0_1$amp_user_notification$$.prototype.getNotification=function($id$jscomp$36$$){var $$jscomp$this$jscomp$11$$=this;return this.$documentReadyPromise_$.then(function(){return $$jscomp$this$jscomp$11$$.$registry_$[$id$jscomp$36$$]})};
$UserNotificationManager$$module$extensions$amp_user_notification$0_1$amp_user_notification$$.prototype.registerUserNotification=function($id$jscomp$37$$,$userNotification$$){var $$jscomp$this$jscomp$12$$=this;this.$registry_$[$id$jscomp$37$$]=$userNotification$$;var $deferred$jscomp$3$$=$JSCompiler_StaticMethods_getOrCreateDeferById_$$(this,$id$jscomp$37$$);return this.$managerReadyPromise_$.then(function(){return $userNotification$$.shouldShow()}).then(function($id$jscomp$37$$){if($id$jscomp$37$$)return $$jscomp$this$jscomp$12$$.$notificationUiManagerPromise_$.then(function($id$jscomp$37$$){return $id$jscomp$37$$.registerUI($userNotification$$.show.bind($userNotification$$))})}).then($deferred$jscomp$3$$.resolve.bind(this,
$userNotification$$)).catch($rethrowAsync$$module$src$log$$.bind(null,"Notification service failed amp-user-notification",$id$jscomp$37$$))};
function $JSCompiler_StaticMethods_getOrCreateDeferById_$$($JSCompiler_StaticMethods_getOrCreateDeferById_$self$$,$id$jscomp$38$$){if($JSCompiler_StaticMethods_getOrCreateDeferById_$self$$.$deferRegistry_$[$id$jscomp$38$$])return $JSCompiler_StaticMethods_getOrCreateDeferById_$self$$.$deferRegistry_$[$id$jscomp$38$$];var $$jscomp$destructuring$var13$$=new $Deferred$$module$src$utils$promise$$;return $JSCompiler_StaticMethods_getOrCreateDeferById_$self$$.$deferRegistry_$[$id$jscomp$38$$]={promise:$$jscomp$destructuring$var13$$.promise,
resolve:$$jscomp$destructuring$var13$$.resolve}}
(function($AMP$jscomp$1$$){$AMP$jscomp$1$$.registerServiceForDoc("userNotificationManager",$UserNotificationManager$$module$extensions$amp_user_notification$0_1$amp_user_notification$$);$AMP$jscomp$1$$.registerServiceForDoc("notificationUIManager",$NotificationUiManager$$module$src$service$notification_ui_manager$$);$AMP$jscomp$1$$.registerElement("amp-user-notification",$AmpUserNotification$$module$extensions$amp_user_notification$0_1$amp_user_notification$$,"amp-user-notification{position:fixed!important;bottom:0;left:0;overflow:hidden!important;visibility:hidden;background:hsla(0,0%,100%,0.7);z-index:1000;width:100%}amp-user-notification.amp-active{visibility:visible}amp-user-notification.amp-hidden{visibility:hidden}\n/*# sourceURL=/extensions/amp-user-notification/0.1/amp-user-notification.css*/")})(self.AMP);
})});

//# sourceMappingURL=amp-user-notification-0.1.js.map
