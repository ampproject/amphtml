(self.AMP=self.AMP||[]).push({n:"amp-image-lightbox",v:"1904281823091",f:(function(AMP,_){
var $JSCompiler_prototypeAlias$$,$$jscomp$objectCreate$$="function"==typeof Object.create?Object.create:function($prototype$$){function $ctor$$(){}$ctor$$.prototype=$prototype$$;return new $ctor$$},$JSCompiler_temp$jscomp$14$$;
if("function"==typeof Object.setPrototypeOf)$JSCompiler_temp$jscomp$14$$=Object.setPrototypeOf;else{var $JSCompiler_inline_result$jscomp$15$$;a:{var $JSCompiler_x$jscomp$inline_34$$={a:!0},$JSCompiler_y$jscomp$inline_35$$={};try{$JSCompiler_y$jscomp$inline_35$$.__proto__=$JSCompiler_x$jscomp$inline_34$$;$JSCompiler_inline_result$jscomp$15$$=$JSCompiler_y$jscomp$inline_35$$.a;break a}catch($JSCompiler_e$jscomp$inline_36$$){}$JSCompiler_inline_result$jscomp$15$$=!1}$JSCompiler_temp$jscomp$14$$=$JSCompiler_inline_result$jscomp$15$$?
function($target$jscomp$83$$,$proto$jscomp$3$$){$target$jscomp$83$$.__proto__=$proto$jscomp$3$$;if($target$jscomp$83$$.__proto__!==$proto$jscomp$3$$)throw new TypeError($target$jscomp$83$$+" is not extensible");return $target$jscomp$83$$}:null}var $$jscomp$setPrototypeOf$$=$JSCompiler_temp$jscomp$14$$;
function $$jscomp$inherits$$($childCtor$$,$parentCtor$$){$childCtor$$.prototype=$$jscomp$objectCreate$$($parentCtor$$.prototype);$childCtor$$.prototype.constructor=$childCtor$$;if($$jscomp$setPrototypeOf$$)$$jscomp$setPrototypeOf$$($childCtor$$,$parentCtor$$);else for(var $p$$ in $parentCtor$$)if("prototype"!=$p$$)if(Object.defineProperties){var $descriptor$jscomp$1$$=Object.getOwnPropertyDescriptor($parentCtor$$,$p$$);$descriptor$jscomp$1$$&&Object.defineProperty($childCtor$$,$p$$,$descriptor$jscomp$1$$)}else $childCtor$$[$p$$]=
$parentCtor$$[$p$$];$childCtor$$.$superClass_$=$parentCtor$$.prototype}function $Deferred$$module$src$utils$promise$$(){var $resolve$$,$reject$$;this.promise=new Promise(function($res$$,$rej$$){$resolve$$=$res$$;$reject$$=$rej$$});this.resolve=$resolve$$;this.reject=$reject$$};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log;function $dev$$module$src$log$$(){if($logs$$module$src$log$$.dev)return $logs$$module$src$log$$.dev;throw Error("failed to call initLogConstructor");}
function $userAssert$$module$src$log$$($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$){if(!$logs$$module$src$log$$.user)throw Error("failed to call initLogConstructor");return $logs$$module$src$log$$.user.assert($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};var $scopeSelectorSupported$$module$src$css$$;function $startsWith$$module$src$string$$($string$jscomp$6$$,$prefix$jscomp$2$$){return $prefix$jscomp$2$$.length>$string$jscomp$6$$.length?!1:0==$string$jscomp$6$$.lastIndexOf($prefix$jscomp$2$$,0)};function $closest$$module$src$dom$$($el$jscomp$2_element$jscomp$15$$,$callback$jscomp$60$$){for(var $opt_stopAt$$;$el$jscomp$2_element$jscomp$15$$&&$el$jscomp$2_element$jscomp$15$$!==$opt_stopAt$$;$el$jscomp$2_element$jscomp$15$$=$el$jscomp$2_element$jscomp$15$$.parentElement)if($callback$jscomp$60$$($el$jscomp$2_element$jscomp$15$$))return $el$jscomp$2_element$jscomp$15$$;return null}
function $closestAncestorElementBySelector$$module$src$dom$$($element$jscomp$16$$){return $element$jscomp$16$$.closest?$element$jscomp$16$$.closest("figure"):$closest$$module$src$dom$$($element$jscomp$16$$,function($element$jscomp$16$$){var $el$jscomp$3$$=$element$jscomp$16$$.matches||$element$jscomp$16$$.webkitMatchesSelector||$element$jscomp$16$$.mozMatchesSelector||$element$jscomp$16$$.msMatchesSelector||$element$jscomp$16$$.oMatchesSelector;return $el$jscomp$3$$?$el$jscomp$3$$.call($element$jscomp$16$$,
"figure"):!1})};var $propertyNameCache$$module$src$style$$,$vendorPrefixes$$module$src$style$$="Webkit webkit Moz moz ms O o".split(" ");
function $setStyle$$module$src$style$$($element$jscomp$31$$,$JSCompiler_inline_result$jscomp$23_property$jscomp$4_propertyName$jscomp$10$$,$value$jscomp$93$$){var $opt_units$$;var $JSCompiler_style$jscomp$inline_50$$=$element$jscomp$31$$.style;if(!$startsWith$$module$src$string$$($JSCompiler_inline_result$jscomp$23_property$jscomp$4_propertyName$jscomp$10$$,"--")){$propertyNameCache$$module$src$style$$||($propertyNameCache$$module$src$style$$=Object.create(null));var $JSCompiler_propertyName$jscomp$inline_53$$=
$propertyNameCache$$module$src$style$$[$JSCompiler_inline_result$jscomp$23_property$jscomp$4_propertyName$jscomp$10$$];if(!$JSCompiler_propertyName$jscomp$inline_53$$){$JSCompiler_propertyName$jscomp$inline_53$$=$JSCompiler_inline_result$jscomp$23_property$jscomp$4_propertyName$jscomp$10$$;if(void 0===$JSCompiler_style$jscomp$inline_50$$[$JSCompiler_inline_result$jscomp$23_property$jscomp$4_propertyName$jscomp$10$$]){var $JSCompiler_inline_result$jscomp$165_JSCompiler_prefixedPropertyName$jscomp$inline_55_JSCompiler_titleCase$jscomp$inline_54$$=
$JSCompiler_inline_result$jscomp$23_property$jscomp$4_propertyName$jscomp$10$$.charAt(0).toUpperCase()+$JSCompiler_inline_result$jscomp$23_property$jscomp$4_propertyName$jscomp$10$$.slice(1);b:{for(var $JSCompiler_i$jscomp$inline_175$$=0;$JSCompiler_i$jscomp$inline_175$$<$vendorPrefixes$$module$src$style$$.length;$JSCompiler_i$jscomp$inline_175$$++){var $JSCompiler_propertyName$jscomp$inline_176$$=$vendorPrefixes$$module$src$style$$[$JSCompiler_i$jscomp$inline_175$$]+$JSCompiler_inline_result$jscomp$165_JSCompiler_prefixedPropertyName$jscomp$inline_55_JSCompiler_titleCase$jscomp$inline_54$$;
if(void 0!==$JSCompiler_style$jscomp$inline_50$$[$JSCompiler_propertyName$jscomp$inline_176$$]){$JSCompiler_inline_result$jscomp$165_JSCompiler_prefixedPropertyName$jscomp$inline_55_JSCompiler_titleCase$jscomp$inline_54$$=$JSCompiler_propertyName$jscomp$inline_176$$;break b}}$JSCompiler_inline_result$jscomp$165_JSCompiler_prefixedPropertyName$jscomp$inline_55_JSCompiler_titleCase$jscomp$inline_54$$=""}void 0!==$JSCompiler_style$jscomp$inline_50$$[$JSCompiler_inline_result$jscomp$165_JSCompiler_prefixedPropertyName$jscomp$inline_55_JSCompiler_titleCase$jscomp$inline_54$$]&&
($JSCompiler_propertyName$jscomp$inline_53$$=$JSCompiler_inline_result$jscomp$165_JSCompiler_prefixedPropertyName$jscomp$inline_55_JSCompiler_titleCase$jscomp$inline_54$$)}$propertyNameCache$$module$src$style$$[$JSCompiler_inline_result$jscomp$23_property$jscomp$4_propertyName$jscomp$10$$]=$JSCompiler_propertyName$jscomp$inline_53$$}$JSCompiler_inline_result$jscomp$23_property$jscomp$4_propertyName$jscomp$10$$=$JSCompiler_propertyName$jscomp$inline_53$$}$JSCompiler_inline_result$jscomp$23_property$jscomp$4_propertyName$jscomp$10$$&&
($element$jscomp$31$$.style[$JSCompiler_inline_result$jscomp$23_property$jscomp$4_propertyName$jscomp$10$$]=$opt_units$$?$value$jscomp$93$$+$opt_units$$:$value$jscomp$93$$)}function $setStyles$$module$src$style$$($element$jscomp$33$$,$styles$jscomp$1$$){for(var $k$jscomp$2$$ in $styles$jscomp$1$$)$setStyle$$module$src$style$$($element$jscomp$33$$,$k$jscomp$2$$,$styles$jscomp$1$$[$k$jscomp$2$$])}
function $toggle$$module$src$style$$($element$jscomp$34$$){var $opt_display$$=!0;void 0===$opt_display$$&&($opt_display$$=$element$jscomp$34$$.hasAttribute("hidden"));$opt_display$$?$element$jscomp$34$$.removeAttribute("hidden"):$element$jscomp$34$$.setAttribute("hidden","")};function $bezierCurve$$module$src$curve$$($x1$jscomp$5$$,$y1$jscomp$5$$,$x2$jscomp$3$$,$y2$jscomp$3$$){var $bezier$$=new $Bezier$$module$src$curve$$($x1$jscomp$5$$,$y1$jscomp$5$$,$x2$jscomp$3$$,$y2$jscomp$3$$);return $bezier$$.solveYValueFromXValue.bind($bezier$$)}
function $Bezier$$module$src$curve$$($x1$jscomp$6$$,$y1$jscomp$6$$,$x2$jscomp$4$$,$y2$jscomp$4$$){var $x3$$=1,$y3$$=1;this.y0=this.x0=0;this.x1=$x1$jscomp$6$$;this.y1=$y1$jscomp$6$$;this.x2=$x2$jscomp$4$$;this.y2=$y2$jscomp$4$$;this.x3=$x3$$;this.y3=$y3$$}$JSCompiler_prototypeAlias$$=$Bezier$$module$src$curve$$.prototype;$JSCompiler_prototypeAlias$$.solveYValueFromXValue=function($xVal$$){return this.getPointY(this.solvePositionFromXValue($xVal$$))};
$JSCompiler_prototypeAlias$$.solvePositionFromXValue=function($xVal$jscomp$1$$){var $epsilon$$=1E-6,$t$$=($xVal$jscomp$1$$-this.x0)/(this.x3-this.x0);if(0>=$t$$)return 0;if(1<=$t$$)return 1;for(var $tMin$$=0,$tMax$$=1,$value$jscomp$100$$=0,$i$0_i$jscomp$12$$=0;8>$i$0_i$jscomp$12$$;$i$0_i$jscomp$12$$++){$value$jscomp$100$$=this.getPointX($t$$);var $derivative$$=(this.getPointX($t$$+$epsilon$$)-$value$jscomp$100$$)/$epsilon$$;if(Math.abs($value$jscomp$100$$-$xVal$jscomp$1$$)<$epsilon$$)return $t$$;
if(Math.abs($derivative$$)<$epsilon$$)break;else $value$jscomp$100$$<$xVal$jscomp$1$$?$tMin$$=$t$$:$tMax$$=$t$$,$t$$-=($value$jscomp$100$$-$xVal$jscomp$1$$)/$derivative$$}for($i$0_i$jscomp$12$$=0;Math.abs($value$jscomp$100$$-$xVal$jscomp$1$$)>$epsilon$$&&8>$i$0_i$jscomp$12$$;$i$0_i$jscomp$12$$++)$value$jscomp$100$$<$xVal$jscomp$1$$?($tMin$$=$t$$,$t$$=($t$$+$tMax$$)/2):($tMax$$=$t$$,$t$$=($t$$+$tMin$$)/2),$value$jscomp$100$$=this.getPointX($t$$);return $t$$};
$JSCompiler_prototypeAlias$$.getPointX=function($t$jscomp$1$$){if(0==$t$jscomp$1$$)return this.x0;if(1==$t$jscomp$1$$)return this.x3;var $ix0$$=this.lerp(this.x0,this.x1,$t$jscomp$1$$),$ix1$$=this.lerp(this.x1,this.x2,$t$jscomp$1$$),$ix2$$=this.lerp(this.x2,this.x3,$t$jscomp$1$$);$ix0$$=this.lerp($ix0$$,$ix1$$,$t$jscomp$1$$);$ix1$$=this.lerp($ix1$$,$ix2$$,$t$jscomp$1$$);return this.lerp($ix0$$,$ix1$$,$t$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.getPointY=function($t$jscomp$2$$){if(0==$t$jscomp$2$$)return this.y0;if(1==$t$jscomp$2$$)return this.y3;var $iy0$$=this.lerp(this.y0,this.y1,$t$jscomp$2$$),$iy1$$=this.lerp(this.y1,this.y2,$t$jscomp$2$$),$iy2$$=this.lerp(this.y2,this.y3,$t$jscomp$2$$);$iy0$$=this.lerp($iy0$$,$iy1$$,$t$jscomp$2$$);$iy1$$=this.lerp($iy1$$,$iy2$$,$t$jscomp$2$$);return this.lerp($iy0$$,$iy1$$,$t$jscomp$2$$)};
$JSCompiler_prototypeAlias$$.lerp=function($a$jscomp$1$$,$b$jscomp$2$$,$x$jscomp$85$$){return $a$jscomp$1$$+$x$jscomp$85$$*($b$jscomp$2$$-$a$jscomp$1$$)};
var $Curves$$module$src$curve$EASE$$=$bezierCurve$$module$src$curve$$(.25,.1,.25,1),$Curves$$module$src$curve$EASE_IN$$=$bezierCurve$$module$src$curve$$(.42,0,1,1),$Curves$$module$src$curve$EASE_OUT$$=$bezierCurve$$module$src$curve$$(0,0,.58,1),$Curves$$module$src$curve$EASE_IN_OUT$$=$bezierCurve$$module$src$curve$$(.42,0,.58,1),$NAME_MAP$$module$src$curve$$={linear:function($n$jscomp$7$$){return $n$jscomp$7$$},ease:$Curves$$module$src$curve$EASE$$,"ease-in":$Curves$$module$src$curve$EASE_IN$$,"ease-out":$Curves$$module$src$curve$EASE_OUT$$,
"ease-in-out":$Curves$$module$src$curve$EASE_IN_OUT$$};
function $getCurve$$module$src$curve$$($curve$$){if(!$curve$$)return null;if("string"==typeof $curve$$){if(-1!=$curve$$.indexOf("cubic-bezier")){var $match$jscomp$3_values$jscomp$11$$=$curve$$.match(/cubic-bezier\((.+)\)/);if($match$jscomp$3_values$jscomp$11$$&&($match$jscomp$3_values$jscomp$11$$=$match$jscomp$3_values$jscomp$11$$[1].split(",").map(parseFloat),4==$match$jscomp$3_values$jscomp$11$$.length)){for(var $i$jscomp$13$$=0;4>$i$jscomp$13$$;$i$jscomp$13$$++)if(isNaN($match$jscomp$3_values$jscomp$11$$[$i$jscomp$13$$]))return null;return $bezierCurve$$module$src$curve$$($match$jscomp$3_values$jscomp$11$$[0],
$match$jscomp$3_values$jscomp$11$$[1],$match$jscomp$3_values$jscomp$11$$[2],$match$jscomp$3_values$jscomp$11$$[3])}return null}return $NAME_MAP$$module$src$curve$$[$curve$$]}return $curve$$};function $concat$$module$src$transition$$($transitions$jscomp$1$$){var $opt_delimiter$$=void 0===$opt_delimiter$$?" ":$opt_delimiter$$;return function($time$jscomp$2$$,$complete$jscomp$1$$){for(var $results$$=[],$i$jscomp$15$$=0;$i$jscomp$15$$<$transitions$jscomp$1$$.length;$i$jscomp$15$$++){var $result$jscomp$1$$=(0,$transitions$jscomp$1$$[$i$jscomp$15$$])($time$jscomp$2$$,$complete$jscomp$1$$);"string"==typeof $result$jscomp$1$$&&$results$$.push($result$jscomp$1$$)}return $results$$.join($opt_delimiter$$)}}
function $setStyles$$module$src$transition$$($element$jscomp$36$$,$styles$jscomp$3$$){return function($time$jscomp$4$$,$complete$jscomp$3$$){for(var $k$jscomp$3$$ in $styles$jscomp$3$$){var $JSCompiler_style$jscomp$inline_57$$=$k$jscomp$3$$;"display"===$JSCompiler_style$jscomp$inline_57$$&&$dev$$module$src$log$$().error("STYLE","`display` style detected. You must use toggle instead.");$setStyle$$module$src$style$$($element$jscomp$36$$,$JSCompiler_style$jscomp$inline_57$$,$styles$jscomp$3$$[$k$jscomp$3$$]($time$jscomp$4$$,
$complete$jscomp$3$$))}}}function $numeric$$module$src$transition$$($start$jscomp$11$$,$end$jscomp$5$$){return function($time$jscomp$5$$){return $start$jscomp$11$$+($end$jscomp$5$$-$start$jscomp$11$$)*$time$jscomp$5$$}}
function $translate$$module$src$transition$$($transitionX$$,$opt_transitionY$$){return function($time$jscomp$11_y$jscomp$69$$){var $x$jscomp$86$$=$transitionX$$($time$jscomp$11_y$jscomp$69$$);"number"==typeof $x$jscomp$86$$&&($x$jscomp$86$$+="px");if(!$opt_transitionY$$)return"translate("+$x$jscomp$86$$+")";$time$jscomp$11_y$jscomp$69$$=$opt_transitionY$$($time$jscomp$11_y$jscomp$69$$);"number"==typeof $time$jscomp$11_y$jscomp$69$$&&($time$jscomp$11_y$jscomp$69$$+="px");return"translate("+$x$jscomp$86$$+
","+$time$jscomp$11_y$jscomp$69$$+")"}}function $scale$$module$src$transition$$($transition$jscomp$4$$){return function($time$jscomp$12$$){return"scale("+$transition$jscomp$4$$($time$jscomp$12$$)+")"}};function $getService$$module$src$service$$($win$jscomp$12$$,$id$jscomp$11$$){$win$jscomp$12$$=$win$jscomp$12$$.__AMP_TOP||$win$jscomp$12$$;return $getServiceInternal$$module$src$service$$($win$jscomp$12$$,$id$jscomp$11$$)}
function $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$$){var $JSCompiler_ampdoc$jscomp$inline_198_JSCompiler_inline_result$jscomp$196_ampdoc$jscomp$2$$=$getAmpdoc$$module$src$service$$($elementOrAmpDoc$$);$JSCompiler_ampdoc$jscomp$inline_198_JSCompiler_inline_result$jscomp$196_ampdoc$jscomp$2$$=$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_198_JSCompiler_inline_result$jscomp$196_ampdoc$jscomp$2$$);$JSCompiler_ampdoc$jscomp$inline_198_JSCompiler_inline_result$jscomp$196_ampdoc$jscomp$2$$=
$JSCompiler_ampdoc$jscomp$inline_198_JSCompiler_inline_result$jscomp$196_ampdoc$jscomp$2$$.isSingleDoc()?$JSCompiler_ampdoc$jscomp$inline_198_JSCompiler_inline_result$jscomp$196_ampdoc$jscomp$2$$.win:$JSCompiler_ampdoc$jscomp$inline_198_JSCompiler_inline_result$jscomp$196_ampdoc$jscomp$2$$;return $getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_198_JSCompiler_inline_result$jscomp$196_ampdoc$jscomp$2$$,"history")}
function $getAmpdoc$$module$src$service$$($nodeOrDoc$jscomp$2$$){return $nodeOrDoc$jscomp$2$$.nodeType?$getService$$module$src$service$$(($nodeOrDoc$jscomp$2$$.ownerDocument||$nodeOrDoc$jscomp$2$$).defaultView,"ampdoc").getAmpDoc($nodeOrDoc$jscomp$2$$):$nodeOrDoc$jscomp$2$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$){var $JSCompiler_services$jscomp$inline_64$$=$holder$jscomp$4_s$jscomp$8$$.services;$JSCompiler_services$jscomp$inline_64$$||($JSCompiler_services$jscomp$inline_64$$=$holder$jscomp$4_s$jscomp$8$$.services={});var $services$$=$JSCompiler_services$jscomp$inline_64$$;$holder$jscomp$4_s$jscomp$8$$=$services$$[$id$jscomp$19$$];$holder$jscomp$4_s$jscomp$8$$.obj||($holder$jscomp$4_s$jscomp$8$$.obj=new $holder$jscomp$4_s$jscomp$8$$.ctor($holder$jscomp$4_s$jscomp$8$$.context),
$holder$jscomp$4_s$jscomp$8$$.ctor=null,$holder$jscomp$4_s$jscomp$8$$.context=null,$holder$jscomp$4_s$jscomp$8$$.resolve&&$holder$jscomp$4_s$jscomp$8$$.resolve($holder$jscomp$4_s$jscomp$8$$.obj));return $holder$jscomp$4_s$jscomp$8$$.obj};function $NOOP_CALLBACK$$module$src$animation$$(){}function $Animation$$module$src$animation$$($contextNode$jscomp$2$$){var $opt_vsync$$;this.$contextNode_$=$contextNode$jscomp$2$$;this.$vsync_$=$opt_vsync$$||$getService$$module$src$service$$(self,"vsync");this.$curve_$=null;this.$segments_$=[]}
function $Animation$$module$src$animation$animate$$($contextNode$jscomp$3$$,$transition$jscomp$5$$,$duration$jscomp$1$$){var $opt_curve$$=$PAN_ZOOM_CURVE_$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$;return(new $Animation$$module$src$animation$$($contextNode$jscomp$3$$)).setCurve($opt_curve$$).add(0,$transition$jscomp$5$$,1).start($duration$jscomp$1$$)}
$Animation$$module$src$animation$$.prototype.setCurve=function($curve$jscomp$2$$){$curve$jscomp$2$$&&(this.$curve_$=$getCurve$$module$src$curve$$($curve$jscomp$2$$));return this};$Animation$$module$src$animation$$.prototype.add=function($delay$$,$transition$jscomp$6$$,$duration$jscomp$2$$,$opt_curve$jscomp$1$$){this.$segments_$.push({delay:$delay$$,func:$transition$jscomp$6$$,duration:$duration$jscomp$2$$,curve:$getCurve$$module$src$curve$$($opt_curve$jscomp$1$$)});return this};
$Animation$$module$src$animation$$.prototype.start=function($duration$jscomp$3$$){var $player$$=new $AnimationPlayer$$module$src$animation$$(this.$vsync_$,this.$contextNode_$,this.$segments_$,this.$curve_$,$duration$jscomp$3$$);return $player$$};
function $AnimationPlayer$$module$src$animation$$($vsync$$,$contextNode$jscomp$4_i$jscomp$17$$,$segments$$,$defaultCurve$$,$deferred$jscomp$2_duration$jscomp$4$$){this.$vsync_$=$vsync$$;this.$contextNode_$=$contextNode$jscomp$4_i$jscomp$17$$;this.$segments_$=[];for($contextNode$jscomp$4_i$jscomp$17$$=0;$contextNode$jscomp$4_i$jscomp$17$$<$segments$$.length;$contextNode$jscomp$4_i$jscomp$17$$++){var $segment$$=$segments$$[$contextNode$jscomp$4_i$jscomp$17$$];this.$segments_$.push({delay:$segment$$.delay,
func:$segment$$.func,duration:$segment$$.duration,curve:$segment$$.curve||$defaultCurve$$,started:!1,completed:!1})}this.$duration_$=$deferred$jscomp$2_duration$jscomp$4$$;this.$startTime_$=Date.now();this.$running_$=!0;this.$state_$={};$deferred$jscomp$2_duration$jscomp$4$$=new $Deferred$$module$src$utils$promise$$;this.$promise_$=$deferred$jscomp$2_duration$jscomp$4$$.promise;this.$resolve_$=$deferred$jscomp$2_duration$jscomp$4$$.resolve;this.$reject_$=$deferred$jscomp$2_duration$jscomp$4$$.reject;
this.$task_$=this.$vsync_$.createAnimTask(this.$contextNode_$,{mutate:this.$stepMutate_$.bind(this)});this.$vsync_$.canAnimate(this.$contextNode_$)?this.$task_$(this.$state_$):($dev$$module$src$log$$().warn("Animation","cannot animate"),$JSCompiler_StaticMethods_complete_$$(this,!1,0))}
$AnimationPlayer$$module$src$animation$$.prototype.then=function($opt_resolve$jscomp$1$$,$opt_reject$jscomp$1$$){return $opt_resolve$jscomp$1$$||$opt_reject$jscomp$1$$?this.$promise_$.then($opt_resolve$jscomp$1$$,$opt_reject$jscomp$1$$):this.$promise_$};
$AnimationPlayer$$module$src$animation$$.prototype.thenAlways=function($callback$jscomp$66_opt_callback$jscomp$5$$){$callback$jscomp$66_opt_callback$jscomp$5$$=$callback$jscomp$66_opt_callback$jscomp$5$$||$NOOP_CALLBACK$$module$src$animation$$;return this.then($callback$jscomp$66_opt_callback$jscomp$5$$,$callback$jscomp$66_opt_callback$jscomp$5$$)};$AnimationPlayer$$module$src$animation$$.prototype.halt=function($opt_dir$$){$JSCompiler_StaticMethods_complete_$$(this,!1,$opt_dir$$||0)};
function $JSCompiler_StaticMethods_complete_$$($JSCompiler_StaticMethods_complete_$self$$,$success$$,$dir$jscomp$1_i$jscomp$18$$){if($JSCompiler_StaticMethods_complete_$self$$.$running_$){$JSCompiler_StaticMethods_complete_$self$$.$running_$=!1;if(0!=$dir$jscomp$1_i$jscomp$18$$){1<$JSCompiler_StaticMethods_complete_$self$$.$segments_$.length&&$JSCompiler_StaticMethods_complete_$self$$.$segments_$.sort(function($JSCompiler_StaticMethods_complete_$self$$,$success$$){return $JSCompiler_StaticMethods_complete_$self$$.delay+
$JSCompiler_StaticMethods_complete_$self$$.duration-($success$$.delay+$success$$.duration)});try{if(0<$dir$jscomp$1_i$jscomp$18$$)for($dir$jscomp$1_i$jscomp$18$$=0;$dir$jscomp$1_i$jscomp$18$$<$JSCompiler_StaticMethods_complete_$self$$.$segments_$.length;$dir$jscomp$1_i$jscomp$18$$++)$JSCompiler_StaticMethods_complete_$self$$.$segments_$[$dir$jscomp$1_i$jscomp$18$$].func(1,!0);else for(var $i$1$$=$JSCompiler_StaticMethods_complete_$self$$.$segments_$.length-1;0<=$i$1$$;$i$1$$--)$JSCompiler_StaticMethods_complete_$self$$.$segments_$[$i$1$$].func(0,
!1)}catch($e$jscomp$16$$){$dev$$module$src$log$$().error("Animation","completion failed: "+$e$jscomp$16$$,$e$jscomp$16$$),$success$$=!1}}$success$$?$JSCompiler_StaticMethods_complete_$self$$.$resolve_$():$JSCompiler_StaticMethods_complete_$self$$.$reject_$()}}
$AnimationPlayer$$module$src$animation$$.prototype.$stepMutate_$=function(){if(this.$running_$){for(var $currentTime$$=Date.now(),$normLinearTime$$=Math.min(($currentTime$$-this.$startTime_$)/this.$duration_$,1),$i$2_i$jscomp$19$$=0;$i$2_i$jscomp$19$$<this.$segments_$.length;$i$2_i$jscomp$19$$++){var $segment$3_segment$jscomp$1$$=this.$segments_$[$i$2_i$jscomp$19$$];!$segment$3_segment$jscomp$1$$.started&&$normLinearTime$$>=$segment$3_segment$jscomp$1$$.delay&&($segment$3_segment$jscomp$1$$.started=
!0)}for($i$2_i$jscomp$19$$=0;$i$2_i$jscomp$19$$<this.$segments_$.length;$i$2_i$jscomp$19$$++)if($segment$3_segment$jscomp$1$$=this.$segments_$[$i$2_i$jscomp$19$$],$segment$3_segment$jscomp$1$$.started&&!$segment$3_segment$jscomp$1$$.completed)a:{var $JSCompiler_normLinearTime$jscomp$inline_69$$;if(0<$segment$3_segment$jscomp$1$$.duration){var $JSCompiler_normTime$jscomp$inline_70$$=$JSCompiler_normLinearTime$jscomp$inline_69$$=Math.min(($normLinearTime$$-$segment$3_segment$jscomp$1$$.delay)/$segment$3_segment$jscomp$1$$.duration,
1);if($segment$3_segment$jscomp$1$$.curve&&1!=$JSCompiler_normTime$jscomp$inline_70$$)try{$JSCompiler_normTime$jscomp$inline_70$$=$segment$3_segment$jscomp$1$$.curve($JSCompiler_normLinearTime$jscomp$inline_69$$)}catch($JSCompiler_e$jscomp$inline_71$$){$dev$$module$src$log$$().error("Animation","step curve failed: "+$JSCompiler_e$jscomp$inline_71$$,$JSCompiler_e$jscomp$inline_71$$);$JSCompiler_StaticMethods_complete_$$(this,!1,0);break a}}else $JSCompiler_normTime$jscomp$inline_70$$=$JSCompiler_normLinearTime$jscomp$inline_69$$=
1;1==$JSCompiler_normLinearTime$jscomp$inline_69$$&&($segment$3_segment$jscomp$1$$.completed=!0);try{$segment$3_segment$jscomp$1$$.func($JSCompiler_normTime$jscomp$inline_70$$,$segment$3_segment$jscomp$1$$.completed)}catch($e$4$jscomp$inline_72$$){$dev$$module$src$log$$().error("Animation","step mutate failed: "+$e$4$jscomp$inline_72$$,$e$4$jscomp$inline_72$$),$JSCompiler_StaticMethods_complete_$$(this,!1,0)}}1==$normLinearTime$$?$JSCompiler_StaticMethods_complete_$$(this,!0,0):this.$vsync_$.canAnimate(this.$contextNode_$)?
this.$task_$(this.$state_$):($dev$$module$src$log$$().warn("Animation","cancel animation"),$JSCompiler_StaticMethods_complete_$$(this,!1,0))}};function $Observable$$module$src$observable$$(){this.$handlers_$=null}$JSCompiler_prototypeAlias$$=$Observable$$module$src$observable$$.prototype;$JSCompiler_prototypeAlias$$.add=function($handler$jscomp$4$$){var $$jscomp$this$jscomp$1$$=this;this.$handlers_$||(this.$handlers_$=[]);this.$handlers_$.push($handler$jscomp$4$$);return function(){$$jscomp$this$jscomp$1$$.remove($handler$jscomp$4$$)}};
$JSCompiler_prototypeAlias$$.remove=function($handler$jscomp$5_index$jscomp$69$$){this.$handlers_$&&($handler$jscomp$5_index$jscomp$69$$=this.$handlers_$.indexOf($handler$jscomp$5_index$jscomp$69$$),-1<$handler$jscomp$5_index$jscomp$69$$&&this.$handlers_$.splice($handler$jscomp$5_index$jscomp$69$$,1))};$JSCompiler_prototypeAlias$$.removeAll=function(){this.$handlers_$&&(this.$handlers_$.length=0)};
$JSCompiler_prototypeAlias$$.fire=function($opt_event$$){if(this.$handlers_$)for(var $handlers$$=this.$handlers_$,$i$jscomp$20$$=0;$i$jscomp$20$$<$handlers$$.length;$i$jscomp$20$$++)(0,$handlers$$[$i$jscomp$20$$])($opt_event$$)};$JSCompiler_prototypeAlias$$.getHandlerCount=function(){return this.$handlers_$?this.$handlers_$.length:0};function $Pass$$module$src$pass$$($win$jscomp$43$$,$handler$jscomp$7$$){var $opt_defaultDelay$$,$$jscomp$this$jscomp$2$$=this;this.$timer_$=$getService$$module$src$service$$($win$jscomp$43$$,"timer");this.$handler_$=$handler$jscomp$7$$;this.$defaultDelay_$=$opt_defaultDelay$$||0;this.$scheduled_$=-1;this.$nextTime_$=0;this.$running_$=!1;this.$boundPass_$=function(){return $$jscomp$this$jscomp$2$$.$pass_$()}}$Pass$$module$src$pass$$.prototype.isPending=function(){return-1!=this.$scheduled_$};
$Pass$$module$src$pass$$.prototype.schedule=function($delay$jscomp$1_opt_delay$jscomp$2$$){$delay$jscomp$1_opt_delay$jscomp$2$$=$delay$jscomp$1_opt_delay$jscomp$2$$||this.$defaultDelay_$;this.$running_$&&10>$delay$jscomp$1_opt_delay$jscomp$2$$&&($delay$jscomp$1_opt_delay$jscomp$2$$=10);var $nextTime$$=Date.now()+$delay$jscomp$1_opt_delay$jscomp$2$$;return!this.isPending()||-10>$nextTime$$-this.$nextTime_$?(this.cancel(),this.$nextTime_$=$nextTime$$,this.$scheduled_$=this.$timer_$.delay(this.$boundPass_$,
$delay$jscomp$1_opt_delay$jscomp$2$$),!0):!1};$Pass$$module$src$pass$$.prototype.$pass_$=function(){this.$scheduled_$=-1;this.$nextTime_$=0;this.$running_$=!0;this.$handler_$();this.$running_$=!1};$Pass$$module$src$pass$$.prototype.cancel=function(){this.isPending()&&(this.$timer_$.cancel(this.$scheduled_$),this.$scheduled_$=-1)};function $findIndex$$module$src$utils$array$$($array$jscomp$8$$,$predicate$jscomp$1$$){for(var $i$jscomp$23$$=0;$i$jscomp$23$$<$array$jscomp$8$$.length;$i$jscomp$23$$++)if($predicate$jscomp$1$$($array$jscomp$8$$[$i$jscomp$23$$],$i$jscomp$23$$,$array$jscomp$8$$))return $i$jscomp$23$$;return-1};function $Gesture$$module$src$gesture$$($type$jscomp$134$$,$data$jscomp$57$$,$event$jscomp$5$$){var $time$jscomp$13$$=Date.now();this.type=$type$jscomp$134$$;this.data=$data$jscomp$57$$;this.time=$time$jscomp$13$$;this.event=$event$jscomp$5$$}
function $Gestures$$module$src$gesture$$($element$jscomp$62$$,$shouldNotPreventDefault$$){this.$element_$=$element$jscomp$62$$;this.$recognizers_$=[];this.$tracking_$=[];this.$ready_$=[];this.$pending_$=[];this.$eventing_$=null;this.$shouldNotPreventDefault_$=$shouldNotPreventDefault$$;this.$wasEventing_$=!1;this.$pass_$=new $Pass$$module$src$pass$$($element$jscomp$62$$.ownerDocument.defaultView,this.$doPass_$.bind(this));this.$pointerDownObservable_$=new $Observable$$module$src$observable$$;this.$overservers_$=
Object.create(null);this.$boundOnTouchStart_$=this.$onTouchStart_$.bind(this);this.$boundOnTouchEnd_$=this.$onTouchEnd_$.bind(this);this.$boundOnTouchMove_$=this.$onTouchMove_$.bind(this);this.$boundOnTouchCancel_$=this.$onTouchCancel_$.bind(this);this.$element_$.addEventListener("touchstart",this.$boundOnTouchStart_$);this.$element_$.addEventListener("touchend",this.$boundOnTouchEnd_$);this.$element_$.addEventListener("touchmove",this.$boundOnTouchMove_$);this.$element_$.addEventListener("touchcancel",
this.$boundOnTouchCancel_$);this.$passAfterEvent_$=!1}function $Gestures$$module$src$gesture$get$$($element$jscomp$63$$){var $opt_shouldNotPreventDefault$$=void 0===$opt_shouldNotPreventDefault$$?!1:$opt_shouldNotPreventDefault$$;var $res$jscomp$4$$=$element$jscomp$63$$.__AMP_Gestures;$res$jscomp$4$$||($res$jscomp$4$$=new $Gestures$$module$src$gesture$$($element$jscomp$63$$,$opt_shouldNotPreventDefault$$),$element$jscomp$63$$.__AMP_Gestures=$res$jscomp$4$$);return $res$jscomp$4$$}
$JSCompiler_prototypeAlias$$=$Gestures$$module$src$gesture$$.prototype;$JSCompiler_prototypeAlias$$.cleanup=function(){this.$element_$.removeEventListener("touchstart",this.$boundOnTouchStart_$);this.$element_$.removeEventListener("touchend",this.$boundOnTouchEnd_$);this.$element_$.removeEventListener("touchmove",this.$boundOnTouchMove_$);this.$element_$.removeEventListener("touchcancel",this.$boundOnTouchCancel_$);delete this.$element_$.__AMP_Gestures;this.$pass_$.cancel()};
$JSCompiler_prototypeAlias$$.onGesture=function($recognizerConstr$$,$handler$jscomp$8$$){var $recognizer$$=new $recognizerConstr$$(this),$type$jscomp$135$$=$recognizer$$.getType(),$overserver$$=this.$overservers_$[$type$jscomp$135$$];$overserver$$||(this.$recognizers_$.push($recognizer$$),$overserver$$=new $Observable$$module$src$observable$$,this.$overservers_$[$type$jscomp$135$$]=$overserver$$);return $overserver$$.add($handler$jscomp$8$$)};
$JSCompiler_prototypeAlias$$.removeGesture=function($index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$){var $type$jscomp$136$$=(new $index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$(this)).getType();if($index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$=this.$overservers_$[$type$jscomp$136$$]){$index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$.removeAll();$index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$=$findIndex$$module$src$utils$array$$(this.$recognizers_$,
function($index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$){return $index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$.getType()==$type$jscomp$136$$});if(0>$index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$)return!1;this.$recognizers_$.splice($index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$,1);this.$ready_$.splice($index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$,1);this.$pending_$.splice($index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$,
1);this.$tracking_$.splice($index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$,1);delete this.$overservers_$[$type$jscomp$136$$];return!0}return!1};$JSCompiler_prototypeAlias$$.onPointerDown=function($handler$jscomp$9$$){return this.$pointerDownObservable_$.add($handler$jscomp$9$$)};
$JSCompiler_prototypeAlias$$.$onTouchStart_$=function($event$jscomp$6$$){var $now$$=Date.now();this.$wasEventing_$=!1;this.$pointerDownObservable_$.fire($event$jscomp$6$$);for(var $i$jscomp$24$$=0;$i$jscomp$24$$<this.$recognizers_$.length;$i$jscomp$24$$++)if(!this.$ready_$[$i$jscomp$24$$]&&(this.$pending_$[$i$jscomp$24$$]&&this.$pending_$[$i$jscomp$24$$]<$now$$&&$JSCompiler_StaticMethods_stopTracking_$$(this,$i$jscomp$24$$),this.$recognizers_$[$i$jscomp$24$$].onTouchStart($event$jscomp$6$$))){var $JSCompiler_index$jscomp$inline_75$$=
$i$jscomp$24$$;this.$tracking_$[$JSCompiler_index$jscomp$inline_75$$]=!0;this.$pending_$[$JSCompiler_index$jscomp$inline_75$$]=0}$JSCompiler_StaticMethods_afterEvent_$$(this,$event$jscomp$6$$)};
$JSCompiler_prototypeAlias$$.$onTouchMove_$=function($event$jscomp$7$$){for(var $now$jscomp$1$$=Date.now(),$i$jscomp$25$$=0;$i$jscomp$25$$<this.$recognizers_$.length;$i$jscomp$25$$++)this.$tracking_$[$i$jscomp$25$$]&&(this.$pending_$[$i$jscomp$25$$]&&this.$pending_$[$i$jscomp$25$$]<$now$jscomp$1$$?$JSCompiler_StaticMethods_stopTracking_$$(this,$i$jscomp$25$$):this.$recognizers_$[$i$jscomp$25$$].onTouchMove($event$jscomp$7$$)||$JSCompiler_StaticMethods_stopTracking_$$(this,$i$jscomp$25$$));$JSCompiler_StaticMethods_afterEvent_$$(this,
$event$jscomp$7$$)};
$JSCompiler_prototypeAlias$$.$onTouchEnd_$=function($event$jscomp$8$$){for(var $now$jscomp$2$$=Date.now(),$i$jscomp$26$$=0;$i$jscomp$26$$<this.$recognizers_$.length;$i$jscomp$26$$++)if(this.$tracking_$[$i$jscomp$26$$])if(this.$pending_$[$i$jscomp$26$$]&&this.$pending_$[$i$jscomp$26$$]<$now$jscomp$2$$)$JSCompiler_StaticMethods_stopTracking_$$(this,$i$jscomp$26$$);else{this.$recognizers_$[$i$jscomp$26$$].onTouchEnd($event$jscomp$8$$);var $isReady$$=!this.$pending_$[$i$jscomp$26$$],$isExpired$$=this.$pending_$[$i$jscomp$26$$]<
$now$jscomp$2$$,$isEventing$$=this.$eventing_$==this.$recognizers_$[$i$jscomp$26$$];$isEventing$$||!$isReady$$&&!$isExpired$$||$JSCompiler_StaticMethods_stopTracking_$$(this,$i$jscomp$26$$)}$JSCompiler_StaticMethods_afterEvent_$$(this,$event$jscomp$8$$)};
$JSCompiler_prototypeAlias$$.$onTouchCancel_$=function($event$jscomp$9$$){for(var $i$jscomp$27$$=0;$i$jscomp$27$$<this.$recognizers_$.length;$i$jscomp$27$$++){var $JSCompiler_index$jscomp$inline_179$$=$i$jscomp$27$$;this.$ready_$[$JSCompiler_index$jscomp$inline_179$$]=0;$JSCompiler_StaticMethods_stopTracking_$$(this,$JSCompiler_index$jscomp$inline_179$$)}$JSCompiler_StaticMethods_afterEvent_$$(this,$event$jscomp$9$$)};
function $JSCompiler_StaticMethods_afterEvent_$$($JSCompiler_StaticMethods_afterEvent_$self$$,$event$jscomp$11$$){var $cancelEvent$$=!!$JSCompiler_StaticMethods_afterEvent_$self$$.$eventing_$||$JSCompiler_StaticMethods_afterEvent_$self$$.$wasEventing_$;$JSCompiler_StaticMethods_afterEvent_$self$$.$wasEventing_$=!1;if(!$cancelEvent$$)for(var $now$jscomp$5$$=Date.now(),$i$jscomp$30$$=0;$i$jscomp$30$$<$JSCompiler_StaticMethods_afterEvent_$self$$.$recognizers_$.length;$i$jscomp$30$$++)if($JSCompiler_StaticMethods_afterEvent_$self$$.$ready_$[$i$jscomp$30$$]||
$JSCompiler_StaticMethods_afterEvent_$self$$.$pending_$[$i$jscomp$30$$]&&$JSCompiler_StaticMethods_afterEvent_$self$$.$pending_$[$i$jscomp$30$$]>=$now$jscomp$5$$){$cancelEvent$$=!0;break}$cancelEvent$$&&($event$jscomp$11$$.stopPropagation(),$JSCompiler_StaticMethods_afterEvent_$self$$.$shouldNotPreventDefault_$||$event$jscomp$11$$.preventDefault());$JSCompiler_StaticMethods_afterEvent_$self$$.$passAfterEvent_$&&($JSCompiler_StaticMethods_afterEvent_$self$$.$passAfterEvent_$=!1,$JSCompiler_StaticMethods_afterEvent_$self$$.$doPass_$())}
$JSCompiler_prototypeAlias$$.$doPass_$=function(){for(var $JSCompiler_index$jscomp$inline_78_now$jscomp$6$$=Date.now(),$readyIndex$$=-1,$JSCompiler_recognizer$jscomp$inline_79_i$5_i$jscomp$31$$=0;$JSCompiler_recognizer$jscomp$inline_79_i$5_i$jscomp$31$$<this.$recognizers_$.length;$JSCompiler_recognizer$jscomp$inline_79_i$5_i$jscomp$31$$++)if(!this.$ready_$[$JSCompiler_recognizer$jscomp$inline_79_i$5_i$jscomp$31$$])this.$pending_$[$JSCompiler_recognizer$jscomp$inline_79_i$5_i$jscomp$31$$]&&this.$pending_$[$JSCompiler_recognizer$jscomp$inline_79_i$5_i$jscomp$31$$]<
$JSCompiler_index$jscomp$inline_78_now$jscomp$6$$&&$JSCompiler_StaticMethods_stopTracking_$$(this,$JSCompiler_recognizer$jscomp$inline_79_i$5_i$jscomp$31$$);else if(-1==$readyIndex$$||this.$ready_$[$JSCompiler_recognizer$jscomp$inline_79_i$5_i$jscomp$31$$]>this.$ready_$[$readyIndex$$])$readyIndex$$=$JSCompiler_recognizer$jscomp$inline_79_i$5_i$jscomp$31$$;if(-1!=$readyIndex$$){var $waitTime$$=0;for($JSCompiler_recognizer$jscomp$inline_79_i$5_i$jscomp$31$$=0;$JSCompiler_recognizer$jscomp$inline_79_i$5_i$jscomp$31$$<
this.$recognizers_$.length;$JSCompiler_recognizer$jscomp$inline_79_i$5_i$jscomp$31$$++)!this.$ready_$[$JSCompiler_recognizer$jscomp$inline_79_i$5_i$jscomp$31$$]&&this.$tracking_$[$JSCompiler_recognizer$jscomp$inline_79_i$5_i$jscomp$31$$]&&($waitTime$$=Math.max($waitTime$$,this.$pending_$[$JSCompiler_recognizer$jscomp$inline_79_i$5_i$jscomp$31$$]-$JSCompiler_index$jscomp$inline_78_now$jscomp$6$$));if(2>$waitTime$$){$JSCompiler_index$jscomp$inline_78_now$jscomp$6$$=$readyIndex$$;$JSCompiler_recognizer$jscomp$inline_79_i$5_i$jscomp$31$$=
this.$recognizers_$[$JSCompiler_index$jscomp$inline_78_now$jscomp$6$$];for(var $JSCompiler_i$jscomp$inline_80$$=0;$JSCompiler_i$jscomp$inline_80$$<this.$recognizers_$.length;$JSCompiler_i$jscomp$inline_80$$++)if($JSCompiler_i$jscomp$inline_80$$!=$JSCompiler_index$jscomp$inline_78_now$jscomp$6$$){var $JSCompiler_index$jscomp$inline_182$$=$JSCompiler_i$jscomp$inline_80$$;this.$ready_$[$JSCompiler_index$jscomp$inline_182$$]=0;$JSCompiler_StaticMethods_stopTracking_$$(this,$JSCompiler_index$jscomp$inline_182$$)}this.$ready_$[$JSCompiler_index$jscomp$inline_78_now$jscomp$6$$]=
0;this.$pending_$[$JSCompiler_index$jscomp$inline_78_now$jscomp$6$$]=0;this.$eventing_$=$JSCompiler_recognizer$jscomp$inline_79_i$5_i$jscomp$31$$;$JSCompiler_recognizer$jscomp$inline_79_i$5_i$jscomp$31$$.acceptStart()}else this.$pass_$.schedule($waitTime$$)}};
function $JSCompiler_StaticMethods_stopTracking_$$($JSCompiler_StaticMethods_stopTracking_$self$$,$index$jscomp$74$$){$JSCompiler_StaticMethods_stopTracking_$self$$.$tracking_$[$index$jscomp$74$$]=!1;$JSCompiler_StaticMethods_stopTracking_$self$$.$pending_$[$index$jscomp$74$$]=0;$JSCompiler_StaticMethods_stopTracking_$self$$.$ready_$[$index$jscomp$74$$]||$JSCompiler_StaticMethods_stopTracking_$self$$.$recognizers_$[$index$jscomp$74$$].acceptCancel()}
function $GestureRecognizer$$module$src$gesture$$($type$jscomp$137$$,$manager$$){this.$type_$=$type$jscomp$137$$;this.$manager_$=$manager$$}$JSCompiler_prototypeAlias$$=$GestureRecognizer$$module$src$gesture$$.prototype;$JSCompiler_prototypeAlias$$.getType=function(){return this.$type_$};
$JSCompiler_prototypeAlias$$.signalReady=function($offset$jscomp$20$$){var $JSCompiler_StaticMethods_signalReady_$self$jscomp$inline_82$$=this.$manager_$;if($JSCompiler_StaticMethods_signalReady_$self$jscomp$inline_82$$.$eventing_$)this.acceptCancel();else{for(var $JSCompiler_now$jscomp$inline_85$$=Date.now(),$JSCompiler_i$jscomp$inline_86$$=0;$JSCompiler_i$jscomp$inline_86$$<$JSCompiler_StaticMethods_signalReady_$self$jscomp$inline_82$$.$recognizers_$.length;$JSCompiler_i$jscomp$inline_86$$++)$JSCompiler_StaticMethods_signalReady_$self$jscomp$inline_82$$.$recognizers_$[$JSCompiler_i$jscomp$inline_86$$]==
this&&($JSCompiler_StaticMethods_signalReady_$self$jscomp$inline_82$$.$ready_$[$JSCompiler_i$jscomp$inline_86$$]=$JSCompiler_now$jscomp$inline_85$$+$offset$jscomp$20$$,$JSCompiler_StaticMethods_signalReady_$self$jscomp$inline_82$$.$pending_$[$JSCompiler_i$jscomp$inline_86$$]=0);$JSCompiler_StaticMethods_signalReady_$self$jscomp$inline_82$$.$passAfterEvent_$=!0}};
$JSCompiler_prototypeAlias$$.signalPending=function($timeLeft$jscomp$1$$){var $JSCompiler_StaticMethods_signalPending_$self$jscomp$inline_88$$=this.$manager_$;if($JSCompiler_StaticMethods_signalPending_$self$jscomp$inline_88$$.$eventing_$)this.acceptCancel();else for(var $JSCompiler_now$jscomp$inline_91$$=Date.now(),$JSCompiler_i$jscomp$inline_92$$=0;$JSCompiler_i$jscomp$inline_92$$<$JSCompiler_StaticMethods_signalPending_$self$jscomp$inline_88$$.$recognizers_$.length;$JSCompiler_i$jscomp$inline_92$$++)$JSCompiler_StaticMethods_signalPending_$self$jscomp$inline_88$$.$recognizers_$[$JSCompiler_i$jscomp$inline_92$$]==
this&&($JSCompiler_StaticMethods_signalPending_$self$jscomp$inline_88$$.$pending_$[$JSCompiler_i$jscomp$inline_92$$]=$JSCompiler_now$jscomp$inline_91$$+$timeLeft$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.signalEnd=function(){var $JSCompiler_StaticMethods_signalEnd_$self$jscomp$inline_94$$=this.$manager_$;$JSCompiler_StaticMethods_signalEnd_$self$jscomp$inline_94$$.$eventing_$==this&&($JSCompiler_StaticMethods_signalEnd_$self$jscomp$inline_94$$.$eventing_$=null,$JSCompiler_StaticMethods_signalEnd_$self$jscomp$inline_94$$.$wasEventing_$=!0)};
$JSCompiler_prototypeAlias$$.signalEmit=function($data$jscomp$59$$,$event$jscomp$12$$){var $JSCompiler_overserver$jscomp$inline_101$$=this.$manager_$.$overservers_$[this.getType()];$JSCompiler_overserver$jscomp$inline_101$$&&$JSCompiler_overserver$jscomp$inline_101$$.fire(new $Gesture$$module$src$gesture$$(this.getType(),$data$jscomp$59$$,$event$jscomp$12$$))};$JSCompiler_prototypeAlias$$.acceptStart=function(){};$JSCompiler_prototypeAlias$$.acceptCancel=function(){};
$JSCompiler_prototypeAlias$$.onTouchStart=function(){return!1};$JSCompiler_prototypeAlias$$.onTouchMove=function(){return!1};$JSCompiler_prototypeAlias$$.onTouchEnd=function(){};function $NOOP_CALLBACK_$$module$src$motion$$(){}var $EXP_FRAME_CONST_$$module$src$motion$$=Math.round(-16.67/Math.log(.95));function $calcVelocity$$module$src$motion$$($deltaV$$,$deltaTime$$,$prevVelocity$$){1>$deltaTime$$&&($deltaTime$$=1);var $speed$$=$deltaV$$/$deltaTime$$,$depr$$=.5+Math.min($deltaTime$$/33.34,.5);return $speed$$*$depr$$+$prevVelocity$$*(1-$depr$$)}
function $continueMotion$$module$src$motion$$($contextNode$jscomp$5$$,$startX$$,$startY$$,$veloX$$,$veloY$$,$callback$jscomp$67$$){return(new $Motion$$module$src$motion$$($contextNode$jscomp$5$$,$startX$$,$startY$$,$veloX$$,$veloY$$,$callback$jscomp$67$$)).start()}
function $Motion$$module$src$motion$$($contextNode$jscomp$6_deferred$jscomp$3$$,$startX$jscomp$1$$,$startY$jscomp$1$$,$veloX$jscomp$1$$,$veloY$jscomp$1$$,$callback$jscomp$68$$){this.$vsync_$=$getService$$module$src$service$$(self,"vsync");this.$contextNode_$=$contextNode$jscomp$6_deferred$jscomp$3$$;this.$callback_$=$callback$jscomp$68$$;this.$lastX_$=$startX$jscomp$1$$;this.$lastY_$=$startY$jscomp$1$$;this.$maxVelocityX_$=$veloX$jscomp$1$$;this.$maxVelocityY_$=$veloY$jscomp$1$$;this.$velocityY_$=
this.$velocityX_$=0;$contextNode$jscomp$6_deferred$jscomp$3$$=new $Deferred$$module$src$utils$promise$$;this.$promise_$=$contextNode$jscomp$6_deferred$jscomp$3$$.promise;this.$resolve_$=$contextNode$jscomp$6_deferred$jscomp$3$$.resolve;this.$reject_$=$contextNode$jscomp$6_deferred$jscomp$3$$.reject;this.$continuing_$=!1}$JSCompiler_prototypeAlias$$=$Motion$$module$src$motion$$.prototype;
$JSCompiler_prototypeAlias$$.start=function(){this.$continuing_$=!0;if(.02>=Math.abs(this.$maxVelocityX_$)&&.02>=Math.abs(this.$maxVelocityY_$))this.$callback_$(this.$lastX_$,this.$lastY_$),this.$completeContinue_$(!0);else{this.$velocityX_$=this.$maxVelocityX_$;this.$velocityY_$=this.$maxVelocityY_$;var $JSCompiler_boundStep$jscomp$inline_104$$=this.$stepContinue_$.bind(this),$JSCompiler_boundComplete$jscomp$inline_105$$=this.$completeContinue_$.bind(this,!0);this.$vsync_$.runAnimMutateSeries(this.$contextNode_$,
$JSCompiler_boundStep$jscomp$inline_104$$,5E3).then($JSCompiler_boundComplete$jscomp$inline_105$$,$JSCompiler_boundComplete$jscomp$inline_105$$)}return this};$JSCompiler_prototypeAlias$$.halt=function(){this.$continuing_$&&this.$completeContinue_$(!1)};$JSCompiler_prototypeAlias$$.then=function($opt_resolve$jscomp$2$$,$opt_reject$jscomp$2$$){return $opt_resolve$jscomp$2$$||$opt_reject$jscomp$2$$?this.$promise_$.then($opt_resolve$jscomp$2$$,$opt_reject$jscomp$2$$):this.$promise_$};
$JSCompiler_prototypeAlias$$.thenAlways=function($callback$jscomp$69_opt_callback$jscomp$6$$){$callback$jscomp$69_opt_callback$jscomp$6$$=$callback$jscomp$69_opt_callback$jscomp$6$$||$NOOP_CALLBACK_$$module$src$motion$$;return this.then($callback$jscomp$69_opt_callback$jscomp$6$$,$callback$jscomp$69_opt_callback$jscomp$6$$)};
$JSCompiler_prototypeAlias$$.$stepContinue_$=function($timeSinceStart$$,$timeSincePrev$$){if(!this.$continuing_$)return!1;this.$lastX_$+=$timeSincePrev$$*this.$velocityX_$;this.$lastY_$+=$timeSincePrev$$*this.$velocityY_$;if(!this.$callback_$(this.$lastX_$,this.$lastY_$))return!1;var $decel$$=Math.exp(-$timeSinceStart$$/$EXP_FRAME_CONST_$$module$src$motion$$);this.$velocityX_$=this.$maxVelocityX_$*$decel$$;this.$velocityY_$=this.$maxVelocityY_$*$decel$$;return.02<Math.abs(this.$velocityX_$)||.02<
Math.abs(this.$velocityY_$)};$JSCompiler_prototypeAlias$$.$completeContinue_$=function($success$jscomp$1$$){this.$continuing_$&&(this.$continuing_$=!1,this.$callback_$(this.$lastX_$,this.$lastY_$),$success$jscomp$1$$?this.$resolve_$():this.$reject_$())};function $TapRecognizer$$module$src$gesture_recognizers$$($manager$jscomp$1$$){$GestureRecognizer$$module$src$gesture$$.call(this,"tap",$manager$jscomp$1$$);this.$lastY_$=this.$lastX_$=this.$startY_$=this.$startX_$=0;this.$target_$=null}$$jscomp$inherits$$($TapRecognizer$$module$src$gesture_recognizers$$,$GestureRecognizer$$module$src$gesture$$);
$TapRecognizer$$module$src$gesture_recognizers$$.prototype.onTouchStart=function($e$jscomp$20$$){var $touches$jscomp$2$$=$e$jscomp$20$$.touches;this.$target_$=$e$jscomp$20$$.target;return $touches$jscomp$2$$&&1==$touches$jscomp$2$$.length?(this.$startX_$=$touches$jscomp$2$$[0].clientX,this.$startY_$=$touches$jscomp$2$$[0].clientY,!0):!1};
$TapRecognizer$$module$src$gesture_recognizers$$.prototype.onTouchMove=function($dy$jscomp$4_e$jscomp$21_touches$jscomp$3$$){return($dy$jscomp$4_e$jscomp$21_touches$jscomp$3$$=$dy$jscomp$4_e$jscomp$21_touches$jscomp$3$$.changedTouches||$dy$jscomp$4_e$jscomp$21_touches$jscomp$3$$.touches)&&1==$dy$jscomp$4_e$jscomp$21_touches$jscomp$3$$.length&&(this.$lastX_$=$dy$jscomp$4_e$jscomp$21_touches$jscomp$3$$[0].clientX,this.$lastY_$=$dy$jscomp$4_e$jscomp$21_touches$jscomp$3$$[0].clientY,$dy$jscomp$4_e$jscomp$21_touches$jscomp$3$$=
8<=Math.abs(this.$lastY_$-this.$startY_$),8<=Math.abs(this.$lastX_$-this.$startX_$)||$dy$jscomp$4_e$jscomp$21_touches$jscomp$3$$)?!1:!0};$TapRecognizer$$module$src$gesture_recognizers$$.prototype.onTouchEnd=function(){this.signalReady(0)};$TapRecognizer$$module$src$gesture_recognizers$$.prototype.acceptStart=function(){this.signalEmit({clientX:this.$lastX_$,clientY:this.$lastY_$,target:this.$target_$},null);this.signalEnd()};
function $DoubletapRecognizer$$module$src$gesture_recognizers$$($manager$jscomp$2$$){$GestureRecognizer$$module$src$gesture$$.call(this,"doubletap",$manager$jscomp$2$$);this.$tapCount_$=this.$lastY_$=this.$lastX_$=this.$startY_$=this.$startX_$=0;this.$event_$=null}$$jscomp$inherits$$($DoubletapRecognizer$$module$src$gesture_recognizers$$,$GestureRecognizer$$module$src$gesture$$);$JSCompiler_prototypeAlias$$=$DoubletapRecognizer$$module$src$gesture_recognizers$$.prototype;
$JSCompiler_prototypeAlias$$.onTouchStart=function($e$jscomp$22_touches$jscomp$4$$){return 1<this.$tapCount_$?!1:($e$jscomp$22_touches$jscomp$4$$=$e$jscomp$22_touches$jscomp$4$$.touches)&&1==$e$jscomp$22_touches$jscomp$4$$.length?(this.$startX_$=$e$jscomp$22_touches$jscomp$4$$[0].clientX,this.$startY_$=$e$jscomp$22_touches$jscomp$4$$[0].clientY,this.$lastX_$=$e$jscomp$22_touches$jscomp$4$$[0].clientX,this.$lastY_$=$e$jscomp$22_touches$jscomp$4$$[0].clientY,!0):!1};
$JSCompiler_prototypeAlias$$.onTouchMove=function($dy$jscomp$5_e$jscomp$23_touches$jscomp$5$$){return($dy$jscomp$5_e$jscomp$23_touches$jscomp$5$$=$dy$jscomp$5_e$jscomp$23_touches$jscomp$5$$.touches)&&1==$dy$jscomp$5_e$jscomp$23_touches$jscomp$5$$.length?(this.$lastX_$=$dy$jscomp$5_e$jscomp$23_touches$jscomp$5$$[0].clientX,this.$lastY_$=$dy$jscomp$5_e$jscomp$23_touches$jscomp$5$$[0].clientY,$dy$jscomp$5_e$jscomp$23_touches$jscomp$5$$=8<=Math.abs(this.$lastY_$-this.$startY_$),8<=Math.abs(this.$lastX_$-
this.$startX_$)||$dy$jscomp$5_e$jscomp$23_touches$jscomp$5$$?(this.acceptCancel(),!1):!0):!1};$JSCompiler_prototypeAlias$$.onTouchEnd=function($e$jscomp$24$$){this.$tapCount_$++;2>this.$tapCount_$?this.signalPending(200):(this.$event_$=$e$jscomp$24$$,this.signalReady(0))};$JSCompiler_prototypeAlias$$.acceptStart=function(){this.$tapCount_$=0;this.signalEmit({clientX:this.$lastX_$,clientY:this.$lastY_$},this.$event_$);this.signalEnd()};
$JSCompiler_prototypeAlias$$.acceptCancel=function(){this.$tapCount_$=0};
function $SwipeRecognizer$$module$src$gesture_recognizers$$($type$jscomp$138$$,$manager$jscomp$3$$,$horiz$$,$vert$$){$GestureRecognizer$$module$src$gesture$$.call(this,$type$jscomp$138$$,$manager$jscomp$3$$);this.$horiz_$=$horiz$$;this.$vert_$=$vert$$;this.$eventing_$=!1;this.$velocityY_$=this.$velocityX_$=this.$prevTime_$=this.$lastTime_$=this.$startTime_$=this.$prevY_$=this.$prevX_$=this.$lastY_$=this.$lastX_$=this.$startY_$=this.$startX_$=0}
$$jscomp$inherits$$($SwipeRecognizer$$module$src$gesture_recognizers$$,$GestureRecognizer$$module$src$gesture$$);$JSCompiler_prototypeAlias$$=$SwipeRecognizer$$module$src$gesture_recognizers$$.prototype;
$JSCompiler_prototypeAlias$$.onTouchStart=function($e$jscomp$25_touches$jscomp$6$$){$e$jscomp$25_touches$jscomp$6$$=$e$jscomp$25_touches$jscomp$6$$.touches;return this.$eventing_$&&$e$jscomp$25_touches$jscomp$6$$&&1<$e$jscomp$25_touches$jscomp$6$$.length?!0:$e$jscomp$25_touches$jscomp$6$$&&1==$e$jscomp$25_touches$jscomp$6$$.length?(this.$startTime_$=Date.now(),this.$startX_$=$e$jscomp$25_touches$jscomp$6$$[0].clientX,this.$startY_$=$e$jscomp$25_touches$jscomp$6$$[0].clientY,!0):!1};
$JSCompiler_prototypeAlias$$.onTouchMove=function($dx$jscomp$6_e$jscomp$26$$){var $dy$jscomp$6_touches$jscomp$7_x$jscomp$87$$=$dx$jscomp$6_e$jscomp$26$$.touches;if($dy$jscomp$6_touches$jscomp$7_x$jscomp$87$$&&1<=$dy$jscomp$6_touches$jscomp$7_x$jscomp$87$$.length){var $$jscomp$destructuring$var17_y$jscomp$70$$=$dy$jscomp$6_touches$jscomp$7_x$jscomp$87$$[0];$dy$jscomp$6_touches$jscomp$7_x$jscomp$87$$=$$jscomp$destructuring$var17_y$jscomp$70$$.clientX;$$jscomp$destructuring$var17_y$jscomp$70$$=$$jscomp$destructuring$var17_y$jscomp$70$$.clientY;
this.$lastX_$=$dy$jscomp$6_touches$jscomp$7_x$jscomp$87$$;this.$lastY_$=$$jscomp$destructuring$var17_y$jscomp$70$$;if(this.$eventing_$)this.$emit_$(!1,!1,$dx$jscomp$6_e$jscomp$26$$);else if($dx$jscomp$6_e$jscomp$26$$=Math.abs($dy$jscomp$6_touches$jscomp$7_x$jscomp$87$$-this.$startX_$),$dy$jscomp$6_touches$jscomp$7_x$jscomp$87$$=Math.abs($$jscomp$destructuring$var17_y$jscomp$70$$-this.$startY_$),this.$horiz_$&&this.$vert_$)(8<=$dx$jscomp$6_e$jscomp$26$$||8<=$dy$jscomp$6_touches$jscomp$7_x$jscomp$87$$)&&
this.signalReady(-10);else if(this.$horiz_$)if(8<=$dx$jscomp$6_e$jscomp$26$$&&$dx$jscomp$6_e$jscomp$26$$>$dy$jscomp$6_touches$jscomp$7_x$jscomp$87$$)this.signalReady(-10);else{if(8<=$dy$jscomp$6_touches$jscomp$7_x$jscomp$87$$)return!1}else if(this.$vert_$)if(8<=$dy$jscomp$6_touches$jscomp$7_x$jscomp$87$$&&$dy$jscomp$6_touches$jscomp$7_x$jscomp$87$$>$dx$jscomp$6_e$jscomp$26$$)this.signalReady(-10);else{if(8<=$dx$jscomp$6_e$jscomp$26$$)return!1}else return!1;return!0}return!1};
$JSCompiler_prototypeAlias$$.onTouchEnd=function($e$jscomp$27$$){var $touches$jscomp$8$$=$e$jscomp$27$$.touches;$touches$jscomp$8$$&&0==$touches$jscomp$8$$.length&&this.$end_$($e$jscomp$27$$)};$JSCompiler_prototypeAlias$$.acceptStart=function(){this.$eventing_$=!0;this.$prevX_$=this.$startX_$;this.$prevY_$=this.$startY_$;this.$prevTime_$=this.$startTime_$;this.$startX_$=this.$lastX_$;this.$startY_$=this.$lastY_$;this.$emit_$(!0,!1,null)};
$JSCompiler_prototypeAlias$$.acceptCancel=function(){this.$eventing_$=!1};
$JSCompiler_prototypeAlias$$.$emit_$=function($first$jscomp$6$$,$last$$,$event$jscomp$13$$){this.$lastTime_$=Date.now();var $deltaTime$jscomp$1$$=this.$lastTime_$-this.$prevTime_$;if(!$last$$&&4<$deltaTime$jscomp$1$$||$last$$&&16<$deltaTime$jscomp$1$$){var $velocityX$$=$calcVelocity$$module$src$motion$$(this.$lastX_$-this.$prevX_$,$deltaTime$jscomp$1$$,this.$velocityX_$),$velocityY$$=$calcVelocity$$module$src$motion$$(this.$lastY_$-this.$prevY_$,$deltaTime$jscomp$1$$,this.$velocityY_$);if(!$last$$||
32<$deltaTime$jscomp$1$$||0!=$velocityX$$||0!=$velocityY$$)this.$velocityX_$=1E-4<Math.abs($velocityX$$)?$velocityX$$:0,this.$velocityY_$=1E-4<Math.abs($velocityY$$)?$velocityY$$:0;this.$prevX_$=this.$lastX_$;this.$prevY_$=this.$lastY_$;this.$prevTime_$=this.$lastTime_$}this.signalEmit({first:$first$jscomp$6$$,last:$last$$,time:this.$lastTime_$,deltaX:this.$lastX_$-this.$startX_$,deltaY:this.$lastY_$-this.$startY_$,startX:this.$startX_$,startY:this.$startY_$,lastX:this.$lastX_$,lastY:this.$lastY_$,
velocityX:this.$velocityX_$,velocityY:this.$velocityY_$},$event$jscomp$13$$)};$JSCompiler_prototypeAlias$$.$end_$=function($event$jscomp$14$$){this.$eventing_$&&(this.$eventing_$=!1,this.$emit_$(!1,!0,$event$jscomp$14$$),this.signalEnd())};function $SwipeXYRecognizer$$module$src$gesture_recognizers$$($manager$jscomp$4$$){$SwipeRecognizer$$module$src$gesture_recognizers$$.call(this,"swipe-xy",$manager$jscomp$4$$,!0,!0)}$$jscomp$inherits$$($SwipeXYRecognizer$$module$src$gesture_recognizers$$,$SwipeRecognizer$$module$src$gesture_recognizers$$);
function $TapzoomRecognizer$$module$src$gesture_recognizers$$($manager$jscomp$7$$){$GestureRecognizer$$module$src$gesture$$.call(this,"tapzoom",$manager$jscomp$7$$);this.$eventing_$=!1;this.$velocityY_$=this.$velocityX_$=this.$prevTime_$=this.$lastTime_$=this.$prevY_$=this.$prevX_$=this.$tapCount_$=this.$lastY_$=this.$lastX_$=this.$startY_$=this.$startX_$=0}$$jscomp$inherits$$($TapzoomRecognizer$$module$src$gesture_recognizers$$,$GestureRecognizer$$module$src$gesture$$);
$JSCompiler_prototypeAlias$$=$TapzoomRecognizer$$module$src$gesture_recognizers$$.prototype;$JSCompiler_prototypeAlias$$.onTouchStart=function($e$jscomp$28_touches$jscomp$9$$){return this.$eventing_$?!1:($e$jscomp$28_touches$jscomp$9$$=$e$jscomp$28_touches$jscomp$9$$.touches)&&1==$e$jscomp$28_touches$jscomp$9$$.length?(this.$startX_$=$e$jscomp$28_touches$jscomp$9$$[0].clientX,this.$startY_$=$e$jscomp$28_touches$jscomp$9$$[0].clientY,!0):!1};
$JSCompiler_prototypeAlias$$.onTouchMove=function($dy$jscomp$7_e$jscomp$29$$){var $touches$jscomp$10$$=$dy$jscomp$7_e$jscomp$29$$.touches;if($touches$jscomp$10$$&&1==$touches$jscomp$10$$.length){this.$lastX_$=$touches$jscomp$10$$[0].clientX;this.$lastY_$=$touches$jscomp$10$$[0].clientY;if(this.$eventing_$)this.$emit_$(!1,!1,$dy$jscomp$7_e$jscomp$29$$);else if($dy$jscomp$7_e$jscomp$29$$=8<=Math.abs(this.$lastY_$-this.$startY_$),8<=Math.abs(this.$lastX_$-this.$startX_$)||$dy$jscomp$7_e$jscomp$29$$){if(0==
this.$tapCount_$)return this.acceptCancel(),!1;this.signalReady(0)}return!0}return!1};$JSCompiler_prototypeAlias$$.onTouchEnd=function($e$jscomp$30$$){this.$eventing_$?this.$end_$($e$jscomp$30$$):(this.$tapCount_$++,1==this.$tapCount_$?this.signalPending(400):this.acceptCancel())};$JSCompiler_prototypeAlias$$.acceptStart=function(){this.$tapCount_$=0;this.$eventing_$=!0;this.$emit_$(!0,!1,null)};$JSCompiler_prototypeAlias$$.acceptCancel=function(){this.$tapCount_$=0;this.$eventing_$=!1};
$JSCompiler_prototypeAlias$$.$emit_$=function($first$jscomp$7$$,$last$jscomp$1$$,$event$jscomp$15$$){this.$lastTime_$=Date.now();$first$jscomp$7$$?this.$velocityX_$=this.$velocityY_$=0:2<this.$lastTime_$-this.$prevTime_$&&(this.$velocityX_$=$calcVelocity$$module$src$motion$$(this.$lastX_$-this.$prevX_$,this.$lastTime_$-this.$prevTime_$,this.$velocityX_$),this.$velocityY_$=$calcVelocity$$module$src$motion$$(this.$lastY_$-this.$prevY_$,this.$lastTime_$-this.$prevTime_$,this.$velocityY_$));this.$prevX_$=
this.$lastX_$;this.$prevY_$=this.$lastY_$;this.$prevTime_$=this.$lastTime_$;this.signalEmit({first:$first$jscomp$7$$,last:$last$jscomp$1$$,centerClientX:this.$startX_$,centerClientY:this.$startY_$,deltaX:this.$lastX_$-this.$startX_$,deltaY:this.$lastY_$-this.$startY_$,velocityX:this.$velocityX_$,velocityY:this.$velocityY_$},$event$jscomp$15$$)};$JSCompiler_prototypeAlias$$.$end_$=function($event$jscomp$16$$){this.$eventing_$&&(this.$eventing_$=!1,this.$emit_$(!1,!0,$event$jscomp$16$$),this.signalEnd())};function $isLoaded$$module$src$event_helper$$($eleOrWindow$$){return!!($eleOrWindow$$.complete||"complete"==$eleOrWindow$$.readyState||$eleOrWindow$$.document&&"complete"==$eleOrWindow$$.document.readyState)};function $layoutRectLtwh$$module$src$layout_rect$$($left$jscomp$2$$,$top$jscomp$2$$,$width$jscomp$27$$,$height$jscomp$26$$){return{left:$left$jscomp$2$$,top:$top$jscomp$2$$,width:$width$jscomp$27$$,height:$height$jscomp$26$$,bottom:$top$jscomp$2$$+$height$jscomp$26$$,right:$left$jscomp$2$$+$width$jscomp$27$$,x:$left$jscomp$2$$,y:$top$jscomp$2$$}}
function $layoutRectFromDomRect$$module$src$layout_rect$$($rect$$){return $layoutRectLtwh$$module$src$layout_rect$$(Number($rect$$.left),Number($rect$$.top),Number($rect$$.width),Number($rect$$.height))};var $srcsetRegex$$module$src$srcset$$=/(\S+)(?:\s+(?:(-?\d+(?:\.\d+)?)([a-zA-Z]*)))?\s*(?:,|$)/g;
function $srcsetFromElement$$module$src$srcset$$($JSCompiler_sources$jscomp$inline_108_element$jscomp$68$$){var $srcsetAttr$$=$JSCompiler_sources$jscomp$inline_108_element$jscomp$68$$.getAttribute("srcset");if($srcsetAttr$$){$JSCompiler_sources$jscomp$inline_108_element$jscomp$68$$=[];for(var $JSCompiler_match$jscomp$inline_109$$;$JSCompiler_match$jscomp$inline_109$$=$srcsetRegex$$module$src$srcset$$.exec($srcsetAttr$$);){var $JSCompiler_url$jscomp$inline_110$$=$JSCompiler_match$jscomp$inline_109$$[1],
$JSCompiler_width$jscomp$inline_111$$=void 0,$JSCompiler_dpr$jscomp$inline_112$$=void 0;if($JSCompiler_match$jscomp$inline_109$$[2]){var $JSCompiler_type$jscomp$inline_113$$=$JSCompiler_match$jscomp$inline_109$$[3].toLowerCase();if("w"==$JSCompiler_type$jscomp$inline_113$$)$JSCompiler_width$jscomp$inline_111$$=parseInt($JSCompiler_match$jscomp$inline_109$$[2],10);else if("x"==$JSCompiler_type$jscomp$inline_113$$)$JSCompiler_dpr$jscomp$inline_112$$=parseFloat($JSCompiler_match$jscomp$inline_109$$[2]);
else continue}else $JSCompiler_dpr$jscomp$inline_112$$=1;$JSCompiler_sources$jscomp$inline_108_element$jscomp$68$$.push({url:$JSCompiler_url$jscomp$inline_110$$,width:$JSCompiler_width$jscomp$inline_111$$,dpr:$JSCompiler_dpr$jscomp$inline_112$$})}return new $Srcset$$module$src$srcset$$($JSCompiler_sources$jscomp$inline_108_element$jscomp$68$$)}var $srcAttr$$=$userAssert$$module$src$log$$($JSCompiler_sources$jscomp$inline_108_element$jscomp$68$$.getAttribute("src"),'Either non-empty "srcset" or "src" attribute must be specified: %s',
$JSCompiler_sources$jscomp$inline_108_element$jscomp$68$$);return new $Srcset$$module$src$srcset$$([{url:$srcAttr$$,width:void 0,dpr:1}])}
function $Srcset$$module$src$srcset$$($sources$jscomp$1$$){$userAssert$$module$src$log$$(0<$sources$jscomp$1$$.length,"Srcset must have at least one source");this.$sources_$=$sources$jscomp$1$$;for(var $hasWidth$$=!1,$hasDpr$$=!1,$i$jscomp$34$$=0;$i$jscomp$34$$<$sources$jscomp$1$$.length;$i$jscomp$34$$++){var $source$jscomp$13$$=$sources$jscomp$1$$[$i$jscomp$34$$];$hasWidth$$=$hasWidth$$||!!$source$jscomp$13$$.width;$hasDpr$$=$hasDpr$$||!!$source$jscomp$13$$.dpr}$userAssert$$module$src$log$$(!!($hasWidth$$^
$hasDpr$$),"Srcset must have width or dpr sources, but not both");$sources$jscomp$1$$.sort($hasWidth$$?$sortByWidth$$module$src$srcset$$:$sortByDpr$$module$src$srcset$$);this.$widthBased_$=$hasWidth$$}
$Srcset$$module$src$srcset$$.prototype.select=function($JSCompiler_sources$jscomp$inline_117_JSCompiler_sources$jscomp$inline_127_width$jscomp$29$$,$JSCompiler_temp$jscomp$33_JSCompiler_width$jscomp$inline_116_dpr$jscomp$1$$){if(this.$widthBased_$){$JSCompiler_temp$jscomp$33_JSCompiler_width$jscomp$inline_116_dpr$jscomp$1$$*=$JSCompiler_sources$jscomp$inline_117_JSCompiler_sources$jscomp$inline_127_width$jscomp$29$$;$JSCompiler_sources$jscomp$inline_117_JSCompiler_sources$jscomp$inline_127_width$jscomp$29$$=
this.$sources_$;for(var $JSCompiler_minIndex$jscomp$inline_118_JSCompiler_minIndex$jscomp$inline_128$$=0,$JSCompiler_minScore$jscomp$inline_119_JSCompiler_minScore$jscomp$inline_129$$=Infinity,$JSCompiler_i$jscomp$inline_130_JSCompiler_minWidth$jscomp$inline_120$$=Infinity,$JSCompiler_i$jscomp$inline_121_JSCompiler_score$jscomp$inline_131$$=0;$JSCompiler_i$jscomp$inline_121_JSCompiler_score$jscomp$inline_131$$<$JSCompiler_sources$jscomp$inline_117_JSCompiler_sources$jscomp$inline_127_width$jscomp$29$$.length;$JSCompiler_i$jscomp$inline_121_JSCompiler_score$jscomp$inline_131$$++){var $JSCompiler_sWidth$jscomp$inline_122$$=
$JSCompiler_sources$jscomp$inline_117_JSCompiler_sources$jscomp$inline_127_width$jscomp$29$$[$JSCompiler_i$jscomp$inline_121_JSCompiler_score$jscomp$inline_131$$].width,$JSCompiler_score$jscomp$inline_123$$=Math.abs($JSCompiler_sWidth$jscomp$inline_122$$-$JSCompiler_temp$jscomp$33_JSCompiler_width$jscomp$inline_116_dpr$jscomp$1$$);if($JSCompiler_score$jscomp$inline_123$$<=1.1*$JSCompiler_minScore$jscomp$inline_119_JSCompiler_minScore$jscomp$inline_129$$||1.2<$JSCompiler_temp$jscomp$33_JSCompiler_width$jscomp$inline_116_dpr$jscomp$1$$/
$JSCompiler_i$jscomp$inline_130_JSCompiler_minWidth$jscomp$inline_120$$)$JSCompiler_minIndex$jscomp$inline_118_JSCompiler_minIndex$jscomp$inline_128$$=$JSCompiler_i$jscomp$inline_121_JSCompiler_score$jscomp$inline_131$$,$JSCompiler_minScore$jscomp$inline_119_JSCompiler_minScore$jscomp$inline_129$$=$JSCompiler_score$jscomp$inline_123$$,$JSCompiler_i$jscomp$inline_130_JSCompiler_minWidth$jscomp$inline_120$$=$JSCompiler_sWidth$jscomp$inline_122$$;else break}$JSCompiler_temp$jscomp$33_JSCompiler_width$jscomp$inline_116_dpr$jscomp$1$$=
$JSCompiler_minIndex$jscomp$inline_118_JSCompiler_minIndex$jscomp$inline_128$$}else{$JSCompiler_sources$jscomp$inline_117_JSCompiler_sources$jscomp$inline_127_width$jscomp$29$$=this.$sources_$;$JSCompiler_minIndex$jscomp$inline_118_JSCompiler_minIndex$jscomp$inline_128$$=0;$JSCompiler_minScore$jscomp$inline_119_JSCompiler_minScore$jscomp$inline_129$$=Infinity;for($JSCompiler_i$jscomp$inline_130_JSCompiler_minWidth$jscomp$inline_120$$=0;$JSCompiler_i$jscomp$inline_130_JSCompiler_minWidth$jscomp$inline_120$$<
$JSCompiler_sources$jscomp$inline_117_JSCompiler_sources$jscomp$inline_127_width$jscomp$29$$.length;$JSCompiler_i$jscomp$inline_130_JSCompiler_minWidth$jscomp$inline_120$$++)if($JSCompiler_i$jscomp$inline_121_JSCompiler_score$jscomp$inline_131$$=Math.abs($JSCompiler_sources$jscomp$inline_117_JSCompiler_sources$jscomp$inline_127_width$jscomp$29$$[$JSCompiler_i$jscomp$inline_130_JSCompiler_minWidth$jscomp$inline_120$$].dpr-$JSCompiler_temp$jscomp$33_JSCompiler_width$jscomp$inline_116_dpr$jscomp$1$$),
$JSCompiler_i$jscomp$inline_121_JSCompiler_score$jscomp$inline_131$$<=$JSCompiler_minScore$jscomp$inline_119_JSCompiler_minScore$jscomp$inline_129$$)$JSCompiler_minIndex$jscomp$inline_118_JSCompiler_minIndex$jscomp$inline_128$$=$JSCompiler_i$jscomp$inline_130_JSCompiler_minWidth$jscomp$inline_120$$,$JSCompiler_minScore$jscomp$inline_119_JSCompiler_minScore$jscomp$inline_129$$=$JSCompiler_i$jscomp$inline_121_JSCompiler_score$jscomp$inline_131$$;else break;$JSCompiler_temp$jscomp$33_JSCompiler_width$jscomp$inline_116_dpr$jscomp$1$$=
$JSCompiler_minIndex$jscomp$inline_118_JSCompiler_minIndex$jscomp$inline_128$$}return this.$sources_$[$JSCompiler_temp$jscomp$33_JSCompiler_width$jscomp$inline_116_dpr$jscomp$1$$].url};$Srcset$$module$src$srcset$$.prototype.getUrls=function(){return this.$sources_$.map(function($s$jscomp$16$$){return $s$jscomp$16$$.url})};
$Srcset$$module$src$srcset$$.prototype.stringify=function($opt_mapper$$){for(var $res$jscomp$5$$=[],$sources$jscomp$4$$=this.$sources_$,$i$jscomp$37$$=0;$i$jscomp$37$$<$sources$jscomp$4$$.length;$i$jscomp$37$$++){var $source$jscomp$14$$=$sources$jscomp$4$$[$i$jscomp$37$$],$src$jscomp$5$$=$source$jscomp$14$$.url;$opt_mapper$$&&($src$jscomp$5$$=$opt_mapper$$($src$jscomp$5$$));$src$jscomp$5$$=this.$widthBased_$?$src$jscomp$5$$+(" "+$source$jscomp$14$$.width+"w"):$src$jscomp$5$$+(" "+$source$jscomp$14$$.dpr+
"x");$res$jscomp$5$$.push($src$jscomp$5$$)}return $res$jscomp$5$$.join(", ")};function $sortByWidth$$module$src$srcset$$($s1$jscomp$1$$,$s2$jscomp$1$$){$userAssert$$module$src$log$$($s1$jscomp$1$$.width!=$s2$jscomp$1$$.width,"Duplicate width: %s",$s1$jscomp$1$$.width);return $s1$jscomp$1$$.width-$s2$jscomp$1$$.width}
function $sortByDpr$$module$src$srcset$$($s1$jscomp$2$$,$s2$jscomp$2$$){$userAssert$$module$src$log$$($s1$jscomp$2$$.dpr!=$s2$jscomp$2$$.dpr,"Duplicate dpr: %s",$s1$jscomp$2$$.dpr);return $s1$jscomp$2$$.dpr-$s2$jscomp$2$$.dpr};var $SUPPORTED_ELEMENTS_$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$={"amp-img":!0,"amp-anim":!0},$ARIA_ATTRIBUTES$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$=["aria-label","aria-describedby","aria-labelledby"],$ENTER_CURVE_$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$=$bezierCurve$$module$src$curve$$(.4,0,.2,1),$EXIT_CURVE_$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$=$bezierCurve$$module$src$curve$$(.4,0,.2,1),$PAN_ZOOM_CURVE_$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$=
$bezierCurve$$module$src$curve$$(.4,0,.2,1.4);
function $ImageViewer$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$($lightbox$$,$win$jscomp$45$$,$loadPromise$$){this.$lightbox_$=$lightbox$$;this.win=$win$jscomp$45$$;this.$loadPromise_$=$loadPromise$$;this.$viewer_$=$lightbox$$.element.ownerDocument.createElement("div");this.$viewer_$.classList.add("i-amphtml-image-lightbox-viewer");this.$image_$=$lightbox$$.element.ownerDocument.createElement("img");this.$image_$.classList.add("i-amphtml-image-lightbox-viewer-image");this.$viewer_$.appendChild(this.$image_$);
this.$srcset_$=null;this.$sourceHeight_$=this.$sourceWidth_$=0;this.$viewerBox_$=$layoutRectLtwh$$module$src$layout_rect$$(0,0,0,0);this.$imageBox_$=$layoutRectLtwh$$module$src$layout_rect$$(0,0,0,0);this.$minScale_$=this.$maxSeenScale_$=this.$startScale_$=this.$scale_$=1;this.$maxScale_$=2;this.$maxY_$=this.$maxX_$=this.$minY_$=this.$minX_$=this.$posY_$=this.$posX_$=this.$startY_$=this.$startX_$=0;this.$motion_$=null;$JSCompiler_StaticMethods_setupGestures_$$(this)}$JSCompiler_prototypeAlias$$=$ImageViewer$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$.prototype;
$JSCompiler_prototypeAlias$$.getElement=function(){return this.$viewer_$};$JSCompiler_prototypeAlias$$.getImage=function(){return this.$image_$};$JSCompiler_prototypeAlias$$.getViewerBox=function(){return this.$viewerBox_$};$JSCompiler_prototypeAlias$$.getImageBox=function(){return this.$imageBox_$};
$JSCompiler_prototypeAlias$$.getImageBoxWithOffset=function(){if(0==this.$posX_$&&0==this.$posY_$)var $JSCompiler_rect$jscomp$inline_133_JSCompiler_temp$jscomp$31$$=this.$imageBox_$;else{$JSCompiler_rect$jscomp$inline_133_JSCompiler_temp$jscomp$31$$=this.$imageBox_$;var $JSCompiler_dx$jscomp$inline_134$$=this.$posX_$,$JSCompiler_dy$jscomp$inline_135$$=this.$posY_$;$JSCompiler_rect$jscomp$inline_133_JSCompiler_temp$jscomp$31$$=0==$JSCompiler_dx$jscomp$inline_134$$&&0==$JSCompiler_dy$jscomp$inline_135$$||
0==$JSCompiler_rect$jscomp$inline_133_JSCompiler_temp$jscomp$31$$.width&&0==$JSCompiler_rect$jscomp$inline_133_JSCompiler_temp$jscomp$31$$.height?$JSCompiler_rect$jscomp$inline_133_JSCompiler_temp$jscomp$31$$:$layoutRectLtwh$$module$src$layout_rect$$($JSCompiler_rect$jscomp$inline_133_JSCompiler_temp$jscomp$31$$.left+$JSCompiler_dx$jscomp$inline_134$$,$JSCompiler_rect$jscomp$inline_133_JSCompiler_temp$jscomp$31$$.top+$JSCompiler_dy$jscomp$inline_135$$,$JSCompiler_rect$jscomp$inline_133_JSCompiler_temp$jscomp$31$$.width,
$JSCompiler_rect$jscomp$inline_133_JSCompiler_temp$jscomp$31$$.height)}return $JSCompiler_rect$jscomp$inline_133_JSCompiler_temp$jscomp$31$$};
$JSCompiler_prototypeAlias$$.reset=function(){var $$jscomp$this$jscomp$3$$=this;this.$image_$.setAttribute("src","");$ARIA_ATTRIBUTES$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$.forEach(function($key$jscomp$43$$){$$jscomp$this$jscomp$3$$.$image_$.removeAttribute($key$jscomp$43$$)});this.$image_$.removeAttribute("aria-describedby");this.$srcset_$=null;this.$imageBox_$=$layoutRectLtwh$$module$src$layout_rect$$(0,0,0,0);this.$sourceHeight_$=this.$sourceWidth_$=0;this.$startScale_$=
this.$scale_$=this.$maxSeenScale_$=1;this.$maxScale_$=2;this.$maxY_$=this.$maxX_$=this.$minY_$=this.$minX_$=this.$posY_$=this.$posX_$=this.$startY_$=this.$startX_$=0;this.$motion_$&&this.$motion_$.halt();this.$motion_$=null};
function $JSCompiler_StaticMethods_setSourceDimensions_$$($JSCompiler_StaticMethods_setSourceDimensions_$self$$,$ampImg$$,$img$jscomp$2$$){$img$jscomp$2$$?($JSCompiler_StaticMethods_setSourceDimensions_$self$$.$sourceWidth_$=$img$jscomp$2$$.naturalWidth||$ampImg$$.offsetWidth,$JSCompiler_StaticMethods_setSourceDimensions_$self$$.$sourceHeight_$=$img$jscomp$2$$.naturalHeight||$ampImg$$.offsetHeight):($JSCompiler_StaticMethods_setSourceDimensions_$self$$.$sourceWidth_$=$ampImg$$.offsetWidth,$JSCompiler_StaticMethods_setSourceDimensions_$self$$.$sourceHeight_$=
$ampImg$$.offsetHeight)}
$JSCompiler_prototypeAlias$$.init=function($sourceElement$$,$sourceImage$$){var $$jscomp$this$jscomp$4$$=this;$JSCompiler_StaticMethods_setSourceDimensions_$$(this,$sourceElement$$,$sourceImage$$);this.$srcset_$=$srcsetFromElement$$module$src$srcset$$($sourceElement$$);$sourceElement$$.getImpl().then(function($sourceElement$$){$sourceElement$$.propagateAttributes($ARIA_ATTRIBUTES$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$,$$jscomp$this$jscomp$4$$.$image_$)});$sourceImage$$&&$isLoaded$$module$src$event_helper$$($sourceImage$$)&&
$sourceImage$$.src&&this.$image_$.setAttribute("src",$sourceImage$$.src)};
$JSCompiler_prototypeAlias$$.measure=function(){this.$viewerBox_$=$layoutRectFromDomRect$$module$src$layout_rect$$(this.$viewer_$.getBoundingClientRect());var $sourceAspectRatio$$=this.$sourceWidth_$/this.$sourceHeight_$,$height$jscomp$27$$=Math.min(this.$viewerBox_$.width/$sourceAspectRatio$$,this.$viewerBox_$.height),$width$jscomp$31$$=Math.min(this.$viewerBox_$.height*$sourceAspectRatio$$,this.$viewerBox_$.width);16>=Math.abs($width$jscomp$31$$-this.$sourceWidth_$)&&16>=Math.abs($height$jscomp$27$$-
this.$sourceHeight_$)&&($width$jscomp$31$$=this.$sourceWidth_$,$height$jscomp$27$$=this.$sourceHeight_$);this.$imageBox_$=$layoutRectLtwh$$module$src$layout_rect$$(Math.round((this.$viewerBox_$.width-$width$jscomp$31$$)/2),Math.round((this.$viewerBox_$.height-$height$jscomp$27$$)/2),Math.round($width$jscomp$31$$),Math.round($height$jscomp$27$$));$setStyles$$module$src$style$$(this.$image_$,{top:this.$imageBox_$.top+"px",left:this.$imageBox_$.left+"px",width:this.$imageBox_$.width+"px",height:this.$imageBox_$.height+
"px"});var $viewerBoxRatio$$=this.$viewerBox_$.width/this.$viewerBox_$.height,$maxScale$$=Math.max($viewerBoxRatio$$/$sourceAspectRatio$$,$sourceAspectRatio$$/$viewerBoxRatio$$);this.$maxScale_$=Math.max(2,$maxScale$$);this.$startScale_$=this.$scale_$=1;this.$startY_$=this.$posY_$=this.$startX_$=this.$posX_$=0;$JSCompiler_StaticMethods_updatePanZoomBounds_$$(this,this.$scale_$);$JSCompiler_StaticMethods_updatePanZoom_$$(this);return $JSCompiler_StaticMethods_updateSrc_$$(this)};
function $JSCompiler_StaticMethods_updateSrc_$$($JSCompiler_StaticMethods_updateSrc_$self$$){if(!$JSCompiler_StaticMethods_updateSrc_$self$$.$srcset_$)return Promise.resolve();$JSCompiler_StaticMethods_updateSrc_$self$$.$maxSeenScale_$=Math.max($JSCompiler_StaticMethods_updateSrc_$self$$.$maxSeenScale_$,$JSCompiler_StaticMethods_updateSrc_$self$$.$scale_$);var $src$jscomp$6$$=$JSCompiler_StaticMethods_updateSrc_$self$$.$srcset_$.select($JSCompiler_StaticMethods_updateSrc_$self$$.$imageBox_$.width*
$JSCompiler_StaticMethods_updateSrc_$self$$.$maxSeenScale_$,$JSCompiler_StaticMethods_updateSrc_$self$$.$lightbox_$.getDpr());return $src$jscomp$6$$==$JSCompiler_StaticMethods_updateSrc_$self$$.$image_$.getAttribute("src")?Promise.resolve():$getService$$module$src$service$$($JSCompiler_StaticMethods_updateSrc_$self$$.win,"timer").promise(1).then(function(){$JSCompiler_StaticMethods_updateSrc_$self$$.$image_$.setAttribute("src",$src$jscomp$6$$);return $JSCompiler_StaticMethods_updateSrc_$self$$.$loadPromise_$($JSCompiler_StaticMethods_updateSrc_$self$$.$image_$)})}
function $JSCompiler_StaticMethods_setupGestures_$$($JSCompiler_StaticMethods_setupGestures_$self$$){var $gestures$$=$Gestures$$module$src$gesture$get$$($JSCompiler_StaticMethods_setupGestures_$self$$.$image_$);$gestures$$.onGesture($TapRecognizer$$module$src$gesture_recognizers$$,function(){$JSCompiler_StaticMethods_setupGestures_$self$$.$lightbox_$.toggleViewMode()});$gestures$$.onGesture($SwipeXYRecognizer$$module$src$gesture_recognizers$$,function($gestures$$){var $e$jscomp$36$$=$gestures$$.data.deltaY,
$JSCompiler_newPosX$jscomp$inline_141$$=$JSCompiler_StaticMethods_boundX_$$($JSCompiler_StaticMethods_setupGestures_$self$$,$JSCompiler_StaticMethods_setupGestures_$self$$.$startX_$+$gestures$$.data.deltaX,!0);$e$jscomp$36$$=$JSCompiler_StaticMethods_boundY_$$($JSCompiler_StaticMethods_setupGestures_$self$$,$JSCompiler_StaticMethods_setupGestures_$self$$.$startY_$+$e$jscomp$36$$,!0);$JSCompiler_StaticMethods_set_$$($JSCompiler_StaticMethods_setupGestures_$self$$,$JSCompiler_StaticMethods_setupGestures_$self$$.$scale_$,
$JSCompiler_newPosX$jscomp$inline_141$$,$e$jscomp$36$$,!1);$gestures$$.data.last&&$JSCompiler_StaticMethods_onMoveRelease_$$($JSCompiler_StaticMethods_setupGestures_$self$$,$gestures$$.data.velocityX,$gestures$$.data.velocityY)});$gestures$$.onPointerDown(function(){$JSCompiler_StaticMethods_setupGestures_$self$$.$motion_$&&$JSCompiler_StaticMethods_setupGestures_$self$$.$motion_$.halt()});$gestures$$.onGesture($DoubletapRecognizer$$module$src$gesture_recognizers$$,function($gestures$$){var $e$jscomp$37$$=
1==$JSCompiler_StaticMethods_setupGestures_$self$$.$scale_$?$JSCompiler_StaticMethods_setupGestures_$self$$.$maxScale_$:$JSCompiler_StaticMethods_setupGestures_$self$$.$minScale_$;$JSCompiler_StaticMethods_onZoom_$$($JSCompiler_StaticMethods_setupGestures_$self$$,$e$jscomp$37$$,$JSCompiler_StaticMethods_setupGestures_$self$$.$viewerBox_$.width/2-$gestures$$.data.clientX,$JSCompiler_StaticMethods_setupGestures_$self$$.$viewerBox_$.height/2-$gestures$$.data.clientY,!0).then(function(){return $JSCompiler_StaticMethods_onZoomRelease_$$($JSCompiler_StaticMethods_setupGestures_$self$$,
0,0,0,0,0,0)})});$gestures$$.onGesture($TapzoomRecognizer$$module$src$gesture_recognizers$$,function($gestures$$){$JSCompiler_StaticMethods_onZoomInc_$$($JSCompiler_StaticMethods_setupGestures_$self$$,$gestures$$.data.centerClientX,$gestures$$.data.centerClientY,$gestures$$.data.deltaX,$gestures$$.data.deltaY);$gestures$$.data.last&&$JSCompiler_StaticMethods_onZoomRelease_$$($JSCompiler_StaticMethods_setupGestures_$self$$,$gestures$$.data.centerClientX,$gestures$$.data.centerClientY,$gestures$$.data.deltaX,
$gestures$$.data.deltaY,$gestures$$.data.velocityY,$gestures$$.data.velocityY)})}function $JSCompiler_StaticMethods_boundValue_$$($v$$,$min$$,$max$$,$extent$$){return Math.max($min$$-$extent$$,Math.min($max$$+$extent$$,$v$$))}
function $JSCompiler_StaticMethods_boundX_$$($JSCompiler_StaticMethods_boundX_$self$$,$x$jscomp$88$$,$allowExtent$jscomp$1$$){return $JSCompiler_StaticMethods_boundValue_$$($x$jscomp$88$$,$JSCompiler_StaticMethods_boundX_$self$$.$minX_$,$JSCompiler_StaticMethods_boundX_$self$$.$maxX_$,$allowExtent$jscomp$1$$&&1<$JSCompiler_StaticMethods_boundX_$self$$.$scale_$?.25*$JSCompiler_StaticMethods_boundX_$self$$.$viewerBox_$.width:0)}
function $JSCompiler_StaticMethods_boundY_$$($JSCompiler_StaticMethods_boundY_$self$$,$y$jscomp$71$$,$allowExtent$jscomp$2$$){return $JSCompiler_StaticMethods_boundValue_$$($y$jscomp$71$$,$JSCompiler_StaticMethods_boundY_$self$$.$minY_$,$JSCompiler_StaticMethods_boundY_$self$$.$maxY_$,$allowExtent$jscomp$2$$?.25*$JSCompiler_StaticMethods_boundY_$self$$.$viewerBox_$.height:0)}
function $JSCompiler_StaticMethods_updatePanZoomBounds_$$($JSCompiler_StaticMethods_updatePanZoomBounds_$self$$,$dw$jscomp$1_scale$jscomp$2$$){var $maxY$$=0,$minY$$=0,$dh$jscomp$1$$=$JSCompiler_StaticMethods_updatePanZoomBounds_$self$$.$viewerBox_$.height-$JSCompiler_StaticMethods_updatePanZoomBounds_$self$$.$imageBox_$.height*$dw$jscomp$1_scale$jscomp$2$$;0<=$dh$jscomp$1$$?$minY$$=$maxY$$=0:($minY$$=$dh$jscomp$1$$/2,$maxY$$=-$minY$$);var $maxX$$=0,$minX$$=0;$dw$jscomp$1_scale$jscomp$2$$=$JSCompiler_StaticMethods_updatePanZoomBounds_$self$$.$viewerBox_$.width-
$JSCompiler_StaticMethods_updatePanZoomBounds_$self$$.$imageBox_$.width*$dw$jscomp$1_scale$jscomp$2$$;0<=$dw$jscomp$1_scale$jscomp$2$$?$minX$$=$maxX$$=0:($minX$$=$dw$jscomp$1_scale$jscomp$2$$/2,$maxX$$=-$minX$$);$JSCompiler_StaticMethods_updatePanZoomBounds_$self$$.$minX_$=$minX$$;$JSCompiler_StaticMethods_updatePanZoomBounds_$self$$.$minY_$=$minY$$;$JSCompiler_StaticMethods_updatePanZoomBounds_$self$$.$maxX_$=$maxX$$;$JSCompiler_StaticMethods_updatePanZoomBounds_$self$$.$maxY_$=$maxY$$}
function $JSCompiler_StaticMethods_updatePanZoom_$$($JSCompiler_StaticMethods_updatePanZoom_$self$$){var $JSCompiler_temp_const$jscomp$25$$=$JSCompiler_StaticMethods_updatePanZoom_$self$$.$image_$;var $JSCompiler_inline_result$jscomp$26_JSCompiler_x$jscomp$inline_144$$=$JSCompiler_StaticMethods_updatePanZoom_$self$$.$posX_$;var $JSCompiler_opt_y$jscomp$inline_145$$=$JSCompiler_StaticMethods_updatePanZoom_$self$$.$posY_$;"number"==typeof $JSCompiler_inline_result$jscomp$26_JSCompiler_x$jscomp$inline_144$$&&
($JSCompiler_inline_result$jscomp$26_JSCompiler_x$jscomp$inline_144$$+="px");void 0===$JSCompiler_opt_y$jscomp$inline_145$$?$JSCompiler_inline_result$jscomp$26_JSCompiler_x$jscomp$inline_144$$="translate("+$JSCompiler_inline_result$jscomp$26_JSCompiler_x$jscomp$inline_144$$+")":("number"==typeof $JSCompiler_opt_y$jscomp$inline_145$$&&($JSCompiler_opt_y$jscomp$inline_145$$+="px"),$JSCompiler_inline_result$jscomp$26_JSCompiler_x$jscomp$inline_144$$="translate("+$JSCompiler_inline_result$jscomp$26_JSCompiler_x$jscomp$inline_144$$+
", "+$JSCompiler_opt_y$jscomp$inline_145$$+")");$setStyles$$module$src$style$$($JSCompiler_temp_const$jscomp$25$$,{transform:$JSCompiler_inline_result$jscomp$26_JSCompiler_x$jscomp$inline_144$$+" "+("scale("+$JSCompiler_StaticMethods_updatePanZoom_$self$$.$scale_$+")")});1!=$JSCompiler_StaticMethods_updatePanZoom_$self$$.$scale_$&&$JSCompiler_StaticMethods_updatePanZoom_$self$$.$lightbox_$.toggleViewMode(!0)}
function $JSCompiler_StaticMethods_onMoveRelease_$$($JSCompiler_StaticMethods_onMoveRelease_$self$$,$veloX$jscomp$2$$,$veloY$jscomp$2$$){var $deltaY$jscomp$3$$=$JSCompiler_StaticMethods_onMoveRelease_$self$$.$posY_$-$JSCompiler_StaticMethods_onMoveRelease_$self$$.$startY_$;1==$JSCompiler_StaticMethods_onMoveRelease_$self$$.$scale_$&&10<Math.abs($deltaY$jscomp$3$$)?$JSCompiler_StaticMethods_onMoveRelease_$self$$.$lightbox_$.close():($JSCompiler_StaticMethods_onMoveRelease_$self$$.$motion_$=$continueMotion$$module$src$motion$$($JSCompiler_StaticMethods_onMoveRelease_$self$$.$image_$,
$JSCompiler_StaticMethods_onMoveRelease_$self$$.$posX_$,$JSCompiler_StaticMethods_onMoveRelease_$self$$.$posY_$,$veloX$jscomp$2$$,$veloY$jscomp$2$$,function($veloX$jscomp$2$$,$veloY$jscomp$2$$){$veloX$jscomp$2$$=$JSCompiler_StaticMethods_boundX_$$($JSCompiler_StaticMethods_onMoveRelease_$self$$,$veloX$jscomp$2$$,!0);$veloY$jscomp$2$$=$JSCompiler_StaticMethods_boundY_$$($JSCompiler_StaticMethods_onMoveRelease_$self$$,$veloY$jscomp$2$$,!0);if(1>Math.abs($veloX$jscomp$2$$-$JSCompiler_StaticMethods_onMoveRelease_$self$$.$posX_$)&&
1>Math.abs($veloY$jscomp$2$$-$JSCompiler_StaticMethods_onMoveRelease_$self$$.$posY_$))return!1;$JSCompiler_StaticMethods_set_$$($JSCompiler_StaticMethods_onMoveRelease_$self$$,$JSCompiler_StaticMethods_onMoveRelease_$self$$.$scale_$,$veloX$jscomp$2$$,$veloY$jscomp$2$$,!1);return!0}),$JSCompiler_StaticMethods_onMoveRelease_$self$$.$motion_$.thenAlways(function(){$JSCompiler_StaticMethods_onMoveRelease_$self$$.$motion_$=null;return $JSCompiler_StaticMethods_release_$$($JSCompiler_StaticMethods_onMoveRelease_$self$$)}))}
function $JSCompiler_StaticMethods_onZoomInc_$$($JSCompiler_StaticMethods_onZoomInc_$self$$,$centerClientX$$,$centerClientY$$,$deltaX$jscomp$3$$,$deltaY$jscomp$4$$){var $dist$$=Math.sqrt($deltaX$jscomp$3$$*$deltaX$jscomp$3$$+$deltaY$jscomp$4$$*$deltaY$jscomp$4$$),$zoomSign$$=Math.abs($deltaY$jscomp$4$$)>Math.abs($deltaX$jscomp$3$$)?Math.sign($deltaY$jscomp$4$$):Math.sign(-$deltaX$jscomp$3$$);if(0!=$zoomSign$$){var $newScale$jscomp$1$$=$JSCompiler_StaticMethods_onZoomInc_$self$$.$startScale_$*(1+$zoomSign$$*
$dist$$/100),$deltaCenterX$$=$JSCompiler_StaticMethods_onZoomInc_$self$$.$viewerBox_$.width/2-$centerClientX$$,$deltaCenterY$$=$JSCompiler_StaticMethods_onZoomInc_$self$$.$viewerBox_$.height/2-$centerClientY$$;$deltaX$jscomp$3$$=Math.min($deltaCenterX$$,$dist$$/100*$deltaCenterX$$);$deltaY$jscomp$4$$=Math.min($deltaCenterY$$,$dist$$/100*$deltaCenterY$$);$JSCompiler_StaticMethods_onZoom_$$($JSCompiler_StaticMethods_onZoomInc_$self$$,$newScale$jscomp$1$$,$deltaX$jscomp$3$$,$deltaY$jscomp$4$$,!1)}}
function $JSCompiler_StaticMethods_onZoom_$$($JSCompiler_StaticMethods_onZoom_$self$$,$newScale$jscomp$2_scale$jscomp$3$$,$deltaX$jscomp$4_newPosX$jscomp$2$$,$deltaY$jscomp$5_newPosY$jscomp$2$$,$animate$jscomp$1$$){$newScale$jscomp$2_scale$jscomp$3$$=$JSCompiler_StaticMethods_boundValue_$$($newScale$jscomp$2_scale$jscomp$3$$,$JSCompiler_StaticMethods_onZoom_$self$$.$minScale_$,$JSCompiler_StaticMethods_onZoom_$self$$.$maxScale_$,.25);if($newScale$jscomp$2_scale$jscomp$3$$!=$JSCompiler_StaticMethods_onZoom_$self$$.$scale_$)return $JSCompiler_StaticMethods_updatePanZoomBounds_$$($JSCompiler_StaticMethods_onZoom_$self$$,
$newScale$jscomp$2_scale$jscomp$3$$),$deltaX$jscomp$4_newPosX$jscomp$2$$=$JSCompiler_StaticMethods_boundX_$$($JSCompiler_StaticMethods_onZoom_$self$$,$JSCompiler_StaticMethods_onZoom_$self$$.$startX_$+$deltaX$jscomp$4_newPosX$jscomp$2$$*$newScale$jscomp$2_scale$jscomp$3$$,!1),$deltaY$jscomp$5_newPosY$jscomp$2$$=$JSCompiler_StaticMethods_boundY_$$($JSCompiler_StaticMethods_onZoom_$self$$,$JSCompiler_StaticMethods_onZoom_$self$$.$startY_$+$deltaY$jscomp$5_newPosY$jscomp$2$$*$newScale$jscomp$2_scale$jscomp$3$$,
!1),$JSCompiler_StaticMethods_set_$$($JSCompiler_StaticMethods_onZoom_$self$$,$newScale$jscomp$2_scale$jscomp$3$$,$deltaX$jscomp$4_newPosX$jscomp$2$$,$deltaY$jscomp$5_newPosY$jscomp$2$$,$animate$jscomp$1$$)}
function $JSCompiler_StaticMethods_onZoomRelease_$$($JSCompiler_StaticMethods_onZoomRelease_$self$$,$centerClientX$jscomp$1$$,$centerClientY$jscomp$1$$,$deltaX$jscomp$5_promise$jscomp$2$$,$deltaY$jscomp$6$$,$veloX$jscomp$3$$,$veloY$jscomp$3$$){$deltaX$jscomp$5_promise$jscomp$2$$=0==$veloX$jscomp$3$$&&0==$veloY$jscomp$3$$?Promise.resolve():$continueMotion$$module$src$motion$$($JSCompiler_StaticMethods_onZoomRelease_$self$$.$image_$,$deltaX$jscomp$5_promise$jscomp$2$$,$deltaY$jscomp$6$$,$veloX$jscomp$3$$,
$veloY$jscomp$3$$,function($deltaX$jscomp$5_promise$jscomp$2$$,$deltaY$jscomp$6$$){$JSCompiler_StaticMethods_onZoomInc_$$($JSCompiler_StaticMethods_onZoomRelease_$self$$,$centerClientX$jscomp$1$$,$centerClientY$jscomp$1$$,$deltaX$jscomp$5_promise$jscomp$2$$,$deltaY$jscomp$6$$);return!0}).thenAlways();var $relayout$$=$JSCompiler_StaticMethods_onZoomRelease_$self$$.$scale_$>$JSCompiler_StaticMethods_onZoomRelease_$self$$.$startScale_$;return $deltaX$jscomp$5_promise$jscomp$2$$.then(function(){return $JSCompiler_StaticMethods_release_$$($JSCompiler_StaticMethods_onZoomRelease_$self$$)}).then(function(){$relayout$$&&
$JSCompiler_StaticMethods_updateSrc_$$($JSCompiler_StaticMethods_onZoomRelease_$self$$)})}
function $JSCompiler_StaticMethods_set_$$($JSCompiler_StaticMethods_set_$self$$,$newScale$jscomp$3$$,$newPosX$jscomp$3$$,$newPosY$jscomp$3$$,$animate$jscomp$2_promise$jscomp$3$$){var $ds$$=$newScale$jscomp$3$$-$JSCompiler_StaticMethods_set_$self$$.$scale_$,$dist$jscomp$1_dx$jscomp$9$$=$newPosX$jscomp$3$$-$JSCompiler_StaticMethods_set_$self$$.$posX_$,$dy$jscomp$9$$=$newPosY$jscomp$3$$-$JSCompiler_StaticMethods_set_$self$$.$posY_$;$dist$jscomp$1_dx$jscomp$9$$=Math.sqrt($dist$jscomp$1_dx$jscomp$9$$*
$dist$jscomp$1_dx$jscomp$9$$+$dy$jscomp$9$$*$dy$jscomp$9$$);var $dur$$=0;if($animate$jscomp$2_promise$jscomp$3$$){var $maxDur$$=250;$dur$$=Math.min($maxDur$$,Math.max($maxDur$$*$dist$jscomp$1_dx$jscomp$9$$*.01,$maxDur$$*Math.abs($ds$$)))}if(16<$dur$$&&$animate$jscomp$2_promise$jscomp$3$$){var $scaleFunc$$=$numeric$$module$src$transition$$($JSCompiler_StaticMethods_set_$self$$.$scale_$,$newScale$jscomp$3$$),$xFunc$$=$numeric$$module$src$transition$$($JSCompiler_StaticMethods_set_$self$$.$posX_$,$newPosX$jscomp$3$$),
$yFunc$$=$numeric$$module$src$transition$$($JSCompiler_StaticMethods_set_$self$$.$posY_$,$newPosY$jscomp$3$$);$animate$jscomp$2_promise$jscomp$3$$=$Animation$$module$src$animation$animate$$($JSCompiler_StaticMethods_set_$self$$.$image_$,function($newScale$jscomp$3$$){$JSCompiler_StaticMethods_set_$self$$.$scale_$=$scaleFunc$$($newScale$jscomp$3$$);$JSCompiler_StaticMethods_set_$self$$.$posX_$=$xFunc$$($newScale$jscomp$3$$);$JSCompiler_StaticMethods_set_$self$$.$posY_$=$yFunc$$($newScale$jscomp$3$$);
$JSCompiler_StaticMethods_updatePanZoom_$$($JSCompiler_StaticMethods_set_$self$$)},$dur$$).thenAlways(function(){$JSCompiler_StaticMethods_set_$self$$.$scale_$=$newScale$jscomp$3$$;$JSCompiler_StaticMethods_set_$self$$.$posX_$=$newPosX$jscomp$3$$;$JSCompiler_StaticMethods_set_$self$$.$posY_$=$newPosY$jscomp$3$$;$JSCompiler_StaticMethods_updatePanZoom_$$($JSCompiler_StaticMethods_set_$self$$)})}else $JSCompiler_StaticMethods_set_$self$$.$scale_$=$newScale$jscomp$3$$,$JSCompiler_StaticMethods_set_$self$$.$posX_$=
$newPosX$jscomp$3$$,$JSCompiler_StaticMethods_set_$self$$.$posY_$=$newPosY$jscomp$3$$,$JSCompiler_StaticMethods_updatePanZoom_$$($JSCompiler_StaticMethods_set_$self$$),$animate$jscomp$2_promise$jscomp$3$$=$animate$jscomp$2_promise$jscomp$3$$?Promise.resolve():void 0;return $animate$jscomp$2_promise$jscomp$3$$}
function $JSCompiler_StaticMethods_release_$$($JSCompiler_StaticMethods_release_$self$$){var $newScale$jscomp$4$$=$JSCompiler_StaticMethods_boundValue_$$($JSCompiler_StaticMethods_release_$self$$.$scale_$,$JSCompiler_StaticMethods_release_$self$$.$minScale_$,$JSCompiler_StaticMethods_release_$self$$.$maxScale_$,0);$newScale$jscomp$4$$!=$JSCompiler_StaticMethods_release_$self$$.$scale_$&&$JSCompiler_StaticMethods_updatePanZoomBounds_$$($JSCompiler_StaticMethods_release_$self$$,$newScale$jscomp$4$$);
var $newPosX$jscomp$4$$=$JSCompiler_StaticMethods_boundX_$$($JSCompiler_StaticMethods_release_$self$$,$JSCompiler_StaticMethods_release_$self$$.$posX_$/$JSCompiler_StaticMethods_release_$self$$.$scale_$*$newScale$jscomp$4$$,!1),$newPosY$jscomp$4$$=$JSCompiler_StaticMethods_boundY_$$($JSCompiler_StaticMethods_release_$self$$,$JSCompiler_StaticMethods_release_$self$$.$posY_$/$JSCompiler_StaticMethods_release_$self$$.$scale_$*$newScale$jscomp$4$$,!1);return $JSCompiler_StaticMethods_set_$$($JSCompiler_StaticMethods_release_$self$$,
$newScale$jscomp$4$$,$newPosX$jscomp$4$$,$newPosY$jscomp$4$$,!0).then(function(){$JSCompiler_StaticMethods_release_$self$$.$startScale_$=$JSCompiler_StaticMethods_release_$self$$.$scale_$;$JSCompiler_StaticMethods_release_$self$$.$startX_$=$JSCompiler_StaticMethods_release_$self$$.$posX_$;$JSCompiler_StaticMethods_release_$self$$.$startY_$=$JSCompiler_StaticMethods_release_$self$$.$posY_$})}
function $AmpImageLightbox$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$($element$jscomp$69$$){var $$jscomp$super$this$$=AMP.BaseElement.call(this,$element$jscomp$69$$)||this;$$jscomp$super$this$$.$historyId_$=-1;$$jscomp$super$this$$.$active_$=!1;$$jscomp$super$this$$.$entering_$=!1;$$jscomp$super$this$$.$sourceElement_$=null;$$jscomp$super$this$$.$sourceImage_$=null;$$jscomp$super$this$$.$unlistenViewport_$=null;$$jscomp$super$this$$.$container_$=null;$$jscomp$super$this$$.$imageViewer_$=
null;$$jscomp$super$this$$.$captionElement_$=null;$$jscomp$super$this$$.$boundCloseOnEscape_$=$$jscomp$super$this$$.$closeOnEscape_$.bind($$jscomp$super$this$$);$$jscomp$super$this$$.registerDefaultAction(function($element$jscomp$69$$){return $JSCompiler_StaticMethods_open_$$($$jscomp$super$this$$,$element$jscomp$69$$)},"open");return $$jscomp$super$this$$}$$jscomp$inherits$$($AmpImageLightbox$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$,AMP.BaseElement);
function $JSCompiler_StaticMethods_buildLightbox_$$($JSCompiler_StaticMethods_buildLightbox_$self$$){if(!$JSCompiler_StaticMethods_buildLightbox_$self$$.$container_$){$JSCompiler_StaticMethods_buildLightbox_$self$$.$container_$=$JSCompiler_StaticMethods_buildLightbox_$self$$.element.ownerDocument.createElement("div");$JSCompiler_StaticMethods_buildLightbox_$self$$.$container_$.classList.add("i-amphtml-image-lightbox-container");$JSCompiler_StaticMethods_buildLightbox_$self$$.element.appendChild($JSCompiler_StaticMethods_buildLightbox_$self$$.$container_$);
$JSCompiler_StaticMethods_buildLightbox_$self$$.$imageViewer_$=new $ImageViewer$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$($JSCompiler_StaticMethods_buildLightbox_$self$$,$JSCompiler_StaticMethods_buildLightbox_$self$$.win,$JSCompiler_StaticMethods_buildLightbox_$self$$.loadPromise.bind($JSCompiler_StaticMethods_buildLightbox_$self$$));$JSCompiler_StaticMethods_buildLightbox_$self$$.$container_$.appendChild($JSCompiler_StaticMethods_buildLightbox_$self$$.$imageViewer_$.getElement());
$JSCompiler_StaticMethods_buildLightbox_$self$$.$captionElement_$=$JSCompiler_StaticMethods_buildLightbox_$self$$.element.ownerDocument.createElement("div");$JSCompiler_StaticMethods_buildLightbox_$self$$.$captionElement_$.setAttribute("id",$JSCompiler_StaticMethods_buildLightbox_$self$$.element.getAttribute("id")+"-caption");$JSCompiler_StaticMethods_buildLightbox_$self$$.$captionElement_$.classList.add("amp-image-lightbox-caption");$JSCompiler_StaticMethods_buildLightbox_$self$$.$captionElement_$.classList.add("i-amphtml-image-lightbox-caption");
$JSCompiler_StaticMethods_buildLightbox_$self$$.$container_$.appendChild($JSCompiler_StaticMethods_buildLightbox_$self$$.$captionElement_$);var $screenReaderCloseButton$$=$JSCompiler_StaticMethods_buildLightbox_$self$$.element.ownerDocument.createElement("button"),$ariaLabel$$=$JSCompiler_StaticMethods_buildLightbox_$self$$.element.getAttribute("data-close-button-aria-label")||"Close the lightbox";$screenReaderCloseButton$$.textContent=$ariaLabel$$;$screenReaderCloseButton$$.classList.add("i-amphtml-screen-reader");
$screenReaderCloseButton$$.tabIndex=-1;$screenReaderCloseButton$$.addEventListener("click",function(){$JSCompiler_StaticMethods_buildLightbox_$self$$.close()});$JSCompiler_StaticMethods_buildLightbox_$self$$.element.appendChild($screenReaderCloseButton$$);var $gestures$jscomp$1$$=$Gestures$$module$src$gesture$get$$($JSCompiler_StaticMethods_buildLightbox_$self$$.element);$JSCompiler_StaticMethods_buildLightbox_$self$$.element.addEventListener("click",function($screenReaderCloseButton$$){$JSCompiler_StaticMethods_buildLightbox_$self$$.$entering_$||
$JSCompiler_StaticMethods_buildLightbox_$self$$.$imageViewer_$.getImage().contains($screenReaderCloseButton$$.target)||$JSCompiler_StaticMethods_buildLightbox_$self$$.close()});$gestures$jscomp$1$$.onGesture($TapRecognizer$$module$src$gesture_recognizers$$,function(){$JSCompiler_StaticMethods_buildLightbox_$self$$.$entering_$||$JSCompiler_StaticMethods_buildLightbox_$self$$.close()});$gestures$jscomp$1$$.onGesture($SwipeXYRecognizer$$module$src$gesture_recognizers$$,function(){})}}
function $JSCompiler_StaticMethods_open_$$($JSCompiler_StaticMethods_open_$self$$,$invocation$jscomp$1_source$jscomp$15$$){$JSCompiler_StaticMethods_open_$self$$.$active_$||($JSCompiler_StaticMethods_buildLightbox_$$($JSCompiler_StaticMethods_open_$self$$),$invocation$jscomp$1_source$jscomp$15$$=$invocation$jscomp$1_source$jscomp$15$$.caller,$userAssert$$module$src$log$$($invocation$jscomp$1_source$jscomp$15$$&&$SUPPORTED_ELEMENTS_$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$[$invocation$jscomp$1_source$jscomp$15$$.tagName.toLowerCase()],
"Unsupported element: %s",$invocation$jscomp$1_source$jscomp$15$$.tagName),$JSCompiler_StaticMethods_open_$self$$.$active_$=!0,$JSCompiler_StaticMethods_reset_$$($JSCompiler_StaticMethods_open_$self$$),$JSCompiler_StaticMethods_init_$$($JSCompiler_StaticMethods_open_$self$$,$invocation$jscomp$1_source$jscomp$15$$),$JSCompiler_StaticMethods_open_$self$$.win.document.documentElement.addEventListener("keydown",$JSCompiler_StaticMethods_open_$self$$.$boundCloseOnEscape_$),$JSCompiler_StaticMethods_open_$self$$.getViewport().enterLightboxMode(),
$JSCompiler_StaticMethods_enter_$$($JSCompiler_StaticMethods_open_$self$$),$JSCompiler_StaticMethods_open_$self$$.$unlistenViewport_$=$JSCompiler_StaticMethods_open_$self$$.getViewport().onChanged(function(){$JSCompiler_StaticMethods_open_$self$$.$active_$&&($startsWith$$module$src$string$$($getService$$module$src$service$$($JSCompiler_StaticMethods_open_$self$$.win,"platform").getIosVersionString(),"10.3")?$getService$$module$src$service$$($JSCompiler_StaticMethods_open_$self$$.win,"timer").delay(function(){$JSCompiler_StaticMethods_open_$self$$.$imageViewer_$.measure()},
500):$JSCompiler_StaticMethods_open_$self$$.$imageViewer_$.measure())}),$getServiceForDoc$$module$src$service$$($JSCompiler_StaticMethods_open_$self$$.getAmpDoc()).push($JSCompiler_StaticMethods_open_$self$$.close.bind($JSCompiler_StaticMethods_open_$self$$)).then(function($invocation$jscomp$1_source$jscomp$15$$){$JSCompiler_StaticMethods_open_$self$$.$historyId_$=$invocation$jscomp$1_source$jscomp$15$$}))}
$AmpImageLightbox$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$.prototype.$closeOnEscape_$=function($event$jscomp$23$$){"Escape"==$event$jscomp$23$$.key&&($event$jscomp$23$$.preventDefault(),this.close())};
$AmpImageLightbox$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$.prototype.close=function(){if(this.$active_$&&(this.$entering_$=this.$active_$=!1,$JSCompiler_StaticMethods_exit_$$(this),this.$unlistenViewport_$&&(this.$unlistenViewport_$(),this.$unlistenViewport_$=null),this.getViewport().leaveLightboxMode(),-1!=this.$historyId_$&&$getServiceForDoc$$module$src$service$$(this.getAmpDoc()).pop(this.$historyId_$),this.win.document.documentElement.removeEventListener("keydown",this.$boundCloseOnEscape_$),
this.$sourceElement_$))try{this.$sourceElement_$.focus()}catch($JSCompiler_e$jscomp$inline_148$$){}};$AmpImageLightbox$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$.prototype.toggleViewMode=function($opt_on$$){void 0!==$opt_on$$?this.$container_$.classList.toggle("i-amphtml-image-lightbox-view-mode",$opt_on$$):this.$container_$.classList.toggle("i-amphtml-image-lightbox-view-mode")};
function $JSCompiler_StaticMethods_init_$$($JSCompiler_StaticMethods_init_$self$$,$JSCompiler_to$jscomp$inline_157_sourceElement$jscomp$1$$){$JSCompiler_StaticMethods_init_$self$$.$sourceElement_$=$JSCompiler_to$jscomp$inline_157_sourceElement$jscomp$1$$;/^[\w-]+$/.test("img");if(void 0!==$scopeSelectorSupported$$module$src$css$$)var $JSCompiler_elements$jscomp$inline_189_JSCompiler_frag$jscomp$inline_158_JSCompiler_inline_result$jscomp$18_JSCompiler_inline_result$jscomp$195_JSCompiler_scopedSelector$jscomp$inline_188_JSCompiler_temp$jscomp$194$$=
$scopeSelectorSupported$$module$src$css$$;else{try{var $JSCompiler_doc$jscomp$inline_201_JSCompiler_n$jscomp$inline_159$$=$JSCompiler_to$jscomp$inline_157_sourceElement$jscomp$1$$.ownerDocument,$JSCompiler_testElement$jscomp$inline_202$$=$JSCompiler_doc$jscomp$inline_201_JSCompiler_n$jscomp$inline_159$$.createElement("div"),$JSCompiler_testChild$jscomp$inline_203$$=$JSCompiler_doc$jscomp$inline_201_JSCompiler_n$jscomp$inline_159$$.createElement("div");$JSCompiler_testElement$jscomp$inline_202$$.appendChild($JSCompiler_testChild$jscomp$inline_203$$);
$JSCompiler_elements$jscomp$inline_189_JSCompiler_frag$jscomp$inline_158_JSCompiler_inline_result$jscomp$18_JSCompiler_inline_result$jscomp$195_JSCompiler_scopedSelector$jscomp$inline_188_JSCompiler_temp$jscomp$194$$=$JSCompiler_testElement$jscomp$inline_202$$.querySelector(":scope div")===$JSCompiler_testChild$jscomp$inline_203$$}catch($JSCompiler_e$jscomp$inline_204$$){$JSCompiler_elements$jscomp$inline_189_JSCompiler_frag$jscomp$inline_158_JSCompiler_inline_result$jscomp$18_JSCompiler_inline_result$jscomp$195_JSCompiler_scopedSelector$jscomp$inline_188_JSCompiler_temp$jscomp$194$$=
!1}$JSCompiler_elements$jscomp$inline_189_JSCompiler_frag$jscomp$inline_158_JSCompiler_inline_result$jscomp$18_JSCompiler_inline_result$jscomp$195_JSCompiler_scopedSelector$jscomp$inline_188_JSCompiler_temp$jscomp$194$$=$scopeSelectorSupported$$module$src$css$$=$JSCompiler_elements$jscomp$inline_189_JSCompiler_frag$jscomp$inline_158_JSCompiler_inline_result$jscomp$18_JSCompiler_inline_result$jscomp$195_JSCompiler_scopedSelector$jscomp$inline_188_JSCompiler_temp$jscomp$194$$}$JSCompiler_elements$jscomp$inline_189_JSCompiler_frag$jscomp$inline_158_JSCompiler_inline_result$jscomp$18_JSCompiler_inline_result$jscomp$195_JSCompiler_scopedSelector$jscomp$inline_188_JSCompiler_temp$jscomp$194$$?
$JSCompiler_elements$jscomp$inline_189_JSCompiler_frag$jscomp$inline_158_JSCompiler_inline_result$jscomp$18_JSCompiler_inline_result$jscomp$195_JSCompiler_scopedSelector$jscomp$inline_188_JSCompiler_temp$jscomp$194$$=$JSCompiler_to$jscomp$inline_157_sourceElement$jscomp$1$$.querySelector("> img".replace(/^|,/g,"$&:scope ")):($JSCompiler_to$jscomp$inline_157_sourceElement$jscomp$1$$.classList.add("i-amphtml-scoped"),$JSCompiler_elements$jscomp$inline_189_JSCompiler_frag$jscomp$inline_158_JSCompiler_inline_result$jscomp$18_JSCompiler_inline_result$jscomp$195_JSCompiler_scopedSelector$jscomp$inline_188_JSCompiler_temp$jscomp$194$$=
"> img".replace(/^|,/g,"$&.i-amphtml-scoped "),$JSCompiler_elements$jscomp$inline_189_JSCompiler_frag$jscomp$inline_158_JSCompiler_inline_result$jscomp$18_JSCompiler_inline_result$jscomp$195_JSCompiler_scopedSelector$jscomp$inline_188_JSCompiler_temp$jscomp$194$$=$JSCompiler_to$jscomp$inline_157_sourceElement$jscomp$1$$.querySelectorAll($JSCompiler_elements$jscomp$inline_189_JSCompiler_frag$jscomp$inline_158_JSCompiler_inline_result$jscomp$18_JSCompiler_inline_result$jscomp$195_JSCompiler_scopedSelector$jscomp$inline_188_JSCompiler_temp$jscomp$194$$),
$JSCompiler_to$jscomp$inline_157_sourceElement$jscomp$1$$.classList.remove("i-amphtml-scoped"),$JSCompiler_elements$jscomp$inline_189_JSCompiler_frag$jscomp$inline_158_JSCompiler_inline_result$jscomp$18_JSCompiler_inline_result$jscomp$195_JSCompiler_scopedSelector$jscomp$inline_188_JSCompiler_temp$jscomp$194$$=void 0===$JSCompiler_elements$jscomp$inline_189_JSCompiler_frag$jscomp$inline_158_JSCompiler_inline_result$jscomp$18_JSCompiler_inline_result$jscomp$195_JSCompiler_scopedSelector$jscomp$inline_188_JSCompiler_temp$jscomp$194$$[0]?
null:$JSCompiler_elements$jscomp$inline_189_JSCompiler_frag$jscomp$inline_158_JSCompiler_inline_result$jscomp$18_JSCompiler_inline_result$jscomp$195_JSCompiler_scopedSelector$jscomp$inline_188_JSCompiler_temp$jscomp$194$$[0]);$JSCompiler_StaticMethods_init_$self$$.$sourceImage_$=$JSCompiler_elements$jscomp$inline_189_JSCompiler_frag$jscomp$inline_158_JSCompiler_inline_result$jscomp$18_JSCompiler_inline_result$jscomp$195_JSCompiler_scopedSelector$jscomp$inline_188_JSCompiler_temp$jscomp$194$$;$JSCompiler_StaticMethods_init_$self$$.$imageViewer_$.init($JSCompiler_StaticMethods_init_$self$$.$sourceElement_$,
$JSCompiler_StaticMethods_init_$self$$.$sourceImage_$);var $caption$$=null,$figure$$=$closestAncestorElementBySelector$$module$src$dom$$($JSCompiler_to$jscomp$inline_157_sourceElement$jscomp$1$$);$figure$$&&(/^[\w-]+$/.test("figcaption"),$caption$$=$figure$$.querySelector("figcaption"));if(!$caption$$){var $describedBy$$=$JSCompiler_to$jscomp$inline_157_sourceElement$jscomp$1$$.getAttribute("aria-describedby");$caption$$=$JSCompiler_StaticMethods_init_$self$$.element.ownerDocument.getElementById($describedBy$$)}if($caption$$){$JSCompiler_to$jscomp$inline_157_sourceElement$jscomp$1$$=
$JSCompiler_StaticMethods_init_$self$$.$captionElement_$;$JSCompiler_elements$jscomp$inline_189_JSCompiler_frag$jscomp$inline_158_JSCompiler_inline_result$jscomp$18_JSCompiler_inline_result$jscomp$195_JSCompiler_scopedSelector$jscomp$inline_188_JSCompiler_temp$jscomp$194$$=$JSCompiler_to$jscomp$inline_157_sourceElement$jscomp$1$$.ownerDocument.createDocumentFragment();for($JSCompiler_doc$jscomp$inline_201_JSCompiler_n$jscomp$inline_159$$=$caption$$.firstChild;$JSCompiler_doc$jscomp$inline_201_JSCompiler_n$jscomp$inline_159$$;$JSCompiler_doc$jscomp$inline_201_JSCompiler_n$jscomp$inline_159$$=
$JSCompiler_doc$jscomp$inline_201_JSCompiler_n$jscomp$inline_159$$.nextSibling)$JSCompiler_elements$jscomp$inline_189_JSCompiler_frag$jscomp$inline_158_JSCompiler_inline_result$jscomp$18_JSCompiler_inline_result$jscomp$195_JSCompiler_scopedSelector$jscomp$inline_188_JSCompiler_temp$jscomp$194$$.appendChild($JSCompiler_doc$jscomp$inline_201_JSCompiler_n$jscomp$inline_159$$.cloneNode(!0));$JSCompiler_to$jscomp$inline_157_sourceElement$jscomp$1$$.appendChild($JSCompiler_elements$jscomp$inline_189_JSCompiler_frag$jscomp$inline_158_JSCompiler_inline_result$jscomp$18_JSCompiler_inline_result$jscomp$195_JSCompiler_scopedSelector$jscomp$inline_188_JSCompiler_temp$jscomp$194$$);
$JSCompiler_StaticMethods_init_$self$$.$imageViewer_$.getImage().setAttribute("aria-describedby",$JSCompiler_StaticMethods_init_$self$$.$captionElement_$.getAttribute("id"))}$JSCompiler_StaticMethods_init_$self$$.$captionElement_$.classList.toggle("i-amphtml-empty",!$caption$$)}
function $JSCompiler_StaticMethods_reset_$$($JSCompiler_StaticMethods_reset_$self$$){$JSCompiler_StaticMethods_reset_$self$$.$imageViewer_$.reset();for(var $JSCompiler_parent$jscomp$inline_161$$=$JSCompiler_StaticMethods_reset_$self$$.$captionElement_$;$JSCompiler_parent$jscomp$inline_161$$.firstChild;)$JSCompiler_parent$jscomp$inline_161$$.removeChild($JSCompiler_parent$jscomp$inline_161$$.firstChild);$JSCompiler_StaticMethods_reset_$self$$.$sourceElement_$=null;$JSCompiler_StaticMethods_reset_$self$$.$sourceImage_$=
null;$JSCompiler_StaticMethods_reset_$self$$.toggleViewMode(!1)}
function $JSCompiler_StaticMethods_enter_$$($JSCompiler_StaticMethods_enter_$self$$){$JSCompiler_StaticMethods_enter_$self$$.$entering_$=!0;$toggle$$module$src$style$$($JSCompiler_StaticMethods_enter_$self$$.element);$setStyles$$module$src$style$$($JSCompiler_StaticMethods_enter_$self$$.element,{opacity:0});$JSCompiler_StaticMethods_enter_$self$$.$imageViewer_$.measure();var $anim$$=new $Animation$$module$src$animation$$($JSCompiler_StaticMethods_enter_$self$$.element);$anim$$.add(0,$setStyles$$module$src$transition$$($JSCompiler_StaticMethods_enter_$self$$.element,
{opacity:$numeric$$module$src$transition$$(0,1)}),.6,$ENTER_CURVE_$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$);var $transLayer$$=null;if($JSCompiler_StaticMethods_enter_$self$$.$sourceImage_$&&$isLoaded$$module$src$event_helper$$($JSCompiler_StaticMethods_enter_$self$$.$sourceImage_$)&&$JSCompiler_StaticMethods_enter_$self$$.$sourceImage_$.src){$transLayer$$=$JSCompiler_StaticMethods_enter_$self$$.element.ownerDocument.createElement("div");$transLayer$$.classList.add("i-amphtml-image-lightbox-trans");
$JSCompiler_StaticMethods_enter_$self$$.getAmpDoc().getBody().appendChild($transLayer$$);var $rect$jscomp$3$$=$layoutRectFromDomRect$$module$src$layout_rect$$($JSCompiler_StaticMethods_enter_$self$$.$sourceImage_$.getBoundingClientRect()),$imageBox$$=$JSCompiler_StaticMethods_enter_$self$$.$imageViewer_$.getImageBox(),$clone$$=$JSCompiler_StaticMethods_enter_$self$$.$sourceImage_$.cloneNode(!0);$clone$$.className="";$setStyles$$module$src$style$$($clone$$,{position:"absolute",top:$rect$jscomp$3$$.top+
"px",left:$rect$jscomp$3$$.left+"px",width:$rect$jscomp$3$$.width+"px",height:$rect$jscomp$3$$.height+"px",transformOrigin:"top left",willChange:"transform"});$transLayer$$.appendChild($clone$$);$JSCompiler_StaticMethods_enter_$self$$.$sourceImage_$.classList.add("i-amphtml-ghost");var $dy$jscomp$10$$=$imageBox$$.top-$rect$jscomp$3$$.top,$scaleX$$=0!=$rect$jscomp$3$$.width?$imageBox$$.width/$rect$jscomp$3$$.width:1,$motionTime$$=Math.max(.2,Math.min(.8,Math.abs($dy$jscomp$10$$)/250*.8));$anim$$.add(0,
$setStyles$$module$src$transition$$($clone$$,{transform:$concat$$module$src$transition$$([$translate$$module$src$transition$$($numeric$$module$src$transition$$(0,$imageBox$$.left-$rect$jscomp$3$$.left),$numeric$$module$src$transition$$(0,$dy$jscomp$10$$)),$scale$$module$src$transition$$($numeric$$module$src$transition$$(1,$scaleX$$))])}),$motionTime$$,$ENTER_CURVE_$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$);$setStyles$$module$src$style$$($JSCompiler_StaticMethods_enter_$self$$.$container_$,
{opacity:0});$anim$$.add(.8,$setStyles$$module$src$transition$$($JSCompiler_StaticMethods_enter_$self$$.$container_$,{opacity:$numeric$$module$src$transition$$(0,1)}),.1,$ENTER_CURVE_$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$);$anim$$.add(.9,$setStyles$$module$src$transition$$($transLayer$$,{opacity:$numeric$$module$src$transition$$(1,.01)}),.1,$EXIT_CURVE_$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$)}$anim$$.start(500).thenAlways(function(){$JSCompiler_StaticMethods_enter_$self$$.$entering_$=
!1;$setStyles$$module$src$style$$($JSCompiler_StaticMethods_enter_$self$$.element,{opacity:""});$setStyles$$module$src$style$$($JSCompiler_StaticMethods_enter_$self$$.$container_$,{opacity:""});$transLayer$$&&$JSCompiler_StaticMethods_enter_$self$$.getAmpDoc().getBody().removeChild($transLayer$$)})}
function $JSCompiler_StaticMethods_exit_$$($JSCompiler_StaticMethods_exit_$self$$){var $dy$jscomp$11_image$jscomp$3$$=$JSCompiler_StaticMethods_exit_$self$$.$imageViewer_$.getImage(),$imageBox$jscomp$1_motionTime$jscomp$1$$=$JSCompiler_StaticMethods_exit_$self$$.$imageViewer_$.getImageBoxWithOffset(),$anim$jscomp$1$$=new $Animation$$module$src$animation$$($JSCompiler_StaticMethods_exit_$self$$.element),$dur$jscomp$2$$=500;$anim$jscomp$1$$.add(0,$setStyles$$module$src$transition$$($JSCompiler_StaticMethods_exit_$self$$.element,
{opacity:$numeric$$module$src$transition$$(1,0)}),.9,$EXIT_CURVE_$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$);var $transLayer$jscomp$1$$=null;if($isLoaded$$module$src$event_helper$$($dy$jscomp$11_image$jscomp$3$$)&&$dy$jscomp$11_image$jscomp$3$$.src&&$JSCompiler_StaticMethods_exit_$self$$.$sourceImage_$){$transLayer$jscomp$1$$=$JSCompiler_StaticMethods_exit_$self$$.element.ownerDocument.createElement("div");$transLayer$jscomp$1$$.classList.add("i-amphtml-image-lightbox-trans");
$JSCompiler_StaticMethods_exit_$self$$.getAmpDoc().getBody().appendChild($transLayer$jscomp$1$$);var $rect$jscomp$4$$=$layoutRectFromDomRect$$module$src$layout_rect$$($JSCompiler_StaticMethods_exit_$self$$.$sourceImage_$.getBoundingClientRect()),$clone$jscomp$1$$=$dy$jscomp$11_image$jscomp$3$$.cloneNode(!0);$setStyles$$module$src$style$$($clone$jscomp$1$$,{position:"absolute",top:$imageBox$jscomp$1_motionTime$jscomp$1$$.top+"px",left:$imageBox$jscomp$1_motionTime$jscomp$1$$.left+"px",width:$imageBox$jscomp$1_motionTime$jscomp$1$$.width+
"px",height:$imageBox$jscomp$1_motionTime$jscomp$1$$.height+"px",transform:"",transformOrigin:"top left",willChange:"transform"});$transLayer$jscomp$1$$.appendChild($clone$jscomp$1$$);$anim$jscomp$1$$.add(0,$setStyles$$module$src$transition$$($JSCompiler_StaticMethods_exit_$self$$.$container_$,{opacity:$numeric$$module$src$transition$$(1,0)}),.1,$EXIT_CURVE_$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$);$dy$jscomp$11_image$jscomp$3$$=$rect$jscomp$4$$.top-$imageBox$jscomp$1_motionTime$jscomp$1$$.top;
var $scaleX$jscomp$1$$=0!=$imageBox$jscomp$1_motionTime$jscomp$1$$.width?$rect$jscomp$4$$.width/$imageBox$jscomp$1_motionTime$jscomp$1$$.width:1,$moveAndScale$$=$setStyles$$module$src$transition$$($clone$jscomp$1$$,{transform:$concat$$module$src$transition$$([$translate$$module$src$transition$$($numeric$$module$src$transition$$(0,$rect$jscomp$4$$.left-$imageBox$jscomp$1_motionTime$jscomp$1$$.left),$numeric$$module$src$transition$$(0,$dy$jscomp$11_image$jscomp$3$$)),$scale$$module$src$transition$$($numeric$$module$src$transition$$(1,
$scaleX$jscomp$1$$))])});$imageBox$jscomp$1_motionTime$jscomp$1$$=Math.max(.2,Math.min(.8,Math.abs($dy$jscomp$11_image$jscomp$3$$)/250*.8));$anim$jscomp$1$$.add(Math.min(.8-$imageBox$jscomp$1_motionTime$jscomp$1$$,.2),function($dy$jscomp$11_image$jscomp$3$$,$imageBox$jscomp$1_motionTime$jscomp$1$$){$moveAndScale$$($dy$jscomp$11_image$jscomp$3$$);$imageBox$jscomp$1_motionTime$jscomp$1$$&&$JSCompiler_StaticMethods_exit_$self$$.$sourceImage_$.classList.remove("i-amphtml-ghost")},$imageBox$jscomp$1_motionTime$jscomp$1$$,
$EXIT_CURVE_$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$);$anim$jscomp$1$$.add(.8,$setStyles$$module$src$transition$$($transLayer$jscomp$1$$,{opacity:$numeric$$module$src$transition$$(1,.01)}),.2,$EXIT_CURVE_$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$);$dur$jscomp$2$$=Math.max(Math.min(Math.abs($dy$jscomp$11_image$jscomp$3$$)/250*$dur$jscomp$2$$,$dur$jscomp$2$$),300)}$anim$jscomp$1$$.start($dur$jscomp$2$$).thenAlways(function(){$JSCompiler_StaticMethods_exit_$self$$.$sourceImage_$&&
$JSCompiler_StaticMethods_exit_$self$$.$sourceImage_$.classList.remove("i-amphtml-ghost");$JSCompiler_StaticMethods_exit_$self$$.collapse();$setStyles$$module$src$style$$($JSCompiler_StaticMethods_exit_$self$$.element,{opacity:""});$setStyles$$module$src$style$$($JSCompiler_StaticMethods_exit_$self$$.$container_$,{opacity:""});$transLayer$jscomp$1$$&&$JSCompiler_StaticMethods_exit_$self$$.getAmpDoc().getBody().removeChild($transLayer$jscomp$1$$);$JSCompiler_StaticMethods_reset_$$($JSCompiler_StaticMethods_exit_$self$$)})}
(function($AMP$jscomp$1$$){$AMP$jscomp$1$$.registerElement("amp-image-lightbox",$AmpImageLightbox$$module$extensions$amp_image_lightbox$0_1$amp_image_lightbox$$,"amp-image-lightbox{position:fixed!important;top:0!important;left:0!important;bottom:0!important;right:0!important;margin:0!important;padding:0!important;overflow:hidden!important;-webkit-transform:translateZ(0)!important;transform:translateZ(0)!important;-ms-touch-action:none!important;touch-action:none!important;z-index:1000;background:rgba(0,0,0,0.95);color:#f2f2f2}.i-amphtml-image-lightbox-container{position:absolute;z-index:0;top:0;left:0;right:0;bottom:0;overflow:hidden;-webkit-transform:translateZ(0);transform:translateZ(0)}.i-amphtml-image-lightbox-trans{pointer-events:none!important;position:fixed;z-index:1001;top:0;left:0;bottom:0;right:0}.i-amphtml-image-lightbox-caption{position:absolute!important;z-index:2;bottom:0!important;left:0!important;right:0!important}.i-amphtml-image-lightbox-caption.i-amphtml-empty,.i-amphtml-image-lightbox-view-mode .i-amphtml-image-lightbox-caption{visibility:hidden}.amp-image-lightbox-caption{background:rgba(0,0,0,0.5);max-height:25%;padding:8px}.i-amphtml-image-lightbox-viewer{position:absolute;z-index:1;top:0;left:0;right:0;bottom:0;overflow:hidden;-webkit-transform:translateZ(0);transform:translateZ(0)}.i-amphtml-image-lightbox-viewer-image{position:absolute;z-index:1;display:block;-webkit-transform-origin:50% 50%;transform-origin:50% 50%}\n/*# sourceURL=/extensions/amp-image-lightbox/0.1/amp-image-lightbox.css*/")})(self.AMP);
})});

//# sourceMappingURL=amp-image-lightbox-0.1.js.map
