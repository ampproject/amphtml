(self.AMP=self.AMP||[]).push({n:"amp-ad-network-gmossp-impl",v:"1904281823091",f:(function(AMP,_){
var $JSCompiler_prototypeAlias$$,$$jscomp$objectCreate$$="function"==typeof Object.create?Object.create:function($prototype$$){function $ctor$$(){}$ctor$$.prototype=$prototype$$;return new $ctor$$},$JSCompiler_temp$jscomp$29$$;
if("function"==typeof Object.setPrototypeOf)$JSCompiler_temp$jscomp$29$$=Object.setPrototypeOf;else{var $JSCompiler_inline_result$jscomp$30$$;a:{var $JSCompiler_x$jscomp$inline_75$$={a:!0},$JSCompiler_y$jscomp$inline_76$$={};try{$JSCompiler_y$jscomp$inline_76$$.__proto__=$JSCompiler_x$jscomp$inline_75$$;$JSCompiler_inline_result$jscomp$30$$=$JSCompiler_y$jscomp$inline_76$$.a;break a}catch($JSCompiler_e$jscomp$inline_77$$){}$JSCompiler_inline_result$jscomp$30$$=!1}$JSCompiler_temp$jscomp$29$$=$JSCompiler_inline_result$jscomp$30$$?
function($target$jscomp$83$$,$proto$jscomp$3$$){$target$jscomp$83$$.__proto__=$proto$jscomp$3$$;if($target$jscomp$83$$.__proto__!==$proto$jscomp$3$$)throw new TypeError($target$jscomp$83$$+" is not extensible");return $target$jscomp$83$$}:null}var $$jscomp$setPrototypeOf$$=$JSCompiler_temp$jscomp$29$$;
function $$jscomp$inherits$$($childCtor$$,$parentCtor$$){$childCtor$$.prototype=$$jscomp$objectCreate$$($parentCtor$$.prototype);$childCtor$$.prototype.constructor=$childCtor$$;if($$jscomp$setPrototypeOf$$)$$jscomp$setPrototypeOf$$($childCtor$$,$parentCtor$$);else for(var $p$$ in $parentCtor$$)if("prototype"!=$p$$)if(Object.defineProperties){var $descriptor$jscomp$1$$=Object.getOwnPropertyDescriptor($parentCtor$$,$p$$);$descriptor$jscomp$1$$&&Object.defineProperty($childCtor$$,$p$$,$descriptor$jscomp$1$$)}else $childCtor$$[$p$$]=
$parentCtor$$[$p$$];$childCtor$$.$superClass_$=$parentCtor$$.prototype};function $Deferred$$module$src$utils$promise$$(){var $resolve$$,$reject$$;this.promise=new Promise(function($res$$,$rej$$){$resolve$$=$res$$;$reject$$=$rej$$});this.resolve=$resolve$$;this.reject=$reject$$}function $tryResolve$$module$src$utils$promise$$($fn$$){return new Promise(function($resolve$jscomp$1$$){$resolve$jscomp$1$$($fn$$())})};function $tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($component$jscomp$4$$,$fallback$$){$fallback$$=void 0===$fallback$$?"":$fallback$$;try{return decodeURIComponent($component$jscomp$4$$)}catch($e$jscomp$8$$){return $fallback$$}};var $regex$$module$src$url_parse_query_string$$=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;
function $parseQueryString_$$module$src$url_parse_query_string$$($queryString$$){var $params$jscomp$1$$=Object.create(null);if(!$queryString$$)return $params$jscomp$1$$;for(var $match$$;$match$$=$regex$$module$src$url_parse_query_string$$.exec($queryString$$);){var $name$jscomp$70$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[1],$match$$[1]),$value$jscomp$87$$=$match$$[2]?$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[2],$match$$[2]):"";
$params$jscomp$1$$[$name$jscomp$70$$]=$value$jscomp$87$$}return $params$jscomp$1$$};var $rtvVersion$$module$src$mode$$="";
function $getMode$$module$src$mode$$($opt_win$$){var $win$$=$opt_win$$||self;if($win$$.AMP_MODE)var $JSCompiler_temp$jscomp$31_JSCompiler_win$jscomp$inline_79$$=$win$$.AMP_MODE;else{$JSCompiler_temp$jscomp$31_JSCompiler_win$jscomp$inline_79$$=$win$$;var $JSCompiler_AMP_CONFIG$jscomp$inline_80_JSCompiler_singlePassType$jscomp$inline_87$$=self.AMP_CONFIG||{},$JSCompiler_runningTests$jscomp$inline_84$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_80_JSCompiler_singlePassType$jscomp$inline_87$$.test||!(!$JSCompiler_temp$jscomp$31_JSCompiler_win$jscomp$inline_79$$.AMP_TEST&&
!$JSCompiler_temp$jscomp$31_JSCompiler_win$jscomp$inline_79$$.__karma__),$JSCompiler_isLocalDev$jscomp$inline_85$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_80_JSCompiler_singlePassType$jscomp$inline_87$$.localDev||$JSCompiler_runningTests$jscomp$inline_84$$,$JSCompiler_hashQuery$jscomp$inline_86$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$31_JSCompiler_win$jscomp$inline_79$$.location.originalHash||$JSCompiler_temp$jscomp$31_JSCompiler_win$jscomp$inline_79$$.location.hash);
$JSCompiler_AMP_CONFIG$jscomp$inline_80_JSCompiler_singlePassType$jscomp$inline_87$$=$JSCompiler_AMP_CONFIG$jscomp$inline_80_JSCompiler_singlePassType$jscomp$inline_87$$.spt;var $JSCompiler_searchQuery$jscomp$inline_88$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$31_JSCompiler_win$jscomp$inline_79$$.location.search);$rtvVersion$$module$src$mode$$||($rtvVersion$$module$src$mode$$=$JSCompiler_isLocalDev$jscomp$inline_85$$?"1904281823091":$JSCompiler_temp$jscomp$31_JSCompiler_win$jscomp$inline_79$$.AMP_CONFIG&&
$JSCompiler_temp$jscomp$31_JSCompiler_win$jscomp$inline_79$$.AMP_CONFIG.v?$JSCompiler_temp$jscomp$31_JSCompiler_win$jscomp$inline_79$$.AMP_CONFIG.v:"011904281823091");$JSCompiler_temp$jscomp$31_JSCompiler_win$jscomp$inline_79$$=$win$$.AMP_MODE={localDev:$JSCompiler_isLocalDev$jscomp$inline_85$$,development:!("1"!=$JSCompiler_hashQuery$jscomp$inline_86$$.development&&!$JSCompiler_temp$jscomp$31_JSCompiler_win$jscomp$inline_79$$.AMP_DEV_MODE),examiner:"2"==$JSCompiler_hashQuery$jscomp$inline_86$$.development,
filter:$JSCompiler_hashQuery$jscomp$inline_86$$.filter,geoOverride:$JSCompiler_hashQuery$jscomp$inline_86$$["amp-geo"],minified:!0,lite:void 0!=$JSCompiler_searchQuery$jscomp$inline_88$$.amp_lite,test:$JSCompiler_runningTests$jscomp$inline_84$$,log:$JSCompiler_hashQuery$jscomp$inline_86$$.log,version:"1904281823091",rtvVersion:$rtvVersion$$module$src$mode$$,singlePassType:$JSCompiler_AMP_CONFIG$jscomp$inline_80_JSCompiler_singlePassType$jscomp$inline_87$$}}return $JSCompiler_temp$jscomp$31_JSCompiler_win$jscomp$inline_79$$}
;var $toString_$$module$src$types$$=Object.prototype.toString;function $isFiniteNumber$$module$src$types$$($value$jscomp$91$$){return"number"===typeof $value$jscomp$91$$&&isFinite($value$jscomp$91$$)};function $duplicateErrorIfNecessary$$module$src$log$$($error$jscomp$9$$){var $messageProperty$$=Object.getOwnPropertyDescriptor($error$jscomp$9$$,"message");if($messageProperty$$&&$messageProperty$$.writable)return $error$jscomp$9$$;var $stack$$=$error$jscomp$9$$.stack,$e$jscomp$10$$=Error($error$jscomp$9$$.message),$prop$jscomp$2$$;for($prop$jscomp$2$$ in $error$jscomp$9$$)$e$jscomp$10$$[$prop$jscomp$2$$]=$error$jscomp$9$$[$prop$jscomp$2$$];$e$jscomp$10$$.stack=$stack$$;return $e$jscomp$10$$}
function $createErrorVargs$$module$src$log$$($var_args$jscomp$53$$){for(var $error$jscomp$10$$=null,$message$jscomp$28$$="",$i$jscomp$6$$=0;$i$jscomp$6$$<arguments.length;$i$jscomp$6$$++){var $arg$jscomp$6$$=arguments[$i$jscomp$6$$];$arg$jscomp$6$$ instanceof Error&&!$error$jscomp$10$$?$error$jscomp$10$$=$duplicateErrorIfNecessary$$module$src$log$$($arg$jscomp$6$$):($message$jscomp$28$$&&($message$jscomp$28$$+=" "),$message$jscomp$28$$+=$arg$jscomp$6$$)}$error$jscomp$10$$?$message$jscomp$28$$&&($error$jscomp$10$$.message=
$message$jscomp$28$$+": "+$error$jscomp$10$$.message):$error$jscomp$10$$=Error($message$jscomp$28$$);return $error$jscomp$10$$}function $rethrowAsync$$module$src$log$$($var_args$jscomp$54$$){var $error$jscomp$11$$=$createErrorVargs$$module$src$log$$.apply(null,arguments);setTimeout(function(){self.reportError($error$jscomp$11$$);throw $error$jscomp$11$$;})}self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log;
function $user$$module$src$log$$(){if(!$logs$$module$src$log$$.user)throw Error("failed to call initLogConstructor");return $logs$$module$src$log$$.user}function $dev$$module$src$log$$(){if($logs$$module$src$log$$.dev)return $logs$$module$src$log$$.dev;throw Error("failed to call initLogConstructor");}
function $userAssert$$module$src$log$$($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$){$user$$module$src$log$$().assert($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$,void 0,void 0,void 0,void 0,void 0,void 0)};function $getExistingServiceForDocInEmbedScope$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_95_JSCompiler_holder$jscomp$inline_96_element$jscomp$11$$,$id$jscomp$6$$){var $opt_fallbackToTopWin$$,$win$jscomp$6$$=$JSCompiler_ampdoc$jscomp$inline_95_JSCompiler_holder$jscomp$inline_96_element$jscomp$11$$.ownerDocument.defaultView,$isEmbed$$=$win$jscomp$6$$!=$getTopWindow$$module$src$service$$($win$jscomp$6$$);if($isEmbed$$){if($isServiceRegistered$$module$src$service$$($win$jscomp$6$$,$id$jscomp$6$$)){var $embedService$$=
$getServiceInternal$$module$src$service$$($win$jscomp$6$$,$id$jscomp$6$$);if($embedService$$)return $embedService$$}if(!$opt_fallbackToTopWin$$)return null}$JSCompiler_ampdoc$jscomp$inline_95_JSCompiler_holder$jscomp$inline_96_element$jscomp$11$$=$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_95_JSCompiler_holder$jscomp$inline_96_element$jscomp$11$$);$JSCompiler_ampdoc$jscomp$inline_95_JSCompiler_holder$jscomp$inline_96_element$jscomp$11$$=$getAmpdocServiceHolder$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_95_JSCompiler_holder$jscomp$inline_96_element$jscomp$11$$);
return $isServiceRegistered$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_95_JSCompiler_holder$jscomp$inline_96_element$jscomp$11$$,$id$jscomp$6$$)?$getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_95_JSCompiler_holder$jscomp$inline_96_element$jscomp$11$$,$id$jscomp$6$$):null}
function $installServiceInEmbedScope$$module$src$service$$($embedWin$$,$service$$){$getTopWindow$$module$src$service$$($embedWin$$);$isServiceRegistered$$module$src$service$$($embedWin$$,"url-replace");$registerServiceInternal$$module$src$service$$($embedWin$$,$embedWin$$,function(){return $service$$});$getServiceInternal$$module$src$service$$($embedWin$$,"url-replace")}
function $getService$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$){$win$jscomp$8$$=$getTopWindow$$module$src$service$$($win$jscomp$8$$);return $getServiceInternal$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$)}
function $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$$,$id$jscomp$15$$){var $ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdoc$$module$src$service$$($elementOrAmpDoc$$);$ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$);return $getServiceInternal$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$,$id$jscomp$15$$)}
function $getServicePromiseOrNullForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$2$$,$id$jscomp$18$$){return $getServicePromiseOrNullInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($elementOrAmpDoc$jscomp$2$$),$id$jscomp$18$$)}function $getTopWindow$$module$src$service$$($win$jscomp$14$$){return $win$jscomp$14$$.__AMP_TOP||$win$jscomp$14$$}
function $getAmpdoc$$module$src$service$$($nodeOrDoc$jscomp$2$$){return $nodeOrDoc$jscomp$2$$.nodeType?$getService$$module$src$service$$(($nodeOrDoc$jscomp$2$$.ownerDocument||$nodeOrDoc$jscomp$2$$).defaultView,"ampdoc").getAmpDoc($nodeOrDoc$jscomp$2$$):$nodeOrDoc$jscomp$2$$}
function $getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$){$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$=$getAmpdoc$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$);return $ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.isSingleDoc()?$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.win:$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$){$isServiceRegistered$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$);var $services$$=$getServices$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$);$holder$jscomp$4_s$jscomp$8$$=$services$$[$id$jscomp$19$$];$holder$jscomp$4_s$jscomp$8$$.obj||($holder$jscomp$4_s$jscomp$8$$.obj=new $holder$jscomp$4_s$jscomp$8$$.ctor($holder$jscomp$4_s$jscomp$8$$.context),$holder$jscomp$4_s$jscomp$8$$.ctor=
null,$holder$jscomp$4_s$jscomp$8$$.context=null,$holder$jscomp$4_s$jscomp$8$$.resolve&&$holder$jscomp$4_s$jscomp$8$$.resolve($holder$jscomp$4_s$jscomp$8$$.obj));return $holder$jscomp$4_s$jscomp$8$$.obj}
function $registerServiceInternal$$module$src$service$$($holder$jscomp$5$$,$context$$,$ctor$jscomp$1$$){var $services$jscomp$1$$=$getServices$$module$src$service$$($holder$jscomp$5$$),$s$jscomp$9$$=$services$jscomp$1$$["url-replace"];$s$jscomp$9$$||($s$jscomp$9$$=$services$jscomp$1$$["url-replace"]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});$s$jscomp$9$$.ctor||$s$jscomp$9$$.obj||($s$jscomp$9$$.ctor=$ctor$jscomp$1$$,$s$jscomp$9$$.context=$context$$,$s$jscomp$9$$.resolve&&
$getServiceInternal$$module$src$service$$($holder$jscomp$5$$,"url-replace"))}function $getServicePromiseOrNullInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$){var $s$jscomp$11$$=$getServices$$module$src$service$$($holder$jscomp$8$$)[$id$jscomp$23$$];if($s$jscomp$11$$){if($s$jscomp$11$$.promise)return $s$jscomp$11$$.promise;$getServiceInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$);return $s$jscomp$11$$.promise=Promise.resolve($s$jscomp$11$$.obj)}return null}
function $getServices$$module$src$service$$($holder$jscomp$9$$){var $services$jscomp$5$$=$holder$jscomp$9$$.services;$services$jscomp$5$$||($services$jscomp$5$$=$holder$jscomp$9$$.services={});return $services$jscomp$5$$}
function $disposeServicesInternal$$module$src$service$$($holder$jscomp$10_services$jscomp$6$$){$holder$jscomp$10_services$jscomp$6$$=$getServices$$module$src$service$$($holder$jscomp$10_services$jscomp$6$$);var $$jscomp$loop$21$$={},$id$jscomp$24$$;for($id$jscomp$24$$ in $holder$jscomp$10_services$jscomp$6$$){$$jscomp$loop$21$$.$$jscomp$loop$prop$id$22$=$id$jscomp$24$$;if(Object.prototype.hasOwnProperty.call($holder$jscomp$10_services$jscomp$6$$,$$jscomp$loop$21$$.$$jscomp$loop$prop$id$22$)){var $serviceHolder$$=
$holder$jscomp$10_services$jscomp$6$$[$$jscomp$loop$21$$.$$jscomp$loop$prop$id$22$];$serviceHolder$$.obj?$disposeServiceInternal$$module$src$service$$($$jscomp$loop$21$$.$$jscomp$loop$prop$id$22$,$serviceHolder$$.obj):$serviceHolder$$.promise&&$serviceHolder$$.promise.then(function($holder$jscomp$10_services$jscomp$6$$){return function($$jscomp$loop$21$$){return $disposeServiceInternal$$module$src$service$$($holder$jscomp$10_services$jscomp$6$$.$$jscomp$loop$prop$id$22$,$$jscomp$loop$21$$)}}($$jscomp$loop$21$$))}$$jscomp$loop$21$$=
{$$jscomp$loop$prop$id$22$:$$jscomp$loop$21$$.$$jscomp$loop$prop$id$22$}}}function $disposeServiceInternal$$module$src$service$$($id$jscomp$25$$,$service$jscomp$3$$){if("function"==typeof $service$jscomp$3$$.dispose)try{$service$jscomp$3$$.dispose()}catch($e$jscomp$12$$){$dev$$module$src$log$$().error("SERVICE","failed to dispose service",$id$jscomp$25$$,$e$jscomp$12$$)}}
function $isServiceRegistered$$module$src$service$$($holder$jscomp$12_service$jscomp$4$$,$id$jscomp$27$$){$holder$jscomp$12_service$jscomp$4$$=$holder$jscomp$12_service$jscomp$4$$.services&&$holder$jscomp$12_service$jscomp$4$$.services[$id$jscomp$27$$];return!(!$holder$jscomp$12_service$jscomp$4$$||!$holder$jscomp$12_service$jscomp$4$$.ctor&&!$holder$jscomp$12_service$jscomp$4$$.obj)}
function $emptyServiceHolderWithPromise$$module$src$service$$(){var $deferred$$=new $Deferred$$module$src$utils$promise$$,$$jscomp$destructuring$var2_reject$jscomp$3$$=$deferred$$,$promise$jscomp$1$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.promise,$resolve$jscomp$4$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.resolve;$$jscomp$destructuring$var2_reject$jscomp$3$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.reject;$promise$jscomp$1$$.catch(function(){});return{obj:null,promise:$promise$jscomp$1$$,
resolve:$resolve$jscomp$4$$,reject:$$jscomp$destructuring$var2_reject$jscomp$3$$,context:null,ctor:null}};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var $hasOwn_$$module$src$utils$object$$=Object.prototype.hasOwnProperty;function $map$$module$src$utils$object$$(){var $opt_initial$$,$obj$jscomp$25$$=Object.create(null);$opt_initial$$&&Object.assign($obj$jscomp$25$$,$opt_initial$$);return $obj$jscomp$25$$}function $dict$$module$src$utils$object$$($opt_initial$jscomp$1$$){return $opt_initial$jscomp$1$$||{}};function $startsWith$$module$src$string$$($string$jscomp$6$$,$prefix$jscomp$2$$){return $prefix$jscomp$2$$.length>$string$jscomp$6$$.length?!1:0==$string$jscomp$6$$.lastIndexOf($prefix$jscomp$2$$,0)};var $HTML_ESCAPE_CHARS$$module$src$dom$$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},$HTML_ESCAPE_REGEX$$module$src$dom$$=/(&|<|>|"|'|`)/g;
function $createElementWithAttributes$$module$src$dom$$($doc$jscomp$12_element$jscomp$16$$,$tagName$jscomp$5$$,$attributes$jscomp$2$$){$doc$jscomp$12_element$jscomp$16$$=$doc$jscomp$12_element$jscomp$16$$.createElement($tagName$jscomp$5$$);for(var $JSCompiler_attr$jscomp$inline_102$$ in $attributes$jscomp$2$$)$doc$jscomp$12_element$jscomp$16$$.setAttribute($JSCompiler_attr$jscomp$inline_102$$,$attributes$jscomp$2$$[$JSCompiler_attr$jscomp$inline_102$$]);return $doc$jscomp$12_element$jscomp$16$$}
function $escapeHtml$$module$src$dom$$($text$jscomp$12$$){return $text$jscomp$12$$?$text$jscomp$12$$.replace($HTML_ESCAPE_REGEX$$module$src$dom$$,$escapeHtmlChar$$module$src$dom$$):$text$jscomp$12$$}function $escapeHtmlChar$$module$src$dom$$($c$$){return $HTML_ESCAPE_CHARS$$module$src$dom$$[$c$$]};function $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$33$$,$id$jscomp$31$$,$extension$jscomp$3$$){var $s$jscomp$13$$=$getServicePromiseOrNullForDoc$$module$src$service$$($element$jscomp$33$$,$id$jscomp$31$$);if($s$jscomp$13$$)return $s$jscomp$13$$;var $ampdoc$jscomp$7$$=$getAmpdoc$$module$src$service$$($element$jscomp$33$$);return $ampdoc$jscomp$7$$.whenBodyAvailable().then(function(){var $element$jscomp$33$$=$ampdoc$jscomp$7$$.win;var $id$jscomp$31$$=$ampdoc$jscomp$7$$.win.document.head;
if($id$jscomp$31$$){var $s$jscomp$13$$=[];$id$jscomp$31$$=$id$jscomp$31$$.querySelectorAll("script[custom-element]");for(var $JSCompiler_i$jscomp$inline_279$$=0;$JSCompiler_i$jscomp$inline_279$$<$id$jscomp$31$$.length;$JSCompiler_i$jscomp$inline_279$$++)$s$jscomp$13$$.push($id$jscomp$31$$[$JSCompiler_i$jscomp$inline_279$$].getAttribute("custom-element"))}else $s$jscomp$13$$=[];$element$jscomp$33$$=$s$jscomp$13$$.includes($extension$jscomp$3$$)?$getService$$module$src$service$$($element$jscomp$33$$,
"extensions").waitForExtension($element$jscomp$33$$,$extension$jscomp$3$$):Promise.resolve();return $element$jscomp$33$$}).then(function(){var $s$jscomp$13$$=$ampdoc$jscomp$7$$.win;if($s$jscomp$13$$.ampExtendedElements&&$s$jscomp$13$$.ampExtendedElements[$extension$jscomp$3$$]){$s$jscomp$13$$=$getAmpdocServiceHolder$$module$src$service$$($element$jscomp$33$$);var $JSCompiler_cached$jscomp$inline_246$$=$getServicePromiseOrNullInternal$$module$src$service$$($s$jscomp$13$$,$id$jscomp$31$$);$JSCompiler_cached$jscomp$inline_246$$?
$s$jscomp$13$$=$JSCompiler_cached$jscomp$inline_246$$:($s$jscomp$13$$=$getServices$$module$src$service$$($s$jscomp$13$$),$s$jscomp$13$$[$id$jscomp$31$$]=$emptyServiceHolderWithPromise$$module$src$service$$(),$s$jscomp$13$$=$s$jscomp$13$$[$id$jscomp$31$$].promise)}else $s$jscomp$13$$=null;return $s$jscomp$13$$})};function $Services$$module$src$services$analyticsForDocOrNull$$($element$jscomp$43$$){return $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$43$$,"amp-analytics-instrumentation","amp-analytics")}function $Services$$module$src$services$resourcesForDoc$$($elementOrAmpDoc$jscomp$11$$){return $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$11$$,"resources")};var $optsSupported$$module$src$event_helper_listen$$;
function $internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$55$$,$eventType$jscomp$3$$,$listener$jscomp$62$$){var $opt_evtListenerOpts$$=void 0,$localElement$$=$element$jscomp$55$$,$localListener$$=$listener$jscomp$62$$;var $wrapped$$=function($element$jscomp$55$$){try{return $localListener$$($element$jscomp$55$$)}catch($e$jscomp$16$$){throw self.reportError($e$jscomp$16$$),$e$jscomp$16$$;}};var $optsSupported$$=$detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(),$capture$$=
!1;$opt_evtListenerOpts$$&&($capture$$=$opt_evtListenerOpts$$.capture);$localElement$$.addEventListener($eventType$jscomp$3$$,$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$$);return function(){$localElement$$&&$localElement$$.removeEventListener($eventType$jscomp$3$$,$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$$);$wrapped$$=$localElement$$=$localListener$$=null}}
function $detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(){if(void 0!==$optsSupported$$module$src$event_helper_listen$$)return $optsSupported$$module$src$event_helper_listen$$;$optsSupported$$module$src$event_helper_listen$$=!1;try{var $options$jscomp$14$$={get capture(){$optsSupported$$module$src$event_helper_listen$$=!0}};self.addEventListener("test-options",null,$options$jscomp$14$$);self.removeEventListener("test-options",null,$options$jscomp$14$$)}catch($err$jscomp$3$$){}return $optsSupported$$module$src$event_helper_listen$$}
;function $listenOnce$$module$src$event_helper$$($element$jscomp$57$$,$eventType$jscomp$5$$,$listener$jscomp$64$$){var $localListener$jscomp$1$$=$listener$jscomp$64$$,$unlisten$$=$internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$57$$,$eventType$jscomp$5$$,function($element$jscomp$57$$){try{$localListener$jscomp$1$$($element$jscomp$57$$)}finally{$localListener$jscomp$1$$=null,$unlisten$$()}});return $unlisten$$}
function $loadPromise$$module$src$event_helper$$($eleOrWindow$jscomp$1$$){var $unlistenLoad$$,$unlistenError$$;if($eleOrWindow$jscomp$1$$.complete||"complete"==$eleOrWindow$jscomp$1$$.readyState||$eleOrWindow$jscomp$1$$.document&&"complete"==$eleOrWindow$jscomp$1$$.document.readyState)return Promise.resolve($eleOrWindow$jscomp$1$$);var $loadingPromise$$=new Promise(function($loadingPromise$$,$reject$jscomp$4$$){var $resolve$jscomp$11$$=$eleOrWindow$jscomp$1$$.tagName;$unlistenLoad$$="AUDIO"===$resolve$jscomp$11$$||
"VIDEO"===$resolve$jscomp$11$$?$listenOnce$$module$src$event_helper$$($eleOrWindow$jscomp$1$$,"loadstart",$loadingPromise$$):$listenOnce$$module$src$event_helper$$($eleOrWindow$jscomp$1$$,"load",$loadingPromise$$);$resolve$jscomp$11$$&&($unlistenError$$=$listenOnce$$module$src$event_helper$$($eleOrWindow$jscomp$1$$,"error",$reject$jscomp$4$$))});return $loadingPromise$$.then(function(){$unlistenError$$&&$unlistenError$$();return $eleOrWindow$jscomp$1$$},function(){$unlistenLoad$$&&$unlistenLoad$$();
var $unlistenError$$=$eleOrWindow$jscomp$1$$;$unlistenError$$&&$unlistenError$$.src&&($unlistenError$$=$unlistenError$$.src);throw $user$$module$src$log$$().createError("Failed to load:",$unlistenError$$);})};function $getTimingDataAsync$$module$src$service$variable_source$$($win$jscomp$43$$,$startEvent$$,$endEvent$$){return $loadPromise$$module$src$event_helper$$($win$jscomp$43$$).then(function(){return $getTimingDataSync$$module$src$service$variable_source$$($win$jscomp$43$$,$startEvent$$,$endEvent$$)})}
function $getTimingDataSync$$module$src$service$variable_source$$($win$jscomp$44$$,$startEvent$jscomp$1$$,$endEvent$jscomp$1$$){var $timingInfo$$=$win$jscomp$44$$.performance&&$win$jscomp$44$$.performance.timing;if($timingInfo$$&&0!=$timingInfo$$.navigationStart){var $metric$$=void 0===$endEvent$jscomp$1$$?$timingInfo$$[$startEvent$jscomp$1$$]:$timingInfo$$[$endEvent$jscomp$1$$]-$timingInfo$$[$startEvent$jscomp$1$$];if($isFiniteNumber$$module$src$types$$($metric$$)&&!(0>$metric$$))return $metric$$}}
function $getNavigationData$$module$src$service$variable_source$$($win$jscomp$45$$,$attribute$$){var $navigationInfo$$=$win$jscomp$45$$.performance&&$win$jscomp$45$$.performance.navigation;if($navigationInfo$$&&void 0!==$navigationInfo$$[$attribute$$])return $navigationInfo$$[$attribute$$]}
function $VariableSource$$module$src$service$variable_source$$($ampdoc$jscomp$10$$){this.ampdoc=$ampdoc$jscomp$10$$;this.$replacements_$=Object.create(null);this.$initialized_$=!1;$JSCompiler_StaticMethods_getUrlMacroWhitelist_$$(this)}$JSCompiler_prototypeAlias$$=$VariableSource$$module$src$service$variable_source$$.prototype;$JSCompiler_prototypeAlias$$.initialize=function(){};
$JSCompiler_prototypeAlias$$.get=function($name$jscomp$75$$){this.$initialized_$||(this.initialize(),this.$initialized_$=!0);return this.$replacements_$[$name$jscomp$75$$]};$JSCompiler_prototypeAlias$$.set=function($varName$jscomp$1$$,$syncResolver$$){this.$replacements_$[$varName$jscomp$1$$]=this.$replacements_$[$varName$jscomp$1$$]||{sync:void 0,async:void 0};this.$replacements_$[$varName$jscomp$1$$].sync=$syncResolver$$;return this};
$JSCompiler_prototypeAlias$$.setAsync=function($varName$jscomp$2$$,$asyncResolver$$){this.$replacements_$[$varName$jscomp$2$$]=this.$replacements_$[$varName$jscomp$2$$]||{sync:void 0,async:void 0};this.$replacements_$[$varName$jscomp$2$$].async=$asyncResolver$$;return this};$JSCompiler_prototypeAlias$$.setBoth=function($varName$jscomp$3$$,$syncResolver$jscomp$1$$,$asyncResolver$jscomp$1$$){return this.set($varName$jscomp$3$$,$syncResolver$jscomp$1$$).setAsync($varName$jscomp$3$$,$asyncResolver$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.getExpr=function($opt_bindings$$,$opt_whiteList$$){this.$initialized_$||(this.initialize(),this.$initialized_$=!0);var $all$$=Object.assign({},this.$replacements_$,$opt_bindings$$);return $JSCompiler_StaticMethods_buildExpr_$$(this,Object.keys($all$$),$opt_whiteList$$)};
function $JSCompiler_StaticMethods_buildExpr_$$($JSCompiler_StaticMethods_buildExpr_$self$$,$keys$$,$opt_whiteList$jscomp$1$$){$JSCompiler_StaticMethods_getUrlMacroWhitelist_$$($JSCompiler_StaticMethods_buildExpr_$self$$)&&($keys$$=$keys$$.filter(function($keys$$){return $JSCompiler_StaticMethods_getUrlMacroWhitelist_$$($JSCompiler_StaticMethods_buildExpr_$self$$).includes($keys$$)}));$opt_whiteList$jscomp$1$$&&($keys$$=$keys$$.filter(function($JSCompiler_StaticMethods_buildExpr_$self$$){return $opt_whiteList$jscomp$1$$[$JSCompiler_StaticMethods_buildExpr_$self$$]}));
if(0===$keys$$.length){var $regexThatMatchesNothing$$=/_^/g;return $regexThatMatchesNothing$$}$keys$$.sort(function($JSCompiler_StaticMethods_buildExpr_$self$$,$keys$$){return $keys$$.length-$JSCompiler_StaticMethods_buildExpr_$self$$.length});var $regexStr$$="\\$?("+$keys$$.map(function($JSCompiler_StaticMethods_buildExpr_$self$$){return"$"===$JSCompiler_StaticMethods_buildExpr_$self$$[0]?"\\"+$JSCompiler_StaticMethods_buildExpr_$self$$:$JSCompiler_StaticMethods_buildExpr_$self$$}).join("|")+")";
return new RegExp($regexStr$$,"g")}
function $JSCompiler_StaticMethods_getUrlMacroWhitelist_$$($JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$){if($JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.$variableWhitelist_$)return $JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.$variableWhitelist_$;var $head$jscomp$3$$=$JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.ampdoc.getRootNode().head;if(!$head$jscomp$3$$)return null;var $meta$$=$head$jscomp$3$$.querySelector('meta[name="amp-allowed-url-macros"]');if(!$meta$$)return null;
$JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.$variableWhitelist_$=$meta$$.getAttribute("content").split(",").map(function($JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$){return $JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.trim()});return $JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.$variableWhitelist_$};var $WHITELISTED_VARIABLES$$module$extensions$amp_a4a$0_1$a4a_variable_source$$="AMPDOC_HOST AMPDOC_HOSTNAME AMPDOC_URL AMP_VERSION AVAILABLE_SCREEN_HEIGHT AVAILABLE_SCREEN_WIDTH BACKGROUND_STATE BROWSER_LANGUAGE CANONICAL_HOST CANONICAL_HOSTNAME CANONICAL_PATH CANONICAL_URL COUNTER DOCUMENT_CHARSET DOCUMENT_REFERRER FIRST_CONTENTFUL_PAINT FIRST_VIEWPORT_READY MAKE_BODY_VISIBLE PAGE_VIEW_ID RANDOM SCREEN_COLOR_DEPTH SCREEN_HEIGHT SCREEN_WIDTH SCROLL_HEIGHT SCROLL_LEFT SCROLL_TOP SCROLL_WIDTH SHARE_TRACKING_INCOMING SHARE_TRACKING_OUTGOING SOURCE_HOST SOURCE_HOSTNAME SOURCE_PATH SOURCE_URL TIMESTAMP TIMEZONE TIMEZONE_CODE TITLE TOTAL_ENGAGED_TIME USER_AGENT VARIANT VARIANTS VIEWER VIEWPORT_HEIGHT VIEWPORT_WIDTH".split(" ");
function $A4AVariableSource$$module$extensions$amp_a4a$0_1$a4a_variable_source$$($ampdoc$jscomp$11$$,$embedWin$jscomp$3$$){$VariableSource$$module$src$service$variable_source$$.call(this,$ampdoc$jscomp$11$$);var $headNode$$=$ampdoc$jscomp$11$$.getHeadNode(),$urlReplacements$$=$getExistingServiceForDocInEmbedScope$$module$src$service$$($headNode$$,"url-replace");this.$globalVariableSource_$=$urlReplacements$$.getVariableSource();this.$win_$=$embedWin$jscomp$3$$}
$$jscomp$inherits$$($A4AVariableSource$$module$extensions$amp_a4a$0_1$a4a_variable_source$$,$VariableSource$$module$src$service$variable_source$$);
$A4AVariableSource$$module$extensions$amp_a4a$0_1$a4a_variable_source$$.prototype.initialize=function(){for(var $$jscomp$this$jscomp$2$$=this,$v$$=0;$v$$<$WHITELISTED_VARIABLES$$module$extensions$amp_a4a$0_1$a4a_variable_source$$.length;$v$$++){var $varName$jscomp$4$$=$WHITELISTED_VARIABLES$$module$extensions$amp_a4a$0_1$a4a_variable_source$$[$v$$],$resolvers$$=this.$globalVariableSource_$.get($varName$jscomp$4$$);this.set($varName$jscomp$4$$,$resolvers$$.sync).setAsync($varName$jscomp$4$$,$resolvers$$.async)}this.set("NAV_TIMING",
function($v$$,$varName$jscomp$4$$){$userAssert$$module$src$log$$($v$$,"The first argument to NAV_TIMING, the start attribute name, is required");return $getTimingDataSync$$module$src$service$variable_source$$($$jscomp$this$jscomp$2$$.$win_$,$v$$,$varName$jscomp$4$$)}).setAsync("NAV_TIMING",function($v$$,$varName$jscomp$4$$){$userAssert$$module$src$log$$($v$$,"The first argument to NAV_TIMING, the start attribute name, is required");return $getTimingDataAsync$$module$src$service$variable_source$$($$jscomp$this$jscomp$2$$.$win_$,
$v$$,$varName$jscomp$4$$)});this.set("NAV_TYPE",function(){return $getNavigationData$$module$src$service$variable_source$$($$jscomp$this$jscomp$2$$.$win_$,"type")});this.set("NAV_REDIRECT_COUNT",function(){return $getNavigationData$$module$src$service$variable_source$$($$jscomp$this$jscomp$2$$.$win_$,"redirectCount")});this.set("HTML_ATTR",this.$htmlAttributeBinding_$.bind(this));this.set("CLIENT_ID",function(){return null})};
$A4AVariableSource$$module$extensions$amp_a4a$0_1$a4a_variable_source$$.prototype.$htmlAttributeBinding_$=function($cssSelector$$,$var_args$jscomp$55$$){var $HTML_ATTR_MAX_ELEMENTS_TO_TRAVERSE$$=20,$HTML_ATTR_MAX_ELEMENTS_TO_RETURN$$=10,$HTML_ATTR_MAX_ATTRS$$=10,$TAG$$="A4AVariableSource",$attributeNames$$=Array.prototype.slice.call(arguments,1);if(!$cssSelector$$||!$attributeNames$$.length)return"[]";if($attributeNames$$.length>$HTML_ATTR_MAX_ATTRS$$)return $user$$module$src$log$$().error($TAG$$,
"At most "+$HTML_ATTR_MAX_ATTRS$$+" may be requested."),"[]";$cssSelector$$=decodeURI($cssSelector$$);try{var $elements$jscomp$1$$=this.$win_$.document.querySelectorAll($cssSelector$$)}catch($e$jscomp$18$$){return $user$$module$src$log$$().error($TAG$$,"Invalid selector: "+$cssSelector$$),"[]"}if($elements$jscomp$1$$.length>$HTML_ATTR_MAX_ELEMENTS_TO_TRAVERSE$$)return $user$$module$src$log$$().error($TAG$$,"CSS selector may match at most "+($HTML_ATTR_MAX_ELEMENTS_TO_TRAVERSE$$+" elements.")),"[]";
for(var $result$jscomp$1$$=[],$i$jscomp$11$$=0;$i$jscomp$11$$<$elements$jscomp$1$$.length&&$result$jscomp$1$$.length<$HTML_ATTR_MAX_ELEMENTS_TO_RETURN$$;++$i$jscomp$11$$){for(var $currentResult$$={},$foundAtLeastOneAttr$$=!1,$j$$=0;$j$$<$attributeNames$$.length;++$j$$){var $attributeName$jscomp$1$$=$attributeNames$$[$j$$];$elements$jscomp$1$$[$i$jscomp$11$$].hasAttribute($attributeName$jscomp$1$$)&&($currentResult$$[$attributeName$jscomp$1$$]=$elements$jscomp$1$$[$i$jscomp$11$$].getAttribute($attributeName$jscomp$1$$),
$foundAtLeastOneAttr$$=!0)}$foundAtLeastOneAttr$$&&$result$jscomp$1$$.push($currentResult$$)}return JSON.stringify($result$jscomp$1$$)};var $propertyNameCache$$module$src$style$$,$vendorPrefixes$$module$src$style$$="Webkit webkit Moz moz ms O o".split(" ");
function $getVendorJsPropertyName$$module$src$style$$($style$jscomp$1$$,$camelCase$jscomp$1$$,$opt_bypassCache$$){if($startsWith$$module$src$string$$($camelCase$jscomp$1$$,"--"))return $camelCase$jscomp$1$$;$propertyNameCache$$module$src$style$$||($propertyNameCache$$module$src$style$$=$map$$module$src$utils$object$$());var $propertyName$jscomp$9$$=$propertyNameCache$$module$src$style$$[$camelCase$jscomp$1$$];if(!$propertyName$jscomp$9$$||$opt_bypassCache$$){$propertyName$jscomp$9$$=$camelCase$jscomp$1$$;
if(void 0===$style$jscomp$1$$[$camelCase$jscomp$1$$]){var $JSCompiler_inline_result$jscomp$52_titleCase$jscomp$1$$=$camelCase$jscomp$1$$.charAt(0).toUpperCase()+$camelCase$jscomp$1$$.slice(1);a:{for(var $JSCompiler_i$jscomp$inline_124$$=0;$JSCompiler_i$jscomp$inline_124$$<$vendorPrefixes$$module$src$style$$.length;$JSCompiler_i$jscomp$inline_124$$++){var $JSCompiler_propertyName$jscomp$inline_125$$=$vendorPrefixes$$module$src$style$$[$JSCompiler_i$jscomp$inline_124$$]+$JSCompiler_inline_result$jscomp$52_titleCase$jscomp$1$$;
if(void 0!==$style$jscomp$1$$[$JSCompiler_propertyName$jscomp$inline_125$$]){$JSCompiler_inline_result$jscomp$52_titleCase$jscomp$1$$=$JSCompiler_propertyName$jscomp$inline_125$$;break a}}$JSCompiler_inline_result$jscomp$52_titleCase$jscomp$1$$=""}var $prefixedPropertyName$$=$JSCompiler_inline_result$jscomp$52_titleCase$jscomp$1$$;void 0!==$style$jscomp$1$$[$prefixedPropertyName$$]&&($propertyName$jscomp$9$$=$prefixedPropertyName$$)}$opt_bypassCache$$||($propertyNameCache$$module$src$style$$[$camelCase$jscomp$1$$]=
$propertyName$jscomp$9$$)}return $propertyName$jscomp$9$$}function $setImportantStyles$$module$src$style$$($element$jscomp$60_style$jscomp$2$$,$styles$$){$element$jscomp$60_style$jscomp$2$$=$element$jscomp$60_style$jscomp$2$$.style;for(var $k$jscomp$1$$ in $styles$$)$element$jscomp$60_style$jscomp$2$$.setProperty($getVendorJsPropertyName$$module$src$style$$($element$jscomp$60_style$jscomp$2$$,$k$jscomp$1$$),$styles$$[$k$jscomp$1$$].toString(),"important")}
function $setStyle$$module$src$style$$($element$jscomp$61$$,$property$jscomp$4_propertyName$jscomp$10$$,$value$jscomp$93$$){var $opt_units$$;($property$jscomp$4_propertyName$jscomp$10$$=$getVendorJsPropertyName$$module$src$style$$($element$jscomp$61$$.style,$property$jscomp$4_propertyName$jscomp$10$$,void 0))&&($element$jscomp$61$$.style[$property$jscomp$4_propertyName$jscomp$10$$]=$opt_units$$?$value$jscomp$93$$+$opt_units$$:$value$jscomp$93$$)}
function $setStyles$$module$src$style$$($element$jscomp$63$$){var $styles$jscomp$1$$={opacity:1,visibility:"visible",animation:"none"},$k$jscomp$2$$;for($k$jscomp$2$$ in $styles$jscomp$1$$)$setStyle$$module$src$style$$($element$jscomp$63$$,$k$jscomp$2$$,$styles$jscomp$1$$[$k$jscomp$2$$])}
function $resetStyles$$module$src$style$$($element$jscomp$65$$,$properties$$){for(var $i$jscomp$14$$=0;$i$jscomp$14$$<$properties$$.length;$i$jscomp$14$$++)$setStyle$$module$src$style$$($element$jscomp$65$$,$properties$$[$i$jscomp$14$$],null)};function $getLengthNumeral$$module$src$layout$$($length$jscomp$21_res$jscomp$2$$){$length$jscomp$21_res$jscomp$2$$=parseFloat($length$jscomp$21_res$jscomp$2$$);return $isFiniteNumber$$module$src$types$$($length$jscomp$21_res$jscomp$2$$)?$length$jscomp$21_res$jscomp$2$$:void 0};function $indexWithinParent$$module$src$utils$dom_fingerprint$$($element$jscomp$71$$){for(var $nodeName$jscomp$1$$=$element$jscomp$71$$.nodeName,$i$jscomp$15$$=0,$count$jscomp$18$$=0,$sibling$$=$element$jscomp$71$$.previousElementSibling;$sibling$$&&25>$count$jscomp$18$$&&100>$i$jscomp$15$$;)$sibling$$.nodeName==$nodeName$jscomp$1$$&&$count$jscomp$18$$++,$i$jscomp$15$$++,$sibling$$=$sibling$$.previousElementSibling;return 25>$count$jscomp$18$$&&100>$i$jscomp$15$$?"."+$count$jscomp$18$$:""};function $LruCache$$module$src$utils$lru_cache$$(){this.$capacity_$=100;this.$access_$=this.$size_$=0;this.$cache_$=Object.create(null)}$LruCache$$module$src$utils$lru_cache$$.prototype.has=function($key$jscomp$47$$){return!!this.$cache_$[$key$jscomp$47$$]};$LruCache$$module$src$utils$lru_cache$$.prototype.get=function($key$jscomp$48$$){var $cacheable$$=this.$cache_$[$key$jscomp$48$$];if($cacheable$$)return $cacheable$$.access=++this.$access_$,$cacheable$$.payload};
$LruCache$$module$src$utils$lru_cache$$.prototype.put=function($JSCompiler_cache$jscomp$inline_128_key$jscomp$49$$,$payload$$){this.has($JSCompiler_cache$jscomp$inline_128_key$jscomp$49$$)||this.$size_$++;this.$cache_$[$JSCompiler_cache$jscomp$inline_128_key$jscomp$49$$]={payload:$payload$$,access:this.$access_$};if(!(this.$size_$<=this.$capacity_$)){$dev$$module$src$log$$().warn("lru-cache","Trimming LRU cache");$JSCompiler_cache$jscomp$inline_128_key$jscomp$49$$=this.$cache_$;var $JSCompiler_oldest$jscomp$inline_129$$=
this.$access_$+1,$JSCompiler_key$jscomp$inline_131$$;for($JSCompiler_key$jscomp$inline_131$$ in $JSCompiler_cache$jscomp$inline_128_key$jscomp$49$$){var $JSCompiler_access$jscomp$inline_132$$=$JSCompiler_cache$jscomp$inline_128_key$jscomp$49$$[$JSCompiler_key$jscomp$inline_131$$].access;if($JSCompiler_access$jscomp$inline_132$$<$JSCompiler_oldest$jscomp$inline_129$$){$JSCompiler_oldest$jscomp$inline_129$$=$JSCompiler_access$jscomp$inline_132$$;var $JSCompiler_oldestKey$jscomp$inline_130$$=$JSCompiler_key$jscomp$inline_131$$}}void 0!==
$JSCompiler_oldestKey$jscomp$inline_130$$&&(delete $JSCompiler_cache$jscomp$inline_128_key$jscomp$49$$[$JSCompiler_oldestKey$jscomp$inline_130$$],this.$size_$--)}};var $env$$module$src$config$$=self.AMP_CONFIG||{},$urls$$module$src$config$$={thirdParty:$env$$module$src$config$$.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:$env$$module$src$config$$.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof $env$$module$src$config$$.thirdPartyFrameRegex?new RegExp($env$$module$src$config$$.thirdPartyFrameRegex):$env$$module$src$config$$.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:$env$$module$src$config$$.cdnUrl||
"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof $env$$module$src$config$$.cdnProxyRegex?new RegExp($env$$module$src$config$$.cdnProxyRegex):$env$$module$src$config$$.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:$env$$module$src$config$$.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:$env$$module$src$config$$.localDev||!1};$dict$$module$src$utils$object$$({c:!0,v:!0,a:!0,ad:!0,action:!0});var $a$$module$src$url$$,$cache$$module$src$url$$,$INVALID_PROTOCOLS$$module$src$url$$=["javascript:","data:","vbscript:"];
function $parseUrlDeprecated$$module$src$url$$($JSCompiler_inline_result$jscomp$53_url$jscomp$22$$,$opt_nocache$$){$a$$module$src$url$$||($a$$module$src$url$$=self.document.createElement("a"),$cache$$module$src$url$$=self.UrlCache||(self.UrlCache=new $LruCache$$module$src$utils$lru_cache$$));var $JSCompiler_opt_cache$jscomp$inline_135$$=$opt_nocache$$?null:$cache$$module$src$url$$,$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$=$a$$module$src$url$$;if($JSCompiler_opt_cache$jscomp$inline_135$$&&
$JSCompiler_opt_cache$jscomp$inline_135$$.has($JSCompiler_inline_result$jscomp$53_url$jscomp$22$$))$JSCompiler_inline_result$jscomp$53_url$jscomp$22$$=$JSCompiler_opt_cache$jscomp$inline_135$$.get($JSCompiler_inline_result$jscomp$53_url$jscomp$22$$);else{$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$.href=$JSCompiler_inline_result$jscomp$53_url$jscomp$22$$;$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$.protocol||($JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$.href=
$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$.href);var $JSCompiler_info$jscomp$inline_137$$={href:$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$.href,protocol:$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$.protocol,host:$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$.host,hostname:$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$.hostname,port:"0"==$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$.port?
"":$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$.port,pathname:$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$.pathname,search:$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$.search,hash:$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$.hash,origin:null};"/"!==$JSCompiler_info$jscomp$inline_137$$.pathname[0]&&($JSCompiler_info$jscomp$inline_137$$.pathname="/"+$JSCompiler_info$jscomp$inline_137$$.pathname);if("http:"==
$JSCompiler_info$jscomp$inline_137$$.protocol&&80==$JSCompiler_info$jscomp$inline_137$$.port||"https:"==$JSCompiler_info$jscomp$inline_137$$.protocol&&443==$JSCompiler_info$jscomp$inline_137$$.port)$JSCompiler_info$jscomp$inline_137$$.port="",$JSCompiler_info$jscomp$inline_137$$.host=$JSCompiler_info$jscomp$inline_137$$.hostname;$JSCompiler_info$jscomp$inline_137$$.origin=$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$.origin&&"null"!=$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$.origin?
$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$.origin:"data:"!=$JSCompiler_info$jscomp$inline_137$$.protocol&&$JSCompiler_info$jscomp$inline_137$$.host?$JSCompiler_info$jscomp$inline_137$$.protocol+"//"+$JSCompiler_info$jscomp$inline_137$$.host:$JSCompiler_info$jscomp$inline_137$$.href;$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$=$getMode$$module$src$mode$$().test&&Object.freeze?Object.freeze($JSCompiler_info$jscomp$inline_137$$):$JSCompiler_info$jscomp$inline_137$$;
$JSCompiler_opt_cache$jscomp$inline_135$$&&$JSCompiler_opt_cache$jscomp$inline_135$$.put($JSCompiler_inline_result$jscomp$53_url$jscomp$22$$,$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$);$JSCompiler_inline_result$jscomp$53_url$jscomp$22$$=$JSCompiler_a$jscomp$inline_136_JSCompiler_frozen$jscomp$inline_138$$}return $JSCompiler_inline_result$jscomp$53_url$jscomp$22$$}
function $appendEncodedParamStringToUrl$$module$src$url$$($url$jscomp$24$$,$paramString$$){var $opt_addToFront$$;if(!$paramString$$)return $url$jscomp$24$$;var $mainAndFragment$$=$url$jscomp$24$$.split("#",2),$mainAndQuery$$=$mainAndFragment$$[0].split("?",2),$newUrl$$=$mainAndQuery$$[0]+($mainAndQuery$$[1]?$opt_addToFront$$?"?"+$paramString$$+"&"+$mainAndQuery$$[1]:"?"+$mainAndQuery$$[1]+"&"+$paramString$$:"?"+$paramString$$);return $newUrl$$+=$mainAndFragment$$[1]?"#"+$mainAndFragment$$[1]:""}
function $serializeQueryString$$module$src$url$$($params$jscomp$5$$){var $s$jscomp$17$$=[],$k$jscomp$4$$;for($k$jscomp$4$$ in $params$jscomp$5$$){var $sv$3_v$jscomp$1$$=$params$jscomp$5$$[$k$jscomp$4$$];if(null!=$sv$3_v$jscomp$1$$)if(Array.isArray($sv$3_v$jscomp$1$$))for(var $i$jscomp$18$$=0;$i$jscomp$18$$<$sv$3_v$jscomp$1$$.length;$i$jscomp$18$$++){var $sv$$=$sv$3_v$jscomp$1$$[$i$jscomp$18$$];$s$jscomp$17$$.push(encodeURIComponent($k$jscomp$4$$)+"="+encodeURIComponent($sv$$))}else $s$jscomp$17$$.push(encodeURIComponent($k$jscomp$4$$)+
"="+encodeURIComponent($sv$3_v$jscomp$1$$))}return $s$jscomp$17$$.join("&")}
function $assertHttpsUrl$$module$src$url$$($JSCompiler_string$jscomp$inline_249_JSCompiler_url$jscomp$inline_140_urlString$jscomp$1$$,$elementContext$$){var $sourceName$$=void 0===$sourceName$$?"source":$sourceName$$;$userAssert$$module$src$log$$(null!=$JSCompiler_string$jscomp$inline_249_JSCompiler_url$jscomp$inline_140_urlString$jscomp$1$$,"%s %s must be available",$elementContext$$,$sourceName$$);var $theUrlString$$=$JSCompiler_string$jscomp$inline_249_JSCompiler_url$jscomp$inline_140_urlString$jscomp$1$$;$JSCompiler_string$jscomp$inline_249_JSCompiler_url$jscomp$inline_140_urlString$jscomp$1$$=
$theUrlString$$;"string"==typeof $JSCompiler_string$jscomp$inline_249_JSCompiler_url$jscomp$inline_140_urlString$jscomp$1$$&&($JSCompiler_string$jscomp$inline_249_JSCompiler_url$jscomp$inline_140_urlString$jscomp$1$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_string$jscomp$inline_249_JSCompiler_url$jscomp$inline_140_urlString$jscomp$1$$));var $JSCompiler_index$jscomp$inline_250_JSCompiler_temp$jscomp$222$$;($JSCompiler_index$jscomp$inline_250_JSCompiler_temp$jscomp$222$$="https:"==$JSCompiler_string$jscomp$inline_249_JSCompiler_url$jscomp$inline_140_urlString$jscomp$1$$.protocol||
"localhost"==$JSCompiler_string$jscomp$inline_249_JSCompiler_url$jscomp$inline_140_urlString$jscomp$1$$.hostname||"127.0.0.1"==$JSCompiler_string$jscomp$inline_249_JSCompiler_url$jscomp$inline_140_urlString$jscomp$1$$.hostname)||($JSCompiler_string$jscomp$inline_249_JSCompiler_url$jscomp$inline_140_urlString$jscomp$1$$=$JSCompiler_string$jscomp$inline_249_JSCompiler_url$jscomp$inline_140_urlString$jscomp$1$$.hostname,$JSCompiler_index$jscomp$inline_250_JSCompiler_temp$jscomp$222$$=$JSCompiler_string$jscomp$inline_249_JSCompiler_url$jscomp$inline_140_urlString$jscomp$1$$.length-
10,$JSCompiler_index$jscomp$inline_250_JSCompiler_temp$jscomp$222$$=0<=$JSCompiler_index$jscomp$inline_250_JSCompiler_temp$jscomp$222$$&&$JSCompiler_string$jscomp$inline_249_JSCompiler_url$jscomp$inline_140_urlString$jscomp$1$$.indexOf(".localhost",$JSCompiler_index$jscomp$inline_250_JSCompiler_temp$jscomp$222$$)==$JSCompiler_index$jscomp$inline_250_JSCompiler_temp$jscomp$222$$);$userAssert$$module$src$log$$($JSCompiler_index$jscomp$inline_250_JSCompiler_temp$jscomp$222$$||/^(\/\/)/.test($theUrlString$$),
'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',$elementContext$$,$sourceName$$,$theUrlString$$)};function $isExperimentOn$$module$src$experiments$$($win$jscomp$56$$,$experimentId$$){var $toggles$$=$experimentToggles$$module$src$experiments$$($win$jscomp$56$$);return!!$toggles$$[$experimentId$$]}
function $experimentToggles$$module$src$experiments$$($params$jscomp$6_win$jscomp$58$$){if($params$jscomp$6_win$jscomp$58$$.__AMP__EXPERIMENT_TOGGLES)return $params$jscomp$6_win$jscomp$58$$.__AMP__EXPERIMENT_TOGGLES;$params$jscomp$6_win$jscomp$58$$.__AMP__EXPERIMENT_TOGGLES=Object.create(null);var $toggles$jscomp$2$$=$params$jscomp$6_win$jscomp$58$$.__AMP__EXPERIMENT_TOGGLES;if($params$jscomp$6_win$jscomp$58$$.AMP_CONFIG)for(var $allowed$5_experimentId$jscomp$2_i$jscomp$21_meta$jscomp$1$$ in $params$jscomp$6_win$jscomp$58$$.AMP_CONFIG){var $frequency$$=
$params$jscomp$6_win$jscomp$58$$.AMP_CONFIG[$allowed$5_experimentId$jscomp$2_i$jscomp$21_meta$jscomp$1$$];"number"===typeof $frequency$$&&0<=$frequency$$&&1>=$frequency$$&&($toggles$jscomp$2$$[$allowed$5_experimentId$jscomp$2_i$jscomp$21_meta$jscomp$1$$]=Math.random()<$frequency$$)}if($params$jscomp$6_win$jscomp$58$$.AMP_CONFIG&&Array.isArray($params$jscomp$6_win$jscomp$58$$.AMP_CONFIG["allow-doc-opt-in"])&&0<$params$jscomp$6_win$jscomp$58$$.AMP_CONFIG["allow-doc-opt-in"].length){var $allowed$$=$params$jscomp$6_win$jscomp$58$$.AMP_CONFIG["allow-doc-opt-in"];
if($allowed$5_experimentId$jscomp$2_i$jscomp$21_meta$jscomp$1$$=$params$jscomp$6_win$jscomp$58$$.document.head.querySelector('meta[name="amp-experiments-opt-in"]')){var $optedInExperiments$$=$allowed$5_experimentId$jscomp$2_i$jscomp$21_meta$jscomp$1$$.getAttribute("content").split(",");for($allowed$5_experimentId$jscomp$2_i$jscomp$21_meta$jscomp$1$$=0;$allowed$5_experimentId$jscomp$2_i$jscomp$21_meta$jscomp$1$$<$optedInExperiments$$.length;$allowed$5_experimentId$jscomp$2_i$jscomp$21_meta$jscomp$1$$++)-1!=
$allowed$$.indexOf($optedInExperiments$$[$allowed$5_experimentId$jscomp$2_i$jscomp$21_meta$jscomp$1$$])&&($toggles$jscomp$2$$[$optedInExperiments$$[$allowed$5_experimentId$jscomp$2_i$jscomp$21_meta$jscomp$1$$]]=!0)}}Object.assign($toggles$jscomp$2$$,$getExperimentTogglesFromCookie$$module$src$experiments$$($params$jscomp$6_win$jscomp$58$$));if($params$jscomp$6_win$jscomp$58$$.AMP_CONFIG&&Array.isArray($params$jscomp$6_win$jscomp$58$$.AMP_CONFIG["allow-url-opt-in"])&&0<$params$jscomp$6_win$jscomp$58$$.AMP_CONFIG["allow-url-opt-in"].length){$allowed$5_experimentId$jscomp$2_i$jscomp$21_meta$jscomp$1$$=
$params$jscomp$6_win$jscomp$58$$.AMP_CONFIG["allow-url-opt-in"];$params$jscomp$6_win$jscomp$58$$=$parseQueryString_$$module$src$url_parse_query_string$$($params$jscomp$6_win$jscomp$58$$.location.originalHash||$params$jscomp$6_win$jscomp$58$$.location.hash);for(var $i$6$$=0;$i$6$$<$allowed$5_experimentId$jscomp$2_i$jscomp$21_meta$jscomp$1$$.length;$i$6$$++){var $param$jscomp$6$$=$params$jscomp$6_win$jscomp$58$$["e-"+$allowed$5_experimentId$jscomp$2_i$jscomp$21_meta$jscomp$1$$[$i$6$$]];"1"==$param$jscomp$6$$&&
($toggles$jscomp$2$$[$allowed$5_experimentId$jscomp$2_i$jscomp$21_meta$jscomp$1$$[$i$6$$]]=!0);"0"==$param$jscomp$6$$&&($toggles$jscomp$2$$[$allowed$5_experimentId$jscomp$2_i$jscomp$21_meta$jscomp$1$$[$i$6$$]]=!1)}}return $toggles$jscomp$2$$}
function $getExperimentTogglesFromCookie$$module$src$experiments$$($JSCompiler_cookieString$jscomp$inline_144_JSCompiler_cookies$jscomp$inline_145_JSCompiler_inline_result$jscomp$57_JSCompiler_value$jscomp$inline_149_toggles$jscomp$3_win$jscomp$60$$){a:{try{var $JSCompiler_i$jscomp$inline_146_JSCompiler_inline_result$jscomp$238_i$jscomp$22$$=$JSCompiler_cookieString$jscomp$inline_144_JSCompiler_cookies$jscomp$inline_145_JSCompiler_inline_result$jscomp$57_JSCompiler_value$jscomp$inline_149_toggles$jscomp$3_win$jscomp$60$$.document.cookie}catch($JSCompiler_e$jscomp$inline_253$$){$JSCompiler_i$jscomp$inline_146_JSCompiler_inline_result$jscomp$238_i$jscomp$22$$=
""}if($JSCompiler_cookieString$jscomp$inline_144_JSCompiler_cookies$jscomp$inline_145_JSCompiler_inline_result$jscomp$57_JSCompiler_value$jscomp$inline_149_toggles$jscomp$3_win$jscomp$60$$=$JSCompiler_i$jscomp$inline_146_JSCompiler_inline_result$jscomp$238_i$jscomp$22$$)for($JSCompiler_cookieString$jscomp$inline_144_JSCompiler_cookies$jscomp$inline_145_JSCompiler_inline_result$jscomp$57_JSCompiler_value$jscomp$inline_149_toggles$jscomp$3_win$jscomp$60$$=$JSCompiler_cookieString$jscomp$inline_144_JSCompiler_cookies$jscomp$inline_145_JSCompiler_inline_result$jscomp$57_JSCompiler_value$jscomp$inline_149_toggles$jscomp$3_win$jscomp$60$$.split(";"),
$JSCompiler_i$jscomp$inline_146_JSCompiler_inline_result$jscomp$238_i$jscomp$22$$=0;$JSCompiler_i$jscomp$inline_146_JSCompiler_inline_result$jscomp$238_i$jscomp$22$$<$JSCompiler_cookieString$jscomp$inline_144_JSCompiler_cookies$jscomp$inline_145_JSCompiler_inline_result$jscomp$57_JSCompiler_value$jscomp$inline_149_toggles$jscomp$3_win$jscomp$60$$.length;$JSCompiler_i$jscomp$inline_146_JSCompiler_inline_result$jscomp$238_i$jscomp$22$$++){var $JSCompiler_cookie$jscomp$inline_147$$=$JSCompiler_cookieString$jscomp$inline_144_JSCompiler_cookies$jscomp$inline_145_JSCompiler_inline_result$jscomp$57_JSCompiler_value$jscomp$inline_149_toggles$jscomp$3_win$jscomp$60$$[$JSCompiler_i$jscomp$inline_146_JSCompiler_inline_result$jscomp$238_i$jscomp$22$$].trim(),
$JSCompiler_eq$jscomp$inline_148$$=$JSCompiler_cookie$jscomp$inline_147$$.indexOf("=");if(-1!=$JSCompiler_eq$jscomp$inline_148$$&&"AMP_EXP"==$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_cookie$jscomp$inline_147$$.substring(0,$JSCompiler_eq$jscomp$inline_148$$).trim(),void 0)){$JSCompiler_cookieString$jscomp$inline_144_JSCompiler_cookies$jscomp$inline_145_JSCompiler_inline_result$jscomp$57_JSCompiler_value$jscomp$inline_149_toggles$jscomp$3_win$jscomp$60$$=$JSCompiler_cookie$jscomp$inline_147$$.substring($JSCompiler_eq$jscomp$inline_148$$+
1).trim();$JSCompiler_cookieString$jscomp$inline_144_JSCompiler_cookies$jscomp$inline_145_JSCompiler_inline_result$jscomp$57_JSCompiler_value$jscomp$inline_149_toggles$jscomp$3_win$jscomp$60$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_cookieString$jscomp$inline_144_JSCompiler_cookies$jscomp$inline_145_JSCompiler_inline_result$jscomp$57_JSCompiler_value$jscomp$inline_149_toggles$jscomp$3_win$jscomp$60$$,$JSCompiler_cookieString$jscomp$inline_144_JSCompiler_cookies$jscomp$inline_145_JSCompiler_inline_result$jscomp$57_JSCompiler_value$jscomp$inline_149_toggles$jscomp$3_win$jscomp$60$$);
break a}}$JSCompiler_cookieString$jscomp$inline_144_JSCompiler_cookies$jscomp$inline_145_JSCompiler_inline_result$jscomp$57_JSCompiler_value$jscomp$inline_149_toggles$jscomp$3_win$jscomp$60$$=null}var $experimentCookie$$=$JSCompiler_cookieString$jscomp$inline_144_JSCompiler_cookies$jscomp$inline_145_JSCompiler_inline_result$jscomp$57_JSCompiler_value$jscomp$inline_149_toggles$jscomp$3_win$jscomp$60$$,$tokens$$=$experimentCookie$$?$experimentCookie$$.split(/\s*,\s*/g):[];$JSCompiler_cookieString$jscomp$inline_144_JSCompiler_cookies$jscomp$inline_145_JSCompiler_inline_result$jscomp$57_JSCompiler_value$jscomp$inline_149_toggles$jscomp$3_win$jscomp$60$$=
Object.create(null);for($JSCompiler_i$jscomp$inline_146_JSCompiler_inline_result$jscomp$238_i$jscomp$22$$=0;$JSCompiler_i$jscomp$inline_146_JSCompiler_inline_result$jscomp$238_i$jscomp$22$$<$tokens$$.length;$JSCompiler_i$jscomp$inline_146_JSCompiler_inline_result$jscomp$238_i$jscomp$22$$++)0!=$tokens$$[$JSCompiler_i$jscomp$inline_146_JSCompiler_inline_result$jscomp$238_i$jscomp$22$$].length&&("-"==$tokens$$[$JSCompiler_i$jscomp$inline_146_JSCompiler_inline_result$jscomp$238_i$jscomp$22$$][0]?$JSCompiler_cookieString$jscomp$inline_144_JSCompiler_cookies$jscomp$inline_145_JSCompiler_inline_result$jscomp$57_JSCompiler_value$jscomp$inline_149_toggles$jscomp$3_win$jscomp$60$$[$tokens$$[$JSCompiler_i$jscomp$inline_146_JSCompiler_inline_result$jscomp$238_i$jscomp$22$$].substr(1)]=
!1:$JSCompiler_cookieString$jscomp$inline_144_JSCompiler_cookies$jscomp$inline_145_JSCompiler_inline_result$jscomp$57_JSCompiler_value$jscomp$inline_149_toggles$jscomp$3_win$jscomp$60$$[$tokens$$[$JSCompiler_i$jscomp$inline_146_JSCompiler_inline_result$jscomp$238_i$jscomp$22$$]]=!0);return $JSCompiler_cookieString$jscomp$inline_144_JSCompiler_cookies$jscomp$inline_145_JSCompiler_inline_result$jscomp$57_JSCompiler_value$jscomp$inline_149_toggles$jscomp$3_win$jscomp$60$$}
function $randomlySelectUnsetExperiments$$module$src$experiments$$($win$jscomp$64$$,$experiments$$){$win$jscomp$64$$.experimentBranches=$win$jscomp$64$$.experimentBranches||{};for(var $experimentName$$ in $experiments$$)if($hasOwn_$$module$src$utils$object$$.call($experiments$$,$experimentName$$)&&!$hasOwn_$$module$src$utils$object$$.call($win$jscomp$64$$.experimentBranches,$experimentName$$))if(!$experiments$$[$experimentName$$].isTrafficEligible||!$experiments$$[$experimentName$$].isTrafficEligible($win$jscomp$64$$))$win$jscomp$64$$.experimentBranches[$experimentName$$]=
null;else if(!$win$jscomp$64$$.experimentBranches[$experimentName$$]&&$isExperimentOn$$module$src$experiments$$($win$jscomp$64$$,$experimentName$$)){var $branches$$=$experiments$$[$experimentName$$].branches,$JSCompiler_arr$jscomp$inline_151$$=$branches$$;$win$jscomp$64$$.experimentBranches[$experimentName$$]=$JSCompiler_arr$jscomp$inline_151$$[Math.floor(Math.random()*$JSCompiler_arr$jscomp$inline_151$$.length)]||null}};function $getConsentPolicyState$$module$src$consent$$($element$jscomp$72$$,$policyId$$){$policyId$$=void 0===$policyId$$?"default":$policyId$$;return $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$72$$,"consentPolicyManager","amp-consent").then(function($element$jscomp$72$$){return $element$jscomp$72$$?$element$jscomp$72$$.whenPolicyResolved($policyId$$):null})};function $mergeExperimentIds$$module$ads$google$a4a$utils$$($newIds$$,$currentIdString$$){var $newIdString$$=$newIds$$.filter(function($newIds$$){return Number($newIds$$)}).join(",");$currentIdString$$=$currentIdString$$||"";return $currentIdString$$+($currentIdString$$&&$newIdString$$?",":"")+$newIdString$$};function $validateExperimentIds$$module$ads$google$a4a$traffic_experiments$$($idList$$){return $idList$$.every(function($idList$$){return!isNaN(parseInt($idList$$,10))})}
function $addExperimentIdToElement$$module$ads$google$a4a$traffic_experiments$$($experimentId$jscomp$3$$,$element$jscomp$84$$){if($experimentId$jscomp$3$$){var $currentEids$$=$element$jscomp$84$$.getAttribute("data-experiment-id"),$JSCompiler_idString$jscomp$inline_154_JSCompiler_temp$jscomp$62$$;if($JSCompiler_idString$jscomp$inline_154_JSCompiler_temp$jscomp$62$$=$currentEids$$)$JSCompiler_idString$jscomp$inline_154_JSCompiler_temp$jscomp$62$$=$currentEids$$,$JSCompiler_idString$jscomp$inline_154_JSCompiler_temp$jscomp$62$$=
$validateExperimentIds$$module$ads$google$a4a$traffic_experiments$$($JSCompiler_idString$jscomp$inline_154_JSCompiler_temp$jscomp$62$$?$JSCompiler_idString$jscomp$inline_154_JSCompiler_temp$jscomp$62$$.split(","):[]);$JSCompiler_idString$jscomp$inline_154_JSCompiler_temp$jscomp$62$$?$element$jscomp$84$$.setAttribute("data-experiment-id",$mergeExperimentIds$$module$ads$google$a4a$utils$$([$experimentId$jscomp$3$$],$currentEids$$)):$element$jscomp$84$$.setAttribute("data-experiment-id",$experimentId$jscomp$3$$)}}
;function $utf8Decode$$module$src$utils$bytes$$($bytes$$){if("undefined"!==typeof TextDecoder)return(new TextDecoder("utf-8")).decode($bytes$$);for(var $JSCompiler_bytes$jscomp$inline_156$$=new Uint8Array($bytes$$.buffer||$bytes$$),$JSCompiler_array$jscomp$inline_157$$=Array($JSCompiler_bytes$jscomp$inline_156$$.length),$JSCompiler_i$jscomp$inline_158$$=0;$JSCompiler_i$jscomp$inline_158$$<$JSCompiler_bytes$jscomp$inline_156$$.length;$JSCompiler_i$jscomp$inline_158$$++)$JSCompiler_array$jscomp$inline_157$$[$JSCompiler_i$jscomp$inline_158$$]=
String.fromCharCode($JSCompiler_bytes$jscomp$inline_156$$[$JSCompiler_i$jscomp$inline_158$$]);var $asciiString$$=$JSCompiler_array$jscomp$inline_157$$.join("");return decodeURIComponent(escape($asciiString$$))}
function $stringToBytes$$module$src$utils$bytes$$($str$jscomp$8$$){for(var $bytes$jscomp$1$$=new Uint8Array($str$jscomp$8$$.length),$i$jscomp$25$$=0;$i$jscomp$25$$<$str$jscomp$8$$.length;$i$jscomp$25$$++){var $charCode$$=$str$jscomp$8$$.charCodeAt($i$jscomp$25$$);$bytes$jscomp$1$$[$i$jscomp$25$$]=$charCode$$}return $bytes$jscomp$1$$};function $SignatureVerifier$$module$extensions$amp_a4a$0_1$signature_verifier$$($win$jscomp$92$$){var $signingServerURLs$$=$signingServerURLs$$module$ads$_a4a_config$$;this.$win_$=$win$jscomp$92$$;this.$signingServerURLs_$=$signingServerURLs$$;this.$signers_$=$getService$$module$src$service$$($win$jscomp$92$$,"crypto").isPkcsAvailable()?{}:null;this.$getNow_$=$win$jscomp$92$$.performance&&$win$jscomp$92$$.performance.now?$win$jscomp$92$$.performance.now.bind($win$jscomp$92$$.performance):Date.now}
$SignatureVerifier$$module$extensions$amp_a4a$0_1$signature_verifier$$.prototype.loadKeyset=function($signingServiceName$$){if(this.$signers_$&&!this.$signers_$[$signingServiceName$$]){var $keys$jscomp$3$$={},$promise$jscomp$2$$=$JSCompiler_StaticMethods_fetchAndAddKeys_$$(this,$keys$jscomp$3$$,$signingServiceName$$,null);this.$signers_$[$signingServiceName$$]={promise:$promise$jscomp$2$$,keys:$keys$jscomp$3$$}}};
$SignatureVerifier$$module$extensions$amp_a4a$0_1$signature_verifier$$.prototype.verify=function($creative$$,$headers$jscomp$1_match$jscomp$4$$){var $signatureFormat$$=/^([A-Za-z0-9._-]+):([A-Za-z0-9._-]+):([A-Za-z0-9+/]{341}[AQgw]==)$/;if(!$headers$jscomp$1_match$jscomp$4$$.has("AMP-Fast-Fetch-Signature"))return Promise.resolve(1);var $headerValue$$=$headers$jscomp$1_match$jscomp$4$$.get("AMP-Fast-Fetch-Signature");$headers$jscomp$1_match$jscomp$4$$=$signatureFormat$$.exec($headerValue$$);return $headers$jscomp$1_match$jscomp$4$$?
this.verifyCreativeAndSignature($headers$jscomp$1_match$jscomp$4$$[1],$headers$jscomp$1_match$jscomp$4$$[2],$stringToBytes$$module$src$utils$bytes$$(atob($headers$jscomp$1_match$jscomp$4$$[3])),$creative$$):($user$$module$src$log$$().error("AMP-A4A","Invalid signature header: "+$headerValue$$.split(":")[0]),Promise.resolve(3))};
$SignatureVerifier$$module$extensions$amp_a4a$0_1$signature_verifier$$.prototype.verifyCreativeAndSignature=function($signingServiceName$jscomp$1$$,$keypairId$$,$signature$jscomp$1$$,$creative$jscomp$1$$){var $$jscomp$this$jscomp$3$$=this;if(!this.$signers_$)return Promise.resolve(4);var $signer$$=this.$signers_$[$signingServiceName$jscomp$1$$];return $signer$$.promise.then(function($success$$){if(!$success$$)return 1;var $keyPromise$$=$signer$$.keys[$keypairId$$];return void 0===$keyPromise$$?($signer$$.promise=
$JSCompiler_StaticMethods_fetchAndAddKeys_$$($$jscomp$this$jscomp$3$$,$signer$$.keys,$signingServiceName$jscomp$1$$,$keypairId$$).then(function($signingServiceName$jscomp$1$$){void 0===$signer$$.keys[$keypairId$$]&&($signer$$.keys[$keypairId$$]=null);return $signingServiceName$jscomp$1$$}),$$jscomp$this$jscomp$3$$.verifyCreativeAndSignature($signingServiceName$jscomp$1$$,$keypairId$$,$signature$jscomp$1$$,$creative$jscomp$1$$)):null===$keyPromise$$?2:$keyPromise$$.then(function($signingServiceName$jscomp$1$$){return $signingServiceName$jscomp$1$$?
$getService$$module$src$service$$($$jscomp$this$jscomp$3$$.$win_$,"crypto").verifyPkcs($signingServiceName$jscomp$1$$,$signature$jscomp$1$$,$creative$jscomp$1$$).then(function($signingServiceName$jscomp$1$$){return $signingServiceName$jscomp$1$$?0:3},function($signingServiceName$jscomp$1$$){$signingServiceName$jscomp$1$$=$signingServiceName$jscomp$1$$&&$signingServiceName$jscomp$1$$.message;$dev$$module$src$log$$().error("AMP-A4A","Failed to verify signature: "+$signingServiceName$jscomp$1$$);return 1}):
1})})};
function $JSCompiler_StaticMethods_fetchAndAddKeys_$$($JSCompiler_StaticMethods_fetchAndAddKeys_$self$$,$keys$jscomp$4$$,$signingServiceName$jscomp$2$$,$keypairId$jscomp$1$$){var $url$jscomp$43$$=$JSCompiler_StaticMethods_fetchAndAddKeys_$self$$.$signingServerURLs_$[$signingServiceName$jscomp$2$$];null!=$keypairId$jscomp$1$$&&($url$jscomp$43$$+="?kid="+encodeURIComponent($keypairId$jscomp$1$$));return $getService$$module$src$service$$($JSCompiler_StaticMethods_fetchAndAddKeys_$self$$.$win_$,"xhr").fetchJson($url$jscomp$43$$,
{mode:"cors",method:"GET",ampCors:!1,credentials:"omit"}).then(function($keypairId$jscomp$1$$){$keypairId$jscomp$1$$.headers.get("Content-Type");return $keypairId$jscomp$1$$.json().then(function($keypairId$jscomp$1$$){var $url$jscomp$43$$=$keypairId$jscomp$1$$;if(!$url$jscomp$43$$||!Array.isArray($url$jscomp$43$$.keys))return $signingServiceError$$module$extensions$amp_a4a$0_1$signature_verifier$$($signingServiceName$jscomp$2$$,"Key set ("+JSON.stringify($url$jscomp$43$$)+') has no "keys"'),!1;$url$jscomp$43$$.keys.forEach(function($keypairId$jscomp$1$$){$keypairId$jscomp$1$$&&
"string"==typeof $keypairId$jscomp$1$$.kid?void 0===$keys$jscomp$4$$[$keypairId$jscomp$1$$.kid]&&($keys$jscomp$4$$[$keypairId$jscomp$1$$.kid]=$getService$$module$src$service$$($JSCompiler_StaticMethods_fetchAndAddKeys_$self$$.$win_$,"crypto").importPkcsKey($keypairId$jscomp$1$$).catch(function($JSCompiler_StaticMethods_fetchAndAddKeys_$self$$){var $keys$jscomp$4$$=JSON.stringify($keypairId$jscomp$1$$);$signingServiceError$$module$extensions$amp_a4a$0_1$signature_verifier$$($signingServiceName$jscomp$2$$,
"Failed to import key ("+$keys$jscomp$4$$+"): "+($JSCompiler_StaticMethods_fetchAndAddKeys_$self$$&&$JSCompiler_StaticMethods_fetchAndAddKeys_$self$$.message));return null})):$signingServiceError$$module$extensions$amp_a4a$0_1$signature_verifier$$($signingServiceName$jscomp$2$$,"Key ("+JSON.stringify($keypairId$jscomp$1$$)+') has no "kid"')});return!0},function($JSCompiler_StaticMethods_fetchAndAddKeys_$self$$){$signingServiceError$$module$extensions$amp_a4a$0_1$signature_verifier$$($signingServiceName$jscomp$2$$,
"Failed to parse JSON: "+($JSCompiler_StaticMethods_fetchAndAddKeys_$self$$&&$JSCompiler_StaticMethods_fetchAndAddKeys_$self$$.response));return!1})},function($JSCompiler_StaticMethods_fetchAndAddKeys_$self$$){$JSCompiler_StaticMethods_fetchAndAddKeys_$self$$&&$JSCompiler_StaticMethods_fetchAndAddKeys_$self$$.response&&$signingServiceError$$module$extensions$amp_a4a$0_1$signature_verifier$$($signingServiceName$jscomp$2$$,"Status code "+$JSCompiler_StaticMethods_fetchAndAddKeys_$self$$.response.status);
return!1})}function $signingServiceError$$module$extensions$amp_a4a$0_1$signature_verifier$$($signingServiceName$jscomp$3$$,$message$jscomp$32$$){$dev$$module$src$log$$().error("AMP-A4A","Signing service error for "+$signingServiceName$jscomp$3$$+": "+$message$jscomp$32$$)};function $getContextMetadata$$module$src$iframe_attributes$$($parentWindow$$,$element$jscomp$85$$,$sentinel$$,$attributes$jscomp$3$$){var $startTime$jscomp$11$$=Date.now(),$referrer$jscomp$1_width$jscomp$28$$=$element$jscomp$85$$.getAttribute("width"),$JSCompiler_temp_const$jscomp$39_height$jscomp$27$$=$element$jscomp$85$$.getAttribute("height");$attributes$jscomp$3$$=$attributes$jscomp$3$$?$attributes$jscomp$3$$:{};$attributes$jscomp$3$$.width=$getLengthNumeral$$module$src$layout$$($referrer$jscomp$1_width$jscomp$28$$);
$attributes$jscomp$3$$.height=$getLengthNumeral$$module$src$layout$$($JSCompiler_temp_const$jscomp$39_height$jscomp$27$$);$element$jscomp$85$$.getAttribute("title")&&($attributes$jscomp$3$$.title=$element$jscomp$85$$.getAttribute("title"));var $locationHref$$=$parentWindow$$.location.href;"about:srcdoc"==$locationHref$$&&($locationHref$$=$parentWindow$$.parent.location.href);var $docInfo$$=$getServiceForDoc$$module$src$service$$($element$jscomp$85$$,"documentInfo").get(),$JSCompiler_temp_const$jscomp$225_viewer$jscomp$1$$=
$getServiceForDoc$$module$src$service$$($element$jscomp$85$$,"viewer");$referrer$jscomp$1_width$jscomp$28$$=$JSCompiler_temp_const$jscomp$225_viewer$jscomp$1$$.getUnconfirmedReferrerUrl();var $layoutRect$$=$element$jscomp$85$$.getPageLayoutBox();$JSCompiler_temp_const$jscomp$39_height$jscomp$27$$=$attributes$jscomp$3$$;var $JSCompiler_temp_const$jscomp$38$$=$urls$$module$src$config$$.thirdParty+"/1904281823091/ampcontext-v0.js",$JSCompiler_temp_const$jscomp$37$$=$docInfo$$.sourceUrl,$JSCompiler_temp_const$jscomp$36$$=
$docInfo$$.canonicalUrl,$JSCompiler_temp_const$jscomp$35$$=$docInfo$$.pageViewId,$JSCompiler_temp_const$jscomp$34$$={href:$locationHref$$},$JSCompiler_temp_const$jscomp$33$$=$element$jscomp$85$$.tagName;var $JSCompiler_inline_result$jscomp$40$$={localDev:$getMode$$module$src$mode$$(void 0).localDev,development:$getMode$$module$src$mode$$(void 0).development,filter:$getMode$$module$src$mode$$(void 0).filter,minified:$getMode$$module$src$mode$$(void 0).minified,lite:$getMode$$module$src$mode$$(void 0).lite,
test:$getMode$$module$src$mode$$(void 0).test,log:$getMode$$module$src$mode$$(void 0).log,version:$getMode$$module$src$mode$$(void 0).version,rtvVersion:$getMode$$module$src$mode$$(void 0).rtvVersion,singlePassType:$getMode$$module$src$mode$$(void 0).singlePassType};var $JSCompiler_temp_const$jscomp$226_JSCompiler_win$jscomp$inline_162$$=$parentWindow$$;$JSCompiler_temp_const$jscomp$226_JSCompiler_win$jscomp$inline_162$$=!(!$JSCompiler_temp_const$jscomp$226_JSCompiler_win$jscomp$inline_162$$.AMP_CONFIG||
!$JSCompiler_temp_const$jscomp$226_JSCompiler_win$jscomp$inline_162$$.AMP_CONFIG.canary);$JSCompiler_temp_const$jscomp$225_viewer$jscomp$1$$=!$JSCompiler_temp_const$jscomp$225_viewer$jscomp$1$$.isVisible();var $JSCompiler_temp_const$jscomp$224$$=$layoutRect$$?{left:$layoutRect$$.left,top:$layoutRect$$.top,width:$layoutRect$$.width,height:$layoutRect$$.height}:null,$JSCompiler_temp_const$jscomp$223$$=$element$jscomp$85$$.getIntersectionChangeEntry();var $JSCompiler_element$jscomp$inline_255_JSCompiler_inline_result$jscomp$237$$=
$element$jscomp$85$$;for(var $JSCompiler_ids$jscomp$inline_256_JSCompiler_length$jscomp$inline_262$$=[],$JSCompiler_hash$jscomp$inline_263_JSCompiler_level$jscomp$inline_257$$=0;$JSCompiler_element$jscomp$inline_255_JSCompiler_inline_result$jscomp$237$$&&1==$JSCompiler_element$jscomp$inline_255_JSCompiler_inline_result$jscomp$237$$.nodeType&&25>$JSCompiler_hash$jscomp$inline_263_JSCompiler_level$jscomp$inline_257$$;){var $JSCompiler_i$jscomp$inline_264_JSCompiler_id$jscomp$inline_258$$="";$JSCompiler_element$jscomp$inline_255_JSCompiler_inline_result$jscomp$237$$.id&&
($JSCompiler_i$jscomp$inline_264_JSCompiler_id$jscomp$inline_258$$="/"+$JSCompiler_element$jscomp$inline_255_JSCompiler_inline_result$jscomp$237$$.id);$JSCompiler_ids$jscomp$inline_256_JSCompiler_length$jscomp$inline_262$$.push(""+$JSCompiler_element$jscomp$inline_255_JSCompiler_inline_result$jscomp$237$$.nodeName.toLowerCase()+$JSCompiler_i$jscomp$inline_264_JSCompiler_id$jscomp$inline_258$$+$indexWithinParent$$module$src$utils$dom_fingerprint$$($JSCompiler_element$jscomp$inline_255_JSCompiler_inline_result$jscomp$237$$));
$JSCompiler_hash$jscomp$inline_263_JSCompiler_level$jscomp$inline_257$$++;$JSCompiler_element$jscomp$inline_255_JSCompiler_inline_result$jscomp$237$$=$JSCompiler_element$jscomp$inline_255_JSCompiler_inline_result$jscomp$237$$.parentElement}$JSCompiler_element$jscomp$inline_255_JSCompiler_inline_result$jscomp$237$$=$JSCompiler_ids$jscomp$inline_256_JSCompiler_length$jscomp$inline_262$$.join();$JSCompiler_ids$jscomp$inline_256_JSCompiler_length$jscomp$inline_262$$=$JSCompiler_element$jscomp$inline_255_JSCompiler_inline_result$jscomp$237$$.length;
$JSCompiler_hash$jscomp$inline_263_JSCompiler_level$jscomp$inline_257$$=5381;for($JSCompiler_i$jscomp$inline_264_JSCompiler_id$jscomp$inline_258$$=0;$JSCompiler_i$jscomp$inline_264_JSCompiler_id$jscomp$inline_258$$<$JSCompiler_ids$jscomp$inline_256_JSCompiler_length$jscomp$inline_262$$;$JSCompiler_i$jscomp$inline_264_JSCompiler_id$jscomp$inline_258$$++)$JSCompiler_hash$jscomp$inline_263_JSCompiler_level$jscomp$inline_257$$=33*$JSCompiler_hash$jscomp$inline_263_JSCompiler_level$jscomp$inline_257$$^
$JSCompiler_element$jscomp$inline_255_JSCompiler_inline_result$jscomp$237$$.charCodeAt($JSCompiler_i$jscomp$inline_264_JSCompiler_id$jscomp$inline_258$$);$JSCompiler_temp_const$jscomp$39_height$jscomp$27$$._context=$dict$$module$src$utils$object$$({ampcontextVersion:"1904281823091",ampcontextFilepath:$JSCompiler_temp_const$jscomp$38$$,sourceUrl:$JSCompiler_temp_const$jscomp$37$$,referrer:$referrer$jscomp$1_width$jscomp$28$$,canonicalUrl:$JSCompiler_temp_const$jscomp$36$$,pageViewId:$JSCompiler_temp_const$jscomp$35$$,
location:$JSCompiler_temp_const$jscomp$34$$,startTime:$startTime$jscomp$11$$,tagName:$JSCompiler_temp_const$jscomp$33$$,mode:$JSCompiler_inline_result$jscomp$40$$,canary:$JSCompiler_temp_const$jscomp$226_JSCompiler_win$jscomp$inline_162$$,hidden:$JSCompiler_temp_const$jscomp$225_viewer$jscomp$1$$,initialLayoutRect:$JSCompiler_temp_const$jscomp$224$$,initialIntersection:$JSCompiler_temp_const$jscomp$223$$,domFingerprint:String($JSCompiler_hash$jscomp$inline_263_JSCompiler_level$jscomp$inline_257$$>>>
0),experimentToggles:$experimentToggles$$module$src$experiments$$($parentWindow$$),sentinel:$sentinel$$});var $adSrc$$=$element$jscomp$85$$.getAttribute("src");$adSrc$$&&($attributes$jscomp$3$$.src=$adSrc$$);return $attributes$jscomp$3$$};function $getDefaultBootstrapBaseUrl$$module$src$3p_frame$$($parentWindow$jscomp$4$$){var $opt_srcFileBasename$$="nameframe",$srcFileBasename$$=$opt_srcFileBasename$$||"frame";if($getMode$$module$src$mode$$().localDev||$getMode$$module$src$mode$$().test){var $JSCompiler_srcFileBasename$jscomp$inline_165$$=$srcFileBasename$$,$JSCompiler_adsUrl$jscomp$inline_267$$=$urls$$module$src$config$$.thirdParty;-1<$JSCompiler_adsUrl$jscomp$inline_267$$.indexOf("ampproject.net")&&($JSCompiler_adsUrl$jscomp$inline_267$$=
"http://ads.localhost");return $JSCompiler_adsUrl$jscomp$inline_267$$+":"+($parentWindow$jscomp$4$$.location.port||$parentWindow$jscomp$4$$.parent.location.port)+"/dist.3p/"+($getMode$$module$src$mode$$().minified?"1904281823091/"+$JSCompiler_srcFileBasename$jscomp$inline_165$$:"current/"+$JSCompiler_srcFileBasename$jscomp$inline_165$$+".max")+".html"}$parentWindow$jscomp$4$$.defaultBootstrapSubDomain=$parentWindow$jscomp$4$$.defaultBootstrapSubDomain||"d-"+$getRandom$$module$src$3p_frame$$($parentWindow$jscomp$4$$);
return"https://"+$parentWindow$jscomp$4$$.defaultBootstrapSubDomain+("."+$urls$$module$src$config$$.thirdPartyFrameHost+"/1904281823091/")+($srcFileBasename$$+".html")}
function $getRandom$$module$src$3p_frame$$($win$jscomp$97$$){if($win$jscomp$97$$.crypto&&$win$jscomp$97$$.crypto.getRandomValues){var $uint32array$$=new Uint32Array(2);$win$jscomp$97$$.crypto.getRandomValues($uint32array$$);var $rand$$=String($uint32array$$[0])+$uint32array$$[1]}else $rand$$=String($win$jscomp$97$$.Math.random()).substr(2)+"0";return $rand$$}
function $applySandbox$$module$src$3p_frame$$($iframe$jscomp$1$$){if($iframe$jscomp$1$$.sandbox&&$iframe$jscomp$1$$.sandbox.supports){for(var $requiredFlags$$=["allow-top-navigation-by-user-activation","allow-popups-to-escape-sandbox"],$otherFlags$$="allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts".split(" "),$i$jscomp$27$$=0;$i$jscomp$27$$<$requiredFlags$$.length;$i$jscomp$27$$++){var $flag$jscomp$1$$=$requiredFlags$$[$i$jscomp$27$$];if(!$iframe$jscomp$1$$.sandbox.supports($flag$jscomp$1$$)){$dev$$module$src$log$$().info("3p-frame",
"Iframe doesn't support %s",$flag$jscomp$1$$);return}}$iframe$jscomp$1$$.sandbox=$requiredFlags$$.join(" ")+" "+$otherFlags$$.join(" ")}};function $triggerAnalyticsEvent$$module$src$analytics$$($target$jscomp$87$$,$eventType$jscomp$7$$,$opt_vars$$){$Services$$module$src$services$analyticsForDocOrNull$$($target$jscomp$87$$).then(function($analytics$$){$analytics$$&&$analytics$$.triggerEventForTarget($target$jscomp$87$$,$eventType$jscomp$7$$,$opt_vars$$)})};self.AMPErrors=self.AMPErrors||[];var $throttlePromise_$$module$extensions$amp_ad$0_1$concurrent_load$$=null,$throttlePromiseResolver_$$module$extensions$amp_ad$0_1$concurrent_load$$=null;
function $incrementLoadingAds$$module$extensions$amp_ad$0_1$concurrent_load$$($win$jscomp$111$$,$opt_loadingPromise$$){void 0===$win$jscomp$111$$["3pla"]&&($win$jscomp$111$$["3pla"]=0);$win$jscomp$111$$["3pla"]++;if(!$throttlePromise_$$module$extensions$amp_ad$0_1$concurrent_load$$){var $deferred$jscomp$2$$=new $Deferred$$module$src$utils$promise$$;$throttlePromise_$$module$extensions$amp_ad$0_1$concurrent_load$$=$deferred$jscomp$2$$.promise;$throttlePromiseResolver_$$module$extensions$amp_ad$0_1$concurrent_load$$=
$deferred$jscomp$2$$.resolve}$getService$$module$src$service$$($win$jscomp$111$$,"timer").timeoutPromise(1E3,$opt_loadingPromise$$).catch(function(){}).then(function(){--$win$jscomp$111$$["3pla"]||($throttlePromiseResolver_$$module$extensions$amp_ad$0_1$concurrent_load$$(),$throttlePromiseResolver_$$module$extensions$amp_ad$0_1$concurrent_load$$=$throttlePromise_$$module$extensions$amp_ad$0_1$concurrent_load$$=null)})};function $insertAnalyticsElement$$module$src$extension_analytics$$($parentElement$jscomp$1$$,$config$jscomp$6_extensions$jscomp$1$$){var $ampdoc$jscomp$15_loadAnalytics$jscomp$1$$=!0;$ampdoc$jscomp$15_loadAnalytics$jscomp$1$$=void 0===$ampdoc$jscomp$15_loadAnalytics$jscomp$1$$?!1:$ampdoc$jscomp$15_loadAnalytics$jscomp$1$$;var $disableImmediate$$=void 0===$disableImmediate$$?!1:$disableImmediate$$;var $doc$jscomp$25$$=$parentElement$jscomp$1$$.ownerDocument,$analyticsElem$$=$createElementWithAttributes$$module$src$dom$$($doc$jscomp$25$$,
"amp-analytics",$dict$$module$src$utils$object$$({sandbox:"true",trigger:$disableImmediate$$?"":"immediate"})),$scriptElem$$=$createElementWithAttributes$$module$src$dom$$($doc$jscomp$25$$,"script",$dict$$module$src$utils$object$$({type:"application/json"}));$scriptElem$$.textContent=JSON.stringify($config$jscomp$6_extensions$jscomp$1$$);$analyticsElem$$.appendChild($scriptElem$$);$analyticsElem$$.CONFIG=$config$jscomp$6_extensions$jscomp$1$$;$ampdoc$jscomp$15_loadAnalytics$jscomp$1$$?($config$jscomp$6_extensions$jscomp$1$$=
$getService$$module$src$service$$($parentElement$jscomp$1$$.ownerDocument.defaultView,"extensions"),$ampdoc$jscomp$15_loadAnalytics$jscomp$1$$=$getAmpdoc$$module$src$service$$($parentElement$jscomp$1$$),$config$jscomp$6_extensions$jscomp$1$$.installExtensionForDoc($ampdoc$jscomp$15_loadAnalytics$jscomp$1$$,"amp-analytics")):$Services$$module$src$services$analyticsForDocOrNull$$($parentElement$jscomp$1$$).then(function(){});$parentElement$jscomp$1$$.appendChild($analyticsElem$$);return $analyticsElem$$}
;function $Observable$$module$src$observable$$(){this.$handlers_$=null}$JSCompiler_prototypeAlias$$=$Observable$$module$src$observable$$.prototype;$JSCompiler_prototypeAlias$$.add=function($handler$jscomp$4$$){var $$jscomp$this$jscomp$7$$=this;this.$handlers_$||(this.$handlers_$=[]);this.$handlers_$.push($handler$jscomp$4$$);return function(){$$jscomp$this$jscomp$7$$.remove($handler$jscomp$4$$)}};
$JSCompiler_prototypeAlias$$.remove=function($handler$jscomp$5_index$jscomp$72$$){this.$handlers_$&&($handler$jscomp$5_index$jscomp$72$$=this.$handlers_$.indexOf($handler$jscomp$5_index$jscomp$72$$),-1<$handler$jscomp$5_index$jscomp$72$$&&this.$handlers_$.splice($handler$jscomp$5_index$jscomp$72$$,1))};$JSCompiler_prototypeAlias$$.removeAll=function(){this.$handlers_$&&(this.$handlers_$.length=0)};
$JSCompiler_prototypeAlias$$.fire=function($opt_event$$){if(this.$handlers_$)for(var $handlers$$=this.$handlers_$,$i$jscomp$31$$=0;$i$jscomp$31$$<$handlers$$.length;$i$jscomp$31$$++)(0,$handlers$$[$i$jscomp$31$$])($opt_event$$)};$JSCompiler_prototypeAlias$$.getHandlerCount=function(){return this.$handlers_$?this.$handlers_$.length:0};function $Signals$$module$src$utils$signals$$(){this.$map_$=$map$$module$src$utils$object$$();this.$promiseMap_$=null}$JSCompiler_prototypeAlias$$=$Signals$$module$src$utils$signals$$.prototype;$JSCompiler_prototypeAlias$$.get=function($name$jscomp$82$$){return this.$map_$[$name$jscomp$82$$]||null};
$JSCompiler_prototypeAlias$$.whenSignal=function($name$jscomp$83$$){var $promiseStruct$$=this.$promiseMap_$&&this.$promiseMap_$[$name$jscomp$83$$];if(!$promiseStruct$$){var $$jscomp$destructuring$var31_result$jscomp$4$$=this.$map_$[$name$jscomp$83$$];null!=$$jscomp$destructuring$var31_result$jscomp$4$$?$promiseStruct$$={promise:"number"==typeof $$jscomp$destructuring$var31_result$jscomp$4$$?Promise.resolve($$jscomp$destructuring$var31_result$jscomp$4$$):Promise.reject($$jscomp$destructuring$var31_result$jscomp$4$$)}:
($$jscomp$destructuring$var31_result$jscomp$4$$=new $Deferred$$module$src$utils$promise$$,$promiseStruct$$={promise:$$jscomp$destructuring$var31_result$jscomp$4$$.promise,resolve:$$jscomp$destructuring$var31_result$jscomp$4$$.resolve,reject:$$jscomp$destructuring$var31_result$jscomp$4$$.reject});this.$promiseMap_$||(this.$promiseMap_$=$map$$module$src$utils$object$$());this.$promiseMap_$[$name$jscomp$83$$]=$promiseStruct$$}return $promiseStruct$$.promise};
$JSCompiler_prototypeAlias$$.signal=function($name$jscomp$84_promiseStruct$jscomp$1$$,$opt_time$$){if(null==this.$map_$[$name$jscomp$84_promiseStruct$jscomp$1$$]){var $time$jscomp$2$$=$opt_time$$||Date.now();this.$map_$[$name$jscomp$84_promiseStruct$jscomp$1$$]=$time$jscomp$2$$;($name$jscomp$84_promiseStruct$jscomp$1$$=this.$promiseMap_$&&this.$promiseMap_$[$name$jscomp$84_promiseStruct$jscomp$1$$])&&$name$jscomp$84_promiseStruct$jscomp$1$$.resolve&&($name$jscomp$84_promiseStruct$jscomp$1$$.resolve($time$jscomp$2$$),
$name$jscomp$84_promiseStruct$jscomp$1$$.resolve=void 0,$name$jscomp$84_promiseStruct$jscomp$1$$.reject=void 0)}};
$JSCompiler_prototypeAlias$$.rejectSignal=function($name$jscomp$85_promiseStruct$jscomp$2$$,$error$jscomp$22$$){null==this.$map_$[$name$jscomp$85_promiseStruct$jscomp$2$$]&&(this.$map_$[$name$jscomp$85_promiseStruct$jscomp$2$$]=$error$jscomp$22$$,($name$jscomp$85_promiseStruct$jscomp$2$$=this.$promiseMap_$&&this.$promiseMap_$[$name$jscomp$85_promiseStruct$jscomp$2$$])&&$name$jscomp$85_promiseStruct$jscomp$2$$.reject&&($name$jscomp$85_promiseStruct$jscomp$2$$.reject($error$jscomp$22$$),$name$jscomp$85_promiseStruct$jscomp$2$$.resolve=
void 0,$name$jscomp$85_promiseStruct$jscomp$2$$.reject=void 0))};$JSCompiler_prototypeAlias$$.reset=function($name$jscomp$86$$){this.$map_$[$name$jscomp$86$$]&&delete this.$map_$[$name$jscomp$86$$];var $promiseStruct$jscomp$3$$=this.$promiseMap_$&&this.$promiseMap_$[$name$jscomp$86$$];$promiseStruct$jscomp$3$$&&!$promiseStruct$jscomp$3$$.resolve&&delete this.$promiseMap_$[$name$jscomp$86$$]};function $layoutRectLtwh$$module$src$layout_rect$$($left$jscomp$2$$,$top$jscomp$2$$,$width$jscomp$29$$,$height$jscomp$28$$){return{left:$left$jscomp$2$$,top:$top$jscomp$2$$,width:$width$jscomp$29$$,height:$height$jscomp$28$$,bottom:$top$jscomp$2$$+$height$jscomp$28$$,right:$left$jscomp$2$$+$width$jscomp$29$$,x:$left$jscomp$2$$,y:$top$jscomp$2$$}};var $EXCLUDE_INI_LOAD$$module$src$friendly_iframe_embed$$=["AMP-AD","AMP-ANALYTICS","AMP-PIXEL","AMP-AD-EXIT"],$srcdocSupported$$module$src$friendly_iframe_embed$$;function $setFriendlyIframeEmbedVisible$$module$src$friendly_iframe_embed$$($embed$$,$visible$$){$JSCompiler_StaticMethods_setVisible_$$($embed$$,$visible$$)}
function $installFriendlyIframeEmbed$$module$src$friendly_iframe_embed$$($iframe$jscomp$3$$,$container$jscomp$4$$,$spec$$,$opt_preinstallCallback$$){function $registerViolationListener$$(){$iframe$jscomp$3$$.contentWindow.addEventListener("securitypolicyviolation",function($iframe$jscomp$3$$){$dev$$module$src$log$$().warn("FIE","security policy violation",$iframe$jscomp$3$$)})}var $win$jscomp$112$$=$getTopWindow$$module$src$service$$($iframe$jscomp$3$$.ownerDocument.defaultView),$extensions$jscomp$2$$=
$getService$$module$src$service$$($win$jscomp$112$$,"extensions");$setStyle$$module$src$style$$($iframe$jscomp$3$$,"visibility","hidden");$iframe$jscomp$3$$.setAttribute("referrerpolicy","unsafe-url");$spec$$.extensionIds&&$spec$$.extensionIds.forEach(function($iframe$jscomp$3$$){return $extensions$jscomp$2$$.preloadExtension($iframe$jscomp$3$$)});var $html$$=$mergeHtml$$module$src$friendly_iframe_embed$$($spec$$);$iframe$jscomp$3$$.onload=function(){$iframe$jscomp$3$$.readyState="complete"};void 0===
$srcdocSupported$$module$src$friendly_iframe_embed$$&&($srcdocSupported$$module$src$friendly_iframe_embed$$="srcdoc"in HTMLIFrameElement.prototype);if($srcdocSupported$$module$src$friendly_iframe_embed$$){$iframe$jscomp$3$$.srcdoc=$html$$;var $loadedPromise$$=$loadPromise$$module$src$event_helper$$($iframe$jscomp$3$$);$container$jscomp$4$$.appendChild($iframe$jscomp$3$$);$registerViolationListener$$()}else{$iframe$jscomp$3$$.src="about:blank";$container$jscomp$4$$.appendChild($iframe$jscomp$3$$);
var $childDoc$$=$iframe$jscomp$3$$.contentWindow.document;$childDoc$$.open();$registerViolationListener$$();$childDoc$$.write($html$$);$loadedPromise$$=$loadPromise$$module$src$event_helper$$($iframe$jscomp$3$$.contentWindow);$childDoc$$.close()}var $readyPromise$$=$isIframeReady$$module$src$friendly_iframe_embed$$($iframe$jscomp$3$$)?Promise.resolve():new Promise(function($container$jscomp$4$$){var $spec$$=$win$jscomp$112$$.setInterval(function(){$isIframeReady$$module$src$friendly_iframe_embed$$($iframe$jscomp$3$$)&&
($container$jscomp$4$$(),$win$jscomp$112$$.clearInterval($spec$$))},5);$loadedPromise$$.catch(function($iframe$jscomp$3$$){$rethrowAsync$$module$src$log$$($iframe$jscomp$3$$)}).then(function(){$container$jscomp$4$$();$win$jscomp$112$$.clearInterval($spec$$)})});return $readyPromise$$.then(function(){var $container$jscomp$4$$=new $FriendlyIframeEmbed$$module$src$friendly_iframe_embed$$($iframe$jscomp$3$$,$spec$$,$loadedPromise$$);$iframe$jscomp$3$$.__AMP_EMBED__=$container$jscomp$4$$;$extensions$jscomp$2$$.installExtensionsInChildWindow($iframe$jscomp$3$$.contentWindow,
$spec$$.extensionIds||[],$opt_preinstallCallback$$);$JSCompiler_StaticMethods_startRender_$$($container$jscomp$4$$);return $container$jscomp$4$$})}
function $isIframeReady$$module$src$friendly_iframe_embed$$($childDoc$jscomp$1_iframe$jscomp$4$$){$childDoc$jscomp$1_iframe$jscomp$4$$=$childDoc$jscomp$1_iframe$jscomp$4$$.contentWindow&&$childDoc$jscomp$1_iframe$jscomp$4$$.contentWindow.document;return!!($childDoc$jscomp$1_iframe$jscomp$4$$&&"loading"!=$childDoc$jscomp$1_iframe$jscomp$4$$.readyState&&"uninitialized"!=$childDoc$jscomp$1_iframe$jscomp$4$$.readyState&&$childDoc$jscomp$1_iframe$jscomp$4$$.body&&$childDoc$jscomp$1_iframe$jscomp$4$$.body.firstChild)}
function $mergeHtml$$module$src$friendly_iframe_embed$$($spec$jscomp$1$$){var $originalHtml$$=$spec$jscomp$1$$.html,$originalHtmlUp$$=$originalHtml$$.toUpperCase(),$ip$$=$originalHtmlUp$$.indexOf("<HEAD");-1!=$ip$$&&($ip$$=$originalHtmlUp$$.indexOf(">",$ip$$+1)+1);-1==$ip$$&&($ip$$=$originalHtmlUp$$.indexOf("<BODY"));-1==$ip$$&&($ip$$=$originalHtmlUp$$.indexOf("<HTML"),-1!=$ip$$&&($ip$$=$originalHtmlUp$$.indexOf(">",$ip$$+1)+1));var $result$jscomp$5$$=[];0<$ip$$&&$result$jscomp$5$$.push($originalHtml$$.substring(0,
$ip$$));$result$jscomp$5$$.push('<base href="'+$escapeHtml$$module$src$dom$$($spec$jscomp$1$$.url)+'">');$spec$jscomp$1$$.fonts&&$spec$jscomp$1$$.fonts.forEach(function($spec$jscomp$1$$){$result$jscomp$5$$.push('<link href="'+$escapeHtml$$module$src$dom$$($spec$jscomp$1$$)+'" rel="stylesheet" type="text/css">')});$result$jscomp$5$$.push("<meta http-equiv=Content-Security-Policy content=\"script-src 'none';object-src 'none';child-src 'none'\">");0<$ip$$?$result$jscomp$5$$.push($originalHtml$$.substring($ip$$)):
$result$jscomp$5$$.push($originalHtml$$);return $result$jscomp$5$$.join("")}
function $FriendlyIframeEmbed$$module$src$friendly_iframe_embed$$($iframe$jscomp$5$$,$spec$jscomp$3$$,$loadedPromise$jscomp$1$$){this.iframe=$iframe$jscomp$5$$;this.win=$iframe$jscomp$5$$.contentWindow;this.spec=$spec$jscomp$3$$;this.host=$spec$jscomp$3$$.host||null;this.$startTime_$=Date.now();this.$visible_$=!1;this.$visibilityObservable_$=new $Observable$$module$src$observable$$;this.$signals_$=this.host?this.host.signals():new $Signals$$module$src$utils$signals$$;this.$winLoadedPromise_$=Promise.all([$loadedPromise$jscomp$1$$,
this.whenReady()])}$JSCompiler_prototypeAlias$$=$FriendlyIframeEmbed$$module$src$friendly_iframe_embed$$.prototype;$JSCompiler_prototypeAlias$$.destroy=function(){$Services$$module$src$services$resourcesForDoc$$(this.iframe).removeForChildWindow(this.win);$disposeServicesInternal$$module$src$service$$(this.win)};$JSCompiler_prototypeAlias$$.getStartTime=function(){return this.$startTime_$};$JSCompiler_prototypeAlias$$.getUrl=function(){return this.spec.url};$JSCompiler_prototypeAlias$$.signals=function(){return this.$signals_$};
$JSCompiler_prototypeAlias$$.whenReady=function(){return this.$signals_$.whenSignal("render-start")};$JSCompiler_prototypeAlias$$.whenWindowLoaded=function(){return this.$winLoadedPromise_$};$JSCompiler_prototypeAlias$$.whenIniLoaded=function(){return this.$signals_$.whenSignal("ini-load")};
function $JSCompiler_StaticMethods_startRender_$$($JSCompiler_StaticMethods_startRender_$self$$){$JSCompiler_StaticMethods_startRender_$self$$.host?$JSCompiler_StaticMethods_startRender_$self$$.host.renderStarted():$JSCompiler_StaticMethods_startRender_$self$$.$signals_$.signal("render-start");$setStyle$$module$src$style$$($JSCompiler_StaticMethods_startRender_$self$$.iframe,"visibility","");$JSCompiler_StaticMethods_startRender_$self$$.win.document&&$JSCompiler_StaticMethods_startRender_$self$$.win.document.body&&
($JSCompiler_StaticMethods_startRender_$self$$.win.document.documentElement.classList.add("i-amphtml-fie"),$setStyles$$module$src$style$$($JSCompiler_StaticMethods_startRender_$self$$.win.document.body));var $rect$jscomp$3$$=$JSCompiler_StaticMethods_startRender_$self$$.host?$JSCompiler_StaticMethods_startRender_$self$$.host.getLayoutBox():$layoutRectLtwh$$module$src$layout_rect$$(0,0,$JSCompiler_StaticMethods_startRender_$self$$.win.innerWidth,$JSCompiler_StaticMethods_startRender_$self$$.win.innerHeight);
Promise.all([$JSCompiler_StaticMethods_startRender_$self$$.whenReady(),$whenContentIniLoad$$module$src$friendly_iframe_embed$$($JSCompiler_StaticMethods_startRender_$self$$.iframe,$JSCompiler_StaticMethods_startRender_$self$$.win,$rect$jscomp$3$$)]).then(function(){$JSCompiler_StaticMethods_startRender_$self$$.$signals_$.signal("ini-load")})}$JSCompiler_prototypeAlias$$.isVisible=function(){return this.$visible_$};$JSCompiler_prototypeAlias$$.onVisibilityChanged=function($handler$jscomp$7$$){return this.$visibilityObservable_$.add($handler$jscomp$7$$)};
function $JSCompiler_StaticMethods_setVisible_$$($JSCompiler_StaticMethods_setVisible_$self$$,$visible$jscomp$1$$){$JSCompiler_StaticMethods_setVisible_$self$$.$visible_$!=$visible$jscomp$1$$&&($JSCompiler_StaticMethods_setVisible_$self$$.$visible_$=$visible$jscomp$1$$,$JSCompiler_StaticMethods_setVisible_$self$$.$visibilityObservable_$.fire($JSCompiler_StaticMethods_setVisible_$self$$.$visible_$))}$JSCompiler_prototypeAlias$$.getBodyElement=function(){return(this.iframe.contentDocument||this.iframe.contentWindow.document).body};
function $JSCompiler_StaticMethods_measureMutate_$$($JSCompiler_StaticMethods_measureMutate_$self$$,$task$$){return $Services$$module$src$services$resourcesForDoc$$($JSCompiler_StaticMethods_measureMutate_$self$$.iframe).measureMutateElement($JSCompiler_StaticMethods_measureMutate_$self$$.iframe,$task$$.measure||null,$task$$.mutate)}
$JSCompiler_prototypeAlias$$.enterFullOverlayMode=function(){var $$jscomp$this$jscomp$9$$=this,$ampAdParent$$=this.iframe.parentNode;$userAssert$$module$src$log$$("amp-ad"==$ampAdParent$$.tagName.toLowerCase(),"Only <amp-ad> is allowed to enter lightbox mode.");var $bodyStyle$$;return $JSCompiler_StaticMethods_measureMutate_$$(this,{measure:function(){var $ampAdParent$$=$$jscomp$this$jscomp$9$$.host?$$jscomp$this$jscomp$9$$.host.getLayoutBox():$$jscomp$this$jscomp$9$$.iframe.getBoundingClientRect(),
$dy$jscomp$5$$=-$getServiceForDoc$$module$src$service$$($$jscomp$this$jscomp$9$$.iframe,"viewport").getScrollTop();$ampAdParent$$=0==$dy$jscomp$5$$||0==$ampAdParent$$.width&&0==$ampAdParent$$.height?$ampAdParent$$:$layoutRectLtwh$$module$src$layout_rect$$($ampAdParent$$.left+0,$ampAdParent$$.top+$dy$jscomp$5$$,$ampAdParent$$.width,$ampAdParent$$.height);$bodyStyle$$={top:$ampAdParent$$.top+"px",left:$ampAdParent$$.left+"px",width:$ampAdParent$$.width+"px",height:$ampAdParent$$.height+"px"}},mutate:function(){$setImportantStyles$$module$src$style$$($$jscomp$this$jscomp$9$$.iframe,
{position:"fixed",left:0,right:0,bottom:0,width:"100vw",top:0,height:"100vh"});$setImportantStyles$$module$src$style$$($$jscomp$this$jscomp$9$$.getBodyElement(),{background:"transparent",position:"absolute",bottom:"auto",right:"auto",top:$bodyStyle$$.top,left:$bodyStyle$$.left,width:$bodyStyle$$.width,height:$bodyStyle$$.height})}})};
$JSCompiler_prototypeAlias$$.leaveFullOverlayMode=function(){var $$jscomp$this$jscomp$10$$=this;return $JSCompiler_StaticMethods_measureMutate_$$(this,{mutate:function(){$resetStyles$$module$src$style$$($$jscomp$this$jscomp$10$$.iframe,"position left right top bottom width height".split(" "));$resetStyles$$module$src$style$$($$jscomp$this$jscomp$10$$.getBodyElement(),"position top left width height bottom right".split(" "))}})};
function $whenContentIniLoad$$module$src$friendly_iframe_embed$$($elementOrAmpDoc$jscomp$19$$,$hostWin$$,$rect$jscomp$5$$){return $Services$$module$src$services$resourcesForDoc$$($elementOrAmpDoc$jscomp$19$$).getResourcesInRect($hostWin$$,$rect$jscomp$5$$).then(function($elementOrAmpDoc$jscomp$19$$){var $hostWin$$=[];$elementOrAmpDoc$jscomp$19$$.forEach(function($elementOrAmpDoc$jscomp$19$$){$EXCLUDE_INI_LOAD$$module$src$friendly_iframe_embed$$.includes($elementOrAmpDoc$jscomp$19$$.element.tagName)||
$hostWin$$.push($elementOrAmpDoc$jscomp$19$$.loadedOnce())});return Promise.all($hostWin$$)})};var $NOENCODE_WHITELIST$$module$src$service$url_expander$expander$$={ANCESTOR_ORIGIN:!0};function $Expander$$module$src$service$url_expander$expander$$($variableSource$$,$opt_bindings$jscomp$1$$,$opt_collectVars$$,$opt_sync$$,$opt_whiteList$jscomp$2$$,$opt_noEncode$$){this.$variableSource_$=$variableSource$$;this.$bindings_$=$opt_bindings$jscomp$1$$;this.$collectVars_$=$opt_collectVars$$;this.$sync_$=$opt_sync$$;this.$whiteList_$=$opt_whiteList$jscomp$2$$;this.$encode_$=!$opt_noEncode$$}
$Expander$$module$src$service$url_expander$expander$$.prototype.expand=function($url$jscomp$47$$){if(!$url$jscomp$47$$.length)return this.$sync_$?$url$jscomp$47$$:Promise.resolve($url$jscomp$47$$);var $expr$jscomp$4_matches$jscomp$2$$=this.$variableSource_$.getExpr(this.$bindings_$,this.$whiteList_$);$expr$jscomp$4_matches$jscomp$2$$=$JSCompiler_StaticMethods_findMatches_$$($url$jscomp$47$$,$expr$jscomp$4_matches$jscomp$2$$);return $expr$jscomp$4_matches$jscomp$2$$.length?$JSCompiler_StaticMethods_parseUrlRecursively_$$(this,
$url$jscomp$47$$,$expr$jscomp$4_matches$jscomp$2$$):this.$sync_$?$url$jscomp$47$$:Promise.resolve($url$jscomp$47$$)};$Expander$$module$src$service$url_expander$expander$$.prototype.getMacroNames=function($matches$jscomp$3_url$jscomp$48$$){var $expr$jscomp$5$$=this.$variableSource_$.getExpr(this.$bindings_$,this.$whiteList_$);return($matches$jscomp$3_url$jscomp$48$$=$matches$jscomp$3_url$jscomp$48$$.match($expr$jscomp$5$$))?$matches$jscomp$3_url$jscomp$48$$:[]};
function $JSCompiler_StaticMethods_findMatches_$$($url$jscomp$49$$,$expression$jscomp$2$$){var $matches$jscomp$4$$=[];$url$jscomp$49$$.replace($expression$jscomp$2$$,function($url$jscomp$49$$,$expression$jscomp$2$$,$startPosition$$){$url$jscomp$49$$=$url$jscomp$49$$.length;var $length$jscomp$23_match$jscomp$5$$=$url$jscomp$49$$+$startPosition$$-1;$matches$jscomp$4$$.push({start:$startPosition$$,stop:$length$jscomp$23_match$jscomp$5$$,name:$expression$jscomp$2$$,length:$url$jscomp$49$$})});return $matches$jscomp$4$$}
function $JSCompiler_StaticMethods_parseUrlRecursively_$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$,$url$jscomp$50$$,$matches$jscomp$5$$){function $evaluateNextLevel$$($encode$$){for(var $builder$$="",$results$$=[];$urlIndex$$<$url$jscomp$50$$.length&&$matchIndex$$<=$matches$jscomp$5$$.length;){if($match$jscomp$6$$&&$urlIndex$$===$match$jscomp$6$$.start){var $binding$$=void 0;$binding$$=$JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$bindings_$&&$hasOwn_$$module$src$utils$object$$.call($JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$bindings_$,
$match$jscomp$6$$.name)?{name:$match$jscomp$6$$.name,prioritized:$JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$bindings_$[$match$jscomp$6$$.name],encode:$encode$$}:Object.assign({},$JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$variableSource_$.get($match$jscomp$6$$.name),{name:$match$jscomp$6$$.name,encode:$encode$$});$urlIndex$$=$match$jscomp$6$$.stop+1;$match$jscomp$6$$=$matches$jscomp$5$$[++$matchIndex$$];"("===$url$jscomp$50$$[$urlIndex$$]?($urlIndex$$++,$numOfPendingCalls$$++,
$stack$jscomp$2$$.push($binding$$),$builder$$.trim().length&&$results$$.push($builder$$),$results$$.push($evaluateNextLevel$$(!1))):($builder$$.length&&$results$$.push($builder$$),$results$$.push($JSCompiler_StaticMethods_evaluateBinding_$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$,$binding$$)));$builder$$=""}else{if("`"===$url$jscomp$50$$[$urlIndex$$])$ignoringChars$$?$ignoringChars$$=!1:($nextArgShouldBeRaw$$=$ignoringChars$$=!0,$userAssert$$module$src$log$$(""===$builder$$.trim(),'The substring "'+
$builder$$+'" was lost during url-replacement. Please ensure the url syntax is correct'),$builder$$="");else if($numOfPendingCalls$$&&","===$url$jscomp$50$$[$urlIndex$$]&&!$ignoringChars$$){if($builder$$.length){var $nextArg$$=$nextArgShouldBeRaw$$?$builder$$:$builder$$.trim();$results$$.push($nextArg$$);$nextArgShouldBeRaw$$=!1}","===$url$jscomp$50$$[$urlIndex$$+1]&&($results$$.push(""),$urlIndex$$++);$builder$$=""}else{if($numOfPendingCalls$$&&")"===$url$jscomp$50$$[$urlIndex$$]&&!$ignoringChars$$){$urlIndex$$++;
$numOfPendingCalls$$--;var $binding$16$$=$stack$jscomp$2$$.pop();$results$$.push($nextArgShouldBeRaw$$?$builder$$:$builder$$.trim());$nextArgShouldBeRaw$$=!1;return $JSCompiler_StaticMethods_evaluateBinding_$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$,$binding$16$$,$results$$)}$builder$$+=$url$jscomp$50$$[$urlIndex$$]}$urlIndex$$++}$urlIndex$$===$url$jscomp$50$$.length&&$builder$$.length&&$results$$.push($builder$$)}return $JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$sync_$?
$results$$.join(""):Promise.all($results$$).then(function($JSCompiler_StaticMethods_parseUrlRecursively_$self$$){return $JSCompiler_StaticMethods_parseUrlRecursively_$self$$.join("")}).catch(function($JSCompiler_StaticMethods_parseUrlRecursively_$self$$){$rethrowAsync$$module$src$log$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$);return""})}var $stack$jscomp$2$$=[],$urlIndex$$=0,$matchIndex$$=0,$match$jscomp$6$$=$matches$jscomp$5$$[$matchIndex$$],$numOfPendingCalls$$=0,$ignoringChars$$=
!1,$nextArgShouldBeRaw$$=!1;return $evaluateNextLevel$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$encode_$)}
function $JSCompiler_StaticMethods_evaluateBinding_$$($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$,$bindingInfo$$,$opt_args$jscomp$1$$){var $$jscomp$destructuring$var34_name$jscomp$88$$=$bindingInfo$$,$encode$jscomp$1$$=$$jscomp$destructuring$var34_name$jscomp$88$$.encode;$$jscomp$destructuring$var34_name$jscomp$88$$=$$jscomp$destructuring$var34_name$jscomp$88$$.name;if($hasOwn_$$module$src$utils$object$$.call($bindingInfo$$,"prioritized"))var $binding$jscomp$1$$=$bindingInfo$$.prioritized;
else $JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$.$sync_$&&$hasOwn_$$module$src$utils$object$$.call($bindingInfo$$,"sync")?$binding$jscomp$1$$=$bindingInfo$$.sync:$JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$.$sync_$?($user$$module$src$log$$().error("Expander","ignoring async replacement key: ",$bindingInfo$$.name),$binding$jscomp$1$$=""):$binding$jscomp$1$$=$bindingInfo$$.async||$bindingInfo$$.sync;var $shouldEncode$$=$encode$jscomp$1$$&&!$NOENCODE_WHITELIST$$module$src$service$url_expander$expander$$[$$jscomp$destructuring$var34_name$jscomp$88$$];
return $JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$.$sync_$?($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$=$JSCompiler_StaticMethods_evaluateBindingSync_$$($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$,$binding$jscomp$1$$,$$jscomp$destructuring$var34_name$jscomp$88$$,$opt_args$jscomp$1$$),$shouldEncode$$?encodeURIComponent($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$):$JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$):
$JSCompiler_StaticMethods_evaluateBindingAsync_$$($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$,$binding$jscomp$1$$,$$jscomp$destructuring$var34_name$jscomp$88$$,$opt_args$jscomp$1$$).then(function($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$){return $shouldEncode$$?encodeURIComponent($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$):$JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$})}
function $JSCompiler_StaticMethods_evaluateBindingAsync_$$($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$,$binding$jscomp$2$$,$name$jscomp$89$$,$opt_args$jscomp$2$$){try{var $value$jscomp$109$$="function"===typeof $binding$jscomp$2$$?$opt_args$jscomp$2$$?Promise.all($opt_args$jscomp$2$$).then(function($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$){return $binding$jscomp$2$$.apply(null,$JSCompiler_StaticMethods_evaluateBindingAsync_$self$$)}):$tryResolve$$module$src$utils$promise$$($binding$jscomp$2$$):
Promise.resolve($binding$jscomp$2$$);return $value$jscomp$109$$.then(function($binding$jscomp$2$$){$JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$,$name$jscomp$89$$,$binding$jscomp$2$$,$opt_args$jscomp$2$$);return null==$binding$jscomp$2$$?"":$binding$jscomp$2$$}).catch(function($binding$jscomp$2$$){$rethrowAsync$$module$src$log$$($binding$jscomp$2$$);$JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$,
$name$jscomp$89$$,"",$opt_args$jscomp$2$$);return Promise.resolve("")})}catch($e$jscomp$30$$){return $rethrowAsync$$module$src$log$$($e$jscomp$30$$),$JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$,$name$jscomp$89$$,"",$opt_args$jscomp$2$$),Promise.resolve("")}}
function $JSCompiler_StaticMethods_evaluateBindingSync_$$($JSCompiler_StaticMethods_evaluateBindingSync_$self$$,$binding$jscomp$3$$,$name$jscomp$90$$,$opt_args$jscomp$3$$){try{var $value$jscomp$110$$="function"===typeof $binding$jscomp$3$$?$binding$jscomp$3$$.apply(null,$opt_args$jscomp$3$$):$binding$jscomp$3$$;if($value$jscomp$110$$&&$value$jscomp$110$$.then){$user$$module$src$log$$().error("Expander","ignoring async macro resolution");var $result$jscomp$9$$=""}else"string"===typeof $value$jscomp$110$$||
"number"===typeof $value$jscomp$110$$||"boolean"===typeof $value$jscomp$110$$?($JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingSync_$self$$,$name$jscomp$90$$,$value$jscomp$110$$,$opt_args$jscomp$3$$),$result$jscomp$9$$=$value$jscomp$110$$.toString()):($JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingSync_$self$$,$name$jscomp$90$$,"",$opt_args$jscomp$3$$),$result$jscomp$9$$="");return $result$jscomp$9$$}catch($e$jscomp$31$$){return $rethrowAsync$$module$src$log$$($e$jscomp$31$$),
$JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingSync_$self$$,$name$jscomp$90$$,"",$opt_args$jscomp$3$$),""}}
function $JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_maybeCollectVars_$self$$,$name$jscomp$91$$,$value$jscomp$111$$,$opt_args$jscomp$4$$){if($JSCompiler_StaticMethods_maybeCollectVars_$self$$.$collectVars_$){var $args$jscomp$1$$="";if($opt_args$jscomp$4$$){var $rawArgs$$=$opt_args$jscomp$4$$.filter(function($JSCompiler_StaticMethods_maybeCollectVars_$self$$){return""!==$JSCompiler_StaticMethods_maybeCollectVars_$self$$}).join(",");$args$jscomp$1$$="("+$rawArgs$$+")"}$JSCompiler_StaticMethods_maybeCollectVars_$self$$.$collectVars_$[""+
$name$jscomp$91$$+$args$jscomp$1$$]=$value$jscomp$111$$||""}};function $UrlReplacements$$module$src$service$url_replacements_impl$$($ampdoc$jscomp$18$$,$variableSource$jscomp$1$$){this.ampdoc=$ampdoc$jscomp$18$$;this.$variableSource_$=$variableSource$jscomp$1$$}$JSCompiler_prototypeAlias$$=$UrlReplacements$$module$src$service$url_replacements_impl$$.prototype;
$JSCompiler_prototypeAlias$$.expandStringSync=function($source$jscomp$13$$,$opt_bindings$jscomp$2$$,$opt_collectVars$jscomp$1$$,$opt_whiteList$jscomp$3$$){return(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$2$$,$opt_collectVars$jscomp$1$$,!0,$opt_whiteList$jscomp$3$$,!0)).expand($source$jscomp$13$$)};
$JSCompiler_prototypeAlias$$.expandStringAsync=function($source$jscomp$14$$,$opt_bindings$jscomp$3$$,$opt_whiteList$jscomp$4$$){return(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$3$$,void 0,void 0,$opt_whiteList$jscomp$4$$,!0)).expand($source$jscomp$14$$)};
$JSCompiler_prototypeAlias$$.expandUrlSync=function($url$jscomp$58$$,$opt_bindings$jscomp$4$$,$opt_collectVars$jscomp$2$$,$opt_whiteList$jscomp$5$$){return $JSCompiler_StaticMethods_ensureProtocolMatches_$$($url$jscomp$58$$,(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$4$$,$opt_collectVars$jscomp$2$$,!0,$opt_whiteList$jscomp$5$$)).expand($url$jscomp$58$$))};
$JSCompiler_prototypeAlias$$.expandUrlAsync=function($url$jscomp$59$$,$opt_bindings$jscomp$5$$,$opt_whiteList$jscomp$6$$){return(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$5$$,void 0,void 0,$opt_whiteList$jscomp$6$$)).expand($url$jscomp$59$$).then(function($opt_bindings$jscomp$5$$){return $JSCompiler_StaticMethods_ensureProtocolMatches_$$($url$jscomp$59$$,$opt_bindings$jscomp$5$$)})};
$JSCompiler_prototypeAlias$$.expandInputValueAsync=function($element$jscomp$97$$){return $JSCompiler_StaticMethods_expandInputValue_$$(this,$element$jscomp$97$$,!1)};$JSCompiler_prototypeAlias$$.expandInputValueSync=function($element$jscomp$98$$){return $JSCompiler_StaticMethods_expandInputValue_$$(this,$element$jscomp$98$$,!0)};
function $JSCompiler_StaticMethods_expandInputValue_$$($JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$,$element$jscomp$99$$,$opt_sync$jscomp$1$$){"INPUT"==$element$jscomp$99$$.tagName&&$element$jscomp$99$$.getAttribute("type");var $whitelist$$=$JSCompiler_StaticMethods_getWhitelistForElement_$$($element$jscomp$99$$);if(!$whitelist$$)return $opt_sync$jscomp$1$$?$element$jscomp$99$$.value:Promise.resolve($element$jscomp$99$$.value);void 0===$element$jscomp$99$$["amp-original-value"]&&
($element$jscomp$99$$["amp-original-value"]=$element$jscomp$99$$.value);$JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$=(new $Expander$$module$src$service$url_expander$expander$$($JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$.$variableSource_$,void 0,void 0,$opt_sync$jscomp$1$$,$whitelist$$)).expand($element$jscomp$99$$["amp-original-value"]||$element$jscomp$99$$.value);return $opt_sync$jscomp$1$$?$element$jscomp$99$$.value=$JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$:
$JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$.then(function($JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$){return $element$jscomp$99$$.value=$JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$})}
function $JSCompiler_StaticMethods_getWhitelistForElement_$$($element$jscomp$100_whitelist$jscomp$1$$,$opt_supportedReplacement$$){if($element$jscomp$100_whitelist$jscomp$1$$=$element$jscomp$100_whitelist$jscomp$1$$.getAttribute("data-amp-replace")){var $requestedReplacements$$={};$element$jscomp$100_whitelist$jscomp$1$$.trim().split(/\s+/).forEach(function($element$jscomp$100_whitelist$jscomp$1$$){!$opt_supportedReplacement$$||$hasOwn_$$module$src$utils$object$$.call($opt_supportedReplacement$$,
$element$jscomp$100_whitelist$jscomp$1$$)?$requestedReplacements$$[$element$jscomp$100_whitelist$jscomp$1$$]=!0:$user$$module$src$log$$().warn("URL","Ignoring unsupported replacement",$element$jscomp$100_whitelist$jscomp$1$$)});return $requestedReplacements$$}}
$JSCompiler_prototypeAlias$$.maybeExpandLink=function($element$jscomp$101$$,$defaultUrlParams$$){var $supportedReplacements$$={CLIENT_ID:!0,QUERY_PARAM:!0,PAGE_VIEW_ID:!0,NAV_TIMING:!0},$additionalUrlParameters$$=$element$jscomp$101$$.getAttribute("data-amp-addparams")||"",$whitelist$jscomp$3$$=$JSCompiler_StaticMethods_getWhitelistForElement_$$($element$jscomp$101$$,$supportedReplacements$$);if($whitelist$jscomp$3$$||$additionalUrlParameters$$||$defaultUrlParams$$){var $href$jscomp$1$$=$element$jscomp$101$$["amp-original-href"]||
$element$jscomp$101$$.getAttribute("href"),$JSCompiler_inline_result$jscomp$73_JSCompiler_params$jscomp$inline_185_url$jscomp$61$$=$parseUrlDeprecated$$module$src$url$$($href$jscomp$1$$);null==$element$jscomp$101$$["amp-original-href"]&&($element$jscomp$101$$["amp-original-href"]=$href$jscomp$1$$);if($additionalUrlParameters$$){var $JSCompiler_docInfo$jscomp$inline_179_JSCompiler_meta$jscomp$inline_180_JSCompiler_params$jscomp$inline_175_JSCompiler_whitelist$jscomp$inline_181$$=$parseQueryString_$$module$src$url_parse_query_string$$($additionalUrlParameters$$);
$href$jscomp$1$$=$appendEncodedParamStringToUrl$$module$src$url$$($href$jscomp$1$$,$serializeQueryString$$module$src$url$$($JSCompiler_docInfo$jscomp$inline_179_JSCompiler_meta$jscomp$inline_180_JSCompiler_params$jscomp$inline_175_JSCompiler_whitelist$jscomp$inline_181$$))}a:if($JSCompiler_docInfo$jscomp$inline_179_JSCompiler_meta$jscomp$inline_180_JSCompiler_params$jscomp$inline_175_JSCompiler_whitelist$jscomp$inline_181$$=$getServiceForDoc$$module$src$service$$(this.ampdoc,"documentInfo").get(),
$JSCompiler_inline_result$jscomp$73_JSCompiler_params$jscomp$inline_185_url$jscomp$61$$.origin==$parseUrlDeprecated$$module$src$url$$($JSCompiler_docInfo$jscomp$inline_179_JSCompiler_meta$jscomp$inline_180_JSCompiler_params$jscomp$inline_175_JSCompiler_whitelist$jscomp$inline_181$$.canonicalUrl).origin||$JSCompiler_inline_result$jscomp$73_JSCompiler_params$jscomp$inline_185_url$jscomp$61$$.origin==$parseUrlDeprecated$$module$src$url$$($JSCompiler_docInfo$jscomp$inline_179_JSCompiler_meta$jscomp$inline_180_JSCompiler_params$jscomp$inline_175_JSCompiler_whitelist$jscomp$inline_181$$.sourceUrl).origin)$JSCompiler_inline_result$jscomp$73_JSCompiler_params$jscomp$inline_185_url$jscomp$61$$=
!0;else{if(($JSCompiler_docInfo$jscomp$inline_179_JSCompiler_meta$jscomp$inline_180_JSCompiler_params$jscomp$inline_175_JSCompiler_whitelist$jscomp$inline_181$$=this.ampdoc.getRootNode().querySelector("meta[name=amp-link-variable-allowed-origin]"))&&$JSCompiler_docInfo$jscomp$inline_179_JSCompiler_meta$jscomp$inline_180_JSCompiler_params$jscomp$inline_175_JSCompiler_whitelist$jscomp$inline_181$$.hasAttribute("content")){$JSCompiler_docInfo$jscomp$inline_179_JSCompiler_meta$jscomp$inline_180_JSCompiler_params$jscomp$inline_175_JSCompiler_whitelist$jscomp$inline_181$$=
$JSCompiler_docInfo$jscomp$inline_179_JSCompiler_meta$jscomp$inline_180_JSCompiler_params$jscomp$inline_175_JSCompiler_whitelist$jscomp$inline_181$$.getAttribute("content").trim().split(/\s+/);for(var $JSCompiler_i$jscomp$inline_182$$=0;$JSCompiler_i$jscomp$inline_182$$<$JSCompiler_docInfo$jscomp$inline_179_JSCompiler_meta$jscomp$inline_180_JSCompiler_params$jscomp$inline_175_JSCompiler_whitelist$jscomp$inline_181$$.length;$JSCompiler_i$jscomp$inline_182$$++)if($JSCompiler_inline_result$jscomp$73_JSCompiler_params$jscomp$inline_185_url$jscomp$61$$.origin==
$parseUrlDeprecated$$module$src$url$$($JSCompiler_docInfo$jscomp$inline_179_JSCompiler_meta$jscomp$inline_180_JSCompiler_params$jscomp$inline_175_JSCompiler_whitelist$jscomp$inline_181$$[$JSCompiler_i$jscomp$inline_182$$]).origin){$JSCompiler_inline_result$jscomp$73_JSCompiler_params$jscomp$inline_185_url$jscomp$61$$=!0;break a}}$JSCompiler_inline_result$jscomp$73_JSCompiler_params$jscomp$inline_185_url$jscomp$61$$=!1}var $isAllowedOrigin$$=$JSCompiler_inline_result$jscomp$73_JSCompiler_params$jscomp$inline_185_url$jscomp$61$$;
if(!$isAllowedOrigin$$)return $whitelist$jscomp$3$$&&$user$$module$src$log$$().warn("URL","Ignoring link replacement",$href$jscomp$1$$," because the link does not go to the document's source, canonical, or whitelisted origin."),$element$jscomp$101$$.href=$href$jscomp$1$$;if($defaultUrlParams$$){if(!$whitelist$jscomp$3$$||!$whitelist$jscomp$3$$.QUERY_PARAM){var $overrideWhitelist$$={QUERY_PARAM:!0};$defaultUrlParams$$=this.expandUrlSync($defaultUrlParams$$,void 0,void 0,$overrideWhitelist$$)}$JSCompiler_inline_result$jscomp$73_JSCompiler_params$jscomp$inline_185_url$jscomp$61$$=
$parseQueryString_$$module$src$url_parse_query_string$$($defaultUrlParams$$);$href$jscomp$1$$=$appendEncodedParamStringToUrl$$module$src$url$$($href$jscomp$1$$,$serializeQueryString$$module$src$url$$($JSCompiler_inline_result$jscomp$73_JSCompiler_params$jscomp$inline_185_url$jscomp$61$$))}$whitelist$jscomp$3$$&&($href$jscomp$1$$=this.expandUrlSync($href$jscomp$1$$,void 0,void 0,$whitelist$jscomp$3$$));return $element$jscomp$101$$.href=$href$jscomp$1$$}};
$JSCompiler_prototypeAlias$$.collectVars=function($url$jscomp$62$$,$opt_bindings$jscomp$6$$){var $vars$jscomp$2$$=Object.create(null);return(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$6$$,$vars$jscomp$2$$)).expand($url$jscomp$62$$).then(function(){return $vars$jscomp$2$$})};
$JSCompiler_prototypeAlias$$.collectUnwhitelistedVarsSync=function($element$jscomp$102$$){var $url$jscomp$63$$=$element$jscomp$102$$.getAttribute("src"),$macroNames$$=(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$)).getMacroNames($url$jscomp$63$$),$whitelist$jscomp$4$$=$JSCompiler_StaticMethods_getWhitelistForElement_$$($element$jscomp$102$$);return $whitelist$jscomp$4$$?$macroNames$$.filter(function($element$jscomp$102$$){return!$whitelist$jscomp$4$$[$element$jscomp$102$$]}):
$macroNames$$};
function $JSCompiler_StaticMethods_ensureProtocolMatches_$$($JSCompiler_inline_result$jscomp$56_JSCompiler_url$jscomp$inline_187_url$jscomp$64$$,$replacement$jscomp$3$$){var $newProtocol$$=$parseUrlDeprecated$$module$src$url$$($replacement$jscomp$3$$,!0).protocol,$oldProtocol$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_inline_result$jscomp$56_JSCompiler_url$jscomp$inline_187_url$jscomp$64$$,!0).protocol;if($newProtocol$$!=$oldProtocol$$)return $user$$module$src$log$$().error("UrlReplacements","Illegal replacement of the protocol: ",
$JSCompiler_inline_result$jscomp$56_JSCompiler_url$jscomp$inline_187_url$jscomp$64$$),$JSCompiler_inline_result$jscomp$56_JSCompiler_url$jscomp$inline_187_url$jscomp$64$$;($JSCompiler_inline_result$jscomp$56_JSCompiler_url$jscomp$inline_187_url$jscomp$64$$=$replacement$jscomp$3$$)?("string"==typeof $JSCompiler_inline_result$jscomp$56_JSCompiler_url$jscomp$inline_187_url$jscomp$64$$&&($JSCompiler_inline_result$jscomp$56_JSCompiler_url$jscomp$inline_187_url$jscomp$64$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_inline_result$jscomp$56_JSCompiler_url$jscomp$inline_187_url$jscomp$64$$)),
$JSCompiler_inline_result$jscomp$56_JSCompiler_url$jscomp$inline_187_url$jscomp$64$$=!$INVALID_PROTOCOLS$$module$src$url$$.includes($JSCompiler_inline_result$jscomp$56_JSCompiler_url$jscomp$inline_187_url$jscomp$64$$.protocol)):$JSCompiler_inline_result$jscomp$56_JSCompiler_url$jscomp$inline_187_url$jscomp$64$$=!0;$userAssert$$module$src$log$$($JSCompiler_inline_result$jscomp$56_JSCompiler_url$jscomp$inline_187_url$jscomp$64$$,"The replacement url has invalid protocol: %s",$replacement$jscomp$3$$);
return $replacement$jscomp$3$$}$JSCompiler_prototypeAlias$$.getVariableSource=function(){return this.$variableSource_$};var $CONTAINERS$$module$src$ad_helper$$={"AMP-FX-FLYING-CARPET":!0,"AMP-LIGHTBOX":!0,"AMP-STICKY-AD":!0,"AMP-LIGHTBOX-GALLERY":!0};function $ExperimentUtils$$module$ads$google$a4a$experiment_utils$$(){}
$ExperimentUtils$$module$ads$google$a4a$experiment_utils$$.prototype.maybeSelectExperiment=function($win$jscomp$131$$,$element$jscomp$106$$,$selectionBranches$$,$experimentName$jscomp$3$$){var $experimentInfoMap$$={};$experimentInfoMap$$[$experimentName$jscomp$3$$]={isTrafficEligible:function(){return!0},branches:$selectionBranches$$};$randomlySelectUnsetExperiments$$module$src$experiments$$($win$jscomp$131$$,$experimentInfoMap$$);return $win$jscomp$131$$.experimentBranches?$win$jscomp$131$$.experimentBranches[$experimentName$jscomp$3$$]:
null};new $ExperimentUtils$$module$ads$google$a4a$experiment_utils$$;var $signingServerURLs$$module$ads$_a4a_config$$={google:"https://cdn.ampproject.org/amp-ad-verifying-keyset.json","google-dev":"https://cdn.ampproject.org/amp-ad-verifying-keyset-dev.json",cloudflare:"https://amp.cloudflare.com/amp-ad-verifying-keyset.json","cloudflare-dev":"https://amp.cloudflare.com/amp-ad-verifying-keyset-dev.json"};var $METADATA_STRINGS$$module$extensions$amp_a4a$0_1$amp_a4a$$=["<script amp-ad-metadata type=application/json>",'<script type="application/json" amp-ad-metadata>',"<script type=application/json amp-ad-metadata>"],$XORIGIN_MODE$$module$extensions$amp_a4a$0_1$amp_a4a$$={CLIENT_CACHE:"client_cache",SAFEFRAME:"safeframe",NAMEFRAME:"nameframe",IFRAME_GET:"iframe_get"},$SHARED_IFRAME_PROPERTIES$$module$extensions$amp_a4a$0_1$amp_a4a$$=$dict$$module$src$utils$object$$({frameborder:"0",allowfullscreen:"",
allowtransparency:"",scrolling:"no",marginwidth:"0",marginheight:"0"}),$LIFECYCLE_STAGE_TO_ANALYTICS_TRIGGER$$module$extensions$amp_a4a$0_1$amp_a4a$$={adRequestStart:"ad-request-start",adRequestEnd:"ad-response-end",renderFriendlyStart:"ad-render-start",renderCrossDomainStart:"ad-render-start",renderSafeFrameStart:"ad-render-start",renderFriendlyEnd:"ad-render-end",renderCrossDomainEnd:"ad-render-end",friendlyIframeIniLoad:"ad-iframe-loaded",crossDomainIframeLoaded:"ad-iframe-loaded"};
function $protectFunctionWrapper$$module$extensions$amp_a4a$0_1$amp_a4a$$($fn$jscomp$3$$,$inThis$$,$onError$$){return function($fnArgs$$){for(var $$jscomp$restParams$$=[],$$jscomp$restIndex$$=0;$$jscomp$restIndex$$<arguments.length;++$$jscomp$restIndex$$)$$jscomp$restParams$$[$$jscomp$restIndex$$-0]=arguments[$$jscomp$restIndex$$];try{return $fn$jscomp$3$$.apply($inThis$$,$$jscomp$restParams$$)}catch($err$jscomp$11$$){if($onError$$)try{return $$jscomp$restParams$$.unshift($err$jscomp$11$$),$onError$$.apply($inThis$$,
$$jscomp$restParams$$)}catch($captureErr$$){}}}}
function $AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$($$jscomp$super$this_element$jscomp$112$$){$$jscomp$super$this_element$jscomp$112$$=AMP.BaseElement.call(this,$$jscomp$super$this_element$jscomp$112$$)||this;$$jscomp$super$this_element$jscomp$112$$.$keysetPromise_$=null;$$jscomp$super$this_element$jscomp$112$$.$adPromise_$=null;$$jscomp$super$this_element$jscomp$112$$.$promiseId_$=0;$$jscomp$super$this_element$jscomp$112$$.$adUrl_$=null;$$jscomp$super$this_element$jscomp$112$$.$friendlyIframeEmbed_$=null;
$$jscomp$super$this_element$jscomp$112$$.uiHandler=null;$$jscomp$super$this_element$jscomp$112$$.$xOriginIframeHandler_$=null;$$jscomp$super$this_element$jscomp$112$$.$isVerifiedAmpCreative_$=!1;$$jscomp$super$this_element$jscomp$112$$.$creativeBody_$=null;$$jscomp$super$this_element$jscomp$112$$.$creativeSize_$=null;$$jscomp$super$this_element$jscomp$112$$.$originalSlotSize_$=null;$$jscomp$super$this_element$jscomp$112$$.$experimentalNonAmpCreativeRenderMethod_$=$$jscomp$super$this_element$jscomp$112$$.getNonAmpCreativeRenderingMethod();
$$jscomp$super$this_element$jscomp$112$$.$getNow_$=$$jscomp$super$this_element$jscomp$112$$.win.performance&&$$jscomp$super$this_element$jscomp$112$$.win.performance.now?$$jscomp$super$this_element$jscomp$112$$.win.performance.now.bind($$jscomp$super$this_element$jscomp$112$$.win.performance):Date.now;var $JSCompiler_inline_result$jscomp$67_JSCompiler_parentWindow$jscomp$inline_189$$=window;for(var $JSCompiler_windowDepth$jscomp$inline_190$$=0,$JSCompiler_win$jscomp$inline_191$$=$JSCompiler_inline_result$jscomp$67_JSCompiler_parentWindow$jscomp$inline_189$$;$JSCompiler_win$jscomp$inline_191$$&&
$JSCompiler_win$jscomp$inline_191$$!=$JSCompiler_win$jscomp$inline_191$$.parent;$JSCompiler_win$jscomp$inline_191$$=$JSCompiler_win$jscomp$inline_191$$.parent)$JSCompiler_windowDepth$jscomp$inline_190$$++;$JSCompiler_inline_result$jscomp$67_JSCompiler_parentWindow$jscomp$inline_189$$=String($JSCompiler_windowDepth$jscomp$inline_190$$)+"-"+$getRandom$$module$src$3p_frame$$($JSCompiler_inline_result$jscomp$67_JSCompiler_parentWindow$jscomp$inline_189$$);$$jscomp$super$this_element$jscomp$112$$.sentinel=
$JSCompiler_inline_result$jscomp$67_JSCompiler_parentWindow$jscomp$inline_189$$;$$jscomp$super$this_element$jscomp$112$$.$isCollapsed_$=!1;$$jscomp$super$this_element$jscomp$112$$.iframe=null;$$jscomp$super$this_element$jscomp$112$$.fromResumeCallback=!1;$$jscomp$super$this_element$jscomp$112$$.safeframeVersion="1-0-23";$$jscomp$super$this_element$jscomp$112$$.isRefreshing=!1;$$jscomp$super$this_element$jscomp$112$$.isRelayoutNeededFlag=!1;$$jscomp$super$this_element$jscomp$112$$.postAdResponseExperimentFeatures=
{};$$jscomp$super$this_element$jscomp$112$$.$a4aAnalyticsConfig_$=null;$$jscomp$super$this_element$jscomp$112$$.$a4aAnalyticsElement_$=null;$$jscomp$super$this_element$jscomp$112$$.isSinglePageStoryAd=!1;return $$jscomp$super$this_element$jscomp$112$$}$$jscomp$inherits$$($AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$,AMP.BaseElement);$JSCompiler_prototypeAlias$$=$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype;
$JSCompiler_prototypeAlias$$.getLayoutPriority=function(){var $isPWA$$=!this.element.getAmpDoc().isSingleDoc();return $isPWA$$?1:2};$JSCompiler_prototypeAlias$$.isLayoutSupported=function($layout$jscomp$4$$){return"fixed"==$layout$jscomp$4$$||"fixed-height"==$layout$jscomp$4$$||"responsive"==$layout$jscomp$4$$||"fill"==$layout$jscomp$4$$||"flex-item"==$layout$jscomp$4$$||"fluid"==$layout$jscomp$4$$||"intrinsic"==$layout$jscomp$4$$};$JSCompiler_prototypeAlias$$.isRelayoutNeeded=function(){return this.isRelayoutNeededFlag};
$JSCompiler_prototypeAlias$$.buildCallback=function(){var $$jscomp$this$jscomp$18$$=this;this.$creativeSize_$={width:this.element.getAttribute("width"),height:this.element.getAttribute("height")};var $upgradeDelayMs$$=Math.round(this.getResource().getUpgradeDelayMs());$dev$$module$src$log$$().info("amp-a4a","upgradeDelay "+this.element.getAttribute("type")+": "+$upgradeDelayMs$$);this.uiHandler=new AMP.AmpAdUIHandler(this);var $verifier$$=$signatureVerifierFor$$module$extensions$amp_a4a$0_1$amp_a4a$$(this.win);
this.$keysetPromise_$=$getServiceForDoc$$module$src$service$$(this.getAmpDoc(),"viewer").whenFirstVisible().then(function(){$$jscomp$this$jscomp$18$$.getSigningServiceNames().forEach(function($$jscomp$this$jscomp$18$$){$verifier$$.loadKeyset($$jscomp$this$jscomp$18$$)})});if(this.$a4aAnalyticsConfig_$=this.getA4aAnalyticsConfig())this.$a4aAnalyticsElement_$=$insertAnalyticsElement$$module$src$extension_analytics$$(this.element,this.$a4aAnalyticsConfig_$);this.isSinglePageStoryAd=this.element.hasAttribute("amp-story")};
$JSCompiler_prototypeAlias$$.renderOutsideViewport=function(){if(!this.$isVerifiedAmpCreative_$&&this.win["3pla"]&&!this.inNonAmpPreferenceExp())return!1;var $JSCompiler_rawValue$jscomp$inline_194_JSCompiler_viewportNumber$jscomp$inline_196$$=this.element.getAttribute("data-loading-strategy");if(null==$JSCompiler_rawValue$jscomp$inline_194_JSCompiler_viewportNumber$jscomp$inline_196$$)var $JSCompiler_errorMessage$jscomp$inline_195_JSCompiler_inline_result$jscomp$69$$=null;else"prefer-viewability-over-views"==
$JSCompiler_rawValue$jscomp$inline_194_JSCompiler_viewportNumber$jscomp$inline_196$$||""==$JSCompiler_rawValue$jscomp$inline_194_JSCompiler_viewportNumber$jscomp$inline_196$$?$JSCompiler_errorMessage$jscomp$inline_195_JSCompiler_inline_result$jscomp$69$$=1.25:($JSCompiler_errorMessage$jscomp$inline_195_JSCompiler_inline_result$jscomp$69$$="Value of data-loading-strategy should be a float number in range of [0, 3], but got "+$JSCompiler_rawValue$jscomp$inline_194_JSCompiler_viewportNumber$jscomp$inline_196$$,
$JSCompiler_rawValue$jscomp$inline_194_JSCompiler_viewportNumber$jscomp$inline_196$$=$user$$module$src$log$$().assertNumber(parseFloat($JSCompiler_rawValue$jscomp$inline_194_JSCompiler_viewportNumber$jscomp$inline_196$$),$JSCompiler_errorMessage$jscomp$inline_195_JSCompiler_inline_result$jscomp$69$$),$userAssert$$module$src$log$$(0<=$JSCompiler_rawValue$jscomp$inline_194_JSCompiler_viewportNumber$jscomp$inline_196$$&&3>=$JSCompiler_rawValue$jscomp$inline_194_JSCompiler_viewportNumber$jscomp$inline_196$$,
$JSCompiler_errorMessage$jscomp$inline_195_JSCompiler_inline_result$jscomp$69$$),$JSCompiler_errorMessage$jscomp$inline_195_JSCompiler_inline_result$jscomp$69$$=$JSCompiler_rawValue$jscomp$inline_194_JSCompiler_viewportNumber$jscomp$inline_196$$);var $elementCheck$$=$JSCompiler_errorMessage$jscomp$inline_195_JSCompiler_inline_result$jscomp$69$$;return null!==$elementCheck$$?$elementCheck$$:AMP.BaseElement.prototype.renderOutsideViewport.call(this)};$JSCompiler_prototypeAlias$$.isValidElement=function(){return!0};
$JSCompiler_prototypeAlias$$.getCreativeSize=function(){return this.$creativeSize_$};$JSCompiler_prototypeAlias$$.delayAdRequestEnabled=function(){return!1};$JSCompiler_prototypeAlias$$.getPreconnectUrls=function(){return[]};$JSCompiler_prototypeAlias$$.getPrefetchUrls=function(){return[]};$JSCompiler_prototypeAlias$$.isAmpAdElement=function(){return"AMP-AD"==this.element.tagName||"AMP-EMBED"==this.element.tagName};
$JSCompiler_prototypeAlias$$.preconnectCallback=function(){var $$jscomp$this$jscomp$19$$=this,$preconnect$jscomp$1$$=this.getPreconnectUrls();$preconnect$jscomp$1$$&&$preconnect$jscomp$1$$.forEach(function($preconnect$jscomp$1$$){$$jscomp$this$jscomp$19$$.preconnect.url($preconnect$jscomp$1$$,!0)})};
$JSCompiler_prototypeAlias$$.resumeCallback=function(){if(!this.$friendlyIframeEmbed_$){this.fromResumeCallback=!0;var $resource$jscomp$1$$=this.getResource();if($resource$jscomp$1$$.hasBeenMeasured()&&!$resource$jscomp$1$$.isMeasureRequested())this.onLayoutMeasure()}};$JSCompiler_prototypeAlias$$.getResource=function(){return this.element.getResources().getResourceForElement(this.element)};$JSCompiler_prototypeAlias$$.hasAdPromise=function(){return!!this.$adPromise_$};
$JSCompiler_prototypeAlias$$.inNonAmpPreferenceExp=function(){return!!this.postAdResponseExperimentFeatures.pref_neutral_enabled&&["adsense","doubleclick"].includes(this.element.getAttribute("type"))};
function $JSCompiler_StaticMethods_shouldInitializePromiseChain_$$($JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$){var $JSCompiler_win$jscomp$inline_199_slotRect$jscomp$1$$=$JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$.getIntersectionElementLayoutBox();if("fluid"!=$JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$.getLayout()&&(0==$JSCompiler_win$jscomp$inline_199_slotRect$jscomp$1$$.height||0==$JSCompiler_win$jscomp$inline_199_slotRect$jscomp$1$$.width))return!1;
$JSCompiler_win$jscomp$inline_199_slotRect$jscomp$1$$=$JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$.win;var $JSCompiler_hasFixedAncestor$jscomp$inline_200$$=!1,$JSCompiler_containers$jscomp$inline_201$$=0,$JSCompiler_el$jscomp$inline_202$$=$JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$.element;do{if($CONTAINERS$$module$src$ad_helper$$[$JSCompiler_el$jscomp$inline_202$$.tagName])$JSCompiler_containers$jscomp$inline_201$$++,$JSCompiler_hasFixedAncestor$jscomp$inline_200$$=
!1;else{var $JSCompiler_position$jscomp$inline_271$$=($JSCompiler_win$jscomp$inline_199_slotRect$jscomp$1$$.getComputedStyle($JSCompiler_el$jscomp$inline_202$$)||$map$$module$src$utils$object$$()).position;"fixed"!=$JSCompiler_position$jscomp$inline_271$$&&"sticky"!=$JSCompiler_position$jscomp$inline_271$$||($JSCompiler_hasFixedAncestor$jscomp$inline_200$$=!0)}$JSCompiler_el$jscomp$inline_202$$=$JSCompiler_el$jscomp$inline_202$$.parentElement}while($JSCompiler_el$jscomp$inline_202$$&&"BODY"!=$JSCompiler_el$jscomp$inline_202$$.tagName);
return!$JSCompiler_hasFixedAncestor$jscomp$inline_200$$&&1>=$JSCompiler_containers$jscomp$inline_201$$?$JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$.isValidElement()?!0:($user$$module$src$log$$().warn("amp-a4a",$JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$.element.getAttribute("type"),"Amp ad element ignored as invalid",$JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$.element),!1):($user$$module$src$log$$().warn("amp-a4a","<"+$JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$.element.tagName+
"> is not allowed to be "+("placed in elements with position:fixed: "+$JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$.element)),!1)}$JSCompiler_prototypeAlias$$.onLayoutMeasure=function(){this.initiateAdRequest()};
$JSCompiler_prototypeAlias$$.initiateAdRequest=function(){var $$jscomp$this$jscomp$20$$=this;if(this.$xOriginIframeHandler_$)this.$xOriginIframeHandler_$.onLayoutMeasure();if(!this.$adPromise_$&&$JSCompiler_StaticMethods_shouldInitializePromiseChain_$$(this)){++this.$promiseId_$;var $checkStillCurrent$$=this.verifyStillCurrent();this.$adPromise_$=$getServiceForDoc$$module$src$service$$(this.getAmpDoc(),"viewer").whenFirstVisible().then(function(){$checkStillCurrent$$();var $delay$$=$$jscomp$this$jscomp$20$$.delayAdRequestEnabled();
if($delay$$)return $$jscomp$this$jscomp$20$$.getResource().whenWithinViewport("number"==typeof $delay$$?$delay$$:$$jscomp$this$jscomp$20$$.renderOutsideViewport())}).then(function(){$checkStillCurrent$$();var $consentPolicyId$jscomp$1$$=AMP.BaseElement.prototype.getConsentPolicy.call($$jscomp$this$jscomp$20$$);return $consentPolicyId$jscomp$1$$?$getConsentPolicyState$$module$src$consent$$($$jscomp$this$jscomp$20$$.element,$consentPolicyId$jscomp$1$$).catch(function($$jscomp$this$jscomp$20$$){$user$$module$src$log$$().error("amp-a4a",
"Error determining consent state",$$jscomp$this$jscomp$20$$);return 4}):Promise.resolve(null)}).then(function($consentState$jscomp$1$$){$checkStillCurrent$$();return $$jscomp$this$jscomp$20$$.getAdUrl($consentState$jscomp$1$$,$JSCompiler_StaticMethods_tryExecuteRealTimeConfig_$$($$jscomp$this$jscomp$20$$,$consentState$jscomp$1$$))}).then(function($adUrl$jscomp$1$$){$checkStillCurrent$$();$$jscomp$this$jscomp$20$$.$adUrl_$=$adUrl$jscomp$1$$;return!$$jscomp$this$jscomp$20$$.isXhrAllowed()&&$$jscomp$this$jscomp$20$$.$adUrl_$?
($$jscomp$this$jscomp$20$$.$experimentalNonAmpCreativeRenderMethod_$="iframe_get",Promise.reject("IFRAME-GET")):$adUrl$jscomp$1$$&&$$jscomp$this$jscomp$20$$.sendXhrRequest($adUrl$jscomp$1$$)}).then(function($fetchResponse$$){$checkStillCurrent$$();$JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$$($$jscomp$this$jscomp$20$$,"adRequestEnd");if(!$fetchResponse$$||!$fetchResponse$$.arrayBuffer||$fetchResponse$$.headers.has("amp-ff-empty-creative"))return $$jscomp$this$jscomp$20$$.forceCollapse(),
Promise.reject("NO-CONTENT-RESPONSE");$fetchResponse$$.headers&&$fetchResponse$$.headers.has("amp-ff-exps")&&$JSCompiler_StaticMethods_populatePostAdResponseExperimentFeatures_$$($$jscomp$this$jscomp$20$$,$fetchResponse$$.headers.get("amp-ff-exps"));if($getMode$$module$src$mode$$().localDev&&$$jscomp$this$jscomp$20$$.win.location&&$$jscomp$this$jscomp$20$$.win.location.search){var $match$jscomp$7_method$jscomp$2$$=/(?:\?|&)a4a_feat_exp=([^&]+)/.exec($$jscomp$this$jscomp$20$$.win.location.search);
$match$jscomp$7_method$jscomp$2$$&&$match$jscomp$7_method$jscomp$2$$[1]&&($dev$$module$src$log$$().info("amp-a4a","Using debug exp features: "+$match$jscomp$7_method$jscomp$2$$[1]),$JSCompiler_StaticMethods_populatePostAdResponseExperimentFeatures_$$($$jscomp$this$jscomp$20$$,$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$jscomp$7_method$jscomp$2$$[1],void 0)))}$match$jscomp$7_method$jscomp$2$$=$$jscomp$this$jscomp$20$$.getNonAmpCreativeRenderingMethod($fetchResponse$$.headers.get("X-AmpAdRender"));
$$jscomp$this$jscomp$20$$.$experimentalNonAmpCreativeRenderMethod_$=$match$jscomp$7_method$jscomp$2$$;"nameframe"==$$jscomp$this$jscomp$20$$.$experimentalNonAmpCreativeRenderMethod_$&&$$jscomp$this$jscomp$20$$.preconnect.preload($getDefaultBootstrapBaseUrl$$module$src$3p_frame$$($$jscomp$this$jscomp$20$$.win));var $safeframeVersionHeader$$=$fetchResponse$$.headers.get("X-AmpSafeFrameVersion");/^[0-9-]+$/.test($safeframeVersionHeader$$)&&"1-0-23"!=$safeframeVersionHeader$$&&($$jscomp$this$jscomp$20$$.safeframeVersion=
$safeframeVersionHeader$$,$$jscomp$this$jscomp$20$$.preconnect.preload($$jscomp$this$jscomp$20$$.getSafeframePath()));return $fetchResponse$$.arrayBuffer().then(function($checkStillCurrent$$){return 0==$checkStillCurrent$$.byteLength?($$jscomp$this$jscomp$20$$.forceCollapse(),Promise.reject("NO-CONTENT-RESPONSE")):{bytes:$checkStillCurrent$$,headers:$fetchResponse$$.headers}})}).then(function($responseParts$$){$checkStillCurrent$$();if(!$responseParts$$)return Promise.resolve();var $$jscomp$destructuring$var42_headers$jscomp$2$$=
$responseParts$$,$bytes$jscomp$9$$=$$jscomp$destructuring$var42_headers$jscomp$2$$.bytes;$$jscomp$destructuring$var42_headers$jscomp$2$$=$$jscomp$destructuring$var42_headers$jscomp$2$$.headers;var $size$jscomp$15$$=$$jscomp$this$jscomp$20$$.extractSize($responseParts$$.headers);$$jscomp$this$jscomp$20$$.$creativeSize_$=$size$jscomp$15$$||$$jscomp$this$jscomp$20$$.$creativeSize_$;"client_cache"!=$$jscomp$this$jscomp$20$$.$experimentalNonAmpCreativeRenderMethod_$&&$bytes$jscomp$9$$&&($$jscomp$this$jscomp$20$$.$creativeBody_$=
$bytes$jscomp$9$$);return $$jscomp$this$jscomp$20$$.maybeValidateAmpCreative($bytes$jscomp$9$$,$$jscomp$destructuring$var42_headers$jscomp$2$$)}).then(function($creative$jscomp$2$$){$checkStillCurrent$$();$$jscomp$this$jscomp$20$$.$isVerifiedAmpCreative_$=!!$creative$jscomp$2$$;return $creative$jscomp$2$$&&$utf8Decode$$module$src$utils$bytes$$($creative$jscomp$2$$)}).then(function($creativeDecoded$$){$checkStillCurrent$$();var $creativeMetaDataDef$$;if(!$creativeDecoded$$||!($creativeMetaDataDef$$=
$$jscomp$this$jscomp$20$$.getAmpAdMetadata($creativeDecoded$$)))return $$jscomp$this$jscomp$20$$.inNonAmpPreferenceExp()&&$$jscomp$this$jscomp$20$$.updateLayoutPriority(0),null;$$jscomp$this$jscomp$20$$.updateLayoutPriority(0);var $extensions$jscomp$3$$=$getService$$module$src$service$$($$jscomp$this$jscomp$20$$.win,"extensions");$creativeMetaDataDef$$.customElementExtensions.forEach(function($$jscomp$this$jscomp$20$$){return $extensions$jscomp$3$$.preloadExtension($$jscomp$this$jscomp$20$$)});($creativeMetaDataDef$$.customStylesheets||
[]).forEach(function($checkStillCurrent$$){return $$jscomp$this$jscomp$20$$.preconnect.preload($checkStillCurrent$$.href)});var $urls$jscomp$1$$=$getExistingServiceForDocInEmbedScope$$module$src$service$$($$jscomp$this$jscomp$20$$.element,"url");($creativeMetaDataDef$$.images||[]).forEach(function($checkStillCurrent$$){return $urls$jscomp$1$$.isSecure($checkStillCurrent$$)&&$$jscomp$this$jscomp$20$$.preconnect.preload($checkStillCurrent$$)});return $creativeMetaDataDef$$}).catch(function($checkStillCurrent$$){switch($checkStillCurrent$$.message||
$checkStillCurrent$$){case "IFRAME-GET":case "NETWORK-FAILURE":return null;case "INVALID-SPSA-RESPONSE":case "NO-CONTENT-RESPONSE":return{minifiedCreative:"",customElementExtensions:[],customStylesheets:[]}}$JSCompiler_StaticMethods_promiseErrorHandler_$$($$jscomp$this$jscomp$20$$,$checkStillCurrent$$);return null})}};
$JSCompiler_prototypeAlias$$.maybeValidateAmpCreative=function($bytes$jscomp$10$$,$headers$jscomp$3$$){var $$jscomp$this$jscomp$21$$=this,$checkStillCurrent$jscomp$1$$=this.verifyStillCurrent();return this.$keysetPromise_$.then(function(){return"fake"!=$$jscomp$this$jscomp$21$$.element.getAttribute("type")||$$jscomp$this$jscomp$21$$.element.getAttribute("checksig")?$signatureVerifierFor$$module$extensions$amp_a4a$0_1$amp_a4a$$($$jscomp$this$jscomp$21$$.win).verify($bytes$jscomp$10$$,$headers$jscomp$3$$):
Promise.resolve(0)}).then(function($headers$jscomp$3$$){$checkStillCurrent$jscomp$1$$();var $status$$=null;switch($headers$jscomp$3$$){case 0:$status$$=$bytes$jscomp$10$$;break;case 4:$status$$=$$jscomp$this$jscomp$21$$.shouldPreferentialRenderWithoutCrypto()?$bytes$jscomp$10$$:null;break;case 2:case 3:$user$$module$src$log$$().error("amp-a4a",$$jscomp$this$jscomp$21$$.element.getAttribute("type"),"Signature verification failed")}if($$jscomp$this$jscomp$21$$.isSinglePageStoryAd&&!$status$$)throw Error("INVALID-SPSA-RESPONSE");
return $status$$})};
function $JSCompiler_StaticMethods_populatePostAdResponseExperimentFeatures_$$($JSCompiler_StaticMethods_populatePostAdResponseExperimentFeatures_$self$$,$input$jscomp$9$$){$input$jscomp$9$$.split(",").forEach(function($input$jscomp$9$$){if($input$jscomp$9$$){var $line$jscomp$2$$=$input$jscomp$9$$.split("=");2==$line$jscomp$2$$.length&&$line$jscomp$2$$[0]?$JSCompiler_StaticMethods_populatePostAdResponseExperimentFeatures_$self$$.postAdResponseExperimentFeatures[$line$jscomp$2$$[0]]=$line$jscomp$2$$[1]:
$dev$$module$src$log$$().warn("amp-a4a","invalid experiment feature "+$input$jscomp$9$$)}})}
$JSCompiler_prototypeAlias$$.refresh=function($refreshEndCallback$$){var $$jscomp$this$jscomp$23$$=this;this.isRefreshing=!0;this.tearDownSlot();this.initiateAdRequest();if(!this.$adPromise_$)return Promise.resolve();var $promiseId$$=this.$promiseId_$;return this.$adPromise_$.then(function(){if($$jscomp$this$jscomp$23$$.isRefreshing&&$promiseId$$==$$jscomp$this$jscomp$23$$.$promiseId_$)return $$jscomp$this$jscomp$23$$.mutateElement(function(){$triggerAnalyticsEvent$$module$src$analytics$$($$jscomp$this$jscomp$23$$.element,"ad-refresh");
$$jscomp$this$jscomp$23$$.togglePlaceholder(!0);return $getService$$module$src$service$$($$jscomp$this$jscomp$23$$.win,"timer").promise(1E3).then(function(){$$jscomp$this$jscomp$23$$.isRelayoutNeededFlag=!0;$$jscomp$this$jscomp$23$$.getResource().layoutCanceled();$getServiceForDoc$$module$src$service$$($$jscomp$this$jscomp$23$$.getAmpDoc(),"viewer").whenNextVisible().then(function(){$Services$$module$src$services$resourcesForDoc$$($$jscomp$this$jscomp$23$$.getAmpDoc()).requireLayout($$jscomp$this$jscomp$23$$.element)})})});
$refreshEndCallback$$()})};
function $JSCompiler_StaticMethods_promiseErrorHandler_$$($JSCompiler_StaticMethods_promiseErrorHandler_$self_JSCompiler_adUrl$jscomp$inline_207$$,$error$jscomp$26$$){var $opt_ignoreStack$$,$JSCompiler_adQueryIdx$jscomp$inline_208_JSCompiler_errorOrMessage$jscomp$inline_204_type$jscomp$139$$=$error$jscomp$26$$;if($JSCompiler_adQueryIdx$jscomp$inline_208_JSCompiler_errorOrMessage$jscomp$inline_204_type$jscomp$139$$&&("string"==typeof $JSCompiler_adQueryIdx$jscomp$inline_208_JSCompiler_errorOrMessage$jscomp$inline_204_type$jscomp$139$$?$startsWith$$module$src$string$$($JSCompiler_adQueryIdx$jscomp$inline_208_JSCompiler_errorOrMessage$jscomp$inline_204_type$jscomp$139$$,
"CANCELLED"):"string"==typeof $JSCompiler_adQueryIdx$jscomp$inline_208_JSCompiler_errorOrMessage$jscomp$inline_204_type$jscomp$139$$.message&&$startsWith$$module$src$string$$($JSCompiler_adQueryIdx$jscomp$inline_208_JSCompiler_errorOrMessage$jscomp$inline_204_type$jscomp$139$$.message,"CANCELLED")))throw $error$jscomp$26$$;$error$jscomp$26$$=$error$jscomp$26$$&&$error$jscomp$26$$.message?$duplicateErrorIfNecessary$$module$src$log$$($error$jscomp$26$$):Error("unknown error "+$error$jscomp$26$$);$opt_ignoreStack$$&&
($error$jscomp$26$$.ignoreStack=$opt_ignoreStack$$);$JSCompiler_adQueryIdx$jscomp$inline_208_JSCompiler_errorOrMessage$jscomp$inline_204_type$jscomp$139$$=$JSCompiler_StaticMethods_promiseErrorHandler_$self_JSCompiler_adUrl$jscomp$inline_207$$.element.getAttribute("type")||"notype";0!=$error$jscomp$26$$.message.indexOf("amp-a4a: "+$JSCompiler_adQueryIdx$jscomp$inline_208_JSCompiler_errorOrMessage$jscomp$inline_204_type$jscomp$139$$+":")&&($error$jscomp$26$$.message="amp-a4a: "+$JSCompiler_adQueryIdx$jscomp$inline_208_JSCompiler_errorOrMessage$jscomp$inline_204_type$jscomp$139$$+
": "+$error$jscomp$26$$.message);$JSCompiler_StaticMethods_promiseErrorHandler_$self_JSCompiler_adUrl$jscomp$inline_207$$=$JSCompiler_StaticMethods_promiseErrorHandler_$self_JSCompiler_adUrl$jscomp$inline_207$$.$adUrl_$;!$JSCompiler_StaticMethods_promiseErrorHandler_$self_JSCompiler_adUrl$jscomp$inline_207$$||$error$jscomp$26$$.args&&$error$jscomp$26$$.args.au||($JSCompiler_adQueryIdx$jscomp$inline_208_JSCompiler_errorOrMessage$jscomp$inline_204_type$jscomp$139$$=$JSCompiler_StaticMethods_promiseErrorHandler_$self_JSCompiler_adUrl$jscomp$inline_207$$.indexOf("?"),
-1!=$JSCompiler_adQueryIdx$jscomp$inline_208_JSCompiler_errorOrMessage$jscomp$inline_204_type$jscomp$139$$&&(($error$jscomp$26$$.args||($error$jscomp$26$$.args={})).au=$JSCompiler_StaticMethods_promiseErrorHandler_$self_JSCompiler_adUrl$jscomp$inline_207$$.substring($JSCompiler_adQueryIdx$jscomp$inline_208_JSCompiler_errorOrMessage$jscomp$inline_204_type$jscomp$139$$+1,$JSCompiler_adQueryIdx$jscomp$inline_208_JSCompiler_errorOrMessage$jscomp$inline_204_type$jscomp$139$$+251)));$getMode$$module$src$mode$$().development||
$getMode$$module$src$mode$$().localDev||$getMode$$module$src$mode$$().log?$user$$module$src$log$$().error("amp-a4a",$error$jscomp$26$$):($user$$module$src$log$$().warn("amp-a4a",$error$jscomp$26$$),.01>Math.random()&&$dev$$module$src$log$$().expectedError("amp-a4a",$error$jscomp$26$$))}$JSCompiler_prototypeAlias$$.layoutCallback=function(){this.isRefreshing&&this.destroyFrame(!0);return this.attemptToRenderCreative()};
$JSCompiler_prototypeAlias$$.attemptToRenderCreative=function(){var $$jscomp$this$jscomp$24$$=this;if(!this.$adPromise_$)return $JSCompiler_StaticMethods_shouldInitializePromiseChain_$$(this)&&$dev$$module$src$log$$().error("amp-a4a","Null promise in layoutCallback"),Promise.resolve();var $checkStillCurrent$jscomp$2$$=this.verifyStillCurrent();return this.$adPromise_$.then(function($creativeMetaData$$){$checkStillCurrent$jscomp$2$$();return $$jscomp$this$jscomp$24$$.$isCollapsed_$||$$jscomp$this$jscomp$24$$.iframe&&
!$$jscomp$this$jscomp$24$$.isRefreshing?Promise.resolve():$creativeMetaData$$?$JSCompiler_StaticMethods_renderAmpCreative_$$($$jscomp$this$jscomp$24$$,$creativeMetaData$$).catch(function($creativeMetaData$$){$checkStillCurrent$jscomp$2$$();$user$$module$src$log$$().warn("amp-a4a",$$jscomp$this$jscomp$24$$.element.getAttribute("type"),"Error injecting creative in friendly frame",$creativeMetaData$$);return $$jscomp$this$jscomp$24$$.renderNonAmpCreative()}):$$jscomp$this$jscomp$24$$.renderNonAmpCreative()}).catch(function($checkStillCurrent$jscomp$2$$){$JSCompiler_StaticMethods_promiseErrorHandler_$$($$jscomp$this$jscomp$24$$,
$checkStillCurrent$jscomp$2$$);throw Error("CANCELLED");})};$JSCompiler_prototypeAlias$$.isXhrAllowed=function(){return!0};$JSCompiler_prototypeAlias$$.attemptChangeSize=function($newHeight$$,$newWidth$$){this.$originalSlotSize_$=this.$originalSlotSize_$||this.getLayoutBox();return AMP.BaseElement.prototype.attemptChangeSize.call(this,$newHeight$$,$newWidth$$)};$JSCompiler_prototypeAlias$$.unlayoutCallback=function(){this.tearDownSlot();return!0};
$JSCompiler_prototypeAlias$$.tearDownSlot=function(){var $$jscomp$this$jscomp$25$$=this;this.$promiseId_$++;this.uiHandler.applyUnlayoutUI();this.$originalSlotSize_$&&AMP.BaseElement.prototype.attemptChangeSize.call(this,this.$originalSlotSize_$.height,this.$originalSlotSize_$.width).then(function(){$$jscomp$this$jscomp$25$$.$originalSlotSize_$=null}).catch(function($$jscomp$this$jscomp$25$$){$dev$$module$src$log$$().warn("amp-a4a","unable to revert to original size",$$jscomp$this$jscomp$25$$)});
this.$isCollapsed_$=!1;this.destroyFrame();this.$creativeBody_$=this.$adUrl_$=this.$adPromise_$=null;this.fromResumeCallback=this.$isVerifiedAmpCreative_$=!1;this.$experimentalNonAmpCreativeRenderMethod_$=this.getNonAmpCreativeRenderingMethod();this.postAdResponseExperimentFeatures={}};$JSCompiler_prototypeAlias$$.detachedCallback=function(){AMP.BaseElement.prototype.detachedCallback.call(this);this.destroyFrame(!0)};
$JSCompiler_prototypeAlias$$.destroyFrame=function($force$jscomp$1$$){if((void 0===$force$jscomp$1$$?0:$force$jscomp$1$$)||!this.isRefreshing)this.$friendlyIframeEmbed_$&&(this.$friendlyIframeEmbed_$.destroy(),this.$friendlyIframeEmbed_$=null),this.iframe&&this.iframe.parentElement&&(this.iframe.parentElement.removeChild(this.iframe),this.iframe=null),this.$xOriginIframeHandler_$&&(this.$xOriginIframeHandler_$.freeXOriginIframe(),this.$xOriginIframeHandler_$=null)};
$JSCompiler_prototypeAlias$$.viewportCallback=function($inViewport$$){this.$friendlyIframeEmbed_$&&$JSCompiler_StaticMethods_setVisible_$$(this.$friendlyIframeEmbed_$,$inViewport$$);this.$xOriginIframeHandler_$&&this.$xOriginIframeHandler_$.viewportCallback($inViewport$$)};$JSCompiler_prototypeAlias$$.createPlaceholderCallback=function(){return this.uiHandler.createPlaceholder()};$JSCompiler_prototypeAlias$$.getAdUrl=function(){throw Error("getAdUrl not implemented!");};
$JSCompiler_prototypeAlias$$.resetAdUrl=function(){this.$adUrl_$=null};$JSCompiler_prototypeAlias$$.verifyStillCurrent=function(){var $$jscomp$this$jscomp$26$$=this,$promiseId$jscomp$1$$=this.$promiseId_$;return function(){if($promiseId$jscomp$1$$!=$$jscomp$this$jscomp$26$$.$promiseId_$)throw Error("CANCELLED");}};
$JSCompiler_prototypeAlias$$.extractSize=function($headerValue$jscomp$1_responseHeaders$jscomp$1$$){$headerValue$jscomp$1_responseHeaders$jscomp$1$$=$headerValue$jscomp$1_responseHeaders$jscomp$1$$.get("X-CreativeSize");if(!$headerValue$jscomp$1_responseHeaders$jscomp$1$$)return null;var $match$jscomp$8$$=/^([0-9]+)x([0-9]+)$/.exec($headerValue$jscomp$1_responseHeaders$jscomp$1$$);return $match$jscomp$8$$?{width:Number($match$jscomp$8$$[1]),height:Number($match$jscomp$8$$[2])}:($user$$module$src$log$$().error("amp-a4a",
"Invalid size header: "+$headerValue$jscomp$1_responseHeaders$jscomp$1$$),null)};$JSCompiler_prototypeAlias$$.forceCollapse=function(){this.isRefreshing?this.isRefreshing=!1:(this.$originalSlotSize_$=this.$originalSlotSize_$||this.getLayoutBox(),this.uiHandler.applyNoContentUI(),this.$isCollapsed_$=!0)};$JSCompiler_prototypeAlias$$.onCreativeRender=function($creativeMetaData$jscomp$1$$){$JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$$(this,$creativeMetaData$jscomp$1$$?"renderFriendlyEnd":"renderCrossDomainEnd")};
$JSCompiler_prototypeAlias$$.onCrossDomainIframeCreated=function($iframe$jscomp$6$$){$dev$$module$src$log$$().info("amp-a4a",this.element.getAttribute("type"),"onCrossDomainIframeCreated "+$iframe$jscomp$6$$)};$JSCompiler_prototypeAlias$$.sandboxHTMLCreativeFrame=function(){return $isExperimentOn$$module$src$experiments$$(this.win,"sandbox-ads")};
$JSCompiler_prototypeAlias$$.sendXhrRequest=function($adUrl$jscomp$2$$){var $$jscomp$this$jscomp$27$$=this;$JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$$(this,"adRequestStart");var $xhrInit$$={mode:"cors",method:"GET",credentials:"include"};return $getService$$module$src$service$$(this.win,"xhr").fetch($adUrl$jscomp$2$$,$xhrInit$$).catch(function($adUrl$jscomp$2$$){if($adUrl$jscomp$2$$.response&&200<$adUrl$jscomp$2$$.response.status)return null;var $xhrInit$$=$$jscomp$this$jscomp$27$$.onNetworkFailure($adUrl$jscomp$2$$,
$$jscomp$this$jscomp$27$$.$adUrl_$);if($xhrInit$$.frameGetDisabled)$dev$$module$src$log$$().info("amp-a4a","frame get disabled as part of network failure handler"),$$jscomp$this$jscomp$27$$.resetAdUrl();else return $$jscomp$this$jscomp$27$$.$adUrl_$=$xhrInit$$.adUrl||$$jscomp$this$jscomp$27$$.$adUrl_$,Promise.reject("NETWORK-FAILURE");return null})};$JSCompiler_prototypeAlias$$.onNetworkFailure=function(){return{}};
$JSCompiler_prototypeAlias$$.getSigningServiceNames=function(){return $getMode$$module$src$mode$$().localDev?["google","google-dev"]:["google"]};
$JSCompiler_prototypeAlias$$.renderNonAmpCreative=function($throttleApplied$$){var $$jscomp$this$jscomp$28$$=this;if("true"==this.element.getAttribute("disable3pfallback"))return $user$$module$src$log$$().warn("amp-a4a",this.element.getAttribute("type"),"fallback to 3p disabled"),Promise.resolve(!1);$dev$$module$src$log$$().warn("amp-a4a","fallback to 3p");var $method$jscomp$3$$=this.$experimentalNonAmpCreativeRenderMethod_$,$renderPromise$$=Promise.resolve(!1);"safeframe"!=$method$jscomp$3$$&&"nameframe"!=
$method$jscomp$3$$||!this.$creativeBody_$?this.$adUrl_$?($assertHttpsUrl$$module$src$url$$(this.$adUrl_$,this.element),$renderPromise$$=$JSCompiler_StaticMethods_renderViaIframeGet_$$(this,this.$adUrl_$)):$user$$module$src$log$$().warn("amp-a4a",this.element.getAttribute("type"),"No creative or URL available -- A4A can't render any ad"):($renderPromise$$=$JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$$(this,this.$creativeBody_$),this.$creativeBody_$=null);$throttleApplied$$||this.inNonAmpPreferenceExp()||
$incrementLoadingAds$$module$extensions$amp_ad$0_1$concurrent_load$$(this.win,$renderPromise$$);return $renderPromise$$.then(function($throttleApplied$$){$JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$$($$jscomp$this$jscomp$28$$,"crossDomainIframeLoaded");return $throttleApplied$$})};
function $JSCompiler_StaticMethods_renderAmpCreative_$$($JSCompiler_StaticMethods_renderAmpCreative_$self$$,$creativeMetaData$jscomp$2$$){$JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$$($JSCompiler_StaticMethods_renderAmpCreative_$self$$,"renderFriendlyStart");$JSCompiler_StaticMethods_renderAmpCreative_$self$$.iframe=$createElementWithAttributes$$module$src$dom$$($JSCompiler_StaticMethods_renderAmpCreative_$self$$.element.ownerDocument,"iframe",$dict$$module$src$utils$object$$({height:$JSCompiler_StaticMethods_renderAmpCreative_$self$$.$creativeSize_$.height,
width:$JSCompiler_StaticMethods_renderAmpCreative_$self$$.$creativeSize_$.width,frameborder:"0",allowfullscreen:"",allowtransparency:"",scrolling:"no"}));$JSCompiler_StaticMethods_renderAmpCreative_$self$$.applyFillContent($JSCompiler_StaticMethods_renderAmpCreative_$self$$.iframe);var $fontsArray$$=[];$creativeMetaData$jscomp$2$$.customStylesheets&&$creativeMetaData$jscomp$2$$.customStylesheets.forEach(function($JSCompiler_StaticMethods_renderAmpCreative_$self$$){($JSCompiler_StaticMethods_renderAmpCreative_$self$$=
$JSCompiler_StaticMethods_renderAmpCreative_$self$$.href)&&$fontsArray$$.push($JSCompiler_StaticMethods_renderAmpCreative_$self$$)});var $checkStillCurrent$jscomp$3$$=$JSCompiler_StaticMethods_renderAmpCreative_$self$$.verifyStillCurrent();return $installFriendlyIframeEmbed$$module$src$friendly_iframe_embed$$($JSCompiler_StaticMethods_renderAmpCreative_$self$$.iframe,$JSCompiler_StaticMethods_renderAmpCreative_$self$$.element,{host:$JSCompiler_StaticMethods_renderAmpCreative_$self$$.element,url:$JSCompiler_StaticMethods_renderAmpCreative_$self$$.$adUrl_$,
html:$creativeMetaData$jscomp$2$$.minifiedCreative,extensionIds:$creativeMetaData$jscomp$2$$.customElementExtensions||[],fonts:$fontsArray$$},function($creativeMetaData$jscomp$2$$){var $fontsArray$$=$JSCompiler_StaticMethods_renderAmpCreative_$self$$.getAmpDoc(),$checkStillCurrent$jscomp$3$$=new $A4AVariableSource$$module$extensions$amp_a4a$0_1$a4a_variable_source$$($JSCompiler_StaticMethods_renderAmpCreative_$self$$.getAmpDoc(),$creativeMetaData$jscomp$2$$);$installServiceInEmbedScope$$module$src$service$$($creativeMetaData$jscomp$2$$,
new $UrlReplacements$$module$src$service$url_replacements_impl$$($fontsArray$$,$checkStillCurrent$jscomp$3$$))}).then(function($fontsArray$$){$checkStillCurrent$jscomp$3$$();$JSCompiler_StaticMethods_renderAmpCreative_$self$$.$friendlyIframeEmbed_$=$fontsArray$$;$setFriendlyIframeEmbedVisible$$module$src$friendly_iframe_embed$$($fontsArray$$,$JSCompiler_StaticMethods_renderAmpCreative_$self$$.isInViewport());var $friendlyIframeEmbed$$=$fontsArray$$.iframe.contentDocument||$fontsArray$$.win.document;
$setStyle$$module$src$style$$($friendlyIframeEmbed$$.body,"visibility","visible");$protectFunctionWrapper$$module$extensions$amp_a4a$0_1$amp_a4a$$($JSCompiler_StaticMethods_renderAmpCreative_$self$$.onCreativeRender,$JSCompiler_StaticMethods_renderAmpCreative_$self$$,function($creativeMetaData$jscomp$2$$){$dev$$module$src$log$$().error("amp-a4a",$JSCompiler_StaticMethods_renderAmpCreative_$self$$.element.getAttribute("type"),"Error executing onCreativeRender",$creativeMetaData$jscomp$2$$)})($creativeMetaData$jscomp$2$$,
$fontsArray$$.whenWindowLoaded());$fontsArray$$.whenIniLoaded().then(function(){$checkStillCurrent$jscomp$3$$();$JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$$($JSCompiler_StaticMethods_renderAmpCreative_$self$$,"friendlyIframeIniLoad")})})}
function $JSCompiler_StaticMethods_iframeRenderHelper_$$($JSCompiler_StaticMethods_iframeRenderHelper_$self$$,$attributes$jscomp$7$$){var $mergedAttributes$$=Object.assign($attributes$jscomp$7$$,$dict$$module$src$utils$object$$({height:$JSCompiler_StaticMethods_iframeRenderHelper_$self$$.$creativeSize_$.height,width:$JSCompiler_StaticMethods_iframeRenderHelper_$self$$.$creativeSize_$.width}));$JSCompiler_StaticMethods_iframeRenderHelper_$self$$.sentinel&&($mergedAttributes$$["data-amp-3p-sentinel"]=
$JSCompiler_StaticMethods_iframeRenderHelper_$self$$.sentinel);$isExperimentOn$$module$src$experiments$$($JSCompiler_StaticMethods_iframeRenderHelper_$self$$.win,"no-sync-xhr-in-ads")&&($mergedAttributes$$.allow="sync-xhr 'none';");$JSCompiler_StaticMethods_iframeRenderHelper_$self$$.iframe=$createElementWithAttributes$$module$src$dom$$($JSCompiler_StaticMethods_iframeRenderHelper_$self$$.element.ownerDocument,"iframe",Object.assign($mergedAttributes$$,$SHARED_IFRAME_PROPERTIES$$module$extensions$amp_a4a$0_1$amp_a4a$$));
$JSCompiler_StaticMethods_iframeRenderHelper_$self$$.sandboxHTMLCreativeFrame()&&$applySandbox$$module$src$3p_frame$$($JSCompiler_StaticMethods_iframeRenderHelper_$self$$.iframe);$JSCompiler_StaticMethods_iframeRenderHelper_$self$$.$xOriginIframeHandler_$=new AMP.AmpAdXOriginIframeHandler($JSCompiler_StaticMethods_iframeRenderHelper_$self$$);var $frameLoadPromise$$=$JSCompiler_StaticMethods_iframeRenderHelper_$self$$.$xOriginIframeHandler_$.init($JSCompiler_StaticMethods_iframeRenderHelper_$self$$.iframe,
!0);$protectFunctionWrapper$$module$extensions$amp_a4a$0_1$amp_a4a$$($JSCompiler_StaticMethods_iframeRenderHelper_$self$$.onCreativeRender,$JSCompiler_StaticMethods_iframeRenderHelper_$self$$,function($attributes$jscomp$7$$){$dev$$module$src$log$$().error("amp-a4a",$JSCompiler_StaticMethods_iframeRenderHelper_$self$$.element.getAttribute("type"),"Error executing onCreativeRender",$attributes$jscomp$7$$)})(null);return $frameLoadPromise$$}
function $JSCompiler_StaticMethods_renderViaIframeGet_$$($JSCompiler_StaticMethods_renderViaIframeGet_$self$$,$adUrl$jscomp$3$$){$JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$$($JSCompiler_StaticMethods_renderViaIframeGet_$self$$,"renderCrossDomainStart");return $JSCompiler_StaticMethods_iframeRenderHelper_$$($JSCompiler_StaticMethods_renderViaIframeGet_$self$$,$dict$$module$src$utils$object$$({src:$getService$$module$src$service$$($JSCompiler_StaticMethods_renderViaIframeGet_$self$$.win,
"xhr").getCorsUrl($JSCompiler_StaticMethods_renderViaIframeGet_$self$$.win,$adUrl$jscomp$3$$),name:JSON.stringify($getContextMetadata$$module$src$iframe_attributes$$($JSCompiler_StaticMethods_renderViaIframeGet_$self$$.win,$JSCompiler_StaticMethods_renderViaIframeGet_$self$$.element,$JSCompiler_StaticMethods_renderViaIframeGet_$self$$.sentinel))}))}
function $JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$$($JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$,$creativeBody$$){var $method$jscomp$4$$=$JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.$experimentalNonAmpCreativeRenderMethod_$;$JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$$($JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$,"renderSafeFrameStart");var $checkStillCurrent$jscomp$4$$=$JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.verifyStillCurrent();
return $tryResolve$$module$src$utils$promise$$(function(){return $utf8Decode$$module$src$utils$bytes$$($creativeBody$$)}).then(function($creativeBody$$){$checkStillCurrent$jscomp$4$$();var $creative$jscomp$3$$="";switch($method$jscomp$4$$){case "safeframe":var $srcPath$$=$JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.getSafeframePath()+"?n=0";break;case "nameframe":$srcPath$$=$getDefaultBootstrapBaseUrl$$module$src$3p_frame$$($JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.win);
break;default:return $user$$module$src$log$$().error("A4A","A4A received unrecognized cross-domain name attribute iframe rendering mode request: %s.  Unable to render a creative for slot %s.",$method$jscomp$4$$,$JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.element.getAttribute("id")),Promise.reject("Unrecognized rendering mode request")}var $contextMetadata$$=$getContextMetadata$$module$src$iframe_attributes$$($JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.win,
$JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.element,$JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.sentinel,$JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.getAdditionalContextMetadata("safeframe"==$method$jscomp$4$$));"nameframe"==$method$jscomp$4$$?($contextMetadata$$.creative=$creativeBody$$,$creative$jscomp$3$$=JSON.stringify($contextMetadata$$)):"safeframe"==$method$jscomp$4$$&&($contextMetadata$$=JSON.stringify($contextMetadata$$),
$creative$jscomp$3$$=$JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.safeframeVersion+";"+$creativeBody$$.length+";"+$creativeBody$$+(""+$contextMetadata$$));return $JSCompiler_StaticMethods_iframeRenderHelper_$$($JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$,$dict$$module$src$utils$object$$({src:$srcPath$$,name:$creative$jscomp$3$$}))})}
$JSCompiler_prototypeAlias$$.getAmpAdMetadata=function($creative$jscomp$4$$){for(var $metadataStart$$=-1,$metadataString$$,$i$jscomp$36$$=0;$i$jscomp$36$$<$METADATA_STRINGS$$module$extensions$amp_a4a$0_1$amp_a4a$$.length&&!($metadataString$$=$METADATA_STRINGS$$module$extensions$amp_a4a$0_1$amp_a4a$$[$i$jscomp$36$$],$metadataStart$$=$creative$jscomp$4$$.lastIndexOf($metadataString$$),0<=$metadataStart$$);$i$jscomp$36$$++);if(0>$metadataStart$$)return $dev$$module$src$log$$().warn("amp-a4a",this.element.getAttribute("type"),
"Could not locate start index for amp meta data in: %s",$creative$jscomp$4$$),null;var $metadataEnd$$=$creative$jscomp$4$$.lastIndexOf("\x3c/script>");if(0>$metadataEnd$$)return $dev$$module$src$log$$().warn("amp-a4a",this.element.getAttribute("type"),"Could not locate closing script tag for amp meta data in: %s",$creative$jscomp$4$$),null;try{var $metaDataObj$$=JSON.parse($creative$jscomp$4$$.slice($metadataStart$$+$metadataString$$.length,$metadataEnd$$)),$ampRuntimeUtf16CharOffsets$$=$metaDataObj$$.ampRuntimeUtf16CharOffsets;
if(!Array.isArray($ampRuntimeUtf16CharOffsets$$)||2!=$ampRuntimeUtf16CharOffsets$$.length||"number"!==typeof $ampRuntimeUtf16CharOffsets$$[0]||"number"!==typeof $ampRuntimeUtf16CharOffsets$$[1])throw Error("Invalid runtime offsets");var $metaData$$={};if($metaDataObj$$.customElementExtensions){if($metaData$$.customElementExtensions=$metaDataObj$$.customElementExtensions,!Array.isArray($metaData$$.customElementExtensions))throw Error("Invalid extensions",$metaData$$.customElementExtensions);}else $metaData$$.customElementExtensions=
[];if($metaDataObj$$.customStylesheets){$metaData$$.customStylesheets=$metaDataObj$$.customStylesheets;var $errorMsg$$="Invalid custom stylesheets";if(!Array.isArray($metaData$$.customStylesheets))throw Error($errorMsg$$);var $urls$jscomp$2$$=$getExistingServiceForDocInEmbedScope$$module$src$service$$(this.element,"url");$metaData$$.customStylesheets.forEach(function($creative$jscomp$4$$){if("[object Object]"!==$toString_$$module$src$types$$.call($creative$jscomp$4$$)||!$creative$jscomp$4$$.href||
"string"!==typeof $creative$jscomp$4$$.href||!$urls$jscomp$2$$.isSecure($creative$jscomp$4$$.href))throw Error($errorMsg$$);})}Array.isArray($metaDataObj$$.images)&&($metaData$$.images=$metaDataObj$$.images.splice(0,5));if(this.isSinglePageStoryAd){if(!$metaDataObj$$.ctaUrl||!$metaDataObj$$.ctaType)throw Error("INVALID-SPSA-RESPONSE");this.element.setAttribute("data-vars-ctatype",$metaDataObj$$.ctaType);this.element.setAttribute("data-vars-ctaurl",$metaDataObj$$.ctaUrl)}$metaData$$.minifiedCreative=
$creative$jscomp$4$$.slice(0,$ampRuntimeUtf16CharOffsets$$[0])+$creative$jscomp$4$$.slice($ampRuntimeUtf16CharOffsets$$[1],$metadataStart$$)+$creative$jscomp$4$$.slice($metadataEnd$$+9);return $metaData$$}catch($err$jscomp$17$$){$dev$$module$src$log$$().warn("amp-a4a",this.element.getAttribute("type"),"Invalid amp metadata: %s",$creative$jscomp$4$$.slice($metadataStart$$+$metadataString$$.length,$metadataEnd$$));if(this.isSinglePageStoryAd)throw $err$jscomp$17$$;return null}};
$JSCompiler_prototypeAlias$$.getSafeframePath=function(){return"https://tpc.googlesyndication.com/safeframe/"+(this.safeframeVersion+"/html/container.html")};
function $JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$$($JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$self$$,$lifecycleStage$$){if($JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$self$$.$a4aAnalyticsConfig_$){var $analyticsEvent$$=$LIFECYCLE_STAGE_TO_ANALYTICS_TRIGGER$$module$extensions$amp_a4a$0_1$amp_a4a$$[$lifecycleStage$$],$analyticsVars$$=Object.assign($dict$$module$src$utils$object$$({time:Math.round($JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$self$$.$getNow_$())}),
$JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$self$$.getA4aAnalyticsVars($analyticsEvent$$));$triggerAnalyticsEvent$$module$src$analytics$$($JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$self$$.element,$analyticsEvent$$,$analyticsVars$$)}}$JSCompiler_prototypeAlias$$.getA4aAnalyticsVars=function(){return $dict$$module$src$utils$object$$({})};$JSCompiler_prototypeAlias$$.getA4aAnalyticsConfig=function(){return null};
function $JSCompiler_StaticMethods_tryExecuteRealTimeConfig_$$($JSCompiler_StaticMethods_tryExecuteRealTimeConfig_$self$$,$consentState$jscomp$2$$){if(AMP.RealTimeConfigManager)try{return(new AMP.RealTimeConfigManager($JSCompiler_StaticMethods_tryExecuteRealTimeConfig_$self$$)).maybeExecuteRealTimeConfig({},$consentState$jscomp$2$$)}catch($err$jscomp$18$$){$user$$module$src$log$$().error("amp-a4a","Could not perform Real Time Config.",$err$jscomp$18$$)}else $JSCompiler_StaticMethods_tryExecuteRealTimeConfig_$self$$.element.getAttribute("rtc-config")&&
$user$$module$src$log$$().error("amp-a4a","RTC not supported for ad network "+$JSCompiler_StaticMethods_tryExecuteRealTimeConfig_$self$$.element.getAttribute("type"))}$JSCompiler_prototypeAlias$$.shouldPreferentialRenderWithoutCrypto=function(){return!1};
$JSCompiler_prototypeAlias$$.getNonAmpCreativeRenderingMethod=function($headerValue$jscomp$2$$){if($headerValue$jscomp$2$$){a:{for($JSCompiler_inline_result$jscomp$41_JSCompiler_k$jscomp$inline_219$$ in $XORIGIN_MODE$$module$extensions$amp_a4a$0_1$amp_a4a$$)if($XORIGIN_MODE$$module$extensions$amp_a4a$0_1$amp_a4a$$[$JSCompiler_inline_result$jscomp$41_JSCompiler_k$jscomp$inline_219$$]===$headerValue$jscomp$2$$){var $JSCompiler_inline_result$jscomp$41_JSCompiler_k$jscomp$inline_219$$=!0;break a}$JSCompiler_inline_result$jscomp$41_JSCompiler_k$jscomp$inline_219$$=
!1}if($JSCompiler_inline_result$jscomp$41_JSCompiler_k$jscomp$inline_219$$)return $headerValue$jscomp$2$$;$dev$$module$src$log$$().error("AMP-A4A","cross-origin render mode header "+$headerValue$jscomp$2$$)}return $getService$$module$src$service$$(this.win,"platform").isIos()?"nameframe":null};$JSCompiler_prototypeAlias$$.getAdditionalContextMetadata=function(){};$JSCompiler_prototypeAlias$$.isVerifiedAmpCreative=function(){return this.$isVerifiedAmpCreative_$};
$JSCompiler_prototypeAlias$$.maybeAddSinglePassExperiment=function(){var $type$jscomp$140$$=$getMode$$module$src$mode$$().singlePassType;"sp"===$type$jscomp$140$$?$addExperimentIdToElement$$module$ads$google$a4a$traffic_experiments$$("21063530",this.element):"mp"===$type$jscomp$140$$&&$addExperimentIdToElement$$module$ads$google$a4a$traffic_experiments$$("21063529",this.element)};
function $signatureVerifierFor$$module$extensions$amp_a4a$0_1$amp_a4a$$($win$jscomp$137$$){return $win$jscomp$137$$.AMP_FAST_FETCH_SIGNATURE_VERIFIER_||($win$jscomp$137$$.AMP_FAST_FETCH_SIGNATURE_VERIFIER_=new $SignatureVerifier$$module$extensions$amp_a4a$0_1$signature_verifier$$($win$jscomp$137$$))};function $AmpAdNetworkGmosspImpl$$module$extensions$amp_ad_network_gmossp_impl$0_1$amp_ad_network_gmossp_impl$$($var_args$jscomp$57$$){return $AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.apply(this,arguments)||this}$$jscomp$inherits$$($AmpAdNetworkGmosspImpl$$module$extensions$amp_ad_network_gmossp_impl$0_1$amp_ad_network_gmossp_impl$$,$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$);
$AmpAdNetworkGmosspImpl$$module$extensions$amp_ad_network_gmossp_impl$0_1$amp_ad_network_gmossp_impl$$.prototype.isValidElement=function(){var $src$jscomp$6$$=this.element.getAttribute("src")||"";return this.isAmpAdElement()&&($startsWith$$module$src$string$$($src$jscomp$6$$,"https://sp.gmossp-sp.jp/")||$startsWith$$module$src$string$$($src$jscomp$6$$,"https://amp.sp.gmossp-sp.jp/_a4a/"))};
$AmpAdNetworkGmosspImpl$$module$extensions$amp_ad_network_gmossp_impl$0_1$amp_ad_network_gmossp_impl$$.prototype.getSigningServiceNames=function(){return["cloudflare"]};$AmpAdNetworkGmosspImpl$$module$extensions$amp_ad_network_gmossp_impl$0_1$amp_ad_network_gmossp_impl$$.prototype.getAdUrl=function(){return this.element.getAttribute("src").replace("https://sp.gmossp-sp.jp/","https://amp.sp.gmossp-sp.jp/_a4a/")};
(function($AMP$jscomp$1$$){$AMP$jscomp$1$$.registerElement("amp-ad-network-gmossp-impl",$AmpAdNetworkGmosspImpl$$module$extensions$amp_ad_network_gmossp_impl$0_1$amp_ad_network_gmossp_impl$$)})(self.AMP);
})});

//# sourceMappingURL=amp-ad-network-gmossp-impl-0.1.js.map
