(self.AMP=self.AMP||[]).push({n:"amp-reddit",v:"1904281823091",f:(function(AMP,_){
var $$jscomp$objectCreate$$="function"==typeof Object.create?Object.create:function($prototype$$){function $ctor$$(){}$ctor$$.prototype=$prototype$$;return new $ctor$$},$JSCompiler_temp$jscomp$20$$;
if("function"==typeof Object.setPrototypeOf)$JSCompiler_temp$jscomp$20$$=Object.setPrototypeOf;else{var $JSCompiler_inline_result$jscomp$21$$;a:{var $JSCompiler_x$jscomp$inline_35$$={a:!0},$JSCompiler_y$jscomp$inline_36$$={};try{$JSCompiler_y$jscomp$inline_36$$.__proto__=$JSCompiler_x$jscomp$inline_35$$;$JSCompiler_inline_result$jscomp$21$$=$JSCompiler_y$jscomp$inline_36$$.a;break a}catch($JSCompiler_e$jscomp$inline_37$$){}$JSCompiler_inline_result$jscomp$21$$=!1}$JSCompiler_temp$jscomp$20$$=$JSCompiler_inline_result$jscomp$21$$?
function($target$jscomp$83$$,$proto$jscomp$3$$){$target$jscomp$83$$.__proto__=$proto$jscomp$3$$;if($target$jscomp$83$$.__proto__!==$proto$jscomp$3$$)throw new TypeError($target$jscomp$83$$+" is not extensible");return $target$jscomp$83$$}:null}var $$jscomp$setPrototypeOf$$=$JSCompiler_temp$jscomp$20$$;
function $tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($component$jscomp$4$$,$fallback$$){$fallback$$=void 0===$fallback$$?"":$fallback$$;try{return decodeURIComponent($component$jscomp$4$$)}catch($e$jscomp$8$$){return $fallback$$}};var $regex$$module$src$url_parse_query_string$$=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;
function $parseQueryString_$$module$src$url_parse_query_string$$($queryString$$){var $params$jscomp$1$$=Object.create(null);if(!$queryString$$)return $params$jscomp$1$$;for(var $match$$;$match$$=$regex$$module$src$url_parse_query_string$$.exec($queryString$$);){var $name$jscomp$70$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[1],$match$$[1]),$value$jscomp$86$$=$match$$[2]?$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[2],$match$$[2]):"";
$params$jscomp$1$$[$name$jscomp$70$$]=$value$jscomp$86$$}return $params$jscomp$1$$};var $rtvVersion$$module$src$mode$$="";
function $getMode$$module$src$mode$$($opt_win$$){var $win$$=$opt_win$$||self;if($win$$.AMP_MODE)var $JSCompiler_temp$jscomp$22_JSCompiler_win$jscomp$inline_39$$=$win$$.AMP_MODE;else{$JSCompiler_temp$jscomp$22_JSCompiler_win$jscomp$inline_39$$=$win$$;var $JSCompiler_AMP_CONFIG$jscomp$inline_40_JSCompiler_singlePassType$jscomp$inline_47$$=self.AMP_CONFIG||{},$JSCompiler_runningTests$jscomp$inline_44$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_40_JSCompiler_singlePassType$jscomp$inline_47$$.test||!(!$JSCompiler_temp$jscomp$22_JSCompiler_win$jscomp$inline_39$$.AMP_TEST&&
!$JSCompiler_temp$jscomp$22_JSCompiler_win$jscomp$inline_39$$.__karma__),$JSCompiler_isLocalDev$jscomp$inline_45$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_40_JSCompiler_singlePassType$jscomp$inline_47$$.localDev||$JSCompiler_runningTests$jscomp$inline_44$$,$JSCompiler_hashQuery$jscomp$inline_46$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$22_JSCompiler_win$jscomp$inline_39$$.location.originalHash||$JSCompiler_temp$jscomp$22_JSCompiler_win$jscomp$inline_39$$.location.hash);
$JSCompiler_AMP_CONFIG$jscomp$inline_40_JSCompiler_singlePassType$jscomp$inline_47$$=$JSCompiler_AMP_CONFIG$jscomp$inline_40_JSCompiler_singlePassType$jscomp$inline_47$$.spt;var $JSCompiler_searchQuery$jscomp$inline_48$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$22_JSCompiler_win$jscomp$inline_39$$.location.search);$rtvVersion$$module$src$mode$$||($rtvVersion$$module$src$mode$$=$JSCompiler_isLocalDev$jscomp$inline_45$$?"1904281823091":$JSCompiler_temp$jscomp$22_JSCompiler_win$jscomp$inline_39$$.AMP_CONFIG&&
$JSCompiler_temp$jscomp$22_JSCompiler_win$jscomp$inline_39$$.AMP_CONFIG.v?$JSCompiler_temp$jscomp$22_JSCompiler_win$jscomp$inline_39$$.AMP_CONFIG.v:"011904281823091");$JSCompiler_temp$jscomp$22_JSCompiler_win$jscomp$inline_39$$=$win$$.AMP_MODE={localDev:$JSCompiler_isLocalDev$jscomp$inline_45$$,development:!("1"!=$JSCompiler_hashQuery$jscomp$inline_46$$.development&&!$JSCompiler_temp$jscomp$22_JSCompiler_win$jscomp$inline_39$$.AMP_DEV_MODE),examiner:"2"==$JSCompiler_hashQuery$jscomp$inline_46$$.development,
filter:$JSCompiler_hashQuery$jscomp$inline_46$$.filter,geoOverride:$JSCompiler_hashQuery$jscomp$inline_46$$["amp-geo"],minified:!0,lite:void 0!=$JSCompiler_searchQuery$jscomp$inline_48$$.amp_lite,test:$JSCompiler_runningTests$jscomp$inline_44$$,log:$JSCompiler_hashQuery$jscomp$inline_46$$.log,version:"1904281823091",rtvVersion:$rtvVersion$$module$src$mode$$,singlePassType:$JSCompiler_AMP_CONFIG$jscomp$inline_40_JSCompiler_singlePassType$jscomp$inline_47$$}}return $JSCompiler_temp$jscomp$22_JSCompiler_win$jscomp$inline_39$$}
;self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log;function $user$$module$src$log$$(){if(!$logs$$module$src$log$$.user)throw Error("failed to call initLogConstructor");return $logs$$module$src$log$$.user}function $dev$$module$src$log$$(){if($logs$$module$src$log$$.dev)return $logs$$module$src$log$$.dev;throw Error("failed to call initLogConstructor");}
function $userAssert$$module$src$log$$($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$){$user$$module$src$log$$().assert($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$,void 0,void 0,void 0,void 0,void 0,void 0)};function $LruCache$$module$src$utils$lru_cache$$(){var $capacity$$=100;this.$capacity_$=$capacity$$;this.$access_$=this.$size_$=0;this.$cache_$=Object.create(null)}$LruCache$$module$src$utils$lru_cache$$.prototype.has=function($key$jscomp$37$$){return!!this.$cache_$[$key$jscomp$37$$]};$LruCache$$module$src$utils$lru_cache$$.prototype.get=function($key$jscomp$38$$){var $cacheable$$=this.$cache_$[$key$jscomp$38$$];if($cacheable$$)return $cacheable$$.access=++this.$access_$,$cacheable$$.payload};
$LruCache$$module$src$utils$lru_cache$$.prototype.put=function($JSCompiler_cache$jscomp$inline_54_key$jscomp$39$$,$payload$$){this.has($JSCompiler_cache$jscomp$inline_54_key$jscomp$39$$)||this.$size_$++;this.$cache_$[$JSCompiler_cache$jscomp$inline_54_key$jscomp$39$$]={payload:$payload$$,access:this.$access_$};if(!(this.$size_$<=this.$capacity_$)){$dev$$module$src$log$$().warn("lru-cache","Trimming LRU cache");$JSCompiler_cache$jscomp$inline_54_key$jscomp$39$$=this.$cache_$;var $JSCompiler_oldest$jscomp$inline_55$$=
this.$access_$+1,$JSCompiler_key$jscomp$inline_57$$;for($JSCompiler_key$jscomp$inline_57$$ in $JSCompiler_cache$jscomp$inline_54_key$jscomp$39$$){var $JSCompiler_access$jscomp$inline_58$$=$JSCompiler_cache$jscomp$inline_54_key$jscomp$39$$[$JSCompiler_key$jscomp$inline_57$$].access;if($JSCompiler_access$jscomp$inline_58$$<$JSCompiler_oldest$jscomp$inline_55$$){$JSCompiler_oldest$jscomp$inline_55$$=$JSCompiler_access$jscomp$inline_58$$;var $JSCompiler_oldestKey$jscomp$inline_56$$=$JSCompiler_key$jscomp$inline_57$$}}void 0!==
$JSCompiler_oldestKey$jscomp$inline_56$$&&(delete $JSCompiler_cache$jscomp$inline_54_key$jscomp$39$$[$JSCompiler_oldestKey$jscomp$inline_56$$],this.$size_$--)}};function $dict$$module$src$utils$object$$($opt_initial$jscomp$1$$){return $opt_initial$jscomp$1$$||{}};function $startsWith$$module$src$string$$($string$jscomp$6$$,$prefix$jscomp$2$$){return $prefix$jscomp$2$$.length>$string$jscomp$6$$.length?!1:0==$string$jscomp$6$$.lastIndexOf($prefix$jscomp$2$$,0)};var $env$$module$src$config$$=self.AMP_CONFIG||{},$urls$$module$src$config$$={thirdParty:$env$$module$src$config$$.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:$env$$module$src$config$$.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof $env$$module$src$config$$.thirdPartyFrameRegex?new RegExp($env$$module$src$config$$.thirdPartyFrameRegex):$env$$module$src$config$$.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:$env$$module$src$config$$.cdnUrl||
"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof $env$$module$src$config$$.cdnProxyRegex?new RegExp($env$$module$src$config$$.cdnProxyRegex):$env$$module$src$config$$.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:$env$$module$src$config$$.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:$env$$module$src$config$$.localDev||!1};$dict$$module$src$utils$object$$({c:!0,v:!0,a:!0,ad:!0,action:!0});var $a$$module$src$url$$,$cache$$module$src$url$$;
function $parseUrlDeprecated$$module$src$url$$($JSCompiler_inline_result$jscomp$25_url$jscomp$21$$){var $opt_nocache$$;$a$$module$src$url$$||($a$$module$src$url$$=self.document.createElement("a"),$cache$$module$src$url$$=self.UrlCache||(self.UrlCache=new $LruCache$$module$src$utils$lru_cache$$));var $JSCompiler_opt_cache$jscomp$inline_61$$=$opt_nocache$$?null:$cache$$module$src$url$$,$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$=$a$$module$src$url$$;if($JSCompiler_opt_cache$jscomp$inline_61$$&&
$JSCompiler_opt_cache$jscomp$inline_61$$.has($JSCompiler_inline_result$jscomp$25_url$jscomp$21$$))$JSCompiler_inline_result$jscomp$25_url$jscomp$21$$=$JSCompiler_opt_cache$jscomp$inline_61$$.get($JSCompiler_inline_result$jscomp$25_url$jscomp$21$$);else{$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$.href=$JSCompiler_inline_result$jscomp$25_url$jscomp$21$$;$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$.protocol||($JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$.href=
$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$.href);var $JSCompiler_info$jscomp$inline_63$$={href:$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$.href,protocol:$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$.protocol,host:$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$.host,hostname:$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$.hostname,port:"0"==$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$.port?
"":$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$.port,pathname:$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$.pathname,search:$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$.search,hash:$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$.hash,origin:null};"/"!==$JSCompiler_info$jscomp$inline_63$$.pathname[0]&&($JSCompiler_info$jscomp$inline_63$$.pathname="/"+$JSCompiler_info$jscomp$inline_63$$.pathname);if("http:"==$JSCompiler_info$jscomp$inline_63$$.protocol&&
80==$JSCompiler_info$jscomp$inline_63$$.port||"https:"==$JSCompiler_info$jscomp$inline_63$$.protocol&&443==$JSCompiler_info$jscomp$inline_63$$.port)$JSCompiler_info$jscomp$inline_63$$.port="",$JSCompiler_info$jscomp$inline_63$$.host=$JSCompiler_info$jscomp$inline_63$$.hostname;$JSCompiler_info$jscomp$inline_63$$.origin=$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$.origin&&"null"!=$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$.origin?$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$.origin:
"data:"!=$JSCompiler_info$jscomp$inline_63$$.protocol&&$JSCompiler_info$jscomp$inline_63$$.host?$JSCompiler_info$jscomp$inline_63$$.protocol+"//"+$JSCompiler_info$jscomp$inline_63$$.host:$JSCompiler_info$jscomp$inline_63$$.href;$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$=$getMode$$module$src$mode$$().test&&Object.freeze?Object.freeze($JSCompiler_info$jscomp$inline_63$$):$JSCompiler_info$jscomp$inline_63$$;$JSCompiler_opt_cache$jscomp$inline_61$$&&$JSCompiler_opt_cache$jscomp$inline_61$$.put($JSCompiler_inline_result$jscomp$25_url$jscomp$21$$,
$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$);$JSCompiler_inline_result$jscomp$25_url$jscomp$21$$=$JSCompiler_a$jscomp$inline_62_JSCompiler_frozen$jscomp$inline_64$$}return $JSCompiler_inline_result$jscomp$25_url$jscomp$21$$};function $indexWithinParent$$module$src$utils$dom_fingerprint$$($element$jscomp$13$$){for(var $nodeName$jscomp$1$$=$element$jscomp$13$$.nodeName,$i$jscomp$9$$=0,$count$jscomp$17$$=0,$sibling$$=$element$jscomp$13$$.previousElementSibling;$sibling$$&&25>$count$jscomp$17$$&&100>$i$jscomp$9$$;)$sibling$$.nodeName==$nodeName$jscomp$1$$&&$count$jscomp$17$$++,$i$jscomp$9$$++,$sibling$$=$sibling$$.previousElementSibling;return 25>$count$jscomp$17$$&&100>$i$jscomp$9$$?"."+$count$jscomp$17$$:""};function $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$$,$id$jscomp$16$$){var $JSCompiler_ampdoc$jscomp$inline_67_JSCompiler_inline_result$jscomp$26_ampdoc$jscomp$2$$=$getAmpdoc$$module$src$service$$($elementOrAmpDoc$$);$JSCompiler_ampdoc$jscomp$inline_67_JSCompiler_inline_result$jscomp$26_ampdoc$jscomp$2$$=$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_67_JSCompiler_inline_result$jscomp$26_ampdoc$jscomp$2$$);$JSCompiler_ampdoc$jscomp$inline_67_JSCompiler_inline_result$jscomp$26_ampdoc$jscomp$2$$=
$JSCompiler_ampdoc$jscomp$inline_67_JSCompiler_inline_result$jscomp$26_ampdoc$jscomp$2$$.isSingleDoc()?$JSCompiler_ampdoc$jscomp$inline_67_JSCompiler_inline_result$jscomp$26_ampdoc$jscomp$2$$.win:$JSCompiler_ampdoc$jscomp$inline_67_JSCompiler_inline_result$jscomp$26_ampdoc$jscomp$2$$;return $getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_67_JSCompiler_inline_result$jscomp$26_ampdoc$jscomp$2$$,$id$jscomp$16$$)}
function $getAmpdoc$$module$src$service$$($JSCompiler_temp$jscomp$154_nodeOrDoc$jscomp$2$$){if($JSCompiler_temp$jscomp$154_nodeOrDoc$jscomp$2$$.nodeType){var $JSCompiler_win$jscomp$inline_160$$=($JSCompiler_temp$jscomp$154_nodeOrDoc$jscomp$2$$.ownerDocument||$JSCompiler_temp$jscomp$154_nodeOrDoc$jscomp$2$$).defaultView;$JSCompiler_win$jscomp$inline_160$$=$JSCompiler_win$jscomp$inline_160$$.__AMP_TOP||$JSCompiler_win$jscomp$inline_160$$;$JSCompiler_temp$jscomp$154_nodeOrDoc$jscomp$2$$=$getServiceInternal$$module$src$service$$($JSCompiler_win$jscomp$inline_160$$,
"ampdoc").getAmpDoc($JSCompiler_temp$jscomp$154_nodeOrDoc$jscomp$2$$)}return $JSCompiler_temp$jscomp$154_nodeOrDoc$jscomp$2$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$9$$,$id$jscomp$20$$){var $JSCompiler_services$jscomp$inline_74$$=$holder$jscomp$4_s$jscomp$9$$.services;$JSCompiler_services$jscomp$inline_74$$||($JSCompiler_services$jscomp$inline_74$$=$holder$jscomp$4_s$jscomp$9$$.services={});var $services$$=$JSCompiler_services$jscomp$inline_74$$;$holder$jscomp$4_s$jscomp$9$$=$services$$[$id$jscomp$20$$];$holder$jscomp$4_s$jscomp$9$$.obj||($holder$jscomp$4_s$jscomp$9$$.obj=new $holder$jscomp$4_s$jscomp$9$$.ctor($holder$jscomp$4_s$jscomp$9$$.context),
$holder$jscomp$4_s$jscomp$9$$.ctor=null,$holder$jscomp$4_s$jscomp$9$$.context=null,$holder$jscomp$4_s$jscomp$9$$.resolve&&$holder$jscomp$4_s$jscomp$9$$.resolve($holder$jscomp$4_s$jscomp$9$$.obj));return $holder$jscomp$4_s$jscomp$9$$.obj};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function $isExperimentOn$$module$src$experiments$$($win$jscomp$51$$,$experimentId$$){var $toggles$$=$experimentToggles$$module$src$experiments$$($win$jscomp$51$$);return!!$toggles$$[$experimentId$$]}
function $experimentToggles$$module$src$experiments$$($params$jscomp$6_win$jscomp$53$$){if($params$jscomp$6_win$jscomp$53$$.__AMP__EXPERIMENT_TOGGLES)return $params$jscomp$6_win$jscomp$53$$.__AMP__EXPERIMENT_TOGGLES;$params$jscomp$6_win$jscomp$53$$.__AMP__EXPERIMENT_TOGGLES=Object.create(null);var $toggles$jscomp$2$$=$params$jscomp$6_win$jscomp$53$$.__AMP__EXPERIMENT_TOGGLES;if($params$jscomp$6_win$jscomp$53$$.AMP_CONFIG)for(var $allowed$3_experimentId$jscomp$2_i$jscomp$16$$ in $params$jscomp$6_win$jscomp$53$$.AMP_CONFIG){var $frequency$$=
$params$jscomp$6_win$jscomp$53$$.AMP_CONFIG[$allowed$3_experimentId$jscomp$2_i$jscomp$16$$];"number"===typeof $frequency$$&&0<=$frequency$$&&1>=$frequency$$&&($toggles$jscomp$2$$[$allowed$3_experimentId$jscomp$2_i$jscomp$16$$]=Math.random()<$frequency$$)}if($params$jscomp$6_win$jscomp$53$$.AMP_CONFIG&&Array.isArray($params$jscomp$6_win$jscomp$53$$.AMP_CONFIG["allow-doc-opt-in"])&&0<$params$jscomp$6_win$jscomp$53$$.AMP_CONFIG["allow-doc-opt-in"].length){var $allowed$$=$params$jscomp$6_win$jscomp$53$$.AMP_CONFIG["allow-doc-opt-in"],
$meta$$=$params$jscomp$6_win$jscomp$53$$.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if($meta$$){var $optedInExperiments$$=$meta$$.getAttribute("content").split(",");for($allowed$3_experimentId$jscomp$2_i$jscomp$16$$=0;$allowed$3_experimentId$jscomp$2_i$jscomp$16$$<$optedInExperiments$$.length;$allowed$3_experimentId$jscomp$2_i$jscomp$16$$++)-1!=$allowed$$.indexOf($optedInExperiments$$[$allowed$3_experimentId$jscomp$2_i$jscomp$16$$])&&($toggles$jscomp$2$$[$optedInExperiments$$[$allowed$3_experimentId$jscomp$2_i$jscomp$16$$]]=
!0)}}Object.assign($toggles$jscomp$2$$,$getExperimentTogglesFromCookie$$module$src$experiments$$($params$jscomp$6_win$jscomp$53$$));if($params$jscomp$6_win$jscomp$53$$.AMP_CONFIG&&Array.isArray($params$jscomp$6_win$jscomp$53$$.AMP_CONFIG["allow-url-opt-in"])&&0<$params$jscomp$6_win$jscomp$53$$.AMP_CONFIG["allow-url-opt-in"].length){$allowed$3_experimentId$jscomp$2_i$jscomp$16$$=$params$jscomp$6_win$jscomp$53$$.AMP_CONFIG["allow-url-opt-in"];$params$jscomp$6_win$jscomp$53$$=$parseQueryString_$$module$src$url_parse_query_string$$($params$jscomp$6_win$jscomp$53$$.location.originalHash||
$params$jscomp$6_win$jscomp$53$$.location.hash);for(var $i$4$$=0;$i$4$$<$allowed$3_experimentId$jscomp$2_i$jscomp$16$$.length;$i$4$$++){var $param$jscomp$6$$=$params$jscomp$6_win$jscomp$53$$["e-"+$allowed$3_experimentId$jscomp$2_i$jscomp$16$$[$i$4$$]];"1"==$param$jscomp$6$$&&($toggles$jscomp$2$$[$allowed$3_experimentId$jscomp$2_i$jscomp$16$$[$i$4$$]]=!0);"0"==$param$jscomp$6$$&&($toggles$jscomp$2$$[$allowed$3_experimentId$jscomp$2_i$jscomp$16$$[$i$4$$]]=!1)}}return $toggles$jscomp$2$$}
function $getExperimentTogglesFromCookie$$module$src$experiments$$($JSCompiler_cookieString$jscomp$inline_78_JSCompiler_cookies$jscomp$inline_79_JSCompiler_inline_result$jscomp$28_JSCompiler_value$jscomp$inline_83_toggles$jscomp$3_win$jscomp$55$$){a:{try{var $JSCompiler_i$jscomp$inline_80_JSCompiler_inline_result$jscomp$156_i$jscomp$17$$=$JSCompiler_cookieString$jscomp$inline_78_JSCompiler_cookies$jscomp$inline_79_JSCompiler_inline_result$jscomp$28_JSCompiler_value$jscomp$inline_83_toggles$jscomp$3_win$jscomp$55$$.document.cookie}catch($JSCompiler_e$jscomp$inline_163$$){$JSCompiler_i$jscomp$inline_80_JSCompiler_inline_result$jscomp$156_i$jscomp$17$$=
""}if($JSCompiler_cookieString$jscomp$inline_78_JSCompiler_cookies$jscomp$inline_79_JSCompiler_inline_result$jscomp$28_JSCompiler_value$jscomp$inline_83_toggles$jscomp$3_win$jscomp$55$$=$JSCompiler_i$jscomp$inline_80_JSCompiler_inline_result$jscomp$156_i$jscomp$17$$)for($JSCompiler_cookieString$jscomp$inline_78_JSCompiler_cookies$jscomp$inline_79_JSCompiler_inline_result$jscomp$28_JSCompiler_value$jscomp$inline_83_toggles$jscomp$3_win$jscomp$55$$=$JSCompiler_cookieString$jscomp$inline_78_JSCompiler_cookies$jscomp$inline_79_JSCompiler_inline_result$jscomp$28_JSCompiler_value$jscomp$inline_83_toggles$jscomp$3_win$jscomp$55$$.split(";"),
$JSCompiler_i$jscomp$inline_80_JSCompiler_inline_result$jscomp$156_i$jscomp$17$$=0;$JSCompiler_i$jscomp$inline_80_JSCompiler_inline_result$jscomp$156_i$jscomp$17$$<$JSCompiler_cookieString$jscomp$inline_78_JSCompiler_cookies$jscomp$inline_79_JSCompiler_inline_result$jscomp$28_JSCompiler_value$jscomp$inline_83_toggles$jscomp$3_win$jscomp$55$$.length;$JSCompiler_i$jscomp$inline_80_JSCompiler_inline_result$jscomp$156_i$jscomp$17$$++){var $JSCompiler_cookie$jscomp$inline_81$$=$JSCompiler_cookieString$jscomp$inline_78_JSCompiler_cookies$jscomp$inline_79_JSCompiler_inline_result$jscomp$28_JSCompiler_value$jscomp$inline_83_toggles$jscomp$3_win$jscomp$55$$[$JSCompiler_i$jscomp$inline_80_JSCompiler_inline_result$jscomp$156_i$jscomp$17$$].trim(),
$JSCompiler_eq$jscomp$inline_82$$=$JSCompiler_cookie$jscomp$inline_81$$.indexOf("=");if(-1!=$JSCompiler_eq$jscomp$inline_82$$&&"AMP_EXP"==$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_cookie$jscomp$inline_81$$.substring(0,$JSCompiler_eq$jscomp$inline_82$$).trim(),void 0)){$JSCompiler_cookieString$jscomp$inline_78_JSCompiler_cookies$jscomp$inline_79_JSCompiler_inline_result$jscomp$28_JSCompiler_value$jscomp$inline_83_toggles$jscomp$3_win$jscomp$55$$=$JSCompiler_cookie$jscomp$inline_81$$.substring($JSCompiler_eq$jscomp$inline_82$$+
1).trim();$JSCompiler_cookieString$jscomp$inline_78_JSCompiler_cookies$jscomp$inline_79_JSCompiler_inline_result$jscomp$28_JSCompiler_value$jscomp$inline_83_toggles$jscomp$3_win$jscomp$55$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_cookieString$jscomp$inline_78_JSCompiler_cookies$jscomp$inline_79_JSCompiler_inline_result$jscomp$28_JSCompiler_value$jscomp$inline_83_toggles$jscomp$3_win$jscomp$55$$,$JSCompiler_cookieString$jscomp$inline_78_JSCompiler_cookies$jscomp$inline_79_JSCompiler_inline_result$jscomp$28_JSCompiler_value$jscomp$inline_83_toggles$jscomp$3_win$jscomp$55$$);
break a}}$JSCompiler_cookieString$jscomp$inline_78_JSCompiler_cookies$jscomp$inline_79_JSCompiler_inline_result$jscomp$28_JSCompiler_value$jscomp$inline_83_toggles$jscomp$3_win$jscomp$55$$=null}var $experimentCookie$$=$JSCompiler_cookieString$jscomp$inline_78_JSCompiler_cookies$jscomp$inline_79_JSCompiler_inline_result$jscomp$28_JSCompiler_value$jscomp$inline_83_toggles$jscomp$3_win$jscomp$55$$,$tokens$$=$experimentCookie$$?$experimentCookie$$.split(/\s*,\s*/g):[];$JSCompiler_cookieString$jscomp$inline_78_JSCompiler_cookies$jscomp$inline_79_JSCompiler_inline_result$jscomp$28_JSCompiler_value$jscomp$inline_83_toggles$jscomp$3_win$jscomp$55$$=
Object.create(null);for($JSCompiler_i$jscomp$inline_80_JSCompiler_inline_result$jscomp$156_i$jscomp$17$$=0;$JSCompiler_i$jscomp$inline_80_JSCompiler_inline_result$jscomp$156_i$jscomp$17$$<$tokens$$.length;$JSCompiler_i$jscomp$inline_80_JSCompiler_inline_result$jscomp$156_i$jscomp$17$$++)0!=$tokens$$[$JSCompiler_i$jscomp$inline_80_JSCompiler_inline_result$jscomp$156_i$jscomp$17$$].length&&("-"==$tokens$$[$JSCompiler_i$jscomp$inline_80_JSCompiler_inline_result$jscomp$156_i$jscomp$17$$][0]?$JSCompiler_cookieString$jscomp$inline_78_JSCompiler_cookies$jscomp$inline_79_JSCompiler_inline_result$jscomp$28_JSCompiler_value$jscomp$inline_83_toggles$jscomp$3_win$jscomp$55$$[$tokens$$[$JSCompiler_i$jscomp$inline_80_JSCompiler_inline_result$jscomp$156_i$jscomp$17$$].substr(1)]=
!1:$JSCompiler_cookieString$jscomp$inline_78_JSCompiler_cookies$jscomp$inline_79_JSCompiler_inline_result$jscomp$28_JSCompiler_value$jscomp$inline_83_toggles$jscomp$3_win$jscomp$55$$[$tokens$$[$JSCompiler_i$jscomp$inline_80_JSCompiler_inline_result$jscomp$156_i$jscomp$17$$]]=!0);return $JSCompiler_cookieString$jscomp$inline_78_JSCompiler_cookies$jscomp$inline_79_JSCompiler_inline_result$jscomp$28_JSCompiler_value$jscomp$inline_83_toggles$jscomp$3_win$jscomp$55$$};var $propertyNameCache$$module$src$style$$,$vendorPrefixes$$module$src$style$$="Webkit webkit Moz moz ms O o".split(" ");
function $setStyle$$module$src$style$$($element$jscomp$60$$){var $opt_units$$;var $JSCompiler_inline_result$jscomp$29_JSCompiler_style$jscomp$inline_85_propertyName$jscomp$10$$=$element$jscomp$60$$.style;if($startsWith$$module$src$string$$("border","--"))$JSCompiler_inline_result$jscomp$29_JSCompiler_style$jscomp$inline_85_propertyName$jscomp$10$$="border";else{$propertyNameCache$$module$src$style$$||($propertyNameCache$$module$src$style$$=Object.create(null));var $JSCompiler_propertyName$jscomp$inline_88$$=
$propertyNameCache$$module$src$style$$.border;if(!$JSCompiler_propertyName$jscomp$inline_88$$){$JSCompiler_propertyName$jscomp$inline_88$$="border";if(void 0===$JSCompiler_inline_result$jscomp$29_JSCompiler_style$jscomp$inline_85_propertyName$jscomp$10$$.border){var $JSCompiler_i$jscomp$inline_172_JSCompiler_inline_result$jscomp$158_JSCompiler_prefixedPropertyName$jscomp$inline_90$$;b:{for($JSCompiler_i$jscomp$inline_172_JSCompiler_inline_result$jscomp$158_JSCompiler_prefixedPropertyName$jscomp$inline_90$$=
0;$JSCompiler_i$jscomp$inline_172_JSCompiler_inline_result$jscomp$158_JSCompiler_prefixedPropertyName$jscomp$inline_90$$<$vendorPrefixes$$module$src$style$$.length;$JSCompiler_i$jscomp$inline_172_JSCompiler_inline_result$jscomp$158_JSCompiler_prefixedPropertyName$jscomp$inline_90$$++){var $JSCompiler_propertyName$jscomp$inline_173$$=$vendorPrefixes$$module$src$style$$[$JSCompiler_i$jscomp$inline_172_JSCompiler_inline_result$jscomp$158_JSCompiler_prefixedPropertyName$jscomp$inline_90$$]+"Border";if(void 0!==
$JSCompiler_inline_result$jscomp$29_JSCompiler_style$jscomp$inline_85_propertyName$jscomp$10$$[$JSCompiler_propertyName$jscomp$inline_173$$]){$JSCompiler_i$jscomp$inline_172_JSCompiler_inline_result$jscomp$158_JSCompiler_prefixedPropertyName$jscomp$inline_90$$=$JSCompiler_propertyName$jscomp$inline_173$$;break b}}$JSCompiler_i$jscomp$inline_172_JSCompiler_inline_result$jscomp$158_JSCompiler_prefixedPropertyName$jscomp$inline_90$$=""}void 0!==$JSCompiler_inline_result$jscomp$29_JSCompiler_style$jscomp$inline_85_propertyName$jscomp$10$$[$JSCompiler_i$jscomp$inline_172_JSCompiler_inline_result$jscomp$158_JSCompiler_prefixedPropertyName$jscomp$inline_90$$]&&
($JSCompiler_propertyName$jscomp$inline_88$$=$JSCompiler_i$jscomp$inline_172_JSCompiler_inline_result$jscomp$158_JSCompiler_prefixedPropertyName$jscomp$inline_90$$)}$propertyNameCache$$module$src$style$$.border=$JSCompiler_propertyName$jscomp$inline_88$$}$JSCompiler_inline_result$jscomp$29_JSCompiler_style$jscomp$inline_85_propertyName$jscomp$10$$=$JSCompiler_propertyName$jscomp$inline_88$$}$JSCompiler_inline_result$jscomp$29_JSCompiler_style$jscomp$inline_85_propertyName$jscomp$10$$&&($element$jscomp$60$$.style[$JSCompiler_inline_result$jscomp$29_JSCompiler_style$jscomp$inline_85_propertyName$jscomp$10$$]=
$opt_units$$?"none"+$opt_units$$:"none")};function $getLengthNumeral$$module$src$layout$$($length$jscomp$21_res$jscomp$2$$){$length$jscomp$21_res$jscomp$2$$=parseFloat($length$jscomp$21_res$jscomp$2$$);return"number"===typeof $length$jscomp$21_res$jscomp$2$$&&isFinite($length$jscomp$21_res$jscomp$2$$)?$length$jscomp$21_res$jscomp$2$$:void 0};function $tryParseJson$$module$src$json$$($json$jscomp$1$$,$opt_onFailed$$){try{return JSON.parse($json$jscomp$1$$)}catch($e$jscomp$17$$){return $opt_onFailed$$&&$opt_onFailed$$($e$jscomp$17$$),null}};var $count$$module$src$3p_frame$$={};
function $getFrameAttributes$$module$src$3p_frame$$($JSCompiler_adSrc$jscomp$inline_116_parentWindow$jscomp$1$$,$element$jscomp$70$$){$userAssert$$module$src$log$$("reddit","Attribute type required for <amp-ad>: %s",$element$jscomp$70$$);var $JSCompiler_inline_result$jscomp$32_JSCompiler_windowDepth$jscomp$inline_93$$=0;for(var $JSCompiler_startTime$jscomp$inline_108_JSCompiler_win$jscomp$inline_94_attributes$jscomp$4$$=$JSCompiler_adSrc$jscomp$inline_116_parentWindow$jscomp$1$$;$JSCompiler_startTime$jscomp$inline_108_JSCompiler_win$jscomp$inline_94_attributes$jscomp$4$$&&$JSCompiler_startTime$jscomp$inline_108_JSCompiler_win$jscomp$inline_94_attributes$jscomp$4$$!=
$JSCompiler_startTime$jscomp$inline_108_JSCompiler_win$jscomp$inline_94_attributes$jscomp$4$$.parent;$JSCompiler_startTime$jscomp$inline_108_JSCompiler_win$jscomp$inline_94_attributes$jscomp$4$$=$JSCompiler_startTime$jscomp$inline_108_JSCompiler_win$jscomp$inline_94_attributes$jscomp$4$$.parent)$JSCompiler_inline_result$jscomp$32_JSCompiler_windowDepth$jscomp$inline_93$$++;$JSCompiler_inline_result$jscomp$32_JSCompiler_windowDepth$jscomp$inline_93$$=String($JSCompiler_inline_result$jscomp$32_JSCompiler_windowDepth$jscomp$inline_93$$)+
"-"+$getRandom$$module$src$3p_frame$$($JSCompiler_adSrc$jscomp$inline_116_parentWindow$jscomp$1$$);var $JSCompiler_attributes$jscomp$inline_97_JSCompiler_referrer$jscomp$inline_114_JSCompiler_width$jscomp$inline_109$$=$JSCompiler_startTime$jscomp$inline_108_JSCompiler_win$jscomp$inline_94_attributes$jscomp$4$$={},$JSCompiler_dataset$jscomp$inline_98_JSCompiler_temp_const$jscomp$195$$=$element$jscomp$70$$.dataset,$JSCompiler_height$jscomp$inline_110_JSCompiler_json$jscomp$inline_100_JSCompiler_name$jscomp$inline_99_JSCompiler_obj$jscomp$inline_101_JSCompiler_temp_const$jscomp$196$$;
for($JSCompiler_height$jscomp$inline_110_JSCompiler_json$jscomp$inline_100_JSCompiler_name$jscomp$inline_99_JSCompiler_obj$jscomp$inline_101_JSCompiler_temp_const$jscomp$196$$ in $JSCompiler_dataset$jscomp$inline_98_JSCompiler_temp_const$jscomp$195$$)$startsWith$$module$src$string$$($JSCompiler_height$jscomp$inline_110_JSCompiler_json$jscomp$inline_100_JSCompiler_name$jscomp$inline_99_JSCompiler_obj$jscomp$inline_101_JSCompiler_temp_const$jscomp$196$$,"vars")||($JSCompiler_attributes$jscomp$inline_97_JSCompiler_referrer$jscomp$inline_114_JSCompiler_width$jscomp$inline_109$$[$JSCompiler_height$jscomp$inline_110_JSCompiler_json$jscomp$inline_100_JSCompiler_name$jscomp$inline_99_JSCompiler_obj$jscomp$inline_101_JSCompiler_temp_const$jscomp$196$$]=
$JSCompiler_dataset$jscomp$inline_98_JSCompiler_temp_const$jscomp$195$$[$JSCompiler_height$jscomp$inline_110_JSCompiler_json$jscomp$inline_100_JSCompiler_name$jscomp$inline_99_JSCompiler_obj$jscomp$inline_101_JSCompiler_temp_const$jscomp$196$$]);if($JSCompiler_height$jscomp$inline_110_JSCompiler_json$jscomp$inline_100_JSCompiler_name$jscomp$inline_99_JSCompiler_obj$jscomp$inline_101_JSCompiler_temp_const$jscomp$196$$=$element$jscomp$70$$.getAttribute("json")){$JSCompiler_height$jscomp$inline_110_JSCompiler_json$jscomp$inline_100_JSCompiler_name$jscomp$inline_99_JSCompiler_obj$jscomp$inline_101_JSCompiler_temp_const$jscomp$196$$=
$tryParseJson$$module$src$json$$($JSCompiler_height$jscomp$inline_110_JSCompiler_json$jscomp$inline_100_JSCompiler_name$jscomp$inline_99_JSCompiler_obj$jscomp$inline_101_JSCompiler_temp_const$jscomp$196$$);if(void 0===$JSCompiler_height$jscomp$inline_110_JSCompiler_json$jscomp$inline_100_JSCompiler_name$jscomp$inline_99_JSCompiler_obj$jscomp$inline_101_JSCompiler_temp_const$jscomp$196$$)throw $user$$module$src$log$$().createError("Error parsing JSON in json attribute in element %s",$element$jscomp$70$$);
for(var $JSCompiler_attributes$jscomp$inline_107_JSCompiler_key$jscomp$inline_102$$ in $JSCompiler_height$jscomp$inline_110_JSCompiler_json$jscomp$inline_100_JSCompiler_name$jscomp$inline_99_JSCompiler_obj$jscomp$inline_101_JSCompiler_temp_const$jscomp$196$$)$JSCompiler_attributes$jscomp$inline_97_JSCompiler_referrer$jscomp$inline_114_JSCompiler_width$jscomp$inline_109$$[$JSCompiler_attributes$jscomp$inline_107_JSCompiler_key$jscomp$inline_102$$]=$JSCompiler_height$jscomp$inline_110_JSCompiler_json$jscomp$inline_100_JSCompiler_name$jscomp$inline_99_JSCompiler_obj$jscomp$inline_101_JSCompiler_temp_const$jscomp$196$$[$JSCompiler_attributes$jscomp$inline_107_JSCompiler_key$jscomp$inline_102$$]}$JSCompiler_attributes$jscomp$inline_107_JSCompiler_key$jscomp$inline_102$$=
$JSCompiler_startTime$jscomp$inline_108_JSCompiler_win$jscomp$inline_94_attributes$jscomp$4$$;$JSCompiler_startTime$jscomp$inline_108_JSCompiler_win$jscomp$inline_94_attributes$jscomp$4$$=Date.now();$JSCompiler_attributes$jscomp$inline_97_JSCompiler_referrer$jscomp$inline_114_JSCompiler_width$jscomp$inline_109$$=$element$jscomp$70$$.getAttribute("width");$JSCompiler_height$jscomp$inline_110_JSCompiler_json$jscomp$inline_100_JSCompiler_name$jscomp$inline_99_JSCompiler_obj$jscomp$inline_101_JSCompiler_temp_const$jscomp$196$$=
$element$jscomp$70$$.getAttribute("height");$JSCompiler_attributes$jscomp$inline_107_JSCompiler_key$jscomp$inline_102$$=$JSCompiler_attributes$jscomp$inline_107_JSCompiler_key$jscomp$inline_102$$?$JSCompiler_attributes$jscomp$inline_107_JSCompiler_key$jscomp$inline_102$$:{};$JSCompiler_attributes$jscomp$inline_107_JSCompiler_key$jscomp$inline_102$$.width=$getLengthNumeral$$module$src$layout$$($JSCompiler_attributes$jscomp$inline_97_JSCompiler_referrer$jscomp$inline_114_JSCompiler_width$jscomp$inline_109$$);
$JSCompiler_attributes$jscomp$inline_107_JSCompiler_key$jscomp$inline_102$$.height=$getLengthNumeral$$module$src$layout$$($JSCompiler_height$jscomp$inline_110_JSCompiler_json$jscomp$inline_100_JSCompiler_name$jscomp$inline_99_JSCompiler_obj$jscomp$inline_101_JSCompiler_temp_const$jscomp$196$$);$element$jscomp$70$$.getAttribute("title")&&($JSCompiler_attributes$jscomp$inline_107_JSCompiler_key$jscomp$inline_102$$.title=$element$jscomp$70$$.getAttribute("title"));var $JSCompiler_locationHref$jscomp$inline_111_JSCompiler_temp_const$jscomp$191$$=
$JSCompiler_adSrc$jscomp$inline_116_parentWindow$jscomp$1$$.location.href;"about:srcdoc"==$JSCompiler_locationHref$jscomp$inline_111_JSCompiler_temp_const$jscomp$191$$&&($JSCompiler_locationHref$jscomp$inline_111_JSCompiler_temp_const$jscomp$191$$=$JSCompiler_adSrc$jscomp$inline_116_parentWindow$jscomp$1$$.parent.location.href);var $JSCompiler_docInfo$jscomp$inline_112_JSCompiler_temp_const$jscomp$192$$=$getServiceForDoc$$module$src$service$$($element$jscomp$70$$,"documentInfo").get(),$JSCompiler_temp_const$jscomp$187_JSCompiler_viewer$jscomp$inline_113$$=
$getServiceForDoc$$module$src$service$$($element$jscomp$70$$,"viewer");$JSCompiler_attributes$jscomp$inline_97_JSCompiler_referrer$jscomp$inline_114_JSCompiler_width$jscomp$inline_109$$=$JSCompiler_temp_const$jscomp$187_JSCompiler_viewer$jscomp$inline_113$$.getUnconfirmedReferrerUrl();var $JSCompiler_layoutRect$jscomp$inline_115_JSCompiler_temp_const$jscomp$186$$=$element$jscomp$70$$.getPageLayoutBox();$JSCompiler_height$jscomp$inline_110_JSCompiler_json$jscomp$inline_100_JSCompiler_name$jscomp$inline_99_JSCompiler_obj$jscomp$inline_101_JSCompiler_temp_const$jscomp$196$$=
$JSCompiler_attributes$jscomp$inline_107_JSCompiler_key$jscomp$inline_102$$;$JSCompiler_dataset$jscomp$inline_98_JSCompiler_temp_const$jscomp$195$$=$urls$$module$src$config$$.thirdParty+"/1904281823091/ampcontext-v0.js";var $JSCompiler_temp_const$jscomp$194$$=$JSCompiler_docInfo$jscomp$inline_112_JSCompiler_temp_const$jscomp$192$$.sourceUrl,$JSCompiler_temp_const$jscomp$193$$=$JSCompiler_docInfo$jscomp$inline_112_JSCompiler_temp_const$jscomp$192$$.canonicalUrl;$JSCompiler_docInfo$jscomp$inline_112_JSCompiler_temp_const$jscomp$192$$=
$JSCompiler_docInfo$jscomp$inline_112_JSCompiler_temp_const$jscomp$192$$.pageViewId;$JSCompiler_locationHref$jscomp$inline_111_JSCompiler_temp_const$jscomp$191$$={href:$JSCompiler_locationHref$jscomp$inline_111_JSCompiler_temp_const$jscomp$191$$};var $JSCompiler_temp_const$jscomp$190$$=$element$jscomp$70$$.tagName,$JSCompiler_temp_const$jscomp$189$$={localDev:$getMode$$module$src$mode$$(void 0).localDev,development:$getMode$$module$src$mode$$(void 0).development,filter:$getMode$$module$src$mode$$(void 0).filter,
minified:$getMode$$module$src$mode$$(void 0).minified,lite:$getMode$$module$src$mode$$(void 0).lite,test:$getMode$$module$src$mode$$(void 0).test,log:$getMode$$module$src$mode$$(void 0).log,version:$getMode$$module$src$mode$$(void 0).version,rtvVersion:$getMode$$module$src$mode$$(void 0).rtvVersion,singlePassType:$getMode$$module$src$mode$$(void 0).singlePassType},$JSCompiler_temp_const$jscomp$188$$=!(!$JSCompiler_adSrc$jscomp$inline_116_parentWindow$jscomp$1$$.AMP_CONFIG||!$JSCompiler_adSrc$jscomp$inline_116_parentWindow$jscomp$1$$.AMP_CONFIG.canary);
$JSCompiler_temp_const$jscomp$187_JSCompiler_viewer$jscomp$inline_113$$=!$JSCompiler_temp_const$jscomp$187_JSCompiler_viewer$jscomp$inline_113$$.isVisible();$JSCompiler_layoutRect$jscomp$inline_115_JSCompiler_temp_const$jscomp$186$$=$JSCompiler_layoutRect$jscomp$inline_115_JSCompiler_temp_const$jscomp$186$$?{left:$JSCompiler_layoutRect$jscomp$inline_115_JSCompiler_temp_const$jscomp$186$$.left,top:$JSCompiler_layoutRect$jscomp$inline_115_JSCompiler_temp_const$jscomp$186$$.top,width:$JSCompiler_layoutRect$jscomp$inline_115_JSCompiler_temp_const$jscomp$186$$.width,
height:$JSCompiler_layoutRect$jscomp$inline_115_JSCompiler_temp_const$jscomp$186$$.height}:null;var $JSCompiler_temp_const$jscomp$185$$=$element$jscomp$70$$.getIntersectionChangeEntry();var $JSCompiler_element$jscomp$inline_201_JSCompiler_inline_result$jscomp$199$$=$element$jscomp$70$$;for(var $JSCompiler_ids$jscomp$inline_202_JSCompiler_length$jscomp$inline_208$$=[],$JSCompiler_hash$jscomp$inline_209_JSCompiler_level$jscomp$inline_203$$=0;$JSCompiler_element$jscomp$inline_201_JSCompiler_inline_result$jscomp$199$$&&
1==$JSCompiler_element$jscomp$inline_201_JSCompiler_inline_result$jscomp$199$$.nodeType&&25>$JSCompiler_hash$jscomp$inline_209_JSCompiler_level$jscomp$inline_203$$;){var $JSCompiler_i$jscomp$inline_210_JSCompiler_id$jscomp$inline_204$$="";$JSCompiler_element$jscomp$inline_201_JSCompiler_inline_result$jscomp$199$$.id&&($JSCompiler_i$jscomp$inline_210_JSCompiler_id$jscomp$inline_204$$="/"+$JSCompiler_element$jscomp$inline_201_JSCompiler_inline_result$jscomp$199$$.id);$JSCompiler_ids$jscomp$inline_202_JSCompiler_length$jscomp$inline_208$$.push(""+
$JSCompiler_element$jscomp$inline_201_JSCompiler_inline_result$jscomp$199$$.nodeName.toLowerCase()+$JSCompiler_i$jscomp$inline_210_JSCompiler_id$jscomp$inline_204$$+$indexWithinParent$$module$src$utils$dom_fingerprint$$($JSCompiler_element$jscomp$inline_201_JSCompiler_inline_result$jscomp$199$$));$JSCompiler_hash$jscomp$inline_209_JSCompiler_level$jscomp$inline_203$$++;$JSCompiler_element$jscomp$inline_201_JSCompiler_inline_result$jscomp$199$$=$JSCompiler_element$jscomp$inline_201_JSCompiler_inline_result$jscomp$199$$.parentElement}$JSCompiler_element$jscomp$inline_201_JSCompiler_inline_result$jscomp$199$$=
$JSCompiler_ids$jscomp$inline_202_JSCompiler_length$jscomp$inline_208$$.join();$JSCompiler_ids$jscomp$inline_202_JSCompiler_length$jscomp$inline_208$$=$JSCompiler_element$jscomp$inline_201_JSCompiler_inline_result$jscomp$199$$.length;$JSCompiler_hash$jscomp$inline_209_JSCompiler_level$jscomp$inline_203$$=5381;for($JSCompiler_i$jscomp$inline_210_JSCompiler_id$jscomp$inline_204$$=0;$JSCompiler_i$jscomp$inline_210_JSCompiler_id$jscomp$inline_204$$<$JSCompiler_ids$jscomp$inline_202_JSCompiler_length$jscomp$inline_208$$;$JSCompiler_i$jscomp$inline_210_JSCompiler_id$jscomp$inline_204$$++)$JSCompiler_hash$jscomp$inline_209_JSCompiler_level$jscomp$inline_203$$=
33*$JSCompiler_hash$jscomp$inline_209_JSCompiler_level$jscomp$inline_203$$^$JSCompiler_element$jscomp$inline_201_JSCompiler_inline_result$jscomp$199$$.charCodeAt($JSCompiler_i$jscomp$inline_210_JSCompiler_id$jscomp$inline_204$$);$JSCompiler_height$jscomp$inline_110_JSCompiler_json$jscomp$inline_100_JSCompiler_name$jscomp$inline_99_JSCompiler_obj$jscomp$inline_101_JSCompiler_temp_const$jscomp$196$$._context=$dict$$module$src$utils$object$$({ampcontextVersion:"1904281823091",ampcontextFilepath:$JSCompiler_dataset$jscomp$inline_98_JSCompiler_temp_const$jscomp$195$$,
sourceUrl:$JSCompiler_temp_const$jscomp$194$$,referrer:$JSCompiler_attributes$jscomp$inline_97_JSCompiler_referrer$jscomp$inline_114_JSCompiler_width$jscomp$inline_109$$,canonicalUrl:$JSCompiler_temp_const$jscomp$193$$,pageViewId:$JSCompiler_docInfo$jscomp$inline_112_JSCompiler_temp_const$jscomp$192$$,location:$JSCompiler_locationHref$jscomp$inline_111_JSCompiler_temp_const$jscomp$191$$,startTime:$JSCompiler_startTime$jscomp$inline_108_JSCompiler_win$jscomp$inline_94_attributes$jscomp$4$$,tagName:$JSCompiler_temp_const$jscomp$190$$,
mode:$JSCompiler_temp_const$jscomp$189$$,canary:$JSCompiler_temp_const$jscomp$188$$,hidden:$JSCompiler_temp_const$jscomp$187_JSCompiler_viewer$jscomp$inline_113$$,initialLayoutRect:$JSCompiler_layoutRect$jscomp$inline_115_JSCompiler_temp_const$jscomp$186$$,initialIntersection:$JSCompiler_temp_const$jscomp$185$$,domFingerprint:String($JSCompiler_hash$jscomp$inline_209_JSCompiler_level$jscomp$inline_203$$>>>0),experimentToggles:$experimentToggles$$module$src$experiments$$($JSCompiler_adSrc$jscomp$inline_116_parentWindow$jscomp$1$$),
sentinel:$JSCompiler_inline_result$jscomp$32_JSCompiler_windowDepth$jscomp$inline_93$$});($JSCompiler_adSrc$jscomp$inline_116_parentWindow$jscomp$1$$=$element$jscomp$70$$.getAttribute("src"))&&($JSCompiler_attributes$jscomp$inline_107_JSCompiler_key$jscomp$inline_102$$.src=$JSCompiler_adSrc$jscomp$inline_116_parentWindow$jscomp$1$$);$JSCompiler_startTime$jscomp$inline_108_JSCompiler_win$jscomp$inline_94_attributes$jscomp$4$$=$JSCompiler_attributes$jscomp$inline_107_JSCompiler_key$jscomp$inline_102$$;
$JSCompiler_startTime$jscomp$inline_108_JSCompiler_win$jscomp$inline_94_attributes$jscomp$4$$.type="reddit";Object.assign($JSCompiler_startTime$jscomp$inline_108_JSCompiler_win$jscomp$inline_94_attributes$jscomp$4$$._context,null);return $JSCompiler_startTime$jscomp$inline_108_JSCompiler_win$jscomp$inline_94_attributes$jscomp$4$$}
function $getIframe$$module$src$3p_frame$$($parentWindow$jscomp$2$$,$parentElement$$){var $$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$={allowFullscreen:!0};$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$=void 0===$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$?{}:$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$;var $disallowCustom$$=$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$.disallowCustom,
$allowFullscreen$$=$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$.allowFullscreen;$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$=$getFrameAttributes$$module$src$3p_frame$$($parentWindow$jscomp$2$$,$parentElement$$);var $iframe$$=$parentWindow$jscomp$2$$.document.createElement("iframe");$count$$module$src$3p_frame$$[$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$.type]||($count$$module$src$3p_frame$$[$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$.type]=
0);$count$$module$src$3p_frame$$[$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$.type]+=1;var $baseUrl$jscomp$2$$=$getBootstrapBaseUrl$$module$src$3p_frame$$($parentWindow$jscomp$2$$,$disallowCustom$$),$host$$=$parseUrlDeprecated$$module$src$url$$($baseUrl$jscomp$2$$).hostname,$name$jscomp$79$$=JSON.stringify($dict$$module$src$utils$object$$({host:$host$$,type:$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$.type,count:$count$$module$src$3p_frame$$[$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$.type],
attributes:$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$}));$iframe$$.src=$baseUrl$jscomp$2$$;$iframe$$.ampLocation=$parseUrlDeprecated$$module$src$url$$($baseUrl$jscomp$2$$);$iframe$$.name=$name$jscomp$79$$;$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$.width&&($iframe$$.width=$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$.width);$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$.height&&
($iframe$$.height=$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$.height);$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$.title&&($iframe$$.title=$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$.title);$allowFullscreen$$&&$iframe$$.setAttribute("allowfullscreen","true");$iframe$$.setAttribute("scrolling","no");$setStyle$$module$src$style$$($iframe$$);$iframe$$.onload=function(){this.readyState="complete"};
$isExperimentOn$$module$src$experiments$$($parentWindow$jscomp$2$$,"no-sync-xhr-in-ads")&&$iframe$$.setAttribute("allow","sync-xhr 'none';");var $excludeFromSandbox$$=["facebook"];$isExperimentOn$$module$src$experiments$$($parentWindow$jscomp$2$$,"sandbox-ads")&&!$excludeFromSandbox$$.includes("reddit")&&$applySandbox$$module$src$3p_frame$$($iframe$$);$iframe$$.setAttribute("data-amp-3p-sentinel",$$jscomp$destructuring$var16_$jscomp$destructuring$var17_attributes$jscomp$5$$._context.sentinel);return $iframe$$}
function $getBootstrapBaseUrl$$module$src$3p_frame$$($parentWindow$jscomp$3$$,$JSCompiler_opt_strictForUnitTest$jscomp$inline_119_JSCompiler_temp$jscomp$30_JSCompiler_temp$jscomp$31_opt_disallowCustom$jscomp$1$$){var $opt_strictForUnitTest$$=void 0;if($JSCompiler_opt_strictForUnitTest$jscomp$inline_119_JSCompiler_temp$jscomp$30_JSCompiler_temp$jscomp$31_opt_disallowCustom$jscomp$1$$)$JSCompiler_opt_strictForUnitTest$jscomp$inline_119_JSCompiler_temp$jscomp$30_JSCompiler_temp$jscomp$31_opt_disallowCustom$jscomp$1$$=
null;else{$JSCompiler_opt_strictForUnitTest$jscomp$inline_119_JSCompiler_temp$jscomp$30_JSCompiler_temp$jscomp$31_opt_disallowCustom$jscomp$1$$=$opt_strictForUnitTest$$;var $JSCompiler_meta$jscomp$inline_120$$=$parentWindow$jscomp$3$$.document.querySelector('meta[name="amp-3p-iframe-src"]');if($JSCompiler_meta$jscomp$inline_120$$){var $JSCompiler_urlString$jscomp$inline_175$$=$JSCompiler_meta$jscomp$inline_120$$.getAttribute("content");var $JSCompiler_parsed$jscomp$inline_122_JSCompiler_sourceName$jscomp$inline_177$$=
void 0===$JSCompiler_parsed$jscomp$inline_122_JSCompiler_sourceName$jscomp$inline_177$$?"source":$JSCompiler_parsed$jscomp$inline_122_JSCompiler_sourceName$jscomp$inline_177$$;$userAssert$$module$src$log$$(null!=$JSCompiler_urlString$jscomp$inline_175$$,"%s %s must be available",$JSCompiler_meta$jscomp$inline_120$$,$JSCompiler_parsed$jscomp$inline_122_JSCompiler_sourceName$jscomp$inline_177$$);var $JSCompiler_string$jscomp$inline_215_JSCompiler_url$jscomp$inline_212$$=$JSCompiler_urlString$jscomp$inline_175$$;
"string"==typeof $JSCompiler_string$jscomp$inline_215_JSCompiler_url$jscomp$inline_212$$&&($JSCompiler_string$jscomp$inline_215_JSCompiler_url$jscomp$inline_212$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_string$jscomp$inline_215_JSCompiler_url$jscomp$inline_212$$));var $JSCompiler_index$jscomp$inline_216_JSCompiler_temp$jscomp$214$$;($JSCompiler_index$jscomp$inline_216_JSCompiler_temp$jscomp$214$$="https:"==$JSCompiler_string$jscomp$inline_215_JSCompiler_url$jscomp$inline_212$$.protocol||
"localhost"==$JSCompiler_string$jscomp$inline_215_JSCompiler_url$jscomp$inline_212$$.hostname||"127.0.0.1"==$JSCompiler_string$jscomp$inline_215_JSCompiler_url$jscomp$inline_212$$.hostname)||($JSCompiler_string$jscomp$inline_215_JSCompiler_url$jscomp$inline_212$$=$JSCompiler_string$jscomp$inline_215_JSCompiler_url$jscomp$inline_212$$.hostname,$JSCompiler_index$jscomp$inline_216_JSCompiler_temp$jscomp$214$$=$JSCompiler_string$jscomp$inline_215_JSCompiler_url$jscomp$inline_212$$.length-10,$JSCompiler_index$jscomp$inline_216_JSCompiler_temp$jscomp$214$$=
0<=$JSCompiler_index$jscomp$inline_216_JSCompiler_temp$jscomp$214$$&&$JSCompiler_string$jscomp$inline_215_JSCompiler_url$jscomp$inline_212$$.indexOf(".localhost",$JSCompiler_index$jscomp$inline_216_JSCompiler_temp$jscomp$214$$)==$JSCompiler_index$jscomp$inline_216_JSCompiler_temp$jscomp$214$$);$userAssert$$module$src$log$$($JSCompiler_index$jscomp$inline_216_JSCompiler_temp$jscomp$214$$||/^(\/\/)/.test($JSCompiler_urlString$jscomp$inline_175$$),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',
$JSCompiler_meta$jscomp$inline_120$$,$JSCompiler_parsed$jscomp$inline_122_JSCompiler_sourceName$jscomp$inline_177$$,$JSCompiler_urlString$jscomp$inline_175$$);$userAssert$$module$src$log$$(-1==$JSCompiler_urlString$jscomp$inline_175$$.indexOf("?"),"3p iframe url must not include query string %s in element %s.",$JSCompiler_urlString$jscomp$inline_175$$,$JSCompiler_meta$jscomp$inline_120$$);$JSCompiler_parsed$jscomp$inline_122_JSCompiler_sourceName$jscomp$inline_177$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_urlString$jscomp$inline_175$$);
$userAssert$$module$src$log$$("localhost"==$JSCompiler_parsed$jscomp$inline_122_JSCompiler_sourceName$jscomp$inline_177$$.hostname&&!$JSCompiler_opt_strictForUnitTest$jscomp$inline_119_JSCompiler_temp$jscomp$30_JSCompiler_temp$jscomp$31_opt_disallowCustom$jscomp$1$$||$JSCompiler_parsed$jscomp$inline_122_JSCompiler_sourceName$jscomp$inline_177$$.origin!=$parseUrlDeprecated$$module$src$url$$($parentWindow$jscomp$3$$.location.href).origin,"3p iframe url must not be on the same origin as the current document %s (%s) in element %s. See https://github.com/ampproject/amphtml/blob/master/spec/amp-iframe-origin-policy.md for details.",
$JSCompiler_urlString$jscomp$inline_175$$,$JSCompiler_parsed$jscomp$inline_122_JSCompiler_sourceName$jscomp$inline_177$$.origin,$JSCompiler_meta$jscomp$inline_120$$);$JSCompiler_opt_strictForUnitTest$jscomp$inline_119_JSCompiler_temp$jscomp$30_JSCompiler_temp$jscomp$31_opt_disallowCustom$jscomp$1$$=$JSCompiler_urlString$jscomp$inline_175$$+"?1904281823091"}else $JSCompiler_opt_strictForUnitTest$jscomp$inline_119_JSCompiler_temp$jscomp$30_JSCompiler_temp$jscomp$31_opt_disallowCustom$jscomp$1$$=null}var $customBootstrapBaseUrl$$=
$JSCompiler_opt_strictForUnitTest$jscomp$inline_119_JSCompiler_temp$jscomp$30_JSCompiler_temp$jscomp$31_opt_disallowCustom$jscomp$1$$;($JSCompiler_opt_strictForUnitTest$jscomp$inline_119_JSCompiler_temp$jscomp$30_JSCompiler_temp$jscomp$31_opt_disallowCustom$jscomp$1$$=$customBootstrapBaseUrl$$)||($getMode$$module$src$mode$$().localDev||$getMode$$module$src$mode$$().test?$JSCompiler_opt_strictForUnitTest$jscomp$inline_119_JSCompiler_temp$jscomp$30_JSCompiler_temp$jscomp$31_opt_disallowCustom$jscomp$1$$=
$getAdsLocalhost$$module$src$3p_frame$$($parentWindow$jscomp$3$$)+"/dist.3p/"+($getMode$$module$src$mode$$().minified?"1904281823091/frame":"current/frame.max")+".html":($parentWindow$jscomp$3$$.defaultBootstrapSubDomain=$parentWindow$jscomp$3$$.defaultBootstrapSubDomain||"d-"+$getRandom$$module$src$3p_frame$$($parentWindow$jscomp$3$$),$JSCompiler_opt_strictForUnitTest$jscomp$inline_119_JSCompiler_temp$jscomp$30_JSCompiler_temp$jscomp$31_opt_disallowCustom$jscomp$1$$="https://"+$parentWindow$jscomp$3$$.defaultBootstrapSubDomain+
("."+$urls$$module$src$config$$.thirdPartyFrameHost+"/1904281823091/")+"frame.html"));return $JSCompiler_opt_strictForUnitTest$jscomp$inline_119_JSCompiler_temp$jscomp$30_JSCompiler_temp$jscomp$31_opt_disallowCustom$jscomp$1$$}
function $getAdsLocalhost$$module$src$3p_frame$$($win$jscomp$65$$){var $adsUrl$$=$urls$$module$src$config$$.thirdParty;-1<$adsUrl$$.indexOf("ampproject.net")&&($adsUrl$$="http://ads.localhost");return $adsUrl$$+":"+($win$jscomp$65$$.location.port||$win$jscomp$65$$.parent.location.port)}
function $getRandom$$module$src$3p_frame$$($win$jscomp$67$$){if($win$jscomp$67$$.crypto&&$win$jscomp$67$$.crypto.getRandomValues){var $uint32array$$=new Uint32Array(2);$win$jscomp$67$$.crypto.getRandomValues($uint32array$$);var $rand$$=String($uint32array$$[0])+$uint32array$$[1]}else $rand$$=String($win$jscomp$67$$.Math.random()).substr(2)+"0";return $rand$$}
function $applySandbox$$module$src$3p_frame$$($iframe$jscomp$1$$){if($iframe$jscomp$1$$.sandbox&&$iframe$jscomp$1$$.sandbox.supports){for(var $requiredFlags$$=["allow-top-navigation-by-user-activation","allow-popups-to-escape-sandbox"],$otherFlags$$="allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts".split(" "),$i$jscomp$23$$=0;$i$jscomp$23$$<$requiredFlags$$.length;$i$jscomp$23$$++){var $flag$jscomp$1$$=$requiredFlags$$[$i$jscomp$23$$];if(!$iframe$jscomp$1$$.sandbox.supports($flag$jscomp$1$$)){$dev$$module$src$log$$().info("3p-frame",
"Iframe doesn't support %s",$flag$jscomp$1$$);return}}$iframe$jscomp$1$$.sandbox=$requiredFlags$$.join(" ")+" "+$otherFlags$$.join(" ")}};function $deserializeMessage$$module$src$3p_frame_messaging$$($message$jscomp$30$$){if(!$isAmpMessage$$module$src$3p_frame_messaging$$($message$jscomp$30$$))return null;var $startPos$$=$message$jscomp$30$$.indexOf("{");try{return JSON.parse($message$jscomp$30$$.substr($startPos$$))}catch($e$jscomp$19$$){return $dev$$module$src$log$$().error("MESSAGING","Failed to parse message: "+$message$jscomp$30$$,$e$jscomp$19$$),null}}
function $isAmpMessage$$module$src$3p_frame_messaging$$($message$jscomp$31$$){return"string"==typeof $message$jscomp$31$$&&0==$message$jscomp$31$$.indexOf("amp-")&&-1!=$message$jscomp$31$$.indexOf("{")};function $getListenForSentinel$$module$src$iframe_helper$$($JSCompiler_inline_result$jscomp$33_parentWin$jscomp$2$$,$sentinel$jscomp$3$$,$opt_create$jscomp$1$$){var $JSCompiler_listeningFors$jscomp$inline_130$$=$JSCompiler_inline_result$jscomp$33_parentWin$jscomp$2$$.listeningFors;!$JSCompiler_listeningFors$jscomp$inline_130$$&&$opt_create$jscomp$1$$&&($JSCompiler_listeningFors$jscomp$inline_130$$=$JSCompiler_inline_result$jscomp$33_parentWin$jscomp$2$$.listeningFors=Object.create(null));$JSCompiler_inline_result$jscomp$33_parentWin$jscomp$2$$=
$JSCompiler_listeningFors$jscomp$inline_130$$||null;if(!$JSCompiler_inline_result$jscomp$33_parentWin$jscomp$2$$)return $JSCompiler_inline_result$jscomp$33_parentWin$jscomp$2$$;var $listenSentinel$$=$JSCompiler_inline_result$jscomp$33_parentWin$jscomp$2$$[$sentinel$jscomp$3$$];!$listenSentinel$$&&$opt_create$jscomp$1$$&&($listenSentinel$$=$JSCompiler_inline_result$jscomp$33_parentWin$jscomp$2$$[$sentinel$jscomp$3$$]=[]);return $listenSentinel$$||null}
function $getOrCreateListenForEvents$$module$src$iframe_helper$$($listenSentinel$jscomp$1_parentWin$jscomp$3$$,$iframe$jscomp$2$$){var $opt_is3P$$=!0,$i$jscomp$27_sentinel$jscomp$4$$=$opt_is3P$$?$iframe$jscomp$2$$.getAttribute("data-amp-3p-sentinel"):"amp";$listenSentinel$jscomp$1_parentWin$jscomp$3$$=$getListenForSentinel$$module$src$iframe_helper$$($listenSentinel$jscomp$1_parentWin$jscomp$3$$,$i$jscomp$27_sentinel$jscomp$4$$,!0);for($i$jscomp$27_sentinel$jscomp$4$$=0;$i$jscomp$27_sentinel$jscomp$4$$<
$listenSentinel$jscomp$1_parentWin$jscomp$3$$.length;$i$jscomp$27_sentinel$jscomp$4$$++){var $we$$=$listenSentinel$jscomp$1_parentWin$jscomp$3$$[$i$jscomp$27_sentinel$jscomp$4$$];if($we$$.frame===$iframe$jscomp$2$$){var $windowEvents$$=$we$$;break}}$windowEvents$$||($windowEvents$$={frame:$iframe$jscomp$2$$,events:Object.create(null)},$listenSentinel$jscomp$1_parentWin$jscomp$3$$.push($windowEvents$$));return $windowEvents$$.events}
function $dropListenSentinel$$module$src$iframe_helper$$($listenSentinel$jscomp$3$$){for(var $noopData$$=$dict$$module$src$utils$object$$({sentinel:"unlisten"}),$i$jscomp$29$$=$listenSentinel$jscomp$3$$.length-1;0<=$i$jscomp$29$$;$i$jscomp$29$$--){var $windowEvents$jscomp$2$$=$listenSentinel$jscomp$3$$[$i$jscomp$29$$];if(!$windowEvents$jscomp$2$$.frame.contentWindow){$listenSentinel$jscomp$3$$.splice($i$jscomp$29$$,1);var $events$$=$windowEvents$jscomp$2$$.events,$name$jscomp$81$$;for($name$jscomp$81$$ in $events$$)$events$$[$name$jscomp$81$$].splice(0,
Infinity).forEach(function($listenSentinel$jscomp$3$$){$listenSentinel$jscomp$3$$($noopData$$)})}}}
function $registerGlobalListenerIfNeeded$$module$src$iframe_helper$$($parentWin$jscomp$5$$){if(!$parentWin$jscomp$5$$.listeningFors){var $listenForListener$$=function($listenForListener$$){if($listenForListener$$.data){var $event$jscomp$10$$=$parseIfNeeded$$module$src$iframe_helper$$($listenForListener$$.data);if($event$jscomp$10$$&&$event$jscomp$10$$.sentinel){var $JSCompiler_inline_result$jscomp$34_JSCompiler_triggerWin$jscomp$inline_134_i$jscomp$30$$=$listenForListener$$.source;var $JSCompiler_listenSentinel$jscomp$inline_135$$=
$getListenForSentinel$$module$src$iframe_helper$$($parentWin$jscomp$5$$,$event$jscomp$10$$.sentinel);if($JSCompiler_listenSentinel$jscomp$inline_135$$){for(var $JSCompiler_windowEvents$jscomp$inline_136$$,$JSCompiler_i$jscomp$inline_137$$=0;$JSCompiler_i$jscomp$inline_137$$<$JSCompiler_listenSentinel$jscomp$inline_135$$.length;$JSCompiler_i$jscomp$inline_137$$++){var $JSCompiler_we$jscomp$inline_138$$=$JSCompiler_listenSentinel$jscomp$inline_135$$[$JSCompiler_i$jscomp$inline_137$$],$JSCompiler_contentWindow$jscomp$inline_139$$=
$JSCompiler_we$jscomp$inline_138$$.frame.contentWindow;if($JSCompiler_contentWindow$jscomp$inline_139$$){var $JSCompiler_temp$jscomp$159_JSCompiler_win$jscomp$inline_182$$;if(!($JSCompiler_temp$jscomp$159_JSCompiler_win$jscomp$inline_182$$=$JSCompiler_inline_result$jscomp$34_JSCompiler_triggerWin$jscomp$inline_134_i$jscomp$30$$==$JSCompiler_contentWindow$jscomp$inline_139$$))b:{for($JSCompiler_temp$jscomp$159_JSCompiler_win$jscomp$inline_182$$=$JSCompiler_inline_result$jscomp$34_JSCompiler_triggerWin$jscomp$inline_134_i$jscomp$30$$;$JSCompiler_temp$jscomp$159_JSCompiler_win$jscomp$inline_182$$&&
$JSCompiler_temp$jscomp$159_JSCompiler_win$jscomp$inline_182$$!=$JSCompiler_temp$jscomp$159_JSCompiler_win$jscomp$inline_182$$.parent;$JSCompiler_temp$jscomp$159_JSCompiler_win$jscomp$inline_182$$=$JSCompiler_temp$jscomp$159_JSCompiler_win$jscomp$inline_182$$.parent)if($JSCompiler_temp$jscomp$159_JSCompiler_win$jscomp$inline_182$$==$JSCompiler_contentWindow$jscomp$inline_139$$){$JSCompiler_temp$jscomp$159_JSCompiler_win$jscomp$inline_182$$=!0;break b}$JSCompiler_temp$jscomp$159_JSCompiler_win$jscomp$inline_182$$=
!1}if($JSCompiler_temp$jscomp$159_JSCompiler_win$jscomp$inline_182$$){$JSCompiler_windowEvents$jscomp$inline_136$$=$JSCompiler_we$jscomp$inline_138$$;break}}else setTimeout($dropListenSentinel$$module$src$iframe_helper$$,0,$JSCompiler_listenSentinel$jscomp$inline_135$$)}$JSCompiler_inline_result$jscomp$34_JSCompiler_triggerWin$jscomp$inline_134_i$jscomp$30$$=$JSCompiler_windowEvents$jscomp$inline_136$$?$JSCompiler_windowEvents$jscomp$inline_136$$.events:null}else $JSCompiler_inline_result$jscomp$34_JSCompiler_triggerWin$jscomp$inline_134_i$jscomp$30$$=
$JSCompiler_listenSentinel$jscomp$inline_135$$;var $listenForEvents$$=$JSCompiler_inline_result$jscomp$34_JSCompiler_triggerWin$jscomp$inline_134_i$jscomp$30$$;if($listenForEvents$$){var $listeners$$=$listenForEvents$$[$event$jscomp$10$$.type];if($listeners$$)for($listeners$$=$listeners$$.slice(),$JSCompiler_inline_result$jscomp$34_JSCompiler_triggerWin$jscomp$inline_134_i$jscomp$30$$=0;$JSCompiler_inline_result$jscomp$34_JSCompiler_triggerWin$jscomp$inline_134_i$jscomp$30$$<$listeners$$.length;$JSCompiler_inline_result$jscomp$34_JSCompiler_triggerWin$jscomp$inline_134_i$jscomp$30$$++)(0,$listeners$$[$JSCompiler_inline_result$jscomp$34_JSCompiler_triggerWin$jscomp$inline_134_i$jscomp$30$$])($event$jscomp$10$$,
$listenForListener$$.source,$listenForListener$$.origin)}}}};$parentWin$jscomp$5$$.addEventListener("message",$listenForListener$$)}}
function $listenFor$$module$src$iframe_helper$$($iframe$jscomp$3$$,$callback$jscomp$66$$){function $listener$jscomp$67$$($listener$jscomp$67$$,$typeOfMessage$$,$listenForEvents$jscomp$1_parentWin$jscomp$6$$){if("amp"==$listener$jscomp$67$$.sentinel){if($typeOfMessage$$!=$iframe$jscomp$3$$.contentWindow)return;var $events$jscomp$1$$="null"==$listenForEvents$jscomp$1_parentWin$jscomp$6$$&&$opt_allowOpaqueOrigin$$;if($iframeOrigin$$!=$listenForEvents$jscomp$1_parentWin$jscomp$6$$&&!$events$jscomp$1$$)return}if($opt_includingNestedWindows$$||
$typeOfMessage$$==$iframe$jscomp$3$$.contentWindow)"unlisten"==$listener$jscomp$67$$.sentinel?$unlisten$jscomp$2$$():$callback$jscomp$66$$($listener$jscomp$67$$,$typeOfMessage$$,$listenForEvents$jscomp$1_parentWin$jscomp$6$$)}var $typeOfMessage$$="embed-size",$opt_includingNestedWindows$$,$opt_allowOpaqueOrigin$$,$listenForEvents$jscomp$1_parentWin$jscomp$6$$=$iframe$jscomp$3$$.ownerDocument.defaultView;$registerGlobalListenerIfNeeded$$module$src$iframe_helper$$($listenForEvents$jscomp$1_parentWin$jscomp$6$$);
$listenForEvents$jscomp$1_parentWin$jscomp$6$$=$getOrCreateListenForEvents$$module$src$iframe_helper$$($listenForEvents$jscomp$1_parentWin$jscomp$6$$,$iframe$jscomp$3$$);var $iframeOrigin$$=$parseUrlDeprecated$$module$src$url$$($iframe$jscomp$3$$.src).origin,$events$jscomp$1$$=$listenForEvents$jscomp$1_parentWin$jscomp$6$$[$typeOfMessage$$]||($listenForEvents$jscomp$1_parentWin$jscomp$6$$[$typeOfMessage$$]=[]);$events$jscomp$1$$.push($listener$jscomp$67$$);var $unlisten$jscomp$2$$=function(){if($listener$jscomp$67$$){var $iframe$jscomp$3$$=
$events$jscomp$1$$.indexOf($listener$jscomp$67$$);-1<$iframe$jscomp$3$$&&$events$jscomp$1$$.splice($iframe$jscomp$3$$,1);$callback$jscomp$66$$=$events$jscomp$1$$=$listener$jscomp$67$$=null}}}
function $parseIfNeeded$$module$src$iframe_helper$$($data$jscomp$61$$){"string"==typeof $data$jscomp$61$$&&($data$jscomp$61$$="{"==$data$jscomp$61$$.charAt(0)?$tryParseJson$$module$src$json$$($data$jscomp$61$$,function($data$jscomp$61$$){$dev$$module$src$log$$().warn("IFRAME-HELPER","Postmessage could not be parsed. Is it in a valid JSON format?",$data$jscomp$61$$)})||null:$isAmpMessage$$module$src$3p_frame_messaging$$($data$jscomp$61$$)?$deserializeMessage$$module$src$3p_frame_messaging$$($data$jscomp$61$$):
null);return $data$jscomp$61$$};function $AmpReddit$$module$extensions$amp_reddit$0_1$amp_reddit$$($var_args$jscomp$55$$){return AMP.BaseElement.apply(this,arguments)||this}var $JSCompiler_parentCtor$jscomp$inline_142$$=AMP.BaseElement;$AmpReddit$$module$extensions$amp_reddit$0_1$amp_reddit$$.prototype=$$jscomp$objectCreate$$($JSCompiler_parentCtor$jscomp$inline_142$$.prototype);$AmpReddit$$module$extensions$amp_reddit$0_1$amp_reddit$$.prototype.constructor=$AmpReddit$$module$extensions$amp_reddit$0_1$amp_reddit$$;
if($$jscomp$setPrototypeOf$$)$$jscomp$setPrototypeOf$$($AmpReddit$$module$extensions$amp_reddit$0_1$amp_reddit$$,$JSCompiler_parentCtor$jscomp$inline_142$$);else for(var $JSCompiler_p$jscomp$inline_143$$ in $JSCompiler_parentCtor$jscomp$inline_142$$)if("prototype"!=$JSCompiler_p$jscomp$inline_143$$)if(Object.defineProperties){var $JSCompiler_descriptor$jscomp$inline_144$$=Object.getOwnPropertyDescriptor($JSCompiler_parentCtor$jscomp$inline_142$$,$JSCompiler_p$jscomp$inline_143$$);$JSCompiler_descriptor$jscomp$inline_144$$&&
Object.defineProperty($AmpReddit$$module$extensions$amp_reddit$0_1$amp_reddit$$,$JSCompiler_p$jscomp$inline_143$$,$JSCompiler_descriptor$jscomp$inline_144$$)}else $AmpReddit$$module$extensions$amp_reddit$0_1$amp_reddit$$[$JSCompiler_p$jscomp$inline_143$$]=$JSCompiler_parentCtor$jscomp$inline_142$$[$JSCompiler_p$jscomp$inline_143$$];$AmpReddit$$module$extensions$amp_reddit$0_1$amp_reddit$$.$superClass_$=$JSCompiler_parentCtor$jscomp$inline_142$$.prototype;
$AmpReddit$$module$extensions$amp_reddit$0_1$amp_reddit$$.prototype.preconnectCallback=function($onLayout$$){"comment"===this.element.getAttribute("data-embedtype")?(this.preconnect.url("https://www.redditmedia.com",$onLayout$$),this.preconnect.url("https://www.redditstatic.com",$onLayout$$),this.preconnect.preload("https://www.redditstatic.com/comment-embed.js","script")):(this.preconnect.url("https://www.reddit.com",$onLayout$$),this.preconnect.url("https://cdn.embedly.com",$onLayout$$),this.preconnect.preload("https://embed.redditmedia.com/widgets/platform.js",
"script"));var $JSCompiler_scriptUrl$jscomp$inline_150_JSCompiler_win$jscomp$inline_146$$=this.win,$JSCompiler_preconnect$jscomp$inline_147$$=this.preconnect,$JSCompiler_url$jscomp$inline_149$$=$getBootstrapBaseUrl$$module$src$3p_frame$$($JSCompiler_scriptUrl$jscomp$inline_150_JSCompiler_win$jscomp$inline_146$$,void 0);$JSCompiler_preconnect$jscomp$inline_147$$.preload($JSCompiler_url$jscomp$inline_149$$,"document");$JSCompiler_scriptUrl$jscomp$inline_150_JSCompiler_win$jscomp$inline_146$$=$getMode$$module$src$mode$$().localDev?
$getAdsLocalhost$$module$src$3p_frame$$($JSCompiler_scriptUrl$jscomp$inline_150_JSCompiler_win$jscomp$inline_146$$)+"/dist.3p/current/integration.js":$urls$$module$src$config$$.thirdParty+"/1904281823091/f.js";$JSCompiler_preconnect$jscomp$inline_147$$.preload($JSCompiler_scriptUrl$jscomp$inline_150_JSCompiler_win$jscomp$inline_146$$,"script")};
$AmpReddit$$module$extensions$amp_reddit$0_1$amp_reddit$$.prototype.isLayoutSupported=function($layout$jscomp$3$$){return"fixed"==$layout$jscomp$3$$||"fixed-height"==$layout$jscomp$3$$||"responsive"==$layout$jscomp$3$$||"fill"==$layout$jscomp$3$$||"flex-item"==$layout$jscomp$3$$||"fluid"==$layout$jscomp$3$$||"intrinsic"==$layout$jscomp$3$$};
$AmpReddit$$module$extensions$amp_reddit$0_1$amp_reddit$$.prototype.layoutCallback=function(){var $$jscomp$this$jscomp$2$$=this;$userAssert$$module$src$log$$(this.element.getAttribute("data-src"),"The data-src attribute is required for <amp-reddit> %s",this.element);$userAssert$$module$src$log$$(this.element.getAttribute("data-embedtype"),"The data-embedtype attribute is required for <amp-reddit> %s",this.element);var $iframe$jscomp$10$$=$getIframe$$module$src$3p_frame$$(this.win,this.element);this.applyFillContent($iframe$jscomp$10$$);
$listenFor$$module$src$iframe_helper$$($iframe$jscomp$10$$,function($iframe$jscomp$10$$){$$jscomp$this$jscomp$2$$.changeHeight($iframe$jscomp$10$$.height)});this.element.appendChild($iframe$jscomp$10$$);return this.loadPromise($iframe$jscomp$10$$)};(function($AMP$jscomp$1$$){$AMP$jscomp$1$$.registerElement("amp-reddit",$AmpReddit$$module$extensions$amp_reddit$0_1$amp_reddit$$)})(self.AMP);
})});

//# sourceMappingURL=amp-reddit-0.1.js.map
