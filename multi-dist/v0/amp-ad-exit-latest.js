(self.AMP=self.AMP||[]).push({n:"amp-ad-exit",v:"1904281823091",f:(function(AMP,_){
var $$jscomp$objectCreate$$="function"==typeof Object.create?Object.create:function($prototype$$){function $ctor$$(){}$ctor$$.prototype=$prototype$$;return new $ctor$$},$JSCompiler_temp$jscomp$17$$;
if("function"==typeof Object.setPrototypeOf)$JSCompiler_temp$jscomp$17$$=Object.setPrototypeOf;else{var $JSCompiler_inline_result$jscomp$18$$;a:{var $JSCompiler_x$jscomp$inline_29$$={a:!0},$JSCompiler_y$jscomp$inline_30$$={};try{$JSCompiler_y$jscomp$inline_30$$.__proto__=$JSCompiler_x$jscomp$inline_29$$;$JSCompiler_inline_result$jscomp$18$$=$JSCompiler_y$jscomp$inline_30$$.a;break a}catch($JSCompiler_e$jscomp$inline_31$$){}$JSCompiler_inline_result$jscomp$18$$=!1}$JSCompiler_temp$jscomp$17$$=$JSCompiler_inline_result$jscomp$18$$?
function($target$jscomp$83$$,$proto$jscomp$3$$){$target$jscomp$83$$.__proto__=$proto$jscomp$3$$;if($target$jscomp$83$$.__proto__!==$proto$jscomp$3$$)throw new TypeError($target$jscomp$83$$+" is not extensible");return $target$jscomp$83$$}:null}var $$jscomp$setPrototypeOf$$=$JSCompiler_temp$jscomp$17$$;
function $$jscomp$inherits$$($childCtor$$,$parentCtor$$){$childCtor$$.prototype=$$jscomp$objectCreate$$($parentCtor$$.prototype);$childCtor$$.prototype.constructor=$childCtor$$;if($$jscomp$setPrototypeOf$$)$$jscomp$setPrototypeOf$$($childCtor$$,$parentCtor$$);else for(var $p$$ in $parentCtor$$)if("prototype"!=$p$$)if(Object.defineProperties){var $descriptor$jscomp$1$$=Object.getOwnPropertyDescriptor($parentCtor$$,$p$$);$descriptor$jscomp$1$$&&Object.defineProperty($childCtor$$,$p$$,$descriptor$jscomp$1$$)}else $childCtor$$[$p$$]=
$parentCtor$$[$p$$];$childCtor$$.$superClass_$=$parentCtor$$.prototype}function $Filter$$module$extensions$amp_ad_exit$0_1$filters$filter$$($name$jscomp$70$$,$type$jscomp$134$$){this.name=$name$jscomp$70$$;this.type=$type$jscomp$134$$}$Filter$$module$extensions$amp_ad_exit$0_1$filters$filter$$.prototype.filter=function(){};$Filter$$module$extensions$amp_ad_exit$0_1$filters$filter$$.prototype.onLayoutMeasure=function(){};function $Deferred$$module$src$utils$promise$$(){var $resolve$$,$reject$$;this.promise=new Promise(function($res$$,$rej$$){$resolve$$=$res$$;$reject$$=$rej$$});this.resolve=$resolve$$;this.reject=$reject$$};function $tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($component$jscomp$4$$,$fallback$$){$fallback$$=void 0===$fallback$$?"":$fallback$$;try{return decodeURIComponent($component$jscomp$4$$)}catch($e$jscomp$8$$){return $fallback$$}};var $regex$$module$src$url_parse_query_string$$=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;
function $parseQueryString_$$module$src$url_parse_query_string$$($queryString$$){var $params$jscomp$1$$=Object.create(null);if(!$queryString$$)return $params$jscomp$1$$;for(var $match$$;$match$$=$regex$$module$src$url_parse_query_string$$.exec($queryString$$);){var $name$jscomp$71$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[1],$match$$[1]),$value$jscomp$87$$=$match$$[2]?$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[2],$match$$[2]):"";
$params$jscomp$1$$[$name$jscomp$71$$]=$value$jscomp$87$$}return $params$jscomp$1$$};var $rtvVersion$$module$src$mode$$="";
function $getMode$$module$src$mode$$(){var $opt_win$$,$win$$=$opt_win$$||self;if($win$$.AMP_MODE)var $JSCompiler_temp$jscomp$19_JSCompiler_win$jscomp$inline_33$$=$win$$.AMP_MODE;else{$JSCompiler_temp$jscomp$19_JSCompiler_win$jscomp$inline_33$$=$win$$;var $JSCompiler_AMP_CONFIG$jscomp$inline_34_JSCompiler_singlePassType$jscomp$inline_41$$=self.AMP_CONFIG||{},$JSCompiler_runningTests$jscomp$inline_38$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_34_JSCompiler_singlePassType$jscomp$inline_41$$.test||!(!$JSCompiler_temp$jscomp$19_JSCompiler_win$jscomp$inline_33$$.AMP_TEST&&
!$JSCompiler_temp$jscomp$19_JSCompiler_win$jscomp$inline_33$$.__karma__),$JSCompiler_isLocalDev$jscomp$inline_39$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_34_JSCompiler_singlePassType$jscomp$inline_41$$.localDev||$JSCompiler_runningTests$jscomp$inline_38$$,$JSCompiler_hashQuery$jscomp$inline_40$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$19_JSCompiler_win$jscomp$inline_33$$.location.originalHash||$JSCompiler_temp$jscomp$19_JSCompiler_win$jscomp$inline_33$$.location.hash);
$JSCompiler_AMP_CONFIG$jscomp$inline_34_JSCompiler_singlePassType$jscomp$inline_41$$=$JSCompiler_AMP_CONFIG$jscomp$inline_34_JSCompiler_singlePassType$jscomp$inline_41$$.spt;var $JSCompiler_searchQuery$jscomp$inline_42$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$19_JSCompiler_win$jscomp$inline_33$$.location.search);$rtvVersion$$module$src$mode$$||($rtvVersion$$module$src$mode$$=$JSCompiler_isLocalDev$jscomp$inline_39$$?"1904281823091":$JSCompiler_temp$jscomp$19_JSCompiler_win$jscomp$inline_33$$.AMP_CONFIG&&
$JSCompiler_temp$jscomp$19_JSCompiler_win$jscomp$inline_33$$.AMP_CONFIG.v?$JSCompiler_temp$jscomp$19_JSCompiler_win$jscomp$inline_33$$.AMP_CONFIG.v:"011904281823091");$JSCompiler_temp$jscomp$19_JSCompiler_win$jscomp$inline_33$$=$win$$.AMP_MODE={localDev:$JSCompiler_isLocalDev$jscomp$inline_39$$,development:!("1"!=$JSCompiler_hashQuery$jscomp$inline_40$$.development&&!$JSCompiler_temp$jscomp$19_JSCompiler_win$jscomp$inline_33$$.AMP_DEV_MODE),examiner:"2"==$JSCompiler_hashQuery$jscomp$inline_40$$.development,
filter:$JSCompiler_hashQuery$jscomp$inline_40$$.filter,geoOverride:$JSCompiler_hashQuery$jscomp$inline_40$$["amp-geo"],minified:!0,lite:void 0!=$JSCompiler_searchQuery$jscomp$inline_42$$.amp_lite,test:$JSCompiler_runningTests$jscomp$inline_38$$,log:$JSCompiler_hashQuery$jscomp$inline_40$$.log,version:"1904281823091",rtvVersion:$rtvVersion$$module$src$mode$$,singlePassType:$JSCompiler_AMP_CONFIG$jscomp$inline_34_JSCompiler_singlePassType$jscomp$inline_41$$}}return $JSCompiler_temp$jscomp$19_JSCompiler_win$jscomp$inline_33$$}
;var $toString_$$module$src$types$$=Object.prototype.toString;self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log;function $user$$module$src$log$$(){if(!$logs$$module$src$log$$.user)throw Error("failed to call initLogConstructor");return $logs$$module$src$log$$.user}function $dev$$module$src$log$$(){if($logs$$module$src$log$$.dev)return $logs$$module$src$log$$.dev;throw Error("failed to call initLogConstructor");}
function $userAssert$$module$src$log$$($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$){$user$$module$src$log$$().assert($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};function $getExistingServiceForDocInEmbedScope$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_98_JSCompiler_holder$jscomp$inline_99_element$jscomp$11$$){var $opt_fallbackToTopWin$$,$win$jscomp$6$$=$JSCompiler_ampdoc$jscomp$inline_98_JSCompiler_holder$jscomp$inline_99_element$jscomp$11$$.ownerDocument.defaultView,$isEmbed$$=$win$jscomp$6$$!=$getTopWindow$$module$src$service$$($win$jscomp$6$$);if($isEmbed$$){if($isServiceRegistered$$module$src$service$$($win$jscomp$6$$,"url-replace")){var $embedService$$=
$getServiceInternal$$module$src$service$$($win$jscomp$6$$,"url-replace");if($embedService$$)return $embedService$$}if(!$opt_fallbackToTopWin$$)return null}$JSCompiler_ampdoc$jscomp$inline_98_JSCompiler_holder$jscomp$inline_99_element$jscomp$11$$=$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_98_JSCompiler_holder$jscomp$inline_99_element$jscomp$11$$);$JSCompiler_ampdoc$jscomp$inline_98_JSCompiler_holder$jscomp$inline_99_element$jscomp$11$$=$getAmpdocServiceHolder$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_98_JSCompiler_holder$jscomp$inline_99_element$jscomp$11$$);
return $isServiceRegistered$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_98_JSCompiler_holder$jscomp$inline_99_element$jscomp$11$$,"url-replace")?$getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_98_JSCompiler_holder$jscomp$inline_99_element$jscomp$11$$,"url-replace"):null}function $getTopWindow$$module$src$service$$($win$jscomp$14$$){return $win$jscomp$14$$.__AMP_TOP||$win$jscomp$14$$}
function $getAmpdoc$$module$src$service$$($JSCompiler_temp$jscomp$92_nodeOrDoc$jscomp$2$$){if($JSCompiler_temp$jscomp$92_nodeOrDoc$jscomp$2$$.nodeType){var $JSCompiler_win$jscomp$inline_101$$=($JSCompiler_temp$jscomp$92_nodeOrDoc$jscomp$2$$.ownerDocument||$JSCompiler_temp$jscomp$92_nodeOrDoc$jscomp$2$$).defaultView;$JSCompiler_win$jscomp$inline_101$$=$getTopWindow$$module$src$service$$($JSCompiler_win$jscomp$inline_101$$);$JSCompiler_temp$jscomp$92_nodeOrDoc$jscomp$2$$=$getServiceInternal$$module$src$service$$($JSCompiler_win$jscomp$inline_101$$,
"ampdoc").getAmpDoc($JSCompiler_temp$jscomp$92_nodeOrDoc$jscomp$2$$)}return $JSCompiler_temp$jscomp$92_nodeOrDoc$jscomp$2$$}function $getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$){$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$=$getAmpdoc$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$);return $ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.isSingleDoc()?$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.win:$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$){$isServiceRegistered$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$);var $services$$=$getServices$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$);$holder$jscomp$4_s$jscomp$8$$=$services$$[$id$jscomp$19$$];$holder$jscomp$4_s$jscomp$8$$.obj||($holder$jscomp$4_s$jscomp$8$$.obj=new $holder$jscomp$4_s$jscomp$8$$.ctor($holder$jscomp$4_s$jscomp$8$$.context),$holder$jscomp$4_s$jscomp$8$$.ctor=
null,$holder$jscomp$4_s$jscomp$8$$.context=null,$holder$jscomp$4_s$jscomp$8$$.resolve&&$holder$jscomp$4_s$jscomp$8$$.resolve($holder$jscomp$4_s$jscomp$8$$.obj));return $holder$jscomp$4_s$jscomp$8$$.obj}
function $getServicePromiseInternal$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$){var $JSCompiler_inline_result$jscomp$22_JSCompiler_s$jscomp$inline_49$$;($JSCompiler_inline_result$jscomp$22_JSCompiler_s$jscomp$inline_49$$=$getServices$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$)["host-exit"])?$JSCompiler_inline_result$jscomp$22_JSCompiler_s$jscomp$inline_49$$.promise?$JSCompiler_inline_result$jscomp$22_JSCompiler_s$jscomp$inline_49$$=$JSCompiler_inline_result$jscomp$22_JSCompiler_s$jscomp$inline_49$$.promise:
($getServiceInternal$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$,"host-exit"),$JSCompiler_inline_result$jscomp$22_JSCompiler_s$jscomp$inline_49$$=$JSCompiler_inline_result$jscomp$22_JSCompiler_s$jscomp$inline_49$$.promise=Promise.resolve($JSCompiler_inline_result$jscomp$22_JSCompiler_s$jscomp$inline_49$$.obj)):$JSCompiler_inline_result$jscomp$22_JSCompiler_s$jscomp$inline_49$$=null;var $cached$$=$JSCompiler_inline_result$jscomp$22_JSCompiler_s$jscomp$inline_49$$;if($cached$$)return $cached$$;
$holder$jscomp$6_services$jscomp$2$$=$getServices$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$);$holder$jscomp$6_services$jscomp$2$$["host-exit"]=$emptyServiceHolderWithPromise$$module$src$service$$();return $holder$jscomp$6_services$jscomp$2$$["host-exit"].promise}
function $getServices$$module$src$service$$($holder$jscomp$9$$){var $services$jscomp$5$$=$holder$jscomp$9$$.services;$services$jscomp$5$$||($services$jscomp$5$$=$holder$jscomp$9$$.services={});return $services$jscomp$5$$}
function $isServiceRegistered$$module$src$service$$($holder$jscomp$12_service$jscomp$4$$,$id$jscomp$27$$){$holder$jscomp$12_service$jscomp$4$$=$holder$jscomp$12_service$jscomp$4$$.services&&$holder$jscomp$12_service$jscomp$4$$.services[$id$jscomp$27$$];return!(!$holder$jscomp$12_service$jscomp$4$$||!$holder$jscomp$12_service$jscomp$4$$.ctor&&!$holder$jscomp$12_service$jscomp$4$$.obj)}
function $emptyServiceHolderWithPromise$$module$src$service$$(){var $deferred$$=new $Deferred$$module$src$utils$promise$$,$$jscomp$destructuring$var2_reject$jscomp$3$$=$deferred$$,$promise$jscomp$1$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.promise,$resolve$jscomp$4$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.resolve;$$jscomp$destructuring$var2_reject$jscomp$3$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.reject;$promise$jscomp$1$$.catch(function(){});return{obj:null,promise:$promise$jscomp$1$$,
resolve:$resolve$jscomp$4$$,reject:$$jscomp$destructuring$var2_reject$jscomp$3$$,context:null,ctor:null}};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function $openWindowDialog$$module$src$dom$$($win$jscomp$18$$,$url$jscomp$21$$,$target$jscomp$85$$){var $opt_features$$;try{var $res$jscomp$1$$=$win$jscomp$18$$.open($url$jscomp$21$$,$target$jscomp$85$$,$opt_features$$)}catch($e$jscomp$14$$){$dev$$module$src$log$$().error("DOM","Failed to open url on target: ",$target$jscomp$85$$,$e$jscomp$14$$)}$res$jscomp$1$$||"_top"==$target$jscomp$85$$||$win$jscomp$18$$.open($url$jscomp$21$$,"_top")};var $optsSupported$$module$src$event_helper_listen$$;
function $internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$55$$,$listener$jscomp$62$$){var $opt_evtListenerOpts$$=void 0,$localElement$$=$element$jscomp$55$$,$localListener$$=$listener$jscomp$62$$;var $wrapped$$=function($element$jscomp$55$$){try{return $localListener$$($element$jscomp$55$$)}catch($e$jscomp$16$$){throw self.reportError($e$jscomp$16$$),$e$jscomp$16$$;}};var $optsSupported$$=$detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(),$capture$$=!1;
$opt_evtListenerOpts$$&&($capture$$=$opt_evtListenerOpts$$.capture);$localElement$$.addEventListener("message",$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$$);return function(){$localElement$$&&$localElement$$.removeEventListener("message",$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$$);$wrapped$$=$localElement$$=$localListener$$=null}}
function $detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(){if(void 0!==$optsSupported$$module$src$event_helper_listen$$)return $optsSupported$$module$src$event_helper_listen$$;$optsSupported$$module$src$event_helper_listen$$=!1;try{var $options$jscomp$14$$={get capture(){$optsSupported$$module$src$event_helper_listen$$=!0}};self.addEventListener("test-options",null,$options$jscomp$14$$);self.removeEventListener("test-options",null,$options$jscomp$14$$)}catch($err$jscomp$3$$){}return $optsSupported$$module$src$event_helper_listen$$}
;function $listen$$module$src$3p_frame_messaging$$($element$jscomp$57$$,$listener$jscomp$63$$){return $internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$57$$,$listener$jscomp$63$$)};var $IFRAME_TRANSPORTS$$module$extensions$amp_analytics$0_1$iframe_transport_vendors$$={bg:"https://tpc.googlesyndication.com/b4a/b4a-runner.html",moat:"https://z.moatads.com/ampanalytics093284/iframe.html"};function $assertConfig$$module$extensions$amp_ad_exit$0_1$config$$($config$jscomp$2$$){$userAssert$$module$src$log$$("object"==typeof $config$jscomp$2$$);if($config$jscomp$2$$.filters){var $JSCompiler_filters$jscomp$inline_51_JSCompiler_transport$jscomp$inline_55$$=$config$jscomp$2$$.filters,$JSCompiler_validFilters$jscomp$inline_52$$=["clickDelay","clickLocation","inactiveElement"],$JSCompiler_name$jscomp$inline_53$$;for($JSCompiler_name$jscomp$inline_53$$ in $JSCompiler_filters$jscomp$inline_51_JSCompiler_transport$jscomp$inline_55$$)$userAssert$$module$src$log$$("object"==
typeof $JSCompiler_filters$jscomp$inline_51_JSCompiler_transport$jscomp$inline_55$$[$JSCompiler_name$jscomp$inline_53$$],"Filter specification '%s' is malformed",$JSCompiler_name$jscomp$inline_53$$),$userAssert$$module$src$log$$(-1!=$JSCompiler_validFilters$jscomp$inline_52$$.indexOf($JSCompiler_filters$jscomp$inline_51_JSCompiler_transport$jscomp$inline_55$$[$JSCompiler_name$jscomp$inline_53$$].type),"Supported filters: "+$JSCompiler_validFilters$jscomp$inline_52$$.join(", "))}else $config$jscomp$2$$.filters=
{};if($config$jscomp$2$$.transport){$JSCompiler_filters$jscomp$inline_51_JSCompiler_transport$jscomp$inline_55$$=$config$jscomp$2$$.transport;for(var $JSCompiler_t$jscomp$inline_56_JSCompiler_targets$jscomp$inline_58$$ in $JSCompiler_filters$jscomp$inline_51_JSCompiler_transport$jscomp$inline_55$$)$userAssert$$module$src$log$$("beacon"==$JSCompiler_t$jscomp$inline_56_JSCompiler_targets$jscomp$inline_58$$||"image"==$JSCompiler_t$jscomp$inline_56_JSCompiler_targets$jscomp$inline_58$$,"Unknown transport option: '"+
$JSCompiler_t$jscomp$inline_56_JSCompiler_targets$jscomp$inline_58$$+"'"),$userAssert$$module$src$log$$("boolean"==typeof $JSCompiler_filters$jscomp$inline_51_JSCompiler_transport$jscomp$inline_55$$[$JSCompiler_t$jscomp$inline_56_JSCompiler_targets$jscomp$inline_58$$])}else $config$jscomp$2$$.transport={};$JSCompiler_t$jscomp$inline_56_JSCompiler_targets$jscomp$inline_58$$=$config$jscomp$2$$.targets;$userAssert$$module$src$log$$("object"==typeof $JSCompiler_t$jscomp$inline_56_JSCompiler_targets$jscomp$inline_58$$,
"'targets' must be an object");for(var $JSCompiler_target$jscomp$inline_60$$ in $JSCompiler_t$jscomp$inline_56_JSCompiler_targets$jscomp$inline_58$$)$assertTarget$$module$extensions$amp_ad_exit$0_1$config$$($JSCompiler_target$jscomp$inline_60$$,$JSCompiler_t$jscomp$inline_56_JSCompiler_targets$jscomp$inline_58$$[$JSCompiler_target$jscomp$inline_60$$],$config$jscomp$2$$);return $config$jscomp$2$$}
function $assertTarget$$module$extensions$amp_ad_exit$0_1$config$$($name$jscomp$77_pattern$jscomp$4$$,$target$jscomp$87$$,$config$jscomp$4$$){$userAssert$$module$src$log$$("string"==typeof $target$jscomp$87$$.finalUrl,"finalUrl of target '%s' must be a string",$name$jscomp$77_pattern$jscomp$4$$);$target$jscomp$87$$.filters&&$target$jscomp$87$$.filters.forEach(function($name$jscomp$77_pattern$jscomp$4$$){$userAssert$$module$src$log$$($config$jscomp$4$$.filters[$name$jscomp$77_pattern$jscomp$4$$],"filter '%s' not defined",
$name$jscomp$77_pattern$jscomp$4$$)});if($target$jscomp$87$$.vars){$name$jscomp$77_pattern$jscomp$4$$=/^_[a-zA-Z0-9_-]+$/;for(var $variable$$ in $target$jscomp$87$$.vars)$userAssert$$module$src$log$$($name$jscomp$77_pattern$jscomp$4$$.test($variable$$),"'%s' must match the pattern '%s'",$variable$$,$name$jscomp$77_pattern$jscomp$4$$)}}
function $assertVendor$$module$extensions$amp_ad_exit$0_1$config$$($vendor$$){return $user$$module$src$log$$().assertString($IFRAME_TRANSPORTS$$module$extensions$amp_analytics$0_1$iframe_transport_vendors$$[$vendor$$],"Unknown or invalid vendor "+$vendor$$+", note that vendor must use transport: iframe")};function $ClickDelayFilter$$module$extensions$amp_ad_exit$0_1$filters$click_delay$$($name$jscomp$78$$,$spec$$,$win$jscomp$42$$){$Filter$$module$extensions$amp_ad_exit$0_1$filters$filter$$.call(this,$name$jscomp$78$$,$spec$$.type);$userAssert$$module$src$log$$("clickDelay"==$spec$$.type&&"number"==typeof $spec$$.delay&&0<$spec$$.delay,"Invalid ClickDelay spec");this.spec=$spec$$;this.intervalStart=Date.now();$spec$$.startTimingEvent&&($win$jscomp$42$$.performance&&$win$jscomp$42$$.performance.timing?
void 0==$win$jscomp$42$$.performance.timing[$spec$$.startTimingEvent]?$dev$$module$src$log$$().warn("amp-ad-exit","Invalid performance timing event type "+$spec$$.startTimingEvent+", falling back to now"):this.intervalStart=$win$jscomp$42$$.performance.timing[$spec$$.startTimingEvent]:$dev$$module$src$log$$().warn("amp-ad-exit","Browser does not support performance timing, falling back to now"))}$$jscomp$inherits$$($ClickDelayFilter$$module$extensions$amp_ad_exit$0_1$filters$click_delay$$,$Filter$$module$extensions$amp_ad_exit$0_1$filters$filter$$);
$ClickDelayFilter$$module$extensions$amp_ad_exit$0_1$filters$click_delay$$.prototype.filter=function(){return Date.now()-this.intervalStart>=this.spec.delay};function $makeClickDelaySpec$$module$extensions$amp_ad_exit$0_1$filters$click_delay$$($startTimingEvent$$){var $delay$$=1E3;return{type:"clickDelay",delay:$delay$$,startTimingEvent:$startTimingEvent$$}};function $ClickLocationFilter$$module$extensions$amp_ad_exit$0_1$filters$click_location$$($name$jscomp$79$$,$spec$jscomp$1$$,$adExitElement$$){$Filter$$module$extensions$amp_ad_exit$0_1$filters$filter$$.call(this,$name$jscomp$79$$,$spec$jscomp$1$$.type);$userAssert$$module$src$log$$("clickLocation"==$spec$jscomp$1$$.type&&("undefined"===typeof $spec$jscomp$1$$.left||"number"===typeof $spec$jscomp$1$$.left)&&("undefined"===typeof $spec$jscomp$1$$.right||"number"===typeof $spec$jscomp$1$$.right)&&("undefined"===
typeof $spec$jscomp$1$$.top||"number"===typeof $spec$jscomp$1$$.top)&&("undefined"===typeof $spec$jscomp$1$$.bottom||"number"===typeof $spec$jscomp$1$$.bottom)&&("undefined"===typeof $spec$jscomp$1$$.relativeTo||"string"===typeof $spec$jscomp$1$$.relativeTo),"Invaid ClickLocation spec");this.$leftBorder_$=$spec$jscomp$1$$.left||0;this.$rightBorder_$=$spec$jscomp$1$$.right||0;this.$topBorder_$=$spec$jscomp$1$$.top||0;this.$bottomBorder_$=$spec$jscomp$1$$.bottom||0;this.$relativeTo_$=$spec$jscomp$1$$.relativeTo;
this.$adExitElement_$=$adExitElement$$;this.$allowedRect_$={top:0,right:0,bottom:0,left:0}}$$jscomp$inherits$$($ClickLocationFilter$$module$extensions$amp_ad_exit$0_1$filters$click_location$$,$Filter$$module$extensions$amp_ad_exit$0_1$filters$filter$$);
$ClickLocationFilter$$module$extensions$amp_ad_exit$0_1$filters$click_location$$.prototype.filter=function($event$jscomp$6$$){return $event$jscomp$6$$.clientX>=this.$allowedRect_$.left&&$event$jscomp$6$$.clientX<=this.$allowedRect_$.right&&$event$jscomp$6$$.clientY>=this.$allowedRect_$.top&&$event$jscomp$6$$.clientY<=this.$allowedRect_$.bottom?!0:!1};
$ClickLocationFilter$$module$extensions$amp_ad_exit$0_1$filters$click_location$$.prototype.onLayoutMeasure=function(){var $$jscomp$this$jscomp$1$$=this;this.$adExitElement_$.getVsync().measure(function(){var $win$jscomp$43$$=$$jscomp$this$jscomp$1$$.$adExitElement_$.win;if($$jscomp$this$jscomp$1$$.$relativeTo_$){var $relativeElement$$=$win$jscomp$43$$.document.querySelector($$jscomp$this$jscomp$1$$.$relativeTo_$);$userAssert$$module$src$log$$($relativeElement$$,"relativeTo element "+$$jscomp$this$jscomp$1$$.$relativeTo_$+
" not found.");var $rect$$=$relativeElement$$.getBoundingClientRect();$$jscomp$this$jscomp$1$$.$allowedRect_$.left=$rect$$.left;$$jscomp$this$jscomp$1$$.$allowedRect_$.top=$rect$$.top;$$jscomp$this$jscomp$1$$.$allowedRect_$.bottom=$rect$$.bottom;$$jscomp$this$jscomp$1$$.$allowedRect_$.right=$rect$$.right}else $$jscomp$this$jscomp$1$$.$allowedRect_$.left=0,$$jscomp$this$jscomp$1$$.$allowedRect_$.top=0,$$jscomp$this$jscomp$1$$.$allowedRect_$.bottom=$win$jscomp$43$$.innerHeight,$$jscomp$this$jscomp$1$$.$allowedRect_$.right=
$win$jscomp$43$$.innerWidth;$$jscomp$this$jscomp$1$$.$allowedRect_$.left+=$$jscomp$this$jscomp$1$$.$leftBorder_$;$$jscomp$this$jscomp$1$$.$allowedRect_$.top+=$$jscomp$this$jscomp$1$$.$topBorder_$;$$jscomp$this$jscomp$1$$.$allowedRect_$.right-=$$jscomp$this$jscomp$1$$.$rightBorder_$;$$jscomp$this$jscomp$1$$.$allowedRect_$.bottom-=$$jscomp$this$jscomp$1$$.$bottomBorder_$})};function $InactiveElementFilter$$module$extensions$amp_ad_exit$0_1$filters$inactive_element$$($name$jscomp$80$$,$spec$jscomp$3$$){$Filter$$module$extensions$amp_ad_exit$0_1$filters$filter$$.call(this,$name$jscomp$80$$,$spec$jscomp$3$$.type);$userAssert$$module$src$log$$("inactiveElement"==$spec$jscomp$3$$.type&&"string"==typeof $spec$jscomp$3$$.selector,"Invalid InactiveElementspec");this.$selector_$=$spec$jscomp$3$$.selector}
$$jscomp$inherits$$($InactiveElementFilter$$module$extensions$amp_ad_exit$0_1$filters$inactive_element$$,$Filter$$module$extensions$amp_ad_exit$0_1$filters$filter$$);
$InactiveElementFilter$$module$extensions$amp_ad_exit$0_1$filters$inactive_element$$.prototype.filter=function($JSCompiler_el$jscomp$inline_62_event$jscomp$7$$){$JSCompiler_el$jscomp$inline_62_event$jscomp$7$$=$JSCompiler_el$jscomp$inline_62_event$jscomp$7$$.target;var $JSCompiler_matcher$jscomp$inline_64$$=$JSCompiler_el$jscomp$inline_62_event$jscomp$7$$.matches||$JSCompiler_el$jscomp$inline_62_event$jscomp$7$$.webkitMatchesSelector||$JSCompiler_el$jscomp$inline_62_event$jscomp$7$$.mozMatchesSelector||
$JSCompiler_el$jscomp$inline_62_event$jscomp$7$$.msMatchesSelector||$JSCompiler_el$jscomp$inline_62_event$jscomp$7$$.oMatchesSelector;return!($JSCompiler_matcher$jscomp$inline_64$$&&$JSCompiler_matcher$jscomp$inline_64$$.call($JSCompiler_el$jscomp$inline_62_event$jscomp$7$$,this.$selector_$))};function $createFilter$$module$extensions$amp_ad_exit$0_1$filters$factory$$($name$jscomp$81$$,$spec$jscomp$5$$,$adExitInstance$$){switch($spec$jscomp$5$$.type){case "clickDelay":return new $ClickDelayFilter$$module$extensions$amp_ad_exit$0_1$filters$click_delay$$($name$jscomp$81$$,$spec$jscomp$5$$,$adExitInstance$$.win);case "clickLocation":return new $ClickLocationFilter$$module$extensions$amp_ad_exit$0_1$filters$click_location$$($name$jscomp$81$$,$spec$jscomp$5$$,$adExitInstance$$);case "inactiveElement":return new $InactiveElementFilter$$module$extensions$amp_ad_exit$0_1$filters$inactive_element$$($name$jscomp$81$$,
$spec$jscomp$5$$)}};function $getAmpAdResourceId$$module$src$ad_helper$$($node$jscomp$6$$,$topWin$jscomp$3$$){try{a:{var $JSCompiler_childWin$jscomp$inline_105$$=($node$jscomp$6$$.ownerDocument||$node$jscomp$6$$).defaultView;if($JSCompiler_childWin$jscomp$inline_105$$&&$JSCompiler_childWin$jscomp$inline_105$$!=$topWin$jscomp$3$$&&$getTopWindow$$module$src$service$$($JSCompiler_childWin$jscomp$inline_105$$)==$topWin$jscomp$3$$)try{var $JSCompiler_inline_result$jscomp$95$$=$JSCompiler_childWin$jscomp$inline_105$$.frameElement;
break a}catch($JSCompiler_e$jscomp$inline_106$$){}$JSCompiler_inline_result$jscomp$95$$=null}var $frameParent$$=$JSCompiler_inline_result$jscomp$95$$.parentElement;if("AMP-AD"==$frameParent$$.nodeName)return String($frameParent$$.getResourceId())}catch($e$jscomp$19$$){}return null};function $LruCache$$module$src$utils$lru_cache$$(){var $capacity$$=100;this.$capacity_$=$capacity$$;this.$access_$=this.$size_$=0;this.$cache_$=Object.create(null)}$LruCache$$module$src$utils$lru_cache$$.prototype.has=function($key$jscomp$44$$){return!!this.$cache_$[$key$jscomp$44$$]};$LruCache$$module$src$utils$lru_cache$$.prototype.get=function($key$jscomp$45$$){var $cacheable$$=this.$cache_$[$key$jscomp$45$$];if($cacheable$$)return $cacheable$$.access=++this.$access_$,$cacheable$$.payload};
$LruCache$$module$src$utils$lru_cache$$.prototype.put=function($JSCompiler_cache$jscomp$inline_67_key$jscomp$46$$,$payload$$){this.has($JSCompiler_cache$jscomp$inline_67_key$jscomp$46$$)||this.$size_$++;this.$cache_$[$JSCompiler_cache$jscomp$inline_67_key$jscomp$46$$]={payload:$payload$$,access:this.$access_$};if(!(this.$size_$<=this.$capacity_$)){$dev$$module$src$log$$().warn("lru-cache","Trimming LRU cache");$JSCompiler_cache$jscomp$inline_67_key$jscomp$46$$=this.$cache_$;var $JSCompiler_oldest$jscomp$inline_68$$=
this.$access_$+1,$JSCompiler_key$jscomp$inline_70$$;for($JSCompiler_key$jscomp$inline_70$$ in $JSCompiler_cache$jscomp$inline_67_key$jscomp$46$$){var $JSCompiler_access$jscomp$inline_71$$=$JSCompiler_cache$jscomp$inline_67_key$jscomp$46$$[$JSCompiler_key$jscomp$inline_70$$].access;if($JSCompiler_access$jscomp$inline_71$$<$JSCompiler_oldest$jscomp$inline_68$$){$JSCompiler_oldest$jscomp$inline_68$$=$JSCompiler_access$jscomp$inline_71$$;var $JSCompiler_oldestKey$jscomp$inline_69$$=$JSCompiler_key$jscomp$inline_70$$}}void 0!==
$JSCompiler_oldestKey$jscomp$inline_69$$&&(delete $JSCompiler_cache$jscomp$inline_67_key$jscomp$46$$[$JSCompiler_oldestKey$jscomp$inline_69$$],this.$size_$--)}};(function($opt_initial$jscomp$1$$){return $opt_initial$jscomp$1$$||{}})({c:!0,v:!0,a:!0,ad:!0,action:!0});var $a$$module$src$url$$,$cache$$module$src$url$$;
function $parseUrlDeprecated$$module$src$url$$($JSCompiler_inline_result$jscomp$27_url$jscomp$22$$){var $opt_nocache$$;$a$$module$src$url$$||($a$$module$src$url$$=self.document.createElement("a"),$cache$$module$src$url$$=self.UrlCache||(self.UrlCache=new $LruCache$$module$src$utils$lru_cache$$));var $JSCompiler_opt_cache$jscomp$inline_74$$=$opt_nocache$$?null:$cache$$module$src$url$$,$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$=$a$$module$src$url$$;if($JSCompiler_opt_cache$jscomp$inline_74$$&&
$JSCompiler_opt_cache$jscomp$inline_74$$.has($JSCompiler_inline_result$jscomp$27_url$jscomp$22$$))$JSCompiler_inline_result$jscomp$27_url$jscomp$22$$=$JSCompiler_opt_cache$jscomp$inline_74$$.get($JSCompiler_inline_result$jscomp$27_url$jscomp$22$$);else{$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$.href=$JSCompiler_inline_result$jscomp$27_url$jscomp$22$$;$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$.protocol||($JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$.href=
$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$.href);var $JSCompiler_info$jscomp$inline_76$$={href:$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$.href,protocol:$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$.protocol,host:$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$.host,hostname:$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$.hostname,port:"0"==$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$.port?
"":$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$.port,pathname:$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$.pathname,search:$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$.search,hash:$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$.hash,origin:null};"/"!==$JSCompiler_info$jscomp$inline_76$$.pathname[0]&&($JSCompiler_info$jscomp$inline_76$$.pathname="/"+$JSCompiler_info$jscomp$inline_76$$.pathname);if("http:"==$JSCompiler_info$jscomp$inline_76$$.protocol&&
80==$JSCompiler_info$jscomp$inline_76$$.port||"https:"==$JSCompiler_info$jscomp$inline_76$$.protocol&&443==$JSCompiler_info$jscomp$inline_76$$.port)$JSCompiler_info$jscomp$inline_76$$.port="",$JSCompiler_info$jscomp$inline_76$$.host=$JSCompiler_info$jscomp$inline_76$$.hostname;$JSCompiler_info$jscomp$inline_76$$.origin=$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$.origin&&"null"!=$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$.origin?$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$.origin:
"data:"!=$JSCompiler_info$jscomp$inline_76$$.protocol&&$JSCompiler_info$jscomp$inline_76$$.host?$JSCompiler_info$jscomp$inline_76$$.protocol+"//"+$JSCompiler_info$jscomp$inline_76$$.host:$JSCompiler_info$jscomp$inline_76$$.href;$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$=$getMode$$module$src$mode$$().test&&Object.freeze?Object.freeze($JSCompiler_info$jscomp$inline_76$$):$JSCompiler_info$jscomp$inline_76$$;$JSCompiler_opt_cache$jscomp$inline_74$$&&$JSCompiler_opt_cache$jscomp$inline_74$$.put($JSCompiler_inline_result$jscomp$27_url$jscomp$22$$,
$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$);$JSCompiler_inline_result$jscomp$27_url$jscomp$22$$=$JSCompiler_a$jscomp$inline_75_JSCompiler_frozen$jscomp$inline_77$$}return $JSCompiler_inline_result$jscomp$27_url$jscomp$22$$};function $AmpAdExit$$module$extensions$amp_ad_exit$0_1$amp_ad_exit$$($$jscomp$super$this_element$jscomp$70$$){$$jscomp$super$this_element$jscomp$70$$=AMP.BaseElement.call(this,$$jscomp$super$this_element$jscomp$70$$)||this;$$jscomp$super$this_element$jscomp$70$$.$targets_$={};$$jscomp$super$this_element$jscomp$70$$.$defaultFilters_$=[];$$jscomp$super$this_element$jscomp$70$$.$transport_$={beacon:!0,image:!0};$$jscomp$super$this_element$jscomp$70$$.$userFilters_$={};$$jscomp$super$this_element$jscomp$70$$.registerAction("exit",
$$jscomp$super$this_element$jscomp$70$$.exit.bind($$jscomp$super$this_element$jscomp$70$$));$$jscomp$super$this_element$jscomp$70$$.$vendorResponses_$={};$$jscomp$super$this_element$jscomp$70$$.$unlisten_$=null;$$jscomp$super$this_element$jscomp$70$$.$ampAdResourceId_$=null;$$jscomp$super$this_element$jscomp$70$$.$expectedOriginToVendor_$={};return $$jscomp$super$this_element$jscomp$70$$}$$jscomp$inherits$$($AmpAdExit$$module$extensions$amp_ad_exit$0_1$amp_ad_exit$$,AMP.BaseElement);
$AmpAdExit$$module$extensions$amp_ad_exit$0_1$amp_ad_exit$$.prototype.exit=function($$jscomp$destructuring$var17_event$jscomp$11$$){var $$jscomp$this$jscomp$2$$=this,$args$$=$$jscomp$destructuring$var17_event$jscomp$11$$.args;$$jscomp$destructuring$var17_event$jscomp$11$$=$$jscomp$destructuring$var17_event$jscomp$11$$.event;var $target$jscomp$89$$=this.$targets_$[$args$$.target];$userAssert$$module$src$log$$($target$jscomp$89$$,"Exit target not found: '"+$args$$.target+"'");$userAssert$$module$src$log$$($$jscomp$destructuring$var17_event$jscomp$11$$,
"Unexpected null event");$$jscomp$destructuring$var17_event$jscomp$11$$.preventDefault();if($JSCompiler_StaticMethods_filter_$$(this.$defaultFilters_$,$$jscomp$destructuring$var17_event$jscomp$11$$)&&$JSCompiler_StaticMethods_filter_$$($target$jscomp$89$$.filters,$$jscomp$destructuring$var17_event$jscomp$11$$)){var $substituteVariables$$=$JSCompiler_StaticMethods_getUrlVariableRewriter_$$(this,$args$$,$$jscomp$destructuring$var17_event$jscomp$11$$,$target$jscomp$89$$);$target$jscomp$89$$.trackingUrls&&
$target$jscomp$89$$.trackingUrls.map($substituteVariables$$).forEach(function($$jscomp$destructuring$var17_event$jscomp$11$$){$$jscomp$this$jscomp$2$$.$transport_$.beacon&&$$jscomp$this$jscomp$2$$.win.navigator.sendBeacon&&$$jscomp$this$jscomp$2$$.win.navigator.sendBeacon($$jscomp$destructuring$var17_event$jscomp$11$$,"")||!$$jscomp$this$jscomp$2$$.$transport_$.image||($$jscomp$this$jscomp$2$$.win.document.createElement("img").src=$$jscomp$destructuring$var17_event$jscomp$11$$)});var $finalUrl$$=
$substituteVariables$$($target$jscomp$89$$.finalUrl);if($getAmpdoc$$module$src$service$$(this.getAmpDoc()).getHeadNode().querySelector("script[host-service]"))$getServicePromiseInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$(this.getAmpDoc())).then(function($$jscomp$destructuring$var17_event$jscomp$11$$){return $$jscomp$destructuring$var17_event$jscomp$11$$.openUrl($finalUrl$$)}).catch(function($$jscomp$destructuring$var17_event$jscomp$11$$){$$jscomp$destructuring$var17_event$jscomp$11$$.fallback&&
$openWindowDialog$$module$src$dom$$($$jscomp$this$jscomp$2$$.win,$finalUrl$$,"_blank")});else{var $clickTarget$$=$target$jscomp$89$$.behaviors&&$target$jscomp$89$$.behaviors.clickTarget&&"_top"==$target$jscomp$89$$.behaviors.clickTarget?"_top":"_blank";$openWindowDialog$$module$src$dom$$(this.win,$finalUrl$$,$clickTarget$$)}}};
function $JSCompiler_StaticMethods_getUrlVariableRewriter_$$($JSCompiler_StaticMethods_getUrlVariableRewriter_$self$$,$args$jscomp$1$$,$event$jscomp$12$$,$target$jscomp$90$$){var $substitutionFunctions$$={CLICK_X:function(){return $event$jscomp$12$$.clientX},CLICK_Y:function(){return $event$jscomp$12$$.clientY}},$replacements$$=$getExistingServiceForDocInEmbedScope$$module$src$service$$($JSCompiler_StaticMethods_getUrlVariableRewriter_$self$$.element),$whitelist$$={RANDOM:!0,CLICK_X:!0,CLICK_Y:!0};
if($target$jscomp$90$$.vars){var $$jscomp$loop$14$$={},$customVarName$$;for($customVarName$$ in $target$jscomp$90$$.vars)$$jscomp$loop$14$$.$$jscomp$loop$prop$customVarName$16$=$customVarName$$,"_"==$$jscomp$loop$14$$.$$jscomp$loop$prop$customVarName$16$[0]&&($$jscomp$loop$14$$.$$jscomp$loop$prop$customVar$15$=$target$jscomp$90$$.vars[$$jscomp$loop$14$$.$$jscomp$loop$prop$customVarName$16$],$$jscomp$loop$14$$.$$jscomp$loop$prop$customVar$15$&&($substitutionFunctions$$[$$jscomp$loop$14$$.$$jscomp$loop$prop$customVarName$16$]=
function($event$jscomp$12$$){return function(){if($event$jscomp$12$$.$$jscomp$loop$prop$customVar$15$.iframeTransportSignal){var $target$jscomp$90$$=$replacements$$.expandStringSync($event$jscomp$12$$.$$jscomp$loop$prop$customVar$15$.iframeTransportSignal,{IFRAME_TRANSPORT_SIGNAL:function($args$jscomp$1$$,$event$jscomp$12$$){if(!$args$jscomp$1$$||!$event$jscomp$12$$)return"";var $target$jscomp$90$$=$JSCompiler_StaticMethods_getUrlVariableRewriter_$self$$.$vendorResponses_$[$args$jscomp$1$$];if($target$jscomp$90$$&&
$event$jscomp$12$$ in $target$jscomp$90$$)return $target$jscomp$90$$[$event$jscomp$12$$]}});if($event$jscomp$12$$.$$jscomp$loop$prop$customVar$15$.iframeTransportSignal=="IFRAME_TRANSPORT_SIGNAL"+$target$jscomp$90$$)$dev$$module$src$log$$().error("amp-ad-exit","Invalid IFRAME_TRANSPORT_SIGNAL format:"+$target$jscomp$90$$+" (perhaps there is a space after a comma?)");else if(""!=$target$jscomp$90$$)return $target$jscomp$90$$}return $event$jscomp$12$$.$$jscomp$loop$prop$customVarName$16$ in $args$jscomp$1$$?
$args$jscomp$1$$[$event$jscomp$12$$.$$jscomp$loop$prop$customVarName$16$]:$event$jscomp$12$$.$$jscomp$loop$prop$customVar$15$.defaultValue}}($$jscomp$loop$14$$),$whitelist$$[$$jscomp$loop$14$$.$$jscomp$loop$prop$customVarName$16$]=!0)),$$jscomp$loop$14$$={$$jscomp$loop$prop$customVar$15$:$$jscomp$loop$14$$.$$jscomp$loop$prop$customVar$15$,$$jscomp$loop$prop$customVarName$16$:$$jscomp$loop$14$$.$$jscomp$loop$prop$customVarName$16$}}return function($JSCompiler_StaticMethods_getUrlVariableRewriter_$self$$){return $replacements$$.expandUrlSync($JSCompiler_StaticMethods_getUrlVariableRewriter_$self$$,
$substitutionFunctions$$,void 0,$whitelist$$)}}function $JSCompiler_StaticMethods_filter_$$($filters$jscomp$1$$,$event$jscomp$13$$){return $filters$jscomp$1$$.every(function($filters$jscomp$1$$){var $filter$jscomp$5$$=$filters$jscomp$1$$.filter($event$jscomp$13$$);$user$$module$src$log$$().info("amp-ad-exit","Filter '"+$filters$jscomp$1$$.name+"': "+($filter$jscomp$5$$?"pass":"fail"));return $filter$jscomp$5$$})}
$AmpAdExit$$module$extensions$amp_ad_exit$0_1$amp_ad_exit$$.prototype.buildCallback=function(){var $$jscomp$this$jscomp$4$$=this;this.element.setAttribute("aria-hidden","true");this.$defaultFilters_$.push($createFilter$$module$extensions$amp_ad_exit$0_1$filters$factory$$("minDelay",$makeClickDelaySpec$$module$extensions$amp_ad_exit$0_1$filters$click_delay$$(),this));this.$defaultFilters_$.push($createFilter$$module$extensions$amp_ad_exit$0_1$filters$factory$$("carouselBtns",{type:"inactiveElement",
selector:".amp-carousel-button"},this));var $child$jscomp$6_children$jscomp$127$$=this.element.children;$userAssert$$module$src$log$$(1==$child$jscomp$6_children$jscomp$127$$.length,"The tag should contain exactly one <script> child.");$child$jscomp$6_children$jscomp$127$$=$child$jscomp$6_children$jscomp$127$$[0];$userAssert$$module$src$log$$("SCRIPT"==$child$jscomp$6_children$jscomp$127$$.tagName&&$child$jscomp$6_children$jscomp$127$$.hasAttribute("type")&&"APPLICATION/JSON"==$child$jscomp$6_children$jscomp$127$$.getAttribute("type").toUpperCase(),
'The amp-ad-exit config should be inside a <script> tag with type="application/json"');try{var $config$jscomp$5$$=$assertConfig$$module$extensions$amp_ad_exit$0_1$config$$(JSON.parse($child$jscomp$6_children$jscomp$127$$.textContent));if("[object Object]"===$toString_$$module$src$types$$.call($config$jscomp$5$$.options)&&"string"===typeof $config$jscomp$5$$.options.startTimingEvent){var $defaultClickStartTimingEvent$$=$config$jscomp$5$$.options.startTimingEvent;this.$defaultFilters_$.splice(0,1,$createFilter$$module$extensions$amp_ad_exit$0_1$filters$factory$$("minDelay",
$makeClickDelaySpec$$module$extensions$amp_ad_exit$0_1$filters$click_delay$$($config$jscomp$5$$.options.startTimingEvent),this))}for(var $name$jscomp$82$$ in $config$jscomp$5$$.filters){var $spec$jscomp$6$$=$config$jscomp$5$$.filters[$name$jscomp$82$$];"clickDelay"==$spec$jscomp$6$$.type&&($spec$jscomp$6$$.startTimingEvent=$spec$jscomp$6$$.startTimingEvent||$defaultClickStartTimingEvent$$);this.$userFilters_$[$name$jscomp$82$$]=$createFilter$$module$extensions$amp_ad_exit$0_1$filters$factory$$($name$jscomp$82$$,
$spec$jscomp$6$$,this)}for(var $name$5$$ in $config$jscomp$5$$.targets){var $target$jscomp$91$$=$config$jscomp$5$$.targets[$name$5$$];this.$targets_$[$name$5$$]={finalUrl:$target$jscomp$91$$.finalUrl,trackingUrls:$target$jscomp$91$$.trackingUrls||[],vars:$target$jscomp$91$$.vars||{},filters:($target$jscomp$91$$.filters||[]).map(function($child$jscomp$6_children$jscomp$127$$){return $$jscomp$this$jscomp$4$$.$userFilters_$[$child$jscomp$6_children$jscomp$127$$]}).filter(function($$jscomp$this$jscomp$4$$){return $$jscomp$this$jscomp$4$$}),
behaviors:$target$jscomp$91$$.behaviors||{}};for(var $customVar$$ in $target$jscomp$91$$.vars)if($target$jscomp$91$$.vars[$customVar$$].iframeTransportSignal){var $matches$jscomp$1$$=$target$jscomp$91$$.vars[$customVar$$].iframeTransportSignal.match(/IFRAME_TRANSPORT_SIGNAL\(([^,]+)/);if($matches$jscomp$1$$&&!(2>$matches$jscomp$1$$.length)){var $vendor$jscomp$2$$=$matches$jscomp$1$$[1],$origin$jscomp$1$$=$parseUrlDeprecated$$module$src$url$$($assertVendor$$module$extensions$amp_ad_exit$0_1$config$$($vendor$jscomp$2$$)).origin;
this.$expectedOriginToVendor_$[$origin$jscomp$1$$]=this.$expectedOriginToVendor_$[$origin$jscomp$1$$]||$vendor$jscomp$2$$}}}this.$transport_$.beacon=!1!==$config$jscomp$5$$.transport.beacon;this.$transport_$.image=!1!==$config$jscomp$5$$.transport.image}catch($e$jscomp$21$$){throw this.user().error("amp-ad-exit","Invalid JSON config",$e$jscomp$21$$),$e$jscomp$21$$;}$JSCompiler_StaticMethods_init3pResponseListener_$$(this)};
$AmpAdExit$$module$extensions$amp_ad_exit$0_1$amp_ad_exit$$.prototype.resumeCallback=function(){$JSCompiler_StaticMethods_init3pResponseListener_$$(this)};$AmpAdExit$$module$extensions$amp_ad_exit$0_1$amp_ad_exit$$.prototype.unlayoutCallback=function(){this.$unlisten_$&&(this.$unlisten_$(),this.$unlisten_$=null);return AMP.BaseElement.prototype.unlayoutCallback.call(this)};
function $JSCompiler_StaticMethods_init3pResponseListener_$$($JSCompiler_StaticMethods_init3pResponseListener_$self$$){"inabox"!=$getMode$$module$src$mode$$().runtime&&($JSCompiler_StaticMethods_init3pResponseListener_$self$$.$ampAdResourceId_$=$JSCompiler_StaticMethods_init3pResponseListener_$self$$.$ampAdResourceId_$||$getAmpAdResourceId$$module$src$ad_helper$$($JSCompiler_StaticMethods_init3pResponseListener_$self$$.element,$getTopWindow$$module$src$service$$($JSCompiler_StaticMethods_init3pResponseListener_$self$$.win)),
$JSCompiler_StaticMethods_init3pResponseListener_$self$$.$ampAdResourceId_$?$JSCompiler_StaticMethods_init3pResponseListener_$self$$.$unlisten_$=$listen$$module$src$3p_frame_messaging$$($JSCompiler_StaticMethods_init3pResponseListener_$self$$.getAmpDoc().win,function($JSCompiler_eventOrigin$jscomp$inline_89_event$jscomp$14$$){if($JSCompiler_StaticMethods_init3pResponseListener_$self$$.$expectedOriginToVendor_$[$JSCompiler_eventOrigin$jscomp$inline_89_event$jscomp$14$$.origin]){var $JSCompiler_message$jscomp$inline_83_JSCompiler_vendorURL$jscomp$inline_90$$=
$JSCompiler_eventOrigin$jscomp$inline_89_event$jscomp$14$$.data;if("string"==typeof $JSCompiler_message$jscomp$inline_83_JSCompiler_vendorURL$jscomp$inline_90$$&&0==$JSCompiler_message$jscomp$inline_83_JSCompiler_vendorURL$jscomp$inline_90$$.indexOf("amp-")&&-1!=$JSCompiler_message$jscomp$inline_83_JSCompiler_vendorURL$jscomp$inline_90$$.indexOf("{")){var $JSCompiler_startPos$jscomp$inline_84$$=$JSCompiler_message$jscomp$inline_83_JSCompiler_vendorURL$jscomp$inline_90$$.indexOf("{");try{var $JSCompiler_inline_result$jscomp$24_JSCompiler_responseMessage$jscomp$inline_88$$=
JSON.parse($JSCompiler_message$jscomp$inline_83_JSCompiler_vendorURL$jscomp$inline_90$$.substr($JSCompiler_startPos$jscomp$inline_84$$))}catch($JSCompiler_e$jscomp$inline_85$$){$dev$$module$src$log$$().error("MESSAGING","Failed to parse message: "+$JSCompiler_message$jscomp$inline_83_JSCompiler_vendorURL$jscomp$inline_90$$,$JSCompiler_e$jscomp$inline_85$$),$JSCompiler_inline_result$jscomp$24_JSCompiler_responseMessage$jscomp$inline_88$$=null}}else $JSCompiler_inline_result$jscomp$24_JSCompiler_responseMessage$jscomp$inline_88$$=
null;var $responseMsg$$=$JSCompiler_inline_result$jscomp$24_JSCompiler_responseMessage$jscomp$inline_88$$;$responseMsg$$&&"iframe-transport-response"==$responseMsg$$.type&&($JSCompiler_inline_result$jscomp$24_JSCompiler_responseMessage$jscomp$inline_88$$=$responseMsg$$,$JSCompiler_eventOrigin$jscomp$inline_89_event$jscomp$14$$=$JSCompiler_eventOrigin$jscomp$inline_89_event$jscomp$14$$.origin,$userAssert$$module$src$log$$($JSCompiler_inline_result$jscomp$24_JSCompiler_responseMessage$jscomp$inline_88$$.message,
"Received empty response from 3p analytics frame"),$userAssert$$module$src$log$$($JSCompiler_inline_result$jscomp$24_JSCompiler_responseMessage$jscomp$inline_88$$.creativeId,"Received malformed message from 3p analytics frame: creativeId missing"),$userAssert$$module$src$log$$($JSCompiler_inline_result$jscomp$24_JSCompiler_responseMessage$jscomp$inline_88$$.vendor,"Received malformed message from 3p analytics frame: vendor missing"),$JSCompiler_message$jscomp$inline_83_JSCompiler_vendorURL$jscomp$inline_90$$=
$parseUrlDeprecated$$module$src$url$$($assertVendor$$module$extensions$amp_ad_exit$0_1$config$$($JSCompiler_inline_result$jscomp$24_JSCompiler_responseMessage$jscomp$inline_88$$.vendor)),$userAssert$$module$src$log$$($JSCompiler_message$jscomp$inline_83_JSCompiler_vendorURL$jscomp$inline_90$$&&$JSCompiler_message$jscomp$inline_83_JSCompiler_vendorURL$jscomp$inline_90$$.origin==$JSCompiler_eventOrigin$jscomp$inline_89_event$jscomp$14$$,"Invalid origin for vendor "+($JSCompiler_inline_result$jscomp$24_JSCompiler_responseMessage$jscomp$inline_88$$.vendor+
": "+$JSCompiler_eventOrigin$jscomp$inline_89_event$jscomp$14$$)),$responseMsg$$.creativeId==$JSCompiler_StaticMethods_init3pResponseListener_$self$$.$ampAdResourceId_$&&($JSCompiler_StaticMethods_init3pResponseListener_$self$$.$vendorResponses_$[$responseMsg$$.vendor]=$responseMsg$$.message))}}):$user$$module$src$log$$().warn("amp-ad-exit","No friendly parent amp-ad element was found for amp-ad-exit; not in inabox case."))}
$AmpAdExit$$module$extensions$amp_ad_exit$0_1$amp_ad_exit$$.prototype.isLayoutSupported=function(){return!0};$AmpAdExit$$module$extensions$amp_ad_exit$0_1$amp_ad_exit$$.prototype.onLayoutMeasure=function(){for(var $name$jscomp$83$$ in this.$userFilters_$)this.$userFilters_$[$name$jscomp$83$$].onLayoutMeasure()};(function($AMP$jscomp$1$$){$AMP$jscomp$1$$.registerElement("amp-ad-exit",$AmpAdExit$$module$extensions$amp_ad_exit$0_1$amp_ad_exit$$)})(self.AMP);
})});

//# sourceMappingURL=amp-ad-exit-0.1.js.map
