(self.AMP=self.AMP||[]).push({n:"amp-video-docking",v:"1904281823091",f:(function(AMP,_){
var $JSCompiler_prototypeAlias$$;function $isFiniteNumber$$module$src$types$$($value$jscomp$91$$){return"number"===typeof $value$jscomp$91$$&&isFinite($value$jscomp$91$$)};self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log;function $user$$module$src$log$$(){if(!$logs$$module$src$log$$.user)throw Error("failed to call initLogConstructor");return $logs$$module$src$log$$.user}function $dev$$module$src$log$$(){if($logs$$module$src$log$$.dev)return $logs$$module$src$log$$.dev;throw Error("failed to call initLogConstructor");}
function $userAssert$$module$src$log$$($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$){$user$$module$src$log$$().assert($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};function $registerServiceBuilderForDoc$$module$src$service$$($nodeOrDoc$$){var $constructor$jscomp$2$$=$PositionObserver$$module$src$service$position_observer$position_observer_impl$$,$ampdoc$$=$getAmpdoc$$module$src$service$$($nodeOrDoc$$),$holder$$=$getAmpdocServiceHolder$$module$src$service$$($ampdoc$$),$JSCompiler_holder$jscomp$inline_294$$=$holder$$,$JSCompiler_services$jscomp$inline_297$$=$getServices$$module$src$service$$($JSCompiler_holder$jscomp$inline_294$$),$JSCompiler_s$jscomp$inline_298$$=
$JSCompiler_services$jscomp$inline_297$$["position-observer"];$JSCompiler_s$jscomp$inline_298$$||($JSCompiler_s$jscomp$inline_298$$=$JSCompiler_services$jscomp$inline_297$$["position-observer"]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});$JSCompiler_s$jscomp$inline_298$$.ctor||$JSCompiler_s$jscomp$inline_298$$.obj||($JSCompiler_s$jscomp$inline_298$$.ctor=$constructor$jscomp$2$$,$JSCompiler_s$jscomp$inline_298$$.context=$ampdoc$$,$JSCompiler_s$jscomp$inline_298$$.resolve&&
$getServiceInternal$$module$src$service$$($JSCompiler_holder$jscomp$inline_294$$,"position-observer"))}function $getService$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$){$win$jscomp$8$$=$win$jscomp$8$$.__AMP_TOP||$win$jscomp$8$$;return $getServiceInternal$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$)}
function $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$$,$id$jscomp$15$$){var $ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdoc$$module$src$service$$($elementOrAmpDoc$$);$ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$);return $getServiceInternal$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$,$id$jscomp$15$$)}
function $getAmpdoc$$module$src$service$$($nodeOrDoc$jscomp$2$$){return $nodeOrDoc$jscomp$2$$.nodeType?$getService$$module$src$service$$(($nodeOrDoc$jscomp$2$$.ownerDocument||$nodeOrDoc$jscomp$2$$).defaultView,"ampdoc").getAmpDoc($nodeOrDoc$jscomp$2$$):$nodeOrDoc$jscomp$2$$}
function $getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$){$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$=$getAmpdoc$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$);return $ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.isSingleDoc()?$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.win:$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$){$isServiceRegistered$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$);var $services$$=$getServices$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$);$holder$jscomp$4_s$jscomp$8$$=$services$$[$id$jscomp$19$$];$holder$jscomp$4_s$jscomp$8$$.obj||($holder$jscomp$4_s$jscomp$8$$.obj=new $holder$jscomp$4_s$jscomp$8$$.ctor($holder$jscomp$4_s$jscomp$8$$.context),$holder$jscomp$4_s$jscomp$8$$.ctor=
null,$holder$jscomp$4_s$jscomp$8$$.context=null,$holder$jscomp$4_s$jscomp$8$$.resolve&&$holder$jscomp$4_s$jscomp$8$$.resolve($holder$jscomp$4_s$jscomp$8$$.obj));return $holder$jscomp$4_s$jscomp$8$$.obj}function $getServices$$module$src$service$$($holder$jscomp$9$$){var $services$jscomp$5$$=$holder$jscomp$9$$.services;$services$jscomp$5$$||($services$jscomp$5$$=$holder$jscomp$9$$.services={});return $services$jscomp$5$$}
function $isServiceRegistered$$module$src$service$$($holder$jscomp$12_service$jscomp$4$$,$id$jscomp$27$$){$holder$jscomp$12_service$jscomp$4$$=$holder$jscomp$12_service$jscomp$4$$.services&&$holder$jscomp$12_service$jscomp$4$$.services[$id$jscomp$27$$];return!(!$holder$jscomp$12_service$jscomp$4$$||!$holder$jscomp$12_service$jscomp$4$$.ctor&&!$holder$jscomp$12_service$jscomp$4$$.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var $regex$$module$third_party$css_escape$css_escape$$=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function $escaper$$module$third_party$css_escape$css_escape$$($match$jscomp$1$$,$nil$$,$dash$$,$hexEscape$$,$chars$$){return $chars$$?$chars$$:$nil$$?"\ufffd":$hexEscape$$?$match$jscomp$1$$.slice(0,-1)+"\\"+$match$jscomp$1$$.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+$match$jscomp$1$$};var $scopeSelectorSupported$$module$src$css$$;function $prependSelectorsWith$$module$src$css$$($distribute$$){return"amp-img[placeholder],img[placeholder],[placeholder] amp-img".replace(/^|,/g,"$&"+$distribute$$+" ")};function $map$$module$src$utils$object$$(){var $opt_initial$$,$obj$jscomp$25$$=Object.create(null);$opt_initial$$&&Object.assign($obj$jscomp$25$$,$opt_initial$$);return $obj$jscomp$25$$};function $closest$$module$src$dom$$($el$jscomp$2_element$jscomp$18$$,$callback$jscomp$60$$){for(var $opt_stopAt$$;$el$jscomp$2_element$jscomp$18$$&&$el$jscomp$2_element$jscomp$18$$!==$opt_stopAt$$;$el$jscomp$2_element$jscomp$18$$=$el$jscomp$2_element$jscomp$18$$.parentElement)if($callback$jscomp$60$$($el$jscomp$2_element$jscomp$18$$))return $el$jscomp$2_element$jscomp$18$$;return null}
function $closestAncestorElementBySelector$$module$src$dom$$($element$jscomp$19$$){return $element$jscomp$19$$.closest?$element$jscomp$19$$.closest(".amp-video-docked-controls"):$closest$$module$src$dom$$($element$jscomp$19$$,function($element$jscomp$19$$){var $el$jscomp$3$$=$element$jscomp$19$$.matches||$element$jscomp$19$$.webkitMatchesSelector||$element$jscomp$19$$.mozMatchesSelector||$element$jscomp$19$$.msMatchesSelector||$element$jscomp$19$$.oMatchesSelector;return $el$jscomp$3$$?$el$jscomp$3$$.call($element$jscomp$19$$,
".amp-video-docked-controls"):!1})}function $isRTL$$module$src$dom$$($doc$jscomp$13$$){var $dir$$=$doc$jscomp$13$$.body.getAttribute("dir")||$doc$jscomp$13$$.documentElement.getAttribute("dir")||"ltr";return"rtl"==$dir$$};function $Timeout$$module$extensions$amp_video_docking$0_1$timeout$$($win$jscomp$42$$,$handler$jscomp$4$$){this.$timer_$=$getService$$module$src$service$$($win$jscomp$42$$,"timer");this.$handler_$=$handler$jscomp$4$$;this.$id_$=null}
$Timeout$$module$extensions$amp_video_docking$0_1$timeout$$.prototype.trigger=function($time$jscomp$1$$,$args$$){for(var $$jscomp$restParams$$=[],$$jscomp$restIndex$$=1;$$jscomp$restIndex$$<arguments.length;++$$jscomp$restIndex$$)$$jscomp$restParams$$[$$jscomp$restIndex$$-1]=arguments[$$jscomp$restIndex$$];var $$jscomp$this$jscomp$1$$=this;this.cancel();this.$id_$=this.$timer_$.delay(function(){return $$jscomp$this$jscomp$1$$.$handler_$.apply(null,$$jscomp$restParams$$)},$time$jscomp$1$$)};
$Timeout$$module$extensions$amp_video_docking$0_1$timeout$$.prototype.cancel=function(){null!==this.$id_$&&(this.$timer_$.cancel(this.$id_$),this.$id_$=null)};$Timeout$$module$extensions$amp_video_docking$0_1$timeout$$.prototype.isWaiting=function(){return null!==this.$id_$};function $pointerCoords$$module$extensions$amp_video_docking$0_1$events$$($e$jscomp$15$$){var $coords$$=$e$jscomp$15$$.touches?$e$jscomp$15$$.touches[0]:$e$jscomp$15$$;return{x:"x"in $coords$$?$coords$$.x:$coords$$.clientX,y:"y"in $coords$$?$coords$$.y:$coords$$.clientY}};function $applyBreakpointClassname$$module$extensions$amp_video_docking$0_1$breakpoints$$($element$jscomp$56$$,$width$jscomp$27$$,$breakpoints$$){$breakpoints$$=$breakpoints$$.sort(function($element$jscomp$56$$,$width$jscomp$27$$){return $width$jscomp$27$$.minWidth-$element$jscomp$56$$.minWidth});var $maxBreakpoint$$=-1;$breakpoints$$.forEach(function($breakpoints$$){var $$jscomp$destructuring$var10$$=$breakpoints$$.className,$minWidth$$=$breakpoints$$.minWidth;$minWidth$$<=$width$jscomp$27$$&&$minWidth$$>
$maxBreakpoint$$?($element$jscomp$56$$.classList.add($$jscomp$destructuring$var10$$),$maxBreakpoint$$=$minWidth$$):$element$jscomp$56$$.classList.remove($$jscomp$destructuring$var10$$)})};var $optsSupported$$module$src$event_helper_listen$$;
function $internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$57$$,$eventType$jscomp$3$$,$listener$jscomp$62$$){var $opt_evtListenerOpts$$=void 0,$localElement$$=$element$jscomp$57$$,$localListener$$=$listener$jscomp$62$$;var $wrapped$$=function($element$jscomp$57$$){try{return $localListener$$($element$jscomp$57$$)}catch($e$jscomp$16$$){throw self.reportError($e$jscomp$16$$),$e$jscomp$16$$;}};var $optsSupported$$=$detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(),$capture$$=
!1;$opt_evtListenerOpts$$&&($capture$$=$opt_evtListenerOpts$$.capture);$localElement$$.addEventListener($eventType$jscomp$3$$,$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$$);return function(){$localElement$$&&$localElement$$.removeEventListener($eventType$jscomp$3$$,$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$$);$wrapped$$=$localElement$$=$localListener$$=null}}
function $detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(){if(void 0!==$optsSupported$$module$src$event_helper_listen$$)return $optsSupported$$module$src$event_helper_listen$$;$optsSupported$$module$src$event_helper_listen$$=!1;try{var $options$jscomp$14$$={get capture(){$optsSupported$$module$src$event_helper_listen$$=!0}};self.addEventListener("test-options",null,$options$jscomp$14$$);self.removeEventListener("test-options",null,$options$jscomp$14$$)}catch($err$jscomp$3$$){}return $optsSupported$$module$src$event_helper_listen$$}
;function $createCustomEvent$$module$src$event_helper$$($e$jscomp$17_win$jscomp$43$$,$type$jscomp$134$$,$detail$jscomp$3$$){var $eventInit$$={detail:$detail$jscomp$3$$};Object.assign($eventInit$$,void 0);if("function"==typeof $e$jscomp$17_win$jscomp$43$$.CustomEvent)return new $e$jscomp$17_win$jscomp$43$$.CustomEvent($type$jscomp$134$$,$eventInit$$);$e$jscomp$17_win$jscomp$43$$=$e$jscomp$17_win$jscomp$43$$.document.createEvent("CustomEvent");$e$jscomp$17_win$jscomp$43$$.initCustomEvent($type$jscomp$134$$,
!!$eventInit$$.bubbles,!!$eventInit$$.cancelable,$detail$jscomp$3$$);return $e$jscomp$17_win$jscomp$43$$}function $listen$$module$src$event_helper$$($element$jscomp$58$$,$eventType$jscomp$4$$,$listener$jscomp$63$$){return $internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$58$$,$eventType$jscomp$4$$,$listener$jscomp$63$$)}
function $listenOnce$$module$src$event_helper$$($element$jscomp$59$$,$eventType$jscomp$5$$,$listener$jscomp$64$$){var $localListener$jscomp$1$$=$listener$jscomp$64$$,$unlisten$$=$internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$59$$,$eventType$jscomp$5$$,function($element$jscomp$59$$){try{$localListener$jscomp$1$$($element$jscomp$59$$)}finally{$localListener$jscomp$1$$=null,$unlisten$$()}});return $unlisten$$};var $container$$module$src$static_template$$;
function $htmlFor$$module$src$static_template$$($doc$jscomp$14_nodeOrDoc$jscomp$4$$){$doc$jscomp$14_nodeOrDoc$jscomp$4$$=$doc$jscomp$14_nodeOrDoc$jscomp$4$$.ownerDocument||$doc$jscomp$14_nodeOrDoc$jscomp$4$$;$container$$module$src$static_template$$&&$container$$module$src$static_template$$.ownerDocument===$doc$jscomp$14_nodeOrDoc$jscomp$4$$||($container$$module$src$static_template$$=$doc$jscomp$14_nodeOrDoc$jscomp$4$$.createElement("div"));return $html$$module$src$static_template$$}
function $html$$module$src$static_template$$($strings$$){$container$$module$src$static_template$$.innerHTML=$strings$$[0];var $el$jscomp$7$$=$container$$module$src$static_template$$.firstElementChild;$container$$module$src$static_template$$.removeChild($el$jscomp$7$$);return $el$jscomp$7$$}
function $htmlRefs$$module$src$static_template$$($elements$jscomp$1_root$jscomp$7$$){$elements$jscomp$1_root$jscomp$7$$=$elements$jscomp$1_root$jscomp$7$$.querySelectorAll("[ref]");for(var $refs$$=$map$$module$src$utils$object$$(),$i$jscomp$11$$=0;$i$jscomp$11$$<$elements$jscomp$1_root$jscomp$7$$.length;$i$jscomp$11$$++){var $element$jscomp$61$$=$elements$jscomp$1_root$jscomp$7$$[$i$jscomp$11$$],$ref$jscomp$2$$=$element$jscomp$61$$.getAttribute("ref");$element$jscomp$61$$.removeAttribute("ref");$refs$$[$ref$jscomp$2$$]=
$element$jscomp$61$$}return $refs$$};function $once$$module$src$utils$function$$($fn$jscomp$3$$){var $evaluated$$=!1,$retValue$$=null,$callback$jscomp$66$$=$fn$jscomp$3$$;return function($fn$jscomp$3$$){for(var $args$jscomp$1$$=[],$$jscomp$restIndex$jscomp$1$$=0;$$jscomp$restIndex$jscomp$1$$<arguments.length;++$$jscomp$restIndex$jscomp$1$$)$args$jscomp$1$$[$$jscomp$restIndex$jscomp$1$$-0]=arguments[$$jscomp$restIndex$jscomp$1$$];$evaluated$$||($retValue$$=$callback$jscomp$66$$.apply(self,$args$jscomp$1$$),$evaluated$$=!0,$callback$jscomp$66$$=
null);return $retValue$$}};var $propertyNameCache$$module$src$style$$,$vendorPrefixes$$module$src$style$$="Webkit webkit Moz moz ms O o".split(" ");
function $getVendorJsPropertyName$$module$src$style$$($style$jscomp$1$$,$camelCase$jscomp$1$$,$opt_bypassCache$$){if(2>$camelCase$jscomp$1$$.length?0:0==$camelCase$jscomp$1$$.lastIndexOf("--",0))return $camelCase$jscomp$1$$;$propertyNameCache$$module$src$style$$||($propertyNameCache$$module$src$style$$=$map$$module$src$utils$object$$());var $propertyName$jscomp$9$$=$propertyNameCache$$module$src$style$$[$camelCase$jscomp$1$$];if(!$propertyName$jscomp$9$$||$opt_bypassCache$$){$propertyName$jscomp$9$$=
$camelCase$jscomp$1$$;if(void 0===$style$jscomp$1$$[$camelCase$jscomp$1$$]){var $JSCompiler_inline_result$jscomp$26_titleCase$jscomp$1$$=$camelCase$jscomp$1$$.charAt(0).toUpperCase()+$camelCase$jscomp$1$$.slice(1);a:{for(var $JSCompiler_i$jscomp$inline_61$$=0;$JSCompiler_i$jscomp$inline_61$$<$vendorPrefixes$$module$src$style$$.length;$JSCompiler_i$jscomp$inline_61$$++){var $JSCompiler_propertyName$jscomp$inline_62$$=$vendorPrefixes$$module$src$style$$[$JSCompiler_i$jscomp$inline_61$$]+$JSCompiler_inline_result$jscomp$26_titleCase$jscomp$1$$;
if(void 0!==$style$jscomp$1$$[$JSCompiler_propertyName$jscomp$inline_62$$]){$JSCompiler_inline_result$jscomp$26_titleCase$jscomp$1$$=$JSCompiler_propertyName$jscomp$inline_62$$;break a}}$JSCompiler_inline_result$jscomp$26_titleCase$jscomp$1$$=""}var $prefixedPropertyName$$=$JSCompiler_inline_result$jscomp$26_titleCase$jscomp$1$$;void 0!==$style$jscomp$1$$[$prefixedPropertyName$$]&&($propertyName$jscomp$9$$=$prefixedPropertyName$$)}$opt_bypassCache$$||($propertyNameCache$$module$src$style$$[$camelCase$jscomp$1$$]=
$propertyName$jscomp$9$$)}return $propertyName$jscomp$9$$}function $setImportantStyles$$module$src$style$$($element$jscomp$62_style$jscomp$2$$,$styles$$){$element$jscomp$62_style$jscomp$2$$=$element$jscomp$62_style$jscomp$2$$.style;for(var $k$jscomp$1$$ in $styles$$)$element$jscomp$62_style$jscomp$2$$.setProperty($getVendorJsPropertyName$$module$src$style$$($element$jscomp$62_style$jscomp$2$$,$k$jscomp$1$$),$styles$$[$k$jscomp$1$$].toString(),"important")}
function $setStyle$$module$src$style$$($element$jscomp$63$$,$property$jscomp$4_propertyName$jscomp$10$$,$value$jscomp$93$$){var $opt_units$$;($property$jscomp$4_propertyName$jscomp$10$$=$getVendorJsPropertyName$$module$src$style$$($element$jscomp$63$$.style,$property$jscomp$4_propertyName$jscomp$10$$,void 0))&&($element$jscomp$63$$.style[$property$jscomp$4_propertyName$jscomp$10$$]=$opt_units$$?$value$jscomp$93$$+$opt_units$$:$value$jscomp$93$$)}
function $toggle$$module$src$style$$($element$jscomp$66$$,$opt_display$$){void 0===$opt_display$$&&($opt_display$$=$element$jscomp$66$$.hasAttribute("hidden"));$opt_display$$?$element$jscomp$66$$.removeAttribute("hidden"):$element$jscomp$66$$.setAttribute("hidden","")}
function $translate$$module$src$style$$($x$jscomp$83$$,$opt_y$jscomp$3$$){"number"==typeof $x$jscomp$83$$&&($x$jscomp$83$$+="px");if(void 0===$opt_y$jscomp$3$$)return"translate("+$x$jscomp$83$$+")";"number"==typeof $opt_y$jscomp$3$$&&($opt_y$jscomp$3$$+="px");return"translate("+$x$jscomp$83$$+", "+$opt_y$jscomp$3$$+")"}
function $resetStyles$$module$src$style$$($element$jscomp$67$$,$properties$$){for(var $i$jscomp$13$$=0;$i$jscomp$13$$<$properties$$.length;$i$jscomp$13$$++)$setStyle$$module$src$style$$($element$jscomp$67$$,$properties$$[$i$jscomp$13$$],null)};var $$jscomp$templatelit$1$$=['<div class="amp-video-docked-controls" hidden>\n  <div class="amp-video-docked-main-button-group">\n    <div class="amp-video-docked-button-group">\n      <div role="button"\n          ref="playButton"\n          class="amp-video-docked-play">\n      </div>\n      <div role="button"\n          ref="pauseButton"\n          class="amp-video-docked-pause">\n      </div>\n    </div>\n    <div class="amp-video-docked-button-group">\n      <div role="button"\n          ref="muteButton"\n          class="amp-video-docked-mute">\n      </div>\n      <div role="button"\n          ref="unmuteButton"\n          class="amp-video-docked-unmute">\n      </div>\n    </div>\n    <div class="amp-video-docked-button-group">\n      <div role="button"\n          ref="fullscreenButton"\n          class="amp-video-docked-fullscreen">\n      </div>\n    </div>\n  </div>\n  <div class="amp-video-docked-button-dismiss-group"\n      ref="dismissContainer">\n    <div role="button"\n        ref="dismissButton"\n        class="amp-video-docked-dismiss">\n    </div>\n  </div>\n</div>'];
$$jscomp$templatelit$1$$.raw=$$jscomp$templatelit$1$$.slice();var $$jscomp$templatelit$0$$=['<div class="i-amphtml-video-docked-overlay" hidden></div>'];$$jscomp$templatelit$0$$.raw=$$jscomp$templatelit$0$$.slice();var $BREAKPOINTS$$module$extensions$amp_video_docking$0_1$controls$$=[{className:"amp-small",minWidth:0},{className:"amp-large",minWidth:300}];
function $swap$$module$extensions$amp_video_docking$0_1$controls$$($a$jscomp$2$$,$b$jscomp$3$$){$toggle$$module$src$style$$($a$jscomp$2$$,!1);$toggle$$module$src$style$$($b$jscomp$3$$,!0)}
function $Controls$$module$extensions$amp_video_docking$0_1$controls$$($ampdoc$jscomp$10$$){function $assertRef$$($ampdoc$jscomp$10$$){return $refs$jscomp$1$$[$ampdoc$jscomp$10$$]}var $$jscomp$this$jscomp$2$$=this;this.$ampdoc_$=$ampdoc$jscomp$10$$;var $html$jscomp$2$$=$htmlFor$$module$src$static_template$$($ampdoc$jscomp$10$$.getBody());this.container=$html$jscomp$2$$($$jscomp$templatelit$1$$);this.overlay=$html$jscomp$2$$($$jscomp$templatelit$0$$);this.$manager_$=$once$$module$src$utils$function$$(function(){return $getServiceForDoc$$module$src$service$$($ampdoc$jscomp$10$$,
"video-manager")});var $refs$jscomp$1$$=$htmlRefs$$module$src$static_template$$(this.container);this.$dismissButton_$=$assertRef$$("dismissButton");this.$playButton_$=$assertRef$$("playButton");this.$pauseButton_$=$assertRef$$("pauseButton");this.$muteButton_$=$assertRef$$("muteButton");this.$unmuteButton_$=$assertRef$$("unmuteButton");this.$fullscreenButton_$=$assertRef$$("fullscreenButton");this.$dismissContainer_$=$assertRef$$("dismissContainer");this.$isSticky_$=this.$isDisabled_$=!1;this.$getHideTimeout_$=
$once$$module$src$utils$function$$(function(){return new $Timeout$$module$extensions$amp_video_docking$0_1$timeout$$($$jscomp$this$jscomp$2$$.$ampdoc_$.win,function(){$$jscomp$this$jscomp$2$$.hide(!0)})});this.$videoUnlisteners_$=[];this.$video_$=this.$area_$=this.$mouseOutUnlistener_$=this.$mouseMoveUnlistener_$=null;$JSCompiler_StaticMethods_hideOnTapOutside_$$(this);$JSCompiler_StaticMethods_showOnTapOrHover_$$(this)}$JSCompiler_prototypeAlias$$=$Controls$$module$extensions$amp_video_docking$0_1$controls$$.prototype;
$JSCompiler_prototypeAlias$$.disable=function(){$dev$$module$src$log$$().info("amp-video-docking-controls","disable");this.$isDisabled_$=!0};$JSCompiler_prototypeAlias$$.enable=function(){$dev$$module$src$log$$().info("amp-video-docking-controls","enable");this.$isDisabled_$=!1};$JSCompiler_prototypeAlias$$.setVideo=function($video$jscomp$2$$,$area$$){this.$area_$=$area$$;this.$video_$!=$video$jscomp$2$$&&(this.$video_$=$video$jscomp$2$$,$JSCompiler_StaticMethods_listen_$$(this,$video$jscomp$2$$))};
function $JSCompiler_StaticMethods_listen_$$($JSCompiler_StaticMethods_listen_$self$$,$video$jscomp$3$$){$JSCompiler_StaticMethods_unlisten_$$($JSCompiler_StaticMethods_listen_$self$$);var $click$$="click",$element$jscomp$68$$=$video$jscomp$3$$.element;$JSCompiler_StaticMethods_listen_$self$$.$videoUnlisteners_$.push($JSCompiler_StaticMethods_listenWhenEnabled_$$($JSCompiler_StaticMethods_listen_$self$$,$JSCompiler_StaticMethods_listen_$self$$.$dismissButton_$,$click$$,function(){$JSCompiler_StaticMethods_listen_$self$$.container.dispatchEvent($createCustomEvent$$module$src$event_helper$$($JSCompiler_StaticMethods_listen_$self$$.$ampdoc_$.win,
"dock-dismiss-on-tap",void 0))}),$JSCompiler_StaticMethods_listenWhenEnabled_$$($JSCompiler_StaticMethods_listen_$self$$,$JSCompiler_StaticMethods_listen_$self$$.$playButton_$,$click$$,function(){$video$jscomp$3$$.play(!1)}),$JSCompiler_StaticMethods_listenWhenEnabled_$$($JSCompiler_StaticMethods_listen_$self$$,$JSCompiler_StaticMethods_listen_$self$$.$pauseButton_$,$click$$,function(){$video$jscomp$3$$.pause()}),$JSCompiler_StaticMethods_listenWhenEnabled_$$($JSCompiler_StaticMethods_listen_$self$$,
$JSCompiler_StaticMethods_listen_$self$$.$muteButton_$,$click$$,function(){$video$jscomp$3$$.mute()}),$JSCompiler_StaticMethods_listenWhenEnabled_$$($JSCompiler_StaticMethods_listen_$self$$,$JSCompiler_StaticMethods_listen_$self$$.$unmuteButton_$,$click$$,function(){$video$jscomp$3$$.unmute()}),$JSCompiler_StaticMethods_listenWhenEnabled_$$($JSCompiler_StaticMethods_listen_$self$$,$JSCompiler_StaticMethods_listen_$self$$.$fullscreenButton_$,$click$$,function(){$video$jscomp$3$$.fullscreenEnter()}),
$listen$$module$src$event_helper$$($JSCompiler_StaticMethods_listen_$self$$.container,"mouseup",function(){return $JSCompiler_StaticMethods_listen_$self$$.hideOnTimeout(800)}),$listen$$module$src$event_helper$$($element$jscomp$68$$,"playing",function(){var $video$jscomp$3$$=$JSCompiler_StaticMethods_listen_$self$$.$playButton_$,$click$$=$JSCompiler_StaticMethods_listen_$self$$.$pauseButton_$;$JSCompiler_StaticMethods_listen_$self$$.$isSticky_$=!1;$swap$$module$extensions$amp_video_docking$0_1$controls$$($video$jscomp$3$$,
$click$$)}),$listen$$module$src$event_helper$$($element$jscomp$68$$,"pause",function(){var $video$jscomp$3$$=$JSCompiler_StaticMethods_listen_$self$$.$pauseButton_$,$click$$=$JSCompiler_StaticMethods_listen_$self$$.$playButton_$;$JSCompiler_StaticMethods_listen_$self$$.$isSticky_$=!0;$swap$$module$extensions$amp_video_docking$0_1$controls$$($video$jscomp$3$$,$click$$)}),$listen$$module$src$event_helper$$($element$jscomp$68$$,"muted",function(){$swap$$module$extensions$amp_video_docking$0_1$controls$$($JSCompiler_StaticMethods_listen_$self$$.$muteButton_$,
$JSCompiler_StaticMethods_listen_$self$$.$unmuteButton_$)}),$listen$$module$src$event_helper$$($element$jscomp$68$$,"unmuted",function(){$swap$$module$extensions$amp_video_docking$0_1$controls$$($JSCompiler_StaticMethods_listen_$self$$.$unmuteButton_$,$JSCompiler_StaticMethods_listen_$self$$.$muteButton_$)}))}$JSCompiler_prototypeAlias$$.$isPlaying_$=function(){return"paused"!=this.$manager_$().getPlayingState(this.$video_$)};
function $JSCompiler_StaticMethods_listenWhenEnabled_$$($JSCompiler_StaticMethods_listenWhenEnabled_$self$$,$element$jscomp$69$$,$eventType$jscomp$7$$,$callback$jscomp$67$$){return $listen$$module$src$event_helper$$($element$jscomp$69$$,$eventType$jscomp$7$$,function(){$JSCompiler_StaticMethods_listenWhenEnabled_$self$$.$isDisabled_$||$callback$jscomp$67$$()})}
function $JSCompiler_StaticMethods_unlisten_$$($JSCompiler_StaticMethods_unlisten_$self$$){for(;0<$JSCompiler_StaticMethods_unlisten_$self$$.$videoUnlisteners_$.length;)$JSCompiler_StaticMethods_unlisten_$self$$.$videoUnlisteners_$.pop().call()}$JSCompiler_prototypeAlias$$.hideOnTimeout=function($timeout$jscomp$3$$){$timeout$jscomp$3$$=void 0===$timeout$jscomp$3$$?1200:$timeout$jscomp$3$$;this.$getHideTimeout_$().trigger($timeout$jscomp$3$$)};
function $JSCompiler_StaticMethods_showOnTapOrHover_$$($JSCompiler_StaticMethods_showOnTapOrHover_$self$$){function $boundShow$$(){return $JSCompiler_StaticMethods_show_$$($JSCompiler_StaticMethods_showOnTapOrHover_$self$$)}var $overlay$$=$JSCompiler_StaticMethods_showOnTapOrHover_$self$$.overlay;$JSCompiler_StaticMethods_listenWhenEnabled_$$($JSCompiler_StaticMethods_showOnTapOrHover_$self$$,$overlay$$,"click",$boundShow$$);$JSCompiler_StaticMethods_listenWhenEnabled_$$($JSCompiler_StaticMethods_showOnTapOrHover_$self$$,
$overlay$$,"mouseover",$boundShow$$)}
function $JSCompiler_StaticMethods_show_$$($JSCompiler_StaticMethods_show_$self$$){$JSCompiler_StaticMethods_show_$self$$.$ampdoc_$.win.requestAnimationFrame(function(){var $JSCompiler_container$jscomp$inline_77$$=$JSCompiler_StaticMethods_show_$self$$.container,$JSCompiler_overlay$jscomp$inline_78$$=$JSCompiler_StaticMethods_show_$self$$.overlay,$JSCompiler_playButton$jscomp$inline_79$$=$JSCompiler_StaticMethods_show_$self$$.$playButton_$,$JSCompiler_pauseButton$jscomp$inline_80$$=$JSCompiler_StaticMethods_show_$self$$.$pauseButton_$,
$JSCompiler_muteButton$jscomp$inline_81$$=$JSCompiler_StaticMethods_show_$self$$.$muteButton_$,$JSCompiler_unmuteButton$jscomp$inline_82$$=$JSCompiler_StaticMethods_show_$self$$.$unmuteButton_$;$toggle$$module$src$style$$($JSCompiler_container$jscomp$inline_77$$,!0);$JSCompiler_container$jscomp$inline_77$$.classList.add("amp-video-docked-controls-shown");$JSCompiler_overlay$jscomp$inline_78$$.classList.add("amp-video-docked-controls-bg");$JSCompiler_StaticMethods_listenToMouseMove_$$($JSCompiler_StaticMethods_show_$self$$);
$JSCompiler_StaticMethods_show_$self$$.$isPlaying_$()?$swap$$module$extensions$amp_video_docking$0_1$controls$$($JSCompiler_playButton$jscomp$inline_79$$,$JSCompiler_pauseButton$jscomp$inline_80$$):$swap$$module$extensions$amp_video_docking$0_1$controls$$($JSCompiler_pauseButton$jscomp$inline_80$$,$JSCompiler_playButton$jscomp$inline_79$$);$JSCompiler_StaticMethods_show_$self$$.$manager_$().isMuted($JSCompiler_StaticMethods_show_$self$$.$video_$)?$swap$$module$extensions$amp_video_docking$0_1$controls$$($JSCompiler_muteButton$jscomp$inline_81$$,
$JSCompiler_unmuteButton$jscomp$inline_82$$):$swap$$module$extensions$amp_video_docking$0_1$controls$$($JSCompiler_unmuteButton$jscomp$inline_82$$,$JSCompiler_muteButton$jscomp$inline_81$$);$JSCompiler_StaticMethods_show_$self$$.hideOnTimeout()})}
$JSCompiler_prototypeAlias$$.positionOnVsync=function($scale$jscomp$2$$,$x$jscomp$84$$,$y$jscomp$68$$,$width$jscomp$28$$,$height$jscomp$26$$){var $container$jscomp$5$$=this.container,$dismissContainer$$=this.$dismissContainer_$,$halfScale$$=$scale$jscomp$2$$/2,$centerX$$=$x$jscomp$84$$+$width$jscomp$28$$*$halfScale$$,$centerY$$=$y$jscomp$68$$+$height$jscomp$26$$*$halfScale$$;$applyBreakpointClassname$$module$extensions$amp_video_docking$0_1$breakpoints$$($container$jscomp$5$$,$scale$jscomp$2$$*$width$jscomp$28$$,
$BREAKPOINTS$$module$extensions$amp_video_docking$0_1$controls$$);$setImportantStyles$$module$src$style$$($container$jscomp$5$$,{transform:$translate$$module$src$style$$($centerX$$,$centerY$$)});var $dismissMargin$$=4,$dismissWidth$$=40,$dismissX$$=$width$jscomp$28$$*$halfScale$$-$dismissMargin$$-$dismissWidth$$,$dismissY$$=-($height$jscomp$26$$*$halfScale$$-$dismissMargin$$-$dismissWidth$$);$setImportantStyles$$module$src$style$$($dismissContainer$$,{transform:$translate$$module$src$style$$($dismissX$$,
$dismissY$$)})};
function $JSCompiler_StaticMethods_hideOnTapOutside_$$($JSCompiler_StaticMethods_hideOnTapOutside_$self$$){$listen$$module$src$event_helper$$($JSCompiler_StaticMethods_hideOnTapOutside_$self$$.$ampdoc_$.getRootNode(),"mousedown",function($JSCompiler_target$jscomp$inline_85_e$jscomp$18$$){$JSCompiler_target$jscomp$inline_85_e$jscomp$18$$=$JSCompiler_target$jscomp$inline_85_e$jscomp$18$$.target;$JSCompiler_target$jscomp$inline_85_e$jscomp$18$$==$JSCompiler_StaticMethods_hideOnTapOutside_$self$$.overlay||$closestAncestorElementBySelector$$module$src$dom$$($JSCompiler_target$jscomp$inline_85_e$jscomp$18$$)||
$JSCompiler_StaticMethods_hideOnTapOutside_$self$$.hide(!0)})}
$JSCompiler_prototypeAlias$$.hide=function($opt_respectSticky$$,$opt_immediately$$){var $ampVideoDockedControlsShown$$="amp-video-docked-controls-shown",$container$jscomp$6$$=this.container,$overlay$jscomp$2$$=this.overlay;!$container$jscomp$6$$.classList.contains($ampVideoDockedControlsShown$$)||$opt_respectSticky$$&&this.$isSticky_$||($opt_immediately$$&&($toggle$$module$src$style$$($container$jscomp$6$$,!1),$toggle$$module$src$style$$($overlay$jscomp$2$$,!1)),$overlay$jscomp$2$$.classList.remove("amp-video-docked-controls-bg"),
$container$jscomp$6$$.classList.remove($ampVideoDockedControlsShown$$))};
function $JSCompiler_StaticMethods_listenToMouseMove_$$($JSCompiler_StaticMethods_listenToMouseMove_$self$$){$JSCompiler_StaticMethods_listenToMouseMove_$self$$.$mouseMoveUnlistener_$||($JSCompiler_StaticMethods_listenToMouseMove_$self$$.$mouseMoveUnlistener_$=$listen$$module$src$event_helper$$($JSCompiler_StaticMethods_listenToMouseMove_$self$$.overlay,"mousemove",function(){$JSCompiler_StaticMethods_show_$$($JSCompiler_StaticMethods_listenToMouseMove_$self$$)}),$JSCompiler_StaticMethods_listenToMouseMove_$self$$.$mouseOutUnlistener_$=
$listen$$module$src$event_helper$$($JSCompiler_StaticMethods_listenToMouseMove_$self$$.overlay,"mouseout",function($e$jscomp$19_x$jscomp$85$$){var $$jscomp$destructuring$var24_y$jscomp$69$$=$pointerCoords$$module$extensions$amp_video_docking$0_1$events$$($e$jscomp$19_x$jscomp$85$$);$e$jscomp$19_x$jscomp$85$$=$$jscomp$destructuring$var24_y$jscomp$69$$.x;$$jscomp$destructuring$var24_y$jscomp$69$$=$$jscomp$destructuring$var24_y$jscomp$69$$.y;var $$jscomp$destructuring$var25$$=$JSCompiler_StaticMethods_listenToMouseMove_$self$$.$area_$,
$top$jscomp$2$$=$$jscomp$destructuring$var25$$.top,$right$jscomp$2$$=$$jscomp$destructuring$var25$$.right,$bottom$jscomp$1$$=$$jscomp$destructuring$var25$$.bottom;if($e$jscomp$19_x$jscomp$85$$<$$jscomp$destructuring$var25$$.left||$e$jscomp$19_x$jscomp$85$$>$right$jscomp$2$$||$$jscomp$destructuring$var24_y$jscomp$69$$<$top$jscomp$2$$||$$jscomp$destructuring$var24_y$jscomp$69$$>$bottom$jscomp$1$$)$JSCompiler_StaticMethods_listenToMouseMove_$self$$.hide(!0),$JSCompiler_StaticMethods_listenToMouseMove_$self$$.$mouseMoveUnlistener_$&&
($JSCompiler_StaticMethods_listenToMouseMove_$self$$.$mouseMoveUnlistener_$(),$JSCompiler_StaticMethods_listenToMouseMove_$self$$.$mouseMoveUnlistener_$=null),$JSCompiler_StaticMethods_listenToMouseMove_$self$$.$mouseOutUnlistener_$&&($JSCompiler_StaticMethods_listenToMouseMove_$self$$.$mouseOutUnlistener_$(),$JSCompiler_StaticMethods_listenToMouseMove_$self$$.$mouseOutUnlistener_$=null)}))}
$JSCompiler_prototypeAlias$$.reset=function(){var $i$jscomp$14_overlay$jscomp$3$$=this.overlay,$els$$=[$i$jscomp$14_overlay$jscomp$3$$,this.container];$toggle$$module$src$style$$($i$jscomp$14_overlay$jscomp$3$$,!1);this.hide();for($i$jscomp$14_overlay$jscomp$3$$=0;$i$jscomp$14_overlay$jscomp$3$$<$els$$.length;$i$jscomp$14_overlay$jscomp$3$$++)$resetStyles$$module$src$style$$($els$$[$i$jscomp$14_overlay$jscomp$3$$],["transform","transition","width","height"])};function $layoutRectLtwh$$module$src$layout_rect$$($left$jscomp$3$$,$top$jscomp$3$$,$width$jscomp$29$$,$height$jscomp$27$$){return{left:$left$jscomp$3$$,top:$top$jscomp$3$$,width:$width$jscomp$29$$,height:$height$jscomp$27$$,bottom:$top$jscomp$3$$+$height$jscomp$27$$,right:$left$jscomp$3$$+$width$jscomp$29$$,x:$left$jscomp$3$$,y:$top$jscomp$3$$}}
function $layoutRectEquals$$module$src$layout_rect$$($r1$jscomp$3$$,$r2$jscomp$2$$){return $r1$jscomp$3$$&&$r2$jscomp$2$$?$r1$jscomp$3$$.left==$r2$jscomp$2$$.left&&$r1$jscomp$3$$.top==$r2$jscomp$2$$.top&&$r1$jscomp$3$$.width==$r2$jscomp$2$$.width&&$r1$jscomp$3$$.height==$r2$jscomp$2$$.height:!1};function $PositionObserverWorker$$module$src$service$position_observer$position_observer_worker$$($ampdoc$jscomp$11$$,$element$jscomp$70$$,$fidelity$$,$handler$jscomp$5$$){this.element=$element$jscomp$70$$;this.$handler_$=$handler$jscomp$5$$;this.fidelity=$fidelity$$;this.turn=0==$fidelity$$?Math.floor(4*Math.random()):0;this.$prevPosition_$=null;this.$viewport_$=$getServiceForDoc$$module$src$service$$($ampdoc$jscomp$11$$,"viewport")}
$PositionObserverWorker$$module$src$service$position_observer$position_observer_worker$$.prototype.$trigger_$=function($position$$){var $prevPos$$=this.$prevPosition_$;if(!($prevPos$$&&$layoutRectEquals$$module$src$layout_rect$$($prevPos$$.positionRect,$position$$.positionRect)&&$layoutRectEquals$$module$src$layout_rect$$($prevPos$$.viewportRect,$position$$.viewportRect))){var $positionRect$$=$position$$.positionRect,$JSCompiler_r1$jscomp$inline_89_JSCompiler_r1$jscomp$inline_92$$=$positionRect$$,
$JSCompiler_r2$jscomp$inline_90_JSCompiler_r2$jscomp$inline_93$$=$position$$.viewportRect;$position$$.relativePos=$JSCompiler_r1$jscomp$inline_89_JSCompiler_r1$jscomp$inline_92$$.top<$JSCompiler_r2$jscomp$inline_90_JSCompiler_r2$jscomp$inline_93$$.top?"top":$JSCompiler_r1$jscomp$inline_89_JSCompiler_r1$jscomp$inline_92$$.bottom>$JSCompiler_r2$jscomp$inline_90_JSCompiler_r2$jscomp$inline_93$$.bottom?"bottom":"inside";$JSCompiler_r1$jscomp$inline_89_JSCompiler_r1$jscomp$inline_92$$=$positionRect$$;
$JSCompiler_r2$jscomp$inline_90_JSCompiler_r2$jscomp$inline_93$$=$position$$.viewportRect;$JSCompiler_r1$jscomp$inline_89_JSCompiler_r1$jscomp$inline_92$$.top<=$JSCompiler_r2$jscomp$inline_90_JSCompiler_r2$jscomp$inline_93$$.bottom&&$JSCompiler_r2$jscomp$inline_90_JSCompiler_r2$jscomp$inline_93$$.top<=$JSCompiler_r1$jscomp$inline_89_JSCompiler_r1$jscomp$inline_92$$.bottom&&$JSCompiler_r1$jscomp$inline_89_JSCompiler_r1$jscomp$inline_92$$.left<=$JSCompiler_r2$jscomp$inline_90_JSCompiler_r2$jscomp$inline_93$$.right&&
$JSCompiler_r2$jscomp$inline_90_JSCompiler_r2$jscomp$inline_93$$.left<=$JSCompiler_r1$jscomp$inline_89_JSCompiler_r1$jscomp$inline_92$$.right?(this.$prevPosition_$=$position$$,this.$handler_$($position$$)):this.$prevPosition_$&&(this.$prevPosition_$=null,$position$$.positionRect=null,this.$handler_$($position$$))}};
$PositionObserverWorker$$module$src$service$position_observer$position_observer_worker$$.prototype.update=function($opt_force$jscomp$1$$){var $$jscomp$this$jscomp$9$$=this;if(!$opt_force$jscomp$1$$){if(0!=this.turn){this.turn--;return}0==this.fidelity&&(this.turn=4)}var $viewportSize$$=this.$viewport_$.getSize(),$viewportBox$$=$layoutRectLtwh$$module$src$layout_rect$$(0,0,$viewportSize$$.width,$viewportSize$$.height);this.$viewport_$.getClientRectAsync(this.element).then(function($opt_force$jscomp$1$$){$$jscomp$this$jscomp$9$$.$trigger_$({positionRect:$opt_force$jscomp$1$$,
viewportRect:$viewportBox$$,relativePos:""})})};function $debounce$$module$src$utils$rate_limit$$($win$jscomp$46$$,$callback$jscomp$69$$){function $waiter$jscomp$1$$(){$locker$jscomp$1$$=0;var $remaining$$=500-($win$jscomp$46$$.Date.now()-$timestamp$$);if(0<$remaining$$)$locker$jscomp$1$$=$win$jscomp$46$$.setTimeout($waiter$jscomp$1$$,$remaining$$);else{var $JSCompiler_args$jscomp$inline_95$$=$nextCallArgs$jscomp$1$$;$nextCallArgs$jscomp$1$$=null;$callback$jscomp$69$$.apply(null,$JSCompiler_args$jscomp$inline_95$$)}}var $locker$jscomp$1$$=0,$timestamp$$=
0,$nextCallArgs$jscomp$1$$=null;return function($callback$jscomp$69$$){for(var $args$jscomp$5$$=[],$$jscomp$restIndex$jscomp$3$$=0;$$jscomp$restIndex$jscomp$3$$<arguments.length;++$$jscomp$restIndex$jscomp$3$$)$args$jscomp$5$$[$$jscomp$restIndex$jscomp$3$$-0]=arguments[$$jscomp$restIndex$jscomp$3$$];$timestamp$$=$win$jscomp$46$$.Date.now();$nextCallArgs$jscomp$1$$=$args$jscomp$5$$;$locker$jscomp$1$$||($locker$jscomp$1$$=$win$jscomp$46$$.setTimeout($waiter$jscomp$1$$,500))}};function $PositionObserver$$module$src$service$position_observer$position_observer_impl$$($ampdoc$jscomp$12$$){var $$jscomp$this$jscomp$10$$=this;this.$ampdoc_$=$ampdoc$jscomp$12$$;this.$win_$=$ampdoc$jscomp$12$$.win;this.$workers_$=[];this.$vsync_$=$getService$$module$src$service$$(this.$win_$,"vsync");this.$viewport_$=$getServiceForDoc$$module$src$service$$($ampdoc$jscomp$12$$,"viewport");this.$unlisteners_$=[];this.$callbackStarted_$=this.$measure_$=this.$inScroll_$=!1;this.$boundStopScroll_$=
$debounce$$module$src$utils$rate_limit$$(this.$win_$,function(){$$jscomp$this$jscomp$10$$.$inScroll_$=!1})}
$PositionObserver$$module$src$service$position_observer$position_observer_impl$$.prototype.observe=function($element$jscomp$71$$,$fidelity$jscomp$1$$,$handler$jscomp$6$$){var $$jscomp$this$jscomp$11$$=this,$worker$$=new $PositionObserverWorker$$module$src$service$position_observer$position_observer_worker$$(this.$ampdoc_$,$element$jscomp$71$$,$fidelity$jscomp$1$$,$handler$jscomp$6$$);this.$workers_$.push($worker$$);this.$callbackStarted_$||$JSCompiler_StaticMethods_startCallback_$$(this);$worker$$.update();
return function(){for(var $element$jscomp$71$$=0;$element$jscomp$71$$<$$jscomp$this$jscomp$11$$.$workers_$.length;$element$jscomp$71$$++)if($$jscomp$this$jscomp$11$$.$workers_$[$element$jscomp$71$$]==$worker$$){$$jscomp$this$jscomp$11$$.$workers_$.splice($element$jscomp$71$$,1);0==$$jscomp$this$jscomp$11$$.$workers_$.length&&$JSCompiler_StaticMethods_stopCallback_$$($$jscomp$this$jscomp$11$$);break}}};
$PositionObserver$$module$src$service$position_observer$position_observer_impl$$.prototype.unobserve=function($element$jscomp$72$$){for(var $i$jscomp$17$$=0;$i$jscomp$17$$<this.$workers_$.length;$i$jscomp$17$$++)if(this.$workers_$[$i$jscomp$17$$].element==$element$jscomp$72$$){this.$workers_$.splice($i$jscomp$17$$,1);0==this.$workers_$.length&&$JSCompiler_StaticMethods_stopCallback_$$(this);return}$dev$$module$src$log$$().error("POSITION_OBSERVER","cannot unobserve unobserved element")};
function $JSCompiler_StaticMethods_startCallback_$$($JSCompiler_StaticMethods_startCallback_$self$$){$JSCompiler_StaticMethods_startCallback_$self$$.$callbackStarted_$=!0;$JSCompiler_StaticMethods_startCallback_$self$$.$unlisteners_$.push($JSCompiler_StaticMethods_startCallback_$self$$.$viewport_$.onScroll(function(){$JSCompiler_StaticMethods_startCallback_$self$$.$boundStopScroll_$();$JSCompiler_StaticMethods_startCallback_$self$$.$inScroll_$=!0;$JSCompiler_StaticMethods_startCallback_$self$$.$measure_$||
$JSCompiler_StaticMethods_schedulePass_$$($JSCompiler_StaticMethods_startCallback_$self$$)}));$JSCompiler_StaticMethods_startCallback_$self$$.$unlisteners_$.push($JSCompiler_StaticMethods_startCallback_$self$$.$viewport_$.onResize(function(){$JSCompiler_StaticMethods_startCallback_$self$$.updateAllEntries(!0)}))}
function $JSCompiler_StaticMethods_stopCallback_$$($JSCompiler_StaticMethods_stopCallback_$self$$){for($JSCompiler_StaticMethods_stopCallback_$self$$.$callbackStarted_$=!1;$JSCompiler_StaticMethods_stopCallback_$self$$.$unlisteners_$.length;)$JSCompiler_StaticMethods_stopCallback_$self$$.$unlisteners_$.pop()()}$PositionObserver$$module$src$service$position_observer$position_observer_impl$$.prototype.updateAllEntries=function($opt_force$jscomp$2$$){for(var $i$jscomp$18$$=0;$i$jscomp$18$$<this.$workers_$.length;$i$jscomp$18$$++)this.$workers_$[$i$jscomp$18$$].update($opt_force$jscomp$2$$)};
function $JSCompiler_StaticMethods_schedulePass_$$($JSCompiler_StaticMethods_schedulePass_$self$$){$JSCompiler_StaticMethods_schedulePass_$self$$.updateAllEntries();$JSCompiler_StaticMethods_schedulePass_$self$$.$measure_$=!0;$JSCompiler_StaticMethods_schedulePass_$self$$.$inScroll_$?$JSCompiler_StaticMethods_schedulePass_$self$$.$vsync_$.measure(function(){$JSCompiler_StaticMethods_schedulePass_$$($JSCompiler_StaticMethods_schedulePass_$self$$)}):$JSCompiler_StaticMethods_schedulePass_$self$$.$measure_$=
!1};function $calculateJustified$$module$extensions$amp_video_docking$0_1$math$$($containerWidth$$,$itemWidth$$){var $itemMargin$$=0,$directedStep$$=1;return $directedStep$$*($containerWidth$$-$itemWidth$$-2*$itemMargin$$)}function $calculateRightJustifiedX$$module$extensions$amp_video_docking$0_1$math$$($containerWidth$jscomp$1$$,$itemWidth$jscomp$1$$,$itemMargin$jscomp$1$$,$step$$){return $step$$*($containerWidth$jscomp$1$$-$itemWidth$jscomp$1$$-2*$itemMargin$jscomp$1$$)}
function $calculateLeftJustifiedX$$module$extensions$amp_video_docking$0_1$math$$($containerWidth$jscomp$2$$,$itemWidth$jscomp$2$$,$itemMargin$jscomp$2$$,$step$jscomp$1$$){return-$step$jscomp$1$$*($containerWidth$jscomp$2$$-$itemWidth$jscomp$2$$-2*$itemMargin$jscomp$2$$)};function $getInternalVideoElementFor$$module$src$utils$video$$($element$jscomp$73$$){return $element$jscomp$73$$.querySelector("video, iframe")};function $installStylesForDoc$$module$src$style_installer$$($JSCompiler_cssRoot$jscomp$inline_243_JSCompiler_cssText$jscomp$inline_240_ampdoc$jscomp$14$$){var $cssText$$=".amp-video-docked-controls{opacity:0;pointer-events:none!important;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;height:120px}.amp-video-docked-main-button-group{height:40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:-20px 0 0 -60px}.amp-large>.amp-video-docked-main-button-group{margin-left:-70px}.amp-large>.amp-video-docked-main-button-group>.amp-video-docked-button-group{margin-right:10px}.amp-large>.amp-video-docked-button-dismiss-group{margin:6px 0 0 -6px}.amp-small>.amp-video-docked-button-dismiss-group,.amp-small>.amp-video-docked-button-dismiss-group>div[role=button]{min-width:32px;height:32px;border-radius:32px;background-size:20px 20px}.amp-small>.amp-video-docked-button-dismiss-group{margin-left:8px}.amp-video-docked-controls-shown{opacity:1;pointer-events:initial!important}.amp-video-docked-button-group{margin:0}.amp-video-docked-button-dismiss-group,.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group,.amp-video-docked-button-group>div[role=button]{min-width:40px;height:40px;border-radius:40px}.amp-video-docked-button-dismiss-group:active,.amp-video-docked-button-group:active{background-color:hsla(0,0%,100%,0.7)}.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group,.amp-video-docked-button-group>div[role=button],.amp-video-docked-controls,.i-amphtml-video-docked-overlay{-webkit-tap-highlight-color:rgba(0,0,0,0)!important}.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group>div[role=button]{background-repeat:no-repeat;background-position:50%}.amp-video-docked-shadow{box-shadow:0px 0 20px 6px rgba(0,0,0,0.2)}.amp-video-docked-controls-bg{background:hsla(0,0%,90.2%,0.6)}.amp-video-docked-mute{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-unmute{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M16.5 12A4.5 4.5 0 0 0 14 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0 0 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 0 0 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-pause{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M6 19h4V5H6v14zm8-14v14h4V5h-4z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-play{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M8 5v14l11-7z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-fullscreen{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z'/%3E%3C/svg%3E\")}.amp-video-docked-dismiss{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-shadow,.i-amphtml-video-docked,.i-amphtml-video-docked-overlay{margin:0!important}.i-amphtml-video-docked{-webkit-transition-property:-webkit-transform!important;transition-property:-webkit-transform!important;transition-property:transform!important;transition-property:transform,-webkit-transform!important}.amp-video-docked-controls,.amp-video-docked-shadow,.i-amphtml-video-docked,.i-amphtml-video-docked-overlay{position:fixed!important;top:0!important;left:0!important;right:auto!important;bottom:auto!important;padding:0!important;min-width:0!important;min-height:0!important;max-width:auto!important;max-height:auto!important;-webkit-transform-origin:left top!important;transform-origin:left top!important;will-change:width,height,transition,transform,opacity}.i-amphtml-video-docked-overlay{opacity:0;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;contain:strict!important}.amp-video-docked-controls-bg{opacity:1}.i-amphtml-video-docked-overlay.amp-video-docked-almost-dismissed{opacity:1;background:hsla(0,0%,39.2%,0.1)}.i-amphtml-video-docked-shadow.amp-video-docked-almost-dismissed,.i-amphtml-video-docked.amp-video-docked-almost-dismissed{opacity:0.3}.amp-video-docked-button-dismiss-group{position:absolute;top:-40px}.amp-video-docked-placeholder-background{background:hsla(0,0%,78.4%,0.5);-webkit-transition-property:opacity;transition-property:opacity;overflow:hidden;pointer-events:none;z-index:0;opacity:0}.amp-video-docked-placeholder-icon{-webkit-mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h48v48H0z'/%3E%3Cpath d='M40 4H16c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4h24c2.2 0 4-1.8 4-4V8c0-2.2-1.8-4-4-4zM8 12H4v28c0 2.2 1.8 4 4 4h28v-4H8V12zm28 3.868L23.382 28.486l-2.828-2.828L33.212 13H25V9h15v15h-4v-8.132z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h48v48H0z'/%3E%3Cpath d='M40 4H16c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4h24c2.2 0 4-1.8 4-4V8c0-2.2-1.8-4-4-4zM8 12H4v28c0 2.2 1.8 4 4 4h28v-4H8V12zm28 3.868L23.382 28.486l-2.828-2.828L33.212 13H25V9h15v15h-4v-8.132z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");-webkit-mask-size:48px 48px;mask-size:48px 48px;height:48px;width:48px;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:bottom left;mask-position:bottom left;background:hsla(0,0%,39.2%,0.8);-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform;will-change:opacity,transform;position:absolute;bottom:40px;left:40px}.amp-video-docked-placeholder-icon.amp-rtl{-webkit-mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M-4-4h48v48H-4z'/%3E%3Cpath d='M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M-4-4h48v48H-4z'/%3E%3Cpath d='M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");left:auto;right:40px}.amp-video-docked-placeholder-icon.amp-small{-webkit-mask-size:32px 32px;mask-size:32px 32px;width:32px;height:32px;bottom:20px;left:20px}.amp-video-docked-placeholder-icon.amp-rtl.amp-small{left:auto;right:20px}.amp-video-docked-placeholder-background-poster{background-size:cover;background-repeat:no-repeat;-webkit-filter:blur(20px);filter:blur(20px);-webkit-transform:scale(1.1);transform:scale(1.1);opacity:0.3}.amp-video-docked-controls{z-index:2147483646!important}.i-amphtml-video-docked-overlay{z-index:2147483645!important}.i-amphtml-video-docked{z-index:2147483644!important}.amp-video-docked-shadow{z-index:2147483643!important}\n/*# sourceURL=/extensions/amp-video-docking/0.1/amp-video-docking.css*/",
$opt_isRuntimeCss$$=!1,$opt_ext$$="amp-video-docking",$cssRoot$$=$JSCompiler_cssRoot$jscomp$inline_243_JSCompiler_cssText$jscomp$inline_240_ampdoc$jscomp$14$$.getHeadNode();$JSCompiler_cssRoot$jscomp$inline_243_JSCompiler_cssText$jscomp$inline_240_ampdoc$jscomp$14$$=$cssText$$;var $JSCompiler_styleMap$jscomp$inline_247_JSCompiler_transformer$jscomp$inline_241$$=$cssRoot$$.__AMP_CSS_TR;var $JSCompiler_afterElement$jscomp$inline_252_JSCompiler_inline_result$jscomp$237$$=$JSCompiler_styleMap$jscomp$inline_247_JSCompiler_transformer$jscomp$inline_241$$?
$JSCompiler_styleMap$jscomp$inline_247_JSCompiler_transformer$jscomp$inline_241$$($JSCompiler_cssRoot$jscomp$inline_243_JSCompiler_cssText$jscomp$inline_240_ampdoc$jscomp$14$$):$JSCompiler_cssRoot$jscomp$inline_243_JSCompiler_cssText$jscomp$inline_240_ampdoc$jscomp$14$$;a:{$JSCompiler_cssRoot$jscomp$inline_243_JSCompiler_cssText$jscomp$inline_240_ampdoc$jscomp$14$$=$cssRoot$$;var $JSCompiler_after$jscomp$inline_253_JSCompiler_isRuntimeCss$jscomp$inline_245$$=$opt_isRuntimeCss$$||!1,$JSCompiler_ext$jscomp$inline_246$$=
$opt_ext$$||null;($JSCompiler_styleMap$jscomp$inline_247_JSCompiler_transformer$jscomp$inline_241$$=$JSCompiler_cssRoot$jscomp$inline_243_JSCompiler_cssText$jscomp$inline_240_ampdoc$jscomp$14$$.__AMP_CSS_SM)||($JSCompiler_styleMap$jscomp$inline_247_JSCompiler_transformer$jscomp$inline_241$$=$JSCompiler_cssRoot$jscomp$inline_243_JSCompiler_cssText$jscomp$inline_240_ampdoc$jscomp$14$$.__AMP_CSS_SM=$map$$module$src$utils$object$$());var $JSCompiler_isExtCss$jscomp$inline_248$$=!$JSCompiler_after$jscomp$inline_253_JSCompiler_isRuntimeCss$jscomp$inline_245$$&&
$JSCompiler_ext$jscomp$inline_246$$&&"amp-custom"!=$JSCompiler_ext$jscomp$inline_246$$&&"amp-keyframes"!=$JSCompiler_ext$jscomp$inline_246$$,$JSCompiler_key$jscomp$inline_249$$=$JSCompiler_after$jscomp$inline_253_JSCompiler_isRuntimeCss$jscomp$inline_245$$?"amp-runtime":$JSCompiler_isExtCss$jscomp$inline_248$$?"amp-extension="+$JSCompiler_ext$jscomp$inline_246$$:null;if($JSCompiler_key$jscomp$inline_249$$){var $JSCompiler_existing$jscomp$inline_250_JSCompiler_style$jscomp$inline_251$$=$getExistingStyleElement$$module$src$style_installer$$($JSCompiler_cssRoot$jscomp$inline_243_JSCompiler_cssText$jscomp$inline_240_ampdoc$jscomp$14$$,
$JSCompiler_styleMap$jscomp$inline_247_JSCompiler_transformer$jscomp$inline_241$$,$JSCompiler_key$jscomp$inline_249$$);if($JSCompiler_existing$jscomp$inline_250_JSCompiler_style$jscomp$inline_251$$){$JSCompiler_existing$jscomp$inline_250_JSCompiler_style$jscomp$inline_251$$.textContent!==$JSCompiler_afterElement$jscomp$inline_252_JSCompiler_inline_result$jscomp$237$$&&($JSCompiler_existing$jscomp$inline_250_JSCompiler_style$jscomp$inline_251$$.textContent=$JSCompiler_afterElement$jscomp$inline_252_JSCompiler_inline_result$jscomp$237$$);
break a}}$JSCompiler_existing$jscomp$inline_250_JSCompiler_style$jscomp$inline_251$$=($JSCompiler_cssRoot$jscomp$inline_243_JSCompiler_cssText$jscomp$inline_240_ampdoc$jscomp$14$$.ownerDocument||$JSCompiler_cssRoot$jscomp$inline_243_JSCompiler_cssText$jscomp$inline_240_ampdoc$jscomp$14$$).createElement("style");$JSCompiler_existing$jscomp$inline_250_JSCompiler_style$jscomp$inline_251$$.textContent=$JSCompiler_afterElement$jscomp$inline_252_JSCompiler_inline_result$jscomp$237$$;$JSCompiler_afterElement$jscomp$inline_252_JSCompiler_inline_result$jscomp$237$$=
null;$JSCompiler_after$jscomp$inline_253_JSCompiler_isRuntimeCss$jscomp$inline_245$$?$JSCompiler_existing$jscomp$inline_250_JSCompiler_style$jscomp$inline_251$$.setAttribute("amp-runtime",""):$JSCompiler_isExtCss$jscomp$inline_248$$?($JSCompiler_existing$jscomp$inline_250_JSCompiler_style$jscomp$inline_251$$.setAttribute("amp-extension",$JSCompiler_ext$jscomp$inline_246$$||""),$JSCompiler_afterElement$jscomp$inline_252_JSCompiler_inline_result$jscomp$237$$=$getExistingStyleElement$$module$src$style_installer$$($JSCompiler_cssRoot$jscomp$inline_243_JSCompiler_cssText$jscomp$inline_240_ampdoc$jscomp$14$$,
$JSCompiler_styleMap$jscomp$inline_247_JSCompiler_transformer$jscomp$inline_241$$,"amp-runtime")):($JSCompiler_ext$jscomp$inline_246$$&&$JSCompiler_existing$jscomp$inline_250_JSCompiler_style$jscomp$inline_251$$.setAttribute($JSCompiler_ext$jscomp$inline_246$$,""),$JSCompiler_afterElement$jscomp$inline_252_JSCompiler_inline_result$jscomp$237$$=$JSCompiler_cssRoot$jscomp$inline_243_JSCompiler_cssText$jscomp$inline_240_ampdoc$jscomp$14$$.lastChild);$JSCompiler_after$jscomp$inline_253_JSCompiler_isRuntimeCss$jscomp$inline_245$$=
$JSCompiler_afterElement$jscomp$inline_252_JSCompiler_inline_result$jscomp$237$$;$JSCompiler_cssRoot$jscomp$inline_243_JSCompiler_cssText$jscomp$inline_240_ampdoc$jscomp$14$$.insertBefore($JSCompiler_existing$jscomp$inline_250_JSCompiler_style$jscomp$inline_251$$,$JSCompiler_after$jscomp$inline_253_JSCompiler_isRuntimeCss$jscomp$inline_245$$?$JSCompiler_after$jscomp$inline_253_JSCompiler_isRuntimeCss$jscomp$inline_245$$.nextSibling:$JSCompiler_cssRoot$jscomp$inline_243_JSCompiler_cssText$jscomp$inline_240_ampdoc$jscomp$14$$.firstChild);
$JSCompiler_key$jscomp$inline_249$$&&($JSCompiler_styleMap$jscomp$inline_247_JSCompiler_transformer$jscomp$inline_241$$[$JSCompiler_key$jscomp$inline_249$$]=$JSCompiler_existing$jscomp$inline_250_JSCompiler_style$jscomp$inline_251$$)}}
function $getExistingStyleElement$$module$src$style_installer$$($cssRoot$jscomp$2_existing$jscomp$1$$,$styleMap$jscomp$1$$,$key$jscomp$44$$){return $styleMap$jscomp$1$$[$key$jscomp$44$$]?$styleMap$jscomp$1$$[$key$jscomp$44$$]:($cssRoot$jscomp$2_existing$jscomp$1$$=$cssRoot$jscomp$2_existing$jscomp$1$$.querySelector("style["+$key$jscomp$44$$+"]"))?$styleMap$jscomp$1$$[$key$jscomp$44$$]=$cssRoot$jscomp$2_existing$jscomp$1$$:null};function $mapRange$$module$src$utils$math$$($val$jscomp$4$$,$min2$$,$max2$$){var $min1$$=0,$max1$$=1,$max1Bound$$=$max1$$,$min1Bound$$=$min1$$;$min1$$>$max1$$&&($max1Bound$$=$min1$$,$min1Bound$$=$max1$$);$val$jscomp$4$$<$min1Bound$$?$val$jscomp$4$$=$min1Bound$$:$val$jscomp$4$$>$max1Bound$$&&($val$jscomp$4$$=$max1Bound$$);return($val$jscomp$4$$-$min1$$)*($max2$$-$min2$$)/($max1$$-$min1$$)+$min2$$};var $$jscomp$templatelit$3$$=['<div class="amp-video-docked-placeholder-background">\n    <div class="amp-video-docked-placeholder-background-poster"\n      ref="poster">\n    </div>\n    <div class="amp-video-docked-placeholder-icon"\n      ref="icon">\n    </div>\n  </div>'];$$jscomp$templatelit$3$$.raw=$$jscomp$templatelit$3$$.slice();var $$jscomp$templatelit$2$$=['<div class="amp-video-docked-shadow" hidden></div>'];$$jscomp$templatelit$2$$.raw=$$jscomp$templatelit$2$$.slice();
function $throttleByAnimationFrame$$module$extensions$amp_video_docking$0_1$amp_video_docking$$($win$jscomp$53$$,$fn$jscomp$4$$){var $running$$=!1;return function($args$jscomp$6$$){for(var $$jscomp$restParams$jscomp$4$$=[],$$jscomp$restIndex$jscomp$4$$=0;$$jscomp$restIndex$jscomp$4$$<arguments.length;++$$jscomp$restIndex$jscomp$4$$)$$jscomp$restParams$jscomp$4$$[$$jscomp$restIndex$jscomp$4$$-0]=arguments[$$jscomp$restIndex$jscomp$4$$];$running$$||($running$$=!0,$win$jscomp$53$$.requestAnimationFrame(function(){$fn$jscomp$4$$.apply(null,
$$jscomp$restParams$jscomp$4$$);$running$$=!1}))}}var $PLACEHOLDER_ICON_BREAKPOINTS$$module$extensions$amp_video_docking$0_1$amp_video_docking$$=[{className:"amp-small",minWidth:0},{className:"amp-large",minWidth:420}];function $isSizedLayoutRect$$module$extensions$amp_video_docking$0_1$amp_video_docking$$($$jscomp$destructuring$var27$$){var $height$jscomp$28$$=$$jscomp$destructuring$var27$$.height;return 0<$$jscomp$destructuring$var27$$.width&&0<$height$jscomp$28$$}
function $targetsEqual$$module$extensions$amp_video_docking$0_1$amp_video_docking$$($a$jscomp$4$$,$b$jscomp$5$$){return 1==$a$jscomp$4$$.nodeType?$a$jscomp$4$$==$b$jscomp$5$$:$a$jscomp$4$$.posX==$b$jscomp$5$$.posX}
function $VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking$$($ampdoc$jscomp$15$$,$opt_injectedPositionObserver$$){var $$jscomp$this$jscomp$14$$=this;this.$ampdoc_$=$ampdoc$jscomp$15$$;this.$manager_$=$once$$module$src$utils$function$$(function(){return $getServiceForDoc$$module$src$service$$($ampdoc$jscomp$15$$,"video-manager")});this.$viewport_$=$getServiceForDoc$$module$src$service$$($ampdoc$jscomp$15$$,"viewport");this.$currentlyDocked_$=null;this.$preferredCornerX_$=$isRTL$$module$src$dom$$(this.$ampdoc_$.getRootNode())?
0:1;var $html$jscomp$5$$=$htmlFor$$module$src$static_template$$(this.$ampdoc_$.getRootNode());this.$getShadowLayer_$=$once$$module$src$utils$function$$(function(){return $JSCompiler_StaticMethods_append_$$($$jscomp$this$jscomp$14$$,$html$jscomp$5$$($$jscomp$templatelit$2$$))});this.$getControls_$=$once$$module$src$utils$function$$(function(){return $JSCompiler_StaticMethods_installControls_$$($$jscomp$this$jscomp$14$$)});this.$getPlaceholderBackground_$=$once$$module$src$utils$function$$(function(){return $JSCompiler_StaticMethods_append_$$($$jscomp$this$jscomp$14$$,
$html$jscomp$5$$($$jscomp$templatelit$3$$))});this.$getPlaceholderRefs_$=$once$$module$src$utils$function$$(function(){return $htmlRefs$$module$src$static_template$$($$jscomp$this$jscomp$14$$.$getPlaceholderBackground_$())});this.$scrollDirection_$=this.$sizedAt_$=this.$placedAt_$=this.$lastDismissedPosY_$=this.$lastDismissed_$=null;this.$lastScrollTop_$=this.$viewport_$.getScrollTop();this.$isDragging_$=!1;this.$dragVelocityX_$=this.$previousDragOffsetX_$=0;this.$observed_$=[];this.$install_$=$once$$module$src$utils$function$$(function(){var $ampdoc$jscomp$15$$=
$$jscomp$this$jscomp$14$$.$ampdoc_$;$$jscomp$this$jscomp$14$$.$viewport_$.onScroll($throttleByAnimationFrame$$module$extensions$amp_video_docking$0_1$amp_video_docking$$($ampdoc$jscomp$15$$.win,function(){var $ampdoc$jscomp$15$$=$$jscomp$this$jscomp$14$$.$viewport_$.getScrollTop();5>Math.abs($ampdoc$jscomp$15$$-$$jscomp$this$jscomp$14$$.$lastScrollTop_$)||($$jscomp$this$jscomp$14$$.$scrollDirection_$=$ampdoc$jscomp$15$$>$$jscomp$this$jscomp$14$$.$lastScrollTop_$?1:-1,$$jscomp$this$jscomp$14$$.$lastScrollTop_$=
$ampdoc$jscomp$15$$)}));$$jscomp$this$jscomp$14$$.$viewport_$.onResize(function(){return $JSCompiler_StaticMethods_updateAllOnResize_$$($$jscomp$this$jscomp$14$$)});$installStylesForDoc$$module$src$style_installer$$($ampdoc$jscomp$15$$)});this.$getSlot_$=$once$$module$src$utils$function$$(function(){var $ampdoc$jscomp$15$$=$$jscomp$this$jscomp$14$$.$ampdoc_$.getRootNode();var $opt_injectedPositionObserver$$=$ampdoc$jscomp$15$$.querySelector("[dock]");$userAssert$$module$src$log$$($opt_injectedPositionObserver$$.signals().get("registered"),
"`dock` attribute can only be set on video components.");$opt_injectedPositionObserver$$=$opt_injectedPositionObserver$$.getAttribute("dock").trim();""==$opt_injectedPositionObserver$$?$ampdoc$jscomp$15$$=null:($ampdoc$jscomp$15$$=$ampdoc$jscomp$15$$.querySelector($opt_injectedPositionObserver$$))&&$userAssert$$module$src$log$$("amp-layout"==$ampdoc$jscomp$15$$.tagName.toLowerCase(),"Dock slot must be an <amp-layout> element.");return $ampdoc$jscomp$15$$});this.$injectedPositionObserver_$=$opt_injectedPositionObserver$$||
null;this.$isTransitioning_$=!1;$JSCompiler_StaticMethods_registerAll_$$(this)}
function $JSCompiler_StaticMethods_registerAll_$$($JSCompiler_StaticMethods_registerAll_$self$$){if($JSCompiler_StaticMethods_isEnabled_$$($JSCompiler_StaticMethods_registerAll_$self$$)){for(var $ampdoc$jscomp$17$$=$JSCompiler_StaticMethods_registerAll_$self$$.$ampdoc_$,$dockableSelector$$="["+"dock".replace($regex$$module$third_party$css_escape$css_escape$$,$escaper$$module$third_party$css_escape$css_escape$$)+"]",$dockableElements$$=$ampdoc$jscomp$17$$.getRootNode().querySelectorAll($dockableSelector$$),
$i$jscomp$20$$=0;$i$jscomp$20$$<$dockableElements$$.length;$i$jscomp$20$$++){var $element$jscomp$76$$=$dockableElements$$[$i$jscomp$20$$];$element$jscomp$76$$.signals&&$element$jscomp$76$$.signals().get("registered")&&$JSCompiler_StaticMethods_registerAll_$self$$.registerElement($element$jscomp$76$$)}$listen$$module$src$event_helper$$($ampdoc$jscomp$17$$.getBody(),"registered",function($ampdoc$jscomp$17$$){$ampdoc$jscomp$17$$=$ampdoc$jscomp$17$$.target;$ampdoc$jscomp$17$$.hasAttribute("dock")&&$JSCompiler_StaticMethods_registerAll_$self$$.registerElement($ampdoc$jscomp$17$$)})}}
function $JSCompiler_StaticMethods_isEnabled_$$($JSCompiler_StaticMethods_isEnabled_$self$$){return $getService$$module$src$service$$($JSCompiler_StaticMethods_isEnabled_$self$$.$ampdoc_$.win,"platform").isIos()&&$getServiceForDoc$$module$src$service$$($JSCompiler_StaticMethods_isEnabled_$self$$.$ampdoc_$,"viewer").isEmbedded()?!1:!0}
function $JSCompiler_StaticMethods_updateAllOnResize_$$($JSCompiler_StaticMethods_updateAllOnResize_$self$$){$JSCompiler_StaticMethods_updateAllOnResize_$self$$.$observed_$.forEach(function($video$jscomp$5$$){return $JSCompiler_StaticMethods_updateOnResize_$$($JSCompiler_StaticMethods_updateAllOnResize_$self$$,$video$jscomp$5$$)})}
$VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking$$.prototype.register=function($video$jscomp$6$$){var $$jscomp$this$jscomp$17$$=this;this.$install_$();var $element$jscomp$77$$=$video$jscomp$6$$.element;if(this.$injectedPositionObserver_$)var $JSCompiler_inline_result$jscomp$38$$=this.$injectedPositionObserver_$;else $registerServiceBuilderForDoc$$module$src$service$$(this.$ampdoc_$),$JSCompiler_inline_result$jscomp$38$$=$getServiceForDoc$$module$src$service$$(this.$ampdoc_$,
"position-observer");$JSCompiler_inline_result$jscomp$38$$.observe($element$jscomp$77$$,1,function(){if(!$$jscomp$this$jscomp$17$$.$isTransitioning_$)if(1==$$jscomp$this$jscomp$17$$.$scrollDirection_$){var $element$jscomp$77$$=$JSCompiler_StaticMethods_getTargetFor_$$($$jscomp$this$jscomp$17$$,$video$jscomp$6$$);if($element$jscomp$77$$){var $JSCompiler_inline_result$jscomp$38$$;if(!($JSCompiler_inline_result$jscomp$38$$=$$jscomp$this$jscomp$17$$.$lastDismissed_$!=$video$jscomp$6$$)&&($JSCompiler_inline_result$jscomp$38$$=
null!==$$jscomp$this$jscomp$17$$.$lastDismissedPosY_$)){$JSCompiler_inline_result$jscomp$38$$=$$jscomp$this$jscomp$17$$.$lastDismissedPosY_$;var $JSCompiler_direction$jscomp$inline_302$$=$$jscomp$this$jscomp$17$$.$scrollDirection_$;$JSCompiler_inline_result$jscomp$38$$=!(0==$JSCompiler_inline_result$jscomp$38$$&&1==$JSCompiler_direction$jscomp$inline_302$$||1==$JSCompiler_inline_result$jscomp$38$$&&-1==$JSCompiler_direction$jscomp$inline_302$$)}$JSCompiler_inline_result$jscomp$38$$?$JSCompiler_inline_result$jscomp$38$$=
!1:($JSCompiler_StaticMethods_isVisible_$$($$jscomp$this$jscomp$17$$,$video$jscomp$6$$.element,.02)&&($$jscomp$this$jscomp$17$$.$lastDismissed_$=null,$$jscomp$this$jscomp$17$$.$lastDismissedPosY_$=null),$JSCompiler_inline_result$jscomp$38$$=!0);$JSCompiler_inline_result$jscomp$38$$||$$jscomp$this$jscomp$17$$.$currentlyDocked_$||($JSCompiler_inline_result$jscomp$38$$=$$jscomp$this$jscomp$17$$.$currentlyDocked_$)&&$targetsEqual$$module$extensions$amp_video_docking$0_1$amp_video_docking$$($element$jscomp$77$$,
$JSCompiler_inline_result$jscomp$38$$.target)&&0<=$JSCompiler_inline_result$jscomp$38$$.step||$JSCompiler_StaticMethods_dockInTransferLayerStep_$$($$jscomp$this$jscomp$17$$,$video$jscomp$6$$,$element$jscomp$77$$)}}else-1==$$jscomp$this$jscomp$17$$.$scrollDirection_$&&$$jscomp$this$jscomp$17$$.$currentlyDocked_$&&($element$jscomp$77$$=$$jscomp$this$jscomp$17$$.$currentlyDocked_$.video,$JSCompiler_StaticMethods_isVisible_$$($$jscomp$this$jscomp$17$$,$element$jscomp$77$$.element,.7)&&$JSCompiler_StaticMethods_undock_$$($$jscomp$this$jscomp$17$$,
$element$jscomp$77$$))});this.$observed_$.push($video$jscomp$6$$)};$VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking$$.prototype.registerElement=function($element$jscomp$78$$){var $$jscomp$this$jscomp$18$$=this;$element$jscomp$78$$.getImpl().then(function($element$jscomp$78$$){return $$jscomp$this$jscomp$18$$.register($element$jscomp$78$$)})};
function $JSCompiler_StaticMethods_append_$$($JSCompiler_StaticMethods_append_$self$$,$element$jscomp$79$$){return($JSCompiler_StaticMethods_append_$self$$.$ampdoc_$.getRootNode().body||$JSCompiler_StaticMethods_append_$self$$.$ampdoc_$.getRootNode()).appendChild($element$jscomp$79$$)}
function $JSCompiler_StaticMethods_addDragListeners_$$($JSCompiler_StaticMethods_addDragListeners_$self$$,$element$jscomp$80$$){function $handler$jscomp$7$$($element$jscomp$80$$){return $JSCompiler_StaticMethods_drag_$$($JSCompiler_StaticMethods_addDragListeners_$self$$,$element$jscomp$80$$)}$internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$80$$,"touchstart",$handler$jscomp$7$$);$internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$80$$,"mousedown",
$handler$jscomp$7$$)}
function $JSCompiler_StaticMethods_installControls_$$($JSCompiler_StaticMethods_installControls_$self$$){var $controls$$=new $Controls$$module$extensions$amp_video_docking$0_1$controls$$($JSCompiler_StaticMethods_installControls_$self$$.$ampdoc_$),$$jscomp$destructuring$var30_overlay$jscomp$4$$=$controls$$,$container$jscomp$8$$=$$jscomp$destructuring$var30_overlay$jscomp$4$$.container;$$jscomp$destructuring$var30_overlay$jscomp$4$$=$$jscomp$destructuring$var30_overlay$jscomp$4$$.overlay;$listen$$module$src$event_helper$$($container$jscomp$8$$,
"dock-dismiss-on-tap",function(){$JSCompiler_StaticMethods_installControls_$self$$.$getControls_$().hide(!1,!0);$JSCompiler_StaticMethods_undock_$$($JSCompiler_StaticMethods_installControls_$self$$,$JSCompiler_StaticMethods_installControls_$self$$.$currentlyDocked_$.video)});$JSCompiler_StaticMethods_addDragListeners_$$($JSCompiler_StaticMethods_installControls_$self$$,$container$jscomp$8$$);$JSCompiler_StaticMethods_addDragListeners_$$($JSCompiler_StaticMethods_installControls_$self$$,$$jscomp$destructuring$var30_overlay$jscomp$4$$);
$JSCompiler_StaticMethods_append_$$($JSCompiler_StaticMethods_installControls_$self$$,$container$jscomp$8$$);$JSCompiler_StaticMethods_append_$$($JSCompiler_StaticMethods_installControls_$self$$,$$jscomp$destructuring$var30_overlay$jscomp$4$$);return $controls$$}
function $JSCompiler_StaticMethods_getTargetFor_$$($JSCompiler_StaticMethods_getTargetFor_$self$$,$video$jscomp$8$$){var $JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$;if(!($JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$=
$JSCompiler_StaticMethods_getTargetFor_$self$$.$isDragging_$)){$JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$=$video$jscomp$8$$.getLayoutBox();var $JSCompiler_TAG$jscomp$inline_265_JSCompiler_height$jscomp$inline_135_JSCompiler_top$jscomp$inline_142$$=$JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$.height;
.98>$JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$.width/$JSCompiler_TAG$jscomp$inline_265_JSCompiler_height$jscomp$inline_135_JSCompiler_top$jscomp$inline_142$$?($JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$=
$video$jscomp$8$$.element,$JSCompiler_TAG$jscomp$inline_265_JSCompiler_height$jscomp$inline_135_JSCompiler_top$jscomp$inline_142$$=$JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$.tagName.toUpperCase(),$user$$module$src$log$$().error($JSCompiler_TAG$jscomp$inline_265_JSCompiler_height$jscomp$inline_135_JSCompiler_top$jscomp$inline_142$$,"Minimize-to-corner (`dock`) does not support portrait video.",
$JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$),$JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$=!1):$JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$=
320<=$JSCompiler_StaticMethods_getAreaWidth_$$($JSCompiler_StaticMethods_getTargetFor_$self$$)&&$JSCompiler_StaticMethods_getTargetFor_$self$$.$viewport_$.getSize().height-0>=.7*$JSCompiler_TAG$jscomp$inline_265_JSCompiler_height$jscomp$inline_135_JSCompiler_top$jscomp$inline_142$$;$JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$=!$JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$}if($JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$||
$JSCompiler_StaticMethods_getTargetFor_$self$$.$currentlyDocked_$&&(!$JSCompiler_StaticMethods_getTargetFor_$self$$.$currentlyDocked_$||$JSCompiler_StaticMethods_getTargetFor_$self$$.$currentlyDocked_$.video!=$video$jscomp$8$$)||!$JSCompiler_StaticMethods_getTargetFor_$self$$.$currentlyDocked_$&&!$JSCompiler_StaticMethods_getTargetFor_$self$$.$isPlaying_$($video$jscomp$8$$))return null;if($JSCompiler_StaticMethods_slotHasDimensions_$$($JSCompiler_StaticMethods_getTargetFor_$self$$)){$JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$=
$JSCompiler_StaticMethods_getSlotRelativeY_$$($JSCompiler_StaticMethods_getTargetFor_$self$$);var $JSCompiler_bottom$jscomp$inline_143_JSCompiler_intersectionRect$jscomp$inline_140$$=$video$jscomp$8$$.element.getIntersectionChangeEntry().intersectionRect;if($isSizedLayoutRect$$module$extensions$amp_video_docking$0_1$amp_video_docking$$($JSCompiler_bottom$jscomp$inline_143_JSCompiler_intersectionRect$jscomp$inline_140$$)){$JSCompiler_TAG$jscomp$inline_265_JSCompiler_height$jscomp$inline_135_JSCompiler_top$jscomp$inline_142$$=
$JSCompiler_bottom$jscomp$inline_143_JSCompiler_intersectionRect$jscomp$inline_140$$.top;$JSCompiler_bottom$jscomp$inline_143_JSCompiler_intersectionRect$jscomp$inline_140$$=$JSCompiler_bottom$jscomp$inline_143_JSCompiler_intersectionRect$jscomp$inline_140$$.bottom;var $JSCompiler_$jscomp$inline_144_JSCompiler_slotBottom$jscomp$inline_147_JSCompiler_slotHeight$jscomp$inline_146$$=$JSCompiler_StaticMethods_getFixedLayoutBox_$$($JSCompiler_StaticMethods_getTargetFor_$self$$,$JSCompiler_StaticMethods_getTargetFor_$self$$.$getSlot_$()),
$JSCompiler_slotTop$jscomp$inline_145$$=$JSCompiler_$jscomp$inline_144_JSCompiler_slotBottom$jscomp$inline_147_JSCompiler_slotHeight$jscomp$inline_146$$.top;$JSCompiler_$jscomp$inline_144_JSCompiler_slotBottom$jscomp$inline_147_JSCompiler_slotHeight$jscomp$inline_146$$=$JSCompiler_$jscomp$inline_144_JSCompiler_slotBottom$jscomp$inline_147_JSCompiler_slotHeight$jscomp$inline_146$$.height;$JSCompiler_$jscomp$inline_144_JSCompiler_slotBottom$jscomp$inline_147_JSCompiler_slotHeight$jscomp$inline_146$$=
$JSCompiler_StaticMethods_getTargetFor_$self$$.$viewport_$.getSize().height-$JSCompiler_$jscomp$inline_144_JSCompiler_slotBottom$jscomp$inline_147_JSCompiler_slotHeight$jscomp$inline_146$$-$JSCompiler_slotTop$jscomp$inline_145$$;$JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$=0==$JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$?
$JSCompiler_TAG$jscomp$inline_265_JSCompiler_height$jscomp$inline_135_JSCompiler_top$jscomp$inline_142$$<=$JSCompiler_slotTop$jscomp$inline_145$$:$JSCompiler_bottom$jscomp$inline_143_JSCompiler_intersectionRect$jscomp$inline_140$$>=$JSCompiler_$jscomp$inline_144_JSCompiler_slotBottom$jscomp$inline_147_JSCompiler_slotHeight$jscomp$inline_146$$}else $JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$=
!1}else $JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$=!1;if($JSCompiler_$jscomp$inline_134_JSCompiler_element$jscomp$inline_264_JSCompiler_inline_result$jscomp$39_JSCompiler_inline_result$jscomp$42_JSCompiler_relativeY$jscomp$inline_139_JSCompiler_temp$jscomp$41$$)return $JSCompiler_StaticMethods_getTargetFor_$self$$.$getSlot_$();var $posY$$=
$JSCompiler_StaticMethods_maybeGetRelativeY_$$($JSCompiler_StaticMethods_getTargetFor_$self$$,$video$jscomp$8$$);return null===$posY$$?$posY$$:{posY:$posY$$,posX:$JSCompiler_StaticMethods_getTargetFor_$self$$.$preferredCornerX_$}}
function $JSCompiler_StaticMethods_getFixedLayoutBox_$$($JSCompiler_StaticMethods_getFixedLayoutBox_$self_dy$jscomp$5$$,$JSCompiler_rect$jscomp$inline_149_element$jscomp$82$$){$JSCompiler_StaticMethods_getFixedLayoutBox_$self_dy$jscomp$5$$=-$JSCompiler_StaticMethods_getFixedLayoutBox_$self_dy$jscomp$5$$.$viewport_$.getScrollTop();$JSCompiler_rect$jscomp$inline_149_element$jscomp$82$$=$JSCompiler_rect$jscomp$inline_149_element$jscomp$82$$.getLayoutBox();return 0==$JSCompiler_StaticMethods_getFixedLayoutBox_$self_dy$jscomp$5$$||
0==$JSCompiler_rect$jscomp$inline_149_element$jscomp$82$$.width&&0==$JSCompiler_rect$jscomp$inline_149_element$jscomp$82$$.height?$JSCompiler_rect$jscomp$inline_149_element$jscomp$82$$:$layoutRectLtwh$$module$src$layout_rect$$($JSCompiler_rect$jscomp$inline_149_element$jscomp$82$$.left+0,$JSCompiler_rect$jscomp$inline_149_element$jscomp$82$$.top+$JSCompiler_StaticMethods_getFixedLayoutBox_$self_dy$jscomp$5$$,$JSCompiler_rect$jscomp$inline_149_element$jscomp$82$$.width,$JSCompiler_rect$jscomp$inline_149_element$jscomp$82$$.height)}
function $JSCompiler_StaticMethods_slotHasDimensions_$$($$jscomp$destructuring$var34_JSCompiler_StaticMethods_slotHasDimensions_$self$$){if(!$$jscomp$destructuring$var34_JSCompiler_StaticMethods_slotHasDimensions_$self$$.$getSlot_$())return!1;$$jscomp$destructuring$var34_JSCompiler_StaticMethods_slotHasDimensions_$self$$=$JSCompiler_StaticMethods_getFixedLayoutBox_$$($$jscomp$destructuring$var34_JSCompiler_StaticMethods_slotHasDimensions_$self$$,$$jscomp$destructuring$var34_JSCompiler_StaticMethods_slotHasDimensions_$self$$.$getSlot_$());
var $height$jscomp$29$$=$$jscomp$destructuring$var34_JSCompiler_StaticMethods_slotHasDimensions_$self$$.height;return 0<$$jscomp$destructuring$var34_JSCompiler_StaticMethods_slotHasDimensions_$self$$.width&&0<$height$jscomp$29$$}
function $JSCompiler_StaticMethods_updateOnResize_$$($JSCompiler_StaticMethods_updateOnResize_$self$$,$video$jscomp$10$$){$JSCompiler_StaticMethods_raf_$$($JSCompiler_StaticMethods_updateOnResize_$self$$,function(){var $target$jscomp$88$$=$JSCompiler_StaticMethods_getTargetFor_$$($JSCompiler_StaticMethods_updateOnResize_$self$$,$video$jscomp$10$$);$target$jscomp$88$$?$JSCompiler_StaticMethods_dock_$$($JSCompiler_StaticMethods_updateOnResize_$self$$,$video$jscomp$10$$,$target$jscomp$88$$,1):$JSCompiler_StaticMethods_updateOnResize_$self$$.$currentlyDocked_$&&
$JSCompiler_StaticMethods_updateOnResize_$self$$.$currentlyDocked_$.video==$video$jscomp$10$$&&$JSCompiler_StaticMethods_undock_$$($JSCompiler_StaticMethods_updateOnResize_$self$$,$video$jscomp$10$$)})}function $JSCompiler_StaticMethods_raf_$$($JSCompiler_StaticMethods_raf_$self$$,$cb$jscomp$3$$){$JSCompiler_StaticMethods_raf_$self$$.$ampdoc_$.win.requestAnimationFrame($cb$jscomp$3$$)}
function $JSCompiler_StaticMethods_maybeGetRelativeY_$$($JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$1$$,$video$jscomp$15$$){if($JSCompiler_StaticMethods_slotHasDimensions_$$($JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$1$$))return null;if($JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$1$$.$currentlyDocked_$&&$JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$1$$.$currentlyDocked_$.video==$video$jscomp$15$$&&
1!=$JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$1$$.$currentlyDocked_$.target.nodeType)return $JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$1$$.$currentlyDocked_$.target.posY;$JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$1$$=$video$jscomp$15$$.element.getIntersectionChangeEntry().intersectionRect;if(!$isSizedLayoutRect$$module$extensions$amp_video_docking$0_1$amp_video_docking$$($JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$1$$)||
0<$JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$1$$.top)return null;$dev$$module$src$log$$().info("amp-video-docking","should dock at Y = TOP",{video:$video$jscomp$15$$,intersectionRect:$JSCompiler_StaticMethods_maybeGetRelativeY_$self_intersectionRect$jscomp$1$$});return 0}function $JSCompiler_StaticMethods_getAreaWidth_$$($JSCompiler_StaticMethods_getAreaWidth_$self$$){return $JSCompiler_StaticMethods_getAreaWidth_$self$$.$viewport_$.getSize().width-0}
$VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking$$.prototype.$isPlaying_$=function($optVideo$$){var $video$jscomp$16$$=($optVideo$$=void 0===$optVideo$$?null:$optVideo$$)||this.$currentlyDocked_$.video;return"playing_manual"==this.$manager_$().getPlayingState($video$jscomp$16$$)};
function $JSCompiler_StaticMethods_getSlotRelativeY_$$($JSCompiler_StaticMethods_getSlotRelativeY_$self$$){var $$jscomp$destructuring$var38_height$jscomp$31$$=$JSCompiler_StaticMethods_getFixedLayoutBox_$$($JSCompiler_StaticMethods_getSlotRelativeY_$self$$,$JSCompiler_StaticMethods_getSlotRelativeY_$self$$.$getSlot_$()),$top$jscomp$5$$=$$jscomp$destructuring$var38_height$jscomp$31$$.top;$$jscomp$destructuring$var38_height$jscomp$31$$=$$jscomp$destructuring$var38_height$jscomp$31$$.height;var $vh$$=
$JSCompiler_StaticMethods_getSlotRelativeY_$self$$.$viewport_$.getSize().height;return $vh$$-$$jscomp$destructuring$var38_height$jscomp$31$$-$top$jscomp$5$$>$top$jscomp$5$$?0:1}
function $JSCompiler_StaticMethods_dockInTransferLayerStep_$$($JSCompiler_StaticMethods_dockInTransferLayerStep_$self$$,$video$jscomp$18$$,$target$jscomp$91$$,$opt_step$$){var $step$jscomp$3$$=$opt_step$$||.1;if(.3<$step$jscomp$3$$)return $JSCompiler_StaticMethods_dock_$$($JSCompiler_StaticMethods_dockInTransferLayerStep_$self$$,$video$jscomp$18$$,$target$jscomp$91$$,1);var $isTransferLayerStep$$=!0;return $JSCompiler_StaticMethods_dock_$$($JSCompiler_StaticMethods_dockInTransferLayerStep_$self$$,
$video$jscomp$18$$,$target$jscomp$91$$,$step$jscomp$3$$,$isTransferLayerStep$$).then(function(){return new Promise(function($opt_step$$){$JSCompiler_StaticMethods_raf_$$($JSCompiler_StaticMethods_dockInTransferLayerStep_$self$$,function(){$JSCompiler_StaticMethods_dockInTransferLayerStep_$$($JSCompiler_StaticMethods_dockInTransferLayerStep_$self$$,$video$jscomp$18$$,$target$jscomp$91$$,$step$jscomp$3$$+.1).then($opt_step$$)})})})}
function $JSCompiler_StaticMethods_dock_$$($JSCompiler_StaticMethods_dock_$self$$,$video$jscomp$19$$,$target$jscomp$92$$,$step$jscomp$4$$,$opt_isTransferLayerStep$$){$dev$$module$src$log$$().info("amp-video-docking","dock",{video:$video$jscomp$19$$,target:$target$jscomp$92$$,step:$step$jscomp$4$$});$JSCompiler_StaticMethods_removePosterForAndroidBug_$$($video$jscomp$19$$.element);var $$jscomp$destructuring$var40$$=$JSCompiler_StaticMethods_getDims_$$($JSCompiler_StaticMethods_dock_$self$$,$video$jscomp$19$$,
$target$jscomp$92$$,$step$jscomp$4$$),$x$jscomp$87$$=$$jscomp$destructuring$var40$$.x,$y$jscomp$71$$=$$jscomp$destructuring$var40$$.y,$scale$jscomp$4$$=$$jscomp$destructuring$var40$$.scale,$relativeX$$=$$jscomp$destructuring$var40$$.relativeX;$video$jscomp$19$$.hideControls();var $transitionDurationMs$$=$JSCompiler_StaticMethods_calculateTransitionDuration_$$($JSCompiler_StaticMethods_dock_$self$$,$step$jscomp$4$$);$JSCompiler_StaticMethods_setCurrentlyDocked_$$($JSCompiler_StaticMethods_dock_$self$$,
$video$jscomp$19$$,$target$jscomp$92$$,$step$jscomp$4$$);return $JSCompiler_StaticMethods_placeAt_$$($JSCompiler_StaticMethods_dock_$self$$,$video$jscomp$19$$,$x$jscomp$87$$,$y$jscomp$71$$,$scale$jscomp$4$$,$step$jscomp$4$$,$transitionDurationMs$$,$relativeX$$).then(function(){$opt_isTransferLayerStep$$||$JSCompiler_StaticMethods_dock_$self$$.$getControls_$().enable()})}
$VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking$$.prototype.$trigger_$=function($action$$){var $element$jscomp$85$$=this.$currentlyDocked_$&&1==this.$currentlyDocked_$.target.nodeType?this.$getSlot_$():this.$currentlyDocked_$.video.element,$event$jscomp$9$$=$createCustomEvent$$module$src$event_helper$$(this.$ampdoc_$.win,$action$$,{});a:{var $JSCompiler_ampdoc$jscomp$inline_307_JSCompiler_embedService$jscomp$inline_271_JSCompiler_holder$jscomp$inline_308_JSCompiler_inline_result$jscomp$234_JSCompiler_win$jscomp$inline_269$$=
$element$jscomp$85$$.ownerDocument.defaultView;if($JSCompiler_ampdoc$jscomp$inline_307_JSCompiler_embedService$jscomp$inline_271_JSCompiler_holder$jscomp$inline_308_JSCompiler_inline_result$jscomp$234_JSCompiler_win$jscomp$inline_269$$!=($JSCompiler_ampdoc$jscomp$inline_307_JSCompiler_embedService$jscomp$inline_271_JSCompiler_holder$jscomp$inline_308_JSCompiler_inline_result$jscomp$234_JSCompiler_win$jscomp$inline_269$$.__AMP_TOP||$JSCompiler_ampdoc$jscomp$inline_307_JSCompiler_embedService$jscomp$inline_271_JSCompiler_holder$jscomp$inline_308_JSCompiler_inline_result$jscomp$234_JSCompiler_win$jscomp$inline_269$$)){if($isServiceRegistered$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_307_JSCompiler_embedService$jscomp$inline_271_JSCompiler_holder$jscomp$inline_308_JSCompiler_inline_result$jscomp$234_JSCompiler_win$jscomp$inline_269$$,
"action")&&($JSCompiler_ampdoc$jscomp$inline_307_JSCompiler_embedService$jscomp$inline_271_JSCompiler_holder$jscomp$inline_308_JSCompiler_inline_result$jscomp$234_JSCompiler_win$jscomp$inline_269$$=$getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_307_JSCompiler_embedService$jscomp$inline_271_JSCompiler_holder$jscomp$inline_308_JSCompiler_inline_result$jscomp$234_JSCompiler_win$jscomp$inline_269$$,"action")))break a;$JSCompiler_ampdoc$jscomp$inline_307_JSCompiler_embedService$jscomp$inline_271_JSCompiler_holder$jscomp$inline_308_JSCompiler_inline_result$jscomp$234_JSCompiler_win$jscomp$inline_269$$=
null}else $JSCompiler_ampdoc$jscomp$inline_307_JSCompiler_embedService$jscomp$inline_271_JSCompiler_holder$jscomp$inline_308_JSCompiler_inline_result$jscomp$234_JSCompiler_win$jscomp$inline_269$$=$getAmpdoc$$module$src$service$$($element$jscomp$85$$),$JSCompiler_ampdoc$jscomp$inline_307_JSCompiler_embedService$jscomp$inline_271_JSCompiler_holder$jscomp$inline_308_JSCompiler_inline_result$jscomp$234_JSCompiler_win$jscomp$inline_269$$=$getAmpdocServiceHolder$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_307_JSCompiler_embedService$jscomp$inline_271_JSCompiler_holder$jscomp$inline_308_JSCompiler_inline_result$jscomp$234_JSCompiler_win$jscomp$inline_269$$),
$JSCompiler_ampdoc$jscomp$inline_307_JSCompiler_embedService$jscomp$inline_271_JSCompiler_holder$jscomp$inline_308_JSCompiler_inline_result$jscomp$234_JSCompiler_win$jscomp$inline_269$$=$isServiceRegistered$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_307_JSCompiler_embedService$jscomp$inline_271_JSCompiler_holder$jscomp$inline_308_JSCompiler_inline_result$jscomp$234_JSCompiler_win$jscomp$inline_269$$,"action")?$getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_307_JSCompiler_embedService$jscomp$inline_271_JSCompiler_holder$jscomp$inline_308_JSCompiler_inline_result$jscomp$234_JSCompiler_win$jscomp$inline_269$$,
"action"):null}var $actions$$=$JSCompiler_ampdoc$jscomp$inline_307_JSCompiler_embedService$jscomp$inline_271_JSCompiler_holder$jscomp$inline_308_JSCompiler_inline_result$jscomp$234_JSCompiler_win$jscomp$inline_269$$;$actions$$.trigger($element$jscomp$85$$,$action$$,$event$jscomp$9$$,1)};
function $JSCompiler_StaticMethods_calculateTransitionDuration_$$($JSCompiler_StaticMethods_calculateTransitionDuration_$self$$,$step$jscomp$5$$){var $maxAutoTransitionDurationMs$$=300;return $JSCompiler_StaticMethods_calculateTransitionDuration_$self$$.$currentlyDocked_$?Math.abs($step$jscomp$5$$-$JSCompiler_StaticMethods_calculateTransitionDuration_$self$$.$currentlyDocked_$.step)*$maxAutoTransitionDurationMs$$:0}
function $JSCompiler_StaticMethods_placeAt_$$($JSCompiler_StaticMethods_placeAt_$self$$,$video$jscomp$21$$,$x$jscomp$89$$,$y$jscomp$73$$,$scale$jscomp$6$$,$step$jscomp$6$$,$transitionDurationMs$jscomp$1$$,$opt_relativeX$$){function $setTransitionTiming$$($JSCompiler_StaticMethods_placeAt_$self$$){return $setImportantStyles$$module$src$style$$($JSCompiler_StaticMethods_placeAt_$self$$,{"transition-duration":$transitionDurationMs$jscomp$1$$+"ms","transition-timing-function":$transitionTiming$$})}function $setOpacity$$($JSCompiler_StaticMethods_placeAt_$self$$){return $setImportantStyles$$module$src$style$$($JSCompiler_StaticMethods_placeAt_$self$$,
{opacity:$step$jscomp$6$$})}function $maybeSetSizing$$($JSCompiler_StaticMethods_placeAt_$self$$){$boxNeedsSizing$$&&$setImportantStyles$$module$src$style$$($JSCompiler_StaticMethods_placeAt_$self$$,{width:$width$jscomp$33$$+"px",height:$height$jscomp$33$$+"px","min-width":$width$jscomp$33$$+"px","min-height":$height$jscomp$33$$+"px"})}if($JSCompiler_StaticMethods_placeAt_$self$$.$placedAt_$&&$JSCompiler_StaticMethods_placeAt_$self$$.$placedAt_$.x==$x$jscomp$89$$&&$JSCompiler_StaticMethods_placeAt_$self$$.$placedAt_$.y==
$y$jscomp$73$$&&$JSCompiler_StaticMethods_placeAt_$self$$.$placedAt_$.scale==$scale$jscomp$6$$)return Promise.resolve();$JSCompiler_StaticMethods_placeAt_$self$$.$isTransitioning_$=!0;var $$jscomp$destructuring$var43$$=$video$jscomp$21$$.getLayoutBox(),$width$jscomp$33$$=$$jscomp$destructuring$var43$$.width,$height$jscomp$33$$=$$jscomp$destructuring$var43$$.height;$JSCompiler_StaticMethods_placeAt_$self$$.$placedAt_$={x:$x$jscomp$89$$,y:$y$jscomp$73$$,scale:$scale$jscomp$6$$};var $transitionTiming$$=
0<$step$jscomp$6$$?"ease-out":"ease-in",$element$jscomp$87$$=$video$jscomp$21$$.element,$internalElement$$=$getInternalVideoElementFor$$module$src$utils$video$$($element$jscomp$87$$),$shadowLayer$$=$JSCompiler_StaticMethods_placeAt_$self$$.$getShadowLayer_$(),$overlay$jscomp$5$$=$JSCompiler_StaticMethods_placeAt_$self$$.$getControls_$().overlay,$placeholderBackground$$=$JSCompiler_StaticMethods_placeAt_$self$$.$getPlaceholderBackground_$(),$placeholderIcon$$=$JSCompiler_StaticMethods_placeAt_$self$$.$getPlaceholderRefs_$().icon,
$hasRelativePlacement$$=$isFiniteNumber$$module$src$types$$($opt_relativeX$$),$isPlacementRtl$$=0==$opt_relativeX$$;$hasRelativePlacement$$&&($applyBreakpointClassname$$module$extensions$amp_video_docking$0_1$breakpoints$$($placeholderIcon$$,$width$jscomp$33$$,$PLACEHOLDER_ICON_BREAKPOINTS$$module$extensions$amp_video_docking$0_1$amp_video_docking$$),$placeholderIcon$$.classList.toggle("amp-rtl",$isPlacementRtl$$));var $boxNeedsSizing$$=$JSCompiler_StaticMethods_boxNeedsSizing_$$($JSCompiler_StaticMethods_placeAt_$self$$,
$width$jscomp$33$$,$height$jscomp$33$$),$isSmallPlaceholderIcon$$=$placeholderIcon$$.classList.contains("amp-small"),$placeholderIconWidth$$=$isSmallPlaceholderIcon$$?32:48,$placeholderIconMargin$$=$isSmallPlaceholderIcon$$?20:40,$iconPlacementFn$$=$isPlacementRtl$$?$calculateLeftJustifiedX$$module$extensions$amp_video_docking$0_1$math$$:$calculateRightJustifiedX$$module$extensions$amp_video_docking$0_1$math$$,$placeholderIconX$$=$iconPlacementFn$$($width$jscomp$33$$,$placeholderIconWidth$$,$placeholderIconMargin$$,
$step$jscomp$6$$);$video$jscomp$21$$.mutateElement(function(){$internalElement$$.classList.add("i-amphtml-video-docked");$setImportantStyles$$module$src$style$$($element$jscomp$87$$,{overflow:"visible"});$toggle$$module$src$style$$($shadowLayer$$,!0);$toggle$$module$src$style$$($overlay$jscomp$5$$,!0);$video$jscomp$21$$.applyFillContent($JSCompiler_StaticMethods_placeAt_$self$$.$getPlaceholderRefs_$().poster);$video$jscomp$21$$.applyFillContent($placeholderBackground$$);$JSCompiler_StaticMethods_setPosterImage_$$($JSCompiler_StaticMethods_placeAt_$self$$,
$video$jscomp$21$$);$element$jscomp$87$$.appendChild($placeholderBackground$$);$JSCompiler_StaticMethods_raf_$$($JSCompiler_StaticMethods_placeAt_$self$$,function(){$video$jscomp$21$$.mutateElement(function(){$setOpacity$$($placeholderBackground$$);$setTransitionTiming$$($placeholderBackground$$);$setTransitionTiming$$($placeholderIcon$$);$hasRelativePlacement$$&&$setImportantStyles$$module$src$style$$($placeholderIcon$$,{transform:"translate("+$placeholderIconX$$+"px, 0px) scale(1)"})})});[$getInternalVideoElementFor$$module$src$utils$video$$($video$jscomp$21$$.element),
$JSCompiler_StaticMethods_placeAt_$self$$.$getShadowLayer_$(),$JSCompiler_StaticMethods_placeAt_$self$$.$getControls_$().overlay].forEach(function($JSCompiler_StaticMethods_placeAt_$self$$){$setImportantStyles$$module$src$style$$($JSCompiler_StaticMethods_placeAt_$self$$,{transform:"translate("+$x$jscomp$89$$+"px, "+$y$jscomp$73$$+"px) scale("+$scale$jscomp$6$$+")"});$setTransitionTiming$$($JSCompiler_StaticMethods_placeAt_$self$$);$maybeSetSizing$$($JSCompiler_StaticMethods_placeAt_$self$$)});$setOpacity$$($shadowLayer$$);
$JSCompiler_StaticMethods_placeAt_$self$$.$getControls_$().positionOnVsync($scale$jscomp$6$$,$x$jscomp$89$$,$y$jscomp$73$$,$width$jscomp$33$$,$height$jscomp$33$$)});return $getService$$module$src$service$$($JSCompiler_StaticMethods_placeAt_$self$$.$ampdoc_$.win,"timer").promise($transitionDurationMs$jscomp$1$$).then(function(){$JSCompiler_StaticMethods_placeAt_$self$$.$isTransitioning_$=!1})}
function $JSCompiler_StaticMethods_setPosterImage_$$($JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$,$JSCompiler_attrs$jscomp$inline_160_video$jscomp$24$$){var $placeholderPoster$$=$JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$.$getPlaceholderRefs_$().poster;
a:{$JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$=$JSCompiler_attrs$jscomp$inline_160_video$jscomp$24$$.element;$JSCompiler_attrs$jscomp$inline_160_video$jscomp$24$$=["poster","data-poster"];for(var $JSCompiler_i$jscomp$inline_161$$=0;$JSCompiler_i$jscomp$inline_161$$<$JSCompiler_attrs$jscomp$inline_160_video$jscomp$24$$.length;$JSCompiler_i$jscomp$inline_161$$++){var $JSCompiler_attr$jscomp$inline_162$$=
$JSCompiler_attrs$jscomp$inline_160_video$jscomp$24$$[$JSCompiler_i$jscomp$inline_161$$];if($JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$.hasAttribute($JSCompiler_attr$jscomp$inline_162$$)){$JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$=
$JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$.getAttribute($JSCompiler_attr$jscomp$inline_162$$);break a}}if(void 0!==$scopeSelectorSupported$$module$src$css$$)var $JSCompiler_elements$jscomp$inline_313_JSCompiler_inline_result$jscomp$316_JSCompiler_scopedSelector$jscomp$inline_312_JSCompiler_temp$jscomp$315$$=$scopeSelectorSupported$$module$src$css$$;
else{try{var $JSCompiler_doc$jscomp$inline_318$$=$JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$.ownerDocument,$JSCompiler_testElement$jscomp$inline_319$$=$JSCompiler_doc$jscomp$inline_318$$.createElement("div"),$JSCompiler_testChild$jscomp$inline_320$$=$JSCompiler_doc$jscomp$inline_318$$.createElement("div");$JSCompiler_testElement$jscomp$inline_319$$.appendChild($JSCompiler_testChild$jscomp$inline_320$$);
$JSCompiler_elements$jscomp$inline_313_JSCompiler_inline_result$jscomp$316_JSCompiler_scopedSelector$jscomp$inline_312_JSCompiler_temp$jscomp$315$$=$JSCompiler_testElement$jscomp$inline_319$$.querySelector(":scope div")===$JSCompiler_testChild$jscomp$inline_320$$}catch($JSCompiler_e$jscomp$inline_321$$){$JSCompiler_elements$jscomp$inline_313_JSCompiler_inline_result$jscomp$316_JSCompiler_scopedSelector$jscomp$inline_312_JSCompiler_temp$jscomp$315$$=!1}$JSCompiler_elements$jscomp$inline_313_JSCompiler_inline_result$jscomp$316_JSCompiler_scopedSelector$jscomp$inline_312_JSCompiler_temp$jscomp$315$$=
$scopeSelectorSupported$$module$src$css$$=$JSCompiler_elements$jscomp$inline_313_JSCompiler_inline_result$jscomp$316_JSCompiler_scopedSelector$jscomp$inline_312_JSCompiler_temp$jscomp$315$$}$JSCompiler_elements$jscomp$inline_313_JSCompiler_inline_result$jscomp$316_JSCompiler_scopedSelector$jscomp$inline_312_JSCompiler_temp$jscomp$315$$?$JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$=
$JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$.querySelector($prependSelectorsWith$$module$src$css$$(":scope")):($JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$.classList.add("i-amphtml-scoped"),
$JSCompiler_elements$jscomp$inline_313_JSCompiler_inline_result$jscomp$316_JSCompiler_scopedSelector$jscomp$inline_312_JSCompiler_temp$jscomp$315$$=$prependSelectorsWith$$module$src$css$$(".i-amphtml-scoped"),$JSCompiler_elements$jscomp$inline_313_JSCompiler_inline_result$jscomp$316_JSCompiler_scopedSelector$jscomp$inline_312_JSCompiler_temp$jscomp$315$$=$JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$.querySelectorAll($JSCompiler_elements$jscomp$inline_313_JSCompiler_inline_result$jscomp$316_JSCompiler_scopedSelector$jscomp$inline_312_JSCompiler_temp$jscomp$315$$),
$JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$.classList.remove("i-amphtml-scoped"),$JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$=void 0===
$JSCompiler_elements$jscomp$inline_313_JSCompiler_inline_result$jscomp$316_JSCompiler_scopedSelector$jscomp$inline_312_JSCompiler_temp$jscomp$315$$[0]?null:$JSCompiler_elements$jscomp$inline_313_JSCompiler_inline_result$jscomp$316_JSCompiler_scopedSelector$jscomp$inline_312_JSCompiler_temp$jscomp$315$$[0]);$JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$=
$JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$?$JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$.getAttribute("src"):void 0}var $posterSrc$$=$JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$;
if($posterSrc$$){$toggle$$module$src$style$$($placeholderPoster$$,!0);$JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$={"background-image":"url("+$posterSrc$$+")"};for(var $JSCompiler_k$jscomp$inline_167$$ in $JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$)$setStyle$$module$src$style$$($placeholderPoster$$,
$JSCompiler_k$jscomp$inline_167$$,$JSCompiler_StaticMethods_setPosterImage_$self_JSCompiler_element$jscomp$inline_159_JSCompiler_imgEl$jscomp$inline_163_JSCompiler_inline_result$jscomp$235_JSCompiler_inline_result$jscomp$46_JSCompiler_styles$jscomp$inline_166$$[$JSCompiler_k$jscomp$inline_167$$])}else $toggle$$module$src$style$$($placeholderPoster$$,!1)}
function $JSCompiler_StaticMethods_boxNeedsSizing_$$($JSCompiler_StaticMethods_boxNeedsSizing_$self$$,$width$jscomp$34$$,$height$jscomp$34$$){var $needsSizing$$=!$JSCompiler_StaticMethods_boxNeedsSizing_$self$$.$sizedAt_$||$JSCompiler_StaticMethods_boxNeedsSizing_$self$$.$sizedAt_$.width!=$width$jscomp$34$$||$JSCompiler_StaticMethods_boxNeedsSizing_$self$$.$sizedAt_$.height!=$height$jscomp$34$$;$needsSizing$$&&($JSCompiler_StaticMethods_boxNeedsSizing_$self$$.$sizedAt_$={width:$width$jscomp$34$$,
height:$height$jscomp$34$$});return $needsSizing$$}
function $JSCompiler_StaticMethods_setCurrentlyDocked_$$($JSCompiler_StaticMethods_setCurrentlyDocked_$self$$,$video$jscomp$26$$,$target$jscomp$94$$,$step$jscomp$7$$){var $previouslyDocked$$=$JSCompiler_StaticMethods_setCurrentlyDocked_$self$$.$currentlyDocked_$;$JSCompiler_StaticMethods_setCurrentlyDocked_$self$$.$currentlyDocked_$={video:$video$jscomp$26$$,target:$target$jscomp$94$$,step:$step$jscomp$7$$};$previouslyDocked$$&&$targetsEqual$$module$extensions$amp_video_docking$0_1$amp_video_docking$$($target$jscomp$94$$,$previouslyDocked$$.target)&&
$previouslyDocked$$.video==$video$jscomp$26$$||($JSCompiler_StaticMethods_setCurrentlyDocked_$self$$.$getControls_$().setVideo($video$jscomp$26$$,$JSCompiler_StaticMethods_getTargetArea_$$($JSCompiler_StaticMethods_setCurrentlyDocked_$self$$,$video$jscomp$26$$,$target$jscomp$94$$)),$JSCompiler_StaticMethods_setCurrentlyDocked_$self$$.$trigger_$("dock"))}
function $JSCompiler_StaticMethods_isVisible_$$($JSCompiler_StaticMethods_isVisible_$self_JSCompiler_inline_result$jscomp$44$$,$JSCompiler_layoutBox$jscomp$inline_172_element$jscomp$92$$,$minRatio$$){$minRatio$$=void 0===$minRatio$$?1:$minRatio$$;var $JSCompiler_target$jscomp$inline_171_JSCompiler_top$jscomp$inline_173$$=$JSCompiler_StaticMethods_slotHasDimensions_$$($JSCompiler_StaticMethods_isVisible_$self_JSCompiler_inline_result$jscomp$44$$)?$JSCompiler_StaticMethods_isVisible_$self_JSCompiler_inline_result$jscomp$44$$.$getSlot_$():
null;$JSCompiler_target$jscomp$inline_171_JSCompiler_top$jscomp$inline_173$$=void 0===$JSCompiler_target$jscomp$inline_171_JSCompiler_top$jscomp$inline_173$$?null:$JSCompiler_target$jscomp$inline_171_JSCompiler_top$jscomp$inline_173$$;if(null!=$JSCompiler_target$jscomp$inline_171_JSCompiler_top$jscomp$inline_173$$&&1==$JSCompiler_target$jscomp$inline_171_JSCompiler_top$jscomp$inline_173$$.nodeType){$JSCompiler_layoutBox$jscomp$inline_172_element$jscomp$92$$=$JSCompiler_layoutBox$jscomp$inline_172_element$jscomp$92$$.getLayoutBox();
$JSCompiler_target$jscomp$inline_171_JSCompiler_top$jscomp$inline_173$$=$JSCompiler_layoutBox$jscomp$inline_172_element$jscomp$92$$.top;var $JSCompiler_bottom$jscomp$inline_174$$=$JSCompiler_layoutBox$jscomp$inline_172_element$jscomp$92$$.bottom,$JSCompiler_height$jscomp$inline_175$$=$JSCompiler_layoutBox$jscomp$inline_172_element$jscomp$92$$.height,$JSCompiler_$jscomp$inline_176_JSCompiler_slotBottom$jscomp$inline_178$$=$JSCompiler_StaticMethods_isVisible_$self_JSCompiler_inline_result$jscomp$44$$.$getSlot_$().getLayoutBox(),
$JSCompiler_slotTop$jscomp$inline_177$$=$JSCompiler_$jscomp$inline_176_JSCompiler_slotBottom$jscomp$inline_178$$.top;$JSCompiler_$jscomp$inline_176_JSCompiler_slotBottom$jscomp$inline_178$$=$JSCompiler_$jscomp$inline_176_JSCompiler_slotBottom$jscomp$inline_178$$.bottom;$JSCompiler_StaticMethods_isVisible_$self_JSCompiler_inline_result$jscomp$44$$=$isSizedLayoutRect$$module$extensions$amp_video_docking$0_1$amp_video_docking$$($JSCompiler_layoutBox$jscomp$inline_172_element$jscomp$92$$)?0==$JSCompiler_StaticMethods_getSlotRelativeY_$$($JSCompiler_StaticMethods_isVisible_$self_JSCompiler_inline_result$jscomp$44$$)?
($JSCompiler_bottom$jscomp$inline_174$$-Math.max($JSCompiler_target$jscomp$inline_171_JSCompiler_top$jscomp$inline_173$$,$JSCompiler_slotTop$jscomp$inline_177$$))/$JSCompiler_height$jscomp$inline_175$$:($JSCompiler_$jscomp$inline_176_JSCompiler_slotBottom$jscomp$inline_178$$-$JSCompiler_target$jscomp$inline_171_JSCompiler_top$jscomp$inline_173$$)/$JSCompiler_height$jscomp$inline_175$$:0}else $JSCompiler_StaticMethods_isVisible_$self_JSCompiler_inline_result$jscomp$44$$=$JSCompiler_layoutBox$jscomp$inline_172_element$jscomp$92$$.getIntersectionChangeEntry().intersectionRatio;
var $intersectionRatio$$=$JSCompiler_StaticMethods_isVisible_$self_JSCompiler_inline_result$jscomp$44$$;return $intersectionRatio$$>$minRatio$$-.02}
function $JSCompiler_StaticMethods_drag_$$($JSCompiler_StaticMethods_drag_$self$$,$$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$){if($JSCompiler_StaticMethods_drag_$self$$.$currentlyDocked_$&&!($JSCompiler_StaticMethods_drag_$self$$.$currentlyDocked_$&&1==$JSCompiler_StaticMethods_drag_$self$$.$currentlyDocked_$.target.nodeType||$JSCompiler_StaticMethods_drag_$self$$.$isTransitioning_$)){var $initialX$$=$pointerCoords$$module$extensions$amp_video_docking$0_1$events$$($$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$).x,
$offset$jscomp$19$$={x:0,y:0};$$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$=$JSCompiler_StaticMethods_drag_$self$$.$currentlyDocked_$.target;var $currentPosX$$=$$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$.posX,$currentPosY$$=$$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$.posY,$onDragMove$$=$throttleByAnimationFrame$$module$extensions$amp_video_docking$0_1$amp_video_docking$$($JSCompiler_StaticMethods_drag_$self$$.$ampdoc_$.win,function($$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$){var $onDragMove$$=
$JSCompiler_StaticMethods_drag_$self$$.$currentlyDocked_$.target,$onDragEnd$$=$onDragMove$$.posY;if($onDragMove$$.posX===$currentPosX$$&&$onDragEnd$$===$currentPosY$$&&($offset$jscomp$19$$.x=$pointerCoords$$module$extensions$amp_video_docking$0_1$events$$($$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$).x-$initialX$$,$offset$jscomp$19$$.y=0,!(10>=Math.sqrt(Math.pow($offset$jscomp$19$$.x,2)+Math.pow($offset$jscomp$19$$.y,2))))){$$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$.preventDefault();
$$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$.stopPropagation();$JSCompiler_StaticMethods_drag_$self$$.$getControls_$().hide(!1,!0);$JSCompiler_StaticMethods_drag_$self$$.$isDragging_$=!0;$JSCompiler_StaticMethods_drag_$self$$.$getControls_$().disable();$$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$=$offset$jscomp$19$$.x;$onDragMove$$=$offset$jscomp$19$$.y;$onDragEnd$$=$JSCompiler_StaticMethods_drag_$self$$.$currentlyDocked_$.video;var $unlisteners$$=$JSCompiler_StaticMethods_getDims_$$($JSCompiler_StaticMethods_drag_$self$$,
$onDragEnd$$,$JSCompiler_StaticMethods_drag_$self$$.$currentlyDocked_$.target,1),$JSCompiler_offsetX$jscomp$inline_277_e$jscomp$25$$=$unlisteners$$.x,$JSCompiler_y$jscomp$inline_282$$=$unlisteners$$.y;$unlisteners$$=$unlisteners$$.scale;var $JSCompiler_offsetRelativeX$jscomp$inline_285$$=$JSCompiler_StaticMethods_getCenter_$$($JSCompiler_StaticMethods_drag_$self$$,$$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$,$onDragMove$$).centerX>=$JSCompiler_StaticMethods_getAreaWidth_$$($JSCompiler_StaticMethods_drag_$self$$)/
2?1:0;$JSCompiler_StaticMethods_drag_$self$$.$dragVelocityX_$=$$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$-$JSCompiler_StaticMethods_drag_$self$$.$previousDragOffsetX_$;$JSCompiler_StaticMethods_drag_$self$$.$previousDragOffsetX_$=$$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$;$JSCompiler_StaticMethods_placeAt_$$($JSCompiler_StaticMethods_drag_$self$$,$onDragEnd$$,$JSCompiler_offsetX$jscomp$inline_277_e$jscomp$25$$+$$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$,
$JSCompiler_y$jscomp$inline_282$$+$onDragMove$$,$unlisteners$$,1,0,$JSCompiler_offsetRelativeX$jscomp$inline_285$$)}}),$onDragEnd$$=function(){return $JSCompiler_StaticMethods_onDragEnd_$$($JSCompiler_StaticMethods_drag_$self$$,$unlisteners$$,$offset$jscomp$19$$)};$$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$=$JSCompiler_StaticMethods_drag_$self$$.$ampdoc_$.getRootNode();var $unlisteners$$=[$JSCompiler_StaticMethods_disableScroll_$$($JSCompiler_StaticMethods_drag_$self$$),$JSCompiler_StaticMethods_disableUserSelect_$$($JSCompiler_StaticMethods_drag_$self$$),
$JSCompiler_StaticMethods_workaroundWebkitDragAndScrollIssue_$$($JSCompiler_StaticMethods_drag_$self$$),$internalListenImplementation$$module$src$event_helper_listen$$($$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$,"touchmove",$onDragMove$$),$internalListenImplementation$$module$src$event_helper_listen$$($$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$,"mousemove",$onDragMove$$),$listenOnce$$module$src$event_helper$$($$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$,"touchend",
$onDragEnd$$),$listenOnce$$module$src$event_helper$$($$jscomp$destructuring$var52_e$jscomp$24_root$jscomp$10$$,"mouseup",$onDragEnd$$)]}}
function $JSCompiler_StaticMethods_disableUserSelect_$$($JSCompiler_StaticMethods_disableUserSelect_$self$$){var $docEl$$=$JSCompiler_StaticMethods_disableUserSelect_$self$$.$ampdoc_$.getRootNode().documentElement,$disabledClassName$$="i-amphtml-select-disabled";$docEl$$.classList.add($disabledClassName$$);return function(){return $docEl$$.classList.remove($disabledClassName$$)}}
function $JSCompiler_StaticMethods_disableScroll_$$($JSCompiler_StaticMethods_disableScroll_$self$$){$JSCompiler_StaticMethods_disableScroll_$self$$.$viewport_$.disableScroll();return $JSCompiler_StaticMethods_disableScroll_$self$$.$viewport_$.resetScroll.bind($JSCompiler_StaticMethods_disableScroll_$self$$.$viewport_$)}
function $JSCompiler_StaticMethods_workaroundWebkitDragAndScrollIssue_$$($JSCompiler_StaticMethods_workaroundWebkitDragAndScrollIssue_$self$$){function $handler$jscomp$8$$($JSCompiler_StaticMethods_workaroundWebkitDragAndScrollIssue_$self$$){return $JSCompiler_StaticMethods_workaroundWebkitDragAndScrollIssue_$self$$.preventDefault()}var $win$jscomp$54$$=$JSCompiler_StaticMethods_workaroundWebkitDragAndScrollIssue_$self$$.$ampdoc_$.win;if(!$getService$$module$src$service$$($win$jscomp$54$$,"platform").isIos())return function(){};
$win$jscomp$54$$.addEventListener("touchmove",$handler$jscomp$8$$,{passive:!1});return function(){return $win$jscomp$54$$.removeEventListener("touchmove",$handler$jscomp$8$$)}}
function $JSCompiler_StaticMethods_onDragEnd_$$($JSCompiler_StaticMethods_onDragEnd_$self$$,$unlisteners$jscomp$1$$,$offset$jscomp$21$$){$unlisteners$jscomp$1$$.forEach(function($JSCompiler_StaticMethods_onDragEnd_$self$$){return $JSCompiler_StaticMethods_onDragEnd_$self$$.call()});$JSCompiler_StaticMethods_onDragEnd_$self$$.$isDragging_$=!1;$JSCompiler_StaticMethods_onDragEnd_$self$$.$getControls_$().enable();40>Math.abs($JSCompiler_StaticMethods_onDragEnd_$self$$.$dragVelocityX_$)?$JSCompiler_StaticMethods_snap_$$($JSCompiler_StaticMethods_onDragEnd_$self$$,
$offset$jscomp$21$$.x,$offset$jscomp$21$$.y):$JSCompiler_StaticMethods_flickToDismiss_$$($JSCompiler_StaticMethods_onDragEnd_$self$$,$JSCompiler_StaticMethods_onDragEnd_$self$$.$previousDragOffsetX_$,Math.sign($JSCompiler_StaticMethods_onDragEnd_$self$$.$dragVelocityX_$));$JSCompiler_StaticMethods_onDragEnd_$self$$.$dragVelocityX_$=0;$JSCompiler_StaticMethods_onDragEnd_$self$$.$previousDragOffsetX_$=0}
function $JSCompiler_StaticMethods_flickToDismiss_$$($JSCompiler_StaticMethods_flickToDismiss_$self$$,$offsetX$jscomp$1_transitionDurationMs$jscomp$4$$,$direction$jscomp$7$$){var $video$jscomp$28$$=$JSCompiler_StaticMethods_flickToDismiss_$self$$.$currentlyDocked_$.video;$video$jscomp$28$$.pause();if($JSCompiler_StaticMethods_isVisible_$$($JSCompiler_StaticMethods_flickToDismiss_$self$$,$video$jscomp$28$$.element,.2))$JSCompiler_StaticMethods_bounceToDismiss_$$($JSCompiler_StaticMethods_flickToDismiss_$self$$,
$video$jscomp$28$$,$offsetX$jscomp$1_transitionDurationMs$jscomp$4$$,$direction$jscomp$7$$);else{var $scale$jscomp$9_target$jscomp$97$$=$JSCompiler_StaticMethods_flickToDismiss_$self$$.$currentlyDocked_$.target,$$jscomp$destructuring$var56_width$jscomp$35$$=$JSCompiler_StaticMethods_getTargetArea_$$($JSCompiler_StaticMethods_flickToDismiss_$self$$,$video$jscomp$28$$,$scale$jscomp$9_target$jscomp$97$$),$x$jscomp$92$$=$$jscomp$destructuring$var56_width$jscomp$35$$.x,$y$jscomp$76$$=$$jscomp$destructuring$var56_width$jscomp$35$$.y;
$$jscomp$destructuring$var56_width$jscomp$35$$=$$jscomp$destructuring$var56_width$jscomp$35$$.width;$scale$jscomp$9_target$jscomp$97$$=$JSCompiler_StaticMethods_getDims_$$($JSCompiler_StaticMethods_flickToDismiss_$self$$,$video$jscomp$28$$,$scale$jscomp$9_target$jscomp$97$$,1).scale;var $currentX$$=$x$jscomp$92$$+$offsetX$jscomp$1_transitionDurationMs$jscomp$4$$,$nextX$$=1==$direction$jscomp$7$$?$JSCompiler_StaticMethods_flickToDismiss_$self$$.$viewport_$.getSize().width:0-$$jscomp$destructuring$var56_width$jscomp$35$$;
$offsetX$jscomp$1_transitionDurationMs$jscomp$4$$=Math.min(300,Math.abs($nextX$$-$currentX$$)/2);$JSCompiler_StaticMethods_reconcileUndocked_$$($JSCompiler_StaticMethods_flickToDismiss_$self$$);$video$jscomp$28$$.showControls();$JSCompiler_StaticMethods_placeAt_$$($JSCompiler_StaticMethods_flickToDismiss_$self$$,$video$jscomp$28$$,$nextX$$,$y$jscomp$76$$,$scale$jscomp$9_target$jscomp$97$$,0,$offsetX$jscomp$1_transitionDurationMs$jscomp$4$$).then(function(){$JSCompiler_StaticMethods_resetOnUndock_$$($JSCompiler_StaticMethods_flickToDismiss_$self$$,
$video$jscomp$28$$)})}}
function $JSCompiler_StaticMethods_bounceToDismiss_$$($JSCompiler_StaticMethods_bounceToDismiss_$self$$,$video$jscomp$29$$,$currentX$jscomp$1_offsetX$jscomp$2_transitionDurationMs$jscomp$5$$,$direction$jscomp$8_nextX$jscomp$1$$){var $scale$jscomp$10_target$jscomp$98$$=$JSCompiler_StaticMethods_bounceToDismiss_$self$$.$currentlyDocked_$.target,$$jscomp$destructuring$var59_width$jscomp$36$$=$JSCompiler_StaticMethods_getTargetArea_$$($JSCompiler_StaticMethods_bounceToDismiss_$self$$,$video$jscomp$29$$,
$scale$jscomp$10_target$jscomp$98$$),$x$jscomp$93$$=$$jscomp$destructuring$var59_width$jscomp$36$$.x,$y$jscomp$77$$=$$jscomp$destructuring$var59_width$jscomp$36$$.y;$$jscomp$destructuring$var59_width$jscomp$36$$=$$jscomp$destructuring$var59_width$jscomp$36$$.width;$scale$jscomp$10_target$jscomp$98$$=$JSCompiler_StaticMethods_getDims_$$($JSCompiler_StaticMethods_bounceToDismiss_$self$$,$video$jscomp$29$$,$scale$jscomp$10_target$jscomp$98$$,1).scale;var $areaWidth$$=$JSCompiler_StaticMethods_getAreaWidth_$$($JSCompiler_StaticMethods_bounceToDismiss_$self$$);
$currentX$jscomp$1_offsetX$jscomp$2_transitionDurationMs$jscomp$5$$=$x$jscomp$93$$+$currentX$jscomp$1_offsetX$jscomp$2_transitionDurationMs$jscomp$5$$;$direction$jscomp$8_nextX$jscomp$1$$=1==$direction$jscomp$8_nextX$jscomp$1$$?$calculateJustified$$module$extensions$amp_video_docking$0_1$math$$($areaWidth$$,$$jscomp$destructuring$var59_width$jscomp$36$$):-1*($areaWidth$$-$$jscomp$destructuring$var59_width$jscomp$36$$);$currentX$jscomp$1_offsetX$jscomp$2_transitionDurationMs$jscomp$5$$=Math.min(300,
Math.abs($direction$jscomp$8_nextX$jscomp$1$$-$currentX$jscomp$1_offsetX$jscomp$2_transitionDurationMs$jscomp$5$$)/2);$JSCompiler_StaticMethods_reconcileUndocked_$$($JSCompiler_StaticMethods_bounceToDismiss_$self$$);$JSCompiler_StaticMethods_placeAt_$$($JSCompiler_StaticMethods_bounceToDismiss_$self$$,$video$jscomp$29$$,$direction$jscomp$8_nextX$jscomp$1$$,$y$jscomp$77$$,$scale$jscomp$10_target$jscomp$98$$,0,$currentX$jscomp$1_offsetX$jscomp$2_transitionDurationMs$jscomp$5$$).then(function(){$JSCompiler_StaticMethods_undock_$$($JSCompiler_StaticMethods_bounceToDismiss_$self$$,
$video$jscomp$29$$,!0);$video$jscomp$29$$.showControls()})}
function $JSCompiler_StaticMethods_getCenter_$$($$jscomp$destructuring$var63_JSCompiler_StaticMethods_getCenter_$self$$,$offsetX$jscomp$3$$,$offsetY$jscomp$1$$){var $$jscomp$destructuring$var61_width$jscomp$37$$=$$jscomp$destructuring$var63_JSCompiler_StaticMethods_getCenter_$self$$.$currentlyDocked_$,$scale$jscomp$11_target$jscomp$99$$=$$jscomp$destructuring$var61_width$jscomp$37$$.target,$step$jscomp$11$$=$$jscomp$destructuring$var61_width$jscomp$37$$.step,$video$jscomp$30$$=$$jscomp$destructuring$var63_JSCompiler_StaticMethods_getCenter_$self$$.$currentlyDocked_$.video,
$$jscomp$destructuring$var62_height$jscomp$35$$=$video$jscomp$30$$.getLayoutBox();$$jscomp$destructuring$var61_width$jscomp$37$$=$$jscomp$destructuring$var62_height$jscomp$35$$.width;$$jscomp$destructuring$var62_height$jscomp$35$$=$$jscomp$destructuring$var62_height$jscomp$35$$.height;$$jscomp$destructuring$var63_JSCompiler_StaticMethods_getCenter_$self$$=$JSCompiler_StaticMethods_getDims_$$($$jscomp$destructuring$var63_JSCompiler_StaticMethods_getCenter_$self$$,$video$jscomp$30$$,$scale$jscomp$11_target$jscomp$99$$,
$step$jscomp$11$$);$scale$jscomp$11_target$jscomp$99$$=$$jscomp$destructuring$var63_JSCompiler_StaticMethods_getCenter_$self$$.scale;return{centerX:$$jscomp$destructuring$var63_JSCompiler_StaticMethods_getCenter_$self$$.x+$offsetX$jscomp$3$$+$$jscomp$destructuring$var61_width$jscomp$37$$*$scale$jscomp$11_target$jscomp$99$$/2,centerY:$$jscomp$destructuring$var63_JSCompiler_StaticMethods_getCenter_$self$$.y+$offsetY$jscomp$1$$+$$jscomp$destructuring$var62_height$jscomp$35$$*$scale$jscomp$11_target$jscomp$99$$/
2}}
function $JSCompiler_StaticMethods_snap_$$($JSCompiler_StaticMethods_snap_$self$$,$offsetRelativeX$jscomp$1_offsetX$jscomp$4$$,$$jscomp$destructuring$var66_offsetY$jscomp$2_target$jscomp$100$$){var $video$jscomp$31$$=$JSCompiler_StaticMethods_snap_$self$$.$currentlyDocked_$.video,$step$jscomp$12$$=$JSCompiler_StaticMethods_snap_$self$$.$currentlyDocked_$.step;$offsetRelativeX$jscomp$1_offsetX$jscomp$4$$=$JSCompiler_StaticMethods_getCenter_$$($JSCompiler_StaticMethods_snap_$self$$,$offsetRelativeX$jscomp$1_offsetX$jscomp$4$$,$$jscomp$destructuring$var66_offsetY$jscomp$2_target$jscomp$100$$).centerX>=
$JSCompiler_StaticMethods_getAreaWidth_$$($JSCompiler_StaticMethods_snap_$self$$)/2?1:0;$$jscomp$destructuring$var66_offsetY$jscomp$2_target$jscomp$100$$={posX:$offsetRelativeX$jscomp$1_offsetX$jscomp$4$$,posY:0};$JSCompiler_StaticMethods_snap_$self$$.$currentlyDocked_$.target=$$jscomp$destructuring$var66_offsetY$jscomp$2_target$jscomp$100$$;$JSCompiler_StaticMethods_snap_$self$$.$preferredCornerX_$=$offsetRelativeX$jscomp$1_offsetX$jscomp$4$$;$$jscomp$destructuring$var66_offsetY$jscomp$2_target$jscomp$100$$=
$JSCompiler_StaticMethods_getDims_$$($JSCompiler_StaticMethods_snap_$self$$,$video$jscomp$31$$,$$jscomp$destructuring$var66_offsetY$jscomp$2_target$jscomp$100$$,$step$jscomp$12$$);$JSCompiler_StaticMethods_placeAt_$$($JSCompiler_StaticMethods_snap_$self$$,$video$jscomp$31$$,$$jscomp$destructuring$var66_offsetY$jscomp$2_target$jscomp$100$$.x,$$jscomp$destructuring$var66_offsetY$jscomp$2_target$jscomp$100$$.y,$$jscomp$destructuring$var66_offsetY$jscomp$2_target$jscomp$100$$.scale,$step$jscomp$12$$,
200,$offsetRelativeX$jscomp$1_offsetX$jscomp$4$$)}
function $JSCompiler_StaticMethods_getTargetArea_$$($JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$48_JSCompiler_top$jscomp$inline_200_JSCompiler_y$jscomp$inline_205_JSCompiler_y$jscomp$inline_220$$,$JSCompiler_slotWidth$jscomp$inline_198_JSCompiler_targetWidth$jscomp$inline_217_JSCompiler_width$jscomp$inline_213_JSCompiler_x$jscomp$inline_204_video$jscomp$32$$,$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$){if(1==$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$.nodeType){var $JSCompiler_$jscomp$inline_194_JSCompiler_naturalHeight$jscomp$inline_196_JSCompiler_posY$jscomp$inline_211$$=
$JSCompiler_slotWidth$jscomp$inline_198_JSCompiler_targetWidth$jscomp$inline_217_JSCompiler_width$jscomp$inline_213_JSCompiler_x$jscomp$inline_204_video$jscomp$32$$.getLayoutBox(),$JSCompiler_naturalWidth$jscomp$inline_195_JSCompiler_posX$jscomp$inline_210_JSCompiler_x$jscomp$inline_219$$=$JSCompiler_$jscomp$inline_194_JSCompiler_naturalHeight$jscomp$inline_196_JSCompiler_posY$jscomp$inline_211$$.width;$JSCompiler_$jscomp$inline_194_JSCompiler_naturalHeight$jscomp$inline_196_JSCompiler_posY$jscomp$inline_211$$=
$JSCompiler_$jscomp$inline_194_JSCompiler_naturalHeight$jscomp$inline_196_JSCompiler_posY$jscomp$inline_211$$.height;$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$=$JSCompiler_StaticMethods_getFixedLayoutBox_$$($JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$48_JSCompiler_top$jscomp$inline_200_JSCompiler_y$jscomp$inline_205_JSCompiler_y$jscomp$inline_220$$,$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$);
$JSCompiler_slotWidth$jscomp$inline_198_JSCompiler_targetWidth$jscomp$inline_217_JSCompiler_width$jscomp$inline_213_JSCompiler_x$jscomp$inline_204_video$jscomp$32$$=$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$.width;var $JSCompiler_aspectRatio$jscomp$inline_216_JSCompiler_height$jscomp$inline_214_JSCompiler_slotHeight$jscomp$inline_199_JSCompiler_targetHeight$jscomp$inline_218$$=$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$.height;
$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$48_JSCompiler_top$jscomp$inline_200_JSCompiler_y$jscomp$inline_205_JSCompiler_y$jscomp$inline_220$$=$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$.top;var $JSCompiler_left$jscomp$inline_201$$=$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$.left;
$JSCompiler_naturalWidth$jscomp$inline_195_JSCompiler_posX$jscomp$inline_210_JSCompiler_x$jscomp$inline_219$$/$JSCompiler_$jscomp$inline_194_JSCompiler_naturalHeight$jscomp$inline_196_JSCompiler_posY$jscomp$inline_211$$>$JSCompiler_slotWidth$jscomp$inline_198_JSCompiler_targetWidth$jscomp$inline_217_JSCompiler_width$jscomp$inline_213_JSCompiler_x$jscomp$inline_204_video$jscomp$32$$/$JSCompiler_aspectRatio$jscomp$inline_216_JSCompiler_height$jscomp$inline_214_JSCompiler_slotHeight$jscomp$inline_199_JSCompiler_targetHeight$jscomp$inline_218$$?
($JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$=$JSCompiler_slotWidth$jscomp$inline_198_JSCompiler_targetWidth$jscomp$inline_217_JSCompiler_width$jscomp$inline_213_JSCompiler_x$jscomp$inline_204_video$jscomp$32$$/$JSCompiler_naturalWidth$jscomp$inline_195_JSCompiler_posX$jscomp$inline_210_JSCompiler_x$jscomp$inline_219$$,$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$48_JSCompiler_top$jscomp$inline_200_JSCompiler_y$jscomp$inline_205_JSCompiler_y$jscomp$inline_220$$=
$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$48_JSCompiler_top$jscomp$inline_200_JSCompiler_y$jscomp$inline_205_JSCompiler_y$jscomp$inline_220$$+$JSCompiler_aspectRatio$jscomp$inline_216_JSCompiler_height$jscomp$inline_214_JSCompiler_slotHeight$jscomp$inline_199_JSCompiler_targetHeight$jscomp$inline_218$$/2-$JSCompiler_$jscomp$inline_194_JSCompiler_naturalHeight$jscomp$inline_196_JSCompiler_posY$jscomp$inline_211$$*$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$/
2,$JSCompiler_slotWidth$jscomp$inline_198_JSCompiler_targetWidth$jscomp$inline_217_JSCompiler_width$jscomp$inline_213_JSCompiler_x$jscomp$inline_204_video$jscomp$32$$=$JSCompiler_left$jscomp$inline_201$$):($JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$=$JSCompiler_aspectRatio$jscomp$inline_216_JSCompiler_height$jscomp$inline_214_JSCompiler_slotHeight$jscomp$inline_199_JSCompiler_targetHeight$jscomp$inline_218$$/
$JSCompiler_$jscomp$inline_194_JSCompiler_naturalHeight$jscomp$inline_196_JSCompiler_posY$jscomp$inline_211$$,$JSCompiler_slotWidth$jscomp$inline_198_JSCompiler_targetWidth$jscomp$inline_217_JSCompiler_width$jscomp$inline_213_JSCompiler_x$jscomp$inline_204_video$jscomp$32$$=$JSCompiler_left$jscomp$inline_201$$+$JSCompiler_slotWidth$jscomp$inline_198_JSCompiler_targetWidth$jscomp$inline_217_JSCompiler_width$jscomp$inline_213_JSCompiler_x$jscomp$inline_204_video$jscomp$32$$/2-$JSCompiler_naturalWidth$jscomp$inline_195_JSCompiler_posX$jscomp$inline_210_JSCompiler_x$jscomp$inline_219$$*
$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$/2);$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$48_JSCompiler_top$jscomp$inline_200_JSCompiler_y$jscomp$inline_205_JSCompiler_y$jscomp$inline_220$$=$layoutRectLtwh$$module$src$layout_rect$$($JSCompiler_slotWidth$jscomp$inline_198_JSCompiler_targetWidth$jscomp$inline_217_JSCompiler_width$jscomp$inline_213_JSCompiler_x$jscomp$inline_204_video$jscomp$32$$,
$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$48_JSCompiler_top$jscomp$inline_200_JSCompiler_y$jscomp$inline_205_JSCompiler_y$jscomp$inline_220$$,$JSCompiler_naturalWidth$jscomp$inline_195_JSCompiler_posX$jscomp$inline_210_JSCompiler_x$jscomp$inline_219$$*$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$,$JSCompiler_$jscomp$inline_194_JSCompiler_naturalHeight$jscomp$inline_196_JSCompiler_posY$jscomp$inline_211$$*
$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$)}else $JSCompiler_naturalWidth$jscomp$inline_195_JSCompiler_posX$jscomp$inline_210_JSCompiler_x$jscomp$inline_219$$=$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$.posX,$JSCompiler_$jscomp$inline_194_JSCompiler_naturalHeight$jscomp$inline_196_JSCompiler_posY$jscomp$inline_211$$=
$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$.posY,$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$=$JSCompiler_slotWidth$jscomp$inline_198_JSCompiler_targetWidth$jscomp$inline_217_JSCompiler_width$jscomp$inline_213_JSCompiler_x$jscomp$inline_204_video$jscomp$32$$.getLayoutBox(),$JSCompiler_slotWidth$jscomp$inline_198_JSCompiler_targetWidth$jscomp$inline_217_JSCompiler_width$jscomp$inline_213_JSCompiler_x$jscomp$inline_204_video$jscomp$32$$=
$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$.width,$JSCompiler_aspectRatio$jscomp$inline_216_JSCompiler_height$jscomp$inline_214_JSCompiler_slotHeight$jscomp$inline_199_JSCompiler_targetHeight$jscomp$inline_218$$=$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$.height,$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$=
Math.min(30,.04*$JSCompiler_StaticMethods_getAreaWidth_$$($JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$48_JSCompiler_top$jscomp$inline_200_JSCompiler_y$jscomp$inline_205_JSCompiler_y$jscomp$inline_220$$)),$JSCompiler_aspectRatio$jscomp$inline_216_JSCompiler_height$jscomp$inline_214_JSCompiler_slotHeight$jscomp$inline_199_JSCompiler_targetHeight$jscomp$inline_218$$=$JSCompiler_slotWidth$jscomp$inline_198_JSCompiler_targetWidth$jscomp$inline_217_JSCompiler_width$jscomp$inline_213_JSCompiler_x$jscomp$inline_204_video$jscomp$32$$/
$JSCompiler_aspectRatio$jscomp$inline_216_JSCompiler_height$jscomp$inline_214_JSCompiler_slotHeight$jscomp$inline_199_JSCompiler_targetHeight$jscomp$inline_218$$,$JSCompiler_slotWidth$jscomp$inline_198_JSCompiler_targetWidth$jscomp$inline_217_JSCompiler_width$jscomp$inline_213_JSCompiler_x$jscomp$inline_204_video$jscomp$32$$=Math.max(180,.3*$JSCompiler_StaticMethods_getAreaWidth_$$($JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$48_JSCompiler_top$jscomp$inline_200_JSCompiler_y$jscomp$inline_205_JSCompiler_y$jscomp$inline_220$$)),
$JSCompiler_aspectRatio$jscomp$inline_216_JSCompiler_height$jscomp$inline_214_JSCompiler_slotHeight$jscomp$inline_199_JSCompiler_targetHeight$jscomp$inline_218$$=$JSCompiler_slotWidth$jscomp$inline_198_JSCompiler_targetWidth$jscomp$inline_217_JSCompiler_width$jscomp$inline_213_JSCompiler_x$jscomp$inline_204_video$jscomp$32$$/$JSCompiler_aspectRatio$jscomp$inline_216_JSCompiler_height$jscomp$inline_214_JSCompiler_slotHeight$jscomp$inline_199_JSCompiler_targetHeight$jscomp$inline_218$$,$JSCompiler_naturalWidth$jscomp$inline_195_JSCompiler_posX$jscomp$inline_210_JSCompiler_x$jscomp$inline_219$$=
1==$JSCompiler_naturalWidth$jscomp$inline_195_JSCompiler_posX$jscomp$inline_210_JSCompiler_x$jscomp$inline_219$$?$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$48_JSCompiler_top$jscomp$inline_200_JSCompiler_y$jscomp$inline_205_JSCompiler_y$jscomp$inline_220$$.$viewport_$.getSize().width-$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$-$JSCompiler_slotWidth$jscomp$inline_198_JSCompiler_targetWidth$jscomp$inline_217_JSCompiler_width$jscomp$inline_213_JSCompiler_x$jscomp$inline_204_video$jscomp$32$$:
0+$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$,$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$48_JSCompiler_top$jscomp$inline_200_JSCompiler_y$jscomp$inline_205_JSCompiler_y$jscomp$inline_220$$=0==$JSCompiler_$jscomp$inline_194_JSCompiler_naturalHeight$jscomp$inline_196_JSCompiler_posY$jscomp$inline_211$$?0+$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$:
$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$48_JSCompiler_top$jscomp$inline_200_JSCompiler_y$jscomp$inline_205_JSCompiler_y$jscomp$inline_220$$.$viewport_$.getSize().height-$JSCompiler_$jscomp$inline_197_JSCompiler_$jscomp$inline_212_JSCompiler_margin$jscomp$inline_215_JSCompiler_scale$jscomp$inline_206_target$jscomp$101$$-$JSCompiler_aspectRatio$jscomp$inline_216_JSCompiler_height$jscomp$inline_214_JSCompiler_slotHeight$jscomp$inline_199_JSCompiler_targetHeight$jscomp$inline_218$$,
$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$48_JSCompiler_top$jscomp$inline_200_JSCompiler_y$jscomp$inline_205_JSCompiler_y$jscomp$inline_220$$=$layoutRectLtwh$$module$src$layout_rect$$($JSCompiler_naturalWidth$jscomp$inline_195_JSCompiler_posX$jscomp$inline_210_JSCompiler_x$jscomp$inline_219$$,$JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$48_JSCompiler_top$jscomp$inline_200_JSCompiler_y$jscomp$inline_205_JSCompiler_y$jscomp$inline_220$$,$JSCompiler_slotWidth$jscomp$inline_198_JSCompiler_targetWidth$jscomp$inline_217_JSCompiler_width$jscomp$inline_213_JSCompiler_x$jscomp$inline_204_video$jscomp$32$$,
$JSCompiler_aspectRatio$jscomp$inline_216_JSCompiler_height$jscomp$inline_214_JSCompiler_slotHeight$jscomp$inline_199_JSCompiler_targetHeight$jscomp$inline_218$$);return $JSCompiler_StaticMethods_getTargetArea_$self_JSCompiler_temp$jscomp$48_JSCompiler_top$jscomp$inline_200_JSCompiler_y$jscomp$inline_205_JSCompiler_y$jscomp$inline_220$$}
function $JSCompiler_StaticMethods_getDims_$$($JSCompiler_StaticMethods_getDims_$self_y$jscomp$82$$,$video$jscomp$35_x$jscomp$98$$,$$jscomp$destructuring$var71_target$jscomp$102_targetWidth$jscomp$2$$,$step$jscomp$13$$){var $$jscomp$destructuring$var70_width$jscomp$39$$=$JSCompiler_StaticMethods_getFixedLayoutBox_$$($JSCompiler_StaticMethods_getDims_$self_y$jscomp$82$$,$video$jscomp$35_x$jscomp$98$$.element),$currentX$jscomp$2_left$jscomp$5$$=$$jscomp$destructuring$var70_width$jscomp$39$$.left,$top$jscomp$8$$=
$$jscomp$destructuring$var70_width$jscomp$39$$.top;$$jscomp$destructuring$var70_width$jscomp$39$$=$$jscomp$destructuring$var70_width$jscomp$39$$.width;$$jscomp$destructuring$var71_target$jscomp$102_targetWidth$jscomp$2$$=$JSCompiler_StaticMethods_getTargetArea_$$($JSCompiler_StaticMethods_getDims_$self_y$jscomp$82$$,$video$jscomp$35_x$jscomp$98$$,$$jscomp$destructuring$var71_target$jscomp$102_targetWidth$jscomp$2$$);$video$jscomp$35_x$jscomp$98$$=$$jscomp$destructuring$var71_target$jscomp$102_targetWidth$jscomp$2$$.x;
$JSCompiler_StaticMethods_getDims_$self_y$jscomp$82$$=$$jscomp$destructuring$var71_target$jscomp$102_targetWidth$jscomp$2$$.y;$$jscomp$destructuring$var71_target$jscomp$102_targetWidth$jscomp$2$$=$$jscomp$destructuring$var71_target$jscomp$102_targetWidth$jscomp$2$$.width;var $relativeX$jscomp$1$$=$video$jscomp$35_x$jscomp$98$$<$currentX$jscomp$2_left$jscomp$5$$?0:1;$currentX$jscomp$2_left$jscomp$5$$=$mapRange$$module$src$utils$math$$($step$jscomp$13$$,$currentX$jscomp$2_left$jscomp$5$$,$video$jscomp$35_x$jscomp$98$$);
var $currentWidth$$=$mapRange$$module$src$utils$math$$($step$jscomp$13$$,$$jscomp$destructuring$var70_width$jscomp$39$$,$$jscomp$destructuring$var71_target$jscomp$102_targetWidth$jscomp$2$$),$currentY$$=$mapRange$$module$src$utils$math$$($step$jscomp$13$$,$top$jscomp$8$$,$JSCompiler_StaticMethods_getDims_$self_y$jscomp$82$$),$dims$$={x:$currentX$jscomp$2_left$jscomp$5$$,y:$currentY$$,scale:$currentWidth$$/$$jscomp$destructuring$var70_width$jscomp$39$$,relativeX:$relativeX$jscomp$1$$};$dev$$module$src$log$$().info("amp-video-docking",
"translated to dims",$dims$$," @ step=",$step$jscomp$13$$);return $dims$$}
function $JSCompiler_StaticMethods_undock_$$($JSCompiler_StaticMethods_undock_$self$$,$video$jscomp$36$$,$opt_reconciled$$){$dev$$module$src$log$$().info("amp-video-docking","undock",{video:$video$jscomp$36$$});var $isMostlyInView$$=$JSCompiler_StaticMethods_isVisible_$$($JSCompiler_StaticMethods_undock_$self$$,$video$jscomp$36$$.element,.7);$isMostlyInView$$||($video$jscomp$36$$.pause(),$video$jscomp$36$$.showControls());$opt_reconciled$$||$JSCompiler_StaticMethods_reconcileUndocked_$$($JSCompiler_StaticMethods_undock_$self$$);
var $$jscomp$destructuring$var74_relativeX$jscomp$2$$=$JSCompiler_StaticMethods_getDims_$$($JSCompiler_StaticMethods_undock_$self$$,$video$jscomp$36$$,$JSCompiler_StaticMethods_undock_$self$$.$currentlyDocked_$.target,0),$x$jscomp$99$$=$$jscomp$destructuring$var74_relativeX$jscomp$2$$.x,$y$jscomp$83$$=$$jscomp$destructuring$var74_relativeX$jscomp$2$$.y,$scale$jscomp$15$$=$$jscomp$destructuring$var74_relativeX$jscomp$2$$.scale;$$jscomp$destructuring$var74_relativeX$jscomp$2$$=$$jscomp$destructuring$var74_relativeX$jscomp$2$$.relativeX;
var $transitionDurationMs$jscomp$6$$=$isMostlyInView$$?$JSCompiler_StaticMethods_calculateTransitionDuration_$$($JSCompiler_StaticMethods_undock_$self$$,0):0;$JSCompiler_StaticMethods_placeAt_$$($JSCompiler_StaticMethods_undock_$self$$,$video$jscomp$36$$,$x$jscomp$99$$,$y$jscomp$83$$,$scale$jscomp$15$$,0,$transitionDurationMs$jscomp$6$$,$$jscomp$destructuring$var74_relativeX$jscomp$2$$).then(function(){a:{if($JSCompiler_StaticMethods_undock_$self$$.$placedAt_$){var $opt_reconciled$$=$JSCompiler_StaticMethods_undock_$self$$.$placedAt_$;
var $isMostlyInView$$=$opt_reconciled$$.x;var $$jscomp$destructuring$var74_relativeX$jscomp$2$$=$opt_reconciled$$.y;$opt_reconciled$$=$opt_reconciled$$.scale;var $x$jscomp$99$$=$JSCompiler_StaticMethods_getFixedLayoutBox_$$($JSCompiler_StaticMethods_undock_$self$$,$video$jscomp$36$$.element).top;if($$jscomp$destructuring$var74_relativeX$jscomp$2$$!=$x$jscomp$99$$){$isMostlyInView$$=$JSCompiler_StaticMethods_placeAt_$$($JSCompiler_StaticMethods_undock_$self$$,$video$jscomp$36$$,$isMostlyInView$$,$x$jscomp$99$$,
$opt_reconciled$$,0,Math.min(150,Math.abs($$jscomp$destructuring$var74_relativeX$jscomp$2$$-$x$jscomp$99$$)/2));break a}}$isMostlyInView$$=void 0}return $isMostlyInView$$}).then(function(){$video$jscomp$36$$.showControls();$JSCompiler_StaticMethods_resetOnUndock_$$($JSCompiler_StaticMethods_undock_$self$$,$video$jscomp$36$$)})}
function $JSCompiler_StaticMethods_reconcileUndocked_$$($JSCompiler_StaticMethods_reconcileUndocked_$self$$){$JSCompiler_StaticMethods_reconcileUndocked_$self$$.$getControls_$().disable();$JSCompiler_StaticMethods_reconcileUndocked_$self$$.$getControls_$().hide(!1,!0);$JSCompiler_StaticMethods_reconcileUndocked_$self$$.$trigger_$("undock")}
function $JSCompiler_StaticMethods_resetOnUndock_$$($JSCompiler_StaticMethods_resetOnUndock_$self$$,$video$jscomp$37$$){var $internalElement$jscomp$1$$=$getInternalVideoElementFor$$module$src$utils$video$$($video$jscomp$37$$.element);$dev$$module$src$log$$().info("amp-video-docking","resetOnUndock",{video:$video$jscomp$37$$});$video$jscomp$37$$.mutateElement(function(){$internalElement$jscomp$1$$.classList.remove("i-amphtml-video-docked");var $video$jscomp$37$$=$JSCompiler_StaticMethods_resetOnUndock_$self$$.$getShadowLayer_$(),
$placeholderIcon$jscomp$1$$=$JSCompiler_StaticMethods_resetOnUndock_$self$$.$getPlaceholderRefs_$().icon,$placeholderBackground$jscomp$1$$=$JSCompiler_StaticMethods_resetOnUndock_$self$$.$getPlaceholderBackground_$();$toggle$$module$src$style$$($video$jscomp$37$$,!1);$JSCompiler_StaticMethods_resetOnUndock_$self$$.$getControls_$().reset();[$internalElement$jscomp$1$$,$video$jscomp$37$$,$placeholderBackground$jscomp$1$$,$placeholderIcon$jscomp$1$$].forEach(function($JSCompiler_StaticMethods_resetOnUndock_$self$$){$resetStyles$$module$src$style$$($JSCompiler_StaticMethods_resetOnUndock_$self$$,
"transform transition min-width min-height width height opacity overflow".split(" "))});$JSCompiler_StaticMethods_resetOnUndock_$self$$.$placedAt_$=null;$JSCompiler_StaticMethods_resetOnUndock_$self$$.$sizedAt_$=null;$JSCompiler_StaticMethods_resetOnUndock_$self$$.$currentlyDocked_$=null})}
function $JSCompiler_StaticMethods_removePosterForAndroidBug_$$($el$jscomp$15_parent$jscomp$14$$){($el$jscomp$15_parent$jscomp$14$$=$el$jscomp$15_parent$jscomp$14$$.querySelector(".i-amphtml-android-poster-bug"))&&$el$jscomp$15_parent$jscomp$14$$.parentElement&&$el$jscomp$15_parent$jscomp$14$$.parentElement.removeChild($el$jscomp$15_parent$jscomp$14$$)}(function($AMP$jscomp$1$$){$AMP$jscomp$1$$.registerServiceForDoc("video-docking",$VideoDocking$$module$extensions$amp_video_docking$0_1$amp_video_docking$$)})(self.AMP);
})});

//# sourceMappingURL=amp-video-docking-0.1.js.map
