(self.AMP=self.AMP||[]).push({n:"amp-share-tracking",v:"1904281823091",f:(function(AMP,_){
var $$jscomp$objectCreate$$="function"==typeof Object.create?Object.create:function($prototype$$){function $ctor$$(){}$ctor$$.prototype=$prototype$$;return new $ctor$$},$JSCompiler_temp$jscomp$15$$;
if("function"==typeof Object.setPrototypeOf)$JSCompiler_temp$jscomp$15$$=Object.setPrototypeOf;else{var $JSCompiler_inline_result$jscomp$16$$;a:{var $JSCompiler_x$jscomp$inline_21$$={a:!0},$JSCompiler_y$jscomp$inline_22$$={};try{$JSCompiler_y$jscomp$inline_22$$.__proto__=$JSCompiler_x$jscomp$inline_21$$;$JSCompiler_inline_result$jscomp$16$$=$JSCompiler_y$jscomp$inline_22$$.a;break a}catch($JSCompiler_e$jscomp$inline_23$$){}$JSCompiler_inline_result$jscomp$16$$=!1}$JSCompiler_temp$jscomp$15$$=$JSCompiler_inline_result$jscomp$16$$?
function($target$jscomp$83$$,$proto$jscomp$3$$){$target$jscomp$83$$.__proto__=$proto$jscomp$3$$;if($target$jscomp$83$$.__proto__!==$proto$jscomp$3$$)throw new TypeError($target$jscomp$83$$+" is not extensible");return $target$jscomp$83$$}:null}var $$jscomp$setPrototypeOf$$=$JSCompiler_temp$jscomp$15$$;
function $tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($component$jscomp$4$$,$fallback$$){$fallback$$=void 0===$fallback$$?"":$fallback$$;try{return decodeURIComponent($component$jscomp$4$$)}catch($e$jscomp$8$$){return $fallback$$}};var $regex$$module$src$url_parse_query_string$$=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log;function $user$$module$src$log$$(){if(!$logs$$module$src$log$$.user)throw Error("failed to call initLogConstructor");return $logs$$module$src$log$$.user};function $tryResolve$$module$src$utils$promise$$($fn$jscomp$2$$){return new Promise(function($resolve$jscomp$1$$){$resolve$jscomp$1$$($fn$jscomp$2$$())})};function $registerServiceBuilder$$module$src$service$$($win$jscomp$8$$,$constructor$jscomp$1$$){var $opt_instantiate$$,$JSCompiler_holder$jscomp$inline_28$$=$win$jscomp$8$$=$win$jscomp$8$$.__AMP_TOP||$win$jscomp$8$$,$JSCompiler_context$jscomp$inline_29$$=$win$jscomp$8$$,$JSCompiler_services$jscomp$inline_32$$=$getServices$$module$src$service$$($JSCompiler_holder$jscomp$inline_28$$),$JSCompiler_s$jscomp$inline_33$$=$JSCompiler_services$jscomp$inline_32$$["share-tracking"];$JSCompiler_s$jscomp$inline_33$$||
($JSCompiler_s$jscomp$inline_33$$=$JSCompiler_services$jscomp$inline_32$$["share-tracking"]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});$JSCompiler_s$jscomp$inline_33$$.ctor||$JSCompiler_s$jscomp$inline_33$$.obj||($JSCompiler_s$jscomp$inline_33$$.ctor=$constructor$jscomp$1$$,$JSCompiler_s$jscomp$inline_33$$.context=$JSCompiler_context$jscomp$inline_29$$,$JSCompiler_s$jscomp$inline_33$$.resolve&&$getServiceInternal$$module$src$service$$($JSCompiler_holder$jscomp$inline_28$$,
"share-tracking"));$opt_instantiate$$&&$getServiceInternal$$module$src$service$$($win$jscomp$8$$,"share-tracking")}function $getService$$module$src$service$$($win$jscomp$9$$,$id$jscomp$11$$){$win$jscomp$9$$=$win$jscomp$9$$.__AMP_TOP||$win$jscomp$9$$;return $getServiceInternal$$module$src$service$$($win$jscomp$9$$,$id$jscomp$11$$)}
function $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$$){var $JSCompiler_ampdoc$jscomp$inline_93_JSCompiler_inline_result$jscomp$90_ampdoc$jscomp$2$$=$getAmpdoc$$module$src$service$$($elementOrAmpDoc$$);$JSCompiler_ampdoc$jscomp$inline_93_JSCompiler_inline_result$jscomp$90_ampdoc$jscomp$2$$=$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_93_JSCompiler_inline_result$jscomp$90_ampdoc$jscomp$2$$);$JSCompiler_ampdoc$jscomp$inline_93_JSCompiler_inline_result$jscomp$90_ampdoc$jscomp$2$$=
$JSCompiler_ampdoc$jscomp$inline_93_JSCompiler_inline_result$jscomp$90_ampdoc$jscomp$2$$.isSingleDoc()?$JSCompiler_ampdoc$jscomp$inline_93_JSCompiler_inline_result$jscomp$90_ampdoc$jscomp$2$$.win:$JSCompiler_ampdoc$jscomp$inline_93_JSCompiler_inline_result$jscomp$90_ampdoc$jscomp$2$$;return $getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_93_JSCompiler_inline_result$jscomp$90_ampdoc$jscomp$2$$,"history")}
function $getAmpdoc$$module$src$service$$($nodeOrDoc$jscomp$3$$){return $nodeOrDoc$jscomp$3$$.nodeType?$getService$$module$src$service$$(($nodeOrDoc$jscomp$3$$.ownerDocument||$nodeOrDoc$jscomp$3$$).defaultView,"ampdoc").getAmpDoc($nodeOrDoc$jscomp$3$$):$nodeOrDoc$jscomp$3$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$10$$,$id$jscomp$19$$){var $services$$=$getServices$$module$src$service$$($holder$jscomp$4_s$jscomp$10$$);$holder$jscomp$4_s$jscomp$10$$=$services$$[$id$jscomp$19$$];$holder$jscomp$4_s$jscomp$10$$.obj||($holder$jscomp$4_s$jscomp$10$$.obj=new $holder$jscomp$4_s$jscomp$10$$.ctor($holder$jscomp$4_s$jscomp$10$$.context),$holder$jscomp$4_s$jscomp$10$$.ctor=null,$holder$jscomp$4_s$jscomp$10$$.context=null,$holder$jscomp$4_s$jscomp$10$$.resolve&&
$holder$jscomp$4_s$jscomp$10$$.resolve($holder$jscomp$4_s$jscomp$10$$.obj));return $holder$jscomp$4_s$jscomp$10$$.obj}function $getServices$$module$src$service$$($holder$jscomp$9$$){var $services$jscomp$5$$=$holder$jscomp$9$$.services;$services$jscomp$5$$||($services$jscomp$5$$=$holder$jscomp$9$$.services={});return $services$jscomp$5$$};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function $bytesToString$$module$src$utils$bytes$$($bytes$jscomp$2$$){for(var $array$jscomp$7$$=Array($bytes$jscomp$2$$.length),$i$jscomp$15$$=0;$i$jscomp$15$$<$bytes$jscomp$2$$.length;$i$jscomp$15$$++)$array$jscomp$7$$[$i$jscomp$15$$]=String.fromCharCode($bytes$jscomp$2$$[$i$jscomp$15$$]);return $array$jscomp$7$$.join("")};var $base64UrlEncodeSubs$$module$src$utils$base64$$={"+":"-","/":"_","=":"."};function $base64UrlEncodeFromBytes$$module$src$utils$base64$$($bytes$jscomp$4_str$jscomp$11$$){$bytes$jscomp$4_str$jscomp$11$$=$bytesToString$$module$src$utils$bytes$$($bytes$jscomp$4_str$jscomp$11$$);return btoa($bytes$jscomp$4_str$jscomp$11$$).replace(/[+/=]/g,function($bytes$jscomp$4_str$jscomp$11$$){return $base64UrlEncodeSubs$$module$src$utils$base64$$[$bytes$jscomp$4_str$jscomp$11$$]})};function $isExperimentOn$$module$src$experiments$$($JSCompiler_params$jscomp$inline_96_win$jscomp$53$$){var $experimentId$$="amp-share-tracking";if($JSCompiler_params$jscomp$inline_96_win$jscomp$53$$.__AMP__EXPERIMENT_TOGGLES)var $JSCompiler_inline_result$jscomp$67_JSCompiler_toggles$jscomp$inline_69$$=$JSCompiler_params$jscomp$inline_96_win$jscomp$53$$.__AMP__EXPERIMENT_TOGGLES;else{$JSCompiler_params$jscomp$inline_96_win$jscomp$53$$.__AMP__EXPERIMENT_TOGGLES=Object.create(null);$JSCompiler_inline_result$jscomp$67_JSCompiler_toggles$jscomp$inline_69$$=
$JSCompiler_params$jscomp$inline_96_win$jscomp$53$$.__AMP__EXPERIMENT_TOGGLES;if($JSCompiler_params$jscomp$inline_96_win$jscomp$53$$.AMP_CONFIG)for(var $JSCompiler_allowed$jscomp$inline_72_JSCompiler_experimentId$jscomp$inline_70_allowed$5$jscomp$inline_76$$ in $JSCompiler_params$jscomp$inline_96_win$jscomp$53$$.AMP_CONFIG){var $JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$=
$JSCompiler_params$jscomp$inline_96_win$jscomp$53$$.AMP_CONFIG[$JSCompiler_allowed$jscomp$inline_72_JSCompiler_experimentId$jscomp$inline_70_allowed$5$jscomp$inline_76$$];"number"===typeof $JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$&&0<=$JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$&&
1>=$JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$&&($JSCompiler_inline_result$jscomp$67_JSCompiler_toggles$jscomp$inline_69$$[$JSCompiler_allowed$jscomp$inline_72_JSCompiler_experimentId$jscomp$inline_70_allowed$5$jscomp$inline_76$$]=Math.random()<$JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$)}if($JSCompiler_params$jscomp$inline_96_win$jscomp$53$$.AMP_CONFIG&&
Array.isArray($JSCompiler_params$jscomp$inline_96_win$jscomp$53$$.AMP_CONFIG["allow-doc-opt-in"])&&0<$JSCompiler_params$jscomp$inline_96_win$jscomp$53$$.AMP_CONFIG["allow-doc-opt-in"].length&&($JSCompiler_allowed$jscomp$inline_72_JSCompiler_experimentId$jscomp$inline_70_allowed$5$jscomp$inline_76$$=$JSCompiler_params$jscomp$inline_96_win$jscomp$53$$.AMP_CONFIG["allow-doc-opt-in"],$JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$=
$JSCompiler_params$jscomp$inline_96_win$jscomp$53$$.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){$JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$=$JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$.getAttribute("content").split(",");
for(var $JSCompiler_i$jscomp$inline_75_JSCompiler_name$jscomp$inline_98_JSCompiler_param$jscomp$inline_79$$=0;$JSCompiler_i$jscomp$inline_75_JSCompiler_name$jscomp$inline_98_JSCompiler_param$jscomp$inline_79$$<$JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$.length;$JSCompiler_i$jscomp$inline_75_JSCompiler_name$jscomp$inline_98_JSCompiler_param$jscomp$inline_79$$++)-1!=
$JSCompiler_allowed$jscomp$inline_72_JSCompiler_experimentId$jscomp$inline_70_allowed$5$jscomp$inline_76$$.indexOf($JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$[$JSCompiler_i$jscomp$inline_75_JSCompiler_name$jscomp$inline_98_JSCompiler_param$jscomp$inline_79$$])&&($JSCompiler_inline_result$jscomp$67_JSCompiler_toggles$jscomp$inline_69$$[$JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$[$JSCompiler_i$jscomp$inline_75_JSCompiler_name$jscomp$inline_98_JSCompiler_param$jscomp$inline_79$$]]=
!0)}Object.assign($JSCompiler_inline_result$jscomp$67_JSCompiler_toggles$jscomp$inline_69$$,$getExperimentTogglesFromCookie$$module$src$experiments$$($JSCompiler_params$jscomp$inline_96_win$jscomp$53$$));if($JSCompiler_params$jscomp$inline_96_win$jscomp$53$$.AMP_CONFIG&&Array.isArray($JSCompiler_params$jscomp$inline_96_win$jscomp$53$$.AMP_CONFIG["allow-url-opt-in"])&&0<$JSCompiler_params$jscomp$inline_96_win$jscomp$53$$.AMP_CONFIG["allow-url-opt-in"].length){$JSCompiler_allowed$jscomp$inline_72_JSCompiler_experimentId$jscomp$inline_70_allowed$5$jscomp$inline_76$$=
$JSCompiler_params$jscomp$inline_96_win$jscomp$53$$.AMP_CONFIG["allow-url-opt-in"];$JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$=$JSCompiler_params$jscomp$inline_96_win$jscomp$53$$.location.originalHash||$JSCompiler_params$jscomp$inline_96_win$jscomp$53$$.location.hash;$JSCompiler_params$jscomp$inline_96_win$jscomp$53$$=Object.create(null);if($JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$)for(var $JSCompiler_match$jscomp$inline_97_JSCompiler_value$jscomp$inline_99$$;$JSCompiler_match$jscomp$inline_97_JSCompiler_value$jscomp$inline_99$$=
$regex$$module$src$url_parse_query_string$$.exec($JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$);)$JSCompiler_i$jscomp$inline_75_JSCompiler_name$jscomp$inline_98_JSCompiler_param$jscomp$inline_79$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_match$jscomp$inline_97_JSCompiler_value$jscomp$inline_99$$[1],$JSCompiler_match$jscomp$inline_97_JSCompiler_value$jscomp$inline_99$$[1]),
$JSCompiler_match$jscomp$inline_97_JSCompiler_value$jscomp$inline_99$$=$JSCompiler_match$jscomp$inline_97_JSCompiler_value$jscomp$inline_99$$[2]?$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_match$jscomp$inline_97_JSCompiler_value$jscomp$inline_99$$[2],$JSCompiler_match$jscomp$inline_97_JSCompiler_value$jscomp$inline_99$$[2]):"",$JSCompiler_params$jscomp$inline_96_win$jscomp$53$$[$JSCompiler_i$jscomp$inline_75_JSCompiler_name$jscomp$inline_98_JSCompiler_param$jscomp$inline_79$$]=
$JSCompiler_match$jscomp$inline_97_JSCompiler_value$jscomp$inline_99$$;for($JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$=0;$JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$<$JSCompiler_allowed$jscomp$inline_72_JSCompiler_experimentId$jscomp$inline_70_allowed$5$jscomp$inline_76$$.length;$JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$++)$JSCompiler_i$jscomp$inline_75_JSCompiler_name$jscomp$inline_98_JSCompiler_param$jscomp$inline_79$$=
$JSCompiler_params$jscomp$inline_96_win$jscomp$53$$["e-"+$JSCompiler_allowed$jscomp$inline_72_JSCompiler_experimentId$jscomp$inline_70_allowed$5$jscomp$inline_76$$[$JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$]],"1"==$JSCompiler_i$jscomp$inline_75_JSCompiler_name$jscomp$inline_98_JSCompiler_param$jscomp$inline_79$$&&($JSCompiler_inline_result$jscomp$67_JSCompiler_toggles$jscomp$inline_69$$[$JSCompiler_allowed$jscomp$inline_72_JSCompiler_experimentId$jscomp$inline_70_allowed$5$jscomp$inline_76$$[$JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$]]=
!0),"0"==$JSCompiler_i$jscomp$inline_75_JSCompiler_name$jscomp$inline_98_JSCompiler_param$jscomp$inline_79$$&&($JSCompiler_inline_result$jscomp$67_JSCompiler_toggles$jscomp$inline_69$$[$JSCompiler_allowed$jscomp$inline_72_JSCompiler_experimentId$jscomp$inline_70_allowed$5$jscomp$inline_76$$[$JSCompiler_frequency$jscomp$inline_71_JSCompiler_meta$jscomp$inline_73_JSCompiler_optedInExperiments$jscomp$inline_74_JSCompiler_queryString$jscomp$inline_95_i$6$jscomp$inline_78$$]]=!1)}}var $toggles$$=$JSCompiler_inline_result$jscomp$67_JSCompiler_toggles$jscomp$inline_69$$;
return!!$toggles$$[$experimentId$$]}
function $getExperimentTogglesFromCookie$$module$src$experiments$$($JSCompiler_cookieString$jscomp$inline_43_JSCompiler_cookies$jscomp$inline_44_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_48_toggles$jscomp$3_win$jscomp$57$$){a:{try{var $JSCompiler_i$jscomp$inline_45_JSCompiler_inline_result$jscomp$66_i$jscomp$21$$=$JSCompiler_cookieString$jscomp$inline_43_JSCompiler_cookies$jscomp$inline_44_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_48_toggles$jscomp$3_win$jscomp$57$$.document.cookie}catch($JSCompiler_e$jscomp$inline_82$$){$JSCompiler_i$jscomp$inline_45_JSCompiler_inline_result$jscomp$66_i$jscomp$21$$=""}if($JSCompiler_cookieString$jscomp$inline_43_JSCompiler_cookies$jscomp$inline_44_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_48_toggles$jscomp$3_win$jscomp$57$$=
$JSCompiler_i$jscomp$inline_45_JSCompiler_inline_result$jscomp$66_i$jscomp$21$$)for($JSCompiler_cookieString$jscomp$inline_43_JSCompiler_cookies$jscomp$inline_44_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_48_toggles$jscomp$3_win$jscomp$57$$=$JSCompiler_cookieString$jscomp$inline_43_JSCompiler_cookies$jscomp$inline_44_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_48_toggles$jscomp$3_win$jscomp$57$$.split(";"),$JSCompiler_i$jscomp$inline_45_JSCompiler_inline_result$jscomp$66_i$jscomp$21$$=
0;$JSCompiler_i$jscomp$inline_45_JSCompiler_inline_result$jscomp$66_i$jscomp$21$$<$JSCompiler_cookieString$jscomp$inline_43_JSCompiler_cookies$jscomp$inline_44_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_48_toggles$jscomp$3_win$jscomp$57$$.length;$JSCompiler_i$jscomp$inline_45_JSCompiler_inline_result$jscomp$66_i$jscomp$21$$++){var $JSCompiler_cookie$jscomp$inline_46$$=$JSCompiler_cookieString$jscomp$inline_43_JSCompiler_cookies$jscomp$inline_44_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_48_toggles$jscomp$3_win$jscomp$57$$[$JSCompiler_i$jscomp$inline_45_JSCompiler_inline_result$jscomp$66_i$jscomp$21$$].trim(),
$JSCompiler_eq$jscomp$inline_47$$=$JSCompiler_cookie$jscomp$inline_46$$.indexOf("=");if(-1!=$JSCompiler_eq$jscomp$inline_47$$&&"AMP_EXP"==$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_cookie$jscomp$inline_46$$.substring(0,$JSCompiler_eq$jscomp$inline_47$$).trim(),void 0)){$JSCompiler_cookieString$jscomp$inline_43_JSCompiler_cookies$jscomp$inline_44_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_48_toggles$jscomp$3_win$jscomp$57$$=$JSCompiler_cookie$jscomp$inline_46$$.substring($JSCompiler_eq$jscomp$inline_47$$+
1).trim();$JSCompiler_cookieString$jscomp$inline_43_JSCompiler_cookies$jscomp$inline_44_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_48_toggles$jscomp$3_win$jscomp$57$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_cookieString$jscomp$inline_43_JSCompiler_cookies$jscomp$inline_44_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_48_toggles$jscomp$3_win$jscomp$57$$,$JSCompiler_cookieString$jscomp$inline_43_JSCompiler_cookies$jscomp$inline_44_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_48_toggles$jscomp$3_win$jscomp$57$$);
break a}}$JSCompiler_cookieString$jscomp$inline_43_JSCompiler_cookies$jscomp$inline_44_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_48_toggles$jscomp$3_win$jscomp$57$$=null}var $experimentCookie$$=$JSCompiler_cookieString$jscomp$inline_43_JSCompiler_cookies$jscomp$inline_44_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_48_toggles$jscomp$3_win$jscomp$57$$,$tokens$$=$experimentCookie$$?$experimentCookie$$.split(/\s*,\s*/g):[];$JSCompiler_cookieString$jscomp$inline_43_JSCompiler_cookies$jscomp$inline_44_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_48_toggles$jscomp$3_win$jscomp$57$$=
Object.create(null);for($JSCompiler_i$jscomp$inline_45_JSCompiler_inline_result$jscomp$66_i$jscomp$21$$=0;$JSCompiler_i$jscomp$inline_45_JSCompiler_inline_result$jscomp$66_i$jscomp$21$$<$tokens$$.length;$JSCompiler_i$jscomp$inline_45_JSCompiler_inline_result$jscomp$66_i$jscomp$21$$++)0!=$tokens$$[$JSCompiler_i$jscomp$inline_45_JSCompiler_inline_result$jscomp$66_i$jscomp$21$$].length&&("-"==$tokens$$[$JSCompiler_i$jscomp$inline_45_JSCompiler_inline_result$jscomp$66_i$jscomp$21$$][0]?$JSCompiler_cookieString$jscomp$inline_43_JSCompiler_cookies$jscomp$inline_44_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_48_toggles$jscomp$3_win$jscomp$57$$[$tokens$$[$JSCompiler_i$jscomp$inline_45_JSCompiler_inline_result$jscomp$66_i$jscomp$21$$].substr(1)]=
!1:$JSCompiler_cookieString$jscomp$inline_43_JSCompiler_cookies$jscomp$inline_44_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_48_toggles$jscomp$3_win$jscomp$57$$[$tokens$$[$JSCompiler_i$jscomp$inline_45_JSCompiler_inline_result$jscomp$66_i$jscomp$21$$]]=!0);return $JSCompiler_cookieString$jscomp$inline_43_JSCompiler_cookies$jscomp$inline_44_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_48_toggles$jscomp$3_win$jscomp$57$$};function $AmpShareTracking$$module$extensions$amp_share_tracking$0_1$amp_share_tracking$$($$jscomp$super$this_element$jscomp$65$$){$$jscomp$super$this_element$jscomp$65$$=AMP.BaseElement.call(this,$$jscomp$super$this_element$jscomp$65$$)||this;$$jscomp$super$this_element$jscomp$65$$.$vendorHref_$="";$$jscomp$super$this_element$jscomp$65$$.$originalViewerFragment_$="";return $$jscomp$super$this_element$jscomp$65$$}var $JSCompiler_parentCtor$jscomp$inline_51$$=AMP.BaseElement;
$AmpShareTracking$$module$extensions$amp_share_tracking$0_1$amp_share_tracking$$.prototype=$$jscomp$objectCreate$$($JSCompiler_parentCtor$jscomp$inline_51$$.prototype);$AmpShareTracking$$module$extensions$amp_share_tracking$0_1$amp_share_tracking$$.prototype.constructor=$AmpShareTracking$$module$extensions$amp_share_tracking$0_1$amp_share_tracking$$;
if($$jscomp$setPrototypeOf$$)$$jscomp$setPrototypeOf$$($AmpShareTracking$$module$extensions$amp_share_tracking$0_1$amp_share_tracking$$,$JSCompiler_parentCtor$jscomp$inline_51$$);else for(var $JSCompiler_p$jscomp$inline_52$$ in $JSCompiler_parentCtor$jscomp$inline_51$$)if("prototype"!=$JSCompiler_p$jscomp$inline_52$$)if(Object.defineProperties){var $JSCompiler_descriptor$jscomp$inline_53$$=Object.getOwnPropertyDescriptor($JSCompiler_parentCtor$jscomp$inline_51$$,$JSCompiler_p$jscomp$inline_52$$);
$JSCompiler_descriptor$jscomp$inline_53$$&&Object.defineProperty($AmpShareTracking$$module$extensions$amp_share_tracking$0_1$amp_share_tracking$$,$JSCompiler_p$jscomp$inline_52$$,$JSCompiler_descriptor$jscomp$inline_53$$)}else $AmpShareTracking$$module$extensions$amp_share_tracking$0_1$amp_share_tracking$$[$JSCompiler_p$jscomp$inline_52$$]=$JSCompiler_parentCtor$jscomp$inline_51$$[$JSCompiler_p$jscomp$inline_52$$];
$AmpShareTracking$$module$extensions$amp_share_tracking$0_1$amp_share_tracking$$.$superClass_$=$JSCompiler_parentCtor$jscomp$inline_51$$.prototype;$AmpShareTracking$$module$extensions$amp_share_tracking$0_1$amp_share_tracking$$.prototype.isLayoutSupported=function($layout$jscomp$3$$){return"nodisplay"==$layout$jscomp$3$$||"container"==$layout$jscomp$3$$};
$AmpShareTracking$$module$extensions$amp_share_tracking$0_1$amp_share_tracking$$.prototype.buildCallback=function(){var $$jscomp$this$jscomp$1$$=this;$isExperimentOn$$module$src$experiments$$(this.win)||($registerServiceBuilder$$module$src$service$$(this.win,function(){return Promise.reject($user$$module$src$log$$().createError("%s disabled","amp-share-tracking"))}),$user$$module$src$log$$().assert(!1,"%s experiment is disabled","amp-share-tracking",void 0,void 0,void 0,void 0,void 0,void 0,void 0,
void 0));this.$vendorHref_$=this.element.getAttribute("data-href");var $shareTrackingFragments$$=Promise.all([$JSCompiler_StaticMethods_getIncomingFragment_$$(this),$JSCompiler_StaticMethods_getOutgoingFragment_$$(this)]).then(function($shareTrackingFragments$$){var $incomingFragment$$=$shareTrackingFragments$$[0],$results$$=$shareTrackingFragments$$[1];if($results$$&&""!=$results$$){var $JSCompiler_fragmentResidual$jscomp$inline_58_JSCompiler_incomingFragment$jscomp$inline_56$$=$incomingFragment$$;
$JSCompiler_fragmentResidual$jscomp$inline_58_JSCompiler_incomingFragment$jscomp$inline_56$$=$JSCompiler_fragmentResidual$jscomp$inline_58_JSCompiler_incomingFragment$jscomp$inline_56$$?$$jscomp$this$jscomp$1$$.$originalViewerFragment_$.substr($JSCompiler_fragmentResidual$jscomp$inline_58_JSCompiler_incomingFragment$jscomp$inline_56$$.length+1):$$jscomp$this$jscomp$1$$.$originalViewerFragment_$;var $JSCompiler_result$jscomp$inline_59$$="."+$results$$;$JSCompiler_fragmentResidual$jscomp$inline_58_JSCompiler_incomingFragment$jscomp$inline_56$$&&
("&"!=$JSCompiler_fragmentResidual$jscomp$inline_58_JSCompiler_incomingFragment$jscomp$inline_56$$[0]&&($JSCompiler_result$jscomp$inline_59$$+="&"),$JSCompiler_result$jscomp$inline_59$$+=$JSCompiler_fragmentResidual$jscomp$inline_58_JSCompiler_incomingFragment$jscomp$inline_56$$);var $newFragment$$=$JSCompiler_result$jscomp$inline_59$$;$getServiceForDoc$$module$src$service$$($$jscomp$this$jscomp$1$$.getAmpDoc()).updateFragment($newFragment$$)}return{incomingFragment:$incomingFragment$$,outgoingFragment:$results$$}});
$registerServiceBuilder$$module$src$service$$(this.win,function(){return $shareTrackingFragments$$})};
function $JSCompiler_StaticMethods_getIncomingFragment_$$($JSCompiler_StaticMethods_getIncomingFragment_$self$$){return $JSCompiler_StaticMethods_getOriginalViewerFragment_$$($JSCompiler_StaticMethods_getIncomingFragment_$self$$).then(function($JSCompiler_StaticMethods_getIncomingFragment_$self$$){return($JSCompiler_StaticMethods_getIncomingFragment_$self$$=$JSCompiler_StaticMethods_getIncomingFragment_$self$$.match(/^\.([^&]*)/))?$JSCompiler_StaticMethods_getIncomingFragment_$self$$[1]:""})}
function $JSCompiler_StaticMethods_getOriginalViewerFragment_$$($JSCompiler_StaticMethods_getOriginalViewerFragment_$self$$){return $getServiceForDoc$$module$src$service$$($JSCompiler_StaticMethods_getOriginalViewerFragment_$self$$.getAmpDoc()).getFragment().then(function($fragment$jscomp$2$$){return $JSCompiler_StaticMethods_getOriginalViewerFragment_$self$$.$originalViewerFragment_$=$fragment$jscomp$2$$})}
function $JSCompiler_StaticMethods_getOutgoingFragment_$$($JSCompiler_StaticMethods_getOutgoingFragment_$self$$){return $JSCompiler_StaticMethods_getOutgoingFragment_$self$$.$vendorHref_$?$JSCompiler_StaticMethods_getOutgoingFragmentFromVendor_$$($JSCompiler_StaticMethods_getOutgoingFragment_$self$$,$JSCompiler_StaticMethods_getOutgoingFragment_$self$$.$vendorHref_$):$tryResolve$$module$src$utils$promise$$(function(){var $JSCompiler_bytes$jscomp$inline_62_JSCompiler_win$jscomp$inline_85$$=$JSCompiler_StaticMethods_getOutgoingFragment_$self$$.win;
if($JSCompiler_bytes$jscomp$inline_62_JSCompiler_win$jscomp$inline_85$$.crypto&&$JSCompiler_bytes$jscomp$inline_62_JSCompiler_win$jscomp$inline_85$$.crypto.getRandomValues){var $JSCompiler_random$jscomp$inline_63_JSCompiler_uint8array$jscomp$inline_86$$=new Uint8Array(6);$JSCompiler_bytes$jscomp$inline_62_JSCompiler_win$jscomp$inline_85$$.crypto.getRandomValues($JSCompiler_random$jscomp$inline_63_JSCompiler_uint8array$jscomp$inline_86$$);$JSCompiler_bytes$jscomp$inline_62_JSCompiler_win$jscomp$inline_85$$=
$JSCompiler_random$jscomp$inline_63_JSCompiler_uint8array$jscomp$inline_86$$}else $JSCompiler_bytes$jscomp$inline_62_JSCompiler_win$jscomp$inline_85$$=null;if(!$JSCompiler_bytes$jscomp$inline_62_JSCompiler_win$jscomp$inline_85$$){$JSCompiler_bytes$jscomp$inline_62_JSCompiler_win$jscomp$inline_85$$=new Uint8Array(6);$JSCompiler_random$jscomp$inline_63_JSCompiler_uint8array$jscomp$inline_86$$=Math.random();for(var $JSCompiler_i$jscomp$inline_64$$=0;6>$JSCompiler_i$jscomp$inline_64$$;$JSCompiler_i$jscomp$inline_64$$++)$JSCompiler_random$jscomp$inline_63_JSCompiler_uint8array$jscomp$inline_86$$*=
256,$JSCompiler_bytes$jscomp$inline_62_JSCompiler_win$jscomp$inline_85$$[$JSCompiler_i$jscomp$inline_64$$]=Math.floor($JSCompiler_random$jscomp$inline_63_JSCompiler_uint8array$jscomp$inline_86$$),$JSCompiler_random$jscomp$inline_63_JSCompiler_uint8array$jscomp$inline_86$$-=$JSCompiler_bytes$jscomp$inline_62_JSCompiler_win$jscomp$inline_85$$[$JSCompiler_i$jscomp$inline_64$$]}return $base64UrlEncodeFromBytes$$module$src$utils$base64$$($JSCompiler_bytes$jscomp$inline_62_JSCompiler_win$jscomp$inline_85$$)})}
function $JSCompiler_StaticMethods_getOutgoingFragmentFromVendor_$$($JSCompiler_StaticMethods_getOutgoingFragmentFromVendor_$self$$,$vendorUrl$$){var $postReq$$={method:"POST",credentials:"include",body:{}};return $getService$$module$src$service$$($JSCompiler_StaticMethods_getOutgoingFragmentFromVendor_$self$$.win,"xhr").fetchJson($vendorUrl$$,$postReq$$).then(function($JSCompiler_StaticMethods_getOutgoingFragmentFromVendor_$self$$){return $JSCompiler_StaticMethods_getOutgoingFragmentFromVendor_$self$$.json()}).then(function($postReq$$){if($postReq$$.fragment)return $postReq$$.fragment;
$JSCompiler_StaticMethods_getOutgoingFragmentFromVendor_$self$$.user().error("amp-share-tracking","The response from ["+$vendorUrl$$+"] does not have a fragment value.");return""},function($vendorUrl$$){$JSCompiler_StaticMethods_getOutgoingFragmentFromVendor_$self$$.user().error("amp-share-tracking","The request to share-tracking endpoint failed:",$vendorUrl$$);return""})}(function($AMP$jscomp$1$$){$AMP$jscomp$1$$.registerElement("amp-share-tracking",$AmpShareTracking$$module$extensions$amp_share_tracking$0_1$amp_share_tracking$$)})(self.AMP);
})});

//# sourceMappingURL=amp-share-tracking-0.1.js.map
