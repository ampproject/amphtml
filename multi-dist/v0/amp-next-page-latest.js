(self.AMP=self.AMP||[]).push({n:"amp-next-page",v:"1904281823091",f:(function(AMP,_){
var $JSCompiler_prototypeAlias$$,$$jscomp$objectCreate$$="function"==typeof Object.create?Object.create:function($prototype$$){function $ctor$$(){}$ctor$$.prototype=$prototype$$;return new $ctor$$},$JSCompiler_temp$jscomp$104$$;
if("function"==typeof Object.setPrototypeOf)$JSCompiler_temp$jscomp$104$$=Object.setPrototypeOf;else{var $JSCompiler_inline_result$jscomp$105$$;a:{var $JSCompiler_x$jscomp$inline_179$$={a:!0},$JSCompiler_y$jscomp$inline_180$$={};try{$JSCompiler_y$jscomp$inline_180$$.__proto__=$JSCompiler_x$jscomp$inline_179$$;$JSCompiler_inline_result$jscomp$105$$=$JSCompiler_y$jscomp$inline_180$$.a;break a}catch($JSCompiler_e$jscomp$inline_181$$){}$JSCompiler_inline_result$jscomp$105$$=!1}$JSCompiler_temp$jscomp$104$$=
$JSCompiler_inline_result$jscomp$105$$?function($target$jscomp$83$$,$proto$jscomp$3$$){$target$jscomp$83$$.__proto__=$proto$jscomp$3$$;if($target$jscomp$83$$.__proto__!==$proto$jscomp$3$$)throw new TypeError($target$jscomp$83$$+" is not extensible");return $target$jscomp$83$$}:null}var $$jscomp$setPrototypeOf$$=$JSCompiler_temp$jscomp$104$$;
function $$jscomp$inherits$$($childCtor$$,$parentCtor$$){$childCtor$$.prototype=$$jscomp$objectCreate$$($parentCtor$$.prototype);$childCtor$$.prototype.constructor=$childCtor$$;if($$jscomp$setPrototypeOf$$)$$jscomp$setPrototypeOf$$($childCtor$$,$parentCtor$$);else for(var $p$$ in $parentCtor$$)if("prototype"!=$p$$)if(Object.defineProperties){var $descriptor$jscomp$1$$=Object.getOwnPropertyDescriptor($parentCtor$$,$p$$);$descriptor$jscomp$1$$&&Object.defineProperty($childCtor$$,$p$$,$descriptor$jscomp$1$$)}else $childCtor$$[$p$$]=
$parentCtor$$[$p$$];$childCtor$$.$superClass_$=$parentCtor$$.prototype}var $$jscomp$global$$=function($maybeGlobal$$){return"undefined"!=typeof window&&window===$maybeGlobal$$?$maybeGlobal$$:"undefined"!=typeof global&&null!=global?global:$maybeGlobal$$}(this);function $tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($component$jscomp$4$$,$fallback$$){$fallback$$=void 0===$fallback$$?"":$fallback$$;try{return decodeURIComponent($component$jscomp$4$$)}catch($e$jscomp$8$$){return $fallback$$}};var $regex$$module$src$url_parse_query_string$$=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;
function $parseQueryString_$$module$src$url_parse_query_string$$($queryString$$){var $params$jscomp$1$$=Object.create(null);if(!$queryString$$)return $params$jscomp$1$$;for(var $match$$;$match$$=$regex$$module$src$url_parse_query_string$$.exec($queryString$$);){var $name$jscomp$70$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[1],$match$$[1]),$value$jscomp$86$$=$match$$[2]?$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[2],$match$$[2]):"";
$params$jscomp$1$$[$name$jscomp$70$$]=$value$jscomp$86$$}return $params$jscomp$1$$};var $rtvVersion$$module$src$mode$$="";
function $getMode$$module$src$mode$$($opt_win$$){var $win$$=$opt_win$$||self;if($win$$.AMP_MODE)var $JSCompiler_temp$jscomp$106_JSCompiler_win$jscomp$inline_183$$=$win$$.AMP_MODE;else{$JSCompiler_temp$jscomp$106_JSCompiler_win$jscomp$inline_183$$=$win$$;var $JSCompiler_AMP_CONFIG$jscomp$inline_184_JSCompiler_singlePassType$jscomp$inline_191$$=self.AMP_CONFIG||{},$JSCompiler_runningTests$jscomp$inline_188$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_184_JSCompiler_singlePassType$jscomp$inline_191$$.test||!(!$JSCompiler_temp$jscomp$106_JSCompiler_win$jscomp$inline_183$$.AMP_TEST&&
!$JSCompiler_temp$jscomp$106_JSCompiler_win$jscomp$inline_183$$.__karma__),$JSCompiler_isLocalDev$jscomp$inline_189$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_184_JSCompiler_singlePassType$jscomp$inline_191$$.localDev||$JSCompiler_runningTests$jscomp$inline_188$$,$JSCompiler_hashQuery$jscomp$inline_190$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$106_JSCompiler_win$jscomp$inline_183$$.location.originalHash||$JSCompiler_temp$jscomp$106_JSCompiler_win$jscomp$inline_183$$.location.hash);
$JSCompiler_AMP_CONFIG$jscomp$inline_184_JSCompiler_singlePassType$jscomp$inline_191$$=$JSCompiler_AMP_CONFIG$jscomp$inline_184_JSCompiler_singlePassType$jscomp$inline_191$$.spt;var $JSCompiler_searchQuery$jscomp$inline_192$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$106_JSCompiler_win$jscomp$inline_183$$.location.search);$rtvVersion$$module$src$mode$$||($rtvVersion$$module$src$mode$$=$JSCompiler_isLocalDev$jscomp$inline_189$$?"1904281823091":$JSCompiler_temp$jscomp$106_JSCompiler_win$jscomp$inline_183$$.AMP_CONFIG&&
$JSCompiler_temp$jscomp$106_JSCompiler_win$jscomp$inline_183$$.AMP_CONFIG.v?$JSCompiler_temp$jscomp$106_JSCompiler_win$jscomp$inline_183$$.AMP_CONFIG.v:"011904281823091");$JSCompiler_temp$jscomp$106_JSCompiler_win$jscomp$inline_183$$=$win$$.AMP_MODE={localDev:$JSCompiler_isLocalDev$jscomp$inline_189$$,development:!("1"!=$JSCompiler_hashQuery$jscomp$inline_190$$.development&&!$JSCompiler_temp$jscomp$106_JSCompiler_win$jscomp$inline_183$$.AMP_DEV_MODE),examiner:"2"==$JSCompiler_hashQuery$jscomp$inline_190$$.development,
filter:$JSCompiler_hashQuery$jscomp$inline_190$$.filter,geoOverride:$JSCompiler_hashQuery$jscomp$inline_190$$["amp-geo"],minified:!0,lite:void 0!=$JSCompiler_searchQuery$jscomp$inline_192$$.amp_lite,test:$JSCompiler_runningTests$jscomp$inline_188$$,log:$JSCompiler_hashQuery$jscomp$inline_190$$.log,version:"1904281823091",rtvVersion:$rtvVersion$$module$src$mode$$,singlePassType:$JSCompiler_AMP_CONFIG$jscomp$inline_184_JSCompiler_singlePassType$jscomp$inline_191$$}}return $JSCompiler_temp$jscomp$106_JSCompiler_win$jscomp$inline_183$$}
;var $toString_$$module$src$types$$=Object.prototype.toString;function $toArray$$module$src$types$$($arrayLike$jscomp$1$$){return $arrayLike$jscomp$1$$?Array.prototype.slice.call($arrayLike$jscomp$1$$):[]}function $isFiniteNumber$$module$src$types$$($value$jscomp$90$$){return"number"===typeof $value$jscomp$90$$&&isFinite($value$jscomp$90$$)};function $isUserErrorMessage$$module$src$log$$($message$jscomp$24$$){return 0<=$message$jscomp$24$$.indexOf("\u200b\u200b\u200b")}
function $Log$$module$src$log$$($win$jscomp$4$$,$levelFunc$$,$opt_suffix$$){this.win=$getMode$$module$src$mode$$().test&&$win$jscomp$4$$.AMP_TEST_IFRAME?$win$jscomp$4$$.parent:$win$jscomp$4$$;this.$levelFunc_$=$levelFunc$$;this.$level_$=this.win.console&&this.win.console.log&&"0"!=$getMode$$module$src$mode$$().log?$getMode$$module$src$mode$$().test&&this.win.ENABLE_LOG?4:$getMode$$module$src$mode$$().localDev&&!$getMode$$module$src$mode$$().log?3:this.$levelFunc_$({localDev:$getMode$$module$src$mode$$(void 0).localDev,
development:$getMode$$module$src$mode$$(void 0).development,filter:$getMode$$module$src$mode$$(void 0).filter,minified:$getMode$$module$src$mode$$(void 0).minified,lite:$getMode$$module$src$mode$$(void 0).lite,test:$getMode$$module$src$mode$$(void 0).test,log:$getMode$$module$src$mode$$(void 0).log,version:$getMode$$module$src$mode$$(void 0).version,rtvVersion:$getMode$$module$src$mode$$(void 0).rtvVersion,singlePassType:$getMode$$module$src$mode$$(void 0).singlePassType}):0;this.$suffix_$=$opt_suffix$$||
""}
function $JSCompiler_StaticMethods_msg_$$($JSCompiler_StaticMethods_msg_$self$$,$tag$jscomp$1$$,$level$jscomp$18$$,$messages$$){if(0!=$JSCompiler_StaticMethods_msg_$self$$.$level_$){var $fn$jscomp$1$$=$JSCompiler_StaticMethods_msg_$self$$.win.console.log;"ERROR"==$level$jscomp$18$$?$fn$jscomp$1$$=$JSCompiler_StaticMethods_msg_$self$$.win.console.error||$fn$jscomp$1$$:"INFO"==$level$jscomp$18$$?$fn$jscomp$1$$=$JSCompiler_StaticMethods_msg_$self$$.win.console.info||$fn$jscomp$1$$:"WARN"==$level$jscomp$18$$&&($fn$jscomp$1$$=
$JSCompiler_StaticMethods_msg_$self$$.win.console.warn||$fn$jscomp$1$$);$getMode$$module$src$mode$$().localDev&&$messages$$.unshift("["+$tag$jscomp$1$$+"]");$fn$jscomp$1$$.apply($JSCompiler_StaticMethods_msg_$self$$.win.console,$messages$$)}}$JSCompiler_prototypeAlias$$=$Log$$module$src$log$$.prototype;$JSCompiler_prototypeAlias$$.isEnabled=function(){return 0!=this.$level_$};
$JSCompiler_prototypeAlias$$.fine=function($tag$jscomp$2$$,$var_args$jscomp$44$$){4<=this.$level_$&&$JSCompiler_StaticMethods_msg_$$(this,$tag$jscomp$2$$,"FINE",Array.prototype.slice.call(arguments,1))};$JSCompiler_prototypeAlias$$.info=function($tag$jscomp$3$$,$var_args$jscomp$45$$){3<=this.$level_$&&$JSCompiler_StaticMethods_msg_$$(this,$tag$jscomp$3$$,"INFO",Array.prototype.slice.call(arguments,1))};
$JSCompiler_prototypeAlias$$.warn=function($tag$jscomp$4$$,$var_args$jscomp$46$$){2<=this.$level_$&&$JSCompiler_StaticMethods_msg_$$(this,$tag$jscomp$4$$,"WARN",Array.prototype.slice.call(arguments,1))};
$JSCompiler_prototypeAlias$$.$error_$=function($tag$jscomp$5$$,$var_args$jscomp$47$$){if(1<=this.$level_$)$JSCompiler_StaticMethods_msg_$$(this,$tag$jscomp$5$$,"ERROR",Array.prototype.slice.call(arguments,1));else{var $error$jscomp$2$$=$createErrorVargs$$module$src$log$$.apply(null,Array.prototype.slice.call(arguments,1));$JSCompiler_StaticMethods_prepareError_$$(this,$error$jscomp$2$$);return $error$jscomp$2$$}};
$JSCompiler_prototypeAlias$$.error=function($tag$jscomp$6$$,$var_args$jscomp$48$$){var $error$jscomp$3$$=this.$error_$.apply(this,arguments);$error$jscomp$3$$&&($error$jscomp$3$$.name=$tag$jscomp$6$$||$error$jscomp$3$$.name,self.reportError($error$jscomp$3$$))};$JSCompiler_prototypeAlias$$.expectedError=function($unusedTag$$,$var_args$jscomp$49$$){var $error$jscomp$4$$=this.$error_$.apply(this,arguments);$error$jscomp$4$$&&($error$jscomp$4$$.expected=!0,self.reportError($error$jscomp$4$$))};
$JSCompiler_prototypeAlias$$.createError=function($var_args$jscomp$50$$){var $error$jscomp$5$$=$createErrorVargs$$module$src$log$$.apply(null,arguments);$JSCompiler_StaticMethods_prepareError_$$(this,$error$jscomp$5$$);return $error$jscomp$5$$};
$JSCompiler_prototypeAlias$$.createExpectedError=function($var_args$jscomp$51$$){var $error$jscomp$6$$=$createErrorVargs$$module$src$log$$.apply(null,arguments);$JSCompiler_StaticMethods_prepareError_$$(this,$error$jscomp$6$$);$error$jscomp$6$$.expected=!0;return $error$jscomp$6$$};
$JSCompiler_prototypeAlias$$.assert=function($shouldBeTrueish$$,$opt_message$jscomp$7$$,$var_args$jscomp$52$$){var $firstElement$$;if(!$shouldBeTrueish$$){var $splitMessage$$=($opt_message$jscomp$7$$||"Assertion failed").split("%s"),$JSCompiler_val$jscomp$inline_198_JSCompiler_val$jscomp$inline_200_first$jscomp$5$$=$splitMessage$$.shift(),$formatted$$=$JSCompiler_val$jscomp$inline_198_JSCompiler_val$jscomp$inline_200_first$jscomp$5$$,$messageArray$$=[],$e$jscomp$9_i$jscomp$3$$=2;for(""!=$JSCompiler_val$jscomp$inline_198_JSCompiler_val$jscomp$inline_200_first$jscomp$5$$&&
$messageArray$$.push($JSCompiler_val$jscomp$inline_198_JSCompiler_val$jscomp$inline_200_first$jscomp$5$$);0<$splitMessage$$.length;){var $nextConstant$$=$splitMessage$$.shift(),$val$$=arguments[$e$jscomp$9_i$jscomp$3$$++];$val$$&&$val$$.tagName&&($firstElement$$=$val$$);$messageArray$$.push($val$$);$JSCompiler_val$jscomp$inline_198_JSCompiler_val$jscomp$inline_200_first$jscomp$5$$=$nextConstant$$.trim();""!=$JSCompiler_val$jscomp$inline_198_JSCompiler_val$jscomp$inline_200_first$jscomp$5$$&&$messageArray$$.push($JSCompiler_val$jscomp$inline_198_JSCompiler_val$jscomp$inline_200_first$jscomp$5$$);
$JSCompiler_val$jscomp$inline_198_JSCompiler_val$jscomp$inline_200_first$jscomp$5$$=$val$$;$formatted$$+=($JSCompiler_val$jscomp$inline_198_JSCompiler_val$jscomp$inline_200_first$jscomp$5$$&&1==$JSCompiler_val$jscomp$inline_198_JSCompiler_val$jscomp$inline_200_first$jscomp$5$$.nodeType?$JSCompiler_val$jscomp$inline_198_JSCompiler_val$jscomp$inline_200_first$jscomp$5$$.tagName.toLowerCase()+($JSCompiler_val$jscomp$inline_198_JSCompiler_val$jscomp$inline_200_first$jscomp$5$$.id?"#"+$JSCompiler_val$jscomp$inline_198_JSCompiler_val$jscomp$inline_200_first$jscomp$5$$.id:
""):$JSCompiler_val$jscomp$inline_198_JSCompiler_val$jscomp$inline_200_first$jscomp$5$$)+$nextConstant$$}$e$jscomp$9_i$jscomp$3$$=Error($formatted$$);$e$jscomp$9_i$jscomp$3$$.fromAssert=!0;$e$jscomp$9_i$jscomp$3$$.associatedElement=$firstElement$$;$e$jscomp$9_i$jscomp$3$$.messageArray=$messageArray$$;$JSCompiler_StaticMethods_prepareError_$$(this,$e$jscomp$9_i$jscomp$3$$);self.reportError($e$jscomp$9_i$jscomp$3$$);throw $e$jscomp$9_i$jscomp$3$$;}return $shouldBeTrueish$$};
$JSCompiler_prototypeAlias$$.assertElement=function($shouldBeElement$$,$opt_message$jscomp$8$$){this.assert($shouldBeElement$$&&1==$shouldBeElement$$.nodeType,($opt_message$jscomp$8$$||"Element expected")+": %s",$shouldBeElement$$);return $shouldBeElement$$};$JSCompiler_prototypeAlias$$.assertString=function($shouldBeString$$,$opt_message$jscomp$9$$){this.assert("string"==typeof $shouldBeString$$,($opt_message$jscomp$9$$||"String expected")+": %s",$shouldBeString$$);return $shouldBeString$$};
$JSCompiler_prototypeAlias$$.assertNumber=function($shouldBeNumber$$,$opt_message$jscomp$10$$){this.assert("number"==typeof $shouldBeNumber$$,($opt_message$jscomp$10$$||"Number expected")+": %s",$shouldBeNumber$$);return $shouldBeNumber$$};$JSCompiler_prototypeAlias$$.assertArray=function($shouldBeArray$$,$opt_message$jscomp$11$$){this.assert(Array.isArray($shouldBeArray$$),($opt_message$jscomp$11$$||"Array expected")+": %s",$shouldBeArray$$);return $shouldBeArray$$};
$JSCompiler_prototypeAlias$$.assertBoolean=function($shouldBeBoolean$$,$opt_message$jscomp$12$$){this.assert(!!$shouldBeBoolean$$===$shouldBeBoolean$$,($opt_message$jscomp$12$$||"Boolean expected")+": %s",$shouldBeBoolean$$);return $shouldBeBoolean$$};
$JSCompiler_prototypeAlias$$.assertEnumValue=function($JSCompiler_inline_result$jscomp$108_enumObj$jscomp$1$$,$s$jscomp$7$$,$opt_enumName$$){a:{for(var $JSCompiler_k$jscomp$inline_204$$ in $JSCompiler_inline_result$jscomp$108_enumObj$jscomp$1$$)if($JSCompiler_inline_result$jscomp$108_enumObj$jscomp$1$$[$JSCompiler_k$jscomp$inline_204$$]===$s$jscomp$7$$){$JSCompiler_inline_result$jscomp$108_enumObj$jscomp$1$$=!0;break a}$JSCompiler_inline_result$jscomp$108_enumObj$jscomp$1$$=!1}if($JSCompiler_inline_result$jscomp$108_enumObj$jscomp$1$$)return $s$jscomp$7$$;
this.assert(!1,'Unknown %s value: "%s"',$opt_enumName$$||"enum",$s$jscomp$7$$)};
function $JSCompiler_StaticMethods_prepareError_$$($JSCompiler_StaticMethods_prepareError_$self$$,$error$jscomp$7$$){$error$jscomp$7$$=$duplicateErrorIfNecessary$$module$src$log$$($error$jscomp$7$$);$JSCompiler_StaticMethods_prepareError_$self$$.$suffix_$?$error$jscomp$7$$.message?-1==$error$jscomp$7$$.message.indexOf($JSCompiler_StaticMethods_prepareError_$self$$.$suffix_$)&&($error$jscomp$7$$.message+=$JSCompiler_StaticMethods_prepareError_$self$$.$suffix_$):$error$jscomp$7$$.message=$JSCompiler_StaticMethods_prepareError_$self$$.$suffix_$:
$isUserErrorMessage$$module$src$log$$($error$jscomp$7$$.message)&&($error$jscomp$7$$.message=$error$jscomp$7$$.message.replace("\u200b\u200b\u200b",""))}
function $duplicateErrorIfNecessary$$module$src$log$$($error$jscomp$8$$){var $messageProperty$$=Object.getOwnPropertyDescriptor($error$jscomp$8$$,"message");if($messageProperty$$&&$messageProperty$$.writable)return $error$jscomp$8$$;var $stack$$=$error$jscomp$8$$.stack,$e$jscomp$10$$=Error($error$jscomp$8$$.message),$prop$jscomp$2$$;for($prop$jscomp$2$$ in $error$jscomp$8$$)$e$jscomp$10$$[$prop$jscomp$2$$]=$error$jscomp$8$$[$prop$jscomp$2$$];$e$jscomp$10$$.stack=$stack$$;return $e$jscomp$10$$}
function $createErrorVargs$$module$src$log$$($var_args$jscomp$53$$){for(var $error$jscomp$9$$=null,$message$jscomp$28$$="",$i$jscomp$4$$=0;$i$jscomp$4$$<arguments.length;$i$jscomp$4$$++){var $arg$jscomp$6$$=arguments[$i$jscomp$4$$];$arg$jscomp$6$$ instanceof Error&&!$error$jscomp$9$$?$error$jscomp$9$$=$duplicateErrorIfNecessary$$module$src$log$$($arg$jscomp$6$$):($message$jscomp$28$$&&($message$jscomp$28$$+=" "),$message$jscomp$28$$+=$arg$jscomp$6$$)}$error$jscomp$9$$?$message$jscomp$28$$&&($error$jscomp$9$$.message=
$message$jscomp$28$$+": "+$error$jscomp$9$$.message):$error$jscomp$9$$=Error($message$jscomp$28$$);return $error$jscomp$9$$}function $rethrowAsync$$module$src$log$$($var_args$jscomp$54$$){var $error$jscomp$10$$=$createErrorVargs$$module$src$log$$.apply(null,arguments);setTimeout(function(){self.reportError($error$jscomp$10$$);throw $error$jscomp$10$$;})}self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log,$logConstructor$$module$src$log$$=null;
function $user$$module$src$log$$(){$logs$$module$src$log$$.user||($logs$$module$src$log$$.user=$getUserLogger$$module$src$log$$());return $logs$$module$src$log$$.user}
function $getUserLogger$$module$src$log$$(){var $suffix$$="\u200b\u200b\u200b";if(!$logConstructor$$module$src$log$$)throw Error("failed to call initLogConstructor");return new $logConstructor$$module$src$log$$(self,function($suffix$$){var $mode$jscomp$13$$=parseInt($suffix$$.log,10);return $suffix$$.development||1<=$mode$jscomp$13$$?4:2},$suffix$$)}
function $dev$$module$src$log$$(){if($logs$$module$src$log$$.dev)return $logs$$module$src$log$$.dev;if(!$logConstructor$$module$src$log$$)throw Error("failed to call initLogConstructor");return $logs$$module$src$log$$.dev=new $logConstructor$$module$src$log$$(self,function($logNum$jscomp$1_mode$jscomp$14$$){$logNum$jscomp$1_mode$jscomp$14$$=parseInt($logNum$jscomp$1_mode$jscomp$14$$.log,10);return 3<=$logNum$jscomp$1_mode$jscomp$14$$?4:2<=$logNum$jscomp$1_mode$jscomp$14$$?3:0})}
function $userAssert$$module$src$log$$($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$,$opt_4$jscomp$1$$){return $user$$module$src$log$$().assert($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$,$opt_4$jscomp$1$$,void 0,void 0,void 0,void 0,void 0)};var $hasOwn_$$module$src$utils$object$$=Object.prototype.hasOwnProperty;function $map$$module$src$utils$object$$($opt_initial$$){var $obj$jscomp$25$$=Object.create(null);$opt_initial$$&&Object.assign($obj$jscomp$25$$,$opt_initial$$);return $obj$jscomp$25$$}function $dict$$module$src$utils$object$$($opt_initial$jscomp$1$$){return $opt_initial$jscomp$1$$||{}};var $container$$module$src$static_template$$;function $htmlFor$$module$src$static_template$$($nodeOrDoc$$){var $doc$jscomp$1$$=$nodeOrDoc$$.ownerDocument||$nodeOrDoc$$;$container$$module$src$static_template$$&&$container$$module$src$static_template$$.ownerDocument===$doc$jscomp$1$$||($container$$module$src$static_template$$=$doc$jscomp$1$$.createElement("div"));return $html$$module$src$static_template$$}
function $html$$module$src$static_template$$($strings$$){$container$$module$src$static_template$$.innerHTML=$strings$$[0];var $el$$=$container$$module$src$static_template$$.firstElementChild;$container$$module$src$static_template$$.removeChild($el$$);return $el$$};function $endsWith$$module$src$string$$($string$jscomp$5$$,$suffix$jscomp$1$$){var $index$jscomp$68$$=$string$jscomp$5$$.length-$suffix$jscomp$1$$.length;return 0<=$index$jscomp$68$$&&$string$jscomp$5$$.indexOf($suffix$jscomp$1$$,$index$jscomp$68$$)==$index$jscomp$68$$}function $startsWith$$module$src$string$$($string$jscomp$6$$,$prefix$jscomp$2$$){return $prefix$jscomp$2$$.length>$string$jscomp$6$$.length?!1:0==$string$jscomp$6$$.lastIndexOf($prefix$jscomp$2$$,0)};var $propertyNameCache$$module$src$style$$,$vendorPrefixes$$module$src$style$$="Webkit webkit Moz moz ms O o".split(" ");
function $getVendorJsPropertyName$$module$src$style$$($style$jscomp$1$$,$camelCase$jscomp$1$$,$opt_bypassCache$$){if($startsWith$$module$src$string$$($camelCase$jscomp$1$$,"--"))return $camelCase$jscomp$1$$;$propertyNameCache$$module$src$style$$||($propertyNameCache$$module$src$style$$=$map$$module$src$utils$object$$());var $propertyName$jscomp$9$$=$propertyNameCache$$module$src$style$$[$camelCase$jscomp$1$$];if(!$propertyName$jscomp$9$$||$opt_bypassCache$$){$propertyName$jscomp$9$$=$camelCase$jscomp$1$$;
if(void 0===$style$jscomp$1$$[$camelCase$jscomp$1$$]){var $JSCompiler_inline_result$jscomp$112_titleCase$jscomp$1$$=$camelCase$jscomp$1$$.charAt(0).toUpperCase()+$camelCase$jscomp$1$$.slice(1);a:{for(var $JSCompiler_i$jscomp$inline_211$$=0;$JSCompiler_i$jscomp$inline_211$$<$vendorPrefixes$$module$src$style$$.length;$JSCompiler_i$jscomp$inline_211$$++){var $JSCompiler_propertyName$jscomp$inline_212$$=$vendorPrefixes$$module$src$style$$[$JSCompiler_i$jscomp$inline_211$$]+$JSCompiler_inline_result$jscomp$112_titleCase$jscomp$1$$;
if(void 0!==$style$jscomp$1$$[$JSCompiler_propertyName$jscomp$inline_212$$]){$JSCompiler_inline_result$jscomp$112_titleCase$jscomp$1$$=$JSCompiler_propertyName$jscomp$inline_212$$;break a}}$JSCompiler_inline_result$jscomp$112_titleCase$jscomp$1$$=""}var $prefixedPropertyName$$=$JSCompiler_inline_result$jscomp$112_titleCase$jscomp$1$$;void 0!==$style$jscomp$1$$[$prefixedPropertyName$$]&&($propertyName$jscomp$9$$=$prefixedPropertyName$$)}$opt_bypassCache$$||($propertyNameCache$$module$src$style$$[$camelCase$jscomp$1$$]=
$propertyName$jscomp$9$$)}return $propertyName$jscomp$9$$}function $setImportantStyles$$module$src$style$$($element$jscomp$12_style$jscomp$2$$,$styles$$){$element$jscomp$12_style$jscomp$2$$=$element$jscomp$12_style$jscomp$2$$.style;for(var $k$jscomp$1$$ in $styles$$)$element$jscomp$12_style$jscomp$2$$.setProperty($getVendorJsPropertyName$$module$src$style$$($element$jscomp$12_style$jscomp$2$$,$k$jscomp$1$$),$styles$$[$k$jscomp$1$$].toString(),"important")}
function $setStyle$$module$src$style$$($element$jscomp$13$$,$property$jscomp$4_propertyName$jscomp$10$$,$value$jscomp$91$$,$opt_units$$){($property$jscomp$4_propertyName$jscomp$10$$=$getVendorJsPropertyName$$module$src$style$$($element$jscomp$13$$.style,$property$jscomp$4_propertyName$jscomp$10$$,void 0))&&($element$jscomp$13$$.style[$property$jscomp$4_propertyName$jscomp$10$$]=$opt_units$$?$value$jscomp$91$$+$opt_units$$:$value$jscomp$91$$)}
function $getStyle$$module$src$style$$($element$jscomp$14$$,$property$jscomp$5_propertyName$jscomp$11$$){if($property$jscomp$5_propertyName$jscomp$11$$=$getVendorJsPropertyName$$module$src$style$$($element$jscomp$14$$.style,$property$jscomp$5_propertyName$jscomp$11$$,void 0))return $element$jscomp$14$$.style[$property$jscomp$5_propertyName$jscomp$11$$]}
function $setStyles$$module$src$style$$($element$jscomp$15$$,$styles$jscomp$1$$){for(var $k$jscomp$2$$ in $styles$jscomp$1$$)$setStyle$$module$src$style$$($element$jscomp$15$$,$k$jscomp$2$$,$styles$jscomp$1$$[$k$jscomp$2$$])}function $assertDoesNotContainDisplay$$module$src$style$$($styles$jscomp$2$$){"display"in $styles$jscomp$2$$&&$dev$$module$src$log$$().error("STYLE","`display` style detected in styles. You must use toggle instead.");return $styles$jscomp$2$$}
function $setInitialDisplay$$module$src$style$$($el$jscomp$1$$){$el$jscomp$1$$.style.display="block"}function $toggle$$module$src$style$$($element$jscomp$16$$,$opt_display$$){void 0===$opt_display$$&&($opt_display$$=$element$jscomp$16$$.hasAttribute("hidden"));$opt_display$$?$element$jscomp$16$$.removeAttribute("hidden"):$element$jscomp$16$$.setAttribute("hidden","")}
function $computedStyle$$module$src$style$$($win$jscomp$6$$,$el$jscomp$2$$){return $win$jscomp$6$$.getComputedStyle($el$jscomp$2$$)||$map$$module$src$utils$object$$()};function $getLayoutClass$$module$src$layout$$(){var $layout$$="nodisplay";return"i-amphtml-layout-"+$layout$$};function $Deferred$$module$src$utils$promise$$(){var $resolve$$,$reject$$;this.promise=new Promise(function($res$jscomp$1$$,$rej$$){$resolve$$=$res$jscomp$1$$;$reject$$=$rej$$});this.resolve=$resolve$$;this.reject=$reject$$}function $tryResolve$$module$src$utils$promise$$($fn$jscomp$2$$){return new Promise(function($resolve$jscomp$1$$){$resolve$jscomp$1$$($fn$jscomp$2$$())})};function $getExistingServiceForDocInEmbedScope$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_216_JSCompiler_holder$jscomp$inline_217_element$jscomp$21$$,$id$jscomp$6$$){var $opt_fallbackToTopWin$$,$win$jscomp$7$$=$JSCompiler_ampdoc$jscomp$inline_216_JSCompiler_holder$jscomp$inline_217_element$jscomp$21$$.ownerDocument.defaultView,$isEmbed$$=$win$jscomp$7$$!=$getTopWindow$$module$src$service$$($win$jscomp$7$$);if($isEmbed$$){if($isServiceRegistered$$module$src$service$$($win$jscomp$7$$,$id$jscomp$6$$)){var $embedService$$=
$getServiceInternal$$module$src$service$$($win$jscomp$7$$,$id$jscomp$6$$);if($embedService$$)return $embedService$$}if(!$opt_fallbackToTopWin$$)return null}$JSCompiler_ampdoc$jscomp$inline_216_JSCompiler_holder$jscomp$inline_217_element$jscomp$21$$=$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_216_JSCompiler_holder$jscomp$inline_217_element$jscomp$21$$);$JSCompiler_ampdoc$jscomp$inline_216_JSCompiler_holder$jscomp$inline_217_element$jscomp$21$$=$getAmpdocServiceHolder$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_216_JSCompiler_holder$jscomp$inline_217_element$jscomp$21$$);
return $isServiceRegistered$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_216_JSCompiler_holder$jscomp$inline_217_element$jscomp$21$$,$id$jscomp$6$$)?$getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_216_JSCompiler_holder$jscomp$inline_217_element$jscomp$21$$,$id$jscomp$6$$):null}
function $installServiceInEmbedScope$$module$src$service$$($embedWin$$,$id$jscomp$7$$,$service$$){$getTopWindow$$module$src$service$$($embedWin$$);$isServiceRegistered$$module$src$service$$($embedWin$$,$id$jscomp$7$$);$registerServiceInternal$$module$src$service$$($embedWin$$,$embedWin$$,$id$jscomp$7$$,function(){return $service$$});$getServiceInternal$$module$src$service$$($embedWin$$,$id$jscomp$7$$)}
function $registerServiceBuilderForDoc$$module$src$service$$($nodeOrDoc$jscomp$1$$,$id$jscomp$9$$,$constructor$jscomp$2$$,$opt_instantiate$jscomp$1$$){var $ampdoc$$=$getAmpdoc$$module$src$service$$($nodeOrDoc$jscomp$1$$),$holder$$=$getAmpdocServiceHolder$$module$src$service$$($ampdoc$$);$registerServiceInternal$$module$src$service$$($holder$$,$ampdoc$$,$id$jscomp$9$$,$constructor$jscomp$2$$);$opt_instantiate$jscomp$1$$&&$getServiceInternal$$module$src$service$$($holder$$,$id$jscomp$9$$)}
function $getService$$module$src$service$$($win$jscomp$9$$,$id$jscomp$11$$){$win$jscomp$9$$=$getTopWindow$$module$src$service$$($win$jscomp$9$$);return $getServiceInternal$$module$src$service$$($win$jscomp$9$$,$id$jscomp$11$$)}
function $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$$,$id$jscomp$15$$){var $ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdoc$$module$src$service$$($elementOrAmpDoc$$);$ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$);return $getServiceInternal$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$,$id$jscomp$15$$)}
function $getServicePromiseForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$1$$,$id$jscomp$17$$){return $getServicePromiseInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($elementOrAmpDoc$jscomp$1$$),$id$jscomp$17$$)}
function $getServicePromiseOrNullForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$2$$,$id$jscomp$18$$){return $getServicePromiseOrNullInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($elementOrAmpDoc$jscomp$2$$),$id$jscomp$18$$)}function $getTopWindow$$module$src$service$$($win$jscomp$15$$){return $win$jscomp$15$$.__AMP_TOP||$win$jscomp$15$$}
function $getParentWindowFrameElement$$module$src$service$$($node$jscomp$2$$,$topWin$jscomp$1$$){var $childWin$$=($node$jscomp$2$$.ownerDocument||$node$jscomp$2$$).defaultView;if($childWin$$&&$childWin$$!=$topWin$jscomp$1$$&&$getTopWindow$$module$src$service$$($childWin$$)==$topWin$jscomp$1$$)try{return $childWin$$.frameElement}catch($e$jscomp$11$$){}return null}
function $getAmpdoc$$module$src$service$$($nodeOrDoc$jscomp$3$$){return $nodeOrDoc$jscomp$3$$.nodeType?$getService$$module$src$service$$(($nodeOrDoc$jscomp$3$$.ownerDocument||$nodeOrDoc$jscomp$3$$).defaultView,"ampdoc").getAmpDoc($nodeOrDoc$jscomp$3$$):$nodeOrDoc$jscomp$3$$}
function $getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$4$$){$ampdoc$jscomp$4_nodeOrDoc$jscomp$4$$=$getAmpdoc$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$4$$);return $ampdoc$jscomp$4_nodeOrDoc$jscomp$4$$.isSingleDoc()?$ampdoc$jscomp$4_nodeOrDoc$jscomp$4$$.win:$ampdoc$jscomp$4_nodeOrDoc$jscomp$4$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$10$$,$id$jscomp$19$$){$isServiceRegistered$$module$src$service$$($holder$jscomp$4_s$jscomp$10$$,$id$jscomp$19$$);var $services$$=$getServices$$module$src$service$$($holder$jscomp$4_s$jscomp$10$$);$holder$jscomp$4_s$jscomp$10$$=$services$$[$id$jscomp$19$$];$holder$jscomp$4_s$jscomp$10$$.obj||($holder$jscomp$4_s$jscomp$10$$.obj=new $holder$jscomp$4_s$jscomp$10$$.ctor($holder$jscomp$4_s$jscomp$10$$.context),$holder$jscomp$4_s$jscomp$10$$.ctor=
null,$holder$jscomp$4_s$jscomp$10$$.context=null,$holder$jscomp$4_s$jscomp$10$$.resolve&&$holder$jscomp$4_s$jscomp$10$$.resolve($holder$jscomp$4_s$jscomp$10$$.obj));return $holder$jscomp$4_s$jscomp$10$$.obj}
function $registerServiceInternal$$module$src$service$$($holder$jscomp$5$$,$context$$,$id$jscomp$20$$,$ctor$jscomp$1$$){var $services$jscomp$1$$=$getServices$$module$src$service$$($holder$jscomp$5$$),$s$jscomp$11$$=$services$jscomp$1$$[$id$jscomp$20$$];$s$jscomp$11$$||($s$jscomp$11$$=$services$jscomp$1$$[$id$jscomp$20$$]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});$s$jscomp$11$$.ctor||$s$jscomp$11$$.obj||($s$jscomp$11$$.ctor=$ctor$jscomp$1$$,$s$jscomp$11$$.context=$context$$,
$s$jscomp$11$$.resolve&&$getServiceInternal$$module$src$service$$($holder$jscomp$5$$,$id$jscomp$20$$))}
function $getServicePromiseInternal$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$,$id$jscomp$21$$){var $cached$$=$getServicePromiseOrNullInternal$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$,$id$jscomp$21$$);if($cached$$)return $cached$$;$holder$jscomp$6_services$jscomp$2$$=$getServices$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$);$holder$jscomp$6_services$jscomp$2$$[$id$jscomp$21$$]=$emptyServiceHolderWithPromise$$module$src$service$$();return $holder$jscomp$6_services$jscomp$2$$[$id$jscomp$21$$].promise}
function $getServicePromiseOrNullInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$){var $s$jscomp$13$$=$getServices$$module$src$service$$($holder$jscomp$8$$)[$id$jscomp$23$$];if($s$jscomp$13$$){if($s$jscomp$13$$.promise)return $s$jscomp$13$$.promise;$getServiceInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$);return $s$jscomp$13$$.promise=Promise.resolve($s$jscomp$13$$.obj)}return null}
function $getServices$$module$src$service$$($holder$jscomp$9$$){var $services$jscomp$5$$=$holder$jscomp$9$$.services;$services$jscomp$5$$||($services$jscomp$5$$=$holder$jscomp$9$$.services={});return $services$jscomp$5$$}
function $disposeServicesInternal$$module$src$service$$($holder$jscomp$10_services$jscomp$6$$){$holder$jscomp$10_services$jscomp$6$$=$getServices$$module$src$service$$($holder$jscomp$10_services$jscomp$6$$);var $$jscomp$loop$90$$={},$id$jscomp$24$$;for($id$jscomp$24$$ in $holder$jscomp$10_services$jscomp$6$$){$$jscomp$loop$90$$.$$jscomp$loop$prop$id$91$=$id$jscomp$24$$;if(Object.prototype.hasOwnProperty.call($holder$jscomp$10_services$jscomp$6$$,$$jscomp$loop$90$$.$$jscomp$loop$prop$id$91$)){var $serviceHolder$$=
$holder$jscomp$10_services$jscomp$6$$[$$jscomp$loop$90$$.$$jscomp$loop$prop$id$91$];$serviceHolder$$.obj?$disposeServiceInternal$$module$src$service$$($$jscomp$loop$90$$.$$jscomp$loop$prop$id$91$,$serviceHolder$$.obj):$serviceHolder$$.promise&&$serviceHolder$$.promise.then(function($holder$jscomp$10_services$jscomp$6$$){return function($$jscomp$loop$90$$){return $disposeServiceInternal$$module$src$service$$($holder$jscomp$10_services$jscomp$6$$.$$jscomp$loop$prop$id$91$,$$jscomp$loop$90$$)}}($$jscomp$loop$90$$))}$$jscomp$loop$90$$=
{$$jscomp$loop$prop$id$91$:$$jscomp$loop$90$$.$$jscomp$loop$prop$id$91$}}}function $disposeServiceInternal$$module$src$service$$($id$jscomp$25$$,$service$jscomp$3$$){if("function"==typeof $service$jscomp$3$$.dispose)try{$service$jscomp$3$$.dispose()}catch($e$jscomp$12$$){$dev$$module$src$log$$().error("SERVICE","failed to dispose service",$id$jscomp$25$$,$e$jscomp$12$$)}}
function $isServiceRegistered$$module$src$service$$($holder$jscomp$12_service$jscomp$4$$,$id$jscomp$27$$){$holder$jscomp$12_service$jscomp$4$$=$holder$jscomp$12_service$jscomp$4$$.services&&$holder$jscomp$12_service$jscomp$4$$.services[$id$jscomp$27$$];return!(!$holder$jscomp$12_service$jscomp$4$$||!$holder$jscomp$12_service$jscomp$4$$.ctor&&!$holder$jscomp$12_service$jscomp$4$$.obj)}
function $emptyServiceHolderWithPromise$$module$src$service$$(){var $deferred$$=new $Deferred$$module$src$utils$promise$$,$$jscomp$destructuring$var6_reject$jscomp$3$$=$deferred$$,$promise$jscomp$1$$=$$jscomp$destructuring$var6_reject$jscomp$3$$.promise,$resolve$jscomp$4$$=$$jscomp$destructuring$var6_reject$jscomp$3$$.resolve;$$jscomp$destructuring$var6_reject$jscomp$3$$=$$jscomp$destructuring$var6_reject$jscomp$3$$.reject;$promise$jscomp$1$$.catch(function(){});return{obj:null,promise:$promise$jscomp$1$$,
resolve:$resolve$jscomp$4$$,reject:$$jscomp$destructuring$var6_reject$jscomp$3$$,context:null,ctor:null}};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var $regex$$module$third_party$css_escape$css_escape$$=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function $escaper$$module$third_party$css_escape$css_escape$$($match$jscomp$2$$,$nil$$,$dash$$,$hexEscape$$,$chars$$){return $chars$$?$chars$$:$nil$$?"\ufffd":$hexEscape$$?$match$jscomp$2$$.slice(0,-1)+"\\"+$match$jscomp$2$$.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+$match$jscomp$2$$};function $assertIsName$$module$src$css$$($name$jscomp$73$$){/^[\w-]+$/.test($name$jscomp$73$$)}var $scopeSelectorSupported$$module$src$css$$;function $isDocumentReady$$module$src$document_ready$$($doc$jscomp$4$$){return"loading"!=$doc$jscomp$4$$.readyState&&"uninitialized"!=$doc$jscomp$4$$.readyState}function $onDocumentReady$$module$src$document_ready$$($doc$jscomp$6$$,$callback$jscomp$55$$){$onDocumentState$$module$src$document_ready$$($doc$jscomp$6$$,$callback$jscomp$55$$)}
function $onDocumentState$$module$src$document_ready$$($doc$jscomp$7$$,$callback$jscomp$56$$){var $stateFn$$=$isDocumentReady$$module$src$document_ready$$,$ready$$=$stateFn$$($doc$jscomp$7$$);if($ready$$)$callback$jscomp$56$$($doc$jscomp$7$$);else{var $readyListener$$=function(){$stateFn$$($doc$jscomp$7$$)&&($ready$$||($ready$$=!0,$callback$jscomp$56$$($doc$jscomp$7$$)),$doc$jscomp$7$$.removeEventListener("readystatechange",$readyListener$$))};$doc$jscomp$7$$.addEventListener("readystatechange",$readyListener$$)}}
function $whenDocumentReady$$module$src$document_ready$$($doc$jscomp$8$$){return new Promise(function($resolve$jscomp$5$$){$onDocumentState$$module$src$document_ready$$($doc$jscomp$8$$,$resolve$jscomp$5$$)})};function $waitForChild$$module$src$dom$$($parent$jscomp$2$$,$checkFunc$$,$callback$jscomp$57$$){if($checkFunc$$($parent$jscomp$2$$))$callback$jscomp$57$$();else{var $win$jscomp$18$$=$parent$jscomp$2$$.ownerDocument.defaultView;if($win$jscomp$18$$.MutationObserver){var $observer$$=new $win$jscomp$18$$.MutationObserver(function(){$checkFunc$$($parent$jscomp$2$$)&&($observer$$.disconnect(),$callback$jscomp$57$$())});$observer$$.observe($parent$jscomp$2$$,{childList:!0})}else var $interval$$=$win$jscomp$18$$.setInterval(function(){$checkFunc$$($parent$jscomp$2$$)&&
($win$jscomp$18$$.clearInterval($interval$$),$callback$jscomp$57$$())},5)}}function $waitForHead$$module$src$dom$$($doc$jscomp$10$$,$callback$jscomp$58$$){$waitForChild$$module$src$dom$$($doc$jscomp$10$$.documentElement,function(){return!!$doc$jscomp$10$$.body},$callback$jscomp$58$$)}
function $waitForBody$$module$src$dom$$($doc$jscomp$12$$,$callback$jscomp$59$$){$onDocumentReady$$module$src$document_ready$$($doc$jscomp$12$$,function(){return $waitForHead$$module$src$dom$$($doc$jscomp$12$$,$callback$jscomp$59$$)})}function $waitForBodyPromise$$module$src$dom$$($doc$jscomp$13$$){return new Promise(function($resolve$jscomp$9$$){return $waitForBody$$module$src$dom$$($doc$jscomp$13$$,$resolve$jscomp$9$$)})}
function $removeElement$$module$src$dom$$($element$jscomp$23$$){$element$jscomp$23$$.parentElement&&$element$jscomp$23$$.parentElement.removeChild($element$jscomp$23$$)}function $rootNodeFor$$module$src$dom$$($n$jscomp$5_node$jscomp$4$$){if(Node.prototype.getRootNode)return $n$jscomp$5_node$jscomp$4$$.getRootNode()||$n$jscomp$5_node$jscomp$4$$;for(;$n$jscomp$5_node$jscomp$4$$.parentNode;$n$jscomp$5_node$jscomp$4$$=$n$jscomp$5_node$jscomp$4$$.parentNode);return $n$jscomp$5_node$jscomp$4$$}
function $closest$$module$src$dom$$($el$jscomp$5_element$jscomp$27$$,$callback$jscomp$60$$){for(var $opt_stopAt$$;$el$jscomp$5_element$jscomp$27$$&&$el$jscomp$5_element$jscomp$27$$!==$opt_stopAt$$;$el$jscomp$5_element$jscomp$27$$=$el$jscomp$5_element$jscomp$27$$.parentElement)if($callback$jscomp$60$$($el$jscomp$5_element$jscomp$27$$))return $el$jscomp$5_element$jscomp$27$$;return null}
function $closestAncestorElementBySelector$$module$src$dom$$($element$jscomp$28$$,$selector$jscomp$2$$){return $element$jscomp$28$$.closest?$element$jscomp$28$$.closest($selector$jscomp$2$$):$closest$$module$src$dom$$($element$jscomp$28$$,function($element$jscomp$28$$){return $matches$$module$src$dom$$($element$jscomp$28$$,$selector$jscomp$2$$)})}
function $childElementsByAttr$$module$src$dom$$($parent$jscomp$11$$){$assertIsName$$module$src$css$$("separator");return $scopedQuerySelectorAll$$module$src$dom$$($parent$jscomp$11$$,"> [separator]")}function $childElementsByTag$$module$src$dom$$($parent$jscomp$13$$,$tagName$jscomp$13$$){$assertIsName$$module$src$css$$($tagName$jscomp$13$$);return $scopedQuerySelectorAll$$module$src$dom$$($parent$jscomp$13$$,"> "+$tagName$jscomp$13$$)}
function $matches$$module$src$dom$$($el$jscomp$9$$,$selector$jscomp$3$$){var $matcher$$=$el$jscomp$9$$.matches||$el$jscomp$9$$.webkitMatchesSelector||$el$jscomp$9$$.mozMatchesSelector||$el$jscomp$9$$.msMatchesSelector||$el$jscomp$9$$.oMatchesSelector;return $matcher$$?$matcher$$.call($el$jscomp$9$$,$selector$jscomp$3$$):!1}
function $scopedQuerySelectorAll$$module$src$dom$$($JSCompiler_temp$jscomp$119_root$jscomp$7$$,$JSCompiler_elements$jscomp$inline_228_JSCompiler_scopedSelector$jscomp$inline_227_selector$jscomp$6$$){if(void 0!==$scopeSelectorSupported$$module$src$css$$)var $JSCompiler_inline_result$jscomp$631_JSCompiler_temp$jscomp$630$$=$scopeSelectorSupported$$module$src$css$$;else{try{var $JSCompiler_doc$jscomp$inline_649$$=$JSCompiler_temp$jscomp$119_root$jscomp$7$$.ownerDocument,$JSCompiler_testElement$jscomp$inline_650$$=
$JSCompiler_doc$jscomp$inline_649$$.createElement("div"),$JSCompiler_testChild$jscomp$inline_651$$=$JSCompiler_doc$jscomp$inline_649$$.createElement("div");$JSCompiler_testElement$jscomp$inline_650$$.appendChild($JSCompiler_testChild$jscomp$inline_651$$);$JSCompiler_inline_result$jscomp$631_JSCompiler_temp$jscomp$630$$=$JSCompiler_testElement$jscomp$inline_650$$.querySelector(":scope div")===$JSCompiler_testChild$jscomp$inline_651$$}catch($JSCompiler_e$jscomp$inline_652$$){$JSCompiler_inline_result$jscomp$631_JSCompiler_temp$jscomp$630$$=
!1}$JSCompiler_inline_result$jscomp$631_JSCompiler_temp$jscomp$630$$=$scopeSelectorSupported$$module$src$css$$=$JSCompiler_inline_result$jscomp$631_JSCompiler_temp$jscomp$630$$}$JSCompiler_inline_result$jscomp$631_JSCompiler_temp$jscomp$630$$?$JSCompiler_temp$jscomp$119_root$jscomp$7$$=$JSCompiler_temp$jscomp$119_root$jscomp$7$$.querySelectorAll($JSCompiler_elements$jscomp$inline_228_JSCompiler_scopedSelector$jscomp$inline_227_selector$jscomp$6$$.replace(/^|,/g,"$&:scope ")):($JSCompiler_temp$jscomp$119_root$jscomp$7$$.classList.add("i-amphtml-scoped"),
$JSCompiler_elements$jscomp$inline_228_JSCompiler_scopedSelector$jscomp$inline_227_selector$jscomp$6$$=$JSCompiler_elements$jscomp$inline_228_JSCompiler_scopedSelector$jscomp$inline_227_selector$jscomp$6$$.replace(/^|,/g,"$&.i-amphtml-scoped "),$JSCompiler_elements$jscomp$inline_228_JSCompiler_scopedSelector$jscomp$inline_227_selector$jscomp$6$$=$JSCompiler_temp$jscomp$119_root$jscomp$7$$.querySelectorAll($JSCompiler_elements$jscomp$inline_228_JSCompiler_scopedSelector$jscomp$inline_227_selector$jscomp$6$$),
$JSCompiler_temp$jscomp$119_root$jscomp$7$$.classList.remove("i-amphtml-scoped"),$JSCompiler_temp$jscomp$119_root$jscomp$7$$=$JSCompiler_elements$jscomp$inline_228_JSCompiler_scopedSelector$jscomp$inline_227_selector$jscomp$6$$);return $JSCompiler_temp$jscomp$119_root$jscomp$7$$}
function $iterateCursor$$module$src$dom$$($iterable$jscomp$2$$,$cb$$){for(var $length$jscomp$21$$=$iterable$jscomp$2$$.length,$i$jscomp$12$$=0;$i$jscomp$12$$<$length$jscomp$21$$;$i$jscomp$12$$++)$cb$$($iterable$jscomp$2$$[$i$jscomp$12$$],$i$jscomp$12$$)}
function $openWindowDialog$$module$src$dom$$($win$jscomp$19$$,$url$jscomp$21$$,$target$jscomp$85$$,$opt_features$$){try{var $res$jscomp$2$$=$win$jscomp$19$$.open($url$jscomp$21$$,$target$jscomp$85$$,$opt_features$$)}catch($e$jscomp$14$$){$dev$$module$src$log$$().error("DOM","Failed to open url on target: ",$target$jscomp$85$$,$e$jscomp$14$$)}$res$jscomp$2$$||"_top"==$target$jscomp$85$$||($res$jscomp$2$$=$win$jscomp$19$$.open($url$jscomp$21$$,"_top"));return $res$jscomp$2$$}
function $tryFocus$$module$src$dom$$($element$jscomp$34$$){try{$element$jscomp$34$$.focus()}catch($e$jscomp$15$$){}}function $isIframed$$module$src$dom$$($win$jscomp$20$$){return $win$jscomp$20$$.parent&&$win$jscomp$20$$.parent!=$win$jscomp$20$$}var $PRECEDING_OR_CONTAINS$$module$src$dom$$=Node.DOCUMENT_POSITION_PRECEDING|Node.DOCUMENT_POSITION_CONTAINS;function $getElementServiceIfAvailable$$module$src$element_service$$($win$jscomp$22$$,$id$jscomp$29$$,$extension$jscomp$1$$){var $s$jscomp$14$$=$getServicePromiseOrNullInternal$$module$src$service$$($win$jscomp$22$$,$id$jscomp$29$$);return $s$jscomp$14$$?$s$jscomp$14$$:$getElementServicePromiseOrNull$$module$src$element_service$$($win$jscomp$22$$,$id$jscomp$29$$,$extension$jscomp$1$$,!0)}
function $getElementServiceForDoc$$module$src$element_service$$($element$jscomp$42$$,$id$jscomp$30$$,$extension$jscomp$2$$){return $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$42$$,$id$jscomp$30$$,$extension$jscomp$2$$,void 0).then(function($element$jscomp$42$$){return $userAssert$$module$src$log$$($element$jscomp$42$$,"Service %s was requested to be provided through %s, but %s is not loaded in the current page. To fix this problem load the JavaScript file for %s in this page.",
$id$jscomp$30$$,$extension$jscomp$2$$,$extension$jscomp$2$$,$extension$jscomp$2$$)})}
function $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$43$$,$id$jscomp$31$$,$extension$jscomp$3$$,$opt_element$jscomp$10$$){var $s$jscomp$15$$=$getServicePromiseOrNullForDoc$$module$src$service$$($element$jscomp$43$$,$id$jscomp$31$$);if($s$jscomp$15$$)return $s$jscomp$15$$;var $ampdoc$jscomp$7$$=$getAmpdoc$$module$src$service$$($element$jscomp$43$$);return $ampdoc$jscomp$7$$.whenBodyAvailable().then(function(){return $waitForExtensionIfPresent$$module$src$element_service$$($ampdoc$jscomp$7$$.win,$extension$jscomp$3$$,
$ampdoc$jscomp$7$$.win.document.head)}).then(function(){if($opt_element$jscomp$10$$)var $s$jscomp$15$$=$getServicePromiseOrNullForDoc$$module$src$service$$($element$jscomp$43$$,$id$jscomp$31$$);else $s$jscomp$15$$=$ampdoc$jscomp$7$$.win,$s$jscomp$15$$=$s$jscomp$15$$.ampExtendedElements&&$s$jscomp$15$$.ampExtendedElements[$extension$jscomp$3$$]?$getServicePromiseForDoc$$module$src$service$$($element$jscomp$43$$,$id$jscomp$31$$):null;return $s$jscomp$15$$})}
function $getElementServiceIfAvailableForDocInEmbedScope$$module$src$element_service$$($element$jscomp$44$$){var $s$jscomp$16_win$jscomp$24$$=$getExistingServiceForDocInEmbedScope$$module$src$service$$($element$jscomp$44$$,"bind");if($s$jscomp$16_win$jscomp$24$$)return Promise.resolve($s$jscomp$16_win$jscomp$24$$);$s$jscomp$16_win$jscomp$24$$=$element$jscomp$44$$.ownerDocument.defaultView;var $topWin$jscomp$2$$=$getTopWindow$$module$src$service$$($s$jscomp$16_win$jscomp$24$$);return $s$jscomp$16_win$jscomp$24$$!==
$topWin$jscomp$2$$?$getElementServicePromiseOrNull$$module$src$element_service$$($s$jscomp$16_win$jscomp$24$$,"bind","amp-bind"):$getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$44$$,"bind","amp-bind")}
function $extensionScriptsInNode$$module$src$element_service$$($head$$){if(!$head$$)return[];for(var $scripts$$=[],$list$$=$head$$.querySelectorAll("script[custom-element]"),$i$jscomp$13$$=0;$i$jscomp$13$$<$list$$.length;$i$jscomp$13$$++)$scripts$$.push($list$$[$i$jscomp$13$$].getAttribute("custom-element"));return $scripts$$}
function $isExtensionScriptInNode$$module$src$element_service$$($ampdoc$jscomp$8$$){var $extensionId$$="amp-form";return $ampdoc$jscomp$8$$.whenBodyAvailable().then(function(){var $JSCompiler_head$jscomp$inline_233$$=$ampdoc$jscomp$8$$.getHeadNode(),$JSCompiler_extensionId$jscomp$inline_234$$=$extensionId$$;return $extensionScriptsInNode$$module$src$element_service$$($JSCompiler_head$jscomp$inline_233$$).includes($JSCompiler_extensionId$jscomp$inline_234$$)})}
function $waitForExtensionIfPresent$$module$src$element_service$$($win$jscomp$25$$,$extension$jscomp$6$$,$head$jscomp$2$$){if(!$extensionScriptsInNode$$module$src$element_service$$($head$jscomp$2$$).includes($extension$jscomp$6$$))return Promise.resolve();var $extensions$$=$getService$$module$src$service$$($win$jscomp$25$$,"extensions");return $extensions$$.waitForExtension($win$jscomp$25$$,$extension$jscomp$6$$)}
function $getElementServicePromiseOrNull$$module$src$element_service$$($win$jscomp$26$$,$id$jscomp$34$$,$extension$jscomp$7$$,$opt_element$jscomp$11$$){return $waitForBodyPromise$$module$src$dom$$($win$jscomp$26$$.document).then(function(){return $waitForExtensionIfPresent$$module$src$element_service$$($win$jscomp$26$$,$extension$jscomp$7$$,$win$jscomp$26$$.document.head)}).then(function(){return $opt_element$jscomp$11$$?$getServicePromiseOrNullInternal$$module$src$service$$($win$jscomp$26$$,$id$jscomp$34$$):
$win$jscomp$26$$.ampExtendedElements&&$win$jscomp$26$$.ampExtendedElements[$extension$jscomp$7$$]?$getServicePromiseInternal$$module$src$service$$($win$jscomp$26$$,$id$jscomp$34$$):null})};function $Services$$module$src$services$ampdocServiceFor$$($window$jscomp$1$$){return $getService$$module$src$service$$($window$jscomp$1$$,"ampdoc")}function $Services$$module$src$services$documentInfoForDoc$$($elementOrAmpDoc$jscomp$6$$){return $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$6$$,"documentInfo").get()}function $Services$$module$src$services$platformFor$$($window$jscomp$8$$){return $getService$$module$src$service$$($window$jscomp$8$$,"platform")}
function $Services$$module$src$services$timerFor$$($window$jscomp$10$$){return $getService$$module$src$service$$($window$jscomp$10$$,"timer")}function $Services$$module$src$services$viewerForDoc$$($elementOrAmpDoc$jscomp$15$$){return $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$15$$,"viewer")}function $Services$$module$src$services$vsyncFor$$($window$jscomp$11$$){return $getService$$module$src$service$$($window$jscomp$11$$,"vsync")}
function $Services$$module$src$services$viewportForDoc$$($elementOrAmpDoc$jscomp$17$$){return $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$17$$,"viewport")};var $optsSupported$$module$src$event_helper_listen$$;
function $internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$65$$,$eventType$jscomp$3$$,$listener$jscomp$62$$,$opt_evtListenerOpts$$){var $localElement$$=$element$jscomp$65$$,$localListener$$=$listener$jscomp$62$$;var $wrapped$$=function($element$jscomp$65$$){try{return $localListener$$($element$jscomp$65$$)}catch($e$jscomp$16$$){throw self.reportError($e$jscomp$16$$),$e$jscomp$16$$;}};var $optsSupported$$=$detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(),$capture$$=
!1;$opt_evtListenerOpts$$&&($capture$$=$opt_evtListenerOpts$$.capture);$localElement$$.addEventListener($eventType$jscomp$3$$,$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$$);return function(){$localElement$$&&$localElement$$.removeEventListener($eventType$jscomp$3$$,$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$$);$wrapped$$=$localElement$$=$localListener$$=null}}
function $detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(){if(void 0!==$optsSupported$$module$src$event_helper_listen$$)return $optsSupported$$module$src$event_helper_listen$$;$optsSupported$$module$src$event_helper_listen$$=!1;try{var $options$jscomp$14$$={get capture(){$optsSupported$$module$src$event_helper_listen$$=!0}};self.addEventListener("test-options",null,$options$jscomp$14$$);self.removeEventListener("test-options",null,$options$jscomp$14$$)}catch($err$jscomp$3$$){}return $optsSupported$$module$src$event_helper_listen$$}
;function $listen$$module$src$event_helper$$($element$jscomp$66$$,$eventType$jscomp$4$$,$listener$jscomp$63$$){return $internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$66$$,$eventType$jscomp$4$$,$listener$jscomp$63$$,{capture:!0,passive:!0})}
function $listenOnce$$module$src$event_helper$$($element$jscomp$67$$,$eventType$jscomp$5$$,$listener$jscomp$64$$){var $localListener$jscomp$1$$=$listener$jscomp$64$$,$unlisten$$=$internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$67$$,$eventType$jscomp$5$$,function($element$jscomp$67$$){try{$localListener$jscomp$1$$($element$jscomp$67$$)}finally{$localListener$jscomp$1$$=null,$unlisten$$()}},void 0);return $unlisten$$}
function $loadPromise$$module$src$event_helper$$($eleOrWindow$jscomp$1$$){var $unlistenLoad$$,$unlistenError$$;if($eleOrWindow$jscomp$1$$.complete||"complete"==$eleOrWindow$jscomp$1$$.readyState||$eleOrWindow$jscomp$1$$.document&&"complete"==$eleOrWindow$jscomp$1$$.document.readyState)return Promise.resolve($eleOrWindow$jscomp$1$$);var $loadingPromise$$=new Promise(function($loadingPromise$$,$reject$jscomp$4$$){var $resolve$jscomp$11$$=$eleOrWindow$jscomp$1$$.tagName;$unlistenLoad$$="AUDIO"===$resolve$jscomp$11$$||
"VIDEO"===$resolve$jscomp$11$$?$listenOnce$$module$src$event_helper$$($eleOrWindow$jscomp$1$$,"loadstart",$loadingPromise$$):$listenOnce$$module$src$event_helper$$($eleOrWindow$jscomp$1$$,"load",$loadingPromise$$);$resolve$jscomp$11$$&&($unlistenError$$=$listenOnce$$module$src$event_helper$$($eleOrWindow$jscomp$1$$,"error",$reject$jscomp$4$$))});return $loadingPromise$$.then(function(){$unlistenError$$&&$unlistenError$$();return $eleOrWindow$jscomp$1$$},function(){$unlistenLoad$$&&$unlistenLoad$$();
var $unlistenError$$=$eleOrWindow$jscomp$1$$;$unlistenError$$&&$unlistenError$$.src&&($unlistenError$$=$unlistenError$$.src);throw $user$$module$src$log$$().createError("Failed to load:",$unlistenError$$);})};function $LruCache$$module$src$utils$lru_cache$$(){var $capacity$$=100;this.$capacity_$=$capacity$$;this.$access_$=this.$size_$=0;this.$cache_$=Object.create(null)}$LruCache$$module$src$utils$lru_cache$$.prototype.has=function($key$jscomp$43$$){return!!this.$cache_$[$key$jscomp$43$$]};$LruCache$$module$src$utils$lru_cache$$.prototype.get=function($key$jscomp$44$$){var $cacheable$$=this.$cache_$[$key$jscomp$44$$];if($cacheable$$)return $cacheable$$.access=++this.$access_$,$cacheable$$.payload};
$LruCache$$module$src$utils$lru_cache$$.prototype.put=function($JSCompiler_cache$jscomp$inline_243_key$jscomp$45$$,$payload$$){this.has($JSCompiler_cache$jscomp$inline_243_key$jscomp$45$$)||this.$size_$++;this.$cache_$[$JSCompiler_cache$jscomp$inline_243_key$jscomp$45$$]={payload:$payload$$,access:this.$access_$};if(!(this.$size_$<=this.$capacity_$)){$dev$$module$src$log$$().warn("lru-cache","Trimming LRU cache");$JSCompiler_cache$jscomp$inline_243_key$jscomp$45$$=this.$cache_$;var $JSCompiler_oldest$jscomp$inline_244$$=
this.$access_$+1,$JSCompiler_key$jscomp$inline_246$$;for($JSCompiler_key$jscomp$inline_246$$ in $JSCompiler_cache$jscomp$inline_243_key$jscomp$45$$){var $JSCompiler_access$jscomp$inline_247$$=$JSCompiler_cache$jscomp$inline_243_key$jscomp$45$$[$JSCompiler_key$jscomp$inline_246$$].access;if($JSCompiler_access$jscomp$inline_247$$<$JSCompiler_oldest$jscomp$inline_244$$){$JSCompiler_oldest$jscomp$inline_244$$=$JSCompiler_access$jscomp$inline_247$$;var $JSCompiler_oldestKey$jscomp$inline_245$$=$JSCompiler_key$jscomp$inline_246$$}}void 0!==
$JSCompiler_oldestKey$jscomp$inline_245$$&&(delete $JSCompiler_cache$jscomp$inline_243_key$jscomp$45$$[$JSCompiler_oldestKey$jscomp$inline_245$$],this.$size_$--)}};var $env$$module$src$config$$=self.AMP_CONFIG||{},$urls$$module$src$config$$={thirdParty:$env$$module$src$config$$.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:$env$$module$src$config$$.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof $env$$module$src$config$$.thirdPartyFrameRegex?new RegExp($env$$module$src$config$$.thirdPartyFrameRegex):$env$$module$src$config$$.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:$env$$module$src$config$$.cdnUrl||
"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof $env$$module$src$config$$.cdnProxyRegex?new RegExp($env$$module$src$config$$.cdnProxyRegex):$env$$module$src$config$$.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:$env$$module$src$config$$.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:$env$$module$src$config$$.localDev||!1};var $SERVING_TYPE_PREFIX$$module$src$url$$=$dict$$module$src$utils$object$$({c:!0,v:!0,a:!0,ad:!0,action:!0}),$a$$module$src$url$$,$cache$$module$src$url$$,$AMP_JS_PARAMS_REGEX$$module$src$url$$=/[?&]amp_js[^&]*/,$AMP_GSA_PARAMS_REGEX$$module$src$url$$=/[?&]amp_gsa[^&]*/,$AMP_R_PARAMS_REGEX$$module$src$url$$=/[?&]amp_r[^&]*/,$AMP_KIT_PARAMS_REGEX$$module$src$url$$=/[?&]amp_kit[^&]*/,$GOOGLE_EXPERIMENT_PARAMS_REGEX$$module$src$url$$=/[?&]usqp[^&]*/,$INVALID_PROTOCOLS$$module$src$url$$=["javascript:",
"data:","vbscript:"];function $parseUrlDeprecated$$module$src$url$$($url$jscomp$22$$,$opt_nocache$$){$a$$module$src$url$$||($a$$module$src$url$$=self.document.createElement("a"),$cache$$module$src$url$$=self.UrlCache||(self.UrlCache=new $LruCache$$module$src$utils$lru_cache$$));return $parseUrlWithA$$module$src$url$$($a$$module$src$url$$,$url$jscomp$22$$,$opt_nocache$$?null:$cache$$module$src$url$$)}
function $parseUrlWithA$$module$src$url$$($a$jscomp$1$$,$url$jscomp$23$$,$opt_cache$$){if($opt_cache$$&&$opt_cache$$.has($url$jscomp$23$$))return $opt_cache$$.get($url$jscomp$23$$);$a$jscomp$1$$.href=$url$jscomp$23$$;$a$jscomp$1$$.protocol||($a$jscomp$1$$.href=$a$jscomp$1$$.href);var $info$$={href:$a$jscomp$1$$.href,protocol:$a$jscomp$1$$.protocol,host:$a$jscomp$1$$.host,hostname:$a$jscomp$1$$.hostname,port:"0"==$a$jscomp$1$$.port?"":$a$jscomp$1$$.port,pathname:$a$jscomp$1$$.pathname,search:$a$jscomp$1$$.search,
hash:$a$jscomp$1$$.hash,origin:null};"/"!==$info$$.pathname[0]&&($info$$.pathname="/"+$info$$.pathname);if("http:"==$info$$.protocol&&80==$info$$.port||"https:"==$info$$.protocol&&443==$info$$.port)$info$$.port="",$info$$.host=$info$$.hostname;$info$$.origin=$a$jscomp$1$$.origin&&"null"!=$a$jscomp$1$$.origin?$a$jscomp$1$$.origin:"data:"!=$info$$.protocol&&$info$$.host?$info$$.protocol+"//"+$info$$.host:$info$$.href;var $frozen$$=$getMode$$module$src$mode$$().test&&Object.freeze?Object.freeze($info$$):
$info$$;$opt_cache$$&&$opt_cache$$.put($url$jscomp$23$$,$frozen$$);return $frozen$$}
function $appendEncodedParamStringToUrl$$module$src$url$$($url$jscomp$24$$,$paramString$$,$opt_addToFront$$){if(!$paramString$$)return $url$jscomp$24$$;var $mainAndFragment$$=$url$jscomp$24$$.split("#",2),$mainAndQuery$$=$mainAndFragment$$[0].split("?",2),$newUrl$$=$mainAndQuery$$[0]+($mainAndQuery$$[1]?$opt_addToFront$$?"?"+$paramString$$+"&"+$mainAndQuery$$[1]:"?"+$mainAndQuery$$[1]+"&"+$paramString$$:"?"+$paramString$$);return $newUrl$$+=$mainAndFragment$$[1]?"#"+$mainAndFragment$$[1]:""}
function $addParamsToUrl$$module$src$url$$($url$jscomp$26$$,$params$jscomp$3$$){return $appendEncodedParamStringToUrl$$module$src$url$$($url$jscomp$26$$,$serializeQueryString$$module$src$url$$($params$jscomp$3$$))}
function $serializeQueryString$$module$src$url$$($params$jscomp$5$$){var $s$jscomp$17$$=[],$k$jscomp$4$$;for($k$jscomp$4$$ in $params$jscomp$5$$){var $v$$=$params$jscomp$5$$[$k$jscomp$4$$];if(null!=$v$$)if(Array.isArray($v$$))for(var $i$jscomp$15_sv$9$$=0;$i$jscomp$15_sv$9$$<$v$$.length;$i$jscomp$15_sv$9$$++){var $sv$$=$v$$[$i$jscomp$15_sv$9$$];$s$jscomp$17$$.push(encodeURIComponent($k$jscomp$4$$)+"="+encodeURIComponent($sv$$))}else $i$jscomp$15_sv$9$$=$v$$,$s$jscomp$17$$.push(encodeURIComponent($k$jscomp$4$$)+
"="+encodeURIComponent($i$jscomp$15_sv$9$$))}return $s$jscomp$17$$.join("&")}function $isSecureUrlDeprecated$$module$src$url$$($url$jscomp$28$$){"string"==typeof $url$jscomp$28$$&&($url$jscomp$28$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$28$$));return"https:"==$url$jscomp$28$$.protocol||"localhost"==$url$jscomp$28$$.hostname||"127.0.0.1"==$url$jscomp$28$$.hostname||$endsWith$$module$src$string$$($url$jscomp$28$$.hostname,".localhost")}
function $assertHttpsUrl$$module$src$url$$($urlString$jscomp$1$$,$elementContext$$,$sourceName$$){$sourceName$$=void 0===$sourceName$$?"source":$sourceName$$;$userAssert$$module$src$log$$(null!=$urlString$jscomp$1$$,"%s %s must be available",$elementContext$$,$sourceName$$);var $theUrlString$$=$urlString$jscomp$1$$;$userAssert$$module$src$log$$($isSecureUrlDeprecated$$module$src$url$$($theUrlString$$)||/^(\/\/)/.test($theUrlString$$),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',
$elementContext$$,$sourceName$$,$theUrlString$$);return $theUrlString$$}function $removeFragment$$module$src$url$$($url$jscomp$29$$){var $index$jscomp$69$$=$url$jscomp$29$$.indexOf("#");return-1==$index$jscomp$69$$?$url$jscomp$29$$:$url$jscomp$29$$.substring(0,$index$jscomp$69$$)}
function $isProxyOrigin$$module$src$url$$($url$jscomp$31$$){"string"==typeof $url$jscomp$31$$&&($url$jscomp$31$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$31$$));return $urls$$module$src$config$$.cdnProxyRegex.test($url$jscomp$31$$.origin)}
function $isProtocolValid$$module$src$url$$($url$jscomp$34$$){if(!$url$jscomp$34$$)return!0;"string"==typeof $url$jscomp$34$$&&($url$jscomp$34$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$34$$));return!$INVALID_PROTOCOLS$$module$src$url$$.includes($url$jscomp$34$$.protocol)}
function $removeAmpJsParamsFromUrl$$module$src$url$$($url$jscomp$35$$){var $parsed$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$35$$),$search$$=$removeAmpJsParamsFromSearch$$module$src$url$$($parsed$$.search);return $parsed$$.origin+$parsed$$.pathname+$search$$+$parsed$$.hash}
function $removeAmpJsParamsFromSearch$$module$src$url$$($urlSearch$$){if(!$urlSearch$$||"?"==$urlSearch$$)return"";var $search$jscomp$1$$=$urlSearch$$.replace($AMP_JS_PARAMS_REGEX$$module$src$url$$,"").replace($AMP_GSA_PARAMS_REGEX$$module$src$url$$,"").replace($AMP_R_PARAMS_REGEX$$module$src$url$$,"").replace($AMP_KIT_PARAMS_REGEX$$module$src$url$$,"").replace($GOOGLE_EXPERIMENT_PARAMS_REGEX$$module$src$url$$,"").replace(/^[?&]/,"");return $search$jscomp$1$$?"?"+$search$jscomp$1$$:""}
function $getSourceUrl$$module$src$url$$($url$jscomp$37$$){"string"==typeof $url$jscomp$37$$&&($url$jscomp$37$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$37$$));if(!$isProxyOrigin$$module$src$url$$($url$jscomp$37$$))return $url$jscomp$37$$.href;var $path$jscomp$4$$=$url$jscomp$37$$.pathname.split("/");$userAssert$$module$src$log$$($SERVING_TYPE_PREFIX$$module$src$url$$[$path$jscomp$4$$[1]],"Unknown path prefix in url %s",$url$jscomp$37$$.href);var $domainOrHttpsSignal$$=$path$jscomp$4$$[2],
$origin$$="s"==$domainOrHttpsSignal$$?"https://"+decodeURIComponent($path$jscomp$4$$[3]):"http://"+decodeURIComponent($domainOrHttpsSignal$$);$userAssert$$module$src$log$$(0<$origin$$.indexOf("."),"Expected a . in origin %s",$origin$$);$path$jscomp$4$$.splice(1,"s"==$domainOrHttpsSignal$$?3:2);return $origin$$+$path$jscomp$4$$.join("/")+$removeAmpJsParamsFromSearch$$module$src$url$$($url$jscomp$37$$.search)+($url$jscomp$37$$.hash||"")}
function $getSourceOrigin$$module$src$url$$($url$jscomp$38$$){return $parseUrlDeprecated$$module$src$url$$($getSourceUrl$$module$src$url$$($url$jscomp$38$$)).origin}
function $checkCorsUrl$$module$src$url$$($url$jscomp$40$$){var $parsedUrl$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$40$$),$query$jscomp$12$$=$parseQueryString_$$module$src$url_parse_query_string$$($parsedUrl$$.search);$userAssert$$module$src$log$$(!("__amp_source_origin"in $query$jscomp$12$$),"Source origin is not allowed in %s",$url$jscomp$40$$)};function $getCookie$$module$src$cookies$$($i$jscomp$16_win$jscomp$46$$,$name$jscomp$75_value$jscomp$101$$){try{var $JSCompiler_inline_result$jscomp$130$$=$i$jscomp$16_win$jscomp$46$$.document.cookie}catch($JSCompiler_e$jscomp$inline_250$$){$JSCompiler_inline_result$jscomp$130$$=""}var $cookieString$$=$JSCompiler_inline_result$jscomp$130$$;if(!$cookieString$$)return null;var $cookies$$=$cookieString$$.split(";");for($i$jscomp$16_win$jscomp$46$$=0;$i$jscomp$16_win$jscomp$46$$<$cookies$$.length;$i$jscomp$16_win$jscomp$46$$++){var $cookie$$=
$cookies$$[$i$jscomp$16_win$jscomp$46$$].trim(),$eq$$=$cookie$$.indexOf("=");if(-1!=$eq$$&&$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($cookie$$.substring(0,$eq$$).trim(),void 0)==$name$jscomp$75_value$jscomp$101$$)return $name$jscomp$75_value$jscomp$101$$=$cookie$$.substring($eq$$+1).trim(),$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($name$jscomp$75_value$jscomp$101$$,$name$jscomp$75_value$jscomp$101$$)}return null}
function $setCookie$$module$src$cookies$$($win$jscomp$48$$,$name$jscomp$76$$,$value$jscomp$102$$,$expirationTime$$){var $opt_options$jscomp$87$$={highestAvailableDomain:!0};if(!$opt_options$jscomp$87$$||!$opt_options$jscomp$87$$.allowOnProxyOrigin){if($isProxyOrigin$$module$src$url$$($win$jscomp$48$$.location.href))throw Error("Should never attempt to set cookie on proxy origin: "+$name$jscomp$76$$);var $JSCompiler_current$jscomp$inline_255_domain$10_domain$jscomp$2$$=$parseUrlDeprecated$$module$src$url$$($win$jscomp$48$$.location.href).hostname.toLowerCase(),
$JSCompiler_proxy$jscomp$inline_256_i$jscomp$17$$=$parseUrlDeprecated$$module$src$url$$($urls$$module$src$config$$.cdn).hostname.toLowerCase();if($JSCompiler_current$jscomp$inline_255_domain$10_domain$jscomp$2$$==$JSCompiler_proxy$jscomp$inline_256_i$jscomp$17$$||$endsWith$$module$src$string$$($JSCompiler_current$jscomp$inline_255_domain$10_domain$jscomp$2$$,"."+$JSCompiler_proxy$jscomp$inline_256_i$jscomp$17$$))throw Error("Should never attempt to set cookie on proxy origin. (in depth check): "+
$name$jscomp$76$$);}if($opt_options$jscomp$87$$&&$opt_options$jscomp$87$$.highestAvailableDomain){var $parts$$=$win$jscomp$48$$.location.hostname.split(".");$JSCompiler_current$jscomp$inline_255_domain$10_domain$jscomp$2$$=$parts$$[$parts$$.length-1];for($JSCompiler_proxy$jscomp$inline_256_i$jscomp$17$$=$parts$$.length-2;0<=$JSCompiler_proxy$jscomp$inline_256_i$jscomp$17$$;$JSCompiler_proxy$jscomp$inline_256_i$jscomp$17$$--)if($JSCompiler_current$jscomp$inline_255_domain$10_domain$jscomp$2$$=$parts$$[$JSCompiler_proxy$jscomp$inline_256_i$jscomp$17$$]+
"."+$JSCompiler_current$jscomp$inline_255_domain$10_domain$jscomp$2$$,$trySetCookie$$module$src$cookies$$($win$jscomp$48$$,$name$jscomp$76$$,$value$jscomp$102$$,$expirationTime$$,$JSCompiler_current$jscomp$inline_255_domain$10_domain$jscomp$2$$),$getCookie$$module$src$cookies$$($win$jscomp$48$$,$name$jscomp$76$$)==$value$jscomp$102$$)return}$JSCompiler_current$jscomp$inline_255_domain$10_domain$jscomp$2$$=void 0;$opt_options$jscomp$87$$&&$opt_options$jscomp$87$$.domain&&($JSCompiler_current$jscomp$inline_255_domain$10_domain$jscomp$2$$=
$opt_options$jscomp$87$$.domain);$trySetCookie$$module$src$cookies$$($win$jscomp$48$$,$name$jscomp$76$$,$value$jscomp$102$$,$expirationTime$$,$JSCompiler_current$jscomp$inline_255_domain$10_domain$jscomp$2$$)}
function $trySetCookie$$module$src$cookies$$($win$jscomp$49$$,$cookie$jscomp$1_name$jscomp$77$$,$value$jscomp$103$$,$expirationTime$jscomp$1$$,$domain$jscomp$3$$){"ampproject.org"==$domain$jscomp$3$$&&($value$jscomp$103$$="delete",$expirationTime$jscomp$1$$=0);$cookie$jscomp$1_name$jscomp$77$$=encodeURIComponent($cookie$jscomp$1_name$jscomp$77$$)+"="+encodeURIComponent($value$jscomp$103$$)+"; path=/"+($domain$jscomp$3$$?"; domain="+$domain$jscomp$3$$:"")+"; expires="+(new Date($expirationTime$jscomp$1$$)).toUTCString();
try{$win$jscomp$49$$.document.cookie=$cookie$jscomp$1_name$jscomp$77$$}catch($ignore$$){}};function $isExperimentOn$$module$src$experiments$$($JSCompiler_params$jscomp$inline_267_win$jscomp$53$$,$experimentId$$){if($JSCompiler_params$jscomp$inline_267_win$jscomp$53$$.__AMP__EXPERIMENT_TOGGLES)var $JSCompiler_inline_result$jscomp$133_JSCompiler_toggles$jscomp$inline_259$$=$JSCompiler_params$jscomp$inline_267_win$jscomp$53$$.__AMP__EXPERIMENT_TOGGLES;else{$JSCompiler_params$jscomp$inline_267_win$jscomp$53$$.__AMP__EXPERIMENT_TOGGLES=Object.create(null);$JSCompiler_inline_result$jscomp$133_JSCompiler_toggles$jscomp$inline_259$$=
$JSCompiler_params$jscomp$inline_267_win$jscomp$53$$.__AMP__EXPERIMENT_TOGGLES;if($JSCompiler_params$jscomp$inline_267_win$jscomp$53$$.AMP_CONFIG)for(var $JSCompiler_allowed$jscomp$inline_262_JSCompiler_experimentId$jscomp$inline_260_allowed$11$jscomp$inline_266$$ in $JSCompiler_params$jscomp$inline_267_win$jscomp$53$$.AMP_CONFIG){var $JSCompiler_frequency$jscomp$inline_261_JSCompiler_meta$jscomp$inline_263_JSCompiler_optedInExperiments$jscomp$inline_264_i$12$jscomp$inline_268$$=$JSCompiler_params$jscomp$inline_267_win$jscomp$53$$.AMP_CONFIG[$JSCompiler_allowed$jscomp$inline_262_JSCompiler_experimentId$jscomp$inline_260_allowed$11$jscomp$inline_266$$];
"number"===typeof $JSCompiler_frequency$jscomp$inline_261_JSCompiler_meta$jscomp$inline_263_JSCompiler_optedInExperiments$jscomp$inline_264_i$12$jscomp$inline_268$$&&0<=$JSCompiler_frequency$jscomp$inline_261_JSCompiler_meta$jscomp$inline_263_JSCompiler_optedInExperiments$jscomp$inline_264_i$12$jscomp$inline_268$$&&1>=$JSCompiler_frequency$jscomp$inline_261_JSCompiler_meta$jscomp$inline_263_JSCompiler_optedInExperiments$jscomp$inline_264_i$12$jscomp$inline_268$$&&($JSCompiler_inline_result$jscomp$133_JSCompiler_toggles$jscomp$inline_259$$[$JSCompiler_allowed$jscomp$inline_262_JSCompiler_experimentId$jscomp$inline_260_allowed$11$jscomp$inline_266$$]=
Math.random()<$JSCompiler_frequency$jscomp$inline_261_JSCompiler_meta$jscomp$inline_263_JSCompiler_optedInExperiments$jscomp$inline_264_i$12$jscomp$inline_268$$)}if($JSCompiler_params$jscomp$inline_267_win$jscomp$53$$.AMP_CONFIG&&Array.isArray($JSCompiler_params$jscomp$inline_267_win$jscomp$53$$.AMP_CONFIG["allow-doc-opt-in"])&&0<$JSCompiler_params$jscomp$inline_267_win$jscomp$53$$.AMP_CONFIG["allow-doc-opt-in"].length&&($JSCompiler_allowed$jscomp$inline_262_JSCompiler_experimentId$jscomp$inline_260_allowed$11$jscomp$inline_266$$=
$JSCompiler_params$jscomp$inline_267_win$jscomp$53$$.AMP_CONFIG["allow-doc-opt-in"],$JSCompiler_frequency$jscomp$inline_261_JSCompiler_meta$jscomp$inline_263_JSCompiler_optedInExperiments$jscomp$inline_264_i$12$jscomp$inline_268$$=$JSCompiler_params$jscomp$inline_267_win$jscomp$53$$.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){$JSCompiler_frequency$jscomp$inline_261_JSCompiler_meta$jscomp$inline_263_JSCompiler_optedInExperiments$jscomp$inline_264_i$12$jscomp$inline_268$$=$JSCompiler_frequency$jscomp$inline_261_JSCompiler_meta$jscomp$inline_263_JSCompiler_optedInExperiments$jscomp$inline_264_i$12$jscomp$inline_268$$.getAttribute("content").split(",");
for(var $JSCompiler_i$jscomp$inline_265_JSCompiler_param$jscomp$inline_269$$=0;$JSCompiler_i$jscomp$inline_265_JSCompiler_param$jscomp$inline_269$$<$JSCompiler_frequency$jscomp$inline_261_JSCompiler_meta$jscomp$inline_263_JSCompiler_optedInExperiments$jscomp$inline_264_i$12$jscomp$inline_268$$.length;$JSCompiler_i$jscomp$inline_265_JSCompiler_param$jscomp$inline_269$$++)-1!=$JSCompiler_allowed$jscomp$inline_262_JSCompiler_experimentId$jscomp$inline_260_allowed$11$jscomp$inline_266$$.indexOf($JSCompiler_frequency$jscomp$inline_261_JSCompiler_meta$jscomp$inline_263_JSCompiler_optedInExperiments$jscomp$inline_264_i$12$jscomp$inline_268$$[$JSCompiler_i$jscomp$inline_265_JSCompiler_param$jscomp$inline_269$$])&&
($JSCompiler_inline_result$jscomp$133_JSCompiler_toggles$jscomp$inline_259$$[$JSCompiler_frequency$jscomp$inline_261_JSCompiler_meta$jscomp$inline_263_JSCompiler_optedInExperiments$jscomp$inline_264_i$12$jscomp$inline_268$$[$JSCompiler_i$jscomp$inline_265_JSCompiler_param$jscomp$inline_269$$]]=!0)}Object.assign($JSCompiler_inline_result$jscomp$133_JSCompiler_toggles$jscomp$inline_259$$,$getExperimentTogglesFromCookie$$module$src$experiments$$($JSCompiler_params$jscomp$inline_267_win$jscomp$53$$));
if($JSCompiler_params$jscomp$inline_267_win$jscomp$53$$.AMP_CONFIG&&Array.isArray($JSCompiler_params$jscomp$inline_267_win$jscomp$53$$.AMP_CONFIG["allow-url-opt-in"])&&0<$JSCompiler_params$jscomp$inline_267_win$jscomp$53$$.AMP_CONFIG["allow-url-opt-in"].length)for($JSCompiler_allowed$jscomp$inline_262_JSCompiler_experimentId$jscomp$inline_260_allowed$11$jscomp$inline_266$$=$JSCompiler_params$jscomp$inline_267_win$jscomp$53$$.AMP_CONFIG["allow-url-opt-in"],$JSCompiler_params$jscomp$inline_267_win$jscomp$53$$=
$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_params$jscomp$inline_267_win$jscomp$53$$.location.originalHash||$JSCompiler_params$jscomp$inline_267_win$jscomp$53$$.location.hash),$JSCompiler_frequency$jscomp$inline_261_JSCompiler_meta$jscomp$inline_263_JSCompiler_optedInExperiments$jscomp$inline_264_i$12$jscomp$inline_268$$=0;$JSCompiler_frequency$jscomp$inline_261_JSCompiler_meta$jscomp$inline_263_JSCompiler_optedInExperiments$jscomp$inline_264_i$12$jscomp$inline_268$$<$JSCompiler_allowed$jscomp$inline_262_JSCompiler_experimentId$jscomp$inline_260_allowed$11$jscomp$inline_266$$.length;$JSCompiler_frequency$jscomp$inline_261_JSCompiler_meta$jscomp$inline_263_JSCompiler_optedInExperiments$jscomp$inline_264_i$12$jscomp$inline_268$$++)$JSCompiler_i$jscomp$inline_265_JSCompiler_param$jscomp$inline_269$$=
$JSCompiler_params$jscomp$inline_267_win$jscomp$53$$["e-"+$JSCompiler_allowed$jscomp$inline_262_JSCompiler_experimentId$jscomp$inline_260_allowed$11$jscomp$inline_266$$[$JSCompiler_frequency$jscomp$inline_261_JSCompiler_meta$jscomp$inline_263_JSCompiler_optedInExperiments$jscomp$inline_264_i$12$jscomp$inline_268$$]],"1"==$JSCompiler_i$jscomp$inline_265_JSCompiler_param$jscomp$inline_269$$&&($JSCompiler_inline_result$jscomp$133_JSCompiler_toggles$jscomp$inline_259$$[$JSCompiler_allowed$jscomp$inline_262_JSCompiler_experimentId$jscomp$inline_260_allowed$11$jscomp$inline_266$$[$JSCompiler_frequency$jscomp$inline_261_JSCompiler_meta$jscomp$inline_263_JSCompiler_optedInExperiments$jscomp$inline_264_i$12$jscomp$inline_268$$]]=
!0),"0"==$JSCompiler_i$jscomp$inline_265_JSCompiler_param$jscomp$inline_269$$&&($JSCompiler_inline_result$jscomp$133_JSCompiler_toggles$jscomp$inline_259$$[$JSCompiler_allowed$jscomp$inline_262_JSCompiler_experimentId$jscomp$inline_260_allowed$11$jscomp$inline_266$$[$JSCompiler_frequency$jscomp$inline_261_JSCompiler_meta$jscomp$inline_263_JSCompiler_optedInExperiments$jscomp$inline_264_i$12$jscomp$inline_268$$]]=!1)}var $toggles$$=$JSCompiler_inline_result$jscomp$133_JSCompiler_toggles$jscomp$inline_259$$;
return!!$toggles$$[$experimentId$$]}
function $getExperimentTogglesFromCookie$$module$src$experiments$$($toggles$jscomp$3_win$jscomp$57$$){var $experimentCookie$$=$getCookie$$module$src$cookies$$($toggles$jscomp$3_win$jscomp$57$$,"AMP_EXP"),$tokens$$=$experimentCookie$$?$experimentCookie$$.split(/\s*,\s*/g):[];$toggles$jscomp$3_win$jscomp$57$$=Object.create(null);for(var $i$jscomp$19$$=0;$i$jscomp$19$$<$tokens$$.length;$i$jscomp$19$$++)0!=$tokens$$[$i$jscomp$19$$].length&&("-"==$tokens$$[$i$jscomp$19$$][0]?$toggles$jscomp$3_win$jscomp$57$$[$tokens$$[$i$jscomp$19$$].substr(1)]=
!1:$toggles$jscomp$3_win$jscomp$57$$[$tokens$$[$i$jscomp$19$$]]=!0);return $toggles$jscomp$3_win$jscomp$57$$};var $VisibilityState$$module$src$visibility_state$$={PRERENDER:"prerender",VISIBLE:"visible",HIDDEN:"hidden",PAUSED:"paused",INACTIVE:"inactive"};/*

 Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 Use of this source code is governed by a BSD-style
 license that can be found in the LICENSE file or at
 https://developers.google.com/open-source/licenses/bsd


*/
var $ShadowCSS$$module$third_party$webcomponentsjs$ShadowCSS$$={strictStyling:!1,scopeRules:function($cssRules$$,$scopeSelector$$,$opt_transformer$$){var $cssText$$="";$cssRules$$&&Array.prototype.forEach.call($cssRules$$,function($cssRules$$){if($cssRules$$.selectorText&&$cssRules$$.style&&void 0!==$cssRules$$.style.cssText)$cssText$$+=this.scopeSelector($cssRules$$.selectorText,$scopeSelector$$,this.strictStyling,$opt_transformer$$)+" {\n\t",$cssText$$+=this.propertiesFromRule($cssRules$$)+"\n}\n\n";
else if($cssRules$$.type===CSSRule.MEDIA_RULE)$cssText$$+="@media "+$cssRules$$.media.mediaText+" {\n",$cssText$$+=this.scopeRules($cssRules$$.cssRules,$scopeSelector$$),$cssText$$+="\n}\n\n";else try{$cssRules$$.cssText&&($cssText$$+=$cssRules$$.cssText+"\n\n")}catch($x$jscomp$85$$){$cssRules$$.type===CSSRule.KEYFRAMES_RULE&&$cssRules$$.cssRules&&($cssText$$+=this.ieSafeCssTextFromKeyFrameRule($cssRules$$))}},this);return $cssText$$},ieSafeCssTextFromKeyFrameRule:function($rule$jscomp$4$$){var $cssText$jscomp$1$$=
"@keyframes "+$rule$jscomp$4$$.name+" {";Array.prototype.forEach.call($rule$jscomp$4$$.cssRules,function($rule$jscomp$4$$){$cssText$jscomp$1$$+=" "+$rule$jscomp$4$$.keyText+" {"+$rule$jscomp$4$$.style.cssText+"}"});return $cssText$jscomp$1$$+=" }"},scopeSelector:function($selector$jscomp$7$$,$scopeSelector$jscomp$1$$,$strict$$,$opt_transformer$jscomp$1$$){var $r$jscomp$1$$=[];$selector$jscomp$7$$.split(",").forEach(function($selector$jscomp$7$$){$selector$jscomp$7$$=$selector$jscomp$7$$.trim();$opt_transformer$jscomp$1$$&&
($selector$jscomp$7$$=$opt_transformer$jscomp$1$$($selector$jscomp$7$$));this.selectorNeedsScoping($selector$jscomp$7$$,$scopeSelector$jscomp$1$$)&&($selector$jscomp$7$$=$strict$$&&!$selector$jscomp$7$$.match($polyfillHostNoCombinator$$module$third_party$webcomponentsjs$ShadowCSS$$)?this.applyStrictSelectorScope($selector$jscomp$7$$,$scopeSelector$jscomp$1$$):this.applySelectorScope($selector$jscomp$7$$,$scopeSelector$jscomp$1$$));$r$jscomp$1$$.push($selector$jscomp$7$$)},this);return $r$jscomp$1$$.join(", ")},
selectorNeedsScoping:function($selector$jscomp$8$$,$scopeSelector$jscomp$2$$){if(Array.isArray($scopeSelector$jscomp$2$$))return!0;var $re$$=this.makeScopeMatcher($scopeSelector$jscomp$2$$);return!$selector$jscomp$8$$.match($re$$)},makeScopeMatcher:function($scopeSelector$jscomp$3$$){$scopeSelector$jscomp$3$$=$scopeSelector$jscomp$3$$.replace(/\[/g,"\\[").replace(/\]/g,"\\]");return new RegExp("^("+$scopeSelector$jscomp$3$$+")"+$selectorReSuffix$$module$third_party$webcomponentsjs$ShadowCSS$$,"m")},
applySelectorScope:function($selector$jscomp$9$$,$selectorScope$$){return Array.isArray($selectorScope$$)?this.applySelectorScopeList($selector$jscomp$9$$,$selectorScope$$):this.applySimpleSelectorScope($selector$jscomp$9$$,$selectorScope$$)},applySelectorScopeList:function($selector$jscomp$10$$,$scopeSelectorList$$){for(var $r$jscomp$2$$=[],$i$jscomp$21$$=0,$s$jscomp$18$$;$s$jscomp$18$$=$scopeSelectorList$$[$i$jscomp$21$$];$i$jscomp$21$$++)$r$jscomp$2$$.push(this.applySimpleSelectorScope($selector$jscomp$10$$,
$s$jscomp$18$$));return $r$jscomp$2$$.join(", ")},applySimpleSelectorScope:function($selector$jscomp$11$$,$scopeSelector$jscomp$4$$){return $selector$jscomp$11$$.match($polyfillHostRe$$module$third_party$webcomponentsjs$ShadowCSS$$)?($selector$jscomp$11$$=$selector$jscomp$11$$.replace($polyfillHostNoCombinator$$module$third_party$webcomponentsjs$ShadowCSS$$,$scopeSelector$jscomp$4$$),$selector$jscomp$11$$.replace($polyfillHostRe$$module$third_party$webcomponentsjs$ShadowCSS$$,$scopeSelector$jscomp$4$$+
" ")):$scopeSelector$jscomp$4$$+" "+$selector$jscomp$11$$},applyStrictSelectorScope:function($selector$jscomp$12$$,$scopeSelector$jscomp$5$$){$scopeSelector$jscomp$5$$=$scopeSelector$jscomp$5$$.replace(/\[is=([^\]]*)\]/g,"$1");var $splits$$=[" ",">","+","~"],$scoped$$=$selector$jscomp$12$$,$attrName$$="["+$scopeSelector$jscomp$5$$+"]";$splits$$.forEach(function($selector$jscomp$12$$){$scoped$$=$scoped$$.split($selector$jscomp$12$$).map(function($selector$jscomp$12$$){var $scopeSelector$jscomp$5$$=
$selector$jscomp$12$$.trim().replace($polyfillHostRe$$module$third_party$webcomponentsjs$ShadowCSS$$,"");$scopeSelector$jscomp$5$$&&0>$splits$$.indexOf($scopeSelector$jscomp$5$$)&&0>$scopeSelector$jscomp$5$$.indexOf($attrName$$)&&($selector$jscomp$12$$=$scopeSelector$jscomp$5$$.replace(/([^:]*)(:*)(.*)/,"$1"+$attrName$$+"$2$3"));return $selector$jscomp$12$$}).join($selector$jscomp$12$$)});return $scoped$$},propertiesFromRule:function($rule$jscomp$6_style$jscomp$6$$){var $cssText$jscomp$2$$=$rule$jscomp$6_style$jscomp$6$$.style.cssText;
$rule$jscomp$6_style$jscomp$6$$.style.content&&!$rule$jscomp$6_style$jscomp$6$$.style.content.match(/['"]+|attr/)&&($cssText$jscomp$2$$=$cssText$jscomp$2$$.replace(/content:[^;]*;/g,"content: '"+$rule$jscomp$6_style$jscomp$6$$.style.content+"';"));$rule$jscomp$6_style$jscomp$6$$=$rule$jscomp$6_style$jscomp$6$$.style;for(var $i$jscomp$22$$ in $rule$jscomp$6_style$jscomp$6$$)"initial"===$rule$jscomp$6_style$jscomp$6$$[$i$jscomp$22$$]&&($cssText$jscomp$2$$+=$i$jscomp$22$$+": initial; ");return $cssText$jscomp$2$$}},
$selectorReSuffix$$module$third_party$webcomponentsjs$ShadowCSS$$="([>\\s~+[.,{:][\\s\\S]*)?$",$polyfillHostNoCombinator$$module$third_party$webcomponentsjs$ShadowCSS$$="-shadowcsshost-no-combinator",$polyfillHostRe$$module$third_party$webcomponentsjs$ShadowCSS$$=/-shadowcsshost/gim;var $shadowDomSupportedVersion$$module$src$web_components$$,$shadowCssSupported$$module$src$web_components$$;
function $isShadowCssSupported$$module$src$web_components$$(){void 0===$shadowCssSupported$$module$src$web_components$$&&($shadowCssSupported$$module$src$web_components$$="none"!=$getShadowDomSupportedVersion$$module$src$web_components$$()&&($isNative$$module$src$web_components$$(Element.prototype.attachShadow)||$isNative$$module$src$web_components$$(Element.prototype.createShadowRoot)));return $shadowCssSupported$$module$src$web_components$$}
function $isNative$$module$src$web_components$$($func$jscomp$3$$){return!!$func$jscomp$3$$&&-1!=$func$jscomp$3$$.toString().indexOf("[native code]")}
function $getShadowDomSupportedVersion$$module$src$web_components$$(){var $opt_elementClass$$;if(void 0===$shadowDomSupportedVersion$$module$src$web_components$$){var $JSCompiler_element$jscomp$inline_271$$=$opt_elementClass$$||Element;$shadowDomSupportedVersion$$module$src$web_components$$=$JSCompiler_element$jscomp$inline_271$$.prototype.attachShadow?"v1":$JSCompiler_element$jscomp$inline_271$$.prototype.createShadowRoot?"v0":"none"}return $shadowDomSupportedVersion$$module$src$web_components$$}
;function $installStylesForDoc$$module$src$style_installer$$($JSCompiler_styleMap$jscomp$inline_662_JSCompiler_transformer$jscomp$inline_656_ampdoc$jscomp$10$$,$JSCompiler_cssRoot$jscomp$inline_658_cssText$jscomp$3$$,$opt_isRuntimeCss$$,$opt_ext$$){var $cssRoot$$=$JSCompiler_styleMap$jscomp$inline_662_JSCompiler_transformer$jscomp$inline_656_ampdoc$jscomp$10$$.getHeadNode();var $JSCompiler_afterElement$jscomp$inline_667_JSCompiler_inline_result$jscomp$636$$=($JSCompiler_styleMap$jscomp$inline_662_JSCompiler_transformer$jscomp$inline_656_ampdoc$jscomp$10$$=
$cssRoot$$.__AMP_CSS_TR)?$JSCompiler_styleMap$jscomp$inline_662_JSCompiler_transformer$jscomp$inline_656_ampdoc$jscomp$10$$($JSCompiler_cssRoot$jscomp$inline_658_cssText$jscomp$3$$):$JSCompiler_cssRoot$jscomp$inline_658_cssText$jscomp$3$$;a:{$JSCompiler_cssRoot$jscomp$inline_658_cssText$jscomp$3$$=$cssRoot$$;var $JSCompiler_after$jscomp$inline_668_JSCompiler_isRuntimeCss$jscomp$inline_660$$=$opt_isRuntimeCss$$||!1,$JSCompiler_ext$jscomp$inline_661$$=$opt_ext$$||null;($JSCompiler_styleMap$jscomp$inline_662_JSCompiler_transformer$jscomp$inline_656_ampdoc$jscomp$10$$=
$JSCompiler_cssRoot$jscomp$inline_658_cssText$jscomp$3$$.__AMP_CSS_SM)||($JSCompiler_styleMap$jscomp$inline_662_JSCompiler_transformer$jscomp$inline_656_ampdoc$jscomp$10$$=$JSCompiler_cssRoot$jscomp$inline_658_cssText$jscomp$3$$.__AMP_CSS_SM=$map$$module$src$utils$object$$());var $JSCompiler_isExtCss$jscomp$inline_663$$=!$JSCompiler_after$jscomp$inline_668_JSCompiler_isRuntimeCss$jscomp$inline_660$$&&$JSCompiler_ext$jscomp$inline_661$$&&"amp-custom"!=$JSCompiler_ext$jscomp$inline_661$$&&"amp-keyframes"!=
$JSCompiler_ext$jscomp$inline_661$$,$JSCompiler_key$jscomp$inline_664$$=$JSCompiler_after$jscomp$inline_668_JSCompiler_isRuntimeCss$jscomp$inline_660$$?"amp-runtime":$JSCompiler_isExtCss$jscomp$inline_663$$?"amp-extension="+$JSCompiler_ext$jscomp$inline_661$$:null;if($JSCompiler_key$jscomp$inline_664$$){var $JSCompiler_existing$jscomp$inline_665_JSCompiler_style$jscomp$inline_666$$=$getExistingStyleElement$$module$src$style_installer$$($JSCompiler_cssRoot$jscomp$inline_658_cssText$jscomp$3$$,$JSCompiler_styleMap$jscomp$inline_662_JSCompiler_transformer$jscomp$inline_656_ampdoc$jscomp$10$$,
$JSCompiler_key$jscomp$inline_664$$);if($JSCompiler_existing$jscomp$inline_665_JSCompiler_style$jscomp$inline_666$$){$JSCompiler_existing$jscomp$inline_665_JSCompiler_style$jscomp$inline_666$$.textContent!==$JSCompiler_afterElement$jscomp$inline_667_JSCompiler_inline_result$jscomp$636$$&&($JSCompiler_existing$jscomp$inline_665_JSCompiler_style$jscomp$inline_666$$.textContent=$JSCompiler_afterElement$jscomp$inline_667_JSCompiler_inline_result$jscomp$636$$);break a}}$JSCompiler_existing$jscomp$inline_665_JSCompiler_style$jscomp$inline_666$$=
($JSCompiler_cssRoot$jscomp$inline_658_cssText$jscomp$3$$.ownerDocument||$JSCompiler_cssRoot$jscomp$inline_658_cssText$jscomp$3$$).createElement("style");$JSCompiler_existing$jscomp$inline_665_JSCompiler_style$jscomp$inline_666$$.textContent=$JSCompiler_afterElement$jscomp$inline_667_JSCompiler_inline_result$jscomp$636$$;$JSCompiler_afterElement$jscomp$inline_667_JSCompiler_inline_result$jscomp$636$$=null;$JSCompiler_after$jscomp$inline_668_JSCompiler_isRuntimeCss$jscomp$inline_660$$?$JSCompiler_existing$jscomp$inline_665_JSCompiler_style$jscomp$inline_666$$.setAttribute("amp-runtime",
""):$JSCompiler_isExtCss$jscomp$inline_663$$?($JSCompiler_existing$jscomp$inline_665_JSCompiler_style$jscomp$inline_666$$.setAttribute("amp-extension",$JSCompiler_ext$jscomp$inline_661$$||""),$JSCompiler_afterElement$jscomp$inline_667_JSCompiler_inline_result$jscomp$636$$=$getExistingStyleElement$$module$src$style_installer$$($JSCompiler_cssRoot$jscomp$inline_658_cssText$jscomp$3$$,$JSCompiler_styleMap$jscomp$inline_662_JSCompiler_transformer$jscomp$inline_656_ampdoc$jscomp$10$$,"amp-runtime")):($JSCompiler_ext$jscomp$inline_661$$&&
$JSCompiler_existing$jscomp$inline_665_JSCompiler_style$jscomp$inline_666$$.setAttribute($JSCompiler_ext$jscomp$inline_661$$,""),$JSCompiler_afterElement$jscomp$inline_667_JSCompiler_inline_result$jscomp$636$$=$JSCompiler_cssRoot$jscomp$inline_658_cssText$jscomp$3$$.lastChild);$JSCompiler_after$jscomp$inline_668_JSCompiler_isRuntimeCss$jscomp$inline_660$$=$JSCompiler_afterElement$jscomp$inline_667_JSCompiler_inline_result$jscomp$636$$;$JSCompiler_cssRoot$jscomp$inline_658_cssText$jscomp$3$$.insertBefore($JSCompiler_existing$jscomp$inline_665_JSCompiler_style$jscomp$inline_666$$,
$JSCompiler_after$jscomp$inline_668_JSCompiler_isRuntimeCss$jscomp$inline_660$$?$JSCompiler_after$jscomp$inline_668_JSCompiler_isRuntimeCss$jscomp$inline_660$$.nextSibling:$JSCompiler_cssRoot$jscomp$inline_658_cssText$jscomp$3$$.firstChild);$JSCompiler_key$jscomp$inline_664$$&&($JSCompiler_styleMap$jscomp$inline_662_JSCompiler_transformer$jscomp$inline_656_ampdoc$jscomp$10$$[$JSCompiler_key$jscomp$inline_664$$]=$JSCompiler_existing$jscomp$inline_665_JSCompiler_style$jscomp$inline_666$$)}}
function $getExistingStyleElement$$module$src$style_installer$$($cssRoot$jscomp$2_existing$jscomp$1$$,$styleMap$jscomp$1$$,$key$jscomp$49$$){return $styleMap$jscomp$1$$[$key$jscomp$49$$]?$styleMap$jscomp$1$$[$key$jscomp$49$$]:($cssRoot$jscomp$2_existing$jscomp$1$$=$cssRoot$jscomp$2_existing$jscomp$1$$.querySelector("style["+$key$jscomp$49$$+"]"))?$styleMap$jscomp$1$$[$key$jscomp$49$$]=$cssRoot$jscomp$2_existing$jscomp$1$$:null}
function $installCssTransformer$$module$src$style_installer$$($cssRoot$jscomp$3$$,$transformer$$){$cssRoot$jscomp$3$$.__AMP_CSS_TR=$transformer$$}var $bodyMadeVisible$$module$src$style_installer$$=!1;function $makeBodyVisibleRecovery$$module$src$style_installer$$($doc$jscomp$20$$){$bodyMadeVisible$$module$src$style_installer$$||($bodyMadeVisible$$module$src$style_installer$$=!0,$setStyles$$module$src$style$$($doc$jscomp$20$$.body,{opacity:1,visibility:"visible",animation:"none"}))};var $CSS_SELECTOR_BEG_REGEX$$module$src$shadow_embed$$=/[^\.\-_0-9a-zA-Z]/,$CSS_SELECTOR_END_REGEX$$module$src$shadow_embed$$=/[^\-_0-9a-zA-Z]/,$shadowDomStreamingSupported$$module$src$shadow_embed$$;
function $createShadowRoot$$module$src$shadow_embed$$($hostElement$$){var $win$jscomp$74$$=$hostElement$$.ownerDocument.defaultView,$existingRoot$$=$hostElement$$.shadowRoot||$hostElement$$.__AMP_SHADOW_ROOT;if($existingRoot$$)return $existingRoot$$.innerHTML="",$existingRoot$$;var $shadowDomSupported$$=$getShadowDomSupportedVersion$$module$src$web_components$$();if("v1"==$shadowDomSupported$$){var $shadowRoot$$=$hostElement$$.attachShadow({mode:"open"});$shadowRoot$$.styleSheets||Object.defineProperty($shadowRoot$$,
"styleSheets",{get:function(){var $hostElement$$=[];$iterateCursor$$module$src$dom$$($shadowRoot$$.childNodes,function($win$jscomp$74$$){"STYLE"===$win$jscomp$74$$.tagName&&$hostElement$$.push($win$jscomp$74$$.sheet)});return $hostElement$$}})}else $shadowRoot$$="v0"==$shadowDomSupported$$?$hostElement$$.createShadowRoot():$createShadowRootPolyfill$$module$src$shadow_embed$$($hostElement$$);if(!$isShadowCssSupported$$module$src$web_components$$()){var $rootId$$="i-amphtml-sd-"+$win$jscomp$74$$.Math.floor(1E4*
$win$jscomp$74$$.Math.random());$shadowRoot$$.id=$rootId$$;$shadowRoot$$.host.classList.add($rootId$$);$installCssTransformer$$module$src$style_installer$$($shadowRoot$$,function($hostElement$$){var $win$jscomp$74$$=$shadowRoot$$;var $existingRoot$$=$hostElement$$;var $shadowDomSupported$$=$win$jscomp$74$$.id;$win$jscomp$74$$=$win$jscomp$74$$.ownerDocument;var $rootId$$=null;try{$rootId$$=$getStylesheetRules$$module$src$shadow_embed$$($win$jscomp$74$$.implementation.createHTMLDocument(""),$existingRoot$$)}catch($JSCompiler_e$jscomp$inline_676$$){}if(!$rootId$$)try{$rootId$$=
$getStylesheetRules$$module$src$shadow_embed$$($win$jscomp$74$$,$existingRoot$$)}catch($e$13$jscomp$inline_677$$){}$existingRoot$$=$rootId$$?$ShadowCSS$$module$third_party$webcomponentsjs$ShadowCSS$$.scopeRules.call($ShadowCSS$$module$third_party$webcomponentsjs$ShadowCSS$$,$rootId$$,"."+$shadowDomSupported$$,$transformRootSelectors$$module$src$shadow_embed$$):$existingRoot$$;return $existingRoot$$})}return $shadowRoot$$}
function $createShadowRootPolyfill$$module$src$shadow_embed$$($hostElement$jscomp$1$$){var $doc$jscomp$24$$=$hostElement$jscomp$1$$.ownerDocument;$hostElement$jscomp$1$$.classList.add("i-amphtml-shadow-host-polyfill");var $hostStyle$$=$doc$jscomp$24$$.createElement("style");$hostStyle$$.textContent=".i-amphtml-shadow-host-polyfill>:not(i-amphtml-shadow-root){display:none!important}";$hostElement$jscomp$1$$.appendChild($hostStyle$$);var $shadowRoot$jscomp$1$$=$doc$jscomp$24$$.createElement("i-amphtml-shadow-root");
$hostElement$jscomp$1$$.appendChild($shadowRoot$jscomp$1$$);$hostElement$jscomp$1$$.__AMP_SHADOW_ROOT=$shadowRoot$jscomp$1$$;Object.defineProperty($hostElement$jscomp$1$$,"shadowRoot",{enumerable:!0,configurable:!0,value:$shadowRoot$jscomp$1$$});$shadowRoot$jscomp$1$$.host=$hostElement$jscomp$1$$;$shadowRoot$jscomp$1$$.getElementById=function($hostElement$jscomp$1$$){var $doc$jscomp$24$$=String($hostElement$jscomp$1$$).replace($regex$$module$third_party$css_escape$css_escape$$,$escaper$$module$third_party$css_escape$css_escape$$);
return $shadowRoot$jscomp$1$$.querySelector("#"+$doc$jscomp$24$$)};Object.defineProperty($shadowRoot$jscomp$1$$,"styleSheets",{get:function(){return $doc$jscomp$24$$.styleSheets?$toArray$$module$src$types$$($doc$jscomp$24$$.styleSheets).filter(function($hostElement$jscomp$1$$){return $shadowRoot$jscomp$1$$.contains($hostElement$jscomp$1$$.ownerNode)}):[]}});return $shadowRoot$jscomp$1$$}
function $importShadowBody$$module$src$shadow_embed$$($shadowRoot$jscomp$2$$,$body$jscomp$1_n$jscomp$9$$,$deep$jscomp$3$$){var $doc$jscomp$25$$=$shadowRoot$jscomp$2$$.ownerDocument;if($isShadowCssSupported$$module$src$web_components$$())var $resultBody$$=$doc$jscomp$25$$.importNode($body$jscomp$1_n$jscomp$9$$,$deep$jscomp$3$$);else{$resultBody$$=$doc$jscomp$25$$.createElement("amp-body");$setInitialDisplay$$module$src$style$$($resultBody$$);for(var $i$jscomp$24$$=0;$i$jscomp$24$$<$body$jscomp$1_n$jscomp$9$$.attributes.length;$i$jscomp$24$$++)$resultBody$$.setAttribute($body$jscomp$1_n$jscomp$9$$.attributes[0].name,
$body$jscomp$1_n$jscomp$9$$.attributes[0].value);if($deep$jscomp$3$$)for($body$jscomp$1_n$jscomp$9$$=$body$jscomp$1_n$jscomp$9$$.firstChild;$body$jscomp$1_n$jscomp$9$$;$body$jscomp$1_n$jscomp$9$$=$body$jscomp$1_n$jscomp$9$$.nextSibling)$resultBody$$.appendChild($doc$jscomp$25$$.importNode($body$jscomp$1_n$jscomp$9$$,!0))}$setStyle$$module$src$style$$($resultBody$$,"position","relative");$shadowRoot$jscomp$2$$.appendChild($resultBody$$);Object.defineProperty($shadowRoot$jscomp$2$$,"body",{value:$resultBody$$});
return $resultBody$$}function $transformRootSelectors$$module$src$shadow_embed$$($selector$jscomp$13$$){return $selector$jscomp$13$$.replace(/(html|body)/g,$rootSelectorPrefixer$$module$src$shadow_embed$$)}
function $rootSelectorPrefixer$$module$src$shadow_embed$$($match$jscomp$3$$,$name$jscomp$79$$,$pos$jscomp$1$$,$selector$jscomp$14$$){var $prev$$=$selector$jscomp$14$$.charAt($pos$jscomp$1$$-1),$next$$=$selector$jscomp$14$$.charAt($pos$jscomp$1$$+$match$jscomp$3$$.length);return $prev$$&&!$CSS_SELECTOR_BEG_REGEX$$module$src$shadow_embed$$.test($prev$$)||$next$$&&!$CSS_SELECTOR_END_REGEX$$module$src$shadow_embed$$.test($next$$)?$match$jscomp$3$$:"amp-"+$match$jscomp$3$$}
function $getStylesheetRules$$module$src$shadow_embed$$($doc$jscomp$27$$,$css$jscomp$3$$){var $style$jscomp$11$$=$doc$jscomp$27$$.createElement("style");$style$jscomp$11$$.textContent=$css$jscomp$3$$;try{return($doc$jscomp$27$$.head||$doc$jscomp$27$$.documentElement).appendChild($style$jscomp$11$$),$style$jscomp$11$$.sheet?$style$jscomp$11$$.sheet.cssRules:null}finally{$style$jscomp$11$$.parentNode&&$style$jscomp$11$$.parentNode.removeChild($style$jscomp$11$$)}}
function $createShadowDomWriter$$module$src$shadow_embed$$($win$jscomp$77$$){void 0===$shadowDomStreamingSupported$$module$src$shadow_embed$$&&($shadowDomStreamingSupported$$module$src$shadow_embed$$=!$win$jscomp$77$$.document.implementation||"function"!=typeof $win$jscomp$77$$.document.implementation.createHTMLDocument||$Services$$module$src$services$platformFor$$($win$jscomp$77$$).isFirefox()?!1:!0);return $shadowDomStreamingSupported$$module$src$shadow_embed$$?new $ShadowDomWriterStreamer$$module$src$shadow_embed$$($win$jscomp$77$$):
new $ShadowDomWriterBulk$$module$src$shadow_embed$$($win$jscomp$77$$)}
function $ShadowDomWriterStreamer$$module$src$shadow_embed$$($win$jscomp$78$$){this.$parser_$=$win$jscomp$78$$.document.implementation.createHTMLDocument("");this.$parser_$.open();this.$vsync_$=$Services$$module$src$services$vsyncFor$$($win$jscomp$78$$);this.$boundMerge_$=this.$merge_$.bind(this);this.$onEnd_$=this.$onBodyChunk_$=this.$onBody_$=null;this.$mergeScheduled_$=!1;this.$success_$=Promise.resolve();this.$eof_$=!1;this.$targetBody_$=null}$JSCompiler_prototypeAlias$$=$ShadowDomWriterStreamer$$module$src$shadow_embed$$.prototype;
$JSCompiler_prototypeAlias$$.onBody=function($callback$jscomp$66$$){this.$onBody_$=$callback$jscomp$66$$};$JSCompiler_prototypeAlias$$.onBodyChunk=function($callback$jscomp$67$$){this.$onBodyChunk_$=$callback$jscomp$67$$};$JSCompiler_prototypeAlias$$.onEnd=function($callback$jscomp$68$$){this.$onEnd_$=$callback$jscomp$68$$};
$JSCompiler_prototypeAlias$$.write=function($chunk$jscomp$6$$){if(this.$eof_$)throw Error("closed already");$chunk$jscomp$6$$&&this.$parser_$.write($chunk$jscomp$6$$);this.$schedule_$();return this.$success_$};$JSCompiler_prototypeAlias$$.close=function(){this.$parser_$.close();this.$eof_$=!0;this.$schedule_$();return this.$success_$};$JSCompiler_prototypeAlias$$.abort=function(){throw Error("Not implemented");};$JSCompiler_prototypeAlias$$.releaseLock=function(){throw Error("Not implemented");};
$JSCompiler_prototypeAlias$$.$schedule_$=function(){this.$mergeScheduled_$||(this.$mergeScheduled_$=!0,this.$vsync_$.mutate(this.$boundMerge_$))};
$JSCompiler_prototypeAlias$$.$merge_$=function(){this.$mergeScheduled_$=!1;!this.$targetBody_$&&this.$parser_$.body&&(this.$targetBody_$=this.$onBody_$(this.$parser_$));if(this.$targetBody_$){var $inputBody$$=this.$parser_$.body,$targetBody$$=this.$targetBody_$,$transferCount$$=0;for($removeNoScriptElements$$module$src$shadow_embed$$($inputBody$$);$inputBody$$.firstChild;)$transferCount$$++,$targetBody$$.appendChild($inputBody$$.firstChild);0<$transferCount$$&&this.$onBodyChunk_$()}this.$eof_$&&this.$onEnd_$()};
$$jscomp$global$$.Object.defineProperties($ShadowDomWriterStreamer$$module$src$shadow_embed$$.prototype,{closed:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented");}},desiredSize:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented");}},ready:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented");}}});
function $ShadowDomWriterBulk$$module$src$shadow_embed$$($win$jscomp$79$$){this.$fullHtml_$=[];this.$vsync_$=$Services$$module$src$services$vsyncFor$$($win$jscomp$79$$);this.$onEnd_$=this.$onBodyChunk_$=this.$onBody_$=null;this.$success_$=Promise.resolve();this.$eof_$=!1}$JSCompiler_prototypeAlias$$=$ShadowDomWriterBulk$$module$src$shadow_embed$$.prototype;$JSCompiler_prototypeAlias$$.onBody=function($callback$jscomp$69$$){this.$onBody_$=$callback$jscomp$69$$};
$JSCompiler_prototypeAlias$$.onBodyChunk=function($callback$jscomp$70$$){this.$onBodyChunk_$=$callback$jscomp$70$$};$JSCompiler_prototypeAlias$$.onEnd=function($callback$jscomp$71$$){this.$onEnd_$=$callback$jscomp$71$$};$JSCompiler_prototypeAlias$$.write=function($chunk$jscomp$7$$){if(this.$eof_$)throw Error("closed already");$chunk$jscomp$7$$&&this.$fullHtml_$.push($chunk$jscomp$7$$);return this.$success_$};
$JSCompiler_prototypeAlias$$.close=function(){var $$jscomp$this$jscomp$8$$=this;this.$eof_$=!0;this.$vsync_$.mutate(function(){return $$jscomp$this$jscomp$8$$.$complete_$()});return this.$success_$};$JSCompiler_prototypeAlias$$.abort=function(){throw Error("Not implemented");};$JSCompiler_prototypeAlias$$.releaseLock=function(){throw Error("Not implemented");};
$JSCompiler_prototypeAlias$$.$complete_$=function(){var $fullHtml$$=this.$fullHtml_$.join(""),$doc$jscomp$28_targetBody$jscomp$1$$=(new DOMParser).parseFromString($fullHtml$$,"text/html");if($doc$jscomp$28_targetBody$jscomp$1$$.body){var $inputBody$jscomp$1$$=$doc$jscomp$28_targetBody$jscomp$1$$.body;$doc$jscomp$28_targetBody$jscomp$1$$=this.$onBody_$($doc$jscomp$28_targetBody$jscomp$1$$);var $transferCount$jscomp$1$$=0;for($removeNoScriptElements$$module$src$shadow_embed$$($inputBody$jscomp$1$$);$inputBody$jscomp$1$$.firstChild;)$transferCount$jscomp$1$$++,
$doc$jscomp$28_targetBody$jscomp$1$$.appendChild($inputBody$jscomp$1$$.firstChild);0<$transferCount$jscomp$1$$&&this.$onBodyChunk_$()}this.$onEnd_$()};
$$jscomp$global$$.Object.defineProperties($ShadowDomWriterBulk$$module$src$shadow_embed$$.prototype,{closed:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented");}},desiredSize:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented");}},ready:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented");}}});
function $removeNoScriptElements$$module$src$shadow_embed$$($parent$jscomp$20$$){var $noscriptElements$$=$childElementsByTag$$module$src$dom$$($parent$jscomp$20$$,"noscript");$iterateCursor$$module$src$dom$$($noscriptElements$$,function($parent$jscomp$20$$){$removeElement$$module$src$dom$$($parent$jscomp$20$$)})};var cssText$$module$build$css="html{overflow-x:hidden!important}body,html{height:auto!important}html.i-amphtml-fie{height:100%!important;width:100%!important}body{margin:0!important;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}[hidden]{display:none!important}html.i-amphtml-singledoc.i-amphtml-embedded{-ms-touch-action:pan-y;touch-action:pan-y}html.i-amphtml-fie>body,html.i-amphtml-singledoc>body{overflow:visible!important}html.i-amphtml-fie:not(.i-amphtml-inabox)>body,html.i-amphtml-singledoc:not(.i-amphtml-inabox)>body{position:relative!important}html.i-amphtml-webview>body{overflow-x:hidden!important;overflow-y:visible!important;min-height:100vh!important}html.i-amphtml-ios-embed-legacy>body{overflow-x:hidden!important;overflow-y:auto!important;position:absolute!important}html.i-amphtml-ios-embed{overflow-y:auto!important;position:static}#i-amphtml-wrapper{overflow-x:hidden!important;overflow-y:auto!important;position:absolute!important;top:0!important;left:0!important;right:0!important;bottom:0!important;margin:0!important;display:block!important}html.i-amphtml-ios-embed.i-amphtml-ios-overscroll,html.i-amphtml-ios-embed.i-amphtml-ios-overscroll>#i-amphtml-wrapper{-webkit-overflow-scrolling:touch!important}#i-amphtml-wrapper>body{position:relative!important;border-top:1px solid transparent!important}#i-amphtml-wrapper+body .i-amphtml-lightbox-element,#i-amphtml-wrapper+body[i-amphtml-lightbox]{visibility:hidden}#i-amphtml-wrapper+body[i-amphtml-lightbox] .i-amphtml-lightbox-element{visibility:visible}html.i-amphtml-ios-embed-sd{overflow:hidden!important;position:static!important}html.i-amphtml-ios-embed-sd>body,html.i-amphtml-singledoc.i-amphtml-ios-embed-sd>body{position:absolute!important;top:0!important;left:0!important;right:0!important;bottom:0!important;overflow:hidden!important}.i-amphtml-element{display:inline-block}.i-amphtml-blurry-placeholder{-webkit-transition:opacity 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;transition:opacity 0.3s cubic-bezier(0.0,0.0,0.2,1)!important}[layout=nodisplay]:not(.i-amphtml-element){display:none!important}.i-amphtml-layout-fixed,[layout=fixed][width][height]:not(.i-amphtml-layout-fixed){display:inline-block;position:relative}.i-amphtml-layout-responsive,[layout=responsive][width][height]:not(.i-amphtml-layout-responsive),[width][height][sizes]:not(.i-amphtml-layout-responsive){display:block;position:relative}.i-amphtml-layout-intrinsic{display:inline-block;position:relative;max-width:100%}.i-amphtml-intrinsic-sizer{max-width:100%;display:block!important}.i-amphtml-layout-container,.i-amphtml-layout-fixed-height,[layout=container],[layout=fixed-height][height]{display:block;position:relative}.i-amphtml-layout-fill,[layout=fill]:not(.i-amphtml-layout-fill){display:block;overflow:hidden!important;position:absolute;top:0;left:0;bottom:0;right:0}.i-amphtml-layout-flex-item,[layout=flex-item]:not(.i-amphtml-layout-flex-item){display:block;position:relative;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.i-amphtml-layout-fluid{position:relative}.i-amphtml-layout-size-defined{overflow:hidden!important}.i-amphtml-layout-awaiting-size{position:absolute!important;top:auto!important;bottom:auto!important}i-amphtml-sizer{display:block!important}.i-amphtml-blurry-placeholder,.i-amphtml-fill-content{display:block;height:0;max-height:100%;max-width:100%;min-height:100%;min-width:100%;width:0;margin:auto}.i-amphtml-layout-size-defined .i-amphtml-fill-content{position:absolute;top:0;left:0;bottom:0;right:0}.i-amphtml-layout-intrinsic .i-amphtml-sizer{max-width:100%}.i-amphtml-replaced-content,.i-amphtml-screen-reader{padding:0!important;border:none!important}.i-amphtml-screen-reader{position:fixed!important;top:0px!important;left:0px!important;width:4px!important;height:4px!important;opacity:0!important;overflow:hidden!important;margin:0!important;display:block!important;visibility:visible!important}.i-amphtml-screen-reader~.i-amphtml-screen-reader{left:8px!important}.i-amphtml-screen-reader~.i-amphtml-screen-reader~.i-amphtml-screen-reader{left:12px!important}.i-amphtml-screen-reader~.i-amphtml-screen-reader~.i-amphtml-screen-reader~.i-amphtml-screen-reader{left:16px!important}.i-amphtml-unresolved{position:relative;overflow:hidden!important}#i-amphtml-wrapper.i-amphtml-scroll-disabled,.i-amphtml-scroll-disabled{overflow-x:hidden!important;overflow-y:hidden!important}.i-amphtml-select-disabled{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.i-amphtml-notbuilt,[layout]:not(.i-amphtml-element){position:relative;overflow:hidden!important;color:transparent!important}.i-amphtml-notbuilt:not(.i-amphtml-layout-container)>*,[layout]:not([layout=container]):not(.i-amphtml-element)>*{display:none}.i-amphtml-ghost{visibility:hidden!important}.i-amphtml-element>[placeholder],[layout]:not(.i-amphtml-element)>[placeholder]{display:block}.i-amphtml-element>[placeholder].amp-hidden,.i-amphtml-element>[placeholder].hidden{visibility:hidden}.i-amphtml-element:not(.amp-notsupported)>[fallback],.i-amphtml-layout-container>[placeholder].amp-hidden,.i-amphtml-layout-container>[placeholder].hidden{display:none}.i-amphtml-layout-size-defined>[fallback],.i-amphtml-layout-size-defined>[placeholder]{position:absolute!important;top:0!important;left:0!important;right:0!important;bottom:0!important;z-index:1}.i-amphtml-notbuilt>[placeholder]{display:block!important}.i-amphtml-hidden-by-media-query{display:none!important}.i-amphtml-element-error{background:red!important;color:#fff!important;position:relative!important}.i-amphtml-element-error:before{content:attr(error-message)}i-amp-scroll-container,i-amphtml-scroll-container{position:absolute;top:0;left:0;right:0;bottom:0;display:block}i-amp-scroll-container.amp-active,i-amphtml-scroll-container.amp-active{overflow:auto;-webkit-overflow-scrolling:touch}.i-amphtml-loading-container{display:block!important;pointer-events:none;z-index:1}.i-amphtml-notbuilt>.i-amphtml-loading-container{display:block!important}.i-amphtml-loading-container.amp-hidden{visibility:hidden}.i-amphtml-loader-line{position:absolute;top:0;left:0;right:0;height:1px;overflow:hidden!important;background-color:hsla(0,0%,59.2%,0.2);display:block}.i-amphtml-loader-moving-line{display:block;position:absolute;width:100%;height:100%!important;background-color:hsla(0,0%,59.2%,0.65);z-index:2}@-webkit-keyframes i-amphtml-loader-line-moving{0%{-webkit-transform:translateX(-100%);transform:translateX(-100%)}to{-webkit-transform:translateX(100%);transform:translateX(100%)}}@keyframes i-amphtml-loader-line-moving{0%{-webkit-transform:translateX(-100%);transform:translateX(-100%)}to{-webkit-transform:translateX(100%);transform:translateX(100%)}}.i-amphtml-loader-line.amp-active .i-amphtml-loader-moving-line{-webkit-animation:i-amphtml-loader-line-moving 4s ease infinite;animation:i-amphtml-loader-line-moving 4s ease infinite}.i-amphtml-loader{position:absolute;display:block;height:10px;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;white-space:nowrap}.i-amphtml-loader.amp-active .i-amphtml-loader-dot{-webkit-animation:i-amphtml-loader-dots 2s infinite;animation:i-amphtml-loader-dots 2s infinite}.i-amphtml-loader-dot{position:relative;display:inline-block;height:10px;width:10px;margin:2px;border-radius:100%;background-color:rgba(0,0,0,0.3);box-shadow:2px 2px 2px 1px rgba(0,0,0,0.2);will-change:transform}.i-amphtml-loader .i-amphtml-loader-dot:first-child{-webkit-animation-delay:0s;animation-delay:0s}.i-amphtml-loader .i-amphtml-loader-dot:nth-child(2){-webkit-animation-delay:.1s;animation-delay:.1s}.i-amphtml-loader .i-amphtml-loader-dot:nth-child(3){-webkit-animation-delay:.2s;animation-delay:.2s}@-webkit-keyframes i-amphtml-loader-dots{0%,to{-webkit-transform:scale(.7);transform:scale(.7);background-color:rgba(0,0,0,0.3)}50%{-webkit-transform:scale(.8);transform:scale(.8);background-color:rgba(0,0,0,0.5)}}@keyframes i-amphtml-loader-dots{0%,to{-webkit-transform:scale(.7);transform:scale(.7);background-color:rgba(0,0,0,0.3)}50%{-webkit-transform:scale(.8);transform:scale(.8);background-color:rgba(0,0,0,0.5)}}.i-amphtml-element>[overflow]{cursor:pointer;position:relative;z-index:2;visibility:hidden}.i-amphtml-element>[overflow].amp-visible{visibility:visible}template{display:none!important}.amp-border-box,.amp-border-box *,.amp-border-box :after,.amp-border-box :before{box-sizing:border-box}amp-pixel{display:none!important}amp-instagram{padding:64px 0px 0px!important;background-color:#fff}amp-analytics,amp-story-auto-ads{position:fixed!important;top:0!important;width:1px!important;height:1px!important;overflow:hidden!important;visibility:hidden}html.i-amphtml-fie>amp-analytics{position:initial!important}amp-iframe iframe{box-sizing:border-box!important}[amp-access][amp-access-hide]{display:none}[subscriptions-dialog],body:not(.i-amphtml-subs-ready) [subscriptions-action],body:not(.i-amphtml-subs-ready) [subscriptions-section]{display:none!important}[visible-when-invalid]:not(.visible),amp-experiment,amp-live-list>[update],amp-share-tracking,form [submit-error],form [submit-success],form [submitting]{display:none}.i-amphtml-jank-meter{position:fixed;background-color:rgba(232,72,95,0.5);bottom:0;right:0;color:#fff;font-size:16px;z-index:1000;padding:5px}amp-accordion{display:block!important}amp-accordion>section{float:none!important}amp-accordion>section>*{float:none!important;display:block!important;overflow:hidden!important;position:relative!important}.i-amphtml-accordion-content,.i-amphtml-accordion-header,amp-accordion,amp-accordion>section{margin:0}.i-amphtml-accordion-header{cursor:pointer;background-color:#efefef;padding-right:20px;border:1px solid #dfdfdf}amp-accordion>section>:last-child{display:none!important}amp-accordion>section[expanded]>:last-child{display:block!important}amp-list[resizable-children]>.i-amphtml-loading-container.amp-hidden{display:none!important}amp-list[load-more] [load-more-button],amp-list[load-more] [load-more-end],amp-list[load-more] [load-more-failed],amp-list[load-more] [load-more-loading]{display:none}amp-story-page,amp-story[standalone]{display:block!important;height:100%!important;margin:0!important;padding:0!important;overflow:hidden!important;width:100%!important}amp-story[standalone]{background-color:#202125!important;position:relative!important}amp-story-page{background-color:#757575}amp-story .i-amphtml-loader{display:none!important}amp-story-page:not(:first-of-type):not([distance]):not([active]){-webkit-transform:translateY(1000vh)!important;transform:translateY(1000vh)!important}amp-autocomplete{position:relative!important;display:inline-block!important}amp-autocomplete>input{padding:.5rem;border:1px solid rgba(0,0,0,0.33)}.i-amphtml-autocomplete-results,amp-autocomplete>input{font-size:1rem;line-height:1.5rem}[amp-fx^=fly-in]{visibility:hidden}@media only screen and (max-width:979px){amp-addthis[data-widget-type=floating]{position:fixed!important;width:100%!important;height:50px;bottom:0}}@media only screen and (min-width:979px){amp-addthis[data-widget-type=floating]{position:fixed!important;width:70px!important;height:320px!important;top:200px}}\n/*# sourceURL=/css/amp.css*/";function $throttle$$module$src$utils$rate_limit$$($win$jscomp$80$$,$callback$jscomp$72$$){function $fire$$($fire$$){$nextCallArgs$$=null;$locker$$=$win$jscomp$80$$.setTimeout($waiter$$,$minInterval$$);$callback$jscomp$72$$.apply(null,$fire$$)}function $waiter$$(){$locker$$=0;$nextCallArgs$$&&$fire$$($nextCallArgs$$)}var $minInterval$$=100,$locker$$=0,$nextCallArgs$$=null;return function($win$jscomp$80$$){for(var $callback$jscomp$72$$=[],$waiter$$=0;$waiter$$<arguments.length;++$waiter$$)$callback$jscomp$72$$[$waiter$$-
0]=arguments[$waiter$$];$locker$$?$nextCallArgs$$=$callback$jscomp$72$$:$fire$$($callback$jscomp$72$$)}}
function $debounce$$module$src$utils$rate_limit$$($win$jscomp$81$$,$callback$jscomp$73$$,$minInterval$jscomp$1$$){function $waiter$jscomp$1$$(){$locker$jscomp$1$$=0;var $remaining$$=$minInterval$jscomp$1$$-($win$jscomp$81$$.Date.now()-$timestamp$$);if(0<$remaining$$)$locker$jscomp$1$$=$win$jscomp$81$$.setTimeout($waiter$jscomp$1$$,$remaining$$);else{var $JSCompiler_args$jscomp$inline_281$$=$nextCallArgs$jscomp$1$$;$nextCallArgs$jscomp$1$$=null;$callback$jscomp$73$$.apply(null,$JSCompiler_args$jscomp$inline_281$$)}}
var $locker$jscomp$1$$=0,$timestamp$$=0,$nextCallArgs$jscomp$1$$=null;return function($callback$jscomp$73$$){for(var $args$jscomp$3$$=[],$$jscomp$restIndex$jscomp$1$$=0;$$jscomp$restIndex$jscomp$1$$<arguments.length;++$$jscomp$restIndex$jscomp$1$$)$args$jscomp$3$$[$$jscomp$restIndex$jscomp$1$$-0]=arguments[$$jscomp$restIndex$jscomp$1$$];$timestamp$$=$win$jscomp$81$$.Date.now();$nextCallArgs$jscomp$1$$=$args$jscomp$3$$;$locker$jscomp$1$$||($locker$jscomp$1$$=$win$jscomp$81$$.setTimeout($waiter$jscomp$1$$,
$minInterval$jscomp$1$$))}};function $recreateNonProtoObject$$module$src$json$$($obj$jscomp$28$$){var $copy$$=Object.create(null),$k$jscomp$5$$;for($k$jscomp$5$$ in $obj$jscomp$28$$)if($hasOwnProperty$$module$src$json$$($obj$jscomp$28$$,$k$jscomp$5$$)){var $v$jscomp$1$$=$obj$jscomp$28$$[$k$jscomp$5$$];$copy$$[$k$jscomp$5$$]="[object Object]"===$toString_$$module$src$types$$.call($v$jscomp$1$$)?$recreateNonProtoObject$$module$src$json$$($v$jscomp$1$$):$v$jscomp$1$$}return $copy$$}
function $getValueForExpr$$module$src$json$$($obj$jscomp$29_value$jscomp$106$$,$expr$jscomp$3_parts$jscomp$3$$){if("."==$expr$jscomp$3_parts$jscomp$3$$)return $obj$jscomp$29_value$jscomp$106$$;$expr$jscomp$3_parts$jscomp$3$$=$expr$jscomp$3_parts$jscomp$3$$.split(".");for(var $i$jscomp$25$$=0;$i$jscomp$25$$<$expr$jscomp$3_parts$jscomp$3$$.length;$i$jscomp$25$$++){var $part$$=$expr$jscomp$3_parts$jscomp$3$$[$i$jscomp$25$$];if($part$$&&$obj$jscomp$29_value$jscomp$106$$&&void 0!==$obj$jscomp$29_value$jscomp$106$$[$part$$]&&
$hasOwnProperty$$module$src$json$$($obj$jscomp$29_value$jscomp$106$$,$part$$))$obj$jscomp$29_value$jscomp$106$$=$obj$jscomp$29_value$jscomp$106$$[$part$$];else{$obj$jscomp$29_value$jscomp$106$$=void 0;break}}return $obj$jscomp$29_value$jscomp$106$$}function $tryParseJson$$module$src$json$$($json$jscomp$1$$,$opt_onFailed$$){try{return JSON.parse($json$jscomp$1$$)}catch($e$jscomp$22$$){return $opt_onFailed$$&&$opt_onFailed$$($e$jscomp$22$$),null}}
function $hasOwnProperty$$module$src$json$$($obj$jscomp$30$$,$key$jscomp$50$$){return null==$obj$jscomp$30$$||"object"!=typeof $obj$jscomp$30$$?!1:Object.prototype.hasOwnProperty.call($obj$jscomp$30$$,$key$jscomp$50$$)};function $exponentialBackoff$$module$src$exponential_backoff$$(){var $getTimeout$$=$exponentialBackoffClock$$module$src$exponential_backoff$$();return function($work$$){return setTimeout($work$$,$getTimeout$$())}}
function $exponentialBackoffClock$$module$src$exponential_backoff$$(){var $count$jscomp$18$$=0;return function(){var $wait$$=Math.pow(1.5,$count$jscomp$18$$++);var $JSCompiler_jitter$jscomp$inline_285_JSCompiler_opt_perc$jscomp$inline_284$$=$wait$$*($JSCompiler_jitter$jscomp$inline_285_JSCompiler_opt_perc$jscomp$inline_284$$||.3)*Math.random();.5<Math.random()&&($JSCompiler_jitter$jscomp$inline_285_JSCompiler_opt_perc$jscomp$inline_284$$*=-1);$wait$$+=$JSCompiler_jitter$jscomp$inline_285_JSCompiler_opt_perc$jscomp$inline_284$$;
return 1E3*$wait$$}};function $triggerAnalyticsEvent$$module$src$analytics$$($target$jscomp$87$$,$eventType$jscomp$8$$,$opt_vars$$){$getElementServiceIfAvailableForDoc$$module$src$element_service$$($target$jscomp$87$$,"amp-analytics-instrumentation","amp-analytics").then(function($analytics$$){$analytics$$&&$analytics$$.triggerEventForTarget($target$jscomp$87$$,$eventType$jscomp$8$$,$opt_vars$$)})};var $accumulatedErrorMessages$$module$src$error$$=self.AMPErrors||[];self.AMPErrors=$accumulatedErrorMessages$$module$src$error$$;function $reportingBackoff$$module$src$error$$($work$jscomp$1$$){$reportingBackoff$$module$src$error$$=$exponentialBackoff$$module$src$exponential_backoff$$();return $reportingBackoff$$module$src$error$$($work$jscomp$1$$)}
function $tryJsonStringify$$module$src$error$$($value$jscomp$107$$){try{return JSON.stringify($value$jscomp$107$$)}catch($e$jscomp$23$$){return String($value$jscomp$107$$)}}var $detectedJsEngine$$module$src$error$$;
function $reportError$$module$src$error$$($error$jscomp$15$$,$opt_associatedElement$jscomp$1$$){try{if($error$jscomp$15$$)if(void 0!==$error$jscomp$15$$.message){$error$jscomp$15$$=$duplicateErrorIfNecessary$$module$src$log$$($error$jscomp$15$$);var $isValidError$$=!0}else{var $origError$$=$error$jscomp$15$$;$error$jscomp$15$$=Error($tryJsonStringify$$module$src$error$$($origError$$));$error$jscomp$15$$.origError=$origError$$}else $error$jscomp$15$$=Error("Unknown error");$isValidError$$||!$getMode$$module$src$mode$$().localDev||
$getMode$$module$src$mode$$().test||setTimeout(function(){var $opt_associatedElement$jscomp$1$$=Error("_reported_ Error reported incorrectly: "+$error$jscomp$15$$);throw $opt_associatedElement$jscomp$1$$;});if($error$jscomp$15$$.reported)return $error$jscomp$15$$;$error$jscomp$15$$.reported=!0;var $element$jscomp$84$$=$opt_associatedElement$jscomp$1$$||$error$jscomp$15$$.associatedElement;$element$jscomp$84$$&&$element$jscomp$84$$.classList&&($element$jscomp$84$$.classList.add("i-amphtml-error"),
$getMode$$module$src$mode$$().development&&($element$jscomp$84$$.classList.add("i-amphtml-element-error"),$element$jscomp$84$$.setAttribute("error-message",$error$jscomp$15$$.message)));if(self.console){var $output$jscomp$2$$=console.error||console.log;$error$jscomp$15$$.messageArray?$output$jscomp$2$$.apply(console,$error$jscomp$15$$.messageArray):$element$jscomp$84$$?$output$jscomp$2$$.call(console,$error$jscomp$15$$.message,$element$jscomp$84$$):$getMode$$module$src$mode$$().minified?$output$jscomp$2$$.call(console,
$error$jscomp$15$$.message):$output$jscomp$2$$.call(console,$error$jscomp$15$$.stack)}$element$jscomp$84$$&&$element$jscomp$84$$.$dispatchCustomEventForTesting$&&$element$jscomp$84$$.$dispatchCustomEventForTesting$("amp:error",$error$jscomp$15$$.message);$onError$$module$src$error$$.call(void 0,void 0,void 0,void 0,void 0,$error$jscomp$15$$)}catch($errorReportingError$$){setTimeout(function(){throw $errorReportingError$$;})}return $error$jscomp$15$$}
function $isBlockedByConsent$$module$src$error$$($errorOrMessage$jscomp$1$$){return $errorOrMessage$jscomp$1$$?"string"==typeof $errorOrMessage$jscomp$1$$?$startsWith$$module$src$string$$($errorOrMessage$jscomp$1$$,"BLOCK_BY_CONSENT"):"string"==typeof $errorOrMessage$jscomp$1$$.message?$startsWith$$module$src$string$$($errorOrMessage$jscomp$1$$.message,"BLOCK_BY_CONSENT"):!1:!1}
function $onError$$module$src$error$$($message$jscomp$30$$,$filename$$,$line$$,$col$$,$error$jscomp$16$$){var $$jscomp$this$jscomp$9$$=this;this&&this.document&&$makeBodyVisibleRecovery$$module$src$style_installer$$(this.document);if(!($getMode$$module$src$mode$$().localDev||$getMode$$module$src$mode$$().development||$getMode$$module$src$mode$$().test)){var $hasNonAmpJs$$=!1;try{$hasNonAmpJs$$=$detectNonAmpJs$$module$src$error$$()}catch($ignore$jscomp$1$$){}if(!($hasNonAmpJs$$&&.01<Math.random())){var $data$jscomp$60$$=
$getErrorReportData$$module$src$error$$($message$jscomp$30$$,$filename$$,$line$$,$col$$,$error$jscomp$16$$,$hasNonAmpJs$$);$data$jscomp$60$$&&$reportingBackoff$$module$src$error$$(function(){return $reportErrorToServerOrViewer$$module$src$error$$($$jscomp$this$jscomp$9$$,$data$jscomp$60$$)})}}}
function $reportErrorToServerOrViewer$$module$src$error$$($win$jscomp$84$$,$data$jscomp$61$$){return $maybeReportErrorToViewer$$module$src$error$$($win$jscomp$84$$,$data$jscomp$61$$).then(function($win$jscomp$84$$){if(!$win$jscomp$84$$){var $reportedErrorToViewer$$=new XMLHttpRequest;$reportedErrorToViewer$$.open("POST",$urls$$module$src$config$$.errorReporting,!0);$reportedErrorToViewer$$.send(JSON.stringify($data$jscomp$61$$))}})}
function $maybeReportErrorToViewer$$module$src$error$$($win$jscomp$85$$,$data$jscomp$62$$){var $ampdocService$$=$Services$$module$src$services$ampdocServiceFor$$($win$jscomp$85$$);if(!$ampdocService$$.isSingleDoc())return Promise.resolve(!1);var $ampdocSingle$$=$ampdocService$$.getAmpDoc(),$htmlElement$$=$ampdocSingle$$.getRootNode().documentElement,$docOptedIn$$=$htmlElement$$.hasAttribute("report-errors-to-viewer");if(!$docOptedIn$$)return Promise.resolve(!1);var $viewer$jscomp$4$$=$Services$$module$src$services$viewerForDoc$$($ampdocSingle$$);
return $viewer$jscomp$4$$.hasCapability("errorReporter")?$viewer$jscomp$4$$.isTrustedViewer().then(function($win$jscomp$85$$){if(!$win$jscomp$85$$)return!1;$viewer$jscomp$4$$.sendMessage("error",$dict$$module$src$utils$object$$({m:$data$jscomp$62$$.m,a:$data$jscomp$62$$.a,s:$data$jscomp$62$$.s,el:$data$jscomp$62$$.el,v:$data$jscomp$62$$.v,jse:$data$jscomp$62$$.jse}));return!0}):Promise.resolve(!1)}
function $getErrorReportData$$module$src$error$$($message$jscomp$32$$,$JSCompiler_element$jscomp$inline_296_filename$jscomp$1$$,$line$jscomp$1$$,$col$jscomp$1$$,$error$jscomp$18$$,$JSCompiler_inline_result$jscomp$134_JSCompiler_win$jscomp$inline_290_JSCompiler_win$jscomp$inline_292_hasNonAmpJs$jscomp$1$$){var $JSCompiler_message$jscomp$inline_287_data$jscomp$63$$=$message$jscomp$32$$;$error$jscomp$18$$&&($JSCompiler_message$jscomp$inline_287_data$jscomp$63$$=$error$jscomp$18$$.message?$error$jscomp$18$$.message:
String($error$jscomp$18$$));$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$||($JSCompiler_message$jscomp$inline_287_data$jscomp$63$$="Unknown error");$message$jscomp$32$$=$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$;var $expected$$=!(!$error$jscomp$18$$||!$error$jscomp$18$$.expected);if(!/_reported_/.test($message$jscomp$32$$)&&"CANCELLED"!=$message$jscomp$32$$){var $detachedWindow$$=!(self&&self.window),$throttleBase$$=Math.random();if(-1!=$message$jscomp$32$$.indexOf("Failed to load:")||
"Script error."==$message$jscomp$32$$||$detachedWindow$$)if($expected$$=!0,.001<$throttleBase$$)return;var $isUserError$$=$isUserErrorMessage$$module$src$log$$($message$jscomp$32$$);if(!($isUserError$$&&.1<$throttleBase$$)){$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$=Object.create(null);$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.v=$getMode$$module$src$mode$$().rtvVersion;$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.noAmp=$JSCompiler_inline_result$jscomp$134_JSCompiler_win$jscomp$inline_290_JSCompiler_win$jscomp$inline_292_hasNonAmpJs$jscomp$1$$?
"1":"0";$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.m=$message$jscomp$32$$.replace("\u200b\u200b\u200b","");$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.a=$isUserError$$?"1":"0";$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.ex=$expected$$?"1":"0";$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.dw=$detachedWindow$$?"1":"0";var $runtime$$="1p";self.context&&self.context.location?($JSCompiler_message$jscomp$inline_287_data$jscomp$63$$["3p"]="1",$runtime$$="3p"):$getMode$$module$src$mode$$().runtime&&
($runtime$$=$getMode$$module$src$mode$$().runtime);$getMode$$module$src$mode$$().singlePassType&&($JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.spt=$getMode$$module$src$mode$$().singlePassType);$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.rt=$runtime$$;"inabox"===$runtime$$&&($JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.adid=$getMode$$module$src$mode$$().a4aId);$JSCompiler_inline_result$jscomp$134_JSCompiler_win$jscomp$inline_290_JSCompiler_win$jscomp$inline_292_hasNonAmpJs$jscomp$1$$=
self;$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.ca=$JSCompiler_inline_result$jscomp$134_JSCompiler_win$jscomp$inline_290_JSCompiler_win$jscomp$inline_292_hasNonAmpJs$jscomp$1$$.AMP_CONFIG&&$JSCompiler_inline_result$jscomp$134_JSCompiler_win$jscomp$inline_290_JSCompiler_win$jscomp$inline_292_hasNonAmpJs$jscomp$1$$.AMP_CONFIG.canary?"1":"0";$JSCompiler_inline_result$jscomp$134_JSCompiler_win$jscomp$inline_290_JSCompiler_win$jscomp$inline_292_hasNonAmpJs$jscomp$1$$=self;$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.bt=
$JSCompiler_inline_result$jscomp$134_JSCompiler_win$jscomp$inline_290_JSCompiler_win$jscomp$inline_292_hasNonAmpJs$jscomp$1$$.AMP_CONFIG&&$JSCompiler_inline_result$jscomp$134_JSCompiler_win$jscomp$inline_290_JSCompiler_win$jscomp$inline_292_hasNonAmpJs$jscomp$1$$.AMP_CONFIG.type?$JSCompiler_inline_result$jscomp$134_JSCompiler_win$jscomp$inline_290_JSCompiler_win$jscomp$inline_292_hasNonAmpJs$jscomp$1$$.AMP_CONFIG.type:"unknown";self.location.ancestorOrigins&&self.location.ancestorOrigins[0]&&($JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.or=
self.location.ancestorOrigins[0]);self.viewerState&&($JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.vs=self.viewerState);self.parent&&self.parent!=self&&($JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.iem="1");if(self.AMP&&self.AMP.viewer){var $resolvedViewerUrl$$=self.AMP.viewer.getResolvedViewerUrl(),$messagingOrigin$$=self.AMP.viewer.maybeGetMessagingOrigin();$resolvedViewerUrl$$&&($JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.rvu=$resolvedViewerUrl$$);$messagingOrigin$$&&
($JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.mso=$messagingOrigin$$)}$detectedJsEngine$$module$src$error$$||($detectedJsEngine$$module$src$error$$=$detectJsEngineFromStack$$module$src$error$$());$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.jse=$detectedJsEngine$$module$src$error$$;var $exps$$=[];$JSCompiler_inline_result$jscomp$134_JSCompiler_win$jscomp$inline_290_JSCompiler_win$jscomp$inline_292_hasNonAmpJs$jscomp$1$$=self.__AMP__EXPERIMENT_TOGGLES||null;for(var $exp$$ in $JSCompiler_inline_result$jscomp$134_JSCompiler_win$jscomp$inline_290_JSCompiler_win$jscomp$inline_292_hasNonAmpJs$jscomp$1$$)$exps$$.push($exp$$+
"="+($JSCompiler_inline_result$jscomp$134_JSCompiler_win$jscomp$inline_290_JSCompiler_win$jscomp$inline_292_hasNonAmpJs$jscomp$1$$[$exp$$]?"1":"0"));$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.exps=$exps$$.join(",");$error$jscomp$18$$?($JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.el=$error$jscomp$18$$.associatedElement?$error$jscomp$18$$.associatedElement.tagName:"u",$error$jscomp$18$$.args&&($JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.args=JSON.stringify($error$jscomp$18$$.args)),
$isUserError$$||$error$jscomp$18$$.ignoreStack||!$error$jscomp$18$$.stack||($JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.s=$error$jscomp$18$$.stack),$error$jscomp$18$$.message&&($error$jscomp$18$$.message+=" _reported_")):($JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.f=$JSCompiler_element$jscomp$inline_296_filename$jscomp$1$$||"",$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.l=$line$jscomp$1$$||"",$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.c=$col$jscomp$1$$||
"");$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.r=self.document.referrer;$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.ae=$accumulatedErrorMessages$$module$src$error$$.join(",");$JSCompiler_message$jscomp$inline_287_data$jscomp$63$$.fr=self.location.originalHash||self.location.hash;$JSCompiler_element$jscomp$inline_296_filename$jscomp$1$$=$message$jscomp$32$$;25<=$accumulatedErrorMessages$$module$src$error$$.length&&$accumulatedErrorMessages$$module$src$error$$.splice(0,$accumulatedErrorMessages$$module$src$error$$.length-
25+1);$accumulatedErrorMessages$$module$src$error$$.push($JSCompiler_element$jscomp$inline_296_filename$jscomp$1$$);return $JSCompiler_message$jscomp$inline_287_data$jscomp$63$$}}}function $detectNonAmpJs$$module$src$error$$(){for(var $scripts$jscomp$2$$=self.document.querySelectorAll("script[src]"),$i$jscomp$27$$=0;$i$jscomp$27$$<$scripts$jscomp$2$$.length;$i$jscomp$27$$++)if(!$isProxyOrigin$$module$src$url$$($scripts$jscomp$2$$[$i$jscomp$27$$].src.toLowerCase()))return!0;return!1}
function $detectJsEngineFromStack$$module$src$error$$(){function $Fn$$(){}$Fn$$.prototype.t=function(){throw Error("message");};var $object$jscomp$1_stack$jscomp$1$$=new $Fn$$;try{$object$jscomp$1_stack$jscomp$1$$.t()}catch($e$jscomp$24$$){$object$jscomp$1_stack$jscomp$1$$=$e$jscomp$24$$.stack;if($startsWith$$module$src$string$$($object$jscomp$1_stack$jscomp$1$$,"t@"))return"Safari";if(-1<$object$jscomp$1_stack$jscomp$1$$.indexOf(".prototype.t@"))return"Firefox";var $last$$=$object$jscomp$1_stack$jscomp$1$$.split("\n").pop();
if(/\bat .* \(/i.test($last$$))return"IE";if($startsWith$$module$src$string$$($object$jscomp$1_stack$jscomp$1$$,"Error: message"))return"Chrome"}return"unknown"};var $ACTION_MAP_$$module$src$service$action_impl$$="__AMP_ACTION_MAP__"+Math.random(),$NON_AMP_ELEMENTS_ACTIONS_$$module$src$service$action_impl$$={form:["submit","clear"]},$TAPPABLE_ARIA_ROLES$$module$src$service$action_impl$$={button:!0,checkbox:!0,link:!0,listbox:!0,menuitem:!0,menuitemcheckbox:!0,menuitemradio:!0,option:!0,radio:!0,scrollbar:!0,slider:!0,spinbutton:!0,"switch":!0,tab:!0,treeitem:!0};
function $ActionInvocation$$module$src$service$action_impl$$($node$jscomp$7$$,$method$jscomp$2$$,$args$jscomp$4$$,$source$jscomp$13$$,$caller$$,$event$jscomp$11$$,$trust$$,$actionEventType$$,$tagOrTarget$$,$sequenceId$$){$actionEventType$$=void 0===$actionEventType$$?"?":$actionEventType$$;$tagOrTarget$$=void 0===$tagOrTarget$$?null:$tagOrTarget$$;$sequenceId$$=void 0===$sequenceId$$?Math.random():$sequenceId$$;this.node=$node$jscomp$7$$;this.method=$method$jscomp$2$$;this.args=$args$jscomp$4$$;this.source=
$source$jscomp$13$$;this.caller=$caller$$;this.event=$event$jscomp$11$$;this.trust=$trust$$;this.actionEventType=$actionEventType$$;this.tagOrTarget=$tagOrTarget$$||$node$jscomp$7$$.tagName;this.sequenceId=$sequenceId$$}
$ActionInvocation$$module$src$service$action_impl$$.prototype.satisfiesTrust=function($minimumTrust$$){return $isFiniteNumber$$module$src$types$$(this.trust)?this.trust<$minimumTrust$$?($user$$module$src$log$$().error("Action",'"'+this.actionEventType+'" is not allowed to invoke '+('"'+this.tagOrTarget+"."+this.method+'".')),!1):!0:($dev$$module$src$log$$().error("Action","Invalid trust for '"+this.method+"': "+this.trust),!1)};
function $ActionService$$module$src$service$action_impl$$($ampdoc$jscomp$11$$,$opt_root$$){this.ampdoc=$ampdoc$jscomp$11$$;this.$root_$=$opt_root$$||$ampdoc$jscomp$11$$.getRootNode();this.$whitelist_$=$JSCompiler_StaticMethods_queryWhitelist_$$(this);this.$globalTargets_$=$map$$module$src$utils$object$$();this.$globalMethodHandlers_$=$map$$module$src$utils$object$$();this.addEvent("tap");this.addEvent("submit");this.addEvent("change");this.addEvent("input-debounced");this.addEvent("input-throttled");
this.addEvent("valid");this.addEvent("invalid")}$ActionService$$module$src$service$action_impl$$.installInEmbedWindow=function($embedWin$jscomp$3$$,$ampdoc$jscomp$12$$){$installServiceInEmbedScope$$module$src$service$$($embedWin$jscomp$3$$,"action",new $ActionService$$module$src$service$action_impl$$($ampdoc$jscomp$12$$,$embedWin$jscomp$3$$.document))};$JSCompiler_prototypeAlias$$=$ActionService$$module$src$service$action_impl$$.prototype;
$JSCompiler_prototypeAlias$$.addEvent=function($name$jscomp$80$$){var $$jscomp$this$jscomp$10$$=this;if("tap"==$name$jscomp$80$$)this.$root_$.addEventListener("click",function($debouncedInput$$){$debouncedInput$$.defaultPrevented||$$jscomp$this$jscomp$10$$.trigger($debouncedInput$$.target,$name$jscomp$80$$,$debouncedInput$$,100)}),this.$root_$.addEventListener("keydown",function($debouncedInput$$){var $throttledInput$$=$debouncedInput$$.target,$event$jscomp$13$$=$debouncedInput$$.key;if("Enter"==
$event$jscomp$13$$||" "==$event$jscomp$13$$){var $role$$=$throttledInput$$.getAttribute("role"),$isTapEventRole$$=$role$$&&$hasOwn_$$module$src$utils$object$$.call($TAPPABLE_ARIA_ROLES$$module$src$service$action_impl$$,$role$$.toLowerCase());!$debouncedInput$$.defaultPrevented&&$isTapEventRole$$&&($debouncedInput$$.preventDefault(),$$jscomp$this$jscomp$10$$.trigger($throttledInput$$,$name$jscomp$80$$,$debouncedInput$$,100))}});else if("submit"==$name$jscomp$80$$)this.$root_$.addEventListener($name$jscomp$80$$,
function($debouncedInput$$){$$jscomp$this$jscomp$10$$.trigger($debouncedInput$$.target,$name$jscomp$80$$,$debouncedInput$$,100)});else if("change"==$name$jscomp$80$$)this.$root_$.addEventListener($name$jscomp$80$$,function($debouncedInput$$){var $throttledInput$$=$debouncedInput$$.target;$JSCompiler_StaticMethods_addTargetPropertiesAsDetail_$$($debouncedInput$$);$$jscomp$this$jscomp$10$$.trigger($throttledInput$$,$name$jscomp$80$$,$debouncedInput$$,100)});else if("input-debounced"==$name$jscomp$80$$){var $debouncedInput$$=
$debounce$$module$src$utils$rate_limit$$(this.ampdoc.win,function($debouncedInput$$){$$jscomp$this$jscomp$10$$.trigger($debouncedInput$$.target,$name$jscomp$80$$,$debouncedInput$$,100)},300);this.$root_$.addEventListener("input",function($name$jscomp$80$$){var $$jscomp$this$jscomp$10$$=new $DeferredEvent$$module$src$service$action_impl$$($name$jscomp$80$$);$JSCompiler_StaticMethods_addTargetPropertiesAsDetail_$$($$jscomp$this$jscomp$10$$);$debouncedInput$$($$jscomp$this$jscomp$10$$)})}else if("input-throttled"==
$name$jscomp$80$$){var $throttledInput$$=$throttle$$module$src$utils$rate_limit$$(this.ampdoc.win,function($debouncedInput$$){$$jscomp$this$jscomp$10$$.trigger($debouncedInput$$.target,$name$jscomp$80$$,$debouncedInput$$,100)});this.$root_$.addEventListener("input",function($name$jscomp$80$$){$name$jscomp$80$$=new $DeferredEvent$$module$src$service$action_impl$$($name$jscomp$80$$);$JSCompiler_StaticMethods_addTargetPropertiesAsDetail_$$($name$jscomp$80$$);$throttledInput$$($name$jscomp$80$$)})}else"valid"!=
$name$jscomp$80$$&&"invalid"!=$name$jscomp$80$$||this.$root_$.addEventListener($name$jscomp$80$$,function($debouncedInput$$){$$jscomp$this$jscomp$10$$.trigger($debouncedInput$$.target,$name$jscomp$80$$,$debouncedInput$$,100)})};$JSCompiler_prototypeAlias$$.addGlobalTarget=function($name$jscomp$81$$,$handler$jscomp$7$$){this.$globalTargets_$[$name$jscomp$81$$]=$handler$jscomp$7$$};
$JSCompiler_prototypeAlias$$.addGlobalMethodHandler=function($name$jscomp$82$$,$handler$jscomp$8$$,$minTrust$jscomp$3$$){this.$globalMethodHandlers_$[$name$jscomp$82$$]={handler:$handler$jscomp$8$$,minTrust:void 0===$minTrust$jscomp$3$$?100:$minTrust$jscomp$3$$}};
$JSCompiler_prototypeAlias$$.trigger=function($target$jscomp$90$$,$eventType$jscomp$9$$,$event$jscomp$21$$,$trust$jscomp$1$$,$opt_args$jscomp$1$$){$JSCompiler_StaticMethods_action_$$(this,$target$jscomp$90$$,$eventType$jscomp$9$$,$event$jscomp$21$$,$trust$jscomp$1$$,$opt_args$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.execute=function($invocation$jscomp$1_target$jscomp$91$$,$method$jscomp$3$$,$args$jscomp$5$$,$source$jscomp$14$$,$caller$jscomp$1$$,$event$jscomp$22$$,$trust$jscomp$2$$){$invocation$jscomp$1_target$jscomp$91$$=new $ActionInvocation$$module$src$service$action_impl$$($invocation$jscomp$1_target$jscomp$91$$,$method$jscomp$3$$,$args$jscomp$5$$,$source$jscomp$14$$,$caller$jscomp$1$$,$event$jscomp$22$$,$trust$jscomp$2$$);$JSCompiler_StaticMethods_invoke_$$(this,$invocation$jscomp$1_target$jscomp$91$$)};
$JSCompiler_prototypeAlias$$.installActionHandler=function($target$jscomp$92$$,$handler$jscomp$9$$){$target$jscomp$92$$.getAttribute("id");if($target$jscomp$92$$.__AMP_ACTION_HANDLER__)$dev$$module$src$log$$().error("Action","Action handler already installed for "+$target$jscomp$92$$);else{$target$jscomp$92$$.__AMP_ACTION_HANDLER__=$handler$jscomp$9$$;var $queuedInvocations$$=$target$jscomp$92$$.__AMP_ACTION_QUEUE__;Array.isArray($queuedInvocations$$)&&$Services$$module$src$services$timerFor$$($target$jscomp$92$$.ownerDocument.defaultView).delay(function(){$queuedInvocations$$.forEach(function($target$jscomp$92$$){try{$handler$jscomp$9$$($target$jscomp$92$$)}catch($e$jscomp$25$$){$dev$$module$src$log$$().error("Action",
"Action execution failed:",$target$jscomp$92$$,$e$jscomp$25$$)}});$target$jscomp$92$$.__AMP_ACTION_QUEUE__.length=0},1)}};$JSCompiler_prototypeAlias$$.hasAction=function($element$jscomp$90$$,$actionEventType$jscomp$1$$,$opt_stopAt$jscomp$1$$){return!!$JSCompiler_StaticMethods_findAction_$$($element$jscomp$90$$,$actionEventType$jscomp$1$$,$opt_stopAt$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.hasResolvableAction=function($element$jscomp$91$$,$actionEventType$jscomp$2$$,$opt_stopAt$jscomp$2$$){var $$jscomp$this$jscomp$11$$=this,$action$$=$JSCompiler_StaticMethods_findAction_$$($element$jscomp$91$$,$actionEventType$jscomp$2$$,$opt_stopAt$jscomp$2$$);return $action$$?$action$$.actionInfos.some(function($element$jscomp$91$$){$element$jscomp$91$$=$element$jscomp$91$$.target;return!($$jscomp$this$jscomp$11$$.$globalTargets_$[$element$jscomp$91$$]?!$$jscomp$this$jscomp$11$$.$root_$:
!$$jscomp$this$jscomp$11$$.$root_$.getElementById($element$jscomp$91$$))}):!1};$JSCompiler_prototypeAlias$$.setWhitelist=function($whitelist$$){this.$whitelist_$=$whitelist$$};$JSCompiler_prototypeAlias$$.addToWhitelist=function($tagOrTarget$jscomp$1$$,$method$jscomp$4$$){this.$whitelist_$||(this.$whitelist_$=[]);this.$whitelist_$.push({tagOrTarget:$tagOrTarget$jscomp$1$$,method:$method$jscomp$4$$})};
function $JSCompiler_StaticMethods_action_$$($JSCompiler_StaticMethods_action_$self$$,$source$jscomp$15$$,$actionEventType$jscomp$3$$,$event$jscomp$23$$,$trust$jscomp$3$$,$opt_args$jscomp$2$$){var $action$jscomp$1$$=$JSCompiler_StaticMethods_findAction_$$($source$jscomp$15$$,$actionEventType$jscomp$3$$);if($action$jscomp$1$$){var $sequenceId$jscomp$1$$=Math.random(),$currentPromise$$=null;$action$jscomp$1$$.actionInfos.forEach(function($$jscomp$destructuring$var27$$){function $invokeAction$$(){var $opt_args$jscomp$2$$=
$JSCompiler_StaticMethods_action_$self$$.$globalTargets_$[$target$jscomp$95$$]?$JSCompiler_StaticMethods_action_$self$$.$root_$:$JSCompiler_StaticMethods_action_$self$$.$root_$.getElementById($target$jscomp$95$$);if($opt_args$jscomp$2$$)return $opt_args$jscomp$2$$=new $ActionInvocation$$module$src$service$action_impl$$($opt_args$jscomp$2$$,$method$jscomp$5$$,$dereferencedArgs$$,$source$jscomp$15$$,$action$jscomp$1$$.node,$event$jscomp$23$$,$trust$jscomp$3$$,$actionEventType$jscomp$3$$,$opt_args$jscomp$2$$.tagName||
$target$jscomp$95$$,$sequenceId$jscomp$1$$),$JSCompiler_StaticMethods_invoke_$$($JSCompiler_StaticMethods_action_$self$$,$opt_args$jscomp$2$$);$JSCompiler_StaticMethods_action_$self$$.$error_$('Target "'+$target$jscomp$95$$+'" not found for action ['+$str$jscomp$8$$+"].")}var $target$jscomp$95$$=$$jscomp$destructuring$var27$$.target,$method$jscomp$5$$=$$jscomp$destructuring$var27$$.method,$str$jscomp$8$$=$$jscomp$destructuring$var27$$.str,$dereferencedArgs$$=$dereferenceArgsVariables$$module$src$service$action_impl$$($$jscomp$destructuring$var27$$.args,
$event$jscomp$23$$,$opt_args$jscomp$2$$);$currentPromise$$=$currentPromise$$?$currentPromise$$.then($invokeAction$$):$invokeAction$$()})}}
$JSCompiler_prototypeAlias$$.$error_$=function($e$jscomp$26_message$jscomp$33$$,$opt_element$jscomp$15$$){if($opt_element$jscomp$15$$)throw $e$jscomp$26_message$jscomp$33$$=$user$$module$src$log$$().createError("[Action] "+$e$jscomp$26_message$jscomp$33$$),$reportError$$module$src$error$$($e$jscomp$26_message$jscomp$33$$,$opt_element$jscomp$15$$),$e$jscomp$26_message$jscomp$33$$;$user$$module$src$log$$().error("Action",$e$jscomp$26_message$jscomp$33$$)};
function $JSCompiler_StaticMethods_invoke_$$($JSCompiler_StaticMethods_invoke_$self_handler$jscomp$10$$,$invocation$jscomp$4$$){var $method$jscomp$6$$=$invocation$jscomp$4$$.method,$tagOrTarget$jscomp$2$$=$invocation$jscomp$4$$.tagOrTarget;if($JSCompiler_StaticMethods_invoke_$self_handler$jscomp$10$$.$whitelist_$&&!$isActionWhitelisted$$module$src$service$action_impl$$($invocation$jscomp$4$$,$JSCompiler_StaticMethods_invoke_$self_handler$jscomp$10$$.$whitelist_$))return $JSCompiler_StaticMethods_invoke_$self_handler$jscomp$10$$.$error_$('"'+
$tagOrTarget$jscomp$2$$+"."+$method$jscomp$6$$+'" is not whitelisted '+JSON.stringify($JSCompiler_StaticMethods_invoke_$self_handler$jscomp$10$$.$whitelist_$)+"."),null;var $globalTarget$$=$JSCompiler_StaticMethods_invoke_$self_handler$jscomp$10$$.$globalTargets_$[$tagOrTarget$jscomp$2$$];if($globalTarget$$)return $globalTarget$$($invocation$jscomp$4$$);var $node$jscomp$9$$=$invocation$jscomp$4$$.node,$globalMethod$$=$JSCompiler_StaticMethods_invoke_$self_handler$jscomp$10$$.$globalMethodHandlers_$[$method$jscomp$6$$];
if($globalMethod$$&&$invocation$jscomp$4$$.satisfiesTrust($globalMethod$$.minTrust))return $globalMethod$$.handler($invocation$jscomp$4$$);var $lowerTagName$$=$node$jscomp$9$$.tagName.toLowerCase();if("amp-"===$lowerTagName$$.substring(0,4))return $node$jscomp$9$$.enqueAction?$node$jscomp$9$$.enqueAction($invocation$jscomp$4$$):$JSCompiler_StaticMethods_invoke_$self_handler$jscomp$10$$.$error_$('Unrecognized AMP element "'+$lowerTagName$$+'".',$node$jscomp$9$$),null;var $nonAmpActions$$=$NON_AMP_ELEMENTS_ACTIONS_$$module$src$service$action_impl$$[$lowerTagName$$];
if("amp-"===($node$jscomp$9$$.getAttribute("id")||"").substring(0,4)||$nonAmpActions$$&&-1<$nonAmpActions$$.indexOf($method$jscomp$6$$))return($JSCompiler_StaticMethods_invoke_$self_handler$jscomp$10$$=$node$jscomp$9$$.__AMP_ACTION_HANDLER__)?$JSCompiler_StaticMethods_invoke_$self_handler$jscomp$10$$($invocation$jscomp$4$$):($node$jscomp$9$$.__AMP_ACTION_QUEUE__=$node$jscomp$9$$.__AMP_ACTION_QUEUE__||[],$node$jscomp$9$$.__AMP_ACTION_QUEUE__.push($invocation$jscomp$4$$)),null;$JSCompiler_StaticMethods_invoke_$self_handler$jscomp$10$$.$error_$("Target ("+
$tagOrTarget$jscomp$2$$+") doesn't support \""+$method$jscomp$6$$+'" action.',$invocation$jscomp$4$$.caller);return null}
function $JSCompiler_StaticMethods_findAction_$$($n$jscomp$11_target$jscomp$96$$,$actionEventType$jscomp$4$$,$opt_stopAt$jscomp$3$$){for(;$n$jscomp$11_target$jscomp$96$$&&(!$opt_stopAt$jscomp$3$$||$n$jscomp$11_target$jscomp$96$$!=$opt_stopAt$jscomp$3$$);){var $JSCompiler_actionEventType$jscomp$inline_305$$=$actionEventType$jscomp$4$$;var $JSCompiler_actionMap$jscomp$inline_306_JSCompiler_node$jscomp$inline_679$$=$n$jscomp$11_target$jscomp$96$$;var $JSCompiler_action$jscomp$inline_682_JSCompiler_actionEventType$jscomp$inline_680$$=
$JSCompiler_actionEventType$jscomp$inline_305$$,$JSCompiler_actionMap$jscomp$inline_681_action$20$jscomp$inline_683$$=$JSCompiler_actionMap$jscomp$inline_306_JSCompiler_node$jscomp$inline_679$$[$ACTION_MAP_$$module$src$service$action_impl$$];void 0===$JSCompiler_actionMap$jscomp$inline_681_action$20$jscomp$inline_683$$&&($JSCompiler_actionMap$jscomp$inline_681_action$20$jscomp$inline_683$$=null,$JSCompiler_actionMap$jscomp$inline_306_JSCompiler_node$jscomp$inline_679$$.hasAttribute("on")?($JSCompiler_action$jscomp$inline_682_JSCompiler_actionEventType$jscomp$inline_680$$=
$JSCompiler_actionMap$jscomp$inline_306_JSCompiler_node$jscomp$inline_679$$.getAttribute("on"),$JSCompiler_actionMap$jscomp$inline_681_action$20$jscomp$inline_683$$=$parseActionMap$$module$src$service$action_impl$$($JSCompiler_action$jscomp$inline_682_JSCompiler_actionEventType$jscomp$inline_680$$,$JSCompiler_actionMap$jscomp$inline_306_JSCompiler_node$jscomp$inline_679$$),$JSCompiler_actionMap$jscomp$inline_306_JSCompiler_node$jscomp$inline_679$$[$ACTION_MAP_$$module$src$service$action_impl$$]=$JSCompiler_actionMap$jscomp$inline_681_action$20$jscomp$inline_683$$):
$JSCompiler_actionMap$jscomp$inline_306_JSCompiler_node$jscomp$inline_679$$.hasAttribute("execute")&&($JSCompiler_actionMap$jscomp$inline_681_action$20$jscomp$inline_683$$=$JSCompiler_actionMap$jscomp$inline_306_JSCompiler_node$jscomp$inline_679$$.getAttribute("execute"),$JSCompiler_actionMap$jscomp$inline_681_action$20$jscomp$inline_683$$=$parseActionMap$$module$src$service$action_impl$$($JSCompiler_action$jscomp$inline_682_JSCompiler_actionEventType$jscomp$inline_680$$+":"+$JSCompiler_actionMap$jscomp$inline_681_action$20$jscomp$inline_683$$,
$JSCompiler_actionMap$jscomp$inline_306_JSCompiler_node$jscomp$inline_679$$),$JSCompiler_actionMap$jscomp$inline_306_JSCompiler_node$jscomp$inline_679$$[$ACTION_MAP_$$module$src$service$action_impl$$]=$JSCompiler_actionMap$jscomp$inline_681_action$20$jscomp$inline_683$$));var $actionInfos$$=($JSCompiler_actionMap$jscomp$inline_306_JSCompiler_node$jscomp$inline_679$$=$JSCompiler_actionMap$jscomp$inline_681_action$20$jscomp$inline_683$$)?$JSCompiler_actionMap$jscomp$inline_306_JSCompiler_node$jscomp$inline_679$$[$JSCompiler_actionEventType$jscomp$inline_305$$]||
null:null;if($actionInfos$$&&!$n$jscomp$11_target$jscomp$96$$.disabled&&!$matches$$module$src$dom$$($n$jscomp$11_target$jscomp$96$$,":disabled"))return{node:$n$jscomp$11_target$jscomp$96$$,actionInfos:$actionInfos$$};$n$jscomp$11_target$jscomp$96$$=$n$jscomp$11_target$jscomp$96$$.parentElement}return null}$JSCompiler_prototypeAlias$$.setActions=function($node$jscomp$12$$,$actionsStr$$){$node$jscomp$12$$.setAttribute("on",$actionsStr$$);delete $node$jscomp$12$$[$ACTION_MAP_$$module$src$service$action_impl$$]};
function $JSCompiler_StaticMethods_queryWhitelist_$$($JSCompiler_StaticMethods_queryWhitelist_$self$$){var $head$jscomp$3_meta$jscomp$1$$=$JSCompiler_StaticMethods_queryWhitelist_$self$$.ampdoc.getRootNode().head;return $head$jscomp$3_meta$jscomp$1$$?($head$jscomp$3_meta$jscomp$1$$=$head$jscomp$3_meta$jscomp$1$$.querySelector('meta[name="amp-action-whitelist"]'))?$head$jscomp$3_meta$jscomp$1$$.getAttribute("content").split(",").filter(function($JSCompiler_StaticMethods_queryWhitelist_$self$$){return $JSCompiler_StaticMethods_queryWhitelist_$self$$}).map(function($head$jscomp$3_meta$jscomp$1$$){var $action$jscomp$4$$=
$head$jscomp$3_meta$jscomp$1$$.split(".");if(2>$action$jscomp$4$$.length)$JSCompiler_StaticMethods_queryWhitelist_$self$$.$error_$("Invalid action whitelist entry: "+$head$jscomp$3_meta$jscomp$1$$+".");else return{tagOrTarget:$action$jscomp$4$$[0].trim(),method:$action$jscomp$4$$[1].trim()}}).filter(function($JSCompiler_StaticMethods_queryWhitelist_$self$$){return $JSCompiler_StaticMethods_queryWhitelist_$self$$}):null:null}
function $JSCompiler_StaticMethods_addTargetPropertiesAsDetail_$$($event$jscomp$24$$){var $detail$jscomp$4$$=$map$$module$src$utils$object$$(),$target$jscomp$97$$=$event$jscomp$24$$.target;void 0!==$target$jscomp$97$$.value&&($detail$jscomp$4$$.value=$target$jscomp$97$$.value);"INPUT"==$target$jscomp$97$$.tagName&&($detail$jscomp$4$$.valueAsNumber=Number($target$jscomp$97$$.value));void 0!==$target$jscomp$97$$.checked&&($detail$jscomp$4$$.checked=$target$jscomp$97$$.checked);if(void 0!==$target$jscomp$97$$.min||
void 0!==$target$jscomp$97$$.max)$detail$jscomp$4$$.min=$target$jscomp$97$$.min,$detail$jscomp$4$$.max=$target$jscomp$97$$.max;0<Object.keys($detail$jscomp$4$$).length&&($event$jscomp$24$$.detail=$detail$jscomp$4$$)}
function $isActionWhitelisted$$module$src$service$action_impl$$($invocation$jscomp$5_tagOrTarget$jscomp$4$$,$whitelist$jscomp$1$$){var $method$jscomp$8$$=$invocation$jscomp$5_tagOrTarget$jscomp$4$$.method,$node$jscomp$13$$=$invocation$jscomp$5_tagOrTarget$jscomp$4$$.node;$invocation$jscomp$5_tagOrTarget$jscomp$4$$=$invocation$jscomp$5_tagOrTarget$jscomp$4$$.tagOrTarget;"activate"===$method$jscomp$8$$&&"function"==typeof $node$jscomp$13$$.getDefaultActionAlias&&($method$jscomp$8$$=$node$jscomp$13$$.getDefaultActionAlias());
var $lcMethod$$=$method$jscomp$8$$.toLowerCase(),$lcTagOrTarget$$=$invocation$jscomp$5_tagOrTarget$jscomp$4$$.toLowerCase();return $whitelist$jscomp$1$$.some(function($invocation$jscomp$5_tagOrTarget$jscomp$4$$){return $invocation$jscomp$5_tagOrTarget$jscomp$4$$.tagOrTarget.toLowerCase()!==$lcTagOrTarget$$&&"*"!==$invocation$jscomp$5_tagOrTarget$jscomp$4$$.tagOrTarget||$invocation$jscomp$5_tagOrTarget$jscomp$4$$.method.toLowerCase()!==$lcMethod$$?!1:!0})}
function $DeferredEvent$$module$src$service$action_impl$$($event$jscomp$25$$){this.detail=null;var $JSCompiler_clone$jscomp$inline_310$$=this||$map$$module$src$utils$object$$(),$JSCompiler_prop$jscomp$inline_311$$;for($JSCompiler_prop$jscomp$inline_311$$ in $event$jscomp$25$$)$JSCompiler_clone$jscomp$inline_310$$[$JSCompiler_prop$jscomp$inline_311$$]="function"===typeof $event$jscomp$25$$[$JSCompiler_prop$jscomp$inline_311$$]?$notImplemented$$module$src$service$action_impl$$:$event$jscomp$25$$[$JSCompiler_prop$jscomp$inline_311$$]}
function $notImplemented$$module$src$service$action_impl$$(){}
function $parseActionMap$$module$src$service$action_impl$$($action$jscomp$6$$,$actionMap$jscomp$2_context$jscomp$1$$){var $assertAction$$=$assertActionForParser$$module$src$service$action_impl$$.bind(null,$action$jscomp$6$$,$actionMap$jscomp$2_context$jscomp$1$$),$assertToken$$=$assertTokenForParser$$module$src$service$action_impl$$.bind(null,$action$jscomp$6$$,$actionMap$jscomp$2_context$jscomp$1$$);$actionMap$jscomp$2_context$jscomp$1$$=null;var $toks$$=new $ParserTokenizer$$module$src$service$action_impl$$($action$jscomp$6$$);
do{var $tok$$=$toks$$.next();if($tok$$.type!=$TokenType$$module$src$service$action_impl$EOF$$&&($tok$$.type!=$TokenType$$module$src$service$action_impl$SEPARATOR$$||";"!=$tok$$.value))if($tok$$.type==$TokenType$$module$src$service$action_impl$LITERAL$$||$tok$$.type==$TokenType$$module$src$service$action_impl$ID$$){var $event$jscomp$26$$=$tok$$.value;$assertToken$$($toks$$.next(),[$TokenType$$module$src$service$action_impl$SEPARATOR$$],":");var $actions$$=[];do{var $target$jscomp$98$$=$assertToken$$($toks$$.next(),
[$TokenType$$module$src$service$action_impl$LITERAL$$,$TokenType$$module$src$service$action_impl$ID$$]).value,$method$jscomp$9$$="activate",$JSCompiler_toks$jscomp$inline_313_args$jscomp$7$$=null;var $peek$$=$toks$$.peek();if($peek$$.type==$TokenType$$module$src$service$action_impl$SEPARATOR$$&&"."==$peek$$.value&&($toks$$.next(),$method$jscomp$9$$=$assertToken$$($toks$$.next(),[$TokenType$$module$src$service$action_impl$LITERAL$$,$TokenType$$module$src$service$action_impl$ID$$]).value||$method$jscomp$9$$,
$peek$$=$toks$$.peek(),$peek$$.type==$TokenType$$module$src$service$action_impl$SEPARATOR$$&&"("==$peek$$.value)){$toks$$.next();$JSCompiler_toks$jscomp$inline_313_args$jscomp$7$$=$toks$$;var $JSCompiler_assertToken$jscomp$inline_314$$=$assertToken$$,$JSCompiler_assertAction$jscomp$inline_315$$=$assertAction$$,$JSCompiler_argValue$jscomp$inline_324_JSCompiler_peek$jscomp$inline_316_JSCompiler_type$jscomp$inline_321$$=$JSCompiler_toks$jscomp$inline_313_args$jscomp$7$$.peek(),$JSCompiler_args$jscomp$inline_318$$=
null;if($JSCompiler_argValue$jscomp$inline_324_JSCompiler_peek$jscomp$inline_316_JSCompiler_type$jscomp$inline_321$$.type==$TokenType$$module$src$service$action_impl$OBJECT$$){$JSCompiler_args$jscomp$inline_318$$=$map$$module$src$utils$object$$();var $JSCompiler_tok$jscomp$inline_317_JSCompiler_value$jscomp$inline_319$$=$JSCompiler_toks$jscomp$inline_313_args$jscomp$7$$.next().value;$JSCompiler_args$jscomp$inline_318$$.__AMP_OBJECT_STRING__=$JSCompiler_tok$jscomp$inline_317_JSCompiler_value$jscomp$inline_319$$;
$JSCompiler_assertToken$jscomp$inline_314$$($JSCompiler_toks$jscomp$inline_313_args$jscomp$7$$.next(),[$TokenType$$module$src$service$action_impl$SEPARATOR$$],")")}else{do{var $JSCompiler_$jscomp$inline_320_value$21$jscomp$inline_322$$=$JSCompiler_tok$jscomp$inline_317_JSCompiler_value$jscomp$inline_319$$=$JSCompiler_toks$jscomp$inline_313_args$jscomp$7$$.next();$JSCompiler_argValue$jscomp$inline_324_JSCompiler_peek$jscomp$inline_316_JSCompiler_type$jscomp$inline_321$$=$JSCompiler_$jscomp$inline_320_value$21$jscomp$inline_322$$.type;
$JSCompiler_$jscomp$inline_320_value$21$jscomp$inline_322$$=$JSCompiler_$jscomp$inline_320_value$21$jscomp$inline_322$$.value;if($JSCompiler_argValue$jscomp$inline_324_JSCompiler_peek$jscomp$inline_316_JSCompiler_type$jscomp$inline_321$$!=$TokenType$$module$src$service$action_impl$SEPARATOR$$||","!=$JSCompiler_$jscomp$inline_320_value$21$jscomp$inline_322$$&&")"!=$JSCompiler_$jscomp$inline_320_value$21$jscomp$inline_322$$)if($JSCompiler_argValue$jscomp$inline_324_JSCompiler_peek$jscomp$inline_316_JSCompiler_type$jscomp$inline_321$$==
$TokenType$$module$src$service$action_impl$LITERAL$$||$JSCompiler_argValue$jscomp$inline_324_JSCompiler_peek$jscomp$inline_316_JSCompiler_type$jscomp$inline_321$$==$TokenType$$module$src$service$action_impl$ID$$){$JSCompiler_assertToken$jscomp$inline_314$$($JSCompiler_toks$jscomp$inline_313_args$jscomp$7$$.next(),[$TokenType$$module$src$service$action_impl$SEPARATOR$$],"=");$JSCompiler_tok$jscomp$inline_317_JSCompiler_value$jscomp$inline_319$$=$JSCompiler_assertToken$jscomp$inline_314$$($JSCompiler_toks$jscomp$inline_313_args$jscomp$7$$.next(!0),
[$TokenType$$module$src$service$action_impl$LITERAL$$,$TokenType$$module$src$service$action_impl$ID$$]);var $JSCompiler_argValueTokens$jscomp$inline_323$$=[$JSCompiler_tok$jscomp$inline_317_JSCompiler_value$jscomp$inline_319$$];if($JSCompiler_tok$jscomp$inline_317_JSCompiler_value$jscomp$inline_319$$.type==$TokenType$$module$src$service$action_impl$ID$$)for($JSCompiler_argValue$jscomp$inline_324_JSCompiler_peek$jscomp$inline_316_JSCompiler_type$jscomp$inline_321$$=$JSCompiler_toks$jscomp$inline_313_args$jscomp$7$$.peek();$JSCompiler_argValue$jscomp$inline_324_JSCompiler_peek$jscomp$inline_316_JSCompiler_type$jscomp$inline_321$$.type==
$TokenType$$module$src$service$action_impl$SEPARATOR$$&&"."==$JSCompiler_argValue$jscomp$inline_324_JSCompiler_peek$jscomp$inline_316_JSCompiler_type$jscomp$inline_321$$.value;$JSCompiler_argValue$jscomp$inline_324_JSCompiler_peek$jscomp$inline_316_JSCompiler_type$jscomp$inline_321$$=$JSCompiler_toks$jscomp$inline_313_args$jscomp$7$$.peek())$JSCompiler_toks$jscomp$inline_313_args$jscomp$7$$.next(),$JSCompiler_tok$jscomp$inline_317_JSCompiler_value$jscomp$inline_319$$=$JSCompiler_assertToken$jscomp$inline_314$$($JSCompiler_toks$jscomp$inline_313_args$jscomp$7$$.next(!1),
[$TokenType$$module$src$service$action_impl$ID$$]),$JSCompiler_argValueTokens$jscomp$inline_323$$.push($JSCompiler_tok$jscomp$inline_317_JSCompiler_value$jscomp$inline_319$$);$JSCompiler_argValue$jscomp$inline_324_JSCompiler_peek$jscomp$inline_316_JSCompiler_type$jscomp$inline_321$$=$argValueForTokens$$module$src$service$action_impl$$($JSCompiler_argValueTokens$jscomp$inline_323$$);$JSCompiler_args$jscomp$inline_318$$||($JSCompiler_args$jscomp$inline_318$$=$map$$module$src$utils$object$$());$JSCompiler_args$jscomp$inline_318$$[$JSCompiler_$jscomp$inline_320_value$21$jscomp$inline_322$$]=
$JSCompiler_argValue$jscomp$inline_324_JSCompiler_peek$jscomp$inline_316_JSCompiler_type$jscomp$inline_321$$;$JSCompiler_argValue$jscomp$inline_324_JSCompiler_peek$jscomp$inline_316_JSCompiler_type$jscomp$inline_321$$=$JSCompiler_toks$jscomp$inline_313_args$jscomp$7$$.peek();$JSCompiler_assertAction$jscomp$inline_315$$($JSCompiler_argValue$jscomp$inline_324_JSCompiler_peek$jscomp$inline_316_JSCompiler_type$jscomp$inline_321$$.type==$TokenType$$module$src$service$action_impl$SEPARATOR$$&&(","==$JSCompiler_argValue$jscomp$inline_324_JSCompiler_peek$jscomp$inline_316_JSCompiler_type$jscomp$inline_321$$.value||
")"==$JSCompiler_argValue$jscomp$inline_324_JSCompiler_peek$jscomp$inline_316_JSCompiler_type$jscomp$inline_321$$.value),"Expected either [,] or [)]")}else $JSCompiler_assertAction$jscomp$inline_315$$(!1,"; unexpected token ["+($JSCompiler_tok$jscomp$inline_317_JSCompiler_value$jscomp$inline_319$$.value||"")+"]")}while($JSCompiler_tok$jscomp$inline_317_JSCompiler_value$jscomp$inline_319$$.type!=$TokenType$$module$src$service$action_impl$SEPARATOR$$||")"!=$JSCompiler_tok$jscomp$inline_317_JSCompiler_value$jscomp$inline_319$$.value)
}$JSCompiler_toks$jscomp$inline_313_args$jscomp$7$$=$JSCompiler_args$jscomp$inline_318$$}$actions$$.push({event:$event$jscomp$26$$,target:$target$jscomp$98$$,method:$method$jscomp$9$$,args:$JSCompiler_toks$jscomp$inline_313_args$jscomp$7$$&&$getMode$$module$src$mode$$().test&&Object.freeze?Object.freeze($JSCompiler_toks$jscomp$inline_313_args$jscomp$7$$):$JSCompiler_toks$jscomp$inline_313_args$jscomp$7$$,str:$action$jscomp$6$$});$peek$$=$toks$$.peek()}while($peek$$.type==$TokenType$$module$src$service$action_impl$SEPARATOR$$&&
","==$peek$$.value&&$toks$$.next());$actionMap$jscomp$2_context$jscomp$1$$||($actionMap$jscomp$2_context$jscomp$1$$=$map$$module$src$utils$object$$());$actionMap$jscomp$2_context$jscomp$1$$[$event$jscomp$26$$]=$actions$$}else $assertAction$$(!1,"; unexpected token ["+($tok$$.value||"")+"]")}while($tok$$.type!=$TokenType$$module$src$service$action_impl$EOF$$);return $actionMap$jscomp$2_context$jscomp$1$$}
function $argValueForTokens$$module$src$service$action_impl$$($tokens$jscomp$1$$){return 0==$tokens$jscomp$1$$.length?null:1==$tokens$jscomp$1$$.length?$tokens$jscomp$1$$[0].value:{expression:$tokens$jscomp$1$$.map(function($tokens$jscomp$1$$){return $tokens$jscomp$1$$.value}).join(".")}}
function $dereferenceArgsVariables$$module$src$service$action_impl$$($args$jscomp$9$$,$detail$jscomp$5_event$jscomp$27$$,$opt_args$jscomp$3$$){if(!$args$jscomp$9$$)return $args$jscomp$9$$;var $data$jscomp$64$$=$opt_args$jscomp$3$$||$dict$$module$src$utils$object$$({});$detail$jscomp$5_event$jscomp$27$$&&($detail$jscomp$5_event$jscomp$27$$=$detail$jscomp$5_event$jscomp$27$$.detail)&&($data$jscomp$64$$.event=$detail$jscomp$5_event$jscomp$27$$);var $applied$$=$map$$module$src$utils$object$$();Object.keys($args$jscomp$9$$).forEach(function($detail$jscomp$5_event$jscomp$27$$){var $opt_args$jscomp$3$$=
$args$jscomp$9$$[$detail$jscomp$5_event$jscomp$27$$];if("object"==typeof $opt_args$jscomp$3$$&&$opt_args$jscomp$3$$.expression){var $key$jscomp$52$$=$getValueForExpr$$module$src$json$$($data$jscomp$64$$,$opt_args$jscomp$3$$.expression);$opt_args$jscomp$3$$=void 0===$key$jscomp$52$$?null:$key$jscomp$52$$}$applied$$[$detail$jscomp$5_event$jscomp$27$$]=$data$jscomp$64$$[$opt_args$jscomp$3$$]?$data$jscomp$64$$[$opt_args$jscomp$3$$]:$opt_args$jscomp$3$$});return $applied$$}
function $assertActionForParser$$module$src$service$action_impl$$($s$jscomp$19$$,$context$jscomp$2$$,$condition$jscomp$2$$,$opt_message$jscomp$15$$){return $userAssert$$module$src$log$$($condition$jscomp$2$$,"Invalid action definition in %s: [%s] %s",$context$jscomp$2$$,$s$jscomp$19$$,$opt_message$jscomp$15$$||"")}
function $assertTokenForParser$$module$src$service$action_impl$$($s$jscomp$20$$,$context$jscomp$3$$,$tok$jscomp$2$$,$types$$,$opt_value$jscomp$9$$){void 0!==$opt_value$jscomp$9$$?$assertActionForParser$$module$src$service$action_impl$$($s$jscomp$20$$,$context$jscomp$3$$,$types$$.includes($tok$jscomp$2$$.type)&&$tok$jscomp$2$$.value==$opt_value$jscomp$9$$,"; expected ["+$opt_value$jscomp$9$$+"]"):$assertActionForParser$$module$src$service$action_impl$$($s$jscomp$20$$,$context$jscomp$3$$,$types$$.includes($tok$jscomp$2$$.type));
return $tok$jscomp$2$$}var $TokenType$$module$src$service$action_impl$EOF$$=1,$TokenType$$module$src$service$action_impl$SEPARATOR$$=2,$TokenType$$module$src$service$action_impl$LITERAL$$=3,$TokenType$$module$src$service$action_impl$ID$$=4,$TokenType$$module$src$service$action_impl$OBJECT$$=5;function $ParserTokenizer$$module$src$service$action_impl$$($str$jscomp$9$$){this.$str_$=$str$jscomp$9$$;this.$index_$=-1}
$ParserTokenizer$$module$src$service$action_impl$$.prototype.next=function($opt_convertValues$$){var $tok$jscomp$3$$=$JSCompiler_StaticMethods_next_$$(this,$opt_convertValues$$||!1);this.$index_$=$tok$jscomp$3$$.index;return $tok$jscomp$3$$};$ParserTokenizer$$module$src$service$action_impl$$.prototype.peek=function($opt_convertValues$jscomp$1$$){return $JSCompiler_StaticMethods_next_$$(this,$opt_convertValues$jscomp$1$$||!1)};
function $JSCompiler_StaticMethods_next_$$($JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$,$convertValues$$){var $newIndex$$=$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$index_$+1;if($newIndex$$>=$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$.length)return{type:$TokenType$$module$src$service$action_impl$EOF$$,index:$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$index_$};
var $c$jscomp$1_i$27$$=$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$.charAt($newIndex$$);if(-1!=" \t\n\r\f\v\u00a0\u2028\u2029".indexOf($c$jscomp$1_i$27$$)){for($newIndex$$++;$newIndex$$<$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$.length&&-1!=" \t\n\r\f\v\u00a0\u2028\u2029".indexOf($JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$.charAt($newIndex$$));$newIndex$$++);
if($newIndex$$>=$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$.length)return{type:$TokenType$$module$src$service$action_impl$EOF$$,index:$newIndex$$};$c$jscomp$1_i$27$$=$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$.charAt($newIndex$$)}if($convertValues$$&&($isNum$$module$src$service$action_impl$$($c$jscomp$1_i$27$$)||"."==$c$jscomp$1_i$27$$&&$newIndex$$+1<$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$.length&&
$isNum$$module$src$service$action_impl$$($JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$[$newIndex$$+1]))){for(var $hasFraction$$="."==$c$jscomp$1_i$27$$,$end$22_end$24_end$26_end$jscomp$5$$=$newIndex$$+1;$end$22_end$24_end$26_end$jscomp$5$$<$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$.length;$end$22_end$24_end$26_end$jscomp$5$$++){var $c2$$=$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$.charAt($end$22_end$24_end$26_end$jscomp$5$$);
if("."==$c2$$)$hasFraction$$=!0;else if(!$isNum$$module$src$service$action_impl$$($c2$$))break}$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$=$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$.substring($newIndex$$,$end$22_end$24_end$26_end$jscomp$5$$);$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$=$hasFraction$$?parseFloat($JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$):
parseInt($JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$,10);$newIndex$$=$end$22_end$24_end$26_end$jscomp$5$$-1;return{type:$TokenType$$module$src$service$action_impl$LITERAL$$,value:$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$,index:$newIndex$$}}if(-1!=";:.()=,|!".indexOf($c$jscomp$1_i$27$$))return{type:$TokenType$$module$src$service$action_impl$SEPARATOR$$,value:$c$jscomp$1_i$27$$,index:$newIndex$$};if(-1!=
"\"'".indexOf($c$jscomp$1_i$27$$)){$end$22_end$24_end$26_end$jscomp$5$$=-1;for(var $i$jscomp$28$$=$newIndex$$+1;$i$jscomp$28$$<$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$.length;$i$jscomp$28$$++)if($JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$.charAt($i$jscomp$28$$)==$c$jscomp$1_i$27$$){$end$22_end$24_end$26_end$jscomp$5$$=$i$jscomp$28$$;break}if(-1==$end$22_end$24_end$26_end$jscomp$5$$)return{type:0,
index:$newIndex$$};$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$=$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$.substring($newIndex$$+1,$end$22_end$24_end$26_end$jscomp$5$$);$newIndex$$=$end$22_end$24_end$26_end$jscomp$5$$;return{type:$TokenType$$module$src$service$action_impl$LITERAL$$,value:$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$,index:$newIndex$$}}if("{"==
$c$jscomp$1_i$27$$){var $numberOfBraces$$=1;$end$22_end$24_end$26_end$jscomp$5$$=-1;for($c$jscomp$1_i$27$$=$newIndex$$+1;$c$jscomp$1_i$27$$<$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$.length;$c$jscomp$1_i$27$$++){var $char$$=$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$[$c$jscomp$1_i$27$$];"{"==$char$$?$numberOfBraces$$++:"}"==$char$$&&$numberOfBraces$$--;if(0>=$numberOfBraces$$){$end$22_end$24_end$26_end$jscomp$5$$=
$c$jscomp$1_i$27$$;break}}if(-1==$end$22_end$24_end$26_end$jscomp$5$$)return{type:0,index:$newIndex$$};$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$=$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$.substring($newIndex$$,$end$22_end$24_end$26_end$jscomp$5$$+1);$newIndex$$=$end$22_end$24_end$26_end$jscomp$5$$;return{type:$TokenType$$module$src$service$action_impl$OBJECT$$,value:$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$,
index:$newIndex$$}}for($end$22_end$24_end$26_end$jscomp$5$$=$newIndex$$+1;$end$22_end$24_end$26_end$jscomp$5$$<$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$.length&&-1==" \t\n\r\f\x0B\u00a0\u2028\u2029;:.()=,|!\"'{}".indexOf($JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$.charAt($end$22_end$24_end$26_end$jscomp$5$$));$end$22_end$24_end$26_end$jscomp$5$$++);$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$=
$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.$str_$.substring($newIndex$$,$end$22_end$24_end$26_end$jscomp$5$$);$newIndex$$=$end$22_end$24_end$26_end$jscomp$5$$-1;return!$convertValues$$||"true"!=$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$&&"false"!=$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$?$isNum$$module$src$service$action_impl$$($JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$.charAt(0))?
{type:$TokenType$$module$src$service$action_impl$LITERAL$$,value:$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$,index:$newIndex$$}:{type:$TokenType$$module$src$service$action_impl$ID$$,value:$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$,index:$newIndex$$}:{type:$TokenType$$module$src$service$action_impl$LITERAL$$,value:"true"==$JSCompiler_StaticMethods_next_$self_s$23_s$jscomp$21_value$25_value$28_value$jscomp$111$$,
index:$newIndex$$}}function $isNum$$module$src$service$action_impl$$($c$jscomp$2$$){return"0"<=$c$jscomp$2$$&&"9">=$c$jscomp$2$$};function $remove$$module$src$utils$array$$($array$jscomp$10$$,$shouldRemove$$){for(var $removed$$=[],$index$jscomp$72$$=0,$i$jscomp$30$$=0;$i$jscomp$30$$<$array$jscomp$10$$.length;$i$jscomp$30$$++){var $item$jscomp$1$$=$array$jscomp$10$$[$i$jscomp$30$$];$shouldRemove$$($item$jscomp$1$$,$i$jscomp$30$$,$array$jscomp$10$$)?$removed$$.push($item$jscomp$1$$):($index$jscomp$72$$<$i$jscomp$30$$&&($array$jscomp$10$$[$index$jscomp$72$$]=$item$jscomp$1$$),$index$jscomp$72$$++)}$index$jscomp$72$$<$array$jscomp$10$$.length&&
($array$jscomp$10$$.length=$index$jscomp$72$$);return $removed$$}function $findIndex$$module$src$utils$array$$($array$jscomp$11$$,$predicate$jscomp$1$$){for(var $i$jscomp$31$$=0;$i$jscomp$31$$<$array$jscomp$11$$.length;$i$jscomp$31$$++)if($predicate$jscomp$1$$($array$jscomp$11$$[$i$jscomp$31$$],$i$jscomp$31$$,$array$jscomp$11$$))return $i$jscomp$31$$;return-1};var $allowedMethods_$$module$src$utils$xhr_utils$$=["GET","POST"];
function $toStructuredCloneable$$module$src$utils$xhr_utils$$($input$jscomp$11$$,$JSCompiler_iterator$jscomp$inline_328_init$jscomp$2$$){var $newInit$$=Object.assign({},$JSCompiler_iterator$jscomp$inline_328_init$jscomp$2$$),$JSCompiler_array$jscomp$inline_329_JSCompiler_o$jscomp$inline_326$$=$JSCompiler_iterator$jscomp$inline_328_init$jscomp$2$$.body;if($JSCompiler_array$jscomp$inline_329_JSCompiler_o$jscomp$inline_326$$&&"function"==typeof $JSCompiler_array$jscomp$inline_329_JSCompiler_o$jscomp$inline_326$$.getFormData){var $wrapper$$=
$JSCompiler_iterator$jscomp$inline_328_init$jscomp$2$$.body;$newInit$$.headers["Content-Type"]="multipart/form-data;charset=utf-8";$JSCompiler_iterator$jscomp$inline_328_init$jscomp$2$$=$wrapper$$.entries();$JSCompiler_array$jscomp$inline_329_JSCompiler_o$jscomp$inline_326$$=[];for(var $JSCompiler_e$jscomp$inline_330$$=$JSCompiler_iterator$jscomp$inline_328_init$jscomp$2$$.next();!$JSCompiler_e$jscomp$inline_330$$.done;$JSCompiler_e$jscomp$inline_330$$=$JSCompiler_iterator$jscomp$inline_328_init$jscomp$2$$.next())$JSCompiler_array$jscomp$inline_329_JSCompiler_o$jscomp$inline_326$$.push($JSCompiler_e$jscomp$inline_330$$.value);
$newInit$$.body=$JSCompiler_array$jscomp$inline_329_JSCompiler_o$jscomp$inline_326$$}return{input:$input$jscomp$11$$,init:$newInit$$}}
function $fromStructuredCloneable$$module$src$utils$xhr_utils$$($response$jscomp$2$$,$responseType$$){$userAssert$$module$src$log$$("[object Object]"===$toString_$$module$src$types$$.call($response$jscomp$2$$),"Object expected: %s",$response$jscomp$2$$);var $isDocumentType$$="document"==$responseType$$;if(!$isDocumentType$$)return new Response($response$jscomp$2$$.body,$response$jscomp$2$$.init);var $lowercasedHeaders$$=$map$$module$src$utils$object$$(),$data$jscomp$66$$={status:200,statusText:"OK",
getResponseHeader:function($response$jscomp$2$$){return $lowercasedHeaders$$[String($response$jscomp$2$$).toLowerCase()]||null}};if($response$jscomp$2$$.init){var $init$jscomp$3$$=$response$jscomp$2$$.init;Array.isArray($init$jscomp$3$$.headers)&&$init$jscomp$3$$.headers.forEach(function($response$jscomp$2$$){var $responseType$$=$response$jscomp$2$$[0],$isDocumentType$$=$response$jscomp$2$$[1];$lowercasedHeaders$$[String($responseType$$).toLowerCase()]=String($isDocumentType$$)});$init$jscomp$3$$.status&&
($data$jscomp$66$$.status=parseInt($init$jscomp$3$$.status,10));$init$jscomp$3$$.statusText&&($data$jscomp$66$$.statusText=String($init$jscomp$3$$.statusText))}return new Response($response$jscomp$2$$.body?String($response$jscomp$2$$.body):"",$data$jscomp$66$$)}
function $getViewerInterceptResponse$$module$src$utils$xhr_utils$$($win$jscomp$90$$,$ampdocSingle$jscomp$1$$,$input$jscomp$12$$,$init$jscomp$4$$){if(!$ampdocSingle$jscomp$1$$)return Promise.resolve();var $viewer$jscomp$5$$=$Services$$module$src$services$viewerForDoc$$($ampdocSingle$jscomp$1$$),$whenFirstVisible$$=$viewer$jscomp$5$$.whenFirstVisible();return!$isProxyOrigin$$module$src$url$$($input$jscomp$12$$)&&$viewer$jscomp$5$$.hasCapability("xhrInterceptor")&&$ampdocSingle$jscomp$1$$.getRootNode().documentElement.hasAttribute("allow-xhr-interception")?
$whenFirstVisible$$.then(function(){return $viewer$jscomp$5$$.isTrustedViewer()}).then(function($ampdocSingle$jscomp$1$$){var $whenFirstVisible$$=$getMode$$module$src$mode$$($win$jscomp$90$$).development;if($ampdocSingle$jscomp$1$$||$whenFirstVisible$$){var $viewerTrusted$jscomp$1$$=$dict$$module$src$utils$object$$({originalRequest:$toStructuredCloneable$$module$src$utils$xhr_utils$$($input$jscomp$12$$,$init$jscomp$4$$)});return $viewer$jscomp$5$$.sendMessageAwaitResponse("xhr",$viewerTrusted$jscomp$1$$).then(function($win$jscomp$90$$){return $fromStructuredCloneable$$module$src$utils$xhr_utils$$($win$jscomp$90$$,
$init$jscomp$4$$.responseType)})}}):$whenFirstVisible$$}
function $setupInput$$module$src$utils$xhr_utils$$($JSCompiler_field$jscomp$inline_687_JSCompiler_sourceOrigin$jscomp$inline_334_win$jscomp$91$$,$JSCompiler_url$jscomp$inline_333_input$jscomp$13$$,$init$jscomp$5$$){!1!==$init$jscomp$5$$.ampCors&&($checkCorsUrl$$module$src$url$$($JSCompiler_url$jscomp$inline_333_input$jscomp$13$$),$JSCompiler_field$jscomp$inline_687_JSCompiler_sourceOrigin$jscomp$inline_334_win$jscomp$91$$=$getSourceOrigin$$module$src$url$$($JSCompiler_field$jscomp$inline_687_JSCompiler_sourceOrigin$jscomp$inline_334_win$jscomp$91$$.location.href),$JSCompiler_field$jscomp$inline_687_JSCompiler_sourceOrigin$jscomp$inline_334_win$jscomp$91$$=
encodeURIComponent("__amp_source_origin")+"="+encodeURIComponent($JSCompiler_field$jscomp$inline_687_JSCompiler_sourceOrigin$jscomp$inline_334_win$jscomp$91$$),$JSCompiler_url$jscomp$inline_333_input$jscomp$13$$=$appendEncodedParamStringToUrl$$module$src$url$$($JSCompiler_url$jscomp$inline_333_input$jscomp$13$$,$JSCompiler_field$jscomp$inline_687_JSCompiler_sourceOrigin$jscomp$inline_334_win$jscomp$91$$,void 0));return $JSCompiler_url$jscomp$inline_333_input$jscomp$13$$}
function $setupInit$$module$src$utils$xhr_utils$$($init$jscomp$6_opt_init$jscomp$7$$){var $opt_accept$$="text/html";$init$jscomp$6_opt_init$jscomp$7$$=$init$jscomp$6_opt_init$jscomp$7$$||{};var $JSCompiler_inline_result$jscomp$145_JSCompiler_method$jscomp$inline_336$$=$init$jscomp$6_opt_init$jscomp$7$$.method;void 0===$JSCompiler_inline_result$jscomp$145_JSCompiler_method$jscomp$inline_336$$?$JSCompiler_inline_result$jscomp$145_JSCompiler_method$jscomp$inline_336$$="GET":($JSCompiler_inline_result$jscomp$145_JSCompiler_method$jscomp$inline_336$$=
$JSCompiler_inline_result$jscomp$145_JSCompiler_method$jscomp$inline_336$$.toUpperCase(),$allowedMethods_$$module$src$utils$xhr_utils$$.includes($JSCompiler_inline_result$jscomp$145_JSCompiler_method$jscomp$inline_336$$));$init$jscomp$6_opt_init$jscomp$7$$.method=$JSCompiler_inline_result$jscomp$145_JSCompiler_method$jscomp$inline_336$$;$init$jscomp$6_opt_init$jscomp$7$$.headers=$init$jscomp$6_opt_init$jscomp$7$$.headers||$dict$$module$src$utils$object$$({});$opt_accept$$&&($init$jscomp$6_opt_init$jscomp$7$$.headers.Accept=
$opt_accept$$);return $init$jscomp$6_opt_init$jscomp$7$$}
function $setupAMPCors$$module$src$utils$xhr_utils$$($win$jscomp$92$$,$input$jscomp$14$$,$init$jscomp$7$$){!1===$init$jscomp$7$$.ampCors&&($init$jscomp$7$$.requireAmpResponseSourceOrigin=!1);!0===$init$jscomp$7$$.requireAmpResponseSourceOrigin&&$dev$$module$src$log$$().error("XHR","requireAmpResponseSourceOrigin is deprecated, use ampCors instead");void 0===$init$jscomp$7$$.requireAmpResponseSourceOrigin&&($init$jscomp$7$$.requireAmpResponseSourceOrigin=!0);var $currentOrigin$$=$win$jscomp$92$$.origin||
$parseUrlDeprecated$$module$src$url$$($win$jscomp$92$$.location.href).origin,$targetOrigin$$=$parseUrlDeprecated$$module$src$url$$($input$jscomp$14$$).origin;$currentOrigin$$==$targetOrigin$$&&($init$jscomp$7$$.headers=$init$jscomp$7$$.headers||{},$init$jscomp$7$$.headers["AMP-Same-Origin"]="true");return $init$jscomp$7$$}
function $assertSuccess$$module$src$utils$xhr_utils$$($response$jscomp$5$$){return new Promise(function($resolve$jscomp$13_status$jscomp$1$$){if($response$jscomp$5$$.ok)return $resolve$jscomp$13_status$jscomp$1$$($response$jscomp$5$$);$resolve$jscomp$13_status$jscomp$1$$=$response$jscomp$5$$.status;var $err$jscomp$4$$=$user$$module$src$log$$().createError("HTTP error "+$resolve$jscomp$13_status$jscomp$1$$);$err$jscomp$4$$.retriable=415==$resolve$jscomp$13_status$jscomp$1$$||500<=$resolve$jscomp$13_status$jscomp$1$$&&
600>$resolve$jscomp$13_status$jscomp$1$$;$err$jscomp$4$$.response=$response$jscomp$5$$;throw $err$jscomp$4$$;})};function $layoutRectLtwh$$module$src$layout_rect$$($left$jscomp$2$$,$top$jscomp$2$$,$width$jscomp$28$$,$height$jscomp$27$$){return{left:$left$jscomp$2$$,top:$top$jscomp$2$$,width:$width$jscomp$28$$,height:$height$jscomp$27$$,bottom:$top$jscomp$2$$+$height$jscomp$27$$,right:$left$jscomp$2$$+$width$jscomp$28$$,x:$left$jscomp$2$$,y:$top$jscomp$2$$}}
function $layoutRectsOverlap$$module$src$layout_rect$$($r1$jscomp$1$$,$r2$$){return $r1$jscomp$1$$.top<=$r2$$.bottom&&$r2$$.top<=$r1$jscomp$1$$.bottom&&$r1$jscomp$1$$.left<=$r2$$.right&&$r2$$.left<=$r1$jscomp$1$$.right}
function $expandLayoutRect$$module$src$layout_rect$$($rect$jscomp$1$$,$dw$$,$dh$$){return $layoutRectLtwh$$module$src$layout_rect$$($rect$jscomp$1$$.left-$rect$jscomp$1$$.width*$dw$$,$rect$jscomp$1$$.top-$rect$jscomp$1$$.height*$dh$$,$rect$jscomp$1$$.width*(1+2*$dw$$),$rect$jscomp$1$$.height*(1+2*$dh$$))}
function $moveLayoutRect$$module$src$layout_rect$$($rect$jscomp$2$$,$dx$jscomp$4$$,$dy$jscomp$4$$){return 0==$dx$jscomp$4$$&&0==$dy$jscomp$4$$||0==$rect$jscomp$2$$.width&&0==$rect$jscomp$2$$.height?$rect$jscomp$2$$:$layoutRectLtwh$$module$src$layout_rect$$($rect$jscomp$2$$.left+$dx$jscomp$4$$,$rect$jscomp$2$$.top+$dy$jscomp$4$$,$rect$jscomp$2$$.width,$rect$jscomp$2$$.height)}
function $layoutRectEquals$$module$src$layout_rect$$($r1$jscomp$3$$,$r2$jscomp$2$$){return $r1$jscomp$3$$&&$r2$jscomp$2$$?$r1$jscomp$3$$.left==$r2$jscomp$2$$.left&&$r1$jscomp$3$$.top==$r2$jscomp$2$$.top&&$r1$jscomp$3$$.width==$r2$jscomp$2$$.width&&$r1$jscomp$3$$.height==$r2$jscomp$2$$.height:!1};function $Resource$$module$src$service$resource$$($deferred$jscomp$3_id$jscomp$37$$,$element$jscomp$99$$,$resources$jscomp$1$$){$element$jscomp$99$$.__AMP__RESOURCE=this;this.$id_$=$deferred$jscomp$3_id$jscomp$37$$;this.element=$element$jscomp$99$$;this.debugid=$element$jscomp$99$$.tagName.toLowerCase()+"#"+$deferred$jscomp$3_id$jscomp$37$$;this.hostWin=$element$jscomp$99$$.ownerDocument.defaultView;this.$resources_$=$resources$jscomp$1$$;this.$isPlaceholder_$=$element$jscomp$99$$.hasAttribute("placeholder");
this.$isBuilding_$=!1;this.$owner_$=void 0;this.$state_$=$element$jscomp$99$$.isBuilt()?1:0;this.$priorityOverride_$=-1;this.$layoutCount_$=0;this.$lastLayoutError_$=null;this.$isFixed_$=!1;this.$layoutBox_$=$layoutRectLtwh$$module$src$layout_rect$$(-1E4,-1E4,0,0);this.$initialLayoutBox_$=null;this.$isMeasureRequested_$=!1;this.$layoutPromise_$=this.$withViewportDeferreds_$=null;this.$pendingChangeSize_$=void 0;this.$loadedOnce_$=!1;$deferred$jscomp$3_id$jscomp$37$$=new $Deferred$$module$src$utils$promise$$;
this.$loadPromise_$=$deferred$jscomp$3_id$jscomp$37$$.promise;this.$loadPromiseResolve_$=$deferred$jscomp$3_id$jscomp$37$$.resolve;this.$useLayers_$=$isExperimentOn$$module$src$experiments$$(this.hostWin,"layers");this.$useLayersPrioritization_$=$isExperimentOn$$module$src$experiments$$(this.hostWin,"layers-prioritization")}function $Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$101$$){return $element$jscomp$101$$.__AMP__RESOURCE}$JSCompiler_prototypeAlias$$=$Resource$$module$src$service$resource$$.prototype;
$JSCompiler_prototypeAlias$$.getId=function(){return this.$id_$};$JSCompiler_prototypeAlias$$.updateOwner=function($owner$jscomp$1$$){this.$owner_$=$owner$jscomp$1$$};$JSCompiler_prototypeAlias$$.getOwner=function(){if(void 0===this.$owner_$){for(var $n$jscomp$12$$=this.element;$n$jscomp$12$$;$n$jscomp$12$$=$n$jscomp$12$$.parentElement)if($n$jscomp$12$$.__AMP__OWNER){this.$owner_$=$n$jscomp$12$$.__AMP__OWNER;break}void 0===this.$owner_$&&(this.$owner_$=null)}return this.$owner_$};
$JSCompiler_prototypeAlias$$.hasOwner=function(){return!!this.getOwner()};$JSCompiler_prototypeAlias$$.getLayoutPriority=function(){return-1!=this.$priorityOverride_$?this.$priorityOverride_$:this.element.getLayoutPriority()};$JSCompiler_prototypeAlias$$.updateLayoutPriority=function($newPriority$$){this.$priorityOverride_$=$newPriority$$};$JSCompiler_prototypeAlias$$.getState=function(){return this.$state_$};$JSCompiler_prototypeAlias$$.isBuilt=function(){return this.element.isBuilt()};
$JSCompiler_prototypeAlias$$.isBuilding=function(){return this.$isBuilding_$};$JSCompiler_prototypeAlias$$.whenBuilt=function(){return this.element.signals().whenSignal("res-built")};
$JSCompiler_prototypeAlias$$.build=function(){var $$jscomp$this$jscomp$20$$=this;if(this.$isBuilding_$||!this.element.isUpgraded()||!this.$resources_$.grantBuildPermission())return null;this.$isBuilding_$=!0;return this.element.build().then(function(){$$jscomp$this$jscomp$20$$.$isBuilding_$=!1;$$jscomp$this$jscomp$20$$.hasBeenMeasured()?($$jscomp$this$jscomp$20$$.$state_$=2,$$jscomp$this$jscomp$20$$.element.updateLayoutBox($$jscomp$this$jscomp$20$$.getLayoutBox(),!0)):$$jscomp$this$jscomp$20$$.$state_$=
1;$$jscomp$this$jscomp$20$$.element.signals().signal("res-built");$$jscomp$this$jscomp$20$$.element.dispatchCustomEvent("amp:built")},function($reason$jscomp$9$$){$$jscomp$this$jscomp$20$$.maybeReportErrorOnBuildFailure($reason$jscomp$9$$);$$jscomp$this$jscomp$20$$.$isBuilding_$=!1;$$jscomp$this$jscomp$20$$.element.signals().rejectSignal("res-built",$reason$jscomp$9$$);throw $reason$jscomp$9$$;})};
$JSCompiler_prototypeAlias$$.maybeReportErrorOnBuildFailure=function($reason$jscomp$10$$){$isBlockedByConsent$$module$src$error$$($reason$jscomp$10$$)||$dev$$module$src$log$$().error("Resource","failed to build:",this.debugid,$reason$jscomp$10$$)};$JSCompiler_prototypeAlias$$.applySizesAndMediaQuery=function(){this.element.applySizesAndMediaQuery()};
$JSCompiler_prototypeAlias$$.changeSize=function($newHeight$jscomp$3$$,$newWidth$jscomp$1$$,$opt_newMargins$$){this.element.changeSize($newHeight$jscomp$3$$,$newWidth$jscomp$1$$,$opt_newMargins$$);this.requestMeasure()};
$JSCompiler_prototypeAlias$$.overflowCallback=function($overflown$$,$requestedHeight$$,$requestedWidth$$,$requestedMargins$$){$overflown$$&&(this.$pendingChangeSize_$={height:$requestedHeight$$,width:$requestedWidth$$,margins:$requestedMargins$$});this.element.overflowCallback($overflown$$,$requestedHeight$$,$requestedWidth$$,$requestedMargins$$)};$JSCompiler_prototypeAlias$$.resetPendingChangeSize=function(){this.$pendingChangeSize_$=void 0};$JSCompiler_prototypeAlias$$.getPendingChangeSize=function(){return this.$pendingChangeSize_$};
$JSCompiler_prototypeAlias$$.getUpgradeDelayMs=function(){return this.element.getUpgradeDelayMs()};
$JSCompiler_prototypeAlias$$.measure=function(){if(!(this.$isPlaceholder_$&&this.element.parentElement&&$startsWith$$module$src$string$$(this.element.parentElement.tagName,"AMP-"))||"__AMP__RESOURCE"in this.element.parentElement){this.$isMeasureRequested_$=!1;var $oldBox$$=this.$layoutBox_$;if(this.$useLayers_$){var $JSCompiler_element$jscomp$inline_339_JSCompiler_from$jscomp$inline_350_JSCompiler_viewport$jscomp$inline_343$$=this.element;$JSCompiler_element$jscomp$inline_339_JSCompiler_from$jscomp$inline_350_JSCompiler_viewport$jscomp$inline_343$$.getLayers().remeasure($JSCompiler_element$jscomp$inline_339_JSCompiler_from$jscomp$inline_350_JSCompiler_viewport$jscomp$inline_343$$,
!0);this.$layoutBox_$=this.getPageLayoutBox()}else{$JSCompiler_element$jscomp$inline_339_JSCompiler_from$jscomp$inline_350_JSCompiler_viewport$jscomp$inline_343$$=this.$resources_$.getViewport();var $JSCompiler_box$jscomp$inline_344_JSCompiler_to$jscomp$inline_351$$=this.$resources_$.getViewport().getLayoutRect(this.element);this.$layoutBox_$=$JSCompiler_box$jscomp$inline_344_JSCompiler_to$jscomp$inline_351$$;var $JSCompiler_isFixed$jscomp$inline_345$$=!1;if($JSCompiler_element$jscomp$inline_339_JSCompiler_from$jscomp$inline_350_JSCompiler_viewport$jscomp$inline_343$$.supportsPositionFixed()&&
this.isDisplayed())for(var $JSCompiler_win$jscomp$inline_346$$=this.$resources_$.win,$JSCompiler_body$jscomp$inline_347$$=$JSCompiler_win$jscomp$inline_346$$.document.body,$JSCompiler_n$jscomp$inline_348$$=this.element;$JSCompiler_n$jscomp$inline_348$$&&$JSCompiler_n$jscomp$inline_348$$!=$JSCompiler_body$jscomp$inline_347$$;$JSCompiler_n$jscomp$inline_348$$=$JSCompiler_n$jscomp$inline_348$$.offsetParent){if($JSCompiler_n$jscomp$inline_348$$.isAlwaysFixed&&$JSCompiler_n$jscomp$inline_348$$.isAlwaysFixed()){$JSCompiler_isFixed$jscomp$inline_345$$=
!0;break}if($JSCompiler_element$jscomp$inline_339_JSCompiler_from$jscomp$inline_350_JSCompiler_viewport$jscomp$inline_343$$.isDeclaredFixed($JSCompiler_n$jscomp$inline_348$$)&&"fixed"==$computedStyle$$module$src$style$$($JSCompiler_win$jscomp$inline_346$$,$JSCompiler_n$jscomp$inline_348$$).position){$JSCompiler_isFixed$jscomp$inline_345$$=!0;break}}if(this.$isFixed_$=$JSCompiler_isFixed$jscomp$inline_345$$)this.$layoutBox_$=$moveLayoutRect$$module$src$layout_rect$$($JSCompiler_box$jscomp$inline_344_JSCompiler_to$jscomp$inline_351$$,
-$JSCompiler_element$jscomp$inline_339_JSCompiler_from$jscomp$inline_350_JSCompiler_viewport$jscomp$inline_343$$.getScrollLeft(),-$JSCompiler_element$jscomp$inline_339_JSCompiler_from$jscomp$inline_350_JSCompiler_viewport$jscomp$inline_343$$.getScrollTop())}var $box$$=this.$layoutBox_$;$JSCompiler_element$jscomp$inline_339_JSCompiler_from$jscomp$inline_350_JSCompiler_viewport$jscomp$inline_343$$=$oldBox$$;$JSCompiler_box$jscomp$inline_344_JSCompiler_to$jscomp$inline_351$$=$box$$;var $sizeChanges$$=
!($JSCompiler_element$jscomp$inline_339_JSCompiler_from$jscomp$inline_350_JSCompiler_viewport$jscomp$inline_343$$.width==$JSCompiler_box$jscomp$inline_344_JSCompiler_to$jscomp$inline_351$$.width&&$JSCompiler_element$jscomp$inline_339_JSCompiler_from$jscomp$inline_350_JSCompiler_viewport$jscomp$inline_343$$.height===$JSCompiler_box$jscomp$inline_344_JSCompiler_to$jscomp$inline_351$$.height);1!=this.$state_$&&$oldBox$$.top==$box$$.top&&!$sizeChanges$$||!this.element.isUpgraded()||0==this.$state_$||
1!=this.$state_$&&!this.element.isRelayoutNeeded()||(this.$state_$=2);this.hasBeenMeasured()||(this.$initialLayoutBox_$=$box$$);this.element.updateLayoutBox($box$$,$sizeChanges$$)}};
$JSCompiler_prototypeAlias$$.completeCollapse=function(){$toggle$$module$src$style$$(this.element,!1);this.$layoutBox_$=this.$useLayers_$?$layoutRectLtwh$$module$src$layout_rect$$(0,0,0,0):$layoutRectLtwh$$module$src$layout_rect$$(this.$layoutBox_$.left,this.$layoutBox_$.top,0,0);this.$isFixed_$=!1;this.element.updateLayoutBox(this.getLayoutBox());var $owner$jscomp$2$$=this.getOwner();$owner$jscomp$2$$&&$owner$jscomp$2$$.collapsedCallback(this.element)};
$JSCompiler_prototypeAlias$$.completeExpand=function(){$toggle$$module$src$style$$(this.element,!0);this.requestMeasure()};$JSCompiler_prototypeAlias$$.isMeasureRequested=function(){return this.$isMeasureRequested_$};$JSCompiler_prototypeAlias$$.hasBeenMeasured=function(){return!!this.$initialLayoutBox_$};$JSCompiler_prototypeAlias$$.requestMeasure=function(){this.$isMeasureRequested_$=!0};
$JSCompiler_prototypeAlias$$.getLayoutBox=function(){if(this.$useLayers_$){var $element$jscomp$104_size$jscomp$15$$=this.element,$layers$jscomp$1$$=$element$jscomp$104_size$jscomp$15$$.getLayers(),$pos$jscomp$2_viewport$jscomp$2$$=$layers$jscomp$1$$.getScrolledPosition($element$jscomp$104_size$jscomp$15$$);$element$jscomp$104_size$jscomp$15$$=$layers$jscomp$1$$.getSize($element$jscomp$104_size$jscomp$15$$);return $layoutRectLtwh$$module$src$layout_rect$$($pos$jscomp$2_viewport$jscomp$2$$.left,$pos$jscomp$2_viewport$jscomp$2$$.top,
$element$jscomp$104_size$jscomp$15$$.width,$element$jscomp$104_size$jscomp$15$$.height)}if(!this.$isFixed_$)return this.$layoutBox_$;$pos$jscomp$2_viewport$jscomp$2$$=this.$resources_$.getViewport();return $moveLayoutRect$$module$src$layout_rect$$(this.$layoutBox_$,$pos$jscomp$2_viewport$jscomp$2$$.getScrollLeft(),$pos$jscomp$2_viewport$jscomp$2$$.getScrollTop())};
$JSCompiler_prototypeAlias$$.getPageLayoutBox=function(){if(this.$useLayers_$){var $element$jscomp$105_size$jscomp$16$$=this.element,$layers$jscomp$2$$=$element$jscomp$105_size$jscomp$16$$.getLayers(),$pos$jscomp$3$$=$layers$jscomp$2$$.getOffsetPosition($element$jscomp$105_size$jscomp$16$$);$element$jscomp$105_size$jscomp$16$$=$layers$jscomp$2$$.getSize($element$jscomp$105_size$jscomp$16$$);return $layoutRectLtwh$$module$src$layout_rect$$($pos$jscomp$3$$.left,$pos$jscomp$3$$.top,$element$jscomp$105_size$jscomp$16$$.width,
$element$jscomp$105_size$jscomp$16$$.height)}return this.$layoutBox_$};$JSCompiler_prototypeAlias$$.getInitialLayoutBox=function(){return this.$initialLayoutBox_$||this.$layoutBox_$};$JSCompiler_prototypeAlias$$.isDisplayed=function(){var $isFluid$$="fluid"==this.element.getLayout(),$box$jscomp$2$$=this.getLayoutBox(),$hasNonZeroSize$$=0<$box$jscomp$2$$.height&&0<$box$jscomp$2$$.width;return($isFluid$$||$hasNonZeroSize$$)&&!!this.element.ownerDocument&&!!this.element.ownerDocument.defaultView};
$JSCompiler_prototypeAlias$$.isFixed=function(){return this.$isFixed_$};$JSCompiler_prototypeAlias$$.overlaps=function($rect$jscomp$3$$){return $layoutRectsOverlap$$module$src$layout_rect$$(this.getLayoutBox(),$rect$jscomp$3$$)};$JSCompiler_prototypeAlias$$.prerenderAllowed=function(){return this.element.prerenderAllowed()};
$JSCompiler_prototypeAlias$$.whenWithinViewport=function($key$jscomp$55_viewport$jscomp$3$$){if(!this.isLayoutPending()||!0===$key$jscomp$55_viewport$jscomp$3$$)return Promise.resolve();var $viewportNum$$=$key$jscomp$55_viewport$jscomp$3$$;$key$jscomp$55_viewport$jscomp$3$$=String($viewportNum$$);if(this.$withViewportDeferreds_$&&this.$withViewportDeferreds_$[$key$jscomp$55_viewport$jscomp$3$$])return this.$withViewportDeferreds_$[$key$jscomp$55_viewport$jscomp$3$$].promise;if(this.isWithinViewportRatio($viewportNum$$))return Promise.resolve();
this.$withViewportDeferreds_$=this.$withViewportDeferreds_$||{};this.$withViewportDeferreds_$[$key$jscomp$55_viewport$jscomp$3$$]=new $Deferred$$module$src$utils$promise$$;return this.$withViewportDeferreds_$[$key$jscomp$55_viewport$jscomp$3$$].promise};
function $JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$$($JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$self$$){if($JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$self$$.$withViewportDeferreds_$){var $viewportRatio$$=$JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$self$$.getDistanceViewportRatio(),$key$jscomp$56$$;for($key$jscomp$56$$ in $JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$self$$.$withViewportDeferreds_$)$JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$self$$.isWithinViewportRatio(parseFloat($key$jscomp$56$$),
$viewportRatio$$)&&($JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$self$$.$withViewportDeferreds_$[$key$jscomp$56$$].resolve(),delete $JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$self$$.$withViewportDeferreds_$[$key$jscomp$56$$])}}
$JSCompiler_prototypeAlias$$.getDistanceViewportRatio=function(){if(this.$useLayers_$&&this.$useLayersPrioritization_$){var $element$jscomp$106_layoutBox$jscomp$1$$=this.element;return{distance:$element$jscomp$106_layoutBox$jscomp$1$$.getLayers().iterateAncestry($element$jscomp$106_layoutBox$jscomp$1$$,this.$layersDistanceRatio_$)}}var $viewportBox$$=this.$resources_$.getViewport().getRect();$element$jscomp$106_layoutBox$jscomp$1$$=this.getLayoutBox();var $scrollDirection$$=this.$resources_$.getScrollDirection(),
$scrollPenalty$$=1,$distance$$=0;if($viewportBox$$.right<$element$jscomp$106_layoutBox$jscomp$1$$.left||$viewportBox$$.left>$element$jscomp$106_layoutBox$jscomp$1$$.right)return{distance:!1};if($viewportBox$$.bottom<$element$jscomp$106_layoutBox$jscomp$1$$.top)$distance$$=$element$jscomp$106_layoutBox$jscomp$1$$.top-$viewportBox$$.bottom,-1==$scrollDirection$$&&($scrollPenalty$$=2);else if($viewportBox$$.top>$element$jscomp$106_layoutBox$jscomp$1$$.bottom)$distance$$=$viewportBox$$.top-$element$jscomp$106_layoutBox$jscomp$1$$.bottom,
1==$scrollDirection$$&&($scrollPenalty$$=2);else return{distance:!0};return{distance:$distance$$,scrollPenalty:$scrollPenalty$$,viewportHeight:$viewportBox$$.height}};
$JSCompiler_prototypeAlias$$.isWithinViewportRatio=function($multiplier$$,$opt_viewportRatio$$){if("boolean"===typeof $multiplier$$)return $multiplier$$;var $$jscomp$destructuring$var50$$=$opt_viewportRatio$$||this.getDistanceViewportRatio(),$distance$jscomp$1$$=$$jscomp$destructuring$var50$$.distance,$viewportHeight$$=$$jscomp$destructuring$var50$$.viewportHeight;return this.$useLayers_$&&this.$useLayersPrioritization_$?$distance$jscomp$1$$<$multiplier$$:"boolean"==typeof $distance$jscomp$1$$?$distance$jscomp$1$$:
$distance$jscomp$1$$<$viewportHeight$$*$multiplier$$/$$jscomp$destructuring$var50$$.scrollPenalty};
$JSCompiler_prototypeAlias$$.$layersDistanceRatio_$=function($currentScore$$,$distance$jscomp$2_layout$jscomp$4$$,$depth$jscomp$10$$){$currentScore$$=$currentScore$$||0;var $depthPenalty$$=1+$depth$jscomp$10$$/10,$nonActivePenalty$$=$distance$jscomp$2_layout$jscomp$4$$.isActiveUnsafe()?1:2;$distance$jscomp$2_layout$jscomp$4$$=$distance$jscomp$2_layout$jscomp$4$$.getHorizontalViewportsFromParent()+$distance$jscomp$2_layout$jscomp$4$$.getVerticalViewportsFromParent();return $currentScore$$+$nonActivePenalty$$*
$depthPenalty$$*$distance$jscomp$2_layout$jscomp$4$$};$JSCompiler_prototypeAlias$$.renderOutsideViewport=function(){$JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$$(this);return this.hasOwner()||this.isWithinViewportRatio(this.element.renderOutsideViewport())};$JSCompiler_prototypeAlias$$.idleRenderOutsideViewport=function(){return this.isWithinViewportRatio(this.element.idleRenderOutsideViewport())};
$JSCompiler_prototypeAlias$$.layoutScheduled=function($scheduleTime$$){this.$state_$=3;this.element.layoutScheduleTime=$scheduleTime$$};$JSCompiler_prototypeAlias$$.layoutCanceled=function(){this.$state_$=this.hasBeenMeasured()?2:1};
$JSCompiler_prototypeAlias$$.startLayout=function(){var $$jscomp$this$jscomp$21$$=this;if(this.$layoutPromise_$)return this.$layoutPromise_$;if(4==this.$state_$)return Promise.resolve();if(5==this.$state_$)return Promise.reject(this.$lastLayoutError_$);this.isDisplayed();if(0<this.$layoutCount_$&&!this.element.isRelayoutNeeded())return this.$state_$=4,Promise.resolve();this.$layoutCount_$++;this.$state_$=3;return this.$layoutPromise_$=(new Promise(function($resolve$jscomp$14$$,$reject$jscomp$5$$){$Services$$module$src$services$vsyncFor$$($$jscomp$this$jscomp$21$$.hostWin).mutate(function(){try{$resolve$jscomp$14$$($$jscomp$this$jscomp$21$$.element.layoutCallback())}catch($e$jscomp$28$$){$reject$jscomp$5$$($e$jscomp$28$$)}})})).then(function(){return $JSCompiler_StaticMethods_layoutComplete_$$($$jscomp$this$jscomp$21$$,
!0)},function($reason$jscomp$11$$){return $JSCompiler_StaticMethods_layoutComplete_$$($$jscomp$this$jscomp$21$$,!1,$reason$jscomp$11$$)})};
function $JSCompiler_StaticMethods_layoutComplete_$$($JSCompiler_StaticMethods_layoutComplete_$self$$,$success$$,$opt_reason$jscomp$1$$){$JSCompiler_StaticMethods_layoutComplete_$self$$.$loadPromiseResolve_$&&($JSCompiler_StaticMethods_layoutComplete_$self$$.$loadPromiseResolve_$(),$JSCompiler_StaticMethods_layoutComplete_$self$$.$loadPromiseResolve_$=null);$JSCompiler_StaticMethods_layoutComplete_$self$$.$layoutPromise_$=null;$JSCompiler_StaticMethods_layoutComplete_$self$$.$loadedOnce_$=!0;$JSCompiler_StaticMethods_layoutComplete_$self$$.$state_$=
$success$$?4:5;$JSCompiler_StaticMethods_layoutComplete_$self$$.$lastLayoutError_$=$opt_reason$jscomp$1$$;if(!$success$$)return Promise.reject($opt_reason$jscomp$1$$)}$JSCompiler_prototypeAlias$$.isLayoutPending=function(){return 4!=this.$state_$&&5!=this.$state_$};$JSCompiler_prototypeAlias$$.loadedOnce=function(){return this.$loadPromise_$};$JSCompiler_prototypeAlias$$.hasLoadedOnce=function(){return this.$loadedOnce_$};
$JSCompiler_prototypeAlias$$.isInViewport=function(){var $isInViewport$$=this.element.isInViewport();$isInViewport$$&&$JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$$(this);return $isInViewport$$};$JSCompiler_prototypeAlias$$.setInViewport=function($inViewport$$){this.element.viewportCallback($inViewport$$)};
$JSCompiler_prototypeAlias$$.unlayout=function(){0!=this.$state_$&&1!=this.$state_$&&(this.setInViewport(!1),this.element.unlayoutCallback()&&(this.element.togglePlaceholder(!0),this.$state_$=1,this.$layoutCount_$=0,this.$layoutPromise_$=null))};$JSCompiler_prototypeAlias$$.getTaskId=function($localId$$){return this.debugid+"#"+$localId$$};$JSCompiler_prototypeAlias$$.pause=function(){this.element.pauseCallback();this.element.unlayoutOnPause()&&this.unlayout()};
$JSCompiler_prototypeAlias$$.pauseOnRemove=function(){this.element.pauseCallback()};$JSCompiler_prototypeAlias$$.resume=function(){this.element.resumeCallback()};$JSCompiler_prototypeAlias$$.unload=function(){this.pause();this.unlayout()};$JSCompiler_prototypeAlias$$.disconnect=function(){delete this.element.__AMP__RESOURCE;this.element.disconnect(!0)};function $Pass$$module$src$pass$$($win$jscomp$99$$,$handler$jscomp$11$$){var $opt_defaultDelay$$,$$jscomp$this$jscomp$22$$=this;this.$timer_$=$Services$$module$src$services$timerFor$$($win$jscomp$99$$);this.$handler_$=$handler$jscomp$11$$;this.$defaultDelay_$=$opt_defaultDelay$$||0;this.$scheduled_$=-1;this.$nextTime_$=0;this.$running_$=!1;this.$boundPass_$=function(){return $$jscomp$this$jscomp$22$$.$pass_$()}}$Pass$$module$src$pass$$.prototype.isPending=function(){return-1!=this.$scheduled_$};
$Pass$$module$src$pass$$.prototype.schedule=function($delay$jscomp$1_opt_delay$jscomp$2$$){$delay$jscomp$1_opt_delay$jscomp$2$$=$delay$jscomp$1_opt_delay$jscomp$2$$||this.$defaultDelay_$;this.$running_$&&10>$delay$jscomp$1_opt_delay$jscomp$2$$&&($delay$jscomp$1_opt_delay$jscomp$2$$=10);var $nextTime$$=Date.now()+$delay$jscomp$1_opt_delay$jscomp$2$$;return!this.isPending()||-10>$nextTime$$-this.$nextTime_$?(this.cancel(),this.$nextTime_$=$nextTime$$,this.$scheduled_$=this.$timer_$.delay(this.$boundPass_$,
$delay$jscomp$1_opt_delay$jscomp$2$$),!0):!1};$Pass$$module$src$pass$$.prototype.$pass_$=function(){this.$scheduled_$=-1;this.$nextTime_$=0;this.$running_$=!0;this.$handler_$();this.$running_$=!1};$Pass$$module$src$pass$$.prototype.cancel=function(){this.isPending()&&(this.$timer_$.cancel(this.$scheduled_$),this.$scheduled_$=-1)};function $getConsentPolicyState$$module$src$consent$$($element$jscomp$116$$,$policyId$jscomp$1$$){$policyId$jscomp$1$$=void 0===$policyId$jscomp$1$$?"default":$policyId$jscomp$1$$;return $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$116$$,"consentPolicyManager","amp-consent").then(function($element$jscomp$116$$){return $element$jscomp$116$$?$element$jscomp$116$$.whenPolicyResolved($policyId$jscomp$1$$):null})};/*
 Copyright (C) 2014-2016 by Andrea Giammarchi - @WebReflection

Use of this source code is governed by a MIT-style
license that can be found in the LICENSE file or at
https://opensource.org/licenses/MIT.















*/
function $CacheCidApi$$module$src$service$cache_cid_api$$($ampdoc$jscomp$26$$){this.$ampdoc_$=$ampdoc$jscomp$26$$;this.$viewer_$=$Services$$module$src$services$viewerForDoc$$(this.$ampdoc_$);this.$publisherCidPromise_$=null;this.$timer_$=$Services$$module$src$services$timerFor$$(this.$ampdoc_$.win)}$CacheCidApi$$module$src$service$cache_cid_api$$.prototype.isSupported=function(){return this.$viewer_$.isCctEmbedded()&&this.$viewer_$.isProxyOrigin()};
$CacheCidApi$$module$src$service$cache_cid_api$$.prototype.getScopedCid=function($scope$$){var $$jscomp$this$jscomp$48$$=this;if(!this.$viewer_$.isCctEmbedded())return Promise.resolve(null);this.$publisherCidPromise_$||(this.$publisherCidPromise_$=this.$fetchCid_$("https://ampcid.google.com/v1/cache:getClientId?key=AIzaSyDKtqGxnoeIqVM33Uf7hRSa3GJxuzR7mLc"));return this.$publisherCidPromise_$.then(function($publisherCid$$){return $publisherCid$$?$JSCompiler_StaticMethods_scopeCid_$$($$jscomp$this$jscomp$48$$,
$publisherCid$$,$scope$$):null})};
$CacheCidApi$$module$src$service$cache_cid_api$$.prototype.$fetchCid_$=function($url$jscomp$51$$,$useAlternate$$){var $$jscomp$this$jscomp$49$$=this;$useAlternate$$=void 0===$useAlternate$$?!0:$useAlternate$$;var $payload$jscomp$2$$=$dict$$module$src$utils$object$$({publisherOrigin:$getSourceOrigin$$module$src$url$$(this.$ampdoc_$.win.location)});return this.$timer_$.timeoutPromise(3E4,$getService$$module$src$service$$(this.$ampdoc_$.win,"xhr").fetchJson($url$jscomp$51$$,{method:"POST",ampCors:!1,
credentials:"include",mode:"cors",body:$payload$jscomp$2$$})).then(function($url$jscomp$51$$){return $url$jscomp$51$$.json().then(function($url$jscomp$51$$){if($url$jscomp$51$$.optOut)return null;var $payload$jscomp$2$$=$url$jscomp$51$$.publisherClientId;if(!$payload$jscomp$2$$&&$useAlternate$$&&$url$jscomp$51$$.alternateUrl){var $res$jscomp$5$$=$url$jscomp$51$$.alternateUrl+"?key=AIzaSyDKtqGxnoeIqVM33Uf7hRSa3GJxuzR7mLc";return $$jscomp$this$jscomp$49$$.$fetchCid_$($res$jscomp$5$$,!1)}return $payload$jscomp$2$$})}).catch(function($url$jscomp$51$$){$url$jscomp$51$$&&
$url$jscomp$51$$.response?$url$jscomp$51$$.response.json().then(function($url$jscomp$51$$){$dev$$module$src$log$$().error("CacheCidApi",JSON.stringify($url$jscomp$51$$))}):$dev$$module$src$log$$().error("CacheCidApi",$url$jscomp$51$$);return null})};
function $JSCompiler_StaticMethods_scopeCid_$$($JSCompiler_StaticMethods_scopeCid_$self$$,$publisherCid$jscomp$1_text$jscomp$13$$,$scope$jscomp$1$$){$publisherCid$jscomp$1_text$jscomp$13$$=$publisherCid$jscomp$1_text$jscomp$13$$+";"+$scope$jscomp$1$$;return $getService$$module$src$service$$($JSCompiler_StaticMethods_scopeCid_$self$$.$ampdoc_$.win,"crypto").sha384Base64($publisherCid$jscomp$1_text$jscomp$13$$).then(function($JSCompiler_StaticMethods_scopeCid_$self$$){return"amp-"+$JSCompiler_StaticMethods_scopeCid_$self$$})}
;function $GoogleCidApi$$module$src$service$cid_api$$($ampdoc$jscomp$27$$){this.$win_$=$ampdoc$jscomp$27$$.win;this.$timer_$=$Services$$module$src$services$timerFor$$(this.$win_$);this.$cidPromise_$={};var $canonicalUrl$$=$Services$$module$src$services$documentInfoForDoc$$($ampdoc$jscomp$27$$).canonicalUrl;this.$canonicalOrigin_$=$canonicalUrl$$?$parseUrlDeprecated$$module$src$url$$($canonicalUrl$$).origin:null}
$GoogleCidApi$$module$src$service$cid_api$$.prototype.getScopedCid=function($apiKey$$,$scope$jscomp$2$$){var $$jscomp$this$jscomp$50$$=this;if(this.$cidPromise_$[$scope$jscomp$2$$])return this.$cidPromise_$[$scope$jscomp$2$$];var $token$jscomp$6$$;return this.$cidPromise_$[$scope$jscomp$2$$]=this.$timer_$.poll(200,function(){$token$jscomp$6$$=$getCookie$$module$src$cookies$$($$jscomp$this$jscomp$50$$.$win_$,"AMP_TOKEN");return"$RETRIEVING"!==$token$jscomp$6$$}).then(function(){if("$OPT_OUT"===$token$jscomp$6$$)return"$OPT_OUT";
var $forceFetch$$="$NOT_FOUND"===$token$jscomp$6$$&&$isProxyOrigin$$module$src$url$$($$jscomp$this$jscomp$50$$.$win_$.document.referrer);if(!$forceFetch$$&&$token$jscomp$6$$&&"$"===$token$jscomp$6$$[0])return null;$token$jscomp$6$$&&(!$token$jscomp$6$$||"$"!==$token$jscomp$6$$[0])||$JSCompiler_StaticMethods_persistToken_$$($$jscomp$this$jscomp$50$$,"$RETRIEVING",3E4);return $$jscomp$this$jscomp$50$$.$fetchCid_$("https://ampcid.google.com/v1/publisher:getClientId?key="+$apiKey$$,$scope$jscomp$2$$,
$token$jscomp$6$$).then(function($forceFetch$$){var $response$jscomp$12$$=$$jscomp$this$jscomp$50$$.$handleResponse_$($forceFetch$$);if(!$response$jscomp$12$$&&$forceFetch$$.alternateUrl){var $altUrl$$=$forceFetch$$.alternateUrl+"?key="+$apiKey$$;return $$jscomp$this$jscomp$50$$.$fetchCid_$($altUrl$$,$scope$jscomp$2$$,$token$jscomp$6$$).then($$jscomp$this$jscomp$50$$.$handleResponse_$.bind($$jscomp$this$jscomp$50$$))}return $response$jscomp$12$$}).catch(function($apiKey$$){$JSCompiler_StaticMethods_persistToken_$$($$jscomp$this$jscomp$50$$,
"$ERROR",3E4);$apiKey$$&&$apiKey$$.response?$apiKey$$.response.json().then(function($apiKey$$){$dev$$module$src$log$$().error("GoogleCidApi",JSON.stringify($apiKey$$))}):$dev$$module$src$log$$().error("GoogleCidApi",$apiKey$$);return null})})};
$GoogleCidApi$$module$src$service$cid_api$$.prototype.$fetchCid_$=function($url$jscomp$53$$,$payload$jscomp$3_scope$jscomp$3$$,$token$jscomp$7$$){$payload$jscomp$3_scope$jscomp$3$$=$dict$$module$src$utils$object$$({originScope:$payload$jscomp$3_scope$jscomp$3$$,canonicalOrigin:this.$canonicalOrigin_$});$token$jscomp$7$$&&($payload$jscomp$3_scope$jscomp$3$$.securityToken=$token$jscomp$7$$);return this.$timer_$.timeoutPromise(3E4,$getService$$module$src$service$$(this.$win_$,"xhr").fetchJson($url$jscomp$53$$,
{method:"POST",ampCors:!1,credentials:"include",mode:"cors",body:$payload$jscomp$3_scope$jscomp$3$$}).then(function($url$jscomp$53$$){return $url$jscomp$53$$.json()}))};
$GoogleCidApi$$module$src$service$cid_api$$.prototype.$handleResponse_$=function($res$jscomp$9$$){if($res$jscomp$9$$.optOut)return $JSCompiler_StaticMethods_persistToken_$$(this,"$OPT_OUT",31536E6),"$OPT_OUT";if($res$jscomp$9$$.clientId)return $JSCompiler_StaticMethods_persistToken_$$(this,$res$jscomp$9$$.securityToken,31536E6),$res$jscomp$9$$.clientId;if($res$jscomp$9$$.alternateUrl)return null;$JSCompiler_StaticMethods_persistToken_$$(this,"$NOT_FOUND",36E5);return null};
function $JSCompiler_StaticMethods_persistToken_$$($JSCompiler_StaticMethods_persistToken_$self$$,$tokenValue$$,$expires$$){$tokenValue$$&&$setCookie$$module$src$cookies$$($JSCompiler_StaticMethods_persistToken_$self$$.$win_$,"AMP_TOKEN",$tokenValue$$,$JSCompiler_StaticMethods_persistToken_$self$$.$win_$.Date.now()+$expires$$)};function $ViewerCidApi$$module$src$service$viewer_cid_api$$($ampdoc$jscomp$28_canonicalUrl$jscomp$1$$){this.$ampdoc_$=$ampdoc$jscomp$28_canonicalUrl$jscomp$1$$;this.$viewer_$=$Services$$module$src$services$viewerForDoc$$(this.$ampdoc_$);this.$canonicalOrigin_$=($ampdoc$jscomp$28_canonicalUrl$jscomp$1$$=$Services$$module$src$services$documentInfoForDoc$$(this.$ampdoc_$).canonicalUrl)?$parseUrlDeprecated$$module$src$url$$($ampdoc$jscomp$28_canonicalUrl$jscomp$1$$).origin:null}
$ViewerCidApi$$module$src$service$viewer_cid_api$$.prototype.isSupported=function(){return this.$viewer_$.hasCapability("cid")?this.$viewer_$.isTrustedViewer():Promise.resolve(!1)};
$ViewerCidApi$$module$src$service$viewer_cid_api$$.prototype.getScopedCid=function($apiKey$jscomp$1$$,$payload$jscomp$4_scope$jscomp$4$$){$payload$jscomp$4_scope$jscomp$4$$=$dict$$module$src$utils$object$$({scope:$payload$jscomp$4_scope$jscomp$4$$,clientIdApi:!!$apiKey$jscomp$1$$,canonicalOrigin:this.$canonicalOrigin_$});$apiKey$jscomp$1$$&&($payload$jscomp$4_scope$jscomp$4$$.apiKey=$apiKey$jscomp$1$$);return this.$viewer_$.sendMessageAwaitResponse("cid",$payload$jscomp$4_scope$jscomp$4$$)};function $bytesToString$$module$src$utils$bytes$$($bytes$jscomp$2$$){for(var $array$jscomp$14$$=Array($bytes$jscomp$2$$.length),$i$jscomp$73$$=0;$i$jscomp$73$$<$bytes$jscomp$2$$.length;$i$jscomp$73$$++)$array$jscomp$14$$[$i$jscomp$73$$]=String.fromCharCode($bytes$jscomp$2$$[$i$jscomp$73$$]);return $array$jscomp$14$$.join("")};var $base64UrlEncodeSubs$$module$src$utils$base64$$={"+":"-","/":"_","=":"."};function $base64UrlEncodeFromBytes$$module$src$utils$base64$$($bytes$jscomp$4_str$jscomp$13$$){$bytes$jscomp$4_str$jscomp$13$$=$bytesToString$$module$src$utils$bytes$$($bytes$jscomp$4_str$jscomp$13$$);return btoa($bytes$jscomp$4_str$jscomp$13$$).replace(/[+/=]/g,function($bytes$jscomp$4_str$jscomp$13$$){return $base64UrlEncodeSubs$$module$src$utils$base64$$[$bytes$jscomp$4_str$jscomp$13$$]})};var $SCOPE_NAME_VALIDATOR$$module$src$service$cid_impl$$=/^[a-zA-Z0-9-_.]+$/,$CID_API_SCOPE_WHITELIST$$module$src$service$cid_impl$$={googleanalytics:"AMP_ECID_GOOGLE"},$API_KEYS$$module$src$service$cid_impl$$={googleanalytics:"AIzaSyA65lEHUEizIsNtlbNo-l2K18dT680nsaM"};
function $Cid$$module$src$service$cid_impl$$($ampdoc$jscomp$29$$){this.ampdoc=$ampdoc$jscomp$29$$;this.$baseCid_$=null;this.$externalCidCache_$=Object.create(null);this.$cacheCidApi_$=new $CacheCidApi$$module$src$service$cache_cid_api$$($ampdoc$jscomp$29$$);this.$viewerCidApi_$=new $ViewerCidApi$$module$src$service$viewer_cid_api$$($ampdoc$jscomp$29$$);this.$cidApi_$=new $GoogleCidApi$$module$src$service$cid_api$$($ampdoc$jscomp$29$$);this.$apiKeyMap_$=null}
$Cid$$module$src$service$cid_impl$$.prototype.get=function($getCidStruct$$,$consent$jscomp$1$$,$opt_persistenceConsent$jscomp$1$$){var $$jscomp$this$jscomp$51$$=this;$userAssert$$module$src$log$$($SCOPE_NAME_VALIDATOR$$module$src$service$cid_impl$$.test($getCidStruct$$.scope)&&$SCOPE_NAME_VALIDATOR$$module$src$service$cid_impl$$.test($getCidStruct$$.cookieName),"The CID scope and cookie name must only use the characters [a-zA-Z0-9-_.]+\nInstead found: %s",$getCidStruct$$.scope);return $consent$jscomp$1$$.then(function(){return $Services$$module$src$services$viewerForDoc$$($$jscomp$this$jscomp$51$$.ampdoc).whenFirstVisible()}).then(function(){return $isOptedOutOfCid$$module$src$service$cid_impl$$($$jscomp$this$jscomp$51$$.ampdoc)}).then(function($optedOut$$){if($optedOut$$)return"";
var $cidPromise$$=$JSCompiler_StaticMethods_getExternalCid_$$($$jscomp$this$jscomp$51$$,$getCidStruct$$,$opt_persistenceConsent$jscomp$1$$||$consent$jscomp$1$$);return $Services$$module$src$services$timerFor$$($$jscomp$this$jscomp$51$$.ampdoc.win).timeoutPromise(1E4,$cidPromise$$,'Getting cid for "'+$getCidStruct$$.scope+'" timed out').catch(function($getCidStruct$$){$rethrowAsync$$module$src$log$$($getCidStruct$$)})})};$Cid$$module$src$service$cid_impl$$.prototype.optOut=function(){return $optOutOfCid$$module$src$service$cid_impl$$(this.ampdoc)};
function $JSCompiler_StaticMethods_getExternalCid_$$($JSCompiler_StaticMethods_getExternalCid_$self$$,$getCidStruct$jscomp$1$$,$persistenceConsent$$){var $scope$jscomp$5$$=$getCidStruct$jscomp$1$$.scope,$url$jscomp$54$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_StaticMethods_getExternalCid_$self$$.ampdoc.win.location.href);if(!$isProxyOrigin$$module$src$url$$($url$jscomp$54$$)){var $apiKey$jscomp$2$$=$JSCompiler_StaticMethods_isScopeOptedIn_$$($JSCompiler_StaticMethods_getExternalCid_$self$$,
$scope$jscomp$5$$);return $apiKey$jscomp$2$$?$JSCompiler_StaticMethods_getExternalCid_$self$$.$cidApi_$.getScopedCid($apiKey$jscomp$2$$,$scope$jscomp$5$$).then(function($url$jscomp$54$$){if("$OPT_OUT"==$url$jscomp$54$$)return null;if($url$jscomp$54$$){var $apiKey$jscomp$2$$=$getCidStruct$jscomp$1$$.cookieName||$scope$jscomp$5$$;$setCidCookie$$module$src$service$cid_impl$$($JSCompiler_StaticMethods_getExternalCid_$self$$.ampdoc.win,$apiKey$jscomp$2$$,$url$jscomp$54$$);return $url$jscomp$54$$}return $getOrCreateCookie$$module$src$service$cid_impl$$($JSCompiler_StaticMethods_getExternalCid_$self$$,
$getCidStruct$jscomp$1$$,$persistenceConsent$$)}):$getOrCreateCookie$$module$src$service$cid_impl$$($JSCompiler_StaticMethods_getExternalCid_$self$$,$getCidStruct$jscomp$1$$,$persistenceConsent$$)}return $JSCompiler_StaticMethods_getExternalCid_$self$$.$viewerCidApi_$.isSupported().then(function($getCidStruct$jscomp$1$$){if($getCidStruct$jscomp$1$$){var $apiKey$jscomp$2$$=$JSCompiler_StaticMethods_isScopeOptedIn_$$($JSCompiler_StaticMethods_getExternalCid_$self$$,$scope$jscomp$5$$);return $JSCompiler_StaticMethods_getExternalCid_$self$$.$viewerCidApi_$.getScopedCid($apiKey$jscomp$2$$,
$scope$jscomp$5$$)}return $JSCompiler_StaticMethods_getExternalCid_$self$$.$cacheCidApi_$.isSupported()&&$JSCompiler_StaticMethods_isScopeOptedIn_$$($JSCompiler_StaticMethods_getExternalCid_$self$$,$scope$jscomp$5$$)?$JSCompiler_StaticMethods_getExternalCid_$self$$.$cacheCidApi_$.getScopedCid($scope$jscomp$5$$).then(function($getCidStruct$jscomp$1$$){return $getCidStruct$jscomp$1$$?$getCidStruct$jscomp$1$$:$JSCompiler_StaticMethods_scopeBaseCid_$$($JSCompiler_StaticMethods_getExternalCid_$self$$,
$persistenceConsent$$,$scope$jscomp$5$$,$url$jscomp$54$$)}):$JSCompiler_StaticMethods_scopeBaseCid_$$($JSCompiler_StaticMethods_getExternalCid_$self$$,$persistenceConsent$$,$scope$jscomp$5$$,$url$jscomp$54$$)})}
function $JSCompiler_StaticMethods_scopeBaseCid_$$($JSCompiler_StaticMethods_scopeBaseCid_$self$$,$persistenceConsent$jscomp$1$$,$scope$jscomp$6$$,$url$jscomp$55$$){return $getBaseCid$$module$src$service$cid_impl$$($JSCompiler_StaticMethods_scopeBaseCid_$self$$,$persistenceConsent$jscomp$1$$).then(function($persistenceConsent$jscomp$1$$){return $getService$$module$src$service$$($JSCompiler_StaticMethods_scopeBaseCid_$self$$.ampdoc.win,"crypto").sha384Base64($persistenceConsent$jscomp$1$$+$getProxySourceOrigin$$module$src$service$cid_impl$$($url$jscomp$55$$)+
$scope$jscomp$6$$)})}function $JSCompiler_StaticMethods_isScopeOptedIn_$$($JSCompiler_StaticMethods_isScopeOptedIn_$self$$,$scope$jscomp$7$$){$JSCompiler_StaticMethods_isScopeOptedIn_$self$$.$apiKeyMap_$||($JSCompiler_StaticMethods_isScopeOptedIn_$self$$.$apiKeyMap_$=$JSCompiler_StaticMethods_getOptedInScopes_$$($JSCompiler_StaticMethods_isScopeOptedIn_$self$$));return $JSCompiler_StaticMethods_isScopeOptedIn_$self$$.$apiKeyMap_$[$scope$jscomp$7$$]}
function $JSCompiler_StaticMethods_getOptedInScopes_$$($JSCompiler_StaticMethods_getOptedInScopes_$self$$){var $apiKeyMap$$={},$optInMeta$$=$JSCompiler_StaticMethods_getOptedInScopes_$self$$.ampdoc.win.document.head.querySelector("meta[name=amp-google-client-id-api]");$optInMeta$$&&$optInMeta$$.hasAttribute("content")&&$optInMeta$$.getAttribute("content").split(",").forEach(function($JSCompiler_StaticMethods_getOptedInScopes_$self$$){$JSCompiler_StaticMethods_getOptedInScopes_$self$$=$JSCompiler_StaticMethods_getOptedInScopes_$self$$.trim();
if(0<$JSCompiler_StaticMethods_getOptedInScopes_$self$$.indexOf("=")){var $optInMeta$$=$JSCompiler_StaticMethods_getOptedInScopes_$self$$.split("=");$apiKeyMap$$[$optInMeta$$[0].trim()]=$optInMeta$$[1].trim()}else{var $item$jscomp$3_scope$44$$=$JSCompiler_StaticMethods_getOptedInScopes_$self$$;($JSCompiler_StaticMethods_getOptedInScopes_$self$$=$CID_API_SCOPE_WHITELIST$$module$src$service$cid_impl$$[$item$jscomp$3_scope$44$$])?$apiKeyMap$$[$JSCompiler_StaticMethods_getOptedInScopes_$self$$]=$API_KEYS$$module$src$service$cid_impl$$[$item$jscomp$3_scope$44$$]:
$user$$module$src$log$$().error("CID","Unsupported client for Google CID API: "+$item$jscomp$3_scope$44$$)}});return $apiKeyMap$$}function $optOutOfCid$$module$src$service$cid_impl$$($ampdoc$jscomp$30$$){$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$30$$).sendMessage("cidOptOut",{});return $getServicePromiseForDoc$$module$src$service$$($ampdoc$jscomp$30$$,"storage").then(function($ampdoc$jscomp$30$$){return $ampdoc$jscomp$30$$.set("amp-cid-optout",!0)})}
function $isOptedOutOfCid$$module$src$service$cid_impl$$($ampdoc$jscomp$31$$){return $getServicePromiseForDoc$$module$src$service$$($ampdoc$jscomp$31$$,"storage").then(function($ampdoc$jscomp$31$$){return $ampdoc$jscomp$31$$.get("amp-cid-optout").then(function($ampdoc$jscomp$31$$){return!!$ampdoc$jscomp$31$$})}).catch(function(){return!1})}
function $setCidCookie$$module$src$service$cid_impl$$($win$jscomp$145$$,$scope$jscomp$9$$,$cookie$jscomp$2$$){var $expiration$$=Date.now()+31536E6;$setCookie$$module$src$cookies$$($win$jscomp$145$$,$scope$jscomp$9$$,$cookie$jscomp$2$$,$expiration$$)}
function $getOrCreateCookie$$module$src$service$cid_impl$$($cid$jscomp$2$$,$getCidStruct$jscomp$2$$,$persistenceConsent$jscomp$2$$){var $win$jscomp$146$$=$cid$jscomp$2$$.ampdoc.win,$scope$jscomp$10$$=$getCidStruct$jscomp$2$$.scope,$cookieName$jscomp$1$$=$getCidStruct$jscomp$2$$.cookieName||$scope$jscomp$10$$,$existingCookie$$=$getCookie$$module$src$cookies$$($win$jscomp$146$$,$cookieName$jscomp$1$$);if(!$existingCookie$$&&!$getCidStruct$jscomp$2$$.createCookieIfNotPresent)return Promise.resolve(null);
if($cid$jscomp$2$$.$externalCidCache_$[$scope$jscomp$10$$])return $cid$jscomp$2$$.$externalCidCache_$[$scope$jscomp$10$$];if($existingCookie$$)return/^amp-/.test($existingCookie$$)&&$setCidCookie$$module$src$service$cid_impl$$($win$jscomp$146$$,$cookieName$jscomp$1$$,$existingCookie$$),Promise.resolve($existingCookie$$);var $newCookiePromise$$=$getNewCidForCookie$$module$src$service$cid_impl$$($win$jscomp$146$$).then(function($cid$jscomp$2$$){return"amp-"+$cid$jscomp$2$$});Promise.all([$newCookiePromise$$,
$persistenceConsent$jscomp$2$$]).then(function($cid$jscomp$2$$){var $getCidStruct$jscomp$2$$=$cid$jscomp$2$$[0],$persistenceConsent$jscomp$2$$=$getCookie$$module$src$cookies$$($win$jscomp$146$$,$cookieName$jscomp$1$$);$persistenceConsent$jscomp$2$$||$setCidCookie$$module$src$service$cid_impl$$($win$jscomp$146$$,$cookieName$jscomp$1$$,$getCidStruct$jscomp$2$$)});return $cid$jscomp$2$$.$externalCidCache_$[$scope$jscomp$10$$]=$newCookiePromise$$}
function $getProxySourceOrigin$$module$src$service$cid_impl$$($url$jscomp$56$$){$userAssert$$module$src$log$$($isProxyOrigin$$module$src$url$$($url$jscomp$56$$),"Expected proxy origin %s",$url$jscomp$56$$.origin);return $getSourceOrigin$$module$src$url$$($url$jscomp$56$$)}
function $getBaseCid$$module$src$service$cid_impl$$($cid$jscomp$3$$,$persistenceConsent$jscomp$3$$){if($cid$jscomp$3$$.$baseCid_$)return $cid$jscomp$3$$.$baseCid_$;var $win$jscomp$147$$=$cid$jscomp$3$$.ampdoc.win;return $cid$jscomp$3$$.$baseCid_$=$read$$module$src$service$cid_impl$$($cid$jscomp$3$$.ampdoc).then(function($stored$$){var $needsToStore$$=!1;if($stored$$&&!$isExpired$$module$src$service$cid_impl$$($stored$$)){var $baseCid$jscomp$1$$=Promise.resolve($stored$$.cid);$stored$$.time+864E5<
Date.now()&&($needsToStore$$=!0)}else $baseCid$jscomp$1$$=$getService$$module$src$service$$($win$jscomp$147$$,"crypto").sha384Base64($getEntropy$$module$src$service$cid_impl$$($win$jscomp$147$$)),$needsToStore$$=!0;$needsToStore$$&&$baseCid$jscomp$1$$.then(function($win$jscomp$147$$){$store$$module$src$service$cid_impl$$($cid$jscomp$3$$.ampdoc,$persistenceConsent$jscomp$3$$,$win$jscomp$147$$)});return $baseCid$jscomp$1$$})}
function $store$$module$src$service$cid_impl$$($ampdoc$jscomp$32$$,$persistenceConsent$jscomp$4$$,$cidString$$){var $win$jscomp$148$$=$ampdoc$jscomp$32$$.win;$isIframed$$module$src$dom$$($win$jscomp$148$$)?$viewerBaseCid$$module$src$service$cid_impl$$($ampdoc$jscomp$32$$,JSON.stringify($dict$$module$src$utils$object$$({time:Date.now(),cid:$cidString$$}))):$persistenceConsent$jscomp$4$$.then(function(){try{$win$jscomp$148$$.localStorage.setItem("amp-cid",JSON.stringify($dict$$module$src$utils$object$$({time:Date.now(),
cid:$cidString$$})))}catch($ignore$jscomp$2$$){}})}
function $viewerBaseCid$$module$src$service$cid_impl$$($ampdoc$jscomp$33$$,$opt_data$jscomp$5$$){var $viewer$jscomp$7$$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$33$$);return $viewer$jscomp$7$$.isTrustedViewer().then(function($ampdoc$jscomp$33$$){if($ampdoc$jscomp$33$$)return $dev$$module$src$log$$().expectedError("CID","Viewer does not provide cap=cid"),$viewer$jscomp$7$$.sendMessageAwaitResponse("cid",$opt_data$jscomp$5$$).then(function($ampdoc$jscomp$33$$){return $ampdoc$jscomp$33$$&&!$tryParseJson$$module$src$json$$($ampdoc$jscomp$33$$)?
($dev$$module$src$log$$().expectedError("CID","invalid cid format"),JSON.stringify($dict$$module$src$utils$object$$({time:Date.now(),cid:$ampdoc$jscomp$33$$}))):$ampdoc$jscomp$33$$})})}
function $read$$module$src$service$cid_impl$$($ampdoc$jscomp$34$$){var $win$jscomp$149$$=$ampdoc$jscomp$34$$.win;try{var $data$jscomp$76$$=$win$jscomp$149$$.localStorage.getItem("amp-cid")}catch($ignore$jscomp$3$$){}var $dataPromise$$=Promise.resolve($data$jscomp$76$$);!$data$jscomp$76$$&&$isIframed$$module$src$dom$$($win$jscomp$149$$)&&($dataPromise$$=$viewerBaseCid$$module$src$service$cid_impl$$($ampdoc$jscomp$34$$));return $dataPromise$$.then(function($ampdoc$jscomp$34$$){if(!$ampdoc$jscomp$34$$)return null;
$ampdoc$jscomp$34$$=JSON.parse($ampdoc$jscomp$34$$);return{time:$ampdoc$jscomp$34$$.time,cid:$ampdoc$jscomp$34$$.cid}})}function $isExpired$$module$src$service$cid_impl$$($storedCidInfo$$){var $createdTime$$=$storedCidInfo$$.time;return $createdTime$$+31536E6<Date.now()}
function $getEntropy$$module$src$service$cid_impl$$($win$jscomp$150$$){if($win$jscomp$150$$.crypto&&$win$jscomp$150$$.crypto.getRandomValues){var $JSCompiler_inline_result$jscomp$150_JSCompiler_uint8array$jscomp$inline_355_uint8array$jscomp$1$$=new Uint8Array(16);$win$jscomp$150$$.crypto.getRandomValues($JSCompiler_inline_result$jscomp$150_JSCompiler_uint8array$jscomp$inline_355_uint8array$jscomp$1$$)}else $JSCompiler_inline_result$jscomp$150_JSCompiler_uint8array$jscomp$inline_355_uint8array$jscomp$1$$=
null;return $JSCompiler_inline_result$jscomp$150_JSCompiler_uint8array$jscomp$inline_355_uint8array$jscomp$1$$?$JSCompiler_inline_result$jscomp$150_JSCompiler_uint8array$jscomp$inline_355_uint8array$jscomp$1$$:String($win$jscomp$150$$.location.href+Date.now()+$win$jscomp$150$$.Math.random()+$win$jscomp$150$$.screen.width+$win$jscomp$150$$.screen.height)}
function $getNewCidForCookie$$module$src$service$cid_impl$$($win$jscomp$151$$){var $entropy$$=$getEntropy$$module$src$service$cid_impl$$($win$jscomp$151$$);if("string"==typeof $entropy$$)return $getService$$module$src$service$$($win$jscomp$151$$,"crypto").sha384Base64($entropy$$);var $cast$$=$entropy$$;return $tryResolve$$module$src$utils$promise$$(function(){return $base64UrlEncodeFromBytes$$module$src$utils$base64$$($cast$$).replace(/\.+$/,"")})};var $filteredLinkRels$$module$src$service$document_info_impl$$=["prefetch","preload","preconnect","dns-prefetch"];function $DocInfo$$module$src$service$document_info_impl$$($ampdoc$jscomp$37$$){this.$ampdoc_$=$ampdoc$jscomp$37$$;this.$info_$=null}
$DocInfo$$module$src$service$document_info_impl$$.prototype.get=function(){if(this.$info_$)return this.$info_$;var $ampdoc$jscomp$38$$=this.$ampdoc_$,$rootNode$jscomp$3_url$jscomp$57$$=$ampdoc$jscomp$38$$.getUrl(),$sourceUrl$$=$getSourceUrl$$module$src$url$$($rootNode$jscomp$3_url$jscomp$57$$),$canonicalUrl$jscomp$2$$=($rootNode$jscomp$3_url$jscomp$57$$=$ampdoc$jscomp$38$$.getRootNode())&&$rootNode$jscomp$3_url$jscomp$57$$.AMP&&$rootNode$jscomp$3_url$jscomp$57$$.AMP.canonicalUrl;if(!$canonicalUrl$jscomp$2$$){var $canonicalTag$$=
$rootNode$jscomp$3_url$jscomp$57$$.querySelector("link[rel=canonical]");$canonicalUrl$jscomp$2$$=$canonicalTag$$?$parseUrlDeprecated$$module$src$url$$($canonicalTag$$.href).href:$sourceUrl$$}var $pageViewId$$=String(Math.floor(1E4*$ampdoc$jscomp$38$$.win.Math.random())),$linkRels$$=$getLinkRels$$module$src$service$document_info_impl$$($ampdoc$jscomp$38$$.win.document),$metaTags$$=$getMetaTags$$module$src$service$document_info_impl$$($ampdoc$jscomp$38$$.win.document),$replaceParams$$=$getReplaceParams$$module$src$service$document_info_impl$$($ampdoc$jscomp$38$$);
return this.$info_$={get sourceUrl(){return $getSourceUrl$$module$src$url$$($ampdoc$jscomp$38$$.getUrl())},canonicalUrl:$canonicalUrl$jscomp$2$$,pageViewId:$pageViewId$$,linkRels:$linkRels$$,metaTags:$metaTags$$,replaceParams:$replaceParams$$}};
function $getLinkRels$$module$src$service$document_info_impl$$($$jscomp$loop$98_doc$jscomp$31$$){var $linkRels$jscomp$1$$=$map$$module$src$utils$object$$();if($$jscomp$loop$98_doc$jscomp$31$$.head){var $links$$=$$jscomp$loop$98_doc$jscomp$31$$.head.querySelectorAll("link[rel]");$$jscomp$loop$98_doc$jscomp$31$$={};for(var $i$jscomp$75$$=0;$i$jscomp$75$$<$links$$.length;$$jscomp$loop$98_doc$jscomp$31$$={$$jscomp$loop$prop$href$99$:$$jscomp$loop$98_doc$jscomp$31$$.$$jscomp$loop$prop$href$99$},$i$jscomp$75$$++){var $link$$=
$links$$[$i$jscomp$75$$];$$jscomp$loop$98_doc$jscomp$31$$.$$jscomp$loop$prop$href$99$=$link$$.href;var $rels$$=$link$$.getAttribute("rel");$rels$$&&$$jscomp$loop$98_doc$jscomp$31$$.$$jscomp$loop$prop$href$99$&&$rels$$.split(/\s+/).forEach(function($$jscomp$loop$98_doc$jscomp$31$$){return function($links$$){if(-1==$filteredLinkRels$$module$src$service$document_info_impl$$.indexOf($links$$)){var $i$jscomp$75$$=$linkRels$jscomp$1$$[$links$$];$i$jscomp$75$$?(Array.isArray($i$jscomp$75$$)||($i$jscomp$75$$=
$linkRels$jscomp$1$$[$links$$]=[$i$jscomp$75$$]),$i$jscomp$75$$.push($$jscomp$loop$98_doc$jscomp$31$$.$$jscomp$loop$prop$href$99$)):$linkRels$jscomp$1$$[$links$$]=$$jscomp$loop$98_doc$jscomp$31$$.$$jscomp$loop$prop$href$99$}}}($$jscomp$loop$98_doc$jscomp$31$$))}}return $linkRels$jscomp$1$$}
function $getMetaTags$$module$src$service$document_info_impl$$($doc$jscomp$32_i$jscomp$76$$){var $metaTags$jscomp$1$$=$map$$module$src$utils$object$$();if($doc$jscomp$32_i$jscomp$76$$.head){var $metas$$=$doc$jscomp$32_i$jscomp$76$$.head.querySelectorAll("meta[name]");for($doc$jscomp$32_i$jscomp$76$$=0;$doc$jscomp$32_i$jscomp$76$$<$metas$$.length;$doc$jscomp$32_i$jscomp$76$$++){var $meta$jscomp$2_name$jscomp$136$$=$metas$$[$doc$jscomp$32_i$jscomp$76$$],$content$jscomp$2$$=$meta$jscomp$2_name$jscomp$136$$.getAttribute("content");
if(($meta$jscomp$2_name$jscomp$136$$=$meta$jscomp$2_name$jscomp$136$$.getAttribute("name"))&&$content$jscomp$2$$){var $value$jscomp$123$$=$metaTags$jscomp$1$$[$meta$jscomp$2_name$jscomp$136$$];$value$jscomp$123$$?(Array.isArray($value$jscomp$123$$)||($value$jscomp$123$$=$metaTags$jscomp$1$$[$meta$jscomp$2_name$jscomp$136$$]=[$value$jscomp$123$$]),$value$jscomp$123$$.push($content$jscomp$2$$)):$metaTags$jscomp$1$$[$meta$jscomp$2_name$jscomp$136$$]=$content$jscomp$2$$}}}return $metaTags$jscomp$1$$}
function $getReplaceParams$$module$src$service$document_info_impl$$($ampdoc$jscomp$39_url$jscomp$58$$){var $JSCompiler_temp$jscomp$127_JSCompiler_url$jscomp$inline_357$$;($JSCompiler_temp$jscomp$127_JSCompiler_url$jscomp$inline_357$$=!$ampdoc$jscomp$39_url$jscomp$58$$.isSingleDoc())||($JSCompiler_temp$jscomp$127_JSCompiler_url$jscomp$inline_357$$=$ampdoc$jscomp$39_url$jscomp$58$$.win.location.href,"string"==typeof $JSCompiler_temp$jscomp$127_JSCompiler_url$jscomp$inline_357$$&&($JSCompiler_temp$jscomp$127_JSCompiler_url$jscomp$inline_357$$=
$parseUrlDeprecated$$module$src$url$$($JSCompiler_temp$jscomp$127_JSCompiler_url$jscomp$inline_357$$)),$JSCompiler_temp$jscomp$127_JSCompiler_url$jscomp$inline_357$$="a"!=($isProxyOrigin$$module$src$url$$($JSCompiler_temp$jscomp$127_JSCompiler_url$jscomp$inline_357$$)?$JSCompiler_temp$jscomp$127_JSCompiler_url$jscomp$inline_357$$.pathname.split("/",2)[1]:null));if($JSCompiler_temp$jscomp$127_JSCompiler_url$jscomp$inline_357$$)return null;$ampdoc$jscomp$39_url$jscomp$58$$=$parseUrlDeprecated$$module$src$url$$($ampdoc$jscomp$39_url$jscomp$58$$.win.location.href);
var $replaceRaw$$=$parseQueryString_$$module$src$url_parse_query_string$$($ampdoc$jscomp$39_url$jscomp$58$$.search).amp_r;return void 0===$replaceRaw$$?null:$parseQueryString_$$module$src$url_parse_query_string$$($replaceRaw$$)};function $Observable$$module$src$observable$$(){this.$handlers_$=null}$JSCompiler_prototypeAlias$$=$Observable$$module$src$observable$$.prototype;$JSCompiler_prototypeAlias$$.add=function($handler$jscomp$13$$){var $$jscomp$this$jscomp$56$$=this;this.$handlers_$||(this.$handlers_$=[]);this.$handlers_$.push($handler$jscomp$13$$);return function(){$$jscomp$this$jscomp$56$$.remove($handler$jscomp$13$$)}};
$JSCompiler_prototypeAlias$$.remove=function($handler$jscomp$14_index$jscomp$74$$){this.$handlers_$&&($handler$jscomp$14_index$jscomp$74$$=this.$handlers_$.indexOf($handler$jscomp$14_index$jscomp$74$$),-1<$handler$jscomp$14_index$jscomp$74$$&&this.$handlers_$.splice($handler$jscomp$14_index$jscomp$74$$,1))};$JSCompiler_prototypeAlias$$.removeAll=function(){this.$handlers_$&&(this.$handlers_$.length=0)};
$JSCompiler_prototypeAlias$$.fire=function($opt_event$$){if(this.$handlers_$)for(var $handlers$$=this.$handlers_$,$i$jscomp$77$$=0;$i$jscomp$77$$<$handlers$$.length;$i$jscomp$77$$++)(0,$handlers$$[$i$jscomp$77$$])($opt_event$$)};$JSCompiler_prototypeAlias$$.getHandlerCount=function(){return this.$handlers_$?this.$handlers_$.length:0};var $DEFAULT_APPEND_URL_PARAM$$module$src$impression$$=["gclid","gclsrc"];function $getTrackImpressionPromise$$module$src$impression$$(){return $userAssert$$module$src$log$$(null,"E#19457 trackImpressionPromise")}function $shouldAppendExtraParams$$module$src$impression$$($ampdoc$jscomp$40$$){return $ampdoc$jscomp$40$$.whenReady().then(function(){return!!$ampdoc$jscomp$40$$.getBody().querySelector("amp-analytics[type=googleanalytics]")})};function $PriorityQueue$$module$src$utils$priority_queue$$(){this.$queue_$=[]}$PriorityQueue$$module$src$utils$priority_queue$$.prototype.peek=function(){var $l$$=this.$queue_$.length;return $l$$?this.$queue_$[$l$$-1].item:null};
$PriorityQueue$$module$src$utils$priority_queue$$.prototype.enqueue=function($item$jscomp$5$$,$priority$jscomp$1$$){if(isNaN($priority$jscomp$1$$))throw Error("Priority must not be NaN.");for(var $JSCompiler_i$jscomp$inline_361$$=-1,$JSCompiler_lo$jscomp$inline_362$$=0,$JSCompiler_hi$jscomp$inline_363$$=this.$queue_$.length;$JSCompiler_lo$jscomp$inline_362$$<=$JSCompiler_hi$jscomp$inline_363$$;){$JSCompiler_i$jscomp$inline_361$$=Math.floor(($JSCompiler_lo$jscomp$inline_362$$+$JSCompiler_hi$jscomp$inline_363$$)/
2);if($JSCompiler_i$jscomp$inline_361$$===this.$queue_$.length)break;if(this.$queue_$[$JSCompiler_i$jscomp$inline_361$$].priority<$priority$jscomp$1$$)$JSCompiler_lo$jscomp$inline_362$$=$JSCompiler_i$jscomp$inline_361$$+1;else if(0<$JSCompiler_i$jscomp$inline_361$$&&this.$queue_$[$JSCompiler_i$jscomp$inline_361$$-1].priority>=$priority$jscomp$1$$)$JSCompiler_hi$jscomp$inline_363$$=$JSCompiler_i$jscomp$inline_361$$-1;else break}this.$queue_$.splice($JSCompiler_i$jscomp$inline_361$$,0,{item:$item$jscomp$5$$,
priority:$priority$jscomp$1$$})};$PriorityQueue$$module$src$utils$priority_queue$$.prototype.forEach=function($callback$jscomp$78$$){for(var $index$jscomp$75$$=this.$queue_$.length;$index$jscomp$75$$--;)$callback$jscomp$78$$(this.$queue_$[$index$jscomp$75$$].item)};$PriorityQueue$$module$src$utils$priority_queue$$.prototype.dequeue=function(){return this.$queue_$.length?this.$queue_$.pop().item:null};
$$jscomp$global$$.Object.defineProperties($PriorityQueue$$module$src$utils$priority_queue$$.prototype,{length:{configurable:!0,enumerable:!0,get:function(){return this.$queue_$.length}}});var $VALID_TARGETS$$module$src$service$navigation$$=["_top","_blank"];
function $Navigation$$module$src$service$navigation$$($ampdoc$jscomp$43$$,$opt_rootNode$$){var $$jscomp$this$jscomp$57$$=this;this.ampdoc=$ampdoc$jscomp$43$$;this.$rootNode_$=$opt_rootNode$$||$ampdoc$jscomp$43$$.getRootNode();this.$viewport_$=$Services$$module$src$services$viewportForDoc$$(this.ampdoc);this.$viewer_$=$Services$$module$src$services$viewerForDoc$$(this.ampdoc);this.$history_$=$getServiceForDoc$$module$src$service$$(this.ampdoc,"history");this.$platform_$=$Services$$module$src$services$platformFor$$(this.ampdoc.win);
this.$isIosSafari_$=this.$platform_$.isIos()&&this.$platform_$.isSafari();this.$isIframed_$=$isIframed$$module$src$dom$$(this.ampdoc.win)&&this.$viewer_$.isOvertakeHistory();this.$isEmbed_$=this.$rootNode_$!=this.ampdoc.getRootNode();this.$isInABox_$="inabox"==$getMode$$module$src$mode$$(this.ampdoc.win).runtime;this.$serviceContext_$=this.$rootNode_$.nodeType==Node.DOCUMENT_NODE?this.$rootNode_$.documentElement:this.$rootNode_$;this.$boundHandle_$=this.$handle_$.bind(this);this.$rootNode_$.addEventListener("click",
this.$boundHandle_$);this.$rootNode_$.addEventListener("contextmenu",this.$boundHandle_$);this.$appendExtraParams_$=!1;$shouldAppendExtraParams$$module$src$impression$$(this.ampdoc).then(function($ampdoc$jscomp$43$$){$$jscomp$this$jscomp$57$$.$appendExtraParams_$=$ampdoc$jscomp$43$$});this.$a2aFeatures_$=null;this.$anchorMutators_$=new $PriorityQueue$$module$src$utils$priority_queue$$}
$Navigation$$module$src$service$navigation$$.installInEmbedWindow=function($embedWin$jscomp$4$$,$ampdoc$jscomp$45$$){$installServiceInEmbedScope$$module$src$service$$($embedWin$jscomp$4$$,"navigation",new $Navigation$$module$src$service$navigation$$($ampdoc$jscomp$45$$,$embedWin$jscomp$4$$.document))};$JSCompiler_prototypeAlias$$=$Navigation$$module$src$service$navigation$$.prototype;
$JSCompiler_prototypeAlias$$.cleanup=function(){this.$boundHandle_$&&(this.$rootNode_$.removeEventListener("click",this.$boundHandle_$),this.$rootNode_$.removeEventListener("contextmenu",this.$boundHandle_$))};
$JSCompiler_prototypeAlias$$.openWindow=function($win$jscomp$163$$,$url$jscomp$63$$,$target$jscomp$104$$,$opener$$){var $options$jscomp$25$$="";!this.$platform_$.isIos()&&this.$platform_$.isChrome()||$opener$$||($options$jscomp$25$$+="noopener");var $newWin$$=$openWindowDialog$$module$src$dom$$($win$jscomp$163$$,$url$jscomp$63$$,$target$jscomp$104$$,$options$jscomp$25$$);$newWin$$&&!$opener$$&&($newWin$$.opener=null)};
$JSCompiler_prototypeAlias$$.navigateTo=function($win$jscomp$164$$,$url$jscomp$64$$,$opt_requestedBy$$,$$jscomp$destructuring$var84_target$jscomp$105$$){var $$jscomp$destructuring$var85_opener$jscomp$1$$=void 0===$$jscomp$destructuring$var84_target$jscomp$105$$?{}:$$jscomp$destructuring$var84_target$jscomp$105$$;$$jscomp$destructuring$var84_target$jscomp$105$$=void 0===$$jscomp$destructuring$var85_opener$jscomp$1$$.target?"_top":$$jscomp$destructuring$var85_opener$jscomp$1$$.target;$$jscomp$destructuring$var85_opener$jscomp$1$$=
void 0===$$jscomp$destructuring$var85_opener$jscomp$1$$.opener?!1:$$jscomp$destructuring$var85_opener$jscomp$1$$.opener;var $urlService$$=$getExistingServiceForDocInEmbedScope$$module$src$service$$(this.$serviceContext_$,"url");if($urlService$$.isProtocolValid($url$jscomp$64$$))if($userAssert$$module$src$log$$($VALID_TARGETS$$module$src$service$navigation$$.includes($$jscomp$destructuring$var84_target$jscomp$105$$),"Target '"+$$jscomp$destructuring$var84_target$jscomp$105$$+"' not supported."),"_blank"==
$$jscomp$destructuring$var84_target$jscomp$105$$)this.openWindow($win$jscomp$164$$,$url$jscomp$64$$,$$jscomp$destructuring$var84_target$jscomp$105$$,$$jscomp$destructuring$var85_opener$jscomp$1$$);else{if($opt_requestedBy$$&&(this.$a2aFeatures_$||(this.$a2aFeatures_$=$JSCompiler_StaticMethods_queryA2AFeatures_$$(this)),this.$a2aFeatures_$.includes($opt_requestedBy$$)&&this.navigateToAmpUrl($url$jscomp$64$$,$opt_requestedBy$$)))return;$win$jscomp$164$$.top.location.href=$url$jscomp$64$$}else $user$$module$src$log$$().error("navigation",
"Cannot navigate to invalid protocol: "+$url$jscomp$64$$)};$JSCompiler_prototypeAlias$$.navigateToAmpUrl=function($url$jscomp$65$$,$requestedBy$$){return this.$viewer_$.hasCapability("a2a")?(this.$viewer_$.sendMessage("a2aNavigate",$dict$$module$src$utils$object$$({url:$url$jscomp$65$$,requestedBy:$requestedBy$$})),!0):!1};
function $JSCompiler_StaticMethods_queryA2AFeatures_$$($JSCompiler_StaticMethods_queryA2AFeatures_$self_meta$jscomp$3$$){return($JSCompiler_StaticMethods_queryA2AFeatures_$self_meta$jscomp$3$$=$JSCompiler_StaticMethods_queryA2AFeatures_$self_meta$jscomp$3$$.$rootNode_$.querySelector('meta[name="amp-to-amp-navigation"]'))&&$JSCompiler_StaticMethods_queryA2AFeatures_$self_meta$jscomp$3$$.hasAttribute("content")?$JSCompiler_StaticMethods_queryA2AFeatures_$self_meta$jscomp$3$$.getAttribute("content").split(",").map(function($JSCompiler_StaticMethods_queryA2AFeatures_$self_meta$jscomp$3$$){return $JSCompiler_StaticMethods_queryA2AFeatures_$self_meta$jscomp$3$$.trim()}):
[]}
$JSCompiler_prototypeAlias$$.$handle_$=function($e$jscomp$55$$){if(!$e$jscomp$55$$.defaultPrevented){var $target$jscomp$106$$=$closestAncestorElementBySelector$$module$src$dom$$($e$jscomp$55$$.target,"A");if($target$jscomp$106$$&&$target$jscomp$106$$.href)if("click"==$e$jscomp$55$$.type){$JSCompiler_StaticMethods_expandVarsForAnchor_$$(this,$target$jscomp$106$$);var $JSCompiler_isNormalProtocol$jscomp$inline_697_JSCompiler_location$jscomp$inline_368_JSCompiler_protocol$jscomp$inline_695$$=$JSCompiler_StaticMethods_parseUrl_$$(this,$target$jscomp$106$$.href),
$JSCompiler_inline_result$jscomp$642_JSCompiler_temp$jscomp$641_JSCompiler_win$jscomp$inline_693$$;if($JSCompiler_inline_result$jscomp$642_JSCompiler_temp$jscomp$641_JSCompiler_win$jscomp$inline_693$$=!$JSCompiler_StaticMethods_handleA2AClick_$$(this,$e$jscomp$55$$,$target$jscomp$106$$,$JSCompiler_isNormalProtocol$jscomp$inline_697_JSCompiler_location$jscomp$inline_368_JSCompiler_protocol$jscomp$inline_695$$)){if(this.$isIframed_$){$JSCompiler_inline_result$jscomp$642_JSCompiler_temp$jscomp$641_JSCompiler_win$jscomp$inline_693$$=
$target$jscomp$106$$.ownerDocument.defaultView;var $JSCompiler_url$jscomp$inline_694$$=$target$jscomp$106$$.href;$JSCompiler_isNormalProtocol$jscomp$inline_697_JSCompiler_location$jscomp$inline_368_JSCompiler_protocol$jscomp$inline_695$$=$JSCompiler_isNormalProtocol$jscomp$inline_697_JSCompiler_location$jscomp$inline_368_JSCompiler_protocol$jscomp$inline_695$$.protocol;"ftp:"==$JSCompiler_isNormalProtocol$jscomp$inline_697_JSCompiler_location$jscomp$inline_368_JSCompiler_protocol$jscomp$inline_695$$?
($openWindowDialog$$module$src$dom$$($JSCompiler_inline_result$jscomp$642_JSCompiler_temp$jscomp$641_JSCompiler_win$jscomp$inline_693$$,$JSCompiler_url$jscomp$inline_694$$,"_blank"),$e$jscomp$55$$.preventDefault(),$JSCompiler_inline_result$jscomp$642_JSCompiler_temp$jscomp$641_JSCompiler_win$jscomp$inline_693$$=!0):($JSCompiler_isNormalProtocol$jscomp$inline_697_JSCompiler_location$jscomp$inline_368_JSCompiler_protocol$jscomp$inline_695$$=/^(https?|mailto):$/.test($JSCompiler_isNormalProtocol$jscomp$inline_697_JSCompiler_location$jscomp$inline_368_JSCompiler_protocol$jscomp$inline_695$$),
this.$isIosSafari_$&&!$JSCompiler_isNormalProtocol$jscomp$inline_697_JSCompiler_location$jscomp$inline_368_JSCompiler_protocol$jscomp$inline_695$$?($openWindowDialog$$module$src$dom$$($JSCompiler_inline_result$jscomp$642_JSCompiler_temp$jscomp$641_JSCompiler_win$jscomp$inline_693$$,$JSCompiler_url$jscomp$inline_694$$,"_top"),$e$jscomp$55$$.preventDefault(),$JSCompiler_inline_result$jscomp$642_JSCompiler_temp$jscomp$641_JSCompiler_win$jscomp$inline_693$$=!0):$JSCompiler_inline_result$jscomp$642_JSCompiler_temp$jscomp$641_JSCompiler_win$jscomp$inline_693$$=
!1)}else $JSCompiler_inline_result$jscomp$642_JSCompiler_temp$jscomp$641_JSCompiler_win$jscomp$inline_693$$=!1;$JSCompiler_inline_result$jscomp$642_JSCompiler_temp$jscomp$641_JSCompiler_win$jscomp$inline_693$$=!$JSCompiler_inline_result$jscomp$642_JSCompiler_temp$jscomp$641_JSCompiler_win$jscomp$inline_693$$}$JSCompiler_inline_result$jscomp$642_JSCompiler_temp$jscomp$641_JSCompiler_win$jscomp$inline_693$$&&($JSCompiler_StaticMethods_anchorMutatorHandlers_$$(this,$target$jscomp$106$$,$e$jscomp$55$$),
$JSCompiler_isNormalProtocol$jscomp$inline_697_JSCompiler_location$jscomp$inline_368_JSCompiler_protocol$jscomp$inline_695$$=$JSCompiler_StaticMethods_parseUrl_$$(this,$target$jscomp$106$$.href),$JSCompiler_StaticMethods_handleNavClick_$$(this,$e$jscomp$55$$,$target$jscomp$106$$,$JSCompiler_isNormalProtocol$jscomp$inline_697_JSCompiler_location$jscomp$inline_368_JSCompiler_protocol$jscomp$inline_695$$))}else"contextmenu"==$e$jscomp$55$$.type&&($JSCompiler_StaticMethods_expandVarsForAnchor_$$(this,
$target$jscomp$106$$),$JSCompiler_StaticMethods_anchorMutatorHandlers_$$(this,$target$jscomp$106$$,$e$jscomp$55$$))}};
function $JSCompiler_StaticMethods_anchorMutatorHandlers_$$($JSCompiler_StaticMethods_anchorMutatorHandlers_$self$$,$target$jscomp$109$$,$e$jscomp$58$$){$JSCompiler_StaticMethods_anchorMutatorHandlers_$self$$.$anchorMutators_$.forEach(function($JSCompiler_StaticMethods_anchorMutatorHandlers_$self$$){$JSCompiler_StaticMethods_anchorMutatorHandlers_$self$$($target$jscomp$109$$,$e$jscomp$58$$)})}
function $JSCompiler_StaticMethods_expandVarsForAnchor_$$($JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_378_JSCompiler_url$jscomp$inline_376$$,$el$jscomp$13$$){var $defaultExpandParamsUrl$$=null;if($JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_378_JSCompiler_url$jscomp$inline_376$$.$appendExtraParams_$&&!$JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_378_JSCompiler_url$jscomp$inline_376$$.$isEmbed_$){$JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_378_JSCompiler_url$jscomp$inline_376$$=
$parseUrlDeprecated$$module$src$url$$($JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_378_JSCompiler_url$jscomp$inline_376$$.ampdoc.win.location.href);var $JSCompiler_additionalUrlParams$jscomp$inline_381_JSCompiler_existParams$jscomp$inline_384_JSCompiler_loc$jscomp$inline_383_JSCompiler_params$jscomp$inline_377_JSCompiler_url$jscomp$inline_700$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_378_JSCompiler_url$jscomp$inline_376$$.search);
$JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_378_JSCompiler_url$jscomp$inline_376$$=[];for(var $JSCompiler_href$jscomp$inline_382_JSCompiler_i$jscomp$inline_379_JSCompiler_i$jscomp$inline_701_i$45$jscomp$inline_385$$=0;$JSCompiler_href$jscomp$inline_382_JSCompiler_i$jscomp$inline_379_JSCompiler_i$jscomp$inline_701_i$45$jscomp$inline_385$$<$DEFAULT_APPEND_URL_PARAM$$module$src$impression$$.length;$JSCompiler_href$jscomp$inline_382_JSCompiler_i$jscomp$inline_379_JSCompiler_i$jscomp$inline_701_i$45$jscomp$inline_385$$++){var $JSCompiler_param$jscomp$inline_380_JSCompiler_param$jscomp$inline_702$$=
$DEFAULT_APPEND_URL_PARAM$$module$src$impression$$[$JSCompiler_href$jscomp$inline_382_JSCompiler_i$jscomp$inline_379_JSCompiler_i$jscomp$inline_701_i$45$jscomp$inline_385$$];"undefined"!==typeof $JSCompiler_additionalUrlParams$jscomp$inline_381_JSCompiler_existParams$jscomp$inline_384_JSCompiler_loc$jscomp$inline_383_JSCompiler_params$jscomp$inline_377_JSCompiler_url$jscomp$inline_700$$[$JSCompiler_param$jscomp$inline_380_JSCompiler_param$jscomp$inline_702$$]&&$JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_378_JSCompiler_url$jscomp$inline_376$$.push($JSCompiler_param$jscomp$inline_380_JSCompiler_param$jscomp$inline_702$$)}$JSCompiler_additionalUrlParams$jscomp$inline_381_JSCompiler_existParams$jscomp$inline_384_JSCompiler_loc$jscomp$inline_383_JSCompiler_params$jscomp$inline_377_JSCompiler_url$jscomp$inline_700$$=
$el$jscomp$13$$.getAttribute("data-amp-addparams");$JSCompiler_href$jscomp$inline_382_JSCompiler_i$jscomp$inline_379_JSCompiler_i$jscomp$inline_701_i$45$jscomp$inline_385$$=$el$jscomp$13$$.href;$JSCompiler_additionalUrlParams$jscomp$inline_381_JSCompiler_existParams$jscomp$inline_384_JSCompiler_loc$jscomp$inline_383_JSCompiler_params$jscomp$inline_377_JSCompiler_url$jscomp$inline_700$$&&($JSCompiler_href$jscomp$inline_382_JSCompiler_i$jscomp$inline_379_JSCompiler_i$jscomp$inline_701_i$45$jscomp$inline_385$$=
$addParamsToUrl$$module$src$url$$($JSCompiler_href$jscomp$inline_382_JSCompiler_i$jscomp$inline_379_JSCompiler_i$jscomp$inline_701_i$45$jscomp$inline_385$$,$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_additionalUrlParams$jscomp$inline_381_JSCompiler_existParams$jscomp$inline_384_JSCompiler_loc$jscomp$inline_383_JSCompiler_params$jscomp$inline_377_JSCompiler_url$jscomp$inline_700$$)));$JSCompiler_additionalUrlParams$jscomp$inline_381_JSCompiler_existParams$jscomp$inline_384_JSCompiler_loc$jscomp$inline_383_JSCompiler_params$jscomp$inline_377_JSCompiler_url$jscomp$inline_700$$=
$parseUrlDeprecated$$module$src$url$$($JSCompiler_href$jscomp$inline_382_JSCompiler_i$jscomp$inline_379_JSCompiler_i$jscomp$inline_701_i$45$jscomp$inline_385$$);$JSCompiler_additionalUrlParams$jscomp$inline_381_JSCompiler_existParams$jscomp$inline_384_JSCompiler_loc$jscomp$inline_383_JSCompiler_params$jscomp$inline_377_JSCompiler_url$jscomp$inline_700$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_additionalUrlParams$jscomp$inline_381_JSCompiler_existParams$jscomp$inline_384_JSCompiler_loc$jscomp$inline_383_JSCompiler_params$jscomp$inline_377_JSCompiler_url$jscomp$inline_700$$.search);
for($JSCompiler_href$jscomp$inline_382_JSCompiler_i$jscomp$inline_379_JSCompiler_i$jscomp$inline_701_i$45$jscomp$inline_385$$=$JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_378_JSCompiler_url$jscomp$inline_376$$.length-1;0<=$JSCompiler_href$jscomp$inline_382_JSCompiler_i$jscomp$inline_379_JSCompiler_i$jscomp$inline_701_i$45$jscomp$inline_385$$;$JSCompiler_href$jscomp$inline_382_JSCompiler_i$jscomp$inline_379_JSCompiler_i$jscomp$inline_701_i$45$jscomp$inline_385$$--)"undefined"!==
typeof $JSCompiler_additionalUrlParams$jscomp$inline_381_JSCompiler_existParams$jscomp$inline_384_JSCompiler_loc$jscomp$inline_383_JSCompiler_params$jscomp$inline_377_JSCompiler_url$jscomp$inline_700$$[$JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_378_JSCompiler_url$jscomp$inline_376$$[$JSCompiler_href$jscomp$inline_382_JSCompiler_i$jscomp$inline_379_JSCompiler_i$jscomp$inline_701_i$45$jscomp$inline_385$$]]&&$JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_378_JSCompiler_url$jscomp$inline_376$$.splice($JSCompiler_href$jscomp$inline_382_JSCompiler_i$jscomp$inline_379_JSCompiler_i$jscomp$inline_701_i$45$jscomp$inline_385$$,
1);$JSCompiler_additionalUrlParams$jscomp$inline_381_JSCompiler_existParams$jscomp$inline_384_JSCompiler_loc$jscomp$inline_383_JSCompiler_params$jscomp$inline_377_JSCompiler_url$jscomp$inline_700$$="";for($JSCompiler_href$jscomp$inline_382_JSCompiler_i$jscomp$inline_379_JSCompiler_i$jscomp$inline_701_i$45$jscomp$inline_385$$=0;$JSCompiler_href$jscomp$inline_382_JSCompiler_i$jscomp$inline_379_JSCompiler_i$jscomp$inline_701_i$45$jscomp$inline_385$$<$JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_378_JSCompiler_url$jscomp$inline_376$$.length;$JSCompiler_href$jscomp$inline_382_JSCompiler_i$jscomp$inline_379_JSCompiler_i$jscomp$inline_701_i$45$jscomp$inline_385$$++)$JSCompiler_param$jscomp$inline_380_JSCompiler_param$jscomp$inline_702$$=
$JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_378_JSCompiler_url$jscomp$inline_376$$[$JSCompiler_href$jscomp$inline_382_JSCompiler_i$jscomp$inline_379_JSCompiler_i$jscomp$inline_701_i$45$jscomp$inline_385$$],$JSCompiler_additionalUrlParams$jscomp$inline_381_JSCompiler_existParams$jscomp$inline_384_JSCompiler_loc$jscomp$inline_383_JSCompiler_params$jscomp$inline_377_JSCompiler_url$jscomp$inline_700$$+=0==$JSCompiler_href$jscomp$inline_382_JSCompiler_i$jscomp$inline_379_JSCompiler_i$jscomp$inline_701_i$45$jscomp$inline_385$$?
$JSCompiler_param$jscomp$inline_380_JSCompiler_param$jscomp$inline_702$$+"=QUERY_PARAM("+$JSCompiler_param$jscomp$inline_380_JSCompiler_param$jscomp$inline_702$$+")":"&"+$JSCompiler_param$jscomp$inline_380_JSCompiler_param$jscomp$inline_702$$+"=QUERY_PARAM("+$JSCompiler_param$jscomp$inline_380_JSCompiler_param$jscomp$inline_702$$+")";$defaultExpandParamsUrl$$=$JSCompiler_additionalUrlParams$jscomp$inline_381_JSCompiler_existParams$jscomp$inline_384_JSCompiler_loc$jscomp$inline_383_JSCompiler_params$jscomp$inline_377_JSCompiler_url$jscomp$inline_700$$}var $urlReplacements$$=
$getExistingServiceForDocInEmbedScope$$module$src$service$$($el$jscomp$13$$,"url-replace");$urlReplacements$$.maybeExpandLink($el$jscomp$13$$,$defaultExpandParamsUrl$$)}
function $JSCompiler_StaticMethods_handleA2AClick_$$($JSCompiler_StaticMethods_handleA2AClick_$self$$,$e$jscomp$60$$,$target$jscomp$111$$,$location$jscomp$52$$){if(!$target$jscomp$111$$.hasAttribute("rel"))return!1;var $relations$$=$target$jscomp$111$$.getAttribute("rel").split(" ").map(function($JSCompiler_StaticMethods_handleA2AClick_$self$$){return $JSCompiler_StaticMethods_handleA2AClick_$self$$.trim()});return $relations$$.includes("amphtml")?$JSCompiler_StaticMethods_handleA2AClick_$self$$.navigateToAmpUrl($location$jscomp$52$$.href,
"<a rel=amphtml>")?($e$jscomp$60$$.preventDefault(),!0):!1:!1}
function $JSCompiler_StaticMethods_handleNavClick_$$($JSCompiler_StaticMethods_handleNavClick_$self$$,$e$jscomp$61$$,$target$jscomp$112$$,$tgtLoc$$){var $baseHref$$=$getMode$$module$src$mode$$().test&&!$JSCompiler_StaticMethods_handleNavClick_$self$$.$isEmbed_$?$JSCompiler_StaticMethods_handleNavClick_$self$$.ampdoc.win.location.href:"",$curLoc$$=$JSCompiler_StaticMethods_parseUrl_$$($JSCompiler_StaticMethods_handleNavClick_$self$$,$baseHref$$),$tgtHref$$=""+$tgtLoc$$.origin+$tgtLoc$$.pathname+$tgtLoc$$.search,
$curHref$$=""+$curLoc$$.origin+$curLoc$$.pathname+$curLoc$$.search;if($tgtLoc$$.hash&&$tgtHref$$==$curHref$$){if($e$jscomp$61$$.preventDefault(),!$JSCompiler_StaticMethods_handleNavClick_$self$$.$isEmbed_$){var $hash$jscomp$2$$=$tgtLoc$$.hash.slice(1),$elem$jscomp$1$$=null;if($hash$jscomp$2$$){var $escapedHash$$=String($hash$jscomp$2$$).replace($regex$$module$third_party$css_escape$css_escape$$,$escaper$$module$third_party$css_escape$css_escape$$);$elem$jscomp$1$$=$JSCompiler_StaticMethods_handleNavClick_$self$$.$rootNode_$.getElementById($hash$jscomp$2$$)||
$JSCompiler_StaticMethods_handleNavClick_$self$$.$rootNode_$.querySelector('a[name="'+$escapedHash$$+'"]')}$tgtLoc$$.hash!=$curLoc$$.hash?$JSCompiler_StaticMethods_handleNavClick_$self$$.$history_$.replaceStateForTarget($tgtLoc$$.hash).then(function(){$JSCompiler_StaticMethods_scrollToElement_$$($JSCompiler_StaticMethods_handleNavClick_$self$$,$elem$jscomp$1$$,$hash$jscomp$2$$)}):$JSCompiler_StaticMethods_scrollToElement_$$($JSCompiler_StaticMethods_handleNavClick_$self$$,$elem$jscomp$1$$,$hash$jscomp$2$$)}}else if($JSCompiler_StaticMethods_handleNavClick_$self$$.$isEmbed_$||
$JSCompiler_StaticMethods_handleNavClick_$self$$.$isInABox_$){var $targetAttr$$=($target$jscomp$112$$.getAttribute("target")||"").toLowerCase();"_top"!=$targetAttr$$&&"_blank"!=$targetAttr$$&&$target$jscomp$112$$.setAttribute("target","_blank")}else if($Services$$module$src$services$platformFor$$($JSCompiler_StaticMethods_handleNavClick_$self$$.ampdoc.win).isIe()){var $internalTargetElmId$$=$tgtLoc$$.hash.substring(1),$internalElm$$=$JSCompiler_StaticMethods_handleNavClick_$self$$.ampdoc.getElementById($internalTargetElmId$$);
$internalElm$$&&(/^(?:a|select|input|button|textarea)$/i.test($internalElm$$.tagName)||($internalElm$$.tabIndex=-1),$tryFocus$$module$src$dom$$($internalElm$$))}}$JSCompiler_prototypeAlias$$.registerAnchorMutator=function($callback$jscomp$79$$,$priority$jscomp$2$$){this.$anchorMutators_$.enqueue($callback$jscomp$79$$,$priority$jscomp$2$$)};
function $JSCompiler_StaticMethods_scrollToElement_$$($JSCompiler_StaticMethods_scrollToElement_$self$$,$elem$jscomp$2$$,$hash$jscomp$3$$){$elem$jscomp$2$$?($JSCompiler_StaticMethods_scrollToElement_$self$$.$viewport_$.scrollIntoView($elem$jscomp$2$$),$Services$$module$src$services$timerFor$$($JSCompiler_StaticMethods_scrollToElement_$self$$.ampdoc.win).delay(function(){return $JSCompiler_StaticMethods_scrollToElement_$self$$.$viewport_$.scrollIntoView($elem$jscomp$2$$)},1)):$dev$$module$src$log$$().warn("navigation",
"failed to find element with id="+$hash$jscomp$3$$+" or a[name="+$hash$jscomp$3$$+"]")}function $JSCompiler_StaticMethods_parseUrl_$$($JSCompiler_StaticMethods_parseUrl_$self$$,$url$jscomp$67$$){return $getExistingServiceForDocInEmbedScope$$module$src$service$$($JSCompiler_StaticMethods_parseUrl_$self$$.$serviceContext_$,"url").parse($url$jscomp$67$$)};function $installGlobalSubmitListenerForDoc$$module$src$document_submit$$($ampdoc$jscomp$47$$){$isExtensionScriptInNode$$module$src$element_service$$($ampdoc$jscomp$47$$).then(function($ampFormInstalled$$){$ampFormInstalled$$&&$ampdoc$jscomp$47$$.getRootNode().addEventListener("submit",$onDocumentFormSubmit_$$module$src$document_submit$$,!0)})}
function $onDocumentFormSubmit_$$module$src$document_submit$$($e$jscomp$63$$){if(!$e$jscomp$63$$.defaultPrevented){var $form$jscomp$3$$=$e$jscomp$63$$.target;if($form$jscomp$3$$&&"FORM"==$form$jscomp$3$$.tagName){var $isAmpFormMarked$$=$form$jscomp$3$$.classList.contains("i-amphtml-form"),$shouldValidate$$;($shouldValidate$$=$isAmpFormMarked$$?!$form$jscomp$3$$.hasAttribute("amp-novalidate"):!$form$jscomp$3$$.hasAttribute("novalidate"))&&$form$jscomp$3$$.checkValidity&&!$form$jscomp$3$$.checkValidity()&&
$e$jscomp$63$$.preventDefault();for(var $inputs$$=$form$jscomp$3$$.elements,$action$jscomp$12_i$jscomp$82_target$jscomp$114$$=0;$action$jscomp$12_i$jscomp$82_target$jscomp$114$$<$inputs$$.length;$action$jscomp$12_i$jscomp$82_target$jscomp$114$$++)$userAssert$$module$src$log$$(!$inputs$$[$action$jscomp$12_i$jscomp$82_target$jscomp$114$$].name||"__amp_source_origin"!=$inputs$$[$action$jscomp$12_i$jscomp$82_target$jscomp$114$$].name,"Illegal input name, %s found: %s","__amp_source_origin",$inputs$$[$action$jscomp$12_i$jscomp$82_target$jscomp$114$$]);
$action$jscomp$12_i$jscomp$82_target$jscomp$114$$=$form$jscomp$3$$.getAttribute("action");var $actionXhr$$=$form$jscomp$3$$.getAttribute("action-xhr"),$method$jscomp$11$$=($form$jscomp$3$$.getAttribute("method")||"GET").toUpperCase();$actionXhr$$&&($assertHttpsUrl$$module$src$url$$($actionXhr$$,$form$jscomp$3$$,"action-xhr"),$userAssert$$module$src$log$$(!$isProxyOrigin$$module$src$url$$($actionXhr$$),"form action-xhr should not be on AMP CDN: %s",$form$jscomp$3$$),$checkCorsUrl$$module$src$url$$($actionXhr$$));
$action$jscomp$12_i$jscomp$82_target$jscomp$114$$&&($assertHttpsUrl$$module$src$url$$($action$jscomp$12_i$jscomp$82_target$jscomp$114$$,$form$jscomp$3$$,"action"),$userAssert$$module$src$log$$(!$isProxyOrigin$$module$src$url$$($action$jscomp$12_i$jscomp$82_target$jscomp$114$$),"form action should not be on AMP CDN: %s",$form$jscomp$3$$),$checkCorsUrl$$module$src$url$$($action$jscomp$12_i$jscomp$82_target$jscomp$114$$));"GET"==$method$jscomp$11$$?$userAssert$$module$src$log$$($actionXhr$$||$action$jscomp$12_i$jscomp$82_target$jscomp$114$$,
"form action-xhr or action attribute is required for method=GET: %s",$form$jscomp$3$$):"POST"==$method$jscomp$11$$&&($action$jscomp$12_i$jscomp$82_target$jscomp$114$$&&$user$$module$src$log$$().error("form","action attribute is invalid for method=POST: %s",$form$jscomp$3$$),$actionXhr$$||($e$jscomp$63$$.preventDefault(),$userAssert$$module$src$log$$(!1,"Only XHR based (via action-xhr attribute) submissions are support for POST requests. %s",$form$jscomp$3$$)));($action$jscomp$12_i$jscomp$82_target$jscomp$114$$=
$form$jscomp$3$$.getAttribute("target"))?$userAssert$$module$src$log$$("_blank"==$action$jscomp$12_i$jscomp$82_target$jscomp$114$$||"_top"==$action$jscomp$12_i$jscomp$82_target$jscomp$114$$,"form target=%s is invalid can only be _blank or _top: %s",$action$jscomp$12_i$jscomp$82_target$jscomp$114$$,$form$jscomp$3$$):$form$jscomp$3$$.setAttribute("target","_top");$actionXhr$$&&($e$jscomp$63$$.preventDefault(),$e$jscomp$63$$.stopImmediatePropagation(),$getExistingServiceForDocInEmbedScope$$module$src$service$$($form$jscomp$3$$,
"action").execute($form$jscomp$3$$,"submit",null,$form$jscomp$3$$,$form$jscomp$3$$,$e$jscomp$63$$,100))}}};var $OBSERVER_OPTIONS$$module$src$service$hidden_observer_impl$$={attributes:!0,attributeFilter:["hidden"],subtree:!0};function $HiddenObserver$$module$src$service$hidden_observer_impl$$($ampdoc$jscomp$48$$,$opt_root$jscomp$1$$){this.$root_$=$opt_root$jscomp$1$$||$ampdoc$jscomp$48$$.getRootNode();this.$win_$=(this.$root_$.ownerDocument||this.$root_$).defaultView;this.$observable_$=this.$mutationObserver_$=null}
$HiddenObserver$$module$src$service$hidden_observer_impl$$.installInEmbedWindow=function($embedWin$jscomp$5$$,$ampdoc$jscomp$49$$){$installServiceInEmbedScope$$module$src$service$$($embedWin$jscomp$5$$,"hidden-observer",new $HiddenObserver$$module$src$service$hidden_observer_impl$$($ampdoc$jscomp$49$$,$embedWin$jscomp$5$$.document))};
$HiddenObserver$$module$src$service$hidden_observer_impl$$.prototype.add=function($handler$jscomp$18$$){var $$jscomp$this$jscomp$60$$=this;$JSCompiler_StaticMethods_init_$$(this);var $remove$jscomp$1$$=this.$observable_$.add($handler$jscomp$18$$);return function(){$remove$jscomp$1$$();0===$$jscomp$this$jscomp$60$$.$observable_$.getHandlerCount()&&$$jscomp$this$jscomp$60$$.dispose()}};
function $JSCompiler_StaticMethods_init_$$($JSCompiler_StaticMethods_init_$self$$){if(!$JSCompiler_StaticMethods_init_$self$$.$mutationObserver_$){$JSCompiler_StaticMethods_init_$self$$.$observable_$=new $Observable$$module$src$observable$$;var $mo$jscomp$1$$=new $JSCompiler_StaticMethods_init_$self$$.$win_$.MutationObserver(function($mo$jscomp$1$$){$mo$jscomp$1$$&&$JSCompiler_StaticMethods_init_$self$$.$observable_$.fire($mo$jscomp$1$$)});$JSCompiler_StaticMethods_init_$self$$.$mutationObserver_$=
$mo$jscomp$1$$;$mo$jscomp$1$$.observe($JSCompiler_StaticMethods_init_$self$$.$root_$,$OBSERVER_OPTIONS$$module$src$service$hidden_observer_impl$$)}}$HiddenObserver$$module$src$service$hidden_observer_impl$$.prototype.dispose=function(){this.$mutationObserver_$&&(this.$mutationObserver_$.disconnect(),this.$observable_$.removeAll(),this.$observable_$=this.$mutationObserver_$=null)};function $getState$$module$src$history$$($history$jscomp$1$$){try{return $history$jscomp$1$$.state}catch($e$jscomp$64$$){return null}};function $History$$module$src$service$history_impl$$($ampdoc$jscomp$51$$,$binding$$){this.$ampdoc_$=$ampdoc$jscomp$51$$;this.$timer_$=$Services$$module$src$services$timerFor$$($ampdoc$jscomp$51$$.win);this.$binding_$=$binding$$;this.$stackIndex_$=0;this.$stackOnPop_$=[];this.$queue_$=[];this.$binding_$.setOnStateUpdated(this.$onStateUpdated_$.bind(this))}$JSCompiler_prototypeAlias$$=$History$$module$src$service$history_impl$$.prototype;$JSCompiler_prototypeAlias$$.cleanup=function(){this.$binding_$.cleanup()};
$JSCompiler_prototypeAlias$$.push=function($opt_onPop$$,$opt_stateUpdate$$){var $$jscomp$this$jscomp$62$$=this;return $JSCompiler_StaticMethods_enque_$$(this,function(){return $$jscomp$this$jscomp$62$$.$binding_$.push($opt_stateUpdate$$).then(function($opt_stateUpdate$$){$$jscomp$this$jscomp$62$$.$onStateUpdated_$($opt_stateUpdate$$);$opt_onPop$$&&($$jscomp$this$jscomp$62$$.$stackOnPop_$[$opt_stateUpdate$$.stackIndex]=$opt_onPop$$);return $opt_stateUpdate$$.stackIndex})},"push")};
$JSCompiler_prototypeAlias$$.pop=function($stateId$$){var $$jscomp$this$jscomp$63$$=this;return $JSCompiler_StaticMethods_enque_$$(this,function(){return $$jscomp$this$jscomp$63$$.$binding_$.pop($stateId$$).then(function($stateId$$){$$jscomp$this$jscomp$63$$.$onStateUpdated_$($stateId$$)})},"pop")};
$JSCompiler_prototypeAlias$$.replace=function($opt_stateUpdate$jscomp$1$$){var $$jscomp$this$jscomp$64$$=this;return $JSCompiler_StaticMethods_enque_$$(this,function(){return $$jscomp$this$jscomp$64$$.$binding_$.replace($opt_stateUpdate$jscomp$1$$)},"replace")};$JSCompiler_prototypeAlias$$.get=function(){var $$jscomp$this$jscomp$65$$=this;return $JSCompiler_StaticMethods_enque_$$(this,function(){return $$jscomp$this$jscomp$65$$.$binding_$.get()},"get")};
$JSCompiler_prototypeAlias$$.goBack=function(){var $$jscomp$this$jscomp$66$$=this;return $JSCompiler_StaticMethods_enque_$$(this,function(){return 0>=$$jscomp$this$jscomp$66$$.$stackIndex_$?Promise.resolve():$$jscomp$this$jscomp$66$$.$binding_$.pop($$jscomp$this$jscomp$66$$.$stackIndex_$).then(function($historyState$jscomp$2$$){$$jscomp$this$jscomp$66$$.$onStateUpdated_$($historyState$jscomp$2$$)})},"goBack")};
$JSCompiler_prototypeAlias$$.replaceStateForTarget=function($target$jscomp$115$$){var $$jscomp$this$jscomp$67$$=this,$previousHash$$=this.$ampdoc_$.win.location.hash;return this.push(function(){$$jscomp$this$jscomp$67$$.$ampdoc_$.win.location.replace($previousHash$$||"#")}).then(function(){$$jscomp$this$jscomp$67$$.$binding_$.replaceStateForTarget($target$jscomp$115$$)})};$JSCompiler_prototypeAlias$$.getFragment=function(){return this.$binding_$.getFragment()};
$JSCompiler_prototypeAlias$$.updateFragment=function($fragment$jscomp$1$$){"#"==$fragment$jscomp$1$$[0]&&($fragment$jscomp$1$$=$fragment$jscomp$1$$.substr(1));return this.$binding_$.updateFragment($fragment$jscomp$1$$)};$JSCompiler_prototypeAlias$$.$onStateUpdated_$=function($historyState$jscomp$3$$){this.$stackIndex_$=$historyState$jscomp$3$$.stackIndex;$JSCompiler_StaticMethods_doPop_$$(this,$historyState$jscomp$3$$)};
function $JSCompiler_StaticMethods_doPop_$$($JSCompiler_StaticMethods_doPop_$self$$,$historyState$jscomp$4$$){if(!($JSCompiler_StaticMethods_doPop_$self$$.$stackIndex_$>=$JSCompiler_StaticMethods_doPop_$self$$.$stackOnPop_$.length-1)){for(var $toPop$$=[],$$jscomp$loop$100_i$jscomp$83$$=$JSCompiler_StaticMethods_doPop_$self$$.$stackOnPop_$.length-1;$$jscomp$loop$100_i$jscomp$83$$>$JSCompiler_StaticMethods_doPop_$self$$.$stackIndex_$;$$jscomp$loop$100_i$jscomp$83$$--)$JSCompiler_StaticMethods_doPop_$self$$.$stackOnPop_$[$$jscomp$loop$100_i$jscomp$83$$]&&
($toPop$$.push($JSCompiler_StaticMethods_doPop_$self$$.$stackOnPop_$[$$jscomp$loop$100_i$jscomp$83$$]),$JSCompiler_StaticMethods_doPop_$self$$.$stackOnPop_$[$$jscomp$loop$100_i$jscomp$83$$]=void 0);$JSCompiler_StaticMethods_doPop_$self$$.$stackOnPop_$.splice($JSCompiler_StaticMethods_doPop_$self$$.$stackIndex_$+1);if(0<$toPop$$.length)for($$jscomp$loop$100_i$jscomp$83$$={$$jscomp$loop$prop$i$47$101$:0};$$jscomp$loop$100_i$jscomp$83$$.$$jscomp$loop$prop$i$47$101$<$toPop$$.length;$$jscomp$loop$100_i$jscomp$83$$=
{$$jscomp$loop$prop$i$47$101$:$$jscomp$loop$100_i$jscomp$83$$.$$jscomp$loop$prop$i$47$101$},$$jscomp$loop$100_i$jscomp$83$$.$$jscomp$loop$prop$i$47$101$++)$JSCompiler_StaticMethods_doPop_$self$$.$timer_$.delay(function($JSCompiler_StaticMethods_doPop_$self$$){return function(){return $toPop$$[$JSCompiler_StaticMethods_doPop_$self$$.$$jscomp$loop$prop$i$47$101$]($historyState$jscomp$4$$)}}($$jscomp$loop$100_i$jscomp$83$$),1)}}
function $JSCompiler_StaticMethods_enque_$$($JSCompiler_StaticMethods_enque_$self$$,$callback$jscomp$80$$,$name$jscomp$137$$){var $$jscomp$destructuring$var87$$=new $Deferred$$module$src$utils$promise$$,$promise$jscomp$10$$=$$jscomp$destructuring$var87$$.promise,$trace$$=Error("history trace for "+$name$jscomp$137$$+": ");$JSCompiler_StaticMethods_enque_$self$$.$queue_$.push({callback:$callback$jscomp$80$$,resolve:$$jscomp$destructuring$var87$$.resolve,reject:$$jscomp$destructuring$var87$$.reject,
trace:$trace$$});1==$JSCompiler_StaticMethods_enque_$self$$.$queue_$.length&&$JSCompiler_StaticMethods_deque_$$($JSCompiler_StaticMethods_enque_$self$$);return $promise$jscomp$10$$}
function $JSCompiler_StaticMethods_deque_$$($JSCompiler_StaticMethods_deque_$self$$){if(0!=$JSCompiler_StaticMethods_deque_$self$$.$queue_$.length){var $task$$=$JSCompiler_StaticMethods_deque_$self$$.$queue_$[0];try{var $promise$jscomp$11$$=$task$$.callback()}catch($e$jscomp$65$$){$promise$jscomp$11$$=Promise.reject($e$jscomp$65$$)}$promise$jscomp$11$$.then(function($JSCompiler_StaticMethods_deque_$self$$){$task$$.resolve($JSCompiler_StaticMethods_deque_$self$$)},function($JSCompiler_StaticMethods_deque_$self$$){$dev$$module$src$log$$().error("History",
"failed to execute a task:",$JSCompiler_StaticMethods_deque_$self$$);$task$$.trace&&($task$$.trace.message+=$JSCompiler_StaticMethods_deque_$self$$,$dev$$module$src$log$$().error("History",$task$$.trace));$task$$.reject($JSCompiler_StaticMethods_deque_$self$$)}).then(function(){$JSCompiler_StaticMethods_deque_$self$$.$queue_$.splice(0,1);$JSCompiler_StaticMethods_deque_$$($JSCompiler_StaticMethods_deque_$self$$)})}}
function $HistoryBindingNatural_$$module$src$service$history_impl$$($history$jscomp$2_win$jscomp$166$$){var $$jscomp$this$jscomp$69$$=this;this.win=$history$jscomp$2_win$jscomp$166$$;this.$timer_$=$Services$$module$src$services$timerFor$$($history$jscomp$2_win$jscomp$166$$);$history$jscomp$2_win$jscomp$166$$=this.win.history;this.$startIndex_$=$history$jscomp$2_win$jscomp$166$$.length-1;var $state$jscomp$6$$=$getState$$module$src$history$$($history$jscomp$2_win$jscomp$166$$);$state$jscomp$6$$&&void 0!==
$state$jscomp$6$$["AMP.History"]&&(this.$startIndex_$=Math.min($state$jscomp$6$$["AMP.History"],this.$startIndex_$));this.$stackIndex_$=this.$startIndex_$;this.$onStateUpdated_$=null;this.$supportsState_$="state"in $history$jscomp$2_win$jscomp$166$$;this.$unsupportedState_$=$JSCompiler_StaticMethods_historyState_$$(this,this.$stackIndex_$);if($history$jscomp$2_win$jscomp$166$$.pushState&&$history$jscomp$2_win$jscomp$166$$.replaceState){this.$origPushState_$=$history$jscomp$2_win$jscomp$166$$.originalPushState||
$history$jscomp$2_win$jscomp$166$$.pushState.bind($history$jscomp$2_win$jscomp$166$$);this.$origReplaceState_$=$history$jscomp$2_win$jscomp$166$$.originalReplaceState||$history$jscomp$2_win$jscomp$166$$.replaceState.bind($history$jscomp$2_win$jscomp$166$$);var $pushState$$=function($history$jscomp$2_win$jscomp$166$$,$state$jscomp$6$$,$pushState$$){$$jscomp$this$jscomp$69$$.$unsupportedState_$=$history$jscomp$2_win$jscomp$166$$;$$jscomp$this$jscomp$69$$.$origPushState_$($history$jscomp$2_win$jscomp$166$$,
$state$jscomp$6$$,$pushState$$||null)};var $replaceState$$=function($history$jscomp$2_win$jscomp$166$$,$state$jscomp$6$$,$pushState$$){$$jscomp$this$jscomp$69$$.$unsupportedState_$=$history$jscomp$2_win$jscomp$166$$;void 0!==$pushState$$?$$jscomp$this$jscomp$69$$.$origReplaceState_$($history$jscomp$2_win$jscomp$166$$,$state$jscomp$6$$,$pushState$$):$$jscomp$this$jscomp$69$$.$origReplaceState_$($history$jscomp$2_win$jscomp$166$$,$state$jscomp$6$$)};$history$jscomp$2_win$jscomp$166$$.originalPushState||
($history$jscomp$2_win$jscomp$166$$.originalPushState=this.$origPushState_$);$history$jscomp$2_win$jscomp$166$$.originalReplaceState||($history$jscomp$2_win$jscomp$166$$.originalReplaceState=this.$origReplaceState_$)}else $pushState$$=function($history$jscomp$2_win$jscomp$166$$){$$jscomp$this$jscomp$69$$.$unsupportedState_$=$history$jscomp$2_win$jscomp$166$$},$replaceState$$=function($history$jscomp$2_win$jscomp$166$$){$$jscomp$this$jscomp$69$$.$unsupportedState_$=$history$jscomp$2_win$jscomp$166$$};
this.$pushState_$=$pushState$$;this.$replaceState_$=$replaceState$$;try{this.$replaceState_$($JSCompiler_StaticMethods_historyState_$$(this,this.$stackIndex_$,!0))}catch($e$jscomp$66$$){$dev$$module$src$log$$().error("History","Initial replaceState failed: "+$e$jscomp$66$$.message)}$history$jscomp$2_win$jscomp$166$$.pushState=this.$historyPushState_$.bind(this);$history$jscomp$2_win$jscomp$166$$.replaceState=this.$historyReplaceState_$.bind(this);this.$popstateHandler_$=function(){var $history$jscomp$2_win$jscomp$166$$=
$JSCompiler_StaticMethods_getState_$$($$jscomp$this$jscomp$69$$),$state$jscomp$6$$=$history$jscomp$2_win$jscomp$166$$?$history$jscomp$2_win$jscomp$166$$["AMP.History"]:void 0,$pushState$$=$$jscomp$this$jscomp$69$$.$stackIndex_$,$replaceState$$=$$jscomp$this$jscomp$69$$.$waitingState_$;$$jscomp$this$jscomp$69$$.$waitingState_$=void 0;$pushState$$>$$jscomp$this$jscomp$69$$.win.history.length-2&&($pushState$$=$$jscomp$this$jscomp$69$$.win.history.length-2,$$jscomp$this$jscomp$69$$.$updateHistoryState_$($JSCompiler_StaticMethods_mergeStateUpdate_$$($history$jscomp$2_win$jscomp$166$$,
{stackIndex:$pushState$$})));$pushState$$=void 0==$state$jscomp$6$$?$pushState$$+1:$state$jscomp$6$$<$$jscomp$this$jscomp$69$$.win.history.length?$state$jscomp$6$$:$$jscomp$this$jscomp$69$$.win.history.length-1;$history$jscomp$2_win$jscomp$166$$||($history$jscomp$2_win$jscomp$166$$={});$history$jscomp$2_win$jscomp$166$$["AMP.History"]=$pushState$$;$$jscomp$this$jscomp$69$$.$replaceState_$($history$jscomp$2_win$jscomp$166$$,void 0,void 0);$pushState$$!=$$jscomp$this$jscomp$69$$.$stackIndex_$&&$$jscomp$this$jscomp$69$$.$updateHistoryState_$($JSCompiler_StaticMethods_mergeStateUpdate_$$($history$jscomp$2_win$jscomp$166$$,
{stackIndex:$pushState$$}));$pushState$$<$$jscomp$this$jscomp$69$$.$startIndex_$&&($$jscomp$this$jscomp$69$$.$startIndex_$=$pushState$$);$replaceState$$&&$replaceState$$.resolve()};this.win.addEventListener("popstate",this.$popstateHandler_$)}$JSCompiler_prototypeAlias$$=$HistoryBindingNatural_$$module$src$service$history_impl$$.prototype;
$JSCompiler_prototypeAlias$$.cleanup=function(){this.$origPushState_$&&(this.win.history.pushState=this.$origPushState_$);this.$origReplaceState_$&&(this.win.history.replaceState=this.$origReplaceState_$);this.win.removeEventListener("popstate",this.$popstateHandler_$)};
function $JSCompiler_StaticMethods_historyState_$$($JSCompiler_StaticMethods_historyState_$self_state$jscomp$12$$,$stackIndex$$,$opt_replace$jscomp$2$$){$JSCompiler_StaticMethods_historyState_$self_state$jscomp$12$$=$map$$module$src$utils$object$$($opt_replace$jscomp$2$$?$JSCompiler_StaticMethods_getState_$$($JSCompiler_StaticMethods_historyState_$self_state$jscomp$12$$):void 0);$JSCompiler_StaticMethods_historyState_$self_state$jscomp$12$$["AMP.History"]=$stackIndex$$;return $JSCompiler_StaticMethods_historyState_$self_state$jscomp$12$$}
$JSCompiler_prototypeAlias$$.setOnStateUpdated=function($callback$jscomp$81$$){this.$onStateUpdated_$=$callback$jscomp$81$$};
$JSCompiler_prototypeAlias$$.push=function($opt_stateUpdate$jscomp$4$$){var $$jscomp$this$jscomp$70$$=this;return $JSCompiler_StaticMethods_whenReady_$$(this,function(){var $newState$jscomp$1$$=$JSCompiler_StaticMethods_mergeStateUpdate_$$($JSCompiler_StaticMethods_getState_$$($$jscomp$this$jscomp$70$$),$opt_stateUpdate$jscomp$4$$||{});$$jscomp$this$jscomp$70$$.$historyPushState_$($newState$jscomp$1$$,void 0,$newState$jscomp$1$$.fragment?"#"+$newState$jscomp$1$$.fragment:void 0);return $tryResolve$$module$src$utils$promise$$(function(){return $JSCompiler_StaticMethods_mergeStateUpdate_$$($newState$jscomp$1$$,
{stackIndex:$$jscomp$this$jscomp$70$$.$stackIndex_$})})})};
$JSCompiler_prototypeAlias$$.pop=function($stackIndex$jscomp$1$$){var $$jscomp$this$jscomp$71$$=this;$stackIndex$jscomp$1$$=Math.max($stackIndex$jscomp$1$$,this.$startIndex_$);return $JSCompiler_StaticMethods_whenReady_$$(this,function(){return $JSCompiler_StaticMethods_back_$$($$jscomp$this$jscomp$71$$,$$jscomp$this$jscomp$71$$.$stackIndex_$-$stackIndex$jscomp$1$$+1)}).then(function($stackIndex$jscomp$1$$){return $JSCompiler_StaticMethods_mergeStateUpdate_$$($JSCompiler_StaticMethods_getState_$$($$jscomp$this$jscomp$71$$),{stackIndex:$stackIndex$jscomp$1$$})})};
$JSCompiler_prototypeAlias$$.replace=function($opt_stateUpdate$jscomp$5$$){var $$jscomp$this$jscomp$72$$=this;$opt_stateUpdate$jscomp$5$$=void 0===$opt_stateUpdate$jscomp$5$$?{}:$opt_stateUpdate$jscomp$5$$;return $JSCompiler_StaticMethods_whenReady_$$(this,function(){var $newState$jscomp$2$$=$JSCompiler_StaticMethods_mergeStateUpdate_$$($JSCompiler_StaticMethods_getState_$$($$jscomp$this$jscomp$72$$),$opt_stateUpdate$jscomp$5$$||{}),$url$jscomp$68$$=($newState$jscomp$2$$.url||"").replace(/#.*/,""),
$fragment$jscomp$2$$=$newState$jscomp$2$$.fragment?"#"+$newState$jscomp$2$$.fragment:"";$$jscomp$this$jscomp$72$$.$historyReplaceState_$($newState$jscomp$2$$,$newState$jscomp$2$$.title,$url$jscomp$68$$||$fragment$jscomp$2$$?$url$jscomp$68$$+$fragment$jscomp$2$$:void 0);return $tryResolve$$module$src$utils$promise$$(function(){return $JSCompiler_StaticMethods_mergeStateUpdate_$$($newState$jscomp$2$$,{stackIndex:$$jscomp$this$jscomp$72$$.$stackIndex_$})})})};
$JSCompiler_prototypeAlias$$.get=function(){var $$jscomp$this$jscomp$73$$=this;return $tryResolve$$module$src$utils$promise$$(function(){return $JSCompiler_StaticMethods_mergeStateUpdate_$$($JSCompiler_StaticMethods_getState_$$($$jscomp$this$jscomp$73$$),{stackIndex:$$jscomp$this$jscomp$73$$.$stackIndex_$})})};
$JSCompiler_prototypeAlias$$.backTo=function($stackIndex$jscomp$2$$){var $$jscomp$this$jscomp$74$$=this;$stackIndex$jscomp$2$$=Math.max($stackIndex$jscomp$2$$,this.$startIndex_$);return $JSCompiler_StaticMethods_whenReady_$$(this,function(){return $JSCompiler_StaticMethods_back_$$($$jscomp$this$jscomp$74$$,$$jscomp$this$jscomp$74$$.$stackIndex_$-$stackIndex$jscomp$2$$)})};
function $JSCompiler_StaticMethods_getState_$$($JSCompiler_StaticMethods_getState_$self$$){return $JSCompiler_StaticMethods_getState_$self$$.$supportsState_$?$getState$$module$src$history$$($JSCompiler_StaticMethods_getState_$self$$.win.history):$JSCompiler_StaticMethods_getState_$self$$.$unsupportedState_$}
function $JSCompiler_StaticMethods_whenReady_$$($JSCompiler_StaticMethods_whenReady_$self$$,$callback$jscomp$82$$){return $JSCompiler_StaticMethods_whenReady_$self$$.$waitingState_$?$JSCompiler_StaticMethods_whenReady_$self$$.$waitingState_$.promise.then($callback$jscomp$82$$,$callback$jscomp$82$$):$callback$jscomp$82$$()}
function $JSCompiler_StaticMethods_wait_$$($JSCompiler_StaticMethods_wait_$self$$){var $deferred$jscomp$11_promise$jscomp$12$$=new $Deferred$$module$src$utils$promise$$,$resolve$jscomp$23$$=$deferred$jscomp$11_promise$jscomp$12$$.resolve,$reject$jscomp$9$$=$deferred$jscomp$11_promise$jscomp$12$$.reject;$deferred$jscomp$11_promise$jscomp$12$$=$JSCompiler_StaticMethods_wait_$self$$.$timer_$.timeoutPromise(500,$deferred$jscomp$11_promise$jscomp$12$$.promise);$JSCompiler_StaticMethods_wait_$self$$.$waitingState_$=
{promise:$deferred$jscomp$11_promise$jscomp$12$$,resolve:$resolve$jscomp$23$$,reject:$reject$jscomp$9$$};return $deferred$jscomp$11_promise$jscomp$12$$}
function $JSCompiler_StaticMethods_back_$$($JSCompiler_StaticMethods_back_$self$$,$steps$$){if(0>=$steps$$)return Promise.resolve($JSCompiler_StaticMethods_back_$self$$.$stackIndex_$);$JSCompiler_StaticMethods_back_$self$$.$unsupportedState_$=$JSCompiler_StaticMethods_historyState_$$($JSCompiler_StaticMethods_back_$self$$,$JSCompiler_StaticMethods_back_$self$$.$stackIndex_$-$steps$$);var $promise$jscomp$13$$=$JSCompiler_StaticMethods_wait_$$($JSCompiler_StaticMethods_back_$self$$);$JSCompiler_StaticMethods_back_$self$$.win.history.go(-$steps$$);
return $promise$jscomp$13$$.then(function(){return Promise.resolve($JSCompiler_StaticMethods_back_$self$$.$stackIndex_$)})}
$JSCompiler_prototypeAlias$$.$historyPushState_$=function($newState$jscomp$3_state$jscomp$14$$,$title$jscomp$10$$,$url$jscomp$69$$){$newState$jscomp$3_state$jscomp$14$$||($newState$jscomp$3_state$jscomp$14$$={});var $stackIndex$jscomp$4$$=this.$stackIndex_$+1;$newState$jscomp$3_state$jscomp$14$$["AMP.History"]=$stackIndex$jscomp$4$$;this.$pushState_$($newState$jscomp$3_state$jscomp$14$$,$title$jscomp$10$$,$url$jscomp$69$$);$stackIndex$jscomp$4$$!=this.win.history.length-1&&($stackIndex$jscomp$4$$=
this.win.history.length-1,$newState$jscomp$3_state$jscomp$14$$["AMP.History"]=$stackIndex$jscomp$4$$,this.$replaceState_$($newState$jscomp$3_state$jscomp$14$$));$newState$jscomp$3_state$jscomp$14$$=$JSCompiler_StaticMethods_mergeStateUpdate_$$($newState$jscomp$3_state$jscomp$14$$,{stackIndex:$stackIndex$jscomp$4$$});this.$updateHistoryState_$($newState$jscomp$3_state$jscomp$14$$)};
$JSCompiler_prototypeAlias$$.replaceStateForTarget=function($target$jscomp$116$$){var $$jscomp$this$jscomp$76$$=this;$JSCompiler_StaticMethods_whenReady_$$(this,function(){$$jscomp$this$jscomp$76$$.win.removeEventListener("popstate",$$jscomp$this$jscomp$76$$.$popstateHandler_$);try{$$jscomp$this$jscomp$76$$.win.location.replace($target$jscomp$116$$)}finally{$$jscomp$this$jscomp$76$$.win.addEventListener("popstate",$$jscomp$this$jscomp$76$$.$popstateHandler_$)}$$jscomp$this$jscomp$76$$.$historyReplaceState_$();
return Promise.resolve()})};
$JSCompiler_prototypeAlias$$.$historyReplaceState_$=function($newState$jscomp$4_state$jscomp$15$$,$title$jscomp$11$$,$url$jscomp$70$$){$newState$jscomp$4_state$jscomp$15$$||($newState$jscomp$4_state$jscomp$15$$={});var $stackIndex$jscomp$5$$=Math.min(this.$stackIndex_$,this.win.history.length-1);$newState$jscomp$4_state$jscomp$15$$["AMP.History"]=$stackIndex$jscomp$5$$;this.$replaceState_$($newState$jscomp$4_state$jscomp$15$$,$title$jscomp$11$$,$url$jscomp$70$$);$newState$jscomp$4_state$jscomp$15$$=$JSCompiler_StaticMethods_mergeStateUpdate_$$($newState$jscomp$4_state$jscomp$15$$,
{stackIndex:$stackIndex$jscomp$5$$});this.$updateHistoryState_$($newState$jscomp$4_state$jscomp$15$$)};$JSCompiler_prototypeAlias$$.$updateHistoryState_$=function($historyState$jscomp$5$$){$historyState$jscomp$5$$.stackIndex=Math.min($historyState$jscomp$5$$.stackIndex,this.win.history.length-1);this.$stackIndex_$!=$historyState$jscomp$5$$.stackIndex&&(this.$stackIndex_$=$historyState$jscomp$5$$.stackIndex,this.$onStateUpdated_$&&this.$onStateUpdated_$($historyState$jscomp$5$$))};
$JSCompiler_prototypeAlias$$.getFragment=function(){var $hash$jscomp$4$$=this.win.location.hash;$hash$jscomp$4$$=$hash$jscomp$4$$.substr(1);return Promise.resolve($hash$jscomp$4$$)};$JSCompiler_prototypeAlias$$.updateFragment=function($fragment$jscomp$3$$){return this.replace({fragment:$fragment$jscomp$3$$})};
function $JSCompiler_StaticMethods_mergeStateUpdate_$$($state$jscomp$16$$,$update$$){var $mergedData$$=Object.assign({},$state$jscomp$16$$&&$state$jscomp$16$$.data||{},$update$$.data||{});return Object.assign({},$state$jscomp$16$$||{},$update$$,{data:$mergedData$$})}
function $HistoryBindingVirtual_$$module$src$service$history_impl$$($win$jscomp$167$$,$viewer$jscomp$12$$){var $$jscomp$this$jscomp$77$$=this;this.win=$win$jscomp$167$$;this.$viewer_$=$viewer$jscomp$12$$;this.$stackIndex_$=0;this.$onStateUpdated_$=null;this.$unlistenOnHistoryPopped_$=this.$viewer_$.onMessage("historyPopped",function($win$jscomp$167$$){void 0!==$win$jscomp$167$$.newStackIndex&&($win$jscomp$167$$.stackIndex=$win$jscomp$167$$.newStackIndex);$$jscomp$this$jscomp$77$$.$updateHistoryState_$($win$jscomp$167$$)})}
$JSCompiler_prototypeAlias$$=$HistoryBindingVirtual_$$module$src$service$history_impl$$.prototype;$JSCompiler_prototypeAlias$$.replaceStateForTarget=function($target$jscomp$117$$){this.win.location.replace($target$jscomp$117$$)};$JSCompiler_prototypeAlias$$.cleanup=function(){this.$unlistenOnHistoryPopped_$()};$JSCompiler_prototypeAlias$$.setOnStateUpdated=function($callback$jscomp$83$$){this.$onStateUpdated_$=$callback$jscomp$83$$};
$JSCompiler_prototypeAlias$$.push=function($opt_stateUpdate$jscomp$6$$){var $$jscomp$this$jscomp$78$$=this,$message$jscomp$38$$=Object.assign({stackIndex:this.$stackIndex_$+1},$opt_stateUpdate$jscomp$6$$||{});return this.$viewer_$.sendMessageAwaitResponse("pushHistory",$message$jscomp$38$$).then(function($opt_stateUpdate$jscomp$6$$){$opt_stateUpdate$jscomp$6$$=$opt_stateUpdate$jscomp$6$$||$message$jscomp$38$$;$$jscomp$this$jscomp$78$$.$updateHistoryState_$($opt_stateUpdate$jscomp$6$$);return $opt_stateUpdate$jscomp$6$$})};
$JSCompiler_prototypeAlias$$.pop=function($message$jscomp$39_stackIndex$jscomp$6$$){var $$jscomp$this$jscomp$79$$=this;if($message$jscomp$39_stackIndex$jscomp$6$$>this.$stackIndex_$)return this.get();$message$jscomp$39_stackIndex$jscomp$6$$=$dict$$module$src$utils$object$$({stackIndex:this.$stackIndex_$});return this.$viewer_$.sendMessageAwaitResponse("popHistory",$message$jscomp$39_stackIndex$jscomp$6$$).then(function($message$jscomp$39_stackIndex$jscomp$6$$){$message$jscomp$39_stackIndex$jscomp$6$$=
$message$jscomp$39_stackIndex$jscomp$6$$||$dict$$module$src$utils$object$$({stackIndex:$$jscomp$this$jscomp$79$$.$stackIndex_$-1});$$jscomp$this$jscomp$79$$.$updateHistoryState_$($message$jscomp$39_stackIndex$jscomp$6$$);return $message$jscomp$39_stackIndex$jscomp$6$$})};
$JSCompiler_prototypeAlias$$.replace=function($opt_stateUpdate$jscomp$7$$){var $$jscomp$this$jscomp$80$$=this;if($opt_stateUpdate$jscomp$7$$&&$opt_stateUpdate$jscomp$7$$.url){if(!this.$viewer_$.hasCapability("fullReplaceHistory")){var $curState$$=$dict$$module$src$utils$object$$({stackIndex:this.$stackIndex_$});return Promise.resolve($curState$$)}var $url$jscomp$71$$=$opt_stateUpdate$jscomp$7$$.url.replace(/#.*/,"");$opt_stateUpdate$jscomp$7$$.url=$url$jscomp$71$$}var $message$jscomp$40$$=Object.assign({stackIndex:this.$stackIndex_$},
$opt_stateUpdate$jscomp$7$$||{});return this.$viewer_$.sendMessageAwaitResponse("replaceHistory",$message$jscomp$40$$,!0).then(function($opt_stateUpdate$jscomp$7$$){$opt_stateUpdate$jscomp$7$$=$opt_stateUpdate$jscomp$7$$||$message$jscomp$40$$;$$jscomp$this$jscomp$80$$.$updateHistoryState_$($opt_stateUpdate$jscomp$7$$);return $opt_stateUpdate$jscomp$7$$})};$JSCompiler_prototypeAlias$$.get=function(){return Promise.resolve({data:void 0,fragment:"",stackIndex:this.$stackIndex_$,title:""})};
$JSCompiler_prototypeAlias$$.$updateHistoryState_$=function($state$jscomp$17$$){var $stackIndex$jscomp$7$$=$state$jscomp$17$$.stackIndex;this.$stackIndex_$!=$stackIndex$jscomp$7$$&&(this.$stackIndex_$=$stackIndex$jscomp$7$$,this.$onStateUpdated_$&&this.$onStateUpdated_$($state$jscomp$17$$))};
$JSCompiler_prototypeAlias$$.getFragment=function(){return this.$viewer_$.hasCapability("fragment")?this.$viewer_$.sendMessageAwaitResponse("getFragment",void 0,!0).then(function($data$jscomp$81_hash$jscomp$5$$){if(!$data$jscomp$81_hash$jscomp$5$$)return"";"#"==$data$jscomp$81_hash$jscomp$5$$[0]&&($data$jscomp$81_hash$jscomp$5$$=$data$jscomp$81_hash$jscomp$5$$.substr(1));return $data$jscomp$81_hash$jscomp$5$$}):Promise.resolve("")};
$JSCompiler_prototypeAlias$$.updateFragment=function($fragment$jscomp$4$$){return this.$viewer_$.hasCapability("fragment")?this.$viewer_$.sendMessageAwaitResponse("replaceHistory",$dict$$module$src$utils$object$$({fragment:$fragment$jscomp$4$$}),!0):Promise.resolve()};
function $createHistory$$module$src$service$history_impl$$($ampdoc$jscomp$52$$){var $JSCompiler_win$jscomp$inline_396_binding$jscomp$1_viewer$jscomp$13$$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$52$$);$JSCompiler_win$jscomp$inline_396_binding$jscomp$1_viewer$jscomp$13$$.isOvertakeHistory()||$getMode$$module$src$mode$$($ampdoc$jscomp$52$$.win).test||$ampdoc$jscomp$52$$.win.AMP_TEST_IFRAME?$JSCompiler_win$jscomp$inline_396_binding$jscomp$1_viewer$jscomp$13$$=new $HistoryBindingVirtual_$$module$src$service$history_impl$$($ampdoc$jscomp$52$$.win,
$JSCompiler_win$jscomp$inline_396_binding$jscomp$1_viewer$jscomp$13$$):($JSCompiler_win$jscomp$inline_396_binding$jscomp$1_viewer$jscomp$13$$=$ampdoc$jscomp$52$$.win,$JSCompiler_win$jscomp$inline_396_binding$jscomp$1_viewer$jscomp$13$$=$getTopWindow$$module$src$service$$($JSCompiler_win$jscomp$inline_396_binding$jscomp$1_viewer$jscomp$13$$),$registerServiceInternal$$module$src$service$$($JSCompiler_win$jscomp$inline_396_binding$jscomp$1_viewer$jscomp$13$$,$JSCompiler_win$jscomp$inline_396_binding$jscomp$1_viewer$jscomp$13$$,
"global-history-binding",$HistoryBindingNatural_$$module$src$service$history_impl$$),$JSCompiler_win$jscomp$inline_396_binding$jscomp$1_viewer$jscomp$13$$=$getService$$module$src$service$$($ampdoc$jscomp$52$$.win,"global-history-binding"));return new $History$$module$src$service$history_impl$$($ampdoc$jscomp$52$$,$JSCompiler_win$jscomp$inline_396_binding$jscomp$1_viewer$jscomp$13$$)};function $FiniteStateMachine$$module$src$finite_state_machine$$($initialState$$){this.$state_$=$initialState$$;this.$transitions_$=Object.create(null)}$FiniteStateMachine$$module$src$finite_state_machine$$.prototype.addTransition=function($oldState$$,$newState$jscomp$8$$,$callback$jscomp$84$$){var $transition$$=$oldState$$+"|"+$newState$jscomp$8$$;this.$transitions_$[$transition$$]=$callback$jscomp$84$$};
$FiniteStateMachine$$module$src$finite_state_machine$$.prototype.setState=function($callback$jscomp$85_newState$jscomp$9$$){var $oldState$jscomp$1$$=this.$state_$;this.$state_$=$callback$jscomp$85_newState$jscomp$9$$;($callback$jscomp$85_newState$jscomp$9$$=this.$transitions_$[$oldState$jscomp$1$$+"|"+$callback$jscomp$85_newState$jscomp$9$$])&&$callback$jscomp$85_newState$jscomp$9$$()};function $FocusHistory$$module$src$focus_history$$($win$jscomp$171$$){var $purgeTimeout$$=6E4,$$jscomp$this$jscomp$82$$=this;this.win=$win$jscomp$171$$;this.$purgeTimeout_$=$purgeTimeout$$;this.$history_$=[];this.$observeFocus_$=new $Observable$$module$src$observable$$;this.$captureFocus_$=function($win$jscomp$171$$){$win$jscomp$171$$.target&&1==$win$jscomp$171$$.target.nodeType&&$JSCompiler_StaticMethods_pushFocus_$$($$jscomp$this$jscomp$82$$,$win$jscomp$171$$.target)};this.$captureBlur_$=function(){$Services$$module$src$services$timerFor$$($win$jscomp$171$$).delay(function(){$JSCompiler_StaticMethods_pushFocus_$$($$jscomp$this$jscomp$82$$,
$$jscomp$this$jscomp$82$$.win.document.activeElement)},500)};this.win.document.addEventListener("focus",this.$captureFocus_$,!0);this.win.addEventListener("blur",this.$captureBlur_$)}$JSCompiler_prototypeAlias$$=$FocusHistory$$module$src$focus_history$$.prototype;$JSCompiler_prototypeAlias$$.$cleanup_$=function(){this.win.document.removeEventListener("focus",this.$captureFocus_$,!0);this.win.removeEventListener("blur",this.$captureBlur_$)};$JSCompiler_prototypeAlias$$.onFocus=function($handler$jscomp$22$$){return this.$observeFocus_$.add($handler$jscomp$22$$)};
function $JSCompiler_StaticMethods_pushFocus_$$($JSCompiler_StaticMethods_pushFocus_$self$$,$element$jscomp$132$$){var $now$jscomp$4$$=Date.now();0==$JSCompiler_StaticMethods_pushFocus_$self$$.$history_$.length||$JSCompiler_StaticMethods_pushFocus_$self$$.$history_$[$JSCompiler_StaticMethods_pushFocus_$self$$.$history_$.length-1].el!=$element$jscomp$132$$?$JSCompiler_StaticMethods_pushFocus_$self$$.$history_$.push({el:$element$jscomp$132$$,time:$now$jscomp$4$$}):$JSCompiler_StaticMethods_pushFocus_$self$$.$history_$[$JSCompiler_StaticMethods_pushFocus_$self$$.$history_$.length-
1].time=$now$jscomp$4$$;$JSCompiler_StaticMethods_pushFocus_$self$$.purgeBefore($now$jscomp$4$$-$JSCompiler_StaticMethods_pushFocus_$self$$.$purgeTimeout_$);$JSCompiler_StaticMethods_pushFocus_$self$$.$observeFocus_$.fire($element$jscomp$132$$)}$JSCompiler_prototypeAlias$$.getLast=function(){return 0==this.$history_$.length?null:this.$history_$[this.$history_$.length-1].el};
$JSCompiler_prototypeAlias$$.purgeBefore=function($time$jscomp$3$$){for(var $index$jscomp$77$$=this.$history_$.length-1,$i$jscomp$84$$=0;$i$jscomp$84$$<this.$history_$.length;$i$jscomp$84$$++)if(this.$history_$[$i$jscomp$84$$].time>=$time$jscomp$3$$){$index$jscomp$77$$=$i$jscomp$84$$-1;break}-1!=$index$jscomp$77$$&&this.$history_$.splice(0,$index$jscomp$77$$+1)};
$JSCompiler_prototypeAlias$$.hasDescendantsOf=function($element$jscomp$133$$){this.win.document.activeElement&&$JSCompiler_StaticMethods_pushFocus_$$(this,this.win.document.activeElement);for(var $i$jscomp$85$$=0;$i$jscomp$85$$<this.$history_$.length;$i$jscomp$85$$++)if($element$jscomp$133$$.contains(this.$history_$[$i$jscomp$85$$].el))return!0;return!1};function $TaskQueue$$module$src$service$task_queue$$(){this.$tasks_$=[];this.$taskIdMap_$={};this.$lastDequeueTime_$=this.$lastEnqueueTime_$=0}$JSCompiler_prototypeAlias$$=$TaskQueue$$module$src$service$task_queue$$.prototype;$JSCompiler_prototypeAlias$$.getSize=function(){return this.$tasks_$.length};$JSCompiler_prototypeAlias$$.getLastEnqueueTime=function(){return this.$lastEnqueueTime_$};$JSCompiler_prototypeAlias$$.getLastDequeueTime=function(){return this.$lastDequeueTime_$};
$JSCompiler_prototypeAlias$$.getTaskById=function($taskId$$){return this.$taskIdMap_$[$taskId$$]||null};$JSCompiler_prototypeAlias$$.enqueue=function($task$jscomp$1$$){this.$tasks_$.push($task$jscomp$1$$);this.$taskIdMap_$[$task$jscomp$1$$.id]=$task$jscomp$1$$;this.$lastEnqueueTime_$=Date.now()};
$JSCompiler_prototypeAlias$$.dequeue=function($task$jscomp$2$$){var $dequeued$$=this.removeAtIndex($task$jscomp$2$$,this.$tasks_$.indexOf(this.$taskIdMap_$[$task$jscomp$2$$.id]));if(!$dequeued$$)return!1;this.$lastDequeueTime_$=Date.now();return!0};
$JSCompiler_prototypeAlias$$.peek=function($scorer$$,$state$jscomp$18$$){for(var $minScore$$=1E6,$minTask$$=null,$i$jscomp$86$$=0;$i$jscomp$86$$<this.$tasks_$.length;$i$jscomp$86$$++){var $task$jscomp$3$$=this.$tasks_$[$i$jscomp$86$$],$score$$=$scorer$$($task$jscomp$3$$,$state$jscomp$18$$);$score$$<$minScore$$&&($minScore$$=$score$$,$minTask$$=$task$jscomp$3$$)}return $minTask$$};$JSCompiler_prototypeAlias$$.forEach=function($callback$jscomp$86$$){this.$tasks_$.forEach($callback$jscomp$86$$)};
$JSCompiler_prototypeAlias$$.removeAtIndex=function($task$jscomp$4$$,$index$jscomp$78$$){var $existing$jscomp$3$$=this.$taskIdMap_$[$task$jscomp$4$$.id];if(!$existing$jscomp$3$$||this.$tasks_$[$index$jscomp$78$$]!=$existing$jscomp$3$$)return!1;this.$tasks_$.splice($index$jscomp$78$$,1);delete this.$taskIdMap_$[$task$jscomp$4$$.id];return!0};
$JSCompiler_prototypeAlias$$.purge=function($callback$jscomp$87$$){for(var $index$jscomp$79$$=this.$tasks_$.length;$index$jscomp$79$$--;)$callback$jscomp$87$$(this.$tasks_$[$index$jscomp$79$$])&&this.removeAtIndex(this.$tasks_$[$index$jscomp$79$$],$index$jscomp$79$$)};function $checkAndFix$$module$src$service$ie_media_bug$$($win$jscomp$172$$){var $opt_platform$$;return!($opt_platform$$||$Services$$module$src$services$platformFor$$($win$jscomp$172$$)).isIe()||$matchMediaIeQuite$$module$src$service$ie_media_bug$$($win$jscomp$172$$)?null:new Promise(function($opt_platform$$){var $resolve$jscomp$24$$=Date.now()+2E3,$interval$jscomp$3$$=$win$jscomp$172$$.setInterval(function(){var $endTime$jscomp$4$$=Date.now(),$matches$jscomp$3$$=$matchMediaIeQuite$$module$src$service$ie_media_bug$$($win$jscomp$172$$);
if($matches$jscomp$3$$||$endTime$jscomp$4$$>$resolve$jscomp$24$$)$win$jscomp$172$$.clearInterval($interval$jscomp$3$$),$opt_platform$$(),$matches$jscomp$3$$||$dev$$module$src$log$$().error("ie-media-bug","IE media never resolved")},10)})}
function $matchMediaIeQuite$$module$src$service$ie_media_bug$$($win$jscomp$173$$){var $q$$="(min-width: "+($win$jscomp$173$$.innerWidth-1)+"px)"+(" AND (max-width: "+($win$jscomp$173$$.innerWidth+1)+"px)");try{return $win$jscomp$173$$.matchMedia($q$$).matches}catch($e$jscomp$71$$){return $dev$$module$src$log$$().error("ie-media-bug","IE matchMedia failed: ",$e$jscomp$71$$),!0}};function $Resources$$module$src$service$resources_impl$$($ampdoc$jscomp$54$$){var $$jscomp$this$jscomp$83$$=this;this.ampdoc=$ampdoc$jscomp$54$$;this.win=$ampdoc$jscomp$54$$.win;this.$viewer_$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$54$$);this.$isRuntimeOn_$=this.$viewer_$.isRuntimeOn();this.$isBuildOn_$=!1;this.$maxDpr_$=this.win.devicePixelRatio||1;this.$resourceIdCounter_$=0;this.$resources_$=[];this.$buildAttemptsCount_$=this.$addCount_$=0;this.$visible_$=this.$viewer_$.isVisible();
this.$prerenderSize_$=this.$viewer_$.getPrerenderSize();this.$documentReady_$=!1;this.$firstPassAfterDocumentReady_$=!0;this.$ampInitialized_$=!1;this.$firstVisibleTime_$=-1;this.$relayoutAll_$=!0;this.$relayoutTop_$=-1;this.$lastVelocity_$=this.$lastScrollTime_$=0;this.$pass_$=new $Pass$$module$src$pass$$(this.win,function(){return $$jscomp$this$jscomp$83$$.doPass()});this.$remeasurePass_$=new $Pass$$module$src$pass$$(this.win,function(){$$jscomp$this$jscomp$83$$.$relayoutAll_$=!0;$$jscomp$this$jscomp$83$$.schedulePass()});
this.$exec_$=new $TaskQueue$$module$src$service$task_queue$$;this.$queue_$=new $TaskQueue$$module$src$service$task_queue$$;this.$useLayers_$=$isExperimentOn$$module$src$experiments$$(this.win,"layers");this.$useLayersPrioritization_$=$isExperimentOn$$module$src$experiments$$(this.win,"layers-prioritization");var $boundScorer$$;this.$boundTaskScorer_$=$boundScorer$$=this.$useLayers_$&&this.$useLayersPrioritization_$?this.$calcTaskScoreLayers_$.bind(this):this.$calcTaskScore_$.bind(this);this.$requestsChangeSize_$=
[];this.$pendingBuildResources_$=[];this.$isCurrentlyBuildingPendingResources_$=!1;this.$viewport_$=$Services$$module$src$services$viewportForDoc$$(this.ampdoc);this.$vsync_$=$Services$$module$src$services$vsyncFor$$(this.win);this.$activeHistory_$=new $FocusHistory$$module$src$focus_history$$(this.win);this.$vsyncScheduled_$=!1;this.$contentHeight_$=0;this.$maybeChangeHeight_$=!1;this.$passCallbacks_$=[];this.$visibilityStateMachine_$=new $FiniteStateMachine$$module$src$finite_state_machine$$(this.$viewer_$.getVisibilityState());
$JSCompiler_StaticMethods_setupVisibilityStateMachine_$$(this,this.$visibilityStateMachine_$);this.$viewport_$.onChanged(function($ampdoc$jscomp$54$$){$$jscomp$this$jscomp$83$$.$lastScrollTime_$=Date.now();$$jscomp$this$jscomp$83$$.$lastVelocity_$=$ampdoc$jscomp$54$$.velocity;$ampdoc$jscomp$54$$.relayoutAll&&($$jscomp$this$jscomp$83$$.$relayoutAll_$=!0,$$jscomp$this$jscomp$83$$.$maybeChangeHeight_$=!0);$$jscomp$this$jscomp$83$$.schedulePass()});this.$viewport_$.onScroll(function(){$$jscomp$this$jscomp$83$$.$lastScrollTime_$=
Date.now()});this.$useLayers_$&&(this.$layers_$=$getServiceForDoc$$module$src$service$$(this.ampdoc,"layers"),this.$boundCalcLayoutScore_$=this.$calcLayoutScore_$.bind(this));this.$viewer_$.onVisibilityChanged(function(){-1==$$jscomp$this$jscomp$83$$.$firstVisibleTime_$&&$$jscomp$this$jscomp$83$$.$viewer_$.isVisible()&&($$jscomp$this$jscomp$83$$.$firstVisibleTime_$=Date.now());$$jscomp$this$jscomp$83$$.schedulePass()});this.$viewer_$.onRuntimeState(function($ampdoc$jscomp$54$$){$$jscomp$this$jscomp$83$$.$isRuntimeOn_$=
$ampdoc$jscomp$54$$;$$jscomp$this$jscomp$83$$.schedulePass(1)});this.$activeHistory_$.onFocus(function($ampdoc$jscomp$54$$){$JSCompiler_StaticMethods_checkPendingChangeSize_$$($$jscomp$this$jscomp$83$$,$ampdoc$jscomp$54$$)});this.schedulePass();this.rebuildDomWhenReady()}$JSCompiler_prototypeAlias$$=$Resources$$module$src$service$resources_impl$$.prototype;
$JSCompiler_prototypeAlias$$.rebuildDomWhenReady=function(){var $$jscomp$this$jscomp$84$$=this;this.ampdoc.whenReady().then(function(){function $remeasure$$(){return $$jscomp$this$jscomp$84$$.$remeasurePass_$.schedule()}$$jscomp$this$jscomp$84$$.$documentReady_$=!0;$JSCompiler_StaticMethods_buildReadyResources_$$($$jscomp$this$jscomp$84$$);$$jscomp$this$jscomp$84$$.$pendingBuildResources_$=null;var $fixPromise$$=$checkAndFix$$module$src$service$ie_media_bug$$($$jscomp$this$jscomp$84$$.win);$fixPromise$$?
$fixPromise$$.then($remeasure$$):$remeasure$$();$JSCompiler_StaticMethods_monitorInput_$$($$jscomp$this$jscomp$84$$);Promise.race([$loadPromise$$module$src$event_helper$$($$jscomp$this$jscomp$84$$.win),$Services$$module$src$services$timerFor$$($$jscomp$this$jscomp$84$$.win).promise(3100)]).then($remeasure$$);$$jscomp$this$jscomp$84$$.win.document.fonts&&"loaded"!=$$jscomp$this$jscomp$84$$.win.document.fonts.status&&$$jscomp$this$jscomp$84$$.win.document.fonts.ready.then($remeasure$$)})};
$JSCompiler_prototypeAlias$$.get=function(){return this.$resources_$.slice(0)};$JSCompiler_prototypeAlias$$.isRuntimeOn=function(){return this.$isRuntimeOn_$};$JSCompiler_prototypeAlias$$.renderStarted=function(){this.ampdoc.signals().signal("render-start")};
$JSCompiler_prototypeAlias$$.getMeasuredResources=function($hostWin$$,$filterFn$$){var $$jscomp$this$jscomp$85$$=this;return this.ampdoc.signals().whenSignal("ready-scan").then(function(){var $filterFn$$=[];$$jscomp$this$jscomp$85$$.$resources_$.forEach(function($measurePromiseArray$$){$measurePromiseArray$$.hasBeenMeasured()||$measurePromiseArray$$.hostWin!=$hostWin$$||$measurePromiseArray$$.hasOwner()||$filterFn$$.push($JSCompiler_StaticMethods_ensuredMeasured_$$($$jscomp$this$jscomp$85$$,$measurePromiseArray$$))});
return Promise.all($filterFn$$)}).then(function(){return $$jscomp$this$jscomp$85$$.$resources_$.filter(function($$jscomp$this$jscomp$85$$){return $$jscomp$this$jscomp$85$$.hostWin==$hostWin$$&&!$$jscomp$this$jscomp$85$$.hasOwner()&&$$jscomp$this$jscomp$85$$.hasBeenMeasured()&&$filterFn$$($$jscomp$this$jscomp$85$$)})})};
$JSCompiler_prototypeAlias$$.getResourcesInRect=function($hostWin$jscomp$1$$,$rect$jscomp$4$$,$opt_isInPrerender$$){return this.getMeasuredResources($hostWin$jscomp$1$$,function($hostWin$jscomp$1$$){return!$hostWin$jscomp$1$$.isDisplayed()||!$hostWin$jscomp$1$$.overlaps($rect$jscomp$4$$)&&!$hostWin$jscomp$1$$.isFixed()||$opt_isInPrerender$$&&!$hostWin$jscomp$1$$.prerenderAllowed()?!1:!0})};
function $JSCompiler_StaticMethods_monitorInput_$$($JSCompiler_StaticMethods_monitorInput_$self$$){var $input$jscomp$26$$=$getService$$module$src$service$$($JSCompiler_StaticMethods_monitorInput_$self$$.win,"input");$input$jscomp$26$$.onTouchDetected(function($input$jscomp$26$$){$JSCompiler_StaticMethods_toggleInputClass_$$($JSCompiler_StaticMethods_monitorInput_$self$$,"amp-mode-touch",$input$jscomp$26$$)},!0);$input$jscomp$26$$.onMouseDetected(function($input$jscomp$26$$){$JSCompiler_StaticMethods_toggleInputClass_$$($JSCompiler_StaticMethods_monitorInput_$self$$,
"amp-mode-mouse",$input$jscomp$26$$)},!0);$input$jscomp$26$$.onKeyboardStateChanged(function($input$jscomp$26$$){$JSCompiler_StaticMethods_toggleInputClass_$$($JSCompiler_StaticMethods_monitorInput_$self$$,"amp-mode-keyboard-active",$input$jscomp$26$$)},!0)}
function $JSCompiler_StaticMethods_toggleInputClass_$$($JSCompiler_StaticMethods_toggleInputClass_$self$$,$clazz$$,$on$jscomp$2$$){$JSCompiler_StaticMethods_toggleInputClass_$self$$.ampdoc.whenBodyAvailable().then(function($body$jscomp$3$$){$JSCompiler_StaticMethods_toggleInputClass_$self$$.$vsync_$.mutate(function(){$body$jscomp$3$$.classList.toggle($clazz$$,$on$jscomp$2$$)})})}$JSCompiler_prototypeAlias$$.getMaxDpr=function(){return this.$maxDpr_$};$JSCompiler_prototypeAlias$$.getDpr=function(){return this.$maxDpr_$};
$JSCompiler_prototypeAlias$$.getResourceForElement=function($element$jscomp$135$$){return $Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$135$$)};$JSCompiler_prototypeAlias$$.getResourceForElementOptional=function($element$jscomp$136$$){return $Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$136$$)};
$JSCompiler_prototypeAlias$$.getElementLayoutBox=function($element$jscomp$137$$){var $$jscomp$this$jscomp$88$$=this,$resource$$=this.getResourceForElementOptional($element$jscomp$137$$);return $resource$$?$JSCompiler_StaticMethods_ensuredMeasured_$$(this,$resource$$):this.$vsync_$.measurePromise(function(){return $$jscomp$this$jscomp$88$$.getViewport().getLayoutRect($element$jscomp$137$$)})};
function $JSCompiler_StaticMethods_ensuredMeasured_$$($JSCompiler_StaticMethods_ensuredMeasured_$self$$,$resource$jscomp$1$$){return $resource$jscomp$1$$.hasBeenMeasured()?$tryResolve$$module$src$utils$promise$$(function(){return $resource$jscomp$1$$.getPageLayoutBox()}):$JSCompiler_StaticMethods_ensuredMeasured_$self$$.$vsync_$.measurePromise(function(){$resource$jscomp$1$$.measure();return $resource$jscomp$1$$.getPageLayoutBox()})}$JSCompiler_prototypeAlias$$.getViewport=function(){return this.$viewport_$};
$JSCompiler_prototypeAlias$$.getScrollDirection=function(){return Math.sign(this.$lastVelocity_$)||1};
$JSCompiler_prototypeAlias$$.add=function($element$jscomp$138$$){this.$addCount_$++;1==this.$addCount_$&&this.$viewport_$.ensureReadyForElements();var $resource$jscomp$2$$=$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$138$$);$resource$jscomp$2$$&&0!=$resource$jscomp$2$$.getState()&&!$element$jscomp$138$$.reconstructWhenReparented()?$resource$jscomp$2$$.requestMeasure():$resource$jscomp$2$$=new $Resource$$module$src$service$resource$$(++this.$resourceIdCounter_$,$element$jscomp$138$$,
this);this.$resources_$.push($resource$jscomp$2$$);this.$remeasurePass_$.schedule(1E3)};$JSCompiler_prototypeAlias$$.grantBuildPermission=function(){return 20>this.$buildAttemptsCount_$++||this.$viewer_$.hasBeenVisible()};
function $JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$$($JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$self$$,$resource$jscomp$3$$,$checkForDupes$$){$checkForDupes$$=void 0===$checkForDupes$$?!1:$checkForDupes$$;var $scheduleWhenBuilt$$=void 0===$scheduleWhenBuilt$$?!0:$scheduleWhenBuilt$$;var $buildingEnabled$$=$JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$self$$.$isRuntimeOn_$||$JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$self$$.$isBuildOn_$,
$shouldBuildResource$$="prerender"!=$JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$self$$.$viewer_$.getVisibilityState()||$resource$jscomp$3$$.prerenderAllowed();$buildingEnabled$$&&$shouldBuildResource$$&&($JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$self$$.$documentReady_$?$JSCompiler_StaticMethods_buildResourceUnsafe_$$($JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$self$$,$resource$jscomp$3$$,$scheduleWhenBuilt$$):$resource$jscomp$3$$.isBuilt()||$resource$jscomp$3$$.isBuilding()||
$checkForDupes$$&&$JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$self$$.$pendingBuildResources_$.includes($resource$jscomp$3$$)||($JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$self$$.$pendingBuildResources_$.push($resource$jscomp$3$$),$JSCompiler_StaticMethods_buildReadyResources_$$($JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$self$$,$scheduleWhenBuilt$$)))}
function $JSCompiler_StaticMethods_buildReadyResources_$$($JSCompiler_StaticMethods_buildReadyResources_$self$$,$JSCompiler_scheduleWhenBuilt$jscomp$inline_402_scheduleWhenBuilt$jscomp$1$$){if(!$JSCompiler_StaticMethods_buildReadyResources_$self$$.$isCurrentlyBuildingPendingResources_$)try{$JSCompiler_StaticMethods_buildReadyResources_$self$$.$isCurrentlyBuildingPendingResources_$=!0;$JSCompiler_scheduleWhenBuilt$jscomp$inline_402_scheduleWhenBuilt$jscomp$1$$=void 0===$JSCompiler_scheduleWhenBuilt$jscomp$inline_402_scheduleWhenBuilt$jscomp$1$$?
!0:$JSCompiler_scheduleWhenBuilt$jscomp$inline_402_scheduleWhenBuilt$jscomp$1$$;$JSCompiler_scheduleWhenBuilt$jscomp$inline_402_scheduleWhenBuilt$jscomp$1$$=void 0===$JSCompiler_scheduleWhenBuilt$jscomp$inline_402_scheduleWhenBuilt$jscomp$1$$?!0:$JSCompiler_scheduleWhenBuilt$jscomp$inline_402_scheduleWhenBuilt$jscomp$1$$;for(var $JSCompiler_i$jscomp$inline_403$$=0;$JSCompiler_i$jscomp$inline_403$$<$JSCompiler_StaticMethods_buildReadyResources_$self$$.$pendingBuildResources_$.length;$JSCompiler_i$jscomp$inline_403$$++){var $JSCompiler_resource$jscomp$inline_404$$=
$JSCompiler_StaticMethods_buildReadyResources_$self$$.$pendingBuildResources_$[$JSCompiler_i$jscomp$inline_403$$],$JSCompiler_temp$jscomp$632$$;if(!($JSCompiler_temp$jscomp$632$$=$JSCompiler_StaticMethods_buildReadyResources_$self$$.$documentReady_$))a:{var $JSCompiler_opt_stopNode$jscomp$inline_705$$=$JSCompiler_StaticMethods_buildReadyResources_$self$$.ampdoc.getRootNode(),$JSCompiler_currentElement$jscomp$inline_706$$=$JSCompiler_resource$jscomp$inline_404$$.element;do if($JSCompiler_currentElement$jscomp$inline_706$$.nextSibling){$JSCompiler_temp$jscomp$632$$=
!0;break a}while(($JSCompiler_currentElement$jscomp$inline_706$$=$JSCompiler_currentElement$jscomp$inline_706$$.parentNode)&&$JSCompiler_currentElement$jscomp$inline_706$$!=$JSCompiler_opt_stopNode$jscomp$inline_705$$);$JSCompiler_temp$jscomp$632$$=!1}$JSCompiler_temp$jscomp$632$$&&($JSCompiler_StaticMethods_buildReadyResources_$self$$.$pendingBuildResources_$.splice($JSCompiler_i$jscomp$inline_403$$--,1),$JSCompiler_StaticMethods_buildResourceUnsafe_$$($JSCompiler_StaticMethods_buildReadyResources_$self$$,
$JSCompiler_resource$jscomp$inline_404$$,$JSCompiler_scheduleWhenBuilt$jscomp$inline_402_scheduleWhenBuilt$jscomp$1$$))}}finally{$JSCompiler_StaticMethods_buildReadyResources_$self$$.$isCurrentlyBuildingPendingResources_$=!1}}
function $JSCompiler_StaticMethods_buildResourceUnsafe_$$($JSCompiler_StaticMethods_buildResourceUnsafe_$self$$,$resource$jscomp$5$$,$schedulePass$$){var $promise$jscomp$14$$=$resource$jscomp$5$$.build();$promise$jscomp$14$$&&$schedulePass$$&&$promise$jscomp$14$$.then(function(){return $JSCompiler_StaticMethods_buildResourceUnsafe_$self$$.schedulePass()},function($schedulePass$$){$JSCompiler_StaticMethods_removeResource_$$($JSCompiler_StaticMethods_buildResourceUnsafe_$self$$,$resource$jscomp$5$$);
if(!$isBlockedByConsent$$module$src$error$$($schedulePass$$))throw $schedulePass$$;})}$JSCompiler_prototypeAlias$$.remove=function($element$jscomp$139_resource$jscomp$6$$){($element$jscomp$139_resource$jscomp$6$$=$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$139_resource$jscomp$6$$))&&$JSCompiler_StaticMethods_removeResource_$$(this,$element$jscomp$139_resource$jscomp$6$$)};
function $JSCompiler_StaticMethods_removeResource_$$($JSCompiler_StaticMethods_removeResource_$self$$,$resource$jscomp$7$$,$opt_disconnect$$){var $index$jscomp$80$$=$JSCompiler_StaticMethods_removeResource_$self$$.$resources_$.indexOf($resource$jscomp$7$$);-1!=$index$jscomp$80$$&&$JSCompiler_StaticMethods_removeResource_$self$$.$resources_$.splice($index$jscomp$80$$,1);$resource$jscomp$7$$.isBuilt()&&$resource$jscomp$7$$.pauseOnRemove();$opt_disconnect$$&&$resource$jscomp$7$$.disconnect();$JSCompiler_StaticMethods_cleanupTasks_$$($JSCompiler_StaticMethods_removeResource_$self$$,
$resource$jscomp$7$$,!0)}$JSCompiler_prototypeAlias$$.removeForChildWindow=function($childWin$jscomp$6$$){var $$jscomp$this$jscomp$90$$=this,$toRemove$$=this.$resources_$.filter(function($$jscomp$this$jscomp$90$$){return $$jscomp$this$jscomp$90$$.hostWin==$childWin$jscomp$6$$});$toRemove$$.forEach(function($childWin$jscomp$6$$){return $JSCompiler_StaticMethods_removeResource_$$($$jscomp$this$jscomp$90$$,$childWin$jscomp$6$$,!0)})};
$JSCompiler_prototypeAlias$$.upgraded=function($element$jscomp$140_resource$jscomp$8$$){$element$jscomp$140_resource$jscomp$8$$=$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$140_resource$jscomp$8$$);$JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$$(this,$element$jscomp$140_resource$jscomp$8$$)};
$JSCompiler_prototypeAlias$$.setOwner=function($JSCompiler_cachedElements$jscomp$inline_408_element$jscomp$141$$,$JSCompiler_i$jscomp$inline_409_owner$jscomp$6$$){$JSCompiler_i$jscomp$inline_409_owner$jscomp$6$$.contains($JSCompiler_cachedElements$jscomp$inline_408_element$jscomp$141$$);$Resource$$module$src$service$resource$forElementOptional$$($JSCompiler_cachedElements$jscomp$inline_408_element$jscomp$141$$)&&$Resource$$module$src$service$resource$forElementOptional$$($JSCompiler_cachedElements$jscomp$inline_408_element$jscomp$141$$).updateOwner($JSCompiler_i$jscomp$inline_409_owner$jscomp$6$$);
$JSCompiler_cachedElements$jscomp$inline_408_element$jscomp$141$$.__AMP__OWNER=$JSCompiler_i$jscomp$inline_409_owner$jscomp$6$$;$JSCompiler_cachedElements$jscomp$inline_408_element$jscomp$141$$=$JSCompiler_cachedElements$jscomp$inline_408_element$jscomp$141$$.getElementsByClassName("i-amphtml-element");for($JSCompiler_i$jscomp$inline_409_owner$jscomp$6$$=0;$JSCompiler_i$jscomp$inline_409_owner$jscomp$6$$<$JSCompiler_cachedElements$jscomp$inline_408_element$jscomp$141$$.length;$JSCompiler_i$jscomp$inline_409_owner$jscomp$6$$++){var $JSCompiler_ele$jscomp$inline_410$$=
$JSCompiler_cachedElements$jscomp$inline_408_element$jscomp$141$$[$JSCompiler_i$jscomp$inline_409_owner$jscomp$6$$];$Resource$$module$src$service$resource$forElementOptional$$($JSCompiler_ele$jscomp$inline_410$$)&&$Resource$$module$src$service$resource$forElementOptional$$($JSCompiler_ele$jscomp$inline_410$$).updateOwner(void 0)}};
$JSCompiler_prototypeAlias$$.requireLayout=function($element$jscomp$142$$,$opt_parentPriority$$){var $$jscomp$this$jscomp$91$$=this,$promises$jscomp$4$$=[];$JSCompiler_StaticMethods_discoverResourcesForElement_$$(this,$element$jscomp$142$$,function($element$jscomp$142$$){4!=$element$jscomp$142$$.getState()&&(3!=$element$jscomp$142$$.getState()?$promises$jscomp$4$$.push($element$jscomp$142$$.whenBuilt().then(function(){$element$jscomp$142$$.measure();if($element$jscomp$142$$.isDisplayed())return $JSCompiler_StaticMethods_scheduleLayoutOrPreload_$$($$jscomp$this$jscomp$91$$,
$element$jscomp$142$$,!0,$opt_parentPriority$$,!0),$element$jscomp$142$$.loadedOnce()})):$element$jscomp$142$$.isDisplayed()&&$promises$jscomp$4$$.push($element$jscomp$142$$.loadedOnce()))});return Promise.all($promises$jscomp$4$$)};$JSCompiler_prototypeAlias$$.scheduleLayout=function($parentElement$$,$subElements$$){$JSCompiler_StaticMethods_scheduleLayoutOrPreloadForSubresources_$$(this,$Resource$$module$src$service$resource$forElementOptional$$($parentElement$$),!0,$elements_$$module$src$service$resources_impl$$($subElements$$))};
$JSCompiler_prototypeAlias$$.schedulePause=function($parentElement$jscomp$1$$,$subElements$jscomp$1$$){var $parentResource$$=$Resource$$module$src$service$resource$forElementOptional$$($parentElement$jscomp$1$$);$subElements$jscomp$1$$=$elements_$$module$src$service$resources_impl$$($subElements$jscomp$1$$);$JSCompiler_StaticMethods_discoverResourcesForArray_$$(this,$parentResource$$,$subElements$jscomp$1$$,function($parentElement$jscomp$1$$){$parentElement$jscomp$1$$.pause()})};
$JSCompiler_prototypeAlias$$.scheduleResume=function($parentElement$jscomp$2_parentResource$jscomp$1$$,$subElements$jscomp$2$$){$parentElement$jscomp$2_parentResource$jscomp$1$$=$Resource$$module$src$service$resource$forElementOptional$$($parentElement$jscomp$2_parentResource$jscomp$1$$);$subElements$jscomp$2$$=$elements_$$module$src$service$resources_impl$$($subElements$jscomp$2$$);$JSCompiler_StaticMethods_discoverResourcesForArray_$$(this,$parentElement$jscomp$2_parentResource$jscomp$1$$,$subElements$jscomp$2$$,
function($parentElement$jscomp$2_parentResource$jscomp$1$$){$parentElement$jscomp$2_parentResource$jscomp$1$$.resume()})};
$JSCompiler_prototypeAlias$$.scheduleUnlayout=function($parentElement$jscomp$3_parentResource$jscomp$2$$,$subElements$jscomp$3$$){$parentElement$jscomp$3_parentResource$jscomp$2$$=$Resource$$module$src$service$resource$forElementOptional$$($parentElement$jscomp$3_parentResource$jscomp$2$$);$subElements$jscomp$3$$=$elements_$$module$src$service$resources_impl$$($subElements$jscomp$3$$);$JSCompiler_StaticMethods_discoverResourcesForArray_$$(this,$parentElement$jscomp$3_parentResource$jscomp$2$$,$subElements$jscomp$3$$,
function($parentElement$jscomp$3_parentResource$jscomp$2$$){$parentElement$jscomp$3_parentResource$jscomp$2$$.unlayout()})};$JSCompiler_prototypeAlias$$.schedulePreload=function($parentElement$jscomp$4$$,$subElements$jscomp$4$$){$JSCompiler_StaticMethods_scheduleLayoutOrPreloadForSubresources_$$(this,$Resource$$module$src$service$resource$forElementOptional$$($parentElement$jscomp$4$$),!1,$elements_$$module$src$service$resources_impl$$($subElements$jscomp$4$$))};
$JSCompiler_prototypeAlias$$.updateLayoutPriority=function($element$jscomp$143$$,$newLayoutPriority$jscomp$1$$){var $resource$jscomp$13$$=$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$143$$);$resource$jscomp$13$$.updateLayoutPriority($newLayoutPriority$jscomp$1$$);this.$queue_$.forEach(function($element$jscomp$143$$){$element$jscomp$143$$.resource==$resource$jscomp$13$$&&($element$jscomp$143$$.priority=$newLayoutPriority$jscomp$1$$)});this.schedulePass()};
$JSCompiler_prototypeAlias$$.updateInViewport=function($parentElement$jscomp$5$$,$subElements$jscomp$5$$,$inLocalViewport$jscomp$1$$){$JSCompiler_StaticMethods_updateInViewportForSubresources_$$(this,$Resource$$module$src$service$resource$forElementOptional$$($parentElement$jscomp$5$$),$elements_$$module$src$service$resources_impl$$($subElements$jscomp$5$$),$inLocalViewport$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.changeSize=function($element$jscomp$144$$,$newHeight$jscomp$5$$,$newWidth$jscomp$4$$,$opt_callback$jscomp$5$$,$opt_newMargins$jscomp$2$$){$JSCompiler_StaticMethods_scheduleChangeSize_$$(this,$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$144$$),$newHeight$jscomp$5$$,$newWidth$jscomp$4$$,$opt_newMargins$jscomp$2$$,!0,$opt_callback$jscomp$5$$)};
$JSCompiler_prototypeAlias$$.attemptChangeSize=function($element$jscomp$145$$,$newHeight$jscomp$6$$,$newWidth$jscomp$5$$,$opt_newMargins$jscomp$3$$){var $$jscomp$this$jscomp$92$$=this;return new Promise(function($resolve$jscomp$25$$,$reject$jscomp$10$$){$JSCompiler_StaticMethods_scheduleChangeSize_$$($$jscomp$this$jscomp$92$$,$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$145$$),$newHeight$jscomp$6$$,$newWidth$jscomp$5$$,$opt_newMargins$jscomp$3$$,!1,function($element$jscomp$145$$){$element$jscomp$145$$?
$resolve$jscomp$25$$():$reject$jscomp$10$$(Error("changeSize attempt denied"))})})};$JSCompiler_prototypeAlias$$.measureElement=function($measurer$jscomp$2$$){return this.$vsync_$.measurePromise($measurer$jscomp$2$$)};$JSCompiler_prototypeAlias$$.mutateElement=function($element$jscomp$146$$,$mutator$jscomp$3$$){return this.measureMutateElement($element$jscomp$146$$,null,$mutator$jscomp$3$$)};
$JSCompiler_prototypeAlias$$.measureMutateElement=function($element$jscomp$147$$,$measurer$jscomp$3$$,$mutator$jscomp$4$$){return this.$useLayers_$?$JSCompiler_StaticMethods_measureMutateElementLayers_$$(this,$element$jscomp$147$$,$measurer$jscomp$3$$,$mutator$jscomp$4$$):$JSCompiler_StaticMethods_measureMutateElementResources_$$(this,$element$jscomp$147$$,$measurer$jscomp$3$$,$mutator$jscomp$4$$)};
function $JSCompiler_StaticMethods_measureMutateElementResources_$$($JSCompiler_StaticMethods_measureMutateElementResources_$self$$,$element$jscomp$148$$,$measurer$jscomp$4$$,$mutator$jscomp$5$$){function $calcRelayoutTop$$(){var $measurer$jscomp$4$$=$JSCompiler_StaticMethods_measureMutateElementResources_$self$$.$viewport_$.getLayoutRect($element$jscomp$148$$);return 0!=$measurer$jscomp$4$$.width&&0!=$measurer$jscomp$4$$.height?$measurer$jscomp$4$$.top:-1}var $relayoutTop$$=-1;return $JSCompiler_StaticMethods_measureMutateElementResources_$self$$.$vsync_$.runPromise({measure:function(){$measurer$jscomp$4$$&&
$measurer$jscomp$4$$();$relayoutTop$$=$calcRelayoutTop$$()},mutate:function(){$mutator$jscomp$5$$();$element$jscomp$148$$.classList.contains("i-amphtml-element")&&$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$148$$).requestMeasure();for(var $measurer$jscomp$4$$=$element$jscomp$148$$.getElementsByClassName("i-amphtml-element"),$i$jscomp$88$$=0;$i$jscomp$88$$<$measurer$jscomp$4$$.length;$i$jscomp$88$$++)$Resource$$module$src$service$resource$forElementOptional$$($measurer$jscomp$4$$[$i$jscomp$88$$]).requestMeasure();
-1!=$relayoutTop$$&&$JSCompiler_StaticMethods_setRelayoutTop_$$($JSCompiler_StaticMethods_measureMutateElementResources_$self$$,$relayoutTop$$);$JSCompiler_StaticMethods_measureMutateElementResources_$self$$.schedulePass(70);$JSCompiler_StaticMethods_measureMutateElementResources_$self$$.$vsync_$.measure(function(){var $element$jscomp$148$$=$calcRelayoutTop$$();-1!=$element$jscomp$148$$&&$element$jscomp$148$$!=$relayoutTop$$&&($JSCompiler_StaticMethods_setRelayoutTop_$$($JSCompiler_StaticMethods_measureMutateElementResources_$self$$,
$element$jscomp$148$$),$JSCompiler_StaticMethods_measureMutateElementResources_$self$$.schedulePass(70));$JSCompiler_StaticMethods_measureMutateElementResources_$self$$.$maybeChangeHeight_$=!0})}})}
function $JSCompiler_StaticMethods_measureMutateElementLayers_$$($JSCompiler_StaticMethods_measureMutateElementLayers_$self$$,$element$jscomp$149$$,$measurer$jscomp$5$$,$mutator$jscomp$6$$){return $JSCompiler_StaticMethods_measureMutateElementLayers_$self$$.$vsync_$.runPromise({measure:$measurer$jscomp$5$$||void 0,mutate:function(){$mutator$jscomp$6$$();$JSCompiler_StaticMethods_measureMutateElementLayers_$self$$.dirtyElement($element$jscomp$149$$)}})}
$JSCompiler_prototypeAlias$$.dirtyElement=function($ampElements$jscomp$1_element$jscomp$150_r$50$$){var $relayoutAll$$=!1;if(this.$useLayers_$){this.$layers_$.dirty($ampElements$jscomp$1_element$jscomp$150_r$50$$);$ampElements$jscomp$1_element$jscomp$150_r$50$$.classList.contains("i-amphtml-element")&&$Resource$$module$src$service$resource$forElementOptional$$($ampElements$jscomp$1_element$jscomp$150_r$50$$).requestMeasure();$ampElements$jscomp$1_element$jscomp$150_r$50$$=$ampElements$jscomp$1_element$jscomp$150_r$50$$.getElementsByClassName("i-amphtml-element");
for(var $i$jscomp$89$$=0;$i$jscomp$89$$<$ampElements$jscomp$1_element$jscomp$150_r$50$$.length;$i$jscomp$89$$++)$Resource$$module$src$service$resource$forElementOptional$$($ampElements$jscomp$1_element$jscomp$150_r$50$$[$i$jscomp$89$$]).requestMeasure();this.$maybeChangeHeight_$=!0}else{var $isAmpElement$$=$ampElements$jscomp$1_element$jscomp$150_r$50$$.classList.contains("i-amphtml-element");$isAmpElement$$?($ampElements$jscomp$1_element$jscomp$150_r$50$$=$Resource$$module$src$service$resource$forElementOptional$$($ampElements$jscomp$1_element$jscomp$150_r$50$$),
$JSCompiler_StaticMethods_setRelayoutTop_$$(this,$ampElements$jscomp$1_element$jscomp$150_r$50$$.getLayoutBox().top)):$relayoutAll$$=!0}this.schedulePass(70,$relayoutAll$$)};
$JSCompiler_prototypeAlias$$.attemptCollapse=function($element$jscomp$151$$){var $$jscomp$this$jscomp$95$$=this;return new Promise(function($resolve$jscomp$26$$,$reject$jscomp$11$$){$JSCompiler_StaticMethods_scheduleChangeSize_$$($$jscomp$this$jscomp$95$$,$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$151$$),0,0,void 0,!1,function($$jscomp$this$jscomp$95$$){$$jscomp$this$jscomp$95$$?($Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$151$$).completeCollapse(),
$resolve$jscomp$26$$()):$reject$jscomp$11$$(Error("collapse attempt denied"))})})};
$JSCompiler_prototypeAlias$$.collapseElement=function($element$jscomp$152$$){var $box$jscomp$7$$=this.$viewport_$.getLayoutRect($element$jscomp$152$$),$resource$jscomp$15$$=$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$152$$);0!=$box$jscomp$7$$.width&&0!=$box$jscomp$7$$.height&&($isExperimentOn$$module$src$experiments$$(this.win,"dirty-collapse-element")||this.$useLayers_$?this.dirtyElement($element$jscomp$152$$):$JSCompiler_StaticMethods_setRelayoutTop_$$(this,$box$jscomp$7$$.top));
$resource$jscomp$15$$.completeCollapse();this.schedulePass(70)};$JSCompiler_prototypeAlias$$.expandElement=function($element$jscomp$153$$){var $owner$jscomp$7_resource$jscomp$16$$=$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$153$$);$owner$jscomp$7_resource$jscomp$16$$.completeExpand();($owner$jscomp$7_resource$jscomp$16$$=$owner$jscomp$7_resource$jscomp$16$$.getOwner())&&$owner$jscomp$7_resource$jscomp$16$$.expandedCallback($element$jscomp$153$$);this.schedulePass(70)};
$JSCompiler_prototypeAlias$$.schedulePass=function($opt_delay$jscomp$3$$,$opt_relayoutAll$$){$opt_relayoutAll$$&&(this.$relayoutAll_$=!0);return this.$pass_$.schedule($opt_delay$jscomp$3$$)};$JSCompiler_prototypeAlias$$.schedulePassVsync=function(){var $$jscomp$this$jscomp$96$$=this;this.$vsyncScheduled_$||(this.$vsyncScheduled_$=!0,this.$vsync_$.mutate(function(){return $$jscomp$this$jscomp$96$$.doPass()}))};$JSCompiler_prototypeAlias$$.ampInitComplete=function(){this.$ampInitialized_$=!0;this.schedulePass()};
$JSCompiler_prototypeAlias$$.onNextPass=function($callback$jscomp$88$$){this.$passCallbacks_$.push($callback$jscomp$88$$)};
$JSCompiler_prototypeAlias$$.doPass=function(){var $$jscomp$this$jscomp$97$$=this;if(this.$isRuntimeOn_$){this.$visible_$=this.$viewer_$.isVisible();this.$prerenderSize_$=this.$viewer_$.getPrerenderSize();var $firstPassAfterDocumentReady$$=this.$documentReady_$&&this.$firstPassAfterDocumentReady_$;if($firstPassAfterDocumentReady$$){this.$firstPassAfterDocumentReady_$=!1;var $doc$jscomp$35_i$jscomp$90$$=this.win.document,$documentInfo$$=$Services$$module$src$services$documentInfoForDoc$$(this.ampdoc);
this.$viewer_$.sendMessage("documentLoaded",$dict$$module$src$utils$object$$({title:$doc$jscomp$35_i$jscomp$90$$.title,sourceUrl:$getSourceUrl$$module$src$url$$(this.ampdoc.getUrl()),serverLayout:$doc$jscomp$35_i$jscomp$90$$.documentElement.hasAttribute("i-amphtml-element"),linkRels:$documentInfo$$.linkRels,metaTags:$documentInfo$$.metaTags}),!0);this.$contentHeight_$=this.$viewport_$.getContentHeight();this.$viewer_$.sendMessage("documentHeight",$dict$$module$src$utils$object$$({height:this.$contentHeight_$}),
!0)}this.$viewport_$.getSize();this.$pass_$.cancel();this.$vsyncScheduled_$=!1;this.$visibilityStateMachine_$.setState(this.$viewer_$.getVisibilityState());this.$documentReady_$&&this.$ampInitialized_$&&!this.ampdoc.signals().get("ready-scan")&&this.ampdoc.signals().signal("ready-scan");this.$maybeChangeHeight_$&&(this.$maybeChangeHeight_$=!1,this.$vsync_$.measure(function(){var $firstPassAfterDocumentReady$$=$$jscomp$this$jscomp$97$$.$viewport_$.getContentHeight();$firstPassAfterDocumentReady$$!=
$$jscomp$this$jscomp$97$$.$contentHeight_$&&($$jscomp$this$jscomp$97$$.$viewer_$.sendMessage("documentHeight",$dict$$module$src$utils$object$$({height:$firstPassAfterDocumentReady$$}),!0),$$jscomp$this$jscomp$97$$.$contentHeight_$=$firstPassAfterDocumentReady$$,$$jscomp$this$jscomp$97$$.$viewport_$.contentHeightChanged())}));for($doc$jscomp$35_i$jscomp$90$$=0;$doc$jscomp$35_i$jscomp$90$$<this.$passCallbacks_$.length;$doc$jscomp$35_i$jscomp$90$$++)(0,this.$passCallbacks_$[$doc$jscomp$35_i$jscomp$90$$])();
this.$passCallbacks_$.length=0}};
function $JSCompiler_StaticMethods_mutateWorkViaResources_$$($JSCompiler_StaticMethods_mutateWorkViaResources_$self$$){var $i$jscomp$91_now$jscomp$6$$=Date.now(),$viewportRect$$=$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$viewport_$.getRect(),$topOffset$$=$viewportRect$$.height/10,$bottomOffset$$=$viewportRect$$.height/10,$isScrollingStopped$$=.01>Math.abs($JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$lastVelocity_$)&&500<$i$jscomp$91_now$jscomp$6$$-$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$lastScrollTime_$||
1E3<$i$jscomp$91_now$jscomp$6$$-$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$lastScrollTime_$;if(0<$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$requestsChangeSize_$.length){var $requestsChangeSize$$=$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$requestsChangeSize_$;$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$requestsChangeSize_$=[];var $minTop$$=-1,$scrollAdjSet$$=[],$dirtySet$$=[],$aboveVpHeightChange$$=0;for($i$jscomp$91_now$jscomp$6$$=0;$i$jscomp$91_now$jscomp$6$$<
$requestsChangeSize$$.length;$i$jscomp$91_now$jscomp$6$$++){var $request$jscomp$5$$=$requestsChangeSize$$[$i$jscomp$91_now$jscomp$6$$],$resource$jscomp$17$$=$request$jscomp$5$$.resource,$box$jscomp$8$$=$resource$jscomp$17$$.getLayoutBox(),$topMarginDiff$$=0,$bottomMarginDiff$$=0,$leftMarginDiff$$=0,$rightMarginDiff$$=0,$$jscomp$destructuring$var94_margins$jscomp$1$$=$box$jscomp$8$$,$topUnchangedBoundary$$=$$jscomp$destructuring$var94_margins$jscomp$1$$.top,$bottomDisplacedBoundary$$=$$jscomp$destructuring$var94_margins$jscomp$1$$.bottom,
$newMargins$$=void 0;$request$jscomp$5$$.marginChange&&($newMargins$$=$request$jscomp$5$$.marginChange.newMargins,$$jscomp$destructuring$var94_margins$jscomp$1$$=$request$jscomp$5$$.marginChange.currentMargins,void 0!=$newMargins$$.top&&($topMarginDiff$$=$newMargins$$.top-$$jscomp$destructuring$var94_margins$jscomp$1$$.top),void 0!=$newMargins$$.bottom&&($bottomMarginDiff$$=$newMargins$$.bottom-$$jscomp$destructuring$var94_margins$jscomp$1$$.bottom),void 0!=$newMargins$$.left&&($leftMarginDiff$$=
$newMargins$$.left-$$jscomp$destructuring$var94_margins$jscomp$1$$.left),void 0!=$newMargins$$.right&&($rightMarginDiff$$=$newMargins$$.right-$$jscomp$destructuring$var94_margins$jscomp$1$$.right),$topMarginDiff$$&&($topUnchangedBoundary$$=$box$jscomp$8$$.top-$$jscomp$destructuring$var94_margins$jscomp$1$$.top),$bottomMarginDiff$$&&($bottomDisplacedBoundary$$=$box$jscomp$8$$.bottom+$$jscomp$destructuring$var94_margins$jscomp$1$$.bottom));var $heightDiff$$=$request$jscomp$5$$.newHeight-$box$jscomp$8$$.height,
$widthDiff$$=$request$jscomp$5$$.newWidth-$box$jscomp$8$$.width,$resize$$=!1;if(0!=$heightDiff$$||0!=$topMarginDiff$$||0!=$bottomMarginDiff$$||0!=$widthDiff$$||0!=$leftMarginDiff$$||0!=$rightMarginDiff$$)if($request$jscomp$5$$.force||!$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$visible_$)$resize$$=!0;else if($JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$activeHistory_$.hasDescendantsOf($resource$jscomp$17$$.element))$resize$$=!0;else if($topUnchangedBoundary$$>=$viewportRect$$.bottom-
$bottomOffset$$||0==$topMarginDiff$$&&$box$jscomp$8$$.bottom+Math.min($heightDiff$$,0)>=$viewportRect$$.bottom-$bottomOffset$$)$resize$$=!0;else if(1<$viewportRect$$.top&&$bottomDisplacedBoundary$$<=$viewportRect$$.top+$topOffset$$){if(0>$heightDiff$$&&$viewportRect$$.top+$aboveVpHeightChange$$<-$heightDiff$$)continue;$isScrollingStopped$$?($aboveVpHeightChange$$+=$heightDiff$$,$scrollAdjSet$$.push($request$jscomp$5$$)):$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$requestsChangeSize_$.push($request$jscomp$5$$);
continue}else $JSCompiler_StaticMethods_elementNearBottom_$$($JSCompiler_StaticMethods_mutateWorkViaResources_$self$$,$resource$jscomp$17$$,$box$jscomp$8$$)?$resize$$=!0:0>$heightDiff$$||0>$topMarginDiff$$||0>$bottomMarginDiff$$||$request$jscomp$5$$.resource.overflowCallback(!0,$request$jscomp$5$$.newHeight,$request$jscomp$5$$.newWidth,$newMargins$$);$resize$$&&(0<=$box$jscomp$8$$.top&&($minTop$$=-1==$minTop$$?$box$jscomp$8$$.top:Math.min($minTop$$,$box$jscomp$8$$.top)),$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$useLayers_$&&
$dirtySet$$.push($request$jscomp$5$$.resource.element),$request$jscomp$5$$.resource.changeSize($request$jscomp$5$$.newHeight,$request$jscomp$5$$.newWidth,$newMargins$$),$request$jscomp$5$$.resource.overflowCallback(!1,$request$jscomp$5$$.newHeight,$request$jscomp$5$$.newWidth,$newMargins$$),$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$maybeChangeHeight_$=!0);$request$jscomp$5$$.callback&&$request$jscomp$5$$.callback($resize$$)}$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$useLayers_$?
$dirtySet$$.forEach(function($i$jscomp$91_now$jscomp$6$$){$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.dirtyElement($i$jscomp$91_now$jscomp$6$$)}):-1!=$minTop$$&&$JSCompiler_StaticMethods_setRelayoutTop_$$($JSCompiler_StaticMethods_mutateWorkViaResources_$self$$,$minTop$$);0<$scrollAdjSet$$.length&&$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$vsync_$.run({measure:function($i$jscomp$91_now$jscomp$6$$){$i$jscomp$91_now$jscomp$6$$.scrollHeight=$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$viewport_$.getScrollHeight();
$i$jscomp$91_now$jscomp$6$$.scrollTop=$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$viewport_$.getScrollTop()},mutate:function($i$jscomp$91_now$jscomp$6$$){var $viewportRect$$=-1;$scrollAdjSet$$.forEach(function($JSCompiler_StaticMethods_mutateWorkViaResources_$self$$){var $i$jscomp$91_now$jscomp$6$$=$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.resource.getLayoutBox();$viewportRect$$=-1==$viewportRect$$?$i$jscomp$91_now$jscomp$6$$.top:Math.min($viewportRect$$,$i$jscomp$91_now$jscomp$6$$.top);
$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.resource.changeSize($JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.newHeight,$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.newWidth,$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.marginChange?$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.marginChange.newMargins:void 0);$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.callback&&$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.callback(!0)});
$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$useLayers_$?$scrollAdjSet$$.forEach(function($i$jscomp$91_now$jscomp$6$$){$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.dirtyElement($i$jscomp$91_now$jscomp$6$$.resource.element)}):-1!=$viewportRect$$&&$JSCompiler_StaticMethods_setRelayoutTop_$$($JSCompiler_StaticMethods_mutateWorkViaResources_$self$$,$viewportRect$$);var $topOffset$$=$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$viewport_$.getScrollHeight();$topOffset$$!=
$i$jscomp$91_now$jscomp$6$$.scrollHeight&&$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$viewport_$.setScrollTop($i$jscomp$91_now$jscomp$6$$.scrollTop+($topOffset$$-$i$jscomp$91_now$jscomp$6$$.scrollHeight));$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$maybeChangeHeight_$=!0}},{})}}
function $JSCompiler_StaticMethods_elementNearBottom_$$($JSCompiler_StaticMethods_elementNearBottom_$self_threshold$jscomp$1$$,$resource$jscomp$18$$,$opt_layoutBox$$){var $opt_initialLayoutBox$$,$contentHeight$$=$JSCompiler_StaticMethods_elementNearBottom_$self_threshold$jscomp$1$$.$viewport_$.getContentHeight();$JSCompiler_StaticMethods_elementNearBottom_$self_threshold$jscomp$1$$=Math.max(.85*$contentHeight$$,$contentHeight$$-1E3);var $box$jscomp$10$$=$opt_layoutBox$$||$resource$jscomp$18$$.getLayoutBox(),
$initialBox$$=$opt_initialLayoutBox$$||$resource$jscomp$18$$.getInitialLayoutBox();return $box$jscomp$10$$.bottom>=$JSCompiler_StaticMethods_elementNearBottom_$self_threshold$jscomp$1$$||$initialBox$$.bottom>=$JSCompiler_StaticMethods_elementNearBottom_$self_threshold$jscomp$1$$}
function $JSCompiler_StaticMethods_setRelayoutTop_$$($JSCompiler_StaticMethods_setRelayoutTop_$self$$,$relayoutTop$jscomp$1$$){$JSCompiler_StaticMethods_setRelayoutTop_$self$$.$useLayers_$?$JSCompiler_StaticMethods_setRelayoutTop_$self$$.$relayoutAll_$=!0:$JSCompiler_StaticMethods_setRelayoutTop_$self$$.$relayoutTop_$=-1==$JSCompiler_StaticMethods_setRelayoutTop_$self$$.$relayoutTop_$?$relayoutTop$jscomp$1$$:Math.min($relayoutTop$jscomp$1$$,$JSCompiler_StaticMethods_setRelayoutTop_$self$$.$relayoutTop_$)}
function $JSCompiler_StaticMethods_checkPendingChangeSize_$$($JSCompiler_StaticMethods_checkPendingChangeSize_$self$$,$element$jscomp$155_resource$jscomp$19$$){var $resourceElement$$=$closest$$module$src$dom$$($element$jscomp$155_resource$jscomp$19$$,function($JSCompiler_StaticMethods_checkPendingChangeSize_$self$$){return!!$Resource$$module$src$service$resource$forElementOptional$$($JSCompiler_StaticMethods_checkPendingChangeSize_$self$$)});if($resourceElement$$){$element$jscomp$155_resource$jscomp$19$$=
$Resource$$module$src$service$resource$forElementOptional$$($resourceElement$$);var $pendingChangeSize$$=$element$jscomp$155_resource$jscomp$19$$.getPendingChangeSize();void 0!==$pendingChangeSize$$&&$JSCompiler_StaticMethods_scheduleChangeSize_$$($JSCompiler_StaticMethods_checkPendingChangeSize_$self$$,$element$jscomp$155_resource$jscomp$19$$,$pendingChangeSize$$.height,$pendingChangeSize$$.width,$pendingChangeSize$$.margins,!0)}}
function $JSCompiler_StaticMethods_discoverWork_$$($JSCompiler_StaticMethods_discoverWork_$self$$){var $i$57_i$59_now$jscomp$7$$=Date.now(),$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$=$JSCompiler_StaticMethods_discoverWork_$self$$.$relayoutAll_$;$JSCompiler_StaticMethods_discoverWork_$self$$.$relayoutAll_$=!1;var $r$54_r$56_relayoutTop$jscomp$2$$=$JSCompiler_StaticMethods_discoverWork_$self$$.$relayoutTop_$;$JSCompiler_StaticMethods_discoverWork_$self$$.$relayoutTop_$=-1;for(var $relayoutCount$$=
0,$remeasureCount$$=0,$i$51_i$jscomp$92$$=0;$i$51_i$jscomp$92$$<$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$.length;$i$51_i$jscomp$92$$++){var $r$52_r$jscomp$10$$=$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$[$i$51_i$jscomp$92$$];0!=$r$52_r$jscomp$10$$.getState()||$r$52_r$jscomp$10$$.isBuilding()||$JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$$($JSCompiler_StaticMethods_discoverWork_$self$$,$r$52_r$jscomp$10$$,!0);if($i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$||
!$r$52_r$jscomp$10$$.hasBeenMeasured()||1==$r$52_r$jscomp$10$$.getState())$r$52_r$jscomp$10$$.applySizesAndMediaQuery(),$relayoutCount$$++;$r$52_r$jscomp$10$$.isMeasureRequested()&&$remeasureCount$$++}var $toUnload$$;if(0<$relayoutCount$$||0<$remeasureCount$$||$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$||-1!=$r$54_r$56_relayoutTop$jscomp$2$$)for($i$51_i$jscomp$92$$=0;$i$51_i$jscomp$92$$<$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$.length;$i$51_i$jscomp$92$$++)if($r$52_r$jscomp$10$$=
$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$[$i$51_i$jscomp$92$$],!$r$52_r$jscomp$10$$.hasOwner()||$r$52_r$jscomp$10$$.isMeasureRequested())if($i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$||1==$r$52_r$jscomp$10$$.getState()||!$r$52_r$jscomp$10$$.hasBeenMeasured()||$r$52_r$jscomp$10$$.isMeasureRequested()||-1!=$r$54_r$56_relayoutTop$jscomp$2$$&&$r$52_r$jscomp$10$$.getLayoutBox().bottom>=$r$54_r$56_relayoutTop$jscomp$2$$){var $wasDisplayed$$=$r$52_r$jscomp$10$$.isDisplayed();
$r$52_r$jscomp$10$$.measure();$wasDisplayed$$&&!$r$52_r$jscomp$10$$.isDisplayed()&&($toUnload$$||($toUnload$$=[]),$toUnload$$.push($r$52_r$jscomp$10$$))}$toUnload$$&&$JSCompiler_StaticMethods_discoverWork_$self$$.$vsync_$.mutate(function(){$toUnload$$.forEach(function($i$57_i$59_now$jscomp$7$$){$i$57_i$59_now$jscomp$7$$.unload();$JSCompiler_StaticMethods_cleanupTasks_$$($JSCompiler_StaticMethods_discoverWork_$self$$,$i$57_i$59_now$jscomp$7$$)})});$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$=
$JSCompiler_StaticMethods_discoverWork_$self$$.$viewport_$.getRect();var $loadRect$$=$JSCompiler_StaticMethods_discoverWork_$self$$.$visible_$?$expandLayoutRect$$module$src$layout_rect$$($i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$,.25,2):0<$JSCompiler_StaticMethods_discoverWork_$self$$.$prerenderSize_$?$expandLayoutRect$$module$src$layout_rect$$($i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$,0,$JSCompiler_StaticMethods_discoverWork_$self$$.$prerenderSize_$-
1):null;var $visibleRect$$=$JSCompiler_StaticMethods_discoverWork_$self$$.$visible_$?$expandLayoutRect$$module$src$layout_rect$$($i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$,.25,.25):$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$;for($i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$=0;$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$<$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$.length;$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$++)if($r$54_r$56_relayoutTop$jscomp$2$$=
$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$[$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$],0!=$r$54_r$56_relayoutTop$jscomp$2$$.getState()&&!$r$54_r$56_relayoutTop$jscomp$2$$.hasOwner()){var $shouldBeInViewport$$=$JSCompiler_StaticMethods_discoverWork_$self$$.$visible_$&&$r$54_r$56_relayoutTop$jscomp$2$$.isDisplayed()&&$r$54_r$56_relayoutTop$jscomp$2$$.overlaps($visibleRect$$);$r$54_r$56_relayoutTop$jscomp$2$$.setInViewport($shouldBeInViewport$$)}if($loadRect$$)for($i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$=
0;$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$<$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$.length;$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$++)$r$54_r$56_relayoutTop$jscomp$2$$=$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$[$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$],2!=$r$54_r$56_relayoutTop$jscomp$2$$.getState()||$r$54_r$56_relayoutTop$jscomp$2$$.hasOwner()||$r$54_r$56_relayoutTop$jscomp$2$$.isDisplayed()&&
$r$54_r$56_relayoutTop$jscomp$2$$.overlaps($loadRect$$)&&$JSCompiler_StaticMethods_scheduleLayoutOrPreload_$$($JSCompiler_StaticMethods_discoverWork_$self$$,$r$54_r$56_relayoutTop$jscomp$2$$,!0);if($JSCompiler_StaticMethods_discoverWork_$self$$.$visible_$&&0==$JSCompiler_StaticMethods_discoverWork_$self$$.$exec_$.getSize()&&0==$JSCompiler_StaticMethods_discoverWork_$self$$.$queue_$.getSize()&&$i$57_i$59_now$jscomp$7$$>$JSCompiler_StaticMethods_discoverWork_$self$$.$exec_$.getLastDequeueTime()+5E3){var $idleScheduledCount$$=
0;for($i$57_i$59_now$jscomp$7$$=0;$i$57_i$59_now$jscomp$7$$<$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$.length&&4>$idleScheduledCount$$;$i$57_i$59_now$jscomp$7$$++)$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$=$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$[$i$57_i$59_now$jscomp$7$$],2==$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$.getState()&&!$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$.hasOwner()&&$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$.isDisplayed()&&
$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$.idleRenderOutsideViewport()&&($JSCompiler_StaticMethods_scheduleLayoutOrPreload_$$($JSCompiler_StaticMethods_discoverWork_$self$$,$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$,!1),$idleScheduledCount$$++);for($i$57_i$59_now$jscomp$7$$=0;$i$57_i$59_now$jscomp$7$$<$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$.length&&4>$idleScheduledCount$$;$i$57_i$59_now$jscomp$7$$++)$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$=
$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$[$i$57_i$59_now$jscomp$7$$],2==$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$.getState()&&!$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$.hasOwner()&&$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$.isDisplayed()&&($JSCompiler_StaticMethods_scheduleLayoutOrPreload_$$($JSCompiler_StaticMethods_discoverWork_$self$$,$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$,!1),$idleScheduledCount$$++)}}
$JSCompiler_prototypeAlias$$.$calcTaskScore_$=function($task$jscomp$7$$){var $viewport$jscomp$5$$=this.$viewport_$.getRect(),$box$jscomp$11$$=$task$jscomp$7$$.resource.getLayoutBox(),$posPriority$$=Math.floor(($box$jscomp$11$$.top-$viewport$jscomp$5$$.top)/$viewport$jscomp$5$$.height);Math.sign($posPriority$$)!=this.getScrollDirection()&&($posPriority$$*=2);$posPriority$$=Math.abs($posPriority$$);return 10*$task$jscomp$7$$.priority+$posPriority$$};
$JSCompiler_prototypeAlias$$.$calcTaskScoreLayers_$=function($task$jscomp$8$$,$cache$jscomp$1$$){var $layerScore$$=this.$layers_$.iterateAncestry($task$jscomp$8$$.resource.element,this.$boundCalcLayoutScore_$,$cache$jscomp$1$$);return 10*$task$jscomp$8$$.priority+$layerScore$$};
$JSCompiler_prototypeAlias$$.$calcLayoutScore_$=function($currentScore$jscomp$1_score$jscomp$1$$,$distance$jscomp$3_layout$jscomp$7$$,$depth$jscomp$11_depthPenalty$jscomp$1$$,$cache$jscomp$2$$){var $id$jscomp$38$$=$distance$jscomp$3_layout$jscomp$7$$.getId();if($hasOwn_$$module$src$utils$object$$.call($cache$jscomp$2$$,$id$jscomp$38$$))return $cache$jscomp$2$$[$id$jscomp$38$$];$currentScore$jscomp$1_score$jscomp$1$$=$currentScore$jscomp$1_score$jscomp$1$$||0;$depth$jscomp$11_depthPenalty$jscomp$1$$=
1+$depth$jscomp$11_depthPenalty$jscomp$1$$/10;var $nonActivePenalty$jscomp$1$$=$distance$jscomp$3_layout$jscomp$7$$.isActiveUnsafe()?1:2;$distance$jscomp$3_layout$jscomp$7$$=$distance$jscomp$3_layout$jscomp$7$$.getHorizontalDistanceFromParent()+$distance$jscomp$3_layout$jscomp$7$$.getVerticalDistanceFromParent();return $cache$jscomp$2$$[$id$jscomp$38$$]=$currentScore$jscomp$1_score$jscomp$1$$+$nonActivePenalty$jscomp$1$$*$depth$jscomp$11_depthPenalty$jscomp$1$$*$distance$jscomp$3_layout$jscomp$7$$};
function $JSCompiler_StaticMethods_calcTaskTimeout_$$($JSCompiler_StaticMethods_calcTaskTimeout_$self$$,$task$jscomp$9$$){var $now$jscomp$9$$=Date.now();if(0==$JSCompiler_StaticMethods_calcTaskTimeout_$self$$.$exec_$.getSize()){if(-1===$JSCompiler_StaticMethods_calcTaskTimeout_$self$$.$firstVisibleTime_$)return 0;var $penalty$$=1E3*$task$jscomp$9$$.priority;return Math.max($penalty$$-($now$jscomp$9$$-$JSCompiler_StaticMethods_calcTaskTimeout_$self$$.$firstVisibleTime_$),0)}var $timeout$jscomp$5$$=
0;$JSCompiler_StaticMethods_calcTaskTimeout_$self$$.$exec_$.forEach(function($JSCompiler_StaticMethods_calcTaskTimeout_$self$$){$timeout$jscomp$5$$=Math.max($timeout$jscomp$5$$,Math.max(1E3*($task$jscomp$9$$.priority-$JSCompiler_StaticMethods_calcTaskTimeout_$self$$.priority),0)-($now$jscomp$9$$-$JSCompiler_StaticMethods_calcTaskTimeout_$self$$.startTime))});return $timeout$jscomp$5$$}
$JSCompiler_prototypeAlias$$.$reschedule_$=function($task$jscomp$10$$){this.$queue_$.getTaskById($task$jscomp$10$$.id)||this.$queue_$.enqueue($task$jscomp$10$$)};
$JSCompiler_prototypeAlias$$.$taskComplete_$=function($task$jscomp$11$$,$success$jscomp$3$$,$opt_reason$jscomp$2$$){this.$exec_$.dequeue($task$jscomp$11$$);this.schedulePass(1E3);if(!$success$jscomp$3$$)return $dev$$module$src$log$$().info("Resources","task failed:",$task$jscomp$11$$.id,$task$jscomp$11$$.resource.debugid,$opt_reason$jscomp$2$$),Promise.reject($opt_reason$jscomp$2$$)};
function $JSCompiler_StaticMethods_scheduleChangeSize_$$($JSCompiler_StaticMethods_scheduleChangeSize_$self$$,$resource$jscomp$20$$,$newHeight$jscomp$7$$,$newWidth$jscomp$6$$,$newMargins$jscomp$1$$,$force$jscomp$2$$,$opt_callback$jscomp$6$$){$resource$jscomp$20$$.hasBeenMeasured()&&!$newMargins$jscomp$1$$?$JSCompiler_StaticMethods_completeScheduleChangeSize_$$($JSCompiler_StaticMethods_scheduleChangeSize_$self$$,$resource$jscomp$20$$,$newHeight$jscomp$7$$,$newWidth$jscomp$6$$,void 0,$force$jscomp$2$$,
$opt_callback$jscomp$6$$):$JSCompiler_StaticMethods_scheduleChangeSize_$self$$.$vsync_$.measure(function(){$resource$jscomp$20$$.hasBeenMeasured()||$resource$jscomp$20$$.measure();if($newMargins$jscomp$1$$){var $JSCompiler_style$jscomp$inline_416_JSCompiler_temp$jscomp$159$$=$computedStyle$$module$src$style$$($JSCompiler_StaticMethods_scheduleChangeSize_$self$$.win,$resource$jscomp$20$$.element);$JSCompiler_style$jscomp$inline_416_JSCompiler_temp$jscomp$159$$={newMargins:$newMargins$jscomp$1$$,currentMargins:{top:parseInt($JSCompiler_style$jscomp$inline_416_JSCompiler_temp$jscomp$159$$.marginTop,
10)||0,right:parseInt($JSCompiler_style$jscomp$inline_416_JSCompiler_temp$jscomp$159$$.marginRight,10)||0,bottom:parseInt($JSCompiler_style$jscomp$inline_416_JSCompiler_temp$jscomp$159$$.marginBottom,10)||0,left:parseInt($JSCompiler_style$jscomp$inline_416_JSCompiler_temp$jscomp$159$$.marginLeft,10)||0}}}else $JSCompiler_style$jscomp$inline_416_JSCompiler_temp$jscomp$159$$=void 0;var $marginChange$$=$JSCompiler_style$jscomp$inline_416_JSCompiler_temp$jscomp$159$$;$JSCompiler_StaticMethods_completeScheduleChangeSize_$$($JSCompiler_StaticMethods_scheduleChangeSize_$self$$,
$resource$jscomp$20$$,$newHeight$jscomp$7$$,$newWidth$jscomp$6$$,$marginChange$$,$force$jscomp$2$$,$opt_callback$jscomp$6$$)})}
function $JSCompiler_StaticMethods_completeScheduleChangeSize_$$($JSCompiler_StaticMethods_completeScheduleChangeSize_$self$$,$resource$jscomp$22$$,$newHeight$jscomp$8$$,$newWidth$jscomp$7$$,$marginChange$jscomp$1$$,$force$jscomp$3$$,$opt_callback$jscomp$7$$){$resource$jscomp$22$$.resetPendingChangeSize();var $JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$=$resource$jscomp$22$$.getPageLayoutBox();if(!($JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$=
void 0!==$newHeight$jscomp$8$$&&$newHeight$jscomp$8$$!=$JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$.height||void 0!==$newWidth$jscomp$7$$&&$newWidth$jscomp$7$$!=$JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$.width)&&($JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$=
void 0!==$marginChange$jscomp$1$$)){$JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$=$marginChange$jscomp$1$$.currentMargins;var $JSCompiler_change$jscomp$inline_419_i$jscomp$93$$=$marginChange$jscomp$1$$.newMargins;$JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$=void 0!==$JSCompiler_change$jscomp$inline_419_i$jscomp$93$$.top&&$JSCompiler_change$jscomp$inline_419_i$jscomp$93$$.top!=
$JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$.top||void 0!==$JSCompiler_change$jscomp$inline_419_i$jscomp$93$$.right&&$JSCompiler_change$jscomp$inline_419_i$jscomp$93$$.right!=$JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$.right||void 0!==$JSCompiler_change$jscomp$inline_419_i$jscomp$93$$.bottom&&$JSCompiler_change$jscomp$inline_419_i$jscomp$93$$.bottom!=
$JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$.bottom||void 0!==$JSCompiler_change$jscomp$inline_419_i$jscomp$93$$.left&&$JSCompiler_change$jscomp$inline_419_i$jscomp$93$$.left!=$JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$.left}if($JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$){$JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$=
null;for($JSCompiler_change$jscomp$inline_419_i$jscomp$93$$=0;$JSCompiler_change$jscomp$inline_419_i$jscomp$93$$<$JSCompiler_StaticMethods_completeScheduleChangeSize_$self$$.$requestsChangeSize_$.length;$JSCompiler_change$jscomp$inline_419_i$jscomp$93$$++)if($JSCompiler_StaticMethods_completeScheduleChangeSize_$self$$.$requestsChangeSize_$[$JSCompiler_change$jscomp$inline_419_i$jscomp$93$$].resource==$resource$jscomp$22$$){$JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$=
$JSCompiler_StaticMethods_completeScheduleChangeSize_$self$$.$requestsChangeSize_$[$JSCompiler_change$jscomp$inline_419_i$jscomp$93$$];break}$JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$?($JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$.newHeight=$newHeight$jscomp$8$$,$JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$.newWidth=
$newWidth$jscomp$7$$,$JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$.marginChange=$marginChange$jscomp$1$$,$JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$.force=$force$jscomp$3$$||$JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$.force,$JSCompiler_margins$jscomp$inline_418_JSCompiler_temp$jscomp$146_JSCompiler_temp$jscomp$147_layoutBox$jscomp$3_request$jscomp$8$$.callback=
$opt_callback$jscomp$7$$):$JSCompiler_StaticMethods_completeScheduleChangeSize_$self$$.$requestsChangeSize_$.push({resource:$resource$jscomp$22$$,newHeight:$newHeight$jscomp$8$$,newWidth:$newWidth$jscomp$7$$,marginChange:$marginChange$jscomp$1$$,force:$force$jscomp$3$$,callback:$opt_callback$jscomp$7$$});$JSCompiler_StaticMethods_completeScheduleChangeSize_$self$$.schedulePassVsync()}else void 0===$newHeight$jscomp$8$$&&void 0===$newWidth$jscomp$7$$&&void 0===$marginChange$jscomp$1$$&&$dev$$module$src$log$$().error("Resources",
"attempting to change size with undefined dimensions",$resource$jscomp$22$$.debugid),$opt_callback$jscomp$7$$&&$opt_callback$jscomp$7$$(!0)}
function $JSCompiler_StaticMethods_isLayoutAllowed_$$($JSCompiler_StaticMethods_isLayoutAllowed_$self$$,$resource$jscomp$23$$,$forceOutsideViewport$$){return 0!=$resource$jscomp$23$$.getState()&&$resource$jscomp$23$$.isDisplayed()&&($JSCompiler_StaticMethods_isLayoutAllowed_$self$$.$visible_$||"prerender"==$JSCompiler_StaticMethods_isLayoutAllowed_$self$$.$viewer_$.getVisibilityState()&&$resource$jscomp$23$$.prerenderAllowed())&&($forceOutsideViewport$$||$resource$jscomp$23$$.isInViewport()||$resource$jscomp$23$$.renderOutsideViewport()||
$resource$jscomp$23$$.idleRenderOutsideViewport())?!0:!1}
function $JSCompiler_StaticMethods_scheduleLayoutOrPreload_$$($JSCompiler_StaticMethods_scheduleLayoutOrPreload_$self$$,$resource$jscomp$24$$,$layout$jscomp$8$$,$opt_parentPriority$jscomp$1$$,$opt_forceOutsideViewport$$){0!=$resource$jscomp$24$$.getState()&&$resource$jscomp$24$$.isDisplayed();var $forceOutsideViewport$jscomp$1$$=$opt_forceOutsideViewport$$||!1;$JSCompiler_StaticMethods_isLayoutAllowed_$$($JSCompiler_StaticMethods_scheduleLayoutOrPreload_$self$$,$resource$jscomp$24$$,$forceOutsideViewport$jscomp$1$$)&&
($layout$jscomp$8$$?$JSCompiler_StaticMethods_scheduleLayoutOrPreload_$self$$.$schedule_$($resource$jscomp$24$$,"L",0,$opt_parentPriority$jscomp$1$$||0,$forceOutsideViewport$jscomp$1$$,$resource$jscomp$24$$.startLayout.bind($resource$jscomp$24$$)):$JSCompiler_StaticMethods_scheduleLayoutOrPreload_$self$$.$schedule_$($resource$jscomp$24$$,"P",2,$opt_parentPriority$jscomp$1$$||0,$forceOutsideViewport$jscomp$1$$,$resource$jscomp$24$$.startLayout.bind($resource$jscomp$24$$)))}
function $JSCompiler_StaticMethods_scheduleLayoutOrPreloadForSubresources_$$($JSCompiler_StaticMethods_scheduleLayoutOrPreloadForSubresources_$self$$,$parentResource$jscomp$3$$,$layout$jscomp$9$$,$subElements$jscomp$6$$){$JSCompiler_StaticMethods_discoverResourcesForArray_$$($JSCompiler_StaticMethods_scheduleLayoutOrPreloadForSubresources_$self$$,$parentResource$jscomp$3$$,$subElements$jscomp$6$$,function($subElements$jscomp$6$$){0==$subElements$jscomp$6$$.getState()?$subElements$jscomp$6$$.whenBuilt().then(function(){$JSCompiler_StaticMethods_measureAndScheduleIfAllowed_$$($JSCompiler_StaticMethods_scheduleLayoutOrPreloadForSubresources_$self$$,
$subElements$jscomp$6$$,$layout$jscomp$9$$,$parentResource$jscomp$3$$.getLayoutPriority())}):$JSCompiler_StaticMethods_measureAndScheduleIfAllowed_$$($JSCompiler_StaticMethods_scheduleLayoutOrPreloadForSubresources_$self$$,$subElements$jscomp$6$$,$layout$jscomp$9$$,$parentResource$jscomp$3$$.getLayoutPriority())})}
function $JSCompiler_StaticMethods_measureAndScheduleIfAllowed_$$($JSCompiler_StaticMethods_measureAndScheduleIfAllowed_$self$$,$resource$jscomp$26$$,$layout$jscomp$10$$,$parentPriority$$){$resource$jscomp$26$$.measure();2==$resource$jscomp$26$$.getState()&&$resource$jscomp$26$$.isDisplayed()&&$JSCompiler_StaticMethods_scheduleLayoutOrPreload_$$($JSCompiler_StaticMethods_measureAndScheduleIfAllowed_$self$$,$resource$jscomp$26$$,$layout$jscomp$10$$,$parentPriority$$)}
$JSCompiler_prototypeAlias$$.$schedule_$=function($resource$jscomp$27_task$jscomp$12$$,$localId$jscomp$1_taskId$jscomp$1$$,$priorityOffset$$,$parentPriority$jscomp$1$$,$forceOutsideViewport$jscomp$2$$,$callback$jscomp$89$$){$localId$jscomp$1_taskId$jscomp$1$$=$resource$jscomp$27_task$jscomp$12$$.getTaskId($localId$jscomp$1_taskId$jscomp$1$$);$resource$jscomp$27_task$jscomp$12$$={id:$localId$jscomp$1_taskId$jscomp$1$$,resource:$resource$jscomp$27_task$jscomp$12$$,priority:Math.max($resource$jscomp$27_task$jscomp$12$$.getLayoutPriority(),
$parentPriority$jscomp$1$$)+$priorityOffset$$,forceOutsideViewport:$forceOutsideViewport$jscomp$2$$,callback:$callback$jscomp$89$$,scheduleTime:Date.now(),startTime:0,promise:null};var $queued$$=this.$queue_$.getTaskById($localId$jscomp$1_taskId$jscomp$1$$);if(!$queued$$||$resource$jscomp$27_task$jscomp$12$$.priority<$queued$$.priority)$queued$$&&this.$queue_$.dequeue($queued$$),this.$queue_$.enqueue($resource$jscomp$27_task$jscomp$12$$),this.schedulePass($JSCompiler_StaticMethods_calcTaskTimeout_$$(this,
$resource$jscomp$27_task$jscomp$12$$));$resource$jscomp$27_task$jscomp$12$$.resource.layoutScheduled($resource$jscomp$27_task$jscomp$12$$.scheduleTime)};
function $JSCompiler_StaticMethods_updateInViewportForSubresources_$$($JSCompiler_StaticMethods_updateInViewportForSubresources_$self$$,$parentResource$jscomp$4$$,$subElements$jscomp$7$$,$inLocalViewport$jscomp$2$$){var $inViewport$jscomp$4$$=$parentResource$jscomp$4$$.isInViewport()&&$inLocalViewport$jscomp$2$$;$JSCompiler_StaticMethods_discoverResourcesForArray_$$($JSCompiler_StaticMethods_updateInViewportForSubresources_$self$$,$parentResource$jscomp$4$$,$subElements$jscomp$7$$,function($JSCompiler_StaticMethods_updateInViewportForSubresources_$self$$){$JSCompiler_StaticMethods_updateInViewportForSubresources_$self$$.setInViewport($inViewport$jscomp$4$$)})}
function $JSCompiler_StaticMethods_discoverResourcesForArray_$$($JSCompiler_StaticMethods_discoverResourcesForArray_$self$$,$parentResource$jscomp$5$$,$elements$jscomp$10$$,$callback$jscomp$90$$){$elements$jscomp$10$$.forEach(function($elements$jscomp$10$$){$parentResource$jscomp$5$$.element.contains($elements$jscomp$10$$);$JSCompiler_StaticMethods_discoverResourcesForElement_$$($JSCompiler_StaticMethods_discoverResourcesForArray_$self$$,$elements$jscomp$10$$,$callback$jscomp$90$$)})}
function $JSCompiler_StaticMethods_discoverResourcesForElement_$$($JSCompiler_StaticMethods_discoverResourcesForElement_$self_ampElements$jscomp$2$$,$element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$,$callback$jscomp$91$$){if($element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$.classList.contains("i-amphtml-element"))$callback$jscomp$91$$($Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$)),($element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$=
$element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$.getPlaceholder())&&$JSCompiler_StaticMethods_discoverResourcesForElement_$$($JSCompiler_StaticMethods_discoverResourcesForElement_$self_ampElements$jscomp$2$$,$element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$,$callback$jscomp$91$$);else{$JSCompiler_StaticMethods_discoverResourcesForElement_$self_ampElements$jscomp$2$$=$element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$.getElementsByClassName("i-amphtml-element");$element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$=
[];for(var $i$jscomp$94$$=0;$i$jscomp$94$$<$JSCompiler_StaticMethods_discoverResourcesForElement_$self_ampElements$jscomp$2$$.length;$i$jscomp$94$$++){for(var $ampElement$$=$JSCompiler_StaticMethods_discoverResourcesForElement_$self_ampElements$jscomp$2$$[$i$jscomp$94$$],$covered$$=!1,$j$$=0;$j$$<$element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$.length;$j$$++)if($element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$[$j$$].contains($ampElement$$)){$covered$$=!0;break}$covered$$||($element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$.push($ampElement$$),
$callback$jscomp$91$$($Resource$$module$src$service$resource$forElementOptional$$($ampElement$$)))}}}
function $JSCompiler_StaticMethods_setupVisibilityStateMachine_$$($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$,$vsm$$){function $resume$$(){$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$resources_$.forEach(function($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$){return $JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.resume()});$doPass$$()}function $unload$$(){$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$resources_$.forEach(function($vsm$$){$vsm$$.unload();
$JSCompiler_StaticMethods_cleanupTasks_$$($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$,$vsm$$)});$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.unselectText()}function $pause$$(){$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$resources_$.forEach(function($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$){return $JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.pause()})}function $noop$$(){}function $doPass$$(){var $vsm$$=$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$viewport_$.getSize();
if(0<$vsm$$.height&&0<$vsm$$.width){0<$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$requestsChangeSize_$.length&&$JSCompiler_StaticMethods_mutateWorkViaResources_$$($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$);$JSCompiler_StaticMethods_discoverWork_$$($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$);$vsm$$=Date.now();for(var $resume$$=-1,$unload$$=Object.create(null),$pause$$=$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$queue_$.peek($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$boundTaskScorer_$,
$unload$$);$pause$$;){$resume$$=$JSCompiler_StaticMethods_calcTaskTimeout_$$($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$,$pause$$);if(16<$resume$$)break;$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$queue_$.dequeue($pause$$);($resume$$=$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$exec_$.getTaskById($pause$$.id))?($pause$$=$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$reschedule_$.bind($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$,
$pause$$),$resume$$.promise.then($pause$$,$pause$$)):($pause$$.resource.measure(),$JSCompiler_StaticMethods_isLayoutAllowed_$$($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$,$pause$$.resource,$pause$$.forceOutsideViewport)?($pause$$.promise=$pause$$.callback(),$pause$$.startTime=$vsm$$,$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$exec_$.enqueue($pause$$),$pause$$.promise.then($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$taskComplete_$.bind($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$,
$pause$$,!0),$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$taskComplete_$.bind($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$,$pause$$,!1)).catch($reportError$$module$src$error$$)):$pause$$.resource.layoutCanceled());$pause$$=$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$queue_$.peek($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$boundTaskScorer_$,$unload$$);$resume$$=-1}0<=$resume$$?$vsm$$=$resume$$:($vsm$$=2*($vsm$$-$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$exec_$.getLastDequeueTime()),
$vsm$$=Math.max(Math.min(3E4,$vsm$$),5E3));0<$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$requestsChangeSize_$.length&&($vsm$$=Math.min($vsm$$,500));$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$visible_$&&$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.schedulePass($vsm$$)}}$vsm$$.addTransition("prerender","prerender",$doPass$$);$vsm$$.addTransition("prerender","visible",$doPass$$);$vsm$$.addTransition("prerender","hidden",$doPass$$);$vsm$$.addTransition("prerender",
"inactive",$doPass$$);$vsm$$.addTransition("prerender","paused",$doPass$$);$vsm$$.addTransition("visible","visible",$doPass$$);$vsm$$.addTransition("visible","hidden",$doPass$$);$vsm$$.addTransition("visible","inactive",$unload$$);$vsm$$.addTransition("visible","paused",$pause$$);$vsm$$.addTransition("hidden","visible",$doPass$$);$vsm$$.addTransition("hidden","hidden",$doPass$$);$vsm$$.addTransition("hidden","inactive",$unload$$);$vsm$$.addTransition("hidden","paused",$pause$$);$vsm$$.addTransition("inactive",
"visible",$resume$$);$vsm$$.addTransition("inactive","hidden",$resume$$);$vsm$$.addTransition("inactive","inactive",$noop$$);$vsm$$.addTransition("inactive","paused",$doPass$$);$vsm$$.addTransition("paused","visible",$resume$$);$vsm$$.addTransition("paused","hidden",$doPass$$);$vsm$$.addTransition("paused","inactive",$unload$$);$vsm$$.addTransition("paused","paused",$noop$$)}$JSCompiler_prototypeAlias$$.unselectText=function(){try{this.win.getSelection().removeAllRanges()}catch($e$jscomp$72$$){}};
function $JSCompiler_StaticMethods_cleanupTasks_$$($JSCompiler_StaticMethods_cleanupTasks_$self$$,$resource$jscomp$29$$,$opt_removePending$$){1==$resource$jscomp$29$$.getState()&&($JSCompiler_StaticMethods_cleanupTasks_$self$$.$queue_$.purge(function($JSCompiler_StaticMethods_cleanupTasks_$self$$){return $JSCompiler_StaticMethods_cleanupTasks_$self$$.resource==$resource$jscomp$29$$}),$JSCompiler_StaticMethods_cleanupTasks_$self$$.$exec_$.purge(function($JSCompiler_StaticMethods_cleanupTasks_$self$$){return $JSCompiler_StaticMethods_cleanupTasks_$self$$.resource==
$resource$jscomp$29$$}),$remove$$module$src$utils$array$$($JSCompiler_StaticMethods_cleanupTasks_$self$$.$requestsChangeSize_$,function($JSCompiler_StaticMethods_cleanupTasks_$self$$){return $JSCompiler_StaticMethods_cleanupTasks_$self$$.resource===$resource$jscomp$29$$}));if(0==$resource$jscomp$29$$.getState()&&$opt_removePending$$&&$JSCompiler_StaticMethods_cleanupTasks_$self$$.$pendingBuildResources_$){var $pendingIndex$$=$JSCompiler_StaticMethods_cleanupTasks_$self$$.$pendingBuildResources_$.indexOf($resource$jscomp$29$$);
-1!=$pendingIndex$$&&$JSCompiler_StaticMethods_cleanupTasks_$self$$.$pendingBuildResources_$.splice($pendingIndex$$,1)}}function $elements_$$module$src$service$resources_impl$$($elements$jscomp$11$$){return Array.isArray($elements$jscomp$11$$)?$elements$jscomp$11$$:[$elements$jscomp$11$$]};function $StandardActions$$module$src$service$standard_actions_impl$$($JSCompiler_actionService$jscomp$inline_433_ampdoc$jscomp$56$$,$context$jscomp$4_opt_win$jscomp$2$$){this.ampdoc=$JSCompiler_actionService$jscomp$inline_433_ampdoc$jscomp$56$$;$context$jscomp$4_opt_win$jscomp$2$$=$context$jscomp$4_opt_win$jscomp$2$$?$context$jscomp$4_opt_win$jscomp$2$$.document.documentElement:$JSCompiler_actionService$jscomp$inline_433_ampdoc$jscomp$56$$.getHeadNode();this.$resources_$=$getServiceForDoc$$module$src$service$$($JSCompiler_actionService$jscomp$inline_433_ampdoc$jscomp$56$$,
"resources");this.$viewport_$=$Services$$module$src$services$viewportForDoc$$($JSCompiler_actionService$jscomp$inline_433_ampdoc$jscomp$56$$);$JSCompiler_actionService$jscomp$inline_433_ampdoc$jscomp$56$$=$getExistingServiceForDocInEmbedScope$$module$src$service$$($context$jscomp$4_opt_win$jscomp$2$$,"action");$JSCompiler_actionService$jscomp$inline_433_ampdoc$jscomp$56$$.addGlobalTarget("AMP",this.$handleAmpTarget_$.bind(this));$JSCompiler_actionService$jscomp$inline_433_ampdoc$jscomp$56$$.addGlobalMethodHandler("hide",
this.$handleHide_$.bind(this));$JSCompiler_actionService$jscomp$inline_433_ampdoc$jscomp$56$$.addGlobalMethodHandler("show",this.$handleShow_$.bind(this));$JSCompiler_actionService$jscomp$inline_433_ampdoc$jscomp$56$$.addGlobalMethodHandler("toggleVisibility",this.$handleToggle_$.bind(this));$JSCompiler_actionService$jscomp$inline_433_ampdoc$jscomp$56$$.addGlobalMethodHandler("scrollTo",this.$handleScrollTo_$.bind(this));$JSCompiler_actionService$jscomp$inline_433_ampdoc$jscomp$56$$.addGlobalMethodHandler("focus",
this.$handleFocus_$.bind(this));$JSCompiler_actionService$jscomp$inline_433_ampdoc$jscomp$56$$.addGlobalMethodHandler("toggleClass",this.$handleToggleClass_$.bind(this))}$StandardActions$$module$src$service$standard_actions_impl$$.installInEmbedWindow=function($embedWin$jscomp$6$$,$ampdoc$jscomp$57$$){$installServiceInEmbedScope$$module$src$service$$($embedWin$jscomp$6$$,"standard-actions",new $StandardActions$$module$src$service$standard_actions_impl$$($ampdoc$jscomp$57$$,$embedWin$jscomp$6$$))};
$JSCompiler_prototypeAlias$$=$StandardActions$$module$src$service$standard_actions_impl$$.prototype;
$JSCompiler_prototypeAlias$$.$handleAmpTarget_$=function($invocation$jscomp$9$$){if(!$invocation$jscomp$9$$.satisfiesTrust(100))return null;var $node$jscomp$39$$=$invocation$jscomp$9$$.node,$method$jscomp$12$$=$invocation$jscomp$9$$.method,$args$jscomp$10$$=$invocation$jscomp$9$$.args,$win$jscomp$174$$=($node$jscomp$39$$.ownerDocument||$node$jscomp$39$$).defaultView;switch($method$jscomp$12$$){case "pushState":case "setState":return $getElementServiceIfAvailableForDocInEmbedScope$$module$src$element_service$$($node$jscomp$39$$.nodeType===Node.DOCUMENT_NODE?
$node$jscomp$39$$.documentElement:$node$jscomp$39$$).then(function($node$jscomp$39$$){$userAssert$$module$src$log$$($node$jscomp$39$$,"AMP-BIND is not installed.");return $node$jscomp$39$$.invoke($invocation$jscomp$9$$)});case "navigateTo":return $JSCompiler_StaticMethods_handleNavigateTo_$$(this,$invocation$jscomp$9$$);case "closeOrNavigateTo":return $JSCompiler_StaticMethods_handleCloseOrNavigateTo_$$(this,$invocation$jscomp$9$$);case "scrollTo":return $userAssert$$module$src$log$$($args$jscomp$10$$.id,
"AMP.scrollTo must provide element ID"),$invocation$jscomp$9$$.node=$getAmpdoc$$module$src$service$$($node$jscomp$39$$).getElementById($args$jscomp$10$$.id),this.$handleScrollTo_$($invocation$jscomp$9$$);case "goBack":return $getServiceForDoc$$module$src$service$$(this.ampdoc,"history").goBack(),null;case "print":return $win$jscomp$174$$.print(),null;case "optoutOfCid":return $getServicePromiseForDoc$$module$src$service$$(this.ampdoc,"cid").then(function($invocation$jscomp$9$$){return $invocation$jscomp$9$$.optOut()}).catch(function($invocation$jscomp$9$$){$dev$$module$src$log$$().error("STANDARD-ACTIONS",
"Failed to opt out of CID",$invocation$jscomp$9$$)})}throw $user$$module$src$log$$().createError("Unknown AMP action ",$method$jscomp$12$$);};
function $JSCompiler_StaticMethods_handleNavigateTo_$$($JSCompiler_StaticMethods_handleNavigateTo_$self$$,$invocation$jscomp$10_permission$jscomp$1$$){var $node$jscomp$40$$=$invocation$jscomp$10_permission$jscomp$1$$.node,$caller$jscomp$2$$=$invocation$jscomp$10_permission$jscomp$1$$.caller,$method$jscomp$13$$=$invocation$jscomp$10_permission$jscomp$1$$.method,$args$jscomp$11$$=$invocation$jscomp$10_permission$jscomp$1$$.args,$win$jscomp$175$$=($node$jscomp$40$$.ownerDocument||$node$jscomp$40$$).defaultView;
$invocation$jscomp$10_permission$jscomp$1$$=Promise.resolve();$startsWith$$module$src$string$$($caller$jscomp$2$$.tagName,"AMP-")&&($invocation$jscomp$10_permission$jscomp$1$$=$caller$jscomp$2$$.getImpl().then(function($JSCompiler_StaticMethods_handleNavigateTo_$self$$){"function"==typeof $JSCompiler_StaticMethods_handleNavigateTo_$self$$.throwIfCannotNavigate&&$JSCompiler_StaticMethods_handleNavigateTo_$self$$.throwIfCannotNavigate()}));return $invocation$jscomp$10_permission$jscomp$1$$.then(function(){$getServiceForDoc$$module$src$service$$($JSCompiler_StaticMethods_handleNavigateTo_$self$$.ampdoc,
"navigation").navigateTo($win$jscomp$175$$,$args$jscomp$11$$.url,"AMP."+$method$jscomp$13$$,{target:$args$jscomp$11$$.target,opener:$args$jscomp$11$$.opener})},function($JSCompiler_StaticMethods_handleNavigateTo_$self$$){$user$$module$src$log$$().error("STANDARD-ACTIONS",$JSCompiler_StaticMethods_handleNavigateTo_$self$$.message)})}
function $JSCompiler_StaticMethods_handleCloseOrNavigateTo_$$($JSCompiler_StaticMethods_handleCloseOrNavigateTo_$self$$,$invocation$jscomp$11$$){var $node$jscomp$41_win$jscomp$176$$=$invocation$jscomp$11$$.node;$node$jscomp$41_win$jscomp$176$$=($node$jscomp$41_win$jscomp$176$$.ownerDocument||$node$jscomp$41_win$jscomp$176$$).defaultView;var $hasParent$$=$node$jscomp$41_win$jscomp$176$$.parent!=$node$jscomp$41_win$jscomp$176$$,$canBeClosed$$=$node$jscomp$41_win$jscomp$176$$.opener&&$JSCompiler_StaticMethods_handleCloseOrNavigateTo_$self$$.ampdoc.isSingleDoc()&&
!$hasParent$$,$wasClosed$$=!1;$canBeClosed$$&&($node$jscomp$41_win$jscomp$176$$.close(),$wasClosed$$=$node$jscomp$41_win$jscomp$176$$.closed);return $wasClosed$$?Promise.resolve():$JSCompiler_StaticMethods_handleNavigateTo_$$($JSCompiler_StaticMethods_handleCloseOrNavigateTo_$self$$,$invocation$jscomp$11$$)}
$JSCompiler_prototypeAlias$$.$handleScrollTo_$=function($args$jscomp$12_invocation$jscomp$12$$){var $node$jscomp$42$$=$args$jscomp$12_invocation$jscomp$12$$.node,$posOrUndef$$=($args$jscomp$12_invocation$jscomp$12$$=$args$jscomp$12_invocation$jscomp$12$$.args)&&$args$jscomp$12_invocation$jscomp$12$$.position,$durationOrUndef$$=$args$jscomp$12_invocation$jscomp$12$$&&$args$jscomp$12_invocation$jscomp$12$$.duration;$posOrUndef$$&&!["top","bottom","center"].includes($posOrUndef$$)&&($posOrUndef$$=void 0);
$isFiniteNumber$$module$src$types$$($durationOrUndef$$)||($durationOrUndef$$=void 0);return this.$viewport_$.animateScrollIntoView($node$jscomp$42$$,$posOrUndef$$,$durationOrUndef$$)};$JSCompiler_prototypeAlias$$.$handleFocus_$=function($invocation$jscomp$13$$){$tryFocus$$module$src$dom$$($invocation$jscomp$13$$.node);return null};
$JSCompiler_prototypeAlias$$.$handleHide_$=function($invocation$jscomp$14$$){var $target$jscomp$119$$=$invocation$jscomp$14$$.node;this.$resources_$.mutateElement($target$jscomp$119$$,function(){$target$jscomp$119$$.classList.contains("i-amphtml-element")?$target$jscomp$119$$.collapse():$toggle$$module$src$style$$($target$jscomp$119$$,!1)});return null};
$JSCompiler_prototypeAlias$$.$handleShow_$=function($$jscomp$destructuring$var100$$){var $target$jscomp$120$$=$$jscomp$destructuring$var100$$.node,$ownerWindow$$=$target$jscomp$120$$.ownerDocument.defaultView;if($target$jscomp$120$$.classList.contains($getLayoutClass$$module$src$layout$$()))return $user$$module$src$log$$().warn("STANDARD-ACTIONS","Elements with layout=nodisplay cannot be dynamically shown.",$target$jscomp$120$$),null;this.$resources_$.measureElement(function(){"none"!=$computedStyle$$module$src$style$$($ownerWindow$$,
$target$jscomp$120$$).display||$target$jscomp$120$$.hasAttribute("hidden")||$user$$module$src$log$$().warn("STANDARD-ACTIONS",'Elements can only be dynamically shown when they have the "hidden" attribute set or when they were dynamically hidden.',$target$jscomp$120$$)});var $autofocusElOrNull$$=$target$jscomp$120$$.hasAttribute("autofocus")?$target$jscomp$120$$:$target$jscomp$120$$.querySelector("[autofocus]");$autofocusElOrNull$$&&$Services$$module$src$services$platformFor$$($ownerWindow$$).isIos()?
$JSCompiler_StaticMethods_handleShowSync_$$($target$jscomp$120$$,$autofocusElOrNull$$):this.$resources_$.mutateElement($target$jscomp$120$$,function(){$JSCompiler_StaticMethods_handleShowSync_$$($target$jscomp$120$$,$autofocusElOrNull$$)});return null};
function $JSCompiler_StaticMethods_handleShowSync_$$($target$jscomp$121$$,$autofocusElOrNull$jscomp$1$$){$target$jscomp$121$$.classList.contains("i-amphtml-element")?$target$jscomp$121$$.expand():$toggle$$module$src$style$$($target$jscomp$121$$,!0);$autofocusElOrNull$jscomp$1$$&&$tryFocus$$module$src$dom$$($autofocusElOrNull$jscomp$1$$)}
$JSCompiler_prototypeAlias$$.$handleToggle_$=function($invocation$jscomp$15$$){return $invocation$jscomp$15$$.node.hasAttribute("hidden")?this.$handleShow_$($invocation$jscomp$15$$):this.$handleHide_$($invocation$jscomp$15$$)};
$JSCompiler_prototypeAlias$$.$handleToggleClass_$=function($invocation$jscomp$16$$){var $target$jscomp$122$$=$invocation$jscomp$16$$.node,$args$jscomp$13$$=$invocation$jscomp$16$$.args,$className$jscomp$1$$=$user$$module$src$log$$().assertString($args$jscomp$13$$["class"],"Argument 'class' must be a string.");this.$resources_$.mutateElement($target$jscomp$122$$,function(){if(void 0!==$args$jscomp$13$$.force){var $invocation$jscomp$16$$=$user$$module$src$log$$().assertBoolean($args$jscomp$13$$.force,
"Optional argument 'force' must be a boolean.");$target$jscomp$122$$.classList.toggle($className$jscomp$1$$,$invocation$jscomp$16$$)}else $target$jscomp$122$$.classList.toggle($className$jscomp$1$$)});return null};function $Storage$$module$src$service$storage_impl$$($ampdoc$jscomp$59$$,$viewer$jscomp$14$$,$binding$jscomp$2$$){this.ampdoc=$ampdoc$jscomp$59$$;this.$viewer_$=$viewer$jscomp$14$$;this.$binding_$=$binding$jscomp$2$$;this.$origin_$=$getSourceOrigin$$module$src$url$$(this.ampdoc.win.location);this.$storePromise_$=null}$JSCompiler_prototypeAlias$$=$Storage$$module$src$service$storage_impl$$.prototype;$JSCompiler_prototypeAlias$$.get=function($name$jscomp$138$$){return $JSCompiler_StaticMethods_getStore_$$(this).then(function($store$$){return $store$$.get($name$jscomp$138$$)})};
$JSCompiler_prototypeAlias$$.set=function($name$jscomp$139$$,$value$jscomp$124$$,$opt_isUpdate$$){return this.setNonBoolean($name$jscomp$139$$,$value$jscomp$124$$,$opt_isUpdate$$)};$JSCompiler_prototypeAlias$$.setNonBoolean=function($name$jscomp$140$$,$value$jscomp$125$$,$opt_isUpdate$jscomp$1$$){return $JSCompiler_StaticMethods_saveStore_$$(this,function($store$jscomp$1$$){return $store$jscomp$1$$.set($name$jscomp$140$$,$value$jscomp$125$$,$opt_isUpdate$jscomp$1$$)})};
$JSCompiler_prototypeAlias$$.remove=function($name$jscomp$141$$){return $JSCompiler_StaticMethods_saveStore_$$(this,function($store$jscomp$2$$){return $store$jscomp$2$$.remove($name$jscomp$141$$)})};
function $JSCompiler_StaticMethods_getStore_$$($JSCompiler_StaticMethods_getStore_$self$$){$JSCompiler_StaticMethods_getStore_$self$$.$storePromise_$||($JSCompiler_StaticMethods_getStore_$self$$.$storePromise_$=$JSCompiler_StaticMethods_getStore_$self$$.$binding_$.loadBlob($JSCompiler_StaticMethods_getStore_$self$$.$origin_$).then(function($JSCompiler_StaticMethods_getStore_$self$$){return $JSCompiler_StaticMethods_getStore_$self$$?JSON.parse(atob($JSCompiler_StaticMethods_getStore_$self$$)):{}}).catch(function($JSCompiler_StaticMethods_getStore_$self$$){$dev$$module$src$log$$().expectedError("Storage",
"Failed to load store: ",$JSCompiler_StaticMethods_getStore_$self$$);return{}}).then(function($JSCompiler_StaticMethods_getStore_$self$$){return new $Store$$module$src$service$storage_impl$$($JSCompiler_StaticMethods_getStore_$self$$)}));return $JSCompiler_StaticMethods_getStore_$self$$.$storePromise_$}
function $JSCompiler_StaticMethods_saveStore_$$($JSCompiler_StaticMethods_saveStore_$self$$,$mutator$jscomp$7$$){return $JSCompiler_StaticMethods_getStore_$$($JSCompiler_StaticMethods_saveStore_$self$$).then(function($blob$jscomp$8_store$jscomp$3$$){$mutator$jscomp$7$$($blob$jscomp$8_store$jscomp$3$$);$blob$jscomp$8_store$jscomp$3$$=btoa(JSON.stringify($blob$jscomp$8_store$jscomp$3$$.obj));return $JSCompiler_StaticMethods_saveStore_$self$$.$binding_$.saveBlob($JSCompiler_StaticMethods_saveStore_$self$$.$origin_$,
$blob$jscomp$8_store$jscomp$3$$)}).then($JSCompiler_StaticMethods_saveStore_$self$$.$broadcastReset_$.bind($JSCompiler_StaticMethods_saveStore_$self$$))}
function $JSCompiler_StaticMethods_listenToBroadcasts_$$($JSCompiler_StaticMethods_listenToBroadcasts_$self$$){$JSCompiler_StaticMethods_listenToBroadcasts_$self$$.$viewer_$.onBroadcast(function($message$jscomp$41$$){"amp-storage-reset"==$message$jscomp$41$$.type&&$message$jscomp$41$$.origin==$JSCompiler_StaticMethods_listenToBroadcasts_$self$$.$origin_$&&($JSCompiler_StaticMethods_listenToBroadcasts_$self$$.$storePromise_$=null)})}
$JSCompiler_prototypeAlias$$.$broadcastReset_$=function(){this.$viewer_$.broadcast({type:"amp-storage-reset",origin:this.$origin_$})};function $Store$$module$src$service$storage_impl$$($obj$jscomp$32$$){var $opt_maxValues$$;this.obj=$recreateNonProtoObject$$module$src$json$$($obj$jscomp$32$$);this.$maxValues_$=$opt_maxValues$$||8;this.$values_$=this.obj.vv||Object.create(null);this.obj.vv||(this.obj.vv=this.$values_$)}
$Store$$module$src$service$storage_impl$$.prototype.get=function($item$jscomp$6_name$jscomp$142$$){return($item$jscomp$6_name$jscomp$142$$=this.$values_$[$item$jscomp$6_name$jscomp$142$$])?$item$jscomp$6_name$jscomp$142$$.v:void 0};
$Store$$module$src$service$storage_impl$$.prototype.set=function($item$61_item$jscomp$7_name$jscomp$143$$,$keys$jscomp$1_value$jscomp$126$$,$i$jscomp$95_opt_isUpdate$jscomp$2$$){if(void 0!==this.$values_$[$item$61_item$jscomp$7_name$jscomp$143$$]){$item$61_item$jscomp$7_name$jscomp$143$$=this.$values_$[$item$61_item$jscomp$7_name$jscomp$143$$];var $timestamp$jscomp$1$$=Date.now();$i$jscomp$95_opt_isUpdate$jscomp$2$$&&($timestamp$jscomp$1$$=$item$61_item$jscomp$7_name$jscomp$143$$.t);$item$61_item$jscomp$7_name$jscomp$143$$.v=
$keys$jscomp$1_value$jscomp$126$$;$item$61_item$jscomp$7_name$jscomp$143$$.t=$timestamp$jscomp$1$$}else this.$values_$[$item$61_item$jscomp$7_name$jscomp$143$$]=$dict$$module$src$utils$object$$({v:$keys$jscomp$1_value$jscomp$126$$,t:Date.now()});$keys$jscomp$1_value$jscomp$126$$=Object.keys(this.$values_$);if($keys$jscomp$1_value$jscomp$126$$.length>this.$maxValues_$){var $minTime$$=Infinity,$minKey$$=null;for($i$jscomp$95_opt_isUpdate$jscomp$2$$=0;$i$jscomp$95_opt_isUpdate$jscomp$2$$<$keys$jscomp$1_value$jscomp$126$$.length;$i$jscomp$95_opt_isUpdate$jscomp$2$$++)$item$61_item$jscomp$7_name$jscomp$143$$=
this.$values_$[$keys$jscomp$1_value$jscomp$126$$[$i$jscomp$95_opt_isUpdate$jscomp$2$$]],$item$61_item$jscomp$7_name$jscomp$143$$.t<$minTime$$&&($minKey$$=$keys$jscomp$1_value$jscomp$126$$[$i$jscomp$95_opt_isUpdate$jscomp$2$$],$minTime$$=$item$61_item$jscomp$7_name$jscomp$143$$.t);$minKey$$&&delete this.$values_$[$minKey$$]}};$Store$$module$src$service$storage_impl$$.prototype.remove=function($name$jscomp$144$$){delete this.$values_$[$name$jscomp$144$$]};
function $LocalStorageBinding$$module$src$service$storage_impl$$($error$jscomp$26_win$jscomp$177$$){this.win=$error$jscomp$26_win$jscomp$177$$;try{if("localStorage"in this.win){this.win.localStorage.getItem("test");var $JSCompiler_inline_result$jscomp$162$$=!0}else $JSCompiler_inline_result$jscomp$162$$=!1}catch($JSCompiler_e$jscomp$inline_436$$){$JSCompiler_inline_result$jscomp$162$$=!1}this.$isLocalStorageSupported_$=$JSCompiler_inline_result$jscomp$162$$;this.$isLocalStorageSupported_$||($error$jscomp$26_win$jscomp$177$$=
Error("localStorage not supported."),$dev$$module$src$log$$().expectedError("Storage",$error$jscomp$26_win$jscomp$177$$))}$LocalStorageBinding$$module$src$service$storage_impl$$.prototype.loadBlob=function($origin$jscomp$8$$){var $$jscomp$this$jscomp$108$$=this;return new Promise(function($resolve$jscomp$27$$){$$jscomp$this$jscomp$108$$.$isLocalStorageSupported_$?$resolve$jscomp$27$$($$jscomp$this$jscomp$108$$.win.localStorage.getItem("amp-store:"+$origin$jscomp$8$$)):$resolve$jscomp$27$$(null)})};
$LocalStorageBinding$$module$src$service$storage_impl$$.prototype.saveBlob=function($origin$jscomp$9$$,$blob$jscomp$9$$){var $$jscomp$this$jscomp$109$$=this;return new Promise(function($resolve$jscomp$28$$){$$jscomp$this$jscomp$109$$.$isLocalStorageSupported_$&&$$jscomp$this$jscomp$109$$.win.localStorage.setItem("amp-store:"+$origin$jscomp$9$$,$blob$jscomp$9$$);$resolve$jscomp$28$$()})};
function $ViewerStorageBinding$$module$src$service$storage_impl$$($viewer$jscomp$15$$){this.$viewer_$=$viewer$jscomp$15$$}$ViewerStorageBinding$$module$src$service$storage_impl$$.prototype.loadBlob=function($origin$jscomp$10$$){return this.$viewer_$.sendMessageAwaitResponse("loadStore",$dict$$module$src$utils$object$$({origin:$origin$jscomp$10$$})).then(function($origin$jscomp$10$$){return $origin$jscomp$10$$.blob})};
$ViewerStorageBinding$$module$src$service$storage_impl$$.prototype.saveBlob=function($origin$jscomp$11$$,$blob$jscomp$10$$){return this.$viewer_$.sendMessageAwaitResponse("saveStore",$dict$$module$src$utils$object$$({origin:$origin$jscomp$11$$,blob:$blob$jscomp$10$$}))};
function $installStorageServiceForDoc$$module$src$service$storage_impl$$($ampdoc$jscomp$60$$){$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$60$$,"storage",function(){var $JSCompiler_StaticMethods_start_$self$jscomp$inline_438_viewer$jscomp$16$$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$60$$),$overrideStorage$$=parseInt($JSCompiler_StaticMethods_start_$self$jscomp$inline_438_viewer$jscomp$16$$.getParam("storage"),10),$binding$jscomp$3$$=$overrideStorage$$?new $ViewerStorageBinding$$module$src$service$storage_impl$$($JSCompiler_StaticMethods_start_$self$jscomp$inline_438_viewer$jscomp$16$$):
new $LocalStorageBinding$$module$src$service$storage_impl$$($ampdoc$jscomp$60$$.win);$JSCompiler_StaticMethods_start_$self$jscomp$inline_438_viewer$jscomp$16$$=new $Storage$$module$src$service$storage_impl$$($ampdoc$jscomp$60$$,$JSCompiler_StaticMethods_start_$self$jscomp$inline_438_viewer$jscomp$16$$,$binding$jscomp$3$$);$JSCompiler_StaticMethods_listenToBroadcasts_$$($JSCompiler_StaticMethods_start_$self$jscomp$inline_438_viewer$jscomp$16$$);return $JSCompiler_StaticMethods_start_$self$jscomp$inline_438_viewer$jscomp$16$$},
!0)};function $Url$$module$src$service$url_impl$$($ampdoc$jscomp$61_root$jscomp$13$$,$opt_rootNode$jscomp$1$$){$ampdoc$jscomp$61_root$jscomp$13$$=$opt_rootNode$jscomp$1$$||$ampdoc$jscomp$61_root$jscomp$13$$.getRootNode();this.$anchor_$=($ampdoc$jscomp$61_root$jscomp$13$$.ownerDocument||$ampdoc$jscomp$61_root$jscomp$13$$).createElement("a");this.$cache_$=new $LruCache$$module$src$utils$lru_cache$$}
$Url$$module$src$service$url_impl$$.installInEmbedWindow=function($embedWin$jscomp$8$$,$ampdoc$jscomp$62$$){$installServiceInEmbedScope$$module$src$service$$($embedWin$jscomp$8$$,"url",new $Url$$module$src$service$url_impl$$($ampdoc$jscomp$62$$,$embedWin$jscomp$8$$.document))};$JSCompiler_prototypeAlias$$=$Url$$module$src$service$url_impl$$.prototype;
$JSCompiler_prototypeAlias$$.parse=function($url$jscomp$72$$,$opt_nocache$jscomp$1$$){return $parseUrlWithA$$module$src$url$$(this.$anchor_$,$url$jscomp$72$$,$opt_nocache$jscomp$1$$?null:this.$cache_$)};$JSCompiler_prototypeAlias$$.isProtocolValid=function($url$jscomp$73$$){return $isProtocolValid$$module$src$url$$($url$jscomp$73$$)};$JSCompiler_prototypeAlias$$.getSourceOrigin=function($url$jscomp$74$$){return $getSourceOrigin$$module$src$url$$($url$jscomp$74$$)};
$JSCompiler_prototypeAlias$$.assertHttpsUrl=function($urlString$jscomp$3$$,$elementContext$jscomp$1$$,$sourceName$jscomp$1$$){return $assertHttpsUrl$$module$src$url$$($urlString$jscomp$3$$,$elementContext$jscomp$1$$,void 0===$sourceName$jscomp$1$$?"source":$sourceName$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.assertAbsoluteHttpOrHttpsUrl=function($urlString$jscomp$4$$){$userAssert$$module$src$log$$(/^https?:/i.test($urlString$jscomp$4$$),'URL must start with "http://" or "https://". Invalid value: %s',$urlString$jscomp$4$$);return $parseUrlDeprecated$$module$src$url$$($urlString$jscomp$4$$).href};$JSCompiler_prototypeAlias$$.isProxyOrigin=function($url$jscomp$75$$){return $isProxyOrigin$$module$src$url$$($url$jscomp$75$$)};$JSCompiler_prototypeAlias$$.isSecure=function($url$jscomp$76$$){return $isSecureUrlDeprecated$$module$src$url$$(this.parse($url$jscomp$76$$))};
$JSCompiler_prototypeAlias$$.getWinOrigin=function($win$jscomp$179$$){return $win$jscomp$179$$.origin||this.parse($win$jscomp$179$$.location.href).origin};
$JSCompiler_prototypeAlias$$.getCdnUrlOnOrigin=function($resourceUrl$$){if($isProxyOrigin$$module$src$url$$($resourceUrl$$))return $resourceUrl$$;var $$jscomp$destructuring$var103_search$jscomp$3$$=this.parse($resourceUrl$$),$host$$=$$jscomp$destructuring$var103_search$jscomp$3$$.host,$hash$jscomp$6$$=$$jscomp$destructuring$var103_search$jscomp$3$$.hash,$pathname$$=$$jscomp$destructuring$var103_search$jscomp$3$$.pathname;$$jscomp$destructuring$var103_search$jscomp$3$$=$$jscomp$destructuring$var103_search$jscomp$3$$.search;
var $encodedHost$$=encodeURIComponent($host$$);return $urls$$module$src$config$$.cdn+"/c/"+$encodedHost$$+$pathname$$+$$jscomp$destructuring$var103_search$jscomp$3$$+$hash$jscomp$6$$};function $getTimingDataAsync$$module$src$service$variable_source$$($win$jscomp$180$$,$startEvent$$,$endEvent$$){return $loadPromise$$module$src$event_helper$$($win$jscomp$180$$).then(function(){return $getTimingDataSync$$module$src$service$variable_source$$($win$jscomp$180$$,$startEvent$$,$endEvent$$)})}
function $getTimingDataSync$$module$src$service$variable_source$$($win$jscomp$181$$,$startEvent$jscomp$1$$,$endEvent$jscomp$1$$){var $timingInfo$$=$win$jscomp$181$$.performance&&$win$jscomp$181$$.performance.timing;if($timingInfo$$&&0!=$timingInfo$$.navigationStart){var $metric$$=void 0===$endEvent$jscomp$1$$?$timingInfo$$[$startEvent$jscomp$1$$]:$timingInfo$$[$endEvent$jscomp$1$$]-$timingInfo$$[$startEvent$jscomp$1$$];if($isFiniteNumber$$module$src$types$$($metric$$)&&!(0>$metric$$))return $metric$$}}
function $getNavigationData$$module$src$service$variable_source$$($win$jscomp$182$$,$attribute$jscomp$1$$){var $navigationInfo$$=$win$jscomp$182$$.performance&&$win$jscomp$182$$.performance.navigation;if($navigationInfo$$&&void 0!==$navigationInfo$$[$attribute$jscomp$1$$])return $navigationInfo$$[$attribute$jscomp$1$$]}
function $VariableSource$$module$src$service$variable_source$$($ampdoc$jscomp$64$$){this.ampdoc=$ampdoc$jscomp$64$$;this.$replacements_$=Object.create(null);this.$initialized_$=!1;$JSCompiler_StaticMethods_getUrlMacroWhitelist_$$(this)}$JSCompiler_prototypeAlias$$=$VariableSource$$module$src$service$variable_source$$.prototype;$JSCompiler_prototypeAlias$$.initialize=function(){};
$JSCompiler_prototypeAlias$$.get=function($name$jscomp$145$$){this.$initialized_$||(this.initialize(),this.$initialized_$=!0);return this.$replacements_$[$name$jscomp$145$$]};$JSCompiler_prototypeAlias$$.set=function($varName$jscomp$1$$,$syncResolver$$){this.$replacements_$[$varName$jscomp$1$$]=this.$replacements_$[$varName$jscomp$1$$]||{sync:void 0,async:void 0};this.$replacements_$[$varName$jscomp$1$$].sync=$syncResolver$$;return this};
$JSCompiler_prototypeAlias$$.setAsync=function($varName$jscomp$2$$,$asyncResolver$$){this.$replacements_$[$varName$jscomp$2$$]=this.$replacements_$[$varName$jscomp$2$$]||{sync:void 0,async:void 0};this.$replacements_$[$varName$jscomp$2$$].async=$asyncResolver$$;return this};$JSCompiler_prototypeAlias$$.setBoth=function($varName$jscomp$3$$,$syncResolver$jscomp$1$$,$asyncResolver$jscomp$1$$){return this.set($varName$jscomp$3$$,$syncResolver$jscomp$1$$).setAsync($varName$jscomp$3$$,$asyncResolver$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.getExpr=function($opt_bindings$$,$opt_whiteList$$){this.$initialized_$||(this.initialize(),this.$initialized_$=!0);var $all$$=Object.assign({},this.$replacements_$,$opt_bindings$$);return $JSCompiler_StaticMethods_buildExpr_$$(this,Object.keys($all$$),$opt_whiteList$$)};
function $JSCompiler_StaticMethods_buildExpr_$$($JSCompiler_StaticMethods_buildExpr_$self$$,$keys$jscomp$2$$,$opt_whiteList$jscomp$1$$){$JSCompiler_StaticMethods_getUrlMacroWhitelist_$$($JSCompiler_StaticMethods_buildExpr_$self$$)&&($keys$jscomp$2$$=$keys$jscomp$2$$.filter(function($keys$jscomp$2$$){return $JSCompiler_StaticMethods_getUrlMacroWhitelist_$$($JSCompiler_StaticMethods_buildExpr_$self$$).includes($keys$jscomp$2$$)}));$opt_whiteList$jscomp$1$$&&($keys$jscomp$2$$=$keys$jscomp$2$$.filter(function($JSCompiler_StaticMethods_buildExpr_$self$$){return $opt_whiteList$jscomp$1$$[$JSCompiler_StaticMethods_buildExpr_$self$$]}));
if(0===$keys$jscomp$2$$.length){var $regexThatMatchesNothing$$=/_^/g;return $regexThatMatchesNothing$$}$keys$jscomp$2$$.sort(function($JSCompiler_StaticMethods_buildExpr_$self$$,$keys$jscomp$2$$){return $keys$jscomp$2$$.length-$JSCompiler_StaticMethods_buildExpr_$self$$.length});var $regexStr$$="\\$?("+$keys$jscomp$2$$.map(function($JSCompiler_StaticMethods_buildExpr_$self$$){return"$"===$JSCompiler_StaticMethods_buildExpr_$self$$[0]?"\\"+$JSCompiler_StaticMethods_buildExpr_$self$$:$JSCompiler_StaticMethods_buildExpr_$self$$}).join("|")+
")";return new RegExp($regexStr$$,"g")}
function $JSCompiler_StaticMethods_getUrlMacroWhitelist_$$($JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$){if($JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.$variableWhitelist_$)return $JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.$variableWhitelist_$;var $head$jscomp$4_meta$jscomp$4$$=$JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.ampdoc.getRootNode().head;if(!$head$jscomp$4_meta$jscomp$4$$)return null;$head$jscomp$4_meta$jscomp$4$$=$head$jscomp$4_meta$jscomp$4$$.querySelector('meta[name="amp-allowed-url-macros"]');
if(!$head$jscomp$4_meta$jscomp$4$$)return null;$JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.$variableWhitelist_$=$head$jscomp$4_meta$jscomp$4$$.getAttribute("content").split(",").map(function($JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$){return $JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.trim()});return $JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.$variableWhitelist_$};var $NOENCODE_WHITELIST$$module$src$service$url_expander$expander$$={ANCESTOR_ORIGIN:!0};function $Expander$$module$src$service$url_expander$expander$$($variableSource$$,$opt_bindings$jscomp$1$$,$opt_collectVars$$,$opt_sync$$,$opt_whiteList$jscomp$2$$,$opt_noEncode$$){this.$variableSource_$=$variableSource$$;this.$bindings_$=$opt_bindings$jscomp$1$$;this.$collectVars_$=$opt_collectVars$$;this.$sync_$=$opt_sync$$;this.$whiteList_$=$opt_whiteList$jscomp$2$$;this.$encode_$=!$opt_noEncode$$}
$Expander$$module$src$service$url_expander$expander$$.prototype.expand=function($url$jscomp$77$$){if(!$url$jscomp$77$$.length)return this.$sync_$?$url$jscomp$77$$:Promise.resolve($url$jscomp$77$$);var $expr$jscomp$6_matches$jscomp$4$$=this.$variableSource_$.getExpr(this.$bindings_$,this.$whiteList_$);$expr$jscomp$6_matches$jscomp$4$$=$JSCompiler_StaticMethods_findMatches_$$($url$jscomp$77$$,$expr$jscomp$6_matches$jscomp$4$$);return $expr$jscomp$6_matches$jscomp$4$$.length?$JSCompiler_StaticMethods_parseUrlRecursively_$$(this,
$url$jscomp$77$$,$expr$jscomp$6_matches$jscomp$4$$):this.$sync_$?$url$jscomp$77$$:Promise.resolve($url$jscomp$77$$)};$Expander$$module$src$service$url_expander$expander$$.prototype.getMacroNames=function($matches$jscomp$5_url$jscomp$78$$){var $expr$jscomp$7$$=this.$variableSource_$.getExpr(this.$bindings_$,this.$whiteList_$);return($matches$jscomp$5_url$jscomp$78$$=$matches$jscomp$5_url$jscomp$78$$.match($expr$jscomp$7$$))?$matches$jscomp$5_url$jscomp$78$$:[]};
function $JSCompiler_StaticMethods_findMatches_$$($url$jscomp$79$$,$expression$jscomp$3$$){var $matches$jscomp$6$$=[];$url$jscomp$79$$.replace($expression$jscomp$3$$,function($url$jscomp$79$$,$expression$jscomp$3$$,$startPosition$$){$url$jscomp$79$$=$url$jscomp$79$$.length;var $length$jscomp$32_match$jscomp$4$$=$url$jscomp$79$$+$startPosition$$-1;$matches$jscomp$6$$.push({start:$startPosition$$,stop:$length$jscomp$32_match$jscomp$4$$,name:$expression$jscomp$3$$,length:$url$jscomp$79$$})});return $matches$jscomp$6$$}
function $JSCompiler_StaticMethods_parseUrlRecursively_$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$,$url$jscomp$80$$,$matches$jscomp$7$$){function $evaluateNextLevel$$($encode$$){for(var $builder$$="",$results$jscomp$2$$=[];$urlIndex$$<$url$jscomp$80$$.length&&$matchIndex$$<=$matches$jscomp$7$$.length;){if($match$jscomp$5$$&&$urlIndex$$===$match$jscomp$5$$.start){var $binding$62_binding$jscomp$4$$=void 0;$binding$62_binding$jscomp$4$$=$JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$bindings_$&&
$hasOwn_$$module$src$utils$object$$.call($JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$bindings_$,$match$jscomp$5$$.name)?{name:$match$jscomp$5$$.name,prioritized:$JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$bindings_$[$match$jscomp$5$$.name],encode:$encode$$}:Object.assign({},$JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$variableSource_$.get($match$jscomp$5$$.name),{name:$match$jscomp$5$$.name,encode:$encode$$});$urlIndex$$=$match$jscomp$5$$.stop+1;$match$jscomp$5$$=$matches$jscomp$7$$[++$matchIndex$$];
"("===$url$jscomp$80$$[$urlIndex$$]?($urlIndex$$++,$numOfPendingCalls$$++,$stack$jscomp$2$$.push($binding$62_binding$jscomp$4$$),$builder$$.trim().length&&$results$jscomp$2$$.push($builder$$),$results$jscomp$2$$.push($evaluateNextLevel$$(!1))):($builder$$.length&&$results$jscomp$2$$.push($builder$$),$results$jscomp$2$$.push($JSCompiler_StaticMethods_evaluateBinding_$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$,$binding$62_binding$jscomp$4$$)));$builder$$=""}else{if("`"===$url$jscomp$80$$[$urlIndex$$])$ignoringChars$$?
$ignoringChars$$=!1:($nextArgShouldBeRaw$$=$ignoringChars$$=!0,$userAssert$$module$src$log$$(""===$builder$$.trim(),'The substring "'+$builder$$+'" was lost during url-replacement. Please ensure the url syntax is correct'),$builder$$="");else if($numOfPendingCalls$$&&","===$url$jscomp$80$$[$urlIndex$$]&&!$ignoringChars$$){if($builder$$.length){var $nextArg$$=$nextArgShouldBeRaw$$?$builder$$:$builder$$.trim();$results$jscomp$2$$.push($nextArg$$);$nextArgShouldBeRaw$$=!1}","===$url$jscomp$80$$[$urlIndex$$+
1]&&($results$jscomp$2$$.push(""),$urlIndex$$++);$builder$$=""}else{if($numOfPendingCalls$$&&")"===$url$jscomp$80$$[$urlIndex$$]&&!$ignoringChars$$)return $urlIndex$$++,$numOfPendingCalls$$--,$binding$62_binding$jscomp$4$$=$stack$jscomp$2$$.pop(),$results$jscomp$2$$.push($nextArgShouldBeRaw$$?$builder$$:$builder$$.trim()),$nextArgShouldBeRaw$$=!1,$JSCompiler_StaticMethods_evaluateBinding_$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$,$binding$62_binding$jscomp$4$$,$results$jscomp$2$$);$builder$$+=
$url$jscomp$80$$[$urlIndex$$]}$urlIndex$$++}$urlIndex$$===$url$jscomp$80$$.length&&$builder$$.length&&$results$jscomp$2$$.push($builder$$)}return $JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$sync_$?$results$jscomp$2$$.join(""):Promise.all($results$jscomp$2$$).then(function($JSCompiler_StaticMethods_parseUrlRecursively_$self$$){return $JSCompiler_StaticMethods_parseUrlRecursively_$self$$.join("")}).catch(function($JSCompiler_StaticMethods_parseUrlRecursively_$self$$){$rethrowAsync$$module$src$log$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$);
return""})}var $stack$jscomp$2$$=[],$urlIndex$$=0,$matchIndex$$=0,$match$jscomp$5$$=$matches$jscomp$7$$[$matchIndex$$],$numOfPendingCalls$$=0,$ignoringChars$$=!1,$nextArgShouldBeRaw$$=!1;return $evaluateNextLevel$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$encode_$)}
function $JSCompiler_StaticMethods_evaluateBinding_$$($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$5$$,$bindingInfo$$,$opt_args$jscomp$4$$){var $$jscomp$destructuring$var106_name$jscomp$147$$=$bindingInfo$$,$encode$jscomp$1$$=$$jscomp$destructuring$var106_name$jscomp$147$$.encode;$$jscomp$destructuring$var106_name$jscomp$147$$=$$jscomp$destructuring$var106_name$jscomp$147$$.name;if($hasOwn_$$module$src$utils$object$$.call($bindingInfo$$,"prioritized"))var $binding$jscomp$5$$=$bindingInfo$$.prioritized;
else $JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$5$$.$sync_$&&$hasOwn_$$module$src$utils$object$$.call($bindingInfo$$,"sync")?$binding$jscomp$5$$=$bindingInfo$$.sync:$JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$5$$.$sync_$?($user$$module$src$log$$().error("Expander","ignoring async replacement key: ",$bindingInfo$$.name),$binding$jscomp$5$$=""):$binding$jscomp$5$$=$bindingInfo$$.async||$bindingInfo$$.sync;var $shouldEncode$$=$encode$jscomp$1$$&&!$NOENCODE_WHITELIST$$module$src$service$url_expander$expander$$[$$jscomp$destructuring$var106_name$jscomp$147$$];
return $JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$5$$.$sync_$?($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$5$$=$JSCompiler_StaticMethods_evaluateBindingSync_$$($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$5$$,$binding$jscomp$5$$,$$jscomp$destructuring$var106_name$jscomp$147$$,$opt_args$jscomp$4$$),$shouldEncode$$?encodeURIComponent($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$5$$):$JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$5$$):
$JSCompiler_StaticMethods_evaluateBindingAsync_$$($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$5$$,$binding$jscomp$5$$,$$jscomp$destructuring$var106_name$jscomp$147$$,$opt_args$jscomp$4$$).then(function($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$5$$){return $shouldEncode$$?encodeURIComponent($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$5$$):$JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$5$$})}
function $JSCompiler_StaticMethods_evaluateBindingAsync_$$($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$,$binding$jscomp$6$$,$name$jscomp$148$$,$opt_args$jscomp$5$$){try{var $value$jscomp$128$$="function"===typeof $binding$jscomp$6$$?$opt_args$jscomp$5$$?Promise.all($opt_args$jscomp$5$$).then(function($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$){return $binding$jscomp$6$$.apply(null,$JSCompiler_StaticMethods_evaluateBindingAsync_$self$$)}):$tryResolve$$module$src$utils$promise$$($binding$jscomp$6$$):
Promise.resolve($binding$jscomp$6$$);return $value$jscomp$128$$.then(function($binding$jscomp$6$$){$JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$,$name$jscomp$148$$,$binding$jscomp$6$$,$opt_args$jscomp$5$$);return null==$binding$jscomp$6$$?"":$binding$jscomp$6$$}).catch(function($binding$jscomp$6$$){$rethrowAsync$$module$src$log$$($binding$jscomp$6$$);$JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$,
$name$jscomp$148$$,"",$opt_args$jscomp$5$$);return Promise.resolve("")})}catch($e$jscomp$78$$){return $rethrowAsync$$module$src$log$$($e$jscomp$78$$),$JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$,$name$jscomp$148$$,"",$opt_args$jscomp$5$$),Promise.resolve("")}}
function $JSCompiler_StaticMethods_evaluateBindingSync_$$($JSCompiler_StaticMethods_evaluateBindingSync_$self$$,$binding$jscomp$7$$,$name$jscomp$149$$,$opt_args$jscomp$6$$){try{var $value$jscomp$129$$="function"===typeof $binding$jscomp$7$$?$binding$jscomp$7$$.apply(null,$opt_args$jscomp$6$$):$binding$jscomp$7$$;if($value$jscomp$129$$&&$value$jscomp$129$$.then){$user$$module$src$log$$().error("Expander","ignoring async macro resolution");var $result$jscomp$8$$=""}else"string"===typeof $value$jscomp$129$$||
"number"===typeof $value$jscomp$129$$||"boolean"===typeof $value$jscomp$129$$?($JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingSync_$self$$,$name$jscomp$149$$,$value$jscomp$129$$,$opt_args$jscomp$6$$),$result$jscomp$8$$=$value$jscomp$129$$.toString()):($JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingSync_$self$$,$name$jscomp$149$$,"",$opt_args$jscomp$6$$),$result$jscomp$8$$="");return $result$jscomp$8$$}catch($e$jscomp$79$$){return $rethrowAsync$$module$src$log$$($e$jscomp$79$$),
$JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingSync_$self$$,$name$jscomp$149$$,"",$opt_args$jscomp$6$$),""}}
function $JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_maybeCollectVars_$self$$,$name$jscomp$150$$,$value$jscomp$130$$,$opt_args$jscomp$7$$){if($JSCompiler_StaticMethods_maybeCollectVars_$self$$.$collectVars_$){var $args$jscomp$15$$="";if($opt_args$jscomp$7$$){var $rawArgs$$=$opt_args$jscomp$7$$.filter(function($JSCompiler_StaticMethods_maybeCollectVars_$self$$){return""!==$JSCompiler_StaticMethods_maybeCollectVars_$self$$}).join(",");$args$jscomp$15$$="("+$rawArgs$$+")"}$JSCompiler_StaticMethods_maybeCollectVars_$self$$.$collectVars_$[""+
$name$jscomp$150$$+$args$jscomp$15$$]=$value$jscomp$130$$||""}};function $dateMethod$$module$src$service$url_replacements_impl$$($method$jscomp$14$$){return function(){return(new Date)[$method$jscomp$14$$]()}}function $screenProperty$$module$src$service$url_replacements_impl$$($screen$jscomp$1$$,$property$jscomp$6$$){return function(){return $screen$jscomp$1$$[$property$jscomp$6$$]}}
function $GlobalVariableSource$$module$src$service$url_replacements_impl$$($ampdoc$jscomp$65$$){$VariableSource$$module$src$service$variable_source$$.call(this,$ampdoc$jscomp$65$$);this.$shareTrackingFragments_$=null}$$jscomp$inherits$$($GlobalVariableSource$$module$src$service$url_replacements_impl$$,$VariableSource$$module$src$service$variable_source$$);
function $JSCompiler_StaticMethods_setTimingResolver_$$($JSCompiler_StaticMethods_setTimingResolver_$self$$,$varName$jscomp$4$$,$startEvent$jscomp$2$$,$endEvent$jscomp$2$$){$JSCompiler_StaticMethods_setTimingResolver_$self$$.setBoth($varName$jscomp$4$$,function(){return $getTimingDataSync$$module$src$service$variable_source$$($JSCompiler_StaticMethods_setTimingResolver_$self$$.ampdoc.win,$startEvent$jscomp$2$$,$endEvent$jscomp$2$$)},function(){return $getTimingDataAsync$$module$src$service$variable_source$$($JSCompiler_StaticMethods_setTimingResolver_$self$$.ampdoc.win,
$startEvent$jscomp$2$$,$endEvent$jscomp$2$$)})}
$GlobalVariableSource$$module$src$service$url_replacements_impl$$.prototype.initialize=function(){function $expandSourceUrl$$(){var $expandSourceUrl$$=$Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$118$$.ampdoc);return $removeFragment$$module$src$url$$($JSCompiler_StaticMethods_addReplaceParamsIfMissing_$$($$jscomp$this$jscomp$118$$,$expandSourceUrl$$.sourceUrl))}var $$jscomp$this$jscomp$118$$=this,$win$jscomp$183$$=this.ampdoc.win,$element$jscomp$161$$=this.ampdoc.getHeadNode(),
$viewport$jscomp$6$$=$Services$$module$src$services$viewportForDoc$$(this.ampdoc);this.set("RANDOM",function(){return Math.random()});var $counterStore$$=Object.create(null);this.set("COUNTER",function($expandSourceUrl$$){return $counterStore$$[$expandSourceUrl$$]=($counterStore$$[$expandSourceUrl$$]|0)+1});this.set("CANONICAL_URL",function(){return $Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).canonicalUrl});this.set("CANONICAL_HOST",function(){return $parseUrlDeprecated$$module$src$url$$($Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).canonicalUrl).host});
this.set("CANONICAL_HOSTNAME",function(){return $parseUrlDeprecated$$module$src$url$$($Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).canonicalUrl).hostname});this.set("CANONICAL_PATH",function(){return $parseUrlDeprecated$$module$src$url$$($Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).canonicalUrl).pathname});this.setAsync("DOCUMENT_REFERRER",function(){return $Services$$module$src$services$viewerForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).getReferrerUrl()});
this.setAsync("EXTERNAL_REFERRER",function(){return $Services$$module$src$services$viewerForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).getReferrerUrl().then(function($expandSourceUrl$$){if(!$expandSourceUrl$$)return null;var $$jscomp$this$jscomp$118$$=$parseUrlDeprecated$$module$src$url$$($getSourceUrl$$module$src$url$$($expandSourceUrl$$)).hostname,$element$jscomp$161$$=$win$jscomp$183$$.location.hostname;return $$jscomp$this$jscomp$118$$===$element$jscomp$161$$?null:$expandSourceUrl$$})});this.set("TITLE",
function(){var $expandSourceUrl$$=$win$jscomp$183$$.document;return $expandSourceUrl$$.originalTitle||$expandSourceUrl$$.title});this.set("AMPDOC_URL",function(){return $removeFragment$$module$src$url$$($JSCompiler_StaticMethods_addReplaceParamsIfMissing_$$($$jscomp$this$jscomp$118$$,$win$jscomp$183$$.location.href))});this.set("AMPDOC_HOST",function(){var $expandSourceUrl$$=$parseUrlDeprecated$$module$src$url$$($win$jscomp$183$$.location.href);return $expandSourceUrl$$&&$expandSourceUrl$$.host});
this.set("AMPDOC_HOSTNAME",function(){var $expandSourceUrl$$=$parseUrlDeprecated$$module$src$url$$($win$jscomp$183$$.location.href);return $expandSourceUrl$$&&$expandSourceUrl$$.hostname});this.setBoth("SOURCE_URL",function(){return $expandSourceUrl$$()},function(){return $getTrackImpressionPromise$$module$src$impression$$().then(function(){return $expandSourceUrl$$()})});this.set("SOURCE_HOST",function(){return $parseUrlDeprecated$$module$src$url$$($Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).sourceUrl).host});
this.set("SOURCE_HOSTNAME",function(){return $parseUrlDeprecated$$module$src$url$$($Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).sourceUrl).hostname});this.set("SOURCE_PATH",function(){return $parseUrlDeprecated$$module$src$url$$($Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).sourceUrl).pathname});this.set("PAGE_VIEW_ID",function(){return $Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).pageViewId});
this.setBoth("QUERY_PARAM",function($expandSourceUrl$$,$win$jscomp$183$$){return $JSCompiler_StaticMethods_getQueryParamData_$$($$jscomp$this$jscomp$118$$,$expandSourceUrl$$,void 0===$win$jscomp$183$$?"":$win$jscomp$183$$)},function($expandSourceUrl$$,$win$jscomp$183$$){$win$jscomp$183$$=void 0===$win$jscomp$183$$?"":$win$jscomp$183$$;return $getTrackImpressionPromise$$module$src$impression$$().then(function(){return $JSCompiler_StaticMethods_getQueryParamData_$$($$jscomp$this$jscomp$118$$,$expandSourceUrl$$,
$win$jscomp$183$$)})});this.setAsync("FRAGMENT_PARAM",$JSCompiler_StaticMethods_getViewerIntegrationValue_$$(this,"fragmentParam","FRAGMENT_PARAM"));this.setAsync("ANCESTOR_ORIGIN",$JSCompiler_StaticMethods_getViewerIntegrationValue_$$(this,"ancestorOrigin","ANCESTOR_ORIGIN"));var $clientIds$$=null;this.setBoth("CLIENT_ID",function($expandSourceUrl$$){return $clientIds$$?$clientIds$$[$expandSourceUrl$$]:null},function($expandSourceUrl$$,$win$jscomp$183$$,$viewport$jscomp$6$$){$user$$module$src$log$$().assertString($expandSourceUrl$$,
"The first argument to CLIENT_ID, the fallback Cookie name, is required");if("inabox"==$getMode$$module$src$mode$$().runtime)return Promise.resolve(null);var $counterStore$$=Promise.resolve();$win$jscomp$183$$&&($counterStore$$=$getElementServiceForDoc$$module$src$element_service$$($element$jscomp$161$$,"userNotificationManager","amp-user-notification").then(function($expandSourceUrl$$){return $expandSourceUrl$$.get($win$jscomp$183$$)}));return $getServicePromiseForDoc$$module$src$service$$($$jscomp$this$jscomp$118$$.ampdoc,
"cid").then(function($$jscomp$this$jscomp$118$$){return $$jscomp$this$jscomp$118$$.get({scope:$expandSourceUrl$$,createCookieIfNotPresent:!0,cookieName:$viewport$jscomp$6$$},$counterStore$$)}).then(function($$jscomp$this$jscomp$118$$){$clientIds$$||($clientIds$$=Object.create(null));var $win$jscomp$183$$=$viewport$jscomp$6$$||$expandSourceUrl$$;$$jscomp$this$jscomp$118$$&&"_ga"==$win$jscomp$183$$&&("string"===typeof $$jscomp$this$jscomp$118$$?$$jscomp$this$jscomp$118$$=$$jscomp$this$jscomp$118$$.replace(/^(GA1|1)\.[\d-]+\./,
""):$dev$$module$src$log$$().error("UrlReplacements","non-string cid, what is it?",Object.keys($$jscomp$this$jscomp$118$$)));return $clientIds$$[$expandSourceUrl$$]=$$jscomp$this$jscomp$118$$})});this.setAsync("VARIANT",function($expandSourceUrl$$){return $JSCompiler_StaticMethods_getVariantsValue_$$($$jscomp$this$jscomp$118$$,function($$jscomp$this$jscomp$118$$){var $win$jscomp$183$$=$$jscomp$this$jscomp$118$$[$expandSourceUrl$$];$userAssert$$module$src$log$$(void 0!==$win$jscomp$183$$,"The value passed to VARIANT() is not a valid experiment name:"+
$expandSourceUrl$$);return null===$win$jscomp$183$$?"none":$win$jscomp$183$$},"VARIANT")});this.setAsync("VARIANTS",function(){return $JSCompiler_StaticMethods_getVariantsValue_$$($$jscomp$this$jscomp$118$$,function($expandSourceUrl$$){var $$jscomp$this$jscomp$118$$=[],$win$jscomp$183$$;for($win$jscomp$183$$ in $expandSourceUrl$$)$$jscomp$this$jscomp$118$$.push($win$jscomp$183$$+"."+($expandSourceUrl$$[$win$jscomp$183$$]||"none"));return $$jscomp$this$jscomp$118$$.join("!")},"VARIANTS")});this.setAsync("AMP_GEO",
function($expandSourceUrl$$){return $JSCompiler_StaticMethods_getGeo_$$($$jscomp$this$jscomp$118$$,function($$jscomp$this$jscomp$118$$){return $expandSourceUrl$$?($userAssert$$module$src$log$$("ISOCountry"===$expandSourceUrl$$,"The value passed to AMP_GEO() is not valid name:"+$expandSourceUrl$$),$$jscomp$this$jscomp$118$$[$expandSourceUrl$$]||"unknown"):$$jscomp$this$jscomp$118$$.matchedISOCountryGroups.join(",")})});this.setAsync("SHARE_TRACKING_INCOMING",function(){return $JSCompiler_StaticMethods_getShareTrackingValue_$$($$jscomp$this$jscomp$118$$,
function($expandSourceUrl$$){return $expandSourceUrl$$.incomingFragment},"SHARE_TRACKING_INCOMING")});this.setAsync("SHARE_TRACKING_OUTGOING",function(){return $JSCompiler_StaticMethods_getShareTrackingValue_$$($$jscomp$this$jscomp$118$$,function($expandSourceUrl$$){return $expandSourceUrl$$.outgoingFragment},"SHARE_TRACKING_OUTGOING")});this.set("TIMESTAMP",$dateMethod$$module$src$service$url_replacements_impl$$("getTime"));this.set("TIMESTAMP_ISO",$dateMethod$$module$src$service$url_replacements_impl$$("toISOString"));
this.set("TIMEZONE",$dateMethod$$module$src$service$url_replacements_impl$$("getTimezoneOffset"));this.set("TIMEZONE_CODE",function(){if("Intl"in $win$jscomp$183$$&&"DateTimeFormat"in $win$jscomp$183$$.Intl)var $expandSourceUrl$$=(new Intl.DateTimeFormat).resolvedOptions().timeZone;return $expandSourceUrl$$||""});this.set("SCROLL_TOP",function(){return $viewport$jscomp$6$$.getScrollTop()});this.set("SCROLL_LEFT",function(){return $viewport$jscomp$6$$.getScrollLeft()});this.set("SCROLL_HEIGHT",function(){return $viewport$jscomp$6$$.getScrollHeight()});
this.set("SCROLL_WIDTH",function(){return $viewport$jscomp$6$$.getScrollWidth()});this.set("VIEWPORT_HEIGHT",function(){return $viewport$jscomp$6$$.getHeight()});this.set("VIEWPORT_WIDTH",function(){return $viewport$jscomp$6$$.getWidth()});var $screen$jscomp$2$$=$win$jscomp$183$$.screen;this.set("SCREEN_WIDTH",$screenProperty$$module$src$service$url_replacements_impl$$($screen$jscomp$2$$,"width"));this.set("SCREEN_HEIGHT",$screenProperty$$module$src$service$url_replacements_impl$$($screen$jscomp$2$$,
"height"));this.set("AVAILABLE_SCREEN_HEIGHT",$screenProperty$$module$src$service$url_replacements_impl$$($screen$jscomp$2$$,"availHeight"));this.set("AVAILABLE_SCREEN_WIDTH",$screenProperty$$module$src$service$url_replacements_impl$$($screen$jscomp$2$$,"availWidth"));this.set("SCREEN_COLOR_DEPTH",$screenProperty$$module$src$service$url_replacements_impl$$($screen$jscomp$2$$,"colorDepth"));this.set("DOCUMENT_CHARSET",function(){var $expandSourceUrl$$=$win$jscomp$183$$.document;return $expandSourceUrl$$.characterSet||
$expandSourceUrl$$.charset});this.set("BROWSER_LANGUAGE",function(){var $expandSourceUrl$$=$win$jscomp$183$$.navigator;return($expandSourceUrl$$.language||$expandSourceUrl$$.userLanguage||$expandSourceUrl$$.browserLanguage||"").toLowerCase()});this.set("USER_AGENT",function(){return $win$jscomp$183$$.navigator.userAgent});$JSCompiler_StaticMethods_setTimingResolver_$$(this,"PAGE_LOAD_TIME","navigationStart","loadEventStart");$JSCompiler_StaticMethods_setTimingResolver_$$(this,"DOMAIN_LOOKUP_TIME",
"domainLookupStart","domainLookupEnd");$JSCompiler_StaticMethods_setTimingResolver_$$(this,"TCP_CONNECT_TIME","connectStart","connectEnd");$JSCompiler_StaticMethods_setTimingResolver_$$(this,"SERVER_RESPONSE_TIME","requestStart","responseStart");$JSCompiler_StaticMethods_setTimingResolver_$$(this,"PAGE_DOWNLOAD_TIME","responseStart","responseEnd");$JSCompiler_StaticMethods_setTimingResolver_$$(this,"REDIRECT_TIME","navigationStart","fetchStart");$JSCompiler_StaticMethods_setTimingResolver_$$(this,
"DOM_INTERACTIVE_TIME","navigationStart","domInteractive");$JSCompiler_StaticMethods_setTimingResolver_$$(this,"CONTENT_LOAD_TIME","navigationStart","domContentLoadedEventStart");this.setAsync("ACCESS_READER_ID",function(){return $JSCompiler_StaticMethods_getAccessValue_$$($$jscomp$this$jscomp$118$$,function($expandSourceUrl$$){return $expandSourceUrl$$.getAccessReaderId()},"ACCESS_READER_ID")});this.setAsync("AUTHDATA",function($expandSourceUrl$$){$userAssert$$module$src$log$$($expandSourceUrl$$,
"The first argument to AUTHDATA, the field, is required");return $JSCompiler_StaticMethods_getAccessValue_$$($$jscomp$this$jscomp$118$$,function($$jscomp$this$jscomp$118$$){return $$jscomp$this$jscomp$118$$.getAuthdataField($expandSourceUrl$$)},"AUTHDATA")});this.setAsync("VIEWER",function(){return $Services$$module$src$services$viewerForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).getViewerOrigin().then(function($expandSourceUrl$$){return void 0==$expandSourceUrl$$?"":$expandSourceUrl$$})});this.setAsync("TOTAL_ENGAGED_TIME",
function(){return $getElementServiceForDoc$$module$src$element_service$$($element$jscomp$161$$,"activity","amp-analytics").then(function($expandSourceUrl$$){return $expandSourceUrl$$.getTotalEngagedTime()})});this.setAsync("INCREMENTAL_ENGAGED_TIME",function($expandSourceUrl$$,$$jscomp$this$jscomp$118$$){return $getElementServiceForDoc$$module$src$element_service$$($element$jscomp$161$$,"activity","amp-analytics").then(function($win$jscomp$183$$){return $win$jscomp$183$$.getIncrementalEngagedTime($expandSourceUrl$$,
"false"!==$$jscomp$this$jscomp$118$$)})});this.set("NAV_TIMING",function($expandSourceUrl$$,$$jscomp$this$jscomp$118$$){$userAssert$$module$src$log$$($expandSourceUrl$$,"The first argument to NAV_TIMING, the start attribute name, is required");return $getTimingDataSync$$module$src$service$variable_source$$($win$jscomp$183$$,$expandSourceUrl$$,$$jscomp$this$jscomp$118$$)});this.setAsync("NAV_TIMING",function($expandSourceUrl$$,$$jscomp$this$jscomp$118$$){$userAssert$$module$src$log$$($expandSourceUrl$$,
"The first argument to NAV_TIMING, the start attribute name, is required");return $getTimingDataAsync$$module$src$service$variable_source$$($win$jscomp$183$$,$expandSourceUrl$$,$$jscomp$this$jscomp$118$$)});this.set("NAV_TYPE",function(){return $getNavigationData$$module$src$service$variable_source$$($win$jscomp$183$$,"type")});this.set("NAV_REDIRECT_COUNT",function(){return $getNavigationData$$module$src$service$variable_source$$($win$jscomp$183$$,"redirectCount")});this.set("AMP_VERSION",function(){return"1904281823091"});
this.set("BACKGROUND_STATE",function(){return $Services$$module$src$services$viewerForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).isVisible()?"0":"1"});this.setAsync("VIDEO_STATE",function($expandSourceUrl$$,$win$jscomp$183$$){var $element$jscomp$161$$=$$jscomp$this$jscomp$118$$.ampdoc.getRootNode(),$viewport$jscomp$6$$=$user$$module$src$log$$().assertElement($element$jscomp$161$$.getElementById($expandSourceUrl$$),'Could not find an element with id="'+$expandSourceUrl$$+'" for VIDEO_STATE');return $getServiceForDoc$$module$src$service$$($$jscomp$this$jscomp$118$$.ampdoc,
"video-manager").getAnalyticsDetails($viewport$jscomp$6$$).then(function($expandSourceUrl$$){return $expandSourceUrl$$?$expandSourceUrl$$[$win$jscomp$183$$]:""})});this.setAsync("STORY_PAGE_INDEX",$JSCompiler_StaticMethods_getStoryValue_$$(this,"pageIndex","STORY_PAGE_INDEX"));this.setAsync("STORY_PAGE_ID",$JSCompiler_StaticMethods_getStoryValue_$$(this,"pageId","STORY_PAGE_ID"));this.setAsync("FIRST_CONTENTFUL_PAINT",function(){return $tryResolve$$module$src$utils$promise$$(function(){return $getService$$module$src$service$$($win$jscomp$183$$,
"performance").getFirstContentfulPaint()})});this.setAsync("FIRST_VIEWPORT_READY",function(){return $tryResolve$$module$src$utils$promise$$(function(){return $getService$$module$src$service$$($win$jscomp$183$$,"performance").getFirstViewportReady()})});this.setAsync("MAKE_BODY_VISIBLE",function(){return $tryResolve$$module$src$utils$promise$$(function(){return $getService$$module$src$service$$($win$jscomp$183$$,"performance").getMakeBodyVisible()})});this.setAsync("AMP_STATE",function($expandSourceUrl$$){var $win$jscomp$183$$=
$$jscomp$this$jscomp$118$$.ampdoc.getRootNode();return $getElementServiceIfAvailableForDocInEmbedScope$$module$src$element_service$$($win$jscomp$183$$.documentElement||$win$jscomp$183$$).then(function($$jscomp$this$jscomp$118$$){return $$jscomp$this$jscomp$118$$?$$jscomp$this$jscomp$118$$.getStateValue($expandSourceUrl$$):""})})};
function $JSCompiler_StaticMethods_addReplaceParamsIfMissing_$$($JSCompiler_StaticMethods_addReplaceParamsIfMissing_$self_JSCompiler_temp$jscomp$125_replaceParams$jscomp$1$$,$orig$$){if($JSCompiler_StaticMethods_addReplaceParamsIfMissing_$self_JSCompiler_temp$jscomp$125_replaceParams$jscomp$1$$=$Services$$module$src$services$documentInfoForDoc$$($JSCompiler_StaticMethods_addReplaceParamsIfMissing_$self_JSCompiler_temp$jscomp$125_replaceParams$jscomp$1$$.ampdoc).replaceParams){var $JSCompiler_url$jscomp$inline_446$$=
$removeAmpJsParamsFromUrl$$module$src$url$$($orig$$),$JSCompiler_existingParams$jscomp$inline_449_JSCompiler_location$jscomp$inline_448$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_url$jscomp$inline_446$$);$JSCompiler_existingParams$jscomp$inline_449_JSCompiler_location$jscomp$inline_448$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_existingParams$jscomp$inline_449_JSCompiler_location$jscomp$inline_448$$.search);for(var $JSCompiler_paramsToAdd$jscomp$inline_450$$=$dict$$module$src$utils$object$$({}),
$JSCompiler_keys$jscomp$inline_451$$=Object.keys($JSCompiler_StaticMethods_addReplaceParamsIfMissing_$self_JSCompiler_temp$jscomp$125_replaceParams$jscomp$1$$),$JSCompiler_i$jscomp$inline_452$$=0;$JSCompiler_i$jscomp$inline_452$$<$JSCompiler_keys$jscomp$inline_451$$.length;$JSCompiler_i$jscomp$inline_452$$++)$hasOwn_$$module$src$utils$object$$.call($JSCompiler_existingParams$jscomp$inline_449_JSCompiler_location$jscomp$inline_448$$,$JSCompiler_keys$jscomp$inline_451$$[$JSCompiler_i$jscomp$inline_452$$])||
($JSCompiler_paramsToAdd$jscomp$inline_450$$[$JSCompiler_keys$jscomp$inline_451$$[$JSCompiler_i$jscomp$inline_452$$]]=$JSCompiler_StaticMethods_addReplaceParamsIfMissing_$self_JSCompiler_temp$jscomp$125_replaceParams$jscomp$1$$[$JSCompiler_keys$jscomp$inline_451$$[$JSCompiler_i$jscomp$inline_452$$]]);$JSCompiler_StaticMethods_addReplaceParamsIfMissing_$self_JSCompiler_temp$jscomp$125_replaceParams$jscomp$1$$=$addParamsToUrl$$module$src$url$$($JSCompiler_url$jscomp$inline_446$$,$JSCompiler_paramsToAdd$jscomp$inline_450$$)}else $JSCompiler_StaticMethods_addReplaceParamsIfMissing_$self_JSCompiler_temp$jscomp$125_replaceParams$jscomp$1$$=
$orig$$;return $JSCompiler_StaticMethods_addReplaceParamsIfMissing_$self_JSCompiler_temp$jscomp$125_replaceParams$jscomp$1$$}
function $JSCompiler_StaticMethods_getAccessValue_$$($JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$,$getter$jscomp$1$$,$expr$jscomp$8$$){$JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$=$JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$.ampdoc.getHeadNode();return Promise.all([$getElementServiceIfAvailableForDoc$$module$src$element_service$$($JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$,"access","amp-access"),$getElementServiceIfAvailableForDoc$$module$src$element_service$$($JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$,
"subscriptions","amp-subscriptions")]).then(function($JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$){$JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$=$JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$[0]||$JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$[1];return $JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$?$getter$jscomp$1$$($JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$):($user$$module$src$log$$().error("UrlReplacements",
"Access or subsciptions service is not installed to access: ",$expr$jscomp$8$$),null)})}
function $JSCompiler_StaticMethods_getQueryParamData_$$($JSCompiler_StaticMethods_getQueryParamData_$self_replaceParams$jscomp$2$$,$key$jscomp$65_param$jscomp$11$$,$defaultValue$jscomp$4$$){$userAssert$$module$src$log$$($key$jscomp$65_param$jscomp$11$$,"The first argument to QUERY_PARAM, the query string param is required");var $params$jscomp$10_url$jscomp$83$$=$parseUrlDeprecated$$module$src$url$$($removeAmpJsParamsFromUrl$$module$src$url$$($JSCompiler_StaticMethods_getQueryParamData_$self_replaceParams$jscomp$2$$.ampdoc.win.location.href));$params$jscomp$10_url$jscomp$83$$=
$parseQueryString_$$module$src$url_parse_query_string$$($params$jscomp$10_url$jscomp$83$$.search);$key$jscomp$65_param$jscomp$11$$=$user$$module$src$log$$().assertString($key$jscomp$65_param$jscomp$11$$);$JSCompiler_StaticMethods_getQueryParamData_$self_replaceParams$jscomp$2$$=$Services$$module$src$services$documentInfoForDoc$$($JSCompiler_StaticMethods_getQueryParamData_$self_replaceParams$jscomp$2$$.ampdoc).replaceParams;return"undefined"!==typeof $params$jscomp$10_url$jscomp$83$$[$key$jscomp$65_param$jscomp$11$$]?
$params$jscomp$10_url$jscomp$83$$[$key$jscomp$65_param$jscomp$11$$]:$JSCompiler_StaticMethods_getQueryParamData_$self_replaceParams$jscomp$2$$&&"undefined"!==typeof $JSCompiler_StaticMethods_getQueryParamData_$self_replaceParams$jscomp$2$$[$key$jscomp$65_param$jscomp$11$$]?$JSCompiler_StaticMethods_getQueryParamData_$self_replaceParams$jscomp$2$$[$key$jscomp$65_param$jscomp$11$$]:$defaultValue$jscomp$4$$}
function $JSCompiler_StaticMethods_getVariantsValue_$$($JSCompiler_StaticMethods_getVariantsValue_$self$$,$getter$jscomp$2$$,$expr$jscomp$9$$){return $getElementServiceIfAvailableForDoc$$module$src$element_service$$($JSCompiler_StaticMethods_getVariantsValue_$self$$.ampdoc.getHeadNode(),"variant","amp-experiment",!0).then(function($JSCompiler_StaticMethods_getVariantsValue_$self$$){$userAssert$$module$src$log$$($JSCompiler_StaticMethods_getVariantsValue_$self$$,"To use variable %s, amp-experiment should be configured",
$expr$jscomp$9$$);return $JSCompiler_StaticMethods_getVariantsValue_$self$$.getVariants()}).then(function($JSCompiler_StaticMethods_getVariantsValue_$self$$){return $getter$jscomp$2$$($JSCompiler_StaticMethods_getVariantsValue_$self$$)})}
function $JSCompiler_StaticMethods_getGeo_$$($JSCompiler_StaticMethods_getGeo_$self_element$jscomp$164$$,$getter$jscomp$3$$){$JSCompiler_StaticMethods_getGeo_$self_element$jscomp$164$$=$JSCompiler_StaticMethods_getGeo_$self_element$jscomp$164$$.ampdoc.getHeadNode();return $getElementServiceIfAvailableForDoc$$module$src$element_service$$($JSCompiler_StaticMethods_getGeo_$self_element$jscomp$164$$,"geo","amp-geo",!0).then(function($JSCompiler_StaticMethods_getGeo_$self_element$jscomp$164$$){$userAssert$$module$src$log$$($JSCompiler_StaticMethods_getGeo_$self_element$jscomp$164$$,
"To use variable %s, amp-geo should be configured","AMP_GEO");return $getter$jscomp$3$$($JSCompiler_StaticMethods_getGeo_$self_element$jscomp$164$$)})}
function $JSCompiler_StaticMethods_getShareTrackingValue_$$($JSCompiler_StaticMethods_getShareTrackingValue_$self$$,$getter$jscomp$4$$,$expr$jscomp$11$$){$JSCompiler_StaticMethods_getShareTrackingValue_$self$$.$shareTrackingFragments_$||($JSCompiler_StaticMethods_getShareTrackingValue_$self$$.$shareTrackingFragments_$=$getElementServiceIfAvailable$$module$src$element_service$$($JSCompiler_StaticMethods_getShareTrackingValue_$self$$.ampdoc.win,"share-tracking","amp-share-tracking"));return $JSCompiler_StaticMethods_getShareTrackingValue_$self$$.$shareTrackingFragments_$.then(function($JSCompiler_StaticMethods_getShareTrackingValue_$self$$){$userAssert$$module$src$log$$($JSCompiler_StaticMethods_getShareTrackingValue_$self$$,
"To use variable %s, amp-share-tracking should be configured",$expr$jscomp$11$$);return $getter$jscomp$4$$($JSCompiler_StaticMethods_getShareTrackingValue_$self$$)})}
function $JSCompiler_StaticMethods_getStoryValue_$$($JSCompiler_StaticMethods_getStoryValue_$self$$,$property$jscomp$8$$,$name$jscomp$152$$){return function(){return $getElementServiceIfAvailable$$module$src$element_service$$($JSCompiler_StaticMethods_getStoryValue_$self$$.ampdoc.win,"story-variable","amp-story").then(function($JSCompiler_StaticMethods_getStoryValue_$self$$){$userAssert$$module$src$log$$($JSCompiler_StaticMethods_getStoryValue_$self$$,"To use variable %s amp-story should be configured",
$name$jscomp$152$$);return $JSCompiler_StaticMethods_getStoryValue_$self$$[$property$jscomp$8$$]})}}
function $JSCompiler_StaticMethods_getViewerIntegrationValue_$$($JSCompiler_StaticMethods_getViewerIntegrationValue_$self$$,$property$jscomp$9$$,$name$jscomp$153$$){return function($param$jscomp$12$$,$defaultValue$jscomp$5$$){$defaultValue$jscomp$5$$=void 0===$defaultValue$jscomp$5$$?"":$defaultValue$jscomp$5$$;return $getElementServiceIfAvailable$$module$src$element_service$$($JSCompiler_StaticMethods_getViewerIntegrationValue_$self$$.ampdoc.win,"viewer-integration-variable","amp-viewer-integration").then(function($JSCompiler_StaticMethods_getViewerIntegrationValue_$self$$){$userAssert$$module$src$log$$($JSCompiler_StaticMethods_getViewerIntegrationValue_$self$$,
"To use variable %s amp-viewer-integration must be installed",$name$jscomp$153$$);return $JSCompiler_StaticMethods_getViewerIntegrationValue_$self$$[$property$jscomp$9$$]($param$jscomp$12$$,$defaultValue$jscomp$5$$)})}}function $UrlReplacements$$module$src$service$url_replacements_impl$$($ampdoc$jscomp$66$$,$variableSource$jscomp$1$$){this.ampdoc=$ampdoc$jscomp$66$$;this.$variableSource_$=$variableSource$jscomp$1$$}$JSCompiler_prototypeAlias$$=$UrlReplacements$$module$src$service$url_replacements_impl$$.prototype;
$JSCompiler_prototypeAlias$$.expandStringSync=function($source$jscomp$19$$,$opt_bindings$jscomp$2$$,$opt_collectVars$jscomp$1$$,$opt_whiteList$jscomp$3$$){return(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$2$$,$opt_collectVars$jscomp$1$$,!0,$opt_whiteList$jscomp$3$$,!0)).expand($source$jscomp$19$$)};
$JSCompiler_prototypeAlias$$.expandStringAsync=function($source$jscomp$20$$,$opt_bindings$jscomp$3$$,$opt_whiteList$jscomp$4$$){return(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$3$$,void 0,void 0,$opt_whiteList$jscomp$4$$,!0)).expand($source$jscomp$20$$)};
$JSCompiler_prototypeAlias$$.expandUrlSync=function($url$jscomp$84$$,$opt_bindings$jscomp$4$$,$opt_collectVars$jscomp$2$$,$opt_whiteList$jscomp$5$$){return $JSCompiler_StaticMethods_ensureProtocolMatches_$$($url$jscomp$84$$,(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$4$$,$opt_collectVars$jscomp$2$$,!0,$opt_whiteList$jscomp$5$$)).expand($url$jscomp$84$$))};
$JSCompiler_prototypeAlias$$.expandUrlAsync=function($url$jscomp$85$$,$opt_bindings$jscomp$5$$,$opt_whiteList$jscomp$6$$){return(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$5$$,void 0,void 0,$opt_whiteList$jscomp$6$$)).expand($url$jscomp$85$$).then(function($opt_bindings$jscomp$5$$){return $JSCompiler_StaticMethods_ensureProtocolMatches_$$($url$jscomp$85$$,$opt_bindings$jscomp$5$$)})};
$JSCompiler_prototypeAlias$$.expandInputValueAsync=function($element$jscomp$165$$){return $JSCompiler_StaticMethods_expandInputValue_$$(this,$element$jscomp$165$$,!1)};$JSCompiler_prototypeAlias$$.expandInputValueSync=function($element$jscomp$166$$){return $JSCompiler_StaticMethods_expandInputValue_$$(this,$element$jscomp$166$$,!0)};
function $JSCompiler_StaticMethods_expandInputValue_$$($JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$9$$,$element$jscomp$167$$,$opt_sync$jscomp$1$$){"INPUT"==$element$jscomp$167$$.tagName&&$element$jscomp$167$$.getAttribute("type");var $whitelist$jscomp$2$$=$JSCompiler_StaticMethods_getWhitelistForElement_$$($element$jscomp$167$$);if(!$whitelist$jscomp$2$$)return $opt_sync$jscomp$1$$?$element$jscomp$167$$.value:Promise.resolve($element$jscomp$167$$.value);void 0===$element$jscomp$167$$["amp-original-value"]&&
($element$jscomp$167$$["amp-original-value"]=$element$jscomp$167$$.value);$JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$9$$=(new $Expander$$module$src$service$url_expander$expander$$($JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$9$$.$variableSource_$,void 0,void 0,$opt_sync$jscomp$1$$,$whitelist$jscomp$2$$)).expand($element$jscomp$167$$["amp-original-value"]||$element$jscomp$167$$.value);return $opt_sync$jscomp$1$$?$element$jscomp$167$$.value=$JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$9$$:
$JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$9$$.then(function($JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$9$$){return $element$jscomp$167$$.value=$JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$9$$})}
function $JSCompiler_StaticMethods_getWhitelistForElement_$$($element$jscomp$168_whitelist$jscomp$3$$,$opt_supportedReplacement$$){if($element$jscomp$168_whitelist$jscomp$3$$=$element$jscomp$168_whitelist$jscomp$3$$.getAttribute("data-amp-replace")){var $requestedReplacements$$={};$element$jscomp$168_whitelist$jscomp$3$$.trim().split(/\s+/).forEach(function($element$jscomp$168_whitelist$jscomp$3$$){!$opt_supportedReplacement$$||$hasOwn_$$module$src$utils$object$$.call($opt_supportedReplacement$$,
$element$jscomp$168_whitelist$jscomp$3$$)?$requestedReplacements$$[$element$jscomp$168_whitelist$jscomp$3$$]=!0:$user$$module$src$log$$().warn("URL","Ignoring unsupported replacement",$element$jscomp$168_whitelist$jscomp$3$$)});return $requestedReplacements$$}}
$JSCompiler_prototypeAlias$$.maybeExpandLink=function($element$jscomp$169$$,$defaultUrlParams$$){var $supportedReplacements$$={CLIENT_ID:!0,QUERY_PARAM:!0,PAGE_VIEW_ID:!0,NAV_TIMING:!0},$additionalUrlParameters$$=$element$jscomp$169$$.getAttribute("data-amp-addparams")||"",$whitelist$jscomp$5$$=$JSCompiler_StaticMethods_getWhitelistForElement_$$($element$jscomp$169$$,$supportedReplacements$$);if($whitelist$jscomp$5$$||$additionalUrlParameters$$||$defaultUrlParams$$){var $href$jscomp$1$$=$element$jscomp$169$$["amp-original-href"]||
$element$jscomp$169$$.getAttribute("href"),$JSCompiler_inline_result$jscomp$165_url$jscomp$87$$=$parseUrlDeprecated$$module$src$url$$($href$jscomp$1$$);null==$element$jscomp$169$$["amp-original-href"]&&($element$jscomp$169$$["amp-original-href"]=$href$jscomp$1$$);$additionalUrlParameters$$&&($href$jscomp$1$$=$addParamsToUrl$$module$src$url$$($href$jscomp$1$$,$parseQueryString_$$module$src$url_parse_query_string$$($additionalUrlParameters$$)));a:{var $JSCompiler_docInfo$jscomp$inline_456_JSCompiler_meta$jscomp$inline_457_JSCompiler_whitelist$jscomp$inline_458$$=
$Services$$module$src$services$documentInfoForDoc$$(this.ampdoc);if($JSCompiler_inline_result$jscomp$165_url$jscomp$87$$.origin==$parseUrlDeprecated$$module$src$url$$($JSCompiler_docInfo$jscomp$inline_456_JSCompiler_meta$jscomp$inline_457_JSCompiler_whitelist$jscomp$inline_458$$.canonicalUrl).origin||$JSCompiler_inline_result$jscomp$165_url$jscomp$87$$.origin==$parseUrlDeprecated$$module$src$url$$($JSCompiler_docInfo$jscomp$inline_456_JSCompiler_meta$jscomp$inline_457_JSCompiler_whitelist$jscomp$inline_458$$.sourceUrl).origin)$JSCompiler_inline_result$jscomp$165_url$jscomp$87$$=
!0;else{if(($JSCompiler_docInfo$jscomp$inline_456_JSCompiler_meta$jscomp$inline_457_JSCompiler_whitelist$jscomp$inline_458$$=this.ampdoc.getRootNode().querySelector("meta[name=amp-link-variable-allowed-origin]"))&&$JSCompiler_docInfo$jscomp$inline_456_JSCompiler_meta$jscomp$inline_457_JSCompiler_whitelist$jscomp$inline_458$$.hasAttribute("content")){$JSCompiler_docInfo$jscomp$inline_456_JSCompiler_meta$jscomp$inline_457_JSCompiler_whitelist$jscomp$inline_458$$=$JSCompiler_docInfo$jscomp$inline_456_JSCompiler_meta$jscomp$inline_457_JSCompiler_whitelist$jscomp$inline_458$$.getAttribute("content").trim().split(/\s+/);
for(var $JSCompiler_i$jscomp$inline_459$$=0;$JSCompiler_i$jscomp$inline_459$$<$JSCompiler_docInfo$jscomp$inline_456_JSCompiler_meta$jscomp$inline_457_JSCompiler_whitelist$jscomp$inline_458$$.length;$JSCompiler_i$jscomp$inline_459$$++)if($JSCompiler_inline_result$jscomp$165_url$jscomp$87$$.origin==$parseUrlDeprecated$$module$src$url$$($JSCompiler_docInfo$jscomp$inline_456_JSCompiler_meta$jscomp$inline_457_JSCompiler_whitelist$jscomp$inline_458$$[$JSCompiler_i$jscomp$inline_459$$]).origin){$JSCompiler_inline_result$jscomp$165_url$jscomp$87$$=
!0;break a}}$JSCompiler_inline_result$jscomp$165_url$jscomp$87$$=!1}}var $isAllowedOrigin$$=$JSCompiler_inline_result$jscomp$165_url$jscomp$87$$;if(!$isAllowedOrigin$$)return $whitelist$jscomp$5$$&&$user$$module$src$log$$().warn("URL","Ignoring link replacement",$href$jscomp$1$$," because the link does not go to the document's source, canonical, or whitelisted origin."),$element$jscomp$169$$.href=$href$jscomp$1$$;if($defaultUrlParams$$){if(!$whitelist$jscomp$5$$||!$whitelist$jscomp$5$$.QUERY_PARAM){var $overrideWhitelist$$=
{QUERY_PARAM:!0};$defaultUrlParams$$=this.expandUrlSync($defaultUrlParams$$,void 0,void 0,$overrideWhitelist$$)}$href$jscomp$1$$=$addParamsToUrl$$module$src$url$$($href$jscomp$1$$,$parseQueryString_$$module$src$url_parse_query_string$$($defaultUrlParams$$))}$whitelist$jscomp$5$$&&($href$jscomp$1$$=this.expandUrlSync($href$jscomp$1$$,void 0,void 0,$whitelist$jscomp$5$$));return $element$jscomp$169$$.href=$href$jscomp$1$$}};
$JSCompiler_prototypeAlias$$.collectVars=function($url$jscomp$88$$,$opt_bindings$jscomp$6$$){var $vars$jscomp$2$$=Object.create(null);return(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$6$$,$vars$jscomp$2$$)).expand($url$jscomp$88$$).then(function(){return $vars$jscomp$2$$})};
$JSCompiler_prototypeAlias$$.collectUnwhitelistedVarsSync=function($element$jscomp$170$$){var $url$jscomp$89$$=$element$jscomp$170$$.getAttribute("src"),$macroNames$$=(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$)).getMacroNames($url$jscomp$89$$),$whitelist$jscomp$6$$=$JSCompiler_StaticMethods_getWhitelistForElement_$$($element$jscomp$170$$);return $whitelist$jscomp$6$$?$macroNames$$.filter(function($element$jscomp$170$$){return!$whitelist$jscomp$6$$[$element$jscomp$170$$]}):
$macroNames$$};
function $JSCompiler_StaticMethods_ensureProtocolMatches_$$($url$jscomp$90$$,$replacement$jscomp$3$$){var $newProtocol$$=$parseUrlDeprecated$$module$src$url$$($replacement$jscomp$3$$,!0).protocol,$oldProtocol$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$90$$,!0).protocol;if($newProtocol$$!=$oldProtocol$$)return $user$$module$src$log$$().error("UrlReplacements","Illegal replacement of the protocol: ",$url$jscomp$90$$),$url$jscomp$90$$;$userAssert$$module$src$log$$($isProtocolValid$$module$src$url$$($replacement$jscomp$3$$),"The replacement url has invalid protocol: %s",
$replacement$jscomp$3$$);return $replacement$jscomp$3$$}$JSCompiler_prototypeAlias$$.getVariableSource=function(){return this.$variableSource_$};
function $installUrlReplacementsServiceForDoc$$module$src$service$url_replacements_impl$$($ampdoc$jscomp$67$$){$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$67$$,"url-replace",function($ampdoc$jscomp$67$$){return new $UrlReplacements$$module$src$service$url_replacements_impl$$($ampdoc$jscomp$67$$,new $GlobalVariableSource$$module$src$service$url_replacements_impl$$($ampdoc$jscomp$67$$))})};var $TRIM_ORIGIN_PATTERN_$$module$src$service$viewer_impl$$=/^(https?:\/\/)((www[0-9]*|web|ftp|wap|home|mobile|amp|m)\.)+/i,$TRUSTED_VIEWER_HOSTS$$module$src$service$viewer_impl$$=[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/];
function $Viewer$$module$src$service$viewer_impl$$($ampdoc$jscomp$69_deferred$jscomp$12_newUrl$jscomp$1$$,$opt_initParams$$){var $$jscomp$this$jscomp$122$$=this;this.ampdoc=$ampdoc$jscomp$69_deferred$jscomp$12_newUrl$jscomp$1$$;this.win=$ampdoc$jscomp$69_deferred$jscomp$12_newUrl$jscomp$1$$.win;this.$isIframed_$=$isIframed$$module$src$dom$$(this.win);this.$docState_$=$getService$$module$src$service$$(this.win,"documentState");this.$isRuntimeOn_$=!0;this.$overtakeHistory_$=!1;this.$viewerVisibilityState_$=
this.$visibilityState_$="visible";this.$prerenderSize_$=1;this.$messageObservables_$=$map$$module$src$utils$object$$();this.$messageResponders_$=$map$$module$src$utils$object$$();this.$runtimeOnObservable_$=new $Observable$$module$src$observable$$;this.$visibilityObservable_$=new $Observable$$module$src$observable$$;this.$broadcastObservable_$=new $Observable$$module$src$observable$$;this.$messagingOrigin_$=this.$messageDeliverer_$=null;this.$messageQueue_$=[];this.$params_$={};this.$hashParams_$=
{};this.$lastVisibleTime_$=this.$firstVisibleTime_$=this.$nextVisibleResolve_$=this.$nextVisiblePromise_$=null;$ampdoc$jscomp$69_deferred$jscomp$12_newUrl$jscomp$1$$=new $Deferred$$module$src$utils$promise$$;this.$whenFirstVisiblePromise_$=$ampdoc$jscomp$69_deferred$jscomp$12_newUrl$jscomp$1$$.promise;this.$whenFirstVisibleResolve_$=$ampdoc$jscomp$69_deferred$jscomp$12_newUrl$jscomp$1$$.resolve;$opt_initParams$$?Object.assign(this.$params_$,$opt_initParams$$):(this.win.name&&0==this.win.name.indexOf("__AMP__")&&
$parseParams_$$module$src$service$viewer_impl$$(this.win.name.substring(7),this.$params_$),this.win.location.hash&&($parseParams_$$module$src$service$viewer_impl$$(this.win.location.hash,this.$hashParams_$),Object.assign(this.$params_$,this.$hashParams_$)));this.$isRuntimeOn_$=!parseInt(this.$params_$.off,10);this.$overtakeHistory_$=!(!parseInt(this.$params_$.history,10)&&!this.$overtakeHistory_$);$JSCompiler_StaticMethods_setVisibilityState_$$(this,this.$params_$.visibilityState);this.$prerenderSize_$=
parseInt(this.$params_$.prerenderSize,10)||this.$prerenderSize_$;this.$isCctEmbedded_$=null;this.$isProxyOrigin_$=$isProxyOrigin$$module$src$url$$($parseUrlDeprecated$$module$src$url$$(this.ampdoc.win.location.href));this.$hasBeenVisible_$=this.isVisible();this.$docState_$.onVisibilityChanged(this.$recheckVisibilityState_$.bind(this));var $messagingDeferred$$=new $Deferred$$module$src$utils$promise$$;this.$messagingReadyResolver_$=$messagingDeferred$$.resolve;this.$messagingReadyPromise_$=$JSCompiler_StaticMethods_initMessagingChannel_$$(this,
$messagingDeferred$$.promise);this.$viewerOrigin_$=this.$isTrustedViewer_$=null;this.$unconfirmedReferrerUrl_$=this.isEmbedded()&&"referrer"in this.$params_$&&!1!==$JSCompiler_StaticMethods_isTrustedAncestorOrigins_$$(this)?this.$params_$.referrer:this.win.document.referrer;this.$referrerUrl_$=new Promise(function($ampdoc$jscomp$69_deferred$jscomp$12_newUrl$jscomp$1$$){$$jscomp$this$jscomp$122$$.isEmbedded()&&"referrer"in $$jscomp$this$jscomp$122$$.$params_$?$$jscomp$this$jscomp$122$$.isTrustedViewer().then(function($opt_initParams$$){$opt_initParams$$?
$ampdoc$jscomp$69_deferred$jscomp$12_newUrl$jscomp$1$$($$jscomp$this$jscomp$122$$.$params_$.referrer):($ampdoc$jscomp$69_deferred$jscomp$12_newUrl$jscomp$1$$($$jscomp$this$jscomp$122$$.win.document.referrer),$$jscomp$this$jscomp$122$$.$unconfirmedReferrerUrl_$!=$$jscomp$this$jscomp$122$$.win.document.referrer&&($dev$$module$src$log$$().expectedError("Viewer","Untrusted viewer referrer override: "+$$jscomp$this$jscomp$122$$.$unconfirmedReferrerUrl_$+" at "+$$jscomp$this$jscomp$122$$.$messagingOrigin_$),
$$jscomp$this$jscomp$122$$.$unconfirmedReferrerUrl_$=$$jscomp$this$jscomp$122$$.win.document.referrer))}):$ampdoc$jscomp$69_deferred$jscomp$12_newUrl$jscomp$1$$($$jscomp$this$jscomp$122$$.win.document.referrer)});this.$resolvedViewerUrl_$=$removeFragment$$module$src$url$$(this.win.location.href||"");this.$viewerUrl_$=new Promise(function($ampdoc$jscomp$69_deferred$jscomp$12_newUrl$jscomp$1$$){var $opt_initParams$$=$$jscomp$this$jscomp$122$$.$params_$.viewerUrl;$$jscomp$this$jscomp$122$$.isEmbedded()&&
$opt_initParams$$?$$jscomp$this$jscomp$122$$.isTrustedViewer().then(function($messagingDeferred$$){$messagingDeferred$$?$$jscomp$this$jscomp$122$$.$resolvedViewerUrl_$=$opt_initParams$$:$dev$$module$src$log$$().expectedError("Viewer","Untrusted viewer url override: "+$opt_initParams$$+" at "+$$jscomp$this$jscomp$122$$.$messagingOrigin_$);$ampdoc$jscomp$69_deferred$jscomp$12_newUrl$jscomp$1$$($$jscomp$this$jscomp$122$$.$resolvedViewerUrl_$)}):$ampdoc$jscomp$69_deferred$jscomp$12_newUrl$jscomp$1$$($$jscomp$this$jscomp$122$$.$resolvedViewerUrl_$)});
this.$params_$.click&&($ampdoc$jscomp$69_deferred$jscomp$12_newUrl$jscomp$1$$=$removeFragment$$module$src$url$$(this.win.location.href),$ampdoc$jscomp$69_deferred$jscomp$12_newUrl$jscomp$1$$!=this.win.location.href&&this.win.history.replaceState&&(this.win.location.originalHash||(this.win.location.originalHash=this.win.location.hash),this.win.history.replaceState({},"",$ampdoc$jscomp$69_deferred$jscomp$12_newUrl$jscomp$1$$),delete this.$hashParams_$.click));this.$recheckVisibilityState_$();$JSCompiler_StaticMethods_onVisibilityChange_$$(this);
this.whenFirstVisible().then(function(){$$jscomp$this$jscomp$122$$.maybeUpdateFragmentForCct()})}
function $JSCompiler_StaticMethods_initMessagingChannel_$$($JSCompiler_StaticMethods_initMessagingChannel_$self$$,$messagingPromise$$){var $isEmbedded$$=!(!($JSCompiler_StaticMethods_initMessagingChannel_$self$$.$isIframed_$&&!$JSCompiler_StaticMethods_initMessagingChannel_$self$$.win.AMP_TEST_IFRAME&&($JSCompiler_StaticMethods_initMessagingChannel_$self$$.$params_$.origin||$JSCompiler_StaticMethods_initMessagingChannel_$self$$.$params_$.visibilityState||-1!=$JSCompiler_StaticMethods_initMessagingChannel_$self$$.win.location.search.indexOf("amp_js_v"))||
$JSCompiler_StaticMethods_initMessagingChannel_$self$$.isWebviewEmbedded()||$JSCompiler_StaticMethods_initMessagingChannel_$self$$.isCctEmbedded())&&$JSCompiler_StaticMethods_initMessagingChannel_$self$$.ampdoc.isSingleDoc());return $isEmbedded$$?$Services$$module$src$services$timerFor$$($JSCompiler_StaticMethods_initMessagingChannel_$self$$.win).timeoutPromise(2E4,$messagingPromise$$).catch(function($JSCompiler_StaticMethods_initMessagingChannel_$self$$){$JSCompiler_StaticMethods_initMessagingChannel_$self$$=
$getChannelError$$module$src$service$viewer_impl$$($JSCompiler_StaticMethods_initMessagingChannel_$self$$);$reportError$$module$src$error$$($JSCompiler_StaticMethods_initMessagingChannel_$self$$);throw $JSCompiler_StaticMethods_initMessagingChannel_$self$$;}):null}
function $JSCompiler_StaticMethods_onVisibilityChange_$$($JSCompiler_StaticMethods_onVisibilityChange_$self$$){if($JSCompiler_StaticMethods_onVisibilityChange_$self$$.isVisible()){var $now$jscomp$10$$=Date.now();$JSCompiler_StaticMethods_onVisibilityChange_$self$$.$firstVisibleTime_$||($JSCompiler_StaticMethods_onVisibilityChange_$self$$.$firstVisibleTime_$=$now$jscomp$10$$);$JSCompiler_StaticMethods_onVisibilityChange_$self$$.$lastVisibleTime_$=$now$jscomp$10$$;$JSCompiler_StaticMethods_onVisibilityChange_$self$$.$hasBeenVisible_$=
!0;$JSCompiler_StaticMethods_onVisibilityChange_$self$$.$whenFirstVisibleResolve_$();$JSCompiler_StaticMethods_onVisibilityChange_$self$$.$nextVisibleResolve_$&&($JSCompiler_StaticMethods_onVisibilityChange_$self$$.$nextVisibleResolve_$(),$JSCompiler_StaticMethods_onVisibilityChange_$self$$.$nextVisibleResolve_$=null,$JSCompiler_StaticMethods_onVisibilityChange_$self$$.$nextVisiblePromise_$=null)}$JSCompiler_StaticMethods_onVisibilityChange_$self$$.$visibilityObservable_$.fire()}
$JSCompiler_prototypeAlias$$=$Viewer$$module$src$service$viewer_impl$$.prototype;$JSCompiler_prototypeAlias$$.getParam=function($name$jscomp$154$$){return this.$params_$[$name$jscomp$154$$]};$JSCompiler_prototypeAlias$$.hasCapability=function($name$jscomp$155$$){var $capabilities$$=this.$params_$.cap;return $capabilities$$?-1!=$capabilities$$.split(",").indexOf($name$jscomp$155$$):!1};$JSCompiler_prototypeAlias$$.isEmbedded=function(){return!!this.$messagingReadyPromise_$};
$JSCompiler_prototypeAlias$$.isWebviewEmbedded=function(){return!this.$isIframed_$&&"1"==this.$params_$.webview};$JSCompiler_prototypeAlias$$.isCctEmbedded=function(){if(null!=this.$isCctEmbedded_$)return this.$isCctEmbedded_$;this.$isCctEmbedded_$=!1;if(!this.$isIframed_$){var $queryParams$$=$parseQueryString_$$module$src$url_parse_query_string$$(this.win.location.search);this.$isCctEmbedded_$="1"===$queryParams$$.amp_gsa&&$startsWith$$module$src$string$$($queryParams$$.amp_js_v||"","a")}return this.$isCctEmbedded_$};
$JSCompiler_prototypeAlias$$.isProxyOrigin=function(){return this.$isProxyOrigin_$};
$JSCompiler_prototypeAlias$$.maybeUpdateFragmentForCct=function(){if(this.isCctEmbedded()&&this.win.history.replaceState){var $sourceOrigin$jscomp$2$$=$getSourceOrigin$$module$src$url$$(this.win.location.href),$canonicalUrl$jscomp$3$$=$Services$$module$src$services$documentInfoForDoc$$(this.ampdoc).canonicalUrl,$canonicalSourceOrigin$$=$getSourceOrigin$$module$src$url$$($canonicalUrl$jscomp$3$$);$JSCompiler_StaticMethods_hasRoughlySameOrigin_$$($sourceOrigin$jscomp$2$$,$canonicalSourceOrigin$$)&&
(this.$hashParams_$.ampshare=$canonicalUrl$jscomp$3$$,this.win.history.replaceState({},"","#"+$serializeQueryString$$module$src$url$$(this.$hashParams_$)))}};
function $JSCompiler_StaticMethods_hasRoughlySameOrigin_$$($first$jscomp$6$$,$second$jscomp$2$$){function $trimOrigin$$($first$jscomp$6$$){return 2<$first$jscomp$6$$.split(".").length?$first$jscomp$6$$.replace($TRIM_ORIGIN_PATTERN_$$module$src$service$viewer_impl$$,"$1"):$first$jscomp$6$$}return $trimOrigin$$($first$jscomp$6$$)==$trimOrigin$$($second$jscomp$2$$)}$JSCompiler_prototypeAlias$$.isRuntimeOn=function(){return this.$isRuntimeOn_$};
$JSCompiler_prototypeAlias$$.toggleRuntime=function(){this.$isRuntimeOn_$=!this.$isRuntimeOn_$;this.$runtimeOnObservable_$.fire(this.$isRuntimeOn_$)};$JSCompiler_prototypeAlias$$.onRuntimeState=function($handler$jscomp$23$$){return this.$runtimeOnObservable_$.add($handler$jscomp$23$$)};$JSCompiler_prototypeAlias$$.isOvertakeHistory=function(){return this.$overtakeHistory_$};$JSCompiler_prototypeAlias$$.getVisibilityState=function(){return this.$visibilityState_$};
$JSCompiler_prototypeAlias$$.$recheckVisibilityState_$=function(){$JSCompiler_StaticMethods_setVisibilityState_$$(this,this.$viewerVisibilityState_$)};
function $JSCompiler_StaticMethods_setVisibilityState_$$($JSCompiler_StaticMethods_setVisibilityState_$self$$,$state$jscomp$23$$){if($state$jscomp$23$$){var $oldState$jscomp$3$$=$JSCompiler_StaticMethods_setVisibilityState_$self$$.$visibilityState_$;$state$jscomp$23$$=$dev$$module$src$log$$().assertEnumValue($VisibilityState$$module$src$visibility_state$$,$state$jscomp$23$$,"VisibilityState");"hidden"===$state$jscomp$23$$&&($state$jscomp$23$$=$JSCompiler_StaticMethods_setVisibilityState_$self$$.$hasBeenVisible_$?
"inactive":"prerender");$JSCompiler_StaticMethods_setVisibilityState_$self$$.$viewerVisibilityState_$=$state$jscomp$23$$;!$JSCompiler_StaticMethods_setVisibilityState_$self$$.$docState_$.isHidden()||"visible"!==$state$jscomp$23$$&&"paused"!==$state$jscomp$23$$||($state$jscomp$23$$="hidden");$JSCompiler_StaticMethods_setVisibilityState_$self$$.$visibilityState_$=$state$jscomp$23$$;$oldState$jscomp$3$$!==$state$jscomp$23$$&&$JSCompiler_StaticMethods_onVisibilityChange_$$($JSCompiler_StaticMethods_setVisibilityState_$self$$)}}
$JSCompiler_prototypeAlias$$.isVisible=function(){return"visible"==this.getVisibilityState()};$JSCompiler_prototypeAlias$$.hasBeenVisible=function(){return this.$hasBeenVisible_$};$JSCompiler_prototypeAlias$$.whenFirstVisible=function(){return this.$whenFirstVisiblePromise_$};
$JSCompiler_prototypeAlias$$.whenNextVisible=function(){if(this.isVisible())return Promise.resolve();if(this.$nextVisiblePromise_$)return this.$nextVisiblePromise_$;var $deferred$jscomp$13$$=new $Deferred$$module$src$utils$promise$$;this.$nextVisibleResolve_$=$deferred$jscomp$13$$.resolve;return this.$nextVisiblePromise_$=$deferred$jscomp$13$$.promise};$JSCompiler_prototypeAlias$$.getFirstVisibleTime=function(){return this.$firstVisibleTime_$};$JSCompiler_prototypeAlias$$.getLastVisibleTime=function(){return this.$lastVisibleTime_$};
$JSCompiler_prototypeAlias$$.getPrerenderSize=function(){return this.$prerenderSize_$};$JSCompiler_prototypeAlias$$.getResolvedViewerUrl=function(){return this.$resolvedViewerUrl_$};$JSCompiler_prototypeAlias$$.getViewerUrl=function(){return this.$viewerUrl_$};$JSCompiler_prototypeAlias$$.maybeGetMessagingOrigin=function(){return this.$messagingOrigin_$};$JSCompiler_prototypeAlias$$.getUnconfirmedReferrerUrl=function(){return this.$unconfirmedReferrerUrl_$};
$JSCompiler_prototypeAlias$$.getReferrerUrl=function(){return this.$referrerUrl_$};
$JSCompiler_prototypeAlias$$.isTrustedViewer=function(){if(!this.$isTrustedViewer_$){var $isTrustedAncestorOrigins$$=$JSCompiler_StaticMethods_isTrustedAncestorOrigins_$$(this);this.$isTrustedViewer_$=void 0!==$isTrustedAncestorOrigins$$?Promise.resolve($isTrustedAncestorOrigins$$):this.$messagingReadyPromise_$.then(function($isTrustedAncestorOrigins$$){return $isTrustedAncestorOrigins$$?$JSCompiler_StaticMethods_isTrustedViewerOrigin_$$($isTrustedAncestorOrigins$$):!1})}return this.$isTrustedViewer_$};
function $JSCompiler_StaticMethods_isTrustedAncestorOrigins_$$($JSCompiler_StaticMethods_isTrustedAncestorOrigins_$self$$){if(!$JSCompiler_StaticMethods_isTrustedAncestorOrigins_$self$$.isEmbedded())return!1;if($JSCompiler_StaticMethods_isTrustedAncestorOrigins_$self$$.win.location.ancestorOrigins&&!$JSCompiler_StaticMethods_isTrustedAncestorOrigins_$self$$.isWebviewEmbedded()&&!$JSCompiler_StaticMethods_isTrustedAncestorOrigins_$self$$.isCctEmbedded())return 0<$JSCompiler_StaticMethods_isTrustedAncestorOrigins_$self$$.win.location.ancestorOrigins.length&&
$JSCompiler_StaticMethods_isTrustedViewerOrigin_$$($JSCompiler_StaticMethods_isTrustedAncestorOrigins_$self$$.win.location.ancestorOrigins[0])}
$JSCompiler_prototypeAlias$$.getViewerOrigin=function(){if(!this.$viewerOrigin_$){var $origin$jscomp$14$$;this.isEmbedded()?this.win.location.ancestorOrigins&&0<this.win.location.ancestorOrigins.length&&($origin$jscomp$14$$=this.win.location.ancestorOrigins[0]):$origin$jscomp$14$$="";this.$viewerOrigin_$=void 0!==$origin$jscomp$14$$?Promise.resolve($origin$jscomp$14$$):$Services$$module$src$services$timerFor$$(this.win).timeoutPromise(1E3,this.$messagingReadyPromise_$).catch(function(){return""})}return this.$viewerOrigin_$};
function $JSCompiler_StaticMethods_isTrustedViewerOrigin_$$($protocol$jscomp$2_urlString$jscomp$5$$){var $url$jscomp$91$$=$parseUrlDeprecated$$module$src$url$$($protocol$jscomp$2_urlString$jscomp$5$$);$protocol$jscomp$2_urlString$jscomp$5$$=$url$jscomp$91$$.protocol;return"x-thread:"==$protocol$jscomp$2_urlString$jscomp$5$$?!0:"https:"!=$protocol$jscomp$2_urlString$jscomp$5$$?!1:$TRUSTED_VIEWER_HOSTS$$module$src$service$viewer_impl$$.some(function($protocol$jscomp$2_urlString$jscomp$5$$){return $protocol$jscomp$2_urlString$jscomp$5$$.test($url$jscomp$91$$.hostname)})}
$JSCompiler_prototypeAlias$$.onVisibilityChanged=function($handler$jscomp$24$$){return this.$visibilityObservable_$.add($handler$jscomp$24$$)};$JSCompiler_prototypeAlias$$.onMessage=function($eventType$jscomp$11$$,$handler$jscomp$25$$){var $observable$$=this.$messageObservables_$[$eventType$jscomp$11$$];$observable$$||($observable$$=new $Observable$$module$src$observable$$,this.$messageObservables_$[$eventType$jscomp$11$$]=$observable$$);return $observable$$.add($handler$jscomp$25$$)};
$JSCompiler_prototypeAlias$$.onMessageRespond=function($eventType$jscomp$12$$,$responder$$){var $$jscomp$this$jscomp$124$$=this;this.$messageResponders_$[$eventType$jscomp$12$$]=$responder$$;return function(){$$jscomp$this$jscomp$124$$.$messageResponders_$[$eventType$jscomp$12$$]===$responder$$&&delete $$jscomp$this$jscomp$124$$.$messageResponders_$[$eventType$jscomp$12$$]}};
$JSCompiler_prototypeAlias$$.receiveMessage=function($eventType$jscomp$13_responder$jscomp$1$$,$data$jscomp$82$$){if("visibilitychange"==$eventType$jscomp$13_responder$jscomp$1$$)return void 0!==$data$jscomp$82$$.prerenderSize&&(this.$prerenderSize_$=$data$jscomp$82$$.prerenderSize),$JSCompiler_StaticMethods_setVisibilityState_$$(this,$data$jscomp$82$$.state),Promise.resolve();if("broadcast"==$eventType$jscomp$13_responder$jscomp$1$$)return this.$broadcastObservable_$.fire($data$jscomp$82$$),Promise.resolve();
var $observable$jscomp$1$$=this.$messageObservables_$[$eventType$jscomp$13_responder$jscomp$1$$];$observable$jscomp$1$$&&$observable$jscomp$1$$.fire($data$jscomp$82$$);if($eventType$jscomp$13_responder$jscomp$1$$=this.$messageResponders_$[$eventType$jscomp$13_responder$jscomp$1$$])return $eventType$jscomp$13_responder$jscomp$1$$($data$jscomp$82$$);if($observable$jscomp$1$$)return Promise.resolve()};
$JSCompiler_prototypeAlias$$.setMessageDeliverer=function($deliverer$$,$origin$jscomp$15_queue$jscomp$3$$){var $$jscomp$this$jscomp$125$$=this;if(this.$messageDeliverer_$)throw Error("message channel can only be initialized once");if(null==$origin$jscomp$15_queue$jscomp$3$$)throw Error("message channel must have an origin");this.$messageDeliverer_$=$deliverer$$;this.$messagingOrigin_$=$origin$jscomp$15_queue$jscomp$3$$;this.$messagingReadyResolver_$($origin$jscomp$15_queue$jscomp$3$$);0<this.$messageQueue_$.length&&
($origin$jscomp$15_queue$jscomp$3$$=this.$messageQueue_$.slice(0),this.$messageQueue_$=[],$origin$jscomp$15_queue$jscomp$3$$.forEach(function($deliverer$$){var $origin$jscomp$15_queue$jscomp$3$$=$$jscomp$this$jscomp$125$$.$messageDeliverer_$($deliverer$$.eventType,$deliverer$$.data,$deliverer$$.awaitResponse);$deliverer$$.awaitResponse&&$deliverer$$.responseResolver($origin$jscomp$15_queue$jscomp$3$$)}))};
$JSCompiler_prototypeAlias$$.sendMessage=function($eventType$jscomp$14$$,$data$jscomp$83$$,$cancelUnsent$$){$cancelUnsent$$=void 0===$cancelUnsent$$?!1:$cancelUnsent$$;$JSCompiler_StaticMethods_sendMessageInternal_$$(this,$eventType$jscomp$14$$,$data$jscomp$83$$,$cancelUnsent$$,!1)};
$JSCompiler_prototypeAlias$$.sendMessageAwaitResponse=function($eventType$jscomp$15$$,$data$jscomp$84$$,$cancelUnsent$jscomp$1$$){return $JSCompiler_StaticMethods_sendMessageInternal_$$(this,$eventType$jscomp$15$$,$data$jscomp$84$$,void 0===$cancelUnsent$jscomp$1$$?!1:$cancelUnsent$jscomp$1$$,!0)};
function $JSCompiler_StaticMethods_sendMessageInternal_$$($JSCompiler_StaticMethods_sendMessageInternal_$self$$,$eventType$jscomp$16$$,$data$jscomp$85$$,$$jscomp$destructuring$var113_cancelUnsent$jscomp$2_message$jscomp$43$$,$awaitResponse$$){if($JSCompiler_StaticMethods_sendMessageInternal_$self$$.$messageDeliverer_$)return $tryResolve$$module$src$utils$promise$$(function(){return $JSCompiler_StaticMethods_sendMessageInternal_$self$$.$messageDeliverer_$($eventType$jscomp$16$$,$data$jscomp$85$$,$awaitResponse$$)});
if(!$JSCompiler_StaticMethods_sendMessageInternal_$self$$.$messagingReadyPromise_$)return $awaitResponse$$?Promise.reject($getChannelError$$module$src$service$viewer_impl$$()):Promise.resolve();if(!$$jscomp$destructuring$var113_cancelUnsent$jscomp$2_message$jscomp$43$$)return $JSCompiler_StaticMethods_sendMessageInternal_$self$$.$messagingReadyPromise_$.then(function(){return $JSCompiler_StaticMethods_sendMessageInternal_$self$$.$messageDeliverer_$($eventType$jscomp$16$$,$data$jscomp$85$$,$awaitResponse$$)});
var $found$$=$findIndex$$module$src$utils$array$$($JSCompiler_StaticMethods_sendMessageInternal_$self$$.$messageQueue_$,function($JSCompiler_StaticMethods_sendMessageInternal_$self$$){return $JSCompiler_StaticMethods_sendMessageInternal_$self$$.eventType==$eventType$jscomp$16$$});if(-1!=$found$$)$$jscomp$destructuring$var113_cancelUnsent$jscomp$2_message$jscomp$43$$=$JSCompiler_StaticMethods_sendMessageInternal_$self$$.$messageQueue_$.splice($found$$,1)[0],$$jscomp$destructuring$var113_cancelUnsent$jscomp$2_message$jscomp$43$$.data=
$data$jscomp$85$$,$$jscomp$destructuring$var113_cancelUnsent$jscomp$2_message$jscomp$43$$.awaitResponse=$$jscomp$destructuring$var113_cancelUnsent$jscomp$2_message$jscomp$43$$.awaitResponse||$awaitResponse$$;else{$$jscomp$destructuring$var113_cancelUnsent$jscomp$2_message$jscomp$43$$=new $Deferred$$module$src$utils$promise$$;var $responseResolver$$=$$jscomp$destructuring$var113_cancelUnsent$jscomp$2_message$jscomp$43$$.resolve;$$jscomp$destructuring$var113_cancelUnsent$jscomp$2_message$jscomp$43$$=
{eventType:$eventType$jscomp$16$$,data:$data$jscomp$85$$,awaitResponse:$awaitResponse$$,responsePromise:$$jscomp$destructuring$var113_cancelUnsent$jscomp$2_message$jscomp$43$$.promise,responseResolver:$responseResolver$$}}$JSCompiler_StaticMethods_sendMessageInternal_$self$$.$messageQueue_$.push($$jscomp$destructuring$var113_cancelUnsent$jscomp$2_message$jscomp$43$$);return $$jscomp$destructuring$var113_cancelUnsent$jscomp$2_message$jscomp$43$$.responsePromise}
$JSCompiler_prototypeAlias$$.broadcast=function($message$jscomp$44$$){return this.$messagingReadyPromise_$?$JSCompiler_StaticMethods_sendMessageInternal_$$(this,"broadcast",$message$jscomp$44$$,!1,!1).then(function(){return!0},function(){return!1}):Promise.resolve(!1)};$JSCompiler_prototypeAlias$$.onBroadcast=function($handler$jscomp$26$$){return this.$broadcastObservable_$.add($handler$jscomp$26$$)};$JSCompiler_prototypeAlias$$.whenMessagingReady=function(){return this.$messagingReadyPromise_$};
$JSCompiler_prototypeAlias$$.replaceUrl=function($newUrl$jscomp$2$$){if($newUrl$jscomp$2$$&&this.ampdoc.isSingleDoc()&&this.win.history.replaceState)try{var $url$jscomp$92$$=$parseUrlDeprecated$$module$src$url$$(this.win.location.href),$replaceUrl$$=$parseUrlDeprecated$$module$src$url$$($removeFragment$$module$src$url$$($newUrl$jscomp$2$$)+this.win.location.hash);$url$jscomp$92$$.origin==$replaceUrl$$.origin&&$getSourceOrigin$$module$src$url$$($url$jscomp$92$$)==$getSourceOrigin$$module$src$url$$($replaceUrl$$)&&
(this.win.history.replaceState({},"",$replaceUrl$$.href),this.win.location.originalHref=$url$jscomp$92$$.href)}catch($e$jscomp$80$$){$dev$$module$src$log$$().error("Viewer","replaceUrl failed",$e$jscomp$80$$)}};
function $parseParams_$$module$src$service$viewer_impl$$($params$jscomp$11_str$jscomp$16$$,$allParams$$){$params$jscomp$11_str$jscomp$16$$=$parseQueryString_$$module$src$url_parse_query_string$$($params$jscomp$11_str$jscomp$16$$);for(var $k$jscomp$10$$ in $params$jscomp$11_str$jscomp$16$$)$allParams$$[$k$jscomp$10$$]=$params$jscomp$11_str$jscomp$16$$[$k$jscomp$10$$]}
function $getChannelError$$module$src$service$viewer_impl$$($opt_reason$jscomp$3$$){return $opt_reason$jscomp$3$$ instanceof Error?($opt_reason$jscomp$3$$=$duplicateErrorIfNecessary$$module$src$log$$($opt_reason$jscomp$3$$),$opt_reason$jscomp$3$$.message="No messaging channel: "+$opt_reason$jscomp$3$$.message,$opt_reason$jscomp$3$$):Error("No messaging channel: "+$opt_reason$jscomp$3$$)}
function $installViewerServiceForDoc$$module$src$service$viewer_impl$$($ampdoc$jscomp$70$$,$opt_initParams$jscomp$1$$){$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$70$$,"viewer",function(){return new $Viewer$$module$src$service$viewer_impl$$($ampdoc$jscomp$70$$,$opt_initParams$jscomp$1$$)},!0)};function $bezierCurve$$module$src$curve$$($x1$jscomp$6$$,$y1$jscomp$6$$,$x2$jscomp$3$$,$y2$jscomp$3$$){var $bezier$$=new $Bezier$$module$src$curve$$($x1$jscomp$6$$,$y1$jscomp$6$$,$x2$jscomp$3$$,$y2$jscomp$3$$);return $bezier$$.solveYValueFromXValue.bind($bezier$$)}
function $Bezier$$module$src$curve$$($x1$jscomp$7$$,$y1$jscomp$7$$,$x2$jscomp$4$$,$y2$jscomp$4$$){var $x3$$=1,$y3$$=1;this.y0=this.x0=0;this.x1=$x1$jscomp$7$$;this.y1=$y1$jscomp$7$$;this.x2=$x2$jscomp$4$$;this.y2=$y2$jscomp$4$$;this.x3=$x3$$;this.y3=$y3$$}$JSCompiler_prototypeAlias$$=$Bezier$$module$src$curve$$.prototype;$JSCompiler_prototypeAlias$$.solveYValueFromXValue=function($xVal$$){return this.getPointY(this.solvePositionFromXValue($xVal$$))};
$JSCompiler_prototypeAlias$$.solvePositionFromXValue=function($xVal$jscomp$1$$){var $epsilon$$=1E-6,$t$jscomp$1$$=($xVal$jscomp$1$$-this.x0)/(this.x3-this.x0);if(0>=$t$jscomp$1$$)return 0;if(1<=$t$jscomp$1$$)return 1;for(var $tMin$$=0,$tMax$$=1,$value$jscomp$131$$=0,$i$64_i$jscomp$97$$=0;8>$i$64_i$jscomp$97$$;$i$64_i$jscomp$97$$++){$value$jscomp$131$$=this.getPointX($t$jscomp$1$$);var $derivative$$=(this.getPointX($t$jscomp$1$$+$epsilon$$)-$value$jscomp$131$$)/$epsilon$$;if(Math.abs($value$jscomp$131$$-
$xVal$jscomp$1$$)<$epsilon$$)return $t$jscomp$1$$;if(Math.abs($derivative$$)<$epsilon$$)break;else $value$jscomp$131$$<$xVal$jscomp$1$$?$tMin$$=$t$jscomp$1$$:$tMax$$=$t$jscomp$1$$,$t$jscomp$1$$-=($value$jscomp$131$$-$xVal$jscomp$1$$)/$derivative$$}for($i$64_i$jscomp$97$$=0;Math.abs($value$jscomp$131$$-$xVal$jscomp$1$$)>$epsilon$$&&8>$i$64_i$jscomp$97$$;$i$64_i$jscomp$97$$++)$value$jscomp$131$$<$xVal$jscomp$1$$?($tMin$$=$t$jscomp$1$$,$t$jscomp$1$$=($t$jscomp$1$$+$tMax$$)/2):($tMax$$=$t$jscomp$1$$,
$t$jscomp$1$$=($t$jscomp$1$$+$tMin$$)/2),$value$jscomp$131$$=this.getPointX($t$jscomp$1$$);return $t$jscomp$1$$};
$JSCompiler_prototypeAlias$$.getPointX=function($t$jscomp$2$$){if(0==$t$jscomp$2$$)return this.x0;if(1==$t$jscomp$2$$)return this.x3;var $ix0$$=this.lerp(this.x0,this.x1,$t$jscomp$2$$),$ix1$$=this.lerp(this.x1,this.x2,$t$jscomp$2$$),$ix2$$=this.lerp(this.x2,this.x3,$t$jscomp$2$$);$ix0$$=this.lerp($ix0$$,$ix1$$,$t$jscomp$2$$);$ix1$$=this.lerp($ix1$$,$ix2$$,$t$jscomp$2$$);return this.lerp($ix0$$,$ix1$$,$t$jscomp$2$$)};
$JSCompiler_prototypeAlias$$.getPointY=function($t$jscomp$3$$){if(0==$t$jscomp$3$$)return this.y0;if(1==$t$jscomp$3$$)return this.y3;var $iy0$$=this.lerp(this.y0,this.y1,$t$jscomp$3$$),$iy1$$=this.lerp(this.y1,this.y2,$t$jscomp$3$$),$iy2$$=this.lerp(this.y2,this.y3,$t$jscomp$3$$);$iy0$$=this.lerp($iy0$$,$iy1$$,$t$jscomp$3$$);$iy1$$=this.lerp($iy1$$,$iy2$$,$t$jscomp$3$$);return this.lerp($iy0$$,$iy1$$,$t$jscomp$3$$)};
$JSCompiler_prototypeAlias$$.lerp=function($a$jscomp$3$$,$b$jscomp$3$$,$x$jscomp$86$$){return $a$jscomp$3$$+$x$jscomp$86$$*($b$jscomp$3$$-$a$jscomp$3$$)};
var $Curves$$module$src$curve$EASE$$=$bezierCurve$$module$src$curve$$(.25,.1,.25,1),$Curves$$module$src$curve$EASE_IN$$=$bezierCurve$$module$src$curve$$(.42,0,1,1),$Curves$$module$src$curve$EASE_OUT$$=$bezierCurve$$module$src$curve$$(0,0,.58,1),$Curves$$module$src$curve$EASE_IN_OUT$$=$bezierCurve$$module$src$curve$$(.42,0,.58,1),$NAME_MAP$$module$src$curve$$={linear:function($n$jscomp$14$$){return $n$jscomp$14$$},ease:$Curves$$module$src$curve$EASE$$,"ease-in":$Curves$$module$src$curve$EASE_IN$$,
"ease-out":$Curves$$module$src$curve$EASE_OUT$$,"ease-in-out":$Curves$$module$src$curve$EASE_IN_OUT$$};
function $getCurve$$module$src$curve$$($curve$$){if(!$curve$$)return null;if("string"==typeof $curve$$){if(-1!=$curve$$.indexOf("cubic-bezier")){var $match$jscomp$6_values$jscomp$14$$=$curve$$.match(/cubic-bezier\((.+)\)/);if($match$jscomp$6_values$jscomp$14$$&&($match$jscomp$6_values$jscomp$14$$=$match$jscomp$6_values$jscomp$14$$[1].split(",").map(parseFloat),4==$match$jscomp$6_values$jscomp$14$$.length)){for(var $i$jscomp$98$$=0;4>$i$jscomp$98$$;$i$jscomp$98$$++)if(isNaN($match$jscomp$6_values$jscomp$14$$[$i$jscomp$98$$]))return null;
return $bezierCurve$$module$src$curve$$($match$jscomp$6_values$jscomp$14$$[0],$match$jscomp$6_values$jscomp$14$$[1],$match$jscomp$6_values$jscomp$14$$[2],$match$jscomp$6_values$jscomp$14$$[3])}return null}return $NAME_MAP$$module$src$curve$$[$curve$$]}return $curve$$};function $NOOP_CALLBACK$$module$src$animation$$(){}function $Animation$$module$src$animation$$($contextNode$jscomp$2$$){var $opt_vsync$$;this.$contextNode_$=$contextNode$jscomp$2$$;this.$vsync_$=$opt_vsync$$||$Services$$module$src$services$vsyncFor$$(self);this.$curve_$=null;this.$segments_$=[]}
function $Animation$$module$src$animation$animate$$($contextNode$jscomp$3$$,$transition$jscomp$2$$,$duration$jscomp$1$$,$opt_curve$$){return(new $Animation$$module$src$animation$$($contextNode$jscomp$3$$)).setCurve($opt_curve$$).add(0,$transition$jscomp$2$$,1).start($duration$jscomp$1$$)}$Animation$$module$src$animation$$.prototype.setCurve=function($curve$jscomp$1$$){$curve$jscomp$1$$&&(this.$curve_$=$getCurve$$module$src$curve$$($curve$jscomp$1$$));return this};
$Animation$$module$src$animation$$.prototype.add=function($delay$jscomp$5$$,$transition$jscomp$3$$,$duration$jscomp$2$$,$opt_curve$jscomp$1$$){this.$segments_$.push({delay:$delay$jscomp$5$$,func:$transition$jscomp$3$$,duration:$duration$jscomp$2$$,curve:$getCurve$$module$src$curve$$($opt_curve$jscomp$1$$)});return this};
$Animation$$module$src$animation$$.prototype.start=function($duration$jscomp$3$$){var $player$$=new $AnimationPlayer$$module$src$animation$$(this.$vsync_$,this.$contextNode_$,this.$segments_$,this.$curve_$,$duration$jscomp$3$$);return $player$$};
function $AnimationPlayer$$module$src$animation$$($vsync$$,$contextNode$jscomp$4_i$jscomp$99$$,$segments$$,$defaultCurve$$,$deferred$jscomp$15_duration$jscomp$4$$){this.$vsync_$=$vsync$$;this.$contextNode_$=$contextNode$jscomp$4_i$jscomp$99$$;this.$segments_$=[];for($contextNode$jscomp$4_i$jscomp$99$$=0;$contextNode$jscomp$4_i$jscomp$99$$<$segments$$.length;$contextNode$jscomp$4_i$jscomp$99$$++){var $segment$$=$segments$$[$contextNode$jscomp$4_i$jscomp$99$$];this.$segments_$.push({delay:$segment$$.delay,
func:$segment$$.func,duration:$segment$$.duration,curve:$segment$$.curve||$defaultCurve$$,started:!1,completed:!1})}this.$duration_$=$deferred$jscomp$15_duration$jscomp$4$$;this.$startTime_$=Date.now();this.$running_$=!0;this.$state_$={};$deferred$jscomp$15_duration$jscomp$4$$=new $Deferred$$module$src$utils$promise$$;this.$promise_$=$deferred$jscomp$15_duration$jscomp$4$$.promise;this.$resolve_$=$deferred$jscomp$15_duration$jscomp$4$$.resolve;this.$reject_$=$deferred$jscomp$15_duration$jscomp$4$$.reject;
this.$task_$=this.$vsync_$.createAnimTask(this.$contextNode_$,{mutate:this.$stepMutate_$.bind(this)});this.$vsync_$.canAnimate(this.$contextNode_$)?this.$task_$(this.$state_$):($dev$$module$src$log$$().warn("Animation","cannot animate"),this.$complete_$(!1,0))}$JSCompiler_prototypeAlias$$=$AnimationPlayer$$module$src$animation$$.prototype;
$JSCompiler_prototypeAlias$$.then=function($opt_resolve$jscomp$1$$,$opt_reject$jscomp$1$$){return $opt_resolve$jscomp$1$$||$opt_reject$jscomp$1$$?this.$promise_$.then($opt_resolve$jscomp$1$$,$opt_reject$jscomp$1$$):this.$promise_$};
$JSCompiler_prototypeAlias$$.thenAlways=function($callback$jscomp$93_opt_callback$jscomp$8$$){$callback$jscomp$93_opt_callback$jscomp$8$$=$callback$jscomp$93_opt_callback$jscomp$8$$||$NOOP_CALLBACK$$module$src$animation$$;return this.then($callback$jscomp$93_opt_callback$jscomp$8$$,$callback$jscomp$93_opt_callback$jscomp$8$$)};$JSCompiler_prototypeAlias$$.halt=function($opt_dir$$){this.$complete_$(!1,$opt_dir$$||0)};
$JSCompiler_prototypeAlias$$.$complete_$=function($success$jscomp$4$$,$dir$jscomp$1_i$jscomp$100$$){if(this.$running_$){this.$running_$=!1;if(0!=$dir$jscomp$1_i$jscomp$100$$){1<this.$segments_$.length&&this.$segments_$.sort(function($success$jscomp$4$$,$dir$jscomp$1_i$jscomp$100$$){return $success$jscomp$4$$.delay+$success$jscomp$4$$.duration-($dir$jscomp$1_i$jscomp$100$$.delay+$dir$jscomp$1_i$jscomp$100$$.duration)});try{if(0<$dir$jscomp$1_i$jscomp$100$$)for($dir$jscomp$1_i$jscomp$100$$=0;$dir$jscomp$1_i$jscomp$100$$<
this.$segments_$.length;$dir$jscomp$1_i$jscomp$100$$++)this.$segments_$[$dir$jscomp$1_i$jscomp$100$$].func(1,!0);else for(var $i$65$$=this.$segments_$.length-1;0<=$i$65$$;$i$65$$--)this.$segments_$[$i$65$$].func(0,!1)}catch($e$jscomp$81$$){$dev$$module$src$log$$().error("Animation","completion failed: "+$e$jscomp$81$$,$e$jscomp$81$$),$success$jscomp$4$$=!1}}$success$jscomp$4$$?this.$resolve_$():this.$reject_$()}};
$JSCompiler_prototypeAlias$$.$stepMutate_$=function(){if(this.$running_$){for(var $currentTime$$=Date.now(),$normLinearTime$$=Math.min(($currentTime$$-this.$startTime_$)/this.$duration_$,1),$i$66_i$jscomp$101$$=0;$i$66_i$jscomp$101$$<this.$segments_$.length;$i$66_i$jscomp$101$$++){var $segment$67_segment$jscomp$1$$=this.$segments_$[$i$66_i$jscomp$101$$];!$segment$67_segment$jscomp$1$$.started&&$normLinearTime$$>=$segment$67_segment$jscomp$1$$.delay&&($segment$67_segment$jscomp$1$$.started=!0)}for($i$66_i$jscomp$101$$=
0;$i$66_i$jscomp$101$$<this.$segments_$.length;$i$66_i$jscomp$101$$++)if($segment$67_segment$jscomp$1$$=this.$segments_$[$i$66_i$jscomp$101$$],$segment$67_segment$jscomp$1$$.started&&!$segment$67_segment$jscomp$1$$.completed)a:{var $JSCompiler_normLinearTime$jscomp$inline_466$$;if(0<$segment$67_segment$jscomp$1$$.duration){var $JSCompiler_normTime$jscomp$inline_467$$=$JSCompiler_normLinearTime$jscomp$inline_466$$=Math.min(($normLinearTime$$-$segment$67_segment$jscomp$1$$.delay)/$segment$67_segment$jscomp$1$$.duration,
1);if($segment$67_segment$jscomp$1$$.curve&&1!=$JSCompiler_normTime$jscomp$inline_467$$)try{$JSCompiler_normTime$jscomp$inline_467$$=$segment$67_segment$jscomp$1$$.curve($JSCompiler_normLinearTime$jscomp$inline_466$$)}catch($JSCompiler_e$jscomp$inline_468$$){$dev$$module$src$log$$().error("Animation","step curve failed: "+$JSCompiler_e$jscomp$inline_468$$,$JSCompiler_e$jscomp$inline_468$$);this.$complete_$(!1,0);break a}}else $JSCompiler_normTime$jscomp$inline_467$$=$JSCompiler_normLinearTime$jscomp$inline_466$$=
1;1==$JSCompiler_normLinearTime$jscomp$inline_466$$&&($segment$67_segment$jscomp$1$$.completed=!0);try{$segment$67_segment$jscomp$1$$.func($JSCompiler_normTime$jscomp$inline_467$$,$segment$67_segment$jscomp$1$$.completed)}catch($e$68$jscomp$inline_469$$){$dev$$module$src$log$$().error("Animation","step mutate failed: "+$e$68$jscomp$inline_469$$,$e$68$jscomp$inline_469$$),this.$complete_$(!1,0)}}1==$normLinearTime$$?this.$complete_$(!0,0):this.$vsync_$.canAnimate(this.$contextNode_$)?this.$task_$(this.$state_$):
($dev$$module$src$log$$().warn("Animation","cancel animation"),this.$complete_$(!1,0))}};function $isLightbox$$module$src$service$fixed_layer$$($el$jscomp$15$$){return-1!==$el$jscomp$15$$.tagName.indexOf("LIGHTBOX")}
function $FixedLayer$$module$src$service$fixed_layer$$($ampdoc$jscomp$71$$,$vsync$jscomp$1$$,$borderTop$$,$paddingTop$$,$transfer$jscomp$3$$){var $$jscomp$this$jscomp$127$$=this;this.ampdoc=$ampdoc$jscomp$71$$;this.$vsync_$=$vsync$jscomp$1$$;this.$borderTop_$=$borderTop$$;this.$committedPaddingTop_$=this.$paddingTop_$=$paddingTop$$;this.$transfer_$=$transfer$jscomp$3$$&&$ampdoc$jscomp$71$$.isSingleDoc();this.$transferLayer_$=null;this.$counter_$=0;this.$elements_$=[];this.$updatePass_$=new $Pass$$module$src$pass$$($ampdoc$jscomp$71$$.win,
function(){$$jscomp$this$jscomp$127$$.update()});this.$hiddenObserverUnlistener_$=null;this.$fixedSelectors_$=[];this.$stickySelectors_$=[]}$JSCompiler_prototypeAlias$$=$FixedLayer$$module$src$service$fixed_layer$$.prototype;
$JSCompiler_prototypeAlias$$.enterLightbox=function($opt_lightbox$$,$opt_onComplete$$){var $$jscomp$this$jscomp$128$$=this,$transferLayer$$=$JSCompiler_StaticMethods_getTransferLayer_$$(this);$transferLayer$$&&$transferLayer$$.setLightboxMode(!0);$isExperimentOn$$module$src$experiments$$(this.ampdoc.win,"fixed-elements-in-lightbox")&&$opt_lightbox$$&&$opt_onComplete$$&&$opt_onComplete$$.then(function(){$$jscomp$this$jscomp$128$$.trySetupSelectorsNoInline($opt_lightbox$$,!0);$JSCompiler_StaticMethods_sortInDomOrder_$$($$jscomp$this$jscomp$128$$);
$$jscomp$this$jscomp$128$$.update()})};
$JSCompiler_prototypeAlias$$.leaveLightbox=function(){var $transferLayer$jscomp$1$$=$JSCompiler_StaticMethods_getTransferLayer_$$(this);$transferLayer$jscomp$1$$&&$transferLayer$jscomp$1$$.setLightboxMode(!1);if($isExperimentOn$$module$src$experiments$$(this.ampdoc.win,"fixed-elements-in-lightbox")){var $fes$$=$remove$$module$src$utils$array$$(this.$elements_$,function($transferLayer$jscomp$1$$){return!!$transferLayer$jscomp$1$$.lightboxed});$JSCompiler_StaticMethods_returnFixedElements_$$(this,$fes$$);
this.$elements_$.length||$JSCompiler_StaticMethods_unobserveHiddenMutations_$$(this)}};
$JSCompiler_prototypeAlias$$.setup=function(){var $platform$jscomp$2_root$jscomp$16$$=this.ampdoc.getRootNode(),$stylesheets$$=$platform$jscomp$2_root$jscomp$16$$.styleSheets;if($stylesheets$$){this.$fixedSelectors_$.length=0;for(var $i$jscomp$102$$=this.$stickySelectors_$.length=0;$i$jscomp$102$$<$stylesheets$$.length;$i$jscomp$102$$++){var $stylesheet$jscomp$2$$=$stylesheets$$[$i$jscomp$102$$];if(!$stylesheet$jscomp$2$$){$dev$$module$src$log$$().error("FixedLayer","Aborting setup due to null stylesheet.");
return}var $$jscomp$destructuring$var114$$=$stylesheet$jscomp$2$$,$disabled$$=$$jscomp$destructuring$var114$$.disabled,$ownerNode$$=$$jscomp$destructuring$var114$$.ownerNode;$disabled$$||!$ownerNode$$||"STYLE"!=$ownerNode$$.tagName||$ownerNode$$.hasAttribute("amp-boilerplate")||$ownerNode$$.hasAttribute("amp-runtime")||$ownerNode$$.hasAttribute("amp-extension")||$JSCompiler_StaticMethods_discoverSelectors_$$(this,$stylesheet$jscomp$2$$.cssRules)}this.trySetupSelectorsNoInline($platform$jscomp$2_root$jscomp$16$$,
void 0);$JSCompiler_StaticMethods_sortInDomOrder_$$(this);this.update();0<this.$elements_$.length&&this.observeHiddenMutations();$platform$jscomp$2_root$jscomp$16$$=$Services$$module$src$services$platformFor$$(this.ampdoc.win);0<this.$elements_$.length&&!this.$transfer_$&&$platform$jscomp$2_root$jscomp$16$$.isIos()&&$user$$module$src$log$$().warn("FixedLayer","Please test this page inside of an AMP Viewer such as Google's because the fixed or sticky positioning might have slightly different layout.")}};
$JSCompiler_prototypeAlias$$.observeHiddenMutations=function(){$isExperimentOn$$module$src$experiments$$(this.ampdoc.win,"hidden-mutation-observer")&&$JSCompiler_StaticMethods_initHiddenObserver_$$(this)};
function $JSCompiler_StaticMethods_unobserveHiddenMutations_$$($JSCompiler_StaticMethods_unobserveHiddenMutations_$self$$){$JSCompiler_StaticMethods_unobserveHiddenMutations_$self$$.$updatePass_$.cancel();var $unlisten$jscomp$6$$=$JSCompiler_StaticMethods_unobserveHiddenMutations_$self$$.$hiddenObserverUnlistener_$;$unlisten$jscomp$6$$&&($unlisten$jscomp$6$$(),$JSCompiler_StaticMethods_unobserveHiddenMutations_$self$$.$hiddenObserverUnlistener_$=null)}
function $JSCompiler_StaticMethods_initHiddenObserver_$$($JSCompiler_StaticMethods_initHiddenObserver_$self$$){if(!$JSCompiler_StaticMethods_initHiddenObserver_$self$$.$hiddenObserverUnlistener_$){var $root$jscomp$17$$=$JSCompiler_StaticMethods_initHiddenObserver_$self$$.ampdoc.getRootNode();$JSCompiler_StaticMethods_initHiddenObserver_$self$$.$hiddenObserverUnlistener_$=$getExistingServiceForDocInEmbedScope$$module$src$service$$($root$jscomp$17$$.documentElement||$root$jscomp$17$$,"hidden-observer").add(function(){$JSCompiler_StaticMethods_initHiddenObserver_$self$$.$updatePass_$.isPending()||
$JSCompiler_StaticMethods_initHiddenObserver_$self$$.$updatePass_$.schedule(16)})}}$JSCompiler_prototypeAlias$$.updatePaddingTop=function($paddingTop$jscomp$1$$,$opt_transient$$){this.$paddingTop_$=$paddingTop$jscomp$1$$;$opt_transient$$||(this.$committedPaddingTop_$=$paddingTop$jscomp$1$$);this.update()};
$JSCompiler_prototypeAlias$$.transformMutate=function($transform$jscomp$1$$){$transform$jscomp$1$$?this.$elements_$.forEach(function($e$jscomp$83$$){$e$jscomp$83$$.fixedNow&&$e$jscomp$83$$.top&&($setStyle$$module$src$style$$($e$jscomp$83$$.element,"transition","none"),$e$jscomp$83$$.transform&&"none"!=$e$jscomp$83$$.transform?$setStyle$$module$src$style$$($e$jscomp$83$$.element,"transform",$e$jscomp$83$$.transform+" "+$transform$jscomp$1$$):$setStyle$$module$src$style$$($e$jscomp$83$$.element,"transform",
$transform$jscomp$1$$))}):this.$elements_$.forEach(function($transform$jscomp$1$$){$transform$jscomp$1$$.fixedNow&&$transform$jscomp$1$$.top&&$setStyles$$module$src$style$$($transform$jscomp$1$$.element,{transform:"",transition:""})})};
$JSCompiler_prototypeAlias$$.addElement=function($element$jscomp$172$$,$opt_forceTransfer$$){$JSCompiler_StaticMethods_setupElement_$$(this,$element$jscomp$172$$,"*","fixed",$opt_forceTransfer$$);$JSCompiler_StaticMethods_sortInDomOrder_$$(this);this.observeHiddenMutations();return this.update()};
$JSCompiler_prototypeAlias$$.removeElement=function($element$jscomp$173_fes$jscomp$1$$){$element$jscomp$173_fes$jscomp$1$$=$JSCompiler_StaticMethods_tearDownElement_$$(this,$element$jscomp$173_fes$jscomp$1$$);$JSCompiler_StaticMethods_returnFixedElements_$$(this,$element$jscomp$173_fes$jscomp$1$$)};
function $JSCompiler_StaticMethods_returnFixedElements_$$($JSCompiler_StaticMethods_returnFixedElements_$self$$,$fes$jscomp$2$$){0<$fes$jscomp$2$$.length&&$JSCompiler_StaticMethods_returnFixedElements_$self$$.$transferLayer_$&&$JSCompiler_StaticMethods_returnFixedElements_$self$$.$vsync_$.mutate(function(){for(var $i$jscomp$103$$=0;$i$jscomp$103$$<$fes$jscomp$2$$.length;$i$jscomp$103$$++){var $fe$jscomp$1$$=$fes$jscomp$2$$[$i$jscomp$103$$];"fixed"==$fe$jscomp$1$$.position&&$JSCompiler_StaticMethods_returnFixedElements_$self$$.$transferLayer_$.returnFrom($fe$jscomp$1$$)}})}
$JSCompiler_prototypeAlias$$.isDeclaredFixed=function($element$jscomp$174$$){return!!$element$jscomp$174$$.__AMP_DECLFIXED};$JSCompiler_prototypeAlias$$.isDeclaredSticky=function($element$jscomp$175$$){return!!$element$jscomp$175$$.__AMP_DECLSTICKY};
$JSCompiler_prototypeAlias$$.update=function(){var $$jscomp$this$jscomp$131$$=this;this.$elements_$.filter(function($hasTransferables$$){return!$$jscomp$this$jscomp$131$$.ampdoc.contains($hasTransferables$$.element)}).forEach(function($hasTransferables$$){return $JSCompiler_StaticMethods_tearDownElement_$$($$jscomp$this$jscomp$131$$,$hasTransferables$$.element)});if(0==this.$elements_$.length)return Promise.resolve();this.$updatePass_$.cancel();var $hasTransferables$$=!1;return this.$vsync_$.runPromise({measure:function($state$jscomp$25$$){for(var $elements$jscomp$12$$=
$$jscomp$this$jscomp$131$$.$elements_$,$autoTops$$=[],$win$jscomp$184$$=$$jscomp$this$jscomp$131$$.ampdoc.win,$i$69_i$70_i$71_i$jscomp$104$$=0;$i$69_i$70_i$71_i$jscomp$104$$<$elements$jscomp$12$$.length;$i$69_i$70_i$71_i$jscomp$104$$++)$setImportantStyles$$module$src$style$$($elements$jscomp$12$$[$i$69_i$70_i$71_i$jscomp$104$$].element,{top:"",bottom:"-9999vh",transition:"none"});for($i$69_i$70_i$71_i$jscomp$104$$=0;$i$69_i$70_i$71_i$jscomp$104$$<$elements$jscomp$12$$.length;$i$69_i$70_i$71_i$jscomp$104$$++)$autoTops$$.push($computedStyle$$module$src$style$$($win$jscomp$184$$,
$elements$jscomp$12$$[$i$69_i$70_i$71_i$jscomp$104$$].element).top);for($i$69_i$70_i$71_i$jscomp$104$$=0;$i$69_i$70_i$71_i$jscomp$104$$<$elements$jscomp$12$$.length;$i$69_i$70_i$71_i$jscomp$104$$++)$setStyle$$module$src$style$$($elements$jscomp$12$$[$i$69_i$70_i$71_i$jscomp$104$$].element,"bottom","");for($i$69_i$70_i$71_i$jscomp$104$$=0;$i$69_i$70_i$71_i$jscomp$104$$<$elements$jscomp$12$$.length;$i$69_i$70_i$71_i$jscomp$104$$++){var $fe$jscomp$4$$=$elements$jscomp$12$$[$i$69_i$70_i$71_i$jscomp$104$$],
$$jscomp$destructuring$var116_style$jscomp$13_top$jscomp$3$$=$fe$jscomp$4$$,$$jscomp$destructuring$var117_bottom$jscomp$1_element$jscomp$176$$=$$jscomp$destructuring$var116_style$jscomp$13_top$jscomp$3$$.element,$forceTransfer$$=$$jscomp$destructuring$var116_style$jscomp$13_top$jscomp$3$$.forceTransfer;$$jscomp$destructuring$var116_style$jscomp$13_top$jscomp$3$$=$computedStyle$$module$src$style$$($win$jscomp$184$$,$$jscomp$destructuring$var117_bottom$jscomp$1_element$jscomp$176$$);var $offsetWidth$$=
$$jscomp$destructuring$var117_bottom$jscomp$1_element$jscomp$176$$.offsetWidth,$offsetHeight$$=$$jscomp$destructuring$var117_bottom$jscomp$1_element$jscomp$176$$.offsetHeight,$offsetTop$$=$$jscomp$destructuring$var117_bottom$jscomp$1_element$jscomp$176$$.offsetTop,$$jscomp$destructuring$var118_transform$jscomp$2$$=$$jscomp$destructuring$var116_style$jscomp$13_top$jscomp$3$$,$position$$=void 0===$$jscomp$destructuring$var118_transform$jscomp$2$$.position?"":$$jscomp$destructuring$var118_transform$jscomp$2$$.position,
$display$$=void 0===$$jscomp$destructuring$var118_transform$jscomp$2$$.display?"":$$jscomp$destructuring$var118_transform$jscomp$2$$.display;$$jscomp$destructuring$var117_bottom$jscomp$1_element$jscomp$176$$=$$jscomp$destructuring$var118_transform$jscomp$2$$.bottom;var $zIndex$$=$$jscomp$destructuring$var118_transform$jscomp$2$$.zIndex,$opacity$$=parseFloat($$jscomp$destructuring$var116_style$jscomp$13_top$jscomp$3$$.opacity);$$jscomp$destructuring$var118_transform$jscomp$2$$=$$jscomp$destructuring$var116_style$jscomp$13_top$jscomp$3$$[$getVendorJsPropertyName$$module$src$style$$($$jscomp$destructuring$var116_style$jscomp$13_top$jscomp$3$$,
"transform")];$$jscomp$destructuring$var116_style$jscomp$13_top$jscomp$3$$=$$jscomp$destructuring$var116_style$jscomp$13_top$jscomp$3$$.top;var $isFixed$jscomp$1$$="fixed"===$position$$&&($forceTransfer$$||0<$offsetWidth$$&&0<$offsetHeight$$),$isSticky$$=$endsWith$$module$src$string$$($position$$,"sticky"),$isDisplayed$$="none"!==$display$$;if($isDisplayed$$&&($isFixed$jscomp$1$$||$isSticky$$)){if("auto"===$$jscomp$destructuring$var116_style$jscomp$13_top$jscomp$3$$||$autoTops$$[$i$69_i$70_i$71_i$jscomp$104$$]!==
$$jscomp$destructuring$var116_style$jscomp$13_top$jscomp$3$$)$$jscomp$destructuring$var116_style$jscomp$13_top$jscomp$3$$=$isFixed$jscomp$1$$&&$offsetTop$$===$$jscomp$this$jscomp$131$$.$committedPaddingTop_$+$$jscomp$this$jscomp$131$$.$borderTop_$?"0px":"";var $isTransferrable$$=!1;$isFixed$jscomp$1$$&&($isTransferrable$$=!0===$forceTransfer$$?!0:!1===$forceTransfer$$?!1:0<$opacity$$&&300>$offsetHeight$$&&!(!$$jscomp$destructuring$var116_style$jscomp$13_top$jscomp$3$$&&!$$jscomp$destructuring$var117_bottom$jscomp$1_element$jscomp$176$$));
$isTransferrable$$&&($hasTransferables$$=!0);$state$jscomp$25$$[$fe$jscomp$4$$.id]={fixed:$isFixed$jscomp$1$$,sticky:$isSticky$$,transferrable:$isTransferrable$$,top:$$jscomp$destructuring$var116_style$jscomp$13_top$jscomp$3$$,zIndex:$zIndex$$,transform:$$jscomp$destructuring$var118_transform$jscomp$2$$}}else $state$jscomp$25$$[$fe$jscomp$4$$.id]={fixed:!1,sticky:!1,transferrable:!1,top:"",zIndex:""}}},mutate:function($state$jscomp$26$$){$hasTransferables$$&&$$jscomp$this$jscomp$131$$.$transfer_$&&
$JSCompiler_StaticMethods_getTransferLayer_$$($$jscomp$this$jscomp$131$$).update();for(var $elements$jscomp$13$$=$$jscomp$this$jscomp$131$$.$elements_$,$i$jscomp$105$$=0;$i$jscomp$105$$<$elements$jscomp$13$$.length;$i$jscomp$105$$++){var $fe$jscomp$5$$=$elements$jscomp$13$$[$i$jscomp$105$$],$feState$$=$state$jscomp$26$$[$fe$jscomp$5$$.id];$setStyle$$module$src$style$$($fe$jscomp$5$$.element,"transition","none");$setStyle$$module$src$style$$($fe$jscomp$5$$.element,"transition","");if($feState$$){var $JSCompiler_index$jscomp$inline_481$$=
$i$jscomp$105$$,$JSCompiler_state$jscomp$inline_482$$=$feState$$,$JSCompiler_element$jscomp$inline_483$$=$fe$jscomp$5$$.element,$JSCompiler_oldFixed$jscomp$inline_484$$=$fe$jscomp$5$$.fixedNow;$fe$jscomp$5$$.fixedNow=$JSCompiler_state$jscomp$inline_482$$.fixed;$fe$jscomp$5$$.stickyNow=$JSCompiler_state$jscomp$inline_482$$.sticky;$fe$jscomp$5$$.top=$JSCompiler_state$jscomp$inline_482$$.fixed||$JSCompiler_state$jscomp$inline_482$$.sticky?$JSCompiler_state$jscomp$inline_482$$.top:"";$fe$jscomp$5$$.transform=
$JSCompiler_state$jscomp$inline_482$$.transform;!$JSCompiler_oldFixed$jscomp$inline_484$$||$JSCompiler_state$jscomp$inline_482$$.fixed&&$JSCompiler_state$jscomp$inline_482$$.transferrable||!$$jscomp$this$jscomp$131$$.$transferLayer_$||$$jscomp$this$jscomp$131$$.$transferLayer_$.returnFrom($fe$jscomp$5$$);$JSCompiler_state$jscomp$inline_482$$.top&&($JSCompiler_state$jscomp$inline_482$$.fixed||$JSCompiler_state$jscomp$inline_482$$.sticky)&&!$fe$jscomp$5$$.lightboxed&&($JSCompiler_state$jscomp$inline_482$$.fixed||
!$$jscomp$this$jscomp$131$$.$transfer_$?$setStyle$$module$src$style$$($JSCompiler_element$jscomp$inline_483$$,"top","calc("+$JSCompiler_state$jscomp$inline_482$$.top+" + "+$$jscomp$this$jscomp$131$$.$paddingTop_$+"px)"):$$jscomp$this$jscomp$131$$.$committedPaddingTop_$===$$jscomp$this$jscomp$131$$.$paddingTop_$?$setStyle$$module$src$style$$($JSCompiler_element$jscomp$inline_483$$,"top",$JSCompiler_state$jscomp$inline_482$$.top):$setStyle$$module$src$style$$($JSCompiler_element$jscomp$inline_483$$,
"top","calc("+$JSCompiler_state$jscomp$inline_482$$.top+" - "+$$jscomp$this$jscomp$131$$.$committedPaddingTop_$+"px)"));$$jscomp$this$jscomp$131$$.$transfer_$&&$JSCompiler_state$jscomp$inline_482$$.fixed&&$JSCompiler_state$jscomp$inline_482$$.transferrable&&$JSCompiler_StaticMethods_getTransferLayer_$$($$jscomp$this$jscomp$131$$).transferTo($fe$jscomp$5$$,$JSCompiler_index$jscomp$inline_481$$,$JSCompiler_state$jscomp$inline_482$$)}}}},{}).catch(function($$jscomp$this$jscomp$131$$){$dev$$module$src$log$$().error("FixedLayer",
"Failed to mutate fixed elements:",$$jscomp$this$jscomp$131$$)})};
$JSCompiler_prototypeAlias$$.trySetupSelectorsNoInline=function($root$jscomp$18$$,$opt_lightboxMode$jscomp$1$$){try{for(var $JSCompiler_i$jscomp$inline_489_i$72$jscomp$inline_493$$=0;$JSCompiler_i$jscomp$inline_489_i$72$jscomp$inline_493$$<this.$fixedSelectors_$.length;$JSCompiler_i$jscomp$inline_489_i$72$jscomp$inline_493$$++)for(var $JSCompiler_fixedSelector$jscomp$inline_490_j$74$jscomp$inline_496$$=this.$fixedSelectors_$[$JSCompiler_i$jscomp$inline_489_i$72$jscomp$inline_493$$],$JSCompiler_elements$jscomp$inline_491$$=
$root$jscomp$18$$.querySelectorAll($JSCompiler_fixedSelector$jscomp$inline_490_j$74$jscomp$inline_496$$),$JSCompiler_j$jscomp$inline_492$$=0;$JSCompiler_j$jscomp$inline_492$$<$JSCompiler_elements$jscomp$inline_491$$.length&&!(10<this.$elements_$.length);$JSCompiler_j$jscomp$inline_492$$++)$JSCompiler_StaticMethods_setupElement_$$(this,$JSCompiler_elements$jscomp$inline_491$$[$JSCompiler_j$jscomp$inline_492$$],$JSCompiler_fixedSelector$jscomp$inline_490_j$74$jscomp$inline_496$$,"fixed",void 0,$opt_lightboxMode$jscomp$1$$);
for($JSCompiler_i$jscomp$inline_489_i$72$jscomp$inline_493$$=0;$JSCompiler_i$jscomp$inline_489_i$72$jscomp$inline_493$$<this.$stickySelectors_$.length;$JSCompiler_i$jscomp$inline_489_i$72$jscomp$inline_493$$++){var $JSCompiler_stickySelector$jscomp$inline_494$$=this.$stickySelectors_$[$JSCompiler_i$jscomp$inline_489_i$72$jscomp$inline_493$$],$elements$73$jscomp$inline_495$$=$root$jscomp$18$$.querySelectorAll($JSCompiler_stickySelector$jscomp$inline_494$$);for($JSCompiler_fixedSelector$jscomp$inline_490_j$74$jscomp$inline_496$$=
0;$JSCompiler_fixedSelector$jscomp$inline_490_j$74$jscomp$inline_496$$<$elements$73$jscomp$inline_495$$.length;$JSCompiler_fixedSelector$jscomp$inline_490_j$74$jscomp$inline_496$$++)$JSCompiler_StaticMethods_setupElement_$$(this,$elements$73$jscomp$inline_495$$[$JSCompiler_fixedSelector$jscomp$inline_490_j$74$jscomp$inline_496$$],$JSCompiler_stickySelector$jscomp$inline_494$$,"sticky",void 0,$opt_lightboxMode$jscomp$1$$)}}catch($e$jscomp$85$$){$dev$$module$src$log$$().error("FixedLayer","Failed to setup fixed elements:",
$e$jscomp$85$$)}};
function $JSCompiler_StaticMethods_setupElement_$$($JSCompiler_StaticMethods_setupElement_$self$$,$element$jscomp$178$$,$selector$jscomp$15$$,$position$jscomp$1$$,$opt_forceTransfer$jscomp$1$$,$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$){$element$jscomp$178$$.hasAttribute("style")&&($getStyle$$module$src$style$$($element$jscomp$178$$,"top")||$getStyle$$module$src$style$$($element$jscomp$178$$,"bottom"))&&$user$$module$src$log$$().error("FixedLayer","Inline styles with `top`, `bottom` and other CSS rules are not supported yet for fixed or sticky elements (#14186). Unexpected behavior may occur.",$element$jscomp$178$$);
if(!$isLightbox$$module$src$service$fixed_layer$$($element$jscomp$178$$)){var $isLightboxDescendant$$=$closest$$module$src$dom$$($element$jscomp$178$$,$isLightbox$$module$src$service$fixed_layer$$);if($fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$||!$isLightboxDescendant$$){$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$=null;for(var $i$jscomp$107_isFixed$jscomp$2$$=0;$i$jscomp$107_isFixed$jscomp$2$$<$JSCompiler_StaticMethods_setupElement_$self$$.$elements_$.length;$i$jscomp$107_isFixed$jscomp$2$$++){var $el$jscomp$16$$=
$JSCompiler_StaticMethods_setupElement_$self$$.$elements_$[$i$jscomp$107_isFixed$jscomp$2$$];if($el$jscomp$16$$.element==$element$jscomp$178$$&&$el$jscomp$16$$.position==$position$jscomp$1$$){$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$=$el$jscomp$16$$;break}}$i$jscomp$107_isFixed$jscomp$2$$="fixed"==$position$jscomp$1$$;$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$?$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$.selectors.includes($selector$jscomp$15$$)||$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$.selectors.push($selector$jscomp$15$$):
($fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$="F"+$JSCompiler_StaticMethods_setupElement_$self$$.$counter_$++,$element$jscomp$178$$.setAttribute("i-amphtml-fixedid",$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$),$i$jscomp$107_isFixed$jscomp$2$$?$element$jscomp$178$$.__AMP_DECLFIXED=!0:$element$jscomp$178$$.__AMP_DECLSTICKY=!0,$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$={id:$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$,element:$element$jscomp$178$$,position:$position$jscomp$1$$,
selectors:[$selector$jscomp$15$$],fixedNow:!1,stickyNow:!1,lightboxed:!!$isLightboxDescendant$$},$JSCompiler_StaticMethods_setupElement_$self$$.$elements_$.push($fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$));$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$.forceTransfer=$i$jscomp$107_isFixed$jscomp$2$$?$opt_forceTransfer$jscomp$1$$:!1}}}
function $JSCompiler_StaticMethods_tearDownElement_$$($JSCompiler_StaticMethods_tearDownElement_$self$$,$element$jscomp$179$$){for(var $removed$jscomp$2$$=[],$i$jscomp$108$$=0;$i$jscomp$108$$<$JSCompiler_StaticMethods_tearDownElement_$self$$.$elements_$.length;$i$jscomp$108$$++){var $fe$jscomp$7$$=$JSCompiler_StaticMethods_tearDownElement_$self$$.$elements_$[$i$jscomp$108$$];$fe$jscomp$7$$.element===$element$jscomp$179$$&&($fe$jscomp$7$$.lightboxed||$JSCompiler_StaticMethods_tearDownElement_$self$$.$vsync_$.mutate(function(){$setStyle$$module$src$style$$($element$jscomp$179$$,
"top","")}),$JSCompiler_StaticMethods_tearDownElement_$self$$.$elements_$.splice($i$jscomp$108$$,1),$removed$jscomp$2$$.push($fe$jscomp$7$$))}$JSCompiler_StaticMethods_tearDownElement_$self$$.$elements_$.length||$JSCompiler_StaticMethods_unobserveHiddenMutations_$$($JSCompiler_StaticMethods_tearDownElement_$self$$);return $removed$jscomp$2$$}
function $JSCompiler_StaticMethods_sortInDomOrder_$$($JSCompiler_StaticMethods_sortInDomOrder_$self$$){$JSCompiler_StaticMethods_sortInDomOrder_$self$$.$elements_$.sort(function($JSCompiler_StaticMethods_sortInDomOrder_$self$$,$fe2$$){var $fe1$$=$JSCompiler_StaticMethods_sortInDomOrder_$self$$.element;var $JSCompiler_element2$jscomp$inline_502$$=$fe2$$.element;$fe1$$=$fe1$$===$JSCompiler_element2$jscomp$inline_502$$?0:$fe1$$.compareDocumentPosition($JSCompiler_element2$jscomp$inline_502$$)&$PRECEDING_OR_CONTAINS$$module$src$dom$$?
1:-1;return $fe1$$})}
function $JSCompiler_StaticMethods_getTransferLayer_$$($JSCompiler_StaticMethods_getTransferLayer_$self$$){if(!$JSCompiler_StaticMethods_getTransferLayer_$self$$.$transfer_$||$JSCompiler_StaticMethods_getTransferLayer_$self$$.$transferLayer_$)return $JSCompiler_StaticMethods_getTransferLayer_$self$$.$transferLayer_$;var $doc$jscomp$40$$=$JSCompiler_StaticMethods_getTransferLayer_$self$$.ampdoc.win.document;$JSCompiler_StaticMethods_getTransferLayer_$self$$.$transferLayer_$=$doc$jscomp$40$$.body.shadowRoot?new $TransferLayerShadow$$module$src$service$fixed_layer$$($doc$jscomp$40$$,
$JSCompiler_StaticMethods_getTransferLayer_$self$$.$vsync_$):new $TransferLayerBody$$module$src$service$fixed_layer$$($doc$jscomp$40$$,$JSCompiler_StaticMethods_getTransferLayer_$self$$.$vsync_$);return $JSCompiler_StaticMethods_getTransferLayer_$self$$.$transferLayer_$}
function $JSCompiler_StaticMethods_discoverSelectors_$$($JSCompiler_StaticMethods_discoverSelectors_$self$$,$rules$jscomp$1$$){for(var $i$jscomp$109$$=0;$i$jscomp$109$$<$rules$jscomp$1$$.length;$i$jscomp$109$$++){var $position$jscomp$2_rule$jscomp$7$$=$rules$jscomp$1$$[$i$jscomp$109$$];if(4==$position$jscomp$2_rule$jscomp$7$$.type||12==$position$jscomp$2_rule$jscomp$7$$.type)$JSCompiler_StaticMethods_discoverSelectors_$$($JSCompiler_StaticMethods_discoverSelectors_$self$$,$position$jscomp$2_rule$jscomp$7$$.cssRules);
else if(1==$position$jscomp$2_rule$jscomp$7$$.type){var $selectorText$$=$position$jscomp$2_rule$jscomp$7$$.selectorText;$position$jscomp$2_rule$jscomp$7$$=$position$jscomp$2_rule$jscomp$7$$.style.position;"*"!==$selectorText$$&&$position$jscomp$2_rule$jscomp$7$$&&("fixed"===$position$jscomp$2_rule$jscomp$7$$?$JSCompiler_StaticMethods_discoverSelectors_$self$$.$fixedSelectors_$.push($selectorText$$):$endsWith$$module$src$string$$($position$jscomp$2_rule$jscomp$7$$,"sticky")&&$JSCompiler_StaticMethods_discoverSelectors_$self$$.$stickySelectors_$.push($selectorText$$))}}}
function $TransferLayerBody$$module$src$service$fixed_layer$$($doc$jscomp$41$$,$styles$jscomp$3_vsync$jscomp$2$$){this.$doc_$=$doc$jscomp$41$$;this.$vsync_$=$styles$jscomp$3_vsync$jscomp$2$$;this.$isLightboxExperimentOn_$=$isExperimentOn$$module$src$experiments$$($doc$jscomp$41$$.defaultView,"fixed-elements-in-lightbox");this.$layer_$=$doc$jscomp$41$$.body.cloneNode(!1);this.$layer_$.removeAttribute("style");$styles$jscomp$3_vsync$jscomp$2$$={position:"absolute",top:0,left:0,height:0,width:0,pointerEvents:"none",
overflow:"hidden",animation:"none",background:"none",border:"none",borderImage:"none",boxSizing:"border-box",boxShadow:"none",float:"none",margin:0,opacity:1,outline:"none",padding:"none",transform:"none",transition:"none",visibility:"visible"};this.$isLightboxExperimentOn_$&&delete $styles$jscomp$3_vsync$jscomp$2$$.visibility;$setStyles$$module$src$style$$(this.$layer_$,$assertDoesNotContainDisplay$$module$src$style$$($styles$jscomp$3_vsync$jscomp$2$$));$setInitialDisplay$$module$src$style$$(this.$layer_$);
$doc$jscomp$41$$.documentElement.appendChild(this.$layer_$)}$JSCompiler_prototypeAlias$$=$TransferLayerBody$$module$src$service$fixed_layer$$.prototype;$JSCompiler_prototypeAlias$$.getRoot=function(){return this.$layer_$};
$JSCompiler_prototypeAlias$$.setLightboxMode=function($on$jscomp$3$$){var $$jscomp$this$jscomp$132$$=this;this.$vsync_$.mutate(function(){var $root$jscomp$20$$=$$jscomp$this$jscomp$132$$.getRoot();$$jscomp$this$jscomp$132$$.$isLightboxExperimentOn_$?$on$jscomp$3$$?$root$jscomp$20$$.setAttribute("i-amphtml-lightbox",""):$root$jscomp$20$$.removeAttribute("i-amphtml-lightbox"):$setStyle$$module$src$style$$($root$jscomp$20$$,"visibility",$on$jscomp$3$$?"hidden":"visible")})};
$JSCompiler_prototypeAlias$$.update=function(){for(var $body$jscomp$4$$=this.$doc_$.body,$layer$jscomp$1$$=this.$layer_$,$bodyAttrs$$=$body$jscomp$4$$.attributes,$layerAttrs$$=$layer$jscomp$1$$.attributes,$i$75_i$jscomp$110$$=0;$i$75_i$jscomp$110$$<$bodyAttrs$$.length;$i$75_i$jscomp$110$$++){var $attr$jscomp$6_name$jscomp$156$$=$bodyAttrs$$[$i$75_i$jscomp$110$$];"style"!==$attr$jscomp$6_name$jscomp$156$$.name&&$layerAttrs$$.setNamedItem($attr$jscomp$6_name$jscomp$156$$.cloneNode(!1))}for($i$75_i$jscomp$110$$=
0;$i$75_i$jscomp$110$$<$layerAttrs$$.length;$i$75_i$jscomp$110$$++)$attr$jscomp$6_name$jscomp$156$$=$layerAttrs$$[$i$75_i$jscomp$110$$].name,"style"===$attr$jscomp$6_name$jscomp$156$$||"i-amphtml-lightbox"===$attr$jscomp$6_name$jscomp$156$$||$body$jscomp$4$$.hasAttribute($attr$jscomp$6_name$jscomp$156$$)||($layer$jscomp$1$$.removeAttribute($attr$jscomp$6_name$jscomp$156$$),$i$75_i$jscomp$110$$--)};
$JSCompiler_prototypeAlias$$.transferTo=function($fe$jscomp$9$$,$index$jscomp$82$$,$state$jscomp$28$$){var $element$jscomp$181$$=$fe$jscomp$9$$.element;if($element$jscomp$181$$.parentElement!=this.$layer_$){$user$$module$src$log$$().warn("FixedLayer","In order to improve scrolling performance in Safari, we now move the element to a fixed positioning layer:",$fe$jscomp$9$$.element);if(!$fe$jscomp$9$$.placeholder){$setStyle$$module$src$style$$($element$jscomp$181$$,"pointer-events","initial");var $placeholder$jscomp$4$$=
$fe$jscomp$9$$.placeholder=this.$doc_$.createElement("i-amphtml-fpa");$toggle$$module$src$style$$($placeholder$jscomp$4$$,!1);$placeholder$jscomp$4$$.setAttribute("i-amphtml-fixedid",$fe$jscomp$9$$.id)}$setStyle$$module$src$style$$($element$jscomp$181$$,"zIndex","calc("+(1E4+$index$jscomp$82$$)+" + "+($state$jscomp$28$$.zIndex||0)+")");$fe$jscomp$9$$.lightboxed&&$element$jscomp$181$$.classList.add("i-amphtml-lightbox-element");$element$jscomp$181$$.parentElement.replaceChild($fe$jscomp$9$$.placeholder,
$element$jscomp$181$$);this.$layer_$.appendChild($element$jscomp$181$$);$fe$jscomp$9$$.selectors.some(function($fe$jscomp$9$$){try{var $index$jscomp$82$$=$matches$$module$src$dom$$($element$jscomp$181$$,$fe$jscomp$9$$)}catch($JSCompiler_e$jscomp$inline_508$$){$dev$$module$src$log$$().error("FixedLayer","Failed to test query match:",$JSCompiler_e$jscomp$inline_508$$),$index$jscomp$82$$=!1}return $index$jscomp$82$$})||($user$$module$src$log$$().warn("FixedLayer","Failed to move the element to the fixed position layer. This is most likely due to the compound CSS selector:",
$fe$jscomp$9$$.element),this.returnFrom($fe$jscomp$9$$))}};
$JSCompiler_prototypeAlias$$.returnFrom=function($fe$jscomp$10$$){if($fe$jscomp$10$$.placeholder&&this.$doc_$.contains($fe$jscomp$10$$.placeholder)){var $element$jscomp$182$$=$fe$jscomp$10$$.element,$placeholder$jscomp$5$$=$fe$jscomp$10$$.placeholder;$fe$jscomp$10$$.lightboxed&&$element$jscomp$182$$.classList.remove("i-amphtml-lightbox-element");this.$doc_$.contains($element$jscomp$182$$)?($setStyle$$module$src$style$$($fe$jscomp$10$$.element,"zIndex",""),$placeholder$jscomp$5$$.parentElement.replaceChild($element$jscomp$182$$,
$placeholder$jscomp$5$$)):$placeholder$jscomp$5$$.parentElement.removeChild($placeholder$jscomp$5$$)}};
function $TransferLayerShadow$$module$src$service$fixed_layer$$($doc$jscomp$42$$,$vsync$jscomp$3$$){this.$vsync_$=$vsync$jscomp$3$$;this.$layer_$=$doc$jscomp$42$$.createElement("div");this.$layer_$.id="i-amphtml-fixed-layer";$setImportantStyles$$module$src$style$$(this.$layer_$,{position:"absolute",top:0,left:0,height:0,width:0,overflow:"hidden"});var $slot$$=$doc$jscomp$42$$.createElement("slot");$slot$$.setAttribute("name","i-amphtml-fixed");this.$layer_$.appendChild($slot$$);$doc$jscomp$42$$.body.shadowRoot.appendChild(this.$layer_$)}
$JSCompiler_prototypeAlias$$=$TransferLayerShadow$$module$src$service$fixed_layer$$.prototype;$JSCompiler_prototypeAlias$$.getRoot=function(){return this.$layer_$};$JSCompiler_prototypeAlias$$.setLightboxMode=function($on$jscomp$4$$){var $$jscomp$this$jscomp$134$$=this;this.$vsync_$.mutate(function(){$setStyle$$module$src$style$$($$jscomp$this$jscomp$134$$.getRoot(),"visibility",$on$jscomp$4$$?"hidden":"visible")})};$JSCompiler_prototypeAlias$$.update=function(){};
$JSCompiler_prototypeAlias$$.transferTo=function($fe$jscomp$11$$){var $element$jscomp$184$$=$fe$jscomp$11$$.element;$user$$module$src$log$$().warn("FixedLayer","In order to improve scrolling performance in Safari, we now move the element to a fixed positioning layer:",$fe$jscomp$11$$.element);$element$jscomp$184$$.setAttribute("slot","i-amphtml-fixed")};$JSCompiler_prototypeAlias$$.returnFrom=function($fe$jscomp$12$$){$fe$jscomp$12$$.element.removeAttribute("slot")};var $$jscomp$templatelit$5$$=['\n      <div id="i-amphtml-scroller">\n        <div id="i-amphtml-body-wrapper">\n          <slot></slot>\n        </div>\n      </div>'];$$jscomp$templatelit$5$$.raw=$$jscomp$templatelit$5$$.slice();var $INHERIT_STYLES$$module$src$service$viewport$viewport_binding_ios_embed_sd$$="align-content align-items align-self alignment-baseline backface-visibility box-sizing column-count column-fill column-gap column-rule column-span column-width columns display flex flex-basis flex-direction flex-flow flex-grow flex-shrink flex-wrap gap grid grid-area grid-auto-columns grid-auto-flow grid-auto-rows grid-column grid-gap grid-row grid-template justify-content justify-items justify-self margin order padding perspective perspective-origin place-content place-items place-self table-layout".split(" ");
function $ViewportBindingIosEmbedShadowRoot_$$module$src$service$viewport$viewport_binding_ios_embed_sd$$($doc$jscomp$43_win$jscomp$185$$){var $$jscomp$this$jscomp$135$$=this;this.win=$doc$jscomp$43_win$jscomp$185$$;this.$vsync_$=$Services$$module$src$services$vsyncFor$$($doc$jscomp$43_win$jscomp$185$$);$doc$jscomp$43_win$jscomp$185$$=this.win.document;$doc$jscomp$43_win$jscomp$185$$.documentElement.classList.add("i-amphtml-ios-embed-sd");var $scroller$$=$htmlFor$$module$src$static_template$$($doc$jscomp$43_win$jscomp$185$$)($$jscomp$templatelit$5$$);
this.$scroller_$=$scroller$$;this.$wrapper_$=$scroller$$.firstElementChild;$setInitialDisplay$$module$src$style$$(this.$scroller_$);$setImportantStyles$$module$src$style$$(this.$scroller_$,{"overflow-x":"hidden","overflow-y":"auto",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",margin:"0",width:"100%","box-sizing":"border-box","padding-top":"0px","border-top":"1px solid transparent"});$setImportantStyles$$module$src$style$$(this.$wrapper_$,{overflow:"visible",position:"relative","will-change":"transform"});
this.$scrollObservable_$=new $Observable$$module$src$observable$$;this.$resizeObservable_$=new $Observable$$module$src$observable$$;this.$boundScrollEventListener_$=this.$onScrolled_$.bind(this);this.$boundResizeEventListener_$=this.$onResized_$.bind(this);this.$useLayers_$=$isExperimentOn$$module$src$experiments$$(this.win,"layers");this.$setupDone_$=this.$bodySyncScheduled_$=!1;$waitForBody$$module$src$dom$$($doc$jscomp$43_win$jscomp$185$$,this.$setup_$.bind(this));$whenDocumentReady$$module$src$document_ready$$($doc$jscomp$43_win$jscomp$185$$).then(function(){$$jscomp$this$jscomp$135$$.$scroller_$.classList.add("i-amphtml-ios-overscroll");
$setImportantStyles$$module$src$style$$($$jscomp$this$jscomp$135$$.$scroller_$,{"-webkit-overflow-scrolling":"touch"})})}$JSCompiler_prototypeAlias$$=$ViewportBindingIosEmbedShadowRoot_$$module$src$service$viewport$viewport_binding_ios_embed_sd$$.prototype;$JSCompiler_prototypeAlias$$.ensureReadyForElements=function(){this.$setup_$()};
$JSCompiler_prototypeAlias$$.$setup_$=function(){if(!this.$setupDone_$){this.$setupDone_$=!0;var $body$jscomp$5$$=this.win.document.body;$body$jscomp$5$$.attachShadow({mode:"open"}).appendChild(this.$scroller_$);this.$updateBodyStyles_$();if(this.win.MutationObserver){var $bodyObserver$$=new this.win.MutationObserver(this.$updateBodyStyles_$.bind(this));$bodyObserver$$.observe($body$jscomp$5$$,{attributes:!0})}this.$onScrolled_$()}};
$JSCompiler_prototypeAlias$$.$updateBodyStyles_$=function(){var $$jscomp$this$jscomp$136$$=this;if(!this.$bodySyncScheduled_$){var $body$jscomp$6$$=this.win.document.body;if($body$jscomp$6$$){var $inheritStyles$$={};this.$bodySyncScheduled_$=!0;this.$vsync_$.run({measure:function(){var $bodyStyles$$=$computedStyle$$module$src$style$$($$jscomp$this$jscomp$136$$.win,$body$jscomp$6$$);$INHERIT_STYLES$$module$src$service$viewport$viewport_binding_ios_embed_sd$$.forEach(function($$jscomp$this$jscomp$136$$){$inheritStyles$$[$$jscomp$this$jscomp$136$$]=
$bodyStyles$$[$$jscomp$this$jscomp$136$$]||""})},mutate:function(){$$jscomp$this$jscomp$136$$.$bodySyncScheduled_$=!1;$setImportantStyles$$module$src$style$$($$jscomp$this$jscomp$136$$.$wrapper_$,$assertDoesNotContainDisplay$$module$src$style$$($inheritStyles$$))}})}}};$JSCompiler_prototypeAlias$$.$onResized_$=function(){this.$resizeObservable_$.fire();this.$updateBodyStyles_$()};
$JSCompiler_prototypeAlias$$.connect=function(){this.win.addEventListener("resize",this.$boundResizeEventListener_$);this.$scroller_$.addEventListener("scroll",this.$boundScrollEventListener_$)};$JSCompiler_prototypeAlias$$.disconnect=function(){this.win.removeEventListener("resize",this.$boundResizeEventListener_$);this.$scroller_$.removeEventListener("scroll",this.$boundScrollEventListener_$)};$JSCompiler_prototypeAlias$$.getBorderTop=function(){return 1};
$JSCompiler_prototypeAlias$$.requiresFixedLayerTransfer=function(){return!$isExperimentOn$$module$src$experiments$$(this.win,"ios-embed-sd-notransfer")};$JSCompiler_prototypeAlias$$.supportsPositionFixed=function(){return!0};$JSCompiler_prototypeAlias$$.onScroll=function($callback$jscomp$94$$){this.$scrollObservable_$.add($callback$jscomp$94$$)};$JSCompiler_prototypeAlias$$.onResize=function($callback$jscomp$95$$){this.$resizeObservable_$.add($callback$jscomp$95$$)};
$JSCompiler_prototypeAlias$$.updatePaddingTop=function($paddingTop$jscomp$2$$){$setImportantStyles$$module$src$style$$(this.$scroller_$,{"padding-top":$paddingTop$jscomp$2$$+"px"})};$JSCompiler_prototypeAlias$$.hideViewerHeader=function($transient$$){$transient$$||this.updatePaddingTop(0)};$JSCompiler_prototypeAlias$$.showViewerHeader=function($transient$jscomp$1$$,$paddingTop$jscomp$3$$){$transient$jscomp$1$$||this.updatePaddingTop($paddingTop$jscomp$3$$)};
$JSCompiler_prototypeAlias$$.disableScroll=function(){$setImportantStyles$$module$src$style$$(this.$scroller_$,{"overflow-y":"hidden",position:"fixed"})};$JSCompiler_prototypeAlias$$.resetScroll=function(){$setImportantStyles$$module$src$style$$(this.$scroller_$,{"overflow-y":"auto",position:"absolute"})};$JSCompiler_prototypeAlias$$.updateLightboxMode=function(){return Promise.resolve()};$JSCompiler_prototypeAlias$$.getSize=function(){return{width:this.win.innerWidth,height:this.win.innerHeight}};
$JSCompiler_prototypeAlias$$.getScrollTop=function(){return this.$scroller_$.scrollTop};$JSCompiler_prototypeAlias$$.getScrollLeft=function(){return 0};$JSCompiler_prototypeAlias$$.getScrollWidth=function(){return this.$scroller_$.scrollWidth};$JSCompiler_prototypeAlias$$.getScrollHeight=function(){return this.$scroller_$.scrollHeight};
$JSCompiler_prototypeAlias$$.getContentHeight=function(){var $bodyWrapper$$=this.$wrapper_$,$rect$jscomp$5$$=$bodyWrapper$$.getBoundingClientRect(),$style$jscomp$15$$=$computedStyle$$module$src$style$$(this.win,$bodyWrapper$$),$topGapPlusPaddingAndBorder$$=$rect$jscomp$5$$.top+this.getScrollTop();return $rect$jscomp$5$$.height+$topGapPlusPaddingAndBorder$$+parseInt($style$jscomp$15$$.marginTop,10)+parseInt($style$jscomp$15$$.marginBottom,10)};$JSCompiler_prototypeAlias$$.contentHeightChanged=function(){};
$JSCompiler_prototypeAlias$$.getLayoutRect=function($b$jscomp$4_el$jscomp$17$$,$opt_scrollLeft$$,$opt_scrollTop$$){$b$jscomp$4_el$jscomp$17$$=$b$jscomp$4_el$jscomp$17$$.getBoundingClientRect();if(this.$useLayers_$)return $layoutRectLtwh$$module$src$layout_rect$$($b$jscomp$4_el$jscomp$17$$.left,$b$jscomp$4_el$jscomp$17$$.top,$b$jscomp$4_el$jscomp$17$$.width,$b$jscomp$4_el$jscomp$17$$.height);var $scrollTop$$=void 0!=$opt_scrollTop$$?$opt_scrollTop$$:this.getScrollTop(),$scrollLeft$$=void 0!=$opt_scrollLeft$$?
$opt_scrollLeft$$:this.getScrollLeft();return $layoutRectLtwh$$module$src$layout_rect$$(Math.round($b$jscomp$4_el$jscomp$17$$.left+$scrollLeft$$),Math.round($b$jscomp$4_el$jscomp$17$$.top+$scrollTop$$),Math.round($b$jscomp$4_el$jscomp$17$$.width),Math.round($b$jscomp$4_el$jscomp$17$$.height))};$JSCompiler_prototypeAlias$$.getRootClientRectAsync=function(){return Promise.resolve(null)};
$JSCompiler_prototypeAlias$$.setScrollTop=function($scrollTop$jscomp$1$$){this.$scroller_$.scrollTop=$scrollTop$jscomp$1$$||1};$JSCompiler_prototypeAlias$$.$onScrolled_$=function($opt_event$jscomp$1$$){0==this.$scroller_$.scrollTop&&(this.$scroller_$.scrollTop=1,$opt_event$jscomp$1$$&&$opt_event$jscomp$1$$.preventDefault());$opt_event$jscomp$1$$&&this.$scrollObservable_$.fire()};$JSCompiler_prototypeAlias$$.getScrollingElement=function(){return this.$scroller_$};
$JSCompiler_prototypeAlias$$.getScrollingElementScrollsLikeViewport=function(){return!1};function $ViewportBindingIosEmbedWrapper_$$module$src$service$viewport$viewport_binding_ios_embed_wrapper$$($doc$jscomp$45_win$jscomp$186$$){var $$jscomp$this$jscomp$137$$=this;this.win=$doc$jscomp$45_win$jscomp$186$$;this.$vsync_$=$Services$$module$src$services$vsyncFor$$($doc$jscomp$45_win$jscomp$186$$);$doc$jscomp$45_win$jscomp$186$$=this.win.document;var $documentElement$jscomp$2$$=$doc$jscomp$45_win$jscomp$186$$.documentElement,$topClasses$$=$documentElement$jscomp$2$$.className;$documentElement$jscomp$2$$.classList.add("i-amphtml-ios-embed");
var $wrapper$jscomp$1$$=$doc$jscomp$45_win$jscomp$186$$.createElement("html");this.$wrapper_$=$wrapper$jscomp$1$$;$wrapper$jscomp$1$$.id="i-amphtml-wrapper";$wrapper$jscomp$1$$.className=$topClasses$$;this.$scrollObservable_$=new $Observable$$module$src$observable$$;this.$resizeObservable_$=new $Observable$$module$src$observable$$;this.$boundScrollEventListener_$=this.$onScrolled_$.bind(this);this.$boundResizeEventListener_$=function(){return $$jscomp$this$jscomp$137$$.$resizeObservable_$.fire()};
this.$useLayers_$=$isExperimentOn$$module$src$experiments$$(this.win,"layers");this.$paddingTop_$=0;this.$setupDone_$=!1;$waitForBody$$module$src$dom$$($doc$jscomp$45_win$jscomp$186$$,this.$setup_$.bind(this));$whenDocumentReady$$module$src$document_ready$$($doc$jscomp$45_win$jscomp$186$$).then(function(){$documentElement$jscomp$2$$.classList.add("i-amphtml-ios-overscroll")})}$JSCompiler_prototypeAlias$$=$ViewportBindingIosEmbedWrapper_$$module$src$service$viewport$viewport_binding_ios_embed_wrapper$$.prototype;
$JSCompiler_prototypeAlias$$.ensureReadyForElements=function(){this.$setup_$()};$JSCompiler_prototypeAlias$$.$setup_$=function(){if(!this.$setupDone_$){this.$setupDone_$=!0;var $doc$jscomp$46$$=this.win.document,$body$jscomp$7$$=$doc$jscomp$46$$.body;$doc$jscomp$46$$.documentElement.appendChild(this.$wrapper_$);this.$wrapper_$.appendChild($body$jscomp$7$$);Object.defineProperty($doc$jscomp$46$$,"body",{get:function(){return $body$jscomp$7$$}});this.$onScrolled_$()}};
$JSCompiler_prototypeAlias$$.connect=function(){this.win.addEventListener("resize",this.$boundResizeEventListener_$);this.$wrapper_$.addEventListener("scroll",this.$boundScrollEventListener_$)};$JSCompiler_prototypeAlias$$.disconnect=function(){this.win.removeEventListener("resize",this.$boundResizeEventListener_$);this.$wrapper_$.removeEventListener("scroll",this.$boundScrollEventListener_$)};$JSCompiler_prototypeAlias$$.getBorderTop=function(){return 1};
$JSCompiler_prototypeAlias$$.requiresFixedLayerTransfer=function(){return!0};$JSCompiler_prototypeAlias$$.supportsPositionFixed=function(){return!0};$JSCompiler_prototypeAlias$$.onScroll=function($callback$jscomp$96$$){this.$scrollObservable_$.add($callback$jscomp$96$$)};$JSCompiler_prototypeAlias$$.onResize=function($callback$jscomp$97$$){this.$resizeObservable_$.add($callback$jscomp$97$$)};
$JSCompiler_prototypeAlias$$.updatePaddingTop=function($paddingTop$jscomp$4$$){this.$paddingTop_$=$paddingTop$jscomp$4$$;$setImportantStyles$$module$src$style$$(this.$wrapper_$,{"padding-top":$paddingTop$jscomp$4$$+"px"})};$JSCompiler_prototypeAlias$$.hideViewerHeader=function($transient$jscomp$2$$){$transient$jscomp$2$$||this.updatePaddingTop(0)};$JSCompiler_prototypeAlias$$.showViewerHeader=function($transient$jscomp$3$$,$paddingTop$jscomp$5$$){$transient$jscomp$3$$||this.updatePaddingTop($paddingTop$jscomp$5$$)};
$JSCompiler_prototypeAlias$$.disableScroll=function(){this.$wrapper_$.classList.add("i-amphtml-scroll-disabled")};$JSCompiler_prototypeAlias$$.resetScroll=function(){this.$wrapper_$.classList.remove("i-amphtml-scroll-disabled")};$JSCompiler_prototypeAlias$$.updateLightboxMode=function(){return Promise.resolve()};$JSCompiler_prototypeAlias$$.getSize=function(){return{width:this.win.innerWidth,height:this.win.innerHeight}};$JSCompiler_prototypeAlias$$.getScrollTop=function(){return this.$wrapper_$.scrollTop};
$JSCompiler_prototypeAlias$$.getScrollLeft=function(){return 0};$JSCompiler_prototypeAlias$$.getScrollWidth=function(){return this.$wrapper_$.scrollWidth};$JSCompiler_prototypeAlias$$.getScrollHeight=function(){return this.$wrapper_$.scrollHeight};
$JSCompiler_prototypeAlias$$.getContentHeight=function(){var $scrollingElement$$=this.win.document.body,$rect$jscomp$6$$=$scrollingElement$$.getBoundingClientRect(),$style$jscomp$16$$=$computedStyle$$module$src$style$$(this.win,$scrollingElement$$);return $rect$jscomp$6$$.height+this.$paddingTop_$+parseInt($style$jscomp$16$$.marginTop,10)+parseInt($style$jscomp$16$$.marginBottom,10)};$JSCompiler_prototypeAlias$$.contentHeightChanged=function(){};
$JSCompiler_prototypeAlias$$.getLayoutRect=function($b$jscomp$5_el$jscomp$18$$,$opt_scrollLeft$jscomp$1_scrollLeft$jscomp$1$$,$opt_scrollTop$jscomp$1_scrollTop$jscomp$2$$){$b$jscomp$5_el$jscomp$18$$=$b$jscomp$5_el$jscomp$18$$.getBoundingClientRect();if(this.$useLayers_$)return $layoutRectLtwh$$module$src$layout_rect$$($b$jscomp$5_el$jscomp$18$$.left,$b$jscomp$5_el$jscomp$18$$.top,$b$jscomp$5_el$jscomp$18$$.width,$b$jscomp$5_el$jscomp$18$$.height);$opt_scrollTop$jscomp$1_scrollTop$jscomp$2$$=void 0!=
$opt_scrollTop$jscomp$1_scrollTop$jscomp$2$$?$opt_scrollTop$jscomp$1_scrollTop$jscomp$2$$:this.getScrollTop();$opt_scrollLeft$jscomp$1_scrollLeft$jscomp$1$$=void 0!=$opt_scrollLeft$jscomp$1_scrollLeft$jscomp$1$$?$opt_scrollLeft$jscomp$1_scrollLeft$jscomp$1$$:this.getScrollLeft();return $layoutRectLtwh$$module$src$layout_rect$$(Math.round($b$jscomp$5_el$jscomp$18$$.left+$opt_scrollLeft$jscomp$1_scrollLeft$jscomp$1$$),Math.round($b$jscomp$5_el$jscomp$18$$.top+$opt_scrollTop$jscomp$1_scrollTop$jscomp$2$$),
Math.round($b$jscomp$5_el$jscomp$18$$.width),Math.round($b$jscomp$5_el$jscomp$18$$.height))};$JSCompiler_prototypeAlias$$.getRootClientRectAsync=function(){return Promise.resolve(null)};$JSCompiler_prototypeAlias$$.setScrollTop=function($scrollTop$jscomp$3$$){this.$wrapper_$.scrollTop=$scrollTop$jscomp$3$$||1};
$JSCompiler_prototypeAlias$$.$onScrolled_$=function($opt_event$jscomp$2$$){0==this.$wrapper_$.scrollTop&&(this.$wrapper_$.scrollTop=1,$opt_event$jscomp$2$$&&$opt_event$jscomp$2$$.preventDefault());$opt_event$jscomp$2$$&&this.$scrollObservable_$.fire()};$JSCompiler_prototypeAlias$$.getScrollingElement=function(){return this.$wrapper_$};$JSCompiler_prototypeAlias$$.getScrollingElementScrollsLikeViewport=function(){return!1};function $ViewportBindingNatural_$$module$src$service$viewport$viewport_binding_natural$$($ampdoc$jscomp$72$$){var $$jscomp$this$jscomp$138$$=this;this.ampdoc=$ampdoc$jscomp$72$$;this.win=$ampdoc$jscomp$72$$.win;this.$platform_$=$Services$$module$src$services$platformFor$$(this.win);this.$scrollObservable_$=new $Observable$$module$src$observable$$;this.$resizeObservable_$=new $Observable$$module$src$observable$$;this.$boundScrollEventListener_$=function(){$$jscomp$this$jscomp$138$$.$scrollObservable_$.fire()};
this.$boundResizeEventListener_$=function(){return $$jscomp$this$jscomp$138$$.$resizeObservable_$.fire()};this.$useLayers_$=$isExperimentOn$$module$src$experiments$$(this.win,"layers")}$JSCompiler_prototypeAlias$$=$ViewportBindingNatural_$$module$src$service$viewport$viewport_binding_natural$$.prototype;$JSCompiler_prototypeAlias$$.connect=function(){this.win.addEventListener("scroll",this.$boundScrollEventListener_$);this.win.addEventListener("resize",this.$boundResizeEventListener_$)};
$JSCompiler_prototypeAlias$$.disconnect=function(){this.win.removeEventListener("scroll",this.$boundScrollEventListener_$);this.win.removeEventListener("resize",this.$boundResizeEventListener_$)};$JSCompiler_prototypeAlias$$.ensureReadyForElements=function(){};$JSCompiler_prototypeAlias$$.getBorderTop=function(){return 0};$JSCompiler_prototypeAlias$$.requiresFixedLayerTransfer=function(){return!1};$JSCompiler_prototypeAlias$$.supportsPositionFixed=function(){return!0};
$JSCompiler_prototypeAlias$$.onScroll=function($callback$jscomp$98$$){this.$scrollObservable_$.add($callback$jscomp$98$$)};$JSCompiler_prototypeAlias$$.onResize=function($callback$jscomp$99$$){this.$resizeObservable_$.add($callback$jscomp$99$$)};$JSCompiler_prototypeAlias$$.updatePaddingTop=function($paddingTop$jscomp$6$$){$setImportantStyles$$module$src$style$$(this.win.document.documentElement,{"padding-top":$paddingTop$jscomp$6$$+"px"})};
$JSCompiler_prototypeAlias$$.hideViewerHeader=function($transient$jscomp$4$$){$transient$jscomp$4$$||this.updatePaddingTop(0)};$JSCompiler_prototypeAlias$$.showViewerHeader=function($transient$jscomp$5$$,$paddingTop$jscomp$7$$){$transient$jscomp$5$$||this.updatePaddingTop($paddingTop$jscomp$7$$)};$JSCompiler_prototypeAlias$$.disableScroll=function(){this.win.document.documentElement.classList.add("i-amphtml-scroll-disabled")};$JSCompiler_prototypeAlias$$.resetScroll=function(){this.win.document.documentElement.classList.remove("i-amphtml-scroll-disabled")};
$JSCompiler_prototypeAlias$$.updateLightboxMode=function(){return Promise.resolve()};$JSCompiler_prototypeAlias$$.getSize=function(){var $winWidth$$=this.win.innerWidth,$winHeight$$=this.win.innerHeight;if($winWidth$$&&$winHeight$$)return{width:$winWidth$$,height:$winHeight$$};var $el$jscomp$19$$=this.win.document.documentElement;return{width:$el$jscomp$19$$.clientWidth,height:$el$jscomp$19$$.clientHeight}};
$JSCompiler_prototypeAlias$$.getScrollTop=function(){var $pageScrollTop$$=this.getScrollingElement().scrollTop||this.win.pageYOffset,$host$jscomp$1$$=this.ampdoc.getRootNode().host;return $host$jscomp$1$$?$pageScrollTop$$-$host$jscomp$1$$.offsetTop:$pageScrollTop$$};$JSCompiler_prototypeAlias$$.getScrollLeft=function(){return 0};$JSCompiler_prototypeAlias$$.getScrollWidth=function(){return this.getScrollingElement().scrollWidth};$JSCompiler_prototypeAlias$$.getScrollHeight=function(){return this.getScrollingElement().scrollHeight};
$JSCompiler_prototypeAlias$$.getContentHeight=function(){var $scrollingElement$jscomp$1_style$jscomp$17$$=this.getScrollingElement(),$rect$jscomp$7$$=$scrollingElement$jscomp$1_style$jscomp$17$$.getBoundingClientRect();$scrollingElement$jscomp$1_style$jscomp$17$$=$computedStyle$$module$src$style$$(this.win,$scrollingElement$jscomp$1_style$jscomp$17$$);var $topGapPlusPadding$$=$rect$jscomp$7$$.top+this.getScrollTop();return $rect$jscomp$7$$.height+$topGapPlusPadding$$+parseInt($scrollingElement$jscomp$1_style$jscomp$17$$.marginTop,
10)+parseInt($scrollingElement$jscomp$1_style$jscomp$17$$.marginBottom,10)};$JSCompiler_prototypeAlias$$.contentHeightChanged=function(){};
$JSCompiler_prototypeAlias$$.getLayoutRect=function($b$jscomp$6_el$jscomp$20$$,$opt_scrollLeft$jscomp$2_scrollLeft$jscomp$2$$,$opt_scrollTop$jscomp$2_scrollTop$jscomp$4$$){$b$jscomp$6_el$jscomp$20$$=$b$jscomp$6_el$jscomp$20$$.getBoundingClientRect();if(this.$useLayers_$)return $layoutRectLtwh$$module$src$layout_rect$$($b$jscomp$6_el$jscomp$20$$.left,$b$jscomp$6_el$jscomp$20$$.top,$b$jscomp$6_el$jscomp$20$$.width,$b$jscomp$6_el$jscomp$20$$.height);$opt_scrollTop$jscomp$2_scrollTop$jscomp$4$$=void 0!=
$opt_scrollTop$jscomp$2_scrollTop$jscomp$4$$?$opt_scrollTop$jscomp$2_scrollTop$jscomp$4$$:this.getScrollTop();$opt_scrollLeft$jscomp$2_scrollLeft$jscomp$2$$=void 0!=$opt_scrollLeft$jscomp$2_scrollLeft$jscomp$2$$?$opt_scrollLeft$jscomp$2_scrollLeft$jscomp$2$$:this.getScrollLeft();return $layoutRectLtwh$$module$src$layout_rect$$(Math.round($b$jscomp$6_el$jscomp$20$$.left+$opt_scrollLeft$jscomp$2_scrollLeft$jscomp$2$$),Math.round($b$jscomp$6_el$jscomp$20$$.top+$opt_scrollTop$jscomp$2_scrollTop$jscomp$4$$),
Math.round($b$jscomp$6_el$jscomp$20$$.width),Math.round($b$jscomp$6_el$jscomp$20$$.height))};$JSCompiler_prototypeAlias$$.getRootClientRectAsync=function(){return Promise.resolve(null)};$JSCompiler_prototypeAlias$$.setScrollTop=function($scrollTop$jscomp$5$$){this.getScrollingElement().scrollTop=$scrollTop$jscomp$5$$};
$JSCompiler_prototypeAlias$$.getScrollingElement=function(){var $doc$jscomp$47$$=this.win.document;return $doc$jscomp$47$$.scrollingElement?$doc$jscomp$47$$.scrollingElement:$doc$jscomp$47$$.body&&this.$platform_$.isWebKit()?$doc$jscomp$47$$.body:$doc$jscomp$47$$.documentElement};$JSCompiler_prototypeAlias$$.getScrollingElementScrollsLikeViewport=function(){return!0};function $clamp$$module$src$utils$math$$($val$jscomp$11$$){var $max$$=500,$min$$=0;return Math.min(Math.max($val$jscomp$11$$,$min$$),$max$$)};function $positionLt$$module$src$service$layers_impl$$($left$jscomp$4$$,$top$jscomp$5$$){return{left:$left$jscomp$4$$,top:$top$jscomp$5$$}}var $ANCESTRY_CACHE$$module$src$service$layers_impl$$=[],$layoutId$$module$src$service$layers_impl$$=0;
function $LayoutLayers$$module$src$service$layers_impl$$($ampdoc$jscomp$73_win$jscomp$188$$,$scrollingElement$jscomp$2$$,$scrollingElementScrollsLikeViewport$$){var $$jscomp$this$jscomp$142$$=this;$ampdoc$jscomp$73_win$jscomp$188$$=$ampdoc$jscomp$73_win$jscomp$188$$.win;this.$scrollingElement_$=$scrollingElement$jscomp$2$$;this.$onScroll_$=null;this.$layouts_$=[];this.$unlisteners_$=[];$JSCompiler_StaticMethods_listenForScroll_$$(this,$ampdoc$jscomp$73_win$jscomp$188$$.document);$ampdoc$jscomp$73_win$jscomp$188$$.document.documentElement.contains($scrollingElement$jscomp$2$$)||
$JSCompiler_StaticMethods_listenForScroll_$$(this,$scrollingElement$jscomp$2$$);this.$unlisteners_$.push($listen$$module$src$event_helper$$($ampdoc$jscomp$73_win$jscomp$188$$,"resize",function(){for(var $ampdoc$jscomp$73_win$jscomp$188$$=$$jscomp$this$jscomp$142$$.$layouts_$,$scrollingElement$jscomp$2$$=0;$scrollingElement$jscomp$2$$<$ampdoc$jscomp$73_win$jscomp$188$$.length;$scrollingElement$jscomp$2$$++){var $scrollingElementScrollsLikeViewport$$=$ampdoc$jscomp$73_win$jscomp$188$$[$scrollingElement$jscomp$2$$];
$scrollingElementScrollsLikeViewport$$.undeclareLayer();$scrollingElementScrollsLikeViewport$$.forgetParentLayer()}}));this.$activeLayer_$=$JSCompiler_StaticMethods_declareLayer_$$(this,$scrollingElement$jscomp$2$$,!0,$scrollingElementScrollsLikeViewport$$)}$JSCompiler_prototypeAlias$$=$LayoutLayers$$module$src$service$layers_impl$$.prototype;
$JSCompiler_prototypeAlias$$.dispose=function(){this.$unlisteners_$.forEach(function($unlisten$jscomp$7$$){return $unlisten$jscomp$7$$()});this.$unlisteners_$.length=0};
$JSCompiler_prototypeAlias$$.add=function($element$jscomp$186$$){var $layout$jscomp$11$$=$LayoutElement$$module$src$service$layers_impl$forOptional$$($element$jscomp$186$$);$layout$jscomp$11$$||($layout$jscomp$11$$=new $LayoutElement$$module$src$service$layers_impl$$($element$jscomp$186$$));this.$layouts_$.includes($layout$jscomp$11$$)||this.$layouts_$.push($layout$jscomp$11$$);return $layout$jscomp$11$$};
$JSCompiler_prototypeAlias$$.remove=function($element$jscomp$187_layout$jscomp$12$$){if($element$jscomp$187_layout$jscomp$12$$=$LayoutElement$$module$src$service$layers_impl$forOptional$$($element$jscomp$187_layout$jscomp$12$$)){var $layouts$$=this.$layouts_$,$i$jscomp$111_index$jscomp$83_parent$jscomp$21$$=$layouts$$.indexOf($element$jscomp$187_layout$jscomp$12$$);-1<$i$jscomp$111_index$jscomp$83_parent$jscomp$21$$&&$layouts$$.splice($i$jscomp$111_index$jscomp$83_parent$jscomp$21$$,1);if($i$jscomp$111_index$jscomp$83_parent$jscomp$21$$=
$element$jscomp$187_layout$jscomp$12$$.getParentLayer())$i$jscomp$111_index$jscomp$83_parent$jscomp$21$$.remove($element$jscomp$187_layout$jscomp$12$$);else for($i$jscomp$111_index$jscomp$83_parent$jscomp$21$$=0;$i$jscomp$111_index$jscomp$83_parent$jscomp$21$$<$layouts$$.length;$i$jscomp$111_index$jscomp$83_parent$jscomp$21$$++)$layouts$$[$i$jscomp$111_index$jscomp$83_parent$jscomp$21$$].remove($element$jscomp$187_layout$jscomp$12$$);$element$jscomp$187_layout$jscomp$12$$.forgetParentLayer();$element$jscomp$187_layout$jscomp$12$$.dirtyMeasurements()}};
$JSCompiler_prototypeAlias$$.getScrolledPosition=function($element$jscomp$188_pos$jscomp$4$$,$opt_ancestor$$){$element$jscomp$188_pos$jscomp$4$$=this.add($element$jscomp$188_pos$jscomp$4$$).getScrolledPosition($opt_ancestor$$);return $positionLt$$module$src$service$layers_impl$$(Math.round($element$jscomp$188_pos$jscomp$4$$.left),Math.round($element$jscomp$188_pos$jscomp$4$$.top))};
$JSCompiler_prototypeAlias$$.getOffsetPosition=function($element$jscomp$189_pos$jscomp$5$$,$opt_ancestor$jscomp$1$$){$element$jscomp$189_pos$jscomp$5$$=this.add($element$jscomp$189_pos$jscomp$5$$).getOffsetPosition($opt_ancestor$jscomp$1$$);return $positionLt$$module$src$service$layers_impl$$(Math.round($element$jscomp$189_pos$jscomp$5$$.left),Math.round($element$jscomp$189_pos$jscomp$5$$.top))};
$JSCompiler_prototypeAlias$$.getSize=function($element$jscomp$190_size$jscomp$17$$){$element$jscomp$190_size$jscomp$17$$=this.add($element$jscomp$190_size$jscomp$17$$).getSize();return{height:Math.round($element$jscomp$190_size$jscomp$17$$.height),width:Math.round($element$jscomp$190_size$jscomp$17$$.width)}};
$JSCompiler_prototypeAlias$$.remeasure=function($element$jscomp$191_from$jscomp$2_layout$jscomp$16$$,$opt_force$jscomp$3$$){$element$jscomp$191_from$jscomp$2_layout$jscomp$16$$=this.add($element$jscomp$191_from$jscomp$2_layout$jscomp$16$$);$element$jscomp$191_from$jscomp$2_layout$jscomp$16$$=$element$jscomp$191_from$jscomp$2_layout$jscomp$16$$.getParentLayer()||$element$jscomp$191_from$jscomp$2_layout$jscomp$16$$;$opt_force$jscomp$3$$&&$element$jscomp$191_from$jscomp$2_layout$jscomp$16$$.dirtyMeasurements();
$element$jscomp$191_from$jscomp$2_layout$jscomp$16$$.remeasure()};$JSCompiler_prototypeAlias$$.declareLayer=function($element$jscomp$192$$){$JSCompiler_StaticMethods_declareLayer_$$(this,$element$jscomp$192$$,!1,!1)};$JSCompiler_prototypeAlias$$.dirty=function($node$jscomp$46$$){($LayoutElement$$module$src$service$layers_impl$getParentLayer$$($node$jscomp$46$$)||$LayoutElement$$module$src$service$layers_impl$forOptional$$(this.$scrollingElement_$)).dirtyMeasurements()};
function $JSCompiler_StaticMethods_declareLayer_$$($JSCompiler_StaticMethods_declareLayer_$self_layout$jscomp$17$$,$element$jscomp$193$$,$isRootLayer$$,$scrollsLikeViewport$$){$JSCompiler_StaticMethods_declareLayer_$self_layout$jscomp$17$$=$JSCompiler_StaticMethods_declareLayer_$self_layout$jscomp$17$$.add($element$jscomp$193$$);$JSCompiler_StaticMethods_declareLayer_$self_layout$jscomp$17$$.declareLayer($isRootLayer$$,$scrollsLikeViewport$$);return $JSCompiler_StaticMethods_declareLayer_$self_layout$jscomp$17$$}
function $JSCompiler_StaticMethods_listenForScroll_$$($JSCompiler_StaticMethods_listenForScroll_$self$$,$root$jscomp$22$$){$JSCompiler_StaticMethods_listenForScroll_$self$$.$unlisteners_$.push($listen$$module$src$event_helper$$($root$jscomp$22$$,"scroll",function($root$jscomp$22$$){$root$jscomp$22$$=$root$jscomp$22$$.target;$root$jscomp$22$$=$root$jscomp$22$$.nodeType==Node.ELEMENT_NODE?$root$jscomp$22$$:$JSCompiler_StaticMethods_listenForScroll_$self$$.$scrollingElement_$;var $JSCompiler_scrolled$jscomp$inline_518_JSCompiler_target$jscomp$inline_517_event$jscomp$33$$=
$LayoutElement$$module$src$service$layers_impl$forOptional$$($root$jscomp$22$$);$JSCompiler_scrolled$jscomp$inline_518_JSCompiler_target$jscomp$inline_517_event$jscomp$33$$&&$JSCompiler_scrolled$jscomp$inline_518_JSCompiler_target$jscomp$inline_517_event$jscomp$33$$.isLayer()?$JSCompiler_scrolled$jscomp$inline_518_JSCompiler_target$jscomp$inline_517_event$jscomp$33$$.dirtyScrollMeasurements():$JSCompiler_scrolled$jscomp$inline_518_JSCompiler_target$jscomp$inline_517_event$jscomp$33$$=$JSCompiler_StaticMethods_declareLayer_$$($JSCompiler_StaticMethods_listenForScroll_$self$$,
$root$jscomp$22$$,!1,!1);$JSCompiler_StaticMethods_listenForScroll_$self$$.$activeLayer_$=$JSCompiler_scrolled$jscomp$inline_518_JSCompiler_target$jscomp$inline_517_event$jscomp$33$$;$JSCompiler_StaticMethods_listenForScroll_$self$$.$onScroll_$&&$JSCompiler_StaticMethods_listenForScroll_$self$$.$onScroll_$()}))}$JSCompiler_prototypeAlias$$.onScroll=function($handler$jscomp$28$$){this.$onScroll_$=$handler$jscomp$28$$};$JSCompiler_prototypeAlias$$.getActiveLayer=function(){return this.$activeLayer_$};
$JSCompiler_prototypeAlias$$.iterateAncestry=function($element$jscomp$194$$,$iterator$jscomp$7$$,$state$jscomp$29$$){return this.add($element$jscomp$194$$).iterateAncestry($iterator$jscomp$7$$,$state$jscomp$29$$)};
function $LayoutElement$$module$src$service$layers_impl$$($element$jscomp$195$$){$element$jscomp$195$$.__AMP_LAYOUT=this;this.$element_$=$element$jscomp$195$$;this.$id_$=$element$jscomp$195$$.tagName+"-"+$layoutId$$module$src$service$layers_impl$$++;this.$parentLayer_$=void 0;this.$needsRemeasure_$=!0;this.$size_$={height:0,width:0};this.$position_$=$positionLt$$module$src$service$layers_impl$$(0,0);this.$isActive_$=void 0;this.$needsScrollRemeasure_$=this.$scrollsLikeViewport_$=this.$isRootLayer_$=
this.$isLayer_$=!1;this.$scrollTop_$=this.$scrollLeft_$=0;this.$children_$=[]}function $LayoutElement$$module$src$service$layers_impl$forOptional$$($element$jscomp$197$$){return $element$jscomp$197$$.__AMP_LAYOUT||null}
function $LayoutElement$$module$src$service$layers_impl$getParentLayer$$($node$jscomp$47_parent$jscomp$22$$,$layout$jscomp$20_opt_force$jscomp$4_win$jscomp$189$$){if($isDestroyed$$module$src$service$layers_impl$$($node$jscomp$47_parent$jscomp$22$$))return null;if(!$layout$jscomp$20_opt_force$jscomp$4_win$jscomp$189$$&&($layout$jscomp$20_opt_force$jscomp$4_win$jscomp$189$$=$LayoutElement$$module$src$service$layers_impl$forOptional$$($node$jscomp$47_parent$jscomp$22$$)))return $layout$jscomp$20_opt_force$jscomp$4_win$jscomp$189$$.getParentLayer();
$layout$jscomp$20_opt_force$jscomp$4_win$jscomp$189$$=$node$jscomp$47_parent$jscomp$22$$.ownerDocument.defaultView;for(var $el$jscomp$21$$=$node$jscomp$47_parent$jscomp$22$$,$op$$=$node$jscomp$47_parent$jscomp$22$$,$last$jscomp$1_layout$76$$;$el$jscomp$21$$;){if(($last$jscomp$1_layout$76$$=$el$jscomp$21$$===$node$jscomp$47_parent$jscomp$22$$?null:$LayoutElement$$module$src$service$layers_impl$forOptional$$($el$jscomp$21$$))&&$last$jscomp$1_layout$76$$.isLayer())return $last$jscomp$1_layout$76$$;if($el$jscomp$21$$===
$op$$){if("fixed"==$computedStyle$$module$src$style$$($layout$jscomp$20_opt_force$jscomp$4_win$jscomp$189$$,$op$$).position){if($node$jscomp$47_parent$jscomp$22$$=$op$$!==$node$jscomp$47_parent$jscomp$22$$?$op$$:$frameParent$$module$src$service$layers_impl$$($node$jscomp$47_parent$jscomp$22$$.ownerDocument))return $getServiceForDoc$$module$src$service$$($node$jscomp$47_parent$jscomp$22$$,"layers").declareLayer($node$jscomp$47_parent$jscomp$22$$),$LayoutElement$$module$src$service$layers_impl$forOptional$$($node$jscomp$47_parent$jscomp$22$$);
break}$op$$=$op$$.offsetParent}$last$jscomp$1_layout$76$$=$el$jscomp$21$$;$el$jscomp$21$$=$el$jscomp$21$$.assignedSlot||$el$jscomp$21$$.parentNode||$el$jscomp$21$$.host;!$el$jscomp$21$$&&($op$$=$el$jscomp$21$$=$frameParent$$module$src$service$layers_impl$$($last$jscomp$1_layout$76$$))&&($layout$jscomp$20_opt_force$jscomp$4_win$jscomp$189$$=$el$jscomp$21$$.ownerDocument.defaultView)}return null}$JSCompiler_prototypeAlias$$=$LayoutElement$$module$src$service$layers_impl$$.prototype;
$JSCompiler_prototypeAlias$$.getId=function(){return this.$id_$};$JSCompiler_prototypeAlias$$.contains=function($layout$jscomp$21$$){return $layout$jscomp$21$$===this?!1:$JSCompiler_StaticMethods_contains_$$(this,this.$element_$,$layout$jscomp$21$$.$element_$)};
function $JSCompiler_StaticMethods_contains_$$($JSCompiler_StaticMethods_contains_$self_host$jscomp$2_rootNode$jscomp$4$$,$element$jscomp$198$$,$other$jscomp$8$$){if($element$jscomp$198$$.contains($other$jscomp$8$$))return!0;if($element$jscomp$198$$.ownerDocument!==$other$jscomp$8$$.ownerDocument){var $frame$$=$frameParent$$module$src$service$layers_impl$$($other$jscomp$8$$.ownerDocument);return!!$frame$$&&$JSCompiler_StaticMethods_contains_$$($JSCompiler_StaticMethods_contains_$self_host$jscomp$2_rootNode$jscomp$4$$,
$element$jscomp$198$$,$frame$$)}$JSCompiler_StaticMethods_contains_$self_host$jscomp$2_rootNode$jscomp$4$$=($JSCompiler_StaticMethods_contains_$self_host$jscomp$2_rootNode$jscomp$4$$=$rootNodeFor$$module$src$dom$$($element$jscomp$198$$))&&$JSCompiler_StaticMethods_contains_$self_host$jscomp$2_rootNode$jscomp$4$$.host;return!!$JSCompiler_StaticMethods_contains_$self_host$jscomp$2_rootNode$jscomp$4$$&&$JSCompiler_StaticMethods_contains_$self_host$jscomp$2_rootNode$jscomp$4$$.contains($other$jscomp$8$$)}
$JSCompiler_prototypeAlias$$.add=function($child$jscomp$8$$){this.isLayer();this.contains($child$jscomp$8$$);this.$children_$.includes($child$jscomp$8$$)||this.$children_$.push($child$jscomp$8$$)};$JSCompiler_prototypeAlias$$.remove=function($child$jscomp$9_i$jscomp$113$$){$child$jscomp$9_i$jscomp$113$$=this.$children_$.indexOf($child$jscomp$9_i$jscomp$113$$);-1<$child$jscomp$9_i$jscomp$113$$&&this.$children_$.splice($child$jscomp$9_i$jscomp$113$$,1)};$JSCompiler_prototypeAlias$$.isLayer=function(){return this.$isLayer_$};
$JSCompiler_prototypeAlias$$.declareLayer=function($isRootLayer$jscomp$1_parent$jscomp$23$$,$scrollsLikeViewport$jscomp$1$$){this.$isLayer_$||(this.$isLayer_$=!0,this.$isRootLayer_$=$isRootLayer$jscomp$1_parent$jscomp$23$$,this.$scrollsLikeViewport_$=$scrollsLikeViewport$jscomp$1$$,this.$needsScrollRemeasure_$=this.$needsRemeasure_$=!0,($isRootLayer$jscomp$1_parent$jscomp$23$$=this.getParentLayer())&&$isRootLayer$jscomp$1_parent$jscomp$23$$.$transfer_$(this))};
$JSCompiler_prototypeAlias$$.undeclareLayer=function(){if(this.$isLayer_$&&!this.$isRootLayer_$){var $element$jscomp$199_parent$jscomp$24$$=this.$element_$;$isDestroyed$$module$src$service$layers_impl$$($element$jscomp$199_parent$jscomp$24$$)||"fixed"===$computedStyle$$module$src$style$$($element$jscomp$199_parent$jscomp$24$$.ownerDocument.defaultView,$element$jscomp$199_parent$jscomp$24$$).position||(this.$isLayer_$=!1,$element$jscomp$199_parent$jscomp$24$$=this.getParentLayer()||$LayoutElement$$module$src$service$layers_impl$getParentLayer$$($element$jscomp$199_parent$jscomp$24$$,
!0),this.$transfer_$($element$jscomp$199_parent$jscomp$24$$))}};$JSCompiler_prototypeAlias$$.$transfer_$=function($layer$jscomp$4$$){var $contained$$=$layer$jscomp$4$$.contains(this);$remove$$module$src$utils$array$$(this.$children_$,function($layout$jscomp$22$$){return $contained$$||$layer$jscomp$4$$.contains($layout$jscomp$22$$)?($layout$jscomp$22$$.dirtyMeasurements(),$layout$jscomp$22$$.$parentLayer_$=$layer$jscomp$4$$,$layer$jscomp$4$$.$children_$.push($layout$jscomp$22$$),!0):!1})};
$JSCompiler_prototypeAlias$$.getParentLayer=function(){if(void 0===this.$parentLayer_$){var $parent$jscomp$25$$=$LayoutElement$$module$src$service$layers_impl$getParentLayer$$(this.$element_$,!0);(this.$parentLayer_$=$parent$jscomp$25$$)&&$parent$jscomp$25$$.add(this)}return this.$parentLayer_$};$JSCompiler_prototypeAlias$$.forgetParentLayer=function(){this.$parentLayer_$=void 0};$JSCompiler_prototypeAlias$$.getSize=function(){this.remeasure();return this.$size_$};
$JSCompiler_prototypeAlias$$.getOffsetFromParent=function(){this.remeasure();return this.$position_$};$JSCompiler_prototypeAlias$$.isActiveUnsafe=function(){return this.$isActive_$};
$JSCompiler_prototypeAlias$$.getHorizontalDistanceFromParent=function(){var $parent$jscomp$26$$=this.getParentLayer();if(!$parent$jscomp$26$$)return 0;var $left$jscomp$5$$=this.getOffsetFromParent().left,$width$jscomp$33$$=this.getSize().width,$scrollLeft$jscomp$3$$=$parent$jscomp$26$$.getScrollLeft(),$parentWidth$$=$parent$jscomp$26$$.getSize().width;return $left$jscomp$5$$+$width$jscomp$33$$<$scrollLeft$jscomp$3$$?$scrollLeft$jscomp$3$$-($left$jscomp$5$$+$width$jscomp$33$$):$scrollLeft$jscomp$3$$+
$parentWidth$$<$left$jscomp$5$$?$left$jscomp$5$$-($scrollLeft$jscomp$3$$+$parentWidth$$):0};$JSCompiler_prototypeAlias$$.getHorizontalViewportsFromParent=function(){var $distance$jscomp$4$$=this.getHorizontalDistanceFromParent();if(0===$distance$jscomp$4$$)return 0;var $parentWidth$jscomp$1$$=this.getParentLayer().getSize().width;return $distance$jscomp$4$$/$parentWidth$jscomp$1$$};
$JSCompiler_prototypeAlias$$.getVerticalDistanceFromParent=function(){var $parent$jscomp$28$$=this.getParentLayer();if(!$parent$jscomp$28$$)return 0;var $top$jscomp$6$$=this.getOffsetFromParent().top,$height$jscomp$31$$=this.getSize().height,$scrollTop$jscomp$6$$=$parent$jscomp$28$$.getScrollTop(),$parentHeight$$=$parent$jscomp$28$$.getSize().height;return $top$jscomp$6$$+$height$jscomp$31$$<$scrollTop$jscomp$6$$?$scrollTop$jscomp$6$$-($top$jscomp$6$$+$height$jscomp$31$$):$scrollTop$jscomp$6$$+$parentHeight$$<
$top$jscomp$6$$?$top$jscomp$6$$-($scrollTop$jscomp$6$$+$parentHeight$$):0};$JSCompiler_prototypeAlias$$.getVerticalViewportsFromParent=function(){var $distance$jscomp$5$$=this.getVerticalDistanceFromParent();if(0===$distance$jscomp$5$$)return 0;var $parentHeight$jscomp$1$$=this.getParentLayer().getSize().height;return $distance$jscomp$5$$/$parentHeight$jscomp$1$$};$JSCompiler_prototypeAlias$$.getScrollTop=function(){$JSCompiler_StaticMethods_updateScrollPosition_$$(this);return this.$scrollTop_$};
$JSCompiler_prototypeAlias$$.getScrollLeft=function(){$JSCompiler_StaticMethods_updateScrollPosition_$$(this);return this.$scrollLeft_$};
$JSCompiler_prototypeAlias$$.getScrolledPosition=function($l$jscomp$1_opt_ancestor$jscomp$2$$){var $x$jscomp$87$$=this.getScrollLeft(),$y$jscomp$69$$=this.getScrollTop(),$stopAt$$=$l$jscomp$1_opt_ancestor$jscomp$2$$?$LayoutElement$$module$src$service$layers_impl$getParentLayer$$($l$jscomp$1_opt_ancestor$jscomp$2$$):null;for($l$jscomp$1_opt_ancestor$jscomp$2$$=this;$l$jscomp$1_opt_ancestor$jscomp$2$$&&$l$jscomp$1_opt_ancestor$jscomp$2$$!==$stopAt$$;$l$jscomp$1_opt_ancestor$jscomp$2$$=$l$jscomp$1_opt_ancestor$jscomp$2$$.getParentLayer()){var $position$jscomp$3$$=
$l$jscomp$1_opt_ancestor$jscomp$2$$.getOffsetFromParent();$x$jscomp$87$$+=$position$jscomp$3$$.left-$l$jscomp$1_opt_ancestor$jscomp$2$$.getScrollLeft();$y$jscomp$69$$+=$position$jscomp$3$$.top-$l$jscomp$1_opt_ancestor$jscomp$2$$.getScrollTop()}return $positionLt$$module$src$service$layers_impl$$($x$jscomp$87$$,$y$jscomp$69$$)};
$JSCompiler_prototypeAlias$$.getOffsetPosition=function($opt_ancestor$jscomp$3_stopAt$jscomp$1$$){var $x$jscomp$88$$=0,$y$jscomp$70$$=0;$opt_ancestor$jscomp$3_stopAt$jscomp$1$$=$opt_ancestor$jscomp$3_stopAt$jscomp$1$$?$LayoutElement$$module$src$service$layers_impl$getParentLayer$$($opt_ancestor$jscomp$3_stopAt$jscomp$1$$):null;for(var $l$jscomp$2$$=this;$l$jscomp$2$$&&$l$jscomp$2$$!==$opt_ancestor$jscomp$3_stopAt$jscomp$1$$;$l$jscomp$2$$=$l$jscomp$2$$.getParentLayer()){var $position$jscomp$4$$=$l$jscomp$2$$.getOffsetFromParent();
$x$jscomp$88$$+=$position$jscomp$4$$.left;$y$jscomp$70$$+=$position$jscomp$4$$.top}return $positionLt$$module$src$service$layers_impl$$($x$jscomp$88$$,$y$jscomp$70$$)};$JSCompiler_prototypeAlias$$.dirtyMeasurements=function(){this.$needsRemeasure_$=!0};$JSCompiler_prototypeAlias$$.dirtyScrollMeasurements=function(){this.$needsScrollRemeasure_$=!0};
$JSCompiler_prototypeAlias$$.remeasure=function(){for(var $layer$jscomp$5$$=this,$p$jscomp$8$$=this.getParentLayer();$p$jscomp$8$$;$p$jscomp$8$$=$p$jscomp$8$$.getParentLayer())$p$jscomp$8$$.$needsRemeasure_$&&($layer$jscomp$5$$=$p$jscomp$8$$);$layer$jscomp$5$$.$needsRemeasure_$&&$JSCompiler_StaticMethods_remeasure_$$($layer$jscomp$5$$)};
$JSCompiler_prototypeAlias$$.iterateAncestry=function($iterator$jscomp$8$$,$state$jscomp$30$$){for(var $activeLayer$$=$isDestroyed$$module$src$service$layers_impl$$(this.$element_$)?null:$getServiceForDoc$$module$src$service$$(this.$element_$,"layers").getActiveLayer(),$isActive$$=$activeLayer$$===this||!!$activeLayer$$&&$activeLayer$$.contains(this),$layer$jscomp$6_length$jscomp$33$$=this;$layer$jscomp$6_length$jscomp$33$$;)$ANCESTRY_CACHE$$module$src$service$layers_impl$$.push($layer$jscomp$6_length$jscomp$33$$),
$layer$jscomp$6_length$jscomp$33$$.$isActive_$=$isActive$$,$layer$jscomp$6_length$jscomp$33$$===$activeLayer$$&&($isActive$$=!1),$layer$jscomp$6_length$jscomp$33$$=$layer$jscomp$6_length$jscomp$33$$.getParentLayer();var $accumulator$$=void 0;$layer$jscomp$6_length$jscomp$33$$=$ANCESTRY_CACHE$$module$src$service$layers_impl$$.length;for(var $i$jscomp$114$$=0;$i$jscomp$114$$<$layer$jscomp$6_length$jscomp$33$$;$i$jscomp$114$$++){var $layer$77$$=$ANCESTRY_CACHE$$module$src$service$layers_impl$$.pop();
$accumulator$$=$iterator$jscomp$8$$($accumulator$$,$layer$77$$,$i$jscomp$114$$,$state$jscomp$30$$);$layer$77$$.$isActive_$=void 0}return $accumulator$$};
function $JSCompiler_StaticMethods_remeasure_$$($JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$){$JSCompiler_StaticMethods_updateScrollPosition_$$($JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$);$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.$needsRemeasure_$=!1;var $element$jscomp$200_i$jscomp$115_left$jscomp$6$$=$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.$element_$,$$jscomp$destructuring$var140_JSCompiler_temp$jscomp$170_parent$jscomp$30_top$jscomp$7$$=
$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.getParentLayer();if($$jscomp$destructuring$var140_JSCompiler_temp$jscomp$170_parent$jscomp$30_top$jscomp$7$$)if($$jscomp$destructuring$var140_JSCompiler_temp$jscomp$170_parent$jscomp$30_top$jscomp$7$$.$element_$.ownerDocument===$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.$element_$.ownerDocument){var $JSCompiler_position$jscomp$inline_523$$=$$jscomp$destructuring$var140_JSCompiler_temp$jscomp$170_parent$jscomp$30_top$jscomp$7$$.getScrolledPosition($$jscomp$destructuring$var140_JSCompiler_temp$jscomp$170_parent$jscomp$30_top$jscomp$7$$.$element_$.ownerDocument.documentElement);
$$jscomp$destructuring$var140_JSCompiler_temp$jscomp$170_parent$jscomp$30_top$jscomp$7$$=$positionLt$$module$src$service$layers_impl$$($JSCompiler_position$jscomp$inline_523$$.left-$$jscomp$destructuring$var140_JSCompiler_temp$jscomp$170_parent$jscomp$30_top$jscomp$7$$.getScrollLeft(),$JSCompiler_position$jscomp$inline_523$$.top-$$jscomp$destructuring$var140_JSCompiler_temp$jscomp$170_parent$jscomp$30_top$jscomp$7$$.getScrollTop())}else $$jscomp$destructuring$var140_JSCompiler_temp$jscomp$170_parent$jscomp$30_top$jscomp$7$$=
$positionLt$$module$src$service$layers_impl$$(0,0);else $$jscomp$destructuring$var140_JSCompiler_temp$jscomp$170_parent$jscomp$30_top$jscomp$7$$=$positionLt$$module$src$service$layers_impl$$(0,0);var $relative$$=$$jscomp$destructuring$var140_JSCompiler_temp$jscomp$170_parent$jscomp$30_top$jscomp$7$$;$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.$size_$={height:$element$jscomp$200_i$jscomp$115_left$jscomp$6$$.clientHeight,width:$element$jscomp$200_i$jscomp$115_left$jscomp$6$$.clientWidth};
$$jscomp$destructuring$var140_JSCompiler_temp$jscomp$170_parent$jscomp$30_top$jscomp$7$$=$element$jscomp$200_i$jscomp$115_left$jscomp$6$$.getBoundingClientRect();$element$jscomp$200_i$jscomp$115_left$jscomp$6$$=$$jscomp$destructuring$var140_JSCompiler_temp$jscomp$170_parent$jscomp$30_top$jscomp$7$$.left;$$jscomp$destructuring$var140_JSCompiler_temp$jscomp$170_parent$jscomp$30_top$jscomp$7$$=$$jscomp$destructuring$var140_JSCompiler_temp$jscomp$170_parent$jscomp$30_top$jscomp$7$$.top;$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.$scrollsLikeViewport_$&&
($element$jscomp$200_i$jscomp$115_left$jscomp$6$$+=$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.getScrollLeft(),$$jscomp$destructuring$var140_JSCompiler_temp$jscomp$170_parent$jscomp$30_top$jscomp$7$$+=$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.getScrollTop());$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.$position_$=$positionLt$$module$src$service$layers_impl$$($element$jscomp$200_i$jscomp$115_left$jscomp$6$$-$relative$$.left,$$jscomp$destructuring$var140_JSCompiler_temp$jscomp$170_parent$jscomp$30_top$jscomp$7$$-
$relative$$.top);($getMode$$module$src$mode$$().localDev||$getMode$$module$src$mode$$().test)&&Object.freeze&&(Object.freeze($JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.$size_$),Object.freeze($JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.$position_$));$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$=$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.$children_$;if($JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.length)for($element$jscomp$200_i$jscomp$115_left$jscomp$6$$=
0;$element$jscomp$200_i$jscomp$115_left$jscomp$6$$<$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.length;$element$jscomp$200_i$jscomp$115_left$jscomp$6$$++)$JSCompiler_StaticMethods_remeasure_$$($JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$[$element$jscomp$200_i$jscomp$115_left$jscomp$6$$])}
function $JSCompiler_StaticMethods_updateScrollPosition_$$($JSCompiler_StaticMethods_updateScrollPosition_$self$$){$JSCompiler_StaticMethods_updateScrollPosition_$self$$.$isLayer_$&&$JSCompiler_StaticMethods_updateScrollPosition_$self$$.$needsScrollRemeasure_$&&($JSCompiler_StaticMethods_updateScrollPosition_$self$$.$needsScrollRemeasure_$=!1,$JSCompiler_StaticMethods_updateScrollPosition_$self$$.$scrollLeft_$=$JSCompiler_StaticMethods_updateScrollPosition_$self$$.$element_$.scrollLeft,$JSCompiler_StaticMethods_updateScrollPosition_$self$$.$scrollTop_$=
$JSCompiler_StaticMethods_updateScrollPosition_$self$$.$element_$.scrollTop)}function $frameParent$$module$src$service$layers_impl$$($node$jscomp$48$$){try{var $defaultView$jscomp$1$$=$node$jscomp$48$$.defaultView,$frameElement$jscomp$2$$=$defaultView$jscomp$1$$&&$defaultView$jscomp$1$$.frameElement;return $frameElement$jscomp$2$$&&$frameElement$jscomp$2$$.__AMP_EMBED__?$frameElement$jscomp$2$$:null}catch($e$jscomp$87$$){}return null}
function $isDestroyed$$module$src$service$layers_impl$$($defaultView$jscomp$2_node$jscomp$49_ownerDocument$jscomp$3$$){$defaultView$jscomp$2_node$jscomp$49_ownerDocument$jscomp$3$$=$defaultView$jscomp$2_node$jscomp$49_ownerDocument$jscomp$3$$.ownerDocument;if(!$defaultView$jscomp$2_node$jscomp$49_ownerDocument$jscomp$3$$)return!0;$defaultView$jscomp$2_node$jscomp$49_ownerDocument$jscomp$3$$=$defaultView$jscomp$2_node$jscomp$49_ownerDocument$jscomp$3$$.defaultView;return!$defaultView$jscomp$2_node$jscomp$49_ownerDocument$jscomp$3$$||
!$defaultView$jscomp$2_node$jscomp$49_ownerDocument$jscomp$3$$.document}
function $installLayersServiceForDoc$$module$src$service$layers_impl$$($ampdoc$jscomp$74$$,$scrollingElement$jscomp$3$$,$scrollingElementScrollsLikeViewport$jscomp$1$$){$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$74$$,"layers",function($ampdoc$jscomp$74$$){return new $LayoutLayers$$module$src$service$layers_impl$$($ampdoc$jscomp$74$$,$scrollingElement$jscomp$3$$,$scrollingElementScrollsLikeViewport$jscomp$1$$)},!0)};function $numeric$$module$src$transition$$($start$jscomp$11$$,$end$jscomp$6$$){return function($time$jscomp$8$$){return $start$jscomp$11$$+($end$jscomp$6$$-$start$jscomp$11$$)*$time$jscomp$8$$}};function $Viewport$$module$src$service$viewport$viewport_impl$$($ampdoc$jscomp$76$$,$binding$jscomp$8$$,$viewer$jscomp$19$$){var $$jscomp$this$jscomp$144$$=this,$win$jscomp$191$$=$ampdoc$jscomp$76$$.win;this.ampdoc=$ampdoc$jscomp$76$$;this.$globalDoc_$=this.ampdoc.win.document;this.$binding_$=$binding$jscomp$8$$;this.$viewer_$=$viewer$jscomp$19$$;this.$scrollTop_$=this.$size_$=this.$rect_$=null;this.$scrollAnimationFrameThrottled_$=!1;this.$scrollLeft_$=null;this.$paddingTop_$=Number($viewer$jscomp$19$$.getParam("paddingTop")||
0);this.$lastPaddingTop_$=0;this.$timer_$=$Services$$module$src$services$timerFor$$($win$jscomp$191$$);this.$vsync_$=$Services$$module$src$services$vsyncFor$$($win$jscomp$191$$);this.$scrollTracking_$=!1;this.$scrollCount_$=0;this.$changeObservable_$=new $Observable$$module$src$observable$$;this.$scrollObservable_$=new $Observable$$module$src$observable$$;this.$resizeObservable_$=new $Observable$$module$src$observable$$;this.$originalViewportMetaString_$=this.$viewportMeta_$=void 0;(this.$useLayers_$=
$isExperimentOn$$module$src$experiments$$($win$jscomp$191$$,"layers"))&&$installLayersServiceForDoc$$module$src$service$layers_impl$$($ampdoc$jscomp$76$$,this.$binding_$.getScrollingElement(),this.$binding_$.getScrollingElementScrollsLikeViewport());this.$fixedLayer_$=new $FixedLayer$$module$src$service$fixed_layer$$($ampdoc$jscomp$76$$,this.$vsync_$,this.$binding_$.getBorderTop(),this.$paddingTop_$,this.$binding_$.requiresFixedLayerTransfer());$ampdoc$jscomp$76$$.whenReady().then(function(){return $$jscomp$this$jscomp$144$$.$fixedLayer_$.setup()});
this.$viewer_$.onMessage("viewport",this.$updateOnViewportEvent_$.bind(this));this.$viewer_$.onMessage("scroll",this.$viewerSetScrollTop_$.bind(this));this.$viewer_$.onMessage("disableScroll",this.$disableScrollEventHandler_$.bind(this));this.$binding_$.updatePaddingTop(this.$paddingTop_$);this.$binding_$.onScroll(this.$scroll_$.bind(this));this.$binding_$.onResize(this.$resize_$.bind(this));this.onScroll(this.$sendScrollMessage_$.bind(this));this.$visible_$=!1;this.$viewer_$.onVisibilityChanged(this.$updateVisibility_$.bind(this));
this.$updateVisibility_$();var $globalDocElement$$=this.$globalDoc_$.documentElement;$ampdoc$jscomp$76$$.isSingleDoc()&&$globalDocElement$$.classList.add("i-amphtml-singledoc");$viewer$jscomp$19$$.isEmbedded()?$globalDocElement$$.classList.add("i-amphtml-embedded"):$globalDocElement$$.classList.add("i-amphtml-standalone");$isIframed$$module$src$dom$$($win$jscomp$191$$)&&$globalDocElement$$.classList.add("i-amphtml-iframed");"1"===$viewer$jscomp$19$$.getParam("webview")&&$globalDocElement$$.classList.add("i-amphtml-webview");
$isIframed$$module$src$dom$$($win$jscomp$191$$)&&"scrollRestoration"in $win$jscomp$191$$.history&&($win$jscomp$191$$.history.scrollRestoration="manual")}$JSCompiler_prototypeAlias$$=$Viewport$$module$src$service$viewport$viewport_impl$$.prototype;$JSCompiler_prototypeAlias$$.dispose=function(){this.$binding_$.disconnect()};$JSCompiler_prototypeAlias$$.ensureReadyForElements=function(){this.$binding_$.ensureReadyForElements()};
$JSCompiler_prototypeAlias$$.$updateVisibility_$=function(){var $visible$jscomp$3$$=this.$viewer_$.isVisible();$visible$jscomp$3$$!=this.$visible_$&&((this.$visible_$=$visible$jscomp$3$$)?(this.$binding_$.connect(),this.$size_$&&this.$resize_$()):this.$binding_$.disconnect())};$JSCompiler_prototypeAlias$$.getPaddingTop=function(){return this.$paddingTop_$};$JSCompiler_prototypeAlias$$.getTop=function(){return this.getScrollTop()};
$JSCompiler_prototypeAlias$$.getScrollTop=function(){null==this.$scrollTop_$&&(this.$scrollTop_$=this.$binding_$.getScrollTop());return this.$scrollTop_$};$JSCompiler_prototypeAlias$$.getScrollLeft=function(){null==this.$scrollLeft_$&&(this.$scrollLeft_$=this.$binding_$.getScrollLeft());return this.$scrollLeft_$};$JSCompiler_prototypeAlias$$.setScrollTop=function($scrollPos$jscomp$1$$){this.$scrollTop_$=null;this.$binding_$.setScrollTop($scrollPos$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.getVerticalScrollbarWidth=function(){var $win$jscomp$192$$=this.ampdoc.win,$windowWidth$$=$win$jscomp$192$$.innerWidth,$documentWidth$$=$win$jscomp$192$$.document.documentElement.clientWidth;return $windowWidth$$-$documentWidth$$};$JSCompiler_prototypeAlias$$.updatePaddingBottom=function($paddingBottom$$){this.ampdoc.whenBodyAvailable().then(function($body$jscomp$8$$){$setStyle$$module$src$style$$($body$jscomp$8$$,"borderBottom",$paddingBottom$$+"px solid transparent")})};
$JSCompiler_prototypeAlias$$.getSize=function(){if(this.$size_$)return this.$size_$;this.$size_$=this.$binding_$.getSize();if(0==this.$size_$.width||0==this.$size_$.height){var $visibilityState$$=this.$viewer_$.getVisibilityState();("prerender"==$visibilityState$$||"visible"==$visibilityState$$)&&.01>Math.random()&&$dev$$module$src$log$$().error("Viewport","viewport has zero dimensions")}return this.$size_$};$JSCompiler_prototypeAlias$$.getHeight=function(){return this.getSize().height};
$JSCompiler_prototypeAlias$$.getWidth=function(){return this.getSize().width};$JSCompiler_prototypeAlias$$.getScrollWidth=function(){return this.$binding_$.getScrollWidth()};$JSCompiler_prototypeAlias$$.getScrollHeight=function(){return this.$binding_$.getScrollHeight()};$JSCompiler_prototypeAlias$$.getContentHeight=function(){return this.$binding_$.getContentHeight()};$JSCompiler_prototypeAlias$$.contentHeightChanged=function(){this.$binding_$.contentHeightChanged()};
$JSCompiler_prototypeAlias$$.getRect=function(){if(null==this.$rect_$){var $scrollTop$jscomp$7$$=0,$scrollLeft$jscomp$4$$=0;this.$useLayers_$||($scrollTop$jscomp$7$$=this.getScrollTop(),$scrollLeft$jscomp$4$$=this.getScrollLeft());var $size$jscomp$18$$=this.getSize();this.$rect_$=$layoutRectLtwh$$module$src$layout_rect$$($scrollLeft$jscomp$4$$,$scrollTop$jscomp$7$$,$size$jscomp$18$$.width,$size$jscomp$18$$.height)}return this.$rect_$};
$JSCompiler_prototypeAlias$$.getLayoutRect=function($b$jscomp$8_el$jscomp$22$$){var $c$jscomp$4_scrollLeft$jscomp$5$$=this.getScrollLeft(),$scrollTop$jscomp$8$$=this.getScrollTop(),$frameElement$jscomp$3$$=$getParentWindowFrameElement$$module$src$service$$($b$jscomp$8_el$jscomp$22$$,this.ampdoc.win);return $frameElement$jscomp$3$$?($b$jscomp$8_el$jscomp$22$$=this.$binding_$.getLayoutRect($b$jscomp$8_el$jscomp$22$$,0,0),$c$jscomp$4_scrollLeft$jscomp$5$$=this.$binding_$.getLayoutRect($frameElement$jscomp$3$$,
$c$jscomp$4_scrollLeft$jscomp$5$$,$scrollTop$jscomp$8$$),$layoutRectLtwh$$module$src$layout_rect$$(Math.round($b$jscomp$8_el$jscomp$22$$.left+$c$jscomp$4_scrollLeft$jscomp$5$$.left),Math.round($b$jscomp$8_el$jscomp$22$$.top+$c$jscomp$4_scrollLeft$jscomp$5$$.top),Math.round($b$jscomp$8_el$jscomp$22$$.width),Math.round($b$jscomp$8_el$jscomp$22$$.height))):this.$binding_$.getLayoutRect($b$jscomp$8_el$jscomp$22$$,$c$jscomp$4_scrollLeft$jscomp$5$$,$scrollTop$jscomp$8$$)};
$JSCompiler_prototypeAlias$$.getClientRectAsync=function($el$jscomp$23$$){var $$jscomp$this$jscomp$145$$=this;if(this.$useLayers_$)return this.$vsync_$.measurePromise(function(){return $$jscomp$this$jscomp$145$$.getLayoutRect($el$jscomp$23$$)});var $local$$=this.$vsync_$.measurePromise(function(){return $el$jscomp$23$$.getBoundingClientRect()}),$root$jscomp$23$$=this.$binding_$.getRootClientRectAsync(),$frameElement$jscomp$4$$=$getParentWindowFrameElement$$module$src$service$$($el$jscomp$23$$,this.ampdoc.win);
$frameElement$jscomp$4$$&&($root$jscomp$23$$=this.$vsync_$.measurePromise(function(){return $frameElement$jscomp$4$$.getBoundingClientRect()}));return Promise.all([$local$$,$root$jscomp$23$$]).then(function($el$jscomp$23$$){var $$jscomp$this$jscomp$145$$=$el$jscomp$23$$[0];return($el$jscomp$23$$=$el$jscomp$23$$[1])?$moveLayoutRect$$module$src$layout_rect$$($$jscomp$this$jscomp$145$$,$el$jscomp$23$$.left,$el$jscomp$23$$.top):$layoutRectLtwh$$module$src$layout_rect$$(Number($$jscomp$this$jscomp$145$$.left),
Number($$jscomp$this$jscomp$145$$.top),Number($$jscomp$this$jscomp$145$$.width),Number($$jscomp$this$jscomp$145$$.height))})};$JSCompiler_prototypeAlias$$.supportsPositionFixed=function(){return this.$binding_$.supportsPositionFixed()};$JSCompiler_prototypeAlias$$.isDeclaredFixed=function($element$jscomp$203$$){return this.$fixedLayer_$.isDeclaredFixed($element$jscomp$203$$)};
$JSCompiler_prototypeAlias$$.scrollIntoView=function($element$jscomp$204$$){var $$jscomp$this$jscomp$146$$=this;return $JSCompiler_StaticMethods_getScrollingContainerFor_$$(this,$element$jscomp$204$$).then(function($parent$jscomp$31$$){return $JSCompiler_StaticMethods_scrollIntoViewInternal_$$($$jscomp$this$jscomp$146$$,$element$jscomp$204$$,$parent$jscomp$31$$)})};
function $JSCompiler_StaticMethods_scrollIntoViewInternal_$$($JSCompiler_StaticMethods_scrollIntoViewInternal_$self$$,$element$jscomp$205$$,$parent$jscomp$32$$){var $elementTop$$=$JSCompiler_StaticMethods_scrollIntoViewInternal_$self$$.$binding_$.getLayoutRect($element$jscomp$205$$).top,$newScrollTopPromise$$=$JSCompiler_StaticMethods_scrollIntoViewInternal_$self$$.$useLayers_$?$JSCompiler_StaticMethods_getElementScrollTop_$$($JSCompiler_StaticMethods_scrollIntoViewInternal_$self$$,$parent$jscomp$32$$).then(function($JSCompiler_StaticMethods_scrollIntoViewInternal_$self$$){return $elementTop$$+
$JSCompiler_StaticMethods_scrollIntoViewInternal_$self$$}):$tryResolve$$module$src$utils$promise$$(function(){return Math.max(0,$elementTop$$-$JSCompiler_StaticMethods_scrollIntoViewInternal_$self$$.$paddingTop_$)});$newScrollTopPromise$$.then(function($element$jscomp$205$$){return $JSCompiler_StaticMethods_setElementScrollTop_$$($JSCompiler_StaticMethods_scrollIntoViewInternal_$self$$,$parent$jscomp$32$$,$element$jscomp$205$$)})}
$JSCompiler_prototypeAlias$$.animateScrollIntoView=function($element$jscomp$206$$,$pos$jscomp$6$$,$opt_duration$jscomp$3$$,$opt_curve$jscomp$2$$){var $$jscomp$this$jscomp$148$$=this;$pos$jscomp$6$$=void 0===$pos$jscomp$6$$?"top":$pos$jscomp$6$$;return $JSCompiler_StaticMethods_getScrollingContainerFor_$$(this,$element$jscomp$206$$).then(function($parent$jscomp$33$$){return $$jscomp$this$jscomp$148$$.animateScrollWithinParent($element$jscomp$206$$,$parent$jscomp$33$$,$pos$jscomp$6$$,$opt_duration$jscomp$3$$,
$opt_curve$jscomp$2$$)})};
$JSCompiler_prototypeAlias$$.animateScrollWithinParent=function($element$jscomp$207_parentHeight$jscomp$2$$,$parent$jscomp$34$$,$pos$jscomp$7$$,$opt_duration$jscomp$4$$,$opt_curve$jscomp$3$$){var $$jscomp$this$jscomp$149$$=this,$elementRect$jscomp$1$$=this.$binding_$.getLayoutRect($element$jscomp$207_parentHeight$jscomp$2$$);$element$jscomp$207_parentHeight$jscomp$2$$=($parent$jscomp$34$$==this.$binding_$.getScrollingElement()?this.getSize():this.getLayoutRect($parent$jscomp$34$$)).height;switch($pos$jscomp$7$$){case "bottom":var $offset$jscomp$19$$=
-$element$jscomp$207_parentHeight$jscomp$2$$+$elementRect$jscomp$1$$.height;break;case "center":$offset$jscomp$19$$=-$element$jscomp$207_parentHeight$jscomp$2$$/2+$elementRect$jscomp$1$$.height/2;break;default:$offset$jscomp$19$$=0}return $JSCompiler_StaticMethods_getElementScrollTop_$$(this,$parent$jscomp$34$$).then(function($element$jscomp$207_parentHeight$jscomp$2$$){if($$jscomp$this$jscomp$149$$.$useLayers_$)var $pos$jscomp$7$$=Math.max(0,$elementRect$jscomp$1$$.top+$offset$jscomp$19$$+$element$jscomp$207_parentHeight$jscomp$2$$);
else{var $curScrollTop$$=$elementRect$jscomp$1$$.top-$$jscomp$this$jscomp$149$$.$paddingTop_$+$offset$jscomp$19$$;$pos$jscomp$7$$=Math.max(0,$curScrollTop$$)}if($pos$jscomp$7$$!=$element$jscomp$207_parentHeight$jscomp$2$$)return $JSCompiler_StaticMethods_interpolateScrollIntoView_$$($$jscomp$this$jscomp$149$$,$parent$jscomp$34$$,$element$jscomp$207_parentHeight$jscomp$2$$,$pos$jscomp$7$$,$opt_duration$jscomp$4$$,$opt_curve$jscomp$3$$)})};
function $JSCompiler_StaticMethods_interpolateScrollIntoView_$$($JSCompiler_StaticMethods_interpolateScrollIntoView_$self$$,$parent$jscomp$35$$,$curScrollTop$jscomp$1$$,$newScrollTop$jscomp$2$$,$duration$jscomp$5_opt_duration$jscomp$5$$,$curve$jscomp$3$$){$curve$jscomp$3$$=void 0===$curve$jscomp$3$$?"ease-in":$curve$jscomp$3$$;$duration$jscomp$5_opt_duration$jscomp$5$$=void 0!==$duration$jscomp$5_opt_duration$jscomp$5$$?$duration$jscomp$5_opt_duration$jscomp$5$$:Math.floor($clamp$$module$src$utils$math$$(.65*
Math.abs($curScrollTop$jscomp$1$$-$newScrollTop$jscomp$2$$)));var $interpolate$$=$numeric$$module$src$transition$$($curScrollTop$jscomp$1$$,$newScrollTop$jscomp$2$$);return $Animation$$module$src$animation$animate$$($parent$jscomp$35$$,function($curScrollTop$jscomp$1$$){$JSCompiler_StaticMethods_setElementScrollTop_$$($JSCompiler_StaticMethods_interpolateScrollIntoView_$self$$,$parent$jscomp$35$$,$interpolate$$($curScrollTop$jscomp$1$$))},$duration$jscomp$5_opt_duration$jscomp$5$$,$curve$jscomp$3$$).thenAlways(function(){$JSCompiler_StaticMethods_setElementScrollTop_$$($JSCompiler_StaticMethods_interpolateScrollIntoView_$self$$,
$parent$jscomp$35$$,$newScrollTop$jscomp$2$$)})}function $JSCompiler_StaticMethods_getScrollingContainerFor_$$($JSCompiler_StaticMethods_getScrollingContainerFor_$self$$,$element$jscomp$208$$){return $JSCompiler_StaticMethods_getScrollingContainerFor_$self$$.$vsync_$.measurePromise(function(){return $closestAncestorElementBySelector$$module$src$dom$$($element$jscomp$208$$,".i-amphtml-scrollable")||$JSCompiler_StaticMethods_getScrollingContainerFor_$self$$.$binding_$.getScrollingElement()})}
function $JSCompiler_StaticMethods_setElementScrollTop_$$($JSCompiler_StaticMethods_setElementScrollTop_$self$$,$element$jscomp$209$$,$scrollTop$jscomp$10$$){$element$jscomp$209$$==$JSCompiler_StaticMethods_setElementScrollTop_$self$$.$binding_$.getScrollingElement()?$JSCompiler_StaticMethods_setElementScrollTop_$self$$.$binding_$.setScrollTop($scrollTop$jscomp$10$$):$JSCompiler_StaticMethods_setElementScrollTop_$self$$.$vsync_$.mutate(function(){$element$jscomp$209$$.scrollTop=$scrollTop$jscomp$10$$})}
function $JSCompiler_StaticMethods_getElementScrollTop_$$($JSCompiler_StaticMethods_getElementScrollTop_$self$$,$element$jscomp$210$$){return $element$jscomp$210$$==$JSCompiler_StaticMethods_getElementScrollTop_$self$$.$binding_$.getScrollingElement()?$tryResolve$$module$src$utils$promise$$(function(){return $JSCompiler_StaticMethods_getElementScrollTop_$self$$.getScrollTop()}):$JSCompiler_StaticMethods_getElementScrollTop_$self$$.$vsync_$.measurePromise(function(){return $element$jscomp$210$$.scrollTop})}
$JSCompiler_prototypeAlias$$.getScrollingElement=function(){return this.$binding_$.getScrollingElement()};$JSCompiler_prototypeAlias$$.onChanged=function($handler$jscomp$29$$){return this.$changeObservable_$.add($handler$jscomp$29$$)};$JSCompiler_prototypeAlias$$.onScroll=function($handler$jscomp$30$$){return this.$scrollObservable_$.add($handler$jscomp$30$$)};$JSCompiler_prototypeAlias$$.onResize=function($handler$jscomp$31$$){return this.$resizeObservable_$.add($handler$jscomp$31$$)};
$JSCompiler_prototypeAlias$$.enterLightboxMode=function($opt_requestingElement$$,$opt_onComplete$jscomp$1$$){this.$viewer_$.sendMessage("requestFullOverlay",{},!0);this.enterOverlayMode();this.$fixedLayer_$.enterLightbox($opt_requestingElement$$,$opt_onComplete$jscomp$1$$);$opt_requestingElement$$&&this.maybeEnterFieLightboxMode($opt_requestingElement$$);return this.$binding_$.updateLightboxMode(!0)};
$JSCompiler_prototypeAlias$$.leaveLightboxMode=function($opt_requestingElement$jscomp$1$$){this.$viewer_$.sendMessage("cancelFullOverlay",{},!0);this.$fixedLayer_$.leaveLightbox();this.leaveOverlayMode();$opt_requestingElement$jscomp$1$$&&this.maybeLeaveFieLightboxMode($opt_requestingElement$jscomp$1$$);return this.$binding_$.updateLightboxMode(!1)};$JSCompiler_prototypeAlias$$.isLightboxExperimentOn=function(){return $isExperimentOn$$module$src$experiments$$(this.ampdoc.win,"amp-lightbox-a4a-proto")};
$JSCompiler_prototypeAlias$$.maybeEnterFieLightboxMode=function($requestingElement$$){var $fieOptional$$=$JSCompiler_StaticMethods_getFriendlyIframeEmbed_$$(this,$requestingElement$$);$fieOptional$$&&(this.isLightboxExperimentOn(),$fieOptional$$.enterFullOverlayMode())};
$JSCompiler_prototypeAlias$$.maybeLeaveFieLightboxMode=function($fieOptional$jscomp$1_requestingElement$jscomp$1$$){($fieOptional$jscomp$1_requestingElement$jscomp$1$$=$JSCompiler_StaticMethods_getFriendlyIframeEmbed_$$(this,$fieOptional$jscomp$1_requestingElement$jscomp$1$$))&&$fieOptional$jscomp$1_requestingElement$jscomp$1$$.leaveFullOverlayMode()};
function $JSCompiler_StaticMethods_getFriendlyIframeEmbed_$$($JSCompiler_StaticMethods_getFriendlyIframeEmbed_$self$$,$element$jscomp$212$$){var $iframeOptional$$=$getParentWindowFrameElement$$module$src$service$$($element$jscomp$212$$,$JSCompiler_StaticMethods_getFriendlyIframeEmbed_$self$$.ampdoc.win);return $iframeOptional$$&&$iframeOptional$$.__AMP_EMBED__}$JSCompiler_prototypeAlias$$.enterOverlayMode=function(){this.disableTouchZoom();this.disableScroll()};
$JSCompiler_prototypeAlias$$.leaveOverlayMode=function(){this.resetScroll();this.restoreOriginalTouchZoom()};
$JSCompiler_prototypeAlias$$.disableScroll=function(){var $$jscomp$this$jscomp$153$$=this,$win$jscomp$193$$=this.ampdoc.win,$documentElement$jscomp$4$$=$win$jscomp$193$$.document.documentElement,$requestedMarginRight$$;this.$vsync_$.measure(function(){var $existingMargin$$=$computedStyle$$module$src$style$$($win$jscomp$193$$,$documentElement$jscomp$4$$).marginRight,$scrollbarWidth$$=$$jscomp$this$jscomp$153$$.getVerticalScrollbarWidth();$requestedMarginRight$$=parseInt($existingMargin$$,10)+$scrollbarWidth$$});
this.$vsync_$.mutate(function(){$setStyle$$module$src$style$$($documentElement$jscomp$4$$,"margin-right",$requestedMarginRight$$,"px");$$jscomp$this$jscomp$153$$.$binding_$.disableScroll()})};$JSCompiler_prototypeAlias$$.resetScroll=function(){var $$jscomp$this$jscomp$154$$=this,$documentElement$jscomp$5$$=this.ampdoc.win.document.documentElement;this.$vsync_$.mutate(function(){$setStyle$$module$src$style$$($documentElement$jscomp$5$$,"margin-right","");$$jscomp$this$jscomp$154$$.$binding_$.resetScroll()})};
$JSCompiler_prototypeAlias$$.resetTouchZoom=function(){var $$jscomp$this$jscomp$155$$=this,$windowHeight$$=this.ampdoc.win.innerHeight,$documentHeight$$=this.$globalDoc_$.documentElement.clientHeight;$windowHeight$$&&$documentHeight$$&&$windowHeight$$===$documentHeight$$||this.disableTouchZoom()&&this.$timer_$.delay(function(){$$jscomp$this$jscomp$155$$.restoreOriginalTouchZoom()},50)};
$JSCompiler_prototypeAlias$$.disableTouchZoom=function(){var $viewportMeta$$=$JSCompiler_StaticMethods_getViewportMeta_$$(this);if(!$viewportMeta$$)return!1;var $JSCompiler_content$jscomp$inline_719_JSCompiler_currentValue$jscomp$inline_525$$=$viewportMeta$$.content,$JSCompiler_updateParams$jscomp$inline_526$$={"maximum-scale":"1","user-scalable":"no"};var $JSCompiler_params$jscomp$inline_711_JSCompiler_temp$jscomp$646$$=Object.create(null);if($JSCompiler_content$jscomp$inline_719_JSCompiler_currentValue$jscomp$inline_525$$)for(var $JSCompiler_changed$jscomp$inline_528_JSCompiler_pairs$jscomp$inline_712$$=
$JSCompiler_content$jscomp$inline_719_JSCompiler_currentValue$jscomp$inline_525$$.split(/,|;/),$JSCompiler_i$jscomp$inline_713$$=0;$JSCompiler_i$jscomp$inline_713$$<$JSCompiler_changed$jscomp$inline_528_JSCompiler_pairs$jscomp$inline_712$$.length;$JSCompiler_i$jscomp$inline_713$$++){var $JSCompiler_split$jscomp$inline_714_JSCompiler_value$jscomp$inline_716$$=$JSCompiler_changed$jscomp$inline_528_JSCompiler_pairs$jscomp$inline_712$$[$JSCompiler_i$jscomp$inline_713$$].split("="),$JSCompiler_name$jscomp$inline_715$$=
$JSCompiler_split$jscomp$inline_714_JSCompiler_value$jscomp$inline_716$$[0].trim();$JSCompiler_split$jscomp$inline_714_JSCompiler_value$jscomp$inline_716$$=$JSCompiler_split$jscomp$inline_714_JSCompiler_value$jscomp$inline_716$$[1];$JSCompiler_split$jscomp$inline_714_JSCompiler_value$jscomp$inline_716$$=($JSCompiler_split$jscomp$inline_714_JSCompiler_value$jscomp$inline_716$$||"").trim();$JSCompiler_name$jscomp$inline_715$$&&($JSCompiler_params$jscomp$inline_711_JSCompiler_temp$jscomp$646$$[$JSCompiler_name$jscomp$inline_715$$]=
$JSCompiler_split$jscomp$inline_714_JSCompiler_value$jscomp$inline_716$$)}$JSCompiler_changed$jscomp$inline_528_JSCompiler_pairs$jscomp$inline_712$$=!1;for(var $JSCompiler_k$jscomp$inline_529$$ in $JSCompiler_updateParams$jscomp$inline_526$$)$JSCompiler_params$jscomp$inline_711_JSCompiler_temp$jscomp$646$$[$JSCompiler_k$jscomp$inline_529$$]!==$JSCompiler_updateParams$jscomp$inline_526$$[$JSCompiler_k$jscomp$inline_529$$]&&($JSCompiler_changed$jscomp$inline_528_JSCompiler_pairs$jscomp$inline_712$$=
!0,void 0!==$JSCompiler_updateParams$jscomp$inline_526$$[$JSCompiler_k$jscomp$inline_529$$]?$JSCompiler_params$jscomp$inline_711_JSCompiler_temp$jscomp$646$$[$JSCompiler_k$jscomp$inline_529$$]=$JSCompiler_updateParams$jscomp$inline_526$$[$JSCompiler_k$jscomp$inline_529$$]:delete $JSCompiler_params$jscomp$inline_711_JSCompiler_temp$jscomp$646$$[$JSCompiler_k$jscomp$inline_529$$]);if($JSCompiler_changed$jscomp$inline_528_JSCompiler_pairs$jscomp$inline_712$$){$JSCompiler_content$jscomp$inline_719_JSCompiler_currentValue$jscomp$inline_525$$=
"";for(var $JSCompiler_k$jscomp$inline_720$$ in $JSCompiler_params$jscomp$inline_711_JSCompiler_temp$jscomp$646$$)0<$JSCompiler_content$jscomp$inline_719_JSCompiler_currentValue$jscomp$inline_525$$.length&&($JSCompiler_content$jscomp$inline_719_JSCompiler_currentValue$jscomp$inline_525$$+=","),$JSCompiler_content$jscomp$inline_719_JSCompiler_currentValue$jscomp$inline_525$$=$JSCompiler_params$jscomp$inline_711_JSCompiler_temp$jscomp$646$$[$JSCompiler_k$jscomp$inline_720$$]?$JSCompiler_content$jscomp$inline_719_JSCompiler_currentValue$jscomp$inline_525$$+
($JSCompiler_k$jscomp$inline_720$$+"="+$JSCompiler_params$jscomp$inline_711_JSCompiler_temp$jscomp$646$$[$JSCompiler_k$jscomp$inline_720$$]):$JSCompiler_content$jscomp$inline_719_JSCompiler_currentValue$jscomp$inline_525$$+$JSCompiler_k$jscomp$inline_720$$;$JSCompiler_params$jscomp$inline_711_JSCompiler_temp$jscomp$646$$=$JSCompiler_content$jscomp$inline_719_JSCompiler_currentValue$jscomp$inline_525$$}else $JSCompiler_params$jscomp$inline_711_JSCompiler_temp$jscomp$646$$=$JSCompiler_content$jscomp$inline_719_JSCompiler_currentValue$jscomp$inline_525$$;
return $JSCompiler_StaticMethods_setViewportMetaString_$$(this,$JSCompiler_params$jscomp$inline_711_JSCompiler_temp$jscomp$646$$)};$JSCompiler_prototypeAlias$$.restoreOriginalTouchZoom=function(){return void 0!==this.$originalViewportMetaString_$?$JSCompiler_StaticMethods_setViewportMetaString_$$(this,this.$originalViewportMetaString_$):!1};$JSCompiler_prototypeAlias$$.hasScrolled=function(){return 0<this.$scrollCount_$};$JSCompiler_prototypeAlias$$.updateFixedLayer=function(){this.$fixedLayer_$.update()};
$JSCompiler_prototypeAlias$$.addToFixedLayer=function($element$jscomp$213$$,$opt_forceTransfer$jscomp$2$$){return this.$fixedLayer_$.addElement($element$jscomp$213$$,$opt_forceTransfer$jscomp$2$$)};$JSCompiler_prototypeAlias$$.removeFromFixedLayer=function($element$jscomp$214$$){this.$fixedLayer_$.removeElement($element$jscomp$214$$)};
function $JSCompiler_StaticMethods_setViewportMetaString_$$($JSCompiler_StaticMethods_setViewportMetaString_$self_viewportMeta$jscomp$1$$,$viewportMetaString$$){return($JSCompiler_StaticMethods_setViewportMetaString_$self_viewportMeta$jscomp$1$$=$JSCompiler_StaticMethods_getViewportMeta_$$($JSCompiler_StaticMethods_setViewportMetaString_$self_viewportMeta$jscomp$1$$))&&$JSCompiler_StaticMethods_setViewportMetaString_$self_viewportMeta$jscomp$1$$.content!=$viewportMetaString$$?($JSCompiler_StaticMethods_setViewportMetaString_$self_viewportMeta$jscomp$1$$.content=
$viewportMetaString$$,!0):!1}
function $JSCompiler_StaticMethods_getViewportMeta_$$($JSCompiler_StaticMethods_getViewportMeta_$self$$){if($isIframed$$module$src$dom$$($JSCompiler_StaticMethods_getViewportMeta_$self$$.ampdoc.win))return null;void 0===$JSCompiler_StaticMethods_getViewportMeta_$self$$.$viewportMeta_$&&($JSCompiler_StaticMethods_getViewportMeta_$self$$.$viewportMeta_$=$JSCompiler_StaticMethods_getViewportMeta_$self$$.$globalDoc_$.querySelector("meta[name=viewport]"),$JSCompiler_StaticMethods_getViewportMeta_$self$$.$viewportMeta_$&&($JSCompiler_StaticMethods_getViewportMeta_$self$$.$originalViewportMetaString_$=
$JSCompiler_StaticMethods_getViewportMeta_$self$$.$viewportMeta_$.content));return $JSCompiler_StaticMethods_getViewportMeta_$self$$.$viewportMeta_$}$JSCompiler_prototypeAlias$$.$viewerSetScrollTop_$=function($data$jscomp$86$$){var $targetScrollTop$$=$data$jscomp$86$$.scrollTop;this.setScrollTop($targetScrollTop$$)};
$JSCompiler_prototypeAlias$$.$updateOnViewportEvent_$=function($data$jscomp$87$$){var $$jscomp$this$jscomp$156$$=this,$paddingTop$jscomp$8$$=$data$jscomp$87$$.paddingTop,$duration$jscomp$6$$=$data$jscomp$87$$.duration||0,$curve$jscomp$4$$=$data$jscomp$87$$.curve,$transient$jscomp$6$$=$data$jscomp$87$$["transient"];if(void 0!=$paddingTop$jscomp$8$$&&$paddingTop$jscomp$8$$!=this.$paddingTop_$){this.$lastPaddingTop_$=this.$paddingTop_$;this.$paddingTop_$=$paddingTop$jscomp$8$$;var $animPromise$$=$JSCompiler_StaticMethods_animateFixedElements_$$(this,
$duration$jscomp$6$$,$curve$jscomp$4$$,$transient$jscomp$6$$);$paddingTop$jscomp$8$$<this.$lastPaddingTop_$?this.$binding_$.hideViewerHeader($transient$jscomp$6$$,this.$lastPaddingTop_$):$animPromise$$.then(function(){$$jscomp$this$jscomp$156$$.$binding_$.showViewerHeader($transient$jscomp$6$$,$paddingTop$jscomp$8$$)})}};$JSCompiler_prototypeAlias$$.$disableScrollEventHandler_$=function($data$jscomp$88$$){$data$jscomp$88$$?this.disableScroll():this.resetScroll()};
function $JSCompiler_StaticMethods_animateFixedElements_$$($JSCompiler_StaticMethods_animateFixedElements_$self$$,$duration$jscomp$7$$,$curve$jscomp$5$$,$transient$jscomp$7$$){$JSCompiler_StaticMethods_animateFixedElements_$self$$.$fixedLayer_$.updatePaddingTop($JSCompiler_StaticMethods_animateFixedElements_$self$$.$paddingTop_$,$transient$jscomp$7$$);if(0>=$duration$jscomp$7$$)return Promise.resolve();var $tr$jscomp$2$$=$numeric$$module$src$transition$$($JSCompiler_StaticMethods_animateFixedElements_$self$$.$lastPaddingTop_$-
$JSCompiler_StaticMethods_animateFixedElements_$self$$.$paddingTop_$,0);return $Animation$$module$src$animation$animate$$($JSCompiler_StaticMethods_animateFixedElements_$self$$.ampdoc.getRootNode(),function($duration$jscomp$7$$){$duration$jscomp$7$$=$tr$jscomp$2$$($duration$jscomp$7$$);$JSCompiler_StaticMethods_animateFixedElements_$self$$.$fixedLayer_$.transformMutate("translateY("+$duration$jscomp$7$$+"px)")},$duration$jscomp$7$$,$curve$jscomp$5$$).thenAlways(function(){$JSCompiler_StaticMethods_animateFixedElements_$self$$.$fixedLayer_$.transformMutate(null)})}
function $JSCompiler_StaticMethods_changed_$$($JSCompiler_StaticMethods_changed_$self$$,$relayoutAll$jscomp$2$$,$velocity$$){var $size$jscomp$19$$=$JSCompiler_StaticMethods_changed_$self$$.getSize(),$scrollTop$jscomp$11$$=$JSCompiler_StaticMethods_changed_$self$$.getScrollTop(),$scrollLeft$jscomp$6$$=$JSCompiler_StaticMethods_changed_$self$$.getScrollLeft();$JSCompiler_StaticMethods_changed_$self$$.$changeObservable_$.fire({relayoutAll:$relayoutAll$jscomp$2$$,top:$scrollTop$jscomp$11$$,left:$scrollLeft$jscomp$6$$,
width:$size$jscomp$19$$.width,height:$size$jscomp$19$$.height,velocity:$velocity$$})}
$JSCompiler_prototypeAlias$$.$scroll_$=function(){var $$jscomp$this$jscomp$158$$=this;this.$rect_$=null;this.$scrollCount_$++;this.$scrollLeft_$=this.$binding_$.getScrollLeft();var $newScrollTop$jscomp$3$$=this.$binding_$.getScrollTop();if(!(0>$newScrollTop$jscomp$3$$)){this.$scrollTop_$=$newScrollTop$jscomp$3$$;if(!this.$scrollTracking_$){this.$scrollTracking_$=!0;var $now$jscomp$11$$=Date.now();this.$timer_$.delay(function(){$$jscomp$this$jscomp$158$$.$vsync_$.measure(function(){$$jscomp$this$jscomp$158$$.$throttledScroll_$($now$jscomp$11$$,$newScrollTop$jscomp$3$$)})},
36)}this.$scrollObservable_$.fire()}};
$JSCompiler_prototypeAlias$$.$throttledScroll_$=function($referenceTime$$,$referenceTop$$){var $$jscomp$this$jscomp$159$$=this,$newScrollTop$jscomp$4$$=this.$scrollTop_$=this.$binding_$.getScrollTop(),$now$jscomp$12$$=Date.now(),$velocity$jscomp$1$$=0;$now$jscomp$12$$!=$referenceTime$$&&($velocity$jscomp$1$$=($newScrollTop$jscomp$4$$-$referenceTop$$)/($now$jscomp$12$$-$referenceTime$$));.03>Math.abs($velocity$jscomp$1$$)?($JSCompiler_StaticMethods_changed_$$(this,!1,$velocity$jscomp$1$$),this.$scrollTracking_$=
!1):this.$timer_$.delay(function(){return $$jscomp$this$jscomp$159$$.$vsync_$.measure($$jscomp$this$jscomp$159$$.$throttledScroll_$.bind($$jscomp$this$jscomp$159$$,$now$jscomp$12$$,$newScrollTop$jscomp$4$$))},20)};
$JSCompiler_prototypeAlias$$.$sendScrollMessage_$=function(){var $$jscomp$this$jscomp$160$$=this;this.$scrollAnimationFrameThrottled_$||(this.$scrollAnimationFrameThrottled_$=!0,this.$vsync_$.measure(function(){$$jscomp$this$jscomp$160$$.$scrollAnimationFrameThrottled_$=!1;$$jscomp$this$jscomp$160$$.$viewer_$.sendMessage("scroll",$dict$$module$src$utils$object$$({scrollTop:$$jscomp$this$jscomp$160$$.getScrollTop()}),!0)}))};
$JSCompiler_prototypeAlias$$.$resize_$=function(){var $$jscomp$this$jscomp$161$$=this;this.$rect_$=null;var $oldSize$$=this.$size_$;this.$size_$=null;var $newSize$$=this.getSize();this.$fixedLayer_$.update().then(function(){var $widthChanged$$=!$oldSize$$||$oldSize$$.width!=$newSize$$.width;$JSCompiler_StaticMethods_changed_$$($$jscomp$this$jscomp$161$$,$widthChanged$$,0);var $sizeChanged$$=$widthChanged$$||$oldSize$$.height!=$newSize$$.height;$sizeChanged$$&&$$jscomp$this$jscomp$161$$.$resizeObservable_$.fire({relayoutAll:$widthChanged$$,
width:$newSize$$.width,height:$newSize$$.height})})};
function $createViewport$$module$src$service$viewport$viewport_impl$$($ampdoc$jscomp$77$$){var $viewer$jscomp$20$$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$77$$),$binding$jscomp$9_win$jscomp$195$$=$ampdoc$jscomp$77$$.win,$JSCompiler_temp$jscomp$172_JSCompiler_viewportType$jscomp$inline_533$$;if($JSCompiler_temp$jscomp$172_JSCompiler_viewportType$jscomp$inline_533$$=$ampdoc$jscomp$77$$.isSingleDoc())$JSCompiler_temp$jscomp$172_JSCompiler_viewportType$jscomp$inline_533$$=$viewer$jscomp$20$$.getParam("viewportType")||
$ViewportType$$module$src$service$viewport$viewport_impl$NATURAL$$,$JSCompiler_temp$jscomp$172_JSCompiler_viewportType$jscomp$inline_533$$=($Services$$module$src$services$platformFor$$($binding$jscomp$9_win$jscomp$195$$).isIos()&&$JSCompiler_temp$jscomp$172_JSCompiler_viewportType$jscomp$inline_533$$==$ViewportType$$module$src$service$viewport$viewport_impl$NATURAL$$?!$isIframed$$module$src$dom$$($binding$jscomp$9_win$jscomp$195$$)&&($getMode$$module$src$mode$$($binding$jscomp$9_win$jscomp$195$$).localDev||
$getMode$$module$src$mode$$($binding$jscomp$9_win$jscomp$195$$).development)||$isIframed$$module$src$dom$$($binding$jscomp$9_win$jscomp$195$$)&&$getMode$$module$src$mode$$($binding$jscomp$9_win$jscomp$195$$).test||$isIframed$$module$src$dom$$($binding$jscomp$9_win$jscomp$195$$)&&$viewer$jscomp$20$$.isEmbedded()?$ViewportType$$module$src$service$viewport$viewport_impl$NATURAL_IOS_EMBED$$:$JSCompiler_temp$jscomp$172_JSCompiler_viewportType$jscomp$inline_533$$:$JSCompiler_temp$jscomp$172_JSCompiler_viewportType$jscomp$inline_533$$)==
$ViewportType$$module$src$service$viewport$viewport_impl$NATURAL_IOS_EMBED$$;$binding$jscomp$9_win$jscomp$195$$=$JSCompiler_temp$jscomp$172_JSCompiler_viewportType$jscomp$inline_533$$?$isExperimentOn$$module$src$experiments$$($binding$jscomp$9_win$jscomp$195$$,"ios-embed-sd")&&$binding$jscomp$9_win$jscomp$195$$.Element.prototype.attachShadow&&11<=$Services$$module$src$services$platformFor$$($binding$jscomp$9_win$jscomp$195$$).getMajorVersion()?new $ViewportBindingIosEmbedShadowRoot_$$module$src$service$viewport$viewport_binding_ios_embed_sd$$($binding$jscomp$9_win$jscomp$195$$):
new $ViewportBindingIosEmbedWrapper_$$module$src$service$viewport$viewport_binding_ios_embed_wrapper$$($binding$jscomp$9_win$jscomp$195$$):new $ViewportBindingNatural_$$module$src$service$viewport$viewport_binding_natural$$($ampdoc$jscomp$77$$);return new $Viewport$$module$src$service$viewport$viewport_impl$$($ampdoc$jscomp$77$$,$binding$jscomp$9_win$jscomp$195$$,$viewer$jscomp$20$$)}
var $ViewportType$$module$src$service$viewport$viewport_impl$NATURAL$$="natural",$ViewportType$$module$src$service$viewport$viewport_impl$NATURAL_IOS_EMBED$$="natural-ios-embed";/nochunking=1/.test(self.location.hash);Promise.resolve();(function(){$logConstructor$$module$src$log$$=$Log$$module$src$log$$;$dev$$module$src$log$$();$user$$module$src$log$$()})();
(function($fn$$){self.reportError=$fn$$})(function($JSCompiler_root$jscomp$inline_723_win$jscomp$82$$,$JSCompiler_vars$jscomp$inline_537_error$jscomp$14$$,$opt_associatedElement$$){$reportError$$module$src$error$$($JSCompiler_vars$jscomp$inline_537_error$jscomp$14$$,$opt_associatedElement$$);$JSCompiler_vars$jscomp$inline_537_error$jscomp$14$$&&$JSCompiler_root$jscomp$inline_723_win$jscomp$82$$&&$isUserErrorMessage$$module$src$log$$($JSCompiler_vars$jscomp$inline_537_error$jscomp$14$$.message)&&!(0<=
$JSCompiler_vars$jscomp$inline_537_error$jscomp$14$$.message.indexOf("\u200b\u200b\u200b\u200b"))&&$Services$$module$src$services$ampdocServiceFor$$($JSCompiler_root$jscomp$inline_723_win$jscomp$82$$).isSingleDoc()&&($JSCompiler_vars$jscomp$inline_537_error$jscomp$14$$=$dict$$module$src$utils$object$$({errorName:$JSCompiler_vars$jscomp$inline_537_error$jscomp$14$$.name,errorMessage:$JSCompiler_vars$jscomp$inline_537_error$jscomp$14$$.message}),$JSCompiler_root$jscomp$inline_723_win$jscomp$82$$=$Services$$module$src$services$ampdocServiceFor$$($JSCompiler_root$jscomp$inline_723_win$jscomp$82$$).getAmpDoc().getRootNode(),
$triggerAnalyticsEvent$$module$src$analytics$$($JSCompiler_root$jscomp$inline_723_win$jscomp$82$$.documentElement||$JSCompiler_root$jscomp$inline_723_win$jscomp$82$$.body||$JSCompiler_root$jscomp$inline_723_win$jscomp$82$$,"user-error",$JSCompiler_vars$jscomp$inline_537_error$jscomp$14$$))}.bind(null,self));
function $installAmpdocServices$$module$src$runtime$$($ampdoc$jscomp$80$$,$opt_initParams$jscomp$2$$){$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,"url",$Url$$module$src$service$url_impl$$,!0);$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,"cid",$Cid$$module$src$service$cid_impl$$);$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,"documentInfo",$DocInfo$$module$src$service$document_info_impl$$);$installViewerServiceForDoc$$module$src$service$viewer_impl$$($ampdoc$jscomp$80$$,
$opt_initParams$jscomp$2$$);$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,"viewport",$createViewport$$module$src$service$viewport$viewport_impl$$,!0);$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,"hidden-observer",$HiddenObserver$$module$src$service$hidden_observer_impl$$);$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,"history",$createHistory$$module$src$service$history_impl$$);$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,
"resources",$Resources$$module$src$service$resources_impl$$);$installUrlReplacementsServiceForDoc$$module$src$service$url_replacements_impl$$($ampdoc$jscomp$80$$);$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,"action",$ActionService$$module$src$service$action_impl$$,!0);$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,"standard-actions",$StandardActions$$module$src$service$standard_actions_impl$$,!0);$installStorageServiceForDoc$$module$src$service$storage_impl$$($ampdoc$jscomp$80$$);
$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,"navigation",$Navigation$$module$src$service$navigation$$,!0);$installGlobalSubmitListenerForDoc$$module$src$document_submit$$($ampdoc$jscomp$80$$)}
function $MultidocManager$$module$src$runtime$$($win$jscomp$203$$,$ampdocService$jscomp$4$$,$extensions$jscomp$6$$,$timer$$){this.win=$win$jscomp$203$$;this.$ampdocService_$=$ampdocService$jscomp$4$$;this.$extensions_$=$extensions$jscomp$6$$;this.$timer_$=$timer$$;this.$shadowRoots_$=[]}
$MultidocManager$$module$src$runtime$$.prototype.$attachShadowDoc_$=function($hostElement$jscomp$2$$,$url$jscomp$93$$,$initParams$$,$builder$jscomp$1$$){var $$jscomp$this$jscomp$175$$=this;$JSCompiler_StaticMethods_purgeShadowRoots_$$(this);$setStyle$$module$src$style$$($hostElement$jscomp$2$$,"visibility","hidden");var $shadowRoot$jscomp$6$$=$createShadowRoot$$module$src$shadow_embed$$($hostElement$jscomp$2$$);$shadowRoot$jscomp$6$$.AMP&&($user$$module$src$log$$().warn("runtime","Shadow doc wasn't previously closed"),
$JSCompiler_StaticMethods_closeShadowRoot_$$(this,$shadowRoot$jscomp$6$$));var $amp$jscomp$1$$={};$shadowRoot$jscomp$6$$.AMP=$amp$jscomp$1$$;$amp$jscomp$1$$.url=$url$jscomp$93$$;var $origin$jscomp$16$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$93$$).origin,$ampdoc$jscomp$82$$=this.$ampdocService_$.installShadowDoc($url$jscomp$93$$,$shadowRoot$jscomp$6$$);$amp$jscomp$1$$.ampdoc=$ampdoc$jscomp$82$$;$installStylesForDoc$$module$src$style_installer$$($ampdoc$jscomp$82$$,cssText$$module$build$css,
!0);$installAmpdocServices$$module$src$runtime$$($ampdoc$jscomp$82$$,$initParams$$||Object.create(null));var $viewer$jscomp$25$$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$82$$);$amp$jscomp$1$$.setVisibilityState=function($hostElement$jscomp$2$$){$JSCompiler_StaticMethods_setVisibilityState_$$($viewer$jscomp$25$$,$hostElement$jscomp$2$$)};$amp$jscomp$1$$.postMessage=$viewer$jscomp$25$$.receiveMessage.bind($viewer$jscomp$25$$);var $onMessage$$;$amp$jscomp$1$$.onMessage=function($hostElement$jscomp$2$$){$onMessage$$=
$hostElement$jscomp$2$$};$viewer$jscomp$25$$.setMessageDeliverer(function($hostElement$jscomp$2$$,$url$jscomp$93$$,$initParams$$){if("broadcast"==$hostElement$jscomp$2$$)return $JSCompiler_StaticMethods_broadcast_$$($$jscomp$this$jscomp$175$$,$url$jscomp$93$$,$shadowRoot$jscomp$6$$),$initParams$$?Promise.resolve():void 0;if($onMessage$$)return $onMessage$$($hostElement$jscomp$2$$,$url$jscomp$93$$,$initParams$$)},$origin$jscomp$16$$);$amp$jscomp$1$$.close=function(){$JSCompiler_StaticMethods_closeShadowRoot_$$($$jscomp$this$jscomp$175$$,
$shadowRoot$jscomp$6$$)};$getMode$$module$src$mode$$().development&&($amp$jscomp$1$$.toggleRuntime=$viewer$jscomp$25$$.toggleRuntime.bind($viewer$jscomp$25$$),$amp$jscomp$1$$.resources=$getServiceForDoc$$module$src$service$$($ampdoc$jscomp$82$$,"resources"));$builder$jscomp$1$$($amp$jscomp$1$$,$shadowRoot$jscomp$6$$,$ampdoc$jscomp$82$$).then(function(){$ampdoc$jscomp$82$$.setReady();$ampdoc$jscomp$82$$.signals().signal("render-start");$setStyle$$module$src$style$$($hostElement$jscomp$2$$,"visibility",
"visible")});this.$shadowRoots_$.includes($shadowRoot$jscomp$6$$)||this.$shadowRoots_$.push($shadowRoot$jscomp$6$$);return $amp$jscomp$1$$};
$MultidocManager$$module$src$runtime$$.prototype.attachShadowDoc=function($hostElement$jscomp$3$$,$doc$jscomp$49$$,$url$jscomp$94$$,$opt_initParams$jscomp$3$$){var $$jscomp$this$jscomp$176$$=this;return this.$attachShadowDoc_$($hostElement$jscomp$3$$,$url$jscomp$94$$,$opt_initParams$jscomp$3$$,function($url$jscomp$94$$,$opt_initParams$jscomp$3$$,$ampdoc$jscomp$83$$){$url$jscomp$94$$=$JSCompiler_StaticMethods_mergeShadowHead_$$($$jscomp$this$jscomp$176$$,$ampdoc$jscomp$83$$,$opt_initParams$jscomp$3$$,
$doc$jscomp$49$$);$$jscomp$this$jscomp$176$$.$extensions_$.installExtensionsInDoc($ampdoc$jscomp$83$$,$url$jscomp$94$$);$doc$jscomp$49$$.body&&($opt_initParams$jscomp$3$$=$importShadowBody$$module$src$shadow_embed$$($opt_initParams$jscomp$3$$,$doc$jscomp$49$$.body,!0),$opt_initParams$jscomp$3$$.classList.add("amp-shadow"),$ampdoc$jscomp$83$$.setBody($opt_initParams$jscomp$3$$));setTimeout(function(){$ampdoc$jscomp$83$$.signals().signal("render-start");$setStyle$$module$src$style$$($hostElement$jscomp$3$$,
"visibility","visible")},50);return Promise.resolve()})};
$MultidocManager$$module$src$runtime$$.prototype.attachShadowDocAsStream=function($hostElement$jscomp$4$$,$url$jscomp$95$$,$opt_initParams$jscomp$4$$){var $$jscomp$this$jscomp$177$$=this;return this.$attachShadowDoc_$($hostElement$jscomp$4$$,$url$jscomp$95$$,$opt_initParams$jscomp$4$$,function($url$jscomp$95$$,$opt_initParams$jscomp$4$$,$ampdoc$jscomp$84$$){var $amp$jscomp$3$$=!1,$shadowRoot$jscomp$8$$=$createShadowDomWriter$$module$src$shadow_embed$$($$jscomp$this$jscomp$177$$.win);$url$jscomp$95$$.writer=
$shadowRoot$jscomp$8$$;$shadowRoot$jscomp$8$$.onBody(function($hostElement$jscomp$4$$){var $url$jscomp$95$$=$JSCompiler_StaticMethods_mergeShadowHead_$$($$jscomp$this$jscomp$177$$,$ampdoc$jscomp$84$$,$opt_initParams$jscomp$4$$,$hostElement$jscomp$4$$);$$jscomp$this$jscomp$177$$.$extensions_$.installExtensionsInDoc($ampdoc$jscomp$84$$,$url$jscomp$95$$);$hostElement$jscomp$4$$=$importShadowBody$$module$src$shadow_embed$$($opt_initParams$jscomp$4$$,$hostElement$jscomp$4$$.body,!1);$hostElement$jscomp$4$$.classList.add("amp-shadow");
$ampdoc$jscomp$84$$.setBody($hostElement$jscomp$4$$);return $hostElement$jscomp$4$$});$shadowRoot$jscomp$8$$.onBodyChunk(function(){$amp$jscomp$3$$||($amp$jscomp$3$$=!0,setTimeout(function(){$ampdoc$jscomp$84$$.signals().signal("render-start");$setStyle$$module$src$style$$($hostElement$jscomp$4$$,"visibility","visible")},50))});return new Promise(function($hostElement$jscomp$4$$){$shadowRoot$jscomp$8$$.onEnd(function(){$hostElement$jscomp$4$$();$url$jscomp$95$$.writer=null})})})};
function $JSCompiler_StaticMethods_mergeShadowHead_$$($JSCompiler_StaticMethods_mergeShadowHead_$self$$,$ampdoc$jscomp$85$$,$shadowRoot$jscomp$9$$,$doc$jscomp$51_n$jscomp$15$$){var $extensionIds$jscomp$4$$=[];if($doc$jscomp$51_n$jscomp$15$$.head){for(var $parentLinks$$={},$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$=$childElementsByTag$$module$src$dom$$($JSCompiler_StaticMethods_mergeShadowHead_$self$$.win.document.head,"link"),$href$82_i$jscomp$122_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$=
0;$href$82_i$jscomp$122_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$<$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$.length;$href$82_i$jscomp$122_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$++){var $href$jscomp$2_name$jscomp$159$$=$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$[$href$82_i$jscomp$122_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$].getAttribute("href");$href$jscomp$2_name$jscomp$159$$&&($parentLinks$$[$href$jscomp$2_name$jscomp$159$$]=!0)}for($doc$jscomp$51_n$jscomp$15$$=
$doc$jscomp$51_n$jscomp$15$$.head.firstElementChild;$doc$jscomp$51_n$jscomp$15$$;$doc$jscomp$51_n$jscomp$15$$=$doc$jscomp$51_n$jscomp$15$$.nextElementSibling)switch($href$82_i$jscomp$122_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$=$doc$jscomp$51_n$jscomp$15$$.tagName,$href$jscomp$2_name$jscomp$159$$=$doc$jscomp$51_n$jscomp$15$$.getAttribute("name"),$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$=$doc$jscomp$51_n$jscomp$15$$.getAttribute("rel"),$href$82_i$jscomp$122_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$){case "TITLE":$shadowRoot$jscomp$9$$.AMP.title=
$doc$jscomp$51_n$jscomp$15$$.textContent;break;case "META":$doc$jscomp$51_n$jscomp$15$$.hasAttribute("charset")||"viewport"!=$href$jscomp$2_name$jscomp$159$$&&$dev$$module$src$log$$().warn("runtime","meta ignored: ",$doc$jscomp$51_n$jscomp$15$$);break;case "LINK":$href$82_i$jscomp$122_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$=$doc$jscomp$51_n$jscomp$15$$.getAttribute("href");"canonical"==$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$?$shadowRoot$jscomp$9$$.AMP.canonicalUrl=$href$82_i$jscomp$122_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$:
"stylesheet"!=$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$||$parentLinks$$[$href$82_i$jscomp$122_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$]||($parentLinks$$[$href$82_i$jscomp$122_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$]=!0,$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$=$JSCompiler_StaticMethods_mergeShadowHead_$self$$.win.document.createElement("link"),$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$.setAttribute("rel","stylesheet"),$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$.setAttribute("type",
"text/css"),$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$.setAttribute("href",$href$82_i$jscomp$122_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$),$JSCompiler_StaticMethods_mergeShadowHead_$self$$.win.document.head.appendChild($el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$));break;case "STYLE":$doc$jscomp$51_n$jscomp$15$$.hasAttribute("amp-boilerplate")||($doc$jscomp$51_n$jscomp$15$$.hasAttribute("amp-custom")?$installStylesForDoc$$module$src$style_installer$$($ampdoc$jscomp$85$$,
$doc$jscomp$51_n$jscomp$15$$.textContent,!1,"amp-custom"):$doc$jscomp$51_n$jscomp$15$$.hasAttribute("amp-keyframes")&&$installStylesForDoc$$module$src$style_installer$$($ampdoc$jscomp$85$$,$doc$jscomp$51_n$jscomp$15$$.textContent,!1,"amp-keyframes"));break;case "SCRIPT":if($doc$jscomp$51_n$jscomp$15$$.hasAttribute("src")){$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$=$doc$jscomp$51_n$jscomp$15$$.getAttribute("src");var $isRuntime$$=-1!=$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$.indexOf("/amp.js")||
-1!=$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$.indexOf("/v0.js"),$customElement$$=$doc$jscomp$51_n$jscomp$15$$.getAttribute("custom-element"),$customTemplate$$=$doc$jscomp$51_n$jscomp$15$$.getAttribute("custom-template"),$versionRe$$=/-(\d+.\d+)(.max)?\.js$/;$href$82_i$jscomp$122_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$=($href$82_i$jscomp$122_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$=$versionRe$$.exec($el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$))?
$href$82_i$jscomp$122_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$[1]:"0.1";$isRuntime$$||($customElement$$||$customTemplate$$?($JSCompiler_StaticMethods_mergeShadowHead_$self$$.$extensions_$.installExtensionForDoc($ampdoc$jscomp$85$$,$customElement$$||$customTemplate$$,$href$82_i$jscomp$122_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$),$customElement$$&&$extensionIds$jscomp$4$$.push($customElement$$)):$doc$jscomp$51_n$jscomp$15$$.hasAttribute("data-amp-report-test")||$user$$module$src$log$$().error("runtime",
"- unknown script: ",$doc$jscomp$51_n$jscomp$15$$,$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$))}else-1==($doc$jscomp$51_n$jscomp$15$$.getAttribute("type")||"application/javascript").indexOf("javascript")?$shadowRoot$jscomp$9$$.appendChild($JSCompiler_StaticMethods_mergeShadowHead_$self$$.win.document.importNode($doc$jscomp$51_n$jscomp$15$$,!0)):$user$$module$src$log$$().error("runtime","- unallowed inline javascript: ",$doc$jscomp$51_n$jscomp$15$$);break;case "NOSCRIPT":break;default:$user$$module$src$log$$().error("runtime",
"- UNKNOWN head element:",$doc$jscomp$51_n$jscomp$15$$)}}return $extensionIds$jscomp$4$$}
function $JSCompiler_StaticMethods_broadcast_$$($JSCompiler_StaticMethods_broadcast_$self$$,$data$jscomp$90$$,$sender$jscomp$1$$){$JSCompiler_StaticMethods_purgeShadowRoots_$$($JSCompiler_StaticMethods_broadcast_$self$$);$JSCompiler_StaticMethods_broadcast_$self$$.$shadowRoots_$.forEach(function($shadowRoot$jscomp$10$$){if($shadowRoot$jscomp$10$$!=$sender$jscomp$1$$){var $viewer$jscomp$26$$=$Services$$module$src$services$viewerForDoc$$($shadowRoot$jscomp$10$$.AMP.ampdoc);$JSCompiler_StaticMethods_broadcast_$self$$.$timer_$.delay(function(){$viewer$jscomp$26$$.receiveMessage("broadcast",
$data$jscomp$90$$,!1)},0)}})}
function $JSCompiler_StaticMethods_closeShadowRoot_$$($JSCompiler_StaticMethods_closeShadowRoot_$self_JSCompiler_viewer$jscomp$inline_562_amp$jscomp$4$$,$ampdoc$jscomp$86_shadowRoot$jscomp$11$$){$JSCompiler_StaticMethods_removeShadowRoot_$$($JSCompiler_StaticMethods_closeShadowRoot_$self_JSCompiler_viewer$jscomp$inline_562_amp$jscomp$4$$,$ampdoc$jscomp$86_shadowRoot$jscomp$11$$);$JSCompiler_StaticMethods_closeShadowRoot_$self_JSCompiler_viewer$jscomp$inline_562_amp$jscomp$4$$=$ampdoc$jscomp$86_shadowRoot$jscomp$11$$.AMP;
delete $ampdoc$jscomp$86_shadowRoot$jscomp$11$$.AMP;$ampdoc$jscomp$86_shadowRoot$jscomp$11$$=$JSCompiler_StaticMethods_closeShadowRoot_$self_JSCompiler_viewer$jscomp$inline_562_amp$jscomp$4$$.ampdoc;$JSCompiler_StaticMethods_closeShadowRoot_$self_JSCompiler_viewer$jscomp$inline_562_amp$jscomp$4$$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$86_shadowRoot$jscomp$11$$);$JSCompiler_StaticMethods_setVisibilityState_$$($JSCompiler_StaticMethods_closeShadowRoot_$self_JSCompiler_viewer$jscomp$inline_562_amp$jscomp$4$$,
"inactive");$disposeServicesInternal$$module$src$service$$($ampdoc$jscomp$86_shadowRoot$jscomp$11$$)}
function $JSCompiler_StaticMethods_removeShadowRoot_$$($JSCompiler_StaticMethods_removeShadowRoot_$self$$,$index$jscomp$84_shadowRoot$jscomp$12$$){$index$jscomp$84_shadowRoot$jscomp$12$$=$JSCompiler_StaticMethods_removeShadowRoot_$self$$.$shadowRoots_$.indexOf($index$jscomp$84_shadowRoot$jscomp$12$$);-1!=$index$jscomp$84_shadowRoot$jscomp$12$$&&$JSCompiler_StaticMethods_removeShadowRoot_$self$$.$shadowRoots_$.splice($index$jscomp$84_shadowRoot$jscomp$12$$,1)}
function $JSCompiler_StaticMethods_closeShadowRootAsync_$$($JSCompiler_StaticMethods_closeShadowRootAsync_$self$$,$shadowRoot$jscomp$13$$){$JSCompiler_StaticMethods_closeShadowRootAsync_$self$$.$timer_$.delay(function(){$JSCompiler_StaticMethods_closeShadowRoot_$$($JSCompiler_StaticMethods_closeShadowRootAsync_$self$$,$shadowRoot$jscomp$13$$)},0)}
function $JSCompiler_StaticMethods_purgeShadowRoots_$$($JSCompiler_StaticMethods_purgeShadowRoots_$self$$){$JSCompiler_StaticMethods_purgeShadowRoots_$self$$.$shadowRoots_$.forEach(function($shadowRoot$jscomp$14$$){var $JSCompiler_inline_result$jscomp$116_JSCompiler_n$jscomp$inline_569_JSCompiler_node$jscomp$inline_567_JSCompiler_temp$jscomp$115$$;if(!($JSCompiler_inline_result$jscomp$116_JSCompiler_n$jscomp$inline_569_JSCompiler_node$jscomp$inline_567_JSCompiler_temp$jscomp$115$$=!$shadowRoot$jscomp$14$$.host)){$JSCompiler_inline_result$jscomp$116_JSCompiler_n$jscomp$inline_569_JSCompiler_node$jscomp$inline_567_JSCompiler_temp$jscomp$115$$=
$shadowRoot$jscomp$14$$.host;var $JSCompiler_connected$jscomp$inline_568$$=$JSCompiler_inline_result$jscomp$116_JSCompiler_n$jscomp$inline_569_JSCompiler_node$jscomp$inline_567_JSCompiler_temp$jscomp$115$$.isConnected;if(void 0!==$JSCompiler_connected$jscomp$inline_568$$)$JSCompiler_inline_result$jscomp$116_JSCompiler_n$jscomp$inline_569_JSCompiler_node$jscomp$inline_567_JSCompiler_temp$jscomp$115$$=$JSCompiler_connected$jscomp$inline_568$$;else{do if($JSCompiler_inline_result$jscomp$116_JSCompiler_n$jscomp$inline_569_JSCompiler_node$jscomp$inline_567_JSCompiler_temp$jscomp$115$$=
$rootNodeFor$$module$src$dom$$($JSCompiler_inline_result$jscomp$116_JSCompiler_n$jscomp$inline_569_JSCompiler_node$jscomp$inline_567_JSCompiler_temp$jscomp$115$$),$JSCompiler_inline_result$jscomp$116_JSCompiler_n$jscomp$inline_569_JSCompiler_node$jscomp$inline_567_JSCompiler_temp$jscomp$115$$.host)$JSCompiler_inline_result$jscomp$116_JSCompiler_n$jscomp$inline_569_JSCompiler_node$jscomp$inline_567_JSCompiler_temp$jscomp$115$$=$JSCompiler_inline_result$jscomp$116_JSCompiler_n$jscomp$inline_569_JSCompiler_node$jscomp$inline_567_JSCompiler_temp$jscomp$115$$.host;
else break;while(1);$JSCompiler_inline_result$jscomp$116_JSCompiler_n$jscomp$inline_569_JSCompiler_node$jscomp$inline_567_JSCompiler_temp$jscomp$115$$=$JSCompiler_inline_result$jscomp$116_JSCompiler_n$jscomp$inline_569_JSCompiler_node$jscomp$inline_567_JSCompiler_temp$jscomp$115$$.nodeType===Node.DOCUMENT_NODE}$JSCompiler_inline_result$jscomp$116_JSCompiler_n$jscomp$inline_569_JSCompiler_node$jscomp$inline_567_JSCompiler_temp$jscomp$115$$=!$JSCompiler_inline_result$jscomp$116_JSCompiler_n$jscomp$inline_569_JSCompiler_node$jscomp$inline_567_JSCompiler_temp$jscomp$115$$}$JSCompiler_inline_result$jscomp$116_JSCompiler_n$jscomp$inline_569_JSCompiler_node$jscomp$inline_567_JSCompiler_temp$jscomp$115$$&&
($user$$module$src$log$$().warn("runtime","Shadow doc wasn't previously closed"),$JSCompiler_StaticMethods_removeShadowRoot_$$($JSCompiler_StaticMethods_purgeShadowRoots_$self$$,$shadowRoot$jscomp$14$$),$JSCompiler_StaticMethods_closeShadowRootAsync_$$($JSCompiler_StaticMethods_purgeShadowRoots_$self$$,$shadowRoot$jscomp$14$$))})};function $PositionObserverWorker$$module$src$service$position_observer$position_observer_worker$$($ampdoc$jscomp$87$$,$element$jscomp$215$$,$fidelity$$,$handler$jscomp$32$$){this.element=$element$jscomp$215$$;this.$handler_$=$handler$jscomp$32$$;this.fidelity=$fidelity$$;this.turn=0==$fidelity$$?Math.floor(4*Math.random()):0;this.$prevPosition_$=null;this.$viewport_$=$Services$$module$src$services$viewportForDoc$$($ampdoc$jscomp$87$$)}
$PositionObserverWorker$$module$src$service$position_observer$position_observer_worker$$.prototype.update=function($opt_force$jscomp$5_viewportSize$jscomp$2$$){var $$jscomp$this$jscomp$181$$=this;if(!$opt_force$jscomp$5_viewportSize$jscomp$2$$){if(0!=this.turn){this.turn--;return}0==this.fidelity&&(this.turn=4)}$opt_force$jscomp$5_viewportSize$jscomp$2$$=this.$viewport_$.getSize();var $viewportBox$jscomp$2$$=$layoutRectLtwh$$module$src$layout_rect$$(0,0,$opt_force$jscomp$5_viewportSize$jscomp$2$$.width,
$opt_force$jscomp$5_viewportSize$jscomp$2$$.height);this.$viewport_$.getClientRectAsync(this.element).then(function($opt_force$jscomp$5_viewportSize$jscomp$2$$){var $elementBox$$={positionRect:$opt_force$jscomp$5_viewportSize$jscomp$2$$,viewportRect:$viewportBox$jscomp$2$$,relativePos:""},$JSCompiler_positionRect$jscomp$inline_574_JSCompiler_prevPos$jscomp$inline_573$$=$$jscomp$this$jscomp$181$$.$prevPosition_$;if(!($JSCompiler_positionRect$jscomp$inline_574_JSCompiler_prevPos$jscomp$inline_573$$&&
$layoutRectEquals$$module$src$layout_rect$$($JSCompiler_positionRect$jscomp$inline_574_JSCompiler_prevPos$jscomp$inline_573$$.positionRect,$elementBox$$.positionRect)&&$layoutRectEquals$$module$src$layout_rect$$($JSCompiler_positionRect$jscomp$inline_574_JSCompiler_prevPos$jscomp$inline_573$$.viewportRect,$elementBox$$.viewportRect))){$JSCompiler_positionRect$jscomp$inline_574_JSCompiler_prevPos$jscomp$inline_573$$=$elementBox$$.positionRect;var $JSCompiler_r2$jscomp$inline_726$$=$elementBox$$.viewportRect;
$elementBox$$.relativePos=$JSCompiler_positionRect$jscomp$inline_574_JSCompiler_prevPos$jscomp$inline_573$$.top<$JSCompiler_r2$jscomp$inline_726$$.top?"top":$JSCompiler_positionRect$jscomp$inline_574_JSCompiler_prevPos$jscomp$inline_573$$.bottom>$JSCompiler_r2$jscomp$inline_726$$.bottom?"bottom":"inside";$layoutRectsOverlap$$module$src$layout_rect$$($JSCompiler_positionRect$jscomp$inline_574_JSCompiler_prevPos$jscomp$inline_573$$,$elementBox$$.viewportRect)?($$jscomp$this$jscomp$181$$.$prevPosition_$=
$elementBox$$,$$jscomp$this$jscomp$181$$.$handler_$($elementBox$$)):$$jscomp$this$jscomp$181$$.$prevPosition_$&&($$jscomp$this$jscomp$181$$.$prevPosition_$=null,$elementBox$$.positionRect=null,$$jscomp$this$jscomp$181$$.$handler_$($elementBox$$))}})};function $PositionObserver$$module$src$service$position_observer$position_observer_impl$$($ampdoc$jscomp$88$$){var $$jscomp$this$jscomp$182$$=this;this.$ampdoc_$=$ampdoc$jscomp$88$$;this.$win_$=$ampdoc$jscomp$88$$.win;this.$workers_$=[];this.$vsync_$=$Services$$module$src$services$vsyncFor$$(this.$win_$);this.$viewport_$=$Services$$module$src$services$viewportForDoc$$($ampdoc$jscomp$88$$);this.$unlisteners_$=[];this.$callbackStarted_$=this.$measure_$=this.$inScroll_$=!1;this.$boundStopScroll_$=$debounce$$module$src$utils$rate_limit$$(this.$win_$,
function(){$$jscomp$this$jscomp$182$$.$inScroll_$=!1},500)}
$PositionObserver$$module$src$service$position_observer$position_observer_impl$$.prototype.observe=function($element$jscomp$216$$,$fidelity$jscomp$1$$,$handler$jscomp$33$$){var $$jscomp$this$jscomp$183$$=this,$worker$$=new $PositionObserverWorker$$module$src$service$position_observer$position_observer_worker$$(this.$ampdoc_$,$element$jscomp$216$$,$fidelity$jscomp$1$$,$handler$jscomp$33$$);this.$workers_$.push($worker$$);this.$callbackStarted_$||$JSCompiler_StaticMethods_startCallback_$$(this);$worker$$.update();
return function(){for(var $element$jscomp$216$$=0;$element$jscomp$216$$<$$jscomp$this$jscomp$183$$.$workers_$.length;$element$jscomp$216$$++)if($$jscomp$this$jscomp$183$$.$workers_$[$element$jscomp$216$$]==$worker$$){$$jscomp$this$jscomp$183$$.$workers_$.splice($element$jscomp$216$$,1);0==$$jscomp$this$jscomp$183$$.$workers_$.length&&$JSCompiler_StaticMethods_stopCallback_$$($$jscomp$this$jscomp$183$$);break}}};
$PositionObserver$$module$src$service$position_observer$position_observer_impl$$.prototype.unobserve=function($element$jscomp$217$$){for(var $i$jscomp$124$$=0;$i$jscomp$124$$<this.$workers_$.length;$i$jscomp$124$$++)if(this.$workers_$[$i$jscomp$124$$].element==$element$jscomp$217$$){this.$workers_$.splice($i$jscomp$124$$,1);0==this.$workers_$.length&&$JSCompiler_StaticMethods_stopCallback_$$(this);return}$dev$$module$src$log$$().error("POSITION_OBSERVER","cannot unobserve unobserved element")};
function $JSCompiler_StaticMethods_startCallback_$$($JSCompiler_StaticMethods_startCallback_$self$$){$JSCompiler_StaticMethods_startCallback_$self$$.$callbackStarted_$=!0;$JSCompiler_StaticMethods_startCallback_$self$$.$unlisteners_$.push($JSCompiler_StaticMethods_startCallback_$self$$.$viewport_$.onScroll(function(){$JSCompiler_StaticMethods_startCallback_$self$$.$boundStopScroll_$();$JSCompiler_StaticMethods_startCallback_$self$$.$inScroll_$=!0;$JSCompiler_StaticMethods_startCallback_$self$$.$measure_$||
$JSCompiler_StaticMethods_schedulePass_$$($JSCompiler_StaticMethods_startCallback_$self$$)}));$JSCompiler_StaticMethods_startCallback_$self$$.$unlisteners_$.push($JSCompiler_StaticMethods_startCallback_$self$$.$viewport_$.onResize(function(){$JSCompiler_StaticMethods_startCallback_$self$$.updateAllEntries(!0)}))}
function $JSCompiler_StaticMethods_stopCallback_$$($JSCompiler_StaticMethods_stopCallback_$self$$){for($JSCompiler_StaticMethods_stopCallback_$self$$.$callbackStarted_$=!1;$JSCompiler_StaticMethods_stopCallback_$self$$.$unlisteners_$.length;)$JSCompiler_StaticMethods_stopCallback_$self$$.$unlisteners_$.pop()()}$PositionObserver$$module$src$service$position_observer$position_observer_impl$$.prototype.updateAllEntries=function($opt_force$jscomp$6$$){for(var $i$jscomp$125$$=0;$i$jscomp$125$$<this.$workers_$.length;$i$jscomp$125$$++)this.$workers_$[$i$jscomp$125$$].update($opt_force$jscomp$6$$)};
function $JSCompiler_StaticMethods_schedulePass_$$($JSCompiler_StaticMethods_schedulePass_$self$$){$JSCompiler_StaticMethods_schedulePass_$self$$.updateAllEntries();$JSCompiler_StaticMethods_schedulePass_$self$$.$measure_$=!0;$JSCompiler_StaticMethods_schedulePass_$self$$.$inScroll_$?$JSCompiler_StaticMethods_schedulePass_$self$$.$vsync_$.measure(function(){$JSCompiler_StaticMethods_schedulePass_$$($JSCompiler_StaticMethods_schedulePass_$self$$)}):$JSCompiler_StaticMethods_schedulePass_$self$$.$measure_$=
!1};function $NextPageService$$module$extensions$amp_next_page$0_1$next_page_service$$(){this.$multidocManager_$=this.$resources_$=this.$separator_$=this.$config_$=this.$xhr_$=this.$element_$=this.$win_$=null;this.$nextArticle_$=0;this.$documentQueued_$=!1;this.$positionObserver_$=this.$viewport_$=this.$navigation_$=null;this.$documentRefs_$=[];this.$activeDocumentRef_$=null;this.$appendPageHandler_$=function(){};this.$urlService_$=null;this.$origin_$="";this.$history_$=null}
$NextPageService$$module$extensions$amp_next_page$0_1$next_page_service$$.prototype.isActive=function(){return null!==this.$config_$};
$NextPageService$$module$extensions$amp_next_page$0_1$next_page_service$$.prototype.register=function($canonicalUrl$jscomp$4_element$jscomp$218$$,$config$jscomp$2$$,$separator$$){var $$jscomp$this$jscomp$186$$=this;if(!this.isActive()){var $ampDoc$jscomp$1$$=$getAmpdoc$$module$src$service$$($canonicalUrl$jscomp$4_element$jscomp$218$$),$win$jscomp$206$$=$ampDoc$jscomp$1$$.win;this.$config_$=$config$jscomp$2$$;this.$win_$=$win$jscomp$206$$;this.$separator_$=$separator$$||$JSCompiler_StaticMethods_createDefaultSeparator_$$(this);
this.$element_$=$canonicalUrl$jscomp$4_element$jscomp$218$$;this.$xhr_$=$getService$$module$src$service$$($win$jscomp$206$$,"xhr");this.$config_$.hideSelectors&&(this.$hideSelector_$=this.$config_$.hideSelectors.join(","));this.$navigation_$=$getServiceForDoc$$module$src$service$$($ampDoc$jscomp$1$$,"navigation");this.$viewport_$=$Services$$module$src$services$viewportForDoc$$($ampDoc$jscomp$1$$);this.$resources_$=$getServiceForDoc$$module$src$service$$($ampDoc$jscomp$1$$,"resources");this.$multidocManager_$=
new $MultidocManager$$module$src$runtime$$($win$jscomp$206$$,$Services$$module$src$services$ampdocServiceFor$$($win$jscomp$206$$),$getService$$module$src$service$$($win$jscomp$206$$,"extensions"),$Services$$module$src$services$timerFor$$($win$jscomp$206$$));this.$urlService_$=$getExistingServiceForDocInEmbedScope$$module$src$service$$(this.$element_$,"url");this.$origin_$=this.$urlService_$.parse($ampDoc$jscomp$1$$.getUrl()).origin;this.$history_$=$getServiceForDoc$$module$src$service$$($ampDoc$jscomp$1$$,
"history");$registerServiceBuilderForDoc$$module$src$service$$($ampDoc$jscomp$1$$,"position-observer",$PositionObserver$$module$src$service$position_observer$position_observer_impl$$);this.$positionObserver_$=$getServiceForDoc$$module$src$service$$($ampDoc$jscomp$1$$,"position-observer");$canonicalUrl$jscomp$4_element$jscomp$218$$=$Services$$module$src$services$documentInfoForDoc$$($ampDoc$jscomp$1$$).canonicalUrl;var $documentRef$$=$createDocumentRef$$module$extensions$amp_next_page$0_1$next_page_service$$($win$jscomp$206$$.document.location.href,
$win$jscomp$206$$.document.title,$canonicalUrl$jscomp$4_element$jscomp$218$$);this.$documentRefs_$.push($documentRef$$);this.$activeDocumentRef_$=this.$documentRefs_$[0];this.$viewport_$.onScroll(function(){return $JSCompiler_StaticMethods_scrollHandler_$$($$jscomp$this$jscomp$186$$)});this.$viewport_$.onResize(function(){return $JSCompiler_StaticMethods_scrollHandler_$$($$jscomp$this$jscomp$186$$)});$JSCompiler_StaticMethods_scrollHandler_$$(this)}};
$NextPageService$$module$extensions$amp_next_page$0_1$next_page_service$$.prototype.setAppendPageHandler=function($handler$jscomp$34$$){this.$appendPageHandler_$=$handler$jscomp$34$$};
$NextPageService$$module$extensions$amp_next_page$0_1$next_page_service$$.prototype.$attachShadowDoc_$=function($amp$jscomp$5_shadowRoot$jscomp$15$$,$doc$jscomp$52$$){if(this.$hideSelector_$)for(var $analytics$jscomp$1_elements$jscomp$15$$=$doc$jscomp$52$$.querySelectorAll(this.$hideSelector_$),$i$83_i$jscomp$126$$=0;$i$83_i$jscomp$126$$<$analytics$jscomp$1_elements$jscomp$15$$.length;$i$83_i$jscomp$126$$++)$analytics$jscomp$1_elements$jscomp$15$$[$i$83_i$jscomp$126$$].classList.add("i-amphtml-next-page-hidden");
$analytics$jscomp$1_elements$jscomp$15$$=$doc$jscomp$52$$.querySelectorAll("amp-analytics");for($i$83_i$jscomp$126$$=0;$i$83_i$jscomp$126$$<$analytics$jscomp$1_elements$jscomp$15$$.length;$i$83_i$jscomp$126$$++)$removeElement$$module$src$dom$$($analytics$jscomp$1_elements$jscomp$15$$[$i$83_i$jscomp$126$$]);$amp$jscomp$5_shadowRoot$jscomp$15$$=this.$multidocManager_$.attachShadowDoc($amp$jscomp$5_shadowRoot$jscomp$15$$,$doc$jscomp$52$$,"",{});$installStylesForDoc$$module$src$style_installer$$($amp$jscomp$5_shadowRoot$jscomp$15$$.ampdoc,
".amp-next-page-default-separator{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-links{border-top:1px solid rgba(0,0,0,0.12)}.amp-next-page-link{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-text{color:#3c4043;font-size:17px}.i-amphtml-next-page-document{overflow-y:hidden}.i-amphtml-next-page-document>[i-amphtml-fixedid]{display:none}.i-amphtml-next-page-hidden{display:none!important}.i-amphtml-next-page{background:#fff}.i-amphtml-next-page>[separator]{display:none}.i-amphtml-reco-holder-article{display:block;overflow:auto;padding:10px 0;text-decoration:none}.i-amphtml-next-article-image{width:72px;height:72px;float:left;margin:0 10px;background-size:cover;background-position:50%}.i-amphtml-next-article-title{position:relative;margin:5px 30px 5px 0}\n/*# sourceURL=/extensions/amp-next-page/0.1/amp-next-page.css*/",
!1,"amp-next-page");$amp$jscomp$5_shadowRoot$jscomp$15$$.ampdoc.getBody().classList.add("i-amphtml-next-page-document");return $amp$jscomp$5_shadowRoot$jscomp$15$$};
function $JSCompiler_StaticMethods_createDefaultSeparator_$$($JSCompiler_StaticMethods_createDefaultSeparator_$self_separator$jscomp$1$$){$JSCompiler_StaticMethods_createDefaultSeparator_$self_separator$jscomp$1$$=$JSCompiler_StaticMethods_createDefaultSeparator_$self_separator$jscomp$1$$.$win_$.document.createElement("div");$JSCompiler_StaticMethods_createDefaultSeparator_$self_separator$jscomp$1$$.classList.add("amp-next-page-default-separator");return $JSCompiler_StaticMethods_createDefaultSeparator_$self_separator$jscomp$1$$}
function $JSCompiler_StaticMethods_appendNextArticle_$$($JSCompiler_StaticMethods_appendNextArticle_$self$$){if($JSCompiler_StaticMethods_appendNextArticle_$self$$.$nextArticle_$<$JSCompiler_StaticMethods_appendNextArticle_$self$$.$config_$.pages.length){var $next$jscomp$1$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$config_$.pages[$JSCompiler_StaticMethods_appendNextArticle_$self$$.$nextArticle_$],$documentRef$jscomp$1$$=$createDocumentRef$$module$extensions$amp_next_page$0_1$next_page_service$$($next$jscomp$1$$.ampUrl);
$JSCompiler_StaticMethods_appendNextArticle_$self$$.$documentRefs_$.push($documentRef$jscomp$1$$);var $container$jscomp$7$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$win_$.document.createElement("div"),$separator$jscomp$2$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$separator_$.cloneNode(!0);$separator$jscomp$2$$.removeAttribute("separator");$container$jscomp$7$$.appendChild($separator$jscomp$2$$);var $articleLinks$$=$JSCompiler_StaticMethods_createArticleLinks_$$($JSCompiler_StaticMethods_appendNextArticle_$self$$,
$JSCompiler_StaticMethods_appendNextArticle_$self$$.$nextArticle_$);$container$jscomp$7$$.appendChild($articleLinks$$);$documentRef$jscomp$1$$.recUnit.el=$articleLinks$$;var $shadowRoot$jscomp$16$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$win_$.document.createElement("div");$container$jscomp$7$$.appendChild($shadowRoot$jscomp$16$$);var $page$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$nextArticle_$;$JSCompiler_StaticMethods_appendNextArticle_$self$$.$appendPageHandler_$($container$jscomp$7$$).then(function(){$JSCompiler_StaticMethods_appendNextArticle_$self$$.$positionObserver_$.observe($separator$jscomp$2$$,
0,function($next$jscomp$1$$){var $documentRef$jscomp$1$$=$page$$;if($next$jscomp$1$$&&null===$next$jscomp$1$$.positionRect){var $container$jscomp$7$$="";if("top"===$next$jscomp$1$$.relativePos){var $separator$jscomp$2$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$documentRefs_$[$documentRef$jscomp$1$$+1];$container$jscomp$7$$="amp-next-page-scroll"}else"bottom"===$next$jscomp$1$$.relativePos&&($separator$jscomp$2$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$documentRefs_$[$documentRef$jscomp$1$$],
$container$jscomp$7$$="amp-next-page-scroll-back");$separator$jscomp$2$$&&$separator$jscomp$2$$.amp&&($JSCompiler_StaticMethods_triggerAnalyticsEvent_$$($JSCompiler_StaticMethods_appendNextArticle_$self$$,$container$jscomp$7$$,$separator$jscomp$2$$.ampUrl,$JSCompiler_StaticMethods_appendNextArticle_$self$$.$activeDocumentRef_$.ampUrl),$documentRef$jscomp$1$$=$separator$jscomp$2$$,$JSCompiler_StaticMethods_appendNextArticle_$self$$.$win_$.document.title=$documentRef$jscomp$1$$.amp.title||"",$JSCompiler_StaticMethods_appendNextArticle_$self$$.$activeDocumentRef_$=
$documentRef$jscomp$1$$,$separator$jscomp$2$$=$documentRef$jscomp$1$$.amp,$next$jscomp$1$$=$separator$jscomp$2$$.title,$separator$jscomp$2$$=$separator$jscomp$2$$.canonicalUrl,$documentRef$jscomp$1$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$urlService_$.parse($documentRef$jscomp$1$$.ampUrl),$JSCompiler_StaticMethods_appendNextArticle_$self$$.$history_$.replace({title:$next$jscomp$1$$,url:$documentRef$jscomp$1$$.pathname+$documentRef$jscomp$1$$.search,canonicalUrl:$separator$jscomp$2$$}))}});
$JSCompiler_StaticMethods_appendNextArticle_$self$$.$positionObserver_$.observe($articleLinks$$,0,function(){$documentRef$jscomp$1$$.cancelled=!0;$documentRef$jscomp$1$$.recUnit.isObserving&&($JSCompiler_StaticMethods_appendNextArticle_$self$$.$positionObserver_$.unobserve($documentRef$jscomp$1$$.recUnit.el),$documentRef$jscomp$1$$.recUnit.isObserving=!1)})});2<=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$nextArticle_$||($JSCompiler_StaticMethods_appendNextArticle_$self$$.$nextArticle_$++,
$JSCompiler_StaticMethods_appendNextArticle_$self$$.$xhr_$.fetch($next$jscomp$1$$.ampUrl,{ampCors:!1}).then(function($next$jscomp$1$$){$documentRef$jscomp$1$$.ampUrl=$next$jscomp$1$$.url;var $container$jscomp$7$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$urlService_$.parse($next$jscomp$1$$.url);$userAssert$$module$src$log$$($container$jscomp$7$$.origin===$JSCompiler_StaticMethods_appendNextArticle_$self$$.$origin_$,"ampUrl resolved to a different origin from the origin of the current document");
return $next$jscomp$1$$.text()}).then(function($next$jscomp$1$$){var $documentRef$jscomp$1$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$win_$.document.implementation.createHTMLDocument("");$documentRef$jscomp$1$$.open();$documentRef$jscomp$1$$.write($next$jscomp$1$$);$documentRef$jscomp$1$$.close();return $documentRef$jscomp$1$$}).then(function($next$jscomp$1$$){return new Promise(function($separator$jscomp$2$$,$page$$){$documentRef$jscomp$1$$.cancelled?$separator$jscomp$2$$():($documentRef$jscomp$1$$.recUnit.isObserving&&
($JSCompiler_StaticMethods_appendNextArticle_$self$$.$positionObserver_$.unobserve($articleLinks$$),$documentRef$jscomp$1$$.recUnit.isObserving=!0),$JSCompiler_StaticMethods_appendNextArticle_$self$$.$resources_$.mutateElement($container$jscomp$7$$,function(){try{var $container$jscomp$7$$=$JSCompiler_StaticMethods_appendNextArticle_$self$$.$attachShadowDoc_$($shadowRoot$jscomp$16$$,$next$jscomp$1$$);$documentRef$jscomp$1$$.amp=$container$jscomp$7$$;$toggle$$module$src$style$$($documentRef$jscomp$1$$.recUnit.el,
!1);$JSCompiler_StaticMethods_appendNextArticle_$self$$.$documentQueued_$=!1;$separator$jscomp$2$$()}catch($e$jscomp$93$$){$page$$($e$jscomp$93$$)}}))})},function($JSCompiler_StaticMethods_appendNextArticle_$self$$){return $dev$$module$src$log$$().error("amp-next-page","failed to fetch %s",$next$jscomp$1$$.ampUrl,$JSCompiler_StaticMethods_appendNextArticle_$self$$)}).catch(function($JSCompiler_StaticMethods_appendNextArticle_$self$$){return $dev$$module$src$log$$().error("amp-next-page","failed to attach shadow document for %s",
$next$jscomp$1$$.ampUrl,$JSCompiler_StaticMethods_appendNextArticle_$self$$)}).then(function(){return $JSCompiler_StaticMethods_scrollHandler_$$($JSCompiler_StaticMethods_appendNextArticle_$self$$)}))}}
function $JSCompiler_StaticMethods_createArticleLinks_$$($JSCompiler_StaticMethods_createArticleLinks_$self$$,$nextPage$$){var $doc$jscomp$55$$=$JSCompiler_StaticMethods_createArticleLinks_$self$$.$win_$.document,$currentArticle$$=$nextPage$$-1,$article$$=$nextPage$$,$currentAmpUrl$$="";0<$nextPage$$&&($currentAmpUrl$$=$JSCompiler_StaticMethods_createArticleLinks_$self$$.$documentRefs_$[$currentArticle$$].ampUrl);var $element$jscomp$219$$=$doc$jscomp$55$$.createElement("div");$element$jscomp$219$$.classList.add("amp-next-page-links");
for(var $$jscomp$loop$102$$={};$article$$<$JSCompiler_StaticMethods_createArticleLinks_$self$$.$config_$.pages.length&&3>$article$$-$nextPage$$;){$$jscomp$loop$102$$.$$jscomp$loop$prop$next$103$=$JSCompiler_StaticMethods_createArticleLinks_$self$$.$config_$.pages[$article$$];$article$$++;var $articleHolder$$=$doc$jscomp$55$$.createElement("a");$articleHolder$$.href=$$jscomp$loop$102$$.$$jscomp$loop$prop$next$103$.ampUrl;$articleHolder$$.classList.add("i-amphtml-reco-holder-article","amp-next-page-link");
$articleHolder$$.addEventListener("click",function($nextPage$$){return function($doc$jscomp$55$$){$JSCompiler_StaticMethods_triggerAnalyticsEvent_$$($JSCompiler_StaticMethods_createArticleLinks_$self$$,"amp-next-page-click",$nextPage$$.$$jscomp$loop$prop$next$103$.ampUrl,$currentAmpUrl$$);var $currentArticle$$=$JSCompiler_StaticMethods_createArticleLinks_$self$$.$navigation_$.navigateToAmpUrl($nextPage$$.$$jscomp$loop$prop$next$103$.ampUrl,"content-discovery");$currentArticle$$&&$doc$jscomp$55$$.preventDefault()}}($$jscomp$loop$102$$));
var $imageElement$$=$doc$jscomp$55$$.createElement("div");$imageElement$$.classList.add("i-amphtml-next-article-image","amp-next-page-image");$setStyle$$module$src$style$$($imageElement$$,"background-image","url("+$$jscomp$loop$102$$.$$jscomp$loop$prop$next$103$.image+")");$articleHolder$$.appendChild($imageElement$$);var $titleElement$$=$doc$jscomp$55$$.createElement("div");$titleElement$$.classList.add("i-amphtml-next-article-title","amp-next-page-text");$titleElement$$.textContent=$$jscomp$loop$102$$.$$jscomp$loop$prop$next$103$.title;
$articleHolder$$.appendChild($titleElement$$);$element$jscomp$219$$.appendChild($articleHolder$$);$$jscomp$loop$102$$={$$jscomp$loop$prop$next$103$:$$jscomp$loop$102$$.$$jscomp$loop$prop$next$103$}}return $element$jscomp$219$$}
function $JSCompiler_StaticMethods_scrollHandler_$$($JSCompiler_StaticMethods_scrollHandler_$self$$){if(!$JSCompiler_StaticMethods_scrollHandler_$self$$.$documentQueued_$){var $viewportSize$jscomp$3$$=$JSCompiler_StaticMethods_scrollHandler_$self$$.$viewport_$.getSize(),$viewportBox$jscomp$3$$=$layoutRectLtwh$$module$src$layout_rect$$(0,0,$viewportSize$jscomp$3$$.width,$viewportSize$jscomp$3$$.height);$JSCompiler_StaticMethods_scrollHandler_$self$$.$viewport_$.getClientRectAsync($JSCompiler_StaticMethods_scrollHandler_$self$$.$element_$).then(function($elementBox$jscomp$1$$){if(!$JSCompiler_StaticMethods_scrollHandler_$self$$.$documentQueued_$){var $prerenderHeight$$=
3*$viewportSize$jscomp$3$$.height;$elementBox$jscomp$1$$.bottom-$viewportBox$jscomp$3$$.bottom<$prerenderHeight$$&&($JSCompiler_StaticMethods_scrollHandler_$self$$.$documentQueued_$=!0,$JSCompiler_StaticMethods_appendNextArticle_$$($JSCompiler_StaticMethods_scrollHandler_$self$$))}})}}
function $JSCompiler_StaticMethods_triggerAnalyticsEvent_$$($JSCompiler_StaticMethods_triggerAnalyticsEvent_$self$$,$eventType$jscomp$18$$,$toURL$$,$fromURL$$){$fromURL$$=$fromURL$$||"";var $vars$jscomp$3$$=$dict$$module$src$utils$object$$({toURL:$toURL$$,fromURL:$fromURL$$});$triggerAnalyticsEvent$$module$src$analytics$$($JSCompiler_StaticMethods_triggerAnalyticsEvent_$self$$.$element_$,$eventType$jscomp$18$$,$vars$jscomp$3$$)}
function $createDocumentRef$$module$extensions$amp_next_page$0_1$next_page_service$$($ampUrl$$,$title$jscomp$13$$,$canonicalUrl$jscomp$6$$){return{ampUrl:$ampUrl$$,amp:$title$jscomp$13$$||$canonicalUrl$jscomp$6$$?{title:$title$jscomp$13$$,canonicalUrl:$canonicalUrl$jscomp$6$$}:null,recUnit:{el:null,isObserving:!1},cancelled:!1}};function $batchFetchJsonFor$$module$src$batched_json$$($ampdoc$jscomp$90$$,$element$jscomp$220$$){var $opt_expr$$=void 0,$opt_urlReplacement$$=2,$opt_token$$;$opt_expr$$=void 0===$opt_expr$$?".":$opt_expr$$;$opt_urlReplacement$$=void 0===$opt_urlReplacement$$?0:$opt_urlReplacement$$;var $opt_refresh$$=void 0===$opt_refresh$$?!1:$opt_refresh$$;$assertHttpsUrl$$module$src$url$$($element$jscomp$220$$.getAttribute("src"),$element$jscomp$220$$);var $xhr$jscomp$2$$=$getService$$module$src$service$$($ampdoc$jscomp$90$$.win,
"batched-xhr");return $requestForBatchFetch$$module$src$batched_json$$($element$jscomp$220$$,$opt_urlReplacement$$,$opt_refresh$$).then(function($ampdoc$jscomp$90$$){void 0!==$opt_token$$&&($ampdoc$jscomp$90$$.fetchOpt.method="POST",$ampdoc$jscomp$90$$.fetchOpt.headers={"Content-Type":"application/x-www-form-urlencoded"},$ampdoc$jscomp$90$$.fetchOpt.body={ampViewerAuthToken:$opt_token$$});return $xhr$jscomp$2$$.fetchJson($ampdoc$jscomp$90$$.xhrUrl,$ampdoc$jscomp$90$$.fetchOpt)}).then(function($ampdoc$jscomp$90$$){return $ampdoc$jscomp$90$$.json()}).then(function($ampdoc$jscomp$90$$){if(null==
$ampdoc$jscomp$90$$)throw Error("Response is undefined.");return $getValueForExpr$$module$src$json$$($ampdoc$jscomp$90$$,$opt_expr$$||".")})}
function $requestForBatchFetch$$module$src$batched_json$$($element$jscomp$221$$,$replacement$jscomp$4$$,$refresh$$){var $url$jscomp$97$$=$element$jscomp$221$$.getAttribute("src"),$urlReplacements$jscomp$1$$=$getExistingServiceForDocInEmbedScope$$module$src$service$$($element$jscomp$221$$,"url-replace");return(1<=$replacement$jscomp$4$$?$urlReplacements$jscomp$1$$.expandUrlAsync($url$jscomp$97$$):Promise.resolve($url$jscomp$97$$)).then(function($url$jscomp$97$$){if(1==$replacement$jscomp$4$$){var $xhrUrl$$=
$urlReplacements$jscomp$1$$.collectUnwhitelistedVarsSync($element$jscomp$221$$);if(0<$xhrUrl$$.length)throw $user$$module$src$log$$().createError("URL variable substitutions in CORS fetches from dynamic URLs (e.g. via amp-bind) require opt-in. "+('Please add data-amp-replace="'+$xhrUrl$$.join(" ")+'" to the ')+("<"+$element$jscomp$221$$.tagName+"> element. See https://bit.ly/amp-var-subs."));}var $fetchOpt$$={};$element$jscomp$221$$.hasAttribute("credentials")?$fetchOpt$$.credentials=$element$jscomp$221$$.getAttribute("credentials"):
$fetchOpt$$.requireAmpResponseSourceOrigin=!1;$refresh$$&&($fetchOpt$$.cache="reload");return{xhrUrl:$url$jscomp$97$$,fetchOpt:$fetchOpt$$}})};function $assertConfig$$module$extensions$amp_next_page$0_1$config$$($context$jscomp$5$$,$config$jscomp$3$$,$documentUrl$$){$userAssert$$module$src$log$$($config$jscomp$3$$,"amp-next-page config must be specified");$userAssert$$module$src$log$$(Array.isArray($config$jscomp$3$$.pages),"pages must be an array");$assertRecos$$module$extensions$amp_next_page$0_1$config$$($context$jscomp$5$$,$config$jscomp$3$$.pages,$documentUrl$$);"hideSelectors"in $config$jscomp$3$$&&($userAssert$$module$src$log$$(Array.isArray($config$jscomp$3$$.hideSelectors),
"amp-next-page hideSelectors should be an array"),$assertSelectors$$module$extensions$amp_next_page$0_1$config$$($config$jscomp$3$$.hideSelectors));return $config$jscomp$3$$}
function $assertRecos$$module$extensions$amp_next_page$0_1$config$$($context$jscomp$6$$,$recos$$,$documentUrl$jscomp$1$$){$recos$$.forEach(function($recos$$){var $reco$$=$recos$$;$user$$module$src$log$$().assertString($reco$$.ampUrl,"ampUrl must be a string");var $JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$=$getSourceUrl$$module$src$url$$($documentUrl$jscomp$1$$),
$JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$=$reco$$.ampUrl;"string"==typeof $JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$&&($JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$=
$parseUrlDeprecated$$module$src$url$$($JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$));if("function"==typeof URL)$JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$=(new URL($JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$,
$JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$.href)).toString();else{"string"==typeof $JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$&&($JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$=
$parseUrlDeprecated$$module$src$url$$($JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$));$JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$=$JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$.replace(/\\/g,
"/");var $JSCompiler_relativeUrl$jscomp$inline_747_JSCompiler_sourceOrigin$jscomp$inline_611$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$);$JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$=$startsWith$$module$src$string$$($JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$.toLowerCase(),
$JSCompiler_relativeUrl$jscomp$inline_747_JSCompiler_sourceOrigin$jscomp$inline_611$$.protocol)?$JSCompiler_relativeUrl$jscomp$inline_747_JSCompiler_sourceOrigin$jscomp$inline_611$$.href:$startsWith$$module$src$string$$($JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$,"//")?$JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$.protocol+
$JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$:$startsWith$$module$src$string$$($JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$,"/")?$JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$.origin+
$JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$:$JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$.origin+$JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$.pathname.replace(/\/[^/]*$/,
"/")+$JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$}$reco$$.ampUrl=$JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$;$JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$=
$getExistingServiceForDocInEmbedScope$$module$src$service$$($context$jscomp$6$$,"url");$JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$=$JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$.parse($reco$$.ampUrl);$JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$=
$JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$.parse($documentUrl$jscomp$1$$).origin;$JSCompiler_relativeUrl$jscomp$inline_747_JSCompiler_sourceOrigin$jscomp$inline_611$$=$getSourceOrigin$$module$src$url$$($documentUrl$jscomp$1$$);var $JSCompiler_matches$jscomp$inline_741_JSCompiler_targetUrl$jscomp$inline_742_JSCompiler_temp$jscomp$647$$;($JSCompiler_matches$jscomp$inline_741_JSCompiler_targetUrl$jscomp$inline_742_JSCompiler_temp$jscomp$647$$=
$JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$.origin===$JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$||$JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$.origin===
$JSCompiler_relativeUrl$jscomp$inline_747_JSCompiler_sourceOrigin$jscomp$inline_611$$)||(($JSCompiler_matches$jscomp$inline_741_JSCompiler_targetUrl$jscomp$inline_742_JSCompiler_temp$jscomp$647$$=$JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$.search.match(/adurl=(.*)(?:&|$)/))?($JSCompiler_matches$jscomp$inline_741_JSCompiler_targetUrl$jscomp$inline_742_JSCompiler_temp$jscomp$647$$=$getExistingServiceForDocInEmbedScope$$module$src$service$$($context$jscomp$6$$,
"url").parse($JSCompiler_matches$jscomp$inline_741_JSCompiler_targetUrl$jscomp$inline_742_JSCompiler_temp$jscomp$647$$[1]),$JSCompiler_matches$jscomp$inline_741_JSCompiler_targetUrl$jscomp$inline_742_JSCompiler_temp$jscomp$647$$="https://googleads.g.doubleclick.net"===$JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$.origin&&$JSCompiler_matches$jscomp$inline_741_JSCompiler_targetUrl$jscomp$inline_742_JSCompiler_temp$jscomp$647$$.origin===
$JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$):$JSCompiler_matches$jscomp$inline_741_JSCompiler_targetUrl$jscomp$inline_742_JSCompiler_temp$jscomp$647$$=!1);$userAssert$$module$src$log$$($JSCompiler_matches$jscomp$inline_741_JSCompiler_targetUrl$jscomp$inline_742_JSCompiler_temp$jscomp$647$$,"pages must be from the same origin as the current document");$user$$module$src$log$$().assertString($reco$$.image,
"image must be a string");$user$$module$src$log$$().assertString($reco$$.title,"title must be a string");$JSCompiler_relativeUrl$jscomp$inline_747_JSCompiler_sourceOrigin$jscomp$inline_611$$!==$JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$&&$JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$.origin===
$JSCompiler_relativeUrl$jscomp$inline_747_JSCompiler_sourceOrigin$jscomp$inline_611$$&&($reco$$.ampUrl=$JSCompiler_base$jscomp$inline_607_JSCompiler_baseUrl$jscomp$inline_736_JSCompiler_baseUrl$jscomp$inline_746_JSCompiler_origin$jscomp$inline_610_JSCompiler_urlService$jscomp$inline_608$$+"/c/"+("https:"===$JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$.protocol?"s/":"")+encodeURIComponent($JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$.host)+
$JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$.pathname+($JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$.search||"")+($JSCompiler_relativeUrlString$jscomp$inline_735_JSCompiler_relativeUrlString$jscomp$inline_745_JSCompiler_temp$jscomp$744_JSCompiler_url$jscomp$inline_609$$.hash||""))})}
var $BANNED_SELECTOR_PATTERNS$$module$extensions$amp_next_page$0_1$config$$=[/(^|\W)i-amphtml-/];
function $assertSelectors$$module$extensions$amp_next_page$0_1$config$$($selectors$jscomp$11$$){$selectors$jscomp$11$$.forEach(function($selectors$jscomp$11$$){$BANNED_SELECTOR_PATTERNS$$module$extensions$amp_next_page$0_1$config$$.forEach(function($selector$jscomp$18$$){$user$$module$src$log$$().assertString($selectors$jscomp$11$$,"amp-next-page hideSelector value should be a string");$userAssert$$module$src$log$$(!$selector$jscomp$18$$.test($selectors$jscomp$11$$),"amp-next-page hideSelector %s not allowed",
$selectors$jscomp$11$$)})})};function $fetchDocument$$module$src$document_fetcher$$($win$jscomp$207$$,$input$jscomp$27$$,$ampdocService$jscomp$5_ampdocSingle$jscomp$2_opt_init$jscomp$13$$){var $init$jscomp$13$$=$setupInit$$module$src$utils$xhr_utils$$($ampdocService$jscomp$5_ampdocSingle$jscomp$2_opt_init$jscomp$13$$);$init$jscomp$13$$=$setupAMPCors$$module$src$utils$xhr_utils$$($win$jscomp$207$$,$input$jscomp$27$$,$init$jscomp$13$$);$input$jscomp$27$$=$setupInput$$module$src$utils$xhr_utils$$($win$jscomp$207$$,$input$jscomp$27$$,
$init$jscomp$13$$);$ampdocService$jscomp$5_ampdocSingle$jscomp$2_opt_init$jscomp$13$$=$Services$$module$src$services$ampdocServiceFor$$($win$jscomp$207$$);$ampdocService$jscomp$5_ampdocSingle$jscomp$2_opt_init$jscomp$13$$=$ampdocService$jscomp$5_ampdocSingle$jscomp$2_opt_init$jscomp$13$$.isSingleDoc()?$ampdocService$jscomp$5_ampdocSingle$jscomp$2_opt_init$jscomp$13$$.getAmpDoc():null;$init$jscomp$13$$.responseType="document";return $getViewerInterceptResponse$$module$src$utils$xhr_utils$$($win$jscomp$207$$,
$ampdocService$jscomp$5_ampdocSingle$jscomp$2_opt_init$jscomp$13$$,$input$jscomp$27$$,$init$jscomp$13$$).then(function($ampdocService$jscomp$5_ampdocSingle$jscomp$2_opt_init$jscomp$13$$){return $ampdocService$jscomp$5_ampdocSingle$jscomp$2_opt_init$jscomp$13$$?$ampdocService$jscomp$5_ampdocSingle$jscomp$2_opt_init$jscomp$13$$.text().then(function($win$jscomp$207$$){return(new DOMParser).parseFromString($win$jscomp$207$$,"text/html")}):$xhrRequest$$module$src$document_fetcher$$($input$jscomp$27$$,
$init$jscomp$13$$).then(function($input$jscomp$27$$){var $ampdocService$jscomp$5_ampdocSingle$jscomp$2_opt_init$jscomp$13$$=$input$jscomp$27$$.xhr,$interceptorResponse$jscomp$1$$=$init$jscomp$13$$;($input$jscomp$27$$=$input$jscomp$27$$.response.headers.get("AMP-Access-Control-Allow-Source-Origin"))?($interceptorResponse$jscomp$1$$=$getSourceOrigin$$module$src$url$$($win$jscomp$207$$.location.href),$userAssert$$module$src$log$$($input$jscomp$27$$==$interceptorResponse$jscomp$1$$,"Returned AMP-Access-Control-Allow-Source-Origin is not equal to the current: "+
$input$jscomp$27$$+(" vs "+$interceptorResponse$jscomp$1$$))):$interceptorResponse$jscomp$1$$.requireAmpResponseSourceOrigin&&$userAssert$$module$src$log$$(!1,"Response must contain the AMP-Access-Control-Allow-Source-Origin header");return $ampdocService$jscomp$5_ampdocSingle$jscomp$2_opt_init$jscomp$13$$.responseXML})})}
function $xhrRequest$$module$src$document_fetcher$$($input$jscomp$28$$,$init$jscomp$14$$){return new Promise(function($resolve$jscomp$38$$,$reject$jscomp$15$$){var $xhr$jscomp$4$$=new XMLHttpRequest;$xhr$jscomp$4$$.open($init$jscomp$14$$.method||"GET",$input$jscomp$28$$,!0);$xhr$jscomp$4$$.withCredentials="include"==$init$jscomp$14$$.credentials;$xhr$jscomp$4$$.responseType="document";for(var $header$jscomp$2$$ in $init$jscomp$14$$.headers)$xhr$jscomp$4$$.setRequestHeader($header$jscomp$2$$,$init$jscomp$14$$.headers[$header$jscomp$2$$]);
$xhr$jscomp$4$$.onreadystatechange=function(){if(!(2>$xhr$jscomp$4$$.readyState))if(100>$xhr$jscomp$4$$.status||599<$xhr$jscomp$4$$.status)$xhr$jscomp$4$$.onreadystatechange=null,$reject$jscomp$15$$($user$$module$src$log$$().createExpectedError("Unknown HTTP status "+$xhr$jscomp$4$$.status));else if(4==$xhr$jscomp$4$$.readyState){var $input$jscomp$28$$={status:$xhr$jscomp$4$$.status,statusText:$xhr$jscomp$4$$.statusText,headers:$parseHeaders$$module$src$document_fetcher$$($xhr$jscomp$4$$.getAllResponseHeaders())};
$input$jscomp$28$$=new Response("",$input$jscomp$28$$);$input$jscomp$28$$=$assertSuccess$$module$src$utils$xhr_utils$$($input$jscomp$28$$).then(function($input$jscomp$28$$){return{response:$input$jscomp$28$$,xhr:$xhr$jscomp$4$$}});$resolve$jscomp$38$$($input$jscomp$28$$)}};$xhr$jscomp$4$$.onerror=function(){$reject$jscomp$15$$($user$$module$src$log$$().createExpectedError("Request failure"))};$xhr$jscomp$4$$.onabort=function(){$reject$jscomp$15$$($user$$module$src$log$$().createExpectedError("Request aborted"))};
"POST"==$init$jscomp$14$$.method?$xhr$jscomp$4$$.send($init$jscomp$14$$.body):$xhr$jscomp$4$$.send()})}
function $parseHeaders$$module$src$document_fetcher$$($rawHeaders$$){var $headers$$=$dict$$module$src$utils$object$$({}),$preProcessedHeaders$$=$rawHeaders$$.replace(/\r?\n[\t ]+/g," ");$preProcessedHeaders$$.split(/\r?\n/).forEach(function($rawHeaders$$){$rawHeaders$$=$rawHeaders$$.split(":");var $preProcessedHeaders$$=$rawHeaders$$.shift().trim();$preProcessedHeaders$$&&($headers$$[$preProcessedHeaders$$]=$rawHeaders$$.join(":").trim())});return $headers$$};function $AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page$$($var_args$jscomp$57$$){return AMP.BaseElement.apply(this,arguments)||this}$$jscomp$inherits$$($AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page$$,AMP.BaseElement);$AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page$$.prototype.isLayoutSupported=function($layout$jscomp$24$$){return"container"==$layout$jscomp$24$$};
$AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page$$.prototype.buildCallback=function(){var $$jscomp$this$jscomp$190$$=this;$userAssert$$module$src$log$$($isExperimentOn$$module$src$experiments$$(this.win,"amp-next-page"),"Experiment amp-next-page disabled");var $separatorElements$$=$childElementsByAttr$$module$src$dom$$(this.element);$userAssert$$module$src$log$$(1>=$separatorElements$$.length,"%s should contain at most one <div separator> child","amp-next-page");var $separator$jscomp$3$$=
null;1===$separatorElements$$.length&&($separator$jscomp$3$$=$separatorElements$$[0],$removeElement$$module$src$dom$$($separator$jscomp$3$$));return $getServicePromiseForDoc$$module$src$service$$(this.getAmpDoc(),"next-page").then(function($separatorElements$$){if(!$separatorElements$$.isActive()){var $service$jscomp$20$$=$$jscomp$this$jscomp$190$$.element;$service$jscomp$20$$.classList.add("i-amphtml-next-page");var $src$jscomp$12$$=$service$jscomp$20$$.getAttribute("src"),$pagesPromise$$=Promise.resolve([]),
$type$jscomp$153$$=$service$jscomp$20$$.getAttribute("type");if($type$jscomp$153$$){$userAssert$$module$src$log$$("adsense"===$type$jscomp$153$$,"amp-next-page only supports type=adsense");var $client$jscomp$1$$=$service$jscomp$20$$.getAttribute("data-client"),$slot$jscomp$1$$=$service$jscomp$20$$.getAttribute("data-slot");$userAssert$$module$src$log$$(/^ca-pub-\d+$/.test($client$jscomp$1$$),"amp-next-page AdSense client should be of the format 'ca-pub-123456'");$userAssert$$module$src$log$$(/^\d+$/.test($slot$jscomp$1$$),
"amp-next-page AdSense slot should be a number");var $consentPolicyId$$=$$jscomp$this$jscomp$190$$.getConsentPolicy();$pagesPromise$$=($consentPolicyId$$?$getConsentPolicyState$$module$src$consent$$($service$jscomp$20$$,$consentPolicyId$$).catch(function($$jscomp$this$jscomp$190$$){$user$$module$src$log$$().error("amp-next-page","Error determining consent state",$$jscomp$this$jscomp$190$$);return 4}):Promise.resolve(1)).then(function($separatorElements$$){return $JSCompiler_StaticMethods_fetchAdSensePages_$$($$jscomp$this$jscomp$190$$,
$client$jscomp$1$$,$slot$jscomp$1$$,1===$separatorElements$$||3===$separatorElements$$)}).catch(function($$jscomp$this$jscomp$190$$){$user$$module$src$log$$().warn("amp-next-page","error fetching recommendations from AdSense",$$jscomp$this$jscomp$190$$);return[]})}var $inlineConfig$$=$JSCompiler_StaticMethods_getInlineConfig_$$($$jscomp$this$jscomp$190$$);var $configPromise$$=$src$jscomp$12$$?$JSCompiler_StaticMethods_fetchConfig_$$($$jscomp$this$jscomp$190$$).catch(function($$jscomp$this$jscomp$190$$){return $user$$module$src$log$$().error("amp-next-page",
"error fetching config",$$jscomp$this$jscomp$190$$)}):Promise.resolve($inlineConfig$$);$userAssert$$module$src$log$$($inlineConfig$$||$src$jscomp$12$$||$type$jscomp$153$$,"%s should contain a <script> child, a URL specified in [src], or a [type]","amp-next-page");return Promise.all([$configPromise$$,$pagesPromise$$]).then(function($service$jscomp$20$$){var $element$jscomp$222$$=$service$jscomp$20$$[0]||{},$src$jscomp$12$$=$service$jscomp$20$$[1]||[];$element$jscomp$222$$.pages=$src$jscomp$12$$.concat($element$jscomp$222$$.pages||
[]);$JSCompiler_StaticMethods_register_$$($$jscomp$this$jscomp$190$$,$separatorElements$$,$element$jscomp$222$$,$separator$jscomp$3$$)})}})};
function $JSCompiler_StaticMethods_getInlineConfig_$$($JSCompiler_StaticMethods_getInlineConfig_$self_scriptElement$jscomp$2$$){var $scriptElements$$=$childElementsByTag$$module$src$dom$$($JSCompiler_StaticMethods_getInlineConfig_$self_scriptElement$jscomp$2$$.element,"SCRIPT");if(!$scriptElements$$.length)return null;$userAssert$$module$src$log$$(1===$scriptElements$$.length,"amp-next-page should contain at most one <script> child");$JSCompiler_StaticMethods_getInlineConfig_$self_scriptElement$jscomp$2$$=
$scriptElements$$[0];$userAssert$$module$src$log$$("SCRIPT"==$JSCompiler_StaticMethods_getInlineConfig_$self_scriptElement$jscomp$2$$.tagName&&$JSCompiler_StaticMethods_getInlineConfig_$self_scriptElement$jscomp$2$$.hasAttribute("type")&&"APPLICATION/JSON"==$JSCompiler_StaticMethods_getInlineConfig_$self_scriptElement$jscomp$2$$.getAttribute("type").toUpperCase(),'amp-next-page config should be inside a <script> tag with type="application/json"');return $tryParseJson$$module$src$json$$($JSCompiler_StaticMethods_getInlineConfig_$self_scriptElement$jscomp$2$$.textContent,
function($JSCompiler_StaticMethods_getInlineConfig_$self_scriptElement$jscomp$2$$){$user$$module$src$log$$().error("amp-next-page","failed to parse config",$JSCompiler_StaticMethods_getInlineConfig_$self_scriptElement$jscomp$2$$)})}
function $JSCompiler_StaticMethods_fetchAdSensePages_$$($JSCompiler_StaticMethods_fetchAdSensePages_$self$$,$client$jscomp$2$$,$slot$jscomp$2$$,$personalized$$){var $adUrl$$="https://googleads.g.doubleclick.net/pagead/ads?client="+$client$jscomp$2$$+"&slotname="+$slot$jscomp$2$$+("&url="+encodeURIComponent($JSCompiler_StaticMethods_fetchAdSensePages_$self$$.getAmpDoc().getUrl()))+"&ecr=1&crui=title&is_amp=3&output=xml";return $fetchDocument$$module$src$document_fetcher$$($JSCompiler_StaticMethods_fetchAdSensePages_$self$$.win,
$adUrl$$,{credentials:$personalized$$?"include":"omit"}).then(function($client$jscomp$2$$){var $slot$jscomp$2$$=$getExistingServiceForDocInEmbedScope$$module$src$service$$($JSCompiler_StaticMethods_fetchAdSensePages_$self$$.element,"url"),$personalized$$=$slot$jscomp$2$$.parse($JSCompiler_StaticMethods_fetchAdSensePages_$self$$.getAmpDoc().getUrl()).origin,$adUrl$$=[],$doc$jscomp$56_i$jscomp$128$$=$client$jscomp$2$$.getElementsByTagName("AD");for($client$jscomp$2$$=0;$client$jscomp$2$$<$doc$jscomp$56_i$jscomp$128$$.length;$client$jscomp$2$$++){var $ad$$=
$doc$jscomp$56_i$jscomp$128$$[$client$jscomp$2$$];$assertIsName$$module$src$css$$("LINE1");var $titleEl$$=$ad$$.querySelector("LINE1");$assertIsName$$module$src$css$$("MEDIA_TEMPLATE_DATA");var $mediaEl$$=$ad$$.querySelector("MEDIA_TEMPLATE_DATA"),$visibleUrl$$=$ad$$.getAttribute("visible_url"),$url$jscomp$100$$=$ad$$.getAttribute("url"),$JSCompiler_el$jscomp$inline_625_title$jscomp$14$$=$titleEl$$;$JSCompiler_el$jscomp$inline_625_title$jscomp$14$$=($JSCompiler_el$jscomp$inline_625_title$jscomp$14$$&&
$JSCompiler_el$jscomp$inline_625_title$jscomp$14$$.textContent||"").trim();try{var $JSCompiler_inline_result$jscomp$177$$=JSON.parse($mediaEl$$.textContent.trim().slice(0,-1))[0].core_image_url}catch($JSCompiler_e$jscomp$inline_628$$){$JSCompiler_inline_result$jscomp$177$$=""}var $image$jscomp$4$$=$JSCompiler_inline_result$jscomp$177$$,$isValidOrigin$$=$slot$jscomp$2$$.parse($visibleUrl$$).origin===$personalized$$;$isValidOrigin$$&&$url$jscomp$100$$&&$JSCompiler_el$jscomp$inline_625_title$jscomp$14$$&&
$image$jscomp$4$$&&$adUrl$$.push({title:$JSCompiler_el$jscomp$inline_625_title$jscomp$14$$,image:$image$jscomp$4$$,ampUrl:$url$jscomp$100$$})}return $adUrl$$})}
function $JSCompiler_StaticMethods_register_$$($JSCompiler_StaticMethods_register_$self$$,$service$jscomp$21$$,$configJson$$,$separator$jscomp$4$$){var $element$jscomp$223$$=$JSCompiler_StaticMethods_register_$self$$.element,$config$jscomp$5$$=$assertConfig$$module$extensions$amp_next_page$0_1$config$$($element$jscomp$223$$,$configJson$$,$JSCompiler_StaticMethods_register_$self$$.getAmpDoc().getUrl());$service$jscomp$21$$.register($element$jscomp$223$$,$config$jscomp$5$$,$separator$jscomp$4$$);$service$jscomp$21$$.setAppendPageHandler(function($service$jscomp$21$$){return $JSCompiler_StaticMethods_appendPage_$$($JSCompiler_StaticMethods_register_$self$$,
$service$jscomp$21$$)})}function $JSCompiler_StaticMethods_appendPage_$$($JSCompiler_StaticMethods_appendPage_$self$$,$element$jscomp$225$$){return $JSCompiler_StaticMethods_appendPage_$self$$.mutateElement(function(){return $JSCompiler_StaticMethods_appendPage_$self$$.element.appendChild($element$jscomp$225$$)})}
function $JSCompiler_StaticMethods_fetchConfig_$$($JSCompiler_StaticMethods_fetchConfig_$self$$){var $ampdoc$jscomp$91$$=$JSCompiler_StaticMethods_fetchConfig_$self$$.getAmpDoc();return $batchFetchJsonFor$$module$src$batched_json$$($ampdoc$jscomp$91$$,$JSCompiler_StaticMethods_fetchConfig_$self$$.element)}
(function($AMP$jscomp$1$$){var $service$jscomp$22$$=new $NextPageService$$module$extensions$amp_next_page$0_1$next_page_service$$;$AMP$jscomp$1$$.registerServiceForDoc("next-page",function(){return $service$jscomp$22$$});$AMP$jscomp$1$$.registerElement("amp-next-page",$AmpNextPage$$module$extensions$amp_next_page$0_1$amp_next_page$$,".amp-next-page-default-separator{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-links{border-top:1px solid rgba(0,0,0,0.12)}.amp-next-page-link{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-text{color:#3c4043;font-size:17px}.i-amphtml-next-page-document{overflow-y:hidden}.i-amphtml-next-page-document>[i-amphtml-fixedid]{display:none}.i-amphtml-next-page-hidden{display:none!important}.i-amphtml-next-page{background:#fff}.i-amphtml-next-page>[separator]{display:none}.i-amphtml-reco-holder-article{display:block;overflow:auto;padding:10px 0;text-decoration:none}.i-amphtml-next-article-image{width:72px;height:72px;float:left;margin:0 10px;background-size:cover;background-position:50%}.i-amphtml-next-article-title{position:relative;margin:5px 30px 5px 0}\n/*# sourceURL=/extensions/amp-next-page/0.1/amp-next-page.css*/")})(self.AMP);
})});

//# sourceMappingURL=amp-next-page-0.1.js.map
