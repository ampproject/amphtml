(self.AMP=self.AMP||[]).push({n:"amp-ad-network-doubleclick-impl",v:"1904281823091",f:(function(AMP,_){
var $JSCompiler_prototypeAlias$$,$$jscomp$objectCreate$$="function"==typeof Object.create?Object.create:function($prototype$$){function $ctor$$(){}$ctor$$.prototype=$prototype$$;return new $ctor$$},$JSCompiler_temp$jscomp$41$$;
if("function"==typeof Object.setPrototypeOf)$JSCompiler_temp$jscomp$41$$=Object.setPrototypeOf;else{var $JSCompiler_inline_result$jscomp$42$$;a:{var $JSCompiler_x$jscomp$inline_122$$={a:!0},$JSCompiler_y$jscomp$inline_123$$={};try{$JSCompiler_y$jscomp$inline_123$$.__proto__=$JSCompiler_x$jscomp$inline_122$$;$JSCompiler_inline_result$jscomp$42$$=$JSCompiler_y$jscomp$inline_123$$.a;break a}catch($JSCompiler_e$jscomp$inline_124$$){}$JSCompiler_inline_result$jscomp$42$$=!1}$JSCompiler_temp$jscomp$41$$=
$JSCompiler_inline_result$jscomp$42$$?function($target$jscomp$83$$,$proto$jscomp$3$$){$target$jscomp$83$$.__proto__=$proto$jscomp$3$$;if($target$jscomp$83$$.__proto__!==$proto$jscomp$3$$)throw new TypeError($target$jscomp$83$$+" is not extensible");return $target$jscomp$83$$}:null}var $$jscomp$setPrototypeOf$$=$JSCompiler_temp$jscomp$41$$;
function $$jscomp$inherits$$($childCtor$$,$parentCtor$$){$childCtor$$.prototype=$$jscomp$objectCreate$$($parentCtor$$.prototype);$childCtor$$.prototype.constructor=$childCtor$$;if($$jscomp$setPrototypeOf$$)$$jscomp$setPrototypeOf$$($childCtor$$,$parentCtor$$);else for(var $p$$ in $parentCtor$$)if("prototype"!=$p$$)if(Object.defineProperties){var $descriptor$jscomp$1$$=Object.getOwnPropertyDescriptor($parentCtor$$,$p$$);$descriptor$jscomp$1$$&&Object.defineProperty($childCtor$$,$p$$,$descriptor$jscomp$1$$)}else $childCtor$$[$p$$]=
$parentCtor$$[$p$$];$childCtor$$.$superClass_$=$parentCtor$$.prototype}(function($maybeGlobal$$){return"undefined"!=typeof window&&window===$maybeGlobal$$?$maybeGlobal$$:"undefined"!=typeof global&&null!=global?global:$maybeGlobal$$})(this);var $CONSENT_POLICY_STATE$$module$src$consent_state$$={SUFFICIENT:1,INSUFFICIENT:2,UNKNOWN_NOT_REQUIRED:3,UNKNOWN:4};function $tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($component$jscomp$4$$,$fallback$$){$fallback$$=void 0===$fallback$$?"":$fallback$$;try{return decodeURIComponent($component$jscomp$4$$)}catch($e$jscomp$8$$){return $fallback$$}};var $regex$$module$src$url_parse_query_string$$=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;
function $parseQueryString_$$module$src$url_parse_query_string$$($queryString$$){var $params$jscomp$1$$=Object.create(null);if(!$queryString$$)return $params$jscomp$1$$;for(var $match$$;$match$$=$regex$$module$src$url_parse_query_string$$.exec($queryString$$);){var $name$jscomp$70$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[1],$match$$[1]),$value$jscomp$86$$=$match$$[2]?$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[2],$match$$[2]):"";
$params$jscomp$1$$[$name$jscomp$70$$]=$value$jscomp$86$$}return $params$jscomp$1$$};var $rtvVersion$$module$src$mode$$="";
function $getMode$$module$src$mode$$($opt_win$$){var $win$$=$opt_win$$||self;if($win$$.AMP_MODE)var $JSCompiler_temp$jscomp$43_JSCompiler_win$jscomp$inline_126$$=$win$$.AMP_MODE;else{$JSCompiler_temp$jscomp$43_JSCompiler_win$jscomp$inline_126$$=$win$$;var $JSCompiler_AMP_CONFIG$jscomp$inline_127_JSCompiler_singlePassType$jscomp$inline_134$$=self.AMP_CONFIG||{},$JSCompiler_runningTests$jscomp$inline_131$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_127_JSCompiler_singlePassType$jscomp$inline_134$$.test||!(!$JSCompiler_temp$jscomp$43_JSCompiler_win$jscomp$inline_126$$.AMP_TEST&&
!$JSCompiler_temp$jscomp$43_JSCompiler_win$jscomp$inline_126$$.__karma__),$JSCompiler_isLocalDev$jscomp$inline_132$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_127_JSCompiler_singlePassType$jscomp$inline_134$$.localDev||$JSCompiler_runningTests$jscomp$inline_131$$,$JSCompiler_hashQuery$jscomp$inline_133$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$43_JSCompiler_win$jscomp$inline_126$$.location.originalHash||$JSCompiler_temp$jscomp$43_JSCompiler_win$jscomp$inline_126$$.location.hash);
$JSCompiler_AMP_CONFIG$jscomp$inline_127_JSCompiler_singlePassType$jscomp$inline_134$$=$JSCompiler_AMP_CONFIG$jscomp$inline_127_JSCompiler_singlePassType$jscomp$inline_134$$.spt;var $JSCompiler_searchQuery$jscomp$inline_135$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$43_JSCompiler_win$jscomp$inline_126$$.location.search);$rtvVersion$$module$src$mode$$||($rtvVersion$$module$src$mode$$=$JSCompiler_isLocalDev$jscomp$inline_132$$?"1904281823091":$JSCompiler_temp$jscomp$43_JSCompiler_win$jscomp$inline_126$$.AMP_CONFIG&&
$JSCompiler_temp$jscomp$43_JSCompiler_win$jscomp$inline_126$$.AMP_CONFIG.v?$JSCompiler_temp$jscomp$43_JSCompiler_win$jscomp$inline_126$$.AMP_CONFIG.v:"011904281823091");$JSCompiler_temp$jscomp$43_JSCompiler_win$jscomp$inline_126$$=$win$$.AMP_MODE={localDev:$JSCompiler_isLocalDev$jscomp$inline_132$$,development:!("1"!=$JSCompiler_hashQuery$jscomp$inline_133$$.development&&!$JSCompiler_temp$jscomp$43_JSCompiler_win$jscomp$inline_126$$.AMP_DEV_MODE),examiner:"2"==$JSCompiler_hashQuery$jscomp$inline_133$$.development,
filter:$JSCompiler_hashQuery$jscomp$inline_133$$.filter,geoOverride:$JSCompiler_hashQuery$jscomp$inline_133$$["amp-geo"],minified:!0,lite:void 0!=$JSCompiler_searchQuery$jscomp$inline_135$$.amp_lite,test:$JSCompiler_runningTests$jscomp$inline_131$$,log:$JSCompiler_hashQuery$jscomp$inline_133$$.log,version:"1904281823091",rtvVersion:$rtvVersion$$module$src$mode$$,singlePassType:$JSCompiler_AMP_CONFIG$jscomp$inline_127_JSCompiler_singlePassType$jscomp$inline_134$$}}return $JSCompiler_temp$jscomp$43_JSCompiler_win$jscomp$inline_126$$}
;var $RTC_VENDORS$$module$extensions$amp_a4a$0_1$callout_vendors$$={medianet:{url:"https://amprtc.media.net/rtb/getrtc?cid=CID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&tgt=TGT&curl=CANONICAL_URL&to=TIMEOUT&purl=HREF",macros:["CID"],errorReportingUrl:"https://qsearch-a.akamaihd.net/log?logid=kfk&evtid=projectevents&project=amprtc_error&error=ERROR_TYPE&rd=HREF",disableKeyAppend:!0},prebidappnexus:{url:"https://prebid.adnxs.com/pbs/v1/openrtb2/amp?tag_id=PLACEMENT_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&adcid=ADCID&purl=HREF",
macros:["PLACEMENT_ID"],disableKeyAppend:!0},prebidrubicon:{url:"https://prebid-server.rubiconproject.com/openrtb2/amp?tag_id=REQUEST_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&adc=ADCID&purl=HREF",macros:["REQUEST_ID"],disableKeyAppend:!0},indexexchange:{url:"https://amp.casalemedia.com/amprtc?v=1&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&s=SITE_ID&p=CANONICAL_URL",
macros:["SITE_ID"],disableKeyAppend:!0},lotame:{url:"https://ad.crwdcntrl.net/5/pe=y/c=CLIENT_ID/an=AD_NETWORK",macros:["CLIENT_ID","AD_NETWORK"],disableKeyAppend:!0},yieldbot:{url:"https://i.yldbt.com/m/YB_PSN/v1/amp/init?curl=CANONICAL_URL&sn=YB_SLOT&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&aup=ATTR(data-slot)&pvi=PAGEVIEWID&tgt=TGT&adcid=ADCID&href=HREF",macros:["YB_PSN","YB_SLOT"],disableKeyAppend:!0},salesforcedmp:{url:"https://cdn.krxd.net/userdata/v2/amp/ORGANIZATION_ID?segments_key=SEGMENTS_KEY&kuid_key=USER_KEY",
macros:["ORGANIZATION_ID","SEGMENTS_KEY","USER_KEY"],disableKeyAppend:!0},purch:{url:"https://ads.servebom.com/tmntag.js?v=1.2&fmt=amp&o={%22p%22%3APLACEMENT_ID}&div_id=DIV_ID",macros:["PLACEMENT_ID","DIV_ID"],disableKeyAppend:!0},aps:{url:"https://aax.amazon-adsystem.com/e/dtb/bid?src=PUB_ID&pubid=PUB_UUID&amp=1&u=CANONICAL_URL&slots=%5B%7B%22sd%22%3A%22ATTR(data-slot)%22%2C%22s%22%3A%5B%22ATTR(width)xATTR(height)%22%5D%2C%22ms%22%3A%22ATTR(data-multi-size)%22%7D%5D&pj=PARAMS",macros:["PUB_ID","PARAMS",
"PUB_UUID"],disableKeyAppend:!0},openwrap:{url:"https://ow.pubmatic.com/amp?v=1&w=ATTR(width)&h=ATTR(height)&ms=ATTR(data-multi-size)&auId=ATTR(data-slot)&purl=HREF&pubId=PUB_ID&profId=PROFILE_ID",macros:["PUB_ID","PROFILE_ID"],errorReportingUrl:"https://ow.pubmatic.com/amp_error?e=ERROR_TYPE&h=HREF",disableKeyAppend:!0},criteo:{url:"https://bidder.criteo.com/amp/rtc?zid=ZONE_ID&nid=NETWORK_ID&psubid=PUBLISHER_SUB_ID&lir=LINE_ITEM_RANGES&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&timeout=TIMEOUT&curl=CANONICAL_URL&href=HREF",
macros:["ZONE_ID","NETWORK_ID","PUBLISHER_SUB_ID","LINE_ITEM_RANGES"],disableKeyAppend:!0},navegg:{url:"https://amp.navdmp.com/usr?acc=NVG_ACC&wst=0&v=10",macros:["NVG_ACC"]},sonobi:{url:"https://apex.go.sonobi.com/trinity.json?key_maker=%7B%22_DIVIDER_ATTR(data-slot)%7C1%22%3A%22PLACEMENT_ID_DIVIDER_ATTR(width)xATTR(height)%2CATTR(data-multi-size)%22%7D&ref=CANONICAL_URL&lib_name=amp&lib_v=0.1&pv=PAGEVIEWID&amp=1",disableKeyAppend:!0,macros:["PLACEMENT_ID","_DIVIDER_"]}};
if($getMode$$module$src$mode$$().localDev||$getMode$$module$src$mode$$().test)$RTC_VENDORS$$module$extensions$amp_a4a$0_1$callout_vendors$$.fakevendor={url:"https://localhost:8000/examples/rtcE1.json?slot_id=SLOT_ID&page_id=PAGE_ID&foo_id=FOO_ID",macros:["SLOT_ID","PAGE_ID","FOO_ID"]},$RTC_VENDORS$$module$extensions$amp_a4a$0_1$callout_vendors$$.fakevendor2={url:"https://localhost:8000/examples/rtcE1.json?slot_id=SLOT_ID&page_id=PAGE_ID&foo_id=FOO_ID",errorReportingUrl:"https://localhost:8000/examples/ERROR_TYPE",
disableKeyAppend:!0};function $Deferred$$module$src$utils$promise$$(){var $resolve$$,$reject$$;this.promise=new Promise(function($res$$,$rej$$){$resolve$$=$res$$;$reject$$=$rej$$});this.resolve=$resolve$$;this.reject=$reject$$}function $tryResolve$$module$src$utils$promise$$($fn$$){return new Promise(function($resolve$jscomp$1$$){$resolve$jscomp$1$$($fn$$())})};var $toString_$$module$src$types$$=Object.prototype.toString;function $isObject$$module$src$types$$($value$jscomp$90$$){return"[object Object]"===$toString_$$module$src$types$$.call($value$jscomp$90$$)}function $isFiniteNumber$$module$src$types$$($value$jscomp$91$$){return"number"===typeof $value$jscomp$91$$&&isFinite($value$jscomp$91$$)};function $duplicateErrorIfNecessary$$module$src$log$$($error$jscomp$9$$){var $messageProperty$$=Object.getOwnPropertyDescriptor($error$jscomp$9$$,"message");if($messageProperty$$&&$messageProperty$$.writable)return $error$jscomp$9$$;var $stack$$=$error$jscomp$9$$.stack,$e$jscomp$10$$=Error($error$jscomp$9$$.message),$prop$jscomp$2$$;for($prop$jscomp$2$$ in $error$jscomp$9$$)$e$jscomp$10$$[$prop$jscomp$2$$]=$error$jscomp$9$$[$prop$jscomp$2$$];$e$jscomp$10$$.stack=$stack$$;return $e$jscomp$10$$}
function $createErrorVargs$$module$src$log$$($var_args$jscomp$53$$){for(var $error$jscomp$10$$=null,$message$jscomp$28$$="",$i$jscomp$6$$=0;$i$jscomp$6$$<arguments.length;$i$jscomp$6$$++){var $arg$jscomp$6$$=arguments[$i$jscomp$6$$];$arg$jscomp$6$$ instanceof Error&&!$error$jscomp$10$$?$error$jscomp$10$$=$duplicateErrorIfNecessary$$module$src$log$$($arg$jscomp$6$$):($message$jscomp$28$$&&($message$jscomp$28$$+=" "),$message$jscomp$28$$+=$arg$jscomp$6$$)}$error$jscomp$10$$?$message$jscomp$28$$&&($error$jscomp$10$$.message=
$message$jscomp$28$$+": "+$error$jscomp$10$$.message):$error$jscomp$10$$=Error($message$jscomp$28$$);return $error$jscomp$10$$}function $rethrowAsync$$module$src$log$$($var_args$jscomp$54$$){var $error$jscomp$11$$=$createErrorVargs$$module$src$log$$.apply(null,arguments);setTimeout(function(){self.reportError($error$jscomp$11$$);throw $error$jscomp$11$$;})}self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log;
function $user$$module$src$log$$(){if(!$logs$$module$src$log$$.user)throw Error("failed to call initLogConstructor");return $logs$$module$src$log$$.user}function $dev$$module$src$log$$(){if($logs$$module$src$log$$.dev)return $logs$$module$src$log$$.dev;throw Error("failed to call initLogConstructor");}
function $userAssert$$module$src$log$$($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$){$user$$module$src$log$$().assert($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$,void 0,void 0,void 0,void 0,void 0,void 0)};function $getExistingServiceForDocInEmbedScope$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_142_JSCompiler_holder$jscomp$inline_143_element$jscomp$11$$,$id$jscomp$6$$){var $opt_fallbackToTopWin$$,$win$jscomp$6$$=$JSCompiler_ampdoc$jscomp$inline_142_JSCompiler_holder$jscomp$inline_143_element$jscomp$11$$.ownerDocument.defaultView,$isEmbed$$=$win$jscomp$6$$!=$getTopWindow$$module$src$service$$($win$jscomp$6$$);if($isEmbed$$){if($isServiceRegistered$$module$src$service$$($win$jscomp$6$$,$id$jscomp$6$$)){var $embedService$$=
$getServiceInternal$$module$src$service$$($win$jscomp$6$$,$id$jscomp$6$$);if($embedService$$)return $embedService$$}if(!$opt_fallbackToTopWin$$)return null}$JSCompiler_ampdoc$jscomp$inline_142_JSCompiler_holder$jscomp$inline_143_element$jscomp$11$$=$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_142_JSCompiler_holder$jscomp$inline_143_element$jscomp$11$$);$JSCompiler_ampdoc$jscomp$inline_142_JSCompiler_holder$jscomp$inline_143_element$jscomp$11$$=$getAmpdocServiceHolder$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_142_JSCompiler_holder$jscomp$inline_143_element$jscomp$11$$);
return $isServiceRegistered$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_142_JSCompiler_holder$jscomp$inline_143_element$jscomp$11$$,$id$jscomp$6$$)?$getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_142_JSCompiler_holder$jscomp$inline_143_element$jscomp$11$$,$id$jscomp$6$$):null}
function $installServiceInEmbedScope$$module$src$service$$($embedWin$$,$service$$){$getTopWindow$$module$src$service$$($embedWin$$);$isServiceRegistered$$module$src$service$$($embedWin$$,"url-replace");$registerServiceInternal$$module$src$service$$($embedWin$$,$embedWin$$,function(){return $service$$});$getServiceInternal$$module$src$service$$($embedWin$$,"url-replace")}
function $getService$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$){$win$jscomp$8$$=$getTopWindow$$module$src$service$$($win$jscomp$8$$);return $getServiceInternal$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$)}
function $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$$,$id$jscomp$15$$){var $ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdoc$$module$src$service$$($elementOrAmpDoc$$);$ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$);return $getServiceInternal$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$,$id$jscomp$15$$)}
function $getServicePromiseOrNullForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$2$$,$id$jscomp$18$$){return $getServicePromiseOrNullInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($elementOrAmpDoc$jscomp$2$$),$id$jscomp$18$$)}function $getTopWindow$$module$src$service$$($win$jscomp$14$$){return $win$jscomp$14$$.__AMP_TOP||$win$jscomp$14$$}
function $getAmpdoc$$module$src$service$$($nodeOrDoc$jscomp$2$$){return $nodeOrDoc$jscomp$2$$.nodeType?$getService$$module$src$service$$(($nodeOrDoc$jscomp$2$$.ownerDocument||$nodeOrDoc$jscomp$2$$).defaultView,"ampdoc").getAmpDoc($nodeOrDoc$jscomp$2$$):$nodeOrDoc$jscomp$2$$}
function $getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$){$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$=$getAmpdoc$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$);return $ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.isSingleDoc()?$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.win:$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$){$isServiceRegistered$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$);var $services$$=$getServices$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$);$holder$jscomp$4_s$jscomp$8$$=$services$$[$id$jscomp$19$$];$holder$jscomp$4_s$jscomp$8$$.obj||($holder$jscomp$4_s$jscomp$8$$.obj=new $holder$jscomp$4_s$jscomp$8$$.ctor($holder$jscomp$4_s$jscomp$8$$.context),$holder$jscomp$4_s$jscomp$8$$.ctor=
null,$holder$jscomp$4_s$jscomp$8$$.context=null,$holder$jscomp$4_s$jscomp$8$$.resolve&&$holder$jscomp$4_s$jscomp$8$$.resolve($holder$jscomp$4_s$jscomp$8$$.obj));return $holder$jscomp$4_s$jscomp$8$$.obj}
function $registerServiceInternal$$module$src$service$$($holder$jscomp$5$$,$context$$,$ctor$jscomp$1$$){var $services$jscomp$1$$=$getServices$$module$src$service$$($holder$jscomp$5$$),$s$jscomp$9$$=$services$jscomp$1$$["url-replace"];$s$jscomp$9$$||($s$jscomp$9$$=$services$jscomp$1$$["url-replace"]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});$s$jscomp$9$$.ctor||$s$jscomp$9$$.obj||($s$jscomp$9$$.ctor=$ctor$jscomp$1$$,$s$jscomp$9$$.context=$context$$,$s$jscomp$9$$.resolve&&
$getServiceInternal$$module$src$service$$($holder$jscomp$5$$,"url-replace"))}
function $getServicePromiseInternal$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$,$id$jscomp$21$$){var $cached$$=$getServicePromiseOrNullInternal$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$,$id$jscomp$21$$);if($cached$$)return $cached$$;$holder$jscomp$6_services$jscomp$2$$=$getServices$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$);$holder$jscomp$6_services$jscomp$2$$[$id$jscomp$21$$]=$emptyServiceHolderWithPromise$$module$src$service$$();return $holder$jscomp$6_services$jscomp$2$$[$id$jscomp$21$$].promise}
function $getServicePromiseOrNullInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$){var $s$jscomp$11$$=$getServices$$module$src$service$$($holder$jscomp$8$$)[$id$jscomp$23$$];if($s$jscomp$11$$){if($s$jscomp$11$$.promise)return $s$jscomp$11$$.promise;$getServiceInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$);return $s$jscomp$11$$.promise=Promise.resolve($s$jscomp$11$$.obj)}return null}
function $getServices$$module$src$service$$($holder$jscomp$9$$){var $services$jscomp$5$$=$holder$jscomp$9$$.services;$services$jscomp$5$$||($services$jscomp$5$$=$holder$jscomp$9$$.services={});return $services$jscomp$5$$}
function $disposeServicesInternal$$module$src$service$$($holder$jscomp$10_services$jscomp$6$$){$holder$jscomp$10_services$jscomp$6$$=$getServices$$module$src$service$$($holder$jscomp$10_services$jscomp$6$$);var $$jscomp$loop$30$$={},$id$jscomp$24$$;for($id$jscomp$24$$ in $holder$jscomp$10_services$jscomp$6$$){$$jscomp$loop$30$$.$$jscomp$loop$prop$id$31$=$id$jscomp$24$$;if(Object.prototype.hasOwnProperty.call($holder$jscomp$10_services$jscomp$6$$,$$jscomp$loop$30$$.$$jscomp$loop$prop$id$31$)){var $serviceHolder$$=
$holder$jscomp$10_services$jscomp$6$$[$$jscomp$loop$30$$.$$jscomp$loop$prop$id$31$];$serviceHolder$$.obj?$disposeServiceInternal$$module$src$service$$($$jscomp$loop$30$$.$$jscomp$loop$prop$id$31$,$serviceHolder$$.obj):$serviceHolder$$.promise&&$serviceHolder$$.promise.then(function($holder$jscomp$10_services$jscomp$6$$){return function($$jscomp$loop$30$$){return $disposeServiceInternal$$module$src$service$$($holder$jscomp$10_services$jscomp$6$$.$$jscomp$loop$prop$id$31$,$$jscomp$loop$30$$)}}($$jscomp$loop$30$$))}$$jscomp$loop$30$$=
{$$jscomp$loop$prop$id$31$:$$jscomp$loop$30$$.$$jscomp$loop$prop$id$31$}}}function $disposeServiceInternal$$module$src$service$$($id$jscomp$25$$,$service$jscomp$3$$){if("function"==typeof $service$jscomp$3$$.dispose)try{$service$jscomp$3$$.dispose()}catch($e$jscomp$12$$){$dev$$module$src$log$$().error("SERVICE","failed to dispose service",$id$jscomp$25$$,$e$jscomp$12$$)}}
function $isServiceRegistered$$module$src$service$$($holder$jscomp$12_service$jscomp$4$$,$id$jscomp$27$$){$holder$jscomp$12_service$jscomp$4$$=$holder$jscomp$12_service$jscomp$4$$.services&&$holder$jscomp$12_service$jscomp$4$$.services[$id$jscomp$27$$];return!(!$holder$jscomp$12_service$jscomp$4$$||!$holder$jscomp$12_service$jscomp$4$$.ctor&&!$holder$jscomp$12_service$jscomp$4$$.obj)}
function $emptyServiceHolderWithPromise$$module$src$service$$(){var $deferred$$=new $Deferred$$module$src$utils$promise$$,$$jscomp$destructuring$var2_reject$jscomp$3$$=$deferred$$,$promise$jscomp$1$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.promise,$resolve$jscomp$4$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.resolve;$$jscomp$destructuring$var2_reject$jscomp$3$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.reject;$promise$jscomp$1$$.catch(function(){});return{obj:null,promise:$promise$jscomp$1$$,
resolve:$resolve$jscomp$4$$,reject:$$jscomp$destructuring$var2_reject$jscomp$3$$,context:null,ctor:null}};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var $hasOwn_$$module$src$utils$object$$=Object.prototype.hasOwnProperty;function $map$$module$src$utils$object$$(){var $opt_initial$$,$obj$jscomp$25$$=Object.create(null);$opt_initial$$&&Object.assign($obj$jscomp$25$$,$opt_initial$$);return $obj$jscomp$25$$}function $dict$$module$src$utils$object$$($opt_initial$jscomp$1$$){return $opt_initial$jscomp$1$$||{}}
function $deepMerge$$module$src$utils$object$$($target$jscomp$84$$,$$jscomp$loop$32_source$jscomp$12$$){var $depth$jscomp$8$$=void 0===$depth$jscomp$8$$?10:$depth$jscomp$8$$;var $seen$$=[],$queue$$=[];$queue$$.push({t:$target$jscomp$84$$,s:$$jscomp$loop$32_source$jscomp$12$$,d:0});for($$jscomp$loop$32_source$jscomp$12$$={};0<$queue$$.length;){var $$jscomp$destructuring$var3$$=$queue$$.shift();$$jscomp$loop$32_source$jscomp$12$$.$$jscomp$loop$prop$t$34$=$$jscomp$destructuring$var3$$.t;$$jscomp$loop$32_source$jscomp$12$$.$$jscomp$loop$prop$s$33$=
$$jscomp$destructuring$var3$$.s;$$jscomp$loop$32_source$jscomp$12$$.$$jscomp$loop$prop$d$35$=$$jscomp$destructuring$var3$$.d;if($seen$$.includes($$jscomp$loop$32_source$jscomp$12$$.$$jscomp$loop$prop$s$33$))throw Error("Source object has a circular reference.");$seen$$.push($$jscomp$loop$32_source$jscomp$12$$.$$jscomp$loop$prop$s$33$);$$jscomp$loop$32_source$jscomp$12$$.$$jscomp$loop$prop$t$34$!==$$jscomp$loop$32_source$jscomp$12$$.$$jscomp$loop$prop$s$33$&&($$jscomp$loop$32_source$jscomp$12$$.$$jscomp$loop$prop$d$35$>
$depth$jscomp$8$$?Object.assign($$jscomp$loop$32_source$jscomp$12$$.$$jscomp$loop$prop$t$34$,$$jscomp$loop$32_source$jscomp$12$$.$$jscomp$loop$prop$s$33$):Object.keys($$jscomp$loop$32_source$jscomp$12$$.$$jscomp$loop$prop$s$33$).forEach(function($target$jscomp$84$$){return function($$jscomp$loop$32_source$jscomp$12$$){var $depth$jscomp$8$$=$target$jscomp$84$$.$$jscomp$loop$prop$s$33$[$$jscomp$loop$32_source$jscomp$12$$];if($hasOwn_$$module$src$utils$object$$.call($target$jscomp$84$$.$$jscomp$loop$prop$t$34$,
$$jscomp$loop$32_source$jscomp$12$$)){var $seen$$=$target$jscomp$84$$.$$jscomp$loop$prop$t$34$[$$jscomp$loop$32_source$jscomp$12$$];if($isObject$$module$src$types$$($depth$jscomp$8$$)&&$isObject$$module$src$types$$($seen$$)){$queue$$.push({t:$seen$$,s:$depth$jscomp$8$$,d:$target$jscomp$84$$.$$jscomp$loop$prop$d$35$+1});return}}$target$jscomp$84$$.$$jscomp$loop$prop$t$34$[$$jscomp$loop$32_source$jscomp$12$$]=$depth$jscomp$8$$}}($$jscomp$loop$32_source$jscomp$12$$)));$$jscomp$loop$32_source$jscomp$12$$=
{$$jscomp$loop$prop$s$33$:$$jscomp$loop$32_source$jscomp$12$$.$$jscomp$loop$prop$s$33$,$$jscomp$loop$prop$t$34$:$$jscomp$loop$32_source$jscomp$12$$.$$jscomp$loop$prop$t$34$,$$jscomp$loop$prop$d$35$:$$jscomp$loop$32_source$jscomp$12$$.$$jscomp$loop$prop$d$35$}}return $target$jscomp$84$$};function $startsWith$$module$src$string$$($string$jscomp$6$$,$prefix$jscomp$2$$){return $prefix$jscomp$2$$.length>$string$jscomp$6$$.length?!1:0==$string$jscomp$6$$.lastIndexOf($prefix$jscomp$2$$,0)}function $stringHash32$$module$src$string$$($str$jscomp$7$$){for(var $length$jscomp$16$$=$str$jscomp$7$$.length,$hash$$=5381,$i$jscomp$8$$=0;$i$jscomp$8$$<$length$jscomp$16$$;$i$jscomp$8$$++)$hash$$=33*$hash$$^$str$jscomp$7$$.charCodeAt($i$jscomp$8$$);return String($hash$$>>>0)};var $HTML_ESCAPE_CHARS$$module$src$dom$$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},$HTML_ESCAPE_REGEX$$module$src$dom$$=/(&|<|>|"|'|`)/g;
function $createElementWithAttributes$$module$src$dom$$($doc$jscomp$12_element$jscomp$16$$,$tagName$jscomp$5$$,$attributes$jscomp$2$$){$doc$jscomp$12_element$jscomp$16$$=$doc$jscomp$12_element$jscomp$16$$.createElement($tagName$jscomp$5$$);for(var $JSCompiler_attr$jscomp$inline_149$$ in $attributes$jscomp$2$$)$doc$jscomp$12_element$jscomp$16$$.setAttribute($JSCompiler_attr$jscomp$inline_149$$,$attributes$jscomp$2$$[$JSCompiler_attr$jscomp$inline_149$$]);return $doc$jscomp$12_element$jscomp$16$$}
function $closest$$module$src$dom$$($el$jscomp$2_element$jscomp$17$$,$callback$jscomp$60$$){for(var $opt_stopAt$$;$el$jscomp$2_element$jscomp$17$$&&$el$jscomp$2_element$jscomp$17$$!==$opt_stopAt$$;$el$jscomp$2_element$jscomp$17$$=$el$jscomp$2_element$jscomp$17$$.parentElement)if($callback$jscomp$60$$($el$jscomp$2_element$jscomp$17$$))return $el$jscomp$2_element$jscomp$17$$;return null}
function $closestAncestorElementBySelector$$module$src$dom$$($element$jscomp$18$$){return $element$jscomp$18$$.closest?$element$jscomp$18$$.closest("A"):$closest$$module$src$dom$$($element$jscomp$18$$,function($element$jscomp$18$$){var $el$jscomp$3$$=$element$jscomp$18$$.matches||$element$jscomp$18$$.webkitMatchesSelector||$element$jscomp$18$$.mozMatchesSelector||$element$jscomp$18$$.msMatchesSelector||$element$jscomp$18$$.oMatchesSelector;return $el$jscomp$3$$?$el$jscomp$3$$.call($element$jscomp$18$$,
"A"):!1})}function $escapeHtml$$module$src$dom$$($text$jscomp$12$$){return $text$jscomp$12$$?$text$jscomp$12$$.replace($HTML_ESCAPE_REGEX$$module$src$dom$$,$escapeHtmlChar$$module$src$dom$$):$text$jscomp$12$$}function $escapeHtmlChar$$module$src$dom$$($c$$){return $HTML_ESCAPE_CHARS$$module$src$dom$$[$c$$]};function $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$33$$,$id$jscomp$31$$,$extension$jscomp$3$$){var $s$jscomp$13$$=$getServicePromiseOrNullForDoc$$module$src$service$$($element$jscomp$33$$,$id$jscomp$31$$);if($s$jscomp$13$$)return $s$jscomp$13$$;var $ampdoc$jscomp$7$$=$getAmpdoc$$module$src$service$$($element$jscomp$33$$);return $ampdoc$jscomp$7$$.whenBodyAvailable().then(function(){var $element$jscomp$33$$=$ampdoc$jscomp$7$$.win;var $id$jscomp$31$$=$ampdoc$jscomp$7$$.win.document.head;
if($id$jscomp$31$$){var $s$jscomp$13$$=[];$id$jscomp$31$$=$id$jscomp$31$$.querySelectorAll("script[custom-element]");for(var $JSCompiler_i$jscomp$inline_410$$=0;$JSCompiler_i$jscomp$inline_410$$<$id$jscomp$31$$.length;$JSCompiler_i$jscomp$inline_410$$++)$s$jscomp$13$$.push($id$jscomp$31$$[$JSCompiler_i$jscomp$inline_410$$].getAttribute("custom-element"))}else $s$jscomp$13$$=[];$element$jscomp$33$$=$s$jscomp$13$$.includes($extension$jscomp$3$$)?$getService$$module$src$service$$($element$jscomp$33$$,
"extensions").waitForExtension($element$jscomp$33$$,$extension$jscomp$3$$):Promise.resolve();return $element$jscomp$33$$}).then(function(){var $s$jscomp$13$$=$ampdoc$jscomp$7$$.win;return $s$jscomp$13$$.ampExtendedElements&&$s$jscomp$13$$.ampExtendedElements[$extension$jscomp$3$$]?$getServicePromiseInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($element$jscomp$33$$),$id$jscomp$31$$):null})};function $Services$$module$src$services$analyticsForDocOrNull$$($element$jscomp$43$$){return $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$43$$,"amp-analytics-instrumentation","amp-analytics")}function $Services$$module$src$services$documentInfoForDoc$$($elementOrAmpDoc$jscomp$6$$){return $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$6$$,"documentInfo").get()}
function $Services$$module$src$services$extensionsFor$$($window$jscomp$5$$){return $getService$$module$src$service$$($window$jscomp$5$$,"extensions")}function $Services$$module$src$services$resourcesForDoc$$($elementOrAmpDoc$jscomp$11$$){return $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$11$$,"resources")}function $Services$$module$src$services$timerFor$$($window$jscomp$10$$){return $getService$$module$src$service$$($window$jscomp$10$$,"timer")}
function $Services$$module$src$services$urlReplacementsForDoc$$($element$jscomp$48$$){return $getExistingServiceForDocInEmbedScope$$module$src$service$$($element$jscomp$48$$,"url-replace")}function $Services$$module$src$services$viewerForDoc$$($elementOrAmpDoc$jscomp$15$$){return $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$15$$,"viewer")}
function $Services$$module$src$services$viewportForDoc$$($elementOrAmpDoc$jscomp$17$$){return $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$17$$,"viewport")};function $LruCache$$module$src$utils$lru_cache$$(){var $capacity$$=100;this.$capacity_$=$capacity$$;this.$access_$=this.$size_$=0;this.$cache_$=Object.create(null)}$LruCache$$module$src$utils$lru_cache$$.prototype.has=function($key$jscomp$43$$){return!!this.$cache_$[$key$jscomp$43$$]};$LruCache$$module$src$utils$lru_cache$$.prototype.get=function($key$jscomp$44$$){var $cacheable$$=this.$cache_$[$key$jscomp$44$$];if($cacheable$$)return $cacheable$$.access=++this.$access_$,$cacheable$$.payload};
$LruCache$$module$src$utils$lru_cache$$.prototype.put=function($JSCompiler_cache$jscomp$inline_164_key$jscomp$45$$,$payload$$){this.has($JSCompiler_cache$jscomp$inline_164_key$jscomp$45$$)||this.$size_$++;this.$cache_$[$JSCompiler_cache$jscomp$inline_164_key$jscomp$45$$]={payload:$payload$$,access:this.$access_$};if(!(this.$size_$<=this.$capacity_$)){$dev$$module$src$log$$().warn("lru-cache","Trimming LRU cache");$JSCompiler_cache$jscomp$inline_164_key$jscomp$45$$=this.$cache_$;var $JSCompiler_oldest$jscomp$inline_165$$=
this.$access_$+1,$JSCompiler_key$jscomp$inline_167$$;for($JSCompiler_key$jscomp$inline_167$$ in $JSCompiler_cache$jscomp$inline_164_key$jscomp$45$$){var $JSCompiler_access$jscomp$inline_168$$=$JSCompiler_cache$jscomp$inline_164_key$jscomp$45$$[$JSCompiler_key$jscomp$inline_167$$].access;if($JSCompiler_access$jscomp$inline_168$$<$JSCompiler_oldest$jscomp$inline_165$$){$JSCompiler_oldest$jscomp$inline_165$$=$JSCompiler_access$jscomp$inline_168$$;var $JSCompiler_oldestKey$jscomp$inline_166$$=$JSCompiler_key$jscomp$inline_167$$}}void 0!==
$JSCompiler_oldestKey$jscomp$inline_166$$&&(delete $JSCompiler_cache$jscomp$inline_164_key$jscomp$45$$[$JSCompiler_oldestKey$jscomp$inline_166$$],this.$size_$--)}};var $env$$module$src$config$$=self.AMP_CONFIG||{},$urls$$module$src$config$$={thirdParty:$env$$module$src$config$$.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:$env$$module$src$config$$.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof $env$$module$src$config$$.thirdPartyFrameRegex?new RegExp($env$$module$src$config$$.thirdPartyFrameRegex):$env$$module$src$config$$.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:$env$$module$src$config$$.cdnUrl||
"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof $env$$module$src$config$$.cdnProxyRegex?new RegExp($env$$module$src$config$$.cdnProxyRegex):$env$$module$src$config$$.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:$env$$module$src$config$$.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:$env$$module$src$config$$.localDev||!1};$dict$$module$src$utils$object$$({c:!0,v:!0,a:!0,ad:!0,action:!0});var $a$$module$src$url$$,$cache$$module$src$url$$,$INVALID_PROTOCOLS$$module$src$url$$=["javascript:","data:","vbscript:"];
function $parseUrlDeprecated$$module$src$url$$($JSCompiler_inline_result$jscomp$63_url$jscomp$22$$,$opt_nocache$$){$a$$module$src$url$$||($a$$module$src$url$$=self.document.createElement("a"),$cache$$module$src$url$$=self.UrlCache||(self.UrlCache=new $LruCache$$module$src$utils$lru_cache$$));var $JSCompiler_opt_cache$jscomp$inline_171$$=$opt_nocache$$?null:$cache$$module$src$url$$,$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$=$a$$module$src$url$$;if($JSCompiler_opt_cache$jscomp$inline_171$$&&
$JSCompiler_opt_cache$jscomp$inline_171$$.has($JSCompiler_inline_result$jscomp$63_url$jscomp$22$$))$JSCompiler_inline_result$jscomp$63_url$jscomp$22$$=$JSCompiler_opt_cache$jscomp$inline_171$$.get($JSCompiler_inline_result$jscomp$63_url$jscomp$22$$);else{$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$.href=$JSCompiler_inline_result$jscomp$63_url$jscomp$22$$;$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$.protocol||($JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$.href=
$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$.href);var $JSCompiler_info$jscomp$inline_173$$={href:$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$.href,protocol:$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$.protocol,host:$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$.host,hostname:$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$.hostname,port:"0"==$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$.port?
"":$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$.port,pathname:$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$.pathname,search:$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$.search,hash:$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$.hash,origin:null};"/"!==$JSCompiler_info$jscomp$inline_173$$.pathname[0]&&($JSCompiler_info$jscomp$inline_173$$.pathname="/"+$JSCompiler_info$jscomp$inline_173$$.pathname);if("http:"==
$JSCompiler_info$jscomp$inline_173$$.protocol&&80==$JSCompiler_info$jscomp$inline_173$$.port||"https:"==$JSCompiler_info$jscomp$inline_173$$.protocol&&443==$JSCompiler_info$jscomp$inline_173$$.port)$JSCompiler_info$jscomp$inline_173$$.port="",$JSCompiler_info$jscomp$inline_173$$.host=$JSCompiler_info$jscomp$inline_173$$.hostname;$JSCompiler_info$jscomp$inline_173$$.origin=$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$.origin&&"null"!=$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$.origin?
$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$.origin:"data:"!=$JSCompiler_info$jscomp$inline_173$$.protocol&&$JSCompiler_info$jscomp$inline_173$$.host?$JSCompiler_info$jscomp$inline_173$$.protocol+"//"+$JSCompiler_info$jscomp$inline_173$$.host:$JSCompiler_info$jscomp$inline_173$$.href;$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$=$getMode$$module$src$mode$$().test&&Object.freeze?Object.freeze($JSCompiler_info$jscomp$inline_173$$):$JSCompiler_info$jscomp$inline_173$$;
$JSCompiler_opt_cache$jscomp$inline_171$$&&$JSCompiler_opt_cache$jscomp$inline_171$$.put($JSCompiler_inline_result$jscomp$63_url$jscomp$22$$,$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$);$JSCompiler_inline_result$jscomp$63_url$jscomp$22$$=$JSCompiler_a$jscomp$inline_172_JSCompiler_frozen$jscomp$inline_174$$}return $JSCompiler_inline_result$jscomp$63_url$jscomp$22$$}
function $appendEncodedParamStringToUrl$$module$src$url$$($url$jscomp$24$$,$paramString$$){var $opt_addToFront$$;if(!$paramString$$)return $url$jscomp$24$$;var $mainAndFragment$$=$url$jscomp$24$$.split("#",2),$mainAndQuery$$=$mainAndFragment$$[0].split("?",2),$newUrl$$=$mainAndQuery$$[0]+($mainAndQuery$$[1]?$opt_addToFront$$?"?"+$paramString$$+"&"+$mainAndQuery$$[1]:"?"+$mainAndQuery$$[1]+"&"+$paramString$$:"?"+$paramString$$);return $newUrl$$+=$mainAndFragment$$[1]?"#"+$mainAndFragment$$[1]:""}
function $serializeQueryString$$module$src$url$$($params$jscomp$5$$){var $s$jscomp$15$$=[],$k$jscomp$1$$;for($k$jscomp$1$$ in $params$jscomp$5$$){var $v$$=$params$jscomp$5$$[$k$jscomp$1$$];if(null!=$v$$)if(Array.isArray($v$$))for(var $i$jscomp$12_sv$5$$=0;$i$jscomp$12_sv$5$$<$v$$.length;$i$jscomp$12_sv$5$$++){var $sv$$=$v$$[$i$jscomp$12_sv$5$$];$s$jscomp$15$$.push(encodeURIComponent($k$jscomp$1$$)+"="+encodeURIComponent($sv$$))}else $i$jscomp$12_sv$5$$=$v$$,$s$jscomp$15$$.push(encodeURIComponent($k$jscomp$1$$)+
"="+encodeURIComponent($i$jscomp$12_sv$5$$))}return $s$jscomp$15$$.join("&")}
function $assertHttpsUrl$$module$src$url$$($JSCompiler_string$jscomp$inline_412_JSCompiler_url$jscomp$inline_176_urlString$jscomp$1$$,$elementContext$$){var $sourceName$$=void 0===$sourceName$$?"source":$sourceName$$;$userAssert$$module$src$log$$(null!=$JSCompiler_string$jscomp$inline_412_JSCompiler_url$jscomp$inline_176_urlString$jscomp$1$$,"%s %s must be available",$elementContext$$,$sourceName$$);var $theUrlString$$=$JSCompiler_string$jscomp$inline_412_JSCompiler_url$jscomp$inline_176_urlString$jscomp$1$$;$JSCompiler_string$jscomp$inline_412_JSCompiler_url$jscomp$inline_176_urlString$jscomp$1$$=
$theUrlString$$;"string"==typeof $JSCompiler_string$jscomp$inline_412_JSCompiler_url$jscomp$inline_176_urlString$jscomp$1$$&&($JSCompiler_string$jscomp$inline_412_JSCompiler_url$jscomp$inline_176_urlString$jscomp$1$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_string$jscomp$inline_412_JSCompiler_url$jscomp$inline_176_urlString$jscomp$1$$));var $JSCompiler_index$jscomp$inline_414_JSCompiler_temp$jscomp$403$$;($JSCompiler_index$jscomp$inline_414_JSCompiler_temp$jscomp$403$$="https:"==$JSCompiler_string$jscomp$inline_412_JSCompiler_url$jscomp$inline_176_urlString$jscomp$1$$.protocol||
"localhost"==$JSCompiler_string$jscomp$inline_412_JSCompiler_url$jscomp$inline_176_urlString$jscomp$1$$.hostname||"127.0.0.1"==$JSCompiler_string$jscomp$inline_412_JSCompiler_url$jscomp$inline_176_urlString$jscomp$1$$.hostname)||($JSCompiler_string$jscomp$inline_412_JSCompiler_url$jscomp$inline_176_urlString$jscomp$1$$=$JSCompiler_string$jscomp$inline_412_JSCompiler_url$jscomp$inline_176_urlString$jscomp$1$$.hostname,$JSCompiler_index$jscomp$inline_414_JSCompiler_temp$jscomp$403$$=$JSCompiler_string$jscomp$inline_412_JSCompiler_url$jscomp$inline_176_urlString$jscomp$1$$.length-
10,$JSCompiler_index$jscomp$inline_414_JSCompiler_temp$jscomp$403$$=0<=$JSCompiler_index$jscomp$inline_414_JSCompiler_temp$jscomp$403$$&&$JSCompiler_string$jscomp$inline_412_JSCompiler_url$jscomp$inline_176_urlString$jscomp$1$$.indexOf(".localhost",$JSCompiler_index$jscomp$inline_414_JSCompiler_temp$jscomp$403$$)==$JSCompiler_index$jscomp$inline_414_JSCompiler_temp$jscomp$403$$);$userAssert$$module$src$log$$($JSCompiler_index$jscomp$inline_414_JSCompiler_temp$jscomp$403$$||/^(\/\/)/.test($theUrlString$$),
'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',$elementContext$$,$sourceName$$,$theUrlString$$)};function $isExperimentOn$$module$src$experiments$$($win$jscomp$51$$,$experimentId$$){var $toggles$$=$experimentToggles$$module$src$experiments$$($win$jscomp$51$$);return!!$toggles$$[$experimentId$$]}
function $experimentToggles$$module$src$experiments$$($params$jscomp$6_win$jscomp$53$$){if($params$jscomp$6_win$jscomp$53$$.__AMP__EXPERIMENT_TOGGLES)return $params$jscomp$6_win$jscomp$53$$.__AMP__EXPERIMENT_TOGGLES;$params$jscomp$6_win$jscomp$53$$.__AMP__EXPERIMENT_TOGGLES=Object.create(null);var $toggles$jscomp$2$$=$params$jscomp$6_win$jscomp$53$$.__AMP__EXPERIMENT_TOGGLES;if($params$jscomp$6_win$jscomp$53$$.AMP_CONFIG)for(var $allowed$7_experimentId$jscomp$2_i$jscomp$15$$ in $params$jscomp$6_win$jscomp$53$$.AMP_CONFIG){var $frequency$$=
$params$jscomp$6_win$jscomp$53$$.AMP_CONFIG[$allowed$7_experimentId$jscomp$2_i$jscomp$15$$];"number"===typeof $frequency$$&&0<=$frequency$$&&1>=$frequency$$&&($toggles$jscomp$2$$[$allowed$7_experimentId$jscomp$2_i$jscomp$15$$]=Math.random()<$frequency$$)}if($params$jscomp$6_win$jscomp$53$$.AMP_CONFIG&&Array.isArray($params$jscomp$6_win$jscomp$53$$.AMP_CONFIG["allow-doc-opt-in"])&&0<$params$jscomp$6_win$jscomp$53$$.AMP_CONFIG["allow-doc-opt-in"].length){var $allowed$$=$params$jscomp$6_win$jscomp$53$$.AMP_CONFIG["allow-doc-opt-in"],
$meta$$=$params$jscomp$6_win$jscomp$53$$.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if($meta$$){var $optedInExperiments$$=$meta$$.getAttribute("content").split(",");for($allowed$7_experimentId$jscomp$2_i$jscomp$15$$=0;$allowed$7_experimentId$jscomp$2_i$jscomp$15$$<$optedInExperiments$$.length;$allowed$7_experimentId$jscomp$2_i$jscomp$15$$++)-1!=$allowed$$.indexOf($optedInExperiments$$[$allowed$7_experimentId$jscomp$2_i$jscomp$15$$])&&($toggles$jscomp$2$$[$optedInExperiments$$[$allowed$7_experimentId$jscomp$2_i$jscomp$15$$]]=
!0)}}Object.assign($toggles$jscomp$2$$,$getExperimentTogglesFromCookie$$module$src$experiments$$($params$jscomp$6_win$jscomp$53$$));if($params$jscomp$6_win$jscomp$53$$.AMP_CONFIG&&Array.isArray($params$jscomp$6_win$jscomp$53$$.AMP_CONFIG["allow-url-opt-in"])&&0<$params$jscomp$6_win$jscomp$53$$.AMP_CONFIG["allow-url-opt-in"].length){$allowed$7_experimentId$jscomp$2_i$jscomp$15$$=$params$jscomp$6_win$jscomp$53$$.AMP_CONFIG["allow-url-opt-in"];$params$jscomp$6_win$jscomp$53$$=$parseQueryString_$$module$src$url_parse_query_string$$($params$jscomp$6_win$jscomp$53$$.location.originalHash||
$params$jscomp$6_win$jscomp$53$$.location.hash);for(var $i$8$$=0;$i$8$$<$allowed$7_experimentId$jscomp$2_i$jscomp$15$$.length;$i$8$$++){var $param$jscomp$6$$=$params$jscomp$6_win$jscomp$53$$["e-"+$allowed$7_experimentId$jscomp$2_i$jscomp$15$$[$i$8$$]];"1"==$param$jscomp$6$$&&($toggles$jscomp$2$$[$allowed$7_experimentId$jscomp$2_i$jscomp$15$$[$i$8$$]]=!0);"0"==$param$jscomp$6$$&&($toggles$jscomp$2$$[$allowed$7_experimentId$jscomp$2_i$jscomp$15$$[$i$8$$]]=!1)}}return $toggles$jscomp$2$$}
function $getExperimentTogglesFromCookie$$module$src$experiments$$($JSCompiler_cookieString$jscomp$inline_418_JSCompiler_cookies$jscomp$inline_419_JSCompiler_inline_result$jscomp$405_JSCompiler_value$jscomp$inline_423_toggles$jscomp$3_win$jscomp$55$$){a:{try{var $JSCompiler_i$jscomp$inline_420_JSCompiler_inline_result$jscomp$inline_417_i$jscomp$16$$=$JSCompiler_cookieString$jscomp$inline_418_JSCompiler_cookies$jscomp$inline_419_JSCompiler_inline_result$jscomp$405_JSCompiler_value$jscomp$inline_423_toggles$jscomp$3_win$jscomp$55$$.document.cookie}catch($JSCompiler_e$jscomp$inline_424$$){$JSCompiler_i$jscomp$inline_420_JSCompiler_inline_result$jscomp$inline_417_i$jscomp$16$$=
""}if($JSCompiler_cookieString$jscomp$inline_418_JSCompiler_cookies$jscomp$inline_419_JSCompiler_inline_result$jscomp$405_JSCompiler_value$jscomp$inline_423_toggles$jscomp$3_win$jscomp$55$$=$JSCompiler_i$jscomp$inline_420_JSCompiler_inline_result$jscomp$inline_417_i$jscomp$16$$)for($JSCompiler_cookieString$jscomp$inline_418_JSCompiler_cookies$jscomp$inline_419_JSCompiler_inline_result$jscomp$405_JSCompiler_value$jscomp$inline_423_toggles$jscomp$3_win$jscomp$55$$=$JSCompiler_cookieString$jscomp$inline_418_JSCompiler_cookies$jscomp$inline_419_JSCompiler_inline_result$jscomp$405_JSCompiler_value$jscomp$inline_423_toggles$jscomp$3_win$jscomp$55$$.split(";"),
$JSCompiler_i$jscomp$inline_420_JSCompiler_inline_result$jscomp$inline_417_i$jscomp$16$$=0;$JSCompiler_i$jscomp$inline_420_JSCompiler_inline_result$jscomp$inline_417_i$jscomp$16$$<$JSCompiler_cookieString$jscomp$inline_418_JSCompiler_cookies$jscomp$inline_419_JSCompiler_inline_result$jscomp$405_JSCompiler_value$jscomp$inline_423_toggles$jscomp$3_win$jscomp$55$$.length;$JSCompiler_i$jscomp$inline_420_JSCompiler_inline_result$jscomp$inline_417_i$jscomp$16$$++){var $JSCompiler_cookie$jscomp$inline_421$$=
$JSCompiler_cookieString$jscomp$inline_418_JSCompiler_cookies$jscomp$inline_419_JSCompiler_inline_result$jscomp$405_JSCompiler_value$jscomp$inline_423_toggles$jscomp$3_win$jscomp$55$$[$JSCompiler_i$jscomp$inline_420_JSCompiler_inline_result$jscomp$inline_417_i$jscomp$16$$].trim(),$JSCompiler_eq$jscomp$inline_422$$=$JSCompiler_cookie$jscomp$inline_421$$.indexOf("=");if(-1!=$JSCompiler_eq$jscomp$inline_422$$&&"AMP_EXP"==$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_cookie$jscomp$inline_421$$.substring(0,
$JSCompiler_eq$jscomp$inline_422$$).trim(),void 0)){$JSCompiler_cookieString$jscomp$inline_418_JSCompiler_cookies$jscomp$inline_419_JSCompiler_inline_result$jscomp$405_JSCompiler_value$jscomp$inline_423_toggles$jscomp$3_win$jscomp$55$$=$JSCompiler_cookie$jscomp$inline_421$$.substring($JSCompiler_eq$jscomp$inline_422$$+1).trim();$JSCompiler_cookieString$jscomp$inline_418_JSCompiler_cookies$jscomp$inline_419_JSCompiler_inline_result$jscomp$405_JSCompiler_value$jscomp$inline_423_toggles$jscomp$3_win$jscomp$55$$=
$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_cookieString$jscomp$inline_418_JSCompiler_cookies$jscomp$inline_419_JSCompiler_inline_result$jscomp$405_JSCompiler_value$jscomp$inline_423_toggles$jscomp$3_win$jscomp$55$$,$JSCompiler_cookieString$jscomp$inline_418_JSCompiler_cookies$jscomp$inline_419_JSCompiler_inline_result$jscomp$405_JSCompiler_value$jscomp$inline_423_toggles$jscomp$3_win$jscomp$55$$);break a}}$JSCompiler_cookieString$jscomp$inline_418_JSCompiler_cookies$jscomp$inline_419_JSCompiler_inline_result$jscomp$405_JSCompiler_value$jscomp$inline_423_toggles$jscomp$3_win$jscomp$55$$=
null}var $experimentCookie$$=$JSCompiler_cookieString$jscomp$inline_418_JSCompiler_cookies$jscomp$inline_419_JSCompiler_inline_result$jscomp$405_JSCompiler_value$jscomp$inline_423_toggles$jscomp$3_win$jscomp$55$$,$tokens$$=$experimentCookie$$?$experimentCookie$$.split(/\s*,\s*/g):[];$JSCompiler_cookieString$jscomp$inline_418_JSCompiler_cookies$jscomp$inline_419_JSCompiler_inline_result$jscomp$405_JSCompiler_value$jscomp$inline_423_toggles$jscomp$3_win$jscomp$55$$=Object.create(null);for($JSCompiler_i$jscomp$inline_420_JSCompiler_inline_result$jscomp$inline_417_i$jscomp$16$$=
0;$JSCompiler_i$jscomp$inline_420_JSCompiler_inline_result$jscomp$inline_417_i$jscomp$16$$<$tokens$$.length;$JSCompiler_i$jscomp$inline_420_JSCompiler_inline_result$jscomp$inline_417_i$jscomp$16$$++)0!=$tokens$$[$JSCompiler_i$jscomp$inline_420_JSCompiler_inline_result$jscomp$inline_417_i$jscomp$16$$].length&&("-"==$tokens$$[$JSCompiler_i$jscomp$inline_420_JSCompiler_inline_result$jscomp$inline_417_i$jscomp$16$$][0]?$JSCompiler_cookieString$jscomp$inline_418_JSCompiler_cookies$jscomp$inline_419_JSCompiler_inline_result$jscomp$405_JSCompiler_value$jscomp$inline_423_toggles$jscomp$3_win$jscomp$55$$[$tokens$$[$JSCompiler_i$jscomp$inline_420_JSCompiler_inline_result$jscomp$inline_417_i$jscomp$16$$].substr(1)]=
!1:$JSCompiler_cookieString$jscomp$inline_418_JSCompiler_cookies$jscomp$inline_419_JSCompiler_inline_result$jscomp$405_JSCompiler_value$jscomp$inline_423_toggles$jscomp$3_win$jscomp$55$$[$tokens$$[$JSCompiler_i$jscomp$inline_420_JSCompiler_inline_result$jscomp$inline_417_i$jscomp$16$$]]=!0);return $JSCompiler_cookieString$jscomp$inline_418_JSCompiler_cookies$jscomp$inline_419_JSCompiler_inline_result$jscomp$405_JSCompiler_value$jscomp$inline_423_toggles$jscomp$3_win$jscomp$55$$}
function $randomlySelectUnsetExperiments$$module$src$experiments$$($win$jscomp$59$$,$experiments$$){$win$jscomp$59$$.experimentBranches=$win$jscomp$59$$.experimentBranches||{};var $selectedExperiments$$={},$experimentName$$;for($experimentName$$ in $experiments$$)if($hasOwn_$$module$src$utils$object$$.call($experiments$$,$experimentName$$))if($hasOwn_$$module$src$utils$object$$.call($win$jscomp$59$$.experimentBranches,$experimentName$$))$selectedExperiments$$[$experimentName$$]=$win$jscomp$59$$.experimentBranches[$experimentName$$];
else if(!$experiments$$[$experimentName$$].isTrafficEligible||!$experiments$$[$experimentName$$].isTrafficEligible($win$jscomp$59$$))$win$jscomp$59$$.experimentBranches[$experimentName$$]=null;else if(!$win$jscomp$59$$.experimentBranches[$experimentName$$]&&$isExperimentOn$$module$src$experiments$$($win$jscomp$59$$,$experimentName$$)){var $branches$$=$experiments$$[$experimentName$$].branches,$JSCompiler_arr$jscomp$inline_193$$=$branches$$;$win$jscomp$59$$.experimentBranches[$experimentName$$]=$JSCompiler_arr$jscomp$inline_193$$[Math.floor(Math.random()*
$JSCompiler_arr$jscomp$inline_193$$.length)]||null;$selectedExperiments$$[$experimentName$$]=$win$jscomp$59$$.experimentBranches[$experimentName$$]}return $selectedExperiments$$};var $optsSupported$$module$src$event_helper_listen$$;
function $internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$55$$,$eventType$jscomp$3$$,$listener$jscomp$62$$){var $opt_evtListenerOpts$$=void 0,$localElement$$=$element$jscomp$55$$,$localListener$$=$listener$jscomp$62$$;var $wrapped$$=function($element$jscomp$55$$){try{return $localListener$$($element$jscomp$55$$)}catch($e$jscomp$17$$){throw self.reportError($e$jscomp$17$$),$e$jscomp$17$$;}};var $optsSupported$$=$detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(),$capture$$=
!1;$opt_evtListenerOpts$$&&($capture$$=$opt_evtListenerOpts$$.capture);$localElement$$.addEventListener($eventType$jscomp$3$$,$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$$);return function(){$localElement$$&&$localElement$$.removeEventListener($eventType$jscomp$3$$,$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$$);$wrapped$$=$localElement$$=$localListener$$=null}}
function $detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(){if(void 0!==$optsSupported$$module$src$event_helper_listen$$)return $optsSupported$$module$src$event_helper_listen$$;$optsSupported$$module$src$event_helper_listen$$=!1;try{var $options$jscomp$15$$={get capture(){$optsSupported$$module$src$event_helper_listen$$=!0}};self.addEventListener("test-options",null,$options$jscomp$15$$);self.removeEventListener("test-options",null,$options$jscomp$15$$)}catch($err$jscomp$3$$){}return $optsSupported$$module$src$event_helper_listen$$}
;function $listenOnce$$module$src$event_helper$$($element$jscomp$57$$,$eventType$jscomp$5$$,$listener$jscomp$64$$){var $localListener$jscomp$1$$=$listener$jscomp$64$$,$unlisten$$=$internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$57$$,$eventType$jscomp$5$$,function($element$jscomp$57$$){try{$localListener$jscomp$1$$($element$jscomp$57$$)}finally{$localListener$jscomp$1$$=null,$unlisten$$()}});return $unlisten$$}
function $loadPromise$$module$src$event_helper$$($eleOrWindow$jscomp$1$$){var $unlistenLoad$$,$unlistenError$$;if($eleOrWindow$jscomp$1$$.complete||"complete"==$eleOrWindow$jscomp$1$$.readyState||$eleOrWindow$jscomp$1$$.document&&"complete"==$eleOrWindow$jscomp$1$$.document.readyState)return Promise.resolve($eleOrWindow$jscomp$1$$);var $loadingPromise$$=new Promise(function($loadingPromise$$,$reject$jscomp$4$$){var $resolve$jscomp$11$$=$eleOrWindow$jscomp$1$$.tagName;$unlistenLoad$$="AUDIO"===$resolve$jscomp$11$$||
"VIDEO"===$resolve$jscomp$11$$?$listenOnce$$module$src$event_helper$$($eleOrWindow$jscomp$1$$,"loadstart",$loadingPromise$$):$listenOnce$$module$src$event_helper$$($eleOrWindow$jscomp$1$$,"load",$loadingPromise$$);$resolve$jscomp$11$$&&($unlistenError$$=$listenOnce$$module$src$event_helper$$($eleOrWindow$jscomp$1$$,"error",$reject$jscomp$4$$))});return $loadingPromise$$.then(function(){$unlistenError$$&&$unlistenError$$();return $eleOrWindow$jscomp$1$$},function(){$unlistenLoad$$&&$unlistenLoad$$();
var $unlistenError$$=$eleOrWindow$jscomp$1$$;$unlistenError$$&&$unlistenError$$.src&&($unlistenError$$=$unlistenError$$.src);throw $user$$module$src$log$$().createError("Failed to load:",$unlistenError$$);})};var $propertyNameCache$$module$src$style$$,$vendorPrefixes$$module$src$style$$="Webkit webkit Moz moz ms O o".split(" ");
function $getVendorJsPropertyName$$module$src$style$$($style$jscomp$1$$,$camelCase$jscomp$1$$,$opt_bypassCache$$){if($startsWith$$module$src$string$$($camelCase$jscomp$1$$,"--"))return $camelCase$jscomp$1$$;$propertyNameCache$$module$src$style$$||($propertyNameCache$$module$src$style$$=$map$$module$src$utils$object$$());var $propertyName$jscomp$9$$=$propertyNameCache$$module$src$style$$[$camelCase$jscomp$1$$];if(!$propertyName$jscomp$9$$||$opt_bypassCache$$){$propertyName$jscomp$9$$=$camelCase$jscomp$1$$;
if(void 0===$style$jscomp$1$$[$camelCase$jscomp$1$$]){var $JSCompiler_inline_result$jscomp$74_titleCase$jscomp$1$$=$camelCase$jscomp$1$$.charAt(0).toUpperCase()+$camelCase$jscomp$1$$.slice(1);a:{for(var $JSCompiler_i$jscomp$inline_201$$=0;$JSCompiler_i$jscomp$inline_201$$<$vendorPrefixes$$module$src$style$$.length;$JSCompiler_i$jscomp$inline_201$$++){var $JSCompiler_propertyName$jscomp$inline_202$$=$vendorPrefixes$$module$src$style$$[$JSCompiler_i$jscomp$inline_201$$]+$JSCompiler_inline_result$jscomp$74_titleCase$jscomp$1$$;
if(void 0!==$style$jscomp$1$$[$JSCompiler_propertyName$jscomp$inline_202$$]){$JSCompiler_inline_result$jscomp$74_titleCase$jscomp$1$$=$JSCompiler_propertyName$jscomp$inline_202$$;break a}}$JSCompiler_inline_result$jscomp$74_titleCase$jscomp$1$$=""}var $prefixedPropertyName$$=$JSCompiler_inline_result$jscomp$74_titleCase$jscomp$1$$;void 0!==$style$jscomp$1$$[$prefixedPropertyName$$]&&($propertyName$jscomp$9$$=$prefixedPropertyName$$)}$opt_bypassCache$$||($propertyNameCache$$module$src$style$$[$camelCase$jscomp$1$$]=
$propertyName$jscomp$9$$)}return $propertyName$jscomp$9$$}function $setImportantStyles$$module$src$style$$($element$jscomp$59_style$jscomp$2$$,$styles$$){$element$jscomp$59_style$jscomp$2$$=$element$jscomp$59_style$jscomp$2$$.style;for(var $k$jscomp$2$$ in $styles$$)$element$jscomp$59_style$jscomp$2$$.setProperty($getVendorJsPropertyName$$module$src$style$$($element$jscomp$59_style$jscomp$2$$,$k$jscomp$2$$),$styles$$[$k$jscomp$2$$].toString(),"important")}
function $setStyle$$module$src$style$$($element$jscomp$60$$,$property$jscomp$4_propertyName$jscomp$10$$,$value$jscomp$97$$){var $opt_units$$;($property$jscomp$4_propertyName$jscomp$10$$=$getVendorJsPropertyName$$module$src$style$$($element$jscomp$60$$.style,$property$jscomp$4_propertyName$jscomp$10$$,void 0))&&($element$jscomp$60$$.style[$property$jscomp$4_propertyName$jscomp$10$$]=$opt_units$$?$value$jscomp$97$$+$opt_units$$:$value$jscomp$97$$)}
function $getStyle$$module$src$style$$($element$jscomp$61$$,$property$jscomp$5_propertyName$jscomp$11$$){if($property$jscomp$5_propertyName$jscomp$11$$=$getVendorJsPropertyName$$module$src$style$$($element$jscomp$61$$.style,$property$jscomp$5_propertyName$jscomp$11$$,void 0))return $element$jscomp$61$$.style[$property$jscomp$5_propertyName$jscomp$11$$]}
function $setStyles$$module$src$style$$($element$jscomp$62$$,$styles$jscomp$1$$){for(var $k$jscomp$3$$ in $styles$jscomp$1$$)$setStyle$$module$src$style$$($element$jscomp$62$$,$k$jscomp$3$$,$styles$jscomp$1$$[$k$jscomp$3$$])}function $resetStyles$$module$src$style$$($element$jscomp$64$$,$properties$$){for(var $i$jscomp$18$$=0;$i$jscomp$18$$<$properties$$.length;$i$jscomp$18$$++)$setStyle$$module$src$style$$($element$jscomp$64$$,$properties$$[$i$jscomp$18$$],null)};function $triggerAnalyticsEvent$$module$src$analytics$$($target$jscomp$87$$,$eventType$jscomp$7$$,$opt_vars$$){$Services$$module$src$services$analyticsForDocOrNull$$($target$jscomp$87$$).then(function($analytics$$){$analytics$$&&$analytics$$.triggerEventForTarget($target$jscomp$87$$,$eventType$jscomp$7$$,$opt_vars$$)})};self.AMPErrors=self.AMPErrors||[];function $isCancellation$$module$src$error$$($errorOrMessage$$){return $errorOrMessage$$?"string"==typeof $errorOrMessage$$?$startsWith$$module$src$string$$($errorOrMessage$$,"CANCELLED"):"string"==typeof $errorOrMessage$$.message?$startsWith$$module$src$string$$($errorOrMessage$$.message,"CANCELLED"):!1:!1};function $tryParseJson$$module$src$json$$($json$jscomp$1$$){var $opt_onFailed$$;try{return JSON.parse($json$jscomp$1$$)}catch($e$jscomp$23$$){return $opt_onFailed$$&&$opt_onFailed$$($e$jscomp$23$$),null}};var $ERROR_REPORTING_ENABLED$$module$extensions$amp_a4a$0_1$real_time_config_manager$$=$getMode$$module$src$mode$$(window).localDev||$getMode$$module$src$mode$$(window).test||.01>Math.random();
function $RealTimeConfigManager$$module$extensions$amp_a4a$0_1$real_time_config_manager$$($a4aElement$$){this.$a4aElement_$=$a4aElement$$;this.$win_$=this.$a4aElement_$.win;this.$seenUrls_$={};this.$rtcStartTime_$=null;this.$promiseArray_$=[];this.$rtcConfig_$=null;this.$ampDoc_$=this.$a4aElement_$.getAmpDoc();this.$consentState_$=null}
function $JSCompiler_StaticMethods_buildErrorResponse_$$($JSCompiler_StaticMethods_buildErrorResponse_$self$$,$error$jscomp$20$$,$callout$$,$errorReportingUrl$$,$opt_rtcTime$$){$dev$$module$src$log$$().warn("real-time-config","RTC callout to "+$callout$$+" caused "+$error$jscomp$20$$);$errorReportingUrl$$&&$JSCompiler_StaticMethods_buildErrorResponse_$self$$.sendErrorMessage($error$jscomp$20$$,$errorReportingUrl$$);return Promise.resolve({error:$error$jscomp$20$$,callout:$callout$$,rtcTime:$opt_rtcTime$$||
0})}$JSCompiler_prototypeAlias$$=$RealTimeConfigManager$$module$extensions$amp_a4a$0_1$real_time_config_manager$$.prototype;
$JSCompiler_prototypeAlias$$.sendErrorMessage=function($errorType$$,$errorReportingUrl$jscomp$1_url$jscomp$41$$){if($ERROR_REPORTING_ENABLED$$module$extensions$amp_a4a$0_1$real_time_config_manager$$){var $whitelist$$={ERROR_TYPE:!0,HREF:!0},$macros$$={ERROR_TYPE:$errorType$$,HREF:this.$win_$.location.href};$errorReportingUrl$jscomp$1_url$jscomp$41$$=$Services$$module$src$services$urlReplacementsForDoc$$(this.$a4aElement_$.element).expandUrlSync($errorReportingUrl$jscomp$1_url$jscomp$41$$,$macros$$,
$whitelist$$);(new this.$win_$.Image).src=$errorReportingUrl$jscomp$1_url$jscomp$41$$}};
function $JSCompiler_StaticMethods_getCalloutParam_$$($JSCompiler_StaticMethods_getCalloutParam_$self_parsedUrl$jscomp$1$$,$url$jscomp$42$$){var $urlService$$=$getExistingServiceForDocInEmbedScope$$module$src$service$$($JSCompiler_StaticMethods_getCalloutParam_$self_parsedUrl$jscomp$1$$.$a4aElement_$.element,"url");$JSCompiler_StaticMethods_getCalloutParam_$self_parsedUrl$jscomp$1$$=$urlService$$.parse($url$jscomp$42$$);return($JSCompiler_StaticMethods_getCalloutParam_$self_parsedUrl$jscomp$1$$.hostname+
$JSCompiler_StaticMethods_getCalloutParam_$self_parsedUrl$jscomp$1$$.pathname).substr(0,50)}
$JSCompiler_prototypeAlias$$.maybeExecuteRealTimeConfig=function($customMacros$$,$consentState$$){if($JSCompiler_StaticMethods_validateRtcConfig_$$(this,this.$a4aElement_$.element))return this.$consentState_$=$consentState$$,this.modifyRtcConfigForConsentStateSettings(),$customMacros$$=this.assignMacros($customMacros$$),this.$rtcStartTime_$=Date.now(),this.handleRtcForCustomUrls($customMacros$$),this.handleRtcForVendorUrls($customMacros$$),Promise.all(this.$promiseArray_$)};
$JSCompiler_prototypeAlias$$.isValidCalloutForConsentState=function($calloutConfig$$,$optIsGloballyValid$$){var $sendRegardlessOfConsentState$$=$calloutConfig$$.sendRegardlessOfConsentState;if(!$isObject$$module$src$types$$($calloutConfig$$)||!$sendRegardlessOfConsentState$$)return!!$optIsGloballyValid$$;if("boolean"==typeof $sendRegardlessOfConsentState$$)return $sendRegardlessOfConsentState$$;if(Array.isArray($sendRegardlessOfConsentState$$)){for(var $i$jscomp$23$$=0;$i$jscomp$23$$<$sendRegardlessOfConsentState$$.length;$i$jscomp$23$$++){if(this.$consentState_$==
$CONSENT_POLICY_STATE$$module$src$consent_state$$[$sendRegardlessOfConsentState$$[$i$jscomp$23$$]])return!0;$CONSENT_POLICY_STATE$$module$src$consent_state$$[$sendRegardlessOfConsentState$$[$i$jscomp$23$$]]||$dev$$module$src$log$$().warn("real-time-config","Invalid RTC consent state given: "+$sendRegardlessOfConsentState$$[$i$jscomp$23$$])}return!1}$user$$module$src$log$$().warn("real-time-config","Invalid value for sendRegardlessOfConsentState:"+$sendRegardlessOfConsentState$$);return!!$optIsGloballyValid$$};
$JSCompiler_prototypeAlias$$.modifyRtcConfigForConsentStateSettings=function(){var $$jscomp$this$jscomp$2$$=this;if(void 0!=this.$consentState_$&&1!=this.$consentState_$&&3!=this.$consentState_$){var $isGloballyValid$$=this.isValidCalloutForConsentState(this.$rtcConfig_$);this.$rtcConfig_$.urls=(this.$rtcConfig_$.urls||[]).filter(function($url$jscomp$43$$){return $$jscomp$this$jscomp$2$$.isValidCalloutForConsentState($url$jscomp$43$$,$isGloballyValid$$)});Object.keys(this.$rtcConfig_$.vendors||{}).forEach(function($vendor$$){$$jscomp$this$jscomp$2$$.isValidCalloutForConsentState($$jscomp$this$jscomp$2$$.$rtcConfig_$.vendors[$vendor$$],
$isGloballyValid$$)||delete $$jscomp$this$jscomp$2$$.$rtcConfig_$.vendors[$vendor$$]})}};$JSCompiler_prototypeAlias$$.assignMacros=function($macros$jscomp$1$$){var $$jscomp$this$jscomp$3$$=this;$macros$jscomp$1$$.TIMEOUT=function(){return $$jscomp$this$jscomp$3$$.$rtcConfig_$.timeoutMillis};$macros$jscomp$1$$.CONSENT_STATE=function(){return $$jscomp$this$jscomp$3$$.$consentState_$};return $macros$jscomp$1$$};
$JSCompiler_prototypeAlias$$.handleRtcForCustomUrls=function($customMacros$jscomp$1$$){var $$jscomp$this$jscomp$4$$=this;(this.$rtcConfig_$.urls||[]).forEach(function($urlObj$$){if($isObject$$module$src$types$$($urlObj$$)){var $url$jscomp$44$$=$urlObj$$.url;var $errorReportingUrl$jscomp$2$$=$urlObj$$.errorReportingUrl}else"string"==typeof $urlObj$$?$url$jscomp$44$$=$urlObj$$:$dev$$module$src$log$$().warn("real-time-config","Invalid url: "+$urlObj$$);$JSCompiler_StaticMethods_inflateAndSendRtc_$$($$jscomp$this$jscomp$4$$,
$url$jscomp$44$$,$customMacros$jscomp$1$$,$errorReportingUrl$jscomp$2$$)})};
$JSCompiler_prototypeAlias$$.handleRtcForVendorUrls=function($customMacros$jscomp$2$$){var $$jscomp$this$jscomp$5$$=this;Object.keys(this.$rtcConfig_$.vendors||[]).forEach(function($vendor$jscomp$1$$){var $vendorObject$$=$RTC_VENDORS$$module$extensions$amp_a4a$0_1$callout_vendors$$[$vendor$jscomp$1$$.toLowerCase()],$url$jscomp$45$$=$vendorObject$$?$vendorObject$$.url:"",$errorReportingUrl$jscomp$3$$=$vendorObject$$&&$vendorObject$$.errorReportingUrl?$vendorObject$$.errorReportingUrl:"";if(!$url$jscomp$45$$)return $$jscomp$this$jscomp$5$$.$promiseArray_$.push($JSCompiler_StaticMethods_buildErrorResponse_$$($$jscomp$this$jscomp$5$$,
"9",$vendor$jscomp$1$$,$errorReportingUrl$jscomp$3$$));var $vendorMacros$$=$isObject$$module$src$types$$($$jscomp$this$jscomp$5$$.$rtcConfig_$.vendors[$vendor$jscomp$1$$].macros)?$$jscomp$this$jscomp$5$$.$rtcConfig_$.vendors[$vendor$jscomp$1$$].macros:$$jscomp$this$jscomp$5$$.$rtcConfig_$.vendors[$vendor$jscomp$1$$],$validVendorMacros$$={};Object.keys($vendorMacros$$).forEach(function($customMacros$jscomp$2$$){if($vendorObject$$.macros&&$vendorObject$$.macros.includes($customMacros$jscomp$2$$)){var $$jscomp$this$jscomp$5$$=
$vendorMacros$$[$customMacros$jscomp$2$$];$validVendorMacros$$[$customMacros$jscomp$2$$]=$isObject$$module$src$types$$($$jscomp$this$jscomp$5$$)||Array.isArray($$jscomp$this$jscomp$5$$)?JSON.stringify($$jscomp$this$jscomp$5$$):$$jscomp$this$jscomp$5$$}else $user$$module$src$log$$().error("real-time-config","Unknown macro: "+$customMacros$jscomp$2$$+" for vendor: "+$vendor$jscomp$1$$)});var $macros$jscomp$2$$=Object.assign($validVendorMacros$$,$customMacros$jscomp$2$$);$JSCompiler_StaticMethods_inflateAndSendRtc_$$($$jscomp$this$jscomp$5$$,
$url$jscomp$45$$,$macros$jscomp$2$$,$errorReportingUrl$jscomp$3$$,$vendor$jscomp$1$$.toLowerCase())})};
function $JSCompiler_StaticMethods_inflateAndSendRtc_$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$,$url$jscomp$46$$,$macros$jscomp$3$$,$errorReportingUrl$jscomp$4$$,$opt_vendor$$){function $send$$($url$jscomp$46$$){if(5==Object.keys($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$seenUrls_$).length)return $JSCompiler_StaticMethods_buildErrorResponse_$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$,"7",$callout$jscomp$1$$,$errorReportingUrl$jscomp$4$$);if(!$getExistingServiceForDocInEmbedScope$$module$src$service$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$a4aElement_$.element,
"url").isSecure($url$jscomp$46$$))return $JSCompiler_StaticMethods_buildErrorResponse_$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$,"6",$callout$jscomp$1$$,$errorReportingUrl$jscomp$4$$);if($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$seenUrls_$[$url$jscomp$46$$])return $JSCompiler_StaticMethods_buildErrorResponse_$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$,"5",$callout$jscomp$1$$,$errorReportingUrl$jscomp$4$$);$JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$seenUrls_$[$url$jscomp$46$$]=
!0;16384<$url$jscomp$46$$.length&&($url$jscomp$46$$=$url$jscomp$46$$.substr(0,16372).replace(/%\w?$/,""),$url$jscomp$46$$+="&__trunc__=1");return $JSCompiler_StaticMethods_sendRtcCallout_$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$,$url$jscomp$46$$,$timeoutMillis$$,$callout$jscomp$1$$,$checkStillCurrent$$,$errorReportingUrl$jscomp$4$$)}var $timeoutMillis$$=$JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$rtcConfig_$.timeoutMillis,$callout$jscomp$1$$=$opt_vendor$$||$JSCompiler_StaticMethods_getCalloutParam_$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$,
$url$jscomp$46$$),$checkStillCurrent$$=$JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$a4aElement_$.verifyStillCurrent.bind($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$a4aElement_$)(),$whitelist$jscomp$1$$={};Object.keys($macros$jscomp$3$$).forEach(function($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$){return $whitelist$jscomp$1$$[$JSCompiler_StaticMethods_inflateAndSendRtc_$self$$]=!0});var $urlReplacementStartTime$$=Date.now();$JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$promiseArray_$.push($Services$$module$src$services$timerFor$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$win_$).timeoutPromise($timeoutMillis$$,
$Services$$module$src$services$urlReplacementsForDoc$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$.$a4aElement_$.element).expandUrlAsync($url$jscomp$46$$,$macros$jscomp$3$$,$whitelist$jscomp$1$$)).then(function($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$){$checkStillCurrent$$();$timeoutMillis$$-=$urlReplacementStartTime$$-Date.now();return $send$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$)}).catch(function($url$jscomp$46$$){return $isCancellation$$module$src$error$$($url$jscomp$46$$)?
void 0:$JSCompiler_StaticMethods_buildErrorResponse_$$($JSCompiler_StaticMethods_inflateAndSendRtc_$self$$,"11",$callout$jscomp$1$$,$errorReportingUrl$jscomp$4$$)}))}
function $JSCompiler_StaticMethods_sendRtcCallout_$$($JSCompiler_StaticMethods_sendRtcCallout_$self$$,$url$jscomp$50$$,$timeoutMillis$jscomp$1$$,$callout$jscomp$2$$,$checkStillCurrent$jscomp$1$$,$errorReportingUrl$jscomp$5$$){return $Services$$module$src$services$timerFor$$($JSCompiler_StaticMethods_sendRtcCallout_$self$$.$win_$).timeoutPromise($timeoutMillis$jscomp$1$$,$getService$$module$src$service$$($JSCompiler_StaticMethods_sendRtcCallout_$self$$.$win_$,"xhr").fetchJson($url$jscomp$50$$,{credentials:"include"}).then(function($url$jscomp$50$$){$checkStillCurrent$jscomp$1$$();
return $url$jscomp$50$$.text().then(function($url$jscomp$50$$){$checkStillCurrent$jscomp$1$$();var $timeoutMillis$jscomp$1$$=Date.now()-$JSCompiler_StaticMethods_sendRtcCallout_$self$$.$rtcStartTime_$;return $url$jscomp$50$$?($url$jscomp$50$$=$tryParseJson$$module$src$json$$($url$jscomp$50$$))?{response:$url$jscomp$50$$,rtcTime:$timeoutMillis$jscomp$1$$,callout:$callout$jscomp$2$$}:$JSCompiler_StaticMethods_buildErrorResponse_$$($JSCompiler_StaticMethods_sendRtcCallout_$self$$,"4",$callout$jscomp$2$$,
$errorReportingUrl$jscomp$5$$,$timeoutMillis$jscomp$1$$):{rtcTime:$timeoutMillis$jscomp$1$$,callout:$callout$jscomp$2$$}})})).catch(function($url$jscomp$50$$){return $isCancellation$$module$src$error$$($url$jscomp$50$$)?void 0:$JSCompiler_StaticMethods_buildErrorResponse_$$($JSCompiler_StaticMethods_sendRtcCallout_$self$$,/^timeout/.test($url$jscomp$50$$.message)?"10":"8",$callout$jscomp$2$$,$errorReportingUrl$jscomp$5$$,Date.now()-$JSCompiler_StaticMethods_sendRtcCallout_$self$$.$rtcStartTime_$)})}
function $JSCompiler_StaticMethods_validateRtcConfig_$$($JSCompiler_StaticMethods_validateRtcConfig_$self$$,$element$jscomp$68$$){var $defaultTimeoutMillis$$=1E3,$unparsedRtcConfig$$=$element$jscomp$68$$.getAttribute("rtc-config");if(!$unparsedRtcConfig$$)return!1;var $rtcConfig$$=$tryParseJson$$module$src$json$$($unparsedRtcConfig$$);if(!$rtcConfig$$)return $user$$module$src$log$$().warn("real-time-config","Could not JSON parse rtc-config attribute"),!1;var $timeout$jscomp$3$$;try{$userAssert$$module$src$log$$($rtcConfig$$.vendors||
$rtcConfig$$.urls,"RTC Config must specify vendors or urls");Object.keys($rtcConfig$$).forEach(function($JSCompiler_StaticMethods_validateRtcConfig_$self$$){switch($JSCompiler_StaticMethods_validateRtcConfig_$self$$){case "vendors":$userAssert$$module$src$log$$($isObject$$module$src$types$$($rtcConfig$$[$JSCompiler_StaticMethods_validateRtcConfig_$self$$]),"RTC invalid vendors");break;case "urls":$userAssert$$module$src$log$$(Array.isArray($rtcConfig$$[$JSCompiler_StaticMethods_validateRtcConfig_$self$$]),
"RTC invalid urls");break;case "timeoutMillis":$timeout$jscomp$3$$=parseInt($rtcConfig$$[$JSCompiler_StaticMethods_validateRtcConfig_$self$$],10);if(isNaN($timeout$jscomp$3$$))$user$$module$src$log$$().warn("real-time-config","Invalid RTC timeout is NaN, "+("using default timeout "+$defaultTimeoutMillis$$+"ms")),$timeout$jscomp$3$$=void 0;else if($timeout$jscomp$3$$>=$defaultTimeoutMillis$$||0>$timeout$jscomp$3$$)$user$$module$src$log$$().warn("real-time-config","Invalid RTC timeout: "+$timeout$jscomp$3$$+
"ms, "+("using default timeout "+$defaultTimeoutMillis$$+"ms")),$timeout$jscomp$3$$=void 0;break;default:$user$$module$src$log$$().warn("real-time-config","Unknown RTC Config key: "+$JSCompiler_StaticMethods_validateRtcConfig_$self$$)}});if(!Object.keys($rtcConfig$$.vendors||{}).length&&!($rtcConfig$$.urls||[]).length)return!1;var $validateErrorReportingUrl$$=function($element$jscomp$68$$){var $defaultTimeoutMillis$$=$element$jscomp$68$$.errorReportingUrl;$defaultTimeoutMillis$$&&!$getExistingServiceForDocInEmbedScope$$module$src$service$$($JSCompiler_StaticMethods_validateRtcConfig_$self$$.$a4aElement_$.element,
"url").isSecure($defaultTimeoutMillis$$)&&($dev$$module$src$log$$().warn("real-time-config","Insecure RTC errorReportingUrl: "+$defaultTimeoutMillis$$),$element$jscomp$68$$.errorReportingUrl=void 0)};($rtcConfig$$.urls||[]).forEach(function($JSCompiler_StaticMethods_validateRtcConfig_$self$$){$isObject$$module$src$types$$($JSCompiler_StaticMethods_validateRtcConfig_$self$$)&&$validateErrorReportingUrl$$($JSCompiler_StaticMethods_validateRtcConfig_$self$$)});$validateErrorReportingUrl$$($rtcConfig$$)}catch($unusedErr$$){return!1}$rtcConfig$$.timeoutMillis=
void 0!==$timeout$jscomp$3$$?$timeout$jscomp$3$$:$defaultTimeoutMillis$$;$JSCompiler_StaticMethods_validateRtcConfig_$self$$.$rtcConfig_$=$rtcConfig$$;return!0}AMP.RealTimeConfigManager=$RealTimeConfigManager$$module$extensions$amp_a4a$0_1$real_time_config_manager$$;function $domFingerprintPlain$$module$src$utils$dom_fingerprint$$($element$jscomp$69$$){for(var $ids$$=[],$level$jscomp$19$$=0;$element$jscomp$69$$&&1==$element$jscomp$69$$.nodeType&&25>$level$jscomp$19$$;){var $id$jscomp$35$$="";$element$jscomp$69$$.id&&($id$jscomp$35$$="/"+$element$jscomp$69$$.id);var $nodeName$$=$element$jscomp$69$$.nodeName.toLowerCase();$ids$$.push(""+$nodeName$$+$id$jscomp$35$$+$indexWithinParent$$module$src$utils$dom_fingerprint$$($element$jscomp$69$$));$level$jscomp$19$$++;
$element$jscomp$69$$=$element$jscomp$69$$.parentElement}return $ids$$.join()}
function $indexWithinParent$$module$src$utils$dom_fingerprint$$($element$jscomp$71$$){for(var $nodeName$jscomp$1$$=$element$jscomp$71$$.nodeName,$i$jscomp$24$$=0,$count$jscomp$19$$=0,$sibling$$=$element$jscomp$71$$.previousElementSibling;$sibling$$&&25>$count$jscomp$19$$&&100>$i$jscomp$24$$;)$sibling$$.nodeName==$nodeName$jscomp$1$$&&$count$jscomp$19$$++,$i$jscomp$24$$++,$sibling$$=$sibling$$.previousElementSibling;return 25>$count$jscomp$19$$&&100>$i$jscomp$24$$?"."+$count$jscomp$19$$:""};function $isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$1$$){return"fixed"==$layout$jscomp$1$$||"fixed-height"==$layout$jscomp$1$$||"responsive"==$layout$jscomp$1$$||"fill"==$layout$jscomp$1$$||"flex-item"==$layout$jscomp$1$$||"fluid"==$layout$jscomp$1$$||"intrinsic"==$layout$jscomp$1$$}
function $getLengthNumeral$$module$src$layout$$($length$jscomp$21_res$jscomp$3$$){$length$jscomp$21_res$jscomp$3$$=parseFloat($length$jscomp$21_res$jscomp$3$$);return $isFiniteNumber$$module$src$types$$($length$jscomp$21_res$jscomp$3$$)?$length$jscomp$21_res$jscomp$3$$:void 0};function $buildUrl$$module$ads$google$a4a$shared$url_builder$$($queryParams$$){var $maxLength$$=16374,$opt_truncationQueryParam$$=$TRUNCATION_PARAM$$module$ads$google$a4a$utils$$,$encodedParams$$=[],$encodedTruncationParam$$=$opt_truncationQueryParam$$&&null!=$opt_truncationQueryParam$$.value&&""!==$opt_truncationQueryParam$$.value?encodeURIComponent($opt_truncationQueryParam$$.name)+"="+encodeURIComponent(String($opt_truncationQueryParam$$.value)):null,$capacity$jscomp$1$$=$maxLength$$-49;$encodedTruncationParam$$&&
($capacity$jscomp$1$$-=$encodedTruncationParam$$.length+1);for(var $keys$jscomp$1$$=Object.keys($queryParams$$),$i$jscomp$26$$=0;$i$jscomp$26$$<$keys$jscomp$1$$.length;$i$jscomp$26$$++){var $key$jscomp$53$$=$keys$jscomp$1$$[$i$jscomp$26$$],$value$jscomp$108$$=$queryParams$$[$key$jscomp$53$$];if(null!=$value$jscomp$108$$&&""!==$value$jscomp$108$$){var $encodedNameAndSep$$=encodeURIComponent($key$jscomp$53$$)+"=",$encodedValue$$=encodeURIComponent(String($value$jscomp$108$$)),$fullLength$$=$encodedNameAndSep$$.length+
$encodedValue$$.length+1;if($fullLength$$>$capacity$jscomp$1$$){var $truncatedValue$$=$encodedValue$$.substr(0,$capacity$jscomp$1$$-$encodedNameAndSep$$.length-1).replace(/%\w?$/,"");$truncatedValue$$&&$encodedParams$$.push($encodedNameAndSep$$+$truncatedValue$$);$encodedTruncationParam$$&&$encodedParams$$.push($encodedTruncationParam$$);break}$encodedParams$$.push($encodedNameAndSep$$+$encodedValue$$);$capacity$jscomp$1$$-=$fullLength$$}}return $encodedParams$$.length?"https://securepubads.g.doubleclick.net/gampad/ads?"+
$encodedParams$$.join("&"):"https://securepubads.g.doubleclick.net/gampad/ads"};function $getConsentPolicyState$$module$src$consent$$($element$jscomp$76$$,$policyId$$){$policyId$$=void 0===$policyId$$?"default":$policyId$$;return $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$76$$,"consentPolicyManager","amp-consent").then(function($element$jscomp$76$$){return $element$jscomp$76$$?$element$jscomp$76$$.whenPolicyResolved($policyId$$):null})};function $getOrCreateAdCid$$module$src$ad_cid$$($ampDoc$$,$opt_timeout$$){var $clientIdScope$$="AMP_ECID_GOOGLE",$opt_clientIdCookieName$$="_ga",$timeout$jscomp$4$$=isNaN($opt_timeout$$)||null==$opt_timeout$$?1E3:$opt_timeout$$,$cidPromise$$=$getServicePromiseInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($ampDoc$$),"cid").then(function($ampDoc$$){if($ampDoc$$)return $ampDoc$$.get({scope:$clientIdScope$$,createCookieIfNotPresent:!0,cookieName:$opt_clientIdCookieName$$},
Promise.resolve(void 0)).catch(function($ampDoc$$){$dev$$module$src$log$$().error("AD-CID",$ampDoc$$)})});return $Services$$module$src$services$timerFor$$($ampDoc$$.win).timeoutPromise($timeout$jscomp$4$$,$cidPromise$$,"cid timeout").catch(function($ampDoc$$){$dev$$module$src$log$$().warn("AD-CID",$ampDoc$$)})};function $getTimingDataAsync$$module$src$service$variable_source$$($win$jscomp$75$$,$startEvent$$,$endEvent$$){return $loadPromise$$module$src$event_helper$$($win$jscomp$75$$).then(function(){return $getTimingDataSync$$module$src$service$variable_source$$($win$jscomp$75$$,$startEvent$$,$endEvent$$)})}
function $getTimingDataSync$$module$src$service$variable_source$$($win$jscomp$76$$,$startEvent$jscomp$1$$,$endEvent$jscomp$1$$){var $timingInfo$$=$win$jscomp$76$$.performance&&$win$jscomp$76$$.performance.timing;if($timingInfo$$&&0!=$timingInfo$$.navigationStart){var $metric$$=void 0===$endEvent$jscomp$1$$?$timingInfo$$[$startEvent$jscomp$1$$]:$timingInfo$$[$endEvent$jscomp$1$$]-$timingInfo$$[$startEvent$jscomp$1$$];if($isFiniteNumber$$module$src$types$$($metric$$)&&!(0>$metric$$))return $metric$$}}
function $getNavigationData$$module$src$service$variable_source$$($win$jscomp$77$$,$attribute$$){var $navigationInfo$$=$win$jscomp$77$$.performance&&$win$jscomp$77$$.performance.navigation;if($navigationInfo$$&&void 0!==$navigationInfo$$[$attribute$$])return $navigationInfo$$[$attribute$$]}
function $VariableSource$$module$src$service$variable_source$$($ampdoc$jscomp$12$$){this.ampdoc=$ampdoc$jscomp$12$$;this.$replacements_$=Object.create(null);this.$initialized_$=!1;$JSCompiler_StaticMethods_getUrlMacroWhitelist_$$(this)}$JSCompiler_prototypeAlias$$=$VariableSource$$module$src$service$variable_source$$.prototype;$JSCompiler_prototypeAlias$$.initialize=function(){};
$JSCompiler_prototypeAlias$$.get=function($name$jscomp$79$$){this.$initialized_$||(this.initialize(),this.$initialized_$=!0);return this.$replacements_$[$name$jscomp$79$$]};$JSCompiler_prototypeAlias$$.set=function($varName$jscomp$1$$,$syncResolver$$){this.$replacements_$[$varName$jscomp$1$$]=this.$replacements_$[$varName$jscomp$1$$]||{sync:void 0,async:void 0};this.$replacements_$[$varName$jscomp$1$$].sync=$syncResolver$$;return this};
$JSCompiler_prototypeAlias$$.setAsync=function($varName$jscomp$2$$,$asyncResolver$$){this.$replacements_$[$varName$jscomp$2$$]=this.$replacements_$[$varName$jscomp$2$$]||{sync:void 0,async:void 0};this.$replacements_$[$varName$jscomp$2$$].async=$asyncResolver$$;return this};$JSCompiler_prototypeAlias$$.setBoth=function($varName$jscomp$3$$,$syncResolver$jscomp$1$$,$asyncResolver$jscomp$1$$){return this.set($varName$jscomp$3$$,$syncResolver$jscomp$1$$).setAsync($varName$jscomp$3$$,$asyncResolver$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.getExpr=function($opt_bindings$$,$opt_whiteList$$){this.$initialized_$||(this.initialize(),this.$initialized_$=!0);var $all$$=Object.assign({},this.$replacements_$,$opt_bindings$$);return $JSCompiler_StaticMethods_buildExpr_$$(this,Object.keys($all$$),$opt_whiteList$$)};
function $JSCompiler_StaticMethods_buildExpr_$$($JSCompiler_StaticMethods_buildExpr_$self$$,$keys$jscomp$2$$,$opt_whiteList$jscomp$1$$){$JSCompiler_StaticMethods_getUrlMacroWhitelist_$$($JSCompiler_StaticMethods_buildExpr_$self$$)&&($keys$jscomp$2$$=$keys$jscomp$2$$.filter(function($keys$jscomp$2$$){return $JSCompiler_StaticMethods_getUrlMacroWhitelist_$$($JSCompiler_StaticMethods_buildExpr_$self$$).includes($keys$jscomp$2$$)}));$opt_whiteList$jscomp$1$$&&($keys$jscomp$2$$=$keys$jscomp$2$$.filter(function($JSCompiler_StaticMethods_buildExpr_$self$$){return $opt_whiteList$jscomp$1$$[$JSCompiler_StaticMethods_buildExpr_$self$$]}));
if(0===$keys$jscomp$2$$.length){var $regexThatMatchesNothing$$=/_^/g;return $regexThatMatchesNothing$$}$keys$jscomp$2$$.sort(function($JSCompiler_StaticMethods_buildExpr_$self$$,$keys$jscomp$2$$){return $keys$jscomp$2$$.length-$JSCompiler_StaticMethods_buildExpr_$self$$.length});var $regexStr$$="\\$?("+$keys$jscomp$2$$.map(function($JSCompiler_StaticMethods_buildExpr_$self$$){return"$"===$JSCompiler_StaticMethods_buildExpr_$self$$[0]?"\\"+$JSCompiler_StaticMethods_buildExpr_$self$$:$JSCompiler_StaticMethods_buildExpr_$self$$}).join("|")+
")";return new RegExp($regexStr$$,"g")}
function $JSCompiler_StaticMethods_getUrlMacroWhitelist_$$($JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$){if($JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.$variableWhitelist_$)return $JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.$variableWhitelist_$;var $head$jscomp$3_meta$jscomp$1$$=$JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.ampdoc.getRootNode().head;if(!$head$jscomp$3_meta$jscomp$1$$)return null;$head$jscomp$3_meta$jscomp$1$$=$head$jscomp$3_meta$jscomp$1$$.querySelector('meta[name="amp-allowed-url-macros"]');
if(!$head$jscomp$3_meta$jscomp$1$$)return null;$JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.$variableWhitelist_$=$head$jscomp$3_meta$jscomp$1$$.getAttribute("content").split(",").map(function($JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$){return $JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.trim()});return $JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.$variableWhitelist_$};var $ValidAdContainerTypes$$module$ads$google$a4a$utils$$={"AMP-CAROUSEL":"ac","AMP-FX-FLYING-CARPET":"fc","AMP-LIGHTBOX":"lb","AMP-STICKY-AD":"sa"},$visibilityStateCodes$$module$ads$google$a4a$utils$$={visible:"1",hidden:"2",prerender:"3",unloaded:"5"},$TRUNCATION_PARAM$$module$ads$google$a4a$utils$$={name:"trunc",value:"1"},$CDN_PROXY_REGEXP$$module$ads$google$a4a$utils$$=/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org((\/.*)|($))+/;
function $getNavigationTiming$$module$ads$google$a4a$utils$$($win$jscomp$78$$,$timingEvent$$){return $win$jscomp$78$$.performance&&$win$jscomp$78$$.performance.timing&&$win$jscomp$78$$.performance.timing[$timingEvent$$]||0}
function $isReportingEnabled$$module$ads$google$a4a$utils$$($ampElement$$){var $type$jscomp$135$$=$ampElement$$.element.getAttribute("type"),$win$jscomp$81$$=$ampElement$$.win;$getMode$$module$src$mode$$($ampElement$$.win).localDev&&!$getMode$$module$src$mode$$($ampElement$$.win).test&&1!=$isExperimentOn$$module$src$experiments$$($win$jscomp$81$$,"a4aProfilingRate")&&($experimentToggles$$module$src$experiments$$($win$jscomp$81$$).a4aProfilingRate=!0);return("doubleclick"==$type$jscomp$135$$||"adsense"==
$type$jscomp$135$$)&&$isExperimentOn$$module$src$experiments$$($win$jscomp$81$$,"a4aProfilingRate")}
function $googleBlockParameters$$module$ads$google$a4a$utils$$($a4a$$,$opt_experimentIds$$){var $$jscomp$destructuring$var22_JSCompiler_w$jscomp$inline_220_win$jscomp$82$$=$a4a$$,$adElement$jscomp$1$$=$$jscomp$destructuring$var22_JSCompiler_w$jscomp$inline_220_win$jscomp$82$$.element;$$jscomp$destructuring$var22_JSCompiler_w$jscomp$inline_220_win$jscomp$82$$=$$jscomp$destructuring$var22_JSCompiler_w$jscomp$inline_220_win$jscomp$82$$.win;for(var $slotRect$$=$a4a$$.getPageLayoutBox(),$JSCompiler_depth$jscomp$inline_221$$=
0;$$jscomp$destructuring$var22_JSCompiler_w$jscomp$inline_220_win$jscomp$82$$!=$$jscomp$destructuring$var22_JSCompiler_w$jscomp$inline_220_win$jscomp$82$$.parent&&100>$JSCompiler_depth$jscomp$inline_221$$;)$$jscomp$destructuring$var22_JSCompiler_w$jscomp$inline_220_win$jscomp$82$$=$$jscomp$destructuring$var22_JSCompiler_w$jscomp$inline_220_win$jscomp$82$$.parent,$JSCompiler_depth$jscomp$inline_221$$++;var $iframeDepth$$=$JSCompiler_depth$jscomp$inline_221$$,$enclosingContainers$$=$getEnclosingContainerTypes$$module$ads$google$a4a$utils$$($adElement$jscomp$1$$),
$eids$$=$adElement$jscomp$1$$.getAttribute("data-experiment-id");$opt_experimentIds$$&&($eids$$=$mergeExperimentIds$$module$ads$google$a4a$utils$$($opt_experimentIds$$,$eids$$));/(^|,)21062593($|,)/.test($eids$$)&&($slotRect$$.left=$slotRect$$.left||1,$slotRect$$.top=$slotRect$$.top||1);return{adf:$stringHash32$$module$src$string$$($domFingerprintPlain$$module$src$utils$dom_fingerprint$$($adElement$jscomp$1$$)),nhd:$iframeDepth$$,eid:$eids$$,adx:$slotRect$$.left,ady:$slotRect$$.top,oid:"2",act:$enclosingContainers$$.length?
$enclosingContainers$$.join():null}}
function $groupAmpAdsByType$$module$ads$google$a4a$utils$$($win$jscomp$83$$,$type$jscomp$136$$){function $ampAdSelector$$($win$jscomp$83$$){return $win$jscomp$83$$.element.querySelector("amp-ad[type="+$type$jscomp$136$$+"]")}var $groupFn$$=$getNetworkId$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$,$documentElement$$=$win$jscomp$83$$.document.documentElement;return $Services$$module$src$services$resourcesForDoc$$($documentElement$$).getMeasuredResources($win$jscomp$83$$,function($win$jscomp$83$$){var $groupFn$$=
"AMP-AD"==$win$jscomp$83$$.element.tagName&&$win$jscomp$83$$.element.getAttribute("type")==$type$jscomp$136$$;if($groupFn$$)return!0;var $documentElement$$=Object.keys($ValidAdContainerTypes$$module$ads$google$a4a$utils$$).includes($win$jscomp$83$$.element.tagName)&&!!$ampAdSelector$$($win$jscomp$83$$);return $documentElement$$}).then(function($win$jscomp$83$$){return Promise.all($win$jscomp$83$$.map(function($win$jscomp$83$$){if("AMP-AD"==$win$jscomp$83$$.element.tagName)var $type$jscomp$136$$=$win$jscomp$83$$.element;
else if($type$jscomp$136$$=$ampAdSelector$$($win$jscomp$83$$),$startsWith$$module$src$string$$($type$jscomp$136$$.tagName,"AMP-"),$type$jscomp$136$$.createdCallback)$type$jscomp$136$$=Promise.resolve($type$jscomp$136$$);else{if(!$type$jscomp$136$$.__AMP_UPG_PRM){var $groupFn$$=new $Deferred$$module$src$utils$promise$$;$type$jscomp$136$$.__AMP_UPG_PRM=$groupFn$$.promise;$type$jscomp$136$$.__AMP_UPG_RES=$groupFn$$.resolve}$type$jscomp$136$$=$type$jscomp$136$$.__AMP_UPG_PRM}return $type$jscomp$136$$}))}).then(function($win$jscomp$83$$){return $win$jscomp$83$$.reduce(function($win$jscomp$83$$,
$type$jscomp$136$$){var $ampAdSelector$$=$groupFn$$($type$jscomp$136$$);($win$jscomp$83$$[$ampAdSelector$$]||($win$jscomp$83$$[$ampAdSelector$$]=[])).push($type$jscomp$136$$.getImpl());return $win$jscomp$83$$},{})})}
function $googlePageParameters$$module$ads$google$a4a$utils$$($a4a$jscomp$1$$,$startTime$jscomp$7$$){var $win$jscomp$84$$=$a4a$jscomp$1$$.win,$ampDoc$jscomp$1$$=$a4a$jscomp$1$$.getAmpDoc(),$referrerPromise$$=$Services$$module$src$services$timerFor$$($win$jscomp$84$$).timeoutPromise(1E3,$Services$$module$src$services$viewerForDoc$$($ampDoc$jscomp$1$$).getReferrerUrl()).catch(function(){$dev$$module$src$log$$().expectedError("AMP-A4A","Referrer timeout!");return""}),$domLoading$$=$getNavigationTiming$$module$ads$google$a4a$utils$$($win$jscomp$84$$,
"domLoading");return Promise.all([$getOrCreateAdCid$$module$src$ad_cid$$($ampDoc$jscomp$1$$),$referrerPromise$$]).then(function($referrerPromise$$){var $promiseResults$$=$referrerPromise$$[0],$referrer$$=$referrerPromise$$[1],$$jscomp$destructuring$var25_JSCompiler_temp_const$jscomp$92$$=$Services$$module$src$services$documentInfoForDoc$$($ampDoc$jscomp$1$$),$pageViewId$$=$$jscomp$destructuring$var25_JSCompiler_temp_const$jscomp$92$$.pageViewId,$canonicalUrl$$=$$jscomp$destructuring$var25_JSCompiler_temp_const$jscomp$92$$.canonicalUrl;
$win$jscomp$84$$.gaGlobal=$win$jscomp$84$$.gaGlobal||{cid:$promiseResults$$,hid:$pageViewId$$};var $JSCompiler_temp_const$jscomp$82_screen$jscomp$1$$=$win$jscomp$84$$.screen,$viewport$$=$Services$$module$src$services$viewportForDoc$$($ampDoc$jscomp$1$$),$viewportRect$$=$viewport$$.getRect(),$viewportSize$$=$viewport$$.getSize(),$visibilityState$$=$Services$$module$src$services$viewerForDoc$$($ampDoc$jscomp$1$$).getVisibilityState();$$jscomp$destructuring$var25_JSCompiler_temp_const$jscomp$92$$=$a4a$jscomp$1$$.isXhrAllowed()?
"3":"5";var $JSCompiler_temp_const$jscomp$91$$=$getCorrelator$$module$ads$google$a4a$utils$$($win$jscomp$84$$,$ampDoc$jscomp$1$$,$promiseResults$$),$JSCompiler_temp_const$jscomp$90$$=$win$jscomp$84$$.gaGlobal.cid||null,$JSCompiler_temp_const$jscomp$89$$=$win$jscomp$84$$.gaGlobal.hid||null,$JSCompiler_temp_const$jscomp$88$$=$viewportRect$$.width,$JSCompiler_temp_const$jscomp$87$$=$viewportRect$$.height,$JSCompiler_temp_const$jscomp$86$$=$JSCompiler_temp_const$jscomp$82_screen$jscomp$1$$?$JSCompiler_temp_const$jscomp$82_screen$jscomp$1$$.availWidth:
null,$JSCompiler_temp_const$jscomp$85$$=$JSCompiler_temp_const$jscomp$82_screen$jscomp$1$$?$JSCompiler_temp_const$jscomp$82_screen$jscomp$1$$.availHeight:null,$JSCompiler_temp_const$jscomp$84$$=$JSCompiler_temp_const$jscomp$82_screen$jscomp$1$$?$JSCompiler_temp_const$jscomp$82_screen$jscomp$1$$.colorDepth:null,$JSCompiler_temp_const$jscomp$83$$=$JSCompiler_temp_const$jscomp$82_screen$jscomp$1$$?$JSCompiler_temp_const$jscomp$82_screen$jscomp$1$$.width:null;$JSCompiler_temp_const$jscomp$82_screen$jscomp$1$$=
$JSCompiler_temp_const$jscomp$82_screen$jscomp$1$$?$JSCompiler_temp_const$jscomp$82_screen$jscomp$1$$.height:null;var $JSCompiler_temp_const$jscomp$81$$=-(new Date).getTimezoneOffset();try{var $JSCompiler_inline_result$jscomp$93_JSCompiler_temp_const$jscomp$103$$=$win$jscomp$84$$.history.length}catch($JSCompiler_e$jscomp$inline_227$$){$JSCompiler_inline_result$jscomp$93_JSCompiler_temp_const$jscomp$103$$=0}var $JSCompiler_temp_const$jscomp$102$$=$win$jscomp$84$$!=$win$jscomp$84$$.top?$viewportSize$$.width:
null,$JSCompiler_temp_const$jscomp$101$$=$win$jscomp$84$$!=$win$jscomp$84$$.top?$viewportSize$$.height:null;var $JSCompiler_inline_result$jscomp$373_JSCompiler_temp_const$jscomp$100$$={production:"0",control:"1",canary:"2",rc:"3"}[$win$jscomp$84$$.AMP_CONFIG&&$win$jscomp$84$$.AMP_CONFIG.type?$win$jscomp$84$$.AMP_CONFIG.type:"unknown"]||null;$JSCompiler_inline_result$jscomp$373_JSCompiler_temp_const$jscomp$100$$=$CDN_PROXY_REGEXP$$module$ads$google$a4a$utils$$.test($win$jscomp$84$$.location.origin)&&
"0"!=$JSCompiler_inline_result$jscomp$373_JSCompiler_temp_const$jscomp$100$$?$JSCompiler_inline_result$jscomp$373_JSCompiler_temp_const$jscomp$100$$:null;var $JSCompiler_temp_const$jscomp$99$$=$visibilityStateCodes$$module$ads$google$a4a$utils$$[$visibilityState$$]||"0",$JSCompiler_temp_const$jscomp$98$$=$viewport$$.getScrollLeft(),$JSCompiler_temp_const$jscomp$97$$=$viewport$$.getScrollTop(),$JSCompiler_browserCapabilities$jscomp$inline_233$$=0,$JSCompiler_doc$jscomp$inline_234_JSCompiler_iframeEl$jscomp$inline_235$$=
$win$jscomp$84$$.document;$win$jscomp$84$$.SVGElement&&$JSCompiler_doc$jscomp$inline_234_JSCompiler_iframeEl$jscomp$inline_235$$.createElementNS&&($JSCompiler_browserCapabilities$jscomp$inline_233$$|=$Capability$$module$ads$google$a4a$utils$SVG_SUPPORTED$$);$JSCompiler_doc$jscomp$inline_234_JSCompiler_iframeEl$jscomp$inline_235$$=$JSCompiler_doc$jscomp$inline_234_JSCompiler_iframeEl$jscomp$inline_235$$.createElement("iframe");$JSCompiler_doc$jscomp$inline_234_JSCompiler_iframeEl$jscomp$inline_235$$.sandbox&&
$JSCompiler_doc$jscomp$inline_234_JSCompiler_iframeEl$jscomp$inline_235$$.sandbox.supports&&($JSCompiler_doc$jscomp$inline_234_JSCompiler_iframeEl$jscomp$inline_235$$.sandbox.supports("allow-top-navigation-by-user-activation")&&($JSCompiler_browserCapabilities$jscomp$inline_233$$|=$Capability$$module$ads$google$a4a$utils$SANDBOXING_ALLOW_TOP_NAVIGATION_BY_USER_ACTIVATION_SUPPORTED$$),$JSCompiler_doc$jscomp$inline_234_JSCompiler_iframeEl$jscomp$inline_235$$.sandbox.supports("allow-popups-to-escape-sandbox")&&
($JSCompiler_browserCapabilities$jscomp$inline_233$$|=$Capability$$module$ads$google$a4a$utils$SANDBOXING_ALLOW_POPUPS_TO_ESCAPE_SANDBOX_SUPPORTED$$));return{is_amp:$$jscomp$destructuring$var25_JSCompiler_temp_const$jscomp$92$$,amp_v:"1904281823091",d_imp:"1",c:$JSCompiler_temp_const$jscomp$91$$,ga_cid:$JSCompiler_temp_const$jscomp$90$$,ga_hid:$JSCompiler_temp_const$jscomp$89$$,dt:$startTime$jscomp$7$$,biw:$JSCompiler_temp_const$jscomp$88$$,bih:$JSCompiler_temp_const$jscomp$87$$,u_aw:$JSCompiler_temp_const$jscomp$86$$,
u_ah:$JSCompiler_temp_const$jscomp$85$$,u_cd:$JSCompiler_temp_const$jscomp$84$$,u_w:$JSCompiler_temp_const$jscomp$83$$,u_h:$JSCompiler_temp_const$jscomp$82_screen$jscomp$1$$,u_tz:$JSCompiler_temp_const$jscomp$81$$,u_his:$JSCompiler_inline_result$jscomp$93_JSCompiler_temp_const$jscomp$103$$,isw:$JSCompiler_temp_const$jscomp$102$$,ish:$JSCompiler_temp_const$jscomp$101$$,art:$JSCompiler_inline_result$jscomp$373_JSCompiler_temp_const$jscomp$100$$,vis:$JSCompiler_temp_const$jscomp$99$$,scr_x:$JSCompiler_temp_const$jscomp$98$$,
scr_y:$JSCompiler_temp_const$jscomp$97$$,bc:$JSCompiler_browserCapabilities$jscomp$inline_233$$||null,debug_experiment_id:(/(?:#|,)deid=([\d,]+)/i.exec($win$jscomp$84$$.location.hash)||[])[1]||null,url:$canonicalUrl$$||null,top:$win$jscomp$84$$!=$win$jscomp$84$$.top?$topWindowUrlOrDomain$$module$ads$google$a4a$utils$$($win$jscomp$84$$):null,loc:$win$jscomp$84$$.location.href==$canonicalUrl$$?null:$win$jscomp$84$$.location.href,ref:$referrer$$||null,bdt:$domLoading$$?$startTime$jscomp$7$$-$domLoading$$:
null}})}
function $googleAdUrl$$module$ads$google$a4a$utils$$($a4a$jscomp$2$$,$startTime$jscomp$8$$,$parameters$$,$opt_experimentIds$jscomp$1$$){var $blockLevelParameters$$=$googleBlockParameters$$module$ads$google$a4a$utils$$($a4a$jscomp$2$$,$opt_experimentIds$jscomp$1$$);return $googlePageParameters$$module$ads$google$a4a$utils$$($a4a$jscomp$2$$,$startTime$jscomp$8$$).then(function($a4a$jscomp$2$$){Object.assign($parameters$$,$blockLevelParameters$$,$a4a$jscomp$2$$);return $buildUrl$$module$ads$google$a4a$shared$url_builder$$($parameters$$)+"&dtd="+
$elapsedTimeWithCeiling$$module$ads$google$a4a$utils$$($startTime$jscomp$8$$)})}function $extractHost$$module$ads$google$a4a$utils$$($url$jscomp$51$$){return(/^(?:https?:\/\/)?([^\/\?:]+)/i.exec($url$jscomp$51$$)||[])[1]||$url$jscomp$51$$}
function $topWindowUrlOrDomain$$module$ads$google$a4a$utils$$($secondFromTop$15_win$jscomp$87$$){var $ancestorOrigins$$=$secondFromTop$15_win$jscomp$87$$.location.ancestorOrigins;if($ancestorOrigins$$){var $origin$jscomp$1$$=$secondFromTop$15_win$jscomp$87$$.location.origin,$topOrigin$$=$ancestorOrigins$$[$ancestorOrigins$$.length-1];if($origin$jscomp$1$$==$topOrigin$$)return $secondFromTop$15_win$jscomp$87$$.top.location.hostname;var $secondFromTop$$=$secondWindowFromTop$$module$ads$google$a4a$utils$$($secondFromTop$15_win$jscomp$87$$);
return $secondFromTop$$==$secondFromTop$15_win$jscomp$87$$||$origin$jscomp$1$$==$ancestorOrigins$$[$ancestorOrigins$$.length-2]?$extractHost$$module$ads$google$a4a$utils$$($secondFromTop$$.document.referrer):$extractHost$$module$ads$google$a4a$utils$$($topOrigin$$)}try{return $secondFromTop$15_win$jscomp$87$$.top.location.hostname}catch($e$jscomp$25$$){}$secondFromTop$15_win$jscomp$87$$=$secondWindowFromTop$$module$ads$google$a4a$utils$$($secondFromTop$15_win$jscomp$87$$);try{return $extractHost$$module$ads$google$a4a$utils$$($secondFromTop$15_win$jscomp$87$$.document.referrer)}catch($e$16$$){}return null}
function $secondWindowFromTop$$module$ads$google$a4a$utils$$($secondFromTop$jscomp$1_win$jscomp$88$$){for(var $depth$jscomp$11$$=0;$secondFromTop$jscomp$1_win$jscomp$88$$.parent!=$secondFromTop$jscomp$1_win$jscomp$88$$.parent.parent&&100>$depth$jscomp$11$$;)$secondFromTop$jscomp$1_win$jscomp$88$$=$secondFromTop$jscomp$1_win$jscomp$88$$.parent,$depth$jscomp$11$$++;return $secondFromTop$jscomp$1_win$jscomp$88$$}
function $elapsedTimeWithCeiling$$module$ads$google$a4a$utils$$($duration$jscomp$1_start$jscomp$11$$){$duration$jscomp$1_start$jscomp$11$$=Date.now()-$duration$jscomp$1_start$jscomp$11$$;return 1E6<=$duration$jscomp$1_start$jscomp$11$$?"M":0<=$duration$jscomp$1_start$jscomp$11$$?$duration$jscomp$1_start$jscomp$11$$:"-M"}
function $getCorrelator$$module$ads$google$a4a$utils$$($win$jscomp$89$$,$JSCompiler_opt_clientId$jscomp$inline_242_JSCompiler_temp$jscomp$94_elementOrAmpDoc$jscomp$18$$,$opt_cid$$){if(!$win$jscomp$89$$.ampAdPageCorrelator){if($isExperimentOn$$module$src$experiments$$($win$jscomp$89$$,"exp-new-correlator"))$JSCompiler_opt_clientId$jscomp$inline_242_JSCompiler_temp$jscomp$94_elementOrAmpDoc$jscomp$18$$=Math.floor(4503599627370496*Math.random());else{var $JSCompiler_pageViewId$jscomp$inline_241_JSCompiler_pageViewIdNumeric$jscomp$inline_243$$=
$Services$$module$src$services$documentInfoForDoc$$($JSCompiler_opt_clientId$jscomp$inline_242_JSCompiler_temp$jscomp$94_elementOrAmpDoc$jscomp$18$$).pageViewId;$JSCompiler_opt_clientId$jscomp$inline_242_JSCompiler_temp$jscomp$94_elementOrAmpDoc$jscomp$18$$=$opt_cid$$;$JSCompiler_pageViewId$jscomp$inline_241_JSCompiler_pageViewIdNumeric$jscomp$inline_243$$=Number($JSCompiler_pageViewId$jscomp$inline_241_JSCompiler_pageViewIdNumeric$jscomp$inline_243$$||0);$JSCompiler_opt_clientId$jscomp$inline_242_JSCompiler_temp$jscomp$94_elementOrAmpDoc$jscomp$18$$=
$JSCompiler_opt_clientId$jscomp$inline_242_JSCompiler_temp$jscomp$94_elementOrAmpDoc$jscomp$18$$?$JSCompiler_pageViewId$jscomp$inline_241_JSCompiler_pageViewIdNumeric$jscomp$inline_243$$+$JSCompiler_opt_clientId$jscomp$inline_242_JSCompiler_temp$jscomp$94_elementOrAmpDoc$jscomp$18$$.replace(/\D/g,"")%1E6*1E6:Math.floor(4503599627370496*Math.random())}$win$jscomp$89$$.ampAdPageCorrelator=$JSCompiler_opt_clientId$jscomp$inline_242_JSCompiler_temp$jscomp$94_elementOrAmpDoc$jscomp$18$$}return $win$jscomp$89$$.ampAdPageCorrelator}
function $csiTrigger$$module$ads$google$a4a$utils$$($on$jscomp$2$$,$params$jscomp$7$$){return $dict$$module$src$utils$object$$({on:$on$jscomp$2$$,request:"csi",sampleSpec:{sampleOn:"a4a-csi-${pageViewId}",threshold:1},selector:"amp-ad",selectionMethod:"closest",extraUrlParams:$params$jscomp$7$$})}
function $extractAmpAnalyticsConfig$$module$ads$google$a4a$utils$$($responseHeaders$$){if(!$responseHeaders$$.has("X-AmpAnalytics"))return null;try{var $analyticsConfig$$=JSON.parse($responseHeaders$$.get("X-AmpAnalytics")),$urls$$=$analyticsConfig$$.url;if(!$urls$$.length)return null;for(var $config$jscomp$3$$={transport:{beacon:!1,xhrpost:!1},triggers:{continuousVisible:{on:"visible",visibilitySpec:{selector:"amp-ad",selectionMethod:"closest",visiblePercentageMin:50,continuousTimeMin:1E3}}}},$requests$jscomp$1$$=
{},$idx$$=1;$idx$$<=$urls$$.length;$idx$$++)$requests$jscomp$1$$["visibility"+$idx$$]=""+$urls$$[$idx$$-1];$config$jscomp$3$$.requests=$requests$jscomp$1$$;$config$jscomp$3$$.triggers.continuousVisible.request=Object.keys($requests$jscomp$1$$);return $config$jscomp$3$$}catch($err$jscomp$4$$){$dev$$module$src$log$$().error("AMP-A4A","Invalid analytics",$err$jscomp$4$$,$responseHeaders$$.get("X-AmpAnalytics"))}return null}
function $mergeExperimentIds$$module$ads$google$a4a$utils$$($newIds$$,$currentIdString$$){var $newIdString$$=$newIds$$.filter(function($newIds$$){return Number($newIds$$)}).join(",");$currentIdString$$=$currentIdString$$||"";return $currentIdString$$+($currentIdString$$&&$newIdString$$?",":"")+$newIdString$$}
function $addCsiSignalsToAmpAnalyticsConfig$$module$ads$google$a4a$utils$$($win$jscomp$92$$,$element$jscomp$81$$,$config$jscomp$4$$,$qqid$jscomp$1$$,$isVerifiedAmpCreative$$){var $correlator$$=$getCorrelator$$module$ads$google$a4a$utils$$($win$jscomp$92$$,$element$jscomp$81$$),$slotId$$=Number($element$jscomp$81$$.getAttribute("data-amp-slot-index")),$eids$jscomp$1$$=encodeURIComponent($element$jscomp$81$$.getAttribute("data-experiment-id")),$adType$$=$element$jscomp$81$$.getAttribute("type"),$initTime$$=
Number($getTimingDataSync$$module$src$service$variable_source$$($win$jscomp$92$$,"navigationStart")||Date.now()),$deltaTime$$=Math.round($win$jscomp$92$$.performance&&$win$jscomp$92$$.performance.now?$win$jscomp$92$$.performance.now():Date.now()-$initTime$$),$baseCsiUrl$$="https://csi.gstatic.com/csi?s=a4a"+("&c="+$correlator$$+"&slotId="+$slotId$$+"&qqid."+$slotId$$+"="+$qqid$jscomp$1$$)+("&dt="+$initTime$$)+("null"!=$eids$jscomp$1$$?"&e."+$slotId$$+"="+$eids$jscomp$1$$:"")+("&rls=1904281823091&adt."+
$slotId$$+"="+$adType$$),$isAmpSuffix$$=$isVerifiedAmpCreative$$?"Friendly":"CrossDomain";$config$jscomp$4$$.triggers.continuousVisibleIniLoad={on:"ini-load",selector:"amp-ad",selectionMethod:"closest",request:"iniLoadCsi"};$config$jscomp$4$$.triggers.continuousVisibleRenderStart={on:"render-start",selector:"amp-ad",selectionMethod:"closest",request:"renderStartCsi"};$config$jscomp$4$$.requests.iniLoadCsi=$baseCsiUrl$$+("&met.a4a."+$slotId$$+"=iniLoadCsi"+$isAmpSuffix$$+"."+$deltaTime$$);$config$jscomp$4$$.requests.renderStartCsi=
$baseCsiUrl$$+("&met.a4a."+$slotId$$+"=renderStartCsi"+$isAmpSuffix$$+"."+$deltaTime$$);$config$jscomp$4$$.requests.visibilityCsi=$baseCsiUrl$$+("&met.a4a."+$slotId$$+"=visibilityCsi."+$deltaTime$$);$config$jscomp$4$$.triggers.continuousVisible.request.push("visibilityCsi")}
function $getEnclosingContainerTypes$$module$ads$google$a4a$utils$$($adElement$jscomp$2_el$jscomp$10$$){var $containerTypeSet$$={};$adElement$jscomp$2_el$jscomp$10$$=$adElement$jscomp$2_el$jscomp$10$$.parentElement;for(var $counter$$=0;$adElement$jscomp$2_el$jscomp$10$$&&20>$counter$$;$adElement$jscomp$2_el$jscomp$10$$=$adElement$jscomp$2_el$jscomp$10$$.parentElement,$counter$$++){var $tagName$jscomp$17$$=$adElement$jscomp$2_el$jscomp$10$$.tagName.toUpperCase();$ValidAdContainerTypes$$module$ads$google$a4a$utils$$[$tagName$jscomp$17$$]&&
($containerTypeSet$$[$ValidAdContainerTypes$$module$ads$google$a4a$utils$$[$tagName$jscomp$17$$]]=!0)}return Object.keys($containerTypeSet$$)}var $IDENTITY_DOMAIN_REGEXP_$$module$ads$google$a4a$utils$$=/\.google\.(?:com?\.)?[a-z]{2,3}$/;
function $getIdentityToken$$module$ads$google$a4a$utils$$($win$jscomp$93$$,$ampDoc$jscomp$2$$,$consentPolicyId$$){$win$jscomp$93$$.goog_identity_prom=$win$jscomp$93$$.goog_identity_prom||($consentPolicyId$$?$getConsentPolicyState$$module$src$consent$$($ampDoc$jscomp$2$$.getHeadNode(),$consentPolicyId$$):Promise.resolve(3)).then(function($consentPolicyId$$){return 2==$consentPolicyId$$||4==$consentPolicyId$$?{}:$executeIdentityTokenFetch$$module$ads$google$a4a$utils$$($win$jscomp$93$$,$ampDoc$jscomp$2$$)});
return $win$jscomp$93$$.goog_identity_prom}
function $executeIdentityTokenFetch$$module$ads$google$a4a$utils$$($win$jscomp$94$$,$ampDoc$jscomp$3$$,$redirectsRemaining$$,$domain$jscomp$4_url$jscomp$52$$,$startTime$jscomp$10$$){$redirectsRemaining$$=void 0===$redirectsRemaining$$?1:$redirectsRemaining$$;$startTime$jscomp$10$$=void 0===$startTime$jscomp$10$$?Date.now():$startTime$jscomp$10$$;$domain$jscomp$4_url$jscomp$52$$=$getIdentityTokenRequestUrl$$module$ads$google$a4a$utils$$($win$jscomp$94$$,$ampDoc$jscomp$3$$,$domain$jscomp$4_url$jscomp$52$$);
return $getService$$module$src$service$$($win$jscomp$94$$,"xhr").fetchJson($domain$jscomp$4_url$jscomp$52$$,{mode:"cors",method:"GET",ampCors:!1,credentials:"include"}).then(function($win$jscomp$94$$){return $win$jscomp$94$$.json()}).then(function($domain$jscomp$4_url$jscomp$52$$){var $obj$jscomp$31$$=$domain$jscomp$4_url$jscomp$52$$.newToken,$jar$$=$domain$jscomp$4_url$jscomp$52$$["1p_jar"]||"",$pucrd$$=$domain$jscomp$4_url$jscomp$52$$.pucrd||"",$freshLifetimeSecs$$=parseInt($domain$jscomp$4_url$jscomp$52$$.freshLifetimeSecs||
"",10),$validLifetimeSecs$$=parseInt($domain$jscomp$4_url$jscomp$52$$.validLifetimeSecs||"",10),$altDomain$$=$domain$jscomp$4_url$jscomp$52$$.altDomain,$fetchTimeMs$$=Date.now()-$startTime$jscomp$10$$;return $IDENTITY_DOMAIN_REGEXP_$$module$ads$google$a4a$utils$$.test($altDomain$$)?$redirectsRemaining$$--?$executeIdentityTokenFetch$$module$ads$google$a4a$utils$$($win$jscomp$94$$,$ampDoc$jscomp$3$$,$redirectsRemaining$$,$altDomain$$,$startTime$jscomp$10$$):{fetchTimeMs:$fetchTimeMs$$}:0<$freshLifetimeSecs$$&&
0<$validLifetimeSecs$$&&"string"==typeof $obj$jscomp$31$$?{token:$obj$jscomp$31$$,jar:$jar$$,pucrd:$pucrd$$,freshLifetimeSecs:$freshLifetimeSecs$$,validLifetimeSecs:$validLifetimeSecs$$,fetchTimeMs:$fetchTimeMs$$}:{fetchTimeMs:$fetchTimeMs$$}}).catch(function(){return{}})}
function $getIdentityTokenRequestUrl$$module$ads$google$a4a$utils$$($matches$jscomp$1_win$jscomp$95$$,$ampDoc$jscomp$4$$,$domain$jscomp$5$$){!$domain$jscomp$5$$&&$matches$jscomp$1_win$jscomp$95$$!=$matches$jscomp$1_win$jscomp$95$$.top&&$matches$jscomp$1_win$jscomp$95$$.location.ancestorOrigins&&($domain$jscomp$5$$=($matches$jscomp$1_win$jscomp$95$$=$IDENTITY_DOMAIN_REGEXP_$$module$ads$google$a4a$utils$$.exec($matches$jscomp$1_win$jscomp$95$$.location.ancestorOrigins[$matches$jscomp$1_win$jscomp$95$$.location.ancestorOrigins.length-
1]))&&$matches$jscomp$1_win$jscomp$95$$[0]||void 0);$domain$jscomp$5$$=$domain$jscomp$5$$||".google.com";var $canonical$$=$extractHost$$module$ads$google$a4a$utils$$($Services$$module$src$services$documentInfoForDoc$$($ampDoc$jscomp$4$$).canonicalUrl);return"https://adservice"+$domain$jscomp$5$$+"/adsid/integrator.json?domain="+$canonical$$}
var $Capability$$module$ads$google$a4a$utils$SVG_SUPPORTED$$=1,$Capability$$module$ads$google$a4a$utils$SANDBOXING_ALLOW_TOP_NAVIGATION_BY_USER_ACTIVATION_SUPPORTED$$=2,$Capability$$module$ads$google$a4a$utils$SANDBOXING_ALLOW_POPUPS_TO_ESCAPE_SANDBOX_SUPPORTED$$=4;
function $getContainerWidth$$module$ads$google$a4a$utils$$($win$jscomp$99$$,$element$jscomp$82$$,$maxDepth$$){$maxDepth$$=void 0===$maxDepth$$?100:$maxDepth$$;for(var $el$jscomp$11$$=$element$jscomp$82$$,$depth$jscomp$12$$=$maxDepth$$;$el$jscomp$11$$&&$depth$jscomp$12$$--;)switch($el$jscomp$11$$.getAttribute("layout")){case "fixed":return parseInt($el$jscomp$11$$.getAttribute("width"),10)||0;case "responsive":case "fill":case "fixed-height":case "fluid":var $maxWidth$$=parseInt(($win$jscomp$99$$.getComputedStyle($el$jscomp$11$$)||
$map$$module$src$utils$object$$()).maxWidth,10);if($maxWidth$$||0==$maxWidth$$)return $maxWidth$$;$el$jscomp$11$$=$el$jscomp$11$$.parentElement;break;case "container":return $Services$$module$src$services$viewportForDoc$$($element$jscomp$82$$).getSize().width;case "nodisplay":case "flex-item":return 0;default:return parseInt(($win$jscomp$99$$.getComputedStyle($el$jscomp$11$$)||$map$$module$src$utils$object$$()).width,10)||0}return-1};var $WHITELISTED_VARIABLES$$module$extensions$amp_a4a$0_1$a4a_variable_source$$="AMPDOC_HOST AMPDOC_HOSTNAME AMPDOC_URL AMP_VERSION AVAILABLE_SCREEN_HEIGHT AVAILABLE_SCREEN_WIDTH BACKGROUND_STATE BROWSER_LANGUAGE CANONICAL_HOST CANONICAL_HOSTNAME CANONICAL_PATH CANONICAL_URL COUNTER DOCUMENT_CHARSET DOCUMENT_REFERRER FIRST_CONTENTFUL_PAINT FIRST_VIEWPORT_READY MAKE_BODY_VISIBLE PAGE_VIEW_ID RANDOM SCREEN_COLOR_DEPTH SCREEN_HEIGHT SCREEN_WIDTH SCROLL_HEIGHT SCROLL_LEFT SCROLL_TOP SCROLL_WIDTH SHARE_TRACKING_INCOMING SHARE_TRACKING_OUTGOING SOURCE_HOST SOURCE_HOSTNAME SOURCE_PATH SOURCE_URL TIMESTAMP TIMEZONE TIMEZONE_CODE TITLE TOTAL_ENGAGED_TIME USER_AGENT VARIANT VARIANTS VIEWER VIEWPORT_HEIGHT VIEWPORT_WIDTH".split(" ");
function $A4AVariableSource$$module$extensions$amp_a4a$0_1$a4a_variable_source$$($ampdoc$jscomp$14$$,$embedWin$jscomp$3$$){$VariableSource$$module$src$service$variable_source$$.call(this,$ampdoc$jscomp$14$$);var $headNode$$=$ampdoc$jscomp$14$$.getHeadNode(),$urlReplacements$$=$Services$$module$src$services$urlReplacementsForDoc$$($headNode$$);this.$globalVariableSource_$=$urlReplacements$$.getVariableSource();this.$win_$=$embedWin$jscomp$3$$}
$$jscomp$inherits$$($A4AVariableSource$$module$extensions$amp_a4a$0_1$a4a_variable_source$$,$VariableSource$$module$src$service$variable_source$$);
$A4AVariableSource$$module$extensions$amp_a4a$0_1$a4a_variable_source$$.prototype.initialize=function(){for(var $$jscomp$this$jscomp$10$$=this,$v$jscomp$2$$=0;$v$jscomp$2$$<$WHITELISTED_VARIABLES$$module$extensions$amp_a4a$0_1$a4a_variable_source$$.length;$v$jscomp$2$$++){var $varName$jscomp$4$$=$WHITELISTED_VARIABLES$$module$extensions$amp_a4a$0_1$a4a_variable_source$$[$v$jscomp$2$$],$resolvers$$=this.$globalVariableSource_$.get($varName$jscomp$4$$);this.set($varName$jscomp$4$$,$resolvers$$.sync).setAsync($varName$jscomp$4$$,
$resolvers$$.async)}this.set("NAV_TIMING",function($v$jscomp$2$$,$varName$jscomp$4$$){$userAssert$$module$src$log$$($v$jscomp$2$$,"The first argument to NAV_TIMING, the start attribute name, is required");return $getTimingDataSync$$module$src$service$variable_source$$($$jscomp$this$jscomp$10$$.$win_$,$v$jscomp$2$$,$varName$jscomp$4$$)}).setAsync("NAV_TIMING",function($v$jscomp$2$$,$varName$jscomp$4$$){$userAssert$$module$src$log$$($v$jscomp$2$$,"The first argument to NAV_TIMING, the start attribute name, is required");
return $getTimingDataAsync$$module$src$service$variable_source$$($$jscomp$this$jscomp$10$$.$win_$,$v$jscomp$2$$,$varName$jscomp$4$$)});this.set("NAV_TYPE",function(){return $getNavigationData$$module$src$service$variable_source$$($$jscomp$this$jscomp$10$$.$win_$,"type")});this.set("NAV_REDIRECT_COUNT",function(){return $getNavigationData$$module$src$service$variable_source$$($$jscomp$this$jscomp$10$$.$win_$,"redirectCount")});this.set("HTML_ATTR",this.$htmlAttributeBinding_$.bind(this));this.set("CLIENT_ID",
function(){return null})};
$A4AVariableSource$$module$extensions$amp_a4a$0_1$a4a_variable_source$$.prototype.$htmlAttributeBinding_$=function($cssSelector$$,$var_args$jscomp$55$$){var $HTML_ATTR_MAX_ELEMENTS_TO_TRAVERSE$$=20,$HTML_ATTR_MAX_ELEMENTS_TO_RETURN$$=10,$HTML_ATTR_MAX_ATTRS$$=10,$TAG$$="A4AVariableSource",$attributeNames$$=Array.prototype.slice.call(arguments,1);if(!$cssSelector$$||!$attributeNames$$.length)return"[]";if($attributeNames$$.length>$HTML_ATTR_MAX_ATTRS$$)return $user$$module$src$log$$().error($TAG$$,"At most "+
$HTML_ATTR_MAX_ATTRS$$+" may be requested."),"[]";$cssSelector$$=decodeURI($cssSelector$$);try{var $elements$jscomp$3$$=this.$win_$.document.querySelectorAll($cssSelector$$)}catch($e$jscomp$27$$){return $user$$module$src$log$$().error($TAG$$,"Invalid selector: "+$cssSelector$$),"[]"}if($elements$jscomp$3$$.length>$HTML_ATTR_MAX_ELEMENTS_TO_TRAVERSE$$)return $user$$module$src$log$$().error($TAG$$,"CSS selector may match at most "+($HTML_ATTR_MAX_ELEMENTS_TO_TRAVERSE$$+" elements.")),"[]";for(var $result$jscomp$2$$=
[],$i$jscomp$27$$=0;$i$jscomp$27$$<$elements$jscomp$3$$.length&&$result$jscomp$2$$.length<$HTML_ATTR_MAX_ELEMENTS_TO_RETURN$$;++$i$jscomp$27$$){for(var $currentResult$$={},$foundAtLeastOneAttr$$=!1,$j$$=0;$j$$<$attributeNames$$.length;++$j$$){var $attributeName$jscomp$1$$=$attributeNames$$[$j$$];$elements$jscomp$3$$[$i$jscomp$27$$].hasAttribute($attributeName$jscomp$1$$)&&($currentResult$$[$attributeName$jscomp$1$$]=$elements$jscomp$3$$[$i$jscomp$27$$].getAttribute($attributeName$jscomp$1$$),$foundAtLeastOneAttr$$=
!0)}$foundAtLeastOneAttr$$&&$result$jscomp$2$$.push($currentResult$$)}return JSON.stringify($result$jscomp$2$$)};function $extractUrlExperimentId$$module$ads$google$a4a$traffic_experiments$$($win$jscomp$100$$,$element$jscomp$83$$){var $expParam$$=$Services$$module$src$services$viewerForDoc$$($element$jscomp$83$$).getParam("exp")||$parseQueryString_$$module$src$url_parse_query_string$$($win$jscomp$100$$.location.search).exp;if(!$expParam$$)return null;var $expKeys$$=["doubleclick"==($element$jscomp$83$$.getAttribute("type")||"").toLowerCase()?"da":"aa","a4a"],$arg$jscomp$7$$,$match$jscomp$3$$;$expKeys$$.forEach(function($win$jscomp$100$$){return $arg$jscomp$7$$=
$arg$jscomp$7$$||($match$jscomp$3$$=(new RegExp("(?:^|,)"+$win$jscomp$100$$+":(-?\\d+)")).exec($expParam$$))&&$match$jscomp$3$$[1]});return $arg$jscomp$7$$||null}function $parseExperimentIds$$module$ads$google$a4a$traffic_experiments$$($idString$$){return $idString$$?$idString$$.split(","):[]}
function $isInExperiment$$module$ads$google$a4a$traffic_experiments$$($element$jscomp$84$$){return $parseExperimentIds$$module$ads$google$a4a$traffic_experiments$$($element$jscomp$84$$.getAttribute("data-experiment-id")).some(function($element$jscomp$84$$){return"117152632"===$element$jscomp$84$$})}function $validateExperimentIds$$module$ads$google$a4a$traffic_experiments$$($idList$$){return $idList$$.every(function($idList$$){return!isNaN(parseInt($idList$$,10))})}
function $addExperimentIdToElement$$module$ads$google$a4a$traffic_experiments$$($experimentId$jscomp$3$$,$element$jscomp$87$$){if($experimentId$jscomp$3$$){var $currentEids$$=$element$jscomp$87$$.getAttribute("data-experiment-id");$currentEids$$&&$validateExperimentIds$$module$ads$google$a4a$traffic_experiments$$($parseExperimentIds$$module$ads$google$a4a$traffic_experiments$$($currentEids$$))?$element$jscomp$87$$.setAttribute("data-experiment-id",$mergeExperimentIds$$module$ads$google$a4a$utils$$([$experimentId$jscomp$3$$],
$currentEids$$)):$element$jscomp$87$$.setAttribute("data-experiment-id",$experimentId$jscomp$3$$)}};function $utf8Decode$$module$src$utils$bytes$$($bytes$$){if("undefined"!==typeof TextDecoder)return(new TextDecoder("utf-8")).decode($bytes$$);for(var $JSCompiler_bytes$jscomp$inline_245$$=new Uint8Array($bytes$$.buffer||$bytes$$),$JSCompiler_array$jscomp$inline_246$$=Array($JSCompiler_bytes$jscomp$inline_245$$.length),$JSCompiler_i$jscomp$inline_247$$=0;$JSCompiler_i$jscomp$inline_247$$<$JSCompiler_bytes$jscomp$inline_245$$.length;$JSCompiler_i$jscomp$inline_247$$++)$JSCompiler_array$jscomp$inline_246$$[$JSCompiler_i$jscomp$inline_247$$]=
String.fromCharCode($JSCompiler_bytes$jscomp$inline_245$$[$JSCompiler_i$jscomp$inline_247$$]);var $asciiString$$=$JSCompiler_array$jscomp$inline_246$$.join("");return decodeURIComponent(escape($asciiString$$))}
function $stringToBytes$$module$src$utils$bytes$$($str$jscomp$8$$){for(var $bytes$jscomp$1$$=new Uint8Array($str$jscomp$8$$.length),$i$jscomp$28$$=0;$i$jscomp$28$$<$str$jscomp$8$$.length;$i$jscomp$28$$++){var $charCode$$=$str$jscomp$8$$.charCodeAt($i$jscomp$28$$);$bytes$jscomp$1$$[$i$jscomp$28$$]=$charCode$$}return $bytes$jscomp$1$$};function $SignatureVerifier$$module$extensions$amp_a4a$0_1$signature_verifier$$($win$jscomp$103$$){var $signingServerURLs$$=$signingServerURLs$$module$ads$_a4a_config$$;this.$win_$=$win$jscomp$103$$;this.$signingServerURLs_$=$signingServerURLs$$;this.$signers_$=$getService$$module$src$service$$($win$jscomp$103$$,"crypto").isPkcsAvailable()?{}:null;this.$getNow_$=$win$jscomp$103$$.performance&&$win$jscomp$103$$.performance.now?$win$jscomp$103$$.performance.now.bind($win$jscomp$103$$.performance):Date.now}
$SignatureVerifier$$module$extensions$amp_a4a$0_1$signature_verifier$$.prototype.loadKeyset=function($signingServiceName$$){if(this.$signers_$&&!this.$signers_$[$signingServiceName$$]){var $keys$jscomp$3$$={},$promise$jscomp$2$$=$JSCompiler_StaticMethods_fetchAndAddKeys_$$(this,$keys$jscomp$3$$,$signingServiceName$$,null);this.$signers_$[$signingServiceName$$]={promise:$promise$jscomp$2$$,keys:$keys$jscomp$3$$}}};
$SignatureVerifier$$module$extensions$amp_a4a$0_1$signature_verifier$$.prototype.verify=function($creative$$,$headers$jscomp$1_match$jscomp$4$$){var $signatureFormat$$=/^([A-Za-z0-9._-]+):([A-Za-z0-9._-]+):([A-Za-z0-9+/]{341}[AQgw]==)$/;if(!$headers$jscomp$1_match$jscomp$4$$.has("AMP-Fast-Fetch-Signature"))return Promise.resolve(1);var $headerValue$$=$headers$jscomp$1_match$jscomp$4$$.get("AMP-Fast-Fetch-Signature");$headers$jscomp$1_match$jscomp$4$$=$signatureFormat$$.exec($headerValue$$);return $headers$jscomp$1_match$jscomp$4$$?
this.verifyCreativeAndSignature($headers$jscomp$1_match$jscomp$4$$[1],$headers$jscomp$1_match$jscomp$4$$[2],$stringToBytes$$module$src$utils$bytes$$(atob($headers$jscomp$1_match$jscomp$4$$[3])),$creative$$):($user$$module$src$log$$().error("AMP-A4A","Invalid signature header: "+$headerValue$$.split(":")[0]),Promise.resolve(3))};
$SignatureVerifier$$module$extensions$amp_a4a$0_1$signature_verifier$$.prototype.verifyCreativeAndSignature=function($signingServiceName$jscomp$1$$,$keypairId$$,$signature$jscomp$1$$,$creative$jscomp$1$$){var $$jscomp$this$jscomp$11$$=this;if(!this.$signers_$)return Promise.resolve(4);var $signer$$=this.$signers_$[$signingServiceName$jscomp$1$$];return $signer$$.promise.then(function($success$$){if(!$success$$)return 1;var $keyPromise$$=$signer$$.keys[$keypairId$$];return void 0===$keyPromise$$?($signer$$.promise=
$JSCompiler_StaticMethods_fetchAndAddKeys_$$($$jscomp$this$jscomp$11$$,$signer$$.keys,$signingServiceName$jscomp$1$$,$keypairId$$).then(function($signingServiceName$jscomp$1$$){void 0===$signer$$.keys[$keypairId$$]&&($signer$$.keys[$keypairId$$]=null);return $signingServiceName$jscomp$1$$}),$$jscomp$this$jscomp$11$$.verifyCreativeAndSignature($signingServiceName$jscomp$1$$,$keypairId$$,$signature$jscomp$1$$,$creative$jscomp$1$$)):null===$keyPromise$$?2:$keyPromise$$.then(function($signingServiceName$jscomp$1$$){return $signingServiceName$jscomp$1$$?
$getService$$module$src$service$$($$jscomp$this$jscomp$11$$.$win_$,"crypto").verifyPkcs($signingServiceName$jscomp$1$$,$signature$jscomp$1$$,$creative$jscomp$1$$).then(function($signingServiceName$jscomp$1$$){return $signingServiceName$jscomp$1$$?0:3},function($signingServiceName$jscomp$1$$){$signingServiceName$jscomp$1$$=$signingServiceName$jscomp$1$$&&$signingServiceName$jscomp$1$$.message;$dev$$module$src$log$$().error("AMP-A4A","Failed to verify signature: "+$signingServiceName$jscomp$1$$);return 1}):
1})})};
function $JSCompiler_StaticMethods_fetchAndAddKeys_$$($JSCompiler_StaticMethods_fetchAndAddKeys_$self$$,$keys$jscomp$4$$,$signingServiceName$jscomp$2$$,$keypairId$jscomp$1$$){var $url$jscomp$53$$=$JSCompiler_StaticMethods_fetchAndAddKeys_$self$$.$signingServerURLs_$[$signingServiceName$jscomp$2$$];null!=$keypairId$jscomp$1$$&&($url$jscomp$53$$+="?kid="+encodeURIComponent($keypairId$jscomp$1$$));return $getService$$module$src$service$$($JSCompiler_StaticMethods_fetchAndAddKeys_$self$$.$win_$,"xhr").fetchJson($url$jscomp$53$$,
{mode:"cors",method:"GET",ampCors:!1,credentials:"omit"}).then(function($keypairId$jscomp$1$$){$keypairId$jscomp$1$$.headers.get("Content-Type");return $keypairId$jscomp$1$$.json().then(function($keypairId$jscomp$1$$){var $url$jscomp$53$$=$keypairId$jscomp$1$$;if(!$url$jscomp$53$$||!Array.isArray($url$jscomp$53$$.keys))return $signingServiceError$$module$extensions$amp_a4a$0_1$signature_verifier$$($signingServiceName$jscomp$2$$,"Key set ("+JSON.stringify($url$jscomp$53$$)+') has no "keys"'),!1;$url$jscomp$53$$.keys.forEach(function($keypairId$jscomp$1$$){$keypairId$jscomp$1$$&&
"string"==typeof $keypairId$jscomp$1$$.kid?void 0===$keys$jscomp$4$$[$keypairId$jscomp$1$$.kid]&&($keys$jscomp$4$$[$keypairId$jscomp$1$$.kid]=$getService$$module$src$service$$($JSCompiler_StaticMethods_fetchAndAddKeys_$self$$.$win_$,"crypto").importPkcsKey($keypairId$jscomp$1$$).catch(function($JSCompiler_StaticMethods_fetchAndAddKeys_$self$$){var $keys$jscomp$4$$=JSON.stringify($keypairId$jscomp$1$$);$signingServiceError$$module$extensions$amp_a4a$0_1$signature_verifier$$($signingServiceName$jscomp$2$$,
"Failed to import key ("+$keys$jscomp$4$$+"): "+($JSCompiler_StaticMethods_fetchAndAddKeys_$self$$&&$JSCompiler_StaticMethods_fetchAndAddKeys_$self$$.message));return null})):$signingServiceError$$module$extensions$amp_a4a$0_1$signature_verifier$$($signingServiceName$jscomp$2$$,"Key ("+JSON.stringify($keypairId$jscomp$1$$)+') has no "kid"')});return!0},function($JSCompiler_StaticMethods_fetchAndAddKeys_$self$$){$signingServiceError$$module$extensions$amp_a4a$0_1$signature_verifier$$($signingServiceName$jscomp$2$$,
"Failed to parse JSON: "+($JSCompiler_StaticMethods_fetchAndAddKeys_$self$$&&$JSCompiler_StaticMethods_fetchAndAddKeys_$self$$.response));return!1})},function($JSCompiler_StaticMethods_fetchAndAddKeys_$self$$){$JSCompiler_StaticMethods_fetchAndAddKeys_$self$$&&$JSCompiler_StaticMethods_fetchAndAddKeys_$self$$.response&&$signingServiceError$$module$extensions$amp_a4a$0_1$signature_verifier$$($signingServiceName$jscomp$2$$,"Status code "+$JSCompiler_StaticMethods_fetchAndAddKeys_$self$$.response.status);
return!1})}function $signingServiceError$$module$extensions$amp_a4a$0_1$signature_verifier$$($signingServiceName$jscomp$3$$,$message$jscomp$35$$){$dev$$module$src$log$$().error("AMP-A4A","Signing service error for "+$signingServiceName$jscomp$3$$+": "+$message$jscomp$35$$)};function $getContextMetadata$$module$src$iframe_attributes$$($parentWindow$$,$element$jscomp$88$$,$sentinel$$,$attributes$jscomp$3$$){var $startTime$jscomp$11$$=Date.now(),$viewer$jscomp$2_width$jscomp$28$$=$element$jscomp$88$$.getAttribute("width"),$height$jscomp$27_referrer$jscomp$1$$=$element$jscomp$88$$.getAttribute("height");$attributes$jscomp$3$$=$attributes$jscomp$3$$?$attributes$jscomp$3$$:{};$attributes$jscomp$3$$.width=$getLengthNumeral$$module$src$layout$$($viewer$jscomp$2_width$jscomp$28$$);
$attributes$jscomp$3$$.height=$getLengthNumeral$$module$src$layout$$($height$jscomp$27_referrer$jscomp$1$$);$element$jscomp$88$$.getAttribute("title")&&($attributes$jscomp$3$$.title=$element$jscomp$88$$.getAttribute("title"));var $locationHref$$=$parentWindow$$.location.href;"about:srcdoc"==$locationHref$$&&($locationHref$$=$parentWindow$$.parent.location.href);var $docInfo$$=$Services$$module$src$services$documentInfoForDoc$$($element$jscomp$88$$);$viewer$jscomp$2_width$jscomp$28$$=$Services$$module$src$services$viewerForDoc$$($element$jscomp$88$$);
$height$jscomp$27_referrer$jscomp$1$$=$viewer$jscomp$2_width$jscomp$28$$.getUnconfirmedReferrerUrl();var $layoutRect$$=$element$jscomp$88$$.getPageLayoutBox(),$JSCompiler_temp_const$jscomp$51$$=$attributes$jscomp$3$$,$JSCompiler_temp_const$jscomp$50$$=$urls$$module$src$config$$.thirdParty+"/1904281823091/ampcontext-v0.js",$JSCompiler_temp_const$jscomp$49$$=$docInfo$$.sourceUrl,$JSCompiler_temp_const$jscomp$48$$=$docInfo$$.canonicalUrl,$JSCompiler_temp_const$jscomp$47$$=$docInfo$$.pageViewId,$JSCompiler_temp_const$jscomp$46$$=
{href:$locationHref$$},$JSCompiler_temp_const$jscomp$45$$=$element$jscomp$88$$.tagName;var $JSCompiler_inline_result$jscomp$52$$={localDev:$getMode$$module$src$mode$$(void 0).localDev,development:$getMode$$module$src$mode$$(void 0).development,filter:$getMode$$module$src$mode$$(void 0).filter,minified:$getMode$$module$src$mode$$(void 0).minified,lite:$getMode$$module$src$mode$$(void 0).lite,test:$getMode$$module$src$mode$$(void 0).test,log:$getMode$$module$src$mode$$(void 0).log,version:$getMode$$module$src$mode$$(void 0).version,
rtvVersion:$getMode$$module$src$mode$$(void 0).rtvVersion,singlePassType:$getMode$$module$src$mode$$(void 0).singlePassType};var $JSCompiler_win$jscomp$inline_251$$=$parentWindow$$;$JSCompiler_temp_const$jscomp$51$$._context=$dict$$module$src$utils$object$$({ampcontextVersion:"1904281823091",ampcontextFilepath:$JSCompiler_temp_const$jscomp$50$$,sourceUrl:$JSCompiler_temp_const$jscomp$49$$,referrer:$height$jscomp$27_referrer$jscomp$1$$,canonicalUrl:$JSCompiler_temp_const$jscomp$48$$,pageViewId:$JSCompiler_temp_const$jscomp$47$$,
location:$JSCompiler_temp_const$jscomp$46$$,startTime:$startTime$jscomp$11$$,tagName:$JSCompiler_temp_const$jscomp$45$$,mode:$JSCompiler_inline_result$jscomp$52$$,canary:!(!$JSCompiler_win$jscomp$inline_251$$.AMP_CONFIG||!$JSCompiler_win$jscomp$inline_251$$.AMP_CONFIG.canary),hidden:!$viewer$jscomp$2_width$jscomp$28$$.isVisible(),initialLayoutRect:$layoutRect$$?{left:$layoutRect$$.left,top:$layoutRect$$.top,width:$layoutRect$$.width,height:$layoutRect$$.height}:null,initialIntersection:$element$jscomp$88$$.getIntersectionChangeEntry(),
domFingerprint:$stringHash32$$module$src$string$$($domFingerprintPlain$$module$src$utils$dom_fingerprint$$($element$jscomp$88$$)),experimentToggles:$experimentToggles$$module$src$experiments$$($parentWindow$$),sentinel:$sentinel$$});var $adSrc$$=$element$jscomp$88$$.getAttribute("src");$adSrc$$&&($attributes$jscomp$3$$.src=$adSrc$$);return $attributes$jscomp$3$$};function $getDefaultBootstrapBaseUrl$$module$src$3p_frame$$($parentWindow$jscomp$4$$){var $opt_srcFileBasename$$="nameframe",$srcFileBasename$$=$opt_srcFileBasename$$||"frame";if($getMode$$module$src$mode$$().localDev||$getMode$$module$src$mode$$().test){var $JSCompiler_srcFileBasename$jscomp$inline_254$$=$srcFileBasename$$,$JSCompiler_adsUrl$jscomp$inline_396$$=$urls$$module$src$config$$.thirdParty;-1<$JSCompiler_adsUrl$jscomp$inline_396$$.indexOf("ampproject.net")&&($JSCompiler_adsUrl$jscomp$inline_396$$=
"http://ads.localhost");return $JSCompiler_adsUrl$jscomp$inline_396$$+":"+($parentWindow$jscomp$4$$.location.port||$parentWindow$jscomp$4$$.parent.location.port)+"/dist.3p/"+($getMode$$module$src$mode$$().minified?"1904281823091/"+$JSCompiler_srcFileBasename$jscomp$inline_254$$:"current/"+$JSCompiler_srcFileBasename$jscomp$inline_254$$+".max")+".html"}$parentWindow$jscomp$4$$.defaultBootstrapSubDomain=$parentWindow$jscomp$4$$.defaultBootstrapSubDomain||"d-"+$getRandom$$module$src$3p_frame$$($parentWindow$jscomp$4$$);
return"https://"+$parentWindow$jscomp$4$$.defaultBootstrapSubDomain+("."+$urls$$module$src$config$$.thirdPartyFrameHost+"/1904281823091/")+($srcFileBasename$$+".html")}
function $getRandom$$module$src$3p_frame$$($win$jscomp$108$$){if($win$jscomp$108$$.crypto&&$win$jscomp$108$$.crypto.getRandomValues){var $uint32array$$=new Uint32Array(2);$win$jscomp$108$$.crypto.getRandomValues($uint32array$$);var $rand$$=String($uint32array$$[0])+$uint32array$$[1]}else $rand$$=String($win$jscomp$108$$.Math.random()).substr(2)+"0";return $rand$$}
function $applySandbox$$module$src$3p_frame$$($iframe$jscomp$1$$){if($iframe$jscomp$1$$.sandbox&&$iframe$jscomp$1$$.sandbox.supports){for(var $requiredFlags$$=["allow-top-navigation-by-user-activation","allow-popups-to-escape-sandbox"],$otherFlags$$="allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts".split(" "),$i$jscomp$30$$=0;$i$jscomp$30$$<$requiredFlags$$.length;$i$jscomp$30$$++){var $flag$jscomp$1$$=$requiredFlags$$[$i$jscomp$30$$];if(!$iframe$jscomp$1$$.sandbox.supports($flag$jscomp$1$$)){$dev$$module$src$log$$().info("3p-frame",
"Iframe doesn't support %s",$flag$jscomp$1$$);return}}$iframe$jscomp$1$$.sandbox=$requiredFlags$$.join(" ")+" "+$otherFlags$$.join(" ")}};var $throttlePromise_$$module$extensions$amp_ad$0_1$concurrent_load$$=null,$throttlePromiseResolver_$$module$extensions$amp_ad$0_1$concurrent_load$$=null;
function $incrementLoadingAds$$module$extensions$amp_ad$0_1$concurrent_load$$($win$jscomp$111$$,$opt_loadingPromise$$){void 0===$win$jscomp$111$$["3pla"]&&($win$jscomp$111$$["3pla"]=0);$win$jscomp$111$$["3pla"]++;if(!$throttlePromise_$$module$extensions$amp_ad$0_1$concurrent_load$$){var $deferred$jscomp$2$$=new $Deferred$$module$src$utils$promise$$;$throttlePromise_$$module$extensions$amp_ad$0_1$concurrent_load$$=$deferred$jscomp$2$$.promise;$throttlePromiseResolver_$$module$extensions$amp_ad$0_1$concurrent_load$$=
$deferred$jscomp$2$$.resolve}$Services$$module$src$services$timerFor$$($win$jscomp$111$$).timeoutPromise(1E3,$opt_loadingPromise$$).catch(function(){}).then(function(){--$win$jscomp$111$$["3pla"]||($throttlePromiseResolver_$$module$extensions$amp_ad$0_1$concurrent_load$$(),$throttlePromiseResolver_$$module$extensions$amp_ad$0_1$concurrent_load$$=$throttlePromise_$$module$extensions$amp_ad$0_1$concurrent_load$$=null)})};function $insertAnalyticsElement$$module$src$extension_analytics$$($parentElement$jscomp$1$$,$config$jscomp$6_extensions$jscomp$1$$,$disableImmediate$$){var $ampdoc$jscomp$15_loadAnalytics$jscomp$1$$=!0;$ampdoc$jscomp$15_loadAnalytics$jscomp$1$$=void 0===$ampdoc$jscomp$15_loadAnalytics$jscomp$1$$?!1:$ampdoc$jscomp$15_loadAnalytics$jscomp$1$$;$disableImmediate$$=void 0===$disableImmediate$$?!1:$disableImmediate$$;var $doc$jscomp$25$$=$parentElement$jscomp$1$$.ownerDocument,$analyticsElem$$=$createElementWithAttributes$$module$src$dom$$($doc$jscomp$25$$,
"amp-analytics",$dict$$module$src$utils$object$$({sandbox:"true",trigger:$disableImmediate$$?"":"immediate"})),$scriptElem$$=$createElementWithAttributes$$module$src$dom$$($doc$jscomp$25$$,"script",$dict$$module$src$utils$object$$({type:"application/json"}));$scriptElem$$.textContent=JSON.stringify($config$jscomp$6_extensions$jscomp$1$$);$analyticsElem$$.appendChild($scriptElem$$);$analyticsElem$$.CONFIG=$config$jscomp$6_extensions$jscomp$1$$;$ampdoc$jscomp$15_loadAnalytics$jscomp$1$$?($config$jscomp$6_extensions$jscomp$1$$=
$Services$$module$src$services$extensionsFor$$($parentElement$jscomp$1$$.ownerDocument.defaultView),$ampdoc$jscomp$15_loadAnalytics$jscomp$1$$=$getAmpdoc$$module$src$service$$($parentElement$jscomp$1$$),$config$jscomp$6_extensions$jscomp$1$$.installExtensionForDoc($ampdoc$jscomp$15_loadAnalytics$jscomp$1$$,"amp-analytics")):$Services$$module$src$services$analyticsForDocOrNull$$($parentElement$jscomp$1$$).then(function(){});$parentElement$jscomp$1$$.appendChild($analyticsElem$$);return $analyticsElem$$}
;function $Observable$$module$src$observable$$(){this.$handlers_$=null}$JSCompiler_prototypeAlias$$=$Observable$$module$src$observable$$.prototype;$JSCompiler_prototypeAlias$$.add=function($handler$jscomp$4$$){var $$jscomp$this$jscomp$14$$=this;this.$handlers_$||(this.$handlers_$=[]);this.$handlers_$.push($handler$jscomp$4$$);return function(){$$jscomp$this$jscomp$14$$.remove($handler$jscomp$4$$)}};
$JSCompiler_prototypeAlias$$.remove=function($handler$jscomp$5_index$jscomp$72$$){this.$handlers_$&&($handler$jscomp$5_index$jscomp$72$$=this.$handlers_$.indexOf($handler$jscomp$5_index$jscomp$72$$),-1<$handler$jscomp$5_index$jscomp$72$$&&this.$handlers_$.splice($handler$jscomp$5_index$jscomp$72$$,1))};$JSCompiler_prototypeAlias$$.removeAll=function(){this.$handlers_$&&(this.$handlers_$.length=0)};
$JSCompiler_prototypeAlias$$.fire=function($opt_event$$){if(this.$handlers_$)for(var $handlers$$=this.$handlers_$,$i$jscomp$32$$=0;$i$jscomp$32$$<$handlers$$.length;$i$jscomp$32$$++)(0,$handlers$$[$i$jscomp$32$$])($opt_event$$)};$JSCompiler_prototypeAlias$$.getHandlerCount=function(){return this.$handlers_$?this.$handlers_$.length:0};function $Signals$$module$src$utils$signals$$(){this.$map_$=$map$$module$src$utils$object$$();this.$promiseMap_$=null}$JSCompiler_prototypeAlias$$=$Signals$$module$src$utils$signals$$.prototype;$JSCompiler_prototypeAlias$$.get=function($name$jscomp$82$$){return this.$map_$[$name$jscomp$82$$]||null};
$JSCompiler_prototypeAlias$$.whenSignal=function($name$jscomp$83$$){var $promiseStruct$$=this.$promiseMap_$&&this.$promiseMap_$[$name$jscomp$83$$];if(!$promiseStruct$$){var $$jscomp$destructuring$var33_result$jscomp$4$$=this.$map_$[$name$jscomp$83$$];null!=$$jscomp$destructuring$var33_result$jscomp$4$$?$promiseStruct$$={promise:"number"==typeof $$jscomp$destructuring$var33_result$jscomp$4$$?Promise.resolve($$jscomp$destructuring$var33_result$jscomp$4$$):Promise.reject($$jscomp$destructuring$var33_result$jscomp$4$$)}:
($$jscomp$destructuring$var33_result$jscomp$4$$=new $Deferred$$module$src$utils$promise$$,$promiseStruct$$={promise:$$jscomp$destructuring$var33_result$jscomp$4$$.promise,resolve:$$jscomp$destructuring$var33_result$jscomp$4$$.resolve,reject:$$jscomp$destructuring$var33_result$jscomp$4$$.reject});this.$promiseMap_$||(this.$promiseMap_$=$map$$module$src$utils$object$$());this.$promiseMap_$[$name$jscomp$83$$]=$promiseStruct$$}return $promiseStruct$$.promise};
$JSCompiler_prototypeAlias$$.signal=function($name$jscomp$84_promiseStruct$jscomp$1$$,$opt_time$$){if(null==this.$map_$[$name$jscomp$84_promiseStruct$jscomp$1$$]){var $time$jscomp$2$$=$opt_time$$||Date.now();this.$map_$[$name$jscomp$84_promiseStruct$jscomp$1$$]=$time$jscomp$2$$;($name$jscomp$84_promiseStruct$jscomp$1$$=this.$promiseMap_$&&this.$promiseMap_$[$name$jscomp$84_promiseStruct$jscomp$1$$])&&$name$jscomp$84_promiseStruct$jscomp$1$$.resolve&&($name$jscomp$84_promiseStruct$jscomp$1$$.resolve($time$jscomp$2$$),
$name$jscomp$84_promiseStruct$jscomp$1$$.resolve=void 0,$name$jscomp$84_promiseStruct$jscomp$1$$.reject=void 0)}};
$JSCompiler_prototypeAlias$$.rejectSignal=function($name$jscomp$85_promiseStruct$jscomp$2$$,$error$jscomp$25$$){null==this.$map_$[$name$jscomp$85_promiseStruct$jscomp$2$$]&&(this.$map_$[$name$jscomp$85_promiseStruct$jscomp$2$$]=$error$jscomp$25$$,($name$jscomp$85_promiseStruct$jscomp$2$$=this.$promiseMap_$&&this.$promiseMap_$[$name$jscomp$85_promiseStruct$jscomp$2$$])&&$name$jscomp$85_promiseStruct$jscomp$2$$.reject&&($name$jscomp$85_promiseStruct$jscomp$2$$.reject($error$jscomp$25$$),$name$jscomp$85_promiseStruct$jscomp$2$$.resolve=
void 0,$name$jscomp$85_promiseStruct$jscomp$2$$.reject=void 0))};$JSCompiler_prototypeAlias$$.reset=function($name$jscomp$86$$){this.$map_$[$name$jscomp$86$$]&&delete this.$map_$[$name$jscomp$86$$];var $promiseStruct$jscomp$3$$=this.$promiseMap_$&&this.$promiseMap_$[$name$jscomp$86$$];$promiseStruct$jscomp$3$$&&!$promiseStruct$jscomp$3$$.resolve&&delete this.$promiseMap_$[$name$jscomp$86$$]};function $layoutRectLtwh$$module$src$layout_rect$$($left$jscomp$2$$,$top$jscomp$2$$,$width$jscomp$29$$,$height$jscomp$28$$){return{left:$left$jscomp$2$$,top:$top$jscomp$2$$,width:$width$jscomp$29$$,height:$height$jscomp$28$$,bottom:$top$jscomp$2$$+$height$jscomp$28$$,right:$left$jscomp$2$$+$width$jscomp$29$$,x:$left$jscomp$2$$,y:$top$jscomp$2$$}}
function $rectIntersection$$module$src$layout_rect$$($var_args$jscomp$56$$){for(var $x0$jscomp$2$$=-Infinity,$x1$jscomp$5$$=Infinity,$y0$jscomp$2$$=-Infinity,$y1$jscomp$5$$=Infinity,$i$jscomp$33$$=0;$i$jscomp$33$$<arguments.length;$i$jscomp$33$$++){var $current$jscomp$1$$=arguments[$i$jscomp$33$$];if($current$jscomp$1$$&&($x0$jscomp$2$$=Math.max($x0$jscomp$2$$,$current$jscomp$1$$.left),$x1$jscomp$5$$=Math.min($x1$jscomp$5$$,$current$jscomp$1$$.left+$current$jscomp$1$$.width),$y0$jscomp$2$$=Math.max($y0$jscomp$2$$,
$current$jscomp$1$$.top),$y1$jscomp$5$$=Math.min($y1$jscomp$5$$,$current$jscomp$1$$.top+$current$jscomp$1$$.height),$x1$jscomp$5$$<$x0$jscomp$2$$||$y1$jscomp$5$$<$y0$jscomp$2$$))return null}return Infinity==$x1$jscomp$5$$?null:$layoutRectLtwh$$module$src$layout_rect$$($x0$jscomp$2$$,$y0$jscomp$2$$,$x1$jscomp$5$$-$x0$jscomp$2$$,$y1$jscomp$5$$-$y0$jscomp$2$$)}
function $moveLayoutRect$$module$src$layout_rect$$($rect$jscomp$2$$,$dx$jscomp$4$$,$dy$jscomp$4$$){return 0==$dx$jscomp$4$$&&0==$dy$jscomp$4$$||0==$rect$jscomp$2$$.width&&0==$rect$jscomp$2$$.height?$rect$jscomp$2$$:$layoutRectLtwh$$module$src$layout_rect$$($rect$jscomp$2$$.left+$dx$jscomp$4$$,$rect$jscomp$2$$.top+$dy$jscomp$4$$,$rect$jscomp$2$$.width,$rect$jscomp$2$$.height)};var $EXCLUDE_INI_LOAD$$module$src$friendly_iframe_embed$$=["AMP-AD","AMP-ANALYTICS","AMP-PIXEL","AMP-AD-EXIT"],$srcdocSupported$$module$src$friendly_iframe_embed$$;function $setFriendlyIframeEmbedVisible$$module$src$friendly_iframe_embed$$($embed$$,$visible$$){$JSCompiler_StaticMethods_setVisible_$$($embed$$,$visible$$)}
function $installFriendlyIframeEmbed$$module$src$friendly_iframe_embed$$($iframe$jscomp$3$$,$container$jscomp$4$$,$spec$$,$opt_preinstallCallback$$){function $registerViolationListener$$(){$iframe$jscomp$3$$.contentWindow.addEventListener("securitypolicyviolation",function($iframe$jscomp$3$$){$dev$$module$src$log$$().warn("FIE","security policy violation",$iframe$jscomp$3$$)})}var $win$jscomp$112$$=$getTopWindow$$module$src$service$$($iframe$jscomp$3$$.ownerDocument.defaultView),$extensions$jscomp$2$$=
$Services$$module$src$services$extensionsFor$$($win$jscomp$112$$);$setStyle$$module$src$style$$($iframe$jscomp$3$$,"visibility","hidden");$iframe$jscomp$3$$.setAttribute("referrerpolicy","unsafe-url");$spec$$.extensionIds&&$spec$$.extensionIds.forEach(function($iframe$jscomp$3$$){return $extensions$jscomp$2$$.preloadExtension($iframe$jscomp$3$$)});var $html$$=$mergeHtml$$module$src$friendly_iframe_embed$$($spec$$);$iframe$jscomp$3$$.onload=function(){$iframe$jscomp$3$$.readyState="complete"};void 0===
$srcdocSupported$$module$src$friendly_iframe_embed$$&&($srcdocSupported$$module$src$friendly_iframe_embed$$="srcdoc"in HTMLIFrameElement.prototype);if($srcdocSupported$$module$src$friendly_iframe_embed$$){$iframe$jscomp$3$$.srcdoc=$html$$;var $loadedPromise$$=$loadPromise$$module$src$event_helper$$($iframe$jscomp$3$$);$container$jscomp$4$$.appendChild($iframe$jscomp$3$$);$registerViolationListener$$()}else{$iframe$jscomp$3$$.src="about:blank";$container$jscomp$4$$.appendChild($iframe$jscomp$3$$);
var $childDoc$$=$iframe$jscomp$3$$.contentWindow.document;$childDoc$$.open();$registerViolationListener$$();$childDoc$$.write($html$$);$loadedPromise$$=$loadPromise$$module$src$event_helper$$($iframe$jscomp$3$$.contentWindow);$childDoc$$.close()}var $readyPromise$$=$isIframeReady$$module$src$friendly_iframe_embed$$($iframe$jscomp$3$$)?Promise.resolve():new Promise(function($container$jscomp$4$$){var $spec$$=$win$jscomp$112$$.setInterval(function(){$isIframeReady$$module$src$friendly_iframe_embed$$($iframe$jscomp$3$$)&&
($container$jscomp$4$$(),$win$jscomp$112$$.clearInterval($spec$$))},5);$loadedPromise$$.catch(function($iframe$jscomp$3$$){$rethrowAsync$$module$src$log$$($iframe$jscomp$3$$)}).then(function(){$container$jscomp$4$$();$win$jscomp$112$$.clearInterval($spec$$)})});return $readyPromise$$.then(function(){var $container$jscomp$4$$=new $FriendlyIframeEmbed$$module$src$friendly_iframe_embed$$($iframe$jscomp$3$$,$spec$$,$loadedPromise$$);$iframe$jscomp$3$$.__AMP_EMBED__=$container$jscomp$4$$;$extensions$jscomp$2$$.installExtensionsInChildWindow($iframe$jscomp$3$$.contentWindow,
$spec$$.extensionIds||[],$opt_preinstallCallback$$);$JSCompiler_StaticMethods_startRender_$$($container$jscomp$4$$);return $container$jscomp$4$$})}
function $isIframeReady$$module$src$friendly_iframe_embed$$($childDoc$jscomp$1_iframe$jscomp$4$$){$childDoc$jscomp$1_iframe$jscomp$4$$=$childDoc$jscomp$1_iframe$jscomp$4$$.contentWindow&&$childDoc$jscomp$1_iframe$jscomp$4$$.contentWindow.document;return!!($childDoc$jscomp$1_iframe$jscomp$4$$&&"loading"!=$childDoc$jscomp$1_iframe$jscomp$4$$.readyState&&"uninitialized"!=$childDoc$jscomp$1_iframe$jscomp$4$$.readyState&&$childDoc$jscomp$1_iframe$jscomp$4$$.body&&$childDoc$jscomp$1_iframe$jscomp$4$$.body.firstChild)}
function $mergeHtml$$module$src$friendly_iframe_embed$$($spec$jscomp$1$$){var $originalHtml$$=$spec$jscomp$1$$.html,$originalHtmlUp$$=$originalHtml$$.toUpperCase(),$ip$$=$originalHtmlUp$$.indexOf("<HEAD");-1!=$ip$$&&($ip$$=$originalHtmlUp$$.indexOf(">",$ip$$+1)+1);-1==$ip$$&&($ip$$=$originalHtmlUp$$.indexOf("<BODY"));-1==$ip$$&&($ip$$=$originalHtmlUp$$.indexOf("<HTML"),-1!=$ip$$&&($ip$$=$originalHtmlUp$$.indexOf(">",$ip$$+1)+1));var $result$jscomp$5$$=[];0<$ip$$&&$result$jscomp$5$$.push($originalHtml$$.substring(0,
$ip$$));$result$jscomp$5$$.push('<base href="'+$escapeHtml$$module$src$dom$$($spec$jscomp$1$$.url)+'">');$spec$jscomp$1$$.fonts&&$spec$jscomp$1$$.fonts.forEach(function($spec$jscomp$1$$){$result$jscomp$5$$.push('<link href="'+$escapeHtml$$module$src$dom$$($spec$jscomp$1$$)+'" rel="stylesheet" type="text/css">')});$result$jscomp$5$$.push("<meta http-equiv=Content-Security-Policy content=\"script-src 'none';object-src 'none';child-src 'none'\">");0<$ip$$?$result$jscomp$5$$.push($originalHtml$$.substring($ip$$)):
$result$jscomp$5$$.push($originalHtml$$);return $result$jscomp$5$$.join("")}
function $FriendlyIframeEmbed$$module$src$friendly_iframe_embed$$($iframe$jscomp$5$$,$spec$jscomp$3$$,$loadedPromise$jscomp$1$$){this.iframe=$iframe$jscomp$5$$;this.win=$iframe$jscomp$5$$.contentWindow;this.spec=$spec$jscomp$3$$;this.host=$spec$jscomp$3$$.host||null;this.$startTime_$=Date.now();this.$visible_$=!1;this.$visibilityObservable_$=new $Observable$$module$src$observable$$;this.$signals_$=this.host?this.host.signals():new $Signals$$module$src$utils$signals$$;this.$winLoadedPromise_$=Promise.all([$loadedPromise$jscomp$1$$,
this.whenReady()])}$JSCompiler_prototypeAlias$$=$FriendlyIframeEmbed$$module$src$friendly_iframe_embed$$.prototype;$JSCompiler_prototypeAlias$$.destroy=function(){$Services$$module$src$services$resourcesForDoc$$(this.iframe).removeForChildWindow(this.win);$disposeServicesInternal$$module$src$service$$(this.win)};$JSCompiler_prototypeAlias$$.getStartTime=function(){return this.$startTime_$};$JSCompiler_prototypeAlias$$.getUrl=function(){return this.spec.url};$JSCompiler_prototypeAlias$$.signals=function(){return this.$signals_$};
$JSCompiler_prototypeAlias$$.whenReady=function(){return this.$signals_$.whenSignal("render-start")};$JSCompiler_prototypeAlias$$.whenWindowLoaded=function(){return this.$winLoadedPromise_$};$JSCompiler_prototypeAlias$$.whenIniLoaded=function(){return this.$signals_$.whenSignal("ini-load")};
function $JSCompiler_StaticMethods_startRender_$$($JSCompiler_StaticMethods_startRender_$self$$){$JSCompiler_StaticMethods_startRender_$self$$.host?$JSCompiler_StaticMethods_startRender_$self$$.host.renderStarted():$JSCompiler_StaticMethods_startRender_$self$$.$signals_$.signal("render-start");$setStyle$$module$src$style$$($JSCompiler_StaticMethods_startRender_$self$$.iframe,"visibility","");$JSCompiler_StaticMethods_startRender_$self$$.win.document&&$JSCompiler_StaticMethods_startRender_$self$$.win.document.body&&
($JSCompiler_StaticMethods_startRender_$self$$.win.document.documentElement.classList.add("i-amphtml-fie"),$setStyles$$module$src$style$$($JSCompiler_StaticMethods_startRender_$self$$.win.document.body,{opacity:1,visibility:"visible",animation:"none"}));var $rect$jscomp$3$$=$JSCompiler_StaticMethods_startRender_$self$$.host?$JSCompiler_StaticMethods_startRender_$self$$.host.getLayoutBox():$layoutRectLtwh$$module$src$layout_rect$$(0,0,$JSCompiler_StaticMethods_startRender_$self$$.win.innerWidth,$JSCompiler_StaticMethods_startRender_$self$$.win.innerHeight);
Promise.all([$JSCompiler_StaticMethods_startRender_$self$$.whenReady(),$whenContentIniLoad$$module$src$friendly_iframe_embed$$($JSCompiler_StaticMethods_startRender_$self$$.iframe,$JSCompiler_StaticMethods_startRender_$self$$.win,$rect$jscomp$3$$)]).then(function(){$JSCompiler_StaticMethods_startRender_$self$$.$signals_$.signal("ini-load")})}$JSCompiler_prototypeAlias$$.isVisible=function(){return this.$visible_$};$JSCompiler_prototypeAlias$$.onVisibilityChanged=function($handler$jscomp$7$$){return this.$visibilityObservable_$.add($handler$jscomp$7$$)};
function $JSCompiler_StaticMethods_setVisible_$$($JSCompiler_StaticMethods_setVisible_$self$$,$visible$jscomp$1$$){$JSCompiler_StaticMethods_setVisible_$self$$.$visible_$!=$visible$jscomp$1$$&&($JSCompiler_StaticMethods_setVisible_$self$$.$visible_$=$visible$jscomp$1$$,$JSCompiler_StaticMethods_setVisible_$self$$.$visibilityObservable_$.fire($JSCompiler_StaticMethods_setVisible_$self$$.$visible_$))}$JSCompiler_prototypeAlias$$.getBodyElement=function(){return(this.iframe.contentDocument||this.iframe.contentWindow.document).body};
function $JSCompiler_StaticMethods_measureMutate_$$($JSCompiler_StaticMethods_measureMutate_$self$$,$task$$){return $Services$$module$src$services$resourcesForDoc$$($JSCompiler_StaticMethods_measureMutate_$self$$.iframe).measureMutateElement($JSCompiler_StaticMethods_measureMutate_$self$$.iframe,$task$$.measure||null,$task$$.mutate)}
$JSCompiler_prototypeAlias$$.enterFullOverlayMode=function(){var $$jscomp$this$jscomp$16$$=this,$ampAdParent$$=this.iframe.parentNode;$userAssert$$module$src$log$$("amp-ad"==$ampAdParent$$.tagName.toLowerCase(),"Only <amp-ad> is allowed to enter lightbox mode.");var $bodyStyle$$;return $JSCompiler_StaticMethods_measureMutate_$$(this,{measure:function(){var $ampAdParent$$=$$jscomp$this$jscomp$16$$.host?$$jscomp$this$jscomp$16$$.host.getLayoutBox():$$jscomp$this$jscomp$16$$.iframe.getBoundingClientRect(),
$dy$jscomp$5$$=-$Services$$module$src$services$viewportForDoc$$($$jscomp$this$jscomp$16$$.iframe).getScrollTop();$ampAdParent$$=$moveLayoutRect$$module$src$layout_rect$$($ampAdParent$$,0,$dy$jscomp$5$$);$bodyStyle$$={top:$ampAdParent$$.top+"px",left:$ampAdParent$$.left+"px",width:$ampAdParent$$.width+"px",height:$ampAdParent$$.height+"px"}},mutate:function(){$setImportantStyles$$module$src$style$$($$jscomp$this$jscomp$16$$.iframe,{position:"fixed",left:0,right:0,bottom:0,width:"100vw",top:0,height:"100vh"});
$setImportantStyles$$module$src$style$$($$jscomp$this$jscomp$16$$.getBodyElement(),{background:"transparent",position:"absolute",bottom:"auto",right:"auto",top:$bodyStyle$$.top,left:$bodyStyle$$.left,width:$bodyStyle$$.width,height:$bodyStyle$$.height})}})};
$JSCompiler_prototypeAlias$$.leaveFullOverlayMode=function(){var $$jscomp$this$jscomp$17$$=this;return $JSCompiler_StaticMethods_measureMutate_$$(this,{mutate:function(){$resetStyles$$module$src$style$$($$jscomp$this$jscomp$17$$.iframe,"position left right top bottom width height".split(" "));$resetStyles$$module$src$style$$($$jscomp$this$jscomp$17$$.getBodyElement(),"position top left width height bottom right".split(" "))}})};
function $whenContentIniLoad$$module$src$friendly_iframe_embed$$($elementOrAmpDoc$jscomp$19$$,$hostWin$$,$rect$jscomp$5$$){return $Services$$module$src$services$resourcesForDoc$$($elementOrAmpDoc$jscomp$19$$).getResourcesInRect($hostWin$$,$rect$jscomp$5$$).then(function($elementOrAmpDoc$jscomp$19$$){var $hostWin$$=[];$elementOrAmpDoc$jscomp$19$$.forEach(function($elementOrAmpDoc$jscomp$19$$){$EXCLUDE_INI_LOAD$$module$src$friendly_iframe_embed$$.includes($elementOrAmpDoc$jscomp$19$$.element.tagName)||
$hostWin$$.push($elementOrAmpDoc$jscomp$19$$.loadedOnce())});return Promise.all($hostWin$$)})};var $NOENCODE_WHITELIST$$module$src$service$url_expander$expander$$={ANCESTOR_ORIGIN:!0};function $Expander$$module$src$service$url_expander$expander$$($variableSource$$,$opt_bindings$jscomp$1$$,$opt_collectVars$$,$opt_sync$$,$opt_whiteList$jscomp$2$$,$opt_noEncode$$){this.$variableSource_$=$variableSource$$;this.$bindings_$=$opt_bindings$jscomp$1$$;this.$collectVars_$=$opt_collectVars$$;this.$sync_$=$opt_sync$$;this.$whiteList_$=$opt_whiteList$jscomp$2$$;this.$encode_$=!$opt_noEncode$$}
$Expander$$module$src$service$url_expander$expander$$.prototype.expand=function($url$jscomp$57$$){if(!$url$jscomp$57$$.length)return this.$sync_$?$url$jscomp$57$$:Promise.resolve($url$jscomp$57$$);var $expr$jscomp$4_matches$jscomp$2$$=this.$variableSource_$.getExpr(this.$bindings_$,this.$whiteList_$);$expr$jscomp$4_matches$jscomp$2$$=$JSCompiler_StaticMethods_findMatches_$$($url$jscomp$57$$,$expr$jscomp$4_matches$jscomp$2$$);return $expr$jscomp$4_matches$jscomp$2$$.length?$JSCompiler_StaticMethods_parseUrlRecursively_$$(this,
$url$jscomp$57$$,$expr$jscomp$4_matches$jscomp$2$$):this.$sync_$?$url$jscomp$57$$:Promise.resolve($url$jscomp$57$$)};$Expander$$module$src$service$url_expander$expander$$.prototype.getMacroNames=function($matches$jscomp$3_url$jscomp$58$$){var $expr$jscomp$5$$=this.$variableSource_$.getExpr(this.$bindings_$,this.$whiteList_$);return($matches$jscomp$3_url$jscomp$58$$=$matches$jscomp$3_url$jscomp$58$$.match($expr$jscomp$5$$))?$matches$jscomp$3_url$jscomp$58$$:[]};
function $JSCompiler_StaticMethods_findMatches_$$($url$jscomp$59$$,$expression$jscomp$2$$){var $matches$jscomp$4$$=[];$url$jscomp$59$$.replace($expression$jscomp$2$$,function($url$jscomp$59$$,$expression$jscomp$2$$,$startPosition$$){$url$jscomp$59$$=$url$jscomp$59$$.length;var $length$jscomp$23_match$jscomp$5$$=$url$jscomp$59$$+$startPosition$$-1;$matches$jscomp$4$$.push({start:$startPosition$$,stop:$length$jscomp$23_match$jscomp$5$$,name:$expression$jscomp$2$$,length:$url$jscomp$59$$})});return $matches$jscomp$4$$}
function $JSCompiler_StaticMethods_parseUrlRecursively_$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$,$url$jscomp$60$$,$matches$jscomp$5$$){function $evaluateNextLevel$$($encode$$){for(var $builder$$="",$results$$=[];$urlIndex$$<$url$jscomp$60$$.length&&$matchIndex$$<=$matches$jscomp$5$$.length;){if($match$jscomp$6$$&&$urlIndex$$===$match$jscomp$6$$.start){var $binding$$=void 0;$binding$$=$JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$bindings_$&&$hasOwn_$$module$src$utils$object$$.call($JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$bindings_$,
$match$jscomp$6$$.name)?{name:$match$jscomp$6$$.name,prioritized:$JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$bindings_$[$match$jscomp$6$$.name],encode:$encode$$}:Object.assign({},$JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$variableSource_$.get($match$jscomp$6$$.name),{name:$match$jscomp$6$$.name,encode:$encode$$});$urlIndex$$=$match$jscomp$6$$.stop+1;$match$jscomp$6$$=$matches$jscomp$5$$[++$matchIndex$$];"("===$url$jscomp$60$$[$urlIndex$$]?($urlIndex$$++,$numOfPendingCalls$$++,
$stack$jscomp$2$$.push($binding$$),$builder$$.trim().length&&$results$$.push($builder$$),$results$$.push($evaluateNextLevel$$(!1))):($builder$$.length&&$results$$.push($builder$$),$results$$.push($JSCompiler_StaticMethods_evaluateBinding_$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$,$binding$$)));$builder$$=""}else{if("`"===$url$jscomp$60$$[$urlIndex$$])$ignoringChars$$?$ignoringChars$$=!1:($nextArgShouldBeRaw$$=$ignoringChars$$=!0,$userAssert$$module$src$log$$(""===$builder$$.trim(),'The substring "'+
$builder$$+'" was lost during url-replacement. Please ensure the url syntax is correct'),$builder$$="");else if($numOfPendingCalls$$&&","===$url$jscomp$60$$[$urlIndex$$]&&!$ignoringChars$$){if($builder$$.length){var $nextArg$$=$nextArgShouldBeRaw$$?$builder$$:$builder$$.trim();$results$$.push($nextArg$$);$nextArgShouldBeRaw$$=!1}","===$url$jscomp$60$$[$urlIndex$$+1]&&($results$$.push(""),$urlIndex$$++);$builder$$=""}else{if($numOfPendingCalls$$&&")"===$url$jscomp$60$$[$urlIndex$$]&&!$ignoringChars$$){$urlIndex$$++;
$numOfPendingCalls$$--;var $binding$20$$=$stack$jscomp$2$$.pop();$results$$.push($nextArgShouldBeRaw$$?$builder$$:$builder$$.trim());$nextArgShouldBeRaw$$=!1;return $JSCompiler_StaticMethods_evaluateBinding_$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$,$binding$20$$,$results$$)}$builder$$+=$url$jscomp$60$$[$urlIndex$$]}$urlIndex$$++}$urlIndex$$===$url$jscomp$60$$.length&&$builder$$.length&&$results$$.push($builder$$)}return $JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$sync_$?
$results$$.join(""):Promise.all($results$$).then(function($JSCompiler_StaticMethods_parseUrlRecursively_$self$$){return $JSCompiler_StaticMethods_parseUrlRecursively_$self$$.join("")}).catch(function($JSCompiler_StaticMethods_parseUrlRecursively_$self$$){$rethrowAsync$$module$src$log$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$);return""})}var $stack$jscomp$2$$=[],$urlIndex$$=0,$matchIndex$$=0,$match$jscomp$6$$=$matches$jscomp$5$$[$matchIndex$$],$numOfPendingCalls$$=0,$ignoringChars$$=
!1,$nextArgShouldBeRaw$$=!1;return $evaluateNextLevel$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$encode_$)}
function $JSCompiler_StaticMethods_evaluateBinding_$$($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$,$bindingInfo$$,$opt_args$jscomp$1$$){var $$jscomp$destructuring$var36_name$jscomp$88$$=$bindingInfo$$,$encode$jscomp$1$$=$$jscomp$destructuring$var36_name$jscomp$88$$.encode;$$jscomp$destructuring$var36_name$jscomp$88$$=$$jscomp$destructuring$var36_name$jscomp$88$$.name;if($hasOwn_$$module$src$utils$object$$.call($bindingInfo$$,"prioritized"))var $binding$jscomp$1$$=$bindingInfo$$.prioritized;
else $JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$.$sync_$&&$hasOwn_$$module$src$utils$object$$.call($bindingInfo$$,"sync")?$binding$jscomp$1$$=$bindingInfo$$.sync:$JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$.$sync_$?($user$$module$src$log$$().error("Expander","ignoring async replacement key: ",$bindingInfo$$.name),$binding$jscomp$1$$=""):$binding$jscomp$1$$=$bindingInfo$$.async||$bindingInfo$$.sync;var $shouldEncode$$=$encode$jscomp$1$$&&!$NOENCODE_WHITELIST$$module$src$service$url_expander$expander$$[$$jscomp$destructuring$var36_name$jscomp$88$$];
return $JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$.$sync_$?($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$=$JSCompiler_StaticMethods_evaluateBindingSync_$$($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$,$binding$jscomp$1$$,$$jscomp$destructuring$var36_name$jscomp$88$$,$opt_args$jscomp$1$$),$shouldEncode$$?encodeURIComponent($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$):$JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$):
$JSCompiler_StaticMethods_evaluateBindingAsync_$$($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$,$binding$jscomp$1$$,$$jscomp$destructuring$var36_name$jscomp$88$$,$opt_args$jscomp$1$$).then(function($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$){return $shouldEncode$$?encodeURIComponent($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$):$JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$})}
function $JSCompiler_StaticMethods_evaluateBindingAsync_$$($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$,$binding$jscomp$2$$,$name$jscomp$89$$,$opt_args$jscomp$2$$){try{var $value$jscomp$110$$="function"===typeof $binding$jscomp$2$$?$opt_args$jscomp$2$$?Promise.all($opt_args$jscomp$2$$).then(function($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$){return $binding$jscomp$2$$.apply(null,$JSCompiler_StaticMethods_evaluateBindingAsync_$self$$)}):$tryResolve$$module$src$utils$promise$$($binding$jscomp$2$$):
Promise.resolve($binding$jscomp$2$$);return $value$jscomp$110$$.then(function($binding$jscomp$2$$){$JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$,$name$jscomp$89$$,$binding$jscomp$2$$,$opt_args$jscomp$2$$);return null==$binding$jscomp$2$$?"":$binding$jscomp$2$$}).catch(function($binding$jscomp$2$$){$rethrowAsync$$module$src$log$$($binding$jscomp$2$$);$JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$,
$name$jscomp$89$$,"",$opt_args$jscomp$2$$);return Promise.resolve("")})}catch($e$jscomp$30$$){return $rethrowAsync$$module$src$log$$($e$jscomp$30$$),$JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$,$name$jscomp$89$$,"",$opt_args$jscomp$2$$),Promise.resolve("")}}
function $JSCompiler_StaticMethods_evaluateBindingSync_$$($JSCompiler_StaticMethods_evaluateBindingSync_$self$$,$binding$jscomp$3$$,$name$jscomp$90$$,$opt_args$jscomp$3$$){try{var $value$jscomp$111$$="function"===typeof $binding$jscomp$3$$?$binding$jscomp$3$$.apply(null,$opt_args$jscomp$3$$):$binding$jscomp$3$$;if($value$jscomp$111$$&&$value$jscomp$111$$.then){$user$$module$src$log$$().error("Expander","ignoring async macro resolution");var $result$jscomp$9$$=""}else"string"===typeof $value$jscomp$111$$||
"number"===typeof $value$jscomp$111$$||"boolean"===typeof $value$jscomp$111$$?($JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingSync_$self$$,$name$jscomp$90$$,$value$jscomp$111$$,$opt_args$jscomp$3$$),$result$jscomp$9$$=$value$jscomp$111$$.toString()):($JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingSync_$self$$,$name$jscomp$90$$,"",$opt_args$jscomp$3$$),$result$jscomp$9$$="");return $result$jscomp$9$$}catch($e$jscomp$31$$){return $rethrowAsync$$module$src$log$$($e$jscomp$31$$),
$JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingSync_$self$$,$name$jscomp$90$$,"",$opt_args$jscomp$3$$),""}}
function $JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_maybeCollectVars_$self$$,$name$jscomp$91$$,$value$jscomp$112$$,$opt_args$jscomp$4$$){if($JSCompiler_StaticMethods_maybeCollectVars_$self$$.$collectVars_$){var $args$jscomp$1$$="";if($opt_args$jscomp$4$$){var $rawArgs$$=$opt_args$jscomp$4$$.filter(function($JSCompiler_StaticMethods_maybeCollectVars_$self$$){return""!==$JSCompiler_StaticMethods_maybeCollectVars_$self$$}).join(",");$args$jscomp$1$$="("+$rawArgs$$+")"}$JSCompiler_StaticMethods_maybeCollectVars_$self$$.$collectVars_$[""+
$name$jscomp$91$$+$args$jscomp$1$$]=$value$jscomp$112$$||""}};function $UrlReplacements$$module$src$service$url_replacements_impl$$($ampdoc$jscomp$18$$,$variableSource$jscomp$1$$){this.ampdoc=$ampdoc$jscomp$18$$;this.$variableSource_$=$variableSource$jscomp$1$$}$JSCompiler_prototypeAlias$$=$UrlReplacements$$module$src$service$url_replacements_impl$$.prototype;
$JSCompiler_prototypeAlias$$.expandStringSync=function($source$jscomp$13$$,$opt_bindings$jscomp$2$$,$opt_collectVars$jscomp$1$$,$opt_whiteList$jscomp$3$$){return(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$2$$,$opt_collectVars$jscomp$1$$,!0,$opt_whiteList$jscomp$3$$,!0)).expand($source$jscomp$13$$)};
$JSCompiler_prototypeAlias$$.expandStringAsync=function($source$jscomp$14$$,$opt_bindings$jscomp$3$$,$opt_whiteList$jscomp$4$$){return(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$3$$,void 0,void 0,$opt_whiteList$jscomp$4$$,!0)).expand($source$jscomp$14$$)};
$JSCompiler_prototypeAlias$$.expandUrlSync=function($url$jscomp$68$$,$opt_bindings$jscomp$4$$,$opt_collectVars$jscomp$2$$,$opt_whiteList$jscomp$5$$){return $JSCompiler_StaticMethods_ensureProtocolMatches_$$($url$jscomp$68$$,(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$4$$,$opt_collectVars$jscomp$2$$,!0,$opt_whiteList$jscomp$5$$)).expand($url$jscomp$68$$))};
$JSCompiler_prototypeAlias$$.expandUrlAsync=function($url$jscomp$69$$,$opt_bindings$jscomp$5$$,$opt_whiteList$jscomp$6$$){return(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$5$$,void 0,void 0,$opt_whiteList$jscomp$6$$)).expand($url$jscomp$69$$).then(function($opt_bindings$jscomp$5$$){return $JSCompiler_StaticMethods_ensureProtocolMatches_$$($url$jscomp$69$$,$opt_bindings$jscomp$5$$)})};
$JSCompiler_prototypeAlias$$.expandInputValueAsync=function($element$jscomp$98$$){return $JSCompiler_StaticMethods_expandInputValue_$$(this,$element$jscomp$98$$,!1)};$JSCompiler_prototypeAlias$$.expandInputValueSync=function($element$jscomp$99$$){return $JSCompiler_StaticMethods_expandInputValue_$$(this,$element$jscomp$99$$,!0)};
function $JSCompiler_StaticMethods_expandInputValue_$$($JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$,$element$jscomp$100$$,$opt_sync$jscomp$1$$){"INPUT"==$element$jscomp$100$$.tagName&&$element$jscomp$100$$.getAttribute("type");var $whitelist$jscomp$2$$=$JSCompiler_StaticMethods_getWhitelistForElement_$$($element$jscomp$100$$);if(!$whitelist$jscomp$2$$)return $opt_sync$jscomp$1$$?$element$jscomp$100$$.value:Promise.resolve($element$jscomp$100$$.value);void 0===$element$jscomp$100$$["amp-original-value"]&&
($element$jscomp$100$$["amp-original-value"]=$element$jscomp$100$$.value);$JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$=(new $Expander$$module$src$service$url_expander$expander$$($JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$.$variableSource_$,void 0,void 0,$opt_sync$jscomp$1$$,$whitelist$jscomp$2$$)).expand($element$jscomp$100$$["amp-original-value"]||$element$jscomp$100$$.value);return $opt_sync$jscomp$1$$?$element$jscomp$100$$.value=$JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$:
$JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$.then(function($JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$){return $element$jscomp$100$$.value=$JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$})}
function $JSCompiler_StaticMethods_getWhitelistForElement_$$($element$jscomp$101_whitelist$jscomp$3$$,$opt_supportedReplacement$$){if($element$jscomp$101_whitelist$jscomp$3$$=$element$jscomp$101_whitelist$jscomp$3$$.getAttribute("data-amp-replace")){var $requestedReplacements$$={};$element$jscomp$101_whitelist$jscomp$3$$.trim().split(/\s+/).forEach(function($element$jscomp$101_whitelist$jscomp$3$$){!$opt_supportedReplacement$$||$hasOwn_$$module$src$utils$object$$.call($opt_supportedReplacement$$,
$element$jscomp$101_whitelist$jscomp$3$$)?$requestedReplacements$$[$element$jscomp$101_whitelist$jscomp$3$$]=!0:$user$$module$src$log$$().warn("URL","Ignoring unsupported replacement",$element$jscomp$101_whitelist$jscomp$3$$)});return $requestedReplacements$$}}
$JSCompiler_prototypeAlias$$.maybeExpandLink=function($element$jscomp$102$$,$defaultUrlParams$$){var $supportedReplacements$$={CLIENT_ID:!0,QUERY_PARAM:!0,PAGE_VIEW_ID:!0,NAV_TIMING:!0},$additionalUrlParameters$$=$element$jscomp$102$$.getAttribute("data-amp-addparams")||"",$whitelist$jscomp$5$$=$JSCompiler_StaticMethods_getWhitelistForElement_$$($element$jscomp$102$$,$supportedReplacements$$);if($whitelist$jscomp$5$$||$additionalUrlParameters$$||$defaultUrlParams$$){var $href$jscomp$1$$=$element$jscomp$102$$["amp-original-href"]||
$element$jscomp$102$$.getAttribute("href"),$JSCompiler_inline_result$jscomp$113_JSCompiler_params$jscomp$inline_270_url$jscomp$71$$=$parseUrlDeprecated$$module$src$url$$($href$jscomp$1$$);null==$element$jscomp$102$$["amp-original-href"]&&($element$jscomp$102$$["amp-original-href"]=$href$jscomp$1$$);if($additionalUrlParameters$$){var $JSCompiler_docInfo$jscomp$inline_264_JSCompiler_meta$jscomp$inline_265_JSCompiler_params$jscomp$inline_260_JSCompiler_whitelist$jscomp$inline_266$$=$parseQueryString_$$module$src$url_parse_query_string$$($additionalUrlParameters$$);
$href$jscomp$1$$=$appendEncodedParamStringToUrl$$module$src$url$$($href$jscomp$1$$,$serializeQueryString$$module$src$url$$($JSCompiler_docInfo$jscomp$inline_264_JSCompiler_meta$jscomp$inline_265_JSCompiler_params$jscomp$inline_260_JSCompiler_whitelist$jscomp$inline_266$$))}a:if($JSCompiler_docInfo$jscomp$inline_264_JSCompiler_meta$jscomp$inline_265_JSCompiler_params$jscomp$inline_260_JSCompiler_whitelist$jscomp$inline_266$$=$Services$$module$src$services$documentInfoForDoc$$(this.ampdoc),$JSCompiler_inline_result$jscomp$113_JSCompiler_params$jscomp$inline_270_url$jscomp$71$$.origin==
$parseUrlDeprecated$$module$src$url$$($JSCompiler_docInfo$jscomp$inline_264_JSCompiler_meta$jscomp$inline_265_JSCompiler_params$jscomp$inline_260_JSCompiler_whitelist$jscomp$inline_266$$.canonicalUrl).origin||$JSCompiler_inline_result$jscomp$113_JSCompiler_params$jscomp$inline_270_url$jscomp$71$$.origin==$parseUrlDeprecated$$module$src$url$$($JSCompiler_docInfo$jscomp$inline_264_JSCompiler_meta$jscomp$inline_265_JSCompiler_params$jscomp$inline_260_JSCompiler_whitelist$jscomp$inline_266$$.sourceUrl).origin)$JSCompiler_inline_result$jscomp$113_JSCompiler_params$jscomp$inline_270_url$jscomp$71$$=
!0;else{if(($JSCompiler_docInfo$jscomp$inline_264_JSCompiler_meta$jscomp$inline_265_JSCompiler_params$jscomp$inline_260_JSCompiler_whitelist$jscomp$inline_266$$=this.ampdoc.getRootNode().querySelector("meta[name=amp-link-variable-allowed-origin]"))&&$JSCompiler_docInfo$jscomp$inline_264_JSCompiler_meta$jscomp$inline_265_JSCompiler_params$jscomp$inline_260_JSCompiler_whitelist$jscomp$inline_266$$.hasAttribute("content")){$JSCompiler_docInfo$jscomp$inline_264_JSCompiler_meta$jscomp$inline_265_JSCompiler_params$jscomp$inline_260_JSCompiler_whitelist$jscomp$inline_266$$=
$JSCompiler_docInfo$jscomp$inline_264_JSCompiler_meta$jscomp$inline_265_JSCompiler_params$jscomp$inline_260_JSCompiler_whitelist$jscomp$inline_266$$.getAttribute("content").trim().split(/\s+/);for(var $JSCompiler_i$jscomp$inline_267$$=0;$JSCompiler_i$jscomp$inline_267$$<$JSCompiler_docInfo$jscomp$inline_264_JSCompiler_meta$jscomp$inline_265_JSCompiler_params$jscomp$inline_260_JSCompiler_whitelist$jscomp$inline_266$$.length;$JSCompiler_i$jscomp$inline_267$$++)if($JSCompiler_inline_result$jscomp$113_JSCompiler_params$jscomp$inline_270_url$jscomp$71$$.origin==
$parseUrlDeprecated$$module$src$url$$($JSCompiler_docInfo$jscomp$inline_264_JSCompiler_meta$jscomp$inline_265_JSCompiler_params$jscomp$inline_260_JSCompiler_whitelist$jscomp$inline_266$$[$JSCompiler_i$jscomp$inline_267$$]).origin){$JSCompiler_inline_result$jscomp$113_JSCompiler_params$jscomp$inline_270_url$jscomp$71$$=!0;break a}}$JSCompiler_inline_result$jscomp$113_JSCompiler_params$jscomp$inline_270_url$jscomp$71$$=!1}var $isAllowedOrigin$$=$JSCompiler_inline_result$jscomp$113_JSCompiler_params$jscomp$inline_270_url$jscomp$71$$;
if(!$isAllowedOrigin$$)return $whitelist$jscomp$5$$&&$user$$module$src$log$$().warn("URL","Ignoring link replacement",$href$jscomp$1$$," because the link does not go to the document's source, canonical, or whitelisted origin."),$element$jscomp$102$$.href=$href$jscomp$1$$;if($defaultUrlParams$$){if(!$whitelist$jscomp$5$$||!$whitelist$jscomp$5$$.QUERY_PARAM){var $overrideWhitelist$$={QUERY_PARAM:!0};$defaultUrlParams$$=this.expandUrlSync($defaultUrlParams$$,void 0,void 0,$overrideWhitelist$$)}$JSCompiler_inline_result$jscomp$113_JSCompiler_params$jscomp$inline_270_url$jscomp$71$$=
$parseQueryString_$$module$src$url_parse_query_string$$($defaultUrlParams$$);$href$jscomp$1$$=$appendEncodedParamStringToUrl$$module$src$url$$($href$jscomp$1$$,$serializeQueryString$$module$src$url$$($JSCompiler_inline_result$jscomp$113_JSCompiler_params$jscomp$inline_270_url$jscomp$71$$))}$whitelist$jscomp$5$$&&($href$jscomp$1$$=this.expandUrlSync($href$jscomp$1$$,void 0,void 0,$whitelist$jscomp$5$$));return $element$jscomp$102$$.href=$href$jscomp$1$$}};
$JSCompiler_prototypeAlias$$.collectVars=function($url$jscomp$72$$,$opt_bindings$jscomp$6$$){var $vars$jscomp$2$$=Object.create(null);return(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$6$$,$vars$jscomp$2$$)).expand($url$jscomp$72$$).then(function(){return $vars$jscomp$2$$})};
$JSCompiler_prototypeAlias$$.collectUnwhitelistedVarsSync=function($element$jscomp$103$$){var $url$jscomp$73$$=$element$jscomp$103$$.getAttribute("src"),$macroNames$$=(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$)).getMacroNames($url$jscomp$73$$),$whitelist$jscomp$6$$=$JSCompiler_StaticMethods_getWhitelistForElement_$$($element$jscomp$103$$);return $whitelist$jscomp$6$$?$macroNames$$.filter(function($element$jscomp$103$$){return!$whitelist$jscomp$6$$[$element$jscomp$103$$]}):
$macroNames$$};
function $JSCompiler_StaticMethods_ensureProtocolMatches_$$($JSCompiler_inline_result$jscomp$67_JSCompiler_url$jscomp$inline_272_url$jscomp$74$$,$replacement$jscomp$3$$){var $newProtocol$$=$parseUrlDeprecated$$module$src$url$$($replacement$jscomp$3$$,!0).protocol,$oldProtocol$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_inline_result$jscomp$67_JSCompiler_url$jscomp$inline_272_url$jscomp$74$$,!0).protocol;if($newProtocol$$!=$oldProtocol$$)return $user$$module$src$log$$().error("UrlReplacements","Illegal replacement of the protocol: ",
$JSCompiler_inline_result$jscomp$67_JSCompiler_url$jscomp$inline_272_url$jscomp$74$$),$JSCompiler_inline_result$jscomp$67_JSCompiler_url$jscomp$inline_272_url$jscomp$74$$;($JSCompiler_inline_result$jscomp$67_JSCompiler_url$jscomp$inline_272_url$jscomp$74$$=$replacement$jscomp$3$$)?("string"==typeof $JSCompiler_inline_result$jscomp$67_JSCompiler_url$jscomp$inline_272_url$jscomp$74$$&&($JSCompiler_inline_result$jscomp$67_JSCompiler_url$jscomp$inline_272_url$jscomp$74$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_inline_result$jscomp$67_JSCompiler_url$jscomp$inline_272_url$jscomp$74$$)),
$JSCompiler_inline_result$jscomp$67_JSCompiler_url$jscomp$inline_272_url$jscomp$74$$=!$INVALID_PROTOCOLS$$module$src$url$$.includes($JSCompiler_inline_result$jscomp$67_JSCompiler_url$jscomp$inline_272_url$jscomp$74$$.protocol)):$JSCompiler_inline_result$jscomp$67_JSCompiler_url$jscomp$inline_272_url$jscomp$74$$=!0;$userAssert$$module$src$log$$($JSCompiler_inline_result$jscomp$67_JSCompiler_url$jscomp$inline_272_url$jscomp$74$$,"The replacement url has invalid protocol: %s",$replacement$jscomp$3$$);
return $replacement$jscomp$3$$}$JSCompiler_prototypeAlias$$.getVariableSource=function(){return this.$variableSource_$};var $CONTAINERS$$module$src$ad_helper$$={"AMP-FX-FLYING-CARPET":!0,"AMP-LIGHTBOX":!0,"AMP-STICKY-AD":!0,"AMP-LIGHTBOX-GALLERY":!0};function $ExperimentUtils$$module$ads$google$a4a$experiment_utils$$(){}
$ExperimentUtils$$module$ads$google$a4a$experiment_utils$$.prototype.maybeSelectExperiment=function($win$jscomp$131$$,$element$jscomp$107$$,$selectionBranches$$,$experimentName$jscomp$3$$){var $experimentInfoMap$$={};$experimentInfoMap$$[$experimentName$jscomp$3$$]={isTrafficEligible:function(){return!0},branches:$selectionBranches$$};$randomlySelectUnsetExperiments$$module$src$experiments$$($win$jscomp$131$$,$experimentInfoMap$$);return $win$jscomp$131$$.experimentBranches?$win$jscomp$131$$.experimentBranches[$experimentName$jscomp$3$$]:
null};new $ExperimentUtils$$module$ads$google$a4a$experiment_utils$$;var $signingServerURLs$$module$ads$_a4a_config$$={google:"https://cdn.ampproject.org/amp-ad-verifying-keyset.json","google-dev":"https://cdn.ampproject.org/amp-ad-verifying-keyset-dev.json",cloudflare:"https://amp.cloudflare.com/amp-ad-verifying-keyset.json","cloudflare-dev":"https://amp.cloudflare.com/amp-ad-verifying-keyset-dev.json"};var $METADATA_STRINGS$$module$extensions$amp_a4a$0_1$amp_a4a$$=["<script amp-ad-metadata type=application/json>",'<script type="application/json" amp-ad-metadata>',"<script type=application/json amp-ad-metadata>"],$XORIGIN_MODE$$module$extensions$amp_a4a$0_1$amp_a4a$$={CLIENT_CACHE:"client_cache",SAFEFRAME:"safeframe",NAMEFRAME:"nameframe",IFRAME_GET:"iframe_get"},$SHARED_IFRAME_PROPERTIES$$module$extensions$amp_a4a$0_1$amp_a4a$$=$dict$$module$src$utils$object$$({frameborder:"0",allowfullscreen:"",
allowtransparency:"",scrolling:"no",marginwidth:"0",marginheight:"0"}),$LIFECYCLE_STAGE_TO_ANALYTICS_TRIGGER$$module$extensions$amp_a4a$0_1$amp_a4a$$={adRequestStart:"ad-request-start",adRequestEnd:"ad-response-end",renderFriendlyStart:"ad-render-start",renderCrossDomainStart:"ad-render-start",renderSafeFrameStart:"ad-render-start",renderFriendlyEnd:"ad-render-end",renderCrossDomainEnd:"ad-render-end",friendlyIframeIniLoad:"ad-iframe-loaded",crossDomainIframeLoaded:"ad-iframe-loaded"};
function $protectFunctionWrapper$$module$extensions$amp_a4a$0_1$amp_a4a$$($fn$jscomp$3$$,$inThis$$,$onError$$){return function($fnArgs$$){for(var $$jscomp$restParams$$=[],$$jscomp$restIndex$$=0;$$jscomp$restIndex$$<arguments.length;++$$jscomp$restIndex$$)$$jscomp$restParams$$[$$jscomp$restIndex$$-0]=arguments[$$jscomp$restIndex$$];try{return $fn$jscomp$3$$.apply($inThis$$,$$jscomp$restParams$$)}catch($err$jscomp$11$$){if($onError$$)try{return $$jscomp$restParams$$.unshift($err$jscomp$11$$),$onError$$.apply($inThis$$,
$$jscomp$restParams$$)}catch($captureErr$$){}}}}
function $AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$($$jscomp$super$this_element$jscomp$113$$){$$jscomp$super$this_element$jscomp$113$$=AMP.BaseElement.call(this,$$jscomp$super$this_element$jscomp$113$$)||this;$$jscomp$super$this_element$jscomp$113$$.$keysetPromise_$=null;$$jscomp$super$this_element$jscomp$113$$.$adPromise_$=null;$$jscomp$super$this_element$jscomp$113$$.$promiseId_$=0;$$jscomp$super$this_element$jscomp$113$$.$adUrl_$=null;$$jscomp$super$this_element$jscomp$113$$.$friendlyIframeEmbed_$=null;
$$jscomp$super$this_element$jscomp$113$$.uiHandler=null;$$jscomp$super$this_element$jscomp$113$$.$xOriginIframeHandler_$=null;$$jscomp$super$this_element$jscomp$113$$.$isVerifiedAmpCreative_$=!1;$$jscomp$super$this_element$jscomp$113$$.$creativeBody_$=null;$$jscomp$super$this_element$jscomp$113$$.$creativeSize_$=null;$$jscomp$super$this_element$jscomp$113$$.$originalSlotSize_$=null;$$jscomp$super$this_element$jscomp$113$$.$experimentalNonAmpCreativeRenderMethod_$=$$jscomp$super$this_element$jscomp$113$$.getNonAmpCreativeRenderingMethod();
$$jscomp$super$this_element$jscomp$113$$.$getNow_$=$$jscomp$super$this_element$jscomp$113$$.win.performance&&$$jscomp$super$this_element$jscomp$113$$.win.performance.now?$$jscomp$super$this_element$jscomp$113$$.win.performance.now.bind($$jscomp$super$this_element$jscomp$113$$.win.performance):Date.now;var $JSCompiler_inline_result$jscomp$109_JSCompiler_parentWindow$jscomp$inline_274$$=window;for(var $JSCompiler_windowDepth$jscomp$inline_275$$=0,$JSCompiler_win$jscomp$inline_276$$=$JSCompiler_inline_result$jscomp$109_JSCompiler_parentWindow$jscomp$inline_274$$;$JSCompiler_win$jscomp$inline_276$$&&
$JSCompiler_win$jscomp$inline_276$$!=$JSCompiler_win$jscomp$inline_276$$.parent;$JSCompiler_win$jscomp$inline_276$$=$JSCompiler_win$jscomp$inline_276$$.parent)$JSCompiler_windowDepth$jscomp$inline_275$$++;$JSCompiler_inline_result$jscomp$109_JSCompiler_parentWindow$jscomp$inline_274$$=String($JSCompiler_windowDepth$jscomp$inline_275$$)+"-"+$getRandom$$module$src$3p_frame$$($JSCompiler_inline_result$jscomp$109_JSCompiler_parentWindow$jscomp$inline_274$$);$$jscomp$super$this_element$jscomp$113$$.sentinel=
$JSCompiler_inline_result$jscomp$109_JSCompiler_parentWindow$jscomp$inline_274$$;$$jscomp$super$this_element$jscomp$113$$.$isCollapsed_$=!1;$$jscomp$super$this_element$jscomp$113$$.iframe=null;$$jscomp$super$this_element$jscomp$113$$.fromResumeCallback=!1;$$jscomp$super$this_element$jscomp$113$$.safeframeVersion="1-0-23";$$jscomp$super$this_element$jscomp$113$$.isRefreshing=!1;$$jscomp$super$this_element$jscomp$113$$.isRelayoutNeededFlag=!1;$$jscomp$super$this_element$jscomp$113$$.postAdResponseExperimentFeatures=
{};$$jscomp$super$this_element$jscomp$113$$.$a4aAnalyticsConfig_$=null;$$jscomp$super$this_element$jscomp$113$$.$a4aAnalyticsElement_$=null;$$jscomp$super$this_element$jscomp$113$$.isSinglePageStoryAd=!1;return $$jscomp$super$this_element$jscomp$113$$}$$jscomp$inherits$$($AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$,AMP.BaseElement);$JSCompiler_prototypeAlias$$=$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype;
$JSCompiler_prototypeAlias$$.getLayoutPriority=function(){var $isPWA$$=!this.element.getAmpDoc().isSingleDoc();return $isPWA$$?1:2};$JSCompiler_prototypeAlias$$.isLayoutSupported=function($layout$jscomp$4$$){return $isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$4$$)};$JSCompiler_prototypeAlias$$.isRelayoutNeeded=function(){return this.isRelayoutNeededFlag};
$JSCompiler_prototypeAlias$$.buildCallback=function(){var $$jscomp$this$jscomp$25$$=this;this.$creativeSize_$={width:this.element.getAttribute("width"),height:this.element.getAttribute("height")};var $upgradeDelayMs$$=Math.round(this.getResource().getUpgradeDelayMs());$dev$$module$src$log$$().info("amp-a4a","upgradeDelay "+this.element.getAttribute("type")+": "+$upgradeDelayMs$$);this.uiHandler=new AMP.AmpAdUIHandler(this);var $verifier$$=$signatureVerifierFor$$module$extensions$amp_a4a$0_1$amp_a4a$$(this.win);
this.$keysetPromise_$=$Services$$module$src$services$viewerForDoc$$(this.getAmpDoc()).whenFirstVisible().then(function(){$$jscomp$this$jscomp$25$$.getSigningServiceNames().forEach(function($$jscomp$this$jscomp$25$$){$verifier$$.loadKeyset($$jscomp$this$jscomp$25$$)})});if(this.$a4aAnalyticsConfig_$=this.getA4aAnalyticsConfig())this.$a4aAnalyticsElement_$=$insertAnalyticsElement$$module$src$extension_analytics$$(this.element,this.$a4aAnalyticsConfig_$);this.isSinglePageStoryAd=this.element.hasAttribute("amp-story")};
$JSCompiler_prototypeAlias$$.renderOutsideViewport=function(){if(!this.$isVerifiedAmpCreative_$&&this.win["3pla"]&&!this.inNonAmpPreferenceExp())return!1;var $JSCompiler_rawValue$jscomp$inline_279_JSCompiler_viewportNumber$jscomp$inline_281$$=this.element.getAttribute("data-loading-strategy");if(null==$JSCompiler_rawValue$jscomp$inline_279_JSCompiler_viewportNumber$jscomp$inline_281$$)var $JSCompiler_errorMessage$jscomp$inline_280_JSCompiler_inline_result$jscomp$110$$=null;else"prefer-viewability-over-views"==
$JSCompiler_rawValue$jscomp$inline_279_JSCompiler_viewportNumber$jscomp$inline_281$$||""==$JSCompiler_rawValue$jscomp$inline_279_JSCompiler_viewportNumber$jscomp$inline_281$$?$JSCompiler_errorMessage$jscomp$inline_280_JSCompiler_inline_result$jscomp$110$$=1.25:($JSCompiler_errorMessage$jscomp$inline_280_JSCompiler_inline_result$jscomp$110$$="Value of data-loading-strategy should be a float number in range of [0, 3], but got "+$JSCompiler_rawValue$jscomp$inline_279_JSCompiler_viewportNumber$jscomp$inline_281$$,
$JSCompiler_rawValue$jscomp$inline_279_JSCompiler_viewportNumber$jscomp$inline_281$$=$user$$module$src$log$$().assertNumber(parseFloat($JSCompiler_rawValue$jscomp$inline_279_JSCompiler_viewportNumber$jscomp$inline_281$$),$JSCompiler_errorMessage$jscomp$inline_280_JSCompiler_inline_result$jscomp$110$$),$userAssert$$module$src$log$$(0<=$JSCompiler_rawValue$jscomp$inline_279_JSCompiler_viewportNumber$jscomp$inline_281$$&&3>=$JSCompiler_rawValue$jscomp$inline_279_JSCompiler_viewportNumber$jscomp$inline_281$$,
$JSCompiler_errorMessage$jscomp$inline_280_JSCompiler_inline_result$jscomp$110$$),$JSCompiler_errorMessage$jscomp$inline_280_JSCompiler_inline_result$jscomp$110$$=$JSCompiler_rawValue$jscomp$inline_279_JSCompiler_viewportNumber$jscomp$inline_281$$);var $elementCheck$$=$JSCompiler_errorMessage$jscomp$inline_280_JSCompiler_inline_result$jscomp$110$$;return null!==$elementCheck$$?$elementCheck$$:AMP.BaseElement.prototype.renderOutsideViewport.call(this)};$JSCompiler_prototypeAlias$$.isValidElement=function(){return!0};
$JSCompiler_prototypeAlias$$.getCreativeSize=function(){return this.$creativeSize_$};$JSCompiler_prototypeAlias$$.delayAdRequestEnabled=function(){return!1};$JSCompiler_prototypeAlias$$.getPreconnectUrls=function(){return[]};$JSCompiler_prototypeAlias$$.getPrefetchUrls=function(){return[]};$JSCompiler_prototypeAlias$$.isAmpAdElement=function(){return"AMP-AD"==this.element.tagName||"AMP-EMBED"==this.element.tagName};
$JSCompiler_prototypeAlias$$.preconnectCallback=function(){var $$jscomp$this$jscomp$26$$=this,$preconnect$jscomp$1$$=this.getPreconnectUrls();$preconnect$jscomp$1$$&&$preconnect$jscomp$1$$.forEach(function($preconnect$jscomp$1$$){$$jscomp$this$jscomp$26$$.preconnect.url($preconnect$jscomp$1$$,!0)})};
$JSCompiler_prototypeAlias$$.resumeCallback=function(){if(!this.$friendlyIframeEmbed_$){this.fromResumeCallback=!0;var $resource$jscomp$1$$=this.getResource();if($resource$jscomp$1$$.hasBeenMeasured()&&!$resource$jscomp$1$$.isMeasureRequested())this.onLayoutMeasure()}};$JSCompiler_prototypeAlias$$.getResource=function(){return this.element.getResources().getResourceForElement(this.element)};$JSCompiler_prototypeAlias$$.hasAdPromise=function(){return!!this.$adPromise_$};
$JSCompiler_prototypeAlias$$.inNonAmpPreferenceExp=function(){return!!this.postAdResponseExperimentFeatures.pref_neutral_enabled&&["adsense","doubleclick"].includes(this.element.getAttribute("type"))};
function $JSCompiler_StaticMethods_shouldInitializePromiseChain_$$($JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$){var $JSCompiler_win$jscomp$inline_284_slotRect$jscomp$1$$=$JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$.getIntersectionElementLayoutBox();if("fluid"!=$JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$.getLayout()&&(0==$JSCompiler_win$jscomp$inline_284_slotRect$jscomp$1$$.height||0==$JSCompiler_win$jscomp$inline_284_slotRect$jscomp$1$$.width))return!1;
$JSCompiler_win$jscomp$inline_284_slotRect$jscomp$1$$=$JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$.win;var $JSCompiler_hasFixedAncestor$jscomp$inline_285$$=!1,$JSCompiler_containers$jscomp$inline_286$$=0,$JSCompiler_el$jscomp$inline_287$$=$JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$.element;do{if($CONTAINERS$$module$src$ad_helper$$[$JSCompiler_el$jscomp$inline_287$$.tagName])$JSCompiler_containers$jscomp$inline_286$$++,$JSCompiler_hasFixedAncestor$jscomp$inline_285$$=
!1;else{var $JSCompiler_position$jscomp$inline_400$$=($JSCompiler_win$jscomp$inline_284_slotRect$jscomp$1$$.getComputedStyle($JSCompiler_el$jscomp$inline_287$$)||$map$$module$src$utils$object$$()).position;"fixed"!=$JSCompiler_position$jscomp$inline_400$$&&"sticky"!=$JSCompiler_position$jscomp$inline_400$$||($JSCompiler_hasFixedAncestor$jscomp$inline_285$$=!0)}$JSCompiler_el$jscomp$inline_287$$=$JSCompiler_el$jscomp$inline_287$$.parentElement}while($JSCompiler_el$jscomp$inline_287$$&&"BODY"!=$JSCompiler_el$jscomp$inline_287$$.tagName);
return!$JSCompiler_hasFixedAncestor$jscomp$inline_285$$&&1>=$JSCompiler_containers$jscomp$inline_286$$?$JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$.isValidElement()?!0:($user$$module$src$log$$().warn("amp-a4a",$JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$.element.getAttribute("type"),"Amp ad element ignored as invalid",$JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$.element),!1):($user$$module$src$log$$().warn("amp-a4a","<"+$JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$.element.tagName+
"> is not allowed to be "+("placed in elements with position:fixed: "+$JSCompiler_StaticMethods_shouldInitializePromiseChain_$self$$.element)),!1)}$JSCompiler_prototypeAlias$$.onLayoutMeasure=function(){this.initiateAdRequest()};
$JSCompiler_prototypeAlias$$.initiateAdRequest=function(){var $$jscomp$this$jscomp$27$$=this;if(this.$xOriginIframeHandler_$)this.$xOriginIframeHandler_$.onLayoutMeasure();if(!this.$adPromise_$&&$JSCompiler_StaticMethods_shouldInitializePromiseChain_$$(this)){++this.$promiseId_$;var $checkStillCurrent$jscomp$2$$=this.verifyStillCurrent();this.$adPromise_$=$Services$$module$src$services$viewerForDoc$$(this.getAmpDoc()).whenFirstVisible().then(function(){$checkStillCurrent$jscomp$2$$();var $delay$$=
$$jscomp$this$jscomp$27$$.delayAdRequestEnabled();if($delay$$)return $$jscomp$this$jscomp$27$$.getResource().whenWithinViewport("number"==typeof $delay$$?$delay$$:$$jscomp$this$jscomp$27$$.renderOutsideViewport())}).then(function(){$checkStillCurrent$jscomp$2$$();var $consentPolicyId$jscomp$1$$=AMP.BaseElement.prototype.getConsentPolicy.call($$jscomp$this$jscomp$27$$);return $consentPolicyId$jscomp$1$$?$getConsentPolicyState$$module$src$consent$$($$jscomp$this$jscomp$27$$.element,$consentPolicyId$jscomp$1$$).catch(function($$jscomp$this$jscomp$27$$){$user$$module$src$log$$().error("amp-a4a",
"Error determining consent state",$$jscomp$this$jscomp$27$$);return 4}):Promise.resolve(null)}).then(function($consentState$jscomp$2$$){$checkStillCurrent$jscomp$2$$();return $$jscomp$this$jscomp$27$$.getAdUrl($consentState$jscomp$2$$,$JSCompiler_StaticMethods_tryExecuteRealTimeConfig_$$($$jscomp$this$jscomp$27$$,$consentState$jscomp$2$$))}).then(function($adUrl$jscomp$1$$){$checkStillCurrent$jscomp$2$$();$$jscomp$this$jscomp$27$$.$adUrl_$=$adUrl$jscomp$1$$;return!$$jscomp$this$jscomp$27$$.isXhrAllowed()&&
$$jscomp$this$jscomp$27$$.$adUrl_$?($$jscomp$this$jscomp$27$$.$experimentalNonAmpCreativeRenderMethod_$="iframe_get",Promise.reject("IFRAME-GET")):$adUrl$jscomp$1$$&&$$jscomp$this$jscomp$27$$.sendXhrRequest($adUrl$jscomp$1$$)}).then(function($fetchResponse$$){$checkStillCurrent$jscomp$2$$();$JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$$($$jscomp$this$jscomp$27$$,"adRequestEnd");if(!$fetchResponse$$||!$fetchResponse$$.arrayBuffer||$fetchResponse$$.headers.has("amp-ff-empty-creative"))return $$jscomp$this$jscomp$27$$.forceCollapse(),
Promise.reject("NO-CONTENT-RESPONSE");$fetchResponse$$.headers&&$fetchResponse$$.headers.has("amp-ff-exps")&&$JSCompiler_StaticMethods_populatePostAdResponseExperimentFeatures_$$($$jscomp$this$jscomp$27$$,$fetchResponse$$.headers.get("amp-ff-exps"));if($getMode$$module$src$mode$$().localDev&&$$jscomp$this$jscomp$27$$.win.location&&$$jscomp$this$jscomp$27$$.win.location.search){var $match$jscomp$7_method$jscomp$2$$=/(?:\?|&)a4a_feat_exp=([^&]+)/.exec($$jscomp$this$jscomp$27$$.win.location.search);
$match$jscomp$7_method$jscomp$2$$&&$match$jscomp$7_method$jscomp$2$$[1]&&($dev$$module$src$log$$().info("amp-a4a","Using debug exp features: "+$match$jscomp$7_method$jscomp$2$$[1]),$JSCompiler_StaticMethods_populatePostAdResponseExperimentFeatures_$$($$jscomp$this$jscomp$27$$,$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$jscomp$7_method$jscomp$2$$[1],void 0)))}$match$jscomp$7_method$jscomp$2$$=$$jscomp$this$jscomp$27$$.getNonAmpCreativeRenderingMethod($fetchResponse$$.headers.get("X-AmpAdRender"));
$$jscomp$this$jscomp$27$$.$experimentalNonAmpCreativeRenderMethod_$=$match$jscomp$7_method$jscomp$2$$;"nameframe"==$$jscomp$this$jscomp$27$$.$experimentalNonAmpCreativeRenderMethod_$&&$$jscomp$this$jscomp$27$$.preconnect.preload($getDefaultBootstrapBaseUrl$$module$src$3p_frame$$($$jscomp$this$jscomp$27$$.win));var $safeframeVersionHeader$$=$fetchResponse$$.headers.get("X-AmpSafeFrameVersion");/^[0-9-]+$/.test($safeframeVersionHeader$$)&&"1-0-23"!=$safeframeVersionHeader$$&&($$jscomp$this$jscomp$27$$.safeframeVersion=
$safeframeVersionHeader$$,$$jscomp$this$jscomp$27$$.preconnect.preload($$jscomp$this$jscomp$27$$.getSafeframePath()));return $fetchResponse$$.arrayBuffer().then(function($checkStillCurrent$jscomp$2$$){return 0==$checkStillCurrent$jscomp$2$$.byteLength?($$jscomp$this$jscomp$27$$.forceCollapse(),Promise.reject("NO-CONTENT-RESPONSE")):{bytes:$checkStillCurrent$jscomp$2$$,headers:$fetchResponse$$.headers}})}).then(function($responseParts$$){$checkStillCurrent$jscomp$2$$();if(!$responseParts$$)return Promise.resolve();
var $$jscomp$destructuring$var44_headers$jscomp$2$$=$responseParts$$,$bytes$jscomp$9$$=$$jscomp$destructuring$var44_headers$jscomp$2$$.bytes;$$jscomp$destructuring$var44_headers$jscomp$2$$=$$jscomp$destructuring$var44_headers$jscomp$2$$.headers;var $size$jscomp$15$$=$$jscomp$this$jscomp$27$$.extractSize($responseParts$$.headers);$$jscomp$this$jscomp$27$$.$creativeSize_$=$size$jscomp$15$$||$$jscomp$this$jscomp$27$$.$creativeSize_$;"client_cache"!=$$jscomp$this$jscomp$27$$.$experimentalNonAmpCreativeRenderMethod_$&&
$bytes$jscomp$9$$&&($$jscomp$this$jscomp$27$$.$creativeBody_$=$bytes$jscomp$9$$);return $$jscomp$this$jscomp$27$$.maybeValidateAmpCreative($bytes$jscomp$9$$,$$jscomp$destructuring$var44_headers$jscomp$2$$)}).then(function($creative$jscomp$2$$){$checkStillCurrent$jscomp$2$$();$$jscomp$this$jscomp$27$$.$isVerifiedAmpCreative_$=!!$creative$jscomp$2$$;return $creative$jscomp$2$$&&$utf8Decode$$module$src$utils$bytes$$($creative$jscomp$2$$)}).then(function($creativeDecoded$$){$checkStillCurrent$jscomp$2$$();
var $creativeMetaDataDef$$;if(!$creativeDecoded$$||!($creativeMetaDataDef$$=$$jscomp$this$jscomp$27$$.getAmpAdMetadata($creativeDecoded$$)))return $$jscomp$this$jscomp$27$$.inNonAmpPreferenceExp()&&$$jscomp$this$jscomp$27$$.updateLayoutPriority(0),null;$$jscomp$this$jscomp$27$$.updateLayoutPriority(0);var $extensions$jscomp$3$$=$Services$$module$src$services$extensionsFor$$($$jscomp$this$jscomp$27$$.win);$creativeMetaDataDef$$.customElementExtensions.forEach(function($$jscomp$this$jscomp$27$$){return $extensions$jscomp$3$$.preloadExtension($$jscomp$this$jscomp$27$$)});
($creativeMetaDataDef$$.customStylesheets||[]).forEach(function($checkStillCurrent$jscomp$2$$){return $$jscomp$this$jscomp$27$$.preconnect.preload($checkStillCurrent$jscomp$2$$.href)});var $urls$jscomp$1$$=$getExistingServiceForDocInEmbedScope$$module$src$service$$($$jscomp$this$jscomp$27$$.element,"url");($creativeMetaDataDef$$.images||[]).forEach(function($checkStillCurrent$jscomp$2$$){return $urls$jscomp$1$$.isSecure($checkStillCurrent$jscomp$2$$)&&$$jscomp$this$jscomp$27$$.preconnect.preload($checkStillCurrent$jscomp$2$$)});
return $creativeMetaDataDef$$}).catch(function($checkStillCurrent$jscomp$2$$){switch($checkStillCurrent$jscomp$2$$.message||$checkStillCurrent$jscomp$2$$){case "IFRAME-GET":case "NETWORK-FAILURE":return null;case "INVALID-SPSA-RESPONSE":case "NO-CONTENT-RESPONSE":return{minifiedCreative:"",customElementExtensions:[],customStylesheets:[]}}$JSCompiler_StaticMethods_promiseErrorHandler_$$($$jscomp$this$jscomp$27$$,$checkStillCurrent$jscomp$2$$);return null})}};
$JSCompiler_prototypeAlias$$.maybeValidateAmpCreative=function($bytes$jscomp$10$$,$headers$jscomp$3$$){var $$jscomp$this$jscomp$28$$=this,$checkStillCurrent$jscomp$3$$=this.verifyStillCurrent();return this.$keysetPromise_$.then(function(){return"fake"!=$$jscomp$this$jscomp$28$$.element.getAttribute("type")||$$jscomp$this$jscomp$28$$.element.getAttribute("checksig")?$signatureVerifierFor$$module$extensions$amp_a4a$0_1$amp_a4a$$($$jscomp$this$jscomp$28$$.win).verify($bytes$jscomp$10$$,$headers$jscomp$3$$):
Promise.resolve(0)}).then(function($headers$jscomp$3$$){$checkStillCurrent$jscomp$3$$();var $status$$=null;switch($headers$jscomp$3$$){case 0:$status$$=$bytes$jscomp$10$$;break;case 4:$status$$=$$jscomp$this$jscomp$28$$.shouldPreferentialRenderWithoutCrypto()?$bytes$jscomp$10$$:null;break;case 2:case 3:$user$$module$src$log$$().error("amp-a4a",$$jscomp$this$jscomp$28$$.element.getAttribute("type"),"Signature verification failed")}if($$jscomp$this$jscomp$28$$.isSinglePageStoryAd&&!$status$$)throw Error("INVALID-SPSA-RESPONSE");
return $status$$})};
function $JSCompiler_StaticMethods_populatePostAdResponseExperimentFeatures_$$($JSCompiler_StaticMethods_populatePostAdResponseExperimentFeatures_$self$$,$input$jscomp$9$$){$input$jscomp$9$$.split(",").forEach(function($input$jscomp$9$$){if($input$jscomp$9$$){var $line$jscomp$2$$=$input$jscomp$9$$.split("=");2==$line$jscomp$2$$.length&&$line$jscomp$2$$[0]?$JSCompiler_StaticMethods_populatePostAdResponseExperimentFeatures_$self$$.postAdResponseExperimentFeatures[$line$jscomp$2$$[0]]=$line$jscomp$2$$[1]:
$dev$$module$src$log$$().warn("amp-a4a","invalid experiment feature "+$input$jscomp$9$$)}})}
$JSCompiler_prototypeAlias$$.refresh=function($refreshEndCallback$$){var $$jscomp$this$jscomp$30$$=this;this.isRefreshing=!0;this.tearDownSlot();this.initiateAdRequest();if(!this.$adPromise_$)return Promise.resolve();var $promiseId$$=this.$promiseId_$;return this.$adPromise_$.then(function(){if($$jscomp$this$jscomp$30$$.isRefreshing&&$promiseId$$==$$jscomp$this$jscomp$30$$.$promiseId_$)return $$jscomp$this$jscomp$30$$.mutateElement(function(){$triggerAnalyticsEvent$$module$src$analytics$$($$jscomp$this$jscomp$30$$.element,"ad-refresh");
$$jscomp$this$jscomp$30$$.togglePlaceholder(!0);return $Services$$module$src$services$timerFor$$($$jscomp$this$jscomp$30$$.win).promise(1E3).then(function(){$$jscomp$this$jscomp$30$$.isRelayoutNeededFlag=!0;$$jscomp$this$jscomp$30$$.getResource().layoutCanceled();$Services$$module$src$services$viewerForDoc$$($$jscomp$this$jscomp$30$$.getAmpDoc()).whenNextVisible().then(function(){$Services$$module$src$services$resourcesForDoc$$($$jscomp$this$jscomp$30$$.getAmpDoc()).requireLayout($$jscomp$this$jscomp$30$$.element)})})});
$refreshEndCallback$$()})};
function $JSCompiler_StaticMethods_promiseErrorHandler_$$($JSCompiler_StaticMethods_promiseErrorHandler_$self$$,$error$jscomp$29$$){var $opt_ignoreStack$$;if($isCancellation$$module$src$error$$($error$jscomp$29$$))throw $error$jscomp$29$$;$error$jscomp$29$$=$error$jscomp$29$$&&$error$jscomp$29$$.message?$duplicateErrorIfNecessary$$module$src$log$$($error$jscomp$29$$):Error("unknown error "+$error$jscomp$29$$);$opt_ignoreStack$$&&($error$jscomp$29$$.ignoreStack=$opt_ignoreStack$$);var $type$jscomp$139$$=
$JSCompiler_StaticMethods_promiseErrorHandler_$self$$.element.getAttribute("type")||"notype";0!=$error$jscomp$29$$.message.indexOf("amp-a4a: "+$type$jscomp$139$$+":")&&($error$jscomp$29$$.message="amp-a4a: "+$type$jscomp$139$$+": "+$error$jscomp$29$$.message);$assignAdUrlToError$$module$extensions$amp_a4a$0_1$amp_a4a$$($error$jscomp$29$$,$JSCompiler_StaticMethods_promiseErrorHandler_$self$$.$adUrl_$);$getMode$$module$src$mode$$().development||$getMode$$module$src$mode$$().localDev||$getMode$$module$src$mode$$().log?
$user$$module$src$log$$().error("amp-a4a",$error$jscomp$29$$):($user$$module$src$log$$().warn("amp-a4a",$error$jscomp$29$$),.01>Math.random()&&$dev$$module$src$log$$().expectedError("amp-a4a",$error$jscomp$29$$))}$JSCompiler_prototypeAlias$$.layoutCallback=function(){this.isRefreshing&&this.destroyFrame(!0);return this.attemptToRenderCreative()};
$JSCompiler_prototypeAlias$$.attemptToRenderCreative=function(){var $$jscomp$this$jscomp$31$$=this;if(!this.$adPromise_$)return $JSCompiler_StaticMethods_shouldInitializePromiseChain_$$(this)&&$dev$$module$src$log$$().error("amp-a4a","Null promise in layoutCallback"),Promise.resolve();var $checkStillCurrent$jscomp$4$$=this.verifyStillCurrent();return this.$adPromise_$.then(function($creativeMetaData$$){$checkStillCurrent$jscomp$4$$();return $$jscomp$this$jscomp$31$$.$isCollapsed_$||$$jscomp$this$jscomp$31$$.iframe&&
!$$jscomp$this$jscomp$31$$.isRefreshing?Promise.resolve():$creativeMetaData$$?$JSCompiler_StaticMethods_renderAmpCreative_$$($$jscomp$this$jscomp$31$$,$creativeMetaData$$).catch(function($creativeMetaData$$){$checkStillCurrent$jscomp$4$$();$user$$module$src$log$$().warn("amp-a4a",$$jscomp$this$jscomp$31$$.element.getAttribute("type"),"Error injecting creative in friendly frame",$creativeMetaData$$);return $$jscomp$this$jscomp$31$$.renderNonAmpCreative()}):$$jscomp$this$jscomp$31$$.renderNonAmpCreative()}).catch(function($checkStillCurrent$jscomp$4$$){$JSCompiler_StaticMethods_promiseErrorHandler_$$($$jscomp$this$jscomp$31$$,
$checkStillCurrent$jscomp$4$$);throw Error("CANCELLED");})};$JSCompiler_prototypeAlias$$.isXhrAllowed=function(){return!0};$JSCompiler_prototypeAlias$$.attemptChangeSize=function($newHeight$$,$newWidth$$){this.$originalSlotSize_$=this.$originalSlotSize_$||this.getLayoutBox();return AMP.BaseElement.prototype.attemptChangeSize.call(this,$newHeight$$,$newWidth$$)};$JSCompiler_prototypeAlias$$.unlayoutCallback=function(){this.tearDownSlot();return!0};
$JSCompiler_prototypeAlias$$.tearDownSlot=function(){var $$jscomp$this$jscomp$32$$=this;this.$promiseId_$++;this.uiHandler.applyUnlayoutUI();this.$originalSlotSize_$&&AMP.BaseElement.prototype.attemptChangeSize.call(this,this.$originalSlotSize_$.height,this.$originalSlotSize_$.width).then(function(){$$jscomp$this$jscomp$32$$.$originalSlotSize_$=null}).catch(function($$jscomp$this$jscomp$32$$){$dev$$module$src$log$$().warn("amp-a4a","unable to revert to original size",$$jscomp$this$jscomp$32$$)});
this.$isCollapsed_$=!1;this.destroyFrame();this.$creativeBody_$=this.$adUrl_$=this.$adPromise_$=null;this.fromResumeCallback=this.$isVerifiedAmpCreative_$=!1;this.$experimentalNonAmpCreativeRenderMethod_$=this.getNonAmpCreativeRenderingMethod();this.postAdResponseExperimentFeatures={}};$JSCompiler_prototypeAlias$$.detachedCallback=function(){AMP.BaseElement.prototype.detachedCallback.call(this);this.destroyFrame(!0)};
$JSCompiler_prototypeAlias$$.destroyFrame=function($force$jscomp$1$$){if((void 0===$force$jscomp$1$$?0:$force$jscomp$1$$)||!this.isRefreshing)this.$friendlyIframeEmbed_$&&(this.$friendlyIframeEmbed_$.destroy(),this.$friendlyIframeEmbed_$=null),this.iframe&&this.iframe.parentElement&&(this.iframe.parentElement.removeChild(this.iframe),this.iframe=null),this.$xOriginIframeHandler_$&&(this.$xOriginIframeHandler_$.freeXOriginIframe(),this.$xOriginIframeHandler_$=null)};
$JSCompiler_prototypeAlias$$.viewportCallback=function($inViewport$$){this.$friendlyIframeEmbed_$&&$JSCompiler_StaticMethods_setVisible_$$(this.$friendlyIframeEmbed_$,$inViewport$$);this.$xOriginIframeHandler_$&&this.$xOriginIframeHandler_$.viewportCallback($inViewport$$)};$JSCompiler_prototypeAlias$$.createPlaceholderCallback=function(){return this.uiHandler.createPlaceholder()};$JSCompiler_prototypeAlias$$.getAdUrl=function(){throw Error("getAdUrl not implemented!");};
$JSCompiler_prototypeAlias$$.resetAdUrl=function(){this.$adUrl_$=null};$JSCompiler_prototypeAlias$$.verifyStillCurrent=function(){var $$jscomp$this$jscomp$33$$=this,$promiseId$jscomp$1$$=this.$promiseId_$;return function(){if($promiseId$jscomp$1$$!=$$jscomp$this$jscomp$33$$.$promiseId_$)throw Error("CANCELLED");}};
$JSCompiler_prototypeAlias$$.extractSize=function($headerValue$jscomp$1_responseHeaders$jscomp$1$$){$headerValue$jscomp$1_responseHeaders$jscomp$1$$=$headerValue$jscomp$1_responseHeaders$jscomp$1$$.get("X-CreativeSize");if(!$headerValue$jscomp$1_responseHeaders$jscomp$1$$)return null;var $match$jscomp$8$$=/^([0-9]+)x([0-9]+)$/.exec($headerValue$jscomp$1_responseHeaders$jscomp$1$$);return $match$jscomp$8$$?{width:Number($match$jscomp$8$$[1]),height:Number($match$jscomp$8$$[2])}:($user$$module$src$log$$().error("amp-a4a",
"Invalid size header: "+$headerValue$jscomp$1_responseHeaders$jscomp$1$$),null)};$JSCompiler_prototypeAlias$$.forceCollapse=function(){this.isRefreshing?this.isRefreshing=!1:(this.$originalSlotSize_$=this.$originalSlotSize_$||this.getLayoutBox(),this.uiHandler.applyNoContentUI(),this.$isCollapsed_$=!0)};$JSCompiler_prototypeAlias$$.onCreativeRender=function($creativeMetaData$jscomp$1$$){$JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$$(this,$creativeMetaData$jscomp$1$$?"renderFriendlyEnd":"renderCrossDomainEnd")};
$JSCompiler_prototypeAlias$$.onCrossDomainIframeCreated=function($iframe$jscomp$6$$){$dev$$module$src$log$$().info("amp-a4a",this.element.getAttribute("type"),"onCrossDomainIframeCreated "+$iframe$jscomp$6$$)};$JSCompiler_prototypeAlias$$.sandboxHTMLCreativeFrame=function(){return $isExperimentOn$$module$src$experiments$$(this.win,"sandbox-ads")};
$JSCompiler_prototypeAlias$$.sendXhrRequest=function($adUrl$jscomp$2$$){var $$jscomp$this$jscomp$34$$=this;$JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$$(this,"adRequestStart");var $xhrInit$$={mode:"cors",method:"GET",credentials:"include"};return $getService$$module$src$service$$(this.win,"xhr").fetch($adUrl$jscomp$2$$,$xhrInit$$).catch(function($adUrl$jscomp$2$$){if($adUrl$jscomp$2$$.response&&200<$adUrl$jscomp$2$$.response.status)return null;var $xhrInit$$=$$jscomp$this$jscomp$34$$.onNetworkFailure($adUrl$jscomp$2$$,
$$jscomp$this$jscomp$34$$.$adUrl_$);if($xhrInit$$.frameGetDisabled)$dev$$module$src$log$$().info("amp-a4a","frame get disabled as part of network failure handler"),$$jscomp$this$jscomp$34$$.resetAdUrl();else return $$jscomp$this$jscomp$34$$.$adUrl_$=$xhrInit$$.adUrl||$$jscomp$this$jscomp$34$$.$adUrl_$,Promise.reject("NETWORK-FAILURE");return null})};$JSCompiler_prototypeAlias$$.onNetworkFailure=function(){return{}};
$JSCompiler_prototypeAlias$$.getSigningServiceNames=function(){return $getMode$$module$src$mode$$().localDev?["google","google-dev"]:["google"]};
$JSCompiler_prototypeAlias$$.renderNonAmpCreative=function($throttleApplied$$){var $$jscomp$this$jscomp$35$$=this;if("true"==this.element.getAttribute("disable3pfallback"))return $user$$module$src$log$$().warn("amp-a4a",this.element.getAttribute("type"),"fallback to 3p disabled"),Promise.resolve(!1);$dev$$module$src$log$$().warn("amp-a4a","fallback to 3p");var $method$jscomp$3$$=this.$experimentalNonAmpCreativeRenderMethod_$,$renderPromise$$=Promise.resolve(!1);"safeframe"!=$method$jscomp$3$$&&"nameframe"!=
$method$jscomp$3$$||!this.$creativeBody_$?this.$adUrl_$?($assertHttpsUrl$$module$src$url$$(this.$adUrl_$,this.element),$renderPromise$$=$JSCompiler_StaticMethods_renderViaIframeGet_$$(this,this.$adUrl_$)):$user$$module$src$log$$().warn("amp-a4a",this.element.getAttribute("type"),"No creative or URL available -- A4A can't render any ad"):($renderPromise$$=$JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$$(this,this.$creativeBody_$),this.$creativeBody_$=null);$throttleApplied$$||this.inNonAmpPreferenceExp()||
$incrementLoadingAds$$module$extensions$amp_ad$0_1$concurrent_load$$(this.win,$renderPromise$$);return $renderPromise$$.then(function($throttleApplied$$){$JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$$($$jscomp$this$jscomp$35$$,"crossDomainIframeLoaded");return $throttleApplied$$})};
function $JSCompiler_StaticMethods_renderAmpCreative_$$($JSCompiler_StaticMethods_renderAmpCreative_$self$$,$creativeMetaData$jscomp$2$$){$JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$$($JSCompiler_StaticMethods_renderAmpCreative_$self$$,"renderFriendlyStart");$JSCompiler_StaticMethods_renderAmpCreative_$self$$.iframe=$createElementWithAttributes$$module$src$dom$$($JSCompiler_StaticMethods_renderAmpCreative_$self$$.element.ownerDocument,"iframe",$dict$$module$src$utils$object$$({height:$JSCompiler_StaticMethods_renderAmpCreative_$self$$.$creativeSize_$.height,
width:$JSCompiler_StaticMethods_renderAmpCreative_$self$$.$creativeSize_$.width,frameborder:"0",allowfullscreen:"",allowtransparency:"",scrolling:"no"}));$JSCompiler_StaticMethods_renderAmpCreative_$self$$.applyFillContent($JSCompiler_StaticMethods_renderAmpCreative_$self$$.iframe);var $fontsArray$$=[];$creativeMetaData$jscomp$2$$.customStylesheets&&$creativeMetaData$jscomp$2$$.customStylesheets.forEach(function($JSCompiler_StaticMethods_renderAmpCreative_$self$$){($JSCompiler_StaticMethods_renderAmpCreative_$self$$=
$JSCompiler_StaticMethods_renderAmpCreative_$self$$.href)&&$fontsArray$$.push($JSCompiler_StaticMethods_renderAmpCreative_$self$$)});var $checkStillCurrent$jscomp$5$$=$JSCompiler_StaticMethods_renderAmpCreative_$self$$.verifyStillCurrent();return $installFriendlyIframeEmbed$$module$src$friendly_iframe_embed$$($JSCompiler_StaticMethods_renderAmpCreative_$self$$.iframe,$JSCompiler_StaticMethods_renderAmpCreative_$self$$.element,{host:$JSCompiler_StaticMethods_renderAmpCreative_$self$$.element,url:$JSCompiler_StaticMethods_renderAmpCreative_$self$$.$adUrl_$,
html:$creativeMetaData$jscomp$2$$.minifiedCreative,extensionIds:$creativeMetaData$jscomp$2$$.customElementExtensions||[],fonts:$fontsArray$$},function($creativeMetaData$jscomp$2$$){var $fontsArray$$=$JSCompiler_StaticMethods_renderAmpCreative_$self$$.getAmpDoc(),$checkStillCurrent$jscomp$5$$=new $A4AVariableSource$$module$extensions$amp_a4a$0_1$a4a_variable_source$$($JSCompiler_StaticMethods_renderAmpCreative_$self$$.getAmpDoc(),$creativeMetaData$jscomp$2$$);$installServiceInEmbedScope$$module$src$service$$($creativeMetaData$jscomp$2$$,
new $UrlReplacements$$module$src$service$url_replacements_impl$$($fontsArray$$,$checkStillCurrent$jscomp$5$$))}).then(function($fontsArray$$){$checkStillCurrent$jscomp$5$$();$JSCompiler_StaticMethods_renderAmpCreative_$self$$.$friendlyIframeEmbed_$=$fontsArray$$;$setFriendlyIframeEmbedVisible$$module$src$friendly_iframe_embed$$($fontsArray$$,$JSCompiler_StaticMethods_renderAmpCreative_$self$$.isInViewport());var $friendlyIframeEmbed$$=$fontsArray$$.iframe.contentDocument||$fontsArray$$.win.document;
$setStyle$$module$src$style$$($friendlyIframeEmbed$$.body,"visibility","visible");$protectFunctionWrapper$$module$extensions$amp_a4a$0_1$amp_a4a$$($JSCompiler_StaticMethods_renderAmpCreative_$self$$.onCreativeRender,$JSCompiler_StaticMethods_renderAmpCreative_$self$$,function($creativeMetaData$jscomp$2$$){$dev$$module$src$log$$().error("amp-a4a",$JSCompiler_StaticMethods_renderAmpCreative_$self$$.element.getAttribute("type"),"Error executing onCreativeRender",$creativeMetaData$jscomp$2$$)})($creativeMetaData$jscomp$2$$,
$fontsArray$$.whenWindowLoaded());$fontsArray$$.whenIniLoaded().then(function(){$checkStillCurrent$jscomp$5$$();$JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$$($JSCompiler_StaticMethods_renderAmpCreative_$self$$,"friendlyIframeIniLoad")})})}
function $JSCompiler_StaticMethods_iframeRenderHelper_$$($JSCompiler_StaticMethods_iframeRenderHelper_$self$$,$attributes$jscomp$7$$){var $mergedAttributes$$=Object.assign($attributes$jscomp$7$$,$dict$$module$src$utils$object$$({height:$JSCompiler_StaticMethods_iframeRenderHelper_$self$$.$creativeSize_$.height,width:$JSCompiler_StaticMethods_iframeRenderHelper_$self$$.$creativeSize_$.width}));$JSCompiler_StaticMethods_iframeRenderHelper_$self$$.sentinel&&($mergedAttributes$$["data-amp-3p-sentinel"]=
$JSCompiler_StaticMethods_iframeRenderHelper_$self$$.sentinel);$isExperimentOn$$module$src$experiments$$($JSCompiler_StaticMethods_iframeRenderHelper_$self$$.win,"no-sync-xhr-in-ads")&&($mergedAttributes$$.allow="sync-xhr 'none';");$JSCompiler_StaticMethods_iframeRenderHelper_$self$$.iframe=$createElementWithAttributes$$module$src$dom$$($JSCompiler_StaticMethods_iframeRenderHelper_$self$$.element.ownerDocument,"iframe",Object.assign($mergedAttributes$$,$SHARED_IFRAME_PROPERTIES$$module$extensions$amp_a4a$0_1$amp_a4a$$));
$JSCompiler_StaticMethods_iframeRenderHelper_$self$$.sandboxHTMLCreativeFrame()&&$applySandbox$$module$src$3p_frame$$($JSCompiler_StaticMethods_iframeRenderHelper_$self$$.iframe);$JSCompiler_StaticMethods_iframeRenderHelper_$self$$.$xOriginIframeHandler_$=new AMP.AmpAdXOriginIframeHandler($JSCompiler_StaticMethods_iframeRenderHelper_$self$$);var $frameLoadPromise$$=$JSCompiler_StaticMethods_iframeRenderHelper_$self$$.$xOriginIframeHandler_$.init($JSCompiler_StaticMethods_iframeRenderHelper_$self$$.iframe,
!0);$protectFunctionWrapper$$module$extensions$amp_a4a$0_1$amp_a4a$$($JSCompiler_StaticMethods_iframeRenderHelper_$self$$.onCreativeRender,$JSCompiler_StaticMethods_iframeRenderHelper_$self$$,function($attributes$jscomp$7$$){$dev$$module$src$log$$().error("amp-a4a",$JSCompiler_StaticMethods_iframeRenderHelper_$self$$.element.getAttribute("type"),"Error executing onCreativeRender",$attributes$jscomp$7$$)})(null);return $frameLoadPromise$$}
function $JSCompiler_StaticMethods_renderViaIframeGet_$$($JSCompiler_StaticMethods_renderViaIframeGet_$self$$,$adUrl$jscomp$3$$){$JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$$($JSCompiler_StaticMethods_renderViaIframeGet_$self$$,"renderCrossDomainStart");return $JSCompiler_StaticMethods_iframeRenderHelper_$$($JSCompiler_StaticMethods_renderViaIframeGet_$self$$,$dict$$module$src$utils$object$$({src:$getService$$module$src$service$$($JSCompiler_StaticMethods_renderViaIframeGet_$self$$.win,
"xhr").getCorsUrl($JSCompiler_StaticMethods_renderViaIframeGet_$self$$.win,$adUrl$jscomp$3$$),name:JSON.stringify($getContextMetadata$$module$src$iframe_attributes$$($JSCompiler_StaticMethods_renderViaIframeGet_$self$$.win,$JSCompiler_StaticMethods_renderViaIframeGet_$self$$.element,$JSCompiler_StaticMethods_renderViaIframeGet_$self$$.sentinel))}))}
function $JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$$($JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$,$creativeBody$$){var $method$jscomp$4$$=$JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.$experimentalNonAmpCreativeRenderMethod_$;$JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$$($JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$,"renderSafeFrameStart");var $checkStillCurrent$jscomp$6$$=$JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.verifyStillCurrent();
return $tryResolve$$module$src$utils$promise$$(function(){return $utf8Decode$$module$src$utils$bytes$$($creativeBody$$)}).then(function($creativeBody$$){$checkStillCurrent$jscomp$6$$();var $creative$jscomp$3$$="";switch($method$jscomp$4$$){case "safeframe":var $srcPath$$=$JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.getSafeframePath()+"?n=0";break;case "nameframe":$srcPath$$=$getDefaultBootstrapBaseUrl$$module$src$3p_frame$$($JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.win);
break;default:return $user$$module$src$log$$().error("A4A","A4A received unrecognized cross-domain name attribute iframe rendering mode request: %s.  Unable to render a creative for slot %s.",$method$jscomp$4$$,$JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.element.getAttribute("id")),Promise.reject("Unrecognized rendering mode request")}var $contextMetadata$$=$getContextMetadata$$module$src$iframe_attributes$$($JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.win,
$JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.element,$JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.sentinel,$JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.getAdditionalContextMetadata("safeframe"==$method$jscomp$4$$));"nameframe"==$method$jscomp$4$$?($contextMetadata$$.creative=$creativeBody$$,$creative$jscomp$3$$=JSON.stringify($contextMetadata$$)):"safeframe"==$method$jscomp$4$$&&($contextMetadata$$=JSON.stringify($contextMetadata$$),
$creative$jscomp$3$$=$JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$.safeframeVersion+";"+$creativeBody$$.length+";"+$creativeBody$$+(""+$contextMetadata$$));return $JSCompiler_StaticMethods_iframeRenderHelper_$$($JSCompiler_StaticMethods_renderViaNameAttrOfXOriginIframe_$self$$,$dict$$module$src$utils$object$$({src:$srcPath$$,name:$creative$jscomp$3$$}))})}
$JSCompiler_prototypeAlias$$.getAmpAdMetadata=function($creative$jscomp$4$$){for(var $metadataStart$$=-1,$metadataString$$,$i$jscomp$37$$=0;$i$jscomp$37$$<$METADATA_STRINGS$$module$extensions$amp_a4a$0_1$amp_a4a$$.length&&!($metadataString$$=$METADATA_STRINGS$$module$extensions$amp_a4a$0_1$amp_a4a$$[$i$jscomp$37$$],$metadataStart$$=$creative$jscomp$4$$.lastIndexOf($metadataString$$),0<=$metadataStart$$);$i$jscomp$37$$++);if(0>$metadataStart$$)return $dev$$module$src$log$$().warn("amp-a4a",this.element.getAttribute("type"),
"Could not locate start index for amp meta data in: %s",$creative$jscomp$4$$),null;var $metadataEnd$$=$creative$jscomp$4$$.lastIndexOf("\x3c/script>");if(0>$metadataEnd$$)return $dev$$module$src$log$$().warn("amp-a4a",this.element.getAttribute("type"),"Could not locate closing script tag for amp meta data in: %s",$creative$jscomp$4$$),null;try{var $metaDataObj$$=JSON.parse($creative$jscomp$4$$.slice($metadataStart$$+$metadataString$$.length,$metadataEnd$$)),$ampRuntimeUtf16CharOffsets$$=$metaDataObj$$.ampRuntimeUtf16CharOffsets;
if(!Array.isArray($ampRuntimeUtf16CharOffsets$$)||2!=$ampRuntimeUtf16CharOffsets$$.length||"number"!==typeof $ampRuntimeUtf16CharOffsets$$[0]||"number"!==typeof $ampRuntimeUtf16CharOffsets$$[1])throw Error("Invalid runtime offsets");var $metaData$$={};if($metaDataObj$$.customElementExtensions){if($metaData$$.customElementExtensions=$metaDataObj$$.customElementExtensions,!Array.isArray($metaData$$.customElementExtensions))throw Error("Invalid extensions",$metaData$$.customElementExtensions);}else $metaData$$.customElementExtensions=
[];if($metaDataObj$$.customStylesheets){$metaData$$.customStylesheets=$metaDataObj$$.customStylesheets;var $errorMsg$$="Invalid custom stylesheets";if(!Array.isArray($metaData$$.customStylesheets))throw Error($errorMsg$$);var $urls$jscomp$2$$=$getExistingServiceForDocInEmbedScope$$module$src$service$$(this.element,"url");$metaData$$.customStylesheets.forEach(function($creative$jscomp$4$$){if(!$isObject$$module$src$types$$($creative$jscomp$4$$)||!$creative$jscomp$4$$.href||"string"!==typeof $creative$jscomp$4$$.href||
!$urls$jscomp$2$$.isSecure($creative$jscomp$4$$.href))throw Error($errorMsg$$);})}Array.isArray($metaDataObj$$.images)&&($metaData$$.images=$metaDataObj$$.images.splice(0,5));if(this.isSinglePageStoryAd){if(!$metaDataObj$$.ctaUrl||!$metaDataObj$$.ctaType)throw Error("INVALID-SPSA-RESPONSE");this.element.setAttribute("data-vars-ctatype",$metaDataObj$$.ctaType);this.element.setAttribute("data-vars-ctaurl",$metaDataObj$$.ctaUrl)}$metaData$$.minifiedCreative=$creative$jscomp$4$$.slice(0,$ampRuntimeUtf16CharOffsets$$[0])+
$creative$jscomp$4$$.slice($ampRuntimeUtf16CharOffsets$$[1],$metadataStart$$)+$creative$jscomp$4$$.slice($metadataEnd$$+9);return $metaData$$}catch($err$jscomp$17$$){$dev$$module$src$log$$().warn("amp-a4a",this.element.getAttribute("type"),"Invalid amp metadata: %s",$creative$jscomp$4$$.slice($metadataStart$$+$metadataString$$.length,$metadataEnd$$));if(this.isSinglePageStoryAd)throw $err$jscomp$17$$;return null}};
$JSCompiler_prototypeAlias$$.getSafeframePath=function(){return"https://tpc.googlesyndication.com/safeframe/"+(this.safeframeVersion+"/html/container.html")};
function $JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$$($JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$self$$,$lifecycleStage$$){if($JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$self$$.$a4aAnalyticsConfig_$){var $analyticsEvent$$=$LIFECYCLE_STAGE_TO_ANALYTICS_TRIGGER$$module$extensions$amp_a4a$0_1$amp_a4a$$[$lifecycleStage$$],$analyticsVars$$=Object.assign($dict$$module$src$utils$object$$({time:Math.round($JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$self$$.$getNow_$())}),
$JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$self$$.getA4aAnalyticsVars($analyticsEvent$$));$triggerAnalyticsEvent$$module$src$analytics$$($JSCompiler_StaticMethods_maybeTriggerAnalyticsEvent_$self$$.element,$analyticsEvent$$,$analyticsVars$$)}}$JSCompiler_prototypeAlias$$.getA4aAnalyticsVars=function(){return $dict$$module$src$utils$object$$({})};$JSCompiler_prototypeAlias$$.getA4aAnalyticsConfig=function(){return null};
function $JSCompiler_StaticMethods_tryExecuteRealTimeConfig_$$($JSCompiler_StaticMethods_tryExecuteRealTimeConfig_$self$$,$consentState$jscomp$3$$){if(AMP.RealTimeConfigManager)try{return(new AMP.RealTimeConfigManager($JSCompiler_StaticMethods_tryExecuteRealTimeConfig_$self$$)).maybeExecuteRealTimeConfig($JSCompiler_StaticMethods_tryExecuteRealTimeConfig_$self$$.$getCustomRealTimeConfigMacros_$(),$consentState$jscomp$3$$)}catch($err$jscomp$18$$){$user$$module$src$log$$().error("amp-a4a","Could not perform Real Time Config.",
$err$jscomp$18$$)}else $JSCompiler_StaticMethods_tryExecuteRealTimeConfig_$self$$.element.getAttribute("rtc-config")&&$user$$module$src$log$$().error("amp-a4a","RTC not supported for ad network "+$JSCompiler_StaticMethods_tryExecuteRealTimeConfig_$self$$.element.getAttribute("type"))}$JSCompiler_prototypeAlias$$.$getCustomRealTimeConfigMacros_$=function(){return{}};$JSCompiler_prototypeAlias$$.shouldPreferentialRenderWithoutCrypto=function(){return!1};
$JSCompiler_prototypeAlias$$.getNonAmpCreativeRenderingMethod=function($headerValue$jscomp$2$$){if($headerValue$jscomp$2$$){a:{for($JSCompiler_inline_result$jscomp$53_JSCompiler_k$jscomp$inline_298$$ in $XORIGIN_MODE$$module$extensions$amp_a4a$0_1$amp_a4a$$)if($XORIGIN_MODE$$module$extensions$amp_a4a$0_1$amp_a4a$$[$JSCompiler_inline_result$jscomp$53_JSCompiler_k$jscomp$inline_298$$]===$headerValue$jscomp$2$$){var $JSCompiler_inline_result$jscomp$53_JSCompiler_k$jscomp$inline_298$$=!0;break a}$JSCompiler_inline_result$jscomp$53_JSCompiler_k$jscomp$inline_298$$=
!1}if($JSCompiler_inline_result$jscomp$53_JSCompiler_k$jscomp$inline_298$$)return $headerValue$jscomp$2$$;$dev$$module$src$log$$().error("AMP-A4A","cross-origin render mode header "+$headerValue$jscomp$2$$)}return $getService$$module$src$service$$(this.win,"platform").isIos()?"nameframe":null};$JSCompiler_prototypeAlias$$.getAdditionalContextMetadata=function(){};$JSCompiler_prototypeAlias$$.isVerifiedAmpCreative=function(){return this.$isVerifiedAmpCreative_$};
$JSCompiler_prototypeAlias$$.maybeAddSinglePassExperiment=function(){var $type$jscomp$140$$=$getMode$$module$src$mode$$().singlePassType;"sp"===$type$jscomp$140$$?$addExperimentIdToElement$$module$ads$google$a4a$traffic_experiments$$("21063530",this.element):"mp"===$type$jscomp$140$$&&$addExperimentIdToElement$$module$ads$google$a4a$traffic_experiments$$("21063529",this.element)};
function $assignAdUrlToError$$module$extensions$amp_a4a$0_1$amp_a4a$$($error$jscomp$32$$,$adUrl$jscomp$4$$){if(!(!$adUrl$jscomp$4$$||$error$jscomp$32$$.args&&$error$jscomp$32$$.args.au)){var $adQueryIdx$$=$adUrl$jscomp$4$$.indexOf("?");-1!=$adQueryIdx$$&&(($error$jscomp$32$$.args||($error$jscomp$32$$.args={})).au=$adUrl$jscomp$4$$.substring($adQueryIdx$$+1,$adQueryIdx$$+251))}}
function $signatureVerifierFor$$module$extensions$amp_a4a$0_1$amp_a4a$$($win$jscomp$137$$){return $win$jscomp$137$$.AMP_FAST_FETCH_SIGNATURE_VERIFIER_||($win$jscomp$137$$.AMP_FAST_FETCH_SIGNATURE_VERIFIER_=new $SignatureVerifier$$module$extensions$amp_a4a$0_1$signature_verifier$$($win$jscomp$137$$))};var $DUMMY_FLUID_SIZE_ARR$$module$ads$google$utils$$=["320","50"].map(function($dim$$){return Number($dim$$)});
function $getMultiSizeDimensions$$module$ads$google$utils$$($multiSizeDataStr$$,$primaryWidth$$,$primaryHeight$$,$multiSizeValidation$$,$isFluidPrimary$$){$isFluidPrimary$$=void 0===$isFluidPrimary$$?!1:$isFluidPrimary$$;for(var $dimensions$jscomp$1$$=[],$arrayOfSizeStrs$$=$multiSizeDataStr$$.split(","),$$jscomp$loop$38$$={},$i$jscomp$39$$=0;$i$jscomp$39$$<$arrayOfSizeStrs$$.length;$$jscomp$loop$38$$={$$jscomp$loop$prop$minWidth$39$:$$jscomp$loop$38$$.$$jscomp$loop$prop$minWidth$39$,$$jscomp$loop$prop$minHeight$40$:$$jscomp$loop$38$$.$$jscomp$loop$prop$minHeight$40$},
$i$jscomp$39$$++){var $sizeStr$$=$arrayOfSizeStrs$$[$i$jscomp$39$$];if("fluid"==$sizeStr$$.toLowerCase())$isFluidPrimary$$||$dimensions$jscomp$1$$.push($DUMMY_FLUID_SIZE_ARR$$module$ads$google$utils$$);else{var $height$jscomp$30_size$jscomp$16$$=$sizeStr$$.split("x");if(2!=$height$jscomp$30_size$jscomp$16$$.length)$user$$module$src$log$$().error("AMP-AD","Invalid multi-size data format '"+$sizeStr$$+"'.");else{var $width$jscomp$31$$=Number($height$jscomp$30_size$jscomp$16$$[0]);$height$jscomp$30_size$jscomp$16$$=
Number($height$jscomp$30_size$jscomp$16$$[1]);if($validateDimensions$$module$ads$google$utils$$($width$jscomp$31$$,$height$jscomp$30_size$jscomp$16$$,function($multiSizeDataStr$$){return isNaN($multiSizeDataStr$$)||0>=$multiSizeDataStr$$},function($multiSizeDataStr$$){return isNaN($multiSizeDataStr$$)||0>=$multiSizeDataStr$$},function($multiSizeDataStr$$){return $multiSizeDataStr$$.map(function($multiSizeDataStr$$){return"Invalid "+$multiSizeDataStr$$.dim+" of "+$multiSizeDataStr$$.val+" given for secondary size."}).join(" ")})&&
($isFluidPrimary$$||$validateDimensions$$module$ads$google$utils$$($width$jscomp$31$$,$height$jscomp$30_size$jscomp$16$$,function($multiSizeDataStr$$){return $multiSizeDataStr$$>$primaryWidth$$},function($multiSizeDataStr$$){return $multiSizeDataStr$$>$primaryHeight$$},function($multiSizeDataStr$$){return $multiSizeDataStr$$.map(function($multiSizeDataStr$$){return"Secondary "+$multiSizeDataStr$$.dim+" "+$multiSizeDataStr$$.val+" "+("can't be larger than the primary "+$multiSizeDataStr$$.dim+".")}).join(" ")}))){if($multiSizeValidation$$){var $minRatio$$=
2/3;$$jscomp$loop$38$$.$$jscomp$loop$prop$minWidth$39$=$minRatio$$*$primaryWidth$$;$$jscomp$loop$38$$.$$jscomp$loop$prop$minHeight$40$=$minRatio$$*$primaryHeight$$;if(!$validateDimensions$$module$ads$google$utils$$($width$jscomp$31$$,$height$jscomp$30_size$jscomp$16$$,function($multiSizeDataStr$$){return function($primaryWidth$$){return $primaryWidth$$<$multiSizeDataStr$$.$$jscomp$loop$prop$minWidth$39$}}($$jscomp$loop$38$$),function($multiSizeDataStr$$){return function($primaryWidth$$){return $primaryWidth$$<
$multiSizeDataStr$$.$$jscomp$loop$prop$minHeight$40$}}($$jscomp$loop$38$$),function($multiSizeDataStr$$){return $multiSizeDataStr$$.map(function($multiSizeDataStr$$){return"Secondary "+$multiSizeDataStr$$.dim+" "+$multiSizeDataStr$$.val+" is "+("smaller than 2/3rds of the primary "+$multiSizeDataStr$$.dim+".")}).join(" ")}))continue}$dimensions$jscomp$1$$.push([$width$jscomp$31$$,$height$jscomp$30_size$jscomp$16$$])}}}}return $dimensions$jscomp$1$$}
function $validateDimensions$$module$ads$google$utils$$($width$jscomp$32$$,$height$jscomp$31$$,$widthCond$$,$heightCond$$,$errorBuilder$$){var $badParams$jscomp$3$$=[];$widthCond$$($width$jscomp$32$$)&&$badParams$jscomp$3$$.push({dim:"width",val:$width$jscomp$32$$});$heightCond$$($height$jscomp$31$$)&&$badParams$jscomp$3$$.push({dim:"height",val:$height$jscomp$31$$});$badParams$jscomp$3$$.length&&$user$$module$src$log$$().warn("AMP-AD",$errorBuilder$$($badParams$jscomp$3$$));return!$badParams$jscomp$3$$.length}
;function $Navigation$$module$src$service$navigation$installAnchorClickInterceptor$$($ampdoc$jscomp$24$$,$win$jscomp$138$$){$win$jscomp$138$$.document.documentElement.addEventListener("click",$maybeExpandUrlParams$$module$src$service$navigation$$.bind(null,$ampdoc$jscomp$24$$),!0)}
function $maybeExpandUrlParams$$module$src$service$navigation$$($ampdoc$jscomp$26_target$jscomp$99$$,$e$jscomp$41$$){if(($ampdoc$jscomp$26_target$jscomp$99$$=$closestAncestorElementBySelector$$module$src$dom$$($e$jscomp$41$$.target))&&$ampdoc$jscomp$26_target$jscomp$99$$.href){var $hrefToExpand$$=$ampdoc$jscomp$26_target$jscomp$99$$.getAttribute("data-a4a-orig-href")||$ampdoc$jscomp$26_target$jscomp$99$$.getAttribute("href");if($hrefToExpand$$){var $newHref$jscomp$1$$=$Services$$module$src$services$urlReplacementsForDoc$$($ampdoc$jscomp$26_target$jscomp$99$$).expandUrlSync($hrefToExpand$$,
{CLICK_X:function(){return $e$jscomp$41$$.pageX},CLICK_Y:function(){return $e$jscomp$41$$.pageY}},void 0,{CLICK_X:!0,CLICK_Y:!0});$newHref$jscomp$1$$!=$hrefToExpand$$&&($ampdoc$jscomp$26_target$jscomp$99$$.getAttribute("data-a4a-orig-href")||$ampdoc$jscomp$26_target$jscomp$99$$.setAttribute("data-a4a-orig-href",$hrefToExpand$$),$ampdoc$jscomp$26_target$jscomp$99$$.setAttribute("href",$newHref$jscomp$1$$))}}};function $Pass$$module$src$pass$$($win$jscomp$142$$,$handler$jscomp$8$$){var $opt_defaultDelay$$,$$jscomp$this$jscomp$42$$=this;this.$timer_$=$Services$$module$src$services$timerFor$$($win$jscomp$142$$);this.$handler_$=$handler$jscomp$8$$;this.$defaultDelay_$=$opt_defaultDelay$$||0;this.$scheduled_$=-1;this.$nextTime_$=0;this.$running_$=!1;this.$boundPass_$=function(){$$jscomp$this$jscomp$42$$.$scheduled_$=-1;$$jscomp$this$jscomp$42$$.$nextTime_$=0;$$jscomp$this$jscomp$42$$.$running_$=!0;$$jscomp$this$jscomp$42$$.$handler_$();
$$jscomp$this$jscomp$42$$.$running_$=!1}}$Pass$$module$src$pass$$.prototype.isPending=function(){return-1!=this.$scheduled_$};
$Pass$$module$src$pass$$.prototype.schedule=function($delay$jscomp$1_opt_delay$jscomp$2$$){$delay$jscomp$1_opt_delay$jscomp$2$$=$delay$jscomp$1_opt_delay$jscomp$2$$||this.$defaultDelay_$;this.$running_$&&10>$delay$jscomp$1_opt_delay$jscomp$2$$&&($delay$jscomp$1_opt_delay$jscomp$2$$=10);var $nextTime$$=Date.now()+$delay$jscomp$1_opt_delay$jscomp$2$$;return!this.isPending()||-10>$nextTime$$-this.$nextTime_$?(this.cancel(),this.$nextTime_$=$nextTime$$,this.$scheduled_$=this.$timer_$.delay(this.$boundPass_$,
$delay$jscomp$1_opt_delay$jscomp$2$$),!0):!1};$Pass$$module$src$pass$$.prototype.cancel=function(){this.isPending()&&(this.$timer_$.cancel(this.$scheduled_$),this.$scheduled_$=-1)};var $INIT_TIME$$module$src$intersection_observer_polyfill$$=Date.now();
function $IntersectionObserverPolyfill$$module$src$intersection_observer_polyfill$$($callback$jscomp$69_i$jscomp$53$$,$opt_option$$){this.$callback_$=$callback$jscomp$69_i$jscomp$53$$;var $threshold$$=$opt_option$$&&$opt_option$$.threshold;$threshold$$=$threshold$$?Array.isArray($threshold$$)?$threshold$$:[$threshold$$]:[0];for($callback$jscomp$69_i$jscomp$53$$=0;$callback$jscomp$69_i$jscomp$53$$<$threshold$$.length;$callback$jscomp$69_i$jscomp$53$$++)$isFiniteNumber$$module$src$types$$($threshold$$[$callback$jscomp$69_i$jscomp$53$$]);this.$threshold_$=
$threshold$$.sort();this.$lastViewportRect_$=null;this.$lastIframeRect_$=void 0;this.$observeEntries_$=[];this.$mutationPass_$=this.$hiddenObserverUnlistener_$=null}$JSCompiler_prototypeAlias$$=$IntersectionObserverPolyfill$$module$src$intersection_observer_polyfill$$.prototype;$JSCompiler_prototypeAlias$$.disconnect=function(){this.$observeEntries_$.length=0;$JSCompiler_StaticMethods_disconnectMutationObserver_$$(this)};
$JSCompiler_prototypeAlias$$.observe=function($element$jscomp$120$$){for(var $ampdoc$jscomp$27_change$jscomp$1_i$jscomp$54$$=0;$ampdoc$jscomp$27_change$jscomp$1_i$jscomp$54$$<this.$observeEntries_$.length;$ampdoc$jscomp$27_change$jscomp$1_i$jscomp$54$$++)if(this.$observeEntries_$[$ampdoc$jscomp$27_change$jscomp$1_i$jscomp$54$$].element===$element$jscomp$120$$){$dev$$module$src$log$$().warn("INTERSECTION-OBSERVER","should observe same element once");return}var $newState$$={element:$element$jscomp$120$$,
currentThresholdSlot:0};this.$lastViewportRect_$&&($ampdoc$jscomp$27_change$jscomp$1_i$jscomp$54$$=$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$$(this,$newState$$,this.$lastViewportRect_$,this.$lastIframeRect_$))&&this.$callback_$([$ampdoc$jscomp$27_change$jscomp$1_i$jscomp$54$$]);$ampdoc$jscomp$27_change$jscomp$1_i$jscomp$54$$=$getAmpdoc$$module$src$service$$($element$jscomp$120$$);if($ampdoc$jscomp$27_change$jscomp$1_i$jscomp$54$$.win.MutationObserver&&!this.$hiddenObserverUnlistener_$){this.$mutationPass_$=
new $Pass$$module$src$pass$$($ampdoc$jscomp$27_change$jscomp$1_i$jscomp$54$$.win,this.$handleMutationObserverPass_$.bind(this,$element$jscomp$120$$));var $hiddenObserver$$=$getExistingServiceForDocInEmbedScope$$module$src$service$$($element$jscomp$120$$,"hidden-observer");this.$hiddenObserverUnlistener_$=$hiddenObserver$$.add(this.$handleMutationObserverNotification_$.bind(this))}this.$observeEntries_$.push($newState$$)};
$JSCompiler_prototypeAlias$$.unobserve=function($element$jscomp$121$$){for(var $i$jscomp$55$$=0;$i$jscomp$55$$<this.$observeEntries_$.length;$i$jscomp$55$$++)if(this.$observeEntries_$[$i$jscomp$55$$].element===$element$jscomp$121$$){this.$observeEntries_$.splice($i$jscomp$55$$,1);0>=this.$observeEntries_$.length&&$JSCompiler_StaticMethods_disconnectMutationObserver_$$(this);return}$dev$$module$src$log$$().warn("INTERSECTION-OBSERVER","unobserve non-observed element")};
$JSCompiler_prototypeAlias$$.tick=function($hostViewport$jscomp$1$$,$opt_iframe$$){$opt_iframe$$&&($hostViewport$jscomp$1$$=$moveLayoutRect$$module$src$layout_rect$$($hostViewport$jscomp$1$$,-$opt_iframe$$.left,-$opt_iframe$$.top),$opt_iframe$$=$moveLayoutRect$$module$src$layout_rect$$($opt_iframe$$,-$opt_iframe$$.left,-$opt_iframe$$.top));this.$lastViewportRect_$=$hostViewport$jscomp$1$$;this.$lastIframeRect_$=$opt_iframe$$;for(var $changes$$=[],$i$jscomp$56$$=0;$i$jscomp$56$$<this.$observeEntries_$.length;$i$jscomp$56$$++){var $change$jscomp$2$$=
$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$$(this,this.$observeEntries_$[$i$jscomp$56$$],$hostViewport$jscomp$1$$,$opt_iframe$$);$change$jscomp$2$$&&$changes$$.push($change$jscomp$2$$)}$changes$$.length&&this.$callback_$($changes$$)};
function $JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$$($JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_boundingClientRect$jscomp$inline_318_JSCompiler_inline_result$jscomp$117_JSCompiler_sortedThreshold$jscomp$inline_307$$,$state$$,$JSCompiler_hostViewport$jscomp$inline_315_hostViewport$jscomp$2$$,$JSCompiler_intersection$jscomp$inline_316_opt_iframe$jscomp$1$$){var $element$jscomp$122$$=$state$$.element,$elementRect$$=$element$jscomp$122$$.getLayoutBox(),
$JSCompiler_inline_result$jscomp$116_JSCompiler_larger$jscomp$inline_303_JSCompiler_largerBoxArea$jscomp$inline_305_owner$jscomp$1$$=$element$jscomp$122$$.getOwner(),$ownerRect$$=$JSCompiler_inline_result$jscomp$116_JSCompiler_larger$jscomp$inline_303_JSCompiler_largerBoxArea$jscomp$inline_305_owner$jscomp$1$$&&$JSCompiler_inline_result$jscomp$116_JSCompiler_larger$jscomp$inline_303_JSCompiler_largerBoxArea$jscomp$inline_305_owner$jscomp$1$$.getLayoutBox(),$intersectionRect$$=$rectIntersection$$module$src$layout_rect$$($elementRect$$,
$ownerRect$$,$JSCompiler_hostViewport$jscomp$inline_315_hostViewport$jscomp$2$$,$JSCompiler_intersection$jscomp$inline_316_opt_iframe$jscomp$1$$)||$layoutRectLtwh$$module$src$layout_rect$$(0,0,0,0),$JSCompiler_rootBounds$jscomp$inline_319_JSCompiler_smaller$jscomp$inline_302_JSCompiler_smallerBoxArea$jscomp$inline_304_JSCompiler_startIdx$jscomp$inline_309$$=$intersectionRect$$;$JSCompiler_inline_result$jscomp$116_JSCompiler_larger$jscomp$inline_303_JSCompiler_largerBoxArea$jscomp$inline_305_owner$jscomp$1$$=
$elementRect$$;$JSCompiler_rootBounds$jscomp$inline_319_JSCompiler_smaller$jscomp$inline_302_JSCompiler_smallerBoxArea$jscomp$inline_304_JSCompiler_startIdx$jscomp$inline_309$$=$JSCompiler_rootBounds$jscomp$inline_319_JSCompiler_smaller$jscomp$inline_302_JSCompiler_smallerBoxArea$jscomp$inline_304_JSCompiler_startIdx$jscomp$inline_309$$.width*$JSCompiler_rootBounds$jscomp$inline_319_JSCompiler_smaller$jscomp$inline_302_JSCompiler_smallerBoxArea$jscomp$inline_304_JSCompiler_startIdx$jscomp$inline_309$$.height;
$JSCompiler_inline_result$jscomp$116_JSCompiler_larger$jscomp$inline_303_JSCompiler_largerBoxArea$jscomp$inline_305_owner$jscomp$1$$=$JSCompiler_inline_result$jscomp$116_JSCompiler_larger$jscomp$inline_303_JSCompiler_largerBoxArea$jscomp$inline_305_owner$jscomp$1$$.width*$JSCompiler_inline_result$jscomp$116_JSCompiler_larger$jscomp$inline_303_JSCompiler_largerBoxArea$jscomp$inline_305_owner$jscomp$1$$.height;$JSCompiler_inline_result$jscomp$116_JSCompiler_larger$jscomp$inline_303_JSCompiler_largerBoxArea$jscomp$inline_305_owner$jscomp$1$$=
0===$JSCompiler_inline_result$jscomp$116_JSCompiler_larger$jscomp$inline_303_JSCompiler_largerBoxArea$jscomp$inline_305_owner$jscomp$1$$?0:$JSCompiler_rootBounds$jscomp$inline_319_JSCompiler_smaller$jscomp$inline_302_JSCompiler_smallerBoxArea$jscomp$inline_304_JSCompiler_startIdx$jscomp$inline_309$$/$JSCompiler_inline_result$jscomp$116_JSCompiler_larger$jscomp$inline_303_JSCompiler_largerBoxArea$jscomp$inline_305_owner$jscomp$1$$;$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_boundingClientRect$jscomp$inline_318_JSCompiler_inline_result$jscomp$117_JSCompiler_sortedThreshold$jscomp$inline_307$$=
$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_boundingClientRect$jscomp$inline_318_JSCompiler_inline_result$jscomp$117_JSCompiler_sortedThreshold$jscomp$inline_307$$.$threshold_$;$JSCompiler_rootBounds$jscomp$inline_319_JSCompiler_smaller$jscomp$inline_302_JSCompiler_smallerBoxArea$jscomp$inline_304_JSCompiler_startIdx$jscomp$inline_309$$=0;var $JSCompiler_endIdx$jscomp$inline_310$$=$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_boundingClientRect$jscomp$inline_318_JSCompiler_inline_result$jscomp$117_JSCompiler_sortedThreshold$jscomp$inline_307$$.length;
if(0==$JSCompiler_inline_result$jscomp$116_JSCompiler_larger$jscomp$inline_303_JSCompiler_largerBoxArea$jscomp$inline_305_owner$jscomp$1$$)$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_boundingClientRect$jscomp$inline_318_JSCompiler_inline_result$jscomp$117_JSCompiler_sortedThreshold$jscomp$inline_307$$=0;else{for(var $JSCompiler_mid$jscomp$inline_311$$=($JSCompiler_rootBounds$jscomp$inline_319_JSCompiler_smaller$jscomp$inline_302_JSCompiler_smallerBoxArea$jscomp$inline_304_JSCompiler_startIdx$jscomp$inline_309$$+
$JSCompiler_endIdx$jscomp$inline_310$$)/2|0;$JSCompiler_rootBounds$jscomp$inline_319_JSCompiler_smaller$jscomp$inline_302_JSCompiler_smallerBoxArea$jscomp$inline_304_JSCompiler_startIdx$jscomp$inline_309$$<$JSCompiler_mid$jscomp$inline_311$$;)$JSCompiler_inline_result$jscomp$116_JSCompiler_larger$jscomp$inline_303_JSCompiler_largerBoxArea$jscomp$inline_305_owner$jscomp$1$$<$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_boundingClientRect$jscomp$inline_318_JSCompiler_inline_result$jscomp$117_JSCompiler_sortedThreshold$jscomp$inline_307$$[$JSCompiler_mid$jscomp$inline_311$$]?
$JSCompiler_endIdx$jscomp$inline_310$$=$JSCompiler_mid$jscomp$inline_311$$:$JSCompiler_rootBounds$jscomp$inline_319_JSCompiler_smaller$jscomp$inline_302_JSCompiler_smallerBoxArea$jscomp$inline_304_JSCompiler_startIdx$jscomp$inline_309$$=$JSCompiler_mid$jscomp$inline_311$$,$JSCompiler_mid$jscomp$inline_311$$=($JSCompiler_rootBounds$jscomp$inline_319_JSCompiler_smaller$jscomp$inline_302_JSCompiler_smallerBoxArea$jscomp$inline_304_JSCompiler_startIdx$jscomp$inline_309$$+$JSCompiler_endIdx$jscomp$inline_310$$)/
2|0;$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_boundingClientRect$jscomp$inline_318_JSCompiler_inline_result$jscomp$117_JSCompiler_sortedThreshold$jscomp$inline_307$$=$JSCompiler_endIdx$jscomp$inline_310$$}var $newThresholdSlot$$=$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_boundingClientRect$jscomp$inline_318_JSCompiler_inline_result$jscomp$117_JSCompiler_sortedThreshold$jscomp$inline_307$$;if($newThresholdSlot$$==$state$$.currentThresholdSlot)return null;
$state$$.currentThresholdSlot=$newThresholdSlot$$;$JSCompiler_hostViewport$jscomp$inline_315_hostViewport$jscomp$2$$=$JSCompiler_intersection$jscomp$inline_316_opt_iframe$jscomp$1$$?null:$JSCompiler_hostViewport$jscomp$inline_315_hostViewport$jscomp$2$$;$JSCompiler_intersection$jscomp$inline_316_opt_iframe$jscomp$1$$=$intersectionRect$$;$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_boundingClientRect$jscomp$inline_318_JSCompiler_inline_result$jscomp$117_JSCompiler_sortedThreshold$jscomp$inline_307$$=
$elementRect$$;if($JSCompiler_rootBounds$jscomp$inline_319_JSCompiler_smaller$jscomp$inline_302_JSCompiler_smallerBoxArea$jscomp$inline_304_JSCompiler_startIdx$jscomp$inline_309$$=$JSCompiler_hostViewport$jscomp$inline_315_hostViewport$jscomp$2$$)$JSCompiler_intersection$jscomp$inline_316_opt_iframe$jscomp$1$$=$moveLayoutRect$$module$src$layout_rect$$($JSCompiler_intersection$jscomp$inline_316_opt_iframe$jscomp$1$$,-$JSCompiler_hostViewport$jscomp$inline_315_hostViewport$jscomp$2$$.left,-$JSCompiler_hostViewport$jscomp$inline_315_hostViewport$jscomp$2$$.top),
$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_boundingClientRect$jscomp$inline_318_JSCompiler_inline_result$jscomp$117_JSCompiler_sortedThreshold$jscomp$inline_307$$=$moveLayoutRect$$module$src$layout_rect$$($JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_boundingClientRect$jscomp$inline_318_JSCompiler_inline_result$jscomp$117_JSCompiler_sortedThreshold$jscomp$inline_307$$,-$JSCompiler_hostViewport$jscomp$inline_315_hostViewport$jscomp$2$$.left,
-$JSCompiler_hostViewport$jscomp$inline_315_hostViewport$jscomp$2$$.top),$JSCompiler_rootBounds$jscomp$inline_319_JSCompiler_smaller$jscomp$inline_302_JSCompiler_smallerBoxArea$jscomp$inline_304_JSCompiler_startIdx$jscomp$inline_309$$=$moveLayoutRect$$module$src$layout_rect$$($JSCompiler_rootBounds$jscomp$inline_319_JSCompiler_smaller$jscomp$inline_302_JSCompiler_smallerBoxArea$jscomp$inline_304_JSCompiler_startIdx$jscomp$inline_309$$,-$JSCompiler_hostViewport$jscomp$inline_315_hostViewport$jscomp$2$$.left,
-$JSCompiler_hostViewport$jscomp$inline_315_hostViewport$jscomp$2$$.top);var $changeEntry$$={time:"undefined"!==typeof performance&&performance.now?performance.now():Date.now()-$INIT_TIME$$module$src$intersection_observer_polyfill$$,rootBounds:$JSCompiler_rootBounds$jscomp$inline_319_JSCompiler_smaller$jscomp$inline_302_JSCompiler_smallerBoxArea$jscomp$inline_304_JSCompiler_startIdx$jscomp$inline_309$$,boundingClientRect:$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_boundingClientRect$jscomp$inline_318_JSCompiler_inline_result$jscomp$117_JSCompiler_sortedThreshold$jscomp$inline_307$$,
intersectionRect:$JSCompiler_intersection$jscomp$inline_316_opt_iframe$jscomp$1$$,intersectionRatio:$JSCompiler_inline_result$jscomp$116_JSCompiler_larger$jscomp$inline_303_JSCompiler_largerBoxArea$jscomp$inline_305_owner$jscomp$1$$,target:$element$jscomp$122$$};return $changeEntry$$}$JSCompiler_prototypeAlias$$.$handleMutationObserverNotification_$=function(){this.$mutationPass_$.isPending()||this.$mutationPass_$.schedule(16)};
$JSCompiler_prototypeAlias$$.$handleMutationObserverPass_$=function($element$jscomp$123$$){var $$jscomp$this$jscomp$46$$=this,$viewport$jscomp$4$$=$Services$$module$src$services$viewportForDoc$$($element$jscomp$123$$);$Services$$module$src$services$resourcesForDoc$$($element$jscomp$123$$).onNextPass(function(){$$jscomp$this$jscomp$46$$.tick($viewport$jscomp$4$$.getRect())})};
function $JSCompiler_StaticMethods_disconnectMutationObserver_$$($JSCompiler_StaticMethods_disconnectMutationObserver_$self$$){$JSCompiler_StaticMethods_disconnectMutationObserver_$self$$.$hiddenObserverUnlistener_$&&$JSCompiler_StaticMethods_disconnectMutationObserver_$self$$.$hiddenObserverUnlistener_$();$JSCompiler_StaticMethods_disconnectMutationObserver_$self$$.$hiddenObserverUnlistener_$=null;$JSCompiler_StaticMethods_disconnectMutationObserver_$self$$.$mutationPass_$&&$JSCompiler_StaticMethods_disconnectMutationObserver_$self$$.$mutationPass_$.cancel();
$JSCompiler_StaticMethods_disconnectMutationObserver_$self$$.$mutationPass_$=null};function $RefreshIntersectionObserverWrapper$$module$extensions$amp_a4a$0_1$refresh_intersection_observer_wrapper$$($callback$jscomp$70$$,$baseElement$jscomp$1$$,$config$jscomp$10$$){this.$intersectionObserver_$=new $IntersectionObserverPolyfill$$module$src$intersection_observer_polyfill$$($callback$jscomp$70$$,$config$jscomp$10$$);this.$viewportCallbacks_$={};this.$viewport_$=$baseElement$jscomp$1$$.getViewport();this.$updateObserver_$=!1}
$RefreshIntersectionObserverWrapper$$module$extensions$amp_a4a$0_1$refresh_intersection_observer_wrapper$$.prototype.observe=function($element$jscomp$125$$){var $$jscomp$this$jscomp$47$$=this,$refreshId$$=$element$jscomp$125$$.getAttribute("data-amp-ad-refresh-id");if(!this.$viewportCallbacks_$[$refreshId$$]){var $viewportCallback$$=$element$jscomp$125$$.viewportCallback.bind($element$jscomp$125$$);this.$viewportCallbacks_$[$refreshId$$]=$viewportCallback$$;$element$jscomp$125$$.viewportCallback=
function($element$jscomp$125$$){$$jscomp$this$jscomp$47$$.$updateObserver_$&&$$jscomp$this$jscomp$47$$.$intersectionObserver_$.tick($$jscomp$this$jscomp$47$$.$viewport_$.getRect());$viewportCallback$$($element$jscomp$125$$)}}this.$updateObserver_$=!0;this.$intersectionObserver_$.observe($element$jscomp$125$$);this.$intersectionObserver_$.tick(this.$viewport_$.getRect())};
$RefreshIntersectionObserverWrapper$$module$extensions$amp_a4a$0_1$refresh_intersection_observer_wrapper$$.prototype.unobserve=function($element$jscomp$126$$){this.$intersectionObserver_$.tick(this.$viewport_$.getRect());this.$intersectionObserver_$.unobserve($element$jscomp$126$$);this.$updateObserver_$=!1};function $getPublisherSpecifiedRefreshInterval$$module$extensions$amp_a4a$0_1$refresh_manager$$($element$jscomp$127$$,$i$jscomp$57_win$jscomp$146$$){var $refreshInterval$$=$element$jscomp$127$$.getAttribute("data-enable-refresh");if($refreshInterval$$)return $checkAndSanitizeRefreshInterval$$module$extensions$amp_a4a$0_1$refresh_manager$$($refreshInterval$$);var $metaTag$$,$metaTagContent$$=($metaTag$$=$i$jscomp$57_win$jscomp$146$$.document.getElementsByName("amp-ad-enable-refresh"))&&$metaTag$$[0]&&
$metaTag$$[0].getAttribute("content");if(!$metaTagContent$$)return null;var $networkIntervalPairs$$=$metaTagContent$$.split(",");for($i$jscomp$57_win$jscomp$146$$=0;$i$jscomp$57_win$jscomp$146$$<$networkIntervalPairs$$.length;$i$jscomp$57_win$jscomp$146$$++){var $pair$$=$networkIntervalPairs$$[$i$jscomp$57_win$jscomp$146$$].split("=");$userAssert$$module$src$log$$(2==$pair$$.length,"refresh metadata config must be of the form `network_type=refresh_interval`");if($pair$$[0].toLowerCase()==$element$jscomp$127$$.getAttribute("type").toLowerCase())return $checkAndSanitizeRefreshInterval$$module$extensions$amp_a4a$0_1$refresh_manager$$($pair$$[1])}return null}
function $checkAndSanitizeRefreshInterval$$module$extensions$amp_a4a$0_1$refresh_manager$$($refreshInterval$jscomp$1$$){var $refreshIntervalNum$$=Number($refreshInterval$jscomp$1$$);return isNaN($refreshIntervalNum$$)||30>$refreshIntervalNum$$?($user$$module$src$log$$().warn("AMP-AD","invalid refresh interval, must be a number no less than 30: "+$refreshInterval$jscomp$1$$),null):1E3*$refreshIntervalNum$$}
var $observers$$module$extensions$amp_a4a$0_1$refresh_manager$$={},$managers$$module$extensions$amp_a4a$0_1$refresh_manager$$={},$refreshManagerIdCounter$$module$extensions$amp_a4a$0_1$refresh_manager$$=0;
function $getRefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager$$($a4a$jscomp$5$$,$opt_predicate$$){var $refreshInterval$jscomp$2$$=$getPublisherSpecifiedRefreshInterval$$module$extensions$amp_a4a$0_1$refresh_manager$$($a4a$jscomp$5$$.element,$a4a$jscomp$5$$.win);return!$refreshInterval$jscomp$2$$||$opt_predicate$$&&!$opt_predicate$$()?null:new $RefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager$$($a4a$jscomp$5$$,$refreshInterval$jscomp$2$$)}
function $RefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager$$($a4a$jscomp$6$$,$refreshInterval$jscomp$3$$){var $config$jscomp$11$$=$dict$$module$src$utils$object$$({visiblePercentageMin:50,continuousTimeMin:1});this.$state_$="initial";this.$a4a_$=$a4a$jscomp$6$$;this.$win_$=$a4a$jscomp$6$$.win;this.$element_$=$a4a$jscomp$6$$.element;this.$adType_$=this.$element_$.getAttribute("type").toLowerCase();this.$refreshInterval_$=$refreshInterval$jscomp$3$$;$config$jscomp$11$$.continuousTimeMin*=
1E3;$config$jscomp$11$$.visiblePercentageMin/=100;this.$config_$=$config$jscomp$11$$;this.$timer_$=$Services$$module$src$services$timerFor$$(this.$win_$);this.$visibilityTimeoutId_$=this.$refreshTimeoutId_$=null;var $managerId$$=String($refreshManagerIdCounter$$module$extensions$amp_a4a$0_1$refresh_manager$$++);this.$element_$.setAttribute("data-amp-ad-refresh-id",$managerId$$);$managers$$module$extensions$amp_a4a$0_1$refresh_manager$$[$managerId$$]=this;this.initiateRefreshCycle()}
function $JSCompiler_StaticMethods_getIntersectionObserverWithThreshold_$$($JSCompiler_StaticMethods_getIntersectionObserverWithThreshold_$self$$,$threshold$jscomp$1$$){var $thresholdString$$=String($threshold$jscomp$1$$);return $observers$$module$extensions$amp_a4a$0_1$refresh_manager$$[$thresholdString$$]||($observers$$module$extensions$amp_a4a$0_1$refresh_manager$$[$thresholdString$$]="IntersectionObserver"in $JSCompiler_StaticMethods_getIntersectionObserverWithThreshold_$self$$.$win_$?new $JSCompiler_StaticMethods_getIntersectionObserverWithThreshold_$self$$.$win_$.IntersectionObserver($JSCompiler_StaticMethods_getIntersectionObserverWithThreshold_$self$$.$ioCallback_$,
{threshold:$threshold$jscomp$1$$}):new $RefreshIntersectionObserverWrapper$$module$extensions$amp_a4a$0_1$refresh_intersection_observer_wrapper$$($JSCompiler_StaticMethods_getIntersectionObserverWithThreshold_$self$$.$ioCallback_$,$JSCompiler_StaticMethods_getIntersectionObserverWithThreshold_$self$$.$a4a_$,{threshold:$threshold$jscomp$1$$}))}
$RefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager$$.prototype.$ioCallback_$=function($entries$jscomp$1$$){$entries$jscomp$1$$.forEach(function($entries$jscomp$1$$){var $entry$jscomp$1$$=$entries$jscomp$1$$.target.getAttribute("data-amp-ad-refresh-id"),$refreshManager$$=$managers$$module$extensions$amp_a4a$0_1$refresh_manager$$[$entry$jscomp$1$$];if($entries$jscomp$1$$.target==$refreshManager$$.$element_$)switch($refreshManager$$.$state_$){case "initial":$entries$jscomp$1$$.intersectionRatio>=
$refreshManager$$.$config_$.visiblePercentageMin&&($refreshManager$$.$state_$="view_pending",$refreshManager$$.$visibilityTimeoutId_$=$refreshManager$$.$timer_$.delay(function(){$refreshManager$$.$state_$="refresh_pending";$JSCompiler_StaticMethods_startRefreshTimer_$$($refreshManager$$)},$refreshManager$$.$config_$.continuousTimeMin));break;case "view_pending":$entries$jscomp$1$$.intersectionRatio<$refreshManager$$.$config_$.visiblePercentageMin&&($refreshManager$$.$timer_$.cancel($refreshManager$$.$visibilityTimeoutId_$),
$refreshManager$$.$visibilityTimeoutId_$=null,$refreshManager$$.$state_$="initial")}})};$RefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager$$.prototype.initiateRefreshCycle=function(){switch(this.$state_$){case "initial":$JSCompiler_StaticMethods_getIntersectionObserverWithThreshold_$$(this,this.$config_$.visiblePercentageMin).observe(this.$element_$)}};
function $JSCompiler_StaticMethods_startRefreshTimer_$$($JSCompiler_StaticMethods_startRefreshTimer_$self$$){new Promise(function($resolve$jscomp$15$$){$JSCompiler_StaticMethods_startRefreshTimer_$self$$.$refreshTimeoutId_$=$JSCompiler_StaticMethods_startRefreshTimer_$self$$.$timer_$.delay(function(){$JSCompiler_StaticMethods_startRefreshTimer_$self$$.$state_$="initial";$JSCompiler_StaticMethods_startRefreshTimer_$self$$.unobserve();$JSCompiler_StaticMethods_startRefreshTimer_$self$$.$a4a_$.refresh(function(){return $JSCompiler_StaticMethods_startRefreshTimer_$self$$.initiateRefreshCycle()});
$resolve$jscomp$15$$(!0)},$JSCompiler_StaticMethods_startRefreshTimer_$self$$.$refreshInterval_$)})}$RefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager$$.prototype.unobserve=function(){$JSCompiler_StaticMethods_getIntersectionObserverWithThreshold_$$(this,this.$config_$.visiblePercentageMin).unobserve(this.$element_$)};function $throttle$$module$src$utils$rate_limit$$($win$jscomp$147$$,$callback$jscomp$71$$){function $fire$$($fire$$){$nextCallArgs$$=null;$locker$$=$win$jscomp$147$$.setTimeout($waiter$$,$minInterval$$);$callback$jscomp$71$$.apply(null,$fire$$)}function $waiter$$(){$locker$$=0;$nextCallArgs$$&&$fire$$($nextCallArgs$$)}var $minInterval$$=1E3,$locker$$=0,$nextCallArgs$$=null;return function($win$jscomp$147$$){for(var $callback$jscomp$71$$=[],$waiter$$=0;$waiter$$<arguments.length;++$waiter$$)$callback$jscomp$71$$[$waiter$$-
0]=arguments[$waiter$$];$locker$$?$nextCallArgs$$=$callback$jscomp$71$$:$fire$$($callback$jscomp$71$$)}};var $safeframeHosts$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$={},$safeframeListenerCreated_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$=!1;
function $safeframeListener$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$($event$jscomp$13_payload$jscomp$2$$){var $data$jscomp$68$$=$tryParseJson$$module$src$json$$($event$jscomp$13_payload$jscomp$2$$.data);if("https://tpc.googlesyndication.com"==$event$jscomp$13_payload$jscomp$2$$.origin&&$data$jscomp$68$$){$event$jscomp$13_payload$jscomp$2$$=$tryParseJson$$module$src$json$$($data$jscomp$68$$.p)||{};var $sentinel$jscomp$7$$=$data$jscomp$68$$.e||$event$jscomp$13_payload$jscomp$2$$.sentinel,
$safeframeHost$$=$safeframeHosts$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$[$sentinel$jscomp$7$$];$safeframeHost$$?$safeframeHost$$.channel?$event$jscomp$13_payload$jscomp$2$$&&$safeframeHost$$.processMessage($event$jscomp$13_payload$jscomp$2$$,$data$jscomp$68$$.s):$safeframeHost$$.connectMessagingChannel($data$jscomp$68$$.c):$dev$$module$src$log$$().warn("AMP-DOUBLECLICK-SAFEFRAME","Safeframe Host for sentinel: "+$sentinel$jscomp$7$$+" not found.")}}
function $SafeframeHostApi$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$($baseInstance$jscomp$2$$,$isFluid$$,$creativeSize$$){this.$baseInstance_$=$baseInstance$jscomp$2$$;this.$checkStillCurrent_$=this.$baseInstance_$.verifyStillCurrent.bind(this.$baseInstance_$)();this.$win_$=this.$baseInstance_$.win;this.$sentinel_$=this.$baseInstance_$.sentinel;this.$currentGeometry_$=this.channel=this.$iframe_$=null;this.$endpointIdentity_$=Math.random();this.$uid_$=Math.random();this.$isFluid_$=
$isFluid$$;this.$creativeSize_$=$creativeSize$$;this.$initialCreativeSize_$=Object.assign({},$creativeSize$$);this.$delay_$=null;this.$viewport_$=this.$baseInstance_$.getViewport();this.$isCollapsed_$=!0;this.$isRegistered_$=!1;var $sfConfig$$=Object($tryParseJson$$module$src$json$$(this.$baseInstance_$.element.getAttribute("data-safeframe-config"))||{});this.$expandByOverlay_$=$hasOwn_$$module$src$utils$object$$.call($sfConfig$$,"expandByOverlay")?$sfConfig$$.expandByOverlay:!0;this.$expandByPush_$=
$hasOwn_$$module$src$utils$object$$.call($sfConfig$$,"expandByPush")?$sfConfig$$.expandByPush:!0;this.$unlisten_$=null;this.registerSafeframeHost()}$JSCompiler_prototypeAlias$$=$SafeframeHostApi$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$.prototype;
$JSCompiler_prototypeAlias$$.getSafeframeNameAttr=function(){var $attributes$jscomp$8$$=$dict$$module$src$utils$object$$({});$attributes$jscomp$8$$.uid=this.$uid_$;$attributes$jscomp$8$$.hostPeerName=this.$win_$.location.origin;$attributes$jscomp$8$$.initialGeometry=this.getInitialGeometry();$attributes$jscomp$8$$.permissions=JSON.stringify($dict$$module$src$utils$object$$({expandByOverlay:this.$expandByOverlay_$,expandByPush:this.$expandByPush_$,readCookie:!1,writeCookie:!1}));$attributes$jscomp$8$$.metadata=
JSON.stringify($dict$$module$src$utils$object$$({shared:{sf_ver:this.$baseInstance_$.safeframeVersion,ck_on:1,flash_ver:"26.0.0",canonical_url:this.maybeGetCanonicalUrl(),amp:{canonical_url:this.maybeGetCanonicalUrl()}}}));$attributes$jscomp$8$$.reportCreativeGeometry=this.$isFluid_$;$attributes$jscomp$8$$.isDifferentSourceWindow=!1;$attributes$jscomp$8$$.sentinel=this.$sentinel_$;return $attributes$jscomp$8$$};
$JSCompiler_prototypeAlias$$.maybeGetCanonicalUrl=function(){var $canonicalUrl$jscomp$1$$=$Services$$module$src$services$documentInfoForDoc$$(this.$baseInstance_$.getAmpDoc()).canonicalUrl,$metaReferrer$$=this.$win_$.document.querySelector("meta[name='referrer']");if(!$metaReferrer$$)return $canonicalUrl$jscomp$1$$;switch($metaReferrer$$.getAttribute("content")){case "same-origin":return;case "no-referrer":return;case "origin":return $parseUrlDeprecated$$module$src$url$$($canonicalUrl$jscomp$1$$).origin}return $canonicalUrl$jscomp$1$$};
$JSCompiler_prototypeAlias$$.getInitialGeometry=function(){var $ampAdBox$$=this.$baseInstance_$.getPageLayoutBox(),$heightOffset$$=($ampAdBox$$.height-this.$creativeSize_$.height)/2,$widthOffset$$=($ampAdBox$$.width-this.$creativeSize_$.width)/2,$iframeBox$$={top:$ampAdBox$$.top+$heightOffset$$,bottom:$ampAdBox$$.bottom-$heightOffset$$,left:$ampAdBox$$.left+$widthOffset$$,right:$ampAdBox$$.right-$widthOffset$$,height:this.$initialCreativeSize_$.height,width:this.$initialCreativeSize_$.width};return $JSCompiler_StaticMethods_formatGeom_$$(this,
$iframeBox$$)};
$JSCompiler_prototypeAlias$$.registerSafeframeHost=function(){$safeframeHosts$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$[this.$sentinel_$]=$safeframeHosts$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$[this.$sentinel_$]||this;$safeframeListenerCreated_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$||($safeframeListenerCreated_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$=!0,this.$win_$.addEventListener("message",$safeframeListener$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$,
!1))};$JSCompiler_prototypeAlias$$.connectMessagingChannel=function($channel$jscomp$1$$){this.$iframe_$=this.$baseInstance_$.iframe;this.channel=$channel$jscomp$1$$;$JSCompiler_StaticMethods_setupGeom_$$(this);$JSCompiler_StaticMethods_sendMessage_$$(this,{message:"connect",c:this.channel},"")};
function $JSCompiler_StaticMethods_setupGeom_$$($JSCompiler_StaticMethods_setupGeom_$self$$){var $throttledUpdate$$=$throttle$$module$src$utils$rate_limit$$($JSCompiler_StaticMethods_setupGeom_$self$$.$win_$,$JSCompiler_StaticMethods_setupGeom_$self$$.$updateGeometry_$.bind($JSCompiler_StaticMethods_setupGeom_$self$$)),$scrollUnlistener$$=$JSCompiler_StaticMethods_setupGeom_$self$$.$viewport_$.onScroll($throttledUpdate$$),$changedUnlistener$$=$JSCompiler_StaticMethods_setupGeom_$self$$.$viewport_$.onChanged($throttledUpdate$$);
$JSCompiler_StaticMethods_setupGeom_$self$$.$unlisten_$=function(){$scrollUnlistener$$();$changedUnlistener$$()};$JSCompiler_StaticMethods_setupGeom_$self$$.$updateGeometry_$()}
$JSCompiler_prototypeAlias$$.$updateGeometry_$=function(){var $$jscomp$this$jscomp$49$$=this;this.$iframe_$&&this.$viewport_$.getClientRectAsync(this.$iframe_$).then(function($iframeBox$jscomp$1$$){$$jscomp$this$jscomp$49$$.$checkStillCurrent_$();var $formattedGeom$$=$JSCompiler_StaticMethods_formatGeom_$$($$jscomp$this$jscomp$49$$,$iframeBox$jscomp$1$$);$JSCompiler_StaticMethods_sendMessage_$$($$jscomp$this$jscomp$49$$,{newGeometry:$formattedGeom$$,uid:$$jscomp$this$jscomp$49$$.$uid_$},"geometry_update")}).catch(function($$jscomp$this$jscomp$49$$){return $dev$$module$src$log$$().error("AMP-DOUBLECLICK-SAFEFRAME",
$$jscomp$this$jscomp$49$$)})};
function $JSCompiler_StaticMethods_formatGeom_$$($JSCompiler_StaticMethods_formatGeom_$self$$,$iframeBox$jscomp$2$$){var $viewportSize$jscomp$2$$=$JSCompiler_StaticMethods_formatGeom_$self$$.$viewport_$.getSize(),$scrollLeft$$=$JSCompiler_StaticMethods_formatGeom_$self$$.$viewport_$.getScrollLeft(),$scrollTop$$=$JSCompiler_StaticMethods_formatGeom_$self$$.$viewport_$.getScrollTop(),$currentGeometry$$={windowCoords_t:0,windowCoords_r:$viewportSize$jscomp$2$$.width,windowCoords_b:$viewportSize$jscomp$2$$.height,windowCoords_l:0,
frameCoords_t:$iframeBox$jscomp$2$$.top+$scrollTop$$,frameCoords_r:$iframeBox$jscomp$2$$.right+$scrollLeft$$,frameCoords_b:$iframeBox$jscomp$2$$.bottom+$scrollTop$$,frameCoords_l:$iframeBox$jscomp$2$$.left+$scrollLeft$$,posCoords_t:$iframeBox$jscomp$2$$.top,posCoords_b:$iframeBox$jscomp$2$$.bottom,posCoords_r:$iframeBox$jscomp$2$$.right,posCoords_l:$iframeBox$jscomp$2$$.left,styleZIndex:$getStyle$$module$src$style$$($JSCompiler_StaticMethods_formatGeom_$self$$.$baseInstance_$.element,"zIndex"),allowedExpansion_r:$viewportSize$jscomp$2$$.width-
$iframeBox$jscomp$2$$.width,allowedExpansion_b:$viewportSize$jscomp$2$$.height-$iframeBox$jscomp$2$$.height,allowedExpansion_t:0,allowedExpansion_l:0,yInView:$JSCompiler_StaticMethods_formatGeom_$self$$.getPercInView($viewportSize$jscomp$2$$.height,$iframeBox$jscomp$2$$.top,$iframeBox$jscomp$2$$.bottom),xInView:$JSCompiler_StaticMethods_formatGeom_$self$$.getPercInView($viewportSize$jscomp$2$$.width,$iframeBox$jscomp$2$$.left,$iframeBox$jscomp$2$$.right)};$JSCompiler_StaticMethods_formatGeom_$self$$.$currentGeometry_$=
$currentGeometry$$;return JSON.stringify($currentGeometry$$)}$JSCompiler_prototypeAlias$$.getPercInView=function($rootBoundEnd$$,$boundingRectStart$$,$boundingRectEnd$$){var $lengthInView$$=$boundingRectEnd$$>=$rootBoundEnd$$?$rootBoundEnd$$-$boundingRectStart$$:$boundingRectEnd$$,$percInView$$=$lengthInView$$/($boundingRectEnd$$-$boundingRectStart$$);return Math.max(0,Math.min(1,$percInView$$))||0};
function $JSCompiler_StaticMethods_sendMessage_$$($JSCompiler_StaticMethods_sendMessage_$self$$,$payload$jscomp$3$$,$serviceName$$){if($JSCompiler_StaticMethods_sendMessage_$self$$.$iframe_$.contentWindow){var $message$jscomp$40$$={};$message$jscomp$40$$.c=$JSCompiler_StaticMethods_sendMessage_$self$$.channel;$message$jscomp$40$$.p=JSON.stringify($payload$jscomp$3$$);$message$jscomp$40$$.s=$serviceName$$;$message$jscomp$40$$.e=$JSCompiler_StaticMethods_sendMessage_$self$$.$sentinel_$;$message$jscomp$40$$.i=
$JSCompiler_StaticMethods_sendMessage_$self$$.$endpointIdentity_$;$JSCompiler_StaticMethods_sendMessage_$self$$.$iframe_$.contentWindow.postMessage(JSON.stringify($message$jscomp$40$$),"https://tpc.googlesyndication.com")}else $dev$$module$src$log$$().error("AMP-DOUBLECLICK-SAFEFRAME","Frame contentWindow unavailable.")}
$JSCompiler_prototypeAlias$$.processMessage=function($JSCompiler_resizeWidth$jscomp$inline_334_payload$jscomp$4$$,$JSCompiler_expandHeight$jscomp$inline_326_JSCompiler_resizeHeight$jscomp$inline_333_service$jscomp$16$$){switch($JSCompiler_expandHeight$jscomp$inline_326_JSCompiler_resizeHeight$jscomp$inline_333_service$jscomp$16$$){case "creative_geometry_update":$JSCompiler_StaticMethods_handleFluidMessage_$$(this,$JSCompiler_resizeWidth$jscomp$inline_334_payload$jscomp$4$$);break;case "expand_request":if(this.$isRegistered_$){$JSCompiler_expandHeight$jscomp$inline_326_JSCompiler_resizeHeight$jscomp$inline_333_service$jscomp$16$$=
Number(this.$creativeSize_$.height)+$JSCompiler_resizeWidth$jscomp$inline_334_payload$jscomp$4$$.expand_b+$JSCompiler_resizeWidth$jscomp$inline_334_payload$jscomp$4$$.expand_t;var $JSCompiler_expandWidth$jscomp$inline_327$$=Number(this.$creativeSize_$.width)+$JSCompiler_resizeWidth$jscomp$inline_334_payload$jscomp$4$$.expand_r+$JSCompiler_resizeWidth$jscomp$inline_334_payload$jscomp$4$$.expand_l;isNaN($JSCompiler_expandHeight$jscomp$inline_326_JSCompiler_resizeHeight$jscomp$inline_333_service$jscomp$16$$)||
isNaN($JSCompiler_expandWidth$jscomp$inline_327$$)||$JSCompiler_resizeWidth$jscomp$inline_334_payload$jscomp$4$$.push&&!this.$expandByPush_$||!$JSCompiler_resizeWidth$jscomp$inline_334_payload$jscomp$4$$.push&&!this.$expandByOverlay_$&&($JSCompiler_expandWidth$jscomp$inline_327$$>this.$creativeSize_$.width||$JSCompiler_expandHeight$jscomp$inline_326_JSCompiler_resizeHeight$jscomp$inline_333_service$jscomp$16$$>this.$creativeSize_$.height)?($dev$$module$src$log$$().error("AMP-DOUBLECLICK-SAFEFRAME",
"Invalid expand values."),this.sendResizeResponse(!1,"expand_response")):$JSCompiler_expandHeight$jscomp$inline_326_JSCompiler_resizeHeight$jscomp$inline_333_service$jscomp$16$$>this.$viewport_$.getSize().height||$JSCompiler_expandWidth$jscomp$inline_327$$>this.$viewport_$.getSize().width?this.sendResizeResponse(!1,"expand_response"):this.handleSizeChange($JSCompiler_expandHeight$jscomp$inline_326_JSCompiler_resizeHeight$jscomp$inline_333_service$jscomp$16$$,$JSCompiler_expandWidth$jscomp$inline_327$$,
"expand_response")}break;case "register_done":this.$isRegistered_$=!0;break;case "collapse_request":this.$isCollapsed_$||!this.$isRegistered_$?this.sendResizeResponse(!1,"collapse_response"):this.handleSizeChange(this.$initialCreativeSize_$.height,this.$initialCreativeSize_$.width,"collapse_response",!0);break;case "resize_request":this.$isRegistered_$&&($JSCompiler_expandHeight$jscomp$inline_326_JSCompiler_resizeHeight$jscomp$inline_333_service$jscomp$16$$=Number(this.$creativeSize_$.height)+($JSCompiler_resizeWidth$jscomp$inline_334_payload$jscomp$4$$.resize_b+
$JSCompiler_resizeWidth$jscomp$inline_334_payload$jscomp$4$$.resize_t),$JSCompiler_resizeWidth$jscomp$inline_334_payload$jscomp$4$$=Number(this.$creativeSize_$.width)+($JSCompiler_resizeWidth$jscomp$inline_334_payload$jscomp$4$$.resize_r+$JSCompiler_resizeWidth$jscomp$inline_334_payload$jscomp$4$$.resize_l),isNaN($JSCompiler_resizeWidth$jscomp$inline_334_payload$jscomp$4$$)||isNaN($JSCompiler_expandHeight$jscomp$inline_326_JSCompiler_resizeHeight$jscomp$inline_333_service$jscomp$16$$)?$dev$$module$src$log$$().error("AMP-DOUBLECLICK-SAFEFRAME",
"Invalid resize values."):this.resizeAmpAdAndSafeframe($JSCompiler_expandHeight$jscomp$inline_326_JSCompiler_resizeHeight$jscomp$inline_333_service$jscomp$16$$,$JSCompiler_resizeWidth$jscomp$inline_334_payload$jscomp$4$$,"resize_response",!0))}};
$JSCompiler_prototypeAlias$$.resizeSafeframe=function($height$jscomp$33$$,$width$jscomp$34$$,$messageType$$){var $$jscomp$this$jscomp$50$$=this;this.$isCollapsed_$="collapse_response"==$messageType$$;this.$baseInstance_$.measureMutateElement(function(){$$jscomp$this$jscomp$50$$.$baseInstance_$.getResource().measure()},function(){$$jscomp$this$jscomp$50$$.$iframe_$&&($setStyles$$module$src$style$$($$jscomp$this$jscomp$50$$.$iframe_$,{height:$height$jscomp$33$$+"px",width:$width$jscomp$34$$+"px"}),
$$jscomp$this$jscomp$50$$.$creativeSize_$.height=$height$jscomp$33$$,$$jscomp$this$jscomp$50$$.$creativeSize_$.width=$width$jscomp$34$$);$$jscomp$this$jscomp$50$$.sendResizeResponse(!0,$messageType$$)},this.$iframe_$)};
$JSCompiler_prototypeAlias$$.handleSizeChange=function($height$jscomp$34$$,$width$jscomp$35$$,$messageType$jscomp$1$$,$optIsCollapse$$){var $$jscomp$this$jscomp$51$$=this;return this.$viewport_$.getClientRectAsync(this.$baseInstance_$.element).then(function($box$jscomp$2$$){!$optIsCollapse$$&&$width$jscomp$35$$<=$box$jscomp$2$$.width&&$height$jscomp$34$$<=$box$jscomp$2$$.height?$$jscomp$this$jscomp$51$$.resizeSafeframe($height$jscomp$34$$,$width$jscomp$35$$,$messageType$jscomp$1$$):$$jscomp$this$jscomp$51$$.resizeAmpAdAndSafeframe($height$jscomp$34$$,
$width$jscomp$35$$,$messageType$jscomp$1$$,$optIsCollapse$$)})};
$JSCompiler_prototypeAlias$$.sendResizeResponse=function($success$jscomp$2$$,$messageType$jscomp$2$$){var $$jscomp$this$jscomp$52$$=this;this.$iframe_$&&this.$viewport_$.getClientRectAsync(this.$iframe_$).then(function($formattedGeom$jscomp$1_iframeBox$jscomp$3$$){$$jscomp$this$jscomp$52$$.$checkStillCurrent_$();$formattedGeom$jscomp$1_iframeBox$jscomp$3$$=$JSCompiler_StaticMethods_formatGeom_$$($$jscomp$this$jscomp$52$$,$formattedGeom$jscomp$1_iframeBox$jscomp$3$$);$JSCompiler_StaticMethods_sendMessage_$$($$jscomp$this$jscomp$52$$,
{uid:$$jscomp$this$jscomp$52$$.$uid_$,success:$success$jscomp$2$$,newGeometry:$formattedGeom$jscomp$1_iframeBox$jscomp$3$$,expand_t:$$jscomp$this$jscomp$52$$.$currentGeometry_$.allowedExpansion_t,expand_b:$$jscomp$this$jscomp$52$$.$currentGeometry_$.allowedExpansion_b,expand_r:$$jscomp$this$jscomp$52$$.$currentGeometry_$.allowedExpansion_r,expand_l:$$jscomp$this$jscomp$52$$.$currentGeometry_$.allowedExpansion_l,push:!0},$messageType$jscomp$2$$)}).catch(function($success$jscomp$2$$){return $dev$$module$src$log$$().error("AMP-DOUBLECLICK-SAFEFRAME",
$success$jscomp$2$$)})};
$JSCompiler_prototypeAlias$$.resizeAmpAdAndSafeframe=function($height$jscomp$35$$,$width$jscomp$36$$,$messageType$jscomp$3$$,$opt_isShrinking$$){var $$jscomp$this$jscomp$53$$=this;this.$baseInstance_$.attemptChangeSize($height$jscomp$35$$,$width$jscomp$36$$).then(function(){$$jscomp$this$jscomp$53$$.$checkStillCurrent_$();$$jscomp$this$jscomp$53$$.resizeSafeframe($height$jscomp$35$$,$width$jscomp$36$$,$messageType$jscomp$3$$)},function(){$$jscomp$this$jscomp$53$$.$baseInstance_$.getResource().resetPendingChangeSize();$opt_isShrinking$$?
$$jscomp$this$jscomp$53$$.resizeSafeframe($height$jscomp$35$$,$width$jscomp$36$$,$messageType$jscomp$3$$):$$jscomp$this$jscomp$53$$.sendResizeResponse(!1,$messageType$jscomp$3$$)}).catch(function($height$jscomp$35$$){"CANCELLED"==$height$jscomp$35$$.message?$dev$$module$src$log$$().error("AMP-DOUBLECLICK-SAFEFRAME",$height$jscomp$35$$):($dev$$module$src$log$$().error("AMP-DOUBLECLICK-SAFEFRAME","Resizing failed: "+$height$jscomp$35$$),$$jscomp$this$jscomp$53$$.sendResizeResponse(!1,$messageType$jscomp$3$$))})};
function $JSCompiler_StaticMethods_handleFluidMessage_$$($JSCompiler_StaticMethods_handleFluidMessage_$self$$,$payload$jscomp$7$$){var $newHeight$jscomp$1$$;$payload$jscomp$7$$&&($newHeight$jscomp$1$$=parseInt($payload$jscomp$7$$.height,10))&&$JSCompiler_StaticMethods_handleFluidMessage_$self$$.$baseInstance_$.attemptChangeHeight($newHeight$jscomp$1$$).then(function(){$JSCompiler_StaticMethods_handleFluidMessage_$self$$.$checkStillCurrent_$();var $payload$jscomp$7$$=$newHeight$jscomp$1$$,$JSCompiler_iframe$jscomp$inline_338$$=
$JSCompiler_StaticMethods_handleFluidMessage_$self$$.$baseInstance_$.iframe;(parseInt($getStyle$$module$src$style$$($JSCompiler_iframe$jscomp$inline_338$$,"height"),10)||0)!=$payload$jscomp$7$$&&$setStyles$$module$src$style$$($JSCompiler_iframe$jscomp$inline_338$$,{height:$payload$jscomp$7$$+"px"});$JSCompiler_StaticMethods_handleFluidMessage_$self$$.$baseInstance_$.fireFluidDelayedImpression();$JSCompiler_StaticMethods_handleFluidMessage_$self$$.$iframe_$.contentWindow.postMessage(JSON.stringify($dict$$module$src$utils$object$$({message:"resize-complete",
c:$JSCompiler_StaticMethods_handleFluidMessage_$self$$.channel})),"https://tpc.googlesyndication.com")}).catch(function($JSCompiler_StaticMethods_handleFluidMessage_$self$$){"CANCELLED"==$JSCompiler_StaticMethods_handleFluidMessage_$self$$.message&&$dev$$module$src$log$$().error("AMP-DOUBLECLICK-SAFEFRAME",$JSCompiler_StaticMethods_handleFluidMessage_$self$$)})}
$JSCompiler_prototypeAlias$$.destroy=function(){this.$iframe_$=null;delete $safeframeHosts$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$[this.$sentinel_$];this.$unlisten_$&&this.$unlisten_$();0==Object.keys($safeframeHosts$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$).length&&(window.removeEventListener("message",$safeframeListener$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$,!1),$safeframeListenerCreated_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$=
!1)};var $SRA_JOINERS$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$=[$combineInventoryUnits$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$getCookieOptOut$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$getAdks$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$getSizes$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$getTfcd$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$isAdTest$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,
$getTargetingAndExclusions$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$getExperimentIds$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$getIdentity$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$getForceSafeframe$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$getPageOffsets$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,$getContainers$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$,
$getIsFluid$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$];function $constructSRABlockParameters$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$$){var $parameters$jscomp$2$$={output:"ldjh",impl:"fifs"};$SRA_JOINERS$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$.forEach(function($joiner$$){return Object.assign($parameters$jscomp$2$$,$joiner$$($impls$$))});return $parameters$jscomp$2$$}
function $getFirstInstanceValue_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$1$$,$extractFn$$){for(var $i$jscomp$58$$=0;$i$jscomp$58$$<$impls$jscomp$1$$.length;$i$jscomp$58$$++){var $val$jscomp$7$$=$extractFn$$($impls$jscomp$1$$[$i$jscomp$58$$]);if($val$jscomp$7$$)return $val$jscomp$7$$}return null}
function $combineInventoryUnits$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$2$$){var $uniqueIuNames$$={},$iuNamesOutput$$=[],$uniqueIuNamesCount$$=0,$prevIusEncoded$$=[];$impls$jscomp$2$$.forEach(function($impls$jscomp$2$$){var $i$jscomp$59_instance$jscomp$1$$=$impls$jscomp$2$$.element.getAttribute("data-slot"),$componentNames$$=$i$jscomp$59_instance$jscomp$1$$.split("/"),$encodedNames$$=[];for($impls$jscomp$2$$=0;$impls$jscomp$2$$<$componentNames$$.length;$impls$jscomp$2$$++)if(""!=
$componentNames$$[$impls$jscomp$2$$]){var $index$jscomp$77$$=$uniqueIuNames$$[$componentNames$$[$impls$jscomp$2$$]];void 0==$index$jscomp$77$$&&($iuNamesOutput$$.push($componentNames$$[$impls$jscomp$2$$]),$uniqueIuNames$$[$componentNames$$[$impls$jscomp$2$$]]=$index$jscomp$77$$=$uniqueIuNamesCount$$++);$encodedNames$$.push($index$jscomp$77$$)}$prevIusEncoded$$.push($encodedNames$$.join("/"))});return{iu_parts:$iuNamesOutput$$.join(),enc_prev_ius:$prevIusEncoded$$.join()}}
function $getCookieOptOut$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$3$$){return $getFirstInstanceValue_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$3$$,function($impls$jscomp$3$$){return $impls$jscomp$3$$.jsonTargeting&&$impls$jscomp$3$$.jsonTargeting.cookieOptOut?{co:"1"}:null})}
function $getAdks$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$4$$){return{adks:$impls$jscomp$4$$.map(function($impls$jscomp$4$$){return $impls$jscomp$4$$.adKey}).join()}}function $getSizes$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$5$$){return{prev_iu_szs:$impls$jscomp$5$$.map(function($impls$jscomp$5$$){return $impls$jscomp$5$$.parameterSize}).join()}}
function $getTfcd$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$6$$){return $getFirstInstanceValue_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$6$$,function($impls$jscomp$6$$){return $impls$jscomp$6$$.jsonTargeting&&$impls$jscomp$6$$.jsonTargeting.tagForChildDirectedTreatment?{tfcd:$impls$jscomp$6$$.jsonTargeting.tagForChildDirectedTreatment}:null})}
function $isAdTest$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$7$$){return $getFirstInstanceValue_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$7$$,function($impls$jscomp$7$$){return $isInExperiment$$module$ads$google$a4a$traffic_experiments$$($impls$jscomp$7$$.element)?{adtest:"on"}:null})}
function $getTargetingAndExclusions$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$8$$){var $hasScp$$=!1,$scps$$=[];$impls$jscomp$8$$.forEach(function($impls$jscomp$8$$){$impls$jscomp$8$$.jsonTargeting&&($impls$jscomp$8$$.jsonTargeting.targeting||$impls$jscomp$8$$.jsonTargeting.categoryExclusions)?($hasScp$$=!0,$scps$$.push($serializeTargeting$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$8$$.jsonTargeting.targeting||null,$impls$jscomp$8$$.jsonTargeting.categoryExclusions||
null))):$scps$$.push("")});return $hasScp$$?{prev_scp:$scps$$.join("|")}:null}
function $getExperimentIds$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$9$$){var $eids$jscomp$2$$={},$deid$$=$impls$jscomp$9$$.length&&/(?:#|,)deid=([\d,]+)/i.exec($impls$jscomp$9$$[0].win.location.hash)||[];($deid$$[1]||"").split(",").forEach(function($impls$jscomp$9$$){return $impls$jscomp$9$$&&($eids$jscomp$2$$[$impls$jscomp$9$$]=1)});$impls$jscomp$9$$.forEach(function($impls$jscomp$9$$){return $impls$jscomp$9$$.experimentIds.forEach(function($impls$jscomp$9$$){return $eids$jscomp$2$$[$impls$jscomp$9$$]=1})});
var $eidKeys$$=Object.keys($eids$jscomp$2$$).join();return $eidKeys$$?{eid:$eidKeys$$}:null}function $getIdentity$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$10$$){return $getFirstInstanceValue_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$10$$,function($impls$jscomp$10$$){return $impls$jscomp$10$$.buildIdentityParams()})}
function $getForceSafeframe$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$11$$){var $safeframeForced$$=!1,$forceSafeframes$$=[];$impls$jscomp$11$$.forEach(function($impls$jscomp$11$$){$safeframeForced$$=$safeframeForced$$||$impls$jscomp$11$$.forceSafeframe;$forceSafeframes$$.push(Number($impls$jscomp$11$$.forceSafeframe))});return $safeframeForced$$?{fsfs:$forceSafeframes$$.join()}:null}
function $getPageOffsets$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$12$$){var $adxs$$=[],$adys$$=[];$impls$jscomp$12$$.forEach(function($impls$jscomp$12$$){$impls$jscomp$12$$=$impls$jscomp$12$$.getPageLayoutBox();$adxs$$.push($impls$jscomp$12$$.left);$adys$$.push($impls$jscomp$12$$.top)});return{adxs:$adxs$$.join(),adys:$adys$$.join()}}
function $getContainers$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$13$$){var $hasAmpContainer$$=!1,$result$jscomp$13$$=[];$impls$jscomp$13$$.forEach(function($impls$jscomp$13$$){$impls$jscomp$13$$=$getEnclosingContainerTypes$$module$ads$google$a4a$utils$$($impls$jscomp$13$$.element);$result$jscomp$13$$.push($impls$jscomp$13$$.join());$hasAmpContainer$$=$hasAmpContainer$$||!!$impls$jscomp$13$$.length});return $hasAmpContainer$$?{acts:$result$jscomp$13$$.join("|")}:
null}function $getIsFluid$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($impls$jscomp$14$$){var $hasFluid$$=!1,$result$jscomp$14$$=[];$impls$jscomp$14$$.forEach(function($impls$jscomp$14$$){$impls$jscomp$14$$.isFluidRequest()?($hasFluid$$=!0,$result$jscomp$14$$.push("height")):$result$jscomp$14$$.push("0")});return $hasFluid$$?{fluid:$result$jscomp$14$$.join()}:null}
function $serializeTargeting$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($targeting$$,$categoryExclusions$$){var $serialized$$=$targeting$$?Object.keys($targeting$$).map(function($categoryExclusions$$){return $serializeItem_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($categoryExclusions$$,$targeting$$[$categoryExclusions$$])}):[];$categoryExclusions$$&&$serialized$$.push($serializeItem_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$("excl_cat",
$categoryExclusions$$));return $serialized$$.length?$serialized$$.join("&"):null}function $serializeItem_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($key$jscomp$63$$,$value$jscomp$113$$){var $serializedValue$$=(Array.isArray($value$jscomp$113$$)?$value$jscomp$113$$:[$value$jscomp$113$$]).map(encodeURIComponent).join();return encodeURIComponent($key$jscomp$63$$)+"="+$serializedValue$$}
function $sraBlockCallbackHandler$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($creative$jscomp$5$$,$headersObj$$,$done$$,$sraRequestAdUrlResolvers$$,$sraUrl$$){var $headerNames$$=Object.keys($headersObj$$);1==$headerNames$$.length&&$isObject$$module$src$types$$($headersObj$$[$headerNames$$[0]])&&($headersObj$$=$headersObj$$[$headerNames$$[0]],$headersObj$$=Object.keys($headersObj$$).reduce(function($creative$jscomp$5$$,$done$$){$creative$jscomp$5$$[$done$$.toLowerCase()]=$headersObj$$[$done$$];
return $creative$jscomp$5$$},{}));$headersObj$$["x-ampadrender"]="safeframe";$sraRequestAdUrlResolvers$$.shift()({headers:{get:function($creative$jscomp$5$$){($creative$jscomp$5$$=$headersObj$$[$creative$jscomp$5$$.toLowerCase()])&&"string"!=typeof $creative$jscomp$5$$&&($creative$jscomp$5$$=JSON.stringify($creative$jscomp$5$$));return $creative$jscomp$5$$},has:function($creative$jscomp$5$$){return!!$headersObj$$[$creative$jscomp$5$$.toLowerCase()]}},arrayBuffer:function(){return $tryResolve$$module$src$utils$promise$$(function(){return"undefined"!==
typeof TextEncoder?(new TextEncoder("utf-8")).encode($creative$jscomp$5$$):$stringToBytes$$module$src$utils$bytes$$(unescape(encodeURIComponent($creative$jscomp$5$$)))})}});$done$$&&$sraRequestAdUrlResolvers$$.length&&$dev$$module$src$log$$().warn("amp-ad-network-doubleclick-impl","Premature end of SRA response",$sraRequestAdUrlResolvers$$.length,$sraUrl$$)};function $lineDelimitedStreamer$$module$ads$google$a4a$line_delimited_response_handler$$($win$jscomp$149$$,$response$jscomp$7$$,$lineCallback$$){function $streamer$$($win$jscomp$149$$,$response$jscomp$7$$){for(var $streamer$$=/([^\n]*)(\n)?/g,$decoder$$;($decoder$$=$streamer$$.exec($win$jscomp$149$$))&&($line$jscomp$3$$+=$decoder$$[1],$decoder$$[2]&&($lineCallback$$($line$jscomp$3$$,$response$jscomp$7$$&&$streamer$$.lastIndex===$win$jscomp$149$$.length),$line$jscomp$3$$=""),$streamer$$.lastIndex!==
$win$jscomp$149$$.length););}var $line$jscomp$3$$="";if($response$jscomp$7$$.body&&$win$jscomp$149$$.TextDecoder){var $decoder$$=new TextDecoder("utf-8"),$reader$$=$response$jscomp$7$$.body.getReader();$reader$$.read().then(function $chunk$jscomp$6$$($win$jscomp$149$$){$win$jscomp$149$$.value&&$streamer$$($decoder$$.decode($win$jscomp$149$$.value,{stream:!0}),$win$jscomp$149$$.done);$win$jscomp$149$$.done||$reader$$.read().then($chunk$jscomp$6$$)})}else $response$jscomp$7$$.text().then(function($win$jscomp$149$$){return $streamer$$($win$jscomp$149$$,
!0)})}
function $metaJsonCreativeGrouper$$module$ads$google$a4a$line_delimited_response_handler$$($callback$jscomp$73$$){var $first$jscomp$6$$;return function($line$jscomp$4$$,$done$jscomp$2$$){if($first$jscomp$6$$){var $metadata$$=$tryParseJson$$module$src$json$$($first$jscomp$6$$)||{},$lowerCasedMetadata$$=Object.keys($metadata$$).reduce(function($callback$jscomp$73$$,$first$jscomp$6$$){$callback$jscomp$73$$[$first$jscomp$6$$.toLowerCase()]=$metadata$$[$first$jscomp$6$$];return $callback$jscomp$73$$},{});
$callback$jscomp$73$$($unescapeLineDelimitedHtml_$$module$ads$google$a4a$line_delimited_response_handler$$($line$jscomp$4$$),$lowerCasedMetadata$$,$done$jscomp$2$$);$first$jscomp$6$$=null}else $first$jscomp$6$$=$line$jscomp$4$$}}
function $unescapeLineDelimitedHtml_$$module$ads$google$a4a$line_delimited_response_handler$$($html$jscomp$1$$){return $html$jscomp$1$$.replace(/\\(n|r|\\)/g,function($html$jscomp$1$$,$match$jscomp$10$$){return"n"==$match$jscomp$10$$?"\n":"r"==$match$jscomp$10$$?"\r":"\\"})};var $DOUBLECLICK_SRA_EXP_BRANCHES$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$={SRA_CONTROL:"117152666",SRA:"117152667",SRA_NO_RECOVER:"21062235"},$FLEXIBLE_AD_SLOTS_BRANCHES$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$={CONTROL:"21063173",EXPERIMENT:"21063174"},$tokensToInstances$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$={},$sraRequests$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$=
null,$windowLocationQueryParameters$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$;
function $AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$($$jscomp$super$this$jscomp$1_element$jscomp$128$$){$$jscomp$super$this$jscomp$1_element$jscomp$128$$=$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.call(this,$$jscomp$super$this$jscomp$1_element$jscomp$128$$)||this;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$ampAnalyticsConfig_$=null;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$extensions_$=$Services$$module$src$services$extensionsFor$$($$jscomp$super$this$jscomp$1_element$jscomp$128$$.win);
$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$qqid_$=null;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$initialSize_$=null;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.parameterSize=null;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$returnedSize_$=null;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$ampAnalyticsElement_$=null;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.jsonTargeting=null;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.adKey="0";$$jscomp$super$this$jscomp$1_element$jscomp$128$$.experimentIds=
[];$$jscomp$super$this$jscomp$1_element$jscomp$128$$.useSra=!1;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.sraDeferred=null;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$refreshManager_$=null;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$refreshCount_$=0;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$ifi_$=0;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$isFluidRequest_$=!1;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$isFluidPrimaryRequest_$=!1;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$fluidImpressionUrl_$=
null;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$identityTokenPromise_$=null;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.identityToken=null;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$troubleshootData_$={};$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$isAmpCreative_$=null;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$isIdleRender_$=!1;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$safeframeApi_$=null;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.forceSafeframe=
!1;"forceSafeframe"in $$jscomp$super$this$jscomp$1_element$jscomp$128$$.element.dataset&&(/^(1|(true))$/i.test($$jscomp$super$this$jscomp$1_element$jscomp$128$$.element.dataset.forceSafeframe)?$$jscomp$super$this$jscomp$1_element$jscomp$128$$.forceSafeframe=!0:$user$$module$src$log$$().warn("amp-ad-network-doubleclick-impl","Ignoring invalid data-force-safeframe attribute: "+$$jscomp$super$this$jscomp$1_element$jscomp$128$$.element.dataset.forceSafeframe));$$jscomp$super$this$jscomp$1_element$jscomp$128$$.consentState=
null;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.getAdUrlDeferred=new $Deferred$$module$src$utils$promise$$;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$reattemptToExpandFluidCreative_$=!1;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$shouldSandbox_$=!1;$$jscomp$super$this$jscomp$1_element$jscomp$128$$.$sendFlexibleAdSlotParams_$=!1;return $$jscomp$super$this$jscomp$1_element$jscomp$128$$}
$$jscomp$inherits$$($AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$,$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$);
function $JSCompiler_StaticMethods_getIdleRenderEnabled_$$($JSCompiler_StaticMethods_getIdleRenderEnabled_$self$$){if($JSCompiler_StaticMethods_getIdleRenderEnabled_$self$$.$isIdleRender_$)return $JSCompiler_StaticMethods_getIdleRenderEnabled_$self$$.$isIdleRender_$;if($JSCompiler_StaticMethods_getIdleRenderEnabled_$self$$.element.getAttribute("data-loading-strategy"))return!1;var $expVal$$=$JSCompiler_StaticMethods_getIdleRenderEnabled_$self$$.postAdResponseExperimentFeatures["render-idle-vp"],$vpRange$$=
parseInt($expVal$$,10);return $expVal$$&&isNaN($vpRange$$)?!1:$vpRange$$||12}$JSCompiler_prototypeAlias$$=$AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$.prototype;
$JSCompiler_prototypeAlias$$.idleRenderOutsideViewport=function(){var $$jscomp$this$jscomp$55$$=this,$vpRange$jscomp$1$$=$JSCompiler_StaticMethods_getIdleRenderEnabled_$$(this);if(!1===$vpRange$jscomp$1$$)return $vpRange$jscomp$1$$;var $renderOutsideViewport$$=this.renderOutsideViewport();if("boolean"===typeof $renderOutsideViewport$$)return $renderOutsideViewport$$;this.$isIdleRender_$=!0;this.getResource().whenWithinViewport($renderOutsideViewport$$).then(function(){return $$jscomp$this$jscomp$55$$.$isIdleRender_$=
!1});return $vpRange$jscomp$1$$};$JSCompiler_prototypeAlias$$.isLayoutSupported=function($layout$jscomp$10$$){this.$isFluidPrimaryRequest_$="fluid"==$layout$jscomp$10$$;this.$isFluidRequest_$=this.$isFluidRequest_$||this.$isFluidPrimaryRequest_$;return this.$isFluidPrimaryRequest_$||$isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$10$$)};$JSCompiler_prototypeAlias$$.isValidElement=function(){return this.isAmpAdElement()};
$JSCompiler_prototypeAlias$$.setPageLevelExperiments=function($$jscomp$compprop4_experimentInfoMap$jscomp$1_urlExperimentId$jscomp$1$$){var $$jscomp$this$jscomp$56$$=this;$CDN_PROXY_REGEXP$$module$ads$google$a4a$utils$$.test(this.win.location.origin)||$isExperimentOn$$module$src$experiments$$(this.win,"expDfpInvOrigDeprecated")||this.experimentIds.push("21060933");var $forcedExperimentId$$;$$jscomp$compprop4_experimentInfoMap$jscomp$1_urlExperimentId$jscomp$1$$&&($forcedExperimentId$$={7:"117152666",
8:"117152667",9:"21062235"}[$$jscomp$compprop4_experimentInfoMap$jscomp$1_urlExperimentId$jscomp$1$$])&&this.experimentIds.push($forcedExperimentId$$);$$jscomp$compprop4_experimentInfoMap$jscomp$1_urlExperimentId$jscomp$1$$={};$$jscomp$compprop4_experimentInfoMap$jscomp$1_urlExperimentId$jscomp$1$$=($$jscomp$compprop4_experimentInfoMap$jscomp$1_urlExperimentId$jscomp$1$$.doubleclickSraExp={isTrafficEligible:function(){return!$forcedExperimentId$$&&!$$jscomp$this$jscomp$56$$.win.document.querySelector("meta[name=amp-ad-enable-refresh], amp-ad[type=doubleclick][data-enable-refresh], meta[name=amp-ad-doubleclick-sra]")},
branches:Object.keys($DOUBLECLICK_SRA_EXP_BRANCHES$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$).map(function($$jscomp$compprop4_experimentInfoMap$jscomp$1_urlExperimentId$jscomp$1$$){return $DOUBLECLICK_SRA_EXP_BRANCHES$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$[$$jscomp$compprop4_experimentInfoMap$jscomp$1_urlExperimentId$jscomp$1$$]})},$$jscomp$compprop4_experimentInfoMap$jscomp$1_urlExperimentId$jscomp$1$$.flexAdSlots=
{isTrafficEligible:function(){return!0},branches:Object.values($FLEXIBLE_AD_SLOTS_BRANCHES$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$)},$$jscomp$compprop4_experimentInfoMap$jscomp$1_urlExperimentId$jscomp$1$$[["amp-ad-ff-adx-ady"]]={isTrafficEligible:function(){return!0},branches:[["21062398"],["21062593"]]},$$jscomp$compprop4_experimentInfoMap$jscomp$1_urlExperimentId$jscomp$1$$);var $setExps$$=$randomlySelectUnsetExperiments$$module$src$experiments$$(this.win,
$$jscomp$compprop4_experimentInfoMap$jscomp$1_urlExperimentId$jscomp$1$$);Object.keys($setExps$$).forEach(function($$jscomp$compprop4_experimentInfoMap$jscomp$1_urlExperimentId$jscomp$1$$){return $setExps$$[$$jscomp$compprop4_experimentInfoMap$jscomp$1_urlExperimentId$jscomp$1$$]&&$$jscomp$this$jscomp$56$$.experimentIds.push($setExps$$[$$jscomp$compprop4_experimentInfoMap$jscomp$1_urlExperimentId$jscomp$1$$])});$setExps$$.flexAdSlots&&"21063174"==$setExps$$.flexAdSlots&&(this.$sendFlexibleAdSlotParams_$=
!0)};
function $JSCompiler_StaticMethods_maybeDeprecationWarn_$$($JSCompiler_StaticMethods_maybeDeprecationWarn_$self$$){function $warnDeprecation$$($JSCompiler_StaticMethods_maybeDeprecationWarn_$self$$){return $user$$module$src$log$$().warn("amp-ad-network-doubleclick-impl",$JSCompiler_StaticMethods_maybeDeprecationWarn_$self$$+" is no longer supported for DoubleClick.Please refer to https://github.com/ampproject/amphtml/issues/11834 for more information")}var $usdrd$$="useSameDomainRenderingUntilDeprecated",$hasUSDRD$$=
$usdrd$$ in $JSCompiler_StaticMethods_maybeDeprecationWarn_$self$$.element.dataset||($tryParseJson$$module$src$json$$($JSCompiler_StaticMethods_maybeDeprecationWarn_$self$$.element.getAttribute("json"))||{})[$usdrd$$];$hasUSDRD$$&&$warnDeprecation$$($usdrd$$);$JSCompiler_StaticMethods_maybeDeprecationWarn_$self$$.win.document.querySelector("meta[name=amp-3p-iframe-src]")&&$warnDeprecation$$("remote.html")}
$JSCompiler_prototypeAlias$$.buildCallback=function(){var $$jscomp$this$jscomp$57$$=this;$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.buildCallback.call(this);$JSCompiler_StaticMethods_maybeDeprecationWarn_$$(this);this.setPageLevelExperiments($extractUrlExperimentId$$module$ads$google$a4a$traffic_experiments$$(this.win,this.element));this.useSra=$getMode$$module$src$mode$$().localDev&&/(\?|&)force_sra=true(&|$)/.test(this.win.location.search)||!!this.win.document.querySelector("meta[name=amp-ad-doubleclick-sra]")||
["117152667","21062235"].some(function($multiSizeStr$$){return 0<=$$jscomp$this$jscomp$57$$.experimentIds.indexOf($multiSizeStr$$)});this.$identityTokenPromise_$=$Services$$module$src$services$viewerForDoc$$(this.getAmpDoc()).whenFirstVisible().then(function(){return $getIdentityToken$$module$ads$google$a4a$utils$$($$jscomp$this$jscomp$57$$.win,$$jscomp$this$jscomp$57$$.getAmpDoc(),$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.getConsentPolicy.call($$jscomp$this$jscomp$57$$))});this.$troubleshootData_$.slotId=
this.element.getAttribute("data-slot");this.$troubleshootData_$.slotIndex=this.element.getAttribute("data-amp-slot-index");if(!this.$isFluidRequest_$){var $multiSizeStr$$=this.element.getAttribute("data-multi-size");this.$isFluidRequest_$=!!$multiSizeStr$$&&-1!=$multiSizeStr$$.indexOf("fluid")}this.maybeAddSinglePassExperiment()};$JSCompiler_prototypeAlias$$.shouldPreferentialRenderWithoutCrypto=function(){$CDN_PROXY_REGEXP$$module$ads$google$a4a$utils$$.test(this.win.location.origin);return!0};
$JSCompiler_prototypeAlias$$.getPageParameters=function($consentState$jscomp$4$$,$instances$$){var $JSCompiler_instancesInAdRequest$jscomp$inline_344$$=$instances$$=$instances$$||[this],$JSCompiler_pageviewStateTokensInAdRequest$jscomp$inline_345$$=[],$JSCompiler_token$jscomp$inline_346$$;for($JSCompiler_token$jscomp$inline_346$$ in $tokensToInstances$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$)$JSCompiler_instancesInAdRequest$jscomp$inline_344$$.includes($tokensToInstances$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$[$JSCompiler_token$jscomp$inline_346$$])||
$JSCompiler_pageviewStateTokensInAdRequest$jscomp$inline_345$$.push($JSCompiler_token$jscomp$inline_346$$);return{npa:2==$consentState$jscomp$4$$||4==$consentState$jscomp$4$$?1:null,gdfp_req:"1",sfv:"1-0-23",u_sd:this.win.devicePixelRatio,gct:this.getLocationQueryParameterValue("google_preview")||null,psts:$JSCompiler_pageviewStateTokensInAdRequest$jscomp$inline_345$$.length?$JSCompiler_pageviewStateTokensInAdRequest$jscomp$inline_345$$:null}};
function $JSCompiler_StaticMethods_getBlockParameters_$$($JSCompiler_StaticMethods_getBlockParameters_$self$$){var $tfcd$$=$JSCompiler_StaticMethods_getBlockParameters_$self$$.jsonTargeting&&$JSCompiler_StaticMethods_getBlockParameters_$self$$.jsonTargeting.tagForChildDirectedTreatment;$JSCompiler_StaticMethods_getBlockParameters_$self$$.win.ampAdGoogleIfiCounter=$JSCompiler_StaticMethods_getBlockParameters_$self$$.win.ampAdGoogleIfiCounter||1;$JSCompiler_StaticMethods_getBlockParameters_$self$$.$ifi_$=
$JSCompiler_StaticMethods_getBlockParameters_$self$$.isRefreshing&&$JSCompiler_StaticMethods_getBlockParameters_$self$$.$ifi_$||$JSCompiler_StaticMethods_getBlockParameters_$self$$.win.ampAdGoogleIfiCounter++;var $pageLayoutBox$$=$JSCompiler_StaticMethods_getBlockParameters_$self$$.isSinglePageStoryAd?$JSCompiler_StaticMethods_getBlockParameters_$self$$.element.getPageLayoutBox():null,$psz$$=null,$msz$$=null;if($JSCompiler_StaticMethods_getBlockParameters_$self$$.$sendFlexibleAdSlotParams_$){var $parentWidth$$=
$getContainerWidth$$module$ads$google$a4a$utils$$($JSCompiler_StaticMethods_getBlockParameters_$self$$.win,$JSCompiler_StaticMethods_getBlockParameters_$self$$.element.parentElement),$slotWidth$jscomp$2$$=$getContainerWidth$$module$ads$google$a4a$utils$$($JSCompiler_StaticMethods_getBlockParameters_$self$$.win,$JSCompiler_StaticMethods_getBlockParameters_$self$$.element,1);$psz$$=$parentWidth$$+"x-1";$msz$$=(-1==$slotWidth$jscomp$2$$?$parentWidth$$:$slotWidth$jscomp$2$$)+"x-1"}return Object.assign({iu:$JSCompiler_StaticMethods_getBlockParameters_$self$$.element.getAttribute("data-slot"),
co:$JSCompiler_StaticMethods_getBlockParameters_$self$$.jsonTargeting&&$JSCompiler_StaticMethods_getBlockParameters_$self$$.jsonTargeting.cookieOptOut?"1":null,adk:$JSCompiler_StaticMethods_getBlockParameters_$self$$.adKey,sz:$JSCompiler_StaticMethods_getBlockParameters_$self$$.isSinglePageStoryAd?"1x1":$JSCompiler_StaticMethods_getBlockParameters_$self$$.parameterSize,output:"html",impl:"ifr",tfcd:void 0==$tfcd$$?null:$tfcd$$,adtest:$isInExperiment$$module$ads$google$a4a$traffic_experiments$$($JSCompiler_StaticMethods_getBlockParameters_$self$$.element)?
"on":null,ifi:$JSCompiler_StaticMethods_getBlockParameters_$self$$.$ifi_$,rc:$JSCompiler_StaticMethods_getBlockParameters_$self$$.$refreshCount_$||null,frc:Number($JSCompiler_StaticMethods_getBlockParameters_$self$$.fromResumeCallback)||null,fluid:$JSCompiler_StaticMethods_getBlockParameters_$self$$.$isFluidRequest_$?"height":null,fsf:$JSCompiler_StaticMethods_getBlockParameters_$self$$.forceSafeframe?"1":null,msz:$msz$$,psz:$psz$$,scp:$serializeTargeting$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($JSCompiler_StaticMethods_getBlockParameters_$self$$.jsonTargeting&&
$JSCompiler_StaticMethods_getBlockParameters_$self$$.jsonTargeting.targeting||null,$JSCompiler_StaticMethods_getBlockParameters_$self$$.jsonTargeting&&$JSCompiler_StaticMethods_getBlockParameters_$self$$.jsonTargeting.categoryExclusions||null),spsa:$JSCompiler_StaticMethods_getBlockParameters_$self$$.isSinglePageStoryAd?$pageLayoutBox$$.width+"x"+$pageLayoutBox$$.height:null},$googleBlockParameters$$module$ads$google$a4a$utils$$($JSCompiler_StaticMethods_getBlockParameters_$self$$))}
$JSCompiler_prototypeAlias$$.populateAdUrlState=function($consentState$jscomp$5_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$37$$){this.consentState=$consentState$jscomp$5_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$37$$;$consentState$jscomp$5_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$37$$=Number(this.element.getAttribute("data-override-width"))||Number(this.element.getAttribute("width"));var $height$jscomp$36_multiSizeValidation$jscomp$1$$=Number(this.element.getAttribute("data-override-height"))||
Number(this.element.getAttribute("height"));this.$initialSize_$=this.$isFluidPrimaryRequest_$?{width:0,height:0}:$consentState$jscomp$5_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$37$$&&$height$jscomp$36_multiSizeValidation$jscomp$1$$?{width:$consentState$jscomp$5_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$37$$,height:$height$jscomp$36_multiSizeValidation$jscomp$1$$}:this.getIntersectionElementLayoutBox();this.jsonTargeting=$tryParseJson$$module$src$json$$(this.element.getAttribute("json"))||
{};this.adKey=$JSCompiler_StaticMethods_generateAdKey_$$(this,this.$initialSize_$.width+"x"+this.$initialSize_$.height);this.parameterSize=this.$isFluidPrimaryRequest_$?"320x50":this.$initialSize_$.width+"x"+this.$initialSize_$.height;if($consentState$jscomp$5_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$37$$=this.element.getAttribute("data-multi-size"))$height$jscomp$36_multiSizeValidation$jscomp$1$$=this.element.getAttribute("data-multi-size-validation")||"true",$consentState$jscomp$5_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$37$$=
$getMultiSizeDimensions$$module$ads$google$utils$$($consentState$jscomp$5_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$37$$,this.$initialSize_$.width,this.$initialSize_$.height,"true"==$height$jscomp$36_multiSizeValidation$jscomp$1$$,this.$isFluidPrimaryRequest_$),$consentState$jscomp$5_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$37$$.length&&(this.parameterSize+="|"+$consentState$jscomp$5_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$37$$.map(function($consentState$jscomp$5_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$37$$){return $consentState$jscomp$5_dimensions$jscomp$2_multiSizeDataStr$jscomp$1_width$jscomp$37$$.join("x")}).join("|"))};
$JSCompiler_prototypeAlias$$.getConsentPolicy=function(){return null};
$JSCompiler_prototypeAlias$$.getAdUrl=function($consentState$jscomp$6$$,$opt_rtcResponsesPromise$jscomp$1$$){var $$jscomp$this$jscomp$58$$=this;this.useSra&&(this.sraDeferred=this.sraDeferred||new $Deferred$$module$src$utils$promise$$);if(4==$consentState$jscomp$6$$&&"true"!=this.element.getAttribute("data-npa-on-unknown-consent"))return $user$$module$src$log$$().info("amp-ad-network-doubleclick-impl","Ad request suppressed due to unknown consent"),this.getAdUrlDeferred.resolve(""),Promise.resolve("");
if(this.iframe&&!this.isRefreshing)return $dev$$module$src$log$$().warn("amp-ad-network-doubleclick-impl","Frame already exists, sra: "+this.useSra),this.getAdUrlDeferred.resolve(""),Promise.resolve("");$opt_rtcResponsesPromise$jscomp$1$$=$opt_rtcResponsesPromise$jscomp$1$$||Promise.resolve();this.populateAdUrlState($consentState$jscomp$6$$);var $startTime$jscomp$12$$=Date.now(),$identityPromise$$=$Services$$module$src$services$timerFor$$(this.win).timeoutPromise(1E3,this.$identityTokenPromise_$).catch(function(){return{}}),
$checkStillCurrent$jscomp$7$$=this.verifyStillCurrent();Promise.all([$opt_rtcResponsesPromise$jscomp$1$$,$identityPromise$$]).then(function($opt_rtcResponsesPromise$jscomp$1$$){$checkStillCurrent$jscomp$7$$();var $identityPromise$$=$JSCompiler_StaticMethods_mergeRtcResponses_$$($$jscomp$this$jscomp$58$$,$opt_rtcResponsesPromise$jscomp$1$$[0]);$$jscomp$this$jscomp$58$$.identityToken=$opt_rtcResponsesPromise$jscomp$1$$[1];$googleAdUrl$$module$ads$google$a4a$utils$$($$jscomp$this$jscomp$58$$,$startTime$jscomp$12$$,
Object.assign($JSCompiler_StaticMethods_getBlockParameters_$$($$jscomp$this$jscomp$58$$),$$jscomp$this$jscomp$58$$.buildIdentityParams(),$$jscomp$this$jscomp$58$$.getPageParameters($consentState$jscomp$6$$),$identityPromise$$),$$jscomp$this$jscomp$58$$.experimentIds).then(function($consentState$jscomp$6$$){return $$jscomp$this$jscomp$58$$.getAdUrlDeferred.resolve($consentState$jscomp$6$$)})});return this.$troubleshootData_$.adUrl=this.getAdUrlDeferred.promise};
$JSCompiler_prototypeAlias$$.buildIdentityParams=function(){return this.identityToken?{adsid:this.identityToken.token||null,jar:this.identityToken.jar||null,pucrd:this.identityToken.pucrd||null}:{}};
function $JSCompiler_StaticMethods_mergeRtcResponses_$$($JSCompiler_StaticMethods_mergeRtcResponses_$self$$,$rtcResponseArray$$){if(!$rtcResponseArray$$)return null;var $artc$$=[],$ati$$=[],$ard$$=[],$exclusions$$;$rtcResponseArray$$.forEach(function($rtcResponseArray$$){if($rtcResponseArray$$&&($artc$$.push($rtcResponseArray$$.rtcTime),$ati$$.push($rtcResponseArray$$.error||"2"),$ard$$.push($rtcResponseArray$$.callout),$rtcResponseArray$$.response)){if($rtcResponseArray$$.response.targeting){var $rtcResponse$$=
$JSCompiler_StaticMethods_rewriteRtcKeys_$$($rtcResponseArray$$.response.targeting,$rtcResponseArray$$.callout);$JSCompiler_StaticMethods_mergeRtcResponses_$self$$.jsonTargeting.targeting=$JSCompiler_StaticMethods_mergeRtcResponses_$self$$.jsonTargeting.targeting?$deepMerge$$module$src$utils$object$$($JSCompiler_StaticMethods_mergeRtcResponses_$self$$.jsonTargeting.targeting,$rtcResponse$$):$rtcResponse$$}$rtcResponseArray$$.response.categoryExclusions&&($exclusions$$||($exclusions$$={},$JSCompiler_StaticMethods_mergeRtcResponses_$self$$.jsonTargeting.categoryExclusions&&
$JSCompiler_StaticMethods_mergeRtcResponses_$self$$.jsonTargeting.categoryExclusions.forEach(function($JSCompiler_StaticMethods_mergeRtcResponses_$self$$){$exclusions$$[$JSCompiler_StaticMethods_mergeRtcResponses_$self$$]=!0})),$rtcResponseArray$$.response.categoryExclusions.forEach(function($JSCompiler_StaticMethods_mergeRtcResponses_$self$$){$exclusions$$[$JSCompiler_StaticMethods_mergeRtcResponses_$self$$]=!0}))}});$exclusions$$&&($JSCompiler_StaticMethods_mergeRtcResponses_$self$$.jsonTargeting.categoryExclusions=
Object.keys($exclusions$$));return{artc:$artc$$.join()||null,ati:$ati$$.join(),ard:$ard$$.join()}}
$JSCompiler_prototypeAlias$$.$getCustomRealTimeConfigMacros_$=function(){var $$jscomp$this$jscomp$60$$=this,$whitelist$jscomp$7$$={height:!0,width:!0,"data-slot":!0,"data-multi-size":!0,"data-multi-size-validation":!0,"data-override-width":!0,"data-override-height":!0};return{PAGEVIEWID:function(){return $Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$60$$.element).pageViewId},HREF:function(){return $$jscomp$this$jscomp$60$$.win.location.href},REFERRER:function($whitelist$jscomp$7$$){return $JSCompiler_StaticMethods_getReferrer_$$($$jscomp$this$jscomp$60$$,
$whitelist$jscomp$7$$)},TGT:function(){return JSON.stringify(($tryParseJson$$module$src$json$$($$jscomp$this$jscomp$60$$.element.getAttribute("json"))||{}).targeting)},ADCID:function($whitelist$jscomp$7$$){return $getOrCreateAdCid$$module$src$ad_cid$$($$jscomp$this$jscomp$60$$.getAmpDoc(),parseInt($whitelist$jscomp$7$$,10))},ATTR:function($name$jscomp$99$$){if($whitelist$jscomp$7$$[$name$jscomp$99$$.toLowerCase()])return $$jscomp$this$jscomp$60$$.element.getAttribute($name$jscomp$99$$);$dev$$module$src$log$$().warn("TAG",
"Invalid attribute "+$name$jscomp$99$$)},CANONICAL_URL:function(){return $Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$60$$.element).canonicalUrl}}};
function $JSCompiler_StaticMethods_getReferrer_$$($JSCompiler_StaticMethods_getReferrer_$self$$,$opt_timeout$jscomp$3_referrerPromise$jscomp$1$$){var $timeoutInt$$=parseInt($opt_timeout$jscomp$3_referrerPromise$jscomp$1$$,10);$opt_timeout$jscomp$3_referrerPromise$jscomp$1$$=$Services$$module$src$services$viewerForDoc$$($JSCompiler_StaticMethods_getReferrer_$self$$.getAmpDoc()).getReferrerUrl();return isNaN($timeoutInt$$)||0>$timeoutInt$$?$opt_timeout$jscomp$3_referrerPromise$jscomp$1$$:$Services$$module$src$services$timerFor$$($JSCompiler_StaticMethods_getReferrer_$self$$.win).timeoutPromise($timeoutInt$$,
$opt_timeout$jscomp$3_referrerPromise$jscomp$1$$).catch(function(){})}
function $JSCompiler_StaticMethods_rewriteRtcKeys_$$($response$jscomp$8$$,$callout$jscomp$3$$){if(!$RTC_VENDORS$$module$extensions$amp_a4a$0_1$callout_vendors$$[$callout$jscomp$3$$]||$RTC_VENDORS$$module$extensions$amp_a4a$0_1$callout_vendors$$[$callout$jscomp$3$$].disableKeyAppend)return $response$jscomp$8$$;var $newResponse$$={};Object.keys($response$jscomp$8$$).forEach(function($key$jscomp$67$$){$newResponse$$[$key$jscomp$67$$+"_"+$callout$jscomp$3$$]=$response$jscomp$8$$[$key$jscomp$67$$]});return $newResponse$$}
$JSCompiler_prototypeAlias$$.onNetworkFailure=function($JSCompiler_inline_result$jscomp$96_error$jscomp$33$$,$adUrl$jscomp$6$$){$dev$$module$src$log$$().info("amp-ad-network-doubleclick-impl","network error, attempt adding of error parameter",$JSCompiler_inline_result$jscomp$96_error$jscomp$33$$);$JSCompiler_inline_result$jscomp$96_error$jscomp$33$$=(new RegExp("[?|&]("+encodeURIComponent($TRUNCATION_PARAM$$module$ads$google$a4a$utils$$.name)+"="+(encodeURIComponent(String($TRUNCATION_PARAM$$module$ads$google$a4a$utils$$.value))+
"|aet=[^&]*)$"))).test($adUrl$jscomp$6$$)?void 0:$adUrl$jscomp$6$$+"&aet=n";return{adUrl:$JSCompiler_inline_result$jscomp$96_error$jscomp$33$$}};
$JSCompiler_prototypeAlias$$.maybeValidateAmpCreative=function($bytes$jscomp$11$$,$headers$jscomp$5$$){if("djb2a-32"!==$headers$jscomp$5$$.get("AMP-Verification-Checksum-Algorithm"))return $AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.maybeValidateAmpCreative.call(this,$bytes$jscomp$11$$,$headers$jscomp$5$$);var $checksum$$=$headers$jscomp$5$$.get("AMP-Verification-Checksum");return Promise.resolve($checksum$$&&$stringHash32$$module$src$string$$($utf8Decode$$module$src$utils$bytes$$($bytes$jscomp$11$$))==
$checksum$$?$bytes$jscomp$11$$:null)};
$JSCompiler_prototypeAlias$$.extractSize=function($responseHeaders$jscomp$2$$){this.$ampAnalyticsConfig_$=$extractAmpAnalyticsConfig$$module$ads$google$a4a$utils$$($responseHeaders$jscomp$2$$);this.$qqid_$=$responseHeaders$jscomp$2$$.get("X-QQID");this.$shouldSandbox_$="true"==$responseHeaders$jscomp$2$$.get("amp-ff-sandbox");this.$troubleshootData_$.creativeId=$responseHeaders$jscomp$2$$.get("google-creative-id")||"-1";this.$troubleshootData_$.lineItemId=$responseHeaders$jscomp$2$$.get("google-lineitem-id")||"-1";
this.$ampAnalyticsConfig_$&&this.$extensions_$.installExtensionForDoc(this.getAmpDoc(),"amp-analytics");var $size$jscomp$17$$=$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.extractSize.call(this,$responseHeaders$jscomp$2$$);$size$jscomp$17$$?(this.$returnedSize_$=$size$jscomp$17$$,$JSCompiler_StaticMethods_handleResize_$$(this,$size$jscomp$17$$.width,$size$jscomp$17$$.height)):$size$jscomp$17$$=this.getSlotSize();this.$isFluidRequest_$&&!this.$returnedSize_$&&(this.$fluidImpressionUrl_$=
$responseHeaders$jscomp$2$$.get("X-AmpImps"));$responseHeaders$jscomp$2$$.get("amp-ff-pageview-tokens")&&(this.removePageviewStateToken(),this.setPageviewStateToken($responseHeaders$jscomp$2$$.get("amp-ff-pageview-tokens")));return $size$jscomp$17$$};$JSCompiler_prototypeAlias$$.sandboxHTMLCreativeFrame=function(){return this.$shouldSandbox_$};
$JSCompiler_prototypeAlias$$.getSlotSize=function(){var $width$jscomp$38$$=Number(this.element.getAttribute("width")),$height$jscomp$37$$=Number(this.element.getAttribute("height"));return $width$jscomp$38$$&&$height$jscomp$37$$?{width:$width$jscomp$38$$,height:$height$jscomp$37$$}:this.getIntersectionElementLayoutBox()};
$JSCompiler_prototypeAlias$$.tearDownSlot=function(){$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.tearDownSlot.call(this);this.element.setAttribute("data-amp-slot-index",this.win.ampAdSlotIdCounter++);if(this.$ampAnalyticsElement_$){var $JSCompiler_element$jscomp$inline_352$$=this.$ampAnalyticsElement_$;$JSCompiler_element$jscomp$inline_352$$.parentElement&&$JSCompiler_element$jscomp$inline_352$$.parentElement.removeChild($JSCompiler_element$jscomp$inline_352$$);this.$ampAnalyticsElement_$=
null}this.$isAmpCreative_$=this.jsonTargeting=this.$ampAnalyticsConfig_$=null;this.$isIdleRender_$=!1;this.$qqid_$=this.sraDeferred=$sraRequests$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$=this.$returnedSize_$=this.parameterSize=null;this.$shouldSandbox_$=!1;this.consentState=null;this.getAdUrlDeferred=new $Deferred$$module$src$utils$promise$$;this.removePageviewStateToken()};
$JSCompiler_prototypeAlias$$.renderNonAmpCreative=function(){var $$jscomp$this$jscomp$61$$=this;if(this.postAdResponseExperimentFeatures["render-idle-throttle"]&&this.$isIdleRender_$){if(this.win["3pla"])return($throttlePromise_$$module$extensions$amp_ad$0_1$concurrent_load$$||Promise.resolve()).then(function(){return $AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.renderNonAmpCreative.call($$jscomp$this$jscomp$61$$)});$incrementLoadingAds$$module$extensions$amp_ad$0_1$concurrent_load$$(this.win);
return $AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.renderNonAmpCreative.call(this,!0)}return $AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.renderNonAmpCreative.call(this)};$JSCompiler_prototypeAlias$$.viewportCallback=function($inViewport$jscomp$3$$){$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.viewportCallback.call(this,$inViewport$jscomp$3$$);this.$reattemptToExpandFluidCreative_$&&!$inViewport$jscomp$3$$&&$JSCompiler_StaticMethods_expandFluidCreative_$$(this)};
$JSCompiler_prototypeAlias$$.unlayoutCallback=function(){this.$refreshManager_$&&this.$refreshManager_$.unobserve();if(!this.useSra&&this.$isAmpCreative_$)return!1;this.$safeframeApi_$&&(this.$safeframeApi_$.destroy(),this.$safeframeApi_$=null);return $AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.unlayoutCallback.call(this)};$JSCompiler_prototypeAlias$$.cleanupAfterTest=function(){this.$safeframeApi_$&&(this.$safeframeApi_$.destroy(),this.$safeframeApi_$=null)};
$JSCompiler_prototypeAlias$$.refresh=function($refreshEndCallback$jscomp$1$$){this.$refreshCount_$++;return $AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.refresh.call(this,$refreshEndCallback$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.onCreativeRender=function($creativeMetaData$jscomp$3_size$jscomp$18$$,$opt_onLoadPromise$jscomp$1$$){var $$jscomp$this$jscomp$62$$=this;$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.onCreativeRender.call(this,$creativeMetaData$jscomp$3_size$jscomp$18$$);this.$isAmpCreative_$=!!$creativeMetaData$jscomp$3_size$jscomp$18$$;$creativeMetaData$jscomp$3_size$jscomp$18$$&&!$creativeMetaData$jscomp$3_size$jscomp$18$$.customElementExtensions.includes("amp-ad-exit")&&
$Navigation$$module$src$service$navigation$installAnchorClickInterceptor$$(this.getAmpDoc(),this.iframe.contentWindow);this.$ampAnalyticsConfig_$&&($isReportingEnabled$$module$ads$google$a4a$utils$$(this)&&$addCsiSignalsToAmpAnalyticsConfig$$module$ads$google$a4a$utils$$(this.win,this.element,this.$ampAnalyticsConfig_$,this.$qqid_$,!!$creativeMetaData$jscomp$3_size$jscomp$18$$),this.$ampAnalyticsElement_$=$insertAnalyticsElement$$module$src$extension_analytics$$(this.element,this.$ampAnalyticsConfig_$,
!!this.postAdResponseExperimentFeatures.avr_disable_immediate));this.isRefreshing&&(this.$refreshManager_$.initiateRefreshCycle(),this.isRelayoutNeededFlag=this.isRefreshing=!1);$creativeMetaData$jscomp$3_size$jscomp$18$$=this.$returnedSize_$||this.getSlotSize();var $isMultiSizeFluid$$=this.$isFluidRequest_$&&this.$returnedSize_$&&!(0==$creativeMetaData$jscomp$3_size$jscomp$18$$.width&&0==$creativeMetaData$jscomp$3_size$jscomp$18$$.height);$setStyles$$module$src$style$$(this.iframe,{width:$creativeMetaData$jscomp$3_size$jscomp$18$$.width+
"px",height:$creativeMetaData$jscomp$3_size$jscomp$18$$.height+"px",position:$isMultiSizeFluid$$?"relative":null});this.$qqid_$&&this.element.setAttribute("data-google-query-id",this.$qqid_$);this.iframe.id="google_ads_iframe_"+this.$ifi_$;$isMultiSizeFluid$$&&(this.element.removeAttribute("height"),$setStyles$$module$src$style$$(this.element,{width:$creativeMetaData$jscomp$3_size$jscomp$18$$.width+"px"}));$opt_onLoadPromise$jscomp$1$$&&$opt_onLoadPromise$jscomp$1$$.then(function(){$JSCompiler_StaticMethods_expandFluidCreative_$$($$jscomp$this$jscomp$62$$)});
this.$refreshManager_$=this.$refreshManager_$||$getRefreshManager$$module$extensions$amp_a4a$0_1$refresh_manager$$(this,function(){return $$jscomp$this$jscomp$62$$.useSra?($user$$module$src$log$$().warn("amp-ad-network-doubleclick-impl","Refresh not compatible with SRA."),!1):$getEnclosingContainerTypes$$module$ads$google$a4a$utils$$($$jscomp$this$jscomp$62$$.element).filter(function($creativeMetaData$jscomp$3_size$jscomp$18$$){return $creativeMetaData$jscomp$3_size$jscomp$18$$!=$ValidAdContainerTypes$$module$ads$google$a4a$utils$$["AMP-CAROUSEL"]&&
$creativeMetaData$jscomp$3_size$jscomp$18$$!=$ValidAdContainerTypes$$module$ads$google$a4a$utils$$["AMP-STICKY-AD"]}).length?($user$$module$src$log$$().warn("amp-ad-network-doubleclick-impl","Refresh not compatible with ad-containers, except for AMP-CAROUSEL and AMP-STICKY-AD"),!1):!0});this.postTroubleshootMessage()};
function $JSCompiler_StaticMethods_expandFluidCreative_$$($JSCompiler_StaticMethods_expandFluidCreative_$self$$){$JSCompiler_StaticMethods_expandFluidCreative_$self$$.$isFluidRequest_$&&!$JSCompiler_StaticMethods_expandFluidCreative_$self$$.$returnedSize_$&&$JSCompiler_StaticMethods_expandFluidCreative_$self$$.isVerifiedAmpCreative()?$JSCompiler_StaticMethods_expandFluidCreative_$self$$.iframe&&$JSCompiler_StaticMethods_expandFluidCreative_$self$$.iframe.contentWindow&&$JSCompiler_StaticMethods_expandFluidCreative_$self$$.iframe.contentWindow.document&&
$JSCompiler_StaticMethods_expandFluidCreative_$self$$.iframe.contentWindow.document.body?$JSCompiler_StaticMethods_expandFluidCreative_$self$$.attemptChangeHeight($JSCompiler_StaticMethods_expandFluidCreative_$self$$.iframe.contentWindow.document.body.clientHeight).then(function(){$JSCompiler_StaticMethods_expandFluidCreative_$self$$.fireFluidDelayedImpression();$JSCompiler_StaticMethods_expandFluidCreative_$self$$.$reattemptToExpandFluidCreative_$=!1}).catch(function(){$JSCompiler_StaticMethods_expandFluidCreative_$self$$.$reattemptToExpandFluidCreative_$=
!0}):($dev$$module$src$log$$().error("amp-ad-network-doubleclick-impl","Attempting to expand fluid creative without a properly set up friendly frame. Slot id: "+$JSCompiler_StaticMethods_expandFluidCreative_$self$$.element.getAttribute("data-amp-slot-index")),Promise.reject("Cannot access body of friendly frame")):Promise.resolve()}
function $JSCompiler_StaticMethods_generateAdKey_$$($JSCompiler_StaticMethods_generateAdKey_$self_element$jscomp$129$$,$size$jscomp$19$$){$JSCompiler_StaticMethods_generateAdKey_$self_element$jscomp$129$$=$JSCompiler_StaticMethods_generateAdKey_$self_element$jscomp$129$$.element;var $domFingerprint$$=$domFingerprintPlain$$module$src$utils$dom_fingerprint$$($JSCompiler_StaticMethods_generateAdKey_$self_element$jscomp$129$$),$slot$$=$JSCompiler_StaticMethods_generateAdKey_$self_element$jscomp$129$$.getAttribute("data-slot")||
"",$multiSize$$=$JSCompiler_StaticMethods_generateAdKey_$self_element$jscomp$129$$.getAttribute("data-multi-size")||"";return $stringHash32$$module$src$string$$($slot$$+":"+$size$jscomp$19$$+":"+$multiSize$$+":"+$domFingerprint$$)}
function $JSCompiler_StaticMethods_handleResize_$$($JSCompiler_StaticMethods_handleResize_$self$$,$width$jscomp$39$$,$height$jscomp$38$$){var $pWidth$$=$JSCompiler_StaticMethods_handleResize_$self$$.element.getAttribute("width"),$pHeight$$=$JSCompiler_StaticMethods_handleResize_$self$$.element.getAttribute("height");($JSCompiler_StaticMethods_handleResize_$self$$.$isFluidRequest_$&&$width$jscomp$39$$&&$height$jscomp$38$$||($width$jscomp$39$$!=$pWidth$$||$height$jscomp$38$$!=$pHeight$$)&&$width$jscomp$39$$<=
$pWidth$$&&$height$jscomp$38$$<=$pHeight$$)&&$JSCompiler_StaticMethods_handleResize_$self$$.attemptChangeSize($height$jscomp$38$$,$width$jscomp$39$$).catch(function(){})}
$JSCompiler_prototypeAlias$$.sendXhrRequest=function($adUrl$jscomp$7$$){var $$jscomp$this$jscomp$64$$=this;if(!this.useSra)return $AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.sendXhrRequest.call(this,$adUrl$jscomp$7$$);var $checkStillCurrent$jscomp$8$$=this.verifyStillCurrent();this.initiateSraRequests().then(function(){$checkStillCurrent$jscomp$8$$();$$jscomp$this$jscomp$64$$.sraDeferred||($dev$$module$src$log$$().warn("amp-ad-network-doubleclick-impl","SRA failed to include element "+
$$jscomp$this$jscomp$64$$.$ifi_$),$isExperimentOn$$module$src$experiments$$($$jscomp$this$jscomp$64$$.win,"doubleclickSraReportExcludedBlock")&&$$jscomp$this$jscomp$64$$.getAmpDoc().getBody().appendChild($createElementWithAttributes$$module$src$dom$$($$jscomp$this$jscomp$64$$.win.document,"amp-pixel",$dict$$module$src$utils$object$$({src:"https://pagead2.googlesyndication.com/pagead/gen_204?"+("id="+encodeURIComponent("a4a::sra")+"&ifi="+$$jscomp$this$jscomp$64$$.$ifi_$)}))))});return this.sraDeferred.promise.then(function($response$jscomp$9$$){$checkStillCurrent$jscomp$8$$();
$$jscomp$this$jscomp$64$$.sraDeferred=null;return $response$jscomp$9$$||$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.sendXhrRequest.call($$jscomp$this$jscomp$64$$,$adUrl$jscomp$7$$)})};
$JSCompiler_prototypeAlias$$.fireDelayedImpressions=function($impressions$$,$scrubReferer$$){var $$jscomp$this$jscomp$65$$=this;$impressions$$&&$impressions$$.split(",").forEach(function($impressions$$){try{$getExistingServiceForDocInEmbedScope$$module$src$service$$($$jscomp$this$jscomp$65$$.element,"url").isSecure($impressions$$)?$$jscomp$this$jscomp$65$$.win.document.body.appendChild($createElementWithAttributes$$module$src$dom$$($$jscomp$this$jscomp$65$$.win.document,"amp-pixel",$dict$$module$src$utils$object$$({src:$impressions$$,
referrerpolicy:$scrubReferer$$?"no-referrer":""}))):$dev$$module$src$log$$().warn("amp-ad-network-doubleclick-impl","insecure impression url: "+$impressions$$)}catch($unusedError$jscomp$3$$){}})};$JSCompiler_prototypeAlias$$.fireFluidDelayedImpression=function(){this.$fluidImpressionUrl_$&&(this.fireDelayedImpressions(this.$fluidImpressionUrl_$),this.$fluidImpressionUrl_$=null)};
$JSCompiler_prototypeAlias$$.groupSlotsForSra=function(){return $groupAmpAdsByType$$module$ads$google$a4a$utils$$(this.win,this.element.getAttribute("type"))};
$JSCompiler_prototypeAlias$$.initiateSraRequests=function(){var $$jscomp$this$jscomp$66$$=this,$checkStillCurrent$jscomp$9$$=this.verifyStillCurrent(),$noFallbackExp$$=this.experimentIds.includes("21062235");return $sraRequests$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$=$sraRequests$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$||this.groupSlotsForSra().then(function($groupIdToBlocksAry$$){$checkStillCurrent$jscomp$9$$();
var $sraRequestPromises$$=[];Object.keys($groupIdToBlocksAry$$).forEach(function($networkId$$){var $blocks$$=$groupIdToBlocksAry$$[$networkId$$];$sraRequestPromises$$.push(Promise.all($blocks$$).then(function($groupIdToBlocksAry$$){$checkStillCurrent$jscomp$9$$();var $sraRequestPromises$$=$groupIdToBlocksAry$$.filter(function($$jscomp$this$jscomp$66$$){var $checkStillCurrent$jscomp$9$$=$$jscomp$this$jscomp$66$$.hasAdPromise();$checkStillCurrent$jscomp$9$$||$dev$$module$src$log$$().info("amp-ad-network-doubleclick-impl",
"Ignoring instance without ad promise as likely invalid",$$jscomp$this$jscomp$66$$.element);return $checkStillCurrent$jscomp$9$$});if($sraRequestPromises$$.length){if($noFallbackExp$$||1!=$sraRequestPromises$$.length){var $blocks$$;return $constructSRARequest_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$($$jscomp$this$jscomp$66$$,$sraRequestPromises$$).then(function($noFallbackExp$$){$checkStillCurrent$jscomp$9$$();$blocks$$=$noFallbackExp$$;return $getService$$module$src$service$$($$jscomp$this$jscomp$66$$.win,
"xhr").fetch($blocks$$,{mode:"cors",method:"GET",credentials:"include"})}).then(function($noFallbackExp$$){$checkStillCurrent$jscomp$9$$();var $groupIdToBlocksAry$$=$sraRequestPromises$$.map(function($$jscomp$this$jscomp$66$$){return $$jscomp$this$jscomp$66$$.sraDeferred.resolve}),$networkId$$=$metaJsonCreativeGrouper$$module$ads$google$a4a$line_delimited_response_handler$$(function($$jscomp$this$jscomp$66$$,$noFallbackExp$$,$sraRequestPromises$$){$checkStillCurrent$jscomp$9$$();$sraBlockCallbackHandler$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($$jscomp$this$jscomp$66$$,
$noFallbackExp$$,$sraRequestPromises$$,$groupIdToBlocksAry$$,$blocks$$)});$lineDelimitedStreamer$$module$ads$google$a4a$line_delimited_response_handler$$($$jscomp$this$jscomp$66$$.win,$noFallbackExp$$,$networkId$$);return Promise.all($sraRequestPromises$$.map(function($$jscomp$this$jscomp$66$$){return $$jscomp$this$jscomp$66$$.sraDeferred.promise}))}).catch(function($checkStillCurrent$jscomp$9$$){$isCancellation$$module$src$error$$($checkStillCurrent$jscomp$9$$)?$sraRequestPromises$$.forEach(function($$jscomp$this$jscomp$66$$){return $$jscomp$this$jscomp$66$$.sraDeferred&&
$$jscomp$this$jscomp$66$$.sraDeferred.reject($checkStillCurrent$jscomp$9$$)}):$noFallbackExp$$||$$jscomp$this$jscomp$66$$.win.document.querySelector("meta[name=amp-ad-doubleclick-sra]")?($assignAdUrlToError$$module$extensions$amp_a4a$0_1$amp_a4a$$($checkStillCurrent$jscomp$9$$,$blocks$$),$$jscomp$this$jscomp$66$$.warnOnError("SRA request failure",$checkStillCurrent$jscomp$9$$),$sraRequestPromises$$.forEach(function($$jscomp$this$jscomp$66$$){$$jscomp$this$jscomp$66$$.resetAdUrl();$$jscomp$this$jscomp$66$$.attemptCollapse();
$$jscomp$this$jscomp$66$$.sraDeferred.reject($checkStillCurrent$jscomp$9$$)})):$sraRequestPromises$$.forEach(function($$jscomp$this$jscomp$66$$){return $$jscomp$this$jscomp$66$$.sraDeferred.resolve(null)})})}$dev$$module$src$log$$().info("amp-ad-network-doubleclick-impl","single block in network "+$networkId$$);$sraRequestPromises$$[0].sraDeferred=$sraRequestPromises$$[0].sraDeferred||new $Deferred$$module$src$utils$promise$$;$sraRequestPromises$$[0].sraDeferred.resolve(null)}}))});return Promise.all($sraRequestPromises$$)})};
$JSCompiler_prototypeAlias$$.warnOnError=function($message$jscomp$41$$,$error$jscomp$35$$){$dev$$module$src$log$$().warn("amp-ad-network-doubleclick-impl",$message$jscomp$41$$,$error$jscomp$35$$)};$JSCompiler_prototypeAlias$$.getPreconnectUrls=function(){return["https://securepubads.g.doubleclick.net/"]};
$JSCompiler_prototypeAlias$$.getNonAmpCreativeRenderingMethod=function($headerValue$jscomp$3$$){return this.forceSafeframe||this.$isFluidRequest_$?"safeframe":$AmpA4A$$module$extensions$amp_a4a$0_1$amp_a4a$$.prototype.getNonAmpCreativeRenderingMethod.call(this,$headerValue$jscomp$3$$)};
$JSCompiler_prototypeAlias$$.getLocationQueryParameterValue=function($parameterName$$){$windowLocationQueryParameters$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$=$windowLocationQueryParameters$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$||$parseQueryString_$$module$src$url_parse_query_string$$(this.win.location&&this.win.location.search||"");return $windowLocationQueryParameters$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$[$parameterName$$]};
$JSCompiler_prototypeAlias$$.getAdditionalContextMetadata=function($isSafeFrame$$){$isSafeFrame$$=void 0===$isSafeFrame$$?!1:$isSafeFrame$$;if(this.$isFluidRequest_$||$isSafeFrame$$){var $creativeSize$jscomp$1$$=this.getCreativeSize();this.$safeframeApi_$=this.$safeframeApi_$||new $SafeframeHostApi$$module$extensions$amp_ad_network_doubleclick_impl$0_1$safeframe_host$$(this,this.$isFluidRequest_$,$creativeSize$jscomp$1$$);return this.$safeframeApi_$.getSafeframeNameAttr()}};
$JSCompiler_prototypeAlias$$.postTroubleshootMessage=function(){var $$jscomp$this$jscomp$67$$=this;return this.win.opener&&/[?|&]dfpdeb/.test(this.win.location.search)?this.$troubleshootData_$.adUrl.then(function($adUrl$jscomp$8_payload$jscomp$8$$){var $slotId$jscomp$1$$=$$jscomp$this$jscomp$67$$.$troubleshootData_$.slotId+"_"+$$jscomp$this$jscomp$67$$.$troubleshootData_$.slotIndex;$adUrl$jscomp$8_payload$jscomp$8$$=$dict$$module$src$utils$object$$({gutData:JSON.stringify($dict$$module$src$utils$object$$({events:[{timestamp:Date.now(),
slotid:$slotId$jscomp$1$$,messageId:4}],slots:[{contentUrl:$adUrl$jscomp$8_payload$jscomp$8$$||"",id:$slotId$jscomp$1$$,leafAdUnitName:$$jscomp$this$jscomp$67$$.$troubleshootData_$.slotId,domId:$slotId$jscomp$1$$,lineItemId:$$jscomp$this$jscomp$67$$.$troubleshootData_$.lineItemId,creativeId:$$jscomp$this$jscomp$67$$.$troubleshootData_$.creativeId}]})),userAgent:navigator.userAgent,referrer:$$jscomp$this$jscomp$67$$.win.location.href,messageType:"LOAD"});$$jscomp$this$jscomp$67$$.win.opener.postMessage($adUrl$jscomp$8_payload$jscomp$8$$,
"*")}):null};$JSCompiler_prototypeAlias$$.setPageviewStateToken=function($token$jscomp$4$$){$tokensToInstances$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$[$token$jscomp$4$$]=this};
$JSCompiler_prototypeAlias$$.removePageviewStateToken=function(){for(var $token$jscomp$5$$ in $tokensToInstances$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$)if($tokensToInstances$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$[$token$jscomp$5$$]==this){delete $tokensToInstances$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$[$token$jscomp$5$$];break}};
$JSCompiler_prototypeAlias$$.getA4aAnalyticsVars=function($analyticsTrigger$jscomp$1$$){var $JSCompiler_qqid$jscomp$inline_360$$=this.$qqid_$,$JSCompiler_vars$jscomp$inline_365_JSCompiler_win$jscomp$inline_361$$=this.win,$JSCompiler_ampdoc$jscomp$inline_362$$=this.getAmpDoc(),$JSCompiler_viewer$jscomp$inline_363$$=$Services$$module$src$services$viewerForDoc$$($JSCompiler_ampdoc$jscomp$inline_362$$),$JSCompiler_navStart$jscomp$inline_364$$=$getNavigationTiming$$module$ads$google$a4a$utils$$($JSCompiler_vars$jscomp$inline_365_JSCompiler_win$jscomp$inline_361$$,
"navigationStart");$JSCompiler_vars$jscomp$inline_365_JSCompiler_win$jscomp$inline_361$$={correlator:$getCorrelator$$module$ads$google$a4a$utils$$($JSCompiler_vars$jscomp$inline_365_JSCompiler_win$jscomp$inline_361$$,$JSCompiler_ampdoc$jscomp$inline_362$$),slotId:this.element.getAttribute("data-amp-slot-index"),viewerLastVisibleTime:$JSCompiler_viewer$jscomp$inline_363$$.getLastVisibleTime()-$JSCompiler_navStart$jscomp$inline_364$$};$JSCompiler_qqid$jscomp$inline_360$$&&($JSCompiler_vars$jscomp$inline_365_JSCompiler_win$jscomp$inline_361$$.qqid=
$JSCompiler_qqid$jscomp$inline_360$$);"ad-render-start"==$analyticsTrigger$jscomp$1$$&&($JSCompiler_vars$jscomp$inline_365_JSCompiler_win$jscomp$inline_361$$.scheduleTime=this.element.layoutScheduleTime-$JSCompiler_navStart$jscomp$inline_364$$);return $JSCompiler_vars$jscomp$inline_365_JSCompiler_win$jscomp$inline_361$$};
$JSCompiler_prototypeAlias$$.getA4aAnalyticsConfig=function(){return $dict$$module$src$utils$object$$({requests:{csi:"https://csi.gstatic.com/csi?"},transport:{xhrpost:!1},triggers:{adRequestStart:$csiTrigger$$module$ads$google$a4a$utils$$("ad-request-start",{"met.a4a":"afs_lvt.${viewerLastVisibleTime}~afs.${time}"}),adResponseEnd:$csiTrigger$$module$ads$google$a4a$utils$$("ad-response-end",{"met.a4a":"afe.${time}"}),adRenderStart:$csiTrigger$$module$ads$google$a4a$utils$$("ad-render-start",{"met.a4a":"ast.${scheduleTime}~ars_lvt.${viewerLastVisibleTime}~ars.${time}",
qqid:"${qqid}"}),adIframeLoaded:$csiTrigger$$module$ads$google$a4a$utils$$("ad-iframe-loaded",{"met.a4a":"ail.${time}"})},extraUrlParams:{s:"ampad",ctx:"2",c:"${correlator}",slotId:"${slotId}",puid:"${requestCount}~${timestamp}"}})};$JSCompiler_prototypeAlias$$.isFluidRequest=function(){return this.$isFluidRequest_$};(function($AMP$jscomp$1$$){$AMP$jscomp$1$$.registerElement("amp-ad-network-doubleclick-impl",$AmpAdNetworkDoubleclickImpl$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$)})(self.AMP);
function $getNetworkId$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$($element$jscomp$130_networkId$jscomp$1$$){return($element$jscomp$130_networkId$jscomp$1$$=/^(?:\/)?(\d+)/.exec($element$jscomp$130_networkId$jscomp$1$$.getAttribute("data-slot")))?$element$jscomp$130_networkId$jscomp$1$$[1]:""}
function $constructSRARequest_$$module$extensions$amp_ad_network_doubleclick_impl$0_1$amp_ad_network_doubleclick_impl$$($a4a$jscomp$7$$,$instances$jscomp$2$$){var $startTime$jscomp$13$$=Date.now();return Promise.all($instances$jscomp$2$$.map(function($a4a$jscomp$7$$){return $a4a$jscomp$7$$.getAdUrlDeferred.promise})).then(function(){return $googlePageParameters$$module$ads$google$a4a$utils$$($a4a$jscomp$7$$,$startTime$jscomp$13$$)}).then(function($a4a$jscomp$7$$){var $googPageLevelParameters$$=$constructSRABlockParameters$$module$extensions$amp_ad_network_doubleclick_impl$0_1$sra_utils$$($instances$jscomp$2$$),
$JSCompiler_parameters$jscomp$inline_368$$=Object.assign($googPageLevelParameters$$,$a4a$jscomp$7$$,$instances$jscomp$2$$[0].getPageParameters($instances$jscomp$2$$[0].consentState,$instances$jscomp$2$$));return $buildUrl$$module$ads$google$a4a$shared$url_builder$$($JSCompiler_parameters$jscomp$inline_368$$)+"&dtd="+$elapsedTimeWithCeiling$$module$ads$google$a4a$utils$$($startTime$jscomp$13$$)})};
})});

//# sourceMappingURL=amp-ad-network-doubleclick-impl-0.1.js.map
