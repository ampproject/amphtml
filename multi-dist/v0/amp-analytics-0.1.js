(self.AMP=self.AMP||[]).push({n:"amp-analytics",v:"1904281823091",f:(function(AMP,_){
var $JSCompiler_prototypeAlias$$,$$jscomp$objectCreate$$="function"==typeof Object.create?Object.create:function($prototype$$){function $ctor$$(){}$ctor$$.prototype=$prototype$$;return new $ctor$$},$JSCompiler_temp$jscomp$38$$;
if("function"==typeof Object.setPrototypeOf)$JSCompiler_temp$jscomp$38$$=Object.setPrototypeOf;else{var $JSCompiler_inline_result$jscomp$39$$;a:{var $JSCompiler_x$jscomp$inline_91$$={a:!0},$JSCompiler_y$jscomp$inline_92$$={};try{$JSCompiler_y$jscomp$inline_92$$.__proto__=$JSCompiler_x$jscomp$inline_91$$;$JSCompiler_inline_result$jscomp$39$$=$JSCompiler_y$jscomp$inline_92$$.a;break a}catch($JSCompiler_e$jscomp$inline_93$$){}$JSCompiler_inline_result$jscomp$39$$=!1}$JSCompiler_temp$jscomp$38$$=$JSCompiler_inline_result$jscomp$39$$?
function($target$jscomp$83$$,$proto$jscomp$3$$){$target$jscomp$83$$.__proto__=$proto$jscomp$3$$;if($target$jscomp$83$$.__proto__!==$proto$jscomp$3$$)throw new TypeError($target$jscomp$83$$+" is not extensible");return $target$jscomp$83$$}:null}var $$jscomp$setPrototypeOf$$=$JSCompiler_temp$jscomp$38$$;
function $$jscomp$inherits$$($childCtor$$,$parentCtor$$){$childCtor$$.prototype=$$jscomp$objectCreate$$($parentCtor$$.prototype);$childCtor$$.prototype.constructor=$childCtor$$;if($$jscomp$setPrototypeOf$$)$$jscomp$setPrototypeOf$$($childCtor$$,$parentCtor$$);else for(var $p$$ in $parentCtor$$)if("prototype"!=$p$$)if(Object.defineProperties){var $descriptor$jscomp$1$$=Object.getOwnPropertyDescriptor($parentCtor$$,$p$$);$descriptor$jscomp$1$$&&Object.defineProperty($childCtor$$,$p$$,$descriptor$jscomp$1$$)}else $childCtor$$[$p$$]=
$parentCtor$$[$p$$];$childCtor$$.$superClass_$=$parentCtor$$.prototype}(function($maybeGlobal$$){return"undefined"!=typeof window&&window===$maybeGlobal$$?$maybeGlobal$$:"undefined"!=typeof global&&null!=global?global:$maybeGlobal$$})(this);function $Deferred$$module$src$utils$promise$$(){var $resolve$$,$reject$$;this.promise=new Promise(function($res$$,$rej$$){$resolve$$=$res$$;$reject$$=$rej$$});this.resolve=$resolve$$;this.reject=$reject$$}function $tryResolve$$module$src$utils$promise$$($fn$$){return new Promise(function($resolve$jscomp$1$$){$resolve$jscomp$1$$($fn$$())})};function $tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($component$jscomp$4$$,$fallback$$){$fallback$$=void 0===$fallback$$?"":$fallback$$;try{return decodeURIComponent($component$jscomp$4$$)}catch($e$jscomp$8$$){return $fallback$$}};var $regex$$module$src$url_parse_query_string$$=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;
function $parseQueryString_$$module$src$url_parse_query_string$$($queryString$$){var $params$jscomp$1$$=Object.create(null);if(!$queryString$$)return $params$jscomp$1$$;for(var $match$$;$match$$=$regex$$module$src$url_parse_query_string$$.exec($queryString$$);){var $name$jscomp$70$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[1],$match$$[1]),$value$jscomp$87$$=$match$$[2]?$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[2],$match$$[2]):"";
$params$jscomp$1$$[$name$jscomp$70$$]=$value$jscomp$87$$}return $params$jscomp$1$$};var $rtvVersion$$module$src$mode$$="";
function $getMode$$module$src$mode$$($opt_win$$){var $win$$=$opt_win$$||self;if($win$$.AMP_MODE)var $JSCompiler_temp$jscomp$40_JSCompiler_win$jscomp$inline_95$$=$win$$.AMP_MODE;else{$JSCompiler_temp$jscomp$40_JSCompiler_win$jscomp$inline_95$$=$win$$;var $JSCompiler_AMP_CONFIG$jscomp$inline_96_JSCompiler_singlePassType$jscomp$inline_103$$=self.AMP_CONFIG||{},$JSCompiler_runningTests$jscomp$inline_100$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_96_JSCompiler_singlePassType$jscomp$inline_103$$.test||!(!$JSCompiler_temp$jscomp$40_JSCompiler_win$jscomp$inline_95$$.AMP_TEST&&
!$JSCompiler_temp$jscomp$40_JSCompiler_win$jscomp$inline_95$$.__karma__),$JSCompiler_isLocalDev$jscomp$inline_101$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_96_JSCompiler_singlePassType$jscomp$inline_103$$.localDev||$JSCompiler_runningTests$jscomp$inline_100$$,$JSCompiler_hashQuery$jscomp$inline_102$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$40_JSCompiler_win$jscomp$inline_95$$.location.originalHash||$JSCompiler_temp$jscomp$40_JSCompiler_win$jscomp$inline_95$$.location.hash);
$JSCompiler_AMP_CONFIG$jscomp$inline_96_JSCompiler_singlePassType$jscomp$inline_103$$=$JSCompiler_AMP_CONFIG$jscomp$inline_96_JSCompiler_singlePassType$jscomp$inline_103$$.spt;var $JSCompiler_searchQuery$jscomp$inline_104$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$40_JSCompiler_win$jscomp$inline_95$$.location.search);$rtvVersion$$module$src$mode$$||($rtvVersion$$module$src$mode$$=$JSCompiler_isLocalDev$jscomp$inline_101$$?"1904281823091":$JSCompiler_temp$jscomp$40_JSCompiler_win$jscomp$inline_95$$.AMP_CONFIG&&
$JSCompiler_temp$jscomp$40_JSCompiler_win$jscomp$inline_95$$.AMP_CONFIG.v?$JSCompiler_temp$jscomp$40_JSCompiler_win$jscomp$inline_95$$.AMP_CONFIG.v:"011904281823091");$JSCompiler_temp$jscomp$40_JSCompiler_win$jscomp$inline_95$$=$win$$.AMP_MODE={localDev:$JSCompiler_isLocalDev$jscomp$inline_101$$,development:!("1"!=$JSCompiler_hashQuery$jscomp$inline_102$$.development&&!$JSCompiler_temp$jscomp$40_JSCompiler_win$jscomp$inline_95$$.AMP_DEV_MODE),examiner:"2"==$JSCompiler_hashQuery$jscomp$inline_102$$.development,
filter:$JSCompiler_hashQuery$jscomp$inline_102$$.filter,geoOverride:$JSCompiler_hashQuery$jscomp$inline_102$$["amp-geo"],minified:!0,lite:void 0!=$JSCompiler_searchQuery$jscomp$inline_104$$.amp_lite,test:$JSCompiler_runningTests$jscomp$inline_100$$,log:$JSCompiler_hashQuery$jscomp$inline_102$$.log,version:"1904281823091",rtvVersion:$rtvVersion$$module$src$mode$$,singlePassType:$JSCompiler_AMP_CONFIG$jscomp$inline_96_JSCompiler_singlePassType$jscomp$inline_103$$}}return $JSCompiler_temp$jscomp$40_JSCompiler_win$jscomp$inline_95$$}
;var $toString_$$module$src$types$$=Object.prototype.toString;function $isObject$$module$src$types$$($value$jscomp$90$$){return"[object Object]"===$toString_$$module$src$types$$.call($value$jscomp$90$$)}function $isFiniteNumber$$module$src$types$$($value$jscomp$91$$){return"number"===typeof $value$jscomp$91$$&&isFinite($value$jscomp$91$$)}
function $isEnumValue$$module$src$types$$($s$jscomp$6$$){var $enumObj$$=$AnalyticsEventType$$module$extensions$amp_analytics$0_1$events$$,$k$$;for($k$$ in $enumObj$$)if($enumObj$$[$k$$]===$s$jscomp$6$$)return!0;return!1};function $createErrorVargs$$module$src$log$$($var_args$jscomp$53$$){for(var $JSCompiler_prop$jscomp$inline_110_error$jscomp$10$$=null,$message$jscomp$28$$="",$i$jscomp$6$$=0;$i$jscomp$6$$<arguments.length;$i$jscomp$6$$++){var $arg$jscomp$6$$=arguments[$i$jscomp$6$$];if($arg$jscomp$6$$ instanceof Error&&!$JSCompiler_prop$jscomp$inline_110_error$jscomp$10$$){$JSCompiler_prop$jscomp$inline_110_error$jscomp$10$$=void 0;var $JSCompiler_messageProperty$jscomp$inline_107_JSCompiler_stack$jscomp$inline_108$$=
Object.getOwnPropertyDescriptor($arg$jscomp$6$$,"message");if($JSCompiler_messageProperty$jscomp$inline_107_JSCompiler_stack$jscomp$inline_108$$&&$JSCompiler_messageProperty$jscomp$inline_107_JSCompiler_stack$jscomp$inline_108$$.writable)$JSCompiler_prop$jscomp$inline_110_error$jscomp$10$$=$arg$jscomp$6$$;else{$JSCompiler_messageProperty$jscomp$inline_107_JSCompiler_stack$jscomp$inline_108$$=$arg$jscomp$6$$.stack;var $JSCompiler_e$jscomp$inline_109$$=Error($arg$jscomp$6$$.message);for($JSCompiler_prop$jscomp$inline_110_error$jscomp$10$$ in $arg$jscomp$6$$)$JSCompiler_e$jscomp$inline_109$$[$JSCompiler_prop$jscomp$inline_110_error$jscomp$10$$]=
$arg$jscomp$6$$[$JSCompiler_prop$jscomp$inline_110_error$jscomp$10$$];$JSCompiler_e$jscomp$inline_109$$.stack=$JSCompiler_messageProperty$jscomp$inline_107_JSCompiler_stack$jscomp$inline_108$$;$JSCompiler_prop$jscomp$inline_110_error$jscomp$10$$=$JSCompiler_e$jscomp$inline_109$$}}else $message$jscomp$28$$&&($message$jscomp$28$$+=" "),$message$jscomp$28$$+=$arg$jscomp$6$$}$JSCompiler_prop$jscomp$inline_110_error$jscomp$10$$?$message$jscomp$28$$&&($JSCompiler_prop$jscomp$inline_110_error$jscomp$10$$.message=
$message$jscomp$28$$+": "+$JSCompiler_prop$jscomp$inline_110_error$jscomp$10$$.message):$JSCompiler_prop$jscomp$inline_110_error$jscomp$10$$=Error($message$jscomp$28$$);return $JSCompiler_prop$jscomp$inline_110_error$jscomp$10$$}function $rethrowAsync$$module$src$log$$($var_args$jscomp$54$$){var $error$jscomp$11$$=$createErrorVargs$$module$src$log$$.apply(null,arguments);setTimeout(function(){self.reportError($error$jscomp$11$$);throw $error$jscomp$11$$;})}self.log=self.log||{user:null,dev:null,userForEmbed:null};
var $logs$$module$src$log$$=self.log;function $user$$module$src$log$$(){if(!$logs$$module$src$log$$.user)throw Error("failed to call initLogConstructor");return $logs$$module$src$log$$.user}function $dev$$module$src$log$$(){if($logs$$module$src$log$$.dev)return $logs$$module$src$log$$.dev;throw Error("failed to call initLogConstructor");}
function $userAssert$$module$src$log$$($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$,$opt_4$jscomp$1$$){return $user$$module$src$log$$().assert($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$,$opt_4$jscomp$1$$,void 0,void 0,void 0,void 0,void 0)};function $getExistingServiceForDocInEmbedScope$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_117_JSCompiler_holder$jscomp$inline_118_element$jscomp$11$$,$id$jscomp$6$$){var $opt_fallbackToTopWin$$,$win$jscomp$6$$=$JSCompiler_ampdoc$jscomp$inline_117_JSCompiler_holder$jscomp$inline_118_element$jscomp$11$$.ownerDocument.defaultView,$isEmbed$$=$win$jscomp$6$$!=($win$jscomp$6$$.__AMP_TOP||$win$jscomp$6$$);if($isEmbed$$){if($isServiceRegistered$$module$src$service$$($win$jscomp$6$$,$id$jscomp$6$$)){var $embedService$$=
$getServiceInternal$$module$src$service$$($win$jscomp$6$$,$id$jscomp$6$$);if($embedService$$)return $embedService$$}if(!$opt_fallbackToTopWin$$)return null}$JSCompiler_ampdoc$jscomp$inline_117_JSCompiler_holder$jscomp$inline_118_element$jscomp$11$$=$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_117_JSCompiler_holder$jscomp$inline_118_element$jscomp$11$$);$JSCompiler_ampdoc$jscomp$inline_117_JSCompiler_holder$jscomp$inline_118_element$jscomp$11$$=$getAmpdocServiceHolder$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_117_JSCompiler_holder$jscomp$inline_118_element$jscomp$11$$);
return $isServiceRegistered$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_117_JSCompiler_holder$jscomp$inline_118_element$jscomp$11$$,$id$jscomp$6$$)?$getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_117_JSCompiler_holder$jscomp$inline_118_element$jscomp$11$$,$id$jscomp$6$$):null}
function $registerServiceBuilder$$module$src$service$$($win$jscomp$7$$,$id$jscomp$8$$,$constructor$jscomp$1$$){var $opt_instantiate$$,$JSCompiler_holder$jscomp$inline_120$$=$win$jscomp$7$$=$win$jscomp$7$$.__AMP_TOP||$win$jscomp$7$$,$JSCompiler_context$jscomp$inline_121$$=$win$jscomp$7$$,$JSCompiler_services$jscomp$inline_124$$=$getServices$$module$src$service$$($JSCompiler_holder$jscomp$inline_120$$),$JSCompiler_s$jscomp$inline_125$$=$JSCompiler_services$jscomp$inline_124$$[$id$jscomp$8$$];$JSCompiler_s$jscomp$inline_125$$||
($JSCompiler_s$jscomp$inline_125$$=$JSCompiler_services$jscomp$inline_124$$[$id$jscomp$8$$]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});$JSCompiler_s$jscomp$inline_125$$.ctor||$JSCompiler_s$jscomp$inline_125$$.obj||($JSCompiler_s$jscomp$inline_125$$.ctor=$constructor$jscomp$1$$,$JSCompiler_s$jscomp$inline_125$$.context=$JSCompiler_context$jscomp$inline_121$$,$JSCompiler_s$jscomp$inline_125$$.resolve&&$getServiceInternal$$module$src$service$$($JSCompiler_holder$jscomp$inline_120$$,
$id$jscomp$8$$));$opt_instantiate$$&&$getServiceInternal$$module$src$service$$($win$jscomp$7$$,$id$jscomp$8$$)}function $getService$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$){$win$jscomp$8$$=$win$jscomp$8$$.__AMP_TOP||$win$jscomp$8$$;return $getServiceInternal$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$)}
function $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$$,$id$jscomp$15$$){var $ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdoc$$module$src$service$$($elementOrAmpDoc$$);$ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$);return $getServiceInternal$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$,$id$jscomp$15$$)}
function $getServicePromiseOrNullForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$2$$,$id$jscomp$18$$){return $getServicePromiseOrNullInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($elementOrAmpDoc$jscomp$2$$),$id$jscomp$18$$)}
function $getParentWindowFrameElement$$module$src$service$$($JSCompiler_temp$jscomp$44_JSCompiler_win$jscomp$inline_127_node$jscomp$2$$,$topWin$jscomp$1$$){var $childWin$$=($JSCompiler_temp$jscomp$44_JSCompiler_win$jscomp$inline_127_node$jscomp$2$$.ownerDocument||$JSCompiler_temp$jscomp$44_JSCompiler_win$jscomp$inline_127_node$jscomp$2$$).defaultView;if($JSCompiler_temp$jscomp$44_JSCompiler_win$jscomp$inline_127_node$jscomp$2$$=$childWin$$&&$childWin$$!=$topWin$jscomp$1$$)$JSCompiler_temp$jscomp$44_JSCompiler_win$jscomp$inline_127_node$jscomp$2$$=
$childWin$$,$JSCompiler_temp$jscomp$44_JSCompiler_win$jscomp$inline_127_node$jscomp$2$$=($JSCompiler_temp$jscomp$44_JSCompiler_win$jscomp$inline_127_node$jscomp$2$$.__AMP_TOP||$JSCompiler_temp$jscomp$44_JSCompiler_win$jscomp$inline_127_node$jscomp$2$$)==$topWin$jscomp$1$$;if($JSCompiler_temp$jscomp$44_JSCompiler_win$jscomp$inline_127_node$jscomp$2$$)try{return $childWin$$.frameElement}catch($e$jscomp$11$$){}return null}
function $getAmpdoc$$module$src$service$$($nodeOrDoc$jscomp$2$$){return $nodeOrDoc$jscomp$2$$.nodeType?$getService$$module$src$service$$(($nodeOrDoc$jscomp$2$$.ownerDocument||$nodeOrDoc$jscomp$2$$).defaultView,"ampdoc").getAmpDoc($nodeOrDoc$jscomp$2$$):$nodeOrDoc$jscomp$2$$}
function $getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$){$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$=$getAmpdoc$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$);return $ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.isSingleDoc()?$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.win:$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$){$isServiceRegistered$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$);var $services$$=$getServices$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$);$holder$jscomp$4_s$jscomp$8$$=$services$$[$id$jscomp$19$$];$holder$jscomp$4_s$jscomp$8$$.obj||($holder$jscomp$4_s$jscomp$8$$.obj=new $holder$jscomp$4_s$jscomp$8$$.ctor($holder$jscomp$4_s$jscomp$8$$.context),$holder$jscomp$4_s$jscomp$8$$.ctor=
null,$holder$jscomp$4_s$jscomp$8$$.context=null,$holder$jscomp$4_s$jscomp$8$$.resolve&&$holder$jscomp$4_s$jscomp$8$$.resolve($holder$jscomp$4_s$jscomp$8$$.obj));return $holder$jscomp$4_s$jscomp$8$$.obj}
function $getServicePromiseInternal$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$,$id$jscomp$21$$){var $cached$$=$getServicePromiseOrNullInternal$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$,$id$jscomp$21$$);if($cached$$)return $cached$$;$holder$jscomp$6_services$jscomp$2$$=$getServices$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$);$holder$jscomp$6_services$jscomp$2$$[$id$jscomp$21$$]=$emptyServiceHolderWithPromise$$module$src$service$$();return $holder$jscomp$6_services$jscomp$2$$[$id$jscomp$21$$].promise}
function $getServicePromiseOrNullInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$){var $s$jscomp$11$$=$getServices$$module$src$service$$($holder$jscomp$8$$)[$id$jscomp$23$$];if($s$jscomp$11$$){if($s$jscomp$11$$.promise)return $s$jscomp$11$$.promise;$getServiceInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$);return $s$jscomp$11$$.promise=Promise.resolve($s$jscomp$11$$.obj)}return null}
function $getServices$$module$src$service$$($holder$jscomp$9$$){var $services$jscomp$5$$=$holder$jscomp$9$$.services;$services$jscomp$5$$||($services$jscomp$5$$=$holder$jscomp$9$$.services={});return $services$jscomp$5$$}
function $isServiceRegistered$$module$src$service$$($holder$jscomp$12_service$jscomp$4$$,$id$jscomp$27$$){$holder$jscomp$12_service$jscomp$4$$=$holder$jscomp$12_service$jscomp$4$$.services&&$holder$jscomp$12_service$jscomp$4$$.services[$id$jscomp$27$$];return!(!$holder$jscomp$12_service$jscomp$4$$||!$holder$jscomp$12_service$jscomp$4$$.ctor&&!$holder$jscomp$12_service$jscomp$4$$.obj)}
function $emptyServiceHolderWithPromise$$module$src$service$$(){var $deferred$$=new $Deferred$$module$src$utils$promise$$,$$jscomp$destructuring$var2_reject$jscomp$3$$=$deferred$$,$promise$jscomp$1$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.promise,$resolve$jscomp$4$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.resolve;$$jscomp$destructuring$var2_reject$jscomp$3$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.reject;$promise$jscomp$1$$.catch(function(){});return{obj:null,promise:$promise$jscomp$1$$,
resolve:$resolve$jscomp$4$$,reject:$$jscomp$destructuring$var2_reject$jscomp$3$$,context:null,ctor:null}};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var $scopeSelectorSupported$$module$src$css$$;function $testScopeSelector$$module$src$css$$($el$jscomp$1$$){try{var $doc$jscomp$1$$=$el$jscomp$1$$.ownerDocument,$testElement$$=$doc$jscomp$1$$.createElement("div"),$testChild$$=$doc$jscomp$1$$.createElement("div");$testElement$$.appendChild($testChild$$);return $testElement$$.querySelector(":scope div")===$testChild$$}catch($e$jscomp$13$$){return!1}};var $hasOwn_$$module$src$utils$object$$=Object.prototype.hasOwnProperty;function $map$$module$src$utils$object$$(){var $opt_initial$$,$obj$jscomp$25$$=Object.create(null);$opt_initial$$&&Object.assign($obj$jscomp$25$$,$opt_initial$$);return $obj$jscomp$25$$}function $dict$$module$src$utils$object$$($opt_initial$jscomp$1$$){return $opt_initial$jscomp$1$$||{}}
function $hasOwn$$module$src$utils$object$$($obj$jscomp$26$$,$key$jscomp$37$$){return $hasOwn_$$module$src$utils$object$$.call($obj$jscomp$26$$,$key$jscomp$37$$)}
function $deepMerge$$module$src$utils$object$$($$jscomp$loop$29_target$jscomp$84$$,$$jscomp$destructuring$var3_source$jscomp$12$$){var $depth$jscomp$8$$=void 0===$depth$jscomp$8$$?10:$depth$jscomp$8$$;var $seen$$=[],$queue$$=[];$queue$$.push({t:$$jscomp$loop$29_target$jscomp$84$$,s:$$jscomp$destructuring$var3_source$jscomp$12$$,d:0});for($$jscomp$loop$29_target$jscomp$84$$={};0<$queue$$.length;){$$jscomp$destructuring$var3_source$jscomp$12$$=$queue$$.shift();$$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$t$31$=
$$jscomp$destructuring$var3_source$jscomp$12$$.t;$$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$s$30$=$$jscomp$destructuring$var3_source$jscomp$12$$.s;$$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$d$32$=$$jscomp$destructuring$var3_source$jscomp$12$$.d;if($seen$$.includes($$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$s$30$))throw Error("Source object has a circular reference.");$seen$$.push($$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$s$30$);$$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$t$31$!==
$$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$s$30$&&($$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$d$32$>$depth$jscomp$8$$?Object.assign($$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$t$31$,$$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$s$30$):Object.keys($$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$s$30$).forEach(function($$jscomp$loop$29_target$jscomp$84$$){return function($$jscomp$destructuring$var3_source$jscomp$12$$){var $depth$jscomp$8$$=$$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$s$30$[$$jscomp$destructuring$var3_source$jscomp$12$$];
if($hasOwn$$module$src$utils$object$$($$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$t$31$,$$jscomp$destructuring$var3_source$jscomp$12$$)){var $seen$$=$$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$t$31$[$$jscomp$destructuring$var3_source$jscomp$12$$];if($isObject$$module$src$types$$($depth$jscomp$8$$)&&$isObject$$module$src$types$$($seen$$)){$queue$$.push({t:$seen$$,s:$depth$jscomp$8$$,d:$$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$d$32$+1});return}}$$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$t$31$[$$jscomp$destructuring$var3_source$jscomp$12$$]=
$depth$jscomp$8$$}}($$jscomp$loop$29_target$jscomp$84$$)));$$jscomp$loop$29_target$jscomp$84$$={$$jscomp$loop$prop$s$30$:$$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$s$30$,$$jscomp$loop$prop$t$31$:$$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$t$31$,$$jscomp$loop$prop$d$32$:$$jscomp$loop$29_target$jscomp$84$$.$$jscomp$loop$prop$d$32$}}};function $endsWith$$module$src$string$$($string$jscomp$5$$,$suffix$jscomp$1$$){var $index$jscomp$68$$=$string$jscomp$5$$.length-$suffix$jscomp$1$$.length;return 0<=$index$jscomp$68$$&&$string$jscomp$5$$.indexOf($suffix$jscomp$1$$,$index$jscomp$68$$)==$index$jscomp$68$$}function $startsWith$$module$src$string$$($string$jscomp$6$$,$prefix$jscomp$2$$){return $prefix$jscomp$2$$.length>$string$jscomp$6$$.length?!1:0==$string$jscomp$6$$.lastIndexOf($prefix$jscomp$2$$,0)}
function $expandTemplate$$module$src$string$$($template$jscomp$1$$,$getter$$){for(var $opt_maxIterations$$=5,$maxIterations$$=$opt_maxIterations$$||1,$$jscomp$loop$33$$={},$i$jscomp$7$$=0;$i$jscomp$7$$<$maxIterations$$&&($$jscomp$loop$33$$.$$jscomp$loop$prop$matches$34$=0,$template$jscomp$1$$=$template$jscomp$1$$.replace(/\${([^}]*)}/g,function($template$jscomp$1$$){return function($opt_maxIterations$$,$maxIterations$$){$template$jscomp$1$$.$$jscomp$loop$prop$matches$34$++;return $getter$$($maxIterations$$)}}($$jscomp$loop$33$$)),
$$jscomp$loop$33$$.$$jscomp$loop$prop$matches$34$);$$jscomp$loop$33$$={$$jscomp$loop$prop$matches$34$:$$jscomp$loop$33$$.$$jscomp$loop$prop$matches$34$},$i$jscomp$7$$++);return $template$jscomp$1$$};function $createElementWithAttributes$$module$src$dom$$($doc$jscomp$12_element$jscomp$16$$,$tagName$jscomp$5$$,$attributes$jscomp$2$$){$doc$jscomp$12_element$jscomp$16$$=$doc$jscomp$12_element$jscomp$16$$.createElement($tagName$jscomp$5$$);for(var $JSCompiler_attr$jscomp$inline_131$$ in $attributes$jscomp$2$$)$doc$jscomp$12_element$jscomp$16$$.setAttribute($JSCompiler_attr$jscomp$inline_131$$,$attributes$jscomp$2$$[$JSCompiler_attr$jscomp$inline_131$$]);return $doc$jscomp$12_element$jscomp$16$$}
function $closest$$module$src$dom$$($el$jscomp$2_element$jscomp$17$$,$callback$jscomp$60$$){for(var $opt_stopAt$$;$el$jscomp$2_element$jscomp$17$$&&$el$jscomp$2_element$jscomp$17$$!==$opt_stopAt$$;$el$jscomp$2_element$jscomp$17$$=$el$jscomp$2_element$jscomp$17$$.parentElement)if($callback$jscomp$60$$($el$jscomp$2_element$jscomp$17$$))return $el$jscomp$2_element$jscomp$17$$;return null}
function $closestAncestorElementBySelector$$module$src$dom$$($element$jscomp$18$$,$selector$jscomp$2$$){return $element$jscomp$18$$.closest?$element$jscomp$18$$.closest($selector$jscomp$2$$):$closest$$module$src$dom$$($element$jscomp$18$$,function($element$jscomp$18$$){return $matches$$module$src$dom$$($element$jscomp$18$$,$selector$jscomp$2$$)})}
function $matches$$module$src$dom$$($el$jscomp$6$$,$selector$jscomp$3$$){var $matcher$$=$el$jscomp$6$$.matches||$el$jscomp$6$$.webkitMatchesSelector||$el$jscomp$6$$.mozMatchesSelector||$el$jscomp$6$$.msMatchesSelector||$el$jscomp$6$$.oMatchesSelector;return $matcher$$?$matcher$$.call($el$jscomp$6$$,$selector$jscomp$3$$):!1}
function $scopedQuerySelectionFallback$$module$src$dom$$($root$jscomp$4$$,$selector$jscomp$4$$){var $unique$$="i-amphtml-scoped";$root$jscomp$4$$.classList.add($unique$$);var $scopedSelector$$=$selector$jscomp$4$$.replace(/^|,/g,"$&."+$unique$$+" "),$elements$$=$root$jscomp$4$$.querySelectorAll($scopedSelector$$);$root$jscomp$4$$.classList.remove($unique$$);return $elements$$}
function $getDataParamsFromAttributes$$module$src$dom$$($element$jscomp$20_params$jscomp$2$$){var $opt_computeParamNameFunc$$=void 0,$opt_paramPattern$$=$VARIABLE_DATA_ATTRIBUTE_KEY$$module$extensions$amp_analytics$0_1$events$$,$computeParamNameFunc$$=$opt_computeParamNameFunc$$||function($element$jscomp$20_params$jscomp$2$$){return $element$jscomp$20_params$jscomp$2$$},$dataset$$=$element$jscomp$20_params$jscomp$2$$.dataset;$element$jscomp$20_params$jscomp$2$$={};var $paramPattern$$=$opt_paramPattern$$?
$opt_paramPattern$$:/^param(.+)/,$key$jscomp$41$$;for($key$jscomp$41$$ in $dataset$$){var $matches$$=$key$jscomp$41$$.match($paramPattern$$);$matches$$&&($element$jscomp$20_params$jscomp$2$$[$computeParamNameFunc$$($matches$$[1][0].toLowerCase()+$matches$$[1].substr(1))]=$dataset$$[$key$jscomp$41$$])}return $element$jscomp$20_params$jscomp$2$$};function $getElementServiceForDoc$$module$src$element_service$$($element$jscomp$32$$){return $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$32$$,"userNotificationManager","amp-user-notification",void 0).then(function($element$jscomp$32$$){return $userAssert$$module$src$log$$($element$jscomp$32$$,"Service %s was requested to be provided through %s, but %s is not loaded in the current page. To fix this problem load the JavaScript file for %s in this page.","userNotificationManager",
"amp-user-notification","amp-user-notification","amp-user-notification")})}
function $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$33$$,$id$jscomp$31$$,$extension$jscomp$3$$,$opt_element$jscomp$10$$){var $s$jscomp$13$$=$getServicePromiseOrNullForDoc$$module$src$service$$($element$jscomp$33$$,$id$jscomp$31$$);if($s$jscomp$13$$)return $s$jscomp$13$$;var $ampdoc$jscomp$7$$=$getAmpdoc$$module$src$service$$($element$jscomp$33$$);return $ampdoc$jscomp$7$$.whenBodyAvailable().then(function(){var $element$jscomp$33$$=$ampdoc$jscomp$7$$.win;var $id$jscomp$31$$=
$ampdoc$jscomp$7$$.win.document.head;if($id$jscomp$31$$){var $opt_element$jscomp$10$$=[];$id$jscomp$31$$=$id$jscomp$31$$.querySelectorAll("script[custom-element]");for(var $s$jscomp$13$$=0;$s$jscomp$13$$<$id$jscomp$31$$.length;$s$jscomp$13$$++)$opt_element$jscomp$10$$.push($id$jscomp$31$$[$s$jscomp$13$$].getAttribute("custom-element"))}else $opt_element$jscomp$10$$=[];$element$jscomp$33$$=$opt_element$jscomp$10$$.includes($extension$jscomp$3$$)?$getService$$module$src$service$$($element$jscomp$33$$,
"extensions").waitForExtension($element$jscomp$33$$,$extension$jscomp$3$$):Promise.resolve();return $element$jscomp$33$$}).then(function(){if($opt_element$jscomp$10$$)var $s$jscomp$13$$=$getServicePromiseOrNullForDoc$$module$src$service$$($element$jscomp$33$$,$id$jscomp$31$$);else $s$jscomp$13$$=$ampdoc$jscomp$7$$.win,$s$jscomp$13$$=$s$jscomp$13$$.ampExtendedElements&&$s$jscomp$13$$.ampExtendedElements[$extension$jscomp$3$$]?$getServicePromiseInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($element$jscomp$33$$),
$id$jscomp$31$$):null;return $s$jscomp$13$$})};function $Services$$module$src$services$urlReplacementsForDoc$$($element$jscomp$48$$){return $getExistingServiceForDocInEmbedScope$$module$src$service$$($element$jscomp$48$$,"url-replace")}function $Services$$module$src$services$viewerForDoc$$($elementOrAmpDoc$jscomp$15$$){return $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$15$$,"viewer")}
function $Services$$module$src$services$viewportForDoc$$($elementOrAmpDoc$jscomp$17$$){return $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$17$$,"viewport")};var $optsSupported$$module$src$event_helper_listen$$;
function $internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$55$$,$eventType$jscomp$3$$,$listener$jscomp$62$$){var $opt_evtListenerOpts$$=void 0,$localElement$$=$element$jscomp$55$$,$localListener$$=$listener$jscomp$62$$;var $wrapped$$=function($element$jscomp$55$$){try{return $localListener$$($element$jscomp$55$$)}catch($e$jscomp$16$$){throw self.reportError($e$jscomp$16$$),$e$jscomp$16$$;}};var $optsSupported$$=$detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(),$capture$$=
!1;$opt_evtListenerOpts$$&&($capture$$=$opt_evtListenerOpts$$.capture);$localElement$$.addEventListener($eventType$jscomp$3$$,$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$$);return function(){$localElement$$&&$localElement$$.removeEventListener($eventType$jscomp$3$$,$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$$);$wrapped$$=$localElement$$=$localListener$$=null}}
function $detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(){if(void 0!==$optsSupported$$module$src$event_helper_listen$$)return $optsSupported$$module$src$event_helper_listen$$;$optsSupported$$module$src$event_helper_listen$$=!1;try{var $options$jscomp$14$$={get capture(){$optsSupported$$module$src$event_helper_listen$$=!0}};self.addEventListener("test-options",null,$options$jscomp$14$$);self.removeEventListener("test-options",null,$options$jscomp$14$$)}catch($err$jscomp$3$$){}return $optsSupported$$module$src$event_helper_listen$$}
;function $listen$$module$src$event_helper$$($element$jscomp$56$$,$eventType$jscomp$4$$,$listener$jscomp$63$$){return $internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$56$$,$eventType$jscomp$4$$,$listener$jscomp$63$$)}
function $listenOnce$$module$src$event_helper$$($element$jscomp$57$$,$eventType$jscomp$5$$,$listener$jscomp$64$$){var $localListener$jscomp$1$$=$listener$jscomp$64$$,$unlisten$$=$internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$57$$,$eventType$jscomp$5$$,function($element$jscomp$57$$){try{$localListener$jscomp$1$$($element$jscomp$57$$)}finally{$localListener$jscomp$1$$=null,$unlisten$$()}});return $unlisten$$}
function $loadPromise$$module$src$event_helper$$($eleOrWindow$jscomp$1$$){var $unlistenLoad$$,$unlistenError$$;if($eleOrWindow$jscomp$1$$.complete||"complete"==$eleOrWindow$jscomp$1$$.readyState||$eleOrWindow$jscomp$1$$.document&&"complete"==$eleOrWindow$jscomp$1$$.document.readyState)return Promise.resolve($eleOrWindow$jscomp$1$$);var $loadingPromise$$=new Promise(function($loadingPromise$$,$reject$jscomp$4$$){var $resolve$jscomp$11$$=$eleOrWindow$jscomp$1$$.tagName;$unlistenLoad$$="AUDIO"===$resolve$jscomp$11$$||
"VIDEO"===$resolve$jscomp$11$$?$listenOnce$$module$src$event_helper$$($eleOrWindow$jscomp$1$$,"loadstart",$loadingPromise$$):$listenOnce$$module$src$event_helper$$($eleOrWindow$jscomp$1$$,"load",$loadingPromise$$);$resolve$jscomp$11$$&&($unlistenError$$=$listenOnce$$module$src$event_helper$$($eleOrWindow$jscomp$1$$,"error",$reject$jscomp$4$$))});return $loadingPromise$$.then(function(){$unlistenError$$&&$unlistenError$$();return $eleOrWindow$jscomp$1$$},function(){$unlistenLoad$$&&$unlistenLoad$$();
var $unlistenError$$=$eleOrWindow$jscomp$1$$;$unlistenError$$&&$unlistenError$$.src&&($unlistenError$$=$unlistenError$$.src);throw $user$$module$src$log$$().createError("Failed to load:",$unlistenError$$);})};function $findEngagedTimeBetween$$module$extensions$amp_analytics$0_1$activity_impl$$($activityEvent$$,$time$jscomp$1$$){var $engagementBonus$$=0;"active"===$activityEvent$$.type&&($engagementBonus$$=5);return Math.min($time$jscomp$1$$-$activityEvent$$.time,$engagementBonus$$)}function $ActivityHistory$$module$extensions$amp_analytics$0_1$activity_impl$$(){this.$totalEngagedTime_$=0;this.$prevActivityEvent_$=void 0}
$ActivityHistory$$module$extensions$amp_analytics$0_1$activity_impl$$.prototype.push=function($activityEvent$jscomp$1$$){this.$prevActivityEvent_$||(this.$prevActivityEvent_$=$activityEvent$jscomp$1$$);this.$prevActivityEvent_$.time<$activityEvent$jscomp$1$$.time&&(this.$totalEngagedTime_$+=$findEngagedTimeBetween$$module$extensions$amp_analytics$0_1$activity_impl$$(this.$prevActivityEvent_$,$activityEvent$jscomp$1$$.time),this.$prevActivityEvent_$=$activityEvent$jscomp$1$$)};
$ActivityHistory$$module$extensions$amp_analytics$0_1$activity_impl$$.prototype.getTotalEngagedTime=function($time$jscomp$2$$){var $totalEngagedTime$$=0;void 0!==this.$prevActivityEvent_$&&($totalEngagedTime$$=this.$totalEngagedTime_$+$findEngagedTimeBetween$$module$extensions$amp_analytics$0_1$activity_impl$$(this.$prevActivityEvent_$,$time$jscomp$2$$));return $totalEngagedTime$$};
var $ACTIVE_EVENT_TYPES$$module$extensions$amp_analytics$0_1$activity_impl$$=["mousedown","mouseup","mousemove","keydown","keyup"];
function $Activity$$module$extensions$amp_analytics$0_1$activity_impl$$($ampdoc$jscomp$10$$){this.ampdoc=$ampdoc$jscomp$10$$;this.$boundStopIgnore_$=this.$stopIgnore_$.bind(this);this.$boundHandleActivity_$=this.$handleActivity_$.bind(this);this.$boundHandleVisibilityChange_$=this.$handleVisibilityChange_$.bind(this);this.$totalEngagedTimeByTrigger_$={};this.$unlistenFuncs_$=[];this.$ignoreInactive_$=this.$ignoreActivity_$=!1;this.$activityHistory_$=new $ActivityHistory$$module$extensions$amp_analytics$0_1$activity_impl$$;
this.$viewer_$=$Services$$module$src$services$viewerForDoc$$(this.ampdoc);this.$viewport_$=$Services$$module$src$services$viewportForDoc$$(this.ampdoc);this.$viewer_$.whenFirstVisible().then(this.$start_$.bind(this))}$JSCompiler_prototypeAlias$$=$Activity$$module$extensions$amp_analytics$0_1$activity_impl$$.prototype;
$JSCompiler_prototypeAlias$$.$start_$=function(){this.$startTime_$=Date.now();this.$handleActivity_$();for(var $JSCompiler_i$jscomp$inline_145$$=0;$JSCompiler_i$jscomp$inline_145$$<$ACTIVE_EVENT_TYPES$$module$extensions$amp_analytics$0_1$activity_impl$$.length;$JSCompiler_i$jscomp$inline_145$$++)this.$unlistenFuncs_$.push($listen$$module$src$event_helper$$(this.ampdoc.getRootNode(),$ACTIVE_EVENT_TYPES$$module$extensions$amp_analytics$0_1$activity_impl$$[$JSCompiler_i$jscomp$inline_145$$],this.$boundHandleActivity_$));
this.$unlistenFuncs_$.push(this.$viewer_$.onVisibilityChanged(this.$boundHandleVisibilityChange_$));this.$viewport_$.onScroll(this.$boundHandleActivity_$)};function $JSCompiler_StaticMethods_getTimeSinceStart_$$($JSCompiler_StaticMethods_getTimeSinceStart_$self$$){var $timeSinceStart$$=Date.now()-$JSCompiler_StaticMethods_getTimeSinceStart_$self$$.$startTime_$;return 0<$timeSinceStart$$?$timeSinceStart$$:0}
$JSCompiler_prototypeAlias$$.$stopIgnore_$=function(){this.$ignoreInactive_$=this.$ignoreActivity_$=!1};$JSCompiler_prototypeAlias$$.$handleActivity_$=function(){this.$ignoreActivity_$||(this.$ignoreActivity_$=!0,this.$ignoreInactive_$=!1,$JSCompiler_StaticMethods_handleActivityEvent_$$(this,"active"))};
function $JSCompiler_StaticMethods_handleActivityEvent_$$($JSCompiler_StaticMethods_handleActivityEvent_$self$$,$type$jscomp$135$$){var $timeSinceStart$jscomp$1$$=$JSCompiler_StaticMethods_getTimeSinceStart_$$($JSCompiler_StaticMethods_handleActivityEvent_$self$$),$secondKey$$=Math.floor($timeSinceStart$jscomp$1$$/1E3),$timeToWait$$=1E3-$timeSinceStart$jscomp$1$$%1E3;setTimeout($JSCompiler_StaticMethods_handleActivityEvent_$self$$.$boundStopIgnore_$,$timeToWait$$);$JSCompiler_StaticMethods_handleActivityEvent_$self$$.$activityHistory_$.push({type:$type$jscomp$135$$,
time:$secondKey$$})}$JSCompiler_prototypeAlias$$.$handleVisibilityChange_$=function(){this.$viewer_$.isVisible()?this.$handleActivity_$():this.$ignoreInactive_$||(this.$ignoreInactive_$=!0,this.$ignoreActivity_$=!1,$JSCompiler_StaticMethods_handleActivityEvent_$$(this,"inactive"))};
$JSCompiler_prototypeAlias$$.$unlisten_$=function(){for(var $i$jscomp$12$$=0;$i$jscomp$12$$<this.$unlistenFuncs_$.length;$i$jscomp$12$$++){var $unlistenFunc$$=this.$unlistenFuncs_$[$i$jscomp$12$$];"function"===typeof $unlistenFunc$$&&$unlistenFunc$$()}this.$unlistenFuncs_$=[]};$JSCompiler_prototypeAlias$$.$cleanup_$=function(){this.$unlisten_$()};
$JSCompiler_prototypeAlias$$.getTotalEngagedTime=function(){var $secondsSinceStart$$=Math.floor($JSCompiler_StaticMethods_getTimeSinceStart_$$(this)/1E3);return this.$activityHistory_$.getTotalEngagedTime($secondsSinceStart$$)};
$JSCompiler_prototypeAlias$$.getIncrementalEngagedTime=function($name$jscomp$75$$,$reset$jscomp$1$$){$reset$jscomp$1$$=void 0===$reset$jscomp$1$$?!0:$reset$jscomp$1$$;if(!$hasOwn$$module$src$utils$object$$(this.$totalEngagedTimeByTrigger_$,$name$jscomp$75$$))return $reset$jscomp$1$$&&(this.$totalEngagedTimeByTrigger_$[$name$jscomp$75$$]=this.getTotalEngagedTime()),this.getTotalEngagedTime();var $currentIncrementalEngagedTime$$=this.$totalEngagedTimeByTrigger_$[$name$jscomp$75$$];if(!1===$reset$jscomp$1$$)return this.getTotalEngagedTime()-
$currentIncrementalEngagedTime$$;this.$totalEngagedTimeByTrigger_$[$name$jscomp$75$$]=this.getTotalEngagedTime();return this.$totalEngagedTimeByTrigger_$[$name$jscomp$75$$]-$currentIncrementalEngagedTime$$};var $_FAKE_$$module$extensions$amp_analytics$0_1$vendors$_fake_$$={requests:{endpoint:"/analytics/fake"},transport:{useBody:!0},triggers:{view:{on:"visible",request:"endpoint"}},configRewriter:{url:"/analytics/rewriter",varGroups:{feature1:{dr:"DOCUMENT_REFERRER",su:"SOURCE_URL"},feature2:{name:"cats",title:"TITLE"},alwaysOnFeature:{title2:"TITLE",enabled:!0}}},vars:{clientId:"CLIENT_ID(_fake_)",dataSource:"AMP"}};var $ANALYTICS_CONFIG$$module$extensions$amp_analytics$0_1$vendors$$={"default":{transport:{beacon:!0,xhrpost:!0,image:!0},vars:{accessReaderId:"ACCESS_READER_ID",ampdocHost:"AMPDOC_HOST",ampdocHostname:"AMPDOC_HOSTNAME",ampdocUrl:"AMPDOC_URL",ampGeo:"AMP_GEO",ampState:"AMP_STATE",ampVersion:"AMP_VERSION",ancestorOrigin:"ANCESTOR_ORIGIN",authdata:"AUTHDATA",availableScreenHeight:"AVAILABLE_SCREEN_HEIGHT",availableScreenWidth:"AVAILABLE_SCREEN_WIDTH",backgroundState:"BACKGROUND_STATE",browserLanguage:"BROWSER_LANGUAGE",
canonicalHost:"CANONICAL_HOST",canonicalHostname:"CANONICAL_HOSTNAME",canonicalPath:"CANONICAL_PATH",canonicalUrl:"CANONICAL_URL",clientId:"CLIENT_ID",consentState:"CONSENT_STATE",contentLoadTime:"CONTENT_LOAD_TIME",counter:"COUNTER",documentCharset:"DOCUMENT_CHARSET",documentReferrer:"DOCUMENT_REFERRER",domainLookupTime:"DOMAIN_LOOKUP_TIME",domInteractiveTime:"DOM_INTERACTIVE_TIME",externalReferrer:"EXTERNAL_REFERRER",firstContentfulPaint:"FIRST_CONTENTFUL_PAINT",firstViewportReady:"FIRST_VIEWPORT_READY",
fragmentParam:"FRAGMENT_PARAM",makeBodyVisible:"MAKE_BODY_VISIBLE",htmlAttr:"HTML_ATTR",incrementalEngagedTime:"INCREMENTAL_ENGAGED_TIME",navRedirectCount:"NAV_REDIRECT_COUNT",navTiming:"NAV_TIMING",navType:"NAV_TYPE",pageDownloadTime:"PAGE_DOWNLOAD_TIME",pageLoadTime:"PAGE_LOAD_TIME",pageViewId:"PAGE_VIEW_ID",queryParam:"QUERY_PARAM",random:"RANDOM",redirectTime:"REDIRECT_TIME",resourceTiming:"RESOURCE_TIMING",screenColorDepth:"SCREEN_COLOR_DEPTH",screenHeight:"SCREEN_HEIGHT",screenWidth:"SCREEN_WIDTH",
scrollHeight:"SCROLL_HEIGHT",scrollLeft:"SCROLL_LEFT",scrollTop:"SCROLL_TOP",scrollWidth:"SCROLL_WIDTH",serverResponseTime:"SERVER_RESPONSE_TIME",sourceUrl:"SOURCE_URL",sourceHost:"SOURCE_HOST",sourceHostname:"SOURCE_HOSTNAME",sourcePath:"SOURCE_PATH",tcpConnectTime:"TCP_CONNECT_TIME",timestamp:"TIMESTAMP",timezone:"TIMEZONE",timezoneCode:"TIMEZONE_CODE",title:"TITLE",totalEngagedTime:"TOTAL_ENGAGED_TIME",userAgent:"USER_AGENT",viewer:"VIEWER",viewportHeight:"VIEWPORT_HEIGHT",viewportWidth:"VIEWPORT_WIDTH"}},
acquialift:{vars:{decisionApiUrl:"us-east-1-decisionapi.lift.acquia.com",accountId:"xxxxxxxx",siteId:"xxxxxxxx"},transport:{beacon:!0,xhrpost:!0,image:!1},requests:{base:"https://${decisionApiUrl}/capture?account_id=${accountId}&site_id=${siteId}",basicCapture:"${base}&ident=${clientId(tc_ptid)}&identsrc=amp&es=Amp&url=${canonicalUrl}&rurl=${documentReferrer}&cttl=${title}",pageview:"${basicCapture}&en=Content View",click:"${basicCapture}&en=Click-Through"},triggers:{defaultPageview:{on:"visible",
request:"pageview"}}},adobeanalytics:{transport:{xhrpost:!1,beacon:!1,image:!0},vars:{pageName:"TITLE",host:"",reportSuites:"",linkType:"o",linkUrl:"",linkName:""},requests:{requestPath:"/b/ss/${reportSuites}/0/amp-1.0/s${random}",basePrefix:"vid=z${clientId(adobe_amp_id)}&ndh=0&ce=${documentCharset}&pageName=${pageName}&g=${ampdocUrl}&r=${documentReferrer}&bh=${availableScreenHeight}&bw=${availableScreenWidth}&c=${screenColorDepth}&j=amp&s=${screenWidth}x${screenHeight}",pageview:"https://${host}${requestPath}?${basePrefix}",
click:"https://${host}${requestPath}?${basePrefix}&pe=lnk_${linkType}&pev1=${linkUrl}&pev2=${linkName}"}},adobeanalytics_nativeConfig:{triggers:{pageLoad:{on:"visible",request:"iframeMessage"}}},afsanalytics:{vars:{server:"www",websiteid:"xxxxxxxx",event:"click",clicklabel:"clicked from AMP page"},transport:{beacon:!1,xhrpost:!1,image:!0},requests:{host:"//${server}.afsanalytics.com",base:"${host}/cgi_bin/",pageview:"${base}connect.cgi?usr=${websiteid}Pauto&js=1&amp=1&title=${title}&url=${canonicalUrl}&refer=${documentReferrer}&resolution=${screenWidth}x${screenHeight}&color=${screenColorDepth}&Tips=${random}",
click:"${base}click.cgi?usr=${websiteid}&event=${event}&exit=${clicklabel}"},triggers:{defaultPageview:{on:"visible",request:"pageview"}}},alexametrics:{requests:{base:"https://${ampAtrkHost}/atrk.gif?account=${atrk_acct}&domain=${domain}",pageview:"${base}&jsv=amp-${ampVersion}&frame_height=${viewportHeight}&frame_width=${viewportWidth}&title=${title}&time=${timestamp}&time_zone_offset=${timezone}&screen_params=${screenWidth}x${screenHeight}x${screenColorDepth}&ref_url=${documentReferrer}&host_url=${sourceUrl}&random_number=${random}&user_cookie=${clientId(__auc)}&user_cookie_flag=0&user_lang=${browserLanguage}&amp_doc_url=${ampdocUrl}"},
vars:{atrk_acct:"",domain:"",ampAtrkHost:"certify-amp.alexametrics.com"},triggers:{trackPageview:{on:"visible",request:"pageview"}},transport:{xhrpost:!1,beacon:!1,image:!0}},amplitude:{transport:{beacon:!0,xhrpost:!0,useBody:!0,image:!1},vars:{deviceId:"CLIENT_ID(amplitude_amp_id)"},requests:{host:"https://api.amplitude.com",event:{baseUrl:"${host}/amp/event"}},extraUrlParams:{api_key:"${apiKey}",device_id:"${deviceId}",library:"amp/${ampVersion}",time:"${timestamp}",language:"${browserLanguage}",
user_agent:"${userAgent}"},linkers:{amplitude:{ids:{amplitude_amp_id:"${deviceId}"},proxyOnly:!1}},cookies:{amplitude_amp_id:{value:"LINKER_PARAM(amplitude, amplitude_amp_id)"}}},atinternet:{transport:{beacon:!1,xhrpost:!1,image:!0},vars:{pixelPath:"hit.xiti",domain:".xiti.com"},requests:{base:"https://${log}${domain}/${pixelPath}?s=${site}&ts=${timestamp}&r=${screenWidth}x${screenHeight}x${screenColorDepth}&re=${availableScreenWidth}x${availableScreenHeight}",suffix:"&medium=amp&${extraUrlParams}&ref=${documentReferrer}",
pageview:"${base}&p=${title}&s2=${level2}${suffix}",click:"${base}&pclick=${title}&s2click=${level2}&p=${label}&s2=${level2Click}&type=click&click=${type}${suffix}"}},baiduanalytics:{requests:{host:"https://hm.baidu.com",base:"${host}/hm.gif?si=${token}&nv=0&st=4&v=pixel-1.0&rnd=${timestamp}",pageview:"${base}&et=0",event:"${base}&ep=${category}*${action}*${label}*${value}&et=4&api=8_0"},transport:{beacon:!1,xhrpost:!1,image:!0}},bg:{},burt:{vars:{trackingKey:"ignore",category:"",subCategory:""},
requests:{host:"//${trackingKey}.c.richmetrics.com/",base:"${host}imglog?e=${trackingKey}&pi=${trackingKey}|${pageViewId}|${canonicalPath}|${clientId(burt-amp-user-id)}&ui=${clientId(burt-amp-user-id)}&v=amp&ts=${timestamp}&sn=${requestCount}&",pageview:"${base}type=page&ca=${category}&sc=${subCategory}&ln=${browserLanguage}&lr=${documentReferrer}&eu=${sourceUrl}&tz=${timezone}&pd=${scrollWidth}x${scrollHeight}&sd=${screenWidth}x${screenHeight}&wd=${availableScreenWidth}x${availableScreenHeight}&ws=${scrollLeft}x${scrollTop}",
pageping:"${base}type=pageping"},triggers:{pageview:{on:"visible",request:"pageview"},pageping:{on:"timer",timerSpec:{interval:15,maxTimerLength:1200},request:"pageping"}},transport:{beacon:!1,xhrpost:!1,image:!0}},byside:{vars:{webcareZone:"webcare",webcareId:"",channel:"",fid:"",lang:"pt"},requests:{host:"//${webcareZone}.byside.com/",base:"${host}BWA${webcareId}/amp/",pageview:"${base}pixel.php",event:"${base}signal.php?event_id=${eventId}&event_label=${eventLabel}&fields=${fields}"},extraUrlParams:{webcare_id:"${webcareId}",
bwch:"${channel}",lang:"${lang}",fid:"${fid}",bwit:"A",tuid:"${clientId(byside_webcare_tuid)}",suid:"",puid:"${pageViewId}p${timestamp}",referrer:"${documentReferrer}",page:"${sourceUrl}",amppage:"${ampdocUrl}",bwpt:"${title}",bres:"${viewportWidth}x${viewportHeight}",res:"${screenWidth}x${screenHeight}",v:"v20171116a",ampv:"${ampVersion}",viewer:"${viewer}",ua:"${userAgent}",r:"${random}"},triggers:{pageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},chartbeat:{requests:{host:"https://ping.chartbeat.net",
basePrefix:"/ping?h=${domain}&p=${canonicalPath}&u=${clientId(_cb)}&d=${canonicalHost}&g=${uid}&g0=${sections}&g1=${authors}&g2=${zone}&g3=${sponsorName}&g4=${contentType}&c=120&x=${scrollTop}&y=${scrollHeight}&j=${decayTime}&R=1&W=0&I=0&E=${totalEngagedTime}&r=${documentReferrer}&t=${pageViewId}${clientId(_cb)}&b=${pageLoadTime}&i=${title}&T=${timestamp}&tz=${timezone}&C=2",baseSuffix:"&_",interval:"${host}${basePrefix}${baseSuffix}",anchorClick:"${host}${basePrefix}${baseSuffix}"},triggers:{trackInterval:{on:"timer",
timerSpec:{interval:15,maxTimerLength:7200},request:"interval",vars:{decayTime:30}},trackAnchorClick:{on:"click",selector:"a",request:"anchorClick",vars:{decayTime:30}}},transport:{beacon:!1,xhrpost:!1,image:!0}},clicky:{vars:{site_id:""},requests:{base:"https://in.getclicky.com/in.php?site_id=${site_id}",baseSuffix:"&mime=${contentType}&x=${random}",pageview:"${base}&res=${screenWidth}x${screenHeight}&lang=${browserLanguage}&secure=1&type=pageview&href=${canonicalPath}&title=${title}${baseSuffix}",
interval:"${base}&type=ping${baseSuffix}"},triggers:{defaultPageview:{on:"visible",request:"pageview"},interval:{on:"timer",timerSpec:{interval:60,maxTimerLength:600},request:"interval"}},transport:{beacon:!1,xhrpost:!1,image:!0}},colanalytics:{requests:{host:"https://ase.clmbtech.com",base:"${host}/message",pageview:"${base}?cid=${id}&val_101=${id}&val_101=${canonicalPath}&ch=${canonicalHost}&uuid=${uid}&au=${authors}&zo=${zone}&sn=${sponsorName}&ct=${contentType}&st=${scrollTop}&sh=${scrollHeight}&dct=${decayTime}&tet=${totalEngagedTime}&dr=${documentReferrer}&plt=${pageLoadTime}&val_108=${title}&val_120=3"},
triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},comscore:{vars:{c2:"1000001"},requests:{host:"https://sb.scorecardresearch.com",base:"${host}/b?",pageview:"${base}c1=2&c2=${c2}&cs_pv=${pageViewId}&c12=${clientId(comScore)}&rn=${random}&c8=${title}&c7=${canonicalUrl}&c9=${documentReferrer}&cs_c7amp=${ampdocUrl}"},triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},cxense:{requests:{host:"https://scomcluster.cxense.com",
base:"${host}/Repo/rep.gif",pageview:"${base}?ver=1&typ=pgv&sid=${siteId}&ckp=${clientId(cX_P)}&loc=${sourceUrl}&rnd=${random}&ref=${documentReferrer}&ltm=${timestamp}&wsz=${screenWidth}x${screenHeight}&bln=${browserLanguage}&chs=${documentCharset}&col=${screenColorDepth}&tzo=${timezone}&cp_cx_channel=amp"},triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},dynatrace:{requests:{endpoint:"${protocol}://${tenant}${separator}${environment}:${port}/ampbf/${tenantpath}",
pageview:"${endpoint}?type=js&flavor=amp&v=1&a=1%7C1%7C_load_%7C_load_%7C-%7C${navTiming(navigationStart)}%7C${navTiming(domContentLoadedEventEnd)}%7C0%2C2%7C2%7C_onload_%7C_load_%7C-%7C${navTiming(domContentLoadedEventStart)}%7C${navTiming(domContentLoadedEventEnd)}%7C0&fId=${pageViewId}&vID=${clientId(rxVisitor)}&url=${sourceUrl}&title=${title}&sw=${screenWidth}&sh=${screenHeight}&w=${viewportWidth}&h=${viewportHeight}&nt=a${navType}b${navTiming(navigationStart)}c${navTiming(navigationStart,redirectStart)}d${navTiming(navigationStart,redirectEnd)}e${navTiming(navigationStart,fetchStart)}f${navTiming(navigationStart,domainLookupStart)}g${navTiming(navigationStart,domainLookupEnd)}h${navTiming(navigationStart,connectStart)}i${navTiming(navigationStart,connectEnd)}j${navTiming(navigationStart,secureConnectionStart)}k${navTiming(navigationStart,requestStart)}l${navTiming(navigationStart,responseStart)}m${navTiming(navigationStart,responseEnd)}n${navTiming(navigationStart,domLoading)}o${navTiming(navigationStart,domInteractive)}p${navTiming(navigationStart,domContentLoadedEventStart)}q${navTiming(navigationStart,domContentLoadedEventEnd)}r${navTiming(navigationStart,domComplete)}s${navTiming(navigationStart,loadEventStart)}t${navTiming(navigationStart,loadEventEnd)}&app=${app}&time=${timestamp}"},
triggers:{trackPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0},vars:{app:"ampapp",protocol:"https",tenant:"",environment:"live.dynatrace.com",port:"443",separator:"."}},epica:{transport:{beacon:!1,xhrpost:!1,image:!0},vars:{anonymousId:"CLIENT_ID(epica_amp_id)"},requests:{host:"https://cat.poder.io/api/v1/pixel",base:"?writeKey=${writeKey}&context.library.name=amp&anonymousId=${anonymousId}&context.locale=${browserLanguage}&context.page.path=${canonicalPath}&context.page.url=${canonicalUrl}&context.page.referrer=${documentReferrer}&context.page.title=${title}&context.screen.width=${screenWidth}&context.screen.height=${screenHeight}",
page:"${host}/page${base}&name=${name}",track:"${host}/track${base}&event=${event}"},triggers:{page:{on:"visible",request:"page"}}},euleriananalytics:{vars:{analyticsHost:"",documentLocation:"SOURCE_URL"},requests:{base:"https://${analyticsHost}",basePrefix:"-/${random}?euid-amp=${clientId(etuix)}&url=${documentLocation}&",pageview:"${base}/col2/${basePrefix}rf=${externalReferrer}&urlp=${pagePath}&ss=${screenWidth}x${screenHeight}&sd=${screenColorDepth}",action:"${base}/action/${basePrefix}eact=${actionCode}&actr=${actionRef}",
user:"${base}/uparam/${basePrefix}euk${userParamKey}=${userParamVal}",contextflag:"${base}/cflag2/${basePrefix}ecf0k=${cflagKey}&ecf0v=${cflagVal}"},transport:{beacon:!1,xhrpost:!1,image:!0}},facebookpixel:{vars:{pixelId:"PIXEL-ID"},requests:{host:"https://www.facebook.com",base:"${host}/tr?noscript=1",pageview:"${base}&ev=PageView&id=${pixelId}",event:"${base}&ev=${eventName}&id=${pixelId}&cd[content_name]=${content_name}",eventViewContent:"${base}&ev=ViewContent&id=${pixelId}&cd[value]=${value}&cd[currency]=${currency}&cd[content_name]=${content_name}&cd[content_type]=${content_type}&cd[content_ids]=${content_ids}",
eventSearch:"${base}&ev=Search&id=${pixelId}&cd[value]=${value}&cd[currency]=${currency}&cd[content_category]=${content_category}&cd[content_ids]=${content_ids}&cd[search_string]=${search_string}",eventAddToCart:"${base}&ev=AddToCart&id=${pixelId}&cd[value]=${value}&cd[currency]=${currency}&cd[content_name]=${content_name}&cd[content_type]=${content_type}&cd[content_ids]=${content_ids}",eventAddToWishlist:"${base}&ev=AddToWishlist&id=${pixelId}&cd[value]=${value}&cd[currency]=${currency}&cd[content_name]=${content_name}&cd[content_category]=${content_category}&cd[content_ids]=${content_ids}",
eventInitiateCheckout:"${base}&ev=InitiateCheckout&id=${pixelId}&cd[value]=${value}&cd[currency]=${currency}&cd[content_name]=${content_name}&cd[content_category]=${content_category}&cd[num_items]=${num_items}&cd[content_ids]=${content_ids}",eventAddPaymentInfo:"${base}&ev=AddPaymentInfo&id=${pixelId}&cd[value]=${value}&cd[currency]=${currency}&cd[content_category]=${content_category}&cd[content_ids]=${content_ids}",eventPurchase:"${base}&ev=Purchase&id=${pixelId}&cd[value]=${value}&cd[currency]=${currency}&cd[content_name]=${content_name}&cd[content_type]=${content_type}&cd[content_ids]=${content_ids}&cd[num_items]=${num_items}",
eventLead:"${base}&ev=Lead&id=${pixelId}&cd[value]=${value}&cd[currency]=${currency}&cd[content_name]=${content_name}&cd[content_category]=${content_category}",eventCompleteRegistration:"${base}&ev=CompleteRegistration&id=${pixelId}&cd[value]=${value}&cd[currency]=${currency}&cd[content_name]=${content_name}&cd[status]=${status}"},triggers:{trackPageview:{on:"visible",request:"pageview"}}},gemius:{vars:{dnt:"0"},requests:{base:"https://${prefix}.hit.gemius.pl/_${timestamp}/redot.gif?l=91&id=${identifier}&screen=${screenWidth}x${screenHeight}&window=${viewportWidth}x${viewportHeight}&fr=1&href=${sourceUrl}&ref=${documentReferrer}&extra=gemamp%3D1%7Campid%3D${clientId(gemius)}%7C${extraparams}&nc=${dnt}",
pageview:"${base}&et=view&hsrc=1",event:"${base}&et=action&hsrc=3"},triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},googleadwords:{requests:{conversion_prefix:"https://www.googleadservices.com/pagead/conversion/",remarketing_prefix:"https://googleads.g.doubleclick.net/pagead/viewthroughconversion/",common_params:"${googleConversionId}/?cv=amp2&label=${googleConversionLabel}&random=${random}&url=${sourceUrl}&ref=${documentReferrer}&fst=${pageViewId}&num=${counter(googleadwords)}&fmt=3&async=1&u_h=${screenHeight}&u_w=${screenWidth}&u_ah=${availableScreenHeight}&u_aw=${availableScreenWidth}&u_cd=${screenColorDepth}&u_tz=${timezone}&tiba=${title}&guid=ON&script=0",
conversion_params:"value=${googleConversionValue}&currency_code=${googleConversionCurrency}&bg=${googleConversionColor}&hl=${googleConversionLanguage}",conversion:"${conversion_prefix}${common_params}&${conversion_params}",remarketing:"${remarketing_prefix}${common_params}"},transport:{beacon:!1,xhrpost:!1,image:!0}},googleanalytics:{vars:{eventValue:"0",documentLocation:"SOURCE_URL",clientId:"CLIENT_ID(AMP_ECID_GOOGLE,,_ga)",dataSource:"AMP",anonymizeIP:"aip",errorParam:"${errorName}-${errorMessage}"},
requests:{host:"https://www.google-analytics.com",basePrefix:"v=1&_v=a1&ds=${dataSource}&${anonymizeIP}&_s=${requestCount}&dt=${title}&sr=${screenWidth}x${screenHeight}&_utmht=${timestamp}&cid=${clientId}&tid=${account}&dl=${documentLocation}&dr=${externalReferrer}&sd=${screenColorDepth}&ul=${browserLanguage}&de=${documentCharset}",baseSuffix:"&a=${pageViewId}&z=${random}",pageview:"${host}/r/collect?${basePrefix}&t=pageview&jid=${random}&_r=1${baseSuffix}",event:"${host}/collect?${basePrefix}&t=event&jid=&ec=${eventCategory}&ea=${eventAction}&el=${eventLabel}&ev=${eventValue}${baseSuffix}",
social:"${host}/collect?${basePrefix}&t=social&jid=&sa=${socialAction}&sn=${socialNetwork}&st=${socialTarget}${baseSuffix}",timing:"${host}/collect?${basePrefix}&t=${timingRequestType}&jid=&plt=${pageLoadTime}&dns=${domainLookupTime}&tcp=${tcpConnectTime}&rrt=${redirectTime}&srt=${serverResponseTime}&pdt=${pageDownloadTime}&clt=${contentLoadTime}&dit=${domInteractiveTime}${baseSuffix}",error:"${host}/collect?${basePrefix}&t=exception&exd=${errorParam}${baseSuffix}"},triggers:{performanceTiming:{on:"visible",
request:"timing",sampleSpec:{sampleOn:"${clientId}",threshold:1},vars:{timingRequestType:"timing"}},adwordsTiming:{on:"visible",request:"timing",enabled:"${queryParam(gclid)}",vars:{timingRequestType:"adtiming"}}},extraUrlParamsReplaceMap:{dimension:"cd",metric:"cm"},optout:"_gaUserPrefs.ioo",optoutElementId:"__gaOptOutExtension",linkers:{_gl:{ids:{_ga:"${clientId}"}}},cookies:{_ga:{value:"LINKER_PARAM(_gl, _ga)"}}},gtag:{configRewriter:{url:"https://www.googletagmanager.com/gtag/amp",varGroups:{dns:{dr:"DOCUMENT_REFERRER",
dl:"SOURCE_URL"},conversion:{gclsrc:"QUERY_PARAM(gclsrc)",hasGcl:"$IF(QUERY_PARAM(gclid), 1, 0)",hasDcl:"$IF(QUERY_PARAM(dclid), 1, 0)",enabled:!0}}},vars:{eventValue:"0",clientId:"CLIENT_ID(AMP_ECID_GOOGLE,,_ga)",dataSource:"AMP",anonymizeIP:"aip",errorParam:"${errorName}-${errorMessage}"},requests:{uaHost:"https://www.google-analytics.com",uaBasePrefix:"v=1&_v=a1&ds=${dataSource}&${anonymizeIP}&_s=${requestCount}&dt=${title}&sr=${screenWidth}x${screenHeight}&cid=${clientId}&tid=${trackingId}&dl=${sourceUrl}&dr=${externalReferrer}&sd=${screenColorDepth}&ul=${browserLanguage}&de=${documentCharset}",
uaBaseSuffix:"&a=${pageViewId}&z=${random}",uaPageviewCommon:"&t=pageview&jid=${random}&gjid=${random}&_r=1",uaPageview:"${uaHost}/r/collect?${uaBasePrefix}${uaPageviewCommon}${uaBaseSuffix}",uaPageviewNpa:"${uaHost}/collect?${uaBasePrefix}${uaPageviewCommon}${uaBaseSuffix}",uaEvent:"${uaHost}/collect?${uaBasePrefix}&t=event&jid=${uaBaseSuffix}",uaTiming:"${uaHost}/collect?${uaBasePrefix}&jid=&plt=${pageLoadTime}&dns=${domainLookupTime}&tcp=${tcpConnectTime}&rrt=${redirectTime}&srt=${serverResponseTime}&pdt=${pageDownloadTime}&clt=${contentLoadTime}&dit=${domInteractiveTime}${uaBaseSuffix}",
uaError:"${uaHost}/collect?${uaBasePrefix}&t=exception&exd=${errorParam}${uaBaseSuffix}",awConversionPrefix:"https://www.googleadservices.com/pagead/conversion/",awRemarketingPrefix:"https://googleads.g.doubleclick.net/pagead/viewthroughconversion/",awCommonParams:"${conversionId}/?cv=amp3&label=${conversionLabel}&random=${random}&url=${sourceUrl}&ref=${documentReferrer}&fst=${pageViewId}&num=${counter(googleadwords)}&fmt=3&async=1&u_h=${screenHeight}&u_w=${screenWidth}&u_ah=${availableScreenHeight}&u_aw=${availableScreenWidth}&u_cd=${screenColorDepth}&u_tz=${timezone}&tiba=${title}&guid=ON&script=0",
awConversion:"${awConversionPrefix}${awCommonParams}",awRemarketing:"${awRemarketingPrefix}${awCommonParams}",flBase:"https://ad.doubleclick.net/activity;src=${flSrc};type=${flType};cat=${flCat}",flDynamicBase:"https://${flSrc}.fls.doubleclick.net/activityi;src=${flSrc};type=${flType};cat=${flCat}",dnsBase:"https://ad.doubleclick.net/ddm/clk/"},transport:{beacon:!1,xhrpost:!1,image:!0}},ibeatanalytics:{requests:{host:"https://ibeat.indiatimes.com",base:"https://ibeat.indiatimes.com/iBeat/pageTrendlogAmp.html",
pageview:"${base}?&h=${h}&d=${h}&url=${url}&k=${key}&ts=${time}&ch=${channel}&sid=${uid}&at=${agentType}&ref=${documentReferrer}&aid=${aid}&loc=1&ct=1&cat=${cat}&scat=${scat}&ac=1&tg=${tags}&ctids=${catIds}&pts=${pagePublishTime}&auth=${author}&pos=${position}&iBeatField=${ibeatFields}&cid=${clientId(MSCSAuthDetails)}"},triggers:{defaultPageview:{on:"visible",request:"pageview"}}},infonline:{vars:{sv:"ke",ap:"1"},transport:{beacon:!1,xhrpost:!1,image:!0},requests:{pageview:"${url}?st=${st}&sv=${sv}&ap=${ap}&co=${co}&cp=${cp}&ps=${ps}&host=${canonicalHost}&path=${canonicalPath}"},
triggers:{pageview:{on:"visible",request:"pageview"}}},iplabel:{requests:{collectorUrl:"m.col.ip-label.net",endpoint:"https://${collectorUrl}/coll/",onload:"${endpoint}?T=${trackerId}&m=2502|${navTiming(navigationStart)}|2508|${navTiming(domainLookupStart)}|2509|${navTiming(domainLookupEnd)}|2510|${navTiming(connectStart)}|2512|${navTiming(connectEnd)}|2514|${navTiming(responseStart)}|2515|${navTiming(responseEnd)}|2517|${navTiming(domInteractive)}|2520|${navTiming(loadEventStart)}&ts=${timestamp}&ua=${userAgent}&d=${ipldim}&i=${clientip}&d[1]=${customdim}&d[2]=${business}&d[3]=${abtesting}&d[4]=${infrastructure}&d[5]=${customer}&u=${urlgroup}&w=${availableScreenWidth}&h=${availableScreenHeight}&r=${documentReferrer}&l=${browserLanguage}"},
triggers:{trackPageview:{on:"visible",request:"onload"}},transport:{beacon:!0,xhrpost:!0,image:{suppressWarnings:!0}},vars:{trackerId:"notrackerID",customdim:"",business:"",abtesting:"",infrastructure:"",customer:"",clientip:"",urlgroup:""}},keen:{requests:{base:"https://api.keen.io/3.0/projects/${projectId}/events",pageview:"${base}/pageviews?api_key=${writeKey}",click:"${base}/clicks?api_key=${writeKey}",custom:"${base}/${collection}?api_key=${writeKey}"},triggers:{trackPageview:{on:"visible",request:"pageview"}},
extraUrlParams:{amp:!0,ampdocHostname:"${ampdocHostname}",ampdocUrl:"${ampdocUrl}",ampVersion:"${ampVersion}",backgroundState:"${backgroundState}",backgroundedAtStart:"${backgroundedAtStart}",browserLanguage:"${browserLanguage}",canonicalHost:"${canonicalHost}",canonicalHostname:"${canonicalHostname}",canonicalPath:"${canonicalPath}",canonicalUrl:"${canonicalUrl}",clientId:"CLIENT_ID(cid)",contentLoadTime:"${contentLoadTime}",documentReferrer:"${documentReferrer}",domainLookupTime:"${domainLookupTime}",
domInteractiveTime:"${domInteractiveTime}",externalReferrer:"${externalReferrer}",incrementalEngagedTime:"${incrementalEngagedTime}",pageDownloadTime:"${pageDownloadTime}",pageLoadTime:"${pageLoadTime}",screenHeight:"${screenHeight}",screenWidth:"${screenWidth}",screenColorDepth:"${screenColorDepth}",scrollHeight:"${scrollHeight}",scrollWidth:"${scrollWidth}",scrollTop:"${scrollTop}",scrollLeft:"${scrollLeft}",serverResponseTime:"${serverResponseTime}",timestamp:"${timestamp}",timezone:"${timezone}",
title:"${title}",totalEngagedTime:"${totalEngagedTime}",totalTime:"${totalTime}",userAgent:"${userAgent}",viewportHeight:"${viewportHeight}",viewportWidth:"${viewportWidth}"},transport:{beacon:!0,xhrpost:!0,img:!1,useBody:!0}},kenshoo:{vars:{clientId:"CLIENT_ID(ken_amp_id)",channelClickId:"QUERY_PARAM(gclid)"},requests:{host:"https://amp.xg4ken.com",parameters:"ampcid=${clientId}&chcid=${channelClickId}&tid=${tid}&uid=${userId}&domain=${canonicalHostname}",landingPage:"${host}/amp/v1/match?${parameters}"},
triggers:{trackLandingPage:{enabled:"QUERY_PARAM(gclid)",on:"visible",request:"landingPage"}},linkers:{linker:{ids:{clientId:"${clientId}",channelClickId:"${channelClickId}"},proxyOnly:!1,enabled:!0}},cookies:{enabled:!0,ken_gclid:{value:"QUERY_PARAM(gclid)"},ken_amp_gclid:{value:"QUERY_PARAM(gclid)"}}},krux:{requests:{beaconHost:"https://beacon.krxd.net",timing:"t_navigation_type=0&t_dns=${domainLookupTime}&t_tcp=${tcpConnectTime}&t_http_request=${serverResponseTime}&t_http_response=${pageDownloadTime}&t_content_ready=${contentLoadTime}&t_window_load=${pageLoadTime}&t_redirect=${redirectTime}",
common:"source=amp&confid=${confid}&_kpid=${pubid}&_kcp_s=${site}&_kcp_sc=${section}&_kcp_ssc=${subsection}&_kcp_d=${canonicalHost}&_kpref_=${documentReferrer}&_kua_kx_amp_client_id=${clientId(_kuid_)}&_kua_kx_lang=${browserLanguage}&_kua_kx_tech_browser_language=${browserLanguage}&_kua_kx_tz=${timezone}",pageview:"${beaconHost}/pixel.gif?${common}&${timing}",event:"${beaconHost}/event.gif?${common}&${timing}&pageview=false"},transport:{beacon:!1,xhrpost:!1,image:!0},extraUrlParamsReplaceMap:{"user.":"_kua_",
"page.":"_kpa_"}},linkpulse:{vars:{id:"",pageUrl:"CANONICAL_URL",title:"TITLE",section:"",channel:"amp",type:"",host:"pp.lp4.io",empty:""},requests:{base:"https://${host}",pageview:"${base}/p?i=${id}&r=${documentReferrer}&p=${pageUrl}&s=${section}&t=${type}&c=${channel}&mt=${title}&_t=amp&_r=${random}",pageload:"${base}/pl?i=${id}&ct=${domInteractiveTime}&rt=${pageDownloadTime}&pt=${pageLoadTime}&p=${pageUrl}&c=${channel}&t=${type}&s=${section}&_t=amp&_r=${random}",ping:"${base}/u?i=${id}&u=${clientId(_lp4_u)}&p=${pageUrl}&uActive=true&isPing=yes&c=${channel}&t=${type}&s=${section}&_t=amp&_r=${random}"},
triggers:{pageview:{on:"visible",request:"pageview"},pageload:{on:"visible",request:"pageload"},ping:{on:"timer",timerSpec:{interval:30,maxTimerLength:7200},request:"ping"}},transport:{beacon:!1,xhrpost:!1,image:!0}},lotame:{requests:{pageview:"https://bcp.crwdcntrl.net/amp?c=${account}&pv=y"},triggers:{"track pageview":{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},marinsoftware:{requests:{base:"https://tracker.marinsm.com/tp",baseParams:"cid=${trackerId}&ampVersion=${ampVersion}&ds=AMP&ref=${externalReferrer}&page=${sourceUrl}&uuid=${clientId(marin_amp_id)}&rnd=${random}",
pageView:"${base}?${baseParams}&act=1",conversion:"${base}?${baseParams}&act=2&trans=UTM:I|${orderId}|${marinConversionType}|${productName}|${category}|${price}|${quantity}"},transport:{beacon:!0,xhrpost:!1,image:!0}},mediametrie:{requests:{host:"https://prof.estat.com/m/web",pageview:"${host}/${serial}?c=${level1}&dom=${ampdocUrl}&enc=${documentCharset}&l3=${level3}&l4=${level4}&n=${random}&p=${level2}&r=${documentReferrer}&sch=${screenHeight}&scw=${screenWidth}&tn=amp&v=1&vh=${availableScreenHeight}&vw=${availableScreenWidth}"},
triggers:{trackPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},mediarithmics:{vars:{domain:"events.mediarithmics.com",url:"SOURCE_URL",event_name:"$page_view",referrer:"DOCUMENT_REFERRER"},requests:{host:"https://${domain}",pageview:"${host}/v1/visits/pixel?$site_token=${site_token}&$url=${url}&$ev=${event_name}&$referrer=${referrer}"},triggers:{trackPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},mediator:{requests:{host:"//collector.mediator.media/script/${mediator_id}/amp/",
renderstart:"${host}init/?url=${canonicalUrl}",prefix:"${host}register/?url=${canonicalUrl}&ref=${documentReferrer}&",suffix:"vh=${viewportHeight}&sh=${scrollHeight}&st=${scrollTop}",pageview:"${prefix}e=v",timer:"${prefix}e=t&${suffix}",s0:"${prefix}e=s0",s1:"${prefix}e=s1",s2:"${prefix}e=s2",s3:"${prefix}e=s3"},vars:{mediator_id:""},triggers:{renderStart:{on:"render-start",request:"renderstart"},trackPageview:{on:"visible",request:"pageview"},scrollPing0:{on:"scroll",scrollSpec:{verticalBoundaries:[5]},
request:"s0"},scrollPing1:{on:"scroll",scrollSpec:{verticalBoundaries:[35]},request:"s1"},scrollPing2:{on:"scroll",scrollSpec:{verticalBoundaries:[65]},request:"s2"},scrollPing3:{on:"scroll",scrollSpec:{verticalBoundaries:[95]},request:"s3"},pageTimer:{on:"timer",timerSpec:{interval:5,maxTimerLength:600,immediate:!1},request:"timer"}}},metrika:{transport:{beacon:!0,xhrpost:!0,image:!1},requests:{pageview:"${_watch}?browser-info=${_brInfo}&${_siteInfo}&${_suffix}",notBounce:"${_watch}?browser-info=ar%3A1%3Anb%3A1%3A${_brInfo}&${_suffix}",
externalLink:"${_watch}?browser-info=ln%3A1%3A${_brInfo}&${_suffix}",reachGoal:"${_watch}?browser-info=ar%3A1%3A${_brInfo}&${_siteInfo}&${_goalSuffix}",_domain:"https://mc.yandex.ru",_watch:"${_domain}/watch/${counterId}",_suffix:"page-url=${sourceUrl}&page-ref=${documentReferrer}",_goalSuffix:"page-url=goal%3A%2F%2F${sourceHost}%2F${goalId}&page-ref=${sourceUrl}",_techInfo:"amp%3A1%3Az%3A${timezone}%3Ai%3A${timestamp}%3Arn%3A${random}%3Ala%3A${browserLanguage}%3Aen%3A${documentCharset}%3Arqn%3A${requestCount}%3As%3A${screenWidth}x${screenHeight}x${screenColorDepth}%3Aw%3A${availableScreenWidth}x${availableScreenHeight}%3Ads%3A${_timings}%3Auid%3A${clientId(_ym_uid)}%3Apvid%3A${pageViewId}",
_timings:"${domainLookupTime}%2C${tcpConnectTime}%2C${serverResponseTime}%2C${pageDownloadTime}%2C${redirectTime}%2C${navTiming(redirectStart,redirectEnd)}%2C${navRedirectCount}%2C${navTiming(domLoading,domInteractive)}%2C${navTiming(domContentLoadedEventStart,domContentLoadedEventEnd)}%2C${navTiming(navigationStart,domComplete)}%2C${pageLoadTime}%2C${navTiming(loadEventStart,loadEventEnd)}%2C${contentLoadTime}",_brInfo:"${_techInfo}%3A${_title}",_title:"t%3A${title}",_siteInfo:"site-info=${yaParams}"},
triggers:{pageview:{on:"visible",request:"pageview"}}},moat:{vars:{element:":root"},requests:{load:JSON.stringify({type:"load",pcode:"${pcode}",l0t:"${l0t}",acctType:"${acctType}",adType:"${adType}",qs:"${qs}",element:{src:"${htmlAttr(img,src,width)}",viewer:"${viewer}"},document:{AMPDocumentHostname:"${ampdocHostname}",AMPDocumentURL:"${ampdocUrl}",canonicalHost:"${canonicalHost}",canonicalHostname:"${canonicalHostname}",canonicalPath:"${canonicalPath}",canonicalURL:"${canonicalUrl}",documentCharset:"${documentCharset}",
documentReferrer:"${documentReferrer}",externalReferrer:"${externalReferrer}",sourceURL:"${sourceUrl}",sourceHost:"${sourceHost}",sourceHostname:"${sourceHostname}",sourcePath:"${sourcePath}",title:"${title}",viewer:"${viewer}"},device:{availableScreenHeight:"${availableScreenHeight}",availableScreenWidth:"${availableScreenWidth}",browserLanguage:"${browserLanguage}",screenColorDepth:"${screenColorDepth}",screenHeight:"${screenHeight}",screenWidth:"${screenWidth}",scrollHeight:"${scrollHeight}",scrollWidth:"${scrollWidth}",
scrollLeft:"${scrollLeft}",scrollTop:"${scrollTop}",timezone:"${timezone}",userAgent:"${userAgent}",viewportHeight:"${viewportHeight}",viewportWidth:"${viewportWidth}"},requestCount:"${requestCount}",timeStamp:"${timestamp}"}),unload:JSON.stringify({type:"unload",pcode:"${pcode}",l0t:"${l0t}",requestCount:"${requestCount}",timeStamp:"${timestamp}"}),click:JSON.stringify({type:"click",pcode:"${pcode}",l0t:"${l0t}",requestCount:"${requestCount}",timeStamp:"${timestamp}"}),viewability:JSON.stringify({type:"viewability",
pcode:"${pcode}",l0t:"${l0t}",backgroundState:"${backgroundState}",intersectionRect:"${intersectionRect}",intersectionRatio:"${intersectionRatio}",maxVisiblePercentage:"${maxVisiblePercentage}",minVisiblePercentage:"${minVisiblePercentage}",x:"${elementX}",y:"${elementY}",height:"${elementHeight}",width:"${elementWidth}",viewportHeight:"${viewportHeight}",viewportWidth:"${viewportWidth}",opacity:"${opacity}",timeStamp:"${timestamp}",requestCount:"${requestCount}"}),iframe:JSON.stringify({type:"iframe",
pcode:"${pcode}",height:"${elementHeight}",width:"${elementWidth}",x:"${elementX}",y:"${elementY}",requestCount:"${requestCount}"})},triggers:{load:{on:"ini-load",request:"load"},unload:{on:"ad-refresh",selector:"${element}",request:"unload"},click:{on:"click",selector:"${element}",request:"click"},viewability:{on:"visible",selector:"${element}",request:"viewability",visibilitySpec:{repeat:!0,visiblePercentageThresholds:[[0,0],[0,5],[5,10],[10,15],[15,20],[20,25],[25,30],[30,35],[35,40],[40,45],[45,
50],[50,55],[55,60],[60,65],[65,70],[70,75],[75,80],[80,85],[85,90],[90,95],[95,100],[100,100]]}},iframe:{on:"visible",selector:":root",request:"iframe",visibilitySpec:{repeat:!0,visiblePercentageThresholds:[[0,0]]}}}},mobify:{vars:{projectSlug:"mobify-project-id",templateName:"page-type"},requests:{_host:"https://engagement-collector.mobify.net",_dimensions:"%22platform%22%3a%22AMP%22%2c%22client_id%22%3a%22${clientId(sandy-client-id)}%22%2c%22title%22%3a%22${title}%22%2c%22location%22%3a%22${sourceUrl}%22%2c%22page%22%3a%22${sourcePath}%22%2c%22src_location%22%3a%22${ampdocUrl}%22%2c%22referrer%22%3a%22${documentReferrer}%22%2c%22templateName%22%3a%22${templateName}%22",
_basePrefix:"${_host}/s.gif?slug=${projectSlug}&timestamp_local=${timestamp}&channel=web&dimensions=%7b${_dimensions}%7d",ampstart:"${_basePrefix}&data=%7b%22category%22%3a%22timing%22%2c%22action%22%3a%22ampStart%22%2c%22value%22%3a${navTiming(navigationStart,domLoading)}%7d",pageview:"${_basePrefix}&data=%7b%22action%22%3a%22pageview%22%7d",pageload:"${_basePrefix}&data=%7b%22category%22%3a%22timing%22%2c%22action%22%3a%22load%22%2c%22value%22%3a${pageLoadTime}%7d",pagedcl:"${_basePrefix}&data=%7b%22category%22%3a%22timing%22%2c%22action%22%3a%22DOMContentLoaded%22%2c%22value%22%3a${contentLoadTime}%7d"},
triggers:{triggerName:{on:"visible",request:["ampstart","pageload","pagedcl"]},pageview:{on:"ini-load",request:"pageview"}},transport:{beacon:!0,xhrpost:!1,image:!0}},mparticle:{vars:{eventType:"Unknown",debug:!1,amp_clientId:"CLIENT_ID(mparticle_amp_id)"},requests:{host:"https://pixels.mparticle.com",endpointPath:"/v1/${apiKey}/Pixel",baseParams:"et=${eventType}&amp_id=${amp_clientId}&attrs_k=${eventAttributes_Keys}&attrs_v=${eventAttributes_Values}&ua_k=${userAttributes_Keys}&ua_v=${userAttributes_Values}&ui_t=${userIdentities_Types}&ui_v=${userIdentities_Values}&flags_k=${customFlags_Keys}&flags_v=${customFlags_Values}&ct=${timestamp}&dbg=${debug}&lc=${location}&av=${appVersion}",
pageview:"${host}${endpointPath}?dt=ScreenView&n=${pageName}&hn=${ampdocUrl}&ttl=${title}&path=${canonicalPath}&${baseParams}",event:"${host}${endpointPath}?dt=AppEvent&n=${eventName}&${baseParams}"},transport:{beacon:!1,xhrpost:!1,image:!0}},mpulse:{requests:{onvisible:"https://${beacon_url}?h.d=${h.d}&h.key=${h.key}&h.t=${h.t}&h.cr=${h.cr}&rt.start=navigation&rt.si=${clientId(amp_mpulse)}&rt.ss=${timestamp}&rt.end=${timestamp}&t_resp=${navTiming(navigationStart,responseStart)}&t_page=${navTiming(responseStart,loadEventStart)}&t_done=${navTiming(navigationStart,loadEventStart)}&nt_nav_type=${navType}&nt_red_cnt=${navRedirectCount}&nt_nav_st=${navTiming(navigationStart)}&nt_red_st=${navTiming(redirectStart)}&nt_red_end=${navTiming(redirectEnd)}&nt_fet_st=${navTiming(fetchStart)}&nt_dns_st=${navTiming(domainLookupStart)}&nt_dns_end=${navTiming(domainLookupEnd)}&nt_con_st=${navTiming(connectStart)}&nt_ssl_st=${navTiming(secureConnectionStart)}&nt_con_end=${navTiming(connectEnd)}&nt_req_st=${navTiming(requestStart)}&nt_res_st=${navTiming(responseStart)}&nt_unload_st=${navTiming(unloadEventStart)}&nt_unload_end=${navTiming(unloadEventEnd)}&nt_domloading=${navTiming(domLoading)}&nt_res_end=${navTiming(responseEnd)}&nt_domint=${navTiming(domInteractive)}&nt_domcontloaded_st=${navTiming(domContentLoadedEventStart)}&nt_domcontloaded_end=${navTiming(domContentLoadedEventEnd)}&nt_domcomp=${navTiming(domComplete)}&nt_load_st=${navTiming(loadEventStart)}&nt_load_end=${navTiming(loadEventEnd)}&v=1&http.initiator=amp&u=${sourceUrl}&amp.u=${ampdocUrl}&r2=${documentReferrer}&scr.xy=${screenWidth}x${screenHeight}"},
triggers:{onvisible:{on:"visible",request:"onvisible"}},transport:{beacon:!1,xhrpost:!1,image:!0},extraUrlParamsReplaceMap:{ab_test:"h.ab",page_group:"h.pg","custom_dimension.":"cdim.","custom_metric.":"cmet."}},navegg:{requests:{pageview:"https://amp.navdmp.com/amp?aid=${clientId(navegg_id)}&url=${canonicalUrl}&ref=${documentReferrer}&tit=${title}&lan=${browserLanguage}&acc=${account}&v=7"},triggers:{trackpageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:{suppressWarnings:!0}}},
newrelic:{requests:{pageview:"https://${beacon}/amp?appId=${appId}&licenseKey=${licenseKey}&ampUrl=${ampdocUrl}&canonicalUrl=${canonicalUrl}&timeToDomContentLoadedEventEnd=${navTiming(domContentLoadedEventEnd)}&timeToDomInteractive=${navTiming(domInteractive)}&timeToDomComplete=${navTiming(domComplete)}&timeToDomLoading=${navTiming(domLoading)}&timeToResponseStart=${navTiming(responseStart)}&timeToResponseEnd=${navTiming(responseEnd)}&timeToLoadEventStart=${navTiming(loadEventStart)}&timeToLoadEventEnd=${navTiming(loadEventEnd)}&timeToConnectStart=${navTiming(connectStart)}&timeToConnectEnd=${navTiming(connectEnd)}&timeToFetchStart=${navTiming(fetchStart)}&timeToRequestStart=${navTiming(requestStart)}&timeToUnloadEventStart=${navTiming(unloadEventStart)}&timeToUnloadEventEnd=${navTiming(unloadEventEnd)}&timeToDomainLookupStart=${navTiming(domainLookupStart)}&timeToDomainLookupEnd=${navTiming(domainLookupEnd)}&timeToRedirectStart=${navTiming(redirectStart)}&timeToRedirectEnd=${navTiming(redirectEnd)}&timeToSecureConnection=${navTiming(secureConnectionStart)}&timestamp=${timestamp}&ampVersion=${ampVersion}&pageLoadTime=${pageLoadTime}"},
vars:{beacon:"bam.nr-data.net",appId:[],licenseKey:""},triggers:{trackPageview:{on:"ini-load",request:"pageview"}}},nielsen:{vars:{sessionId:"CLIENT_ID(imrworldwide)",prefix:""},requests:{session:"https://${prefix}uaid-linkage.imrworldwide.com/cgi-bin/gn?prd=session&c13=asid,P${apid}&sessionId=${sessionId}_${pageViewId}&pingtype=4&enc=false&c61=createtm,${timestamp}&rnd=${random}",cloudapi:"https://${prefix}cloudapi.imrworldwide.com/nmapi/v2/${apid}/${sessionId}_${pageViewId}/a?b=%7B%22devInfo%22%3A%7B%22devId%22%3A%22${sessionId}_${pageViewId}%22%2C%22apn%22%3A%22${apn}%22%2C%22apv%22%3A%22${apv}%22%2C%22apid%22%3A%22${apid}%22%7D%2C%22metadata%22%3A%7B%22static%22%3A%7B%22type%22%3A%22static%22%2C%22section%22%3A%22${section}%22%2C%22assetid%22%3A%22${pageViewId}%22%2C%22segA%22%3A%22${segA}%22%2C%22segB%22%3A%22${segB}%22%2C%22segC%22%3A%22${segC}%22%2C%22adModel%22%3A%220%22%2C%22dataSrc%22%3A%22cms%22%7D%2C%22content%22%3A%7B%7D%2C%22ad%22%3A%7B%7D%7D%2C%22event%22%3A%22playhead%22%2C%22position%22%3A%22${timestamp}%22%2C%22data%22%3A%7B%22hidden%22%3A%22${backgroundState}%22%2C%22blur%22%3A%22${backgroundState}%22%2C%22position%22%3A%22${timestamp}%22%7D%2C%22type%22%3A%22static%22%2C%22utc%22%3A%22${timestamp}%22%2C%22index%22%3A%22${requestCount}%22%7D"},
triggers:{visible:{on:"visible",request:["session","cloudapi"]},hidden:{on:"hidden",request:"cloudapi"},duration:{on:"timer",timerSpec:{interval:10,maxTimerLength:86400,immediate:!1},request:"cloudapi"}},transport:{beacon:!1,xhrpost:!1,image:!0,referrerPolicy:"no-referrer"}},"nielsen-marketing-cloud":{transport:{beacon:!1,xhrpost:!1,image:!0},vars:{pubId:"",siteId:""},requests:{host:"loadeu.exelator.com",pathPrefix:"load/",trackurl:"https://${host}/${pathPrefix}?p=${pubId}&g=${siteId}&j=0"},triggers:{defaultPageview:{on:"visible",
request:"trackurl"}}},oewa:{transport:{beacon:!1,xhrpost:!1,image:!0},requests:{pageview:"${url}?s=${s}&amp=1&cp=${cp}&host=${canonicalHost}&path=${canonicalPath}"},triggers:{pageview:{on:"visible",request:"pageview"}}},oewadirect:{transport:{beacon:!1,xhrpost:!1,image:!0},requests:{pageview:"https://${s}.oewabox.at/j0=,,,r=${canonicalUrl};+,amp=1+cp=${cp}+ssl=1+hn=${canonicalHost};;;?lt=${pageViewId}&x=${screenWidth}x${screenHeight}x24&c=CLIENT_ID(oewa)"},triggers:{pageview:{on:"visible",request:"pageview"}}},
oracleInfinityAnalytics:{transport:{beacon:!1,xhrpost:!1,image:!0},requests:{host:"https://dc.oracleinfinity.io/${guid}/dcs.gif?",baseUrl:"dcssip=${dcssip}&dcsuri=${dcsuri}",baseRef:"&dcsref=${documentReferrer}",baseEs:"&WT.es=${sourceHost}${sourcePath}",baseTi:"&WT.ti=${ti}&dcsdat=${timestamp}",basePrefix:"${baseUrl}${baseTi}${baseRef}${baseEs}",screenBs:"&WT.bs=${availableScreenWidth}x${availableScreenHeight}",screenSr:"&WT.sr=${screenWidth}x${screenHeight}",screenDc:"&WT.cd=${screenColorDepth}",
screenMeasures:"${screenBs}${screenSr}${screenDc}",browserUl:"&WT.ul=${browserLanguage}",browserLe:"&WT.le=${documentCharset}",browserMeasures:"${browserUl}${browserLe}&WT.js=Yes",sessCof:"&WT.co_f=${clientId(WT_AMP)}",sessVer:"&ora.tv_amp=1.0.0&ora.amp_ver=${ampVersion}",sessionization:"${sessCof}${sessVer}&dcscfg=3",baseP1:"${host}${basePrefix}",baseP2:"${screenMeasures}${browserMeasures}${sessionization}",baseDl:"&WT.dl=${dl}",pageview:"${baseP1}${baseP2}${baseDl}",event:"${baseP1}${baseP2}${baseDl}",
dlPdf:'a[href$=".pdf"]',dlXls:',a[href$=".xls"]',dlPpt:',a[href$=".ppt"]',dlZip:',a[href$=".zip"]',dlTxt:',a[href$=".txt"]',dlRtf:',a[href$=".rtf"]',dlXml:',a[href$=".xml"]',downLoad:"${dlPdf}${dlXls}${dlPpt}${dlZip}${dlTxt}${dlRtf}${dlXml}"},vars:{dcssip:"${sourceHost}",dcsuri:"${sourcePath}",dl:"0",ti:"${title}"},triggers:{trackPageview:{on:"visible",request:"pageview"},trackAnchorClicks:{on:"click",selector:"a",request:"event",vars:{dl:"99",ti:"Link Click"}}},trackDownloadClicks:{on:"click",selector:"${downLoad}",
request:"event",vars:{dl:"20",ti:"Download Click"}}},parsely:{requests:{host:"https://srv.pixel.parsely.com",basePrefix:"${host}/plogger/?rand=${timestamp}&idsite=${apikey}&url=${ampdocUrl}&urlref=${documentReferrer}&screen=${screenWidth}x${screenHeight}%7C${availableScreenWidth}x${availableScreenHeight}%7C${screenColorDepth}&title=${title}&date=${timestamp}&ampid=${clientId(_parsely_visitor)}",pageview:'${basePrefix}&action=pageview&metadata={"canonical_url":"${canonicalUrl}"}',heartbeat:"${basePrefix}&action=heartbeat&tt=${totalEngagedTime}&inc=${incrementalEngagedTime(parsely-js)}"},
triggers:{defaultPageview:{on:"visible",request:"pageview"},defaultHeartbeat:{on:"timer",enabled:"${incrementalEngagedTime(parsely-js,false)}",timerSpec:{interval:10,maxTimerLength:7200},request:"heartbeat"}},transport:{beacon:!1,xhrpost:!1,image:!0}},piStats:{requests:{host:"https://events.pi-stats.com",basePrefix:"${host}/eventsamp/?e=PageLoad&pid=${property}&url=${ampdocUrl}&cnt=${cntId}&lang=${language}&ref=${documentReferrer}&id=${clientId(piStatsDEVICEID)}&ua=${userAgent}&ctype=web&blang=${browserLanguage}&v=2.0&dist=Javascript",
pageview:"${basePrefix}&eventtype=pageview"},triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},permutive:{vars:{identity:"${clientId(_ga)}"},requests:{track:"https://${namespace}.amp.permutive.com/track?k=${key}&i=${identity}&it=amp",pageview:"${track}&e=Pageview&_ep_isp_info=%24ip_isp_info&_ep_geo_info=%24ip_geo_info",engagement:"${track}&e=PageviewEngagement&_ep_engaged_time=5",completion:"${track}&e=PageviewEngagement&_ep_completion=0.25"},
triggers:{trackPageview:{on:"visible",request:"pageview"},trackEngagement:{on:"visible",timerSpec:{interval:5,maxTimerLength:600,immediate:!1},request:"engagement"},trackCompletion:{on:"scroll",scrollSpec:{verticalBoundaries:[25,50,75,100]},request:"completion"}},transport:{beacon:!1,xhrpost:!1,image:!0},extraUrlParams:{"properties.client.type":"amp","properties.client.title":"${title}","properties.client.domain":"${canonicalHost}","properties.client.url":"${canonicalUrl}","properties.client.referrer":"${documentReferrer}",
"properties.client.user_agent":"${userAgent}"},extraUrlParamsReplaceMap:{"properties.":"_ep_"}},piano:{requests:{host:"https://api-v3.tinypass.com",basePrefix:"/api/v3",baseSuffix:"&pageview_id=${pageViewId}&rand=${random}&amp_client_id=${clientId}&aid=${aid}",pageview:"${host}${basePrefix}/page/track?url=${canonicalUrl}&referer=${documentReferrer}&content_created=${contentCreated}&content_author=${contentAuthor}&content_section=${contentSection}&timezone_offset=${timezone}&tags=${tags}&amp_url=${ampdocUrl}&screen=${screenWidth}x${screenHeight}${baseSuffix}"}},
pinpoll:{requests:{pageview:"${protocol}://${host}/${version}?url=${sourceUrl}&sourceHost=${sourceHost}&sourceHostname=${sourceHostname}&sourcePath=${sourcePath}&canonicalUrl=${canonicalUrl}&platform=AMP&title=${title}&referrer=${documentReferrer}&screenHeight=${screenHeight}&screenWidth=${screenWidth}&screenColorDepth=${screenColorDepth}&ua=${userAgent}&clientId=${clientId(pinpoll)}"},triggers:{pageview:{on:"visible",request:"pageview"}},vars:{version:"v1",protocol:"https",host:"pa.pinpoll.com"}},
pressboard:{vars:{mediaId:"",campaignId:"",storyRequestId:"",geoNameId:"",country:"",region:"",city:"",dbInstance:"",timeZoneOffset:"",clientId:"CLIENT_ID(_pressboardmedia)"},requests:{host:"https://adserver.pressboard.ca",common_params:"&amp=1&url=${canonicalUrl}&referrer=${documentReferrer}&ts=${timestamp}&ua=${userAgent}&rand=${random}&uid=${clientId}&mid=${mediaId}&cid=${campaignId}&sid=${storyRequestId}&geoid=${geoNameId}&cn=${country}&rg=${region}&ct=${city}&dbi=${dbInstance}&tz=${timeZoneOffset}",
conversion_params:"&hbt=${requestCount}&pvid=${pageViewId}&asurl=${sourceUrl}&ash=${scrollHeight}&asnh=${screenHeight}&aasnh=${availableScreenHeight}&avh=${viewportHeight}&ast=${scrollTop}&atet=${totalEngagedTime}",conversion:"${host}/track/attention-amp?${common_params}${conversion_params}"},triggers:{pageTimer:{on:"timer",timerSpec:{interval:1,startSpec:{on:"visible"},stopSpec:{on:"hidden"}},request:"conversion"}},transport:{beacon:!1,xhrpost:!1,image:!0}},quantcast:{vars:{labels:""},requests:{host:"https://pixel.quantserve.com/pixel",
pageview:"${host};r=${random};a=${pcode};labels=${labels};fpan=;fpa=${clientId(__qca)};ns=0;ce=1;cm=;je=0;sr=${screenWidth}x${screenHeight}x${screenColorDepth};enc=n;et=${timestamp};ref=${documentReferrer};url=${canonicalUrl}"},triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},retargetly:{requests:{host:"https://api.retargetly.com",page:"${host}/api?id=${accountId}&src=${sourceId}&url=${sourceUrl}&n=${title}&ref=${documentReferrer}&ua=${userAgent}&random=${random}&bl=${browserLanguage}&source=amp"},
transport:{beacon:!1,xhrpost:!1,image:!0},triggers:{trackPageview:{on:"visible",request:"page"}}},rakam:{vars:{deviceId:"CLIENT_ID(rakam_device_id)"},requests:{base:"?api.api_key=${writeKey}&prop._platform=amp&prop._device_id=${deviceId}&prop.locale=${browserLanguage}&prop.path=${canonicalPath}&prop.url=${canonicalUrl}&prop.color_depth=${screenColorDepth}&prop._referrer=${documentReferrer}&prop.title=${title}&prop.timezone=${timezone}&prop._time=${timestamp}&prop.resolution=${screenWidth} \u00d7 ${screenHeight}",
pageview:"https://${apiEndpoint}/event/pixel${base}&collection=${pageViewName}",custom:"https://${apiEndpoint}/event/pixel${base}&collection=${collection}"}},reppublika:{requests:{host:"https://t5.mindtake.com",basePrefix:"/tag/cid/",baseSuffix:"Service=${service}&Category=${category}&Url=${sourceUrl}&Device=${device}&uid=${random}",pageview:"${host}${basePrefix}${code}/track.gif?${baseSuffix}"},transport:{beacon:!1,xhrpost:!1,image:!0}},segment:{transport:{beacon:!1,xhrpost:!1,image:!0},vars:{anonymousId:"CLIENT_ID(AMP_ECID_GOOGLE,,_ga)"},
requests:{host:"https://api.segment.io/v1/pixel",base:"?writeKey=${writeKey}&context.library.name=amp&anonymousId=${anonymousId}&context.locale=${browserLanguage}&context.page.path=${canonicalPath}&context.page.url=${canonicalUrl}&context.page.referrer=${documentReferrer}&context.page.title=${title}&context.screen.width=${screenWidth}&context.screen.height=${screenHeight}",page:"${host}/page${base}&name=${name}",track:"${host}/track${base}&event=${event}"},triggers:{page:{on:"visible",request:"page"}},
linkers:{segment:{ids:{s_amp_id:"${anonymousId}"},proxyOnly:!1}},cookies:{_ga:{value:"LINKER_PARAM(segment, s_amp_id)"}}},shinystat:{transport:{beacon:!1,xhrpost:!1,image:!0},requests:{base:"https://amp.shinystat.com/cgi-bin/shinyamp.cgi",commpar:"AMP=1&RM=${random}&USER=${account}&PAG=${page}&HR=${sourceUrl}&REFER=${documentReferrer}&RES=${screenWidth}X${screenHeight}&COLOR=${screenColorDepth}&CID=${clientId(AMP_CID)}&PAGID=${pageViewId}&TITL=${title}&RQC=${requestCount}",pagepar:"&VIE=${viewer}&PLT=${pageLoadTime}",
eventpar:"&SSXL=1",linkpar:"&LINK=${outboundLink}",pageview:"${base}?${commpar}${pagepar}",event:"${base}?${commpar}${eventpar}",link:"${base}?${commpar}${linkpar}"},triggers:{pageview:{on:"visible",request:"pageview"}}},simplereach:{vars:{pid:"",published_at:"",authors:[],channels:[],tags:[]},requests:{host:"https://edge.simplereach.com",baseParams:"amp=true&pid=${pid}&title=${title}&url=${canonicalUrl}&date=${published_at}&authors=${authors}&channels=${categories}&tags=${tags}&referrer=${documentReferrer}&page_url=${sourceUrl}&user_id=${clientId(sr_amp_id)}&domain=${canonicalHost}&article_id=${article_id}&ignore_metadata=${ignore_metadata}",
visible:"${host}/n?${baseParams}",timer:"${host}/t?${baseParams}&t=5000&e=5000"},triggers:{visible:{on:"visible",request:"visible"},timer:{on:"timer",timerSpec:{interval:5,maxTimerLength:1200},request:"timer"}}},snowplow:{vars:{duid:"CLIENT_ID(_sp_id)"},requests:{aaVersion:"amp-0.2",basePrefix:"https://${collectorHost}/i?url=${canonicalUrl}&page=${title}&res=${screenWidth}x${screenHeight}&stm=${timestamp}&tz=${timezone}&aid=${appId}&p=web&tv=${aaVersion}&cd=${screenColorDepth}&cs=${documentCharset}&duid=${duid}&lang=${browserLanguage}&refr=${documentReferrer}&stm=${timezone}&vp=${viewportWidth}x${viewportHeight}",
pageView:"${basePrefix}&e=pv",structEvent:"${basePrefix}&e=se&se_ca=${structEventCategory}&se_ac=${structEventAction}&se_la=${structEventLabel}&se_pr=${structEventProperty}&se_va=${structEventValue}"},transport:{beacon:!1,xhrpost:!1,image:!0}},teaanalytics:{vars:{userUniqueId:"${clientId(__tea_sdk__user_unique_id)}",debug:0},requests:{domain:"https://${channel}/v1/amp",commonParams:"user.user_unique_id=${userUniqueId}&header.app_id=${app_id}&header.language=${browserLanguage}&header.screen_height=${screenHeight}&header.screen_width=${screenWidth}&header.resolution=${screenHeight}x${screenWidth}&header.tz_offset=${timezone}&header.tz_name=${timezoneCode}&header.referrer=${documentReferrer}&header.custom.user_agent=${userAgent}&event.local_time_ms=${timestamp}&event.params._staging_flag=${debug}&verbose=${debug}",
base:"${domain}?${commonParams}&rnd=${random}",pageview:"${base}&event=predefine_pageview&event.params.url=${sourceUrl}&event.params.url_path=${sourcePath}&event.params.title=${title}",event:"${base}"}},tealiumcollect:{transport:{beacon:!1,xhrpost:!1,image:!0},vars:{account:"TEALIUM_ACCOUNT",profile:"TEALIUM_PROFILE",datasource:"TEALIUM_DATASOURCE",visitor_id:"CLIENT_ID(AMP_ECID_GOOGLE,,_ga)"},requests:{host:"https://collect.tealiumiq.com",base:"${host}/event?${tealium}&${dom1}&${dom2}&${datetime}&tealium_event=${tealium_event}&amp_version=${ampVersion}&amp_request_count=${requestCount}",
tealium:"tealium_account=${account}&tealium_profile=${profile}&tealium_datasource=${datasource}&tealium_visitor_id=${visitor_id}",dom1:"url=${sourceUrl}&ampdoc_url=${ampdocUrl}&domain=${sourceHost}&pathname=${sourcePath}&amp_hostname=${ampdocHostname}&canonical_hostname=${canonicalHostname}",dom2:"title=${title}&viewport_width=${availableScreenWidth}&viewport_height=${availableScreenHeight}",datetime:"timestamp=${timestamp}&tz=${timezone}&lang=${browserLanguage}",pageview:"${base}&referrer=${documentReferrer}&screen_size=${screenWidth}x${screenHeight}&content_load_ms=${contentLoadTime}&page_view_id=${pageViewId}",
event:"${base}&scroll_y=${scrollTop}&scroll_x=${scrollLeft}"},triggers:{defaultPageview:{on:"visible",request:"pageview",vars:{tealium_event:"screen_view"}}}},top100:{vars:{pid:"",rid:"PAGE_VIEW_ID",ruid:"CLIENT_ID(ruid)",version:"1.0.0"},requests:{host:"https://kraken.rambler.ru",base:"${host}/cnt/?pid=${pid}&rid=${rid}&v=${version}&rn=${random}&ruid=${ruid}&ct=amp",pageview:"${base}&et=pv${_pageData}${_screenData}",_screenData:"&sr=${screenWidth}x${screenHeight}&cd=${screenColorDepth}-bit&bs=${scrollWidth}x${scrollHeight}",
_pageData:"&pt=${title}&rf=${documentReferrer}&en=${documentCharset}&la=${browserLanguage}&tz=${timezone}"},triggers:{trackPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},topmailru:{transport:{beacon:!1,xhrpost:!1,image:!0},vars:{url:"${sourceUrl}",referrer:"${documentReferrer}"},requests:{pageView:"${_domain}/counter?${_basicMessage};title=${title}",reachGoal:"${_domain}/tracker?${_basicMessage};title=${title};e=RG%3A${value}%2F${goal}",sendEvent:"${_domain}/tracker?${_basicMessage};e=CE%3A${value}%2F${category}%3B${action}%3B${label}",
_domain:"https://top-fwz1.mail.ru",_basicMessage:"js=13;id=${id};u=${url};r=${referrer};s=${screenWidth}*${screenHeight};vp=${viewportWidth}*${viewportHeight};st=${start};gender=${gender};age=${age};pid=${pid};userid=${userid};device=${device};params=${params};_=${random}"},triggers:{pageView:{on:"visible",request:"pageView"}}},treasuredata:{vars:{host:"in.treasuredata.com",writeKey:"",database:"",table:"events"},requests:{base:"https://${host}/postback/v3/event/${database}",baseParams:"td_write_key=${writeKey}&td_global_id=td_global_id&td_client_id=CLIENT_ID(_td)&td_charset=DOCUMENT_CHARSET&td_language=BROWSER_LANGUAGE&td_color=SCREEN_COLOR_DEPTH&td_screen=${screenWidth}x${scrollHeight}&td_viewport=${availableScreenWidth}x${availableScreenHeight}&td_title=TITLE&td_url=SOURCE_URL&td_user_agent=USER_AGENT&td_host=SOURCE_HOST&td_path=SOURCE_PATH&td_referrer=DOCUMENT_REFERRER&td_ip=td_ip",
pageview:"${base}/${table}?${baseParams}",event:"${base}/${table}?${baseParams}"}},umenganalytics:{vars:{siteid:"",initial_view_time:"",eventName:"",eventProps:""},requests:{base:"https://b.cnzz.com/utrack?&_siteid=${siteid}&_distinct_id=${clientId(umeng_amp_id)}&_t=${timestamp}&_s=google&_b=web&_r=${externalReferrer}&_h=${screenHeight}&_w=${screenWidth}&_ivt=${initial_view_time}",pageview:"${base}&_ename=$w_page_view&_eprops=${eventProps}",event:"${base}&_ename=${eventName}&_eprops=${eventProps}"},
triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},upscore:{requests:{host:"https://hit-pool.upscore.com/amp?",basePrefix:"u_id=${clientId(upscore)}&hit_id=${pageViewId}&scTop=${scrollTop}&scHeight=${scrollHeight}&vHeight=${viewportHeight}&domain=${domain}&load=${domInteractiveTime}&timespent=${totalEngagedTime}",initialHit:"author=${author}&creator=${creator}&o_id=${object_id}&o_type=${object_type}&pubdate=${pubdate}&ref=${documentReferrer}&section=${section}&url=${ampdocUrl}&agent=${userAgent}&location=${ampGeo(ISOCountry)}",
finalbeat:"${host}${basePrefix}&type=final",heartbeat:"${host}${basePrefix}&type=pulse",pageview:"${host}${basePrefix}&${initialHit}&type=init"},triggers:{initHit:{on:"visible",request:"pageview"},pulse:{on:"timer",timerSpec:{interval:10,immediate:!1,stopSpec:{on:"hidden"}},request:"heartbeat"},"final":{on:"hidden",visibilitySpec:{totalTimeMin:5E3},request:"finalbeat"}},transport:{beacon:!0,xhrpost:!0,image:!1}},vponanalytics:{vars:{ctid:"${clientId(vpadn-ctid)}"},requests:{host:"https://tags-dmp.vpadn.com",
sync:"https://ids-dmp.vpadn.com/set?t=${timestamp}&dn=&ctid=${ctid}",scroll:'${host}/et?t=${timestamp}&sdkn=j&sdkv=1.2.0&lk=${licence_key}&en=UTF-8&ctid=${ctid}&ev=element_interact&pl={"name":"${category}","action":"${action}","value":"${documentReferrer}"}',event:"${host}/et?t=${timestamp}&sdkn=j&sdkv=1.2.0&lk=${licence_key}&en=UTF-8&ctid=${ctid}&ev=${ev_name}&pl=${payload}",elementInteract:'${host}/et?t=${timestamp}&sdkn=j&sdkv=1.2.0&lk=${licence_key}&en=UTF-8&ctid=${ctid}&ev=element_interact&pl={"name":"${category}","action":"${action}","value":"${label}"}'},
extraUrlParams:{is_amp:"1",page_id:"${pageViewId}"},triggers:{cookieSync:{on:"visible",request:"sync"},trackPageview:{on:"visible",request:"event",vars:{ev_name:"page_view",payload:'{"title":"${title}","current":"${canonicalUrl}","previous":"${documentReferrer}"}'}}},transport:{beacon:!1,xhrpost:!1,image:!0}},webtrekk:{requests:{trackURL:"https://${trackDomain}/${trackId}/wt",parameterPrefix:"?p=432,${contentId},1,${screenWidth}x${screenHeight},${screenColorDepth},1,${timestamp},${documentReferrer},${viewportWidth}x${viewportHeight},0&tz=${timezone}&eid=${clientId(amp-wt3-eid)}&la=${browserLanguage}",
parameterSuffix:"&pu=${sourceUrl}",pageParameter:"&cp1=${pageParameter1}&cp2=${pageParameter2}&cp3=${pageParameter3}&cp4=${pageParameter4}&cp5=${pageParameter5}&cp6=${pageParameter6}&cp7=${pageParameter7}&cp8=${pageParameter8}&cp9=${pageParameter9}&cp10=${pageParameter10}",pageCategories:"&cg1=${pageCategory1}&cg2=${pageCategory2}&cg3=${pageCategory3}&cg4=${pageCategory4}&cg5=${pageCategory5}&cg6=${pageCategory6}&cg7=${pageCategory7}&cg8=${pageCategory8}&cg9=${pageCategory9}&cg10=${pageCategory10}",
pageview:"${trackURL}${parameterPrefix}${pageParameter}${pageCategories}${parameterSuffix}",actionParameter:"&ck1=${actionParameter1}&ck2=${actionParameter2}&ck3=${actionParameter3}&ck4=${actionParameter4}&ck5=${actionParameter5}",event:"${trackURL}${parameterPrefix}&ct=${actionName}${actionParameter}${parameterSuffix}"},transport:{beacon:!1,xhrpost:!1,image:!0}},webtrekk_v2:{vars:{actionName:"webtrekk_ignore",contentId:"${title}",mediaName:"${id}",everId:"${clientId(amp-wt3-eid)}"},requests:{trackURL:"https://${trackDomain}/${trackId}/wt",
basePrefix:"?p=440,${contentId},1,${screenWidth}x${screenHeight},${screenColorDepth},1,",baseSuffix:",${documentReferrer},${viewportWidth}x${viewportHeight},0&tz=${timezone}&eid=${everId}&la=${browserLanguage}",parameterPrefix:"${basePrefix}${timestamp}${baseSuffix}",parameterSuffix:"&pu=${sourceUrl}&eor=1",pageview:"${trackURL}${parameterPrefix}&${extraUrlParams}&cp570=${pageLoadTime}${parameterSuffix}",event:"${trackURL}${parameterPrefix}&ct=${actionName}&${extraUrlParams}${parameterSuffix}",scroll:"${trackURL}${parameterPrefix}&ct=${actionName}&ck540=${verticalScrollBoundary}${parameterSuffix}",
mediaPrefix:"${trackURL}${basePrefix}${baseSuffix}&mi=${mediaName}",mediaSuffix:"&mt1=${currentTime}&mt2=${duration}&${extraUrlParams}${parameterSuffix}&x=${playedTotal}",mediaPlay:"${mediaPrefix}&mk=play${mediaSuffix}",mediaPause:"${mediaPrefix}&mk=pause${mediaSuffix}",mediaPosition:"${mediaPrefix}&mk=pos${mediaSuffix}",mediaEnded:"${mediaPrefix}&mk=eof${mediaSuffix}"},extraUrlParamsReplaceMap:{pageParameter:"cp",contentGroup:"cg",actionParameter:"ck",sessionParameter:"cs",ecommerceParameter:"cb",
urmCategory:"uc",campaignParameter:"cc",mediaCategory:"mg"},transport:{beacon:!1,xhrpost:!1,image:!0}}};if($getMode$$module$src$mode$$().test||$getMode$$module$src$mode$$().localDev)$ANALYTICS_CONFIG$$module$extensions$amp_analytics$0_1$vendors$$._fake_=$_FAKE_$$module$extensions$amp_analytics$0_1$vendors$_fake_$$;$ANALYTICS_CONFIG$$module$extensions$amp_analytics$0_1$vendors$$.infonline.triggers.pageview.iframePing=!0;
$ANALYTICS_CONFIG$$module$extensions$amp_analytics$0_1$vendors$$.adobeanalytics_nativeConfig.triggers.pageLoad.iframePing=!0;$ANALYTICS_CONFIG$$module$extensions$amp_analytics$0_1$vendors$$.oewa.triggers.pageview.iframePing=!0;var $JSCompiler_iframeTransportConfig$jscomp$inline_150$$={bg:"https://tpc.googlesyndication.com/b4a/b4a-runner.html",moat:"https://z.moatads.com/ampanalytics093284/iframe.html"},$JSCompiler_vendor$jscomp$inline_151$$;
for($JSCompiler_vendor$jscomp$inline_151$$ in $JSCompiler_iframeTransportConfig$jscomp$inline_150$$)$hasOwn$$module$src$utils$object$$($JSCompiler_iframeTransportConfig$jscomp$inline_150$$,$JSCompiler_vendor$jscomp$inline_151$$)&&($ANALYTICS_CONFIG$$module$extensions$amp_analytics$0_1$vendors$$[$JSCompiler_vendor$jscomp$inline_151$$].transport=Object.assign({},$ANALYTICS_CONFIG$$module$extensions$amp_analytics$0_1$vendors$$[$JSCompiler_vendor$jscomp$inline_151$$].transport,{iframe:$JSCompiler_iframeTransportConfig$jscomp$inline_150$$[$JSCompiler_vendor$jscomp$inline_151$$]}));function $LruCache$$module$src$utils$lru_cache$$(){var $capacity$$=100;this.$capacity_$=$capacity$$;this.$access_$=this.$size_$=0;this.$cache_$=Object.create(null)}$LruCache$$module$src$utils$lru_cache$$.prototype.has=function($key$jscomp$43$$){return!!this.$cache_$[$key$jscomp$43$$]};$LruCache$$module$src$utils$lru_cache$$.prototype.get=function($key$jscomp$44$$){var $cacheable$$=this.$cache_$[$key$jscomp$44$$];if($cacheable$$)return $cacheable$$.access=++this.$access_$,$cacheable$$.payload};
$LruCache$$module$src$utils$lru_cache$$.prototype.put=function($JSCompiler_cache$jscomp$inline_154_key$jscomp$45$$,$payload$$){this.has($JSCompiler_cache$jscomp$inline_154_key$jscomp$45$$)||this.$size_$++;this.$cache_$[$JSCompiler_cache$jscomp$inline_154_key$jscomp$45$$]={payload:$payload$$,access:this.$access_$};if(!(this.$size_$<=this.$capacity_$)){$dev$$module$src$log$$().warn("lru-cache","Trimming LRU cache");$JSCompiler_cache$jscomp$inline_154_key$jscomp$45$$=this.$cache_$;var $JSCompiler_oldest$jscomp$inline_155$$=
this.$access_$+1,$JSCompiler_key$jscomp$inline_157$$;for($JSCompiler_key$jscomp$inline_157$$ in $JSCompiler_cache$jscomp$inline_154_key$jscomp$45$$){var $JSCompiler_access$jscomp$inline_158$$=$JSCompiler_cache$jscomp$inline_154_key$jscomp$45$$[$JSCompiler_key$jscomp$inline_157$$].access;if($JSCompiler_access$jscomp$inline_158$$<$JSCompiler_oldest$jscomp$inline_155$$){$JSCompiler_oldest$jscomp$inline_155$$=$JSCompiler_access$jscomp$inline_158$$;var $JSCompiler_oldestKey$jscomp$inline_156$$=$JSCompiler_key$jscomp$inline_157$$}}void 0!==
$JSCompiler_oldestKey$jscomp$inline_156$$&&(delete $JSCompiler_cache$jscomp$inline_154_key$jscomp$45$$[$JSCompiler_oldestKey$jscomp$inline_156$$],this.$size_$--)}};var $env$$module$src$config$$=self.AMP_CONFIG||{},$urls$$module$src$config$$={thirdParty:$env$$module$src$config$$.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:$env$$module$src$config$$.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof $env$$module$src$config$$.thirdPartyFrameRegex?new RegExp($env$$module$src$config$$.thirdPartyFrameRegex):$env$$module$src$config$$.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:$env$$module$src$config$$.cdnUrl||
"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof $env$$module$src$config$$.cdnProxyRegex?new RegExp($env$$module$src$config$$.cdnProxyRegex):$env$$module$src$config$$.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:$env$$module$src$config$$.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:$env$$module$src$config$$.localDev||!1};$dict$$module$src$utils$object$$({c:!0,v:!0,a:!0,ad:!0,action:!0});var $a$$module$src$url$$,$cache$$module$src$url$$;
function $parseUrlDeprecated$$module$src$url$$($JSCompiler_inline_result$jscomp$53_url$jscomp$23$$){var $opt_nocache$$;$a$$module$src$url$$||($a$$module$src$url$$=self.document.createElement("a"),$cache$$module$src$url$$=self.UrlCache||(self.UrlCache=new $LruCache$$module$src$utils$lru_cache$$));var $JSCompiler_opt_cache$jscomp$inline_161$$=$opt_nocache$$?null:$cache$$module$src$url$$,$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$=$a$$module$src$url$$;if($JSCompiler_opt_cache$jscomp$inline_161$$&&
$JSCompiler_opt_cache$jscomp$inline_161$$.has($JSCompiler_inline_result$jscomp$53_url$jscomp$23$$))$JSCompiler_inline_result$jscomp$53_url$jscomp$23$$=$JSCompiler_opt_cache$jscomp$inline_161$$.get($JSCompiler_inline_result$jscomp$53_url$jscomp$23$$);else{$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$.href=$JSCompiler_inline_result$jscomp$53_url$jscomp$23$$;$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$.protocol||($JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$.href=
$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$.href);var $JSCompiler_info$jscomp$inline_163$$={href:$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$.href,protocol:$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$.protocol,host:$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$.host,hostname:$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$.hostname,port:"0"==$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$.port?
"":$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$.port,pathname:$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$.pathname,search:$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$.search,hash:$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$.hash,origin:null};"/"!==$JSCompiler_info$jscomp$inline_163$$.pathname[0]&&($JSCompiler_info$jscomp$inline_163$$.pathname="/"+$JSCompiler_info$jscomp$inline_163$$.pathname);if("http:"==
$JSCompiler_info$jscomp$inline_163$$.protocol&&80==$JSCompiler_info$jscomp$inline_163$$.port||"https:"==$JSCompiler_info$jscomp$inline_163$$.protocol&&443==$JSCompiler_info$jscomp$inline_163$$.port)$JSCompiler_info$jscomp$inline_163$$.port="",$JSCompiler_info$jscomp$inline_163$$.host=$JSCompiler_info$jscomp$inline_163$$.hostname;$JSCompiler_info$jscomp$inline_163$$.origin=$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$.origin&&"null"!=$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$.origin?
$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$.origin:"data:"!=$JSCompiler_info$jscomp$inline_163$$.protocol&&$JSCompiler_info$jscomp$inline_163$$.host?$JSCompiler_info$jscomp$inline_163$$.protocol+"//"+$JSCompiler_info$jscomp$inline_163$$.host:$JSCompiler_info$jscomp$inline_163$$.href;$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$=$getMode$$module$src$mode$$().test&&Object.freeze?Object.freeze($JSCompiler_info$jscomp$inline_163$$):$JSCompiler_info$jscomp$inline_163$$;
$JSCompiler_opt_cache$jscomp$inline_161$$&&$JSCompiler_opt_cache$jscomp$inline_161$$.put($JSCompiler_inline_result$jscomp$53_url$jscomp$23$$,$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$);$JSCompiler_inline_result$jscomp$53_url$jscomp$23$$=$JSCompiler_a$jscomp$inline_162_JSCompiler_frozen$jscomp$inline_164$$}return $JSCompiler_inline_result$jscomp$53_url$jscomp$23$$}
function $appendEncodedParamStringToUrl$$module$src$url$$($url$jscomp$25$$,$paramString$$,$opt_addToFront$$){if(!$paramString$$)return $url$jscomp$25$$;var $mainAndFragment$$=$url$jscomp$25$$.split("#",2),$mainAndQuery$$=$mainAndFragment$$[0].split("?",2),$newUrl$$=$mainAndQuery$$[0]+($mainAndQuery$$[1]?$opt_addToFront$$?"?"+$paramString$$+"&"+$mainAndQuery$$[1]:"?"+$mainAndQuery$$[1]+"&"+$paramString$$:"?"+$paramString$$);return $newUrl$$+=$mainAndFragment$$[1]?"#"+$mainAndFragment$$[1]:""}
function $serializeQueryString$$module$src$url$$($params$jscomp$5$$){var $s$jscomp$15$$=[],$k$jscomp$1$$;for($k$jscomp$1$$ in $params$jscomp$5$$){var $v$$=$params$jscomp$5$$[$k$jscomp$1$$];if(null!=$v$$)if(Array.isArray($v$$))for(var $i$jscomp$14_sv$2$$=0;$i$jscomp$14_sv$2$$<$v$$.length;$i$jscomp$14_sv$2$$++){var $sv$$=$v$$[$i$jscomp$14_sv$2$$];$s$jscomp$15$$.push(encodeURIComponent($k$jscomp$1$$)+"="+encodeURIComponent($sv$$))}else $i$jscomp$14_sv$2$$=$v$$,$s$jscomp$15$$.push(encodeURIComponent($k$jscomp$1$$)+
"="+encodeURIComponent($i$jscomp$14_sv$2$$))}return $s$jscomp$15$$.join("&")}
function $assertHttpsUrl$$module$src$url$$($JSCompiler_inline_result$jscomp$54_JSCompiler_url$jscomp$inline_166_urlString$jscomp$1$$,$elementContext$$){var $sourceName$$=void 0===$sourceName$$?"source":$sourceName$$;$userAssert$$module$src$log$$(null!=$JSCompiler_inline_result$jscomp$54_JSCompiler_url$jscomp$inline_166_urlString$jscomp$1$$,"%s %s must be available",$elementContext$$,$sourceName$$);var $theUrlString$$=$JSCompiler_inline_result$jscomp$54_JSCompiler_url$jscomp$inline_166_urlString$jscomp$1$$;$JSCompiler_inline_result$jscomp$54_JSCompiler_url$jscomp$inline_166_urlString$jscomp$1$$=
$theUrlString$$;"string"==typeof $JSCompiler_inline_result$jscomp$54_JSCompiler_url$jscomp$inline_166_urlString$jscomp$1$$&&($JSCompiler_inline_result$jscomp$54_JSCompiler_url$jscomp$inline_166_urlString$jscomp$1$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_inline_result$jscomp$54_JSCompiler_url$jscomp$inline_166_urlString$jscomp$1$$));$JSCompiler_inline_result$jscomp$54_JSCompiler_url$jscomp$inline_166_urlString$jscomp$1$$="https:"==$JSCompiler_inline_result$jscomp$54_JSCompiler_url$jscomp$inline_166_urlString$jscomp$1$$.protocol||
"localhost"==$JSCompiler_inline_result$jscomp$54_JSCompiler_url$jscomp$inline_166_urlString$jscomp$1$$.hostname||"127.0.0.1"==$JSCompiler_inline_result$jscomp$54_JSCompiler_url$jscomp$inline_166_urlString$jscomp$1$$.hostname||$endsWith$$module$src$string$$($JSCompiler_inline_result$jscomp$54_JSCompiler_url$jscomp$inline_166_urlString$jscomp$1$$.hostname,".localhost");$userAssert$$module$src$log$$($JSCompiler_inline_result$jscomp$54_JSCompiler_url$jscomp$inline_166_urlString$jscomp$1$$||/^(\/\/)/.test($theUrlString$$),
'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',$elementContext$$,$sourceName$$,$theUrlString$$)}function $isProxyOrigin$$module$src$url$$($url$jscomp$32$$){"string"==typeof $url$jscomp$32$$&&($url$jscomp$32$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$32$$));return $urls$$module$src$config$$.cdnProxyRegex.test($url$jscomp$32$$.origin)};function $tryParseJson$$module$src$json$$($json$jscomp$1$$,$opt_onFailed$$){try{return JSON.parse($json$jscomp$1$$)}catch($e$jscomp$18$$){return $opt_onFailed$$&&$opt_onFailed$$($e$jscomp$18$$),null}};function $utf8Encode$$module$src$utils$bytes$$($string$jscomp$8$$){return"undefined"!==typeof TextEncoder?(new TextEncoder("utf-8")).encode($string$jscomp$8$$):$stringToBytes$$module$src$utils$bytes$$(unescape(encodeURIComponent($string$jscomp$8$$)))}
function $stringToBytes$$module$src$utils$bytes$$($str$jscomp$8$$){for(var $bytes$jscomp$1$$=new Uint8Array($str$jscomp$8$$.length),$i$jscomp$17$$=0;$i$jscomp$17$$<$str$jscomp$8$$.length;$i$jscomp$17$$++){var $charCode$$=$str$jscomp$8$$.charCodeAt($i$jscomp$17$$);$bytes$jscomp$1$$[$i$jscomp$17$$]=$charCode$$}return $bytes$jscomp$1$$}
function $bytesToString$$module$src$utils$bytes$$($bytes$jscomp$2$$){for(var $array$jscomp$7$$=Array($bytes$jscomp$2$$.length),$i$jscomp$18$$=0;$i$jscomp$18$$<$bytes$jscomp$2$$.length;$i$jscomp$18$$++)$array$jscomp$7$$[$i$jscomp$18$$]=String.fromCharCode($bytes$jscomp$2$$[$i$jscomp$18$$]);return $array$jscomp$7$$.join("")};var $base64UrlDecodeSubs$$module$src$utils$base64$$={"-":"+",_:"/",".":"="},$base64UrlEncodeSubs$$module$src$utils$base64$$={"+":"-","/":"_","=":"."};function $base64UrlDecodeToBytes$$module$src$utils$base64$$($str$jscomp$9$$){var $encoded$$=atob($str$jscomp$9$$.replace(/[-_.]/g,function($str$jscomp$9$$){return $base64UrlDecodeSubs$$module$src$utils$base64$$[$str$jscomp$9$$]}));return $stringToBytes$$module$src$utils$bytes$$($encoded$$)}
function $base64UrlEncodeFromBytes$$module$src$utils$base64$$($bytes$jscomp$4_str$jscomp$11$$){$bytes$jscomp$4_str$jscomp$11$$=$bytesToString$$module$src$utils$bytes$$($bytes$jscomp$4_str$jscomp$11$$);return btoa($bytes$jscomp$4_str$jscomp$11$$).replace(/[+/=]/g,function($bytes$jscomp$4_str$jscomp$11$$){return $base64UrlEncodeSubs$$module$src$utils$base64$$[$bytes$jscomp$4_str$jscomp$11$$]})}
function $base64UrlEncodeFromString$$module$src$utils$base64$$($bytes$jscomp$5_str$jscomp$12$$){$bytes$jscomp$5_str$jscomp$12$$=$utf8Encode$$module$src$utils$bytes$$($bytes$jscomp$5_str$jscomp$12$$);return $base64UrlEncodeFromBytes$$module$src$utils$base64$$($bytes$jscomp$5_str$jscomp$12$$)};function $getConsentPolicyState$$module$src$consent$$($element$jscomp$60$$){var $policyId$$=void 0===$policyId$$?"default":$policyId$$;return $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$60$$,"consentPolicyManager","amp-consent").then(function($element$jscomp$60$$){return $element$jscomp$60$$?$element$jscomp$60$$.whenPolicyResolved($policyId$$):null})};var $crcTable$$module$extensions$amp_analytics$0_1$crc32$$=null;var $KEY_VALIDATOR$$module$extensions$amp_analytics$0_1$linker$$=/^[a-zA-Z0-9\-_.]+$/;function $createLinker$$module$extensions$amp_analytics$0_1$linker$$($ids$$){var $serializedIds$$=$serialize$$module$extensions$amp_analytics$0_1$linker$$($ids$$);if(""===$serializedIds$$)return"";var $checksum$$=$getCheckSum$$module$extensions$amp_analytics$0_1$linker$$($serializedIds$$);return["1",$checksum$$,$serializedIds$$].join("*")}
function $getCheckSum$$module$extensions$amp_analytics$0_1$linker$$($JSCompiler_bytes$jscomp$inline_172_JSCompiler_str$jscomp$inline_171_serializedIds$jscomp$4$$,$opt_offsetMin$$){var $JSCompiler_crc$jscomp$inline_173_JSCompiler_crcTable$jscomp$inline_436_JSCompiler_win$jscomp$inline_434$$=window,$fingerprint$$=[window.navigator.userAgent,(new Date).getTimezoneOffset(),$JSCompiler_crc$jscomp$inline_173_JSCompiler_crcTable$jscomp$inline_436_JSCompiler_win$jscomp$inline_434$$.navigator.userLanguage||
$JSCompiler_crc$jscomp$inline_173_JSCompiler_crcTable$jscomp$inline_436_JSCompiler_win$jscomp$inline_434$$.navigator.language].join("*"),$timestamp$$=Math.floor(Date.now()/6E4)-($opt_offsetMin$$||0);$JSCompiler_bytes$jscomp$inline_172_JSCompiler_str$jscomp$inline_171_serializedIds$jscomp$4$$=[$fingerprint$$,$timestamp$$,$JSCompiler_bytes$jscomp$inline_172_JSCompiler_str$jscomp$inline_171_serializedIds$jscomp$4$$].join("*");if(!$crcTable$$module$extensions$amp_analytics$0_1$crc32$$){$JSCompiler_crc$jscomp$inline_173_JSCompiler_crcTable$jscomp$inline_436_JSCompiler_win$jscomp$inline_434$$=
Array(256);for(var $JSCompiler_i$jscomp$inline_174_JSCompiler_i$jscomp$inline_437$$=0;256>$JSCompiler_i$jscomp$inline_174_JSCompiler_i$jscomp$inline_437$$;$JSCompiler_i$jscomp$inline_174_JSCompiler_i$jscomp$inline_437$$++){for(var $JSCompiler_c$jscomp$inline_438$$=$JSCompiler_i$jscomp$inline_174_JSCompiler_i$jscomp$inline_437$$,$JSCompiler_j$jscomp$inline_439$$=0;8>$JSCompiler_j$jscomp$inline_439$$;$JSCompiler_j$jscomp$inline_439$$++)$JSCompiler_c$jscomp$inline_438$$=$JSCompiler_c$jscomp$inline_438$$&
1?$JSCompiler_c$jscomp$inline_438$$>>>1^3988292384:$JSCompiler_c$jscomp$inline_438$$>>>1;$JSCompiler_crc$jscomp$inline_173_JSCompiler_crcTable$jscomp$inline_436_JSCompiler_win$jscomp$inline_434$$[$JSCompiler_i$jscomp$inline_174_JSCompiler_i$jscomp$inline_437$$]=$JSCompiler_c$jscomp$inline_438$$}$crcTable$$module$extensions$amp_analytics$0_1$crc32$$=$JSCompiler_crc$jscomp$inline_173_JSCompiler_crcTable$jscomp$inline_436_JSCompiler_win$jscomp$inline_434$$}$JSCompiler_bytes$jscomp$inline_172_JSCompiler_str$jscomp$inline_171_serializedIds$jscomp$4$$=
$utf8Encode$$module$src$utils$bytes$$($JSCompiler_bytes$jscomp$inline_172_JSCompiler_str$jscomp$inline_171_serializedIds$jscomp$4$$);$JSCompiler_crc$jscomp$inline_173_JSCompiler_crcTable$jscomp$inline_436_JSCompiler_win$jscomp$inline_434$$=4294967295;for($JSCompiler_i$jscomp$inline_174_JSCompiler_i$jscomp$inline_437$$=0;$JSCompiler_i$jscomp$inline_174_JSCompiler_i$jscomp$inline_437$$<$JSCompiler_bytes$jscomp$inline_172_JSCompiler_str$jscomp$inline_171_serializedIds$jscomp$4$$.length;$JSCompiler_i$jscomp$inline_174_JSCompiler_i$jscomp$inline_437$$++)$JSCompiler_crc$jscomp$inline_173_JSCompiler_crcTable$jscomp$inline_436_JSCompiler_win$jscomp$inline_434$$=
$JSCompiler_crc$jscomp$inline_173_JSCompiler_crcTable$jscomp$inline_436_JSCompiler_win$jscomp$inline_434$$>>>8^$crcTable$$module$extensions$amp_analytics$0_1$crc32$$[($JSCompiler_crc$jscomp$inline_173_JSCompiler_crcTable$jscomp$inline_436_JSCompiler_win$jscomp$inline_434$$^$JSCompiler_bytes$jscomp$inline_172_JSCompiler_str$jscomp$inline_171_serializedIds$jscomp$4$$[$JSCompiler_i$jscomp$inline_174_JSCompiler_i$jscomp$inline_437$$])&255];return(($JSCompiler_crc$jscomp$inline_173_JSCompiler_crcTable$jscomp$inline_436_JSCompiler_win$jscomp$inline_434$$^
-1)>>>0).toString(36)}
function $serialize$$module$extensions$amp_analytics$0_1$linker$$($pairs$$){return $pairs$$?Object.keys($pairs$$).filter(function($pairs$$){var $key$jscomp$49$$=$KEY_VALIDATOR$$module$extensions$amp_analytics$0_1$linker$$.test($pairs$$);$key$jscomp$49$$||$user$$module$src$log$$().error("amp-analytics/linker","Invalid linker key: "+$pairs$$);return $key$jscomp$49$$}).map(function($key$jscomp$50$$){return $key$jscomp$50$$+"*"+$base64UrlEncodeFromString$$module$src$utils$base64$$(String($pairs$$[$key$jscomp$50$$]))}).join("*"):""}
;function $LinkerReader$$module$extensions$amp_analytics$0_1$linker_reader$$($win$jscomp$54$$){this.$win_$=$win$jscomp$54$$;this.$linkerParams_$={}}
$LinkerReader$$module$extensions$amp_analytics$0_1$linker_reader$$.prototype.get=function($name$jscomp$76$$,$id$jscomp$35$$){if(!$name$jscomp$76$$||!$id$jscomp$35$$)return $user$$module$src$log$$().error("amp-analytics/linker-reader","LINKER_PARAM requires two params, name and id"),null;if(!$hasOwn$$module$src$utils$object$$(this.$linkerParams_$,$name$jscomp$76$$)){var $JSCompiler_temp_const$jscomp$61$$=this.$linkerParams_$;var $JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$=
$parseUrlDeprecated$$module$src$url$$(this.$win_$.location.href);var $JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$.search);
if($hasOwn$$module$src$utils$object$$($JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$,$name$jscomp$76$$)){$JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$=
$JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$[$name$jscomp$76$$];if(this.$win_$.history.replaceState){var $JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$;
$JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$=($JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$=$JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$.search)&&
"?"!=$JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$?($JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$=$JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$.replace(new RegExp("[?&]"+
$name$jscomp$76$$+"=[^&]*","g"),"").replace(/^[?&]/,""))?"?"+$JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$:"":"";this.$win_$.history.replaceState(null,"",$JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$.origin+$JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$.pathname+
$JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$+($JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$.hash||""))}$JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$=
$JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$.split("*");$JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$=
0==$JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$.length%2;4>$JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$.length||!$JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$?
($user$$module$src$log$$().error("amp-analytics/linker","Invalid linker_param value "+$JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$),$JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$=
null):($JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$=Number($JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$.shift()),
1!==$JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$?($user$$module$src$log$$().error("amp-analytics/linker","Invalid version number "+$JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$),
$JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$=null):$JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$=
{checksum:$JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$.shift(),serializedIds:$JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$.join("*")});if($JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$){$JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$=
$JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$.serializedIds;c:{$JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$=
$JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$.checksum;for($JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$=
0;1>=$JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$;$JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$++)if($getCheckSum$$module$extensions$amp_analytics$0_1$linker$$($JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$,
$JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$)==$JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$){$JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$=
!0;break c}$JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$=!1}if($JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$)for($JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$=
{},$JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$=$JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$.split("*"),$JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$=
0;$JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$<$JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$.length;$JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$+=
2){var $JSCompiler_key$jscomp$inline_526$$=$JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$[$JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$];if($KEY_VALIDATOR$$module$extensions$amp_analytics$0_1$linker$$.test($JSCompiler_key$jscomp$inline_526$$)){var $JSCompiler_asciiString$jscomp$inline_534_JSCompiler_bytes$jscomp$inline_533_JSCompiler_inline_result$jscomp$inline_527$$=
$base64UrlDecodeToBytes$$module$src$utils$base64$$(String($JSCompiler_params$jscomp$inline_524_JSCompiler_parsedUrl$jscomp$inline_179_JSCompiler_parts$jscomp$inline_513_JSCompiler_serializedIds$jscomp$inline_458$$[$JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_525_JSCompiler_inline_result$jscomp$inline_448_JSCompiler_isEven$jscomp$inline_514_JSCompiler_search$jscomp$inline_450_JSCompiler_urlSearch$jscomp$inline_449$$+1]));"undefined"!==typeof TextDecoder?$JSCompiler_asciiString$jscomp$inline_534_JSCompiler_bytes$jscomp$inline_533_JSCompiler_inline_result$jscomp$inline_527$$=
(new TextDecoder("utf-8")).decode($JSCompiler_asciiString$jscomp$inline_534_JSCompiler_bytes$jscomp$inline_533_JSCompiler_inline_result$jscomp$inline_527$$):($JSCompiler_asciiString$jscomp$inline_534_JSCompiler_bytes$jscomp$inline_533_JSCompiler_inline_result$jscomp$inline_527$$=$bytesToString$$module$src$utils$bytes$$(new Uint8Array($JSCompiler_asciiString$jscomp$inline_534_JSCompiler_bytes$jscomp$inline_533_JSCompiler_inline_result$jscomp$inline_527$$.buffer||$JSCompiler_asciiString$jscomp$inline_534_JSCompiler_bytes$jscomp$inline_533_JSCompiler_inline_result$jscomp$inline_527$$)),
$JSCompiler_asciiString$jscomp$inline_534_JSCompiler_bytes$jscomp$inline_533_JSCompiler_inline_result$jscomp$inline_527$$=decodeURIComponent(escape($JSCompiler_asciiString$jscomp$inline_534_JSCompiler_bytes$jscomp$inline_533_JSCompiler_inline_result$jscomp$inline_527$$)));$JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$[$JSCompiler_key$jscomp$inline_526$$]=
$JSCompiler_asciiString$jscomp$inline_534_JSCompiler_bytes$jscomp$inline_533_JSCompiler_inline_result$jscomp$inline_527$$}else $user$$module$src$log$$().error("amp-analytics/linker","Invalid linker key "+$JSCompiler_key$jscomp$inline_526$$+", value ignored")}else $user$$module$src$log$$().error("amp-analytics/linker","LINKER_PARAM value checksum not valid"),$JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$=
null}else $JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$=null}else $JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$=
null;$JSCompiler_temp_const$jscomp$61$$[$name$jscomp$76$$]=$JSCompiler_checksum$jscomp$inline_518_JSCompiler_inline_result$jscomp$504_JSCompiler_inline_result$jscomp$505_JSCompiler_inline_result$jscomp$62_JSCompiler_keyValuePairs$jscomp$inline_523_JSCompiler_linkerObj$jscomp$inline_456_JSCompiler_params$jscomp$inline_180_JSCompiler_value$jscomp$inline_181_JSCompiler_version$jscomp$inline_515$$}return this.$linkerParams_$[$name$jscomp$76$$]&&this.$linkerParams_$[$name$jscomp$76$$][$id$jscomp$35$$]?
this.$linkerParams_$[$name$jscomp$76$$][$id$jscomp$35$$]:null};var $VARIABLE_ARGS_REGEXP$$module$extensions$amp_analytics$0_1$variables$$=/^(?:([^\s]*)(\([^)]*\))|[^]+)$/,$EXTERNAL_CONSENT_POLICY_STATE_STRING$$module$extensions$amp_analytics$0_1$variables$$={1:"sufficient",2:"insufficient",3:"not_required",4:"unknown"};
function $ExpansionOptions$$module$extensions$amp_analytics$0_1$variables$$($vars$$,$opt_iterations$$,$opt_noEncode$$){this.vars=$vars$$;this.iterations=void 0===$opt_iterations$$?2:$opt_iterations$$;this.noEncode=!!$opt_noEncode$$;this.freezeVars={}}$ExpansionOptions$$module$extensions$amp_analytics$0_1$variables$$.prototype.freezeVar=function($str$jscomp$15$$){this.freezeVars[$str$jscomp$15$$]=!0};
$ExpansionOptions$$module$extensions$amp_analytics$0_1$variables$$.prototype.getVar=function($name$jscomp$79_value$jscomp$101$$){$name$jscomp$79_value$jscomp$101$$=this.vars[$name$jscomp$79_value$jscomp$101$$];null==$name$jscomp$79_value$jscomp$101$$&&($name$jscomp$79_value$jscomp$101$$="");return $name$jscomp$79_value$jscomp$101$$};
function $substrMacro$$module$extensions$amp_analytics$0_1$variables$$($str$jscomp$16$$,$s$jscomp$16_start$jscomp$11$$,$opt_l$$){$s$jscomp$16_start$jscomp$11$$=Number($s$jscomp$16_start$jscomp$11$$);var $length$jscomp$19$$=$str$jscomp$16$$.length;$userAssert$$module$src$log$$($isFiniteNumber$$module$src$types$$($s$jscomp$16_start$jscomp$11$$),"Start index "+$s$jscomp$16_start$jscomp$11$$+"in substr macro should be a number");$opt_l$$&&($length$jscomp$19$$=Number($opt_l$$),$userAssert$$module$src$log$$($isFiniteNumber$$module$src$types$$($length$jscomp$19$$),
"Length "+$length$jscomp$19$$+" in substr macro should be a number"));return $str$jscomp$16$$.substr($s$jscomp$16_start$jscomp$11$$,$length$jscomp$19$$)}function $defaultMacro$$module$extensions$amp_analytics$0_1$variables$$($value$jscomp$102$$,$defaultValue$jscomp$2$$){return $value$jscomp$102$$&&$value$jscomp$102$$.length?$value$jscomp$102$$:$user$$module$src$log$$().assertString($defaultValue$jscomp$2$$)}
function $replaceMacro$$module$extensions$amp_analytics$0_1$variables$$($string$jscomp$9$$,$matchPattern$$,$opt_newSubStr$$){$matchPattern$$||$user$$module$src$log$$().warn("amp-analytics/variables","REPLACE macro must have two or more arguments");$opt_newSubStr$$||($opt_newSubStr$$="");var $regex$$=new RegExp($matchPattern$$,"g");return $string$jscomp$9$$.replace($regex$$,$opt_newSubStr$$)}
function $VariableService$$module$extensions$amp_analytics$0_1$variables$$($window$jscomp$13$$){var $$jscomp$this$jscomp$1$$=this;this.$win_$=$window$jscomp$13$$;this.$macros_$=$dict$$module$src$utils$object$$({});this.$linkerReader_$=$getService$$module$src$service$$(this.$win_$,"amp-analytics-linker-reader");this.$macros_$.$DEFAULT=$defaultMacro$$module$extensions$amp_analytics$0_1$variables$$;this.$macros_$.$SUBSTR=$substrMacro$$module$extensions$amp_analytics$0_1$variables$$;$JSCompiler_StaticMethods_register_$$(this,
"$TRIM",function($window$jscomp$13$$){return $window$jscomp$13$$.trim()});$JSCompiler_StaticMethods_register_$$(this,"$TOLOWERCASE",function($window$jscomp$13$$){return $window$jscomp$13$$.toLowerCase()});$JSCompiler_StaticMethods_register_$$(this,"$TOUPPERCASE",function($window$jscomp$13$$){return $window$jscomp$13$$.toUpperCase()});$JSCompiler_StaticMethods_register_$$(this,"$NOT",function($window$jscomp$13$$){return String(!$window$jscomp$13$$)});$JSCompiler_StaticMethods_register_$$(this,"$BASE64",
function($window$jscomp$13$$){return $base64UrlEncodeFromString$$module$src$utils$base64$$($window$jscomp$13$$)});$JSCompiler_StaticMethods_register_$$(this,"$HASH",this.$hashMacro_$.bind(this));$JSCompiler_StaticMethods_register_$$(this,"$IF",function($window$jscomp$13$$,$$jscomp$this$jscomp$1$$,$elseValue$$){return $window$jscomp$13$$?$$jscomp$this$jscomp$1$$:$elseValue$$});this.$macros_$.$REPLACE=$replaceMacro$$module$extensions$amp_analytics$0_1$variables$$;$JSCompiler_StaticMethods_register_$$(this,
"LINKER_PARAM",function($window$jscomp$13$$,$id$jscomp$36$$){return $$jscomp$this$jscomp$1$$.$linkerReader_$.get($window$jscomp$13$$,$id$jscomp$36$$)})}$VariableService$$module$extensions$amp_analytics$0_1$variables$$.prototype.getMacros=function(){return this.$macros_$};function $JSCompiler_StaticMethods_register_$$($JSCompiler_StaticMethods_register_$self$$,$name$jscomp$81$$,$macro$$){$JSCompiler_StaticMethods_register_$self$$.$macros_$[$name$jscomp$81$$]=$macro$$}
$VariableService$$module$extensions$amp_analytics$0_1$variables$$.prototype.expandTemplate=function($template$jscomp$3$$,$options$jscomp$15$$){return $tryResolve$$module$src$utils$promise$$(this.expandTemplateSync.bind(this,$template$jscomp$3$$,$options$jscomp$15$$))};
$VariableService$$module$extensions$amp_analytics$0_1$variables$$.prototype.expandTemplateSync=function($template$jscomp$4$$,$options$jscomp$16$$){var $$jscomp$this$jscomp$2$$=this;return $template$jscomp$4$$.replace(/\${([^}]*)}/g,function($template$jscomp$4$$,$key$jscomp$52_name$jscomp$82$$){if(0>$options$jscomp$16$$.iterations)return $user$$module$src$log$$().error("amp-analytics/variables","Maximum depth reached while expanding variables. Please ensure that the variables are not recursive."),
$template$jscomp$4$$;if(!$key$jscomp$52_name$jscomp$82$$)return"";var $match$jscomp$3_value$jscomp$109$$=$getNameArgs$$module$extensions$amp_analytics$0_1$variables$$($key$jscomp$52_name$jscomp$82$$);$key$jscomp$52_name$jscomp$82$$=$match$jscomp$3_value$jscomp$109$$.name;$match$jscomp$3_value$jscomp$109$$=$match$jscomp$3_value$jscomp$109$$.argList;if($options$jscomp$16$$.freezeVars[$key$jscomp$52_name$jscomp$82$$])return $template$jscomp$4$$;$template$jscomp$4$$=$options$jscomp$16$$.getVar($key$jscomp$52_name$jscomp$82$$);
"string"==typeof $template$jscomp$4$$&&($template$jscomp$4$$=$$jscomp$this$jscomp$2$$.expandTemplateSync($template$jscomp$4$$,new $ExpansionOptions$$module$extensions$amp_analytics$0_1$variables$$($options$jscomp$16$$.vars,$options$jscomp$16$$.iterations-1,!0)));$options$jscomp$16$$.noEncode||($template$jscomp$4$$=$encodeVars$$module$extensions$amp_analytics$0_1$variables$$($template$jscomp$4$$));$template$jscomp$4$$&&($template$jscomp$4$$+=$match$jscomp$3_value$jscomp$109$$);return $template$jscomp$4$$})};
$VariableService$$module$extensions$amp_analytics$0_1$variables$$.prototype.$hashMacro_$=function($value$jscomp$110$$){return $getService$$module$src$service$$(this.$win_$,"crypto").sha384Base64($value$jscomp$110$$)};
function $encodeVars$$module$extensions$amp_analytics$0_1$variables$$($raw$$){if(null==$raw$$)return"";if(Array.isArray($raw$$))return $raw$$.map($encodeVars$$module$extensions$amp_analytics$0_1$variables$$).join(",");var $$jscomp$destructuring$var16$$=$getNameArgs$$module$extensions$amp_analytics$0_1$variables$$(String($raw$$)),$argList$jscomp$3$$=$$jscomp$destructuring$var16$$.argList;return encodeURIComponent($$jscomp$destructuring$var16$$.name)+$argList$jscomp$3$$}
function $getNameArgs$$module$extensions$amp_analytics$0_1$variables$$($key$jscomp$53$$){if(!$key$jscomp$53$$)return{name:"",argList:""};var $match$jscomp$4$$=$key$jscomp$53$$.match($VARIABLE_ARGS_REGEXP$$module$extensions$amp_analytics$0_1$variables$$);$userAssert$$module$src$log$$($match$jscomp$4$$,"Variable with invalid format found: "+$key$jscomp$53$$);return{name:$match$jscomp$4$$[1]||$match$jscomp$4$$[0],argList:$match$jscomp$4$$[2]||""}}
function $variableServiceFor$$module$extensions$amp_analytics$0_1$variables$$($win$jscomp$58$$){return $getService$$module$src$service$$($win$jscomp$58$$,"amp-analytics-variables")}
function $getConsentStateStr$$module$extensions$amp_analytics$0_1$variables$$($element$jscomp$64$$){return $getConsentPolicyState$$module$src$consent$$($element$jscomp$64$$).then(function($element$jscomp$64$$){return $element$jscomp$64$$?$EXTERNAL_CONSENT_POLICY_STATE_STRING$$module$extensions$amp_analytics$0_1$variables$$[$element$jscomp$64$$]:null})};function $AnalyticsConfig$$module$extensions$amp_analytics$0_1$config$$($element$jscomp$65$$){this.$element_$=$element$jscomp$65$$;this.$win_$=null;this.$predefinedConfig_$=$ANALYTICS_CONFIG$$module$extensions$amp_analytics$0_1$vendors$$;this.$config_$={};this.$remoteConfig_$={};this.$isSandbox_$=!1}$JSCompiler_prototypeAlias$$=$AnalyticsConfig$$module$extensions$amp_analytics$0_1$config$$.prototype;
$JSCompiler_prototypeAlias$$.loadConfig=function(){var $$jscomp$this$jscomp$3$$=this;this.$win_$=this.$element_$.ownerDocument.defaultView;this.$isSandbox_$=this.$element_$.hasAttribute("sandbox");return $JSCompiler_StaticMethods_fetchRemoteConfig_$$(this).then(this.$processConfigs_$.bind(this)).then(function(){return $$jscomp$this$jscomp$3$$.$config_$})};
function $JSCompiler_StaticMethods_fetchRemoteConfig_$$($JSCompiler_StaticMethods_fetchRemoteConfig_$self$$){var $remoteConfigUrl$$=$JSCompiler_StaticMethods_fetchRemoteConfig_$self$$.$element_$.getAttribute("config");if(!$remoteConfigUrl$$||$JSCompiler_StaticMethods_fetchRemoteConfig_$self$$.$isSandbox_$)return Promise.resolve();$assertHttpsUrl$$module$src$url$$($remoteConfigUrl$$,$JSCompiler_StaticMethods_fetchRemoteConfig_$self$$.$element_$);var $TAG$$=$JSCompiler_StaticMethods_fetchRemoteConfig_$self$$.$getName_$(),
$fetchConfig$$={requireAmpResponseSourceOrigin:!1};$JSCompiler_StaticMethods_fetchRemoteConfig_$self$$.$element_$.hasAttribute("data-credentials")&&($fetchConfig$$.credentials=$JSCompiler_StaticMethods_fetchRemoteConfig_$self$$.$element_$.getAttribute("data-credentials"));return $Services$$module$src$services$urlReplacementsForDoc$$($JSCompiler_StaticMethods_fetchRemoteConfig_$self$$.$element_$).expandUrlAsync($remoteConfigUrl$$).then(function($TAG$$){$remoteConfigUrl$$=$TAG$$;return $getService$$module$src$service$$($JSCompiler_StaticMethods_fetchRemoteConfig_$self$$.$win_$,
"xhr").fetchJson($remoteConfigUrl$$,$fetchConfig$$)}).then(function($JSCompiler_StaticMethods_fetchRemoteConfig_$self$$){return $JSCompiler_StaticMethods_fetchRemoteConfig_$self$$.json()}).then(function($remoteConfigUrl$$){$JSCompiler_StaticMethods_fetchRemoteConfig_$self$$.$remoteConfig_$=$remoteConfigUrl$$},function($JSCompiler_StaticMethods_fetchRemoteConfig_$self$$){$user$$module$src$log$$().error($TAG$$,"Error loading remote config: ",$remoteConfigUrl$$,$JSCompiler_StaticMethods_fetchRemoteConfig_$self$$)})}
$JSCompiler_prototypeAlias$$.$processConfigs_$=function(){var $configRewriterUrl$$=($JSCompiler_StaticMethods_getTypeConfig_$$(this).configRewriter||{}).url,$config$jscomp$3$$=$dict$$module$src$utils$object$$({}),$inlineConfig$$=this.getInlineConfigNoInline(),$JSCompiler_inlineConfig$jscomp$inline_201$$=$inlineConfig$$,$JSCompiler_TAG$jscomp$inline_203_JSCompiler_type$jscomp$inline_202$$=this.$element_$.getAttribute("type");this.$predefinedConfig_$[$JSCompiler_TAG$jscomp$inline_203_JSCompiler_type$jscomp$inline_202$$]&&
($JSCompiler_inlineConfig$jscomp$inline_201$$.transport||this.$remoteConfig_$.transport)&&($JSCompiler_TAG$jscomp$inline_203_JSCompiler_type$jscomp$inline_202$$=this.$getName_$(),$user$$module$src$log$$().error($JSCompiler_TAG$jscomp$inline_203_JSCompiler_type$jscomp$inline_202$$,"Inline or remote config should not overwrite vendor transport settings"));$JSCompiler_inlineConfig$jscomp$inline_201$$.transport&&$JSCompiler_inlineConfig$jscomp$inline_201$$.transport.iframe&&($user$$module$src$log$$().error("amp-analytics/config",
"Inline configs are not allowed to specify transport iframe"),!$getMode$$module$src$mode$$().localDev||$getMode$$module$src$mode$$().test)&&($JSCompiler_inlineConfig$jscomp$inline_201$$.transport.iframe=void 0);this.$remoteConfig_$.transport&&this.$remoteConfig_$.transport.iframe&&($user$$module$src$log$$().error("amp-analytics/config","Remote configs are not allowed to specify transport iframe"),this.$remoteConfig_$.transport.iframe=void 0);$mergeObjects$$module$extensions$amp_analytics$0_1$config$$($inlineConfig$$,
$config$jscomp$3$$);$mergeObjects$$module$extensions$amp_analytics$0_1$config$$(this.$remoteConfig_$,$config$jscomp$3$$);return!$configRewriterUrl$$||this.$isSandbox_$?(this.$config_$=$JSCompiler_StaticMethods_mergeConfigs_$$(this,$config$jscomp$3$$),Promise.resolve()):$JSCompiler_StaticMethods_handleConfigRewriter_$$(this,$config$jscomp$3$$,$configRewriterUrl$$)};
function $JSCompiler_StaticMethods_handleConfigRewriter_$$($JSCompiler_StaticMethods_handleConfigRewriter_$self$$,$config$jscomp$4$$,$configRewriterUrl$jscomp$1$$){$assertHttpsUrl$$module$src$url$$($configRewriterUrl$jscomp$1$$,$JSCompiler_StaticMethods_handleConfigRewriter_$self$$.$element_$);var $TAG$jscomp$1$$=$JSCompiler_StaticMethods_handleConfigRewriter_$self$$.$getName_$();return $JSCompiler_StaticMethods_handleVarGroups_$$($JSCompiler_StaticMethods_handleConfigRewriter_$self$$,$config$jscomp$4$$).then(function(){var $fetchConfig$jscomp$1$$=
{method:"POST",body:$config$jscomp$4$$,requireAmpResponseSourceOrigin:!1};$JSCompiler_StaticMethods_handleConfigRewriter_$self$$.$element_$.hasAttribute("data-credentials")&&($fetchConfig$jscomp$1$$.credentials=$JSCompiler_StaticMethods_handleConfigRewriter_$self$$.$element_$.getAttribute("data-credentials"));return $Services$$module$src$services$urlReplacementsForDoc$$($JSCompiler_StaticMethods_handleConfigRewriter_$self$$.$element_$).expandUrlAsync($configRewriterUrl$jscomp$1$$).then(function($config$jscomp$4$$){return $getService$$module$src$service$$($JSCompiler_StaticMethods_handleConfigRewriter_$self$$.$win_$,
"xhr").fetchJson($config$jscomp$4$$,$fetchConfig$jscomp$1$$)}).then(function($JSCompiler_StaticMethods_handleConfigRewriter_$self$$){return $JSCompiler_StaticMethods_handleConfigRewriter_$self$$.json()}).then(function($config$jscomp$4$$){$JSCompiler_StaticMethods_handleConfigRewriter_$self$$.$config_$=$JSCompiler_StaticMethods_mergeConfigs_$$($JSCompiler_StaticMethods_handleConfigRewriter_$self$$,$config$jscomp$4$$)},function($JSCompiler_StaticMethods_handleConfigRewriter_$self$$){$user$$module$src$log$$().error($TAG$jscomp$1$$,
"Error rewriting configuration: ",$configRewriterUrl$jscomp$1$$,$JSCompiler_StaticMethods_handleConfigRewriter_$self$$)})})}
function $JSCompiler_StaticMethods_handleVarGroups_$$($JSCompiler_StaticMethods_handleVarGroups_$self$$,$pubConfig$$){var $pubRewriterConfig$$=$pubConfig$$.configRewriter,$pubVarGroups$$=$pubRewriterConfig$$&&$pubRewriterConfig$$.varGroups,$vendorVarGroups$$=($JSCompiler_StaticMethods_getTypeConfig_$$($JSCompiler_StaticMethods_handleVarGroups_$self$$).configRewriter||{}).varGroups;if(!$pubVarGroups$$&&!$vendorVarGroups$$)return Promise.resolve();if($pubVarGroups$$&&!$vendorVarGroups$$){var $TAG$jscomp$2$$=
$JSCompiler_StaticMethods_handleVarGroups_$self$$.$getName_$();$user$$module$src$log$$().warn($TAG$jscomp$2$$,"This analytics provider does not currently support varGroups");return Promise.resolve()}$pubConfig$$.configRewriter=$pubConfig$$.configRewriter||{};var $rewriterConfig$$=$pubConfig$$.configRewriter;$rewriterConfig$$.vars=$dict$$module$src$utils$object$$({});var $allPromises$$=[],$mergedConfig$$=$pubVarGroups$$||{};$deepMerge$$module$src$utils$object$$($mergedConfig$$,$vendorVarGroups$$);
Object.keys($mergedConfig$$).forEach(function($pubConfig$$){var $pubRewriterConfig$$=$mergedConfig$$[$pubConfig$$];if($pubRewriterConfig$$.enabled){var $pubVarGroups$$=$JSCompiler_StaticMethods_handleVarGroups_$self$$.shallowExpandObject($JSCompiler_StaticMethods_handleVarGroups_$self$$.$element_$,$pubRewriterConfig$$).then(function($JSCompiler_StaticMethods_handleVarGroups_$self$$){delete $JSCompiler_StaticMethods_handleVarGroups_$self$$.enabled;Object.assign($rewriterConfig$$.vars,$JSCompiler_StaticMethods_handleVarGroups_$self$$)});
$allPromises$$.push($pubVarGroups$$)}});return Promise.all($allPromises$$).then(function(){if(!Object.keys($rewriterConfig$$.vars).length)return delete $pubConfig$$.configRewriter;$pubVarGroups$$&&delete $rewriterConfig$$.varGroups})}
function $JSCompiler_StaticMethods_mergeConfigs_$$($JSCompiler_StaticMethods_mergeConfigs_$self$$,$rewrittenConfig$$){var $config$jscomp$5$$=$dict$$module$src$utils$object$$({vars:{requestCount:0}}),$defaultConfig$$=$JSCompiler_StaticMethods_mergeConfigs_$self$$.$predefinedConfig_$["default"]||{};$mergeObjects$$module$extensions$amp_analytics$0_1$config$$($expandConfigRequest$$module$extensions$amp_analytics$0_1$config$$($defaultConfig$$),$config$jscomp$5$$);$mergeObjects$$module$extensions$amp_analytics$0_1$config$$($expandConfigRequest$$module$extensions$amp_analytics$0_1$config$$($JSCompiler_StaticMethods_getTypeConfig_$$($JSCompiler_StaticMethods_mergeConfigs_$self$$)),
$config$jscomp$5$$,!0);$mergeObjects$$module$extensions$amp_analytics$0_1$config$$($expandConfigRequest$$module$extensions$amp_analytics$0_1$config$$($rewrittenConfig$$),$config$jscomp$5$$,!0);return $config$jscomp$5$$}
function $JSCompiler_StaticMethods_getTypeConfig_$$($JSCompiler_StaticMethods_getTypeConfig_$self$$){var $type$jscomp$136$$=$JSCompiler_StaticMethods_getTypeConfig_$self$$.$element_$.getAttribute("type");return $JSCompiler_StaticMethods_getTypeConfig_$self$$.$predefinedConfig_$[$type$jscomp$136$$]||{}}
$JSCompiler_prototypeAlias$$.getInlineConfigNoInline=function(){if(this.$element_$.CONFIG)return this.$element_$.CONFIG;var $inlineConfig$jscomp$1$$={},$TAG$jscomp$3$$=this.$getName_$();try{var $children$jscomp$127$$=this.$element_$.children;if(1==$children$jscomp$127$$.length){var $JSCompiler_parent$jscomp$inline_460$$=this.$element_$;/^[\w-]+$/.test("script");var $JSCompiler_inline_result$jscomp$419$$=(void 0!==$scopeSelectorSupported$$module$src$css$$?$scopeSelectorSupported$$module$src$css$$:
$scopeSelectorSupported$$module$src$css$$=$testScopeSelector$$module$src$css$$($JSCompiler_parent$jscomp$inline_460$$))?$JSCompiler_parent$jscomp$inline_460$$.querySelectorAll("> script".replace(/^|,/g,"$&:scope ")):$scopedQuerySelectionFallback$$module$src$dom$$($JSCompiler_parent$jscomp$inline_460$$,"> script");if(1!==$JSCompiler_inline_result$jscomp$419$$.length)throw Error("Found "+$JSCompiler_inline_result$jscomp$419$$.length+" <script> children. Expected 1.");var $JSCompiler_script$jscomp$inline_207$$=
$JSCompiler_inline_result$jscomp$419$$[0];if("SCRIPT"!=$JSCompiler_script$jscomp$inline_207$$.tagName||!$JSCompiler_script$jscomp$inline_207$$.hasAttribute("type")||"APPLICATION/JSON"!=$JSCompiler_script$jscomp$inline_207$$.getAttribute("type").toUpperCase())throw Error('<script> child must have type="application/json"');try{$inlineConfig$jscomp$1$$=JSON.parse($JSCompiler_script$jscomp$inline_207$$.textContent)}catch($JSCompiler_unusedError$jscomp$inline_208$$){throw Error("Failed to parse <script> contents. Is it valid JSON?");
}}else 1<$children$jscomp$127$$.length&&$user$$module$src$log$$().error($TAG$jscomp$3$$,"The tag should contain only one <script> child.")}catch($er$$){$user$$module$src$log$$().error($TAG$jscomp$3$$,$er$$.message)}return $inlineConfig$jscomp$1$$};$JSCompiler_prototypeAlias$$.$getName_$=function(){return"AmpAnalytics "+(this.$element_$.getAttribute("id")||"<unknown id>")};
$JSCompiler_prototypeAlias$$.shallowExpandObject=function($element$jscomp$66$$,$obj$jscomp$31$$){var $$jscomp$this$jscomp$7$$=this,$expandedObj$$={},$keys$jscomp$1$$=[],$expansionPromises$$=[];Object.keys($obj$jscomp$31$$).forEach(function($expandedObj$$){$keys$jscomp$1$$.push($expandedObj$$);var $key$jscomp$55$$=$Services$$module$src$services$urlReplacementsForDoc$$($element$jscomp$66$$).expandStringAsync($obj$jscomp$31$$[$expandedObj$$],$variableServiceFor$$module$extensions$amp_analytics$0_1$variables$$($$jscomp$this$jscomp$7$$.$win_$).getMacros());
$expansionPromises$$.push($key$jscomp$55$$)});return Promise.all($expansionPromises$$).then(function($element$jscomp$66$$){$keys$jscomp$1$$.forEach(function($obj$jscomp$31$$,$$jscomp$this$jscomp$7$$){return $expandedObj$$[$obj$jscomp$31$$]=$element$jscomp$66$$[$$jscomp$this$jscomp$7$$]});return $expandedObj$$})};
function $mergeObjects$$module$extensions$amp_analytics$0_1$config$$($from$jscomp$1$$,$to$jscomp$1$$,$opt_predefinedConfig$$){if(null===$to$jscomp$1$$||void 0===$to$jscomp$1$$)$to$jscomp$1$$={};$userAssert$$module$src$log$$($opt_predefinedConfig$$||!$from$jscomp$1$$||!$from$jscomp$1$$.optout||"_gaUserPrefs.ioo"==$from$jscomp$1$$.optout||"__gaOptOutExtension"==$from$jscomp$1$$.optoutElementId,"optout property is only available to vendor config.");for(var $property$jscomp$4$$ in $from$jscomp$1$$)$userAssert$$module$src$log$$($opt_predefinedConfig$$||
"iframePing"!=$property$jscomp$4$$,"iframePing config is only available to vendor config."),$hasOwn$$module$src$utils$object$$($from$jscomp$1$$,$property$jscomp$4$$)&&(Array.isArray($from$jscomp$1$$[$property$jscomp$4$$])?(Array.isArray($to$jscomp$1$$[$property$jscomp$4$$])||($to$jscomp$1$$[$property$jscomp$4$$]=[]),$to$jscomp$1$$[$property$jscomp$4$$]=$mergeObjects$$module$extensions$amp_analytics$0_1$config$$($from$jscomp$1$$[$property$jscomp$4$$],$to$jscomp$1$$[$property$jscomp$4$$],$opt_predefinedConfig$$)):
$isObject$$module$src$types$$($from$jscomp$1$$[$property$jscomp$4$$])?($isObject$$module$src$types$$($to$jscomp$1$$[$property$jscomp$4$$])||($to$jscomp$1$$[$property$jscomp$4$$]={}),$to$jscomp$1$$[$property$jscomp$4$$]=$mergeObjects$$module$extensions$amp_analytics$0_1$config$$($from$jscomp$1$$[$property$jscomp$4$$],$to$jscomp$1$$[$property$jscomp$4$$],$opt_predefinedConfig$$)):$to$jscomp$1$$[$property$jscomp$4$$]=$from$jscomp$1$$[$property$jscomp$4$$]);return $to$jscomp$1$$}
function $expandConfigRequest$$module$extensions$amp_analytics$0_1$config$$($config$jscomp$6$$){if(!$config$jscomp$6$$.requests)return $config$jscomp$6$$;for(var $k$jscomp$4$$ in $config$jscomp$6$$.requests)if($hasOwn$$module$src$utils$object$$($config$jscomp$6$$.requests,$k$jscomp$4$$)){var $JSCompiler_temp_const$jscomp$64$$=$config$jscomp$6$$.requests;var $JSCompiler_inline_result$jscomp$65_JSCompiler_request$jscomp$inline_210$$=$config$jscomp$6$$.requests[$k$jscomp$4$$];$JSCompiler_inline_result$jscomp$65_JSCompiler_request$jscomp$inline_210$$=
$isObject$$module$src$types$$($JSCompiler_inline_result$jscomp$65_JSCompiler_request$jscomp$inline_210$$)?$JSCompiler_inline_result$jscomp$65_JSCompiler_request$jscomp$inline_210$$:{baseUrl:$JSCompiler_inline_result$jscomp$65_JSCompiler_request$jscomp$inline_210$$};$JSCompiler_temp_const$jscomp$64$$[$k$jscomp$4$$]=$JSCompiler_inline_result$jscomp$65_JSCompiler_request$jscomp$inline_210$$}return $config$jscomp$6$$};function $Observable$$module$src$observable$$(){this.$handlers_$=null}$JSCompiler_prototypeAlias$$=$Observable$$module$src$observable$$.prototype;$JSCompiler_prototypeAlias$$.add=function($handler$jscomp$4$$){var $$jscomp$this$jscomp$8$$=this;this.$handlers_$||(this.$handlers_$=[]);this.$handlers_$.push($handler$jscomp$4$$);return function(){$$jscomp$this$jscomp$8$$.remove($handler$jscomp$4$$)}};
$JSCompiler_prototypeAlias$$.remove=function($handler$jscomp$5_index$jscomp$72$$){this.$handlers_$&&($handler$jscomp$5_index$jscomp$72$$=this.$handlers_$.indexOf($handler$jscomp$5_index$jscomp$72$$),-1<$handler$jscomp$5_index$jscomp$72$$&&this.$handlers_$.splice($handler$jscomp$5_index$jscomp$72$$,1))};$JSCompiler_prototypeAlias$$.removeAll=function(){this.$handlers_$&&(this.$handlers_$.length=0)};
$JSCompiler_prototypeAlias$$.fire=function($opt_event$$){if(this.$handlers_$)for(var $handlers$$=this.$handlers_$,$i$jscomp$24$$=0;$i$jscomp$24$$<$handlers$$.length;$i$jscomp$24$$++)(0,$handlers$$[$i$jscomp$24$$])($opt_event$$)};$JSCompiler_prototypeAlias$$.getHandlerCount=function(){return this.$handlers_$?this.$handlers_$.length:0};var $VideoAnalyticsEvents$$module$src$video_interface$$={ENDED:"video-ended",PAUSE:"video-pause",PLAY:"video-play",SESSION:"video-session",SESSION_VISIBLE:"video-session-visible",SECONDS_PLAYED:"video-seconds-played",CUSTOM:"video-hosted-custom",PERCENTAGE_PLAYED:"video-percentage-played"};var $VARIABLE_DATA_ATTRIBUTE_KEY$$module$extensions$amp_analytics$0_1$events$$=/^vars(.+)/;function $NO_UNLISTEN$$module$extensions$amp_analytics$0_1$events$$(){}
var $AnalyticsEventType$$module$extensions$amp_analytics$0_1$events$$={VISIBLE:"visible",CLICK:"click",TIMER:"timer",SCROLL:"scroll",HIDDEN:"hidden"},$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$=["ampdoc","embed"],$TRACKER_TYPE$$module$extensions$amp_analytics$0_1$events$$=Object.freeze({click:{name:"click",allowedFor:$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$.concat(["timer"]),klass:function($root$jscomp$7$$){return new $ClickEventTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$7$$)}},
scroll:{name:"scroll",allowedFor:$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$.concat(["timer"]),klass:function($root$jscomp$8$$){return new $ScrollEventTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$8$$)}},custom:{name:"custom",allowedFor:$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$.concat(["timer"]),klass:function($root$jscomp$9$$){return new $CustomEventTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$9$$)}},
"render-start":{name:"render-start",allowedFor:$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$.concat(["timer","visible"]),klass:function($root$jscomp$10$$){return new $SignalTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$10$$)}},"ini-load":{name:"ini-load",allowedFor:$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$.concat(["timer","visible"]),klass:function($root$jscomp$11$$){return new $IniLoadTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$11$$)}},
timer:{name:"timer",allowedFor:$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$,klass:function($root$jscomp$12$$){return new $TimerEventTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$12$$)}},visible:{name:"visible",allowedFor:$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$.concat(["timer"]),klass:function($root$jscomp$13$$){return new $VisibilityTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$13$$)}},hidden:{name:"visible",
allowedFor:$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$.concat(["timer"]),klass:function($root$jscomp$14$$){return new $VisibilityTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$14$$)}},video:{name:"video",allowedFor:$ALLOWED_FOR_ALL_ROOT_TYPES$$module$extensions$amp_analytics$0_1$events$$.concat(["timer"]),klass:function($root$jscomp$15$$){return new $VideoEventTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$15$$)}}});
function $getTrackerKeyName$$module$extensions$amp_analytics$0_1$events$$($eventType$jscomp$7$$){return $startsWith$$module$src$string$$($eventType$jscomp$7$$,"video")?"video":$TRACKER_TYPE$$module$extensions$amp_analytics$0_1$events$$[$eventType$jscomp$7$$]||$isEnumValue$$module$src$types$$($eventType$jscomp$7$$)?$hasOwn$$module$src$utils$object$$($TRACKER_TYPE$$module$extensions$amp_analytics$0_1$events$$,$eventType$jscomp$7$$)?$TRACKER_TYPE$$module$extensions$amp_analytics$0_1$events$$[$eventType$jscomp$7$$].name:
$eventType$jscomp$7$$:"custom"}
function $getTrackerTypesForParentType$$module$extensions$amp_analytics$0_1$events$$($parentType$$){var $filtered$$={};Object.keys($TRACKER_TYPE$$module$extensions$amp_analytics$0_1$events$$).forEach(function($key$jscomp$57$$){$hasOwn$$module$src$utils$object$$($TRACKER_TYPE$$module$extensions$amp_analytics$0_1$events$$,$key$jscomp$57$$)&&-1!=$TRACKER_TYPE$$module$extensions$amp_analytics$0_1$events$$[$key$jscomp$57$$].allowedFor.indexOf($parentType$$)&&($filtered$$[$key$jscomp$57$$]=$TRACKER_TYPE$$module$extensions$amp_analytics$0_1$events$$[$key$jscomp$57$$].klass)},
this);return $filtered$$}function $AnalyticsEvent$$module$extensions$amp_analytics$0_1$events$$($target$jscomp$87$$,$type$jscomp$138$$,$opt_vars$$){this.target=$target$jscomp$87$$;this.type=$type$jscomp$138$$;this.vars=$opt_vars$$||{}}function $EventTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$16$$){this.root=$root$jscomp$16$$}$EventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.dispose=function(){};
$EventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.add=function(){};function $CustomEventTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$17$$){this.root=$root$jscomp$17$$;var $$jscomp$this$jscomp$9$$=this;this.$observables_$={};this.$buffer_$={};this.$sandboxBuffer_$={};setTimeout(function(){$$jscomp$this$jscomp$9$$.$buffer_$=void 0},1E4)}$$jscomp$inherits$$($CustomEventTracker$$module$extensions$amp_analytics$0_1$events$$,$EventTracker$$module$extensions$amp_analytics$0_1$events$$);
$CustomEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.dispose=function(){this.$sandboxBuffer_$=this.$buffer_$=void 0;for(var $k$jscomp$5$$ in this.$observables_$)this.$observables_$[$k$jscomp$5$$].removeAll()};
$CustomEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.add=function($context$jscomp$1$$,$eventType$jscomp$8$$,$config$jscomp$7$$,$listener$jscomp$65$$){var $$jscomp$this$jscomp$10$$=this,$selector$jscomp$7$$=$config$jscomp$7$$.selector;$selector$jscomp$7$$||($selector$jscomp$7$$=":root");var $selectionMethod$$=$config$jscomp$7$$.selectionMethod||null,$targetReady$$=this.root.getElement($context$jscomp$1$$,$selector$jscomp$7$$,$selectionMethod$$),$isSandboxEvent$$=$startsWith$$module$src$string$$($eventType$jscomp$8$$,
"sandbox-"),$buffer$jscomp$15$$=$isSandboxEvent$$?this.$sandboxBuffer_$&&this.$sandboxBuffer_$[$eventType$jscomp$8$$]:this.$buffer_$&&this.$buffer_$[$eventType$jscomp$8$$];if($buffer$jscomp$15$$){var $bufferLength$$=$buffer$jscomp$15$$.length;$targetReady$$.then(function($context$jscomp$1$$){setTimeout(function(){for(var $config$jscomp$7$$=0;$config$jscomp$7$$<$bufferLength$$;$config$jscomp$7$$++){var $selector$jscomp$7$$=$buffer$jscomp$15$$[$config$jscomp$7$$];$context$jscomp$1$$.contains($selector$jscomp$7$$.target)&&
$listener$jscomp$65$$($selector$jscomp$7$$)}$isSandboxEvent$$&&($$jscomp$this$jscomp$10$$.$sandboxBuffer_$[$eventType$jscomp$8$$]=void 0)},1)})}var $observables$$=this.$observables_$[$eventType$jscomp$8$$];$observables$$||($observables$$=new $Observable$$module$src$observable$$,this.$observables_$[$eventType$jscomp$8$$]=$observables$$);return this.$observables_$[$eventType$jscomp$8$$].add(function($context$jscomp$1$$){$targetReady$$.then(function($eventType$jscomp$8$$){$eventType$jscomp$8$$.contains($context$jscomp$1$$.target)&&
$listener$jscomp$65$$($context$jscomp$1$$)})})};
$CustomEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.trigger=function($event$jscomp$11$$){var $eventType$jscomp$9$$=$event$jscomp$11$$.type,$isSandboxEvent$jscomp$1$$=$startsWith$$module$src$string$$($eventType$jscomp$9$$,"sandbox-"),$observables$jscomp$1$$=this.$observables_$[$eventType$jscomp$9$$];if($observables$jscomp$1$$&&($observables$jscomp$1$$.fire($event$jscomp$11$$),$isSandboxEvent$jscomp$1$$))return;$isSandboxEvent$jscomp$1$$?(this.$sandboxBuffer_$[$eventType$jscomp$9$$]=
this.$sandboxBuffer_$[$eventType$jscomp$9$$]||[],this.$sandboxBuffer_$[$eventType$jscomp$9$$].push($event$jscomp$11$$)):this.$buffer_$&&(this.$buffer_$[$eventType$jscomp$9$$]=this.$buffer_$[$eventType$jscomp$9$$]||[],this.$buffer_$[$eventType$jscomp$9$$].push($event$jscomp$11$$))};
function $ClickEventTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$18$$){this.root=$root$jscomp$18$$;this.$clickObservable_$=new $Observable$$module$src$observable$$;this.$boundOnClick_$=this.$clickObservable_$.fire.bind(this.$clickObservable_$);this.root.getRoot().addEventListener("click",this.$boundOnClick_$)}$$jscomp$inherits$$($ClickEventTracker$$module$extensions$amp_analytics$0_1$events$$,$EventTracker$$module$extensions$amp_analytics$0_1$events$$);
$ClickEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.dispose=function(){this.root.getRoot().removeEventListener("click",this.$boundOnClick_$);this.$clickObservable_$.removeAll()};
$ClickEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.add=function($context$jscomp$2$$,$eventType$jscomp$10_selector$jscomp$8$$,$config$jscomp$8_selectionMethod$jscomp$1$$,$listener$jscomp$66$$){$eventType$jscomp$10_selector$jscomp$8$$=$userAssert$$module$src$log$$($config$jscomp$8_selectionMethod$jscomp$1$$.selector,"Missing required selector on click trigger");$config$jscomp$8_selectionMethod$jscomp$1$$=$config$jscomp$8_selectionMethod$jscomp$1$$.selectionMethod||null;return this.$clickObservable_$.add(this.root.createSelectiveListener(this.$handleClick_$.bind(this,
$listener$jscomp$66$$),$context$jscomp$2$$.parentElement||$context$jscomp$2$$,$eventType$jscomp$10_selector$jscomp$8$$,$config$jscomp$8_selectionMethod$jscomp$1$$))};
$ClickEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.$handleClick_$=function($listener$jscomp$67$$,$target$jscomp$90$$){var $params$jscomp$8$$=$getDataParamsFromAttributes$$module$src$dom$$($target$jscomp$90$$);$listener$jscomp$67$$(new $AnalyticsEvent$$module$extensions$amp_analytics$0_1$events$$($target$jscomp$90$$,"click",$params$jscomp$8$$))};
function $ScrollEventTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$19$$){this.$root_$=this.root=$root$jscomp$19$$;this.$boundScrollHandler_$=null}$$jscomp$inherits$$($ScrollEventTracker$$module$extensions$amp_analytics$0_1$events$$,$EventTracker$$module$extensions$amp_analytics$0_1$events$$);
$ScrollEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.dispose=function(){null!==this.$boundScrollHandler_$&&(this.$root_$.getScrollManager().removeScrollHandler(this.$boundScrollHandler_$),this.$boundScrollHandler_$=null)};
$ScrollEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.add=function($context$jscomp$3$$,$eventType$jscomp$11$$,$config$jscomp$9$$,$listener$jscomp$68$$){if(!$config$jscomp$9$$.scrollSpec)return $user$$module$src$log$$().error("amp-analytics/events","Missing scrollSpec on scroll trigger."),$NO_UNLISTEN$$module$extensions$amp_analytics$0_1$events$$;if(!Array.isArray($config$jscomp$9$$.scrollSpec.verticalBoundaries)&&!Array.isArray($config$jscomp$9$$.scrollSpec.horizontalBoundaries))return $user$$module$src$log$$().error("amp-analytics/events",
"Boundaries are required for the scroll trigger to work."),$NO_UNLISTEN$$module$extensions$amp_analytics$0_1$events$$;var $boundsV$$=$JSCompiler_StaticMethods_normalizeBoundaries_$$($config$jscomp$9$$.scrollSpec.verticalBoundaries),$boundsH$$=$JSCompiler_StaticMethods_normalizeBoundaries_$$($config$jscomp$9$$.scrollSpec.horizontalBoundaries);this.$boundScrollHandler_$=this.$scrollHandler_$.bind(this,$boundsV$$,$boundsH$$,$listener$jscomp$68$$);return this.$root_$.getScrollManager().addScrollHandler(this.$boundScrollHandler_$)};
$ScrollEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.$scrollHandler_$=function($boundsV$jscomp$1$$,$boundsH$jscomp$1$$,$listener$jscomp$69$$,$e$jscomp$19$$){$JSCompiler_StaticMethods_triggerScrollEvents_$$(this,$boundsV$jscomp$1$$,100*($e$jscomp$19$$.top+$e$jscomp$19$$.height)/$e$jscomp$19$$.scrollHeight,"verticalScrollBoundary",$listener$jscomp$69$$);$JSCompiler_StaticMethods_triggerScrollEvents_$$(this,$boundsH$jscomp$1$$,100*($e$jscomp$19$$.left+$e$jscomp$19$$.width)/$e$jscomp$19$$.scrollWidth,
"horizontalScrollBoundary",$listener$jscomp$69$$)};
function $JSCompiler_StaticMethods_normalizeBoundaries_$$($bounds$$){var $result$jscomp$1$$=$dict$$module$src$utils$object$$({});if(!$bounds$$||!Array.isArray($bounds$$))return $result$jscomp$1$$;for(var $b$jscomp$3$$=0;$b$jscomp$3$$<$bounds$$.length;$b$jscomp$3$$++){var $bound$jscomp$2$$=$bounds$$[$b$jscomp$3$$];if("number"!==typeof $bound$jscomp$2$$||!isFinite($bound$jscomp$2$$)){$user$$module$src$log$$().error("amp-analytics/events","Scroll trigger boundaries must be finite.");break}$bound$jscomp$2$$=
Math.min(5*Math.round($bound$jscomp$2$$/5),100);$result$jscomp$1$$[$bound$jscomp$2$$]=!1}return $result$jscomp$1$$}
function $JSCompiler_StaticMethods_triggerScrollEvents_$$($JSCompiler_StaticMethods_triggerScrollEvents_$self$$,$bounds$jscomp$1$$,$scrollPos$$,$varName$jscomp$1$$,$listener$jscomp$70$$){if($scrollPos$$)for(var $b$jscomp$4$$ in $bounds$jscomp$1$$)if($hasOwn$$module$src$utils$object$$($bounds$jscomp$1$$,$b$jscomp$4$$)){var $bound$jscomp$3_vars$jscomp$1$$=parseInt($b$jscomp$4$$,10);$bound$jscomp$3_vars$jscomp$1$$>$scrollPos$$||$bounds$jscomp$1$$[$bound$jscomp$3_vars$jscomp$1$$]||($bounds$jscomp$1$$[$bound$jscomp$3_vars$jscomp$1$$]=
!0,$bound$jscomp$3_vars$jscomp$1$$={},$bound$jscomp$3_vars$jscomp$1$$[$varName$jscomp$1$$]=$b$jscomp$4$$,$listener$jscomp$70$$(new $AnalyticsEvent$$module$extensions$amp_analytics$0_1$events$$($JSCompiler_StaticMethods_triggerScrollEvents_$self$$.$root_$.getRootElement(),"scroll",$bound$jscomp$3_vars$jscomp$1$$)))}}function $SignalTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$20$$){this.root=$root$jscomp$20$$}
$$jscomp$inherits$$($SignalTracker$$module$extensions$amp_analytics$0_1$events$$,$EventTracker$$module$extensions$amp_analytics$0_1$events$$);$SignalTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.dispose=function(){};
$SignalTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.add=function($context$jscomp$4$$,$eventType$jscomp$12$$,$config$jscomp$10$$,$listener$jscomp$71$$){var $$jscomp$this$jscomp$11$$=this,$selector$jscomp$9$$=$config$jscomp$10$$.selector||":root";if(":root"==$selector$jscomp$9$$||":host"==$selector$jscomp$9$$){var $target$jscomp$91$$=this.root.getRootElement();var $signalsPromise$$=this.getRootSignal($eventType$jscomp$12$$)}else $signalsPromise$$=this.root.getAmpElement($context$jscomp$4$$.parentElement||
$context$jscomp$4$$,$selector$jscomp$9$$,$config$jscomp$10$$.selectionMethod).then(function($context$jscomp$4$$){$target$jscomp$91$$=$context$jscomp$4$$;return $$jscomp$this$jscomp$11$$.getElementSignal($eventType$jscomp$12$$,$target$jscomp$91$$)});$signalsPromise$$.then(function(){$listener$jscomp$71$$(new $AnalyticsEvent$$module$extensions$amp_analytics$0_1$events$$($target$jscomp$91$$,$eventType$jscomp$12$$))});return $NO_UNLISTEN$$module$extensions$amp_analytics$0_1$events$$};
$SignalTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.getRootSignal=function($eventType$jscomp$13$$){return this.root.signals().whenSignal($eventType$jscomp$13$$)};$SignalTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.getElementSignal=function($eventType$jscomp$14$$,$element$jscomp$69$$){return"function"!=typeof $element$jscomp$69$$.signals?Promise.resolve():$element$jscomp$69$$.signals().whenSignal($eventType$jscomp$14$$)};
function $IniLoadTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$21$$){this.root=$root$jscomp$21$$}$$jscomp$inherits$$($IniLoadTracker$$module$extensions$amp_analytics$0_1$events$$,$EventTracker$$module$extensions$amp_analytics$0_1$events$$);$IniLoadTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.dispose=function(){};
$IniLoadTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.add=function($context$jscomp$5_promise$jscomp$2$$,$eventType$jscomp$15$$,$config$jscomp$11$$,$listener$jscomp$72$$){var $$jscomp$this$jscomp$12$$=this,$selector$jscomp$10$$=$config$jscomp$11$$.selector||":root";if(":root"==$selector$jscomp$10$$||":host"==$selector$jscomp$10$$){var $target$jscomp$92$$=this.root.getRootElement();$context$jscomp$5_promise$jscomp$2$$=this.getRootSignal()}else $context$jscomp$5_promise$jscomp$2$$=
this.root.getAmpElement($context$jscomp$5_promise$jscomp$2$$.parentElement||$context$jscomp$5_promise$jscomp$2$$,$selector$jscomp$10$$,$config$jscomp$11$$.selectionMethod).then(function($context$jscomp$5_promise$jscomp$2$$){$target$jscomp$92$$=$context$jscomp$5_promise$jscomp$2$$;return $$jscomp$this$jscomp$12$$.getElementSignal("ini-load",$target$jscomp$92$$)});$context$jscomp$5_promise$jscomp$2$$.then(function(){$listener$jscomp$72$$(new $AnalyticsEvent$$module$extensions$amp_analytics$0_1$events$$($target$jscomp$92$$,
$eventType$jscomp$15$$))});return $NO_UNLISTEN$$module$extensions$amp_analytics$0_1$events$$};$IniLoadTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.getRootSignal=function(){return this.root.whenIniLoaded()};
$IniLoadTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.getElementSignal=function($unusedEventType$jscomp$3$$,$element$jscomp$71$$){if("function"!=typeof $element$jscomp$71$$.signals)return Promise.resolve();var $signals$$=$element$jscomp$71$$.signals();return Promise.race([$signals$$.whenSignal("ini-load"),$signals$$.whenSignal("load-end")])};
function $TimerEventHandler$$module$extensions$amp_analytics$0_1$events$$($timerSpec$$,$opt_startBuilder$$,$opt_stopBuilder$$){this.$intervalId_$=void 0;$userAssert$$module$src$log$$("interval"in $timerSpec$$,"Timer interval specification required");this.$intervalLength_$=Number($timerSpec$$.interval)||0;$userAssert$$module$src$log$$(.5<=this.$intervalLength_$,"Bad timer interval specification");this.$maxTimerLength_$="maxTimerLength"in $timerSpec$$?Number($timerSpec$$.maxTimerLength):7200;$userAssert$$module$src$log$$(0<
this.$maxTimerLength_$,"Bad maxTimerLength specification");this.$maxTimerInSpec_$="maxTimerLength"in $timerSpec$$;this.$callImmediate_$="immediate"in $timerSpec$$?!!$timerSpec$$.immediate:!0;this.$unlistenStop_$=this.$unlistenStart_$=this.$intervalCallback_$=null;this.$startBuilder_$=$opt_startBuilder$$||null;this.$stopBuilder_$=$opt_stopBuilder$$||null;this.$lastRequestTime_$=this.$startTime_$=void 0}$JSCompiler_prototypeAlias$$=$TimerEventHandler$$module$extensions$amp_analytics$0_1$events$$.prototype;
$JSCompiler_prototypeAlias$$.init=function($startTimer$$){this.$startBuilder_$?this.$startBuilder_$&&(this.$unlistenStart_$=this.$startBuilder_$()):$startTimer$$()};$JSCompiler_prototypeAlias$$.dispose=function(){this.$unlistenStop_$&&(this.$unlistenStop_$(),this.$unlistenStop_$=null);this.$unlistenStart_$&&(this.$unlistenStart_$(),this.$unlistenStart_$=null)};$JSCompiler_prototypeAlias$$.isRunning=function(){return!!this.$intervalId_$};
$JSCompiler_prototypeAlias$$.startIntervalInWindow=function($win$jscomp$59$$,$timerCallback$$,$timeoutCallback$$){if(!this.isRunning()&&(this.$startTime_$=Date.now(),this.$lastRequestTime_$=void 0,this.$intervalCallback_$=$timerCallback$$,this.$intervalId_$=$win$jscomp$59$$.setInterval(function(){$timerCallback$$()},1E3*this.$intervalLength_$),(!this.$stopBuilder_$||this.$stopBuilder_$&&this.$maxTimerInSpec_$)&&$win$jscomp$59$$.setTimeout(function(){$timeoutCallback$$()},1E3*this.$maxTimerLength_$),
this.$unlistenStart_$&&(this.$unlistenStart_$(),this.$unlistenStart_$=null),this.$callImmediate_$&&$timerCallback$$(),this.$stopBuilder_$))try{this.$unlistenStop_$=this.$stopBuilder_$()}catch($JSCompiler_e$jscomp$inline_231$$){throw this.dispose(),$JSCompiler_e$jscomp$inline_231$$;}};
$JSCompiler_prototypeAlias$$.$stopTimer_$=function($win$jscomp$60$$){this.isRunning()&&(this.$intervalCallback_$(),this.$intervalCallback_$=null,$win$jscomp$60$$.clearInterval(this.$intervalId_$),this.$lastRequestTime_$=this.$intervalId_$=void 0,this.$unlistenStop_$&&(this.$unlistenStop_$(),this.$unlistenStop_$=null),this.$startBuilder_$&&(this.$unlistenStart_$=this.$startBuilder_$()))};
$JSCompiler_prototypeAlias$$.getTimerVars=function(){var $timerDuration$$=0;this.isRunning()&&($timerDuration$$=this.$startTime_$?Date.now()-(this.$lastRequestTime_$||this.$startTime_$):0,this.$lastRequestTime_$=Date.now());return $dict$$module$src$utils$object$$({timerDuration:$timerDuration$$,timerStart:this.$startTime_$||0})};function $TimerEventTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$22$$){this.root=$root$jscomp$22$$;this.$trackers_$={};this.$timerIdSequence_$=1}
$$jscomp$inherits$$($TimerEventTracker$$module$extensions$amp_analytics$0_1$events$$,$EventTracker$$module$extensions$amp_analytics$0_1$events$$);$JSCompiler_prototypeAlias$$=$TimerEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype;$JSCompiler_prototypeAlias$$.getTrackedTimerKeys=function(){return Object.keys(this.$trackers_$)};$JSCompiler_prototypeAlias$$.dispose=function(){var $$jscomp$this$jscomp$13$$=this;this.getTrackedTimerKeys().forEach(function($timerId$$){$$jscomp$this$jscomp$13$$.$removeTracker_$($timerId$$)})};
$JSCompiler_prototypeAlias$$.add=function($context$jscomp$6$$,$eventType$jscomp$16$$,$config$jscomp$12_timerSpec$jscomp$1$$,$listener$jscomp$73$$){var $$jscomp$this$jscomp$14$$=this;$config$jscomp$12_timerSpec$jscomp$1$$=$config$jscomp$12_timerSpec$jscomp$1$$.timerSpec;$userAssert$$module$src$log$$($config$jscomp$12_timerSpec$jscomp$1$$&&"object"==typeof $config$jscomp$12_timerSpec$jscomp$1$$,"Bad timer specification");var $timerStart$$="startSpec"in $config$jscomp$12_timerSpec$jscomp$1$$?$config$jscomp$12_timerSpec$jscomp$1$$.startSpec:
null;$userAssert$$module$src$log$$(!$timerStart$$||"object"==typeof $timerStart$$,"Bad timer start specification");var $timerStop$$="stopSpec"in $config$jscomp$12_timerSpec$jscomp$1$$?$config$jscomp$12_timerSpec$jscomp$1$$.stopSpec:null;$userAssert$$module$src$log$$(!$timerStart$$&&!$timerStop$$||"object"==typeof $timerStop$$,"Bad timer stop specification");var $timerId$jscomp$1$$=++this.$timerIdSequence_$;if($timerStart$$){var $startTracker$$=$JSCompiler_StaticMethods_getTracker_$$(this,$timerStart$$);
$userAssert$$module$src$log$$($startTracker$$,"Cannot track timer start");var $startBuilder$$=$startTracker$$.add.bind($startTracker$$,$context$jscomp$6$$,$timerStart$$.on,$timerStart$$,this.$handleTimerToggle_$.bind(this,$timerId$jscomp$1$$,$eventType$jscomp$16$$,$listener$jscomp$73$$))}if($timerStop$$){var $stopTracker$$=$JSCompiler_StaticMethods_getTracker_$$(this,$timerStop$$);$userAssert$$module$src$log$$($stopTracker$$,"Cannot track timer stop");var $stopBuilder$$=$stopTracker$$.add.bind($stopTracker$$,
$context$jscomp$6$$,$timerStop$$.on,$timerStop$$,this.$handleTimerToggle_$.bind(this,$timerId$jscomp$1$$,$eventType$jscomp$16$$,$listener$jscomp$73$$))}var $timerHandler$$=new $TimerEventHandler$$module$extensions$amp_analytics$0_1$events$$($config$jscomp$12_timerSpec$jscomp$1$$,$startBuilder$$,$stopBuilder$$);this.$trackers_$[$timerId$jscomp$1$$]=$timerHandler$$;$timerHandler$$.init(this.$startTimer_$.bind(this,$timerId$jscomp$1$$,$eventType$jscomp$16$$,$listener$jscomp$73$$));return function(){$$jscomp$this$jscomp$14$$.$removeTracker_$($timerId$jscomp$1$$)}};
function $JSCompiler_StaticMethods_getTracker_$$($JSCompiler_StaticMethods_getTracker_$self$$,$config$jscomp$13_eventType$jscomp$17$$){$config$jscomp$13_eventType$jscomp$17$$=$user$$module$src$log$$().assertString($config$jscomp$13_eventType$jscomp$17$$.on);var $trackerKey$$=$getTrackerKeyName$$module$extensions$amp_analytics$0_1$events$$($config$jscomp$13_eventType$jscomp$17$$);return $JSCompiler_StaticMethods_getTracker_$self$$.root.getTrackerForWhitelist($trackerKey$$,$getTrackerTypesForParentType$$module$extensions$amp_analytics$0_1$events$$("timer"))}
$JSCompiler_prototypeAlias$$.$handleTimerToggle_$=function($timerId$jscomp$2$$,$eventType$jscomp$18$$,$listener$jscomp$74$$){var $timerHandler$jscomp$1$$=this.$trackers_$[$timerId$jscomp$2$$];$timerHandler$jscomp$1$$&&($timerHandler$jscomp$1$$.isRunning()?this.$stopTimer_$($timerId$jscomp$2$$):this.$startTimer_$($timerId$jscomp$2$$,$eventType$jscomp$18$$,$listener$jscomp$74$$))};
$JSCompiler_prototypeAlias$$.$startTimer_$=function($timerId$jscomp$3$$,$eventType$jscomp$19$$,$listener$jscomp$75$$){var $$jscomp$this$jscomp$15$$=this;this.$trackers_$[$timerId$jscomp$3$$].startIntervalInWindow(this.root.ampdoc.win,function(){var $JSCompiler_inline_result$jscomp$67$$=new $AnalyticsEvent$$module$extensions$amp_analytics$0_1$events$$($$jscomp$this$jscomp$15$$.root.getRootElement(),$eventType$jscomp$19$$,$$jscomp$this$jscomp$15$$.$trackers_$[$timerId$jscomp$3$$].getTimerVars());$listener$jscomp$75$$($JSCompiler_inline_result$jscomp$67$$)},
this.$removeTracker_$.bind(this,$timerId$jscomp$3$$))};$JSCompiler_prototypeAlias$$.$stopTimer_$=function($timerId$jscomp$4$$){this.$trackers_$[$timerId$jscomp$4$$].$stopTimer_$(this.root.ampdoc.win)};$JSCompiler_prototypeAlias$$.$removeTracker_$=function($timerId$jscomp$6$$){this.$trackers_$[$timerId$jscomp$6$$]&&(this.$stopTimer_$($timerId$jscomp$6$$),this.$trackers_$[$timerId$jscomp$6$$].dispose(),delete this.$trackers_$[$timerId$jscomp$6$$])};
function $VideoEventTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$23$$){this.root=$root$jscomp$23$$;var $$jscomp$this$jscomp$16$$=this;this.$sessionObservable_$=new $Observable$$module$src$observable$$;this.$boundOnSession_$=this.$sessionObservable_$.fire.bind(this.$sessionObservable_$);Object.keys($VideoAnalyticsEvents$$module$src$video_interface$$).forEach(function($root$jscomp$23$$){$$jscomp$this$jscomp$16$$.root.getRoot().addEventListener($VideoAnalyticsEvents$$module$src$video_interface$$[$root$jscomp$23$$],
$$jscomp$this$jscomp$16$$.$boundOnSession_$)})}$$jscomp$inherits$$($VideoEventTracker$$module$extensions$amp_analytics$0_1$events$$,$EventTracker$$module$extensions$amp_analytics$0_1$events$$);
$VideoEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.dispose=function(){var $$jscomp$this$jscomp$17$$=this,$root$jscomp$24$$=this.root.getRoot();Object.keys($VideoAnalyticsEvents$$module$src$video_interface$$).forEach(function($key$jscomp$59$$){$root$jscomp$24$$.removeEventListener($VideoAnalyticsEvents$$module$src$video_interface$$[$key$jscomp$59$$],$$jscomp$this$jscomp$17$$.$boundOnSession_$)});this.$sessionObservable_$=this.$boundOnSession_$=null};
$VideoEventTracker$$module$extensions$amp_analytics$0_1$events$$.prototype.add=function($context$jscomp$7$$,$eventType$jscomp$21$$,$config$jscomp$14$$,$listener$jscomp$76$$){var $videoSpec$$=$config$jscomp$14$$.videoSpec||{},$targetReady$jscomp$1$$=this.root.getElement($context$jscomp$7$$,$config$jscomp$14$$.selector||$videoSpec$$.selector,$config$jscomp$14$$.selectionMethod||null),$endSessionWhenInvisible$$=$videoSpec$$["end-session-when-invisible"],$excludeAutoplay$$=$videoSpec$$["exclude-autoplay"],
$interval$jscomp$1$$=$videoSpec$$.interval,$percentages$$=$videoSpec$$.percentages,$on$$=$config$jscomp$14$$.on,$percentageInterval$$=5,$intervalCounter$$=0,$lastPercentage$$=0;return this.$sessionObservable_$.add(function($context$jscomp$7$$){var $eventType$jscomp$21$$=$context$jscomp$7$$.type,$config$jscomp$14$$="video-session-visible"===$eventType$jscomp$21$$,$videoSpec$$=$config$jscomp$14$$?"video-session":$eventType$jscomp$21$$,$event$jscomp$12$$=$context$jscomp$7$$.data;if($videoSpec$$===$on$$)if("video-seconds-played"!==
$videoSpec$$||$interval$jscomp$1$$){if("video-seconds-played"===$videoSpec$$&&($intervalCounter$$++,0!==$intervalCounter$$%$interval$jscomp$1$$))return;if("video-percentage-played"===$videoSpec$$){if(!$percentages$$){$user$$module$src$log$$().error("amp-analytics/events","video-percentage-played requires percentages spec.");return}for($eventType$jscomp$21$$=0;$eventType$jscomp$21$$<$percentages$$.length;$eventType$jscomp$21$$++){var $percentage$$=$percentages$$[$eventType$jscomp$21$$];if(0>=$percentage$$||
0!=$percentage$$%$percentageInterval$$){$user$$module$src$log$$().error("amp-analytics/events","Percentages must be set in increments of %s with non-zero values",$percentageInterval$$);return}}var $normalizedPercentage$$=$event$jscomp$12$$.normalizedPercentage,$normalizedPercentageInt$$=parseInt($normalizedPercentage$$,10);$isFiniteNumber$$module$src$types$$($normalizedPercentageInt$$);if($lastPercentage$$==$normalizedPercentageInt$$||0>$percentages$$.indexOf($normalizedPercentageInt$$))return;$lastPercentage$$=
$normalizedPercentageInt$$}if(!$config$jscomp$14$$||$endSessionWhenInvisible$$)if(!$excludeAutoplay$$||"playing_auto"!==$event$jscomp$12$$.state){var $el$jscomp$7$$=$context$jscomp$7$$.target;$targetReady$jscomp$1$$.then(function($context$jscomp$7$$){$context$jscomp$7$$.contains($el$jscomp$7$$)&&$listener$jscomp$76$$(new $AnalyticsEvent$$module$extensions$amp_analytics$0_1$events$$($context$jscomp$7$$,$videoSpec$$,$event$jscomp$12$$))})}}else $user$$module$src$log$$().error("amp-analytics/events",
"video-seconds-played requires interval spec with non-zero value")})};function $VisibilityTracker$$module$extensions$amp_analytics$0_1$events$$($root$jscomp$25$$){this.root=$root$jscomp$25$$;this.$waitForTrackers_$={}}$$jscomp$inherits$$($VisibilityTracker$$module$extensions$amp_analytics$0_1$events$$,$EventTracker$$module$extensions$amp_analytics$0_1$events$$);$JSCompiler_prototypeAlias$$=$VisibilityTracker$$module$extensions$amp_analytics$0_1$events$$.prototype;
$JSCompiler_prototypeAlias$$.dispose=function(){};
$JSCompiler_prototypeAlias$$.add=function($context$jscomp$8$$,$eventType$jscomp$22$$,$config$jscomp$15$$,$listener$jscomp$77$$){var $$jscomp$this$jscomp$18$$=this,$visibilitySpec$$=$config$jscomp$15$$.visibilitySpec||{},$selector$jscomp$12$$=$config$jscomp$15$$.selector||$visibilitySpec$$.selector,$waitForSpec$$=$visibilitySpec$$.waitFor,$reportWhenSpec$$=$visibilitySpec$$.reportWhen,$createReportReadyPromiseFunc$$=null;$reportWhenSpec$$&&$userAssert$$module$src$log$$(!$visibilitySpec$$.repeat,"reportWhen and repeat are mutually exclusive.");
"hidden"==$eventType$jscomp$22$$&&($reportWhenSpec$$&&$user$$module$src$log$$().error("amp-analytics/events",'ReportWhen should not be defined when eventType is "hidden"'),$reportWhenSpec$$="documentHidden");var $visibilityManagerPromise$$=this.root.isUsingHostAPI().then(function($context$jscomp$8$$){if($context$jscomp$8$$){var $eventType$jscomp$22$$=$reportWhenSpec$$;$userAssert$$module$src$log$$(!$selector$jscomp$12$$||":root"==$selector$jscomp$12$$||":host"==$selector$jscomp$12$$,"Element %s that is not root is not supported with host API",
$selector$jscomp$12$$);$userAssert$$module$src$log$$("documentExit"!==$eventType$jscomp$22$$,"reportWhen : documentExit is not supported with host API")}return $$jscomp$this$jscomp$18$$.root.getVisibilityManager()});"documentHidden"==$reportWhenSpec$$?$createReportReadyPromiseFunc$$=this.$createReportReadyPromiseForDocumentHidden_$.bind(this):"documentExit"==$reportWhenSpec$$?$createReportReadyPromiseFunc$$=this.$createReportReadyPromiseForDocumentExit_$.bind(this):$userAssert$$module$src$log$$(!$reportWhenSpec$$,
'reportWhen value "%s" not supported.',$reportWhenSpec$$);var $unlistenPromise$$=$selector$jscomp$12$$&&":root"!=$selector$jscomp$12$$&&":host"!=$selector$jscomp$12$$?this.root.getAmpElement($context$jscomp$8$$.parentElement||$context$jscomp$8$$,$selector$jscomp$12$$,$config$jscomp$15$$.selectionMethod||$visibilitySpec$$.selectionMethod).then(function($context$jscomp$8$$){return $visibilityManagerPromise$$.then(function($config$jscomp$15$$){return $config$jscomp$15$$.listenElement($context$jscomp$8$$,
$visibilitySpec$$,$$jscomp$this$jscomp$18$$.getReadyPromise($waitForSpec$$,$selector$jscomp$12$$,$context$jscomp$8$$),$createReportReadyPromiseFunc$$,$$jscomp$this$jscomp$18$$.$onEvent_$.bind($$jscomp$this$jscomp$18$$,$eventType$jscomp$22$$,$listener$jscomp$77$$,$context$jscomp$8$$))},function(){})}):$visibilityManagerPromise$$.then(function($context$jscomp$8$$){return $context$jscomp$8$$.listenRoot($visibilitySpec$$,$$jscomp$this$jscomp$18$$.getReadyPromise($waitForSpec$$,$selector$jscomp$12$$),
$createReportReadyPromiseFunc$$,$$jscomp$this$jscomp$18$$.$onEvent_$.bind($$jscomp$this$jscomp$18$$,$eventType$jscomp$22$$,$listener$jscomp$77$$,$$jscomp$this$jscomp$18$$.root.getRootElement()))},function(){});return function(){$unlistenPromise$$.then(function($context$jscomp$8$$){$context$jscomp$8$$()})}};
$JSCompiler_prototypeAlias$$.$createReportReadyPromiseForDocumentHidden_$=function(){var $viewer$$=this.root.getViewer();return $viewer$$.isVisible()?new Promise(function($resolve$jscomp$12$$){$viewer$$.onVisibilityChanged(function(){$viewer$$.isVisible()||$resolve$jscomp$12$$()})}):Promise.resolve()};
$JSCompiler_prototypeAlias$$.$createReportReadyPromiseForDocumentExit_$=function(){var $deferred$jscomp$2$$=new $Deferred$$module$src$utils$promise$$,$win$jscomp$61$$=this.root.ampdoc.win,$unloadListener$$,$pageHideListener$$;$win$jscomp$61$$.addEventListener("unload",$unloadListener$$=function(){$win$jscomp$61$$.removeEventListener("unload",$unloadListener$$);$deferred$jscomp$2$$.resolve()});$win$jscomp$61$$.addEventListener("pagehide",$pageHideListener$$=function(){$win$jscomp$61$$.removeEventListener("pagehide",
$pageHideListener$$);$deferred$jscomp$2$$.resolve()});return $deferred$jscomp$2$$.promise};
$JSCompiler_prototypeAlias$$.getReadyPromise=function($waitForSpec$jscomp$1$$,$selector$jscomp$14$$,$opt_element$jscomp$12$$){if(!$waitForSpec$jscomp$1$$)if($selector$jscomp$14$$)$waitForSpec$jscomp$1$$="ini-load";else return null;var $trackerWhitelist$$=$getTrackerTypesForParentType$$module$extensions$amp_analytics$0_1$events$$("visible");$userAssert$$module$src$log$$("none"==$waitForSpec$jscomp$1$$||void 0!==$trackerWhitelist$$[$waitForSpec$jscomp$1$$],"waitFor value %s not supported",$waitForSpec$jscomp$1$$);
var $waitForTracker$$=this.$waitForTrackers_$[$waitForSpec$jscomp$1$$]||this.root.getTrackerForWhitelist($waitForSpec$jscomp$1$$,$trackerWhitelist$$);if($waitForTracker$$)this.$waitForTrackers_$[$waitForSpec$jscomp$1$$]=$waitForTracker$$;else return null;return $opt_element$jscomp$12$$?$waitForTracker$$.getElementSignal($waitForSpec$jscomp$1$$,$opt_element$jscomp$12$$):$waitForTracker$$.getRootSignal($waitForSpec$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.$onEvent_$=function($eventType$jscomp$23$$,$listener$jscomp$78$$,$target$jscomp$94$$,$state$$){var $attr$jscomp$4$$=$getDataParamsFromAttributes$$module$src$dom$$($target$jscomp$94$$),$key$jscomp$60$$;for($key$jscomp$60$$ in $attr$jscomp$4$$)$state$$[$key$jscomp$60$$]=$attr$jscomp$4$$[$key$jscomp$60$$];$listener$jscomp$78$$(new $AnalyticsEvent$$module$extensions$amp_analytics$0_1$events$$($target$jscomp$94$$,$eventType$jscomp$23$$,$state$$))};function $layoutRectLtwh$$module$src$layout_rect$$($left$jscomp$2$$,$top$jscomp$2$$,$width$jscomp$27$$,$height$jscomp$26$$){return{left:$left$jscomp$2$$,top:$top$jscomp$2$$,width:$width$jscomp$27$$,height:$height$jscomp$26$$,bottom:$top$jscomp$2$$+$height$jscomp$26$$,right:$left$jscomp$2$$+$width$jscomp$27$$,x:$left$jscomp$2$$,y:$top$jscomp$2$$}}
function $rectIntersection$$module$src$layout_rect$$($var_args$jscomp$55$$){for(var $x0$jscomp$2$$=-Infinity,$x1$jscomp$5$$=Infinity,$y0$jscomp$2$$=-Infinity,$y1$jscomp$5$$=Infinity,$i$jscomp$29$$=0;$i$jscomp$29$$<arguments.length;$i$jscomp$29$$++){var $current$jscomp$1$$=arguments[$i$jscomp$29$$];if($current$jscomp$1$$&&($x0$jscomp$2$$=Math.max($x0$jscomp$2$$,$current$jscomp$1$$.left),$x1$jscomp$5$$=Math.min($x1$jscomp$5$$,$current$jscomp$1$$.left+$current$jscomp$1$$.width),$y0$jscomp$2$$=Math.max($y0$jscomp$2$$,
$current$jscomp$1$$.top),$y1$jscomp$5$$=Math.min($y1$jscomp$5$$,$current$jscomp$1$$.top+$current$jscomp$1$$.height),$x1$jscomp$5$$<$x0$jscomp$2$$||$y1$jscomp$5$$<$y0$jscomp$2$$))return null}return Infinity==$x1$jscomp$5$$?null:$layoutRectLtwh$$module$src$layout_rect$$($x0$jscomp$2$$,$y0$jscomp$2$$,$x1$jscomp$5$$-$x0$jscomp$2$$,$y1$jscomp$5$$-$y0$jscomp$2$$)}
function $layoutPositionRelativeToScrolledViewport$$module$src$layout_rect$$($layoutBox$$,$viewport$$,$JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$){$JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$={top:$JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$,
bottom:$JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$+$viewport$$.getHeight(),left:0,right:$viewport$$.getWidth()};var $scrollLayoutBox$$=$layoutRectLtwh$$module$src$layout_rect$$(Number($JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$.left),Number($JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$.top),
Number($JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$.width),Number($JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$.height));$JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$=$layoutBox$$;var $JSCompiler_r2$jscomp$inline_254_JSCompiler_r2$jscomp$inline_257$$=
$scrollLayoutBox$$;$JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$.top<=$JSCompiler_r2$jscomp$inline_254_JSCompiler_r2$jscomp$inline_257$$.bottom&&$JSCompiler_r2$jscomp$inline_254_JSCompiler_r2$jscomp$inline_257$$.top<=$JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$.bottom&&$JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$.left<=
$JSCompiler_r2$jscomp$inline_254_JSCompiler_r2$jscomp$inline_257$$.right&&$JSCompiler_r2$jscomp$inline_254_JSCompiler_r2$jscomp$inline_257$$.left<=$JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$.right?$JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$="inside":($JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$=
$layoutBox$$,$JSCompiler_r2$jscomp$inline_254_JSCompiler_r2$jscomp$inline_257$$=$scrollLayoutBox$$,$JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$=$JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$.top<$JSCompiler_r2$jscomp$inline_254_JSCompiler_r2$jscomp$inline_257$$.top?"top":$JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$.bottom>
$JSCompiler_r2$jscomp$inline_254_JSCompiler_r2$jscomp$inline_257$$.bottom?"bottom":"inside");return $JSCompiler_r1$jscomp$inline_253_JSCompiler_r1$jscomp$inline_256_JSCompiler_rect$jscomp$inline_251_JSCompiler_temp$jscomp$71_scrollPos$jscomp$1$$}
function $moveLayoutRect$$module$src$layout_rect$$($rect$jscomp$2$$,$dx$jscomp$4$$,$dy$jscomp$4$$){return 0==$dx$jscomp$4$$&&0==$dy$jscomp$4$$||0==$rect$jscomp$2$$.width&&0==$rect$jscomp$2$$.height?$rect$jscomp$2$$:$layoutRectLtwh$$module$src$layout_rect$$($rect$jscomp$2$$.left+$dx$jscomp$4$$,$rect$jscomp$2$$.top+$dy$jscomp$4$$,$rect$jscomp$2$$.width,$rect$jscomp$2$$.height)};function $toggle$$module$src$style$$($element$jscomp$77$$){var $opt_display$$=!1;void 0===$opt_display$$&&($opt_display$$=$element$jscomp$77$$.hasAttribute("hidden"));$opt_display$$?$element$jscomp$77$$.removeAttribute("hidden"):$element$jscomp$77$$.setAttribute("hidden","")};var $EXCLUDE_INI_LOAD$$module$src$friendly_iframe_embed$$=["AMP-AD","AMP-ANALYTICS","AMP-PIXEL","AMP-AD-EXIT"];
function $whenContentIniLoad$$module$src$friendly_iframe_embed$$($elementOrAmpDoc$jscomp$18$$,$hostWin$$,$rect$jscomp$5$$){return $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$18$$,"resources").getResourcesInRect($hostWin$$,$rect$jscomp$5$$).then(function($elementOrAmpDoc$jscomp$18$$){var $hostWin$$=[];$elementOrAmpDoc$jscomp$18$$.forEach(function($elementOrAmpDoc$jscomp$18$$){$EXCLUDE_INI_LOAD$$module$src$friendly_iframe_embed$$.includes($elementOrAmpDoc$jscomp$18$$.element.tagName)||$hostWin$$.push($elementOrAmpDoc$jscomp$18$$.loadedOnce())});
return Promise.all($hostWin$$)})}function $isInFie$$module$src$friendly_iframe_embed$$($element$jscomp$79$$){return $element$jscomp$79$$.classList.contains("i-amphtml-fie")||!!$closestAncestorElementBySelector$$module$src$dom$$($element$jscomp$79$$,".i-amphtml-fie")};var $EXPAND_WHITELIST$$module$extensions$amp_analytics$0_1$cookie_writer$$={QUERY_PARAM:!0,LINKER_PARAM:!0},$RESERVED_KEYS$$module$extensions$amp_analytics$0_1$cookie_writer$$={referrerDomains:!0,enabled:!0,cookiePath:!0,cookieMaxAge:!0,cookieSecure:!0,cookieDomain:!0};
function $CookieWriter$$module$extensions$amp_analytics$0_1$cookie_writer$$($win$jscomp$76$$,$element$jscomp$80$$,$config$jscomp$16$$){this.$win_$=$win$jscomp$76$$;this.$element_$=$element$jscomp$80$$;this.$urlReplacementService_$=$Services$$module$src$services$urlReplacementsForDoc$$($element$jscomp$80$$);this.$writePromise_$=null;this.$config_$=$config$jscomp$16$$;this.$bindings_$=$variableServiceFor$$module$extensions$amp_analytics$0_1$variables$$(this.$win_$).getMacros()}
$CookieWriter$$module$extensions$amp_analytics$0_1$cookie_writer$$.prototype.write=function(){this.$writePromise_$||(this.$writePromise_$=$JSCompiler_StaticMethods_init_$$(this));return this.$writePromise_$};
function $JSCompiler_StaticMethods_init_$$($JSCompiler_StaticMethods_init_$self$$){if($isInFie$$module$src$friendly_iframe_embed$$($JSCompiler_StaticMethods_init_$self$$.$element_$)||$isProxyOrigin$$module$src$url$$($JSCompiler_StaticMethods_init_$self$$.$win_$.location)||"inabox"==$getMode$$module$src$mode$$($JSCompiler_StaticMethods_init_$self$$.$win_$).runtime||!$hasOwn$$module$src$utils$object$$($JSCompiler_StaticMethods_init_$self$$.$config_$,"cookies"))return Promise.resolve();if(!$isObject$$module$src$types$$($JSCompiler_StaticMethods_init_$self$$.$config_$.cookies))return $user$$module$src$log$$().error("amp-analytics/cookie-writer",
"cookies config must be an object"),Promise.resolve();var $inputConfig$$=$JSCompiler_StaticMethods_init_$self$$.$config_$.cookies;if(!1===$inputConfig$$.enabled)return Promise.resolve();for(var $ids$jscomp$1$$=Object.keys($inputConfig$$),$promises$jscomp$2$$=[],$i$jscomp$32$$=0;$i$jscomp$32$$<$ids$jscomp$1$$.length;$i$jscomp$32$$++){var $cookieName$jscomp$2$$=$ids$jscomp$1$$[$i$jscomp$32$$],$cookieObj$$=$inputConfig$$[$cookieName$jscomp$2$$];$JSCompiler_StaticMethods_isValidCookieConfig_$$($cookieName$jscomp$2$$,
$cookieObj$$)&&$promises$jscomp$2$$.push($JSCompiler_StaticMethods_expandAndWrite_$$($JSCompiler_StaticMethods_init_$self$$,$cookieName$jscomp$2$$,$cookieObj$$.value))}return Promise.all($promises$jscomp$2$$)}
function $JSCompiler_StaticMethods_isValidCookieConfig_$$($cookieName$jscomp$3_str$jscomp$17$$,$cookieConfig$$){if($RESERVED_KEYS$$module$extensions$amp_analytics$0_1$cookie_writer$$[$cookieName$jscomp$3_str$jscomp$17$$])return!1;if(!$isObject$$module$src$types$$($cookieConfig$$))return $user$$module$src$log$$().error("amp-analytics/cookie-writer","cookieValue must be configured in an object"),!1;if(!$hasOwn$$module$src$utils$object$$($cookieConfig$$,"value"))return $user$$module$src$log$$().error("amp-analytics/cookie-writer",
"value is required in the cookieValue object"),!1;$cookieName$jscomp$3_str$jscomp$17$$=$cookieConfig$$.value;var $name$jscomp$93$$=$getNameArgs$$module$extensions$amp_analytics$0_1$variables$$($cookieName$jscomp$3_str$jscomp$17$$).name;return $EXPAND_WHITELIST$$module$extensions$amp_analytics$0_1$cookie_writer$$[$name$jscomp$93$$]?!0:($user$$module$src$log$$().error("amp-analytics/cookie-writer","cookie value "+$cookieName$jscomp$3_str$jscomp$17$$+" not supported. Only QUERY_PARAM and LINKER_PARAM is supported"),
!1)}
function $JSCompiler_StaticMethods_expandAndWrite_$$($JSCompiler_StaticMethods_expandAndWrite_$self$$,$cookieName$jscomp$4$$,$cookieValue$$){return $JSCompiler_StaticMethods_expandAndWrite_$self$$.$urlReplacementService_$.expandStringAsync($cookieValue$$,$JSCompiler_StaticMethods_expandAndWrite_$self$$.$bindings_$,$EXPAND_WHITELIST$$module$extensions$amp_analytics$0_1$cookie_writer$$).then(function($cookieValue$$){if($cookieValue$$){var $JSCompiler_cookie$jscomp$inline_476_value$jscomp$121$$=Date.now()+
31536E6;var $JSCompiler_win$jscomp$inline_259$$=$JSCompiler_StaticMethods_expandAndWrite_$self$$.$win_$,$JSCompiler_expirationTime$jscomp$inline_262$$=$JSCompiler_cookie$jscomp$inline_476_value$jscomp$121$$;if($isProxyOrigin$$module$src$url$$($JSCompiler_win$jscomp$inline_259$$.location.href))throw Error("Should never attempt to set cookie on proxy origin: "+$cookieName$jscomp$4$$);var $JSCompiler_current$jscomp$inline_468$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_win$jscomp$inline_259$$.location.href).hostname.toLowerCase(),
$JSCompiler_proxy$jscomp$inline_469$$=$parseUrlDeprecated$$module$src$url$$($urls$$module$src$config$$.cdn).hostname.toLowerCase();if($JSCompiler_current$jscomp$inline_468$$==$JSCompiler_proxy$jscomp$inline_469$$||$endsWith$$module$src$string$$($JSCompiler_current$jscomp$inline_468$$,"."+$JSCompiler_proxy$jscomp$inline_469$$))throw Error("Should never attempt to set cookie on proxy origin. (in depth check): "+$cookieName$jscomp$4$$);$cookieValue$$=encodeURIComponent($cookieName$jscomp$4$$)+"="+encodeURIComponent($cookieValue$$)+
"; path=/; expires="+(new Date($JSCompiler_expirationTime$jscomp$inline_262$$)).toUTCString();try{$JSCompiler_win$jscomp$inline_259$$.document.cookie=$cookieValue$$}catch($JSCompiler_ignore$jscomp$inline_477$$){}}}).catch(function($JSCompiler_StaticMethods_expandAndWrite_$self$$){$user$$module$src$log$$().error("amp-analytics/cookie-writer","Error expanding cookie string",$JSCompiler_StaticMethods_expandAndWrite_$self$$)})};function $ScrollManager$$module$extensions$amp_analytics$0_1$scroll_manager$$($ampdoc$jscomp$23$$){this.$viewport_$=$Services$$module$src$services$viewportForDoc$$($ampdoc$jscomp$23$$);this.$viewportOnChangedUnlistener_$=null;this.$scrollObservable_$=new $Observable$$module$src$observable$$}
$ScrollManager$$module$extensions$amp_analytics$0_1$scroll_manager$$.prototype.dispose=function(){this.$scrollObservable_$.removeAll();this.$viewportOnChangedUnlistener_$&&(this.$viewportOnChangedUnlistener_$(),this.$viewportOnChangedUnlistener_$=null)};
$ScrollManager$$module$extensions$amp_analytics$0_1$scroll_manager$$.prototype.removeScrollHandler=function($handler$jscomp$8$$){this.$scrollObservable_$.remove($handler$jscomp$8$$);0>=this.$scrollObservable_$.getHandlerCount()&&this.$viewportOnChangedUnlistener_$&&(this.$viewportOnChangedUnlistener_$(),this.$viewportOnChangedUnlistener_$=null)};
$ScrollManager$$module$extensions$amp_analytics$0_1$scroll_manager$$.prototype.addScrollHandler=function($handler$jscomp$9$$){var $size$jscomp$15$$=this.$viewport_$.getSize(),$scrollEvent$$={top:this.$viewport_$.getScrollTop(),left:this.$viewport_$.getScrollLeft(),width:$size$jscomp$15$$.width,height:$size$jscomp$15$$.height,scrollWidth:this.$viewport_$.getScrollWidth(),scrollHeight:this.$viewport_$.getScrollHeight()};$handler$jscomp$9$$($scrollEvent$$);0===this.$scrollObservable_$.getHandlerCount()&&
(this.$viewportOnChangedUnlistener_$=this.$viewport_$.onChanged(this.$onScroll_$.bind(this)));return this.$scrollObservable_$.add($handler$jscomp$9$$)};
$ScrollManager$$module$extensions$amp_analytics$0_1$scroll_manager$$.prototype.$onScroll_$=function($e$jscomp$25_scrollEvent$jscomp$1$$){$e$jscomp$25_scrollEvent$jscomp$1$$={top:$e$jscomp$25_scrollEvent$jscomp$1$$.top,left:$e$jscomp$25_scrollEvent$jscomp$1$$.left,width:$e$jscomp$25_scrollEvent$jscomp$1$$.width,height:$e$jscomp$25_scrollEvent$jscomp$1$$.height,scrollWidth:this.$viewport_$.getScrollWidth(),scrollHeight:this.$viewport_$.getScrollHeight()};this.$scrollObservable_$.fire($e$jscomp$25_scrollEvent$jscomp$1$$)};function $Pass$$module$src$pass$$($win$jscomp$77$$,$handler$jscomp$10$$){var $opt_defaultDelay$$,$$jscomp$this$jscomp$29$$=this;this.$timer_$=$getService$$module$src$service$$($win$jscomp$77$$,"timer");this.$handler_$=$handler$jscomp$10$$;this.$defaultDelay_$=$opt_defaultDelay$$||0;this.$scheduled_$=-1;this.$nextTime_$=0;this.$running_$=!1;this.$boundPass_$=function(){$$jscomp$this$jscomp$29$$.$scheduled_$=-1;$$jscomp$this$jscomp$29$$.$nextTime_$=0;$$jscomp$this$jscomp$29$$.$running_$=!0;$$jscomp$this$jscomp$29$$.$handler_$();
$$jscomp$this$jscomp$29$$.$running_$=!1}}$Pass$$module$src$pass$$.prototype.isPending=function(){return-1!=this.$scheduled_$};
$Pass$$module$src$pass$$.prototype.schedule=function($opt_delay$jscomp$2$$){var $delay$$=$opt_delay$jscomp$2$$||this.$defaultDelay_$;this.$running_$&&10>$delay$$&&($delay$$=10);var $nextTime$$=Date.now()+$delay$$;return!this.isPending()||-10>$nextTime$$-this.$nextTime_$?(this.cancel(),this.$nextTime_$=$nextTime$$,this.$scheduled_$=this.$timer_$.delay(this.$boundPass_$,$delay$$),!0):!1};
$Pass$$module$src$pass$$.prototype.cancel=function(){this.isPending()&&(this.$timer_$.cancel(this.$scheduled_$),this.$scheduled_$=-1)};function $deserializeMessage$$module$src$3p_frame_messaging$$($message$jscomp$31$$){if(!$isAmpMessage$$module$src$3p_frame_messaging$$($message$jscomp$31$$))return null;var $startPos$$=$message$jscomp$31$$.indexOf("{");try{return JSON.parse($message$jscomp$31$$.substr($startPos$$))}catch($e$jscomp$26$$){return $dev$$module$src$log$$().error("MESSAGING","Failed to parse message: "+$message$jscomp$31$$,$e$jscomp$26$$),null}}
function $isAmpMessage$$module$src$3p_frame_messaging$$($message$jscomp$32$$){return"string"==typeof $message$jscomp$32$$&&0==$message$jscomp$32$$.indexOf("amp-")&&-1!=$message$jscomp$32$$.indexOf("{")};function $remove$$module$src$utils$array$$($array$jscomp$8$$,$shouldRemove$$){for(var $removed$$=[],$index$jscomp$73$$=0,$i$jscomp$34$$=0;$i$jscomp$34$$<$array$jscomp$8$$.length;$i$jscomp$34$$++){var $item$jscomp$2$$=$array$jscomp$8$$[$i$jscomp$34$$];$shouldRemove$$($item$jscomp$2$$,$i$jscomp$34$$,$array$jscomp$8$$)?$removed$$.push($item$jscomp$2$$):($index$jscomp$73$$<$i$jscomp$34$$&&($array$jscomp$8$$[$index$jscomp$73$$]=$item$jscomp$2$$),$index$jscomp$73$$++)}$index$jscomp$73$$<$array$jscomp$8$$.length&&
($array$jscomp$8$$.length=$index$jscomp$73$$)}function $findIndex$$module$src$utils$array$$($array$jscomp$9$$,$predicate$jscomp$1$$){for(var $i$jscomp$35$$=0;$i$jscomp$35$$<$array$jscomp$9$$.length;$i$jscomp$35$$++)if($predicate$jscomp$1$$($array$jscomp$9$$[$i$jscomp$35$$],$i$jscomp$35$$,$array$jscomp$9$$))return $i$jscomp$35$$;return-1};function $getListenForSentinel$$module$src$iframe_helper$$($JSCompiler_inline_result$jscomp$75_parentWin$jscomp$2$$,$sentinel$jscomp$1$$,$opt_create$jscomp$1$$){var $JSCompiler_listeningFors$jscomp$inline_279$$=$JSCompiler_inline_result$jscomp$75_parentWin$jscomp$2$$.listeningFors;!$JSCompiler_listeningFors$jscomp$inline_279$$&&$opt_create$jscomp$1$$&&($JSCompiler_listeningFors$jscomp$inline_279$$=$JSCompiler_inline_result$jscomp$75_parentWin$jscomp$2$$.listeningFors=Object.create(null));$JSCompiler_inline_result$jscomp$75_parentWin$jscomp$2$$=
$JSCompiler_listeningFors$jscomp$inline_279$$||null;if(!$JSCompiler_inline_result$jscomp$75_parentWin$jscomp$2$$)return $JSCompiler_inline_result$jscomp$75_parentWin$jscomp$2$$;var $listenSentinel$$=$JSCompiler_inline_result$jscomp$75_parentWin$jscomp$2$$[$sentinel$jscomp$1$$];!$listenSentinel$$&&$opt_create$jscomp$1$$&&($listenSentinel$$=$JSCompiler_inline_result$jscomp$75_parentWin$jscomp$2$$[$sentinel$jscomp$1$$]=[]);return $listenSentinel$$||null}
function $getOrCreateListenForEvents$$module$src$iframe_helper$$($listenSentinel$jscomp$1_parentWin$jscomp$3$$,$iframe$jscomp$4$$,$opt_is3P$$){var $i$jscomp$36_sentinel$jscomp$2$$=$opt_is3P$$?$iframe$jscomp$4$$.getAttribute("data-amp-3p-sentinel"):"amp";$listenSentinel$jscomp$1_parentWin$jscomp$3$$=$getListenForSentinel$$module$src$iframe_helper$$($listenSentinel$jscomp$1_parentWin$jscomp$3$$,$i$jscomp$36_sentinel$jscomp$2$$,!0);for($i$jscomp$36_sentinel$jscomp$2$$=0;$i$jscomp$36_sentinel$jscomp$2$$<
$listenSentinel$jscomp$1_parentWin$jscomp$3$$.length;$i$jscomp$36_sentinel$jscomp$2$$++){var $we$$=$listenSentinel$jscomp$1_parentWin$jscomp$3$$[$i$jscomp$36_sentinel$jscomp$2$$];if($we$$.frame===$iframe$jscomp$4$$){var $windowEvents$$=$we$$;break}}$windowEvents$$||($windowEvents$$={frame:$iframe$jscomp$4$$,events:Object.create(null)},$listenSentinel$jscomp$1_parentWin$jscomp$3$$.push($windowEvents$$));return $windowEvents$$.events}
function $dropListenSentinel$$module$src$iframe_helper$$($listenSentinel$jscomp$3$$){for(var $noopData$$=$dict$$module$src$utils$object$$({sentinel:"unlisten"}),$i$jscomp$38$$=$listenSentinel$jscomp$3$$.length-1;0<=$i$jscomp$38$$;$i$jscomp$38$$--){var $windowEvents$jscomp$2$$=$listenSentinel$jscomp$3$$[$i$jscomp$38$$];if(!$windowEvents$jscomp$2$$.frame.contentWindow){$listenSentinel$jscomp$3$$.splice($i$jscomp$38$$,1);var $events$$=$windowEvents$jscomp$2$$.events,$name$jscomp$94$$;for($name$jscomp$94$$ in $events$$)$events$$[$name$jscomp$94$$].splice(0,
Infinity).forEach(function($listenSentinel$jscomp$3$$){$listenSentinel$jscomp$3$$($noopData$$)})}}}
function $registerGlobalListenerIfNeeded$$module$src$iframe_helper$$($parentWin$jscomp$5$$){if(!$parentWin$jscomp$5$$.listeningFors){var $listenForListener$$=function($listenForListener$$){if($listenForListener$$.data){var $event$jscomp$14$$=$parseIfNeeded$$module$src$iframe_helper$$($listenForListener$$.data);if($event$jscomp$14$$&&$event$jscomp$14$$.sentinel){var $JSCompiler_inline_result$jscomp$76_JSCompiler_triggerWin$jscomp$inline_283_i$jscomp$39$$=$listenForListener$$.source;var $JSCompiler_listenSentinel$jscomp$inline_284$$=
$getListenForSentinel$$module$src$iframe_helper$$($parentWin$jscomp$5$$,$event$jscomp$14$$.sentinel);if($JSCompiler_listenSentinel$jscomp$inline_284$$){for(var $JSCompiler_windowEvents$jscomp$inline_285$$,$JSCompiler_i$jscomp$inline_286$$=0;$JSCompiler_i$jscomp$inline_286$$<$JSCompiler_listenSentinel$jscomp$inline_284$$.length;$JSCompiler_i$jscomp$inline_286$$++){var $JSCompiler_we$jscomp$inline_287$$=$JSCompiler_listenSentinel$jscomp$inline_284$$[$JSCompiler_i$jscomp$inline_286$$],$JSCompiler_contentWindow$jscomp$inline_288$$=
$JSCompiler_we$jscomp$inline_287$$.frame.contentWindow;if($JSCompiler_contentWindow$jscomp$inline_288$$){var $JSCompiler_temp$jscomp$427_JSCompiler_win$jscomp$inline_481$$;if(!($JSCompiler_temp$jscomp$427_JSCompiler_win$jscomp$inline_481$$=$JSCompiler_inline_result$jscomp$76_JSCompiler_triggerWin$jscomp$inline_283_i$jscomp$39$$==$JSCompiler_contentWindow$jscomp$inline_288$$))b:{for($JSCompiler_temp$jscomp$427_JSCompiler_win$jscomp$inline_481$$=$JSCompiler_inline_result$jscomp$76_JSCompiler_triggerWin$jscomp$inline_283_i$jscomp$39$$;$JSCompiler_temp$jscomp$427_JSCompiler_win$jscomp$inline_481$$&&
$JSCompiler_temp$jscomp$427_JSCompiler_win$jscomp$inline_481$$!=$JSCompiler_temp$jscomp$427_JSCompiler_win$jscomp$inline_481$$.parent;$JSCompiler_temp$jscomp$427_JSCompiler_win$jscomp$inline_481$$=$JSCompiler_temp$jscomp$427_JSCompiler_win$jscomp$inline_481$$.parent)if($JSCompiler_temp$jscomp$427_JSCompiler_win$jscomp$inline_481$$==$JSCompiler_contentWindow$jscomp$inline_288$$){$JSCompiler_temp$jscomp$427_JSCompiler_win$jscomp$inline_481$$=!0;break b}$JSCompiler_temp$jscomp$427_JSCompiler_win$jscomp$inline_481$$=
!1}if($JSCompiler_temp$jscomp$427_JSCompiler_win$jscomp$inline_481$$){$JSCompiler_windowEvents$jscomp$inline_285$$=$JSCompiler_we$jscomp$inline_287$$;break}}else setTimeout($dropListenSentinel$$module$src$iframe_helper$$,0,$JSCompiler_listenSentinel$jscomp$inline_284$$)}$JSCompiler_inline_result$jscomp$76_JSCompiler_triggerWin$jscomp$inline_283_i$jscomp$39$$=$JSCompiler_windowEvents$jscomp$inline_285$$?$JSCompiler_windowEvents$jscomp$inline_285$$.events:null}else $JSCompiler_inline_result$jscomp$76_JSCompiler_triggerWin$jscomp$inline_283_i$jscomp$39$$=
$JSCompiler_listenSentinel$jscomp$inline_284$$;var $listenForEvents$$=$JSCompiler_inline_result$jscomp$76_JSCompiler_triggerWin$jscomp$inline_283_i$jscomp$39$$;if($listenForEvents$$){var $listeners$$=$listenForEvents$$[$event$jscomp$14$$.type];if($listeners$$)for($listeners$$=$listeners$$.slice(),$JSCompiler_inline_result$jscomp$76_JSCompiler_triggerWin$jscomp$inline_283_i$jscomp$39$$=0;$JSCompiler_inline_result$jscomp$76_JSCompiler_triggerWin$jscomp$inline_283_i$jscomp$39$$<$listeners$$.length;$JSCompiler_inline_result$jscomp$76_JSCompiler_triggerWin$jscomp$inline_283_i$jscomp$39$$++)(0,$listeners$$[$JSCompiler_inline_result$jscomp$76_JSCompiler_triggerWin$jscomp$inline_283_i$jscomp$39$$])($event$jscomp$14$$,
$listenForListener$$.source,$listenForListener$$.origin)}}}};$parentWin$jscomp$5$$.addEventListener("message",$listenForListener$$)}}
function $listenFor$$module$src$iframe_helper$$($iframe$jscomp$5$$,$callback$jscomp$66$$,$listenForEvents$jscomp$1_opt_is3P$jscomp$1$$,$opt_includingNestedWindows$$){function $listener$jscomp$81$$($listenForEvents$jscomp$1_opt_is3P$jscomp$1$$,$listener$jscomp$81$$,$typeOfMessage$$){if("amp"==$listenForEvents$jscomp$1_opt_is3P$jscomp$1$$.sentinel){if($listener$jscomp$81$$!=$iframe$jscomp$5$$.contentWindow)return;var $parentWin$jscomp$6$$="null"==$typeOfMessage$$&&$opt_allowOpaqueOrigin$$;if($iframeOrigin$$!=
$typeOfMessage$$&&!$parentWin$jscomp$6$$)return}if($opt_includingNestedWindows$$||$listener$jscomp$81$$==$iframe$jscomp$5$$.contentWindow)"unlisten"==$listenForEvents$jscomp$1_opt_is3P$jscomp$1$$.sentinel?$unlisten$jscomp$3$$():$callback$jscomp$66$$($listenForEvents$jscomp$1_opt_is3P$jscomp$1$$,$listener$jscomp$81$$,$typeOfMessage$$)}var $typeOfMessage$$="send-iframe-transport-events",$opt_allowOpaqueOrigin$$,$parentWin$jscomp$6$$=$iframe$jscomp$5$$.ownerDocument.defaultView;$registerGlobalListenerIfNeeded$$module$src$iframe_helper$$($parentWin$jscomp$6$$);
$listenForEvents$jscomp$1_opt_is3P$jscomp$1$$=$getOrCreateListenForEvents$$module$src$iframe_helper$$($parentWin$jscomp$6$$,$iframe$jscomp$5$$,$listenForEvents$jscomp$1_opt_is3P$jscomp$1$$);var $iframeOrigin$$=$parseUrlDeprecated$$module$src$url$$($iframe$jscomp$5$$.src).origin,$events$jscomp$1$$=$listenForEvents$jscomp$1_opt_is3P$jscomp$1$$[$typeOfMessage$$]||($listenForEvents$jscomp$1_opt_is3P$jscomp$1$$[$typeOfMessage$$]=[]),$unlisten$jscomp$3$$;$events$jscomp$1$$.push($listener$jscomp$81$$);return $unlisten$jscomp$3$$=
function(){if($listener$jscomp$81$$){var $iframe$jscomp$5$$=$events$jscomp$1$$.indexOf($listener$jscomp$81$$);-1<$iframe$jscomp$5$$&&$events$jscomp$1$$.splice($iframe$jscomp$5$$,1);$callback$jscomp$66$$=$events$jscomp$1$$=$listener$jscomp$81$$=null}}}
function $postMessageToWindows$$module$src$iframe_helper$$($iframe$jscomp$8_payload$jscomp$4$$,$targets$$,$type$jscomp$142$$,$i$jscomp$41_object$jscomp$2$$,$opt_is3P$jscomp$4_target$jscomp$95$$){if($iframe$jscomp$8_payload$jscomp$4$$.contentWindow)for($i$jscomp$41_object$jscomp$2$$.type=$type$jscomp$142$$,$i$jscomp$41_object$jscomp$2$$.sentinel=$opt_is3P$jscomp$4_target$jscomp$95$$?$iframe$jscomp$8_payload$jscomp$4$$.getAttribute("data-amp-3p-sentinel"):"amp",$iframe$jscomp$8_payload$jscomp$4$$=$i$jscomp$41_object$jscomp$2$$,
$opt_is3P$jscomp$4_target$jscomp$95$$&&($iframe$jscomp$8_payload$jscomp$4$$="amp-"+JSON.stringify($i$jscomp$41_object$jscomp$2$$)),$i$jscomp$41_object$jscomp$2$$=0;$i$jscomp$41_object$jscomp$2$$<$targets$$.length;$i$jscomp$41_object$jscomp$2$$++)$opt_is3P$jscomp$4_target$jscomp$95$$=$targets$$[$i$jscomp$41_object$jscomp$2$$],$opt_is3P$jscomp$4_target$jscomp$95$$.win.postMessage($iframe$jscomp$8_payload$jscomp$4$$,$opt_is3P$jscomp$4_target$jscomp$95$$.origin)}
function $parseIfNeeded$$module$src$iframe_helper$$($data$jscomp$64$$){"string"==typeof $data$jscomp$64$$&&($data$jscomp$64$$="{"==$data$jscomp$64$$.charAt(0)?$tryParseJson$$module$src$json$$($data$jscomp$64$$,function($data$jscomp$64$$){$dev$$module$src$log$$().warn("IFRAME-HELPER","Postmessage could not be parsed. Is it in a valid JSON format?",$data$jscomp$64$$)})||null:$isAmpMessage$$module$src$3p_frame_messaging$$($data$jscomp$64$$)?$deserializeMessage$$module$src$3p_frame_messaging$$($data$jscomp$64$$):
null);return $data$jscomp$64$$}
function $SubscriptionApi$$module$src$iframe_helper$$($iframe$jscomp$10$$,$requestCallback$$){var $is3p$$=!0,$$jscomp$this$jscomp$30$$=this;this.$iframe_$=$iframe$jscomp$10$$;this.$is3p_$=$is3p$$;this.$clientWindows_$=[];this.$unlisten_$=$listenFor$$module$src$iframe_helper$$(this.$iframe_$,function($iframe$jscomp$10$$,$is3p$$,$origin$jscomp$4$$){$$jscomp$this$jscomp$30$$.$clientWindows_$.some(function($iframe$jscomp$10$$){return $iframe$jscomp$10$$.win==$is3p$$})||$$jscomp$this$jscomp$30$$.$clientWindows_$.push({win:$is3p$$,
origin:$origin$jscomp$4$$});$requestCallback$$($iframe$jscomp$10$$,$is3p$$,$origin$jscomp$4$$)},this.$is3p_$,this.$is3p_$)}$SubscriptionApi$$module$src$iframe_helper$$.prototype.send=function($type$jscomp$144$$,$data$jscomp$66$$){$remove$$module$src$utils$array$$(this.$clientWindows_$,function($type$jscomp$144$$){return!$type$jscomp$144$$.win.parent});$postMessageToWindows$$module$src$iframe_helper$$(this.$iframe_$,this.$clientWindows_$,$type$jscomp$144$$,$data$jscomp$66$$,this.$is3p_$)};
$SubscriptionApi$$module$src$iframe_helper$$.prototype.destroy=function(){this.$unlisten_$();this.$clientWindows_$.length=0};var $DEFAULT_THRESHOLD$$module$src$intersection_observer_polyfill$$=[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1],$INIT_TIME$$module$src$intersection_observer_polyfill$$=Date.now();function $nativeIntersectionObserverSupported$$module$src$intersection_observer_polyfill$$($win$jscomp$80$$){return"IntersectionObserver"in $win$jscomp$80$$&&"IntersectionObserverEntry"in $win$jscomp$80$$&&"intersectionRatio"in $win$jscomp$80$$.IntersectionObserverEntry.prototype}
function $IntersectionObserverPolyfill$$module$src$intersection_observer_polyfill$$($callback$jscomp$67_i$jscomp$44$$){var $opt_option$$={threshold:$DEFAULT_THRESHOLD$$module$src$intersection_observer_polyfill$$};this.$callback_$=$callback$jscomp$67_i$jscomp$44$$;var $threshold$$=$opt_option$$&&$opt_option$$.threshold;$threshold$$=$threshold$$?Array.isArray($threshold$$)?$threshold$$:[$threshold$$]:[0];for($callback$jscomp$67_i$jscomp$44$$=0;$callback$jscomp$67_i$jscomp$44$$<$threshold$$.length;$callback$jscomp$67_i$jscomp$44$$++)$isFiniteNumber$$module$src$types$$($threshold$$[$callback$jscomp$67_i$jscomp$44$$]);
this.$threshold_$=$threshold$$.sort();this.$lastViewportRect_$=null;this.$lastIframeRect_$=void 0;this.$observeEntries_$=[];this.$mutationPass_$=this.$hiddenObserverUnlistener_$=null}$JSCompiler_prototypeAlias$$=$IntersectionObserverPolyfill$$module$src$intersection_observer_polyfill$$.prototype;$JSCompiler_prototypeAlias$$.disconnect=function(){this.$observeEntries_$.length=0;$JSCompiler_StaticMethods_disconnectMutationObserver_$$(this)};
$JSCompiler_prototypeAlias$$.observe=function($element$jscomp$85$$){for(var $ampdoc$jscomp$24_change$jscomp$1_i$jscomp$45$$=0;$ampdoc$jscomp$24_change$jscomp$1_i$jscomp$45$$<this.$observeEntries_$.length;$ampdoc$jscomp$24_change$jscomp$1_i$jscomp$45$$++)if(this.$observeEntries_$[$ampdoc$jscomp$24_change$jscomp$1_i$jscomp$45$$].element===$element$jscomp$85$$){$dev$$module$src$log$$().warn("INTERSECTION-OBSERVER","should observe same element once");return}var $newState$$={element:$element$jscomp$85$$,
currentThresholdSlot:0};this.$lastViewportRect_$&&($ampdoc$jscomp$24_change$jscomp$1_i$jscomp$45$$=$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$$(this,$newState$$,this.$lastViewportRect_$,this.$lastIframeRect_$))&&this.$callback_$([$ampdoc$jscomp$24_change$jscomp$1_i$jscomp$45$$]);$ampdoc$jscomp$24_change$jscomp$1_i$jscomp$45$$=$getAmpdoc$$module$src$service$$($element$jscomp$85$$);if($ampdoc$jscomp$24_change$jscomp$1_i$jscomp$45$$.win.MutationObserver&&!this.$hiddenObserverUnlistener_$){this.$mutationPass_$=
new $Pass$$module$src$pass$$($ampdoc$jscomp$24_change$jscomp$1_i$jscomp$45$$.win,this.$handleMutationObserverPass_$.bind(this,$element$jscomp$85$$));var $hiddenObserver$$=$getExistingServiceForDocInEmbedScope$$module$src$service$$($element$jscomp$85$$,"hidden-observer");this.$hiddenObserverUnlistener_$=$hiddenObserver$$.add(this.$handleMutationObserverNotification_$.bind(this))}this.$observeEntries_$.push($newState$$)};
$JSCompiler_prototypeAlias$$.unobserve=function($element$jscomp$86$$){for(var $i$jscomp$46$$=0;$i$jscomp$46$$<this.$observeEntries_$.length;$i$jscomp$46$$++)if(this.$observeEntries_$[$i$jscomp$46$$].element===$element$jscomp$86$$){this.$observeEntries_$.splice($i$jscomp$46$$,1);0>=this.$observeEntries_$.length&&$JSCompiler_StaticMethods_disconnectMutationObserver_$$(this);return}$dev$$module$src$log$$().warn("INTERSECTION-OBSERVER","unobserve non-observed element")};
$JSCompiler_prototypeAlias$$.tick=function($hostViewport$jscomp$1$$,$opt_iframe$$){$opt_iframe$$&&($hostViewport$jscomp$1$$=$moveLayoutRect$$module$src$layout_rect$$($hostViewport$jscomp$1$$,-$opt_iframe$$.left,-$opt_iframe$$.top),$opt_iframe$$=$moveLayoutRect$$module$src$layout_rect$$($opt_iframe$$,-$opt_iframe$$.left,-$opt_iframe$$.top));this.$lastViewportRect_$=$hostViewport$jscomp$1$$;this.$lastIframeRect_$=$opt_iframe$$;for(var $changes$$=[],$i$jscomp$47$$=0;$i$jscomp$47$$<this.$observeEntries_$.length;$i$jscomp$47$$++){var $change$jscomp$2$$=
$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$$(this,this.$observeEntries_$[$i$jscomp$47$$],$hostViewport$jscomp$1$$,$opt_iframe$$);$change$jscomp$2$$&&$changes$$.push($change$jscomp$2$$)}$changes$$.length&&this.$callback_$($changes$$)};
function $JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$$($JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_inline_result$jscomp$78_JSCompiler_rootBounds$jscomp$inline_307_JSCompiler_sortedThreshold$jscomp$inline_295$$,$JSCompiler_hostViewport$jscomp$inline_303_state$jscomp$1$$,$JSCompiler_intersection$jscomp$inline_304_hostViewport$jscomp$2$$,$JSCompiler_boundingClientRect$jscomp$inline_306_opt_iframe$jscomp$1$$){var $element$jscomp$87$$=$JSCompiler_hostViewport$jscomp$inline_303_state$jscomp$1$$.element,
$elementRect$$=$element$jscomp$87$$.getLayoutBox(),$JSCompiler_inline_result$jscomp$77_JSCompiler_larger$jscomp$inline_291_JSCompiler_largerBoxArea$jscomp$inline_293_owner$jscomp$1$$=$element$jscomp$87$$.getOwner(),$ownerRect$$=$JSCompiler_inline_result$jscomp$77_JSCompiler_larger$jscomp$inline_291_JSCompiler_largerBoxArea$jscomp$inline_293_owner$jscomp$1$$&&$JSCompiler_inline_result$jscomp$77_JSCompiler_larger$jscomp$inline_291_JSCompiler_largerBoxArea$jscomp$inline_293_owner$jscomp$1$$.getLayoutBox(),
$intersectionRect$$=$rectIntersection$$module$src$layout_rect$$($elementRect$$,$ownerRect$$,$JSCompiler_intersection$jscomp$inline_304_hostViewport$jscomp$2$$,$JSCompiler_boundingClientRect$jscomp$inline_306_opt_iframe$jscomp$1$$)||$layoutRectLtwh$$module$src$layout_rect$$(0,0,0,0),$JSCompiler_smaller$jscomp$inline_290_JSCompiler_smallerBoxArea$jscomp$inline_292_JSCompiler_startIdx$jscomp$inline_297$$=$intersectionRect$$;$JSCompiler_inline_result$jscomp$77_JSCompiler_larger$jscomp$inline_291_JSCompiler_largerBoxArea$jscomp$inline_293_owner$jscomp$1$$=
$elementRect$$;$JSCompiler_smaller$jscomp$inline_290_JSCompiler_smallerBoxArea$jscomp$inline_292_JSCompiler_startIdx$jscomp$inline_297$$=$JSCompiler_smaller$jscomp$inline_290_JSCompiler_smallerBoxArea$jscomp$inline_292_JSCompiler_startIdx$jscomp$inline_297$$.width*$JSCompiler_smaller$jscomp$inline_290_JSCompiler_smallerBoxArea$jscomp$inline_292_JSCompiler_startIdx$jscomp$inline_297$$.height;$JSCompiler_inline_result$jscomp$77_JSCompiler_larger$jscomp$inline_291_JSCompiler_largerBoxArea$jscomp$inline_293_owner$jscomp$1$$=
$JSCompiler_inline_result$jscomp$77_JSCompiler_larger$jscomp$inline_291_JSCompiler_largerBoxArea$jscomp$inline_293_owner$jscomp$1$$.width*$JSCompiler_inline_result$jscomp$77_JSCompiler_larger$jscomp$inline_291_JSCompiler_largerBoxArea$jscomp$inline_293_owner$jscomp$1$$.height;$JSCompiler_inline_result$jscomp$77_JSCompiler_larger$jscomp$inline_291_JSCompiler_largerBoxArea$jscomp$inline_293_owner$jscomp$1$$=0===$JSCompiler_inline_result$jscomp$77_JSCompiler_larger$jscomp$inline_291_JSCompiler_largerBoxArea$jscomp$inline_293_owner$jscomp$1$$?
0:$JSCompiler_smaller$jscomp$inline_290_JSCompiler_smallerBoxArea$jscomp$inline_292_JSCompiler_startIdx$jscomp$inline_297$$/$JSCompiler_inline_result$jscomp$77_JSCompiler_larger$jscomp$inline_291_JSCompiler_largerBoxArea$jscomp$inline_293_owner$jscomp$1$$;$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_inline_result$jscomp$78_JSCompiler_rootBounds$jscomp$inline_307_JSCompiler_sortedThreshold$jscomp$inline_295$$=$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_inline_result$jscomp$78_JSCompiler_rootBounds$jscomp$inline_307_JSCompiler_sortedThreshold$jscomp$inline_295$$.$threshold_$;
$JSCompiler_smaller$jscomp$inline_290_JSCompiler_smallerBoxArea$jscomp$inline_292_JSCompiler_startIdx$jscomp$inline_297$$=0;var $JSCompiler_endIdx$jscomp$inline_298$$=$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_inline_result$jscomp$78_JSCompiler_rootBounds$jscomp$inline_307_JSCompiler_sortedThreshold$jscomp$inline_295$$.length;if(0==$JSCompiler_inline_result$jscomp$77_JSCompiler_larger$jscomp$inline_291_JSCompiler_largerBoxArea$jscomp$inline_293_owner$jscomp$1$$)$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_inline_result$jscomp$78_JSCompiler_rootBounds$jscomp$inline_307_JSCompiler_sortedThreshold$jscomp$inline_295$$=
0;else{for(var $JSCompiler_mid$jscomp$inline_299$$=($JSCompiler_smaller$jscomp$inline_290_JSCompiler_smallerBoxArea$jscomp$inline_292_JSCompiler_startIdx$jscomp$inline_297$$+$JSCompiler_endIdx$jscomp$inline_298$$)/2|0;$JSCompiler_smaller$jscomp$inline_290_JSCompiler_smallerBoxArea$jscomp$inline_292_JSCompiler_startIdx$jscomp$inline_297$$<$JSCompiler_mid$jscomp$inline_299$$;)$JSCompiler_inline_result$jscomp$77_JSCompiler_larger$jscomp$inline_291_JSCompiler_largerBoxArea$jscomp$inline_293_owner$jscomp$1$$<
$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_inline_result$jscomp$78_JSCompiler_rootBounds$jscomp$inline_307_JSCompiler_sortedThreshold$jscomp$inline_295$$[$JSCompiler_mid$jscomp$inline_299$$]?$JSCompiler_endIdx$jscomp$inline_298$$=$JSCompiler_mid$jscomp$inline_299$$:$JSCompiler_smaller$jscomp$inline_290_JSCompiler_smallerBoxArea$jscomp$inline_292_JSCompiler_startIdx$jscomp$inline_297$$=$JSCompiler_mid$jscomp$inline_299$$,$JSCompiler_mid$jscomp$inline_299$$=($JSCompiler_smaller$jscomp$inline_290_JSCompiler_smallerBoxArea$jscomp$inline_292_JSCompiler_startIdx$jscomp$inline_297$$+
$JSCompiler_endIdx$jscomp$inline_298$$)/2|0;$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_inline_result$jscomp$78_JSCompiler_rootBounds$jscomp$inline_307_JSCompiler_sortedThreshold$jscomp$inline_295$$=$JSCompiler_endIdx$jscomp$inline_298$$}var $newThresholdSlot$$=$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_inline_result$jscomp$78_JSCompiler_rootBounds$jscomp$inline_307_JSCompiler_sortedThreshold$jscomp$inline_295$$;if($newThresholdSlot$$==
$JSCompiler_hostViewport$jscomp$inline_303_state$jscomp$1$$.currentThresholdSlot)return null;$JSCompiler_hostViewport$jscomp$inline_303_state$jscomp$1$$.currentThresholdSlot=$newThresholdSlot$$;$JSCompiler_hostViewport$jscomp$inline_303_state$jscomp$1$$=$JSCompiler_boundingClientRect$jscomp$inline_306_opt_iframe$jscomp$1$$?null:$JSCompiler_intersection$jscomp$inline_304_hostViewport$jscomp$2$$;$JSCompiler_intersection$jscomp$inline_304_hostViewport$jscomp$2$$=$intersectionRect$$;$JSCompiler_boundingClientRect$jscomp$inline_306_opt_iframe$jscomp$1$$=
$elementRect$$;if($JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_inline_result$jscomp$78_JSCompiler_rootBounds$jscomp$inline_307_JSCompiler_sortedThreshold$jscomp$inline_295$$=$JSCompiler_hostViewport$jscomp$inline_303_state$jscomp$1$$)$JSCompiler_intersection$jscomp$inline_304_hostViewport$jscomp$2$$=$moveLayoutRect$$module$src$layout_rect$$($JSCompiler_intersection$jscomp$inline_304_hostViewport$jscomp$2$$,-$JSCompiler_hostViewport$jscomp$inline_303_state$jscomp$1$$.left,
-$JSCompiler_hostViewport$jscomp$inline_303_state$jscomp$1$$.top),$JSCompiler_boundingClientRect$jscomp$inline_306_opt_iframe$jscomp$1$$=$moveLayoutRect$$module$src$layout_rect$$($JSCompiler_boundingClientRect$jscomp$inline_306_opt_iframe$jscomp$1$$,-$JSCompiler_hostViewport$jscomp$inline_303_state$jscomp$1$$.left,-$JSCompiler_hostViewport$jscomp$inline_303_state$jscomp$1$$.top),$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_inline_result$jscomp$78_JSCompiler_rootBounds$jscomp$inline_307_JSCompiler_sortedThreshold$jscomp$inline_295$$=
$moveLayoutRect$$module$src$layout_rect$$($JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_inline_result$jscomp$78_JSCompiler_rootBounds$jscomp$inline_307_JSCompiler_sortedThreshold$jscomp$inline_295$$,-$JSCompiler_hostViewport$jscomp$inline_303_state$jscomp$1$$.left,-$JSCompiler_hostViewport$jscomp$inline_303_state$jscomp$1$$.top);var $changeEntry$$={time:"undefined"!==typeof performance&&performance.now?performance.now():Date.now()-$INIT_TIME$$module$src$intersection_observer_polyfill$$,
rootBounds:$JSCompiler_StaticMethods_getValidIntersectionChangeEntry_$self_JSCompiler_inline_result$jscomp$78_JSCompiler_rootBounds$jscomp$inline_307_JSCompiler_sortedThreshold$jscomp$inline_295$$,boundingClientRect:$JSCompiler_boundingClientRect$jscomp$inline_306_opt_iframe$jscomp$1$$,intersectionRect:$JSCompiler_intersection$jscomp$inline_304_hostViewport$jscomp$2$$,intersectionRatio:$JSCompiler_inline_result$jscomp$77_JSCompiler_larger$jscomp$inline_291_JSCompiler_largerBoxArea$jscomp$inline_293_owner$jscomp$1$$,
target:$element$jscomp$87$$};return $changeEntry$$}$JSCompiler_prototypeAlias$$.$handleMutationObserverNotification_$=function(){this.$mutationPass_$.isPending()||this.$mutationPass_$.schedule(16)};$JSCompiler_prototypeAlias$$.$handleMutationObserverPass_$=function($element$jscomp$88$$){var $$jscomp$this$jscomp$33$$=this,$viewport$jscomp$1$$=$Services$$module$src$services$viewportForDoc$$($element$jscomp$88$$);$getServiceForDoc$$module$src$service$$($element$jscomp$88$$,"resources").onNextPass(function(){$$jscomp$this$jscomp$33$$.tick($viewport$jscomp$1$$.getRect())})};
function $JSCompiler_StaticMethods_disconnectMutationObserver_$$($JSCompiler_StaticMethods_disconnectMutationObserver_$self$$){$JSCompiler_StaticMethods_disconnectMutationObserver_$self$$.$hiddenObserverUnlistener_$&&$JSCompiler_StaticMethods_disconnectMutationObserver_$self$$.$hiddenObserverUnlistener_$();$JSCompiler_StaticMethods_disconnectMutationObserver_$self$$.$hiddenObserverUnlistener_$=null;$JSCompiler_StaticMethods_disconnectMutationObserver_$self$$.$mutationPass_$&&$JSCompiler_StaticMethods_disconnectMutationObserver_$self$$.$mutationPass_$.cancel();
$JSCompiler_StaticMethods_disconnectMutationObserver_$self$$.$mutationPass_$=null};function $VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model$$($deferred$jscomp$4_spec$jscomp$4$$,$calcVisibility$$){var $$jscomp$this$jscomp$34$$=this;this.$calcVisibility_$=$calcVisibility$$;this.$spec_$=$dict$$module$src$utils$object$$({visiblePercentageMin:Number($deferred$jscomp$4_spec$jscomp$4$$.visiblePercentageMin)/100||0,visiblePercentageMax:Number($deferred$jscomp$4_spec$jscomp$4$$.visiblePercentageMax)/100||1,totalTimeMin:Number($deferred$jscomp$4_spec$jscomp$4$$.totalTimeMin)||
0,totalTimeMax:Number($deferred$jscomp$4_spec$jscomp$4$$.totalTimeMax)||Infinity,continuousTimeMin:Number($deferred$jscomp$4_spec$jscomp$4$$.continuousTimeMin)||0,continuousTimeMax:Number($deferred$jscomp$4_spec$jscomp$4$$.continuousTimeMax)||Infinity});"0"===String($deferred$jscomp$4_spec$jscomp$4$$.visiblePercentageMax).trim()&&(this.$spec_$.visiblePercentageMax=0);this.$ignoreVisibilityForReport_$=void 0!==$deferred$jscomp$4_spec$jscomp$4$$.reportWhen;this.$repeat_$=!0===$deferred$jscomp$4_spec$jscomp$4$$.repeat;
this.$onTriggerObservable_$=new $Observable$$module$src$observable$$;$deferred$jscomp$4_spec$jscomp$4$$=new $Deferred$$module$src$utils$promise$$;this.$eventPromise_$=$deferred$jscomp$4_spec$jscomp$4$$.promise;this.$eventResolver_$=$deferred$jscomp$4_spec$jscomp$4$$.resolve;this.$eventPromise_$.then(function(){$$jscomp$this$jscomp$34$$.$onTriggerObservable_$.fire()});this.$unsubscribe_$=[];this.$createdTime_$=Date.now();this.$reportReady_$=this.$ready_$=!0;this.$scheduledUpdateTimeoutId_$=this.$createReportReadyPromise_$=
null;this.$everMatchedVisibility_$=this.$matchesVisibility_$=!1;this.$initialScrollDepth_$=this.$lastVisibleUpdateTime_$=this.$maxVisiblePercentage_$=this.$minVisiblePercentage_$=this.$loadTimeVisibility_$=this.$lastVisibleTime_$=this.$firstVisibleTime_$=this.$lastSeenTime_$=this.$firstSeenTime_$=this.$totalVisibleTime_$=this.$maxContinuousVisibleTime_$=this.$continuousTime_$=0;this.$waitToReset_$=this.$initialScrollDepthAlreadySet_$=!1;this.$scheduleRepeatId_$=null}$JSCompiler_prototypeAlias$$=$VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model$$.prototype;
$JSCompiler_prototypeAlias$$.$reset_$=function(){var $$jscomp$this$jscomp$35$$=this,$deferred$jscomp$5$$=new $Deferred$$module$src$utils$promise$$;this.$eventPromise_$=$deferred$jscomp$5$$.promise;this.$eventResolver_$=$deferred$jscomp$5$$.resolve;this.$eventPromise_$.then(function(){$$jscomp$this$jscomp$35$$.$onTriggerObservable_$.fire()});this.$scheduleRepeatId_$=null;this.$matchesVisibility_$=this.$everMatchedVisibility_$=!1;this.$lastVisibleUpdateTime_$=this.$maxVisiblePercentage_$=this.$minVisiblePercentage_$=
this.$lastVisibleTime_$=this.$lastSeenTime_$=this.$firstSeenTime_$=this.$firstVisibleTime_$=this.$totalVisibleTime_$=this.$maxContinuousVisibleTime_$=this.$continuousTime_$=0;this.$waitToReset_$=!1};$JSCompiler_prototypeAlias$$.maybeDispose=function(){this.$repeat_$||this.dispose()};
$JSCompiler_prototypeAlias$$.dispose=function(){this.$scheduledUpdateTimeoutId_$&&(clearTimeout(this.$scheduledUpdateTimeoutId_$),this.$scheduledUpdateTimeoutId_$=null);this.$scheduleRepeatId_$&&(clearTimeout(this.$scheduleRepeatId_$),this.$scheduleRepeatId_$=null);this.$unsubscribe_$.forEach(function($unsubscribe$$){$unsubscribe$$()});this.$unsubscribe_$.length=0;this.$eventResolver_$=null;this.$onTriggerObservable_$&&(this.$onTriggerObservable_$.removeAll(),this.$onTriggerObservable_$=null)};
$JSCompiler_prototypeAlias$$.unsubscribe=function($handler$jscomp$11$$){this.$unsubscribe_$.push($handler$jscomp$11$$)};$JSCompiler_prototypeAlias$$.onTriggerEvent=function($handler$jscomp$12$$){this.$onTriggerObservable_$&&this.$onTriggerObservable_$.add($handler$jscomp$12$$);this.$eventPromise_$&&!this.$eventResolver_$&&$handler$jscomp$12$$()};$JSCompiler_prototypeAlias$$.setReady=function($ready$jscomp$1$$){this.$ready_$=$ready$jscomp$1$$;this.update()};
$JSCompiler_prototypeAlias$$.setReportReady=function($callback$jscomp$68$$){this.$reportReady_$=!1;this.$createReportReadyPromise_$=$callback$jscomp$68$$};$JSCompiler_prototypeAlias$$.update=function(){$JSCompiler_StaticMethods_update_$$(this,this.$ready_$?this.$calcVisibility_$():0)};
$JSCompiler_prototypeAlias$$.getState=function($startTime$jscomp$7$$){return $dict$$module$src$utils$object$$({firstSeenTime:$timeBase$$module$extensions$amp_analytics$0_1$visibility_model$$(this.$firstSeenTime_$,$startTime$jscomp$7$$),lastSeenTime:$timeBase$$module$extensions$amp_analytics$0_1$visibility_model$$(this.$lastSeenTime_$,$startTime$jscomp$7$$),lastVisibleTime:$timeBase$$module$extensions$amp_analytics$0_1$visibility_model$$(this.$lastVisibleTime_$,$startTime$jscomp$7$$),firstVisibleTime:$timeBase$$module$extensions$amp_analytics$0_1$visibility_model$$(this.$firstVisibleTime_$,
$startTime$jscomp$7$$),maxContinuousVisibleTime:this.$maxContinuousVisibleTime_$,totalVisibleTime:this.$totalVisibleTime_$,loadTimeVisibility:100*this.$loadTimeVisibility_$||0,minVisiblePercentage:100*this.$minVisiblePercentage_$,maxVisiblePercentage:100*this.$maxVisiblePercentage_$})};
function $JSCompiler_StaticMethods_update_$$($JSCompiler_StaticMethods_update_$self$$,$visibility$$){if($JSCompiler_StaticMethods_update_$self$$.$waitToReset_$)$JSCompiler_StaticMethods_isVisibilityMatch_$$($JSCompiler_StaticMethods_update_$self$$,$visibility$$)||$JSCompiler_StaticMethods_update_$self$$.$reset_$();else if($JSCompiler_StaticMethods_update_$self$$.$eventResolver_$){var $conditionsMet$$=$JSCompiler_StaticMethods_updateCounters_$$($JSCompiler_StaticMethods_update_$self$$,$visibility$$)||
$JSCompiler_StaticMethods_update_$self$$.$ignoreVisibilityForReport_$;if($conditionsMet$$)if($JSCompiler_StaticMethods_update_$self$$.$scheduledUpdateTimeoutId_$&&(clearTimeout($JSCompiler_StaticMethods_update_$self$$.$scheduledUpdateTimeoutId_$),$JSCompiler_StaticMethods_update_$self$$.$scheduledUpdateTimeoutId_$=null),$JSCompiler_StaticMethods_update_$self$$.$reportReady_$)$JSCompiler_StaticMethods_update_$self$$.$eventResolver_$(),$JSCompiler_StaticMethods_update_$self$$.$eventResolver_$=null,
$JSCompiler_StaticMethods_update_$self$$.$repeat_$&&($JSCompiler_StaticMethods_update_$self$$.$waitToReset_$=!0,$JSCompiler_StaticMethods_update_$self$$.$continuousTime_$=0);else{if($JSCompiler_StaticMethods_update_$self$$.$createReportReadyPromise_$){var $reportReadyPromise$$=$JSCompiler_StaticMethods_update_$self$$.$createReportReadyPromise_$();$JSCompiler_StaticMethods_update_$self$$.$createReportReadyPromise_$=null;$reportReadyPromise$$.then(function(){$JSCompiler_StaticMethods_update_$self$$.$reportReady_$=
!0;$JSCompiler_StaticMethods_update_$self$$.update()})}}else if($JSCompiler_StaticMethods_update_$self$$.$matchesVisibility_$&&!$JSCompiler_StaticMethods_update_$self$$.$scheduledUpdateTimeoutId_$){var $timeToWait$jscomp$1$$=$JSCompiler_StaticMethods_computeTimeToWait_$$($JSCompiler_StaticMethods_update_$self$$);0<$timeToWait$jscomp$1$$&&($JSCompiler_StaticMethods_update_$self$$.$scheduledUpdateTimeoutId_$=setTimeout(function(){$JSCompiler_StaticMethods_update_$self$$.$scheduledUpdateTimeoutId_$=
null;$JSCompiler_StaticMethods_update_$self$$.update()},$timeToWait$jscomp$1$$))}else!$JSCompiler_StaticMethods_update_$self$$.$matchesVisibility_$&&$JSCompiler_StaticMethods_update_$self$$.$scheduledUpdateTimeoutId_$&&(clearTimeout($JSCompiler_StaticMethods_update_$self$$.$scheduledUpdateTimeoutId_$),$JSCompiler_StaticMethods_update_$self$$.$scheduledUpdateTimeoutId_$=null)}}
function $JSCompiler_StaticMethods_isVisibilityMatch_$$($JSCompiler_StaticMethods_isVisibilityMatch_$self$$,$visibility$jscomp$1$$){return 1==$JSCompiler_StaticMethods_isVisibilityMatch_$self$$.$spec_$.visiblePercentageMin?1==$visibility$jscomp$1$$:0==$JSCompiler_StaticMethods_isVisibilityMatch_$self$$.$spec_$.visiblePercentageMax?0==$visibility$jscomp$1$$:$visibility$jscomp$1$$>$JSCompiler_StaticMethods_isVisibilityMatch_$self$$.$spec_$.visiblePercentageMin&&$visibility$jscomp$1$$<=$JSCompiler_StaticMethods_isVisibilityMatch_$self$$.$spec_$.visiblePercentageMax}
function $JSCompiler_StaticMethods_updateCounters_$$($JSCompiler_StaticMethods_updateCounters_$self$$,$visibility$jscomp$2$$){var $now$jscomp$2$$=Date.now();0<$visibility$jscomp$2$$&&($JSCompiler_StaticMethods_updateCounters_$self$$.$firstSeenTime_$=$JSCompiler_StaticMethods_updateCounters_$self$$.$firstSeenTime_$||$now$jscomp$2$$,$JSCompiler_StaticMethods_updateCounters_$self$$.$lastSeenTime_$=$now$jscomp$2$$,!$JSCompiler_StaticMethods_updateCounters_$self$$.$loadTimeVisibility_$&&300>$now$jscomp$2$$-
$JSCompiler_StaticMethods_updateCounters_$self$$.$createdTime_$&&($JSCompiler_StaticMethods_updateCounters_$self$$.$loadTimeVisibility_$=$visibility$jscomp$2$$));var $prevMatchesVisibility$$=$JSCompiler_StaticMethods_updateCounters_$self$$.$matchesVisibility_$,$timeSinceLastUpdate$$=$JSCompiler_StaticMethods_updateCounters_$self$$.$lastVisibleUpdateTime_$?$now$jscomp$2$$-$JSCompiler_StaticMethods_updateCounters_$self$$.$lastVisibleUpdateTime_$:0;$JSCompiler_StaticMethods_updateCounters_$self$$.$matchesVisibility_$=
$JSCompiler_StaticMethods_isVisibilityMatch_$$($JSCompiler_StaticMethods_updateCounters_$self$$,$visibility$jscomp$2$$);$JSCompiler_StaticMethods_updateCounters_$self$$.$matchesVisibility_$?($JSCompiler_StaticMethods_updateCounters_$self$$.$everMatchedVisibility_$=!0,$prevMatchesVisibility$$?($JSCompiler_StaticMethods_updateCounters_$self$$.$totalVisibleTime_$+=$timeSinceLastUpdate$$,$JSCompiler_StaticMethods_updateCounters_$self$$.$continuousTime_$+=$timeSinceLastUpdate$$,$JSCompiler_StaticMethods_updateCounters_$self$$.$maxContinuousVisibleTime_$=
Math.max($JSCompiler_StaticMethods_updateCounters_$self$$.$maxContinuousVisibleTime_$,$JSCompiler_StaticMethods_updateCounters_$self$$.$continuousTime_$)):$JSCompiler_StaticMethods_updateCounters_$self$$.$firstVisibleTime_$=$JSCompiler_StaticMethods_updateCounters_$self$$.$firstVisibleTime_$||$now$jscomp$2$$,$JSCompiler_StaticMethods_updateCounters_$self$$.$lastVisibleUpdateTime_$=$now$jscomp$2$$,$JSCompiler_StaticMethods_updateCounters_$self$$.$minVisiblePercentage_$=0<$JSCompiler_StaticMethods_updateCounters_$self$$.$minVisiblePercentage_$?
Math.min($JSCompiler_StaticMethods_updateCounters_$self$$.$minVisiblePercentage_$,$visibility$jscomp$2$$):$visibility$jscomp$2$$,$JSCompiler_StaticMethods_updateCounters_$self$$.$maxVisiblePercentage_$=Math.max($JSCompiler_StaticMethods_updateCounters_$self$$.$maxVisiblePercentage_$,$visibility$jscomp$2$$),$JSCompiler_StaticMethods_updateCounters_$self$$.$lastVisibleTime_$=$now$jscomp$2$$):$prevMatchesVisibility$$&&($JSCompiler_StaticMethods_updateCounters_$self$$.$maxContinuousVisibleTime_$=Math.max($JSCompiler_StaticMethods_updateCounters_$self$$.$maxContinuousVisibleTime_$,
$JSCompiler_StaticMethods_updateCounters_$self$$.$continuousTime_$+$timeSinceLastUpdate$$),$JSCompiler_StaticMethods_updateCounters_$self$$.$lastVisibleUpdateTime_$=0,$JSCompiler_StaticMethods_updateCounters_$self$$.$totalVisibleTime_$+=$timeSinceLastUpdate$$,$JSCompiler_StaticMethods_updateCounters_$self$$.$continuousTime_$=0,$JSCompiler_StaticMethods_updateCounters_$self$$.$lastVisibleTime_$=$now$jscomp$2$$);return $JSCompiler_StaticMethods_updateCounters_$self$$.$everMatchedVisibility_$&&$JSCompiler_StaticMethods_updateCounters_$self$$.$totalVisibleTime_$>=
$JSCompiler_StaticMethods_updateCounters_$self$$.$spec_$.totalTimeMin&&$JSCompiler_StaticMethods_updateCounters_$self$$.$totalVisibleTime_$<=$JSCompiler_StaticMethods_updateCounters_$self$$.$spec_$.totalTimeMax&&$JSCompiler_StaticMethods_updateCounters_$self$$.$maxContinuousVisibleTime_$>=$JSCompiler_StaticMethods_updateCounters_$self$$.$spec_$.continuousTimeMin&&$JSCompiler_StaticMethods_updateCounters_$self$$.$maxContinuousVisibleTime_$<=$JSCompiler_StaticMethods_updateCounters_$self$$.$spec_$.continuousTimeMax}
$JSCompiler_prototypeAlias$$.maybeSetInitialScrollDepth=function($depth$jscomp$10$$){this.$initialScrollDepthAlreadySet_$||(this.$initialScrollDepth_$=$depth$jscomp$10$$,this.$initialScrollDepthAlreadySet_$=!0)};$JSCompiler_prototypeAlias$$.getInitialScrollDepth=function(){return this.$initialScrollDepth_$};
function $JSCompiler_StaticMethods_computeTimeToWait_$$($JSCompiler_StaticMethods_computeTimeToWait_$self$$){var $waitForContinuousTime$$=Math.max($JSCompiler_StaticMethods_computeTimeToWait_$self$$.$spec_$.continuousTimeMin-$JSCompiler_StaticMethods_computeTimeToWait_$self$$.$continuousTime_$,0),$waitForTotalTime$$=Math.max($JSCompiler_StaticMethods_computeTimeToWait_$self$$.$spec_$.totalTimeMin-$JSCompiler_StaticMethods_computeTimeToWait_$self$$.$totalVisibleTime_$,0),$maxWaitTime$$=Math.max($waitForContinuousTime$$,
$waitForTotalTime$$);return Math.min($maxWaitTime$$,$waitForContinuousTime$$||Infinity,$waitForTotalTime$$||Infinity)}function $timeBase$$module$extensions$amp_analytics$0_1$visibility_model$$($time$jscomp$5$$,$baseTime$$){return $time$jscomp$5$$>=$baseTime$$?$time$jscomp$5$$-$baseTime$$:0};function $getMinOpacity$$module$extensions$amp_analytics$0_1$opacity$$($el$jscomp$10_i$jscomp$48$$){var $JSCompiler_el$jscomp$inline_309_JSCompiler_opacity$jscomp$inline_322_JSCompiler_parent$jscomp$inline_314$$=$el$jscomp$10_i$jscomp$48$$.parentElement,$JSCompiler_$jscomp$inline_321_JSCompiler_el$jscomp$inline_318_JSCompiler_nodeList$jscomp$inline_310_JSCompiler_opacityValue$jscomp$inline_323$$=[];if($JSCompiler_el$jscomp$inline_309_JSCompiler_opacity$jscomp$inline_322_JSCompiler_parent$jscomp$inline_314$$){var $JSCompiler_element$jscomp$inline_315$$=
$JSCompiler_el$jscomp$inline_309_JSCompiler_opacity$jscomp$inline_322_JSCompiler_parent$jscomp$inline_314$$;$JSCompiler_$jscomp$inline_321_JSCompiler_el$jscomp$inline_318_JSCompiler_nodeList$jscomp$inline_310_JSCompiler_opacityValue$jscomp$inline_323$$.push($JSCompiler_element$jscomp$inline_315$$);for(var $JSCompiler_i$jscomp$inline_316$$=0;50>$JSCompiler_i$jscomp$inline_316$$;$JSCompiler_i$jscomp$inline_316$$++)if(($JSCompiler_el$jscomp$inline_309_JSCompiler_opacity$jscomp$inline_322_JSCompiler_parent$jscomp$inline_314$$=
$JSCompiler_element$jscomp$inline_315$$.parentNode||$JSCompiler_element$jscomp$inline_315$$.parentElement)&&1==$JSCompiler_el$jscomp$inline_309_JSCompiler_opacity$jscomp$inline_322_JSCompiler_parent$jscomp$inline_314$$.nodeType)$JSCompiler_element$jscomp$inline_315$$=$JSCompiler_el$jscomp$inline_309_JSCompiler_opacity$jscomp$inline_322_JSCompiler_parent$jscomp$inline_314$$,$JSCompiler_$jscomp$inline_321_JSCompiler_el$jscomp$inline_318_JSCompiler_nodeList$jscomp$inline_310_JSCompiler_opacityValue$jscomp$inline_323$$.push($JSCompiler_element$jscomp$inline_315$$);
else if($JSCompiler_el$jscomp$inline_309_JSCompiler_opacity$jscomp$inline_322_JSCompiler_parent$jscomp$inline_314$$&&9==$JSCompiler_el$jscomp$inline_309_JSCompiler_opacity$jscomp$inline_322_JSCompiler_parent$jscomp$inline_314$$.nodeType)if(($JSCompiler_el$jscomp$inline_309_JSCompiler_opacity$jscomp$inline_322_JSCompiler_parent$jscomp$inline_314$$=$JSCompiler_element$jscomp$inline_315$$.ownerDocument.defaultView.frameElement)&&1==$JSCompiler_el$jscomp$inline_309_JSCompiler_opacity$jscomp$inline_322_JSCompiler_parent$jscomp$inline_314$$.nodeType)$JSCompiler_element$jscomp$inline_315$$=
$JSCompiler_el$jscomp$inline_309_JSCompiler_opacity$jscomp$inline_322_JSCompiler_parent$jscomp$inline_314$$,$JSCompiler_$jscomp$inline_321_JSCompiler_el$jscomp$inline_318_JSCompiler_nodeList$jscomp$inline_310_JSCompiler_opacityValue$jscomp$inline_323$$.push($JSCompiler_element$jscomp$inline_315$$);else break;else break}var $parentNodeTree$$=$JSCompiler_$jscomp$inline_321_JSCompiler_el$jscomp$inline_318_JSCompiler_nodeList$jscomp$inline_310_JSCompiler_opacityValue$jscomp$inline_323$$;$parentNodeTree$$.push($el$jscomp$10_i$jscomp$48$$);
var $minOpacityFound$$=1;for($el$jscomp$10_i$jscomp$48$$=0;$el$jscomp$10_i$jscomp$48$$<$parentNodeTree$$.length;$el$jscomp$10_i$jscomp$48$$++){if($JSCompiler_$jscomp$inline_321_JSCompiler_el$jscomp$inline_318_JSCompiler_nodeList$jscomp$inline_310_JSCompiler_opacityValue$jscomp$inline_323$$=$parentNodeTree$$[$el$jscomp$10_i$jscomp$48$$])if($JSCompiler_$jscomp$inline_321_JSCompiler_el$jscomp$inline_318_JSCompiler_nodeList$jscomp$inline_310_JSCompiler_opacityValue$jscomp$inline_323$$=window.getComputedStyle($JSCompiler_$jscomp$inline_321_JSCompiler_el$jscomp$inline_318_JSCompiler_nodeList$jscomp$inline_310_JSCompiler_opacityValue$jscomp$inline_323$$)||
$map$$module$src$utils$object$$(),$JSCompiler_el$jscomp$inline_309_JSCompiler_opacity$jscomp$inline_322_JSCompiler_parent$jscomp$inline_314$$=$JSCompiler_$jscomp$inline_321_JSCompiler_el$jscomp$inline_318_JSCompiler_nodeList$jscomp$inline_310_JSCompiler_opacityValue$jscomp$inline_323$$.opacity,"hidden"===$JSCompiler_$jscomp$inline_321_JSCompiler_el$jscomp$inline_318_JSCompiler_nodeList$jscomp$inline_310_JSCompiler_opacityValue$jscomp$inline_323$$.visibility)var $opacity$$=0;else $JSCompiler_$jscomp$inline_321_JSCompiler_el$jscomp$inline_318_JSCompiler_nodeList$jscomp$inline_310_JSCompiler_opacityValue$jscomp$inline_323$$=
""===$JSCompiler_el$jscomp$inline_309_JSCompiler_opacity$jscomp$inline_322_JSCompiler_parent$jscomp$inline_314$$?1:parseFloat($JSCompiler_el$jscomp$inline_309_JSCompiler_opacity$jscomp$inline_322_JSCompiler_parent$jscomp$inline_314$$),$opacity$$=isNaN($JSCompiler_$jscomp$inline_321_JSCompiler_el$jscomp$inline_318_JSCompiler_nodeList$jscomp$inline_310_JSCompiler_opacityValue$jscomp$inline_323$$)?1:$JSCompiler_$jscomp$inline_321_JSCompiler_el$jscomp$inline_318_JSCompiler_nodeList$jscomp$inline_310_JSCompiler_opacityValue$jscomp$inline_323$$;
else $opacity$$=1;$opacity$$<$minOpacityFound$$&&($minOpacityFound$$=$opacity$$);if(0===$minOpacityFound$$)break}return $minOpacityFound$$};var $visibilityIdCounter$$module$extensions$amp_analytics$0_1$visibility_manager$$=1;function $getElementId$$module$extensions$amp_analytics$0_1$visibility_manager$$($element$jscomp$91$$){var $id$jscomp$37$$=$element$jscomp$91$$.__AMP_VIS_ID;$id$jscomp$37$$||($id$jscomp$37$$=++$visibilityIdCounter$$module$extensions$amp_analytics$0_1$visibility_manager$$,$element$jscomp$91$$.__AMP_VIS_ID=$id$jscomp$37$$);return $id$jscomp$37$$}
function $VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$($parent$jscomp$15$$,$ampdoc$jscomp$25$$){var $$jscomp$this$jscomp$37$$=this;this.parent=$parent$jscomp$15$$;this.ampdoc=$ampdoc$jscomp$25$$;this.$resources_$=$getServiceForDoc$$module$src$service$$($ampdoc$jscomp$25$$,"resources");this.$rootVisibility_$=0;this.$models_$=[];this.$children_$=null;this.$unsubscribe_$=[];this.$maxScrollDepth_$=0;this.parent&&$JSCompiler_StaticMethods_addChild_$$(this.parent,this);var $viewport$jscomp$2$$=
$Services$$module$src$services$viewportForDoc$$(this.ampdoc);$viewport$jscomp$2$$.onChanged(function(){$$jscomp$this$jscomp$37$$.maybeUpdateMaxScrollDepth($viewport$jscomp$2$$.getScrollTop())})}function $JSCompiler_StaticMethods_addChild_$$($JSCompiler_StaticMethods_addChild_$self$$,$child$jscomp$6$$){$JSCompiler_StaticMethods_addChild_$self$$.$children_$||($JSCompiler_StaticMethods_addChild_$self$$.$children_$=[]);$JSCompiler_StaticMethods_addChild_$self$$.$children_$.push($child$jscomp$6$$)}
function $JSCompiler_StaticMethods_removeChild_$$($JSCompiler_StaticMethods_removeChild_$self$$,$child$jscomp$7_index$jscomp$75$$){$JSCompiler_StaticMethods_removeChild_$self$$.$children_$&&($child$jscomp$7_index$jscomp$75$$=$JSCompiler_StaticMethods_removeChild_$self$$.$children_$.indexOf($child$jscomp$7_index$jscomp$75$$),-1!=$child$jscomp$7_index$jscomp$75$$&&$JSCompiler_StaticMethods_removeChild_$self$$.$children_$.splice($child$jscomp$7_index$jscomp$75$$,1))}$JSCompiler_prototypeAlias$$=$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$.prototype;
$JSCompiler_prototypeAlias$$.dispose=function(){this.setRootVisibility(0);for(var $i$12_i$jscomp$50$$=this.$models_$.length-1;0<=$i$12_i$jscomp$50$$;$i$12_i$jscomp$50$$--)this.$models_$[$i$12_i$jscomp$50$$].dispose();this.$unsubscribe_$.forEach(function($i$12_i$jscomp$50$$){$i$12_i$jscomp$50$$()});this.$unsubscribe_$.length=0;this.parent&&$JSCompiler_StaticMethods_removeChild_$$(this.parent,this);if(this.$children_$)for($i$12_i$jscomp$50$$=0;$i$12_i$jscomp$50$$<this.$children_$.length;$i$12_i$jscomp$50$$++)this.$children_$[$i$12_i$jscomp$50$$].dispose()};
$JSCompiler_prototypeAlias$$.unsubscribe=function($handler$jscomp$13$$){this.$unsubscribe_$.push($handler$jscomp$13$$)};$JSCompiler_prototypeAlias$$.getStartTime=function(){};$JSCompiler_prototypeAlias$$.isBackgrounded=function(){};$JSCompiler_prototypeAlias$$.isBackgroundedAtStart=function(){};$JSCompiler_prototypeAlias$$.getRootMinOpacity=function(){};$JSCompiler_prototypeAlias$$.getRootLayoutBox=function(){};
$JSCompiler_prototypeAlias$$.getRootVisibility=function(){return this.parent?0<this.parent.getRootVisibility()?this.$rootVisibility_$:0:this.$rootVisibility_$};$JSCompiler_prototypeAlias$$.setRootVisibility=function($i$jscomp$51_visibility$jscomp$4$$){this.$rootVisibility_$=$i$jscomp$51_visibility$jscomp$4$$;$JSCompiler_StaticMethods_updateModels_$$(this);if(this.$children_$)for($i$jscomp$51_visibility$jscomp$4$$=0;$i$jscomp$51_visibility$jscomp$4$$<this.$children_$.length;$i$jscomp$51_visibility$jscomp$4$$++)$JSCompiler_StaticMethods_updateModels_$$(this.$children_$[$i$jscomp$51_visibility$jscomp$4$$])};
$JSCompiler_prototypeAlias$$.maybeUpdateMaxScrollDepth=function($depth$jscomp$11$$){$depth$jscomp$11$$>this.$maxScrollDepth_$&&(this.$maxScrollDepth_$=$depth$jscomp$11$$)};$JSCompiler_prototypeAlias$$.getMaxScrollDepth=function(){return this.$maxScrollDepth_$};
function $JSCompiler_StaticMethods_updateModels_$$($JSCompiler_StaticMethods_updateModels_$self$$){for(var $i$jscomp$52$$=0;$i$jscomp$52$$<$JSCompiler_StaticMethods_updateModels_$self$$.$models_$.length;$i$jscomp$52$$++)$JSCompiler_StaticMethods_updateModels_$self$$.$models_$[$i$jscomp$52$$].update()}
$JSCompiler_prototypeAlias$$.listenRoot=function($spec$jscomp$5$$,$readyPromise$jscomp$1$$,$createReportPromiseFunc$$,$callback$jscomp$69$$){var $calcVisibility$jscomp$1$$=this.getRootVisibility.bind(this);return $JSCompiler_StaticMethods_createModelAndListen_$$(this,$calcVisibility$jscomp$1$$,$spec$jscomp$5$$,$readyPromise$jscomp$1$$,$createReportPromiseFunc$$,$callback$jscomp$69$$)};
$JSCompiler_prototypeAlias$$.listenElement=function($element$jscomp$92$$,$spec$jscomp$6$$,$readyPromise$jscomp$2$$,$createReportPromiseFunc$jscomp$1$$,$callback$jscomp$70$$){var $calcVisibility$jscomp$2$$=this.getElementVisibility.bind(this,$element$jscomp$92$$);return $JSCompiler_StaticMethods_createModelAndListen_$$(this,$calcVisibility$jscomp$2$$,$spec$jscomp$6$$,$readyPromise$jscomp$2$$,$createReportPromiseFunc$jscomp$1$$,$callback$jscomp$70$$,$element$jscomp$92$$)};
function $JSCompiler_StaticMethods_createModelAndListen_$$($JSCompiler_StaticMethods_createModelAndListen_$self$$,$calcVisibility$jscomp$3$$,$spec$jscomp$7$$,$readyPromise$jscomp$3$$,$createReportPromiseFunc$jscomp$2$$,$callback$jscomp$71$$,$opt_element$jscomp$13$$){if($spec$jscomp$7$$.visiblePercentageThresholds&&void 0==$spec$jscomp$7$$.visiblePercentageMin&&void 0==$spec$jscomp$7$$.visiblePercentageMax){var $unlisteners$$=[],$ranges$$=$spec$jscomp$7$$.visiblePercentageThresholds;if(!$ranges$$||
!Array.isArray($ranges$$))return $user$$module$src$log$$().error("amp-analytics/visibility-manager","invalid visiblePercentageThresholds"),function(){};for(var $i$jscomp$53$$=0;$i$jscomp$53$$<$ranges$$.length;$i$jscomp$53$$++){var $percents$$=$ranges$$[$i$jscomp$53$$];if(Array.isArray($percents$$)&&2==$percents$$.length)if($isFiniteNumber$$module$src$types$$($percents$$[0])&&$isFiniteNumber$$module$src$types$$($percents$$[1])){var $min$$=Number($percents$$[0]),$max$$=Number($percents$$[1]);if(0>$min$$||
100<$max$$||$min$$>$max$$||$min$$==$max$$&&100!=$min$$&&0!=$max$$)$user$$module$src$log$$().error("amp-analytics/visibility-manager","visiblePercentageThresholds entry invalid min/max value");else{var $newSpec$$=$spec$jscomp$7$$;$newSpec$$.visiblePercentageMin=$min$$;$newSpec$$.visiblePercentageMax=$max$$;var $model$13$$=new $VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model$$($newSpec$$,$calcVisibility$jscomp$3$$);$unlisteners$$.push($JSCompiler_StaticMethods_listen_$$($JSCompiler_StaticMethods_createModelAndListen_$self$$,
$model$13$$,$readyPromise$jscomp$3$$,$createReportPromiseFunc$jscomp$2$$,$callback$jscomp$71$$,$opt_element$jscomp$13$$))}}else $user$$module$src$log$$().error("amp-analytics/visibility-manager","visiblePercentageThresholds entry is not valid number");else $user$$module$src$log$$().error("amp-analytics/visibility-manager","visiblePercentageThresholds entry length is not 2")}return function(){$unlisteners$$.forEach(function($JSCompiler_StaticMethods_createModelAndListen_$self$$){return $JSCompiler_StaticMethods_createModelAndListen_$self$$()})}}var $model$$=
new $VisibilityModel$$module$extensions$amp_analytics$0_1$visibility_model$$($spec$jscomp$7$$,$calcVisibility$jscomp$3$$);return $JSCompiler_StaticMethods_listen_$$($JSCompiler_StaticMethods_createModelAndListen_$self$$,$model$$,$readyPromise$jscomp$3$$,$createReportPromiseFunc$jscomp$2$$,$callback$jscomp$71$$,$opt_element$jscomp$13$$)}
function $JSCompiler_StaticMethods_listen_$$($JSCompiler_StaticMethods_listen_$self$$,$model$jscomp$1$$,$readyPromise$jscomp$4$$,$createReportPromiseFunc$jscomp$3$$,$callback$jscomp$72$$,$opt_element$jscomp$14$$){$createReportPromiseFunc$jscomp$3$$&&$model$jscomp$1$$.setReportReady($createReportPromiseFunc$jscomp$3$$);var $viewport$jscomp$3$$=$Services$$module$src$services$viewportForDoc$$($JSCompiler_StaticMethods_listen_$self$$.ampdoc),$scrollDepth$$=$viewport$jscomp$3$$.getScrollTop();$JSCompiler_StaticMethods_listen_$self$$.maybeUpdateMaxScrollDepth($scrollDepth$$);
$readyPromise$jscomp$4$$?($model$jscomp$1$$.setReady(!1),$readyPromise$jscomp$4$$.then(function(){$model$jscomp$1$$.setReady(!0);$model$jscomp$1$$.maybeSetInitialScrollDepth($scrollDepth$$)})):$model$jscomp$1$$.maybeSetInitialScrollDepth($scrollDepth$$);$model$jscomp$1$$.onTriggerEvent(function(){var $readyPromise$jscomp$4$$=$JSCompiler_StaticMethods_listen_$self$$.getStartTime(),$createReportPromiseFunc$jscomp$3$$=$model$jscomp$1$$.getState($readyPromise$jscomp$4$$);$createReportPromiseFunc$jscomp$3$$.backgrounded=
$JSCompiler_StaticMethods_listen_$self$$.isBackgrounded()?1:0;$createReportPromiseFunc$jscomp$3$$.backgroundedAtStart=$JSCompiler_StaticMethods_listen_$self$$.isBackgroundedAtStart()?1:0;$createReportPromiseFunc$jscomp$3$$.totalTime=Date.now()-$readyPromise$jscomp$4$$;if($opt_element$jscomp$14$$){$createReportPromiseFunc$jscomp$3$$.opacity=$getMinOpacity$$module$extensions$amp_analytics$0_1$opacity$$($opt_element$jscomp$14$$);var $scrollDepth$$=$JSCompiler_StaticMethods_listen_$self$$.$resources_$.getResourceForElementOptional($opt_element$jscomp$14$$);
$readyPromise$jscomp$4$$=$scrollDepth$$?$scrollDepth$$.getLayoutBox():$viewport$jscomp$3$$.getLayoutRect($opt_element$jscomp$14$$);var $intersectionRatio$$=$JSCompiler_StaticMethods_listen_$self$$.getElementVisibility($opt_element$jscomp$14$$),$intersectionRect$jscomp$1$$=$JSCompiler_StaticMethods_listen_$self$$.getElementIntersectionRect($opt_element$jscomp$14$$);Object.assign($createReportPromiseFunc$jscomp$3$$,$dict$$module$src$utils$object$$({intersectionRatio:$intersectionRatio$$,intersectionRect:JSON.stringify($intersectionRect$jscomp$1$$)}))}else $createReportPromiseFunc$jscomp$3$$.opacity=
$JSCompiler_StaticMethods_listen_$self$$.getRootMinOpacity(),$createReportPromiseFunc$jscomp$3$$.intersectionRatio=$JSCompiler_StaticMethods_listen_$self$$.getRootVisibility(),$readyPromise$jscomp$4$$=$JSCompiler_StaticMethods_listen_$self$$.getRootLayoutBox();$model$jscomp$1$$.maybeDispose();$readyPromise$jscomp$4$$&&(Object.assign($createReportPromiseFunc$jscomp$3$$,$dict$$module$src$utils$object$$({elementX:$readyPromise$jscomp$4$$.left,elementY:$readyPromise$jscomp$4$$.top,elementWidth:$readyPromise$jscomp$4$$.width,
elementHeight:$readyPromise$jscomp$4$$.height})),$createReportPromiseFunc$jscomp$3$$.initialScrollDepth=$layoutPositionRelativeToScrolledViewport$$module$src$layout_rect$$($readyPromise$jscomp$4$$,$viewport$jscomp$3$$,$model$jscomp$1$$.getInitialScrollDepth()),$createReportPromiseFunc$jscomp$3$$.maxScrollDepth=$layoutPositionRelativeToScrolledViewport$$module$src$layout_rect$$($readyPromise$jscomp$4$$,$viewport$jscomp$3$$,$JSCompiler_StaticMethods_listen_$self$$.getMaxScrollDepth()));$callback$jscomp$72$$($createReportPromiseFunc$jscomp$3$$)});
$JSCompiler_StaticMethods_listen_$self$$.$models_$.push($model$jscomp$1$$);$model$jscomp$1$$.unsubscribe(function(){var $readyPromise$jscomp$4$$=$JSCompiler_StaticMethods_listen_$self$$.$models_$.indexOf($model$jscomp$1$$);-1!=$readyPromise$jscomp$4$$&&$JSCompiler_StaticMethods_listen_$self$$.$models_$.splice($readyPromise$jscomp$4$$,1)});$opt_element$jscomp$14$$&&$model$jscomp$1$$.unsubscribe($JSCompiler_StaticMethods_listen_$self$$.observe($opt_element$jscomp$14$$,function(){return $model$jscomp$1$$.update()}));
$model$jscomp$1$$.update();return function(){$model$jscomp$1$$.dispose()}}$JSCompiler_prototypeAlias$$.observe=function(){};$JSCompiler_prototypeAlias$$.getElementVisibility=function(){};$JSCompiler_prototypeAlias$$.getElementIntersectionRect=function(){};
function $VisibilityManagerForDoc$$module$extensions$amp_analytics$0_1$visibility_manager$$($ampdoc$jscomp$26_root$jscomp$26$$){$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$.call(this,null,$ampdoc$jscomp$26_root$jscomp$26$$);var $$jscomp$this$jscomp$39$$=this;this.$viewer_$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$26_root$jscomp$26$$);this.$viewport_$=$Services$$module$src$services$viewportForDoc$$($ampdoc$jscomp$26_root$jscomp$26$$);this.$backgrounded_$=
!this.$viewer_$.isVisible();this.$backgroundedAtStart_$=this.isBackgrounded();this.$trackedElements_$=$map$$module$src$utils$object$$();this.$intersectionObserver_$=null;if("inabox"==$getMode$$module$src$mode$$(this.ampdoc.win).runtime){$ampdoc$jscomp$26_root$jscomp$26$$=this.ampdoc.getRootNode();var $rootElement$$=$ampdoc$jscomp$26_root$jscomp$26$$.documentElement||$ampdoc$jscomp$26_root$jscomp$26$$.body||$ampdoc$jscomp$26_root$jscomp$26$$;this.unsubscribe(this.observe($rootElement$$,this.setRootVisibility.bind(this)))}else this.setRootVisibility(this.$viewer_$.isVisible()?
1:0),this.unsubscribe(this.$viewer_$.onVisibilityChanged(function(){var $ampdoc$jscomp$26_root$jscomp$26$$=$$jscomp$this$jscomp$39$$.$viewer_$.isVisible();$ampdoc$jscomp$26_root$jscomp$26$$||($$jscomp$this$jscomp$39$$.$backgrounded_$=!0);$$jscomp$this$jscomp$39$$.setRootVisibility($ampdoc$jscomp$26_root$jscomp$26$$?1:0)}))}$$jscomp$inherits$$($VisibilityManagerForDoc$$module$extensions$amp_analytics$0_1$visibility_manager$$,$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$);
$JSCompiler_prototypeAlias$$=$VisibilityManagerForDoc$$module$extensions$amp_analytics$0_1$visibility_manager$$.prototype;$JSCompiler_prototypeAlias$$.dispose=function(){$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$.prototype.dispose.call(this);this.$intersectionObserver_$&&(this.$intersectionObserver_$.disconnect(),this.$intersectionObserver_$=null)};$JSCompiler_prototypeAlias$$.getStartTime=function(){return this.$viewer_$.getFirstVisibleTime()};
$JSCompiler_prototypeAlias$$.isBackgrounded=function(){return this.$backgrounded_$};$JSCompiler_prototypeAlias$$.isBackgroundedAtStart=function(){return this.$backgroundedAtStart_$};$JSCompiler_prototypeAlias$$.getRootMinOpacity=function(){var $root$jscomp$27$$=this.ampdoc.getRootNode();return $getMinOpacity$$module$extensions$amp_analytics$0_1$opacity$$($root$jscomp$27$$.documentElement||$root$jscomp$27$$.body||$root$jscomp$27$$)};
$JSCompiler_prototypeAlias$$.getRootLayoutBox=function(){var $root$jscomp$28$$=this.ampdoc.getRootNode();return this.$viewport_$.getLayoutRect($root$jscomp$28$$.documentElement||$root$jscomp$28$$.body||$root$jscomp$28$$)};
$JSCompiler_prototypeAlias$$.observe=function($element$jscomp$93$$,$listener$jscomp$82$$){var $$jscomp$this$jscomp$40$$=this;$JSCompiler_StaticMethods_polyfillAmpElementIfNeeded_$$(this,$element$jscomp$93$$);var $id$jscomp$38$$=$getElementId$$module$extensions$amp_analytics$0_1$visibility_manager$$($element$jscomp$93$$),$trackedElement$$=this.$trackedElements_$[$id$jscomp$38$$];$trackedElement$$?0<$trackedElement$$.intersectionRatio&&$listener$jscomp$82$$($trackedElement$$.intersectionRatio):($trackedElement$$=
{element:$element$jscomp$93$$,intersectionRatio:0,intersectionRect:null,listeners:[]},this.$trackedElements_$[$id$jscomp$38$$]=$trackedElement$$);$trackedElement$$.listeners.push($listener$jscomp$82$$);this.$intersectionObserver_$||(this.$intersectionObserver_$=$JSCompiler_StaticMethods_createIntersectionObserver_$$(this));this.$intersectionObserver_$.observe($element$jscomp$93$$);return function(){var $trackedElement$$=$$jscomp$this$jscomp$40$$.$trackedElements_$[$id$jscomp$38$$];if($trackedElement$$){var $index$jscomp$77$$=
$trackedElement$$.listeners.indexOf($listener$jscomp$82$$);-1!=$index$jscomp$77$$&&$trackedElement$$.listeners.splice($index$jscomp$77$$,1);0==$trackedElement$$.listeners.length&&($$jscomp$this$jscomp$40$$.$intersectionObserver_$.unobserve($element$jscomp$93$$),delete $$jscomp$this$jscomp$40$$.$trackedElements_$[$id$jscomp$38$$])}}};
$JSCompiler_prototypeAlias$$.getElementVisibility=function($element$jscomp$94_id$jscomp$39_trackedElement$jscomp$2$$){if(0==this.getRootVisibility())return 0;$element$jscomp$94_id$jscomp$39_trackedElement$jscomp$2$$=$getElementId$$module$extensions$amp_analytics$0_1$visibility_manager$$($element$jscomp$94_id$jscomp$39_trackedElement$jscomp$2$$);return($element$jscomp$94_id$jscomp$39_trackedElement$jscomp$2$$=this.$trackedElements_$[$element$jscomp$94_id$jscomp$39_trackedElement$jscomp$2$$])&&$element$jscomp$94_id$jscomp$39_trackedElement$jscomp$2$$.intersectionRatio||
0};
$JSCompiler_prototypeAlias$$.getElementIntersectionRect=function($element$jscomp$95_id$jscomp$40_trackedElement$jscomp$3$$){if(0>=this.getElementVisibility($element$jscomp$95_id$jscomp$40_trackedElement$jscomp$3$$))return null;$element$jscomp$95_id$jscomp$40_trackedElement$jscomp$3$$=$getElementId$$module$extensions$amp_analytics$0_1$visibility_manager$$($element$jscomp$95_id$jscomp$40_trackedElement$jscomp$3$$);return($element$jscomp$95_id$jscomp$40_trackedElement$jscomp$3$$=this.$trackedElements_$[$element$jscomp$95_id$jscomp$40_trackedElement$jscomp$3$$])?$element$jscomp$95_id$jscomp$40_trackedElement$jscomp$3$$.intersectionRect:
null};
function $JSCompiler_StaticMethods_createIntersectionObserver_$$($JSCompiler_StaticMethods_createIntersectionObserver_$self$$){function $ticker$$(){$intersectionObserverPolyfill$$.tick($JSCompiler_StaticMethods_createIntersectionObserver_$self$$.$viewport_$.getRect())}var $win$jscomp$82$$=$JSCompiler_StaticMethods_createIntersectionObserver_$self$$.ampdoc.win;if($nativeIntersectionObserverSupported$$module$src$intersection_observer_polyfill$$($win$jscomp$82$$))return new $win$jscomp$82$$.IntersectionObserver($JSCompiler_StaticMethods_createIntersectionObserver_$self$$.$onIntersectionChanges_$.bind($JSCompiler_StaticMethods_createIntersectionObserver_$self$$),{threshold:$DEFAULT_THRESHOLD$$module$src$intersection_observer_polyfill$$});
var $intersectionObserverPolyfill$$=new $IntersectionObserverPolyfill$$module$src$intersection_observer_polyfill$$($JSCompiler_StaticMethods_createIntersectionObserver_$self$$.$onIntersectionChanges_$.bind($JSCompiler_StaticMethods_createIntersectionObserver_$self$$));$JSCompiler_StaticMethods_createIntersectionObserver_$self$$.unsubscribe($JSCompiler_StaticMethods_createIntersectionObserver_$self$$.$viewport_$.onScroll($ticker$$));$JSCompiler_StaticMethods_createIntersectionObserver_$self$$.unsubscribe($JSCompiler_StaticMethods_createIntersectionObserver_$self$$.$viewport_$.onChanged($ticker$$));
setTimeout($ticker$$);return $intersectionObserverPolyfill$$}
function $JSCompiler_StaticMethods_polyfillAmpElementIfNeeded_$$($JSCompiler_StaticMethods_polyfillAmpElementIfNeeded_$self$$,$element$jscomp$96$$){$nativeIntersectionObserverSupported$$module$src$intersection_observer_polyfill$$($JSCompiler_StaticMethods_polyfillAmpElementIfNeeded_$self$$.ampdoc.win)||"function"==typeof $element$jscomp$96$$.getLayoutBox||($element$jscomp$96$$.getLayoutBox=function(){return $JSCompiler_StaticMethods_polyfillAmpElementIfNeeded_$self$$.$viewport_$.getLayoutRect($element$jscomp$96$$)},$element$jscomp$96$$.getOwner=
function(){return null})}
$JSCompiler_prototypeAlias$$.$onIntersectionChanges_$=function($entries$jscomp$1$$){var $$jscomp$this$jscomp$43$$=this;$entries$jscomp$1$$.forEach(function($entries$jscomp$1$$){var $JSCompiler_id$jscomp$inline_331_JSCompiler_trackedElement$jscomp$inline_332_change$jscomp$3$$=$entries$jscomp$1$$.intersectionRect;$JSCompiler_id$jscomp$inline_331_JSCompiler_trackedElement$jscomp$inline_332_change$jscomp$3$$=$layoutRectLtwh$$module$src$layout_rect$$(Number($JSCompiler_id$jscomp$inline_331_JSCompiler_trackedElement$jscomp$inline_332_change$jscomp$3$$.left),Number($JSCompiler_id$jscomp$inline_331_JSCompiler_trackedElement$jscomp$inline_332_change$jscomp$3$$.top),
Number($JSCompiler_id$jscomp$inline_331_JSCompiler_trackedElement$jscomp$inline_332_change$jscomp$3$$.width),Number($JSCompiler_id$jscomp$inline_331_JSCompiler_trackedElement$jscomp$inline_332_change$jscomp$3$$.height));var $JSCompiler_intersectionRatio$jscomp$inline_329$$=$entries$jscomp$1$$.intersectionRatio;$JSCompiler_intersectionRatio$jscomp$inline_329$$=Math.min(Math.max($JSCompiler_intersectionRatio$jscomp$inline_329$$,0),1);$entries$jscomp$1$$=$getElementId$$module$extensions$amp_analytics$0_1$visibility_manager$$($entries$jscomp$1$$.target);
if($entries$jscomp$1$$=$$jscomp$this$jscomp$43$$.$trackedElements_$[$entries$jscomp$1$$])for($entries$jscomp$1$$.intersectionRatio=$JSCompiler_intersectionRatio$jscomp$inline_329$$,$entries$jscomp$1$$.intersectionRect=$JSCompiler_id$jscomp$inline_331_JSCompiler_trackedElement$jscomp$inline_332_change$jscomp$3$$,$JSCompiler_id$jscomp$inline_331_JSCompiler_trackedElement$jscomp$inline_332_change$jscomp$3$$=0;$JSCompiler_id$jscomp$inline_331_JSCompiler_trackedElement$jscomp$inline_332_change$jscomp$3$$<
$entries$jscomp$1$$.listeners.length;$JSCompiler_id$jscomp$inline_331_JSCompiler_trackedElement$jscomp$inline_332_change$jscomp$3$$++)$entries$jscomp$1$$.listeners[$JSCompiler_id$jscomp$inline_331_JSCompiler_trackedElement$jscomp$inline_332_change$jscomp$3$$]($JSCompiler_intersectionRatio$jscomp$inline_329$$)})};
function $VisibilityManagerForEmbed$$module$extensions$amp_analytics$0_1$visibility_manager$$($parent$jscomp$16$$,$embed$jscomp$2$$){$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$.call(this,$parent$jscomp$16$$,$parent$jscomp$16$$.ampdoc);this.embed=$embed$jscomp$2$$;this.$backgroundedAtStart_$=this.parent.isBackgrounded();this.unsubscribe(this.parent.observe($embed$jscomp$2$$.host,this.setRootVisibility.bind(this)))}
$$jscomp$inherits$$($VisibilityManagerForEmbed$$module$extensions$amp_analytics$0_1$visibility_manager$$,$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$);$JSCompiler_prototypeAlias$$=$VisibilityManagerForEmbed$$module$extensions$amp_analytics$0_1$visibility_manager$$.prototype;$JSCompiler_prototypeAlias$$.getStartTime=function(){return this.embed.getStartTime()};$JSCompiler_prototypeAlias$$.isBackgrounded=function(){return this.parent.isBackgrounded()};
$JSCompiler_prototypeAlias$$.isBackgroundedAtStart=function(){return this.$backgroundedAtStart_$};$JSCompiler_prototypeAlias$$.getRootMinOpacity=function(){return $getMinOpacity$$module$extensions$amp_analytics$0_1$opacity$$(this.embed.iframe)};$JSCompiler_prototypeAlias$$.getRootLayoutBox=function(){var $rootElement$jscomp$4$$=this.embed.iframe;return $Services$$module$src$services$viewportForDoc$$(this.ampdoc).getLayoutRect($rootElement$jscomp$4$$)};
$JSCompiler_prototypeAlias$$.observe=function($element$jscomp$97$$,$listener$jscomp$83$$){return this.parent.observe($element$jscomp$97$$,$listener$jscomp$83$$)};$JSCompiler_prototypeAlias$$.getElementVisibility=function($element$jscomp$98$$){return 0==this.getRootVisibility()?0:this.parent.getElementVisibility($element$jscomp$98$$)};$JSCompiler_prototypeAlias$$.getElementIntersectionRect=function($element$jscomp$99$$){return 0==this.getRootVisibility()?null:this.parent.getElementIntersectionRect($element$jscomp$99$$)};function $VisibilityManagerForMApp$$module$extensions$amp_analytics$0_1$visibility_manager_for_mapp$$($ampdoc$jscomp$27$$,$visibilityInterface$$){$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$.call(this,null,$ampdoc$jscomp$27$$);this.$viewer_$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$27$$);this.$visibilityInterface_$=$visibilityInterface$$;this.$backgroundedAtStart_$=!this.$viewer_$.isVisible();this.$intersectionRect_$=null;this.$disposed_$=!1;this.$visibilityInterface_$.onVisibilityChange(this.$onVisibilityChangeHandler_$.bind(this))}
$$jscomp$inherits$$($VisibilityManagerForMApp$$module$extensions$amp_analytics$0_1$visibility_manager_for_mapp$$,$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$);$JSCompiler_prototypeAlias$$=$VisibilityManagerForMApp$$module$extensions$amp_analytics$0_1$visibility_manager_for_mapp$$.prototype;$JSCompiler_prototypeAlias$$.dispose=function(){$VisibilityManager$$module$extensions$amp_analytics$0_1$visibility_manager$$.prototype.dispose.call(this);this.$disposed_$=!0};
$JSCompiler_prototypeAlias$$.getStartTime=function(){return this.$viewer_$.getFirstVisibleTime()};$JSCompiler_prototypeAlias$$.isBackgrounded=function(){return!this.$viewer_$.isVisible()};$JSCompiler_prototypeAlias$$.isBackgroundedAtStart=function(){return this.$backgroundedAtStart_$};
$JSCompiler_prototypeAlias$$.getRootMinOpacity=function(){var $root$jscomp$29$$=this.ampdoc.getRootNode();return $getMinOpacity$$module$extensions$amp_analytics$0_1$opacity$$($root$jscomp$29$$.documentElement||$root$jscomp$29$$.body||$root$jscomp$29$$)};$JSCompiler_prototypeAlias$$.listenElement=function(){return function(){}};$JSCompiler_prototypeAlias$$.getRootLayoutBox=function(){return this.$intersectionRect_$};
$JSCompiler_prototypeAlias$$.$onVisibilityChangeHandler_$=function($visibilityData$$){if(!this.$disposed_$){var $ratio$jscomp$4$$=$visibilityData$$.visibleRatio;$ratio$jscomp$4$$=Math.min(Math.max(0,$ratio$jscomp$4$$),1);this.setRootVisibility($ratio$jscomp$4$$);this.$intersectionRect_$=$visibilityData$$.visibleRect}};$JSCompiler_prototypeAlias$$.observe=function(){return function(){}};$JSCompiler_prototypeAlias$$.getElementVisibility=function(){return 0};
$JSCompiler_prototypeAlias$$.getElementIntersectionRect=function(){$dev$$module$src$log$$().error("amp-analytics/visibility-manager","element level visibility not supported, getElementIntersectionRect should not be called in VisibilityManager for mApp");return $dict$$module$src$utils$object$$({})};function $AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$($ampdoc$jscomp$28$$,$parent$jscomp$17$$){this.ampdoc=$ampdoc$jscomp$28$$;this.parent=$parent$jscomp$17$$;this.$trackers_$=$map$$module$src$utils$object$$();this.$hostVisibilityService_$=this.$usingHostAPIPromise_$=this.$scrollManager_$=this.$visibilityManager_$=null}$JSCompiler_prototypeAlias$$=$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$.prototype;
$JSCompiler_prototypeAlias$$.isUsingHostAPI=function(){var $$jscomp$this$jscomp$44$$=this;if(this.$usingHostAPIPromise_$)return this.$usingHostAPIPromise_$;$getAmpdoc$$module$src$service$$(this.ampdoc).getHeadNode().querySelector("script[host-service]")?this.$usingHostAPIPromise_$=$getServicePromiseInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$(this.ampdoc),"host-visibility").then(function($visibilityService$$){$$jscomp$this$jscomp$44$$.$hostVisibilityService_$=$visibilityService$$;
return!0}).catch(function($$jscomp$this$jscomp$44$$){if($$jscomp$this$jscomp$44$$.fallback)return!1;throw $user$$module$src$log$$().createError("Host Visibility Service Error");}):this.$usingHostAPIPromise_$=Promise.resolve(!1);return this.$usingHostAPIPromise_$};
$JSCompiler_prototypeAlias$$.dispose=function(){for(var $k$jscomp$8$$ in this.$trackers_$)this.$trackers_$[$k$jscomp$8$$].dispose(),delete this.$trackers_$[$k$jscomp$8$$];this.$visibilityManager_$&&this.$visibilityManager_$.dispose();this.$scrollManager_$&&this.$scrollManager_$.dispose()};$JSCompiler_prototypeAlias$$.getType=function(){};$JSCompiler_prototypeAlias$$.getRoot=function(){};$JSCompiler_prototypeAlias$$.getViewer=function(){return $Services$$module$src$services$viewerForDoc$$(this.ampdoc)};
$JSCompiler_prototypeAlias$$.getRootElement=function(){var $root$jscomp$30$$=this.getRoot();return $root$jscomp$30$$.documentElement||$root$jscomp$30$$.body||$root$jscomp$30$$};$JSCompiler_prototypeAlias$$.getHostElement=function(){};$JSCompiler_prototypeAlias$$.signals=function(){};$JSCompiler_prototypeAlias$$.contains=function($node$jscomp$7$$){return this.getRoot().contains($node$jscomp$7$$)};$JSCompiler_prototypeAlias$$.getElementById=function(){};
$JSCompiler_prototypeAlias$$.getTrackerForWhitelist=function($name$jscomp$95$$,$whitelist$$){var $trackerProfile$$=$whitelist$$[$name$jscomp$95$$];return $trackerProfile$$?this.getTracker($name$jscomp$95$$,$trackerProfile$$):null};$JSCompiler_prototypeAlias$$.getTracker=function($name$jscomp$96$$,$klass$jscomp$1$$){var $tracker$$=this.$trackers_$[$name$jscomp$96$$];$tracker$$||($tracker$$=new $klass$jscomp$1$$(this),this.$trackers_$[$name$jscomp$96$$]=$tracker$$);return $tracker$$};
$JSCompiler_prototypeAlias$$.getTrackerOptional=function($name$jscomp$97$$){return this.$trackers_$[$name$jscomp$97$$]||null};
$JSCompiler_prototypeAlias$$.getElement=function($context$jscomp$9$$,$selector$jscomp$15$$,$selectionMethod$jscomp$6$$){var $$jscomp$this$jscomp$45$$=this;$selectionMethod$jscomp$6$$=void 0===$selectionMethod$jscomp$6$$?null:$selectionMethod$jscomp$6$$;return":root"==$selector$jscomp$15$$?$tryResolve$$module$src$utils$promise$$(function(){return $$jscomp$this$jscomp$45$$.getRootElement()}):":host"==$selector$jscomp$15$$?new Promise(function($context$jscomp$9$$){$context$jscomp$9$$($user$$module$src$log$$().assertElement($$jscomp$this$jscomp$45$$.getHostElement(),
'Element "'+$selector$jscomp$15$$+'" not found'))}):this.ampdoc.whenReady().then(function(){var $result$jscomp$4$$=null;try{if("scope"==$selectionMethod$jscomp$6$$)if(void 0!==$scopeSelectorSupported$$module$src$css$$?$scopeSelectorSupported$$module$src$css$$:$scopeSelectorSupported$$module$src$css$$=$testScopeSelector$$module$src$css$$($context$jscomp$9$$))var $JSCompiler_temp$jscomp$47$$=$context$jscomp$9$$.querySelector($selector$jscomp$15$$.replace(/^|,/g,"$&:scope "));else{var $JSCompiler_fallbackResult$jscomp$inline_337$$=
$scopedQuerySelectionFallback$$module$src$dom$$($context$jscomp$9$$,$selector$jscomp$15$$);$JSCompiler_temp$jscomp$47$$=void 0===$JSCompiler_fallbackResult$jscomp$inline_337$$[0]?null:$JSCompiler_fallbackResult$jscomp$inline_337$$[0]}else $JSCompiler_temp$jscomp$47$$="closest"==$selectionMethod$jscomp$6$$?$closestAncestorElementBySelector$$module$src$dom$$($context$jscomp$9$$,$selector$jscomp$15$$):$$jscomp$this$jscomp$45$$.getRoot().querySelector($selector$jscomp$15$$);var $found$$=$JSCompiler_temp$jscomp$47$$}catch($e$jscomp$29$$){$userAssert$$module$src$log$$(!1,
"Invalid query selector "+$selector$jscomp$15$$)}$found$$&&$$jscomp$this$jscomp$45$$.contains($found$$)&&($result$jscomp$4$$=$found$$);return $user$$module$src$log$$().assertElement($result$jscomp$4$$,'Element "'+$selector$jscomp$15$$+'" not found')})};
$JSCompiler_prototypeAlias$$.getAmpElement=function($context$jscomp$10$$,$selector$jscomp$16$$,$selectionMethod$jscomp$7$$){return this.getElement($context$jscomp$10$$,$selector$jscomp$16$$,$selectionMethod$jscomp$7$$).then(function($context$jscomp$10$$){$userAssert$$module$src$log$$($context$jscomp$10$$.classList.contains("i-amphtml-element"),'Element "%s" is required to be an AMP element',$selector$jscomp$16$$);return $context$jscomp$10$$})};
$JSCompiler_prototypeAlias$$.createSelectiveListener=function($listener$jscomp$84$$,$context$jscomp$11$$,$selector$jscomp$17$$,$selectionMethod$jscomp$8$$){var $$jscomp$this$jscomp$46$$=this;$selectionMethod$jscomp$8$$=void 0===$selectionMethod$jscomp$8$$?null:$selectionMethod$jscomp$8$$;return function($event$jscomp$15$$){if(":host"!=$selector$jscomp$17$$)for(var $rootElement$jscomp$6$$=$$jscomp$this$jscomp$46$$.getRootElement(),$isSelectAny$$="*"==$selector$jscomp$17$$,$isSelectRoot$$=":root"==
$selector$jscomp$17$$,$target$jscomp$97$$=$event$jscomp$15$$.target;$target$jscomp$97$$&&$$jscomp$this$jscomp$46$$.contains($target$jscomp$97$$)&&("scope"!=$selectionMethod$jscomp$8$$||$isSelectRoot$$||$context$jscomp$11$$.contains($target$jscomp$97$$));){if("closest"!=$selectionMethod$jscomp$8$$||$target$jscomp$97$$.contains($context$jscomp$11$$)){var $JSCompiler_temp$jscomp$82$$;if(!($JSCompiler_temp$jscomp$82$$=$isSelectAny$$||$isSelectRoot$$&&$target$jscomp$97$$==$rootElement$jscomp$6$$)){var $JSCompiler_selector$jscomp$inline_340$$=
$selector$jscomp$17$$;try{$JSCompiler_temp$jscomp$82$$=$matches$$module$src$dom$$($target$jscomp$97$$,$JSCompiler_selector$jscomp$inline_340$$)}catch($JSCompiler_e$jscomp$inline_341$$){$user$$module$src$log$$().error("amp-analytics/analytics-root","Bad query selector.",$JSCompiler_selector$jscomp$inline_340$$,$JSCompiler_e$jscomp$inline_341$$),$JSCompiler_temp$jscomp$82$$=!1}}if($JSCompiler_temp$jscomp$82$$){$listener$jscomp$84$$($target$jscomp$97$$,$event$jscomp$15$$);break}}$target$jscomp$97$$=
$target$jscomp$97$$.parentElement}}};$JSCompiler_prototypeAlias$$.whenIniLoaded=function(){};$JSCompiler_prototypeAlias$$.getVisibilityManager=function(){this.$visibilityManager_$||(this.$visibilityManager_$=this.createVisibilityManager());return this.$visibilityManager_$};$JSCompiler_prototypeAlias$$.createVisibilityManager=function(){};
$JSCompiler_prototypeAlias$$.getScrollManager=function(){this.$scrollManager_$||(this.$scrollManager_$=new $ScrollManager$$module$extensions$amp_analytics$0_1$scroll_manager$$(this.ampdoc));return this.$scrollManager_$};function $AmpdocAnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$($ampdoc$jscomp$29$$){$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$.call(this,$ampdoc$jscomp$29$$,null)}
$$jscomp$inherits$$($AmpdocAnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$,$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$);$JSCompiler_prototypeAlias$$=$AmpdocAnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$.prototype;$JSCompiler_prototypeAlias$$.getType=function(){return"ampdoc"};$JSCompiler_prototypeAlias$$.getRoot=function(){return this.ampdoc.getRootNode()};$JSCompiler_prototypeAlias$$.getHostElement=function(){return null};
$JSCompiler_prototypeAlias$$.signals=function(){return this.ampdoc.signals()};$JSCompiler_prototypeAlias$$.getElementById=function($id$jscomp$42$$){return this.ampdoc.getElementById($id$jscomp$42$$)};
$JSCompiler_prototypeAlias$$.whenIniLoaded=function(){var $rect$jscomp$6_size$jscomp$16_viewport$jscomp$4$$=$Services$$module$src$services$viewportForDoc$$(this.ampdoc);"inabox"==$getMode$$module$src$mode$$(this.ampdoc.win).runtime?$rect$jscomp$6_size$jscomp$16_viewport$jscomp$4$$=$rect$jscomp$6_size$jscomp$16_viewport$jscomp$4$$.getLayoutRect(this.getRootElement()):($rect$jscomp$6_size$jscomp$16_viewport$jscomp$4$$=$rect$jscomp$6_size$jscomp$16_viewport$jscomp$4$$.getSize(),$rect$jscomp$6_size$jscomp$16_viewport$jscomp$4$$=
$layoutRectLtwh$$module$src$layout_rect$$(0,0,$rect$jscomp$6_size$jscomp$16_viewport$jscomp$4$$.width,$rect$jscomp$6_size$jscomp$16_viewport$jscomp$4$$.height));return $whenContentIniLoad$$module$src$friendly_iframe_embed$$(this.ampdoc,this.ampdoc.win,$rect$jscomp$6_size$jscomp$16_viewport$jscomp$4$$)};
$JSCompiler_prototypeAlias$$.createVisibilityManager=function(){return this.$hostVisibilityService_$?(fetch("http://localhost:8000/visiblityManagerForMAPP"),new $VisibilityManagerForMApp$$module$extensions$amp_analytics$0_1$visibility_manager_for_mapp$$(this.ampdoc,this.$hostVisibilityService_$)):new $VisibilityManagerForDoc$$module$extensions$amp_analytics$0_1$visibility_manager$$(this.ampdoc)};
function $EmbedAnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$($ampdoc$jscomp$30$$,$embed$jscomp$3$$,$parent$jscomp$18$$){$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$.call(this,$ampdoc$jscomp$30$$,$parent$jscomp$18$$);this.embed=$embed$jscomp$3$$}$$jscomp$inherits$$($EmbedAnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$,$AnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$);$JSCompiler_prototypeAlias$$=$EmbedAnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$.prototype;
$JSCompiler_prototypeAlias$$.getType=function(){return"embed"};$JSCompiler_prototypeAlias$$.getRoot=function(){return this.embed.win.document};$JSCompiler_prototypeAlias$$.getHostElement=function(){return this.embed.iframe};$JSCompiler_prototypeAlias$$.signals=function(){return this.embed.signals()};$JSCompiler_prototypeAlias$$.getElementById=function($id$jscomp$43$$){return this.embed.win.document.getElementById($id$jscomp$43$$)};$JSCompiler_prototypeAlias$$.whenIniLoaded=function(){return this.embed.whenIniLoaded()};
$JSCompiler_prototypeAlias$$.createVisibilityManager=function(){return new $VisibilityManagerForEmbed$$module$extensions$amp_analytics$0_1$visibility_manager$$(this.parent.getVisibilityManager(),this.embed)};function $AnalyticsGroup$$module$extensions$amp_analytics$0_1$analytics_group$$($root$jscomp$31$$,$analyticsElement$$){this.$root_$=$root$jscomp$31$$;this.$analyticsElement_$=$analyticsElement$$;this.$listeners_$=[]}$AnalyticsGroup$$module$extensions$amp_analytics$0_1$analytics_group$$.prototype.dispose=function(){this.$listeners_$.forEach(function($listener$jscomp$85$$){$listener$jscomp$85$$()})};
$AnalyticsGroup$$module$extensions$amp_analytics$0_1$analytics_group$$.prototype.addTrigger=function($config$jscomp$17_unlisten$jscomp$5$$,$handler$jscomp$14$$){var $eventType$jscomp$25$$=$config$jscomp$17_unlisten$jscomp$5$$.on,$tracker$jscomp$1_trackerKey$jscomp$1$$=$getTrackerKeyName$$module$extensions$amp_analytics$0_1$events$$($eventType$jscomp$25$$),$trackerWhitelist$jscomp$1$$=$getTrackerTypesForParentType$$module$extensions$amp_analytics$0_1$events$$(this.$root_$.getType());$tracker$jscomp$1_trackerKey$jscomp$1$$=
this.$root_$.getTrackerForWhitelist($tracker$jscomp$1_trackerKey$jscomp$1$$,$trackerWhitelist$jscomp$1$$);$userAssert$$module$src$log$$(!!$tracker$jscomp$1_trackerKey$jscomp$1$$,'Trigger type "%s" is not allowed in the %s',$eventType$jscomp$25$$,this.$root_$.getType());$config$jscomp$17_unlisten$jscomp$5$$=$tracker$jscomp$1_trackerKey$jscomp$1$$.add(this.$analyticsElement_$,$eventType$jscomp$25$$,$config$jscomp$17_unlisten$jscomp$5$$,$handler$jscomp$14$$);this.$listeners_$.push($config$jscomp$17_unlisten$jscomp$5$$)};function $InstrumentationService$$module$extensions$amp_analytics$0_1$instrumentation$$($ampdoc$jscomp$31$$){this.ampdoc=$ampdoc$jscomp$31$$;this.$ampdocRoot_$=new $AmpdocAnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$(this.ampdoc)}$InstrumentationService$$module$extensions$amp_analytics$0_1$instrumentation$$.prototype.dispose=function(){this.$ampdocRoot_$.dispose()};
$InstrumentationService$$module$extensions$amp_analytics$0_1$instrumentation$$.prototype.getAnalyticsRoot=function($context$jscomp$12$$){return $JSCompiler_StaticMethods_findRoot_$$(this,$context$jscomp$12$$)};
$InstrumentationService$$module$extensions$amp_analytics$0_1$instrumentation$$.prototype.createAnalyticsGroup=function($analyticsElement$jscomp$1$$){var $root$jscomp$32$$=$JSCompiler_StaticMethods_findRoot_$$(this,$analyticsElement$jscomp$1$$);return new $AnalyticsGroup$$module$extensions$amp_analytics$0_1$analytics_group$$($root$jscomp$32$$,$analyticsElement$jscomp$1$$)};
$InstrumentationService$$module$extensions$amp_analytics$0_1$instrumentation$$.prototype.triggerEventForTarget=function($target$jscomp$98$$,$event$jscomp$16_eventType$jscomp$26$$,$opt_vars$jscomp$1$$){$event$jscomp$16_eventType$jscomp$26$$=new $AnalyticsEvent$$module$extensions$amp_analytics$0_1$events$$($target$jscomp$98$$,$event$jscomp$16_eventType$jscomp$26$$,$opt_vars$jscomp$1$$);$JSCompiler_StaticMethods_findRoot_$$(this,$target$jscomp$98$$).getTracker("custom",$CustomEventTracker$$module$extensions$amp_analytics$0_1$events$$).trigger($event$jscomp$16_eventType$jscomp$26$$)};
function $JSCompiler_StaticMethods_findRoot_$$($JSCompiler_StaticMethods_findRoot_$self$$,$context$jscomp$13_embed$jscomp$4$$){var $frame$$=$getParentWindowFrameElement$$module$src$service$$($context$jscomp$13_embed$jscomp$4$$,$JSCompiler_StaticMethods_findRoot_$self$$.ampdoc.win);if($frame$$&&($context$jscomp$13_embed$jscomp$4$$=$frame$$.__AMP_EMBED__)){var $embedNotNull$$=$context$jscomp$13_embed$jscomp$4$$;return $JSCompiler_StaticMethods_getOrCreateRoot_$$($context$jscomp$13_embed$jscomp$4$$,
function(){return new $EmbedAnalyticsRoot$$module$extensions$amp_analytics$0_1$analytics_root$$($JSCompiler_StaticMethods_findRoot_$self$$.ampdoc,$embedNotNull$$,$JSCompiler_StaticMethods_findRoot_$self$$.$ampdocRoot_$)})}return $JSCompiler_StaticMethods_findRoot_$self$$.$ampdocRoot_$}
function $JSCompiler_StaticMethods_getOrCreateRoot_$$($holder$jscomp$13$$,$factory$$){var $root$jscomp$34$$=$holder$jscomp$13$$.__AMP_AN_ROOT;$root$jscomp$34$$||($root$jscomp$34$$=$factory$$(),$holder$jscomp$13$$.__AMP_AN_ROOT=$root$jscomp$34$$);return $root$jscomp$34$$}
function $instrumentationServicePromiseForDoc$$module$extensions$amp_analytics$0_1$instrumentation$$($elementOrAmpDoc$jscomp$29$$){return $getServicePromiseInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($elementOrAmpDoc$jscomp$29$$),"amp-analytics-instrumentation")};function $LinkerManager$$module$extensions$amp_analytics$0_1$linker_manager$$($ampdoc$jscomp$39$$,$config$jscomp$18$$,$type$jscomp$145$$,$element$jscomp$106$$){this.$ampdoc_$=$ampdoc$jscomp$39$$;this.$config_$=$config$jscomp$18$$.linkers;this.$vars_$=$config$jscomp$18$$.vars||{};this.$type_$=$type$jscomp$145$$;this.$element_$=$element$jscomp$106$$;this.$allLinkerPromises_$=[];this.$resolvedIds_$={};this.$urlService_$=$getExistingServiceForDocInEmbedScope$$module$src$service$$(this.$element_$,"url");
this.$formSubmitService_$=$getServicePromiseInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$39$$),"form-submit-service");this.$formSubmitUnlistener_$=null;this.$variableService_$=$variableServiceFor$$module$extensions$amp_analytics$0_1$variables$$(this.$ampdoc_$.win)}$JSCompiler_prototypeAlias$$=$LinkerManager$$module$extensions$amp_analytics$0_1$linker_manager$$.prototype;
$JSCompiler_prototypeAlias$$.init=function(){var $$jscomp$this$jscomp$51$$=this;if($isObject$$module$src$types$$(this.$config_$)){this.$config_$=$JSCompiler_StaticMethods_processConfig_$$(this,this.$config_$);this.$allLinkerPromises_$=Object.keys(this.$config_$).map(function($navigation$$){var $name$jscomp$98$$=$$jscomp$this$jscomp$51$$.$config_$[$navigation$$].ids,$keys$jscomp$2$$=Object.keys($name$jscomp$98$$),$valuePromises$$=$keys$jscomp$2$$.map(function($navigation$$){var $ids$jscomp$2$$=new $ExpansionOptions$$module$extensions$amp_analytics$0_1$variables$$($$jscomp$this$jscomp$51$$.$vars_$,
void 0,!0);return $$jscomp$this$jscomp$51$$.$expandTemplateWithUrlParams_$($name$jscomp$98$$[$navigation$$],$ids$jscomp$2$$)});return Promise.all($valuePromises$$).then(function($name$jscomp$98$$){var $ids$jscomp$2$$={};$name$jscomp$98$$.forEach(function($$jscomp$this$jscomp$51$$,$navigation$$){$$jscomp$this$jscomp$51$$&&($ids$jscomp$2$$[$keys$jscomp$2$$[$navigation$$]]=$$jscomp$this$jscomp$51$$)});$$jscomp$this$jscomp$51$$.$resolvedIds_$[$navigation$$]=$ids$jscomp$2$$})});if(this.$allLinkerPromises_$.length){var $navigation$$=
$getServiceForDoc$$module$src$service$$(this.$ampdoc_$,"navigation");$navigation$$.registerAnchorMutator(this.$handleAnchorMutation_$.bind(this),2)}$JSCompiler_StaticMethods_enableFormSupport_$$(this);return Promise.all(this.$allLinkerPromises_$)}};$JSCompiler_prototypeAlias$$.dispose=function(){this.$formSubmitUnlistener_$&&this.$formSubmitUnlistener_$()};
function $JSCompiler_StaticMethods_processConfig_$$($JSCompiler_StaticMethods_processConfig_$self$$,$config$jscomp$19$$){var $processedConfig$$={},$defaultConfig$jscomp$1$$={enabled:$JSCompiler_StaticMethods_isLegacyOptIn_$$($JSCompiler_StaticMethods_processConfig_$self$$)&&$JSCompiler_StaticMethods_isSafari12OrAbove_$$($JSCompiler_StaticMethods_processConfig_$self$$)},$linkerNames$$=Object.keys($config$jscomp$19$$).filter(function($JSCompiler_StaticMethods_processConfig_$self$$){var $processedConfig$$=
$config$jscomp$19$$[$JSCompiler_StaticMethods_processConfig_$self$$],$linkerNames$$=$isObject$$module$src$types$$($processedConfig$$);$linkerNames$$||($defaultConfig$jscomp$1$$[$JSCompiler_StaticMethods_processConfig_$self$$]=$processedConfig$$);return $linkerNames$$}),$isProxyOrigin$$=$JSCompiler_StaticMethods_processConfig_$self$$.$urlService_$.isProxyOrigin($JSCompiler_StaticMethods_processConfig_$self$$.$ampdoc_$.win.location);$linkerNames$$.forEach(function($JSCompiler_StaticMethods_processConfig_$self$$){var $linkerNames$$=
Object.assign({},$defaultConfig$jscomp$1$$,$config$jscomp$19$$[$JSCompiler_StaticMethods_processConfig_$self$$]);if(!0!==$linkerNames$$.enabled)$user$$module$src$log$$().info("amp-analytics/linker-manager","linker config for %s is not enabled and will be ignored.",$JSCompiler_StaticMethods_processConfig_$self$$);else if($isProxyOrigin$$||!1===$linkerNames$$.proxyOnly)$linkerNames$$.ids?$processedConfig$$[$JSCompiler_StaticMethods_processConfig_$self$$]=$linkerNames$$:$user$$module$src$log$$().error("amp-analytics/linker-manager",
'"ids" is a required field for use of "linkers".')});return $processedConfig$$}
$JSCompiler_prototypeAlias$$.$expandTemplateWithUrlParams_$=function($template$jscomp$5$$,$expansionOptions$jscomp$1$$){var $$jscomp$this$jscomp$52$$=this,$bindings$$=this.$variableService_$.getMacros();return this.$variableService_$.expandTemplate($template$jscomp$5$$,$expansionOptions$jscomp$1$$).then(function($template$jscomp$5$$){return $Services$$module$src$services$urlReplacementsForDoc$$($$jscomp$this$jscomp$52$$.$element_$).expandUrlAsync($template$jscomp$5$$,$bindings$$)})};
function $JSCompiler_StaticMethods_isLegacyOptIn_$$($JSCompiler_StaticMethods_isLegacyOptIn_$self$$){var $optInMeta$jscomp$1$$=$JSCompiler_StaticMethods_isLegacyOptIn_$self$$.$ampdoc_$.win.document.head.querySelector('meta[name="amp-google-client-id-api"][content="googleanalytics"]');if(!$optInMeta$jscomp$1$$||$optInMeta$jscomp$1$$.hasAttribute("i-amphtml-linker-created")||"googleanalytics"!==$JSCompiler_StaticMethods_isLegacyOptIn_$self$$.$type_$)return!1;$optInMeta$jscomp$1$$.setAttribute("i-amphtml-linker-created",
"");return!0}function $JSCompiler_StaticMethods_isSafari12OrAbove_$$($JSCompiler_StaticMethods_isSafari12OrAbove_$self$$){var $platform$$=$getService$$module$src$service$$($JSCompiler_StaticMethods_isSafari12OrAbove_$self$$.$ampdoc_$.win,"platform");return $platform$$.isSafari()&&12<=$platform$$.getMajorVersion()}
$JSCompiler_prototypeAlias$$.$handleAnchorMutation_$=function($element$jscomp$107$$,$JSCompiler_el$jscomp$inline_344_JSCompiler_temp_const$jscomp$421_event$jscomp$17$$){if($element$jscomp$107$$.href&&"click"===$JSCompiler_el$jscomp$inline_344_JSCompiler_temp_const$jscomp$421_event$jscomp$17$$.type){var $linkerConfigs$$=this.$config_$,$linkerName$$;for($linkerName$$ in $linkerConfigs$$)if(this.$resolvedIds_$[$linkerName$$]){$JSCompiler_el$jscomp$inline_344_JSCompiler_temp_const$jscomp$421_event$jscomp$17$$=
$element$jscomp$107$$;var $JSCompiler_existingParams$jscomp$inline_486_JSCompiler_location$jscomp$inline_485_JSCompiler_name$jscomp$inline_345$$=$linkerName$$,$JSCompiler_href$jscomp$inline_347_JSCompiler_inline_result$jscomp$422_JSCompiler_url$jscomp$inline_483$$=$JSCompiler_el$jscomp$inline_344_JSCompiler_temp_const$jscomp$421_event$jscomp$17$$.href;if($JSCompiler_StaticMethods_isDomainMatch_$$(this,$JSCompiler_el$jscomp$inline_344_JSCompiler_temp_const$jscomp$421_event$jscomp$17$$.hostname,$JSCompiler_existingParams$jscomp$inline_486_JSCompiler_location$jscomp$inline_485_JSCompiler_name$jscomp$inline_345$$,
$linkerConfigs$$[$linkerName$$].destinationDomains)){var $JSCompiler_linkerValue$jscomp$inline_350_JSCompiler_paramsToAdd$jscomp$inline_487$$=$createLinker$$module$extensions$amp_analytics$0_1$linker$$(this.$resolvedIds_$[$JSCompiler_existingParams$jscomp$inline_486_JSCompiler_location$jscomp$inline_485_JSCompiler_name$jscomp$inline_345$$]);if($JSCompiler_linkerValue$jscomp$inline_350_JSCompiler_paramsToAdd$jscomp$inline_487$$){var $JSCompiler_params$jscomp$inline_351_JSCompiler_params$jscomp$inline_484$$=
{};$JSCompiler_params$jscomp$inline_351_JSCompiler_params$jscomp$inline_484$$[$JSCompiler_existingParams$jscomp$inline_486_JSCompiler_location$jscomp$inline_485_JSCompiler_name$jscomp$inline_345$$]=$JSCompiler_linkerValue$jscomp$inline_350_JSCompiler_paramsToAdd$jscomp$inline_487$$;$JSCompiler_existingParams$jscomp$inline_486_JSCompiler_location$jscomp$inline_485_JSCompiler_name$jscomp$inline_345$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_href$jscomp$inline_347_JSCompiler_inline_result$jscomp$422_JSCompiler_url$jscomp$inline_483$$);
$JSCompiler_existingParams$jscomp$inline_486_JSCompiler_location$jscomp$inline_485_JSCompiler_name$jscomp$inline_345$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_existingParams$jscomp$inline_486_JSCompiler_location$jscomp$inline_485_JSCompiler_name$jscomp$inline_345$$.search);$JSCompiler_linkerValue$jscomp$inline_350_JSCompiler_paramsToAdd$jscomp$inline_487$$=$dict$$module$src$utils$object$$({});for(var $JSCompiler_keys$jscomp$inline_488$$=Object.keys($JSCompiler_params$jscomp$inline_351_JSCompiler_params$jscomp$inline_484$$),
$JSCompiler_i$jscomp$inline_489$$=0;$JSCompiler_i$jscomp$inline_489$$<$JSCompiler_keys$jscomp$inline_488$$.length;$JSCompiler_i$jscomp$inline_489$$++)$hasOwn$$module$src$utils$object$$($JSCompiler_existingParams$jscomp$inline_486_JSCompiler_location$jscomp$inline_485_JSCompiler_name$jscomp$inline_345$$,$JSCompiler_keys$jscomp$inline_488$$[$JSCompiler_i$jscomp$inline_489$$])||($JSCompiler_linkerValue$jscomp$inline_350_JSCompiler_paramsToAdd$jscomp$inline_487$$[$JSCompiler_keys$jscomp$inline_488$$[$JSCompiler_i$jscomp$inline_489$$]]=
$JSCompiler_params$jscomp$inline_351_JSCompiler_params$jscomp$inline_484$$[$JSCompiler_keys$jscomp$inline_488$$[$JSCompiler_i$jscomp$inline_489$$]]);$JSCompiler_href$jscomp$inline_347_JSCompiler_inline_result$jscomp$422_JSCompiler_url$jscomp$inline_483$$=$appendEncodedParamStringToUrl$$module$src$url$$($JSCompiler_href$jscomp$inline_347_JSCompiler_inline_result$jscomp$422_JSCompiler_url$jscomp$inline_483$$,$serializeQueryString$$module$src$url$$($JSCompiler_linkerValue$jscomp$inline_350_JSCompiler_paramsToAdd$jscomp$inline_487$$));
$JSCompiler_el$jscomp$inline_344_JSCompiler_temp_const$jscomp$421_event$jscomp$17$$.href=$JSCompiler_href$jscomp$inline_347_JSCompiler_inline_result$jscomp$422_JSCompiler_url$jscomp$inline_483$$}}}}};
function $JSCompiler_StaticMethods_isDomainMatch_$$($JSCompiler_StaticMethods_isDomainMatch_$self_i$jscomp$63$$,$hostname$jscomp$1$$,$JSCompiler_regex$jscomp$inline_355_domain$jscomp$4_name$jscomp$101_sourceOrigin$jscomp$1$$,$$jscomp$destructuring$var49_JSCompiler_temp$jscomp$86_canonicalUrl$jscomp$2_domains$jscomp$1$$){if($$jscomp$destructuring$var49_JSCompiler_temp$jscomp$86_canonicalUrl$jscomp$2_domains$jscomp$1$$&&!Array.isArray($$jscomp$destructuring$var49_JSCompiler_temp$jscomp$86_canonicalUrl$jscomp$2_domains$jscomp$1$$))return $user$$module$src$log$$().warn("amp-analytics/linker-manager",
"%s destinationDomains must be an array.",$JSCompiler_regex$jscomp$inline_355_domain$jscomp$4_name$jscomp$101_sourceOrigin$jscomp$1$$),!1;if($$jscomp$destructuring$var49_JSCompiler_temp$jscomp$86_canonicalUrl$jscomp$2_domains$jscomp$1$$){for($JSCompiler_StaticMethods_isDomainMatch_$self_i$jscomp$63$$=0;$JSCompiler_StaticMethods_isDomainMatch_$self_i$jscomp$63$$<$$jscomp$destructuring$var49_JSCompiler_temp$jscomp$86_canonicalUrl$jscomp$2_domains$jscomp$1$$.length;$JSCompiler_StaticMethods_isDomainMatch_$self_i$jscomp$63$$++){$JSCompiler_regex$jscomp$inline_355_domain$jscomp$4_name$jscomp$101_sourceOrigin$jscomp$1$$=
$$jscomp$destructuring$var49_JSCompiler_temp$jscomp$86_canonicalUrl$jscomp$2_domains$jscomp$1$$[$JSCompiler_StaticMethods_isDomainMatch_$self_i$jscomp$63$$];var $JSCompiler_hostname$jscomp$inline_353_JSCompiler_temp$jscomp$87_JSCompiler_temp$jscomp$88$$;!($JSCompiler_hostname$jscomp$inline_353_JSCompiler_temp$jscomp$87_JSCompiler_temp$jscomp$88$$=$JSCompiler_regex$jscomp$inline_355_domain$jscomp$4_name$jscomp$101_sourceOrigin$jscomp$1$$===$hostname$jscomp$1$$)&&($JSCompiler_hostname$jscomp$inline_353_JSCompiler_temp$jscomp$87_JSCompiler_temp$jscomp$88$$=
-1!==$JSCompiler_regex$jscomp$inline_355_domain$jscomp$4_name$jscomp$101_sourceOrigin$jscomp$1$$.indexOf("*"))&&($JSCompiler_hostname$jscomp$inline_353_JSCompiler_temp$jscomp$87_JSCompiler_temp$jscomp$88$$=$hostname$jscomp$1$$,$JSCompiler_regex$jscomp$inline_355_domain$jscomp$4_name$jscomp$101_sourceOrigin$jscomp$1$$=$JSCompiler_regex$jscomp$inline_355_domain$jscomp$4_name$jscomp$101_sourceOrigin$jscomp$1$$.replace(/[-\/\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*"),$JSCompiler_hostname$jscomp$inline_353_JSCompiler_temp$jscomp$87_JSCompiler_temp$jscomp$88$$=
(new RegExp("^"+$JSCompiler_regex$jscomp$inline_355_domain$jscomp$4_name$jscomp$101_sourceOrigin$jscomp$1$$+"$")).test($JSCompiler_hostname$jscomp$inline_353_JSCompiler_temp$jscomp$87_JSCompiler_temp$jscomp$88$$));if($JSCompiler_hostname$jscomp$inline_353_JSCompiler_temp$jscomp$87_JSCompiler_temp$jscomp$88$$)return!0}return!1}var $winHostname$$=$JSCompiler_StaticMethods_isDomainMatch_$self_i$jscomp$63$$.$ampdoc_$.win.location.hostname;if($winHostname$$===$hostname$jscomp$1$$)return!1;$$jscomp$destructuring$var49_JSCompiler_temp$jscomp$86_canonicalUrl$jscomp$2_domains$jscomp$1$$=
$getServiceForDoc$$module$src$service$$($JSCompiler_StaticMethods_isDomainMatch_$self_i$jscomp$63$$.$ampdoc_$,"documentInfo").get();var $sourceUrl$$=$$jscomp$destructuring$var49_JSCompiler_temp$jscomp$86_canonicalUrl$jscomp$2_domains$jscomp$1$$.sourceUrl;$$jscomp$destructuring$var49_JSCompiler_temp$jscomp$86_canonicalUrl$jscomp$2_domains$jscomp$1$$=$$jscomp$destructuring$var49_JSCompiler_temp$jscomp$86_canonicalUrl$jscomp$2_domains$jscomp$1$$.canonicalUrl;$JSCompiler_regex$jscomp$inline_355_domain$jscomp$4_name$jscomp$101_sourceOrigin$jscomp$1$$=
$JSCompiler_StaticMethods_isDomainMatch_$self_i$jscomp$63$$.$urlService_$.parse($sourceUrl$$).hostname;var $canonicalOrigin$$=$JSCompiler_StaticMethods_isDomainMatch_$self_i$jscomp$63$$.$urlService_$.parse($$jscomp$destructuring$var49_JSCompiler_temp$jscomp$86_canonicalUrl$jscomp$2_domains$jscomp$1$$).hostname;($$jscomp$destructuring$var49_JSCompiler_temp$jscomp$86_canonicalUrl$jscomp$2_domains$jscomp$1$$=$getBaseDomain$$module$extensions$amp_analytics$0_1$linker_manager$$($JSCompiler_regex$jscomp$inline_355_domain$jscomp$4_name$jscomp$101_sourceOrigin$jscomp$1$$)===
$getBaseDomain$$module$extensions$amp_analytics$0_1$linker_manager$$($hostname$jscomp$1$$))||($$jscomp$destructuring$var49_JSCompiler_temp$jscomp$86_canonicalUrl$jscomp$2_domains$jscomp$1$$=$getBaseDomain$$module$extensions$amp_analytics$0_1$linker_manager$$($canonicalOrigin$$)===$getBaseDomain$$module$extensions$amp_analytics$0_1$linker_manager$$($hostname$jscomp$1$$));return $$jscomp$destructuring$var49_JSCompiler_temp$jscomp$86_canonicalUrl$jscomp$2_domains$jscomp$1$$?!0:!1}
function $JSCompiler_StaticMethods_enableFormSupport_$$($JSCompiler_StaticMethods_enableFormSupport_$self$$){$JSCompiler_StaticMethods_enableFormSupport_$self$$.$formSubmitUnlistener_$||$JSCompiler_StaticMethods_enableFormSupport_$self$$.$formSubmitService_$.then(function($formService$$){$JSCompiler_StaticMethods_enableFormSupport_$self$$.$formSubmitUnlistener_$=$formService$$.beforeSubmit($JSCompiler_StaticMethods_enableFormSupport_$self$$.$handleFormSubmit_$.bind($JSCompiler_StaticMethods_enableFormSupport_$self$$))})}
$JSCompiler_prototypeAlias$$.$handleFormSubmit_$=function($JSCompiler_attrs$jscomp$inline_499_JSCompiler_decoratedUrl$jscomp$inline_370_JSCompiler_field$jscomp$inline_494_JSCompiler_inputEl$jscomp$inline_500_JSCompiler_linkerName$jscomp$inline_366_domains$jscomp$2_event$jscomp$18$$){var $form$$=$JSCompiler_attrs$jscomp$inline_499_JSCompiler_decoratedUrl$jscomp$inline_370_JSCompiler_field$jscomp$inline_494_JSCompiler_inputEl$jscomp$inline_500_JSCompiler_linkerName$jscomp$inline_366_domains$jscomp$2_event$jscomp$18$$.form,
$actionXhrMutator$$=$JSCompiler_attrs$jscomp$inline_499_JSCompiler_decoratedUrl$jscomp$inline_370_JSCompiler_field$jscomp$inline_494_JSCompiler_inputEl$jscomp$inline_500_JSCompiler_linkerName$jscomp$inline_366_domains$jscomp$2_event$jscomp$18$$.actionXhrMutator,$linkerName$jscomp$1$$;for($linkerName$jscomp$1$$ in this.$config_$){$JSCompiler_attrs$jscomp$inline_499_JSCompiler_decoratedUrl$jscomp$inline_370_JSCompiler_field$jscomp$inline_494_JSCompiler_inputEl$jscomp$inline_500_JSCompiler_linkerName$jscomp$inline_366_domains$jscomp$2_event$jscomp$18$$=
this.$config_$[$linkerName$jscomp$1$$].destinationDomains;var $JSCompiler_ids$jscomp$inline_367_JSCompiler_linkerValue$jscomp$inline_368_JSCompiler_value$jscomp$inline_493_hostname$jscomp$2_url$jscomp$59$$=$form$$.getAttribute("action-xhr")||$form$$.getAttribute("action");$JSCompiler_ids$jscomp$inline_367_JSCompiler_linkerValue$jscomp$inline_368_JSCompiler_value$jscomp$inline_493_hostname$jscomp$2_url$jscomp$59$$=this.$urlService_$.parse($JSCompiler_ids$jscomp$inline_367_JSCompiler_linkerValue$jscomp$inline_368_JSCompiler_value$jscomp$inline_493_hostname$jscomp$2_url$jscomp$59$$).hostname;
if($JSCompiler_StaticMethods_isDomainMatch_$$(this,$JSCompiler_ids$jscomp$inline_367_JSCompiler_linkerValue$jscomp$inline_368_JSCompiler_value$jscomp$inline_493_hostname$jscomp$2_url$jscomp$59$$,$linkerName$jscomp$1$$,$JSCompiler_attrs$jscomp$inline_499_JSCompiler_decoratedUrl$jscomp$inline_370_JSCompiler_field$jscomp$inline_494_JSCompiler_inputEl$jscomp$inline_500_JSCompiler_linkerName$jscomp$inline_366_domains$jscomp$2_event$jscomp$18$$)){var $JSCompiler_form$jscomp$inline_364_JSCompiler_form$jscomp$inline_496_JSCompiler_url$jscomp$inline_491$$=
$form$$;$JSCompiler_attrs$jscomp$inline_499_JSCompiler_decoratedUrl$jscomp$inline_370_JSCompiler_field$jscomp$inline_494_JSCompiler_inputEl$jscomp$inline_500_JSCompiler_linkerName$jscomp$inline_366_domains$jscomp$2_event$jscomp$18$$=$linkerName$jscomp$1$$;if($JSCompiler_ids$jscomp$inline_367_JSCompiler_linkerValue$jscomp$inline_368_JSCompiler_value$jscomp$inline_493_hostname$jscomp$2_url$jscomp$59$$=this.$resolvedIds_$[$JSCompiler_attrs$jscomp$inline_499_JSCompiler_decoratedUrl$jscomp$inline_370_JSCompiler_field$jscomp$inline_494_JSCompiler_inputEl$jscomp$inline_500_JSCompiler_linkerName$jscomp$inline_366_domains$jscomp$2_event$jscomp$18$$]){$JSCompiler_ids$jscomp$inline_367_JSCompiler_linkerValue$jscomp$inline_368_JSCompiler_value$jscomp$inline_493_hostname$jscomp$2_url$jscomp$59$$=
$createLinker$$module$extensions$amp_analytics$0_1$linker$$($JSCompiler_ids$jscomp$inline_367_JSCompiler_linkerValue$jscomp$inline_368_JSCompiler_value$jscomp$inline_493_hostname$jscomp$2_url$jscomp$59$$);var $JSCompiler_actionXhrUrl$jscomp$inline_369$$=$JSCompiler_form$jscomp$inline_364_JSCompiler_form$jscomp$inline_496_JSCompiler_url$jscomp$inline_491$$.getAttribute("action-xhr");$JSCompiler_actionXhrUrl$jscomp$inline_369$$?($JSCompiler_form$jscomp$inline_364_JSCompiler_form$jscomp$inline_496_JSCompiler_url$jscomp$inline_491$$=
$JSCompiler_actionXhrUrl$jscomp$inline_369$$,$JSCompiler_attrs$jscomp$inline_499_JSCompiler_decoratedUrl$jscomp$inline_370_JSCompiler_field$jscomp$inline_494_JSCompiler_inputEl$jscomp$inline_500_JSCompiler_linkerName$jscomp$inline_366_domains$jscomp$2_event$jscomp$18$$=encodeURIComponent($JSCompiler_attrs$jscomp$inline_499_JSCompiler_decoratedUrl$jscomp$inline_370_JSCompiler_field$jscomp$inline_494_JSCompiler_inputEl$jscomp$inline_500_JSCompiler_linkerName$jscomp$inline_366_domains$jscomp$2_event$jscomp$18$$)+
"="+encodeURIComponent($JSCompiler_ids$jscomp$inline_367_JSCompiler_linkerValue$jscomp$inline_368_JSCompiler_value$jscomp$inline_493_hostname$jscomp$2_url$jscomp$59$$),$JSCompiler_attrs$jscomp$inline_499_JSCompiler_decoratedUrl$jscomp$inline_370_JSCompiler_field$jscomp$inline_494_JSCompiler_inputEl$jscomp$inline_500_JSCompiler_linkerName$jscomp$inline_366_domains$jscomp$2_event$jscomp$18$$=$appendEncodedParamStringToUrl$$module$src$url$$($JSCompiler_form$jscomp$inline_364_JSCompiler_form$jscomp$inline_496_JSCompiler_url$jscomp$inline_491$$,
$JSCompiler_attrs$jscomp$inline_499_JSCompiler_decoratedUrl$jscomp$inline_370_JSCompiler_field$jscomp$inline_494_JSCompiler_inputEl$jscomp$inline_500_JSCompiler_linkerName$jscomp$inline_366_domains$jscomp$2_event$jscomp$18$$,void 0),$actionXhrMutator$$($JSCompiler_attrs$jscomp$inline_499_JSCompiler_decoratedUrl$jscomp$inline_370_JSCompiler_field$jscomp$inline_494_JSCompiler_inputEl$jscomp$inline_500_JSCompiler_linkerName$jscomp$inline_366_domains$jscomp$2_event$jscomp$18$$)):($JSCompiler_attrs$jscomp$inline_499_JSCompiler_decoratedUrl$jscomp$inline_370_JSCompiler_field$jscomp$inline_494_JSCompiler_inputEl$jscomp$inline_500_JSCompiler_linkerName$jscomp$inline_366_domains$jscomp$2_event$jscomp$18$$=
$dict$$module$src$utils$object$$({type:"hidden",name:$JSCompiler_attrs$jscomp$inline_499_JSCompiler_decoratedUrl$jscomp$inline_370_JSCompiler_field$jscomp$inline_494_JSCompiler_inputEl$jscomp$inline_500_JSCompiler_linkerName$jscomp$inline_366_domains$jscomp$2_event$jscomp$18$$,value:$JSCompiler_ids$jscomp$inline_367_JSCompiler_linkerValue$jscomp$inline_368_JSCompiler_value$jscomp$inline_493_hostname$jscomp$2_url$jscomp$59$$}),$JSCompiler_attrs$jscomp$inline_499_JSCompiler_decoratedUrl$jscomp$inline_370_JSCompiler_field$jscomp$inline_494_JSCompiler_inputEl$jscomp$inline_500_JSCompiler_linkerName$jscomp$inline_366_domains$jscomp$2_event$jscomp$18$$=
$createElementWithAttributes$$module$src$dom$$($JSCompiler_form$jscomp$inline_364_JSCompiler_form$jscomp$inline_496_JSCompiler_url$jscomp$inline_491$$.ownerDocument,"input",$JSCompiler_attrs$jscomp$inline_499_JSCompiler_decoratedUrl$jscomp$inline_370_JSCompiler_field$jscomp$inline_494_JSCompiler_inputEl$jscomp$inline_500_JSCompiler_linkerName$jscomp$inline_366_domains$jscomp$2_event$jscomp$18$$),$JSCompiler_form$jscomp$inline_364_JSCompiler_form$jscomp$inline_496_JSCompiler_url$jscomp$inline_491$$.appendChild($JSCompiler_attrs$jscomp$inline_499_JSCompiler_decoratedUrl$jscomp$inline_370_JSCompiler_field$jscomp$inline_494_JSCompiler_inputEl$jscomp$inline_500_JSCompiler_linkerName$jscomp$inline_366_domains$jscomp$2_event$jscomp$18$$))}}}};
function $getBaseDomain$$module$extensions$amp_analytics$0_1$linker_manager$$($domain$jscomp$5$$){return $domain$jscomp$5$$.replace(/^(?:www\.|m\.|amp\.)+/,"")};function $DefaultTransportSerializer$$module$extensions$amp_analytics$0_1$transport_serializer$$(){}
$DefaultTransportSerializer$$module$extensions$amp_analytics$0_1$transport_serializer$$.prototype.generateRequest=function($baseUrl$jscomp$2$$,$segment$$,$withPayload$$){return($withPayload$$=void 0===$withPayload$$?!1:$withPayload$$)?{url:$baseUrl$jscomp$2$$.replace("${extraUrlParams}",""),payload:JSON.stringify($segment$$.extraUrlParams)}:{url:$defaultSerializer$$module$extensions$amp_analytics$0_1$transport_serializer$$($baseUrl$jscomp$2$$,[$segment$$])}};
$DefaultTransportSerializer$$module$extensions$amp_analytics$0_1$transport_serializer$$.prototype.generateBatchRequest=function($baseUrl$jscomp$3$$,$segments$$,$withPayload$jscomp$1$$){return(void 0===$withPayload$jscomp$1$$?0:$withPayload$jscomp$1$$)?{url:$baseUrl$jscomp$3$$.replace("${extraUrlParams}",""),payload:JSON.stringify($segments$$.map(function($baseUrl$jscomp$3$$){return $baseUrl$jscomp$3$$.extraUrlParams}))}:{url:$defaultSerializer$$module$extensions$amp_analytics$0_1$transport_serializer$$($baseUrl$jscomp$3$$,
$segments$$)}};var $TransportSerializers$$module$extensions$amp_analytics$0_1$transport_serializer$$={"default":new $DefaultTransportSerializer$$module$extensions$amp_analytics$0_1$transport_serializer$$};
function $defaultSerializer$$module$extensions$amp_analytics$0_1$transport_serializer$$($baseUrl$jscomp$4$$,$batchSegments$$){var $extraUrlParamsStr$$=$batchSegments$$.map(function($baseUrl$jscomp$4$$){return $serializeQueryString$$module$src$url$$($baseUrl$jscomp$4$$.extraUrlParams)}).filter(function($baseUrl$jscomp$4$$){return!!$baseUrl$jscomp$4$$}).join("&"),$requestUrl$$;return $requestUrl$$=0<=$baseUrl$jscomp$4$$.indexOf("${extraUrlParams}")?$baseUrl$jscomp$4$$.replace("${extraUrlParams}",$extraUrlParamsStr$$):
$appendEncodedParamStringToUrl$$module$src$url$$($baseUrl$jscomp$4$$,$extraUrlParamsStr$$)};var $SANDBOX_AVAILABLE_VARS$$module$extensions$amp_analytics$0_1$sandbox_vars_whitelist$$={RANDOM:!0,CANONICAL_URL:!0,CANONICAL_HOST:!0,CANONICAL_HOSTNAME:!0,CANONICAL_PATH:!0,AMPDOC_URL:!0,AMPDOC_HOST:!0,AMPDOC_HOSTNAME:!0,SOURCE_URL:!0,SOURCE_HOST:!0,SOURCE_HOSTNAME:!0,SOURCE_PATH:!0,TIMESTAMP:!0,TIMEZONE:!0,TIMEZONE_CODE:!0,VIEWPORT_HEIGHT:!0,VIEWPORT_WIDTH:!0,SCREEN_WIDTH:!0,SCREEN_HEIGHT:!0,AVAILABLE_SCREEN_HEIGHT:!0,AVAILABLE_SCREEN_WIDTH:!0,SCREEN_COLOR_DEPTH:!0,DOCUMENT_CHARSET:!0,BROWSER_LANGUAGE:!0,
AMP_VERSION:!0,BACKGROUND_STATE:!0,USER_AGENT:!0,FIRST_CONTENTFUL_PAINT:!0,FIRST_VIEWPORT_READY:!0,MAKE_BODY_VISIBLE:!0};function $yieldThread$$module$extensions$amp_analytics$0_1$resource_timing$$($fn$jscomp$3$$){return new Promise(function($resolve$jscomp$17$$){setTimeout(function(){return $resolve$jscomp$17$$($fn$jscomp$3$$())})})}
function $validateResourceTimingSpec$$module$extensions$amp_analytics$0_1$resource_timing$$($spec$jscomp$9$$){return $isObject$$module$src$types$$($spec$jscomp$9$$.resources)?$spec$jscomp$9$$.encoding&&$spec$jscomp$9$$.encoding.entry&&$spec$jscomp$9$$.encoding.delim?2>$spec$jscomp$9$$.encoding.base||36<$spec$jscomp$9$$.encoding.base?($user$$module$src$log$$().warn("ANALYTICS","resource timing variables only supports bases between 2 and 36"),!1):null!=$spec$jscomp$9$$.responseAfter&&"number"!=typeof $spec$jscomp$9$$.responseAfter?
($user$$module$src$log$$().warn("ANALYTICS",'resourceTimingSpec["responseAfter"] must be a number'),!1):!0:($user$$module$src$log$$().warn("ANALYTICS","resourceTimingSpec is missing or has incomplete encoding options"),!1):($user$$module$src$log$$().warn("ANALYTICS",'resourceTimingSpec missing "resources" field'),!1)}
function $nameForEntry$$module$extensions$amp_analytics$0_1$resource_timing$$($entry$jscomp$2_i$jscomp$64$$,$resourcesByHost$$){var $url$jscomp$60$$=$parseUrlDeprecated$$module$src$url$$($entry$jscomp$2_i$jscomp$64$$.name);for($entry$jscomp$2_i$jscomp$64$$=0;$entry$jscomp$2_i$jscomp$64$$<$resourcesByHost$$.length;++$entry$jscomp$2_i$jscomp$64$$){var $$jscomp$destructuring$var52_resources$jscomp$2$$=$resourcesByHost$$[$entry$jscomp$2_i$jscomp$64$$],$hostPattern$$=$$jscomp$destructuring$var52_resources$jscomp$2$$.hostPattern;
$$jscomp$destructuring$var52_resources$jscomp$2$$=$$jscomp$destructuring$var52_resources$jscomp$2$$.resources;if($hostPattern$$.test($url$jscomp$60$$.host)){var $index$jscomp$79$$=$findIndex$$module$src$utils$array$$($$jscomp$destructuring$var52_resources$jscomp$2$$,function($entry$jscomp$2_i$jscomp$64$$){return $entry$jscomp$2_i$jscomp$64$$.pathPattern.test($url$jscomp$60$$.pathname)&&$entry$jscomp$2_i$jscomp$64$$.queryPattern.test($url$jscomp$60$$.search)});if(-1!=$index$jscomp$79$$)return $$jscomp$destructuring$var52_resources$jscomp$2$$[$index$jscomp$79$$].name}}return null}
function $groupSpecsByHost$$module$extensions$amp_analytics$0_1$resource_timing$$($resourceDefs$$){var $byHost$$={},$name$jscomp$103$$;for($name$jscomp$103$$ in $resourceDefs$$){var $host$$=$resourceDefs$$[$name$jscomp$103$$].host||"",$pattern$jscomp$4$$={name:$name$jscomp$103$$,pathPattern:new RegExp($resourceDefs$$[$name$jscomp$103$$].path||""),queryPattern:new RegExp($resourceDefs$$[$name$jscomp$103$$].query||"")};$byHost$$[$host$$]?$byHost$$[$host$$].resources.push($pattern$jscomp$4$$):$byHost$$[$host$$]=
{hostPattern:new RegExp($host$$),resources:[$pattern$jscomp$4$$]}}var $byHostArray$$=[],$host$20$$;for($host$20$$ in $byHost$$)$byHostArray$$.push($byHost$$[$host$20$$]);return $byHostArray$$}
function $filterEntries$$module$extensions$amp_analytics$0_1$resource_timing$$($entries$jscomp$2$$,$resourceDefs$jscomp$1$$){var $byHost$jscomp$1$$=$groupSpecsByHost$$module$extensions$amp_analytics$0_1$resource_timing$$($resourceDefs$jscomp$1$$),$results$jscomp$2$$=[];$entries$jscomp$2$$.forEach(function($entries$jscomp$2$$){var $resourceDefs$jscomp$1$$=$nameForEntry$$module$extensions$amp_analytics$0_1$resource_timing$$($entries$jscomp$2$$,$byHost$jscomp$1$$);$resourceDefs$jscomp$1$$&&$results$jscomp$2$$.push({entry:$entries$jscomp$2$$,
name:$resourceDefs$jscomp$1$$})});return $results$jscomp$2$$}
function $serialize$$module$extensions$amp_analytics$0_1$resource_timing$$($entries$jscomp$3_promises$jscomp$3$$,$resourceTimingSpec$$,$win$jscomp$108$$){function $format$jscomp$19$$($entries$jscomp$3_promises$jscomp$3$$,$resourceTimingSpec$$){$resourceTimingSpec$$=void 0===$resourceTimingSpec$$?0:$resourceTimingSpec$$;return Math.round($entries$jscomp$3_promises$jscomp$3$$-$resourceTimingSpec$$).toString($encoding$jscomp$2$$.base||10)}var $resources$jscomp$3$$=$resourceTimingSpec$$.resources,$encoding$jscomp$2$$=
$resourceTimingSpec$$.encoding,$variableService$$=$variableServiceFor$$module$extensions$amp_analytics$0_1$variables$$($win$jscomp$108$$);$entries$jscomp$3_promises$jscomp$3$$=$filterEntries$$module$extensions$amp_analytics$0_1$resource_timing$$($entries$jscomp$3_promises$jscomp$3$$,$resources$jscomp$3$$).map(function($entries$jscomp$3_promises$jscomp$3$$){var $resourceTimingSpec$$=$entries$jscomp$3_promises$jscomp$3$$.entry;$entries$jscomp$3_promises$jscomp$3$$={key:$entries$jscomp$3_promises$jscomp$3$$.name,
startTime:$format$jscomp$19$$($resourceTimingSpec$$.startTime),redirectTime:$format$jscomp$19$$($resourceTimingSpec$$.redirectEnd,$resourceTimingSpec$$.redirectStart),domainLookupTime:$format$jscomp$19$$($resourceTimingSpec$$.domainLookupEnd,$resourceTimingSpec$$.domainLookupStart),tcpConnectTime:$format$jscomp$19$$($resourceTimingSpec$$.connectEnd,$resourceTimingSpec$$.connectStart),serverResponseTime:$format$jscomp$19$$($resourceTimingSpec$$.responseStart,$resourceTimingSpec$$.requestStart),networkTransferTime:$format$jscomp$19$$($resourceTimingSpec$$.responseEnd,
$resourceTimingSpec$$.responseStart),transferSize:$format$jscomp$19$$($resourceTimingSpec$$.transferSize||0),encodedBodySize:$format$jscomp$19$$($resourceTimingSpec$$.encodedBodySize||0),decodedBodySize:$format$jscomp$19$$($resourceTimingSpec$$.decodedBodySize||0),duration:$format$jscomp$19$$($resourceTimingSpec$$.duration),initiatorType:$resourceTimingSpec$$.initiatorType};return new $ExpansionOptions$$module$extensions$amp_analytics$0_1$variables$$($entries$jscomp$3_promises$jscomp$3$$,1)}).map(function($entries$jscomp$3_promises$jscomp$3$$){return $variableService$$.expandTemplate($encoding$jscomp$2$$.entry,
$entries$jscomp$3_promises$jscomp$3$$)});return Promise.all($entries$jscomp$3_promises$jscomp$3$$).then(function($entries$jscomp$3_promises$jscomp$3$$){return $entries$jscomp$3_promises$jscomp$3$$.join($encoding$jscomp$2$$.delim)})}
function $serializeResourceTiming$$module$extensions$amp_analytics$0_1$resource_timing$$($win$jscomp$109$$,$resourceTimingSpec$jscomp$1$$){if($resourceTimingSpec$jscomp$1$$.done||!$win$jscomp$109$$.performance||!$win$jscomp$109$$.performance.now||!$win$jscomp$109$$.performance.getEntriesByType||!$validateResourceTimingSpec$$module$extensions$amp_analytics$0_1$resource_timing$$($resourceTimingSpec$jscomp$1$$))return $resourceTimingSpec$jscomp$1$$.done=!0,Promise.resolve("");var $entries$jscomp$4$$=
$win$jscomp$109$$.performance.getEntriesByType("resource");150<=$entries$jscomp$4$$.length&&($resourceTimingSpec$jscomp$1$$.done=!0);var $responseAfter$$=$resourceTimingSpec$jscomp$1$$.responseAfter||0;$resourceTimingSpec$jscomp$1$$.responseAfter=Math.max($responseAfter$$,$win$jscomp$109$$.performance.now());$entries$jscomp$4$$=$entries$jscomp$4$$.filter(function($win$jscomp$109$$){return $win$jscomp$109$$.startTime+$win$jscomp$109$$.duration>=$responseAfter$$});return $entries$jscomp$4$$.length?
$yieldThread$$module$extensions$amp_analytics$0_1$resource_timing$$(function(){return $serialize$$module$extensions$amp_analytics$0_1$resource_timing$$($entries$jscomp$4$$,$resourceTimingSpec$jscomp$1$$,$win$jscomp$109$$)}):Promise.resolve("")}
function $getResourceTiming$$module$extensions$amp_analytics$0_1$resource_timing$$($win$jscomp$110$$,$spec$jscomp$10$$,$startTime$jscomp$9$$){return $spec$jscomp$10$$&&Date.now()<$startTime$jscomp$9$$+6E4?$serializeResourceTiming$$module$extensions$amp_analytics$0_1$resource_timing$$($win$jscomp$110$$,$spec$jscomp$10$$):Promise.resolve("")};function $RequestHandler$$module$extensions$amp_analytics$0_1$requests$$($JSCompiler_i$jscomp$inline_378_element$jscomp$108$$,$JSCompiler_interval$jscomp$inline_379_request$jscomp$6$$,$preconnect$$,$transport$$,$isSandbox$$){this.$element_$=$JSCompiler_i$jscomp$inline_378_element$jscomp$108$$;this.$ampdoc_$=$JSCompiler_i$jscomp$inline_378_element$jscomp$108$$.getAmpDoc();this.win=this.$ampdoc_$.win;this.baseUrl=$JSCompiler_interval$jscomp$inline_379_request$jscomp$6$$.baseUrl;this.$batchInterval_$=
$JSCompiler_interval$jscomp$inline_379_request$jscomp$6$$.batchInterval;this.$reportWindow_$=Number($JSCompiler_interval$jscomp$inline_379_request$jscomp$6$$.reportWindow)||null;this.$batchIntervalPointer_$=null;this.$variableService_$=$variableServiceFor$$module$extensions$amp_analytics$0_1$variables$$(this.win);this.$urlReplacementService_$=$Services$$module$src$services$urlReplacementsForDoc$$($JSCompiler_i$jscomp$inline_378_element$jscomp$108$$);this.$baseUrlTemplatePromise_$=this.$baseUrlPromise_$=
null;this.$batchSegmentPromises_$=[];this.$preconnect_$=$preconnect$$;this.$transport_$=$transport$$;this.$whiteList_$=$isSandbox$$?$SANDBOX_AVAILABLE_VARS$$module$extensions$amp_analytics$0_1$sandbox_vars_whitelist$$:void 0;this.$reportWindowTimeoutId_$=this.$batchIntervalTimeoutId_$=null;this.$reportRequest_$=!0;this.$lastTrigger_$=null;this.$queueSize_$=0;this.$startTime_$=Date.now();$JSCompiler_StaticMethods_initReportWindow_$$(this);if(this.$batchInterval_$){this.$batchInterval_$=Array.isArray(this.$batchInterval_$)?
this.$batchInterval_$:[this.$batchInterval_$];for($JSCompiler_i$jscomp$inline_378_element$jscomp$108$$=0;$JSCompiler_i$jscomp$inline_378_element$jscomp$108$$<this.$batchInterval_$.length;$JSCompiler_i$jscomp$inline_378_element$jscomp$108$$++)$JSCompiler_interval$jscomp$inline_379_request$jscomp$6$$=this.$batchInterval_$[$JSCompiler_i$jscomp$inline_378_element$jscomp$108$$],$userAssert$$module$src$log$$($isFiniteNumber$$module$src$types$$($JSCompiler_interval$jscomp$inline_379_request$jscomp$6$$),
"Invalid batchInterval value: %s",this.$batchInterval_$),$JSCompiler_interval$jscomp$inline_379_request$jscomp$6$$=1E3*Number($JSCompiler_interval$jscomp$inline_379_request$jscomp$6$$),$userAssert$$module$src$log$$(200<=$JSCompiler_interval$jscomp$inline_379_request$jscomp$6$$,"Invalid batchInterval value: %s, interval value must be greater than %s ms.",this.$batchInterval_$,200),this.$batchInterval_$[$JSCompiler_i$jscomp$inline_378_element$jscomp$108$$]=$JSCompiler_interval$jscomp$inline_379_request$jscomp$6$$;
this.$batchIntervalPointer_$=0;$JSCompiler_StaticMethods_refreshBatchInterval_$$(this)}}
$RequestHandler$$module$extensions$amp_analytics$0_1$requests$$.prototype.send=function($configParams$$,$trigger$$,$expansionOption$$){var $$jscomp$this$jscomp$54$$=this,$isImportant$$=!0===$trigger$$.important;if(this.$reportRequest_$||$isImportant$$){this.$queueSize_$++;this.$lastTrigger_$=$trigger$$;var $bindings$jscomp$1$$=this.$variableService_$.getMacros();$bindings$jscomp$1$$.RESOURCE_TIMING=$getResourceTiming$$module$extensions$amp_analytics$0_1$resource_timing$$(this.win,$trigger$$.resourceTimingSpec,
this.$startTime_$);$bindings$jscomp$1$$.CONSENT_STATE=$getConsentStateStr$$module$extensions$amp_analytics$0_1$variables$$(this.$element_$);this.$baseUrlPromise_$||($expansionOption$$.freezeVar("extraUrlParams"),this.$baseUrlTemplatePromise_$=this.$variableService_$.expandTemplate(this.baseUrl,$expansionOption$$),this.$baseUrlPromise_$=this.$baseUrlTemplatePromise_$.then(function($configParams$$){return $$jscomp$this$jscomp$54$$.$urlReplacementService_$.expandUrlAsync($configParams$$,$bindings$jscomp$1$$,
$$jscomp$this$jscomp$54$$.$whiteList_$)}));var $params$jscomp$14$$=Object.assign({},$configParams$$,$trigger$$.extraUrlParams),$timestamp$jscomp$1$$=this.win.Date.now(),$batchSegmentPromise$$=$expandExtraUrlParams$$module$extensions$amp_analytics$0_1$requests$$(this.$variableService_$,this.$urlReplacementService_$,$params$jscomp$14$$,$expansionOption$$,$bindings$jscomp$1$$,this.$whiteList_$).then(function($configParams$$){return $dict$$module$src$utils$object$$({trigger:$trigger$$.on,timestamp:$timestamp$jscomp$1$$,
extraUrlParams:$configParams$$})});this.$batchSegmentPromises_$.push($batchSegmentPromise$$);0==this.$queueSize_$||!$isImportant$$&&this.$batchInterval_$||$JSCompiler_StaticMethods_fire_$$(this)}};
$RequestHandler$$module$extensions$amp_analytics$0_1$requests$$.prototype.dispose=function(){this.$reset_$();this.$batchIntervalTimeoutId_$&&(this.win.clearTimeout(this.$batchIntervalTimeoutId_$),this.$batchIntervalTimeoutId_$=null);this.$reportWindowTimeoutId_$&&(this.win.clearTimeout(this.$reportWindowTimeoutId_$),this.$reportWindowTimeoutId_$=null)};
function $JSCompiler_StaticMethods_fire_$$($JSCompiler_StaticMethods_fire_$self$$){var $baseUrlTemplatePromise$$=$JSCompiler_StaticMethods_fire_$self$$.$baseUrlTemplatePromise_$,$baseUrlPromise$$=$JSCompiler_StaticMethods_fire_$self$$.$baseUrlPromise_$,$segmentPromises$$=$JSCompiler_StaticMethods_fire_$self$$.$batchSegmentPromises_$,$trigger$jscomp$1$$=$JSCompiler_StaticMethods_fire_$self$$.$lastTrigger_$;$JSCompiler_StaticMethods_fire_$self$$.$reset_$();$baseUrlTemplatePromise$$.then(function($baseUrlTemplatePromise$$){$JSCompiler_StaticMethods_fire_$self$$.$preconnect_$.url($baseUrlTemplatePromise$$,
!0);Promise.all([$baseUrlPromise$$,Promise.all($segmentPromises$$)]).then(function($baseUrlTemplatePromise$$){var $baseUrlPromise$$=$baseUrlTemplatePromise$$[0];$baseUrlTemplatePromise$$=$baseUrlTemplatePromise$$[1];0!==$baseUrlTemplatePromise$$.length&&($trigger$jscomp$1$$.iframePing?($userAssert$$module$src$log$$("visible"==$trigger$jscomp$1$$.on,"iframePing is only available on page view requests."),$JSCompiler_StaticMethods_fire_$self$$.$transport_$.sendRequestUsingIframe($baseUrlPromise$$,$baseUrlTemplatePromise$$[0])):
$JSCompiler_StaticMethods_fire_$self$$.$transport_$.sendRequest($baseUrlPromise$$,$baseUrlTemplatePromise$$,!!$JSCompiler_StaticMethods_fire_$self$$.$batchInterval_$))})})}$RequestHandler$$module$extensions$amp_analytics$0_1$requests$$.prototype.$reset_$=function(){this.$queueSize_$=0;this.$baseUrlTemplatePromise_$=this.$baseUrlPromise_$=null;this.$batchSegmentPromises_$=[];this.$lastTrigger_$=null};
function $JSCompiler_StaticMethods_initReportWindow_$$($JSCompiler_StaticMethods_initReportWindow_$self$$){$JSCompiler_StaticMethods_initReportWindow_$self$$.$reportWindow_$&&($JSCompiler_StaticMethods_initReportWindow_$self$$.$reportWindowTimeoutId_$=$JSCompiler_StaticMethods_initReportWindow_$self$$.win.setTimeout(function(){0!=$JSCompiler_StaticMethods_initReportWindow_$self$$.$queueSize_$&&$JSCompiler_StaticMethods_fire_$$($JSCompiler_StaticMethods_initReportWindow_$self$$);$JSCompiler_StaticMethods_initReportWindow_$self$$.$reportRequest_$=
!1;$JSCompiler_StaticMethods_initReportWindow_$self$$.$batchIntervalTimeoutId_$&&($JSCompiler_StaticMethods_initReportWindow_$self$$.win.clearTimeout($JSCompiler_StaticMethods_initReportWindow_$self$$.$batchIntervalTimeoutId_$),$JSCompiler_StaticMethods_initReportWindow_$self$$.$batchIntervalTimeoutId_$=null)},1E3*$JSCompiler_StaticMethods_initReportWindow_$self$$.$reportWindow_$))}
function $JSCompiler_StaticMethods_refreshBatchInterval_$$($JSCompiler_StaticMethods_refreshBatchInterval_$self$$){var $interval$jscomp$4$$=$JSCompiler_StaticMethods_refreshBatchInterval_$self$$.$batchIntervalPointer_$<$JSCompiler_StaticMethods_refreshBatchInterval_$self$$.$batchInterval_$.length?$JSCompiler_StaticMethods_refreshBatchInterval_$self$$.$batchInterval_$[$JSCompiler_StaticMethods_refreshBatchInterval_$self$$.$batchIntervalPointer_$++]:$JSCompiler_StaticMethods_refreshBatchInterval_$self$$.$batchInterval_$[$JSCompiler_StaticMethods_refreshBatchInterval_$self$$.$batchInterval_$.length-
1];$JSCompiler_StaticMethods_refreshBatchInterval_$self$$.$batchIntervalTimeoutId_$=$JSCompiler_StaticMethods_refreshBatchInterval_$self$$.win.setTimeout(function(){0!=$JSCompiler_StaticMethods_refreshBatchInterval_$self$$.$queueSize_$&&$JSCompiler_StaticMethods_fire_$$($JSCompiler_StaticMethods_refreshBatchInterval_$self$$);$JSCompiler_StaticMethods_refreshBatchInterval_$$($JSCompiler_StaticMethods_refreshBatchInterval_$self$$)},$interval$jscomp$4$$)}
function $expandPostMessage$$module$extensions$amp_analytics$0_1$requests$$($ampdoc$jscomp$40$$,$msg$$,$configParams$jscomp$1$$,$trigger$jscomp$2$$,$expansionOption$jscomp$1$$,$element$jscomp$109$$){var $variableService$jscomp$1$$=$variableServiceFor$$module$extensions$amp_analytics$0_1$variables$$($ampdoc$jscomp$40$$.win),$urlReplacementService$$=$Services$$module$src$services$urlReplacementsForDoc$$($element$jscomp$109$$),$bindings$jscomp$2$$=$variableService$jscomp$1$$.getMacros();$expansionOption$jscomp$1$$.freezeVar("extraUrlParams");
var $basePromise$$=$variableService$jscomp$1$$.expandTemplate($msg$$,$expansionOption$jscomp$1$$).then(function($ampdoc$jscomp$40$$){return $urlReplacementService$$.expandStringAsync($ampdoc$jscomp$40$$,$bindings$jscomp$2$$)});return 0>$msg$$.indexOf("${extraUrlParams}")?$basePromise$$:$basePromise$$.then(function($ampdoc$jscomp$40$$){var $msg$$=Object.assign({},$configParams$jscomp$1$$,$trigger$jscomp$2$$.extraUrlParams);return $expandExtraUrlParams$$module$extensions$amp_analytics$0_1$requests$$($variableService$jscomp$1$$,
$urlReplacementService$$,$msg$$,$expansionOption$jscomp$1$$,$bindings$jscomp$2$$).then(function($msg$$){return $defaultSerializer$$module$extensions$amp_analytics$0_1$transport_serializer$$($ampdoc$jscomp$40$$,[$dict$$module$src$utils$object$$({extraUrlParams:$msg$$})])})})}
function $expandExtraUrlParams$$module$extensions$amp_analytics$0_1$requests$$($variableService$jscomp$2$$,$urlReplacements$jscomp$2$$,$params$jscomp$17$$,$expansionOption$jscomp$2$$,$bindings$jscomp$3$$,$opt_whitelist$$){function $expandObject$$($params$jscomp$17$$,$expansionOption$jscomp$2$$){var $params$jscomp$18$$=$params$jscomp$17$$[$expansionOption$jscomp$2$$];if("string"===typeof $params$jscomp$18$$){var $key$jscomp$63$$=$variableService$jscomp$2$$.expandTemplate($params$jscomp$18$$,$option$$).then(function($variableService$jscomp$2$$){return $urlReplacements$jscomp$2$$.expandStringAsync($variableService$jscomp$2$$,
$bindings$jscomp$3$$,$opt_whitelist$$)}).then(function($variableService$jscomp$2$$){return $params$jscomp$17$$[$expansionOption$jscomp$2$$]=$variableService$jscomp$2$$});$requestPromises$$.push($key$jscomp$63$$)}else Array.isArray($params$jscomp$18$$)?$params$jscomp$18$$.forEach(function($variableService$jscomp$2$$,$urlReplacements$jscomp$2$$){return $expandObject$$($params$jscomp$18$$,$urlReplacements$jscomp$2$$)}):$isObject$$module$src$types$$($params$jscomp$18$$)&&null!==$params$jscomp$18$$&&Object.keys($params$jscomp$18$$).forEach(function($variableService$jscomp$2$$){return $expandObject$$($params$jscomp$18$$,
$variableService$jscomp$2$$)})}var $requestPromises$$=[],$option$$=new $ExpansionOptions$$module$extensions$amp_analytics$0_1$variables$$($expansionOption$jscomp$2$$.vars,$expansionOption$jscomp$2$$.iterations,!0);Object.keys($params$jscomp$17$$).forEach(function($variableService$jscomp$2$$){return $expandObject$$($params$jscomp$17$$,$variableService$jscomp$2$$)});return Promise.all($requestPromises$$).then(function(){return $params$jscomp$17$$})};function $IframeTransportMessageQueue$$module$extensions$amp_analytics$0_1$iframe_transport_message_queue$$($frame$jscomp$1$$){var $$jscomp$this$jscomp$58$$=this;this.$frame_$=$frame$jscomp$1$$;this.$isReady_$=!1;this.$pendingEvents_$=[];this.$postMessageApi_$=new $SubscriptionApi$$module$src$iframe_helper$$(this.$frame_$,function(){$$jscomp$this$jscomp$58$$.setIsReady()})}$IframeTransportMessageQueue$$module$extensions$amp_analytics$0_1$iframe_transport_message_queue$$.prototype.isReady=function(){return this.$isReady_$};
$IframeTransportMessageQueue$$module$extensions$amp_analytics$0_1$iframe_transport_message_queue$$.prototype.setIsReady=function(){this.$isReady_$=!0;$JSCompiler_StaticMethods_flushQueue_$$(this)};$IframeTransportMessageQueue$$module$extensions$amp_analytics$0_1$iframe_transport_message_queue$$.prototype.queueSize=function(){return this.$pendingEvents_$.length};
$IframeTransportMessageQueue$$module$extensions$amp_analytics$0_1$iframe_transport_message_queue$$.prototype.enqueue=function($event$jscomp$19$$){this.$pendingEvents_$.push($event$jscomp$19$$);100<=this.queueSize()&&($dev$$module$src$log$$().warn("amp-analytics/iframe-transport-message-queue","Exceeded maximum size of queue for: "+$event$jscomp$19$$.creativeId),this.$pendingEvents_$.shift());$JSCompiler_StaticMethods_flushQueue_$$(this)};
function $JSCompiler_StaticMethods_flushQueue_$$($JSCompiler_StaticMethods_flushQueue_$self$$){$JSCompiler_StaticMethods_flushQueue_$self$$.isReady()&&$JSCompiler_StaticMethods_flushQueue_$self$$.queueSize()&&($JSCompiler_StaticMethods_flushQueue_$self$$.$postMessageApi_$.send("iframe-transport-events",{events:$JSCompiler_StaticMethods_flushQueue_$self$$.$pendingEvents_$}),$JSCompiler_StaticMethods_flushQueue_$self$$.$pendingEvents_$=[])};function $isLongTaskApiSupported$$module$src$service$jank_meter$$($win$jscomp$114$$){return!!$win$jscomp$114$$.PerformanceObserver&&!!$win$jscomp$114$$.TaskAttributionTiming&&"containerName"in $win$jscomp$114$$.TaskAttributionTiming.prototype};function $getIframeTransportScriptUrl$$module$extensions$amp_analytics$0_1$iframe_transport$$($ampWin$$){var $opt_forceProdUrl$$;if(($getMode$$module$src$mode$$().localDev||$getMode$$module$src$mode$$().test)&&!$opt_forceProdUrl$$&&$ampWin$$.parent&&$ampWin$$.parent.location){var $loc$jscomp$1$$=$ampWin$$.parent.location;return $loc$jscomp$1$$.protocol+"//"+$loc$jscomp$1$$.host+"/dist/iframe-transport-client-lib.js"}return $urls$$module$src$config$$.thirdParty+"/1904281823091/iframe-transport-client-v0.js"}
function $IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$$($ampWin$jscomp$1$$,$type$jscomp$146$$,$config$jscomp$22$$,$id$jscomp$44$$){this.$ampWin_$=$ampWin$jscomp$1$$;this.$type_$=$type$jscomp$146$$;this.$creativeId_$=$id$jscomp$44$$;this.$frameUrl_$=$config$jscomp$22$$.iframe;this.$numLongTasks_$=0;this.processCrossDomainIframe()}$JSCompiler_prototypeAlias$$=$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$$.prototype;
$JSCompiler_prototypeAlias$$.detach=function(){var $JSCompiler_ampDoc$jscomp$inline_390$$=this.$ampWin_$.document,$JSCompiler_type$jscomp$inline_391$$=this.$type_$,$JSCompiler_frameData$jscomp$inline_392$$=$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$crossDomainIframes_$$[$JSCompiler_type$jscomp$inline_391$$];--$JSCompiler_frameData$jscomp$inline_392$$.usageCount||($JSCompiler_ampDoc$jscomp$inline_390$$.body.removeChild($JSCompiler_frameData$jscomp$inline_392$$.frame),delete $IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$crossDomainIframes_$$[$JSCompiler_type$jscomp$inline_391$$],
$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$performanceObservers_$$[$JSCompiler_type$jscomp$inline_391$$]&&($IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$performanceObservers_$$[$JSCompiler_type$jscomp$inline_391$$].disconnect(),$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$performanceObservers_$$[$JSCompiler_type$jscomp$inline_391$$]=null))};
$JSCompiler_prototypeAlias$$.processCrossDomainIframe=function(){if($hasOwn$$module$src$utils$object$$($IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$crossDomainIframes_$$,this.$type_$)){var $frameData$$=$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$crossDomainIframes_$$[this.$type_$];++$frameData$$.usageCount}else $frameData$$=this.createCrossDomainIframe(),this.$ampWin_$.document.body.appendChild($frameData$$.frame),$JSCompiler_StaticMethods_createPerformanceObserver_$$(this)};
$JSCompiler_prototypeAlias$$.createCrossDomainIframe=function(){var $frameData$jscomp$1_sentinel$jscomp$5$$=String(++$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$nextId_$$),$frameName$$=JSON.stringify({scriptSrc:$getIframeTransportScriptUrl$$module$extensions$amp_analytics$0_1$iframe_transport$$(this.$ampWin_$),sentinel:$frameData$jscomp$1_sentinel$jscomp$5$$,type:this.$type_$}),$frame$jscomp$2$$=$createElementWithAttributes$$module$src$dom$$(this.$ampWin_$.document,"iframe",
{sandbox:"allow-scripts allow-same-origin",name:$frameName$$,"data-amp-3p-sentinel":$frameData$jscomp$1_sentinel$jscomp$5$$});$frame$jscomp$2$$.sentinel=$frameData$jscomp$1_sentinel$jscomp$5$$;$toggle$$module$src$style$$($frame$jscomp$2$$);$frame$jscomp$2$$.src=this.$frameUrl_$;$frameData$jscomp$1_sentinel$jscomp$5$$={frame:$frame$jscomp$2$$,usageCount:1,queue:new $IframeTransportMessageQueue$$module$extensions$amp_analytics$0_1$iframe_transport_message_queue$$($frame$jscomp$2$$)};return $IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$crossDomainIframes_$$[this.$type_$]=
$frameData$jscomp$1_sentinel$jscomp$5$$};
function $JSCompiler_StaticMethods_createPerformanceObserver_$$($JSCompiler_StaticMethods_createPerformanceObserver_$self$$){$isLongTaskApiSupported$$module$src$service$jank_meter$$($JSCompiler_StaticMethods_createPerformanceObserver_$self$$.$ampWin_$)&&($IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$performanceObservers_$$[$JSCompiler_StaticMethods_createPerformanceObserver_$self$$.$type_$]=new $JSCompiler_StaticMethods_createPerformanceObserver_$self$$.$ampWin_$.PerformanceObserver(function($entryList$jscomp$1$$){$entryList$jscomp$1$$&&$entryList$jscomp$1$$.getEntries().forEach(function($entryList$jscomp$1$$){$entryList$jscomp$1$$&&
"longtask"==$entryList$jscomp$1$$.entryType&&"cross-origin-descendant"==$entryList$jscomp$1$$.name&&$entryList$jscomp$1$$.attribution&&$entryList$jscomp$1$$.attribution.forEach(function($entryList$jscomp$1$$){$JSCompiler_StaticMethods_createPerformanceObserver_$self$$.$frameUrl_$==$entryList$jscomp$1$$.containerSrc&&0==++$JSCompiler_StaticMethods_createPerformanceObserver_$self$$.$numLongTasks_$%5&&$user$$module$src$log$$().error("amp-analytics/iframe-transport",'Long Task: Vendor: "'+$JSCompiler_StaticMethods_createPerformanceObserver_$self$$.$type_$+
'"')})})}),$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$performanceObservers_$$[$JSCompiler_StaticMethods_createPerformanceObserver_$self$$.$type_$].observe({entryTypes:["longtask"]}))}$JSCompiler_prototypeAlias$$.sendRequest=function($event$jscomp$20$$){$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$crossDomainIframes_$$[this.$type_$].queue.enqueue({creativeId:this.$creativeId_$,message:$event$jscomp$20$$})};
$JSCompiler_prototypeAlias$$.getCreativeId=function(){return this.$creativeId_$};$JSCompiler_prototypeAlias$$.getType=function(){return this.$type_$};var $IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$crossDomainIframes_$$={},$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$nextId_$$=0,$IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$performanceObservers_$$={};function $createPixel$$module$src$pixel$$($JSCompiler_temp$jscomp$90_win$jscomp$115$$,$src$jscomp$4$$,$referrerPolicy$$){$referrerPolicy$$&&"no-referrer"!==$referrerPolicy$$&&$user$$module$src$log$$().error("pixel","Unsupported referrerPolicy: %s",$referrerPolicy$$);if("no-referrer"===$referrerPolicy$$)if("referrerPolicy"in Image.prototype)$JSCompiler_temp$jscomp$90_win$jscomp$115$$=$createImagePixel$$module$src$pixel$$($JSCompiler_temp$jscomp$90_win$jscomp$115$$,$src$jscomp$4$$,!0);else{var $JSCompiler_iframe$jscomp$inline_396$$=
$createElementWithAttributes$$module$src$dom$$($JSCompiler_temp$jscomp$90_win$jscomp$115$$.document,"iframe",$dict$$module$src$utils$object$$({src:"about:blank",style:"display:none"}));$JSCompiler_temp$jscomp$90_win$jscomp$115$$.document.body.appendChild($JSCompiler_iframe$jscomp$inline_396$$);$createImagePixel$$module$src$pixel$$($JSCompiler_iframe$jscomp$inline_396$$.contentWindow,$src$jscomp$4$$);$JSCompiler_temp$jscomp$90_win$jscomp$115$$=$JSCompiler_iframe$jscomp$inline_396$$}else $JSCompiler_temp$jscomp$90_win$jscomp$115$$=
$createImagePixel$$module$src$pixel$$($JSCompiler_temp$jscomp$90_win$jscomp$115$$,$src$jscomp$4$$);return $JSCompiler_temp$jscomp$90_win$jscomp$115$$}
function $createImagePixel$$module$src$pixel$$($image$jscomp$3_win$jscomp$117$$,$src$jscomp$6$$,$noReferrer$$){$noReferrer$$=void 0===$noReferrer$$?!1:$noReferrer$$;$image$jscomp$3_win$jscomp$117$$=new $image$jscomp$3_win$jscomp$117$$.Image;$noReferrer$$&&($image$jscomp$3_win$jscomp$117$$.referrerPolicy="no-referrer");$image$jscomp$3_win$jscomp$117$$.src=$src$jscomp$6$$;return $image$jscomp$3_win$jscomp$117$$};function $getAmpAdResourceId$$module$src$ad_helper$$($node$jscomp$8$$,$topWin$jscomp$3$$){try{var $frameParent$$=$getParentWindowFrameElement$$module$src$service$$($node$jscomp$8$$,$topWin$jscomp$3$$).parentElement;if("AMP-AD"==$frameParent$$.nodeName)return String($frameParent$$.getResourceId())}catch($e$jscomp$41$$){}return null};function $Transport$$module$extensions$amp_analytics$0_1$transport$$($win$jscomp$120$$,$options$jscomp$19$$){$options$jscomp$19$$=void 0===$options$jscomp$19$$?{}:$options$jscomp$19$$;this.$win_$=$win$jscomp$120$$;this.$options_$=$options$jscomp$19$$;this.$referrerPolicy_$=this.$options_$.referrerPolicy;"no-referrer"===this.$referrerPolicy_$&&(this.$options_$.beacon=!1,this.$options_$.xhrpost=!1);this.$useBody_$=!!this.$options_$.useBody;this.$iframeTransport_$=null;this.$isInabox_$="inabox"==$getMode$$module$src$mode$$($win$jscomp$120$$).runtime}
$Transport$$module$extensions$amp_analytics$0_1$transport$$.prototype.sendRequest=function($url$jscomp$61$$,$segments$jscomp$1$$,$inBatch$$){function $generateRequest$$($generateRequest$$){$generateRequest$$=$inBatch$$?$serializer$$.generateBatchRequest($url$jscomp$61$$,$segments$jscomp$1$$,$generateRequest$$):$serializer$$.generateRequest($url$jscomp$61$$,$segments$jscomp$1$$[0],$generateRequest$$);$assertHttpsUrl$$module$src$url$$($generateRequest$$.url,"amp-analytics request");var $getRequest$$=
$generateRequest$$.url,$image$jscomp$4$$=$parseUrlDeprecated$$module$src$url$$($getRequest$$);$image$jscomp$4$$=$parseQueryString_$$module$src$url_parse_query_string$$($image$jscomp$4$$.search);$userAssert$$module$src$log$$(!("__amp_source_origin"in $image$jscomp$4$$),"Source origin is not allowed in %s",$getRequest$$);return $generateRequest$$}if($url$jscomp$61$$&&0!==$segments$jscomp$1$$.length){var $serializer$$=$TransportSerializers$$module$extensions$amp_analytics$0_1$transport_serializer$$["default"],
$getRequest$$=$cacheFuncResult$$module$extensions$amp_analytics$0_1$transport$$($generateRequest$$);if(this.$options_$.iframe)this.$iframeTransport_$?this.$iframeTransport_$.sendRequest($getRequest$$(!1).url):$dev$$module$src$log$$().error("amp-analytics/transport","iframe transport was inadvertently deleted");else if(!this.$options_$.beacon||!$Transport$$module$extensions$amp_analytics$0_1$transport$sendRequestUsingBeacon$$(this.$win_$,$getRequest$$(this.$useBody_$)))if(!this.$options_$.xhrpost||
!$Transport$$module$extensions$amp_analytics$0_1$transport$sendRequestUsingXhr$$(this.$win_$,$getRequest$$(this.$useBody_$))){var $image$jscomp$4$$=this.$options_$.image;if($image$jscomp$4$$){var $suppressWarnings$$="object"==typeof $image$jscomp$4$$&&$image$jscomp$4$$.suppressWarnings;$Transport$$module$extensions$amp_analytics$0_1$transport$sendRequestUsingImage$$(this.$win_$,$getRequest$$(!1),$suppressWarnings$$,this.$referrerPolicy_$)}else $user$$module$src$log$$().warn("amp-analytics/transport",
"Failed to send request",$url$jscomp$61$$,this.$options_$)}}else $dev$$module$src$log$$().info("amp-analytics/transport","Empty request not sent: ",$url$jscomp$61$$)};
$Transport$$module$extensions$amp_analytics$0_1$transport$$.prototype.maybeInitIframeTransport=function($win$jscomp$121$$,$element$jscomp$112$$,$opt_preconnect$$){if(this.$options_$.iframe&&!this.$iframeTransport_$){$opt_preconnect$$&&$opt_preconnect$$.preload($getIframeTransportScriptUrl$$module$extensions$amp_analytics$0_1$iframe_transport$$($win$jscomp$121$$),"script");var $type$jscomp$150$$=$element$jscomp$112$$.getAttribute("type"),$ampAdResourceId$$=this.$isInabox_$?"1":$user$$module$src$log$$().assertString($getAmpAdResourceId$$module$src$ad_helper$$($element$jscomp$112$$,
$win$jscomp$121$$.__AMP_TOP||$win$jscomp$121$$),"No friendly amp-ad ancestor element was found for amp-analytics tag with iframe transport.");this.$iframeTransport_$=new $IframeTransport$$module$extensions$amp_analytics$0_1$iframe_transport$$($win$jscomp$121$$,$type$jscomp$150$$,this.$options_$,$ampAdResourceId$$)}};
$Transport$$module$extensions$amp_analytics$0_1$transport$$.prototype.deleteIframeTransport=function(){this.$iframeTransport_$&&(this.$iframeTransport_$.detach(),this.$iframeTransport_$=null)};
$Transport$$module$extensions$amp_analytics$0_1$transport$$.prototype.sendRequestUsingIframe=function($request$jscomp$9_url$jscomp$62$$,$segment$jscomp$2$$){var $$jscomp$this$jscomp$62$$=this;if($request$jscomp$9_url$jscomp$62$$=$defaultSerializer$$module$extensions$amp_analytics$0_1$transport_serializer$$($request$jscomp$9_url$jscomp$62$$,[$segment$jscomp$2$$])){$assertHttpsUrl$$module$src$url$$($request$jscomp$9_url$jscomp$62$$,"amp-analytics request");$userAssert$$module$src$log$$($parseUrlDeprecated$$module$src$url$$($request$jscomp$9_url$jscomp$62$$).origin!=
$parseUrlDeprecated$$module$src$url$$(this.$win_$.location.href).origin,"Origin of iframe request must not be equal to the document origin. See https://github.com/ampproject/ amphtml/blob/master/spec/amp-iframe-origin-policy.md for details.");var $iframe$jscomp$14$$=this.$win_$.document.createElement("iframe");$toggle$$module$src$style$$($iframe$jscomp$14$$);$iframe$jscomp$14$$.onload=$iframe$jscomp$14$$.onerror=function(){$getService$$module$src$service$$($$jscomp$this$jscomp$62$$.$win_$,"timer").delay(function(){$iframe$jscomp$14$$.parentElement&&
$iframe$jscomp$14$$.parentElement.removeChild($iframe$jscomp$14$$)},5E3)};$iframe$jscomp$14$$.setAttribute("amp-analytics","");$iframe$jscomp$14$$.setAttribute("sandbox","allow-scripts allow-same-origin");$iframe$jscomp$14$$.src=$request$jscomp$9_url$jscomp$62$$;this.$win_$.document.body.appendChild($iframe$jscomp$14$$)}else $user$$module$src$log$$().error("amp-analytics/transport","Request not sent. Contents empty.")};
function $Transport$$module$extensions$amp_analytics$0_1$transport$sendRequestUsingImage$$($image$jscomp$5_win$jscomp$122$$,$request$jscomp$10$$,$suppressWarnings$jscomp$1$$,$referrerPolicy$jscomp$1$$){$image$jscomp$5_win$jscomp$122$$=$createPixel$$module$src$pixel$$($image$jscomp$5_win$jscomp$122$$,$request$jscomp$10$$.url,$referrerPolicy$jscomp$1$$);$loadPromise$$module$src$event_helper$$($image$jscomp$5_win$jscomp$122$$).then(function(){}).catch(function(){$suppressWarnings$jscomp$1$$||$user$$module$src$log$$().warn("amp-analytics/transport",
"Response unparseable or failed to send image request",$request$jscomp$10$$.url)})}
function $Transport$$module$extensions$amp_analytics$0_1$transport$sendRequestUsingBeacon$$($JSCompiler_inline_result$jscomp$57_win$jscomp$123$$,$request$jscomp$11$$){$JSCompiler_inline_result$jscomp$57_win$jscomp$123$$=$JSCompiler_inline_result$jscomp$57_win$jscomp$123$$.navigator.sendBeacon?$JSCompiler_inline_result$jscomp$57_win$jscomp$123$$.navigator.sendBeacon.bind($JSCompiler_inline_result$jscomp$57_win$jscomp$123$$.navigator):void 0;var $sendBeacon$$=$JSCompiler_inline_result$jscomp$57_win$jscomp$123$$;
return $sendBeacon$$?$sendBeacon$$($request$jscomp$11$$.url,$request$jscomp$11$$.payload||""):!1}
function $Transport$$module$extensions$amp_analytics$0_1$transport$sendRequestUsingXhr$$($XMLHttpRequest$jscomp$1_win$jscomp$124$$,$request$jscomp$12$$){$XMLHttpRequest$jscomp$1_win$jscomp$124$$=$XMLHttpRequest$jscomp$1_win$jscomp$124$$.XMLHttpRequest;if(!$XMLHttpRequest$jscomp$1_win$jscomp$124$$)return!1;var $xhr$$=new $XMLHttpRequest$jscomp$1_win$jscomp$124$$;if(!("withCredentials"in $xhr$$))return!1;$xhr$$.open("POST",$request$jscomp$12$$.url,!0);$xhr$$.withCredentials=!0;$xhr$$.setRequestHeader("Content-Type",
"text/plain");$xhr$$.onreadystatechange=function(){};$xhr$$.send($request$jscomp$12$$.payload||"");return!0}function $cacheFuncResult$$module$extensions$amp_analytics$0_1$transport$$($func$jscomp$3$$){var $cachedValue$$={};return function($arg$jscomp$7$$){var $key$jscomp$66$$=String($arg$jscomp$7$$);void 0===$cachedValue$$[$key$jscomp$66$$]&&($cachedValue$$[$key$jscomp$66$$]=$func$jscomp$3$$($arg$jscomp$7$$));return $cachedValue$$[$key$jscomp$66$$]}};var $WHITELIST_EVENT_IN_SANDBOX$$module$extensions$amp_analytics$0_1$amp_analytics$$=["visible","hidden"];
function $AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics$$($$jscomp$super$this_element$jscomp$113$$){$$jscomp$super$this_element$jscomp$113$$=AMP.BaseElement.call(this,$$jscomp$super$this_element$jscomp$113$$)||this;$$jscomp$super$this_element$jscomp$113$$.$consentPromise_$=Promise.resolve();$$jscomp$super$this_element$jscomp$113$$.$consentNotificationId_$=null;$$jscomp$super$this_element$jscomp$113$$.$isSandbox_$=!1;$$jscomp$super$this_element$jscomp$113$$.$requests_$={};$$jscomp$super$this_element$jscomp$113$$.$config_$=
{};$$jscomp$super$this_element$jscomp$113$$.$instrumentation_$=null;$$jscomp$super$this_element$jscomp$113$$.$analyticsGroup_$=null;$$jscomp$super$this_element$jscomp$113$$.$variableService_$=$variableServiceFor$$module$extensions$amp_analytics$0_1$variables$$($$jscomp$super$this_element$jscomp$113$$.win);$$jscomp$super$this_element$jscomp$113$$.$cryptoService_$=$getService$$module$src$service$$($$jscomp$super$this_element$jscomp$113$$.win,"crypto");$$jscomp$super$this_element$jscomp$113$$.$iniPromise_$=
null;$$jscomp$super$this_element$jscomp$113$$.$transport_$=null;$$jscomp$super$this_element$jscomp$113$$.$isInabox_$="inabox"==$getMode$$module$src$mode$$($$jscomp$super$this_element$jscomp$113$$.win).runtime;$$jscomp$super$this_element$jscomp$113$$.$linkerManager_$=null;return $$jscomp$super$this_element$jscomp$113$$}$$jscomp$inherits$$($AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics$$,AMP.BaseElement);$JSCompiler_prototypeAlias$$=$AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics$$.prototype;
$JSCompiler_prototypeAlias$$.getLayoutPriority=function(){return this.$isInabox_$?0:1};$JSCompiler_prototypeAlias$$.isAlwaysFixed=function(){return!$isInFie$$module$src$friendly_iframe_embed$$(this.element)};$JSCompiler_prototypeAlias$$.isLayoutSupported=function(){return!0};
$JSCompiler_prototypeAlias$$.buildCallback=function(){var $$jscomp$this$jscomp$63$$=this;this.$isSandbox_$=this.element.hasAttribute("sandbox");this.element.setAttribute("aria-hidden","true");this.$consentNotificationId_$=this.element.getAttribute("data-consent-notification-id");null!=this.$consentNotificationId_$&&(this.$consentPromise_$=$getElementServiceForDoc$$module$src$element_service$$(this.element).then(function($service$jscomp$8$$){return $service$jscomp$8$$.get($$jscomp$this$jscomp$63$$.$consentNotificationId_$)}));
"immediate"==this.element.getAttribute("trigger")&&$JSCompiler_StaticMethods_ensureInitialized_$$(this)};$JSCompiler_prototypeAlias$$.layoutCallback=function(){return $JSCompiler_StaticMethods_ensureInitialized_$$(this)};
$JSCompiler_prototypeAlias$$.detachedCallback=function(){this.$analyticsGroup_$&&(this.$analyticsGroup_$.dispose(),this.$analyticsGroup_$=null);this.$linkerManager_$&&(this.$linkerManager_$.dispose(),this.$linkerManager_$=null);for(var $request$jscomp$13$$ in this.$requests_$)this.$requests_$[$request$jscomp$13$$].dispose(),delete this.$requests_$[$request$jscomp$13$$]};
$JSCompiler_prototypeAlias$$.resumeCallback=function(){var $$jscomp$this$jscomp$64$$=this;this.$iniPromise_$&&this.$iniPromise_$.then(function(){$$jscomp$this$jscomp$64$$.$transport_$.maybeInitIframeTransport($$jscomp$this$jscomp$64$$.getAmpDoc().win,$$jscomp$this$jscomp$64$$.element)})};
$JSCompiler_prototypeAlias$$.unlayoutCallback=function(){var $$jscomp$this$jscomp$65$$=this;if($Services$$module$src$services$viewerForDoc$$(this.getAmpDoc()).isVisible())return!1;this.$iniPromise_$&&this.$iniPromise_$.then(function(){$$jscomp$this$jscomp$65$$.$transport_$.deleteIframeTransport()});return AMP.BaseElement.prototype.unlayoutCallback.call(this)};
function $JSCompiler_StaticMethods_ensureInitialized_$$($JSCompiler_StaticMethods_ensureInitialized_$self$$){if($JSCompiler_StaticMethods_ensureInitialized_$self$$.$iniPromise_$)return $JSCompiler_StaticMethods_ensureInitialized_$self$$.$iniPromise_$;$toggle$$module$src$style$$($JSCompiler_StaticMethods_ensureInitialized_$self$$.element);$JSCompiler_StaticMethods_ensureInitialized_$self$$.$iniPromise_$=$Services$$module$src$services$viewerForDoc$$($JSCompiler_StaticMethods_ensureInitialized_$self$$.getAmpDoc()).whenFirstVisible().then(function(){return $getService$$module$src$service$$($JSCompiler_StaticMethods_ensureInitialized_$self$$.win,
"timer").promise(1)}).then(function(){return $JSCompiler_StaticMethods_ensureInitialized_$self$$.$consentPromise_$}).then(function(){return $getService$$module$src$service$$($JSCompiler_StaticMethods_ensureInitialized_$self$$.win,"ampdoc")}).then(function($ampDocService$$){return $ampDocService$$.getAmpDoc($JSCompiler_StaticMethods_ensureInitialized_$self$$.element,{closestAmpDoc:!0})}).then($instrumentationServicePromiseForDoc$$module$extensions$amp_analytics$0_1$instrumentation$$).then(function($instrumentation$$){$JSCompiler_StaticMethods_ensureInitialized_$self$$.$instrumentation_$=
$instrumentation$$;return(new $AnalyticsConfig$$module$extensions$amp_analytics$0_1$config$$($JSCompiler_StaticMethods_ensureInitialized_$self$$.element)).loadConfig()}).then(function($config$jscomp$23$$){$JSCompiler_StaticMethods_ensureInitialized_$self$$.$config_$=$config$jscomp$23$$;return(new $CookieWriter$$module$extensions$amp_analytics$0_1$cookie_writer$$($JSCompiler_StaticMethods_ensureInitialized_$self$$.win,$JSCompiler_StaticMethods_ensureInitialized_$self$$.element,$JSCompiler_StaticMethods_ensureInitialized_$self$$.$config_$)).write()}).then(function(){$JSCompiler_StaticMethods_ensureInitialized_$self$$.$transport_$=
new $Transport$$module$extensions$amp_analytics$0_1$transport$$($JSCompiler_StaticMethods_ensureInitialized_$self$$.win,$JSCompiler_StaticMethods_ensureInitialized_$self$$.$config_$.transport||{})}).then($JSCompiler_StaticMethods_ensureInitialized_$self$$.$registerTriggers_$.bind($JSCompiler_StaticMethods_ensureInitialized_$self$$)).then($JSCompiler_StaticMethods_ensureInitialized_$self$$.$initializeLinker_$.bind($JSCompiler_StaticMethods_ensureInitialized_$self$$));return $JSCompiler_StaticMethods_ensureInitialized_$self$$.$iniPromise_$}
$JSCompiler_prototypeAlias$$.$registerTriggers_$=function(){var $$jscomp$this$jscomp$67$$=this;if($JSCompiler_StaticMethods_hasOptedOut_$$(this))return this.$getName_$(),Promise.resolve();$JSCompiler_StaticMethods_generateRequests_$$(this);if(!this.$config_$.triggers){var $TAG$21_promises$jscomp$4$$=this.$getName_$();this.user().error($TAG$21_promises$jscomp$4$$,"No triggers were found in the config. No analytics data will be sent.");return Promise.resolve()}$JSCompiler_StaticMethods_processExtraUrlParams_$$(this,
this.$config_$.extraUrlParams,this.$config_$.extraUrlParamsReplaceMap);this.$analyticsGroup_$=this.$instrumentation_$.createAnalyticsGroup(this.element);this.$transport_$.maybeInitIframeTransport(this.getAmpDoc().win,this.element,this.preconnect);$TAG$21_promises$jscomp$4$$=[];var $$jscomp$loop$35$$={},$k$jscomp$10$$;for($k$jscomp$10$$ in this.$config_$.triggers){a:if($hasOwn$$module$src$utils$object$$(this.$config_$.triggers,$k$jscomp$10$$)){$$jscomp$loop$35$$.$$jscomp$loop$prop$trigger$36$=this.$config_$.triggers[$k$jscomp$10$$];
$$jscomp$loop$35$$.$$jscomp$loop$prop$expansionOptions$37$=$JSCompiler_StaticMethods_expansionOptions_$$(this,$dict$$module$src$utils$object$$({}),$$jscomp$loop$35$$.$$jscomp$loop$prop$trigger$36$,void 0,!0);var $TAG$22$$=this.$getName_$();if($$jscomp$loop$35$$.$$jscomp$loop$prop$trigger$36$){var $hasRequestOrPostMessage$$=$$jscomp$loop$35$$.$$jscomp$loop$prop$trigger$36$.request||$$jscomp$loop$35$$.$$jscomp$loop$prop$trigger$36$.parentPostMessage&&this.$isInabox_$;if($$jscomp$loop$35$$.$$jscomp$loop$prop$trigger$36$.on&&
$hasRequestOrPostMessage$$){if(this.$isSandbox_$){var $eventType$jscomp$27$$=$$jscomp$loop$35$$.$$jscomp$loop$prop$trigger$36$.on;if($isEnumValue$$module$src$types$$($eventType$jscomp$27$$)&&!$WHITELIST_EVENT_IN_SANDBOX$$module$extensions$amp_analytics$0_1$amp_analytics$$.includes($eventType$jscomp$27$$)){this.user().error($TAG$22$$,$eventType$jscomp$27$$+" is not supported for amp-analytics in scope");break a}}$JSCompiler_StaticMethods_processExtraUrlParams_$$(this,$$jscomp$loop$35$$.$$jscomp$loop$prop$trigger$36$.extraUrlParams,
this.$config_$.extraUrlParamsReplaceMap);$TAG$21_promises$jscomp$4$$.push($JSCompiler_StaticMethods_isSampledIn_$$(this,$$jscomp$loop$35$$.$$jscomp$loop$prop$trigger$36$).then(function($TAG$21_promises$jscomp$4$$){return function($$jscomp$loop$35$$){if($$jscomp$loop$35$$)if($$jscomp$this$jscomp$67$$.$isSandbox_$)$$jscomp$this$jscomp$67$$.element.parentElement&&($TAG$21_promises$jscomp$4$$.$$jscomp$loop$prop$trigger$36$.selector=$$jscomp$this$jscomp$67$$.element.parentElement.tagName,$TAG$21_promises$jscomp$4$$.$$jscomp$loop$prop$trigger$36$.selectionMethod=
"closest",$JSCompiler_StaticMethods_addTriggerNoInline_$$($$jscomp$this$jscomp$67$$,$TAG$21_promises$jscomp$4$$.$$jscomp$loop$prop$trigger$36$));else{if($TAG$21_promises$jscomp$4$$.$$jscomp$loop$prop$trigger$36$.selector)return $$jscomp$this$jscomp$67$$.$variableService_$.expandTemplate($TAG$21_promises$jscomp$4$$.$$jscomp$loop$prop$trigger$36$.selector,$TAG$21_promises$jscomp$4$$.$$jscomp$loop$prop$expansionOptions$37$).then(function($$jscomp$loop$35$$){$TAG$21_promises$jscomp$4$$.$$jscomp$loop$prop$trigger$36$.selector=
$$jscomp$loop$35$$;$JSCompiler_StaticMethods_addTriggerNoInline_$$($$jscomp$this$jscomp$67$$,$TAG$21_promises$jscomp$4$$.$$jscomp$loop$prop$trigger$36$)});$JSCompiler_StaticMethods_addTriggerNoInline_$$($$jscomp$this$jscomp$67$$,$TAG$21_promises$jscomp$4$$.$$jscomp$loop$prop$trigger$36$)}}}($$jscomp$loop$35$$)))}else{var $errorMsgSeg$$=this.$isInabox_$?'/"parentPostMessage"':"";this.user().error($TAG$22$$,'"on" and "request"'+$errorMsgSeg$$+" attributes are required for data to be collected.")}}else this.user().error($TAG$22$$,
"Trigger should be an object: ",$k$jscomp$10$$)}$$jscomp$loop$35$$={$$jscomp$loop$prop$trigger$36$:$$jscomp$loop$35$$.$$jscomp$loop$prop$trigger$36$,$$jscomp$loop$prop$expansionOptions$37$:$$jscomp$loop$35$$.$$jscomp$loop$prop$expansionOptions$37$}}return Promise.all($TAG$21_promises$jscomp$4$$)};$JSCompiler_prototypeAlias$$.preload=function($url$jscomp$63$$,$opt_preloadAs$$){this.preconnect.preload($url$jscomp$63$$,$opt_preloadAs$$)};
function $JSCompiler_StaticMethods_addTriggerNoInline_$$($JSCompiler_StaticMethods_addTriggerNoInline_$self_TAG$jscomp$6$$,$config$jscomp$24$$){if($JSCompiler_StaticMethods_addTriggerNoInline_$self_TAG$jscomp$6$$.$analyticsGroup_$)try{$JSCompiler_StaticMethods_addTriggerNoInline_$self_TAG$jscomp$6$$.$analyticsGroup_$.addTrigger($config$jscomp$24$$,$JSCompiler_StaticMethods_addTriggerNoInline_$self_TAG$jscomp$6$$.$handleEvent_$.bind($JSCompiler_StaticMethods_addTriggerNoInline_$self_TAG$jscomp$6$$,
$config$jscomp$24$$))}catch($e$jscomp$42$$){$JSCompiler_StaticMethods_addTriggerNoInline_$self_TAG$jscomp$6$$=$JSCompiler_StaticMethods_addTriggerNoInline_$self_TAG$jscomp$6$$.$getName_$(),$rethrowAsync$$module$src$log$$($JSCompiler_StaticMethods_addTriggerNoInline_$self_TAG$jscomp$6$$,'Failed to process trigger "'+$config$jscomp$24$$.on+'"',$e$jscomp$42$$)}}
function $JSCompiler_StaticMethods_processExtraUrlParams_$$($JSCompiler_StaticMethods_processExtraUrlParams_$self$$,$TAG$jscomp$7_params$jscomp$19$$,$replaceMap$$){if($TAG$jscomp$7_params$jscomp$19$$&&$replaceMap$$){var $count$jscomp$18$$=0,$replaceMapKey$$;for($replaceMapKey$$ in $replaceMap$$){if(16<++$count$jscomp$18$$){$TAG$jscomp$7_params$jscomp$19$$=$JSCompiler_StaticMethods_processExtraUrlParams_$self$$.$getName_$();$JSCompiler_StaticMethods_processExtraUrlParams_$self$$.user().error($TAG$jscomp$7_params$jscomp$19$$,
"More than 16 extraUrlParamsReplaceMap rules aren't allowed; Skipping the rest");break}for(var $extraUrlParamsKey$$ in $TAG$jscomp$7_params$jscomp$19$$){var $newkey$$=$extraUrlParamsKey$$.replace($replaceMapKey$$,$replaceMap$$[$replaceMapKey$$]);if($extraUrlParamsKey$$!=$newkey$$){var $value$jscomp$127$$=$TAG$jscomp$7_params$jscomp$19$$[$extraUrlParamsKey$$];delete $TAG$jscomp$7_params$jscomp$19$$[$extraUrlParamsKey$$];$TAG$jscomp$7_params$jscomp$19$$[$newkey$$]=$value$jscomp$127$$}}}}}
function $JSCompiler_StaticMethods_hasOptedOut_$$($JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$11$$){var $elementId$$=$JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$11$$.$config_$.optoutElementId;if($elementId$$&&$JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$11$$.win.document.getElementById($elementId$$))return!0;if(!$JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$11$$.$config_$.optout)return!1;var $props$jscomp$131$$=$JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$11$$.$config_$.optout.split(".");
$JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$11$$=$JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$11$$.win;for(var $i$jscomp$67$$=0;$i$jscomp$67$$<$props$jscomp$131$$.length;$i$jscomp$67$$++){if(!$JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$11$$)return!1;$JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$11$$=$JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$11$$[$props$jscomp$131$$[$i$jscomp$67$$]]}return $JSCompiler_StaticMethods_hasOptedOut_$self_k$jscomp$11$$()}
function $JSCompiler_StaticMethods_generateRequests_$$($JSCompiler_StaticMethods_generateRequests_$self$$){if(!$JSCompiler_StaticMethods_generateRequests_$self$$.$config_$.requests){if(!$JSCompiler_StaticMethods_generateRequests_$self$$.$isInabox_$){var $TAG$jscomp$8_k$24$$=$JSCompiler_StaticMethods_generateRequests_$self$$.$getName_$();$JSCompiler_StaticMethods_generateRequests_$self$$.user().error($TAG$jscomp$8_k$24$$,"No request strings defined. Analytics data will not be sent from this page.")}}else if($JSCompiler_StaticMethods_generateRequests_$self$$.$config_$.requests){for(var $k$jscomp$12_requests$jscomp$1$$ in $JSCompiler_StaticMethods_generateRequests_$self$$.$config_$.requests)$hasOwn$$module$src$utils$object$$($JSCompiler_StaticMethods_generateRequests_$self$$.$config_$.requests,
$k$jscomp$12_requests$jscomp$1$$)&&!$JSCompiler_StaticMethods_generateRequests_$self$$.$config_$.requests[$k$jscomp$12_requests$jscomp$1$$].baseUrl&&($JSCompiler_StaticMethods_generateRequests_$self$$.user().error("amp-analytics","request must have a baseUrl"),delete $JSCompiler_StaticMethods_generateRequests_$self$$.$config_$.requests[$k$jscomp$12_requests$jscomp$1$$]);for(var $k$23$$ in $JSCompiler_StaticMethods_generateRequests_$self$$.$config_$.requests)$JSCompiler_StaticMethods_generateRequests_$self$$.$config_$.requests[$k$23$$].baseUrl=
$expandTemplate$$module$src$string$$($JSCompiler_StaticMethods_generateRequests_$self$$.$config_$.requests[$k$23$$].baseUrl,function($TAG$jscomp$8_k$24$$){var $k$jscomp$12_requests$jscomp$1$$=$JSCompiler_StaticMethods_generateRequests_$self$$.$config_$.requests[$TAG$jscomp$8_k$24$$];return $k$jscomp$12_requests$jscomp$1$$&&$k$jscomp$12_requests$jscomp$1$$.baseUrl||"${"+$TAG$jscomp$8_k$24$$+"}"});$k$jscomp$12_requests$jscomp$1$$={};for($TAG$jscomp$8_k$24$$ in $JSCompiler_StaticMethods_generateRequests_$self$$.$config_$.requests)$hasOwn$$module$src$utils$object$$($JSCompiler_StaticMethods_generateRequests_$self$$.$config_$.requests,
$TAG$jscomp$8_k$24$$)&&($k$jscomp$12_requests$jscomp$1$$[$TAG$jscomp$8_k$24$$]=new $RequestHandler$$module$extensions$amp_analytics$0_1$requests$$($JSCompiler_StaticMethods_generateRequests_$self$$.element,$JSCompiler_StaticMethods_generateRequests_$self$$.$config_$.requests[$TAG$jscomp$8_k$24$$],$JSCompiler_StaticMethods_generateRequests_$self$$.preconnect,$JSCompiler_StaticMethods_generateRequests_$self$$.$transport_$,$JSCompiler_StaticMethods_generateRequests_$self$$.$isSandbox_$));$JSCompiler_StaticMethods_generateRequests_$self$$.$requests_$=
$k$jscomp$12_requests$jscomp$1$$}}$JSCompiler_prototypeAlias$$.$initializeLinker_$=function(){var $type$jscomp$151$$=this.element.getAttribute("type");this.$linkerManager_$=new $LinkerManager$$module$extensions$amp_analytics$0_1$linker_manager$$(this.getAmpDoc(),this.$config_$,$type$jscomp$151$$,this.element);this.$linkerManager_$.init()};
$JSCompiler_prototypeAlias$$.$handleEvent_$=function($trigger$jscomp$3$$,$event$jscomp$21$$){for(var $requests$jscomp$2$$=Array.isArray($trigger$jscomp$3$$.request)?$trigger$jscomp$3$$.request:[$trigger$jscomp$3$$.request],$r$jscomp$2$$=0;$r$jscomp$2$$<$requests$jscomp$2$$.length;$r$jscomp$2$$++){var $requestName$$=$requests$jscomp$2$$[$r$jscomp$2$$];$JSCompiler_StaticMethods_handleRequestForEvent_$$(this,$requestName$$,$trigger$jscomp$3$$,$event$jscomp$21$$)}};
function $JSCompiler_StaticMethods_handleRequestForEvent_$$($JSCompiler_StaticMethods_handleRequestForEvent_$self$$,$TAG$26_requestName$jscomp$1$$,$trigger$jscomp$4$$,$event$jscomp$22$$){if(!$JSCompiler_StaticMethods_handleRequestForEvent_$self$$.element.ownerDocument.defaultView){var $TAG$jscomp$9$$=$JSCompiler_StaticMethods_handleRequestForEvent_$self$$.$getName_$();$dev$$module$src$log$$().warn($TAG$jscomp$9$$,"request against destroyed embed: ",$trigger$jscomp$4$$.on)}var $request$jscomp$16$$=
$JSCompiler_StaticMethods_handleRequestForEvent_$self$$.$requests_$[$TAG$26_requestName$jscomp$1$$],$hasPostMessage$$=$JSCompiler_StaticMethods_handleRequestForEvent_$self$$.$isInabox_$&&$trigger$jscomp$4$$.parentPostMessage;if(void 0!=$TAG$26_requestName$jscomp$1$$&&!$request$jscomp$16$$&&($TAG$26_requestName$jscomp$1$$=$JSCompiler_StaticMethods_handleRequestForEvent_$self$$.$getName_$(),$JSCompiler_StaticMethods_handleRequestForEvent_$self$$.user().error($TAG$26_requestName$jscomp$1$$,"Ignoring request for event. Request string not found: ",
$trigger$jscomp$4$$.request),!$hasPostMessage$$))return;$JSCompiler_StaticMethods_checkTriggerEnabled_$$($JSCompiler_StaticMethods_handleRequestForEvent_$self$$,$trigger$jscomp$4$$,$event$jscomp$22$$).then(function($TAG$26_requestName$jscomp$1$$){$TAG$26_requestName$jscomp$1$$&&($request$jscomp$16$$&&($JSCompiler_StaticMethods_handleRequestForEvent_$self$$.$config_$.vars.requestCount++,$TAG$26_requestName$jscomp$1$$=$JSCompiler_StaticMethods_expansionOptions_$$($JSCompiler_StaticMethods_handleRequestForEvent_$self$$,
$event$jscomp$22$$,$trigger$jscomp$4$$),$request$jscomp$16$$.send($JSCompiler_StaticMethods_handleRequestForEvent_$self$$.$config_$.extraUrlParams,$trigger$jscomp$4$$,$TAG$26_requestName$jscomp$1$$)),$JSCompiler_StaticMethods_expandAndPostMessage_$$($JSCompiler_StaticMethods_handleRequestForEvent_$self$$,$trigger$jscomp$4$$,$event$jscomp$22$$))})}
function $JSCompiler_StaticMethods_expandAndPostMessage_$$($JSCompiler_StaticMethods_expandAndPostMessage_$self$$,$trigger$jscomp$6$$,$event$jscomp$24_expansionOptions$jscomp$3$$){var $msg$jscomp$1$$=$trigger$jscomp$6$$.parentPostMessage;$msg$jscomp$1$$&&$JSCompiler_StaticMethods_expandAndPostMessage_$self$$.$isInabox_$&&($event$jscomp$24_expansionOptions$jscomp$3$$=$JSCompiler_StaticMethods_expansionOptions_$$($JSCompiler_StaticMethods_expandAndPostMessage_$self$$,$event$jscomp$24_expansionOptions$jscomp$3$$,
$trigger$jscomp$6$$),$expandPostMessage$$module$extensions$amp_analytics$0_1$requests$$($JSCompiler_StaticMethods_expandAndPostMessage_$self$$.getAmpDoc(),$msg$jscomp$1$$,$JSCompiler_StaticMethods_expandAndPostMessage_$self$$.$config_$.extraUrlParams,$trigger$jscomp$6$$,$event$jscomp$24_expansionOptions$jscomp$3$$,$JSCompiler_StaticMethods_expandAndPostMessage_$self$$.element).then(function($trigger$jscomp$6$$){var $event$jscomp$24_expansionOptions$jscomp$3$$=$JSCompiler_StaticMethods_expandAndPostMessage_$self$$.win;
$event$jscomp$24_expansionOptions$jscomp$3$$.parent&&$event$jscomp$24_expansionOptions$jscomp$3$$.parent!=$event$jscomp$24_expansionOptions$jscomp$3$$&&$JSCompiler_StaticMethods_expandAndPostMessage_$self$$.win.parent.postMessage($trigger$jscomp$6$$,"*")}))}
function $JSCompiler_StaticMethods_isSampledIn_$$($JSCompiler_StaticMethods_isSampledIn_$self$$,$expansionOptions$jscomp$4_trigger$jscomp$7$$){var $spec$jscomp$11$$=$expansionOptions$jscomp$4_trigger$jscomp$7$$.sampleSpec,$resolve$jscomp$18$$=Promise.resolve(!0),$TAG$jscomp$10$$=$JSCompiler_StaticMethods_isSampledIn_$self$$.$getName_$();if(!$spec$jscomp$11$$)return $resolve$jscomp$18$$;var $sampleOn$$=$spec$jscomp$11$$.sampleOn;if(!$sampleOn$$)return $JSCompiler_StaticMethods_isSampledIn_$self$$.user().error($TAG$jscomp$10$$,
"Invalid sampleOn value."),$resolve$jscomp$18$$;var $threshold$jscomp$1$$=parseFloat($spec$jscomp$11$$.threshold);if(0<=$threshold$jscomp$1$$&&100>=$threshold$jscomp$1$$)return $expansionOptions$jscomp$4_trigger$jscomp$7$$=$JSCompiler_StaticMethods_expansionOptions_$$($JSCompiler_StaticMethods_isSampledIn_$self$$,$dict$$module$src$utils$object$$({}),$expansionOptions$jscomp$4_trigger$jscomp$7$$),$JSCompiler_StaticMethods_isSampledIn_$self$$.$expandTemplateWithUrlParams_$($sampleOn$$,$expansionOptions$jscomp$4_trigger$jscomp$7$$).then(function($expansionOptions$jscomp$4_trigger$jscomp$7$$){return $JSCompiler_StaticMethods_isSampledIn_$self$$.$cryptoService_$.uniform($expansionOptions$jscomp$4_trigger$jscomp$7$$)}).then(function($JSCompiler_StaticMethods_isSampledIn_$self$$){return 100*
$JSCompiler_StaticMethods_isSampledIn_$self$$<$threshold$jscomp$1$$});$user$$module$src$log$$().error($TAG$jscomp$10$$,"Invalid threshold for sampling.");return $resolve$jscomp$18$$}
function $JSCompiler_StaticMethods_checkTriggerEnabled_$$($JSCompiler_StaticMethods_checkTriggerEnabled_$self$$,$trigger$jscomp$8$$,$event$jscomp$25_expansionOptions$jscomp$5$$){$event$jscomp$25_expansionOptions$jscomp$5$$=$JSCompiler_StaticMethods_expansionOptions_$$($JSCompiler_StaticMethods_checkTriggerEnabled_$self$$,$event$jscomp$25_expansionOptions$jscomp$5$$,$trigger$jscomp$8$$);var $enabledOnTagLevel$$=$JSCompiler_StaticMethods_checkSpecEnabled_$$($JSCompiler_StaticMethods_checkTriggerEnabled_$self$$,
$JSCompiler_StaticMethods_checkTriggerEnabled_$self$$.$config_$.enabled,$event$jscomp$25_expansionOptions$jscomp$5$$),$enabledOnTriggerLevel$$=$JSCompiler_StaticMethods_checkSpecEnabled_$$($JSCompiler_StaticMethods_checkTriggerEnabled_$self$$,$trigger$jscomp$8$$.enabled,$event$jscomp$25_expansionOptions$jscomp$5$$);return Promise.all([$enabledOnTagLevel$$,$enabledOnTriggerLevel$$]).then(function($JSCompiler_StaticMethods_checkTriggerEnabled_$self$$){return $JSCompiler_StaticMethods_checkTriggerEnabled_$self$$[0]&&
$JSCompiler_StaticMethods_checkTriggerEnabled_$self$$[1]})}
function $JSCompiler_StaticMethods_checkSpecEnabled_$$($JSCompiler_StaticMethods_checkSpecEnabled_$self$$,$spec$jscomp$12$$,$expansionOptions$jscomp$6$$){return void 0===$spec$jscomp$12$$?Promise.resolve(!0):"boolean"===typeof $spec$jscomp$12$$?Promise.resolve($spec$jscomp$12$$):$JSCompiler_StaticMethods_checkSpecEnabled_$self$$.$expandTemplateWithUrlParams_$($spec$jscomp$12$$,$expansionOptions$jscomp$6$$).then(function($JSCompiler_StaticMethods_checkSpecEnabled_$self$$){return""!==$JSCompiler_StaticMethods_checkSpecEnabled_$self$$&&
"0"!==$JSCompiler_StaticMethods_checkSpecEnabled_$self$$&&"false"!==$JSCompiler_StaticMethods_checkSpecEnabled_$self$$&&"null"!==$JSCompiler_StaticMethods_checkSpecEnabled_$self$$&&"NaN"!==$JSCompiler_StaticMethods_checkSpecEnabled_$self$$&&"undefined"!==$JSCompiler_StaticMethods_checkSpecEnabled_$self$$})}
$JSCompiler_prototypeAlias$$.$expandTemplateWithUrlParams_$=function($spec$jscomp$13$$,$expansionOptions$jscomp$7$$){var $$jscomp$this$jscomp$72$$=this;return this.$variableService_$.expandTemplate($spec$jscomp$13$$,$expansionOptions$jscomp$7$$).then(function($spec$jscomp$13$$){return $Services$$module$src$services$urlReplacementsForDoc$$($$jscomp$this$jscomp$72$$.element).expandUrlAsync($spec$jscomp$13$$,$$jscomp$this$jscomp$72$$.$variableService_$.getMacros())})};
$JSCompiler_prototypeAlias$$.$getName_$=function(){return"AmpAnalytics "+(this.element.getAttribute("id")||"<unknown id>")};
function $JSCompiler_StaticMethods_expansionOptions_$$($JSCompiler_StaticMethods_expansionOptions_$self$$,$source1$$,$source2$$,$opt_iterations$jscomp$1$$,$opt_noEncode$jscomp$1$$){var $vars$jscomp$5$$={};$mergeObjects$$module$extensions$amp_analytics$0_1$config$$($JSCompiler_StaticMethods_expansionOptions_$self$$.$config_$.vars,$vars$jscomp$5$$);$mergeObjects$$module$extensions$amp_analytics$0_1$config$$($source2$$.vars,$vars$jscomp$5$$);$mergeObjects$$module$extensions$amp_analytics$0_1$config$$($source1$$.vars,
$vars$jscomp$5$$);return new $ExpansionOptions$$module$extensions$amp_analytics$0_1$variables$$($vars$jscomp$5$$,$opt_iterations$jscomp$1$$,$opt_noEncode$jscomp$1$$)}
(function($AMP$jscomp$1$$){$AMP$jscomp$1$$.registerServiceForDoc("amp-analytics-instrumentation",$InstrumentationService$$module$extensions$amp_analytics$0_1$instrumentation$$);$AMP$jscomp$1$$.registerServiceForDoc("activity",$Activity$$module$extensions$amp_analytics$0_1$activity_impl$$);$registerServiceBuilder$$module$src$service$$($AMP$jscomp$1$$.win,"amp-analytics-variables",$VariableService$$module$extensions$amp_analytics$0_1$variables$$);$registerServiceBuilder$$module$src$service$$($AMP$jscomp$1$$.win,
"amp-analytics-linker-reader",$LinkerReader$$module$extensions$amp_analytics$0_1$linker_reader$$);$AMP$jscomp$1$$.registerElement("amp-analytics",$AmpAnalytics$$module$extensions$amp_analytics$0_1$amp_analytics$$)})(self.AMP);
})});

//# sourceMappingURL=amp-analytics-0.1.js.map
