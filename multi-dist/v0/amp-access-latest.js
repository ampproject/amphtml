(self.AMP=self.AMP||[]).push({n:"amp-access",v:"1904281823091",f:(function(AMP,_){
var $JSCompiler_prototypeAlias$$;function $Deferred$$module$src$utils$promise$$(){var $resolve$$,$reject$$;this.promise=new Promise(function($res$$,$rej$$){$resolve$$=$res$$;$reject$$=$rej$$});this.resolve=$resolve$$;this.reject=$reject$$};function $tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($component$jscomp$4$$,$fallback$$){$fallback$$=void 0===$fallback$$?"":$fallback$$;try{return decodeURIComponent($component$jscomp$4$$)}catch($e$jscomp$8$$){return $fallback$$}};var $regex$$module$src$url_parse_query_string$$=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;
function $parseQueryString_$$module$src$url_parse_query_string$$($queryString$$){var $params$jscomp$1$$=Object.create(null);if(!$queryString$$)return $params$jscomp$1$$;for(var $match$$;$match$$=$regex$$module$src$url_parse_query_string$$.exec($queryString$$);){var $name$jscomp$70$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[1],$match$$[1]),$value$jscomp$87$$=$match$$[2]?$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[2],$match$$[2]):"";
$params$jscomp$1$$[$name$jscomp$70$$]=$value$jscomp$87$$}return $params$jscomp$1$$};var $rtvVersion$$module$src$mode$$="";
function $getMode$$module$src$mode$$($opt_win$$){var $win$$=$opt_win$$||self;if($win$$.AMP_MODE)var $JSCompiler_temp$jscomp$26_JSCompiler_win$jscomp$inline_53$$=$win$$.AMP_MODE;else{$JSCompiler_temp$jscomp$26_JSCompiler_win$jscomp$inline_53$$=$win$$;var $JSCompiler_AMP_CONFIG$jscomp$inline_54_JSCompiler_singlePassType$jscomp$inline_61$$=self.AMP_CONFIG||{},$JSCompiler_runningTests$jscomp$inline_58$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_54_JSCompiler_singlePassType$jscomp$inline_61$$.test||!(!$JSCompiler_temp$jscomp$26_JSCompiler_win$jscomp$inline_53$$.AMP_TEST&&
!$JSCompiler_temp$jscomp$26_JSCompiler_win$jscomp$inline_53$$.__karma__),$JSCompiler_isLocalDev$jscomp$inline_59$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_54_JSCompiler_singlePassType$jscomp$inline_61$$.localDev||$JSCompiler_runningTests$jscomp$inline_58$$,$JSCompiler_hashQuery$jscomp$inline_60$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$26_JSCompiler_win$jscomp$inline_53$$.location.originalHash||$JSCompiler_temp$jscomp$26_JSCompiler_win$jscomp$inline_53$$.location.hash);
$JSCompiler_AMP_CONFIG$jscomp$inline_54_JSCompiler_singlePassType$jscomp$inline_61$$=$JSCompiler_AMP_CONFIG$jscomp$inline_54_JSCompiler_singlePassType$jscomp$inline_61$$.spt;var $JSCompiler_searchQuery$jscomp$inline_62$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$26_JSCompiler_win$jscomp$inline_53$$.location.search);$rtvVersion$$module$src$mode$$||($rtvVersion$$module$src$mode$$=$JSCompiler_isLocalDev$jscomp$inline_59$$?"1904281823091":$JSCompiler_temp$jscomp$26_JSCompiler_win$jscomp$inline_53$$.AMP_CONFIG&&
$JSCompiler_temp$jscomp$26_JSCompiler_win$jscomp$inline_53$$.AMP_CONFIG.v?$JSCompiler_temp$jscomp$26_JSCompiler_win$jscomp$inline_53$$.AMP_CONFIG.v:"011904281823091");$JSCompiler_temp$jscomp$26_JSCompiler_win$jscomp$inline_53$$=$win$$.AMP_MODE={localDev:$JSCompiler_isLocalDev$jscomp$inline_59$$,development:!("1"!=$JSCompiler_hashQuery$jscomp$inline_60$$.development&&!$JSCompiler_temp$jscomp$26_JSCompiler_win$jscomp$inline_53$$.AMP_DEV_MODE),examiner:"2"==$JSCompiler_hashQuery$jscomp$inline_60$$.development,
filter:$JSCompiler_hashQuery$jscomp$inline_60$$.filter,geoOverride:$JSCompiler_hashQuery$jscomp$inline_60$$["amp-geo"],minified:!0,lite:void 0!=$JSCompiler_searchQuery$jscomp$inline_62$$.amp_lite,test:$JSCompiler_runningTests$jscomp$inline_58$$,log:$JSCompiler_hashQuery$jscomp$inline_60$$.log,version:"1904281823091",rtvVersion:$rtvVersion$$module$src$mode$$,singlePassType:$JSCompiler_AMP_CONFIG$jscomp$inline_54_JSCompiler_singlePassType$jscomp$inline_61$$}}return $JSCompiler_temp$jscomp$26_JSCompiler_win$jscomp$inline_53$$}
;var $toString_$$module$src$types$$=Object.prototype.toString;self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log;function $user$$module$src$log$$(){if(!$logs$$module$src$log$$.user)throw Error("failed to call initLogConstructor");return $logs$$module$src$log$$.user}function $dev$$module$src$log$$(){if($logs$$module$src$log$$.dev)return $logs$$module$src$log$$.dev;throw Error("failed to call initLogConstructor");}
function $userAssert$$module$src$log$$($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$){return $user$$module$src$log$$().assert($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$,void 0,void 0,void 0,void 0,void 0,void 0)};function $getExistingServiceForDocInEmbedScope$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_69_JSCompiler_holder$jscomp$inline_70_element$jscomp$11$$,$id$jscomp$6$$){var $opt_fallbackToTopWin$$,$win$jscomp$6$$=$JSCompiler_ampdoc$jscomp$inline_69_JSCompiler_holder$jscomp$inline_70_element$jscomp$11$$.ownerDocument.defaultView,$isEmbed$$=$win$jscomp$6$$!=($win$jscomp$6$$.__AMP_TOP||$win$jscomp$6$$);if($isEmbed$$){if($isServiceRegistered$$module$src$service$$($win$jscomp$6$$,$id$jscomp$6$$)){var $embedService$$=
$getServiceInternal$$module$src$service$$($win$jscomp$6$$,$id$jscomp$6$$);if($embedService$$)return $embedService$$}if(!$opt_fallbackToTopWin$$)return null}$JSCompiler_ampdoc$jscomp$inline_69_JSCompiler_holder$jscomp$inline_70_element$jscomp$11$$=$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_69_JSCompiler_holder$jscomp$inline_70_element$jscomp$11$$);$JSCompiler_ampdoc$jscomp$inline_69_JSCompiler_holder$jscomp$inline_70_element$jscomp$11$$=$getAmpdocServiceHolder$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_69_JSCompiler_holder$jscomp$inline_70_element$jscomp$11$$);
return $isServiceRegistered$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_69_JSCompiler_holder$jscomp$inline_70_element$jscomp$11$$,$id$jscomp$6$$)?$getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_69_JSCompiler_holder$jscomp$inline_70_element$jscomp$11$$,$id$jscomp$6$$):null}
function $getService$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$){$win$jscomp$8$$=$win$jscomp$8$$.__AMP_TOP||$win$jscomp$8$$;return $getServiceInternal$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$)}
function $getExistingServiceOrNull$$module$src$service$$($win$jscomp$10$$){$win$jscomp$10$$=$win$jscomp$10$$.__AMP_TOP||$win$jscomp$10$$;return $isServiceRegistered$$module$src$service$$($win$jscomp$10$$,"performance")?$getServiceInternal$$module$src$service$$($win$jscomp$10$$,"performance"):null}
function $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$$,$id$jscomp$15$$){var $ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdoc$$module$src$service$$($elementOrAmpDoc$$);$ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$);return $getServiceInternal$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$,$id$jscomp$15$$)}
function $getAmpdoc$$module$src$service$$($nodeOrDoc$jscomp$2$$){return $nodeOrDoc$jscomp$2$$.nodeType?$getService$$module$src$service$$(($nodeOrDoc$jscomp$2$$.ownerDocument||$nodeOrDoc$jscomp$2$$).defaultView,"ampdoc").getAmpDoc($nodeOrDoc$jscomp$2$$):$nodeOrDoc$jscomp$2$$}
function $getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$){$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$=$getAmpdoc$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$);return $ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.isSingleDoc()?$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.win:$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$){$isServiceRegistered$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$);var $services$$=$getServices$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$);$holder$jscomp$4_s$jscomp$8$$=$services$$[$id$jscomp$19$$];$holder$jscomp$4_s$jscomp$8$$.obj||($holder$jscomp$4_s$jscomp$8$$.obj=new $holder$jscomp$4_s$jscomp$8$$.ctor($holder$jscomp$4_s$jscomp$8$$.context),$holder$jscomp$4_s$jscomp$8$$.ctor=
null,$holder$jscomp$4_s$jscomp$8$$.context=null,$holder$jscomp$4_s$jscomp$8$$.resolve&&$holder$jscomp$4_s$jscomp$8$$.resolve($holder$jscomp$4_s$jscomp$8$$.obj));return $holder$jscomp$4_s$jscomp$8$$.obj}
function $getServicePromiseInternal$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$,$id$jscomp$21$$){var $cached$$=$getServicePromiseOrNullInternal$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$,$id$jscomp$21$$);if($cached$$)return $cached$$;$holder$jscomp$6_services$jscomp$2$$=$getServices$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$);$holder$jscomp$6_services$jscomp$2$$[$id$jscomp$21$$]=$emptyServiceHolderWithPromise$$module$src$service$$();return $holder$jscomp$6_services$jscomp$2$$[$id$jscomp$21$$].promise}
function $getServicePromiseOrNullInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$){var $s$jscomp$11$$=$getServices$$module$src$service$$($holder$jscomp$8$$)[$id$jscomp$23$$];if($s$jscomp$11$$){if($s$jscomp$11$$.promise)return $s$jscomp$11$$.promise;$getServiceInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$);return $s$jscomp$11$$.promise=Promise.resolve($s$jscomp$11$$.obj)}return null}
function $getServices$$module$src$service$$($holder$jscomp$9$$){var $services$jscomp$5$$=$holder$jscomp$9$$.services;$services$jscomp$5$$||($services$jscomp$5$$=$holder$jscomp$9$$.services={});return $services$jscomp$5$$}
function $isServiceRegistered$$module$src$service$$($holder$jscomp$12_service$jscomp$4$$,$id$jscomp$27$$){$holder$jscomp$12_service$jscomp$4$$=$holder$jscomp$12_service$jscomp$4$$.services&&$holder$jscomp$12_service$jscomp$4$$.services[$id$jscomp$27$$];return!(!$holder$jscomp$12_service$jscomp$4$$||!$holder$jscomp$12_service$jscomp$4$$.ctor&&!$holder$jscomp$12_service$jscomp$4$$.obj)}
function $emptyServiceHolderWithPromise$$module$src$service$$(){var $deferred$$=new $Deferred$$module$src$utils$promise$$,$$jscomp$destructuring$var2_reject$jscomp$3$$=$deferred$$,$promise$jscomp$1$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.promise,$resolve$jscomp$4$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.resolve;$$jscomp$destructuring$var2_reject$jscomp$3$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.reject;$promise$jscomp$1$$.catch(function(){});return{obj:null,promise:$promise$jscomp$1$$,
resolve:$resolve$jscomp$4$$,reject:$$jscomp$destructuring$var2_reject$jscomp$3$$,context:null,ctor:null}};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var $regex$$module$third_party$css_escape$css_escape$$=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function $escaper$$module$third_party$css_escape$css_escape$$($match$jscomp$1$$,$nil$$,$dash$$,$hexEscape$$,$chars$$){return $chars$$?$chars$$:$nil$$?"\ufffd":$hexEscape$$?$match$jscomp$1$$.slice(0,-1)+"\\"+$match$jscomp$1$$.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+$match$jscomp$1$$};function $map$$module$src$utils$object$$(){var $opt_initial$$,$obj$jscomp$25$$=Object.create(null);$opt_initial$$&&Object.assign($obj$jscomp$25$$,$opt_initial$$);return $obj$jscomp$25$$}function $dict$$module$src$utils$object$$($opt_initial$jscomp$1$$){return $opt_initial$jscomp$1$$||{}};function $openWindowDialog$$module$src$dom$$($win$jscomp$18$$,$url$jscomp$21$$,$opt_features$$){try{var $res$jscomp$1$$=$win$jscomp$18$$.open($url$jscomp$21$$,"_blank",$opt_features$$)}catch($e$jscomp$14$$){$dev$$module$src$log$$().error("DOM","Failed to open url on target: ","_blank",$e$jscomp$14$$)}$res$jscomp$1$$||($res$jscomp$1$$=$win$jscomp$18$$.open($url$jscomp$21$$,"_top"));return $res$jscomp$1$$}
function $isJsonScriptTag$$module$src$dom$$($element$jscomp$22$$){return"SCRIPT"==$element$jscomp$22$$.tagName&&$element$jscomp$22$$.hasAttribute("type")&&"APPLICATION/JSON"==$element$jscomp$22$$.getAttribute("type").toUpperCase()};function $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$33$$){var $s$jscomp$13$$=$getServicePromiseOrNullInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($element$jscomp$33$$),"amp-analytics-instrumentation");if($s$jscomp$13$$)return $s$jscomp$13$$;var $ampdoc$jscomp$7$$=$getAmpdoc$$module$src$service$$($element$jscomp$33$$);return $ampdoc$jscomp$7$$.whenBodyAvailable().then(function(){var $element$jscomp$33$$=$ampdoc$jscomp$7$$.win;var $s$jscomp$13$$=
$ampdoc$jscomp$7$$.win.document.head;if($s$jscomp$13$$){var $JSCompiler_inline_result$jscomp$207_JSCompiler_scripts$jscomp$inline_212$$=[];$s$jscomp$13$$=$s$jscomp$13$$.querySelectorAll("script[custom-element]");for(var $JSCompiler_i$jscomp$inline_214$$=0;$JSCompiler_i$jscomp$inline_214$$<$s$jscomp$13$$.length;$JSCompiler_i$jscomp$inline_214$$++)$JSCompiler_inline_result$jscomp$207_JSCompiler_scripts$jscomp$inline_212$$.push($s$jscomp$13$$[$JSCompiler_i$jscomp$inline_214$$].getAttribute("custom-element"))}else $JSCompiler_inline_result$jscomp$207_JSCompiler_scripts$jscomp$inline_212$$=
[];$element$jscomp$33$$=$JSCompiler_inline_result$jscomp$207_JSCompiler_scripts$jscomp$inline_212$$.includes("amp-analytics")?$getService$$module$src$service$$($element$jscomp$33$$,"extensions").waitForExtension($element$jscomp$33$$,"amp-analytics"):Promise.resolve();return $element$jscomp$33$$}).then(function(){var $s$jscomp$13$$=$ampdoc$jscomp$7$$.win;return $s$jscomp$13$$.ampExtendedElements&&$s$jscomp$13$$.ampExtendedElements["amp-analytics"]?$getServicePromiseInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($element$jscomp$33$$),
"amp-analytics-instrumentation"):null})};function $Services$$module$src$services$timerFor$$($window$jscomp$10$$){return $getService$$module$src$service$$($window$jscomp$10$$,"timer")}function $Services$$module$src$services$viewerForDoc$$($elementOrAmpDoc$jscomp$15$$){return $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$15$$,"viewer")};function $LruCache$$module$src$utils$lru_cache$$(){var $capacity$$=100;this.$capacity_$=$capacity$$;this.$access_$=this.$size_$=0;this.$cache_$=Object.create(null)}$LruCache$$module$src$utils$lru_cache$$.prototype.has=function($key$jscomp$43$$){return!!this.$cache_$[$key$jscomp$43$$]};$LruCache$$module$src$utils$lru_cache$$.prototype.get=function($key$jscomp$44$$){var $cacheable$$=this.$cache_$[$key$jscomp$44$$];if($cacheable$$)return $cacheable$$.access=++this.$access_$,$cacheable$$.payload};
$LruCache$$module$src$utils$lru_cache$$.prototype.put=function($JSCompiler_cache$jscomp$inline_81_key$jscomp$45$$,$payload$$){this.has($JSCompiler_cache$jscomp$inline_81_key$jscomp$45$$)||this.$size_$++;this.$cache_$[$JSCompiler_cache$jscomp$inline_81_key$jscomp$45$$]={payload:$payload$$,access:this.$access_$};if(!(this.$size_$<=this.$capacity_$)){$dev$$module$src$log$$().warn("lru-cache","Trimming LRU cache");$JSCompiler_cache$jscomp$inline_81_key$jscomp$45$$=this.$cache_$;var $JSCompiler_oldest$jscomp$inline_82$$=
this.$access_$+1,$JSCompiler_key$jscomp$inline_84$$;for($JSCompiler_key$jscomp$inline_84$$ in $JSCompiler_cache$jscomp$inline_81_key$jscomp$45$$){var $JSCompiler_access$jscomp$inline_85$$=$JSCompiler_cache$jscomp$inline_81_key$jscomp$45$$[$JSCompiler_key$jscomp$inline_84$$].access;if($JSCompiler_access$jscomp$inline_85$$<$JSCompiler_oldest$jscomp$inline_82$$){$JSCompiler_oldest$jscomp$inline_82$$=$JSCompiler_access$jscomp$inline_85$$;var $JSCompiler_oldestKey$jscomp$inline_83$$=$JSCompiler_key$jscomp$inline_84$$}}void 0!==
$JSCompiler_oldestKey$jscomp$inline_83$$&&(delete $JSCompiler_cache$jscomp$inline_81_key$jscomp$45$$[$JSCompiler_oldestKey$jscomp$inline_83$$],this.$size_$--)}};var $env$$module$src$config$$=self.AMP_CONFIG||{},$urls$$module$src$config$$={thirdParty:$env$$module$src$config$$.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:$env$$module$src$config$$.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof $env$$module$src$config$$.thirdPartyFrameRegex?new RegExp($env$$module$src$config$$.thirdPartyFrameRegex):$env$$module$src$config$$.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:$env$$module$src$config$$.cdnUrl||
"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof $env$$module$src$config$$.cdnProxyRegex?new RegExp($env$$module$src$config$$.cdnProxyRegex):$env$$module$src$config$$.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:$env$$module$src$config$$.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:$env$$module$src$config$$.localDev||!1};var $SERVING_TYPE_PREFIX$$module$src$url$$=$dict$$module$src$utils$object$$({c:!0,v:!0,a:!0,ad:!0,action:!0}),$a$$module$src$url$$,$cache$$module$src$url$$,$AMP_JS_PARAMS_REGEX$$module$src$url$$=/[?&]amp_js[^&]*/,$AMP_GSA_PARAMS_REGEX$$module$src$url$$=/[?&]amp_gsa[^&]*/,$AMP_R_PARAMS_REGEX$$module$src$url$$=/[?&]amp_r[^&]*/,$AMP_KIT_PARAMS_REGEX$$module$src$url$$=/[?&]amp_kit[^&]*/,$GOOGLE_EXPERIMENT_PARAMS_REGEX$$module$src$url$$=/[?&]usqp[^&]*/;
function $parseUrlDeprecated$$module$src$url$$($JSCompiler_inline_result$jscomp$34_url$jscomp$22$$){var $opt_nocache$$;$a$$module$src$url$$||($a$$module$src$url$$=self.document.createElement("a"),$cache$$module$src$url$$=self.UrlCache||(self.UrlCache=new $LruCache$$module$src$utils$lru_cache$$));var $JSCompiler_opt_cache$jscomp$inline_88$$=$opt_nocache$$?null:$cache$$module$src$url$$,$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$=$a$$module$src$url$$;if($JSCompiler_opt_cache$jscomp$inline_88$$&&
$JSCompiler_opt_cache$jscomp$inline_88$$.has($JSCompiler_inline_result$jscomp$34_url$jscomp$22$$))$JSCompiler_inline_result$jscomp$34_url$jscomp$22$$=$JSCompiler_opt_cache$jscomp$inline_88$$.get($JSCompiler_inline_result$jscomp$34_url$jscomp$22$$);else{$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$.href=$JSCompiler_inline_result$jscomp$34_url$jscomp$22$$;$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$.protocol||($JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$.href=
$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$.href);var $JSCompiler_info$jscomp$inline_90$$={href:$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$.href,protocol:$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$.protocol,host:$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$.host,hostname:$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$.hostname,port:"0"==$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$.port?
"":$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$.port,pathname:$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$.pathname,search:$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$.search,hash:$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$.hash,origin:null};"/"!==$JSCompiler_info$jscomp$inline_90$$.pathname[0]&&($JSCompiler_info$jscomp$inline_90$$.pathname="/"+$JSCompiler_info$jscomp$inline_90$$.pathname);if("http:"==$JSCompiler_info$jscomp$inline_90$$.protocol&&
80==$JSCompiler_info$jscomp$inline_90$$.port||"https:"==$JSCompiler_info$jscomp$inline_90$$.protocol&&443==$JSCompiler_info$jscomp$inline_90$$.port)$JSCompiler_info$jscomp$inline_90$$.port="",$JSCompiler_info$jscomp$inline_90$$.host=$JSCompiler_info$jscomp$inline_90$$.hostname;$JSCompiler_info$jscomp$inline_90$$.origin=$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$.origin&&"null"!=$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$.origin?$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$.origin:
"data:"!=$JSCompiler_info$jscomp$inline_90$$.protocol&&$JSCompiler_info$jscomp$inline_90$$.host?$JSCompiler_info$jscomp$inline_90$$.protocol+"//"+$JSCompiler_info$jscomp$inline_90$$.host:$JSCompiler_info$jscomp$inline_90$$.href;$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$=$getMode$$module$src$mode$$().test&&Object.freeze?Object.freeze($JSCompiler_info$jscomp$inline_90$$):$JSCompiler_info$jscomp$inline_90$$;$JSCompiler_opt_cache$jscomp$inline_88$$&&$JSCompiler_opt_cache$jscomp$inline_88$$.put($JSCompiler_inline_result$jscomp$34_url$jscomp$22$$,
$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$);$JSCompiler_inline_result$jscomp$34_url$jscomp$22$$=$JSCompiler_a$jscomp$inline_89_JSCompiler_frozen$jscomp$inline_91$$}return $JSCompiler_inline_result$jscomp$34_url$jscomp$22$$}
function $serializeQueryString$$module$src$url$$($params$jscomp$5$$){var $s$jscomp$15$$=[],$k$jscomp$1$$;for($k$jscomp$1$$ in $params$jscomp$5$$){var $v$$=$params$jscomp$5$$[$k$jscomp$1$$];if(null!=$v$$)if(Array.isArray($v$$))for(var $i$jscomp$12_sv$0$$=0;$i$jscomp$12_sv$0$$<$v$$.length;$i$jscomp$12_sv$0$$++){var $sv$$=$v$$[$i$jscomp$12_sv$0$$];$s$jscomp$15$$.push(encodeURIComponent($k$jscomp$1$$)+"="+encodeURIComponent($sv$$))}else $i$jscomp$12_sv$0$$=$v$$,$s$jscomp$15$$.push(encodeURIComponent($k$jscomp$1$$)+
"="+encodeURIComponent($i$jscomp$12_sv$0$$))}return $s$jscomp$15$$.join("&")}
function $assertHttpsUrl$$module$src$url$$($JSCompiler_string$jscomp$inline_188_JSCompiler_url$jscomp$inline_93_urlString$jscomp$1$$,$elementContext$$){var $sourceName$$=void 0===$sourceName$$?"source":$sourceName$$;$userAssert$$module$src$log$$(null!=$JSCompiler_string$jscomp$inline_188_JSCompiler_url$jscomp$inline_93_urlString$jscomp$1$$,"%s %s must be available",$elementContext$$,$sourceName$$);var $theUrlString$$=$JSCompiler_string$jscomp$inline_188_JSCompiler_url$jscomp$inline_93_urlString$jscomp$1$$;$JSCompiler_string$jscomp$inline_188_JSCompiler_url$jscomp$inline_93_urlString$jscomp$1$$=
$theUrlString$$;"string"==typeof $JSCompiler_string$jscomp$inline_188_JSCompiler_url$jscomp$inline_93_urlString$jscomp$1$$&&($JSCompiler_string$jscomp$inline_188_JSCompiler_url$jscomp$inline_93_urlString$jscomp$1$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_string$jscomp$inline_188_JSCompiler_url$jscomp$inline_93_urlString$jscomp$1$$));var $JSCompiler_index$jscomp$inline_189_JSCompiler_temp$jscomp$181$$;($JSCompiler_index$jscomp$inline_189_JSCompiler_temp$jscomp$181$$="https:"==$JSCompiler_string$jscomp$inline_188_JSCompiler_url$jscomp$inline_93_urlString$jscomp$1$$.protocol||
"localhost"==$JSCompiler_string$jscomp$inline_188_JSCompiler_url$jscomp$inline_93_urlString$jscomp$1$$.hostname||"127.0.0.1"==$JSCompiler_string$jscomp$inline_188_JSCompiler_url$jscomp$inline_93_urlString$jscomp$1$$.hostname)||($JSCompiler_string$jscomp$inline_188_JSCompiler_url$jscomp$inline_93_urlString$jscomp$1$$=$JSCompiler_string$jscomp$inline_188_JSCompiler_url$jscomp$inline_93_urlString$jscomp$1$$.hostname,$JSCompiler_index$jscomp$inline_189_JSCompiler_temp$jscomp$181$$=$JSCompiler_string$jscomp$inline_188_JSCompiler_url$jscomp$inline_93_urlString$jscomp$1$$.length-
10,$JSCompiler_index$jscomp$inline_189_JSCompiler_temp$jscomp$181$$=0<=$JSCompiler_index$jscomp$inline_189_JSCompiler_temp$jscomp$181$$&&$JSCompiler_string$jscomp$inline_188_JSCompiler_url$jscomp$inline_93_urlString$jscomp$1$$.indexOf(".localhost",$JSCompiler_index$jscomp$inline_189_JSCompiler_temp$jscomp$181$$)==$JSCompiler_index$jscomp$inline_189_JSCompiler_temp$jscomp$181$$);$userAssert$$module$src$log$$($JSCompiler_index$jscomp$inline_189_JSCompiler_temp$jscomp$181$$||/^(\/\/)/.test($theUrlString$$),
'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',$elementContext$$,$sourceName$$,$theUrlString$$)}function $removeFragment$$module$src$url$$($url$jscomp$29$$){var $index$jscomp$69$$=$url$jscomp$29$$.indexOf("#");return-1==$index$jscomp$69$$?$url$jscomp$29$$:$url$jscomp$29$$.substring(0,$index$jscomp$69$$)}
function $isProxyOrigin$$module$src$url$$($url$jscomp$31$$){"string"==typeof $url$jscomp$31$$&&($url$jscomp$31$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$31$$));return $urls$$module$src$config$$.cdnProxyRegex.test($url$jscomp$31$$.origin)}
function $getSourceUrl$$module$src$url$$($url$jscomp$37$$){"string"==typeof $url$jscomp$37$$&&($url$jscomp$37$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$37$$));if(!$isProxyOrigin$$module$src$url$$($url$jscomp$37$$))return $url$jscomp$37$$.href;var $JSCompiler_temp_const$jscomp$208_path$jscomp$4$$=$url$jscomp$37$$.pathname.split("/");$userAssert$$module$src$log$$($SERVING_TYPE_PREFIX$$module$src$url$$[$JSCompiler_temp_const$jscomp$208_path$jscomp$4$$[1]],"Unknown path prefix in url %s",$url$jscomp$37$$.href);
var $domainOrHttpsSignal$$=$JSCompiler_temp_const$jscomp$208_path$jscomp$4$$[2],$origin$$="s"==$domainOrHttpsSignal$$?"https://"+decodeURIComponent($JSCompiler_temp_const$jscomp$208_path$jscomp$4$$[3]):"http://"+decodeURIComponent($domainOrHttpsSignal$$);$userAssert$$module$src$log$$(0<$origin$$.indexOf("."),"Expected a . in origin %s",$origin$$);$JSCompiler_temp_const$jscomp$208_path$jscomp$4$$.splice(1,"s"==$domainOrHttpsSignal$$?3:2);$JSCompiler_temp_const$jscomp$208_path$jscomp$4$$=$origin$$+
$JSCompiler_temp_const$jscomp$208_path$jscomp$4$$.join("/");var $JSCompiler_inline_result$jscomp$209_JSCompiler_search$jscomp$inline_217_JSCompiler_urlSearch$jscomp$inline_216$$;$JSCompiler_inline_result$jscomp$209_JSCompiler_search$jscomp$inline_217_JSCompiler_urlSearch$jscomp$inline_216$$=($JSCompiler_inline_result$jscomp$209_JSCompiler_search$jscomp$inline_217_JSCompiler_urlSearch$jscomp$inline_216$$=$url$jscomp$37$$.search)&&"?"!=$JSCompiler_inline_result$jscomp$209_JSCompiler_search$jscomp$inline_217_JSCompiler_urlSearch$jscomp$inline_216$$?
($JSCompiler_inline_result$jscomp$209_JSCompiler_search$jscomp$inline_217_JSCompiler_urlSearch$jscomp$inline_216$$=$JSCompiler_inline_result$jscomp$209_JSCompiler_search$jscomp$inline_217_JSCompiler_urlSearch$jscomp$inline_216$$.replace($AMP_JS_PARAMS_REGEX$$module$src$url$$,"").replace($AMP_GSA_PARAMS_REGEX$$module$src$url$$,"").replace($AMP_R_PARAMS_REGEX$$module$src$url$$,"").replace($AMP_KIT_PARAMS_REGEX$$module$src$url$$,"").replace($GOOGLE_EXPERIMENT_PARAMS_REGEX$$module$src$url$$,"").replace(/^[?&]/,
""))?"?"+$JSCompiler_inline_result$jscomp$209_JSCompiler_search$jscomp$inline_217_JSCompiler_urlSearch$jscomp$inline_216$$:"":"";return $JSCompiler_temp_const$jscomp$208_path$jscomp$4$$+$JSCompiler_inline_result$jscomp$209_JSCompiler_search$jscomp$inline_217_JSCompiler_urlSearch$jscomp$inline_216$$+($url$jscomp$37$$.hash||"")};function $AccessClientAdapter$$module$extensions$amp_access$0_1$amp_access_client$$($ampdoc$jscomp$10$$,$configJson$$,$JSCompiler_configJson$jscomp$inline_96_JSCompiler_inline_result$jscomp$37_JSCompiler_timeout$jscomp$inline_97_context$jscomp$1$$){this.ampdoc=$ampdoc$jscomp$10$$;this.$context_$=$JSCompiler_configJson$jscomp$inline_96_JSCompiler_inline_result$jscomp$37_JSCompiler_timeout$jscomp$inline_97_context$jscomp$1$$;this.$authorizationUrl_$=$userAssert$$module$src$log$$($configJson$$.authorization,
'"authorization" URL must be specified');$assertHttpsUrl$$module$src$url$$(this.$authorizationUrl_$,'"authorization"');this.$isPingbackEnabled_$=!$configJson$$.noPingback;this.$pingbackUrl_$=$configJson$$.pingback;this.$isPingbackEnabled_$&&($userAssert$$module$src$log$$(this.$pingbackUrl_$,'"pingback" URL must be specified'),$assertHttpsUrl$$module$src$url$$(this.$pingbackUrl_$,'"pingback"'));$JSCompiler_configJson$jscomp$inline_96_JSCompiler_inline_result$jscomp$37_JSCompiler_timeout$jscomp$inline_97_context$jscomp$1$$=
$configJson$$;$JSCompiler_configJson$jscomp$inline_96_JSCompiler_inline_result$jscomp$37_JSCompiler_timeout$jscomp$inline_97_context$jscomp$1$$.authorizationTimeout?($JSCompiler_configJson$jscomp$inline_96_JSCompiler_inline_result$jscomp$37_JSCompiler_timeout$jscomp$inline_97_context$jscomp$1$$=$JSCompiler_configJson$jscomp$inline_96_JSCompiler_inline_result$jscomp$37_JSCompiler_timeout$jscomp$inline_97_context$jscomp$1$$.authorizationTimeout,$userAssert$$module$src$log$$("number"==typeof $JSCompiler_configJson$jscomp$inline_96_JSCompiler_inline_result$jscomp$37_JSCompiler_timeout$jscomp$inline_97_context$jscomp$1$$,
'"authorizationTimeout" must be a number'),$getMode$$module$src$mode$$().localDev||$getMode$$module$src$mode$$().development||($JSCompiler_configJson$jscomp$inline_96_JSCompiler_inline_result$jscomp$37_JSCompiler_timeout$jscomp$inline_97_context$jscomp$1$$=Math.min($JSCompiler_configJson$jscomp$inline_96_JSCompiler_inline_result$jscomp$37_JSCompiler_timeout$jscomp$inline_97_context$jscomp$1$$,3E3))):$JSCompiler_configJson$jscomp$inline_96_JSCompiler_inline_result$jscomp$37_JSCompiler_timeout$jscomp$inline_97_context$jscomp$1$$=
3E3;this.$authorizationTimeout_$=$JSCompiler_configJson$jscomp$inline_96_JSCompiler_inline_result$jscomp$37_JSCompiler_timeout$jscomp$inline_97_context$jscomp$1$$;this.$xhr_$=$getService$$module$src$service$$($ampdoc$jscomp$10$$.win,"xhr");this.$timer_$=$Services$$module$src$services$timerFor$$($ampdoc$jscomp$10$$.win)}$JSCompiler_prototypeAlias$$=$AccessClientAdapter$$module$extensions$amp_access$0_1$amp_access_client$$.prototype;
$JSCompiler_prototypeAlias$$.getConfig=function(){return{authorizationUrl:this.$authorizationUrl_$,pingbackEnabled:this.$isPingbackEnabled_$,pingbackUrl:this.$pingbackUrl_$,authorizationTimeout:this.$authorizationTimeout_$}};$JSCompiler_prototypeAlias$$.getAuthorizationUrl=function(){return this.$authorizationUrl_$};$JSCompiler_prototypeAlias$$.isAuthorizationEnabled=function(){return!0};$JSCompiler_prototypeAlias$$.getAuthorizationTimeout=function(){return this.$authorizationTimeout_$};
$JSCompiler_prototypeAlias$$.authorize=function(){var $$jscomp$this$jscomp$1$$=this,$urlPromise$$=this.$context_$.buildUrl(this.$authorizationUrl_$,!1);return $urlPromise$$.then(function($urlPromise$$){return $$jscomp$this$jscomp$1$$.$timer_$.timeoutPromise($$jscomp$this$jscomp$1$$.$authorizationTimeout_$,$$jscomp$this$jscomp$1$$.$xhr_$.fetchJson($urlPromise$$,{credentials:"include"})).then(function($$jscomp$this$jscomp$1$$){return $$jscomp$this$jscomp$1$$.json()})})};
$JSCompiler_prototypeAlias$$.isPingbackEnabled=function(){return this.$isPingbackEnabled_$};$JSCompiler_prototypeAlias$$.pingback=function(){var $$jscomp$this$jscomp$2$$=this;return this.$context_$.buildUrl(this.$pingbackUrl_$,!0).then(function($url$jscomp$42$$){return $$jscomp$this$jscomp$2$$.$xhr_$.sendSignal($url$jscomp$42$$,{method:"POST",credentials:"include",headers:$dict$$module$src$utils$object$$({"Content-Type":"application/x-www-form-urlencoded"}),body:""})})};
$JSCompiler_prototypeAlias$$.postAction=function(){};function $Messenger$$module$extensions$amp_access$0_1$iframe_api$messenger$$($win$jscomp$44$$,$targetOrCallback$$,$targetOrigin$$){this.$win_$=$win$jscomp$44$$;this.$targetOrCallback_$=$targetOrCallback$$;this.$targetOrigin_$=$targetOrigin$$;this.$onCommand_$=this.$target_$=null;this.$boundHandleEvent_$=this.$handleEvent_$.bind(this);this.$requestId_$=0;this.$waiting_$={}}$JSCompiler_prototypeAlias$$=$Messenger$$module$extensions$amp_access$0_1$iframe_api$messenger$$.prototype;
$JSCompiler_prototypeAlias$$.connect=function($onCommand$$){if(this.$onCommand_$)throw Error("already connected");this.$onCommand_$=$onCommand$$;this.$win_$.addEventListener("message",this.$boundHandleEvent_$)};$JSCompiler_prototypeAlias$$.disconnect=function(){this.$onCommand_$&&(this.$onCommand_$=null,this.$win_$.removeEventListener("message",this.$boundHandleEvent_$))};$JSCompiler_prototypeAlias$$.isConnected=function(){return null!=this.$targetOrigin_$};
$JSCompiler_prototypeAlias$$.getTarget=function(){var $target$jscomp$86$$=$JSCompiler_StaticMethods_getOptionalTarget_$$(this);if(!$target$jscomp$86$$)throw Error("not connected");return $target$jscomp$86$$};
function $JSCompiler_StaticMethods_getOptionalTarget_$$($JSCompiler_StaticMethods_getOptionalTarget_$self$$){$JSCompiler_StaticMethods_getOptionalTarget_$self$$.$onCommand_$&&!$JSCompiler_StaticMethods_getOptionalTarget_$self$$.$target_$&&($JSCompiler_StaticMethods_getOptionalTarget_$self$$.$target_$="function"==typeof $JSCompiler_StaticMethods_getOptionalTarget_$self$$.$targetOrCallback_$?$JSCompiler_StaticMethods_getOptionalTarget_$self$$.$targetOrCallback_$():$JSCompiler_StaticMethods_getOptionalTarget_$self$$.$targetOrCallback_$);
return $JSCompiler_StaticMethods_getOptionalTarget_$self$$.$target_$}$JSCompiler_prototypeAlias$$.getTargetOrigin=function(){if(null==this.$targetOrigin_$)throw Error("not connected");return this.$targetOrigin_$};$JSCompiler_prototypeAlias$$.sendCommand=function($cmd$$,$opt_payload$$){$JSCompiler_StaticMethods_sendCommand_$$(this,void 0,$cmd$$,$opt_payload$$)};
$JSCompiler_prototypeAlias$$.sendCommandRsvp=function($cmd$jscomp$1$$,$opt_payload$jscomp$1$$){var $rsvpId$$=String(++this.$requestId_$),$resolver$jscomp$1$$=null,$promise$jscomp$3$$=new Promise(function($cmd$jscomp$1$$){$resolver$jscomp$1$$=$cmd$jscomp$1$$});this.$waiting_$[$rsvpId$$]={promise:$promise$jscomp$3$$,resolver:$resolver$jscomp$1$$};$JSCompiler_StaticMethods_sendCommand_$$(this,$rsvpId$$,$cmd$jscomp$1$$,$opt_payload$jscomp$1$$);return $promise$jscomp$3$$};
function $JSCompiler_StaticMethods_sendCommand_$$($JSCompiler_StaticMethods_sendCommand_$self_targetOrigin$jscomp$1$$,$rsvpId$jscomp$1$$,$cmd$jscomp$2$$,$opt_payload$jscomp$2$$){var $target$jscomp$87$$=$JSCompiler_StaticMethods_sendCommand_$self_targetOrigin$jscomp$1$$.getTarget();$JSCompiler_StaticMethods_sendCommand_$self_targetOrigin$jscomp$1$$="connect"==$cmd$jscomp$2$$?null!=$JSCompiler_StaticMethods_sendCommand_$self_targetOrigin$jscomp$1$$.$targetOrigin_$?$JSCompiler_StaticMethods_sendCommand_$self_targetOrigin$jscomp$1$$.$targetOrigin_$:
"*":$JSCompiler_StaticMethods_sendCommand_$self_targetOrigin$jscomp$1$$.getTargetOrigin();$target$jscomp$87$$.postMessage({sentinel:"__AMP__",_rsvp:$rsvpId$jscomp$1$$,cmd:$cmd$jscomp$2$$,payload:$opt_payload$jscomp$2$$||null},$JSCompiler_StaticMethods_sendCommand_$self_targetOrigin$jscomp$1$$)}
$JSCompiler_prototypeAlias$$.$handleEvent_$=function($e$jscomp$16_result$jscomp$1$$){var $$jscomp$this$jscomp$3$$=this,$data$jscomp$57$$=$e$jscomp$16_result$jscomp$1$$.data;if($data$jscomp$57$$&&"__AMP__"==$data$jscomp$57$$.sentinel){var $origin$jscomp$1$$=$e$jscomp$16_result$jscomp$1$$.origin,$cmd$jscomp$3$$=$data$jscomp$57$$.cmd,$payload$jscomp$1$$=$data$jscomp$57$$.payload||null;null==this.$targetOrigin_$&&"start"==$cmd$jscomp$3$$&&(this.$targetOrigin_$=$origin$jscomp$1$$);null==this.$targetOrigin_$&&
$e$jscomp$16_result$jscomp$1$$.source&&$JSCompiler_StaticMethods_getOptionalTarget_$$(this)==$e$jscomp$16_result$jscomp$1$$.source&&(this.$targetOrigin_$=$origin$jscomp$1$$);if($origin$jscomp$1$$==this.$targetOrigin_$){var $rsvpId$jscomp$2$$=$data$jscomp$57$$._rsvp,$rsvp$$=!!$rsvpId$jscomp$2$$&&"rsvp"!=$cmd$jscomp$3$$;$e$jscomp$16_result$jscomp$1$$=this.$handleCommand_$($rsvpId$jscomp$2$$,$cmd$jscomp$3$$,$payload$jscomp$1$$);$rsvp$$&&Promise.resolve($e$jscomp$16_result$jscomp$1$$).then(function($e$jscomp$16_result$jscomp$1$$){$JSCompiler_StaticMethods_sendCommand_$$($$jscomp$this$jscomp$3$$,
$rsvpId$jscomp$2$$,"rsvp",{result:$e$jscomp$16_result$jscomp$1$$})},function($e$jscomp$16_result$jscomp$1$$){$JSCompiler_StaticMethods_sendCommand_$$($$jscomp$this$jscomp$3$$,$rsvpId$jscomp$2$$,"rsvp",{error:String($e$jscomp$16_result$jscomp$1$$)})})}}};
$JSCompiler_prototypeAlias$$.$handleCommand_$=function($rsvpId$jscomp$3$$,$cmd$jscomp$4$$,$payload$jscomp$2$$){if("rsvp"==$cmd$jscomp$4$$){var $waiting$$=$rsvpId$jscomp$3$$&&this.$waiting_$[$rsvpId$jscomp$3$$];$waiting$$&&("error"in $payload$jscomp$2$$?$waiting$$.resolver(Promise.reject(Error($payload$jscomp$2$$.error))):$waiting$$.resolver($payload$jscomp$2$$.result),delete this.$waiting_$[$rsvpId$jscomp$3$$])}else return this.$onCommand_$($cmd$jscomp$4$$,$payload$jscomp$2$$)};function $getValueForExpr$$module$src$json$$($obj$jscomp$29_value$jscomp$94$$,$expr$jscomp$3_i$jscomp$13$$){if("."==$expr$jscomp$3_i$jscomp$13$$)return $obj$jscomp$29_value$jscomp$94$$;var $parts$$=$expr$jscomp$3_i$jscomp$13$$.split(".");for($expr$jscomp$3_i$jscomp$13$$=0;$expr$jscomp$3_i$jscomp$13$$<$parts$$.length;$expr$jscomp$3_i$jscomp$13$$++){var $part$$=$parts$$[$expr$jscomp$3_i$jscomp$13$$];if($part$$&&$obj$jscomp$29_value$jscomp$94$$&&void 0!==$obj$jscomp$29_value$jscomp$94$$[$part$$]&&(null==
$obj$jscomp$29_value$jscomp$94$$||"object"!=typeof $obj$jscomp$29_value$jscomp$94$$?0:Object.prototype.hasOwnProperty.call($obj$jscomp$29_value$jscomp$94$$,$part$$)))$obj$jscomp$29_value$jscomp$94$$=$obj$jscomp$29_value$jscomp$94$$[$part$$];else{$obj$jscomp$29_value$jscomp$94$$=void 0;break}}return $obj$jscomp$29_value$jscomp$94$$}
function $tryParseJson$$module$src$json$$($json$jscomp$1$$,$opt_onFailed$$){try{return JSON.parse($json$jscomp$1$$)}catch($e$jscomp$17$$){return $opt_onFailed$$&&$opt_onFailed$$($e$jscomp$17$$),null}};function $toggle$$module$src$style$$($element$jscomp$60$$){var $opt_display$$=!1;void 0===$opt_display$$&&($opt_display$$=$element$jscomp$60$$.hasAttribute("hidden"));$opt_display$$?$element$jscomp$60$$.removeAttribute("hidden"):$element$jscomp$60$$.setAttribute("hidden","")};function $AccessIframeAdapter$$module$extensions$amp_access$0_1$amp_access_iframe$$($ampdoc$jscomp$11$$,$configJson$jscomp$2$$,$context$jscomp$2$$){var $$jscomp$this$jscomp$4$$=this;this.ampdoc=$ampdoc$jscomp$11$$;this.$context_$=$context$jscomp$2$$;this.$configJson_$=$configJson$jscomp$2$$;this.$timer_$=$Services$$module$src$services$timerFor$$($ampdoc$jscomp$11$$.win);this.$iframeSrc_$=$userAssert$$module$src$log$$($configJson$jscomp$2$$.iframeSrc,'"iframeSrc" URL must be specified');$assertHttpsUrl$$module$src$url$$(this.$iframeSrc_$,
'"iframeSrc"');(this.$iframeVars_$=$configJson$jscomp$2$$.iframeVars||null)&&$userAssert$$module$src$log$$(Array.isArray(this.$iframeVars_$),'"iframeVars" must be an array');this.$defaultResponse_$=$userAssert$$module$src$log$$($configJson$jscomp$2$$.defaultResponse,'"defaultResponse" must be specified');this.$targetOrigin_$=$parseUrlDeprecated$$module$src$url$$(this.$iframeSrc_$).origin;this.$connectedPromise_$=this.$connectedResolver_$=null;this.$iframe_$=$ampdoc$jscomp$11$$.win.document.createElement("iframe");
$toggle$$module$src$style$$(this.$iframe_$);this.$messenger_$=new $Messenger$$module$extensions$amp_access$0_1$iframe_api$messenger$$(this.ampdoc.win,function(){return $$jscomp$this$jscomp$4$$.$iframe_$.contentWindow},this.$targetOrigin_$);this.$configPromise_$=null}$JSCompiler_prototypeAlias$$=$AccessIframeAdapter$$module$extensions$amp_access$0_1$amp_access_iframe$$.prototype;$JSCompiler_prototypeAlias$$.disconnect=function(){this.$messenger_$.disconnect();this.ampdoc.getBody().removeChild(this.$iframe_$)};
$JSCompiler_prototypeAlias$$.getConfig=function(){return{iframeSrc:this.$iframeSrc_$,iframeVars:this.$iframeVars_$}};$JSCompiler_prototypeAlias$$.isAuthorizationEnabled=function(){return!0};$JSCompiler_prototypeAlias$$.authorize=function(){return Promise.race([$JSCompiler_StaticMethods_authorizeLocal_$$(this),$JSCompiler_StaticMethods_authorizeRemote_$$(this)])};$JSCompiler_prototypeAlias$$.isPingbackEnabled=function(){return!0};
$JSCompiler_prototypeAlias$$.pingback=function(){var $$jscomp$this$jscomp$5$$=this;return this.connect().then(function(){return $$jscomp$this$jscomp$5$$.$messenger_$.sendCommandRsvp("pingback",{})})};$JSCompiler_prototypeAlias$$.postAction=function(){$JSCompiler_StaticMethods_store_$$(this,null)};
$JSCompiler_prototypeAlias$$.connect=function(){if(!this.$connectedPromise_$){var $deferred$jscomp$2$$=new $Deferred$$module$src$utils$promise$$;this.$connectedPromise_$=$deferred$jscomp$2$$.promise;this.$connectedResolver_$=$deferred$jscomp$2$$.resolve;this.$configPromise_$=$JSCompiler_StaticMethods_resolveConfig_$$(this);this.$messenger_$.connect(this.$handleCommand_$.bind(this));this.ampdoc.getBody().appendChild(this.$iframe_$);this.$iframe_$.src=this.$iframeSrc_$}return this.$connectedPromise_$};
function $JSCompiler_StaticMethods_resolveConfig_$$($JSCompiler_StaticMethods_resolveConfig_$self$$){return new Promise(function($resolve$jscomp$11$$){var $configJson$jscomp$3$$=JSON.parse(JSON.stringify($JSCompiler_StaticMethods_resolveConfig_$self$$.$configJson_$));if($JSCompiler_StaticMethods_resolveConfig_$self$$.$iframeVars_$){var $varsString$$=$JSCompiler_StaticMethods_resolveConfig_$self$$.$iframeVars_$.join("&"),$varsPromise$$=$JSCompiler_StaticMethods_resolveConfig_$self$$.$context_$.collectUrlVars($varsString$$,
!1);$resolve$jscomp$11$$($varsPromise$$.then(function($JSCompiler_StaticMethods_resolveConfig_$self$$){$configJson$jscomp$3$$.iframeVars=$JSCompiler_StaticMethods_resolveConfig_$self$$;return $configJson$jscomp$3$$}))}else $resolve$jscomp$11$$($configJson$jscomp$3$$)})}
function $JSCompiler_StaticMethods_authorizeLocal_$$($JSCompiler_StaticMethods_authorizeLocal_$self$$){var $timeout$jscomp$4$$=3E3*($getMode$$module$src$mode$$().development?2:1);return $JSCompiler_StaticMethods_authorizeLocal_$self$$.$timer_$.promise($timeout$jscomp$4$$).then(function(){return $JSCompiler_StaticMethods_restore_$$($JSCompiler_StaticMethods_authorizeLocal_$self$$)||$JSCompiler_StaticMethods_authorizeLocal_$self$$.$defaultResponse_$})}
function $JSCompiler_StaticMethods_authorizeRemote_$$($JSCompiler_StaticMethods_authorizeRemote_$self$$){return $JSCompiler_StaticMethods_authorizeRemote_$self$$.connect().then(function(){return $JSCompiler_StaticMethods_authorizeRemote_$self$$.$messenger_$.sendCommandRsvp("authorize",{})}).then(function($data$jscomp$58$$){$data$jscomp$58$$&&Promise.resolve().then(function(){return $JSCompiler_StaticMethods_store_$$($JSCompiler_StaticMethods_authorizeRemote_$self$$,$data$jscomp$58$$)});return $data$jscomp$58$$})}
function $JSCompiler_StaticMethods_restore_$$($JSCompiler_StaticMethods_restore_$self$$){var $win$jscomp$46$$=$JSCompiler_StaticMethods_restore_$self$$.ampdoc.win,$storage$$=$win$jscomp$46$$.sessionStorage||$win$jscomp$46$$.localStorage;if(!$storage$$)return null;try{var $raw$$=$storage$$.getItem("amp-access-iframe");if(!$raw$$)return null;var $parsed$jscomp$1$$=JSON.parse($raw$$);return $parsed$jscomp$1$$.t+6048E5<$JSCompiler_StaticMethods_restore_$self$$.ampdoc.win.Date.now()?null:$parsed$jscomp$1$$.d||
null}catch($e$5$$){$dev$$module$src$log$$().error("amp-access-iframe","failed to restore access response: ",$e$5$$);try{$storage$$.removeItem("amp-access-iframe")}catch($e$jscomp$18$$){}return null}}
function $JSCompiler_StaticMethods_store_$$($JSCompiler_StaticMethods_store_$self$$,$data$jscomp$59$$){var $storage$jscomp$1_win$jscomp$47$$=$JSCompiler_StaticMethods_store_$self$$.ampdoc.win;if($storage$jscomp$1_win$jscomp$47$$=$storage$jscomp$1_win$jscomp$47$$.sessionStorage||$storage$jscomp$1_win$jscomp$47$$.localStorage)try{$data$jscomp$59$$?$storage$jscomp$1_win$jscomp$47$$.setItem("amp-access-iframe",JSON.stringify($dict$$module$src$utils$object$$({t:$JSCompiler_StaticMethods_store_$self$$.ampdoc.win.Date.now(),
d:$data$jscomp$59$$}))):$storage$jscomp$1_win$jscomp$47$$.removeItem("amp-access-iframe")}catch($e$jscomp$19$$){$dev$$module$src$log$$().error("amp-access-iframe","failed to store access response: ",$e$jscomp$19$$)}}
$JSCompiler_prototypeAlias$$.$handleCommand_$=function($cmd$jscomp$5$$){var $$jscomp$this$jscomp$9$$=this;"connect"==$cmd$jscomp$5$$&&this.$configPromise_$.then(function($cmd$jscomp$5$$){$$jscomp$this$jscomp$9$$.$messenger_$.sendCommandRsvp("start",{protocol:"amp-access",config:$cmd$jscomp$5$$}).then(function(){$$jscomp$this$jscomp$9$$.$connectedResolver_$&&($$jscomp$this$jscomp$9$$.$connectedResolver_$(),$$jscomp$this$jscomp$9$$.$connectedResolver_$=null)})})};function $AccessOtherAdapter$$module$extensions$amp_access$0_1$amp_access_other$$($ampdoc$jscomp$12$$,$configJson$jscomp$5$$,$context$jscomp$3$$){this.ampdoc=$ampdoc$jscomp$12$$;this.$context_$=$context$jscomp$3$$;this.$authorizationResponse_$=$configJson$jscomp$5$$.authorizationFallbackResponse||null;this.$isProxyOrigin_$=$isProxyOrigin$$module$src$url$$($ampdoc$jscomp$12$$.win.location)}$JSCompiler_prototypeAlias$$=$AccessOtherAdapter$$module$extensions$amp_access$0_1$amp_access_other$$.prototype;
$JSCompiler_prototypeAlias$$.getConfig=function(){return{authorizationResponse:this.$authorizationResponse_$}};$JSCompiler_prototypeAlias$$.isAuthorizationEnabled=function(){return!!this.$authorizationResponse_$&&!this.$isProxyOrigin_$};$JSCompiler_prototypeAlias$$.authorize=function(){return Promise.resolve(this.$authorizationResponse_$)};$JSCompiler_prototypeAlias$$.isPingbackEnabled=function(){return!1};$JSCompiler_prototypeAlias$$.pingback=function(){return Promise.resolve()};
$JSCompiler_prototypeAlias$$.postAction=function(){};var $allowedMethods_$$module$src$utils$xhr_utils$$=["GET","POST"];
function $toStructuredCloneable$$module$src$utils$xhr_utils$$($input$jscomp$11$$,$JSCompiler_iterator$jscomp$inline_101_init$jscomp$2$$){var $newInit$$=Object.assign({},$JSCompiler_iterator$jscomp$inline_101_init$jscomp$2$$),$JSCompiler_array$jscomp$inline_102_JSCompiler_o$jscomp$inline_99$$=$JSCompiler_iterator$jscomp$inline_101_init$jscomp$2$$.body;if($JSCompiler_array$jscomp$inline_102_JSCompiler_o$jscomp$inline_99$$&&"function"==typeof $JSCompiler_array$jscomp$inline_102_JSCompiler_o$jscomp$inline_99$$.getFormData){var $wrapper$$=
$JSCompiler_iterator$jscomp$inline_101_init$jscomp$2$$.body;$newInit$$.headers["Content-Type"]="multipart/form-data;charset=utf-8";$JSCompiler_iterator$jscomp$inline_101_init$jscomp$2$$=$wrapper$$.entries();$JSCompiler_array$jscomp$inline_102_JSCompiler_o$jscomp$inline_99$$=[];for(var $JSCompiler_e$jscomp$inline_103$$=$JSCompiler_iterator$jscomp$inline_101_init$jscomp$2$$.next();!$JSCompiler_e$jscomp$inline_103$$.done;$JSCompiler_e$jscomp$inline_103$$=$JSCompiler_iterator$jscomp$inline_101_init$jscomp$2$$.next())$JSCompiler_array$jscomp$inline_102_JSCompiler_o$jscomp$inline_99$$.push($JSCompiler_e$jscomp$inline_103$$.value);
$newInit$$.body=$JSCompiler_array$jscomp$inline_102_JSCompiler_o$jscomp$inline_99$$}return{input:$input$jscomp$11$$,init:$newInit$$}}
function $fromStructuredCloneable$$module$src$utils$xhr_utils$$($response$jscomp$3$$,$responseType$$){$userAssert$$module$src$log$$("[object Object]"===$toString_$$module$src$types$$.call($response$jscomp$3$$),"Object expected: %s",$response$jscomp$3$$);var $isDocumentType$$="document"==$responseType$$;if(!$isDocumentType$$)return new Response($response$jscomp$3$$.body,$response$jscomp$3$$.init);var $lowercasedHeaders$$=$map$$module$src$utils$object$$(),$data$jscomp$61$$={status:200,statusText:"OK",
getResponseHeader:function($response$jscomp$3$$){return $lowercasedHeaders$$[String($response$jscomp$3$$).toLowerCase()]||null}};if($response$jscomp$3$$.init){var $init$jscomp$3$$=$response$jscomp$3$$.init;Array.isArray($init$jscomp$3$$.headers)&&$init$jscomp$3$$.headers.forEach(function($response$jscomp$3$$){var $responseType$$=$response$jscomp$3$$[0],$isDocumentType$$=$response$jscomp$3$$[1];$lowercasedHeaders$$[String($responseType$$).toLowerCase()]=String($isDocumentType$$)});$init$jscomp$3$$.status&&
($data$jscomp$61$$.status=parseInt($init$jscomp$3$$.status,10));$init$jscomp$3$$.statusText&&($data$jscomp$61$$.statusText=String($init$jscomp$3$$.statusText))}return new Response($response$jscomp$3$$.body?String($response$jscomp$3$$.body):"",$data$jscomp$61$$)}
function $getViewerInterceptResponse$$module$src$utils$xhr_utils$$($win$jscomp$49$$,$ampdocSingle$$,$input$jscomp$12$$,$init$jscomp$4$$){if(!$ampdocSingle$$)return Promise.resolve();var $viewer$$=$Services$$module$src$services$viewerForDoc$$($ampdocSingle$$),$whenFirstVisible$$=$viewer$$.whenFirstVisible();if($isProxyOrigin$$module$src$url$$($input$jscomp$12$$)||!$viewer$$.hasCapability("xhrInterceptor"))return $whenFirstVisible$$;var $htmlElement$$=$ampdocSingle$$.getRootNode().documentElement,$docOptedIn$$=
$htmlElement$$.hasAttribute("allow-xhr-interception");return $docOptedIn$$?$whenFirstVisible$$.then(function(){return $viewer$$.isTrustedViewer()}).then(function($ampdocSingle$$){var $whenFirstVisible$$=$getMode$$module$src$mode$$($win$jscomp$49$$).development;if($ampdocSingle$$||$whenFirstVisible$$){var $htmlElement$$=$dict$$module$src$utils$object$$({originalRequest:$toStructuredCloneable$$module$src$utils$xhr_utils$$($input$jscomp$12$$,$init$jscomp$4$$)});return $viewer$$.sendMessageAwaitResponse("xhr",
$htmlElement$$).then(function($win$jscomp$49$$){return $fromStructuredCloneable$$module$src$utils$xhr_utils$$($win$jscomp$49$$,$init$jscomp$4$$.responseType)})}}):$whenFirstVisible$$}
function $setupInput$$module$src$utils$xhr_utils$$($JSCompiler_field$jscomp$inline_197_JSCompiler_newUrl$jscomp$inline_224_JSCompiler_sourceOrigin$jscomp$inline_107_win$jscomp$50$$,$JSCompiler_mainAndFragment$jscomp$inline_222_JSCompiler_url$jscomp$inline_106_input$jscomp$13$$,$JSCompiler_mainAndQuery$jscomp$inline_223_JSCompiler_parsedUrl$jscomp$inline_192_JSCompiler_query$jscomp$inline_193_init$jscomp$5$$){!1!==$JSCompiler_mainAndQuery$jscomp$inline_223_JSCompiler_parsedUrl$jscomp$inline_192_JSCompiler_query$jscomp$inline_193_init$jscomp$5$$.ampCors&&
($JSCompiler_mainAndQuery$jscomp$inline_223_JSCompiler_parsedUrl$jscomp$inline_192_JSCompiler_query$jscomp$inline_193_init$jscomp$5$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_mainAndFragment$jscomp$inline_222_JSCompiler_url$jscomp$inline_106_input$jscomp$13$$),$JSCompiler_mainAndQuery$jscomp$inline_223_JSCompiler_parsedUrl$jscomp$inline_192_JSCompiler_query$jscomp$inline_193_init$jscomp$5$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_mainAndQuery$jscomp$inline_223_JSCompiler_parsedUrl$jscomp$inline_192_JSCompiler_query$jscomp$inline_193_init$jscomp$5$$.search),
$userAssert$$module$src$log$$(!("__amp_source_origin"in $JSCompiler_mainAndQuery$jscomp$inline_223_JSCompiler_parsedUrl$jscomp$inline_192_JSCompiler_query$jscomp$inline_193_init$jscomp$5$$),"Source origin is not allowed in %s",$JSCompiler_mainAndFragment$jscomp$inline_222_JSCompiler_url$jscomp$inline_106_input$jscomp$13$$),$JSCompiler_field$jscomp$inline_197_JSCompiler_newUrl$jscomp$inline_224_JSCompiler_sourceOrigin$jscomp$inline_107_win$jscomp$50$$=$parseUrlDeprecated$$module$src$url$$($getSourceUrl$$module$src$url$$($JSCompiler_field$jscomp$inline_197_JSCompiler_newUrl$jscomp$inline_224_JSCompiler_sourceOrigin$jscomp$inline_107_win$jscomp$50$$.location.href)).origin,
$JSCompiler_field$jscomp$inline_197_JSCompiler_newUrl$jscomp$inline_224_JSCompiler_sourceOrigin$jscomp$inline_107_win$jscomp$50$$=encodeURIComponent("__amp_source_origin")+"="+encodeURIComponent($JSCompiler_field$jscomp$inline_197_JSCompiler_newUrl$jscomp$inline_224_JSCompiler_sourceOrigin$jscomp$inline_107_win$jscomp$50$$),$JSCompiler_field$jscomp$inline_197_JSCompiler_newUrl$jscomp$inline_224_JSCompiler_sourceOrigin$jscomp$inline_107_win$jscomp$50$$&&($JSCompiler_mainAndFragment$jscomp$inline_222_JSCompiler_url$jscomp$inline_106_input$jscomp$13$$=
$JSCompiler_mainAndFragment$jscomp$inline_222_JSCompiler_url$jscomp$inline_106_input$jscomp$13$$.split("#",2),$JSCompiler_mainAndQuery$jscomp$inline_223_JSCompiler_parsedUrl$jscomp$inline_192_JSCompiler_query$jscomp$inline_193_init$jscomp$5$$=$JSCompiler_mainAndFragment$jscomp$inline_222_JSCompiler_url$jscomp$inline_106_input$jscomp$13$$[0].split("?",2),$JSCompiler_field$jscomp$inline_197_JSCompiler_newUrl$jscomp$inline_224_JSCompiler_sourceOrigin$jscomp$inline_107_win$jscomp$50$$=$JSCompiler_mainAndQuery$jscomp$inline_223_JSCompiler_parsedUrl$jscomp$inline_192_JSCompiler_query$jscomp$inline_193_init$jscomp$5$$[0]+
($JSCompiler_mainAndQuery$jscomp$inline_223_JSCompiler_parsedUrl$jscomp$inline_192_JSCompiler_query$jscomp$inline_193_init$jscomp$5$$[1]?"?"+$JSCompiler_mainAndQuery$jscomp$inline_223_JSCompiler_parsedUrl$jscomp$inline_192_JSCompiler_query$jscomp$inline_193_init$jscomp$5$$[1]+"&"+$JSCompiler_field$jscomp$inline_197_JSCompiler_newUrl$jscomp$inline_224_JSCompiler_sourceOrigin$jscomp$inline_107_win$jscomp$50$$:"?"+$JSCompiler_field$jscomp$inline_197_JSCompiler_newUrl$jscomp$inline_224_JSCompiler_sourceOrigin$jscomp$inline_107_win$jscomp$50$$),
$JSCompiler_mainAndFragment$jscomp$inline_222_JSCompiler_url$jscomp$inline_106_input$jscomp$13$$=$JSCompiler_field$jscomp$inline_197_JSCompiler_newUrl$jscomp$inline_224_JSCompiler_sourceOrigin$jscomp$inline_107_win$jscomp$50$$+=$JSCompiler_mainAndFragment$jscomp$inline_222_JSCompiler_url$jscomp$inline_106_input$jscomp$13$$[1]?"#"+$JSCompiler_mainAndFragment$jscomp$inline_222_JSCompiler_url$jscomp$inline_106_input$jscomp$13$$[1]:""));return $JSCompiler_mainAndFragment$jscomp$inline_222_JSCompiler_url$jscomp$inline_106_input$jscomp$13$$}
function $setupInit$$module$src$utils$xhr_utils$$($init$jscomp$6_opt_init$jscomp$7$$){var $opt_accept$$="text/html";$init$jscomp$6_opt_init$jscomp$7$$=$init$jscomp$6_opt_init$jscomp$7$$||{};var $JSCompiler_inline_result$jscomp$40_JSCompiler_method$jscomp$inline_109$$=$init$jscomp$6_opt_init$jscomp$7$$.method;void 0===$JSCompiler_inline_result$jscomp$40_JSCompiler_method$jscomp$inline_109$$?$JSCompiler_inline_result$jscomp$40_JSCompiler_method$jscomp$inline_109$$="GET":($JSCompiler_inline_result$jscomp$40_JSCompiler_method$jscomp$inline_109$$=
$JSCompiler_inline_result$jscomp$40_JSCompiler_method$jscomp$inline_109$$.toUpperCase(),$allowedMethods_$$module$src$utils$xhr_utils$$.includes($JSCompiler_inline_result$jscomp$40_JSCompiler_method$jscomp$inline_109$$));$init$jscomp$6_opt_init$jscomp$7$$.method=$JSCompiler_inline_result$jscomp$40_JSCompiler_method$jscomp$inline_109$$;$init$jscomp$6_opt_init$jscomp$7$$.headers=$init$jscomp$6_opt_init$jscomp$7$$.headers||$dict$$module$src$utils$object$$({});$opt_accept$$&&($init$jscomp$6_opt_init$jscomp$7$$.headers.Accept=
$opt_accept$$);return $init$jscomp$6_opt_init$jscomp$7$$}
function $setupAMPCors$$module$src$utils$xhr_utils$$($targetOrigin$jscomp$2_win$jscomp$51$$,$input$jscomp$14$$,$init$jscomp$7$$){!1===$init$jscomp$7$$.ampCors&&($init$jscomp$7$$.requireAmpResponseSourceOrigin=!1);!0===$init$jscomp$7$$.requireAmpResponseSourceOrigin&&$dev$$module$src$log$$().error("XHR","requireAmpResponseSourceOrigin is deprecated, use ampCors instead");void 0===$init$jscomp$7$$.requireAmpResponseSourceOrigin&&($init$jscomp$7$$.requireAmpResponseSourceOrigin=!0);var $currentOrigin$$=
$targetOrigin$jscomp$2_win$jscomp$51$$.origin||$parseUrlDeprecated$$module$src$url$$($targetOrigin$jscomp$2_win$jscomp$51$$.location.href).origin;$targetOrigin$jscomp$2_win$jscomp$51$$=$parseUrlDeprecated$$module$src$url$$($input$jscomp$14$$).origin;$currentOrigin$$==$targetOrigin$jscomp$2_win$jscomp$51$$&&($init$jscomp$7$$.headers=$init$jscomp$7$$.headers||{},$init$jscomp$7$$.headers["AMP-Same-Origin"]="true");return $init$jscomp$7$$}
function $assertSuccess$$module$src$utils$xhr_utils$$($response$jscomp$6$$){return new Promise(function($resolve$jscomp$12_status$jscomp$1$$){if($response$jscomp$6$$.ok)return $resolve$jscomp$12_status$jscomp$1$$($response$jscomp$6$$);$resolve$jscomp$12_status$jscomp$1$$=$response$jscomp$6$$.status;var $err$jscomp$3$$=$user$$module$src$log$$().createError("HTTP error "+$resolve$jscomp$12_status$jscomp$1$$);$err$jscomp$3$$.retriable=415==$resolve$jscomp$12_status$jscomp$1$$||500<=$resolve$jscomp$12_status$jscomp$1$$&&
600>$resolve$jscomp$12_status$jscomp$1$$;$err$jscomp$3$$.response=$response$jscomp$6$$;throw $err$jscomp$3$$;})};function $fetchDocument$$module$src$document_fetcher$$($win$jscomp$53$$,$input$jscomp$15$$,$ampdocSingle$jscomp$1_opt_init$jscomp$8$$){var $init$jscomp$10$$=$setupInit$$module$src$utils$xhr_utils$$($ampdocSingle$jscomp$1_opt_init$jscomp$8$$);$init$jscomp$10$$=$setupAMPCors$$module$src$utils$xhr_utils$$($win$jscomp$53$$,$input$jscomp$15$$,$init$jscomp$10$$);$input$jscomp$15$$=$setupInput$$module$src$utils$xhr_utils$$($win$jscomp$53$$,$input$jscomp$15$$,$init$jscomp$10$$);var $ampdocService$$=$getService$$module$src$service$$($win$jscomp$53$$,
"ampdoc");$ampdocSingle$jscomp$1_opt_init$jscomp$8$$=$ampdocService$$.isSingleDoc()?$ampdocService$$.getAmpDoc():null;$init$jscomp$10$$.responseType="document";return $getViewerInterceptResponse$$module$src$utils$xhr_utils$$($win$jscomp$53$$,$ampdocSingle$jscomp$1_opt_init$jscomp$8$$,$input$jscomp$15$$,$init$jscomp$10$$).then(function($ampdocSingle$jscomp$1_opt_init$jscomp$8$$){return $ampdocSingle$jscomp$1_opt_init$jscomp$8$$?$ampdocSingle$jscomp$1_opt_init$jscomp$8$$.text().then(function($win$jscomp$53$$){return(new DOMParser).parseFromString($win$jscomp$53$$,
"text/html")}):$xhrRequest$$module$src$document_fetcher$$($input$jscomp$15$$,$init$jscomp$10$$).then(function($input$jscomp$15$$){var $ampdocSingle$jscomp$1_opt_init$jscomp$8$$=$input$jscomp$15$$.xhr,$ampdocService$$=$init$jscomp$10$$;($input$jscomp$15$$=$input$jscomp$15$$.response.headers.get("AMP-Access-Control-Allow-Source-Origin"))?($ampdocService$$=$parseUrlDeprecated$$module$src$url$$($getSourceUrl$$module$src$url$$($win$jscomp$53$$.location.href)).origin,$userAssert$$module$src$log$$($input$jscomp$15$$==
$ampdocService$$,"Returned AMP-Access-Control-Allow-Source-Origin is not equal to the current: "+$input$jscomp$15$$+(" vs "+$ampdocService$$))):$ampdocService$$.requireAmpResponseSourceOrigin&&$userAssert$$module$src$log$$(!1,"Response must contain the AMP-Access-Control-Allow-Source-Origin header");return $ampdocSingle$jscomp$1_opt_init$jscomp$8$$.responseXML})})}
function $xhrRequest$$module$src$document_fetcher$$($input$jscomp$16$$,$init$jscomp$11$$){return new Promise(function($resolve$jscomp$13$$,$reject$jscomp$4$$){var $xhr$jscomp$1$$=new XMLHttpRequest;$xhr$jscomp$1$$.open($init$jscomp$11$$.method||"GET",$input$jscomp$16$$,!0);$xhr$jscomp$1$$.withCredentials="include"==$init$jscomp$11$$.credentials;$xhr$jscomp$1$$.responseType="document";for(var $header$jscomp$2$$ in $init$jscomp$11$$.headers)$xhr$jscomp$1$$.setRequestHeader($header$jscomp$2$$,$init$jscomp$11$$.headers[$header$jscomp$2$$]);
$xhr$jscomp$1$$.onreadystatechange=function(){if(!(2>$xhr$jscomp$1$$.readyState))if(100>$xhr$jscomp$1$$.status||599<$xhr$jscomp$1$$.status)$xhr$jscomp$1$$.onreadystatechange=null,$reject$jscomp$4$$($user$$module$src$log$$().createExpectedError("Unknown HTTP status "+$xhr$jscomp$1$$.status));else if(4==$xhr$jscomp$1$$.readyState){var $input$jscomp$16$$={status:$xhr$jscomp$1$$.status,statusText:$xhr$jscomp$1$$.statusText,headers:$parseHeaders$$module$src$document_fetcher$$($xhr$jscomp$1$$.getAllResponseHeaders())};
$input$jscomp$16$$=new Response("",$input$jscomp$16$$);$input$jscomp$16$$=$assertSuccess$$module$src$utils$xhr_utils$$($input$jscomp$16$$).then(function($input$jscomp$16$$){return{response:$input$jscomp$16$$,xhr:$xhr$jscomp$1$$}});$resolve$jscomp$13$$($input$jscomp$16$$)}};$xhr$jscomp$1$$.onerror=function(){$reject$jscomp$4$$($user$$module$src$log$$().createExpectedError("Request failure"))};$xhr$jscomp$1$$.onabort=function(){$reject$jscomp$4$$($user$$module$src$log$$().createExpectedError("Request aborted"))};
"POST"==$init$jscomp$11$$.method?$xhr$jscomp$1$$.send($init$jscomp$11$$.body):$xhr$jscomp$1$$.send()})}
function $parseHeaders$$module$src$document_fetcher$$($rawHeaders$$){var $headers$$=$dict$$module$src$utils$object$$({}),$preProcessedHeaders$$=$rawHeaders$$.replace(/\r?\n[\t ]+/g," ");$preProcessedHeaders$$.split(/\r?\n/).forEach(function($rawHeaders$$){var $preProcessedHeaders$$=$rawHeaders$$.split(":"),$line$$=$preProcessedHeaders$$.shift().trim();$line$$&&($headers$$[$line$$]=$preProcessedHeaders$$.join(":").trim())});return $headers$$};function $isExperimentOn$$module$src$experiments$$($JSCompiler_params$jscomp$inline_126_win$jscomp$61$$,$experimentId$$){if($JSCompiler_params$jscomp$inline_126_win$jscomp$61$$.__AMP__EXPERIMENT_TOGGLES)var $JSCompiler_inline_result$jscomp$42_JSCompiler_toggles$jscomp$inline_118$$=$JSCompiler_params$jscomp$inline_126_win$jscomp$61$$.__AMP__EXPERIMENT_TOGGLES;else{$JSCompiler_params$jscomp$inline_126_win$jscomp$61$$.__AMP__EXPERIMENT_TOGGLES=Object.create(null);$JSCompiler_inline_result$jscomp$42_JSCompiler_toggles$jscomp$inline_118$$=
$JSCompiler_params$jscomp$inline_126_win$jscomp$61$$.__AMP__EXPERIMENT_TOGGLES;if($JSCompiler_params$jscomp$inline_126_win$jscomp$61$$.AMP_CONFIG)for(var $JSCompiler_allowed$jscomp$inline_121_JSCompiler_experimentId$jscomp$inline_119_allowed$8$jscomp$inline_125$$ in $JSCompiler_params$jscomp$inline_126_win$jscomp$61$$.AMP_CONFIG){var $JSCompiler_frequency$jscomp$inline_120_JSCompiler_meta$jscomp$inline_122_JSCompiler_optedInExperiments$jscomp$inline_123_i$9$jscomp$inline_127$$=$JSCompiler_params$jscomp$inline_126_win$jscomp$61$$.AMP_CONFIG[$JSCompiler_allowed$jscomp$inline_121_JSCompiler_experimentId$jscomp$inline_119_allowed$8$jscomp$inline_125$$];
"number"===typeof $JSCompiler_frequency$jscomp$inline_120_JSCompiler_meta$jscomp$inline_122_JSCompiler_optedInExperiments$jscomp$inline_123_i$9$jscomp$inline_127$$&&0<=$JSCompiler_frequency$jscomp$inline_120_JSCompiler_meta$jscomp$inline_122_JSCompiler_optedInExperiments$jscomp$inline_123_i$9$jscomp$inline_127$$&&1>=$JSCompiler_frequency$jscomp$inline_120_JSCompiler_meta$jscomp$inline_122_JSCompiler_optedInExperiments$jscomp$inline_123_i$9$jscomp$inline_127$$&&($JSCompiler_inline_result$jscomp$42_JSCompiler_toggles$jscomp$inline_118$$[$JSCompiler_allowed$jscomp$inline_121_JSCompiler_experimentId$jscomp$inline_119_allowed$8$jscomp$inline_125$$]=
Math.random()<$JSCompiler_frequency$jscomp$inline_120_JSCompiler_meta$jscomp$inline_122_JSCompiler_optedInExperiments$jscomp$inline_123_i$9$jscomp$inline_127$$)}if($JSCompiler_params$jscomp$inline_126_win$jscomp$61$$.AMP_CONFIG&&Array.isArray($JSCompiler_params$jscomp$inline_126_win$jscomp$61$$.AMP_CONFIG["allow-doc-opt-in"])&&0<$JSCompiler_params$jscomp$inline_126_win$jscomp$61$$.AMP_CONFIG["allow-doc-opt-in"].length&&($JSCompiler_allowed$jscomp$inline_121_JSCompiler_experimentId$jscomp$inline_119_allowed$8$jscomp$inline_125$$=
$JSCompiler_params$jscomp$inline_126_win$jscomp$61$$.AMP_CONFIG["allow-doc-opt-in"],$JSCompiler_frequency$jscomp$inline_120_JSCompiler_meta$jscomp$inline_122_JSCompiler_optedInExperiments$jscomp$inline_123_i$9$jscomp$inline_127$$=$JSCompiler_params$jscomp$inline_126_win$jscomp$61$$.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){$JSCompiler_frequency$jscomp$inline_120_JSCompiler_meta$jscomp$inline_122_JSCompiler_optedInExperiments$jscomp$inline_123_i$9$jscomp$inline_127$$=$JSCompiler_frequency$jscomp$inline_120_JSCompiler_meta$jscomp$inline_122_JSCompiler_optedInExperiments$jscomp$inline_123_i$9$jscomp$inline_127$$.getAttribute("content").split(",");
for(var $JSCompiler_i$jscomp$inline_124_JSCompiler_param$jscomp$inline_128$$=0;$JSCompiler_i$jscomp$inline_124_JSCompiler_param$jscomp$inline_128$$<$JSCompiler_frequency$jscomp$inline_120_JSCompiler_meta$jscomp$inline_122_JSCompiler_optedInExperiments$jscomp$inline_123_i$9$jscomp$inline_127$$.length;$JSCompiler_i$jscomp$inline_124_JSCompiler_param$jscomp$inline_128$$++)-1!=$JSCompiler_allowed$jscomp$inline_121_JSCompiler_experimentId$jscomp$inline_119_allowed$8$jscomp$inline_125$$.indexOf($JSCompiler_frequency$jscomp$inline_120_JSCompiler_meta$jscomp$inline_122_JSCompiler_optedInExperiments$jscomp$inline_123_i$9$jscomp$inline_127$$[$JSCompiler_i$jscomp$inline_124_JSCompiler_param$jscomp$inline_128$$])&&
($JSCompiler_inline_result$jscomp$42_JSCompiler_toggles$jscomp$inline_118$$[$JSCompiler_frequency$jscomp$inline_120_JSCompiler_meta$jscomp$inline_122_JSCompiler_optedInExperiments$jscomp$inline_123_i$9$jscomp$inline_127$$[$JSCompiler_i$jscomp$inline_124_JSCompiler_param$jscomp$inline_128$$]]=!0)}Object.assign($JSCompiler_inline_result$jscomp$42_JSCompiler_toggles$jscomp$inline_118$$,$getExperimentTogglesFromCookie$$module$src$experiments$$($JSCompiler_params$jscomp$inline_126_win$jscomp$61$$));if($JSCompiler_params$jscomp$inline_126_win$jscomp$61$$.AMP_CONFIG&&
Array.isArray($JSCompiler_params$jscomp$inline_126_win$jscomp$61$$.AMP_CONFIG["allow-url-opt-in"])&&0<$JSCompiler_params$jscomp$inline_126_win$jscomp$61$$.AMP_CONFIG["allow-url-opt-in"].length)for($JSCompiler_allowed$jscomp$inline_121_JSCompiler_experimentId$jscomp$inline_119_allowed$8$jscomp$inline_125$$=$JSCompiler_params$jscomp$inline_126_win$jscomp$61$$.AMP_CONFIG["allow-url-opt-in"],$JSCompiler_params$jscomp$inline_126_win$jscomp$61$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_params$jscomp$inline_126_win$jscomp$61$$.location.originalHash||
$JSCompiler_params$jscomp$inline_126_win$jscomp$61$$.location.hash),$JSCompiler_frequency$jscomp$inline_120_JSCompiler_meta$jscomp$inline_122_JSCompiler_optedInExperiments$jscomp$inline_123_i$9$jscomp$inline_127$$=0;$JSCompiler_frequency$jscomp$inline_120_JSCompiler_meta$jscomp$inline_122_JSCompiler_optedInExperiments$jscomp$inline_123_i$9$jscomp$inline_127$$<$JSCompiler_allowed$jscomp$inline_121_JSCompiler_experimentId$jscomp$inline_119_allowed$8$jscomp$inline_125$$.length;$JSCompiler_frequency$jscomp$inline_120_JSCompiler_meta$jscomp$inline_122_JSCompiler_optedInExperiments$jscomp$inline_123_i$9$jscomp$inline_127$$++)$JSCompiler_i$jscomp$inline_124_JSCompiler_param$jscomp$inline_128$$=
$JSCompiler_params$jscomp$inline_126_win$jscomp$61$$["e-"+$JSCompiler_allowed$jscomp$inline_121_JSCompiler_experimentId$jscomp$inline_119_allowed$8$jscomp$inline_125$$[$JSCompiler_frequency$jscomp$inline_120_JSCompiler_meta$jscomp$inline_122_JSCompiler_optedInExperiments$jscomp$inline_123_i$9$jscomp$inline_127$$]],"1"==$JSCompiler_i$jscomp$inline_124_JSCompiler_param$jscomp$inline_128$$&&($JSCompiler_inline_result$jscomp$42_JSCompiler_toggles$jscomp$inline_118$$[$JSCompiler_allowed$jscomp$inline_121_JSCompiler_experimentId$jscomp$inline_119_allowed$8$jscomp$inline_125$$[$JSCompiler_frequency$jscomp$inline_120_JSCompiler_meta$jscomp$inline_122_JSCompiler_optedInExperiments$jscomp$inline_123_i$9$jscomp$inline_127$$]]=
!0),"0"==$JSCompiler_i$jscomp$inline_124_JSCompiler_param$jscomp$inline_128$$&&($JSCompiler_inline_result$jscomp$42_JSCompiler_toggles$jscomp$inline_118$$[$JSCompiler_allowed$jscomp$inline_121_JSCompiler_experimentId$jscomp$inline_119_allowed$8$jscomp$inline_125$$[$JSCompiler_frequency$jscomp$inline_120_JSCompiler_meta$jscomp$inline_122_JSCompiler_optedInExperiments$jscomp$inline_123_i$9$jscomp$inline_127$$]]=!1)}var $toggles$$=$JSCompiler_inline_result$jscomp$42_JSCompiler_toggles$jscomp$inline_118$$;
return!!$toggles$$[$experimentId$$]}
function $getExperimentTogglesFromCookie$$module$src$experiments$$($JSCompiler_cookieString$jscomp$inline_132_JSCompiler_cookies$jscomp$inline_133_JSCompiler_inline_result$jscomp$41_JSCompiler_value$jscomp$inline_137_toggles$jscomp$3_win$jscomp$65$$){a:{try{var $JSCompiler_i$jscomp$inline_134_JSCompiler_inline_result$jscomp$183_i$jscomp$26$$=$JSCompiler_cookieString$jscomp$inline_132_JSCompiler_cookies$jscomp$inline_133_JSCompiler_inline_result$jscomp$41_JSCompiler_value$jscomp$inline_137_toggles$jscomp$3_win$jscomp$65$$.document.cookie}catch($JSCompiler_e$jscomp$inline_200$$){$JSCompiler_i$jscomp$inline_134_JSCompiler_inline_result$jscomp$183_i$jscomp$26$$=""}if($JSCompiler_cookieString$jscomp$inline_132_JSCompiler_cookies$jscomp$inline_133_JSCompiler_inline_result$jscomp$41_JSCompiler_value$jscomp$inline_137_toggles$jscomp$3_win$jscomp$65$$=
$JSCompiler_i$jscomp$inline_134_JSCompiler_inline_result$jscomp$183_i$jscomp$26$$)for($JSCompiler_cookieString$jscomp$inline_132_JSCompiler_cookies$jscomp$inline_133_JSCompiler_inline_result$jscomp$41_JSCompiler_value$jscomp$inline_137_toggles$jscomp$3_win$jscomp$65$$=$JSCompiler_cookieString$jscomp$inline_132_JSCompiler_cookies$jscomp$inline_133_JSCompiler_inline_result$jscomp$41_JSCompiler_value$jscomp$inline_137_toggles$jscomp$3_win$jscomp$65$$.split(";"),$JSCompiler_i$jscomp$inline_134_JSCompiler_inline_result$jscomp$183_i$jscomp$26$$=
0;$JSCompiler_i$jscomp$inline_134_JSCompiler_inline_result$jscomp$183_i$jscomp$26$$<$JSCompiler_cookieString$jscomp$inline_132_JSCompiler_cookies$jscomp$inline_133_JSCompiler_inline_result$jscomp$41_JSCompiler_value$jscomp$inline_137_toggles$jscomp$3_win$jscomp$65$$.length;$JSCompiler_i$jscomp$inline_134_JSCompiler_inline_result$jscomp$183_i$jscomp$26$$++){var $JSCompiler_cookie$jscomp$inline_135$$=$JSCompiler_cookieString$jscomp$inline_132_JSCompiler_cookies$jscomp$inline_133_JSCompiler_inline_result$jscomp$41_JSCompiler_value$jscomp$inline_137_toggles$jscomp$3_win$jscomp$65$$[$JSCompiler_i$jscomp$inline_134_JSCompiler_inline_result$jscomp$183_i$jscomp$26$$].trim(),
$JSCompiler_eq$jscomp$inline_136$$=$JSCompiler_cookie$jscomp$inline_135$$.indexOf("=");if(-1!=$JSCompiler_eq$jscomp$inline_136$$&&"AMP_EXP"==$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_cookie$jscomp$inline_135$$.substring(0,$JSCompiler_eq$jscomp$inline_136$$).trim(),void 0)){$JSCompiler_cookieString$jscomp$inline_132_JSCompiler_cookies$jscomp$inline_133_JSCompiler_inline_result$jscomp$41_JSCompiler_value$jscomp$inline_137_toggles$jscomp$3_win$jscomp$65$$=$JSCompiler_cookie$jscomp$inline_135$$.substring($JSCompiler_eq$jscomp$inline_136$$+
1).trim();$JSCompiler_cookieString$jscomp$inline_132_JSCompiler_cookies$jscomp$inline_133_JSCompiler_inline_result$jscomp$41_JSCompiler_value$jscomp$inline_137_toggles$jscomp$3_win$jscomp$65$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_cookieString$jscomp$inline_132_JSCompiler_cookies$jscomp$inline_133_JSCompiler_inline_result$jscomp$41_JSCompiler_value$jscomp$inline_137_toggles$jscomp$3_win$jscomp$65$$,$JSCompiler_cookieString$jscomp$inline_132_JSCompiler_cookies$jscomp$inline_133_JSCompiler_inline_result$jscomp$41_JSCompiler_value$jscomp$inline_137_toggles$jscomp$3_win$jscomp$65$$);
break a}}$JSCompiler_cookieString$jscomp$inline_132_JSCompiler_cookies$jscomp$inline_133_JSCompiler_inline_result$jscomp$41_JSCompiler_value$jscomp$inline_137_toggles$jscomp$3_win$jscomp$65$$=null}var $experimentCookie$$=$JSCompiler_cookieString$jscomp$inline_132_JSCompiler_cookies$jscomp$inline_133_JSCompiler_inline_result$jscomp$41_JSCompiler_value$jscomp$inline_137_toggles$jscomp$3_win$jscomp$65$$,$tokens$$=$experimentCookie$$?$experimentCookie$$.split(/\s*,\s*/g):[];$JSCompiler_cookieString$jscomp$inline_132_JSCompiler_cookies$jscomp$inline_133_JSCompiler_inline_result$jscomp$41_JSCompiler_value$jscomp$inline_137_toggles$jscomp$3_win$jscomp$65$$=
Object.create(null);for($JSCompiler_i$jscomp$inline_134_JSCompiler_inline_result$jscomp$183_i$jscomp$26$$=0;$JSCompiler_i$jscomp$inline_134_JSCompiler_inline_result$jscomp$183_i$jscomp$26$$<$tokens$$.length;$JSCompiler_i$jscomp$inline_134_JSCompiler_inline_result$jscomp$183_i$jscomp$26$$++)0!=$tokens$$[$JSCompiler_i$jscomp$inline_134_JSCompiler_inline_result$jscomp$183_i$jscomp$26$$].length&&("-"==$tokens$$[$JSCompiler_i$jscomp$inline_134_JSCompiler_inline_result$jscomp$183_i$jscomp$26$$][0]?$JSCompiler_cookieString$jscomp$inline_132_JSCompiler_cookies$jscomp$inline_133_JSCompiler_inline_result$jscomp$41_JSCompiler_value$jscomp$inline_137_toggles$jscomp$3_win$jscomp$65$$[$tokens$$[$JSCompiler_i$jscomp$inline_134_JSCompiler_inline_result$jscomp$183_i$jscomp$26$$].substr(1)]=
!1:$JSCompiler_cookieString$jscomp$inline_132_JSCompiler_cookies$jscomp$inline_133_JSCompiler_inline_result$jscomp$41_JSCompiler_value$jscomp$inline_137_toggles$jscomp$3_win$jscomp$65$$[$tokens$$[$JSCompiler_i$jscomp$inline_134_JSCompiler_inline_result$jscomp$183_i$jscomp$26$$]]=!0);return $JSCompiler_cookieString$jscomp$inline_132_JSCompiler_cookies$jscomp$inline_133_JSCompiler_inline_result$jscomp$41_JSCompiler_value$jscomp$inline_137_toggles$jscomp$3_win$jscomp$65$$};function $AccessServerAdapter$$module$extensions$amp_access$0_1$amp_access_server$$($ampdoc$jscomp$13$$,$configJson$jscomp$6$$,$context$jscomp$4$$){this.ampdoc=$ampdoc$jscomp$13$$;this.$context_$=$context$jscomp$4$$;this.$clientAdapter_$=new $AccessClientAdapter$$module$extensions$amp_access$0_1$amp_access_client$$($ampdoc$jscomp$13$$,$configJson$jscomp$6$$,$context$jscomp$4$$);this.$viewer_$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$13$$);this.$xhr_$=$getService$$module$src$service$$($ampdoc$jscomp$13$$.win,
"xhr");this.$timer_$=$Services$$module$src$services$timerFor$$($ampdoc$jscomp$13$$.win);this.$vsync_$=$getService$$module$src$service$$($ampdoc$jscomp$13$$.win,"vsync");var $stateElement$$=$ampdoc$jscomp$13$$.getRootNode().querySelector('meta[name="i-amphtml-access-state"]');this.$serverState_$=$stateElement$$?$stateElement$$.getAttribute("content"):null;var $isInExperiment$$=$isExperimentOn$$module$src$experiments$$($ampdoc$jscomp$13$$.win,"amp-access-server");this.$isProxyOrigin_$=$isProxyOrigin$$module$src$url$$($ampdoc$jscomp$13$$.win.location)||
$isInExperiment$$;var $serviceUrlOverride$$=$isInExperiment$$?this.$viewer_$.getParam("serverAccessService"):null;this.$serviceUrl_$=$serviceUrlOverride$$||$removeFragment$$module$src$url$$($ampdoc$jscomp$13$$.win.location.href)}$JSCompiler_prototypeAlias$$=$AccessServerAdapter$$module$extensions$amp_access$0_1$amp_access_server$$.prototype;$JSCompiler_prototypeAlias$$.getConfig=function(){return{client:this.$clientAdapter_$.getConfig(),proxy:this.$isProxyOrigin_$,serverState:this.$serverState_$}};
$JSCompiler_prototypeAlias$$.isAuthorizationEnabled=function(){return!0};
$JSCompiler_prototypeAlias$$.authorize=function(){var $$jscomp$this$jscomp$13$$=this;return this.$isProxyOrigin_$&&this.$serverState_$?this.$context_$.collectUrlVars(this.$clientAdapter_$.getAuthorizationUrl(),!1).then(function($request$jscomp$5_vars$jscomp$1$$){var $requestVars$$={},$k$jscomp$6$$;for($k$jscomp$6$$ in $request$jscomp$5_vars$jscomp$1$$)null!=$request$jscomp$5_vars$jscomp$1$$[$k$jscomp$6$$]&&($requestVars$$[$k$jscomp$6$$]=String($request$jscomp$5_vars$jscomp$1$$[$k$jscomp$6$$]));$request$jscomp$5_vars$jscomp$1$$=
$dict$$module$src$utils$object$$({url:$removeFragment$$module$src$url$$($$jscomp$this$jscomp$13$$.ampdoc.win.location.href),state:$$jscomp$this$jscomp$13$$.$serverState_$,vars:$requestVars$$});return $$jscomp$this$jscomp$13$$.$timer_$.timeoutPromise($$jscomp$this$jscomp$13$$.$clientAdapter_$.getAuthorizationTimeout(),$fetchDocument$$module$src$document_fetcher$$($$jscomp$this$jscomp$13$$.ampdoc.win,$$jscomp$this$jscomp$13$$.$serviceUrl_$,{method:"POST",body:"request="+encodeURIComponent(JSON.stringify($request$jscomp$5_vars$jscomp$1$$)),
headers:$dict$$module$src$utils$object$$({"Content-Type":"application/x-www-form-urlencoded"}),requireAmpResponseSourceOrigin:!1}))}).then(function($responseDoc$$){var $accessDataString$$=$responseDoc$$.querySelector('script[id="amp-access-data"]').textContent,$accessData$$=JSON.parse($accessDataString$$);return $$jscomp$this$jscomp$13$$.$replaceSections_$($responseDoc$$).then(function(){return $accessData$$})}):this.$clientAdapter_$.authorize()};$JSCompiler_prototypeAlias$$.isPingbackEnabled=function(){return this.$clientAdapter_$.isPingbackEnabled()};
$JSCompiler_prototypeAlias$$.pingback=function(){return this.$clientAdapter_$.pingback()};$JSCompiler_prototypeAlias$$.postAction=function(){};
$JSCompiler_prototypeAlias$$.$replaceSections_$=function($doc$jscomp$14$$){var $$jscomp$this$jscomp$14$$=this,$sections$$=$doc$jscomp$14$$.querySelectorAll("[i-amphtml-access-id]");return this.$vsync_$.mutatePromise(function(){for(var $doc$jscomp$14$$=0;$doc$jscomp$14$$<$sections$$.length;$doc$jscomp$14$$++){var $section$$=$sections$$[$doc$jscomp$14$$],$sectionId$$=$section$$.getAttribute("i-amphtml-access-id"),$target$jscomp$88$$=$$jscomp$this$jscomp$14$$.ampdoc.getRootNode().querySelector('[i-amphtml-access-id="'+
String($sectionId$$).replace($regex$$module$third_party$css_escape$css_escape$$,$escaper$$module$third_party$css_escape$css_escape$$)+'"]');$target$jscomp$88$$?$target$jscomp$88$$.parentElement.replaceChild($$jscomp$this$jscomp$14$$.ampdoc.win.document.importNode($section$$,!0),$target$jscomp$88$$):$dev$$module$src$log$$().warn("amp-access-server","Section not found: ",$sectionId$$)}})};function $utf8Decode$$module$src$utils$bytes$$($bytes$$){if("undefined"!==typeof TextDecoder)return(new TextDecoder("utf-8")).decode($bytes$$);for(var $JSCompiler_bytes$jscomp$inline_139$$=new Uint8Array($bytes$$.buffer||$bytes$$),$JSCompiler_array$jscomp$inline_140$$=Array($JSCompiler_bytes$jscomp$inline_139$$.length),$JSCompiler_i$jscomp$inline_141$$=0;$JSCompiler_i$jscomp$inline_141$$<$JSCompiler_bytes$jscomp$inline_139$$.length;$JSCompiler_i$jscomp$inline_141$$++)$JSCompiler_array$jscomp$inline_140$$[$JSCompiler_i$jscomp$inline_141$$]=
String.fromCharCode($JSCompiler_bytes$jscomp$inline_139$$[$JSCompiler_i$jscomp$inline_141$$]);var $asciiString$$=$JSCompiler_array$jscomp$inline_140$$.join("");return decodeURIComponent(escape($asciiString$$))}
function $stringToBytes$$module$src$utils$bytes$$($str$jscomp$8$$){for(var $bytes$jscomp$1$$=new Uint8Array($str$jscomp$8$$.length),$i$jscomp$28$$=0;$i$jscomp$28$$<$str$jscomp$8$$.length;$i$jscomp$28$$++){var $charCode$$=$str$jscomp$8$$.charCodeAt($i$jscomp$28$$);$bytes$jscomp$1$$[$i$jscomp$28$$]=$charCode$$}return $bytes$jscomp$1$$};var $base64UrlDecodeSubs$$module$src$utils$base64$$={"-":"+",_:"/",".":"="};function $base64UrlDecodeToBytes$$module$src$utils$base64$$($str$jscomp$9$$){var $encoded$$=atob($str$jscomp$9$$.replace(/[-_.]/g,function($str$jscomp$9$$){return $base64UrlDecodeSubs$$module$src$utils$base64$$[$str$jscomp$9$$]}));return $stringToBytes$$module$src$utils$bytes$$($encoded$$)};function $pemToBytes$$module$src$utils$pem$$($pem$$){$pem$$=$pem$$.trim();$pem$$=$pem$$.replace(/^\-+BEGIN[^-]*\-+/,"");$pem$$=$pem$$.replace(/\-+END[^-]*\-+$/,"");$pem$$=$pem$$.replace(/[\r\n]/g,"").trim();return $stringToBytes$$module$src$utils$bytes$$(atob($pem$$))};function $JwtHelper$$module$extensions$amp_access$0_1$jwt$$($win$jscomp$73$$){this.win=$win$jscomp$73$$;this.$subtle_$=$win$jscomp$73$$.crypto&&($win$jscomp$73$$.crypto.subtle||$win$jscomp$73$$.crypto.webkitSubtle)||null}$JwtHelper$$module$extensions$amp_access$0_1$jwt$$.prototype.decode=function($encodedToken$$){return $JSCompiler_StaticMethods_decodeInternal_$$($encodedToken$$).payload};$JwtHelper$$module$extensions$amp_access$0_1$jwt$$.prototype.isVerificationSupported=function(){return!!this.$subtle_$};
$JwtHelper$$module$extensions$amp_access$0_1$jwt$$.prototype.decodeAndVerify=function($encodedToken$jscomp$1$$,$pemPromise$$){var $$jscomp$this$jscomp$15$$=this;if(!this.$subtle_$)throw Error("Crypto is not supported on this platform");var $decodedPromise$$=new Promise(function($pemPromise$$){return $pemPromise$$($JSCompiler_StaticMethods_decodeInternal_$$($encodedToken$jscomp$1$$))});return $decodedPromise$$.then(function($encodedToken$jscomp$1$$){var $decodedPromise$$=$encodedToken$jscomp$1$$.header.alg;
if(!$decodedPromise$$||"RS256"!=$decodedPromise$$)throw Error("Only alg=RS256 is supported");return $JSCompiler_StaticMethods_importKey_$$($$jscomp$this$jscomp$15$$,$pemPromise$$).then(function($pemPromise$$){var $decodedPromise$$=$base64UrlDecodeToBytes$$module$src$utils$base64$$($encodedToken$jscomp$1$$.sig);return $$jscomp$this$jscomp$15$$.$subtle_$.verify({name:"RSASSA-PKCS1-v1_5"},$pemPromise$$,$decodedPromise$$,$stringToBytes$$module$src$utils$bytes$$($encodedToken$jscomp$1$$.verifiable))}).then(function($pemPromise$$){if($pemPromise$$)return $encodedToken$jscomp$1$$.payload;
throw Error("Signature verification failed");})})};
function $JSCompiler_StaticMethods_decodeInternal_$$($encodedToken$jscomp$2$$){function $invalidToken$$(){throw Error('Invalid token: "'+$encodedToken$jscomp$2$$+'"');}var $parts$jscomp$3$$=$encodedToken$jscomp$2$$.split(".");3!=$parts$jscomp$3$$.length&&$invalidToken$$();var $headerUtf8Bytes$$=$base64UrlDecodeToBytes$$module$src$utils$base64$$($parts$jscomp$3$$[0]),$payloadUtf8Bytes$$=$base64UrlDecodeToBytes$$module$src$utils$base64$$($parts$jscomp$3$$[1]);return{header:$tryParseJson$$module$src$json$$($utf8Decode$$module$src$utils$bytes$$($headerUtf8Bytes$$),
$invalidToken$$),payload:$tryParseJson$$module$src$json$$($utf8Decode$$module$src$utils$bytes$$($payloadUtf8Bytes$$),$invalidToken$$),verifiable:$parts$jscomp$3$$[0]+"."+$parts$jscomp$3$$[1],sig:$parts$jscomp$3$$[2]}}
function $JSCompiler_StaticMethods_importKey_$$($JSCompiler_StaticMethods_importKey_$self$$,$pemPromise$jscomp$1$$){return $pemPromise$jscomp$1$$.then(function($pemPromise$jscomp$1$$){return $JSCompiler_StaticMethods_importKey_$self$$.$subtle_$.importKey("spki",$pemToBytes$$module$src$utils$pem$$($pemPromise$jscomp$1$$),{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"])})};function $AccessServerJwtAdapter$$module$extensions$amp_access$0_1$amp_access_server_jwt$$($ampdoc$jscomp$14$$,$configJson$jscomp$7$$,$context$jscomp$5_isInExperiment$jscomp$1_stateElement$jscomp$1$$){this.ampdoc=$ampdoc$jscomp$14$$;this.$context_$=$context$jscomp$5_isInExperiment$jscomp$1_stateElement$jscomp$1$$;this.$clientAdapter_$=new $AccessClientAdapter$$module$extensions$amp_access$0_1$amp_access_client$$($ampdoc$jscomp$14$$,$configJson$jscomp$7$$,$context$jscomp$5_isInExperiment$jscomp$1_stateElement$jscomp$1$$);
this.$viewer_$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$14$$);this.$xhr_$=$getService$$module$src$service$$($ampdoc$jscomp$14$$.win,"xhr");this.$timer_$=$Services$$module$src$services$timerFor$$($ampdoc$jscomp$14$$.win);this.$vsync_$=$getService$$module$src$service$$($ampdoc$jscomp$14$$.win,"vsync");this.$serverState_$=($context$jscomp$5_isInExperiment$jscomp$1_stateElement$jscomp$1$$=$ampdoc$jscomp$14$$.getRootNode().querySelector('meta[name="i-amphtml-access-state"]'))?$context$jscomp$5_isInExperiment$jscomp$1_stateElement$jscomp$1$$.getAttribute("content"):
null;$context$jscomp$5_isInExperiment$jscomp$1_stateElement$jscomp$1$$=$isExperimentOn$$module$src$experiments$$($ampdoc$jscomp$14$$.win,"amp-access-server-jwt");this.$isProxyOrigin_$=$isProxyOrigin$$module$src$url$$($ampdoc$jscomp$14$$.win.location)||$context$jscomp$5_isInExperiment$jscomp$1_stateElement$jscomp$1$$;this.$serviceUrl_$=($context$jscomp$5_isInExperiment$jscomp$1_stateElement$jscomp$1$$?this.$viewer_$.getParam("serverAccessService"):null)||$removeFragment$$module$src$url$$($ampdoc$jscomp$14$$.win.location.href);
this.$key_$=$configJson$jscomp$7$$.publicKey||null;this.$keyUrl_$=$configJson$jscomp$7$$.publicKeyUrl||null;$userAssert$$module$src$log$$(this.$key_$||this.$keyUrl_$,'"publicKey" or "publicKeyUrl" must be specified');this.$keyUrl_$&&$assertHttpsUrl$$module$src$url$$(this.$keyUrl_$,'"publicKeyUrl"');this.$key_$&&this.$keyUrl_$&&$user$$module$src$log$$().warn("amp-access-server-jwt",'Both "publicKey" and "publicKeyUrl" specified. The "publicKeyUrl" will be ignored.');this.$jwtHelper_$=new $JwtHelper$$module$extensions$amp_access$0_1$jwt$$($ampdoc$jscomp$14$$.win)}
$JSCompiler_prototypeAlias$$=$AccessServerJwtAdapter$$module$extensions$amp_access$0_1$amp_access_server_jwt$$.prototype;$JSCompiler_prototypeAlias$$.getConfig=function(){return{client:this.$clientAdapter_$.getConfig(),proxy:this.$isProxyOrigin_$,serverState:this.$serverState_$,publicKey:this.$key_$,publicKeyUrl:this.$keyUrl_$}};$JSCompiler_prototypeAlias$$.isAuthorizationEnabled=function(){return!0};
$JSCompiler_prototypeAlias$$.authorize=function(){return this.$isProxyOrigin_$&&this.$serverState_$?$JSCompiler_StaticMethods_authorizeOnServer_$$(this):$JSCompiler_StaticMethods_authorizeOnClient_$$(this)};$JSCompiler_prototypeAlias$$.isPingbackEnabled=function(){return this.$clientAdapter_$.isPingbackEnabled()};$JSCompiler_prototypeAlias$$.pingback=function(){return this.$clientAdapter_$.pingback()};$JSCompiler_prototypeAlias$$.postAction=function(){};
function $JSCompiler_StaticMethods_fetchJwt_$$($JSCompiler_StaticMethods_fetchJwt_$self$$){var $jwtPromise$$=$JSCompiler_StaticMethods_fetchJwt_$self$$.$context_$.buildUrl($JSCompiler_StaticMethods_fetchJwt_$self$$.$clientAdapter_$.getAuthorizationUrl(),!1).then(function($jwtPromise$$){return $JSCompiler_StaticMethods_fetchJwt_$self$$.$timer_$.timeoutPromise(3E3,$JSCompiler_StaticMethods_fetchJwt_$self$$.$xhr_$.fetchText($jwtPromise$$,{credentials:"include"}))}).then(function($JSCompiler_StaticMethods_fetchJwt_$self$$){return $JSCompiler_StaticMethods_fetchJwt_$self$$.text()}).then(function($jwtPromise$$){var $encoded$jscomp$1$$=
$JSCompiler_StaticMethods_fetchJwt_$self$$.$jwtHelper_$.decode($jwtPromise$$);$userAssert$$module$src$log$$($encoded$jscomp$1$$.amp_authdata,'"amp_authdata" must be present in JWT');return{encoded:$jwtPromise$$,jwt:$encoded$jscomp$1$$}});$getMode$$module$src$mode$$().development&&($JSCompiler_StaticMethods_fetchJwt_$self$$.$jwtHelper_$.isVerificationSupported()?$jwtPromise$$=$jwtPromise$$.then(function($jwtPromise$$){return $JSCompiler_StaticMethods_fetchJwt_$self$$.$jwtHelper_$.decodeAndVerify($jwtPromise$$.encoded,
$JSCompiler_StaticMethods_loadKeyPem_$$($JSCompiler_StaticMethods_fetchJwt_$self$$)).then(function(){return $jwtPromise$$})}):$user$$module$src$log$$().warn("amp-access-server-jwt","Cannot verify signature on this browser since it doesn't support WebCrypto APIs"),$jwtPromise$$=$jwtPromise$$.then(function($JSCompiler_StaticMethods_fetchJwt_$self$$){var $jwtPromise$$=$JSCompiler_StaticMethods_fetchJwt_$self$$.jwt,$resp$jscomp$2$$=Date.now(),$JSCompiler_exp$jscomp$inline_146_JSCompiler_i$jscomp$inline_149$$=
$jwtPromise$$.exp;$userAssert$$module$src$log$$($JSCompiler_exp$jscomp$inline_146_JSCompiler_i$jscomp$inline_149$$,'"exp" field must be specified');$userAssert$$module$src$log$$(1E3*parseFloat($JSCompiler_exp$jscomp$inline_146_JSCompiler_i$jscomp$inline_149$$)>$resp$jscomp$2$$,"token has expired: %s",$JSCompiler_exp$jscomp$inline_146_JSCompiler_i$jscomp$inline_149$$);$jwtPromise$$=$jwtPromise$$.aud;$userAssert$$module$src$log$$($jwtPromise$$,'"aud" field must be specified');$resp$jscomp$2$$=!1;if(Array.isArray($jwtPromise$$))for($JSCompiler_exp$jscomp$inline_146_JSCompiler_i$jscomp$inline_149$$=
0;$JSCompiler_exp$jscomp$inline_146_JSCompiler_i$jscomp$inline_149$$<$jwtPromise$$.length;$JSCompiler_exp$jscomp$inline_146_JSCompiler_i$jscomp$inline_149$$++){if("ampproject.org"==$jwtPromise$$[$JSCompiler_exp$jscomp$inline_146_JSCompiler_i$jscomp$inline_149$$]){$resp$jscomp$2$$=!0;break}}else $resp$jscomp$2$$="ampproject.org"==$jwtPromise$$;$userAssert$$module$src$log$$($resp$jscomp$2$$,'"aud" must be "%s": %s',"ampproject.org",$jwtPromise$$);return $JSCompiler_StaticMethods_fetchJwt_$self$$}));
return $jwtPromise$$.catch(function($JSCompiler_StaticMethods_fetchJwt_$self$$){throw $user$$module$src$log$$().createError("JWT fetch or validation failed: ",$JSCompiler_StaticMethods_fetchJwt_$self$$);})}
function $JSCompiler_StaticMethods_loadKeyPem_$$($JSCompiler_StaticMethods_loadKeyPem_$self$$){return $JSCompiler_StaticMethods_loadKeyPem_$self$$.$key_$?Promise.resolve($JSCompiler_StaticMethods_loadKeyPem_$self$$.$key_$):$JSCompiler_StaticMethods_loadKeyPem_$self$$.$xhr_$.fetchText($JSCompiler_StaticMethods_loadKeyPem_$self$$.$keyUrl_$).then(function($JSCompiler_StaticMethods_loadKeyPem_$self$$){return $JSCompiler_StaticMethods_loadKeyPem_$self$$.text()})}
function $JSCompiler_StaticMethods_authorizeOnClient_$$($JSCompiler_StaticMethods_authorizeOnClient_$self$$){return $JSCompiler_StaticMethods_fetchJwt_$$($JSCompiler_StaticMethods_authorizeOnClient_$self$$).then(function($JSCompiler_StaticMethods_authorizeOnClient_$self$$){return $JSCompiler_StaticMethods_authorizeOnClient_$self$$.jwt.amp_authdata})}
function $JSCompiler_StaticMethods_authorizeOnServer_$$($JSCompiler_StaticMethods_authorizeOnServer_$self$$){return $JSCompiler_StaticMethods_fetchJwt_$$($JSCompiler_StaticMethods_authorizeOnServer_$self$$).then(function($request$jscomp$6_resp$jscomp$4$$){var $encoded$jscomp$2$$=$request$jscomp$6_resp$jscomp$4$$.encoded,$accessData$jscomp$1$$=$request$jscomp$6_resp$jscomp$4$$.jwt.amp_authdata;$request$jscomp$6_resp$jscomp$4$$=$serializeQueryString$$module$src$url$$($dict$$module$src$utils$object$$({url:$removeFragment$$module$src$url$$($JSCompiler_StaticMethods_authorizeOnServer_$self$$.ampdoc.win.location.href),
state:$JSCompiler_StaticMethods_authorizeOnServer_$self$$.$serverState_$,jwt:$encoded$jscomp$2$$}));return $JSCompiler_StaticMethods_authorizeOnServer_$self$$.$timer_$.timeoutPromise(3E3,$fetchDocument$$module$src$document_fetcher$$($JSCompiler_StaticMethods_authorizeOnServer_$self$$.ampdoc.win,$JSCompiler_StaticMethods_authorizeOnServer_$self$$.$serviceUrl_$,{method:"POST",body:$request$jscomp$6_resp$jscomp$4$$,headers:$dict$$module$src$utils$object$$({"Content-Type":"application/x-www-form-urlencoded"}),
requireAmpResponseSourceOrigin:!1})).then(function($request$jscomp$6_resp$jscomp$4$$){return $JSCompiler_StaticMethods_authorizeOnServer_$self$$.$replaceSections_$($request$jscomp$6_resp$jscomp$4$$)}).then(function(){return $accessData$jscomp$1$$})})}
$JSCompiler_prototypeAlias$$.$replaceSections_$=function($doc$jscomp$15$$){var $$jscomp$this$jscomp$19$$=this,$sections$jscomp$1$$=$doc$jscomp$15$$.querySelectorAll("[i-amphtml-access-id]");return this.$vsync_$.mutatePromise(function(){for(var $doc$jscomp$15$$=0;$doc$jscomp$15$$<$sections$jscomp$1$$.length;$doc$jscomp$15$$++){var $section$jscomp$1$$=$sections$jscomp$1$$[$doc$jscomp$15$$],$sectionId$jscomp$1$$=$section$jscomp$1$$.getAttribute("i-amphtml-access-id"),$target$jscomp$89$$=$$jscomp$this$jscomp$19$$.ampdoc.getRootNode().querySelector('[i-amphtml-access-id="'+
String($sectionId$jscomp$1$$).replace($regex$$module$third_party$css_escape$css_escape$$,$escaper$$module$third_party$css_escape$css_escape$$)+'"]');$target$jscomp$89$$?$target$jscomp$89$$.parentElement.replaceChild($$jscomp$this$jscomp$19$$.ampdoc.win.document.importNode($section$jscomp$1$$,!0),$target$jscomp$89$$):$dev$$module$src$log$$().warn("amp-access-server-jwt","Section not found: ",$sectionId$jscomp$1$$)}})};function $AccessVendorAdapter$$module$extensions$amp_access$0_1$amp_access_vendor$$($ampdoc$jscomp$15_deferred$jscomp$3$$,$configJson$jscomp$8$$){this.ampdoc=$ampdoc$jscomp$15_deferred$jscomp$3$$;this.$vendorName_$=$userAssert$$module$src$log$$($configJson$jscomp$8$$.vendor,'"vendor" name must be specified');this.$vendorConfig_$=$configJson$jscomp$8$$[this.$vendorName_$]||{};this.$isPingbackEnabled_$=!$configJson$jscomp$8$$.noPingback;$ampdoc$jscomp$15_deferred$jscomp$3$$=new $Deferred$$module$src$utils$promise$$;
this.$vendorPromise_$=$ampdoc$jscomp$15_deferred$jscomp$3$$.promise;this.$vendorResolve_$=$ampdoc$jscomp$15_deferred$jscomp$3$$.resolve}$JSCompiler_prototypeAlias$$=$AccessVendorAdapter$$module$extensions$amp_access$0_1$amp_access_vendor$$.prototype;$JSCompiler_prototypeAlias$$.getVendorName=function(){return this.$vendorName_$};$JSCompiler_prototypeAlias$$.getConfig=function(){return this.$vendorConfig_$};
$JSCompiler_prototypeAlias$$.registerVendor=function($vendor$$){$userAssert$$module$src$log$$(this.$vendorResolve_$,"Vendor has already been registered");this.$vendorResolve_$($vendor$$);this.$vendorResolve_$=null};$JSCompiler_prototypeAlias$$.isAuthorizationEnabled=function(){return!0};$JSCompiler_prototypeAlias$$.authorize=function(){return this.$vendorPromise_$.then(function($vendor$jscomp$1$$){return $vendor$jscomp$1$$.authorize()})};$JSCompiler_prototypeAlias$$.isPingbackEnabled=function(){return this.$isPingbackEnabled_$};
$JSCompiler_prototypeAlias$$.pingback=function(){return this.$vendorPromise_$.then(function($vendor$jscomp$2$$){return $vendor$jscomp$2$$.pingback()})};$JSCompiler_prototypeAlias$$.postAction=function(){};var $optsSupported$$module$src$event_helper_listen$$;
function $internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$68$$,$eventType$jscomp$3$$,$listener$jscomp$62$$){var $opt_evtListenerOpts$$=void 0,$localElement$$=$element$jscomp$68$$,$localListener$$=$listener$jscomp$62$$;var $wrapped$$=function($element$jscomp$68$$){try{return $localListener$$($element$jscomp$68$$)}catch($e$jscomp$22$$){throw self.reportError($e$jscomp$22$$),$e$jscomp$22$$;}};var $optsSupported$$=$detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(),$capture$$=
!1;$opt_evtListenerOpts$$&&($capture$$=$opt_evtListenerOpts$$.capture);$localElement$$.addEventListener($eventType$jscomp$3$$,$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$$);return function(){$localElement$$&&$localElement$$.removeEventListener($eventType$jscomp$3$$,$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$$);$wrapped$$=$localElement$$=$localListener$$=null}}
function $detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(){if(void 0!==$optsSupported$$module$src$event_helper_listen$$)return $optsSupported$$module$src$event_helper_listen$$;$optsSupported$$module$src$event_helper_listen$$=!1;try{var $options$jscomp$17$$={get capture(){$optsSupported$$module$src$event_helper_listen$$=!0}};self.addEventListener("test-options",null,$options$jscomp$17$$);self.removeEventListener("test-options",null,$options$jscomp$17$$)}catch($err$jscomp$4$$){}return $optsSupported$$module$src$event_helper_listen$$}
;function $listen$$module$src$event_helper$$($element$jscomp$69$$,$listener$jscomp$63$$){return $internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$69$$,"message",$listener$jscomp$63$$)}
function $listenOnce$$module$src$event_helper$$($element$jscomp$70$$,$listener$jscomp$64$$){var $localListener$jscomp$1$$=$listener$jscomp$64$$,$unlisten$$=$internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$70$$,"click",function($element$jscomp$70$$){try{$localListener$jscomp$1$$($element$jscomp$70$$)}finally{$localListener$jscomp$1$$=null,$unlisten$$()}});return $unlisten$$};var $RETURN_URL_REGEX$$module$extensions$amp_access$0_1$login_dialog$$=/RETURN_URL/;
function $createLoginDialog$$module$extensions$amp_access$0_1$login_dialog$$($ampdoc$jscomp$16$$,$urlOrPromise$$){var $viewer$jscomp$1$$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$16$$),$overrideDialog$$=parseInt($viewer$jscomp$1$$.getParam("dialog"),10);return $overrideDialog$$?new $ViewerLoginDialog$$module$extensions$amp_access$0_1$login_dialog$$($viewer$jscomp$1$$,$urlOrPromise$$):new $WebLoginDialog$$module$extensions$amp_access$0_1$login_dialog$$($ampdoc$jscomp$16$$.win,$viewer$jscomp$1$$,
$urlOrPromise$$)}function $openLoginDialog$$module$extensions$amp_access$0_1$login_dialog$$($ampdoc$jscomp$17$$,$urlOrPromise$jscomp$1$$){return $createLoginDialog$$module$extensions$amp_access$0_1$login_dialog$$($ampdoc$jscomp$17$$,$urlOrPromise$jscomp$1$$).open()}function $ViewerLoginDialog$$module$extensions$amp_access$0_1$login_dialog$$($viewer$jscomp$2$$,$urlOrPromise$jscomp$3$$){this.viewer=$viewer$jscomp$2$$;this.urlOrPromise=$urlOrPromise$jscomp$3$$}
$ViewerLoginDialog$$module$extensions$amp_access$0_1$login_dialog$$.prototype.getLoginUrl=function(){return("string"==typeof this.urlOrPromise?Promise.resolve(this.urlOrPromise):this.urlOrPromise).then(function($url$jscomp$44$$){return $buildLoginUrl$$module$extensions$amp_access$0_1$login_dialog$$($url$jscomp$44$$,"RETURN_URL")})};
$ViewerLoginDialog$$module$extensions$amp_access$0_1$login_dialog$$.prototype.open=function(){var $$jscomp$this$jscomp$20$$=this;return this.getLoginUrl().then(function($loginUrl$$){return $$jscomp$this$jscomp$20$$.viewer.sendMessageAwaitResponse("openDialog",$dict$$module$src$utils$object$$({url:$loginUrl$$}))})};
function $WebLoginDialog$$module$extensions$amp_access$0_1$login_dialog$$($win$jscomp$75$$,$viewer$jscomp$3$$,$urlOrPromise$jscomp$4$$){this.win=$win$jscomp$75$$;this.viewer=$viewer$jscomp$3$$;this.urlOrPromise=$urlOrPromise$jscomp$4$$;this.$messageUnlisten_$=this.$heartbeatInterval_$=this.$dialogReadyPromise_$=this.$dialog_$=this.$reject_$=this.$resolve_$=null}
$WebLoginDialog$$module$extensions$amp_access$0_1$login_dialog$$.prototype.open=function(){var $$jscomp$this$jscomp$21$$=this;$userAssert$$module$src$log$$(!this.$resolve_$,"Dialog already opened");return(new Promise(function($resolve$jscomp$17$$,$reject$jscomp$6$$){$$jscomp$this$jscomp$21$$.$resolve_$=$resolve$jscomp$17$$;$$jscomp$this$jscomp$21$$.$reject_$=$reject$jscomp$6$$;$JSCompiler_StaticMethods_openInternal_$$($$jscomp$this$jscomp$21$$)})).then(function($result$jscomp$3$$){$JSCompiler_StaticMethods_cleanup_$$($$jscomp$this$jscomp$21$$);
return $result$jscomp$3$$},function($error$jscomp$14$$){$JSCompiler_StaticMethods_cleanup_$$($$jscomp$this$jscomp$21$$);throw $error$jscomp$14$$;})};
function $JSCompiler_StaticMethods_cleanup_$$($JSCompiler_StaticMethods_cleanup_$self$$){$JSCompiler_StaticMethods_cleanup_$self$$.$resolve_$=null;$JSCompiler_StaticMethods_cleanup_$self$$.$reject_$=null;if($JSCompiler_StaticMethods_cleanup_$self$$.$dialog_$){try{$JSCompiler_StaticMethods_cleanup_$self$$.$dialog_$.close()}catch($e$jscomp$24$$){}$JSCompiler_StaticMethods_cleanup_$self$$.$dialog_$=null}$JSCompiler_StaticMethods_cleanup_$self$$.$heartbeatInterval_$&&($JSCompiler_StaticMethods_cleanup_$self$$.win.clearInterval($JSCompiler_StaticMethods_cleanup_$self$$.$heartbeatInterval_$),
$JSCompiler_StaticMethods_cleanup_$self$$.$heartbeatInterval_$=null);$JSCompiler_StaticMethods_cleanup_$self$$.$messageUnlisten_$&&($JSCompiler_StaticMethods_cleanup_$self$$.$messageUnlisten_$(),$JSCompiler_StaticMethods_cleanup_$self$$.$messageUnlisten_$=null)}
$WebLoginDialog$$module$extensions$amp_access$0_1$login_dialog$$.prototype.getLoginUrl=function(){var $$jscomp$this$jscomp$22$$=this;return("string"==typeof this.urlOrPromise?Promise.resolve(this.urlOrPromise):this.urlOrPromise).then(function($url$jscomp$45$$){return $buildLoginUrl$$module$extensions$amp_access$0_1$login_dialog$$($url$jscomp$45$$,$JSCompiler_StaticMethods_getReturnUrl_$$($$jscomp$this$jscomp$22$$))})};
function $JSCompiler_StaticMethods_openInternal_$$($JSCompiler_StaticMethods_openInternal_$self$$){var $options$jscomp$18_screen$jscomp$1$$=$JSCompiler_StaticMethods_openInternal_$self$$.win.screen,$loginUrl$jscomp$1_w$jscomp$9$$=Math.floor(Math.min(700,.9*$options$jscomp$18_screen$jscomp$1$$.width)),$h$jscomp$6$$=Math.floor(Math.min(450,.9*$options$jscomp$18_screen$jscomp$1$$.height)),$sizing$$="height="+$h$jscomp$6$$+",width="+$loginUrl$jscomp$1_w$jscomp$9$$+",left="+Math.floor(($options$jscomp$18_screen$jscomp$1$$.width-
$loginUrl$jscomp$1_w$jscomp$9$$)/2)+",top="+Math.floor(($options$jscomp$18_screen$jscomp$1$$.height-$h$jscomp$6$$)/2);$options$jscomp$18_screen$jscomp$1$$=$sizing$$+",resizable=yes,scrollbars=yes";var $returnUrl$$=$JSCompiler_StaticMethods_getReturnUrl_$$($JSCompiler_StaticMethods_openInternal_$self$$);$JSCompiler_StaticMethods_openInternal_$self$$.$dialogReadyPromise_$=null;"string"==typeof $JSCompiler_StaticMethods_openInternal_$self$$.urlOrPromise?($loginUrl$jscomp$1_w$jscomp$9$$=$buildLoginUrl$$module$extensions$amp_access$0_1$login_dialog$$($JSCompiler_StaticMethods_openInternal_$self$$.urlOrPromise,
$returnUrl$$),$JSCompiler_StaticMethods_openInternal_$self$$.$dialog_$=$openWindowDialog$$module$src$dom$$($JSCompiler_StaticMethods_openInternal_$self$$.win,$loginUrl$jscomp$1_w$jscomp$9$$,$options$jscomp$18_screen$jscomp$1$$),$JSCompiler_StaticMethods_openInternal_$self$$.$dialog_$&&($JSCompiler_StaticMethods_openInternal_$self$$.$dialogReadyPromise_$=Promise.resolve())):($JSCompiler_StaticMethods_openInternal_$self$$.$dialog_$=$openWindowDialog$$module$src$dom$$($JSCompiler_StaticMethods_openInternal_$self$$.win,
"",$options$jscomp$18_screen$jscomp$1$$),$JSCompiler_StaticMethods_openInternal_$self$$.$dialog_$&&($JSCompiler_StaticMethods_openInternal_$self$$.$dialogReadyPromise_$=$JSCompiler_StaticMethods_openInternal_$self$$.urlOrPromise.then(function($options$jscomp$18_screen$jscomp$1$$){$options$jscomp$18_screen$jscomp$1$$=$buildLoginUrl$$module$extensions$amp_access$0_1$login_dialog$$($options$jscomp$18_screen$jscomp$1$$,$returnUrl$$);$JSCompiler_StaticMethods_openInternal_$self$$.$dialog_$.location.replace($options$jscomp$18_screen$jscomp$1$$)},
function($JSCompiler_StaticMethods_openInternal_$self$$){throw Error("failed to resolve url: "+$JSCompiler_StaticMethods_openInternal_$self$$);})));$JSCompiler_StaticMethods_openInternal_$self$$.$dialogReadyPromise_$?$JSCompiler_StaticMethods_openInternal_$self$$.$dialogReadyPromise_$.then(function(){$JSCompiler_StaticMethods_setupDialog_$$($JSCompiler_StaticMethods_openInternal_$self$$,$returnUrl$$)},function($options$jscomp$18_screen$jscomp$1$$){$JSCompiler_StaticMethods_loginDone_$$($JSCompiler_StaticMethods_openInternal_$self$$,
null,$options$jscomp$18_screen$jscomp$1$$)}):$JSCompiler_StaticMethods_loginDone_$$($JSCompiler_StaticMethods_openInternal_$self$$,null,Error("failed to open dialog"))}
function $JSCompiler_StaticMethods_setupDialog_$$($JSCompiler_StaticMethods_setupDialog_$self$$,$returnUrl$jscomp$1$$){var $returnOrigin$$=$parseUrlDeprecated$$module$src$url$$($returnUrl$jscomp$1$$).origin;$JSCompiler_StaticMethods_setupDialog_$self$$.$heartbeatInterval_$=$JSCompiler_StaticMethods_setupDialog_$self$$.win.setInterval(function(){$JSCompiler_StaticMethods_setupDialog_$self$$.$dialog_$.closed&&($JSCompiler_StaticMethods_setupDialog_$self$$.win.clearInterval($JSCompiler_StaticMethods_setupDialog_$self$$.$heartbeatInterval_$),
$JSCompiler_StaticMethods_setupDialog_$self$$.$heartbeatInterval_$=null,$JSCompiler_StaticMethods_setupDialog_$self$$.win.setTimeout(function(){$JSCompiler_StaticMethods_loginDone_$$($JSCompiler_StaticMethods_setupDialog_$self$$,"")},3E3))},500);$JSCompiler_StaticMethods_setupDialog_$self$$.$messageUnlisten_$=$listen$$module$src$event_helper$$($JSCompiler_StaticMethods_setupDialog_$self$$.win,function($returnUrl$jscomp$1$$){$returnUrl$jscomp$1$$.origin==$returnOrigin$$&&$returnUrl$jscomp$1$$.data&&
"amp"==$returnUrl$jscomp$1$$.data.sentinel&&"result"==$returnUrl$jscomp$1$$.data.type&&($JSCompiler_StaticMethods_setupDialog_$self$$.$dialog_$&&$JSCompiler_StaticMethods_setupDialog_$self$$.$dialog_$.postMessage($dict$$module$src$utils$object$$({sentinel:"amp",type:"result-ack"}),$returnOrigin$$),$JSCompiler_StaticMethods_loginDone_$$($JSCompiler_StaticMethods_setupDialog_$self$$,$returnUrl$jscomp$1$$.data.result))})}
function $JSCompiler_StaticMethods_loginDone_$$($JSCompiler_StaticMethods_loginDone_$self$$,$result$jscomp$4$$,$opt_error$jscomp$2$$){$JSCompiler_StaticMethods_loginDone_$self$$.$resolve_$&&($opt_error$jscomp$2$$?$JSCompiler_StaticMethods_loginDone_$self$$.$reject_$($opt_error$jscomp$2$$):$JSCompiler_StaticMethods_loginDone_$self$$.$resolve_$($result$jscomp$4$$),$JSCompiler_StaticMethods_cleanup_$$($JSCompiler_StaticMethods_loginDone_$self$$))}
function $JSCompiler_StaticMethods_getReturnUrl_$$($JSCompiler_StaticMethods_getReturnUrl_$self_returnUrl$jscomp$2$$){var $currentUrl$$=$JSCompiler_StaticMethods_getReturnUrl_$self_returnUrl$jscomp$2$$.viewer.getResolvedViewerUrl();if($getMode$$module$src$mode$$().localDev){var $loc$$=$JSCompiler_StaticMethods_getReturnUrl_$self_returnUrl$jscomp$2$$.win.location;$JSCompiler_StaticMethods_getReturnUrl_$self_returnUrl$jscomp$2$$=$loc$$.protocol+"//"+$loc$$.host+"/extensions/amp-access/0.1/amp-login-done.html"}else $JSCompiler_StaticMethods_getReturnUrl_$self_returnUrl$jscomp$2$$=
$urls$$module$src$config$$.cdn+"/v0/amp-login-done-0.1.html";return $JSCompiler_StaticMethods_getReturnUrl_$self_returnUrl$jscomp$2$$+"?url="+encodeURIComponent($currentUrl$$)}
function $buildLoginUrl$$module$extensions$amp_access$0_1$login_dialog$$($url$jscomp$47$$,$returnUrl$jscomp$3$$){return $RETURN_URL_REGEX$$module$extensions$amp_access$0_1$login_dialog$$.test($url$jscomp$47$$)?$url$jscomp$47$$.replace($RETURN_URL_REGEX$$module$extensions$amp_access$0_1$login_dialog$$,encodeURIComponent($returnUrl$jscomp$3$$)):$url$jscomp$47$$+(-1==$url$jscomp$47$$.indexOf("?")?"?":"&")+"return="+encodeURIComponent($returnUrl$jscomp$3$$)};function $triggerAnalyticsEvent$$module$src$analytics$$($target$jscomp$91$$,$eventType$jscomp$7$$){var $opt_vars$$;$getElementServiceIfAvailableForDoc$$module$src$element_service$$($target$jscomp$91$$).then(function($analytics$$){$analytics$$&&$analytics$$.triggerEventForTarget($target$jscomp$91$$,$eventType$jscomp$7$$,$opt_vars$$)})};var $AccessType$$module$extensions$amp_access$0_1$amp_access_source$$={CLIENT:"client",IFRAME:"iframe",SERVER:"server",VENDOR:"vendor",OTHER:"other"};
function $AccessSource$$module$extensions$amp_access$0_1$amp_access_source$$($ampdoc$jscomp$19_deferred$jscomp$4$$,$configJson$jscomp$9$$,$readerIdFn$$,$scheduleViewFn$$,$onReauthorizeFn$$,$accessElement$$){this.ampdoc=$ampdoc$jscomp$19_deferred$jscomp$4$$;this.$getReaderId_$=$readerIdFn$$;this.$scheduleView_$=$scheduleViewFn$$;this.$onReauthorize_$=$onReauthorizeFn$$;this.$accessElement_$=$accessElement$$;this.$isServerEnabled_$=$isExperimentOn$$module$src$experiments$$($ampdoc$jscomp$19_deferred$jscomp$4$$.win,
"amp-access-server");this.$isJwtEnabled_$=$isExperimentOn$$module$src$experiments$$($ampdoc$jscomp$19_deferred$jscomp$4$$.win,"amp-access-jwt");var $JSCompiler_loginConfig$jscomp$inline_157_JSCompiler_type$jscomp$inline_153$$=$configJson$jscomp$9$$.type?$user$$module$src$log$$().assertEnumValue($AccessType$$module$extensions$amp_access$0_1$amp_access_source$$,$configJson$jscomp$9$$.type,"access type"):null;$JSCompiler_loginConfig$jscomp$inline_157_JSCompiler_type$jscomp$inline_153$$||($JSCompiler_loginConfig$jscomp$inline_157_JSCompiler_type$jscomp$inline_153$$=
$configJson$jscomp$9$$.vendor?"vendor":"client");"server"!=$JSCompiler_loginConfig$jscomp$inline_157_JSCompiler_type$jscomp$inline_153$$||this.$isServerEnabled_$||($user$$module$src$log$$().warn("amp-access",'Experiment "amp-access-server" is not enabled.'),$JSCompiler_loginConfig$jscomp$inline_157_JSCompiler_type$jscomp$inline_153$$="client");"client"==$JSCompiler_loginConfig$jscomp$inline_157_JSCompiler_type$jscomp$inline_153$$&&this.$isServerEnabled_$&&($user$$module$src$log$$().info("amp-access",
"Forcing access type: SERVER"),$JSCompiler_loginConfig$jscomp$inline_157_JSCompiler_type$jscomp$inline_153$$="server");"iframe"!=$JSCompiler_loginConfig$jscomp$inline_157_JSCompiler_type$jscomp$inline_153$$||$isExperimentOn$$module$src$experiments$$(this.ampdoc.win,"amp-access-iframe")||($user$$module$src$log$$().error("amp-access",'Experiment "amp-access-iframe" is not enabled.'),$JSCompiler_loginConfig$jscomp$inline_157_JSCompiler_type$jscomp$inline_153$$="client");this.$type_$=$JSCompiler_loginConfig$jscomp$inline_157_JSCompiler_type$jscomp$inline_153$$;
$JSCompiler_loginConfig$jscomp$inline_157_JSCompiler_type$jscomp$inline_153$$=$configJson$jscomp$9$$.login;var $JSCompiler_loginMap$jscomp$inline_158$$={};if($JSCompiler_loginConfig$jscomp$inline_157_JSCompiler_type$jscomp$inline_153$$)if("string"==typeof $JSCompiler_loginConfig$jscomp$inline_157_JSCompiler_type$jscomp$inline_153$$)$JSCompiler_loginMap$jscomp$inline_158$$[""]=$JSCompiler_loginConfig$jscomp$inline_157_JSCompiler_type$jscomp$inline_153$$;else if("[object Object]"===$toString_$$module$src$types$$.call($JSCompiler_loginConfig$jscomp$inline_157_JSCompiler_type$jscomp$inline_153$$))for(var $JSCompiler_k$jscomp$inline_159$$ in $JSCompiler_loginConfig$jscomp$inline_157_JSCompiler_type$jscomp$inline_153$$)$JSCompiler_loginMap$jscomp$inline_158$$[$JSCompiler_k$jscomp$inline_159$$]=
$JSCompiler_loginConfig$jscomp$inline_157_JSCompiler_type$jscomp$inline_153$$[$JSCompiler_k$jscomp$inline_159$$];else $userAssert$$module$src$log$$(!1,'"login" must be either a single URL or a map of URLs');for(var $k$10$jscomp$inline_160$$ in $JSCompiler_loginMap$jscomp$inline_158$$)$assertHttpsUrl$$module$src$url$$($JSCompiler_loginMap$jscomp$inline_158$$[$k$10$jscomp$inline_160$$],this.$accessElement_$);this.$loginConfig_$=$JSCompiler_loginMap$jscomp$inline_158$$;this.$authorizationFallbackResponse_$=
$configJson$jscomp$9$$.authorizationFallbackResponse;this.$namespace_$=$configJson$jscomp$9$$.namespace||null;this.$adapter_$=$JSCompiler_StaticMethods_createAdapter_$$(this,$configJson$jscomp$9$$);this.$urlReplacements_$=$getExistingServiceForDocInEmbedScope$$module$src$service$$($accessElement$$,"url-replace");this.$openLoginDialog_$=$openLoginDialog$$module$extensions$amp_access$0_1$login_dialog$$.bind(null,$ampdoc$jscomp$19_deferred$jscomp$4$$);this.$authResponse_$=null;$ampdoc$jscomp$19_deferred$jscomp$4$$=
new $Deferred$$module$src$utils$promise$$;this.$firstAuthorizationPromise_$=$ampdoc$jscomp$19_deferred$jscomp$4$$.promise;this.$firstAuthorizationResolver_$=$ampdoc$jscomp$19_deferred$jscomp$4$$.resolve;this.$loginUrlMap_$={};this.$loginPromise_$=null;this.$loginStartTime_$=0}$JSCompiler_prototypeAlias$$=$AccessSource$$module$extensions$amp_access$0_1$amp_access_source$$.prototype;$JSCompiler_prototypeAlias$$.getNamespace=function(){return this.$namespace_$};$JSCompiler_prototypeAlias$$.getType=function(){return this.$type_$};
$JSCompiler_prototypeAlias$$.getAdapter=function(){return this.$adapter_$};$JSCompiler_prototypeAlias$$.getAuthResponse=function(){return this.$authResponse_$};
function $JSCompiler_StaticMethods_createAdapter_$$($JSCompiler_StaticMethods_createAdapter_$self$$,$configJson$jscomp$10$$){var $context$jscomp$6$$={buildUrl:$JSCompiler_StaticMethods_createAdapter_$self$$.buildUrl.bind($JSCompiler_StaticMethods_createAdapter_$self$$),collectUrlVars:$JSCompiler_StaticMethods_createAdapter_$self$$.collectUrlVars.bind($JSCompiler_StaticMethods_createAdapter_$self$$)},$isJwt$$=$JSCompiler_StaticMethods_createAdapter_$self$$.$isJwtEnabled_$&&!0===$configJson$jscomp$10$$.jwt;
switch($JSCompiler_StaticMethods_createAdapter_$self$$.$type_$){case "client":return $isJwt$$?new $AccessServerJwtAdapter$$module$extensions$amp_access$0_1$amp_access_server_jwt$$($JSCompiler_StaticMethods_createAdapter_$self$$.ampdoc,$configJson$jscomp$10$$,$context$jscomp$6$$):new $AccessClientAdapter$$module$extensions$amp_access$0_1$amp_access_client$$($JSCompiler_StaticMethods_createAdapter_$self$$.ampdoc,$configJson$jscomp$10$$,$context$jscomp$6$$);case "iframe":return new $AccessIframeAdapter$$module$extensions$amp_access$0_1$amp_access_iframe$$($JSCompiler_StaticMethods_createAdapter_$self$$.ampdoc,
$configJson$jscomp$10$$,$context$jscomp$6$$);case "server":return $isJwt$$?new $AccessServerJwtAdapter$$module$extensions$amp_access$0_1$amp_access_server_jwt$$($JSCompiler_StaticMethods_createAdapter_$self$$.ampdoc,$configJson$jscomp$10$$,$context$jscomp$6$$):new $AccessServerAdapter$$module$extensions$amp_access$0_1$amp_access_server$$($JSCompiler_StaticMethods_createAdapter_$self$$.ampdoc,$configJson$jscomp$10$$,$context$jscomp$6$$);case "vendor":return new $AccessVendorAdapter$$module$extensions$amp_access$0_1$amp_access_vendor$$($JSCompiler_StaticMethods_createAdapter_$self$$.ampdoc,
$configJson$jscomp$10$$);case "other":return new $AccessOtherAdapter$$module$extensions$amp_access$0_1$amp_access_other$$($JSCompiler_StaticMethods_createAdapter_$self$$.ampdoc,$configJson$jscomp$10$$,$context$jscomp$6$$)}throw $dev$$module$src$log$$().createError("Unsupported access type: ",$JSCompiler_StaticMethods_createAdapter_$self$$.$type_$);}$JSCompiler_prototypeAlias$$.getAdapterConfig=function(){return this.$adapter_$.getConfig()};$JSCompiler_prototypeAlias$$.whenFirstAuthorized=function(){return this.$firstAuthorizationPromise_$};
$JSCompiler_prototypeAlias$$.$getRootElement_$=function(){var $root$jscomp$7$$=this.ampdoc.getRootNode();return $root$jscomp$7$$.documentElement||$root$jscomp$7$$.body||$root$jscomp$7$$};$JSCompiler_prototypeAlias$$.$analyticsEvent_$=function($eventType$jscomp$8$$){$triggerAnalyticsEvent$$module$src$analytics$$(this.$getRootElement_$(),$eventType$jscomp$8$$)};$JSCompiler_prototypeAlias$$.start=function(){$JSCompiler_StaticMethods_buildLoginUrls_$$(this)};
$JSCompiler_prototypeAlias$$.buildUrl=function($url$jscomp$48$$,$useAuthData$$){var $$jscomp$this$jscomp$25$$=this;return $JSCompiler_StaticMethods_prepareUrlVars_$$(this,$useAuthData$$).then(function($useAuthData$$){return $$jscomp$this$jscomp$25$$.$urlReplacements_$.expandUrlAsync($url$jscomp$48$$,$useAuthData$$)})};
$JSCompiler_prototypeAlias$$.collectUrlVars=function($url$jscomp$49$$,$useAuthData$jscomp$1$$){var $$jscomp$this$jscomp$26$$=this;return $JSCompiler_StaticMethods_prepareUrlVars_$$(this,$useAuthData$jscomp$1$$).then(function($useAuthData$jscomp$1$$){return $$jscomp$this$jscomp$26$$.$urlReplacements_$.collectVars($url$jscomp$49$$,$useAuthData$jscomp$1$$)})};
function $JSCompiler_StaticMethods_prepareUrlVars_$$($JSCompiler_StaticMethods_prepareUrlVars_$self$$,$useAuthData$jscomp$2$$){return $JSCompiler_StaticMethods_prepareUrlVars_$self$$.$getReaderId_$().then(function($readerId$$){var $vars$jscomp$4$$={READER_ID:$readerId$$,ACCESS_READER_ID:$readerId$$};$useAuthData$jscomp$2$$&&($vars$jscomp$4$$.AUTHDATA=function($useAuthData$jscomp$2$$){if($JSCompiler_StaticMethods_prepareUrlVars_$self$$.$authResponse_$)return $getValueForExpr$$module$src$json$$($JSCompiler_StaticMethods_prepareUrlVars_$self$$.$authResponse_$,
$useAuthData$jscomp$2$$)});return $vars$jscomp$4$$})}
$JSCompiler_prototypeAlias$$.runAuthorization=function($opt_disableFallback$$){var $$jscomp$this$jscomp$28$$=this;if(!this.$adapter_$.isAuthorizationEnabled())return this.$firstAuthorizationResolver_$(),Promise.resolve();var $responsePromise$$=this.$adapter_$.authorize().catch(function($responsePromise$$){$$jscomp$this$jscomp$28$$.$analyticsEvent_$("access-authorization-failed");if($$jscomp$this$jscomp$28$$.$authorizationFallbackResponse_$&&!$opt_disableFallback$$)return $user$$module$src$log$$().error("amp-access","Authorization failed: ",
$responsePromise$$),$$jscomp$this$jscomp$28$$.$authorizationFallbackResponse_$;throw $responsePromise$$;});return $responsePromise$$.then(function($opt_disableFallback$$){$$jscomp$this$jscomp$28$$.$authResponse_$=$opt_disableFallback$$;$$jscomp$this$jscomp$28$$.$firstAuthorizationResolver_$();$JSCompiler_StaticMethods_buildLoginUrls_$$($$jscomp$this$jscomp$28$$);return $opt_disableFallback$$}).catch(function($opt_disableFallback$$){$user$$module$src$log$$().error("amp-access","Authorization failed: ",
$opt_disableFallback$$);$$jscomp$this$jscomp$28$$.$firstAuthorizationResolver_$();throw $opt_disableFallback$$;})};
$JSCompiler_prototypeAlias$$.reportViewToServer=function(){var $$jscomp$this$jscomp$29$$=this;return this.$adapter_$.pingback().then(function(){$$jscomp$this$jscomp$29$$.$analyticsEvent_$("access-pingback-sent")}).catch(function($error$jscomp$19$$){$$jscomp$this$jscomp$29$$.$analyticsEvent_$("access-pingback-failed");throw $user$$module$src$log$$().createError("Pingback failed: ",$error$jscomp$19$$);})};
$JSCompiler_prototypeAlias$$.getLoginUrl=function($urlOrPromise$jscomp$5$$){return $createLoginDialog$$module$extensions$amp_access$0_1$login_dialog$$(this.ampdoc,$urlOrPromise$jscomp$5$$).getLoginUrl()};
$JSCompiler_prototypeAlias$$.loginWithType=function($type$jscomp$138$$){$userAssert$$module$src$log$$(this.$loginConfig_$[$type$jscomp$138$$],"Login URL is not configured: %s",$type$jscomp$138$$);var $loginUrl$jscomp$3$$=$userAssert$$module$src$log$$(this.$loginUrlMap_$[$type$jscomp$138$$],"Login URL is not ready: %s",$type$jscomp$138$$);return $JSCompiler_StaticMethods_login_$$(this,$loginUrl$jscomp$3$$,$type$jscomp$138$$)};
$JSCompiler_prototypeAlias$$.loginWithUrl=function($url$jscomp$50$$,$eventLabel$$){$eventLabel$$=void 0===$eventLabel$$?"":$eventLabel$$;return $JSCompiler_StaticMethods_login_$$(this,$url$jscomp$50$$,$eventLabel$$)};
function $JSCompiler_StaticMethods_login_$$($JSCompiler_StaticMethods_login_$self$$,$loginUrl$jscomp$4$$,$eventLabel$jscomp$1$$){var $now$jscomp$1$$=Date.now();if($JSCompiler_StaticMethods_login_$self$$.$loginPromise_$&&1E3>$now$jscomp$1$$-$JSCompiler_StaticMethods_login_$self$$.$loginStartTime_$)return $JSCompiler_StaticMethods_login_$self$$.$loginPromise_$;$JSCompiler_StaticMethods_loginAnalyticsEvent_$$($JSCompiler_StaticMethods_login_$self$$,$eventLabel$jscomp$1$$,"started");var $dialogPromise$$=
$JSCompiler_StaticMethods_login_$self$$.$openLoginDialog_$($loginUrl$jscomp$4$$),$loginPromise$$=$dialogPromise$$.then(function($loginUrl$jscomp$4$$){$JSCompiler_StaticMethods_login_$self$$.$loginPromise_$=null;$loginUrl$jscomp$4$$=$parseQueryString_$$module$src$url_parse_query_string$$($loginUrl$jscomp$4$$).success;var $now$jscomp$1$$="true"==$loginUrl$jscomp$4$$||"yes"==$loginUrl$jscomp$4$$||"1"==$loginUrl$jscomp$4$$;$now$jscomp$1$$?$JSCompiler_StaticMethods_loginAnalyticsEvent_$$($JSCompiler_StaticMethods_login_$self$$,
$eventLabel$jscomp$1$$,"success"):$JSCompiler_StaticMethods_loginAnalyticsEvent_$$($JSCompiler_StaticMethods_login_$self$$,$eventLabel$jscomp$1$$,"rejected");if($now$jscomp$1$$||!$loginUrl$jscomp$4$$){$JSCompiler_StaticMethods_login_$self$$.$adapter_$.postAction();var $dialogPromise$$=$JSCompiler_StaticMethods_login_$self$$.runAuthorization(!0);$JSCompiler_StaticMethods_login_$self$$.$onReauthorize_$($dialogPromise$$);return $dialogPromise$$.then(function(){$JSCompiler_StaticMethods_login_$self$$.$scheduleView_$(0)})}}).catch(function($loginUrl$jscomp$4$$){$JSCompiler_StaticMethods_loginAnalyticsEvent_$$($JSCompiler_StaticMethods_login_$self$$,
$eventLabel$jscomp$1$$,"failed");$JSCompiler_StaticMethods_login_$self$$.$loginPromise_$==$loginPromise$$&&($JSCompiler_StaticMethods_login_$self$$.$loginPromise_$=null);throw $loginUrl$jscomp$4$$;});$JSCompiler_StaticMethods_login_$self$$.$loginPromise_$=$loginPromise$$;$JSCompiler_StaticMethods_login_$self$$.$loginStartTime_$=$now$jscomp$1$$;return $JSCompiler_StaticMethods_login_$self$$.$loginPromise_$}
function $JSCompiler_StaticMethods_loginAnalyticsEvent_$$($JSCompiler_StaticMethods_loginAnalyticsEvent_$self$$,$type$jscomp$139$$,$event$jscomp$10$$){$JSCompiler_StaticMethods_loginAnalyticsEvent_$self$$.$analyticsEvent_$("access-login-"+$event$jscomp$10$$);$type$jscomp$139$$&&$JSCompiler_StaticMethods_loginAnalyticsEvent_$self$$.$analyticsEvent_$("access-login-"+$type$jscomp$139$$+"-"+$event$jscomp$10$$)}
function $JSCompiler_StaticMethods_buildLoginUrls_$$($JSCompiler_StaticMethods_buildLoginUrls_$self$$){if(0!=Object.keys($JSCompiler_StaticMethods_buildLoginUrls_$self$$.$loginConfig_$).length){var $promises$jscomp$1$$=[],$$jscomp$loop$21$$={},$k$jscomp$8$$;for($k$jscomp$8$$ in $JSCompiler_StaticMethods_buildLoginUrls_$self$$.$loginConfig_$)$$jscomp$loop$21$$.$$jscomp$loop$prop$k$22$=$k$jscomp$8$$,$promises$jscomp$1$$.push($JSCompiler_StaticMethods_buildLoginUrls_$self$$.buildUrl($JSCompiler_StaticMethods_buildLoginUrls_$self$$.$loginConfig_$[$$jscomp$loop$21$$.$$jscomp$loop$prop$k$22$],
!0).then(function($promises$jscomp$1$$){return function($$jscomp$loop$21$$){$JSCompiler_StaticMethods_buildLoginUrls_$self$$.$loginUrlMap_$[$promises$jscomp$1$$.$$jscomp$loop$prop$k$22$]=$$jscomp$loop$21$$;return{type:$promises$jscomp$1$$.$$jscomp$loop$prop$k$22$,url:$$jscomp$loop$21$$}}}($$jscomp$loop$21$$))),$$jscomp$loop$21$$={$$jscomp$loop$prop$k$22$:$$jscomp$loop$21$$.$$jscomp$loop$prop$k$22$};Promise.all($promises$jscomp$1$$)}};function $Observable$$module$src$observable$$(){this.$handlers_$=null}$JSCompiler_prototypeAlias$$=$Observable$$module$src$observable$$.prototype;$JSCompiler_prototypeAlias$$.add=function($handler$jscomp$4$$){var $$jscomp$this$jscomp$32$$=this;this.$handlers_$||(this.$handlers_$=[]);this.$handlers_$.push($handler$jscomp$4$$);return function(){$$jscomp$this$jscomp$32$$.remove($handler$jscomp$4$$)}};
$JSCompiler_prototypeAlias$$.remove=function($handler$jscomp$5_index$jscomp$73$$){this.$handlers_$&&($handler$jscomp$5_index$jscomp$73$$=this.$handlers_$.indexOf($handler$jscomp$5_index$jscomp$73$$),-1<$handler$jscomp$5_index$jscomp$73$$&&this.$handlers_$.splice($handler$jscomp$5_index$jscomp$73$$,1))};$JSCompiler_prototypeAlias$$.removeAll=function(){this.$handlers_$&&(this.$handlers_$.length=0)};
$JSCompiler_prototypeAlias$$.fire=function($opt_event$$){if(this.$handlers_$)for(var $handlers$$=this.$handlers_$,$i$jscomp$32$$=0;$i$jscomp$32$$<$handlers$$.length;$i$jscomp$32$$++)(0,$handlers$$[$i$jscomp$32$$])($opt_event$$)};$JSCompiler_prototypeAlias$$.getHandlerCount=function(){return this.$handlers_$?this.$handlers_$.length:0};function $installStylesForDoc$$module$src$style_installer$$($ampdoc$jscomp$20$$,$cb$jscomp$1$$){var $cssText$$="\n/*# sourceURL=/extensions/amp-access/0.1/amp-access.css*/",$opt_isRuntimeCss$$=!1,$opt_ext$$="amp-access",$cssRoot$$=$ampdoc$jscomp$20$$.getHeadNode(),$style$jscomp$6$$=$insertStyleElement$$module$src$style_installer$$($cssRoot$$,$maybeTransform$$module$src$style_installer$$($cssRoot$$,$cssText$$),$opt_isRuntimeCss$$||!1,$opt_ext$$||null);if($cb$jscomp$1$$){var $rootNode$jscomp$1$$=$ampdoc$jscomp$20$$.getRootNode();
if($styleLoaded$$module$src$style_installer$$($rootNode$jscomp$1$$,$style$jscomp$6$$))$cb$jscomp$1$$($style$jscomp$6$$);else var $interval$jscomp$1$$=setInterval(function(){$styleLoaded$$module$src$style_installer$$($rootNode$jscomp$1$$,$style$jscomp$6$$)&&(clearInterval($interval$jscomp$1$$),$cb$jscomp$1$$($style$jscomp$6$$))},4)}}
function $insertStyleElement$$module$src$style_installer$$($cssRoot$jscomp$1$$,$JSCompiler_after$jscomp$inline_167_cssText$jscomp$2$$,$isRuntimeCss$$,$ext$$){var $styleMap$$=$cssRoot$jscomp$1$$.__AMP_CSS_SM;$styleMap$$||($styleMap$$=$cssRoot$jscomp$1$$.__AMP_CSS_SM=$map$$module$src$utils$object$$());var $isExtCss$$=!$isRuntimeCss$$&&$ext$$&&"amp-custom"!=$ext$$&&"amp-keyframes"!=$ext$$,$key$jscomp$52$$=$isRuntimeCss$$?"amp-runtime":$isExtCss$$?"amp-extension="+$ext$$:null;if($key$jscomp$52$$){var $existing$$=
$getExistingStyleElement$$module$src$style_installer$$($cssRoot$jscomp$1$$,$styleMap$$,$key$jscomp$52$$);if($existing$$)return $existing$$.textContent!==$JSCompiler_after$jscomp$inline_167_cssText$jscomp$2$$&&($existing$$.textContent=$JSCompiler_after$jscomp$inline_167_cssText$jscomp$2$$),$existing$$}var $style$jscomp$8$$=($cssRoot$jscomp$1$$.ownerDocument||$cssRoot$jscomp$1$$).createElement("style");$style$jscomp$8$$.textContent=$JSCompiler_after$jscomp$inline_167_cssText$jscomp$2$$;var $afterElement$$=
null;$isRuntimeCss$$?$style$jscomp$8$$.setAttribute("amp-runtime",""):$isExtCss$$?($style$jscomp$8$$.setAttribute("amp-extension",$ext$$||""),$afterElement$$=$getExistingStyleElement$$module$src$style_installer$$($cssRoot$jscomp$1$$,$styleMap$$,"amp-runtime")):($ext$$&&$style$jscomp$8$$.setAttribute($ext$$,""),$afterElement$$=$cssRoot$jscomp$1$$.lastChild);$JSCompiler_after$jscomp$inline_167_cssText$jscomp$2$$=$afterElement$$;$cssRoot$jscomp$1$$.insertBefore($style$jscomp$8$$,$JSCompiler_after$jscomp$inline_167_cssText$jscomp$2$$?
$JSCompiler_after$jscomp$inline_167_cssText$jscomp$2$$.nextSibling:$cssRoot$jscomp$1$$.firstChild);$key$jscomp$52$$&&($styleMap$$[$key$jscomp$52$$]=$style$jscomp$8$$);return $style$jscomp$8$$}
function $getExistingStyleElement$$module$src$style_installer$$($cssRoot$jscomp$2_existing$jscomp$1$$,$styleMap$jscomp$1$$,$key$jscomp$53$$){return $styleMap$jscomp$1$$[$key$jscomp$53$$]?$styleMap$jscomp$1$$[$key$jscomp$53$$]:($cssRoot$jscomp$2_existing$jscomp$1$$=$cssRoot$jscomp$2_existing$jscomp$1$$.querySelector("style["+$key$jscomp$53$$+"]"))?$styleMap$jscomp$1$$[$key$jscomp$53$$]=$cssRoot$jscomp$2_existing$jscomp$1$$:null}
function $maybeTransform$$module$src$style_installer$$($cssRoot$jscomp$4_transformer$jscomp$1$$,$cssText$jscomp$3$$){return($cssRoot$jscomp$4_transformer$jscomp$1$$=$cssRoot$jscomp$4_transformer$jscomp$1$$.__AMP_CSS_TR)?$cssRoot$jscomp$4_transformer$jscomp$1$$($cssText$jscomp$3$$):$cssText$jscomp$3$$}
function $styleLoaded$$module$src$style_installer$$($doc$jscomp$23_i$jscomp$33$$,$style$jscomp$9$$){var $sheets$$=$doc$jscomp$23_i$jscomp$33$$.styleSheets;for($doc$jscomp$23_i$jscomp$33$$=0;$doc$jscomp$23_i$jscomp$33$$<$sheets$$.length;$doc$jscomp$23_i$jscomp$33$$++){var $sheet$$=$sheets$$[$doc$jscomp$23_i$jscomp$33$$];if($sheet$$.ownerNode==$style$jscomp$9$$)return!0}return!1};self.AMPErrors=self.AMPErrors||[];var $parser$$module$extensions$amp_access$0_1$access_expr_impl$$=function(){function $o$jscomp$2$$($o$jscomp$2$$,$Parser$$,$$V0$$,$$V1$$){$$V0$$=$$V0$$||{};for($$V1$$=$o$jscomp$2$$.length;$$V1$$--;$$V0$$[$o$jscomp$2$$[$$V1$$]]=$Parser$$);return $$V0$$}function $Parser$$(){this.yy={}}var $$V0$$=[1,3],$$V1$$=[1,4],$$V2$$=[1,18],$$V3$$=[1,13],$$V4$$=[1,14],$$V5$$=[1,15],$$V6$$=[1,16],$$V7$$=[1,17],$$V8$$=[1,20],$$V9$$=[1,21],$$Va$$=[5,6,7,10],$$Vb$$=[5,6,7,10,15,16,17,18,19,20,21],$$Vc$$=[5,6,7,10,15,
16,17,18,19,20,21,25],$parser$$={trace:function(){},yy:{},$symbols_$:{error:2,result:3,search_condition:4,EOF:5,OR:6,AND:7,NOT:8,"(":9,")":10,predicate:11,comparison_predicate:12,truthy_predicate:13,scalar_exp:14,EQ:15,DEQ:16,NEQ:17,LT:18,LTE:19,GT:20,GTE:21,atom:22,field_ref:23,literal:24,DOT:25,field_name:26,NAME:27,STRING:28,NUMERIC:29,TRUE:30,FALSE:31,NULL:32,$accept:0,$end:1},$terminals_$:{2:"error",5:"EOF",6:"OR",7:"AND",8:"NOT",9:"(",10:")",15:"EQ",16:"DEQ",17:"NEQ",18:"LT",19:"LTE",20:"GT",
21:"GTE",25:"DOT",27:"NAME",28:"STRING",29:"NUMERIC",30:"TRUE",31:"FALSE",32:"NULL"},$productions_$:[0,[3,2],[4,3],[4,3],[4,2],[4,3],[4,1],[11,1],[11,1],[12,3],[12,3],[12,3],[12,3],[12,3],[12,3],[12,3],[13,1],[14,1],[14,1],[22,1],[23,3],[23,1],[26,1],[24,1],[24,1],[24,1],[24,1],[24,1]],performAction:function($o$jscomp$2$$,$Parser$$,$$V0$$,$$V1$$,$$V2$$,$$V3$$){var $$V4$$=$$V3$$.length-1;switch($$V2$$){case 1:return $$V3$$[$$V4$$-1];case 2:this.$$$=$$V3$$[$$V4$$-2]||$$V3$$[$$V4$$];break;case 3:this.$$$=
$$V3$$[$$V4$$-2]&&$$V3$$[$$V4$$];break;case 4:this.$$$=!$$V3$$[$$V4$$];break;case 5:this.$$$=$$V3$$[$$V4$$-1];break;case 6:case 7:case 8:case 17:case 18:case 19:this.$$$=$$V3$$[$$V4$$];break;case 9:this.$$$=$$V3$$[$$V4$$-2]===$$V3$$[$$V4$$];break;case 10:throw Error('"==" is not allowed, use "="');case 11:this.$$$=$$V3$$[$$V4$$-2]!==$$V3$$[$$V4$$];break;case 12:this.$$$=typeof $$V3$$[$$V4$$-2]==typeof $$V3$$[$$V4$$]&&$$V3$$[$$V4$$-2]<$$V3$$[$$V4$$];break;case 13:this.$$$=typeof $$V3$$[$$V4$$-2]==
typeof $$V3$$[$$V4$$]&&$$V3$$[$$V4$$-2]<=$$V3$$[$$V4$$];break;case 14:this.$$$=typeof $$V3$$[$$V4$$-2]==typeof $$V3$$[$$V4$$]&&$$V3$$[$$V4$$-2]>$$V3$$[$$V4$$];break;case 15:this.$$$=typeof $$V3$$[$$V4$$-2]==typeof $$V3$$[$$V4$$]&&$$V3$$[$$V4$$-2]>=$$V3$$[$$V4$$];break;case 16:this.$$$=void 0!==$$V3$$[$$V4$$]&&null!==$$V3$$[$$V4$$]&&""!==$$V3$$[$$V4$$]&&0!==$$V3$$[$$V4$$]&&!1!==$$V3$$[$$V4$$];break;case 20:this.$$$="[object Object]"==Object.prototype.toString.call($$V3$$[$$V4$$-2])&&$$V3$$[$$V4$$-
2].hasOwnProperty($$V3$$[$$V4$$])?$$V3$$[$$V4$$-2][$$V3$$[$$V4$$]]:null;break;case 21:this.$$$=void 0!==$$V1$$[$$V3$$[$$V4$$]]?$$V1$$[$$V3$$[$$V4$$]]:null;break;case 22:this.$$$=$o$jscomp$2$$;break;case 23:this.$$$=$o$jscomp$2$$.substring(1,$o$jscomp$2$$.length-1);break;case 24:this.$$$=Number($o$jscomp$2$$);break;case 25:this.$$$=!0;break;case 26:this.$$$=!1;break;case 27:this.$$$=null}},table:[{3:1,4:2,8:$$V0$$,9:$$V1$$,11:5,12:6,13:7,14:8,22:9,23:10,24:11,26:12,27:$$V2$$,28:$$V3$$,29:$$V4$$,30:$$V5$$,
31:$$V6$$,32:$$V7$$},{1:[3]},{5:[1,19],6:$$V8$$,7:$$V9$$},{4:22,8:$$V0$$,9:$$V1$$,11:5,12:6,13:7,14:8,22:9,23:10,24:11,26:12,27:$$V2$$,28:$$V3$$,29:$$V4$$,30:$$V5$$,31:$$V6$$,32:$$V7$$},{4:23,8:$$V0$$,9:$$V1$$,11:5,12:6,13:7,14:8,22:9,23:10,24:11,26:12,27:$$V2$$,28:$$V3$$,29:$$V4$$,30:$$V5$$,31:$$V6$$,32:$$V7$$},$o$jscomp$2$$($$Va$$,[2,6]),$o$jscomp$2$$($$Va$$,[2,7]),$o$jscomp$2$$($$Va$$,[2,8]),$o$jscomp$2$$($$Va$$,[2,16],{15:[1,24],16:[1,25],17:[1,26],18:[1,27],19:[1,28],20:[1,29],21:[1,30]}),$o$jscomp$2$$($$Vb$$,
[2,17]),$o$jscomp$2$$($$Vb$$,[2,18],{25:[1,31]}),$o$jscomp$2$$($$Vb$$,[2,19]),$o$jscomp$2$$($$Vc$$,[2,21]),$o$jscomp$2$$($$Vb$$,[2,23]),$o$jscomp$2$$($$Vb$$,[2,24]),$o$jscomp$2$$($$Vb$$,[2,25]),$o$jscomp$2$$($$Vb$$,[2,26]),$o$jscomp$2$$($$Vb$$,[2,27]),$o$jscomp$2$$($$Vc$$,[2,22]),{1:[2,1]},{4:32,8:$$V0$$,9:$$V1$$,11:5,12:6,13:7,14:8,22:9,23:10,24:11,26:12,27:$$V2$$,28:$$V3$$,29:$$V4$$,30:$$V5$$,31:$$V6$$,32:$$V7$$},{4:33,8:$$V0$$,9:$$V1$$,11:5,12:6,13:7,14:8,22:9,23:10,24:11,26:12,27:$$V2$$,28:$$V3$$,
29:$$V4$$,30:$$V5$$,31:$$V6$$,32:$$V7$$},$o$jscomp$2$$($$Va$$,[2,4]),{6:$$V8$$,7:$$V9$$,10:[1,34]},{14:35,22:9,23:10,24:11,26:12,27:$$V2$$,28:$$V3$$,29:$$V4$$,30:$$V5$$,31:$$V6$$,32:$$V7$$},{14:36,22:9,23:10,24:11,26:12,27:$$V2$$,28:$$V3$$,29:$$V4$$,30:$$V5$$,31:$$V6$$,32:$$V7$$},{14:37,22:9,23:10,24:11,26:12,27:$$V2$$,28:$$V3$$,29:$$V4$$,30:$$V5$$,31:$$V6$$,32:$$V7$$},{14:38,22:9,23:10,24:11,26:12,27:$$V2$$,28:$$V3$$,29:$$V4$$,30:$$V5$$,31:$$V6$$,32:$$V7$$},{14:39,22:9,23:10,24:11,26:12,27:$$V2$$,
28:$$V3$$,29:$$V4$$,30:$$V5$$,31:$$V6$$,32:$$V7$$},{14:40,22:9,23:10,24:11,26:12,27:$$V2$$,28:$$V3$$,29:$$V4$$,30:$$V5$$,31:$$V6$$,32:$$V7$$},{14:41,22:9,23:10,24:11,26:12,27:$$V2$$,28:$$V3$$,29:$$V4$$,30:$$V5$$,31:$$V6$$,32:$$V7$$},{26:42,27:$$V2$$},$o$jscomp$2$$([5,6,10],[2,2],{7:$$V9$$}),$o$jscomp$2$$($$Va$$,[2,3]),$o$jscomp$2$$($$Va$$,[2,5]),$o$jscomp$2$$($$Va$$,[2,9]),$o$jscomp$2$$($$Va$$,[2,10]),$o$jscomp$2$$($$Va$$,[2,11]),$o$jscomp$2$$($$Va$$,[2,12]),$o$jscomp$2$$($$Va$$,[2,13]),$o$jscomp$2$$($$Va$$,
[2,14]),$o$jscomp$2$$($$Va$$,[2,15]),$o$jscomp$2$$($$Vc$$,[2,20])],defaultActions:{19:[2,1]},parseError:function($o$jscomp$2$$,$Parser$$){if($Parser$$.recoverable)this.trace($o$jscomp$2$$);else throw $o$jscomp$2$$=Error($o$jscomp$2$$),$o$jscomp$2$$.hash=$Parser$$,$o$jscomp$2$$;},parse:function($o$jscomp$2$$){function $Parser$$(){var $o$jscomp$2$$=$lexer$jscomp$1$$.lex()||$$Vb$$;"number"!==typeof $o$jscomp$2$$&&($o$jscomp$2$$=$$V0$$.$symbols_$[$o$jscomp$2$$]||$o$jscomp$2$$);return $o$jscomp$2$$}var $$V0$$=
this,$$V1$$=[0],$$V2$$=[null],$$V3$$=[],$$V4$$=this.table,$input$jscomp$17$$="",$$V5$$=0,$$V6$$=0,$$V7$$=0,$$Va$$=2,$$Vb$$=1,$$V8$$=$$V3$$.slice.call(arguments,1),$lexer$jscomp$1$$=Object.create(this.lexer),$sharedState$$={yy:{}};for($expected$jscomp$1_k$jscomp$10_r$jscomp$1$$ in this.yy)Object.prototype.hasOwnProperty.call(this.yy,$expected$jscomp$1_k$jscomp$10_r$jscomp$1$$)&&($sharedState$$.yy[$expected$jscomp$1_k$jscomp$10_r$jscomp$1$$]=this.yy[$expected$jscomp$1_k$jscomp$10_r$jscomp$1$$]);$lexer$jscomp$1$$.setInput($o$jscomp$2$$,
$sharedState$$.yy);$sharedState$$.yy.lexer=$lexer$jscomp$1$$;$sharedState$$.yy.parser=this;"undefined"==typeof $lexer$jscomp$1$$.yylloc&&($lexer$jscomp$1$$.yylloc={});var $$V9$$=$lexer$jscomp$1$$.yylloc;$$V3$$.push($$V9$$);var $$Vc$$=$lexer$jscomp$1$$.options&&$lexer$jscomp$1$$.options.ranges;this.parseError="function"===typeof $sharedState$$.yy.parseError?$sharedState$$.yy.parseError:Object.getPrototypeOf(this).parseError;for(var $symbol$$,$parser$$,$state$$,$action$$,$yyval$$={},$p$jscomp$1$$,$len$$,
$newState$$;;){$state$$=$$V1$$[$$V1$$.length-1];if(this.defaultActions[$state$$])$action$$=this.defaultActions[$state$$];else{if(null===$symbol$$||"undefined"==typeof $symbol$$)$symbol$$=$Parser$$();$action$$=$$V4$$[$state$$]&&$$V4$$[$state$$][$symbol$$]}if("undefined"===typeof $action$$||!$action$$.length||!$action$$[0]){var $errStr$$="";var $expected$jscomp$1_k$jscomp$10_r$jscomp$1$$=[];for($p$jscomp$1$$ in $$V4$$[$state$$])this.$terminals_$[$p$jscomp$1$$]&&$p$jscomp$1$$>$$Va$$&&$expected$jscomp$1_k$jscomp$10_r$jscomp$1$$.push("'"+
this.$terminals_$[$p$jscomp$1$$]+"'");$errStr$$=$lexer$jscomp$1$$.showPosition?"Parse error on line "+($$V5$$+1)+":\n"+$lexer$jscomp$1$$.showPosition()+"\nExpecting "+$expected$jscomp$1_k$jscomp$10_r$jscomp$1$$.join(", ")+", got '"+(this.$terminals_$[$symbol$$]||$symbol$$)+"'":"Parse error on line "+($$V5$$+1)+": Unexpected "+($symbol$$==$$Vb$$?"end of input":"'"+(this.$terminals_$[$symbol$$]||$symbol$$)+"'");this.parseError($errStr$$,{text:$lexer$jscomp$1$$.match,token:this.$terminals_$[$symbol$$]||
$symbol$$,line:$lexer$jscomp$1$$.yylineno,loc:$$V9$$,expected:$expected$jscomp$1_k$jscomp$10_r$jscomp$1$$})}if($action$$[0]instanceof Array&&1<$action$$.length)throw Error("Parse Error: multiple actions possible at state: "+$state$$+", token: "+$symbol$$);switch($action$$[0]){case 1:$$V1$$.push($symbol$$);$$V2$$.push($lexer$jscomp$1$$.yytext);$$V3$$.push($lexer$jscomp$1$$.yylloc);$$V1$$.push($action$$[1]);$symbol$$=null;$parser$$?($symbol$$=$parser$$,$parser$$=null):($$V6$$=$lexer$jscomp$1$$.yyleng,
$input$jscomp$17$$=$lexer$jscomp$1$$.yytext,$$V5$$=$lexer$jscomp$1$$.yylineno,$$V9$$=$lexer$jscomp$1$$.yylloc,0<$$V7$$&&$$V7$$--);break;case 2:$len$$=this.$productions_$[$action$$[1]][1];$yyval$$.$$$=$$V2$$[$$V2$$.length-$len$$];$yyval$$.$_$$={first_line:$$V3$$[$$V3$$.length-($len$$||1)].first_line,last_line:$$V3$$[$$V3$$.length-1].last_line,first_column:$$V3$$[$$V3$$.length-($len$$||1)].first_column,last_column:$$V3$$[$$V3$$.length-1].last_column};$$Vc$$&&($yyval$$.$_$$.range=[$$V3$$[$$V3$$.length-
($len$$||1)].range[0],$$V3$$[$$V3$$.length-1].range[1]]);$expected$jscomp$1_k$jscomp$10_r$jscomp$1$$=this.performAction.apply($yyval$$,[$input$jscomp$17$$,$$V6$$,$$V5$$,$sharedState$$.yy,$action$$[1],$$V2$$,$$V3$$].concat($$V8$$));if("undefined"!==typeof $expected$jscomp$1_k$jscomp$10_r$jscomp$1$$)return $expected$jscomp$1_k$jscomp$10_r$jscomp$1$$;$len$$&&($$V1$$=$$V1$$.slice(0,-2*$len$$),$$V2$$=$$V2$$.slice(0,-1*$len$$),$$V3$$=$$V3$$.slice(0,-1*$len$$));$$V1$$.push(this.$productions_$[$action$$[1]][0]);
$$V2$$.push($yyval$$.$$$);$$V3$$.push($yyval$$.$_$$);$newState$$=$$V4$$[$$V1$$[$$V1$$.length-2]][$$V1$$[$$V1$$.length-1]];$$V1$$.push($newState$$);break;case 3:return!0}}}},$lexer$$=function(){return{EOF:1,parseError:function($o$jscomp$2$$,$Parser$$){if(this.yy.parser)this.yy.parser.parseError($o$jscomp$2$$,$Parser$$);else throw Error($o$jscomp$2$$);},setInput:function($o$jscomp$2$$,$Parser$$){this.yy=$Parser$$||this.yy||{};this._input=$o$jscomp$2$$;this._more=this._backtrack=this.done=!1;this.yylineno=
this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var $o$jscomp$2$$=this._input[0];this.yytext+=$o$jscomp$2$$;this.yyleng++;this.offset++;this.match+=$o$jscomp$2$$;this.matched+=$o$jscomp$2$$;var $Parser$$=$o$jscomp$2$$.match(/(?:\r\n?|\n).*/g);$Parser$$?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;
this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return $o$jscomp$2$$},unput:function($o$jscomp$2$$){var $Parser$$=$o$jscomp$2$$.length,$$V0$$=$o$jscomp$2$$.split(/(?:\r\n?|\n)/g);this._input=$o$jscomp$2$$+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-$Parser$$);this.offset-=$Parser$$;var $$V1$$=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);$$V0$$.length-
1&&(this.yylineno-=$$V0$$.length-1);$o$jscomp$2$$=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:$$V0$$?($$V0$$.length===$$V1$$.length?this.yylloc.first_column:0)+$$V1$$[$$V1$$.length-$$V0$$.length].length-$$V0$$[0].length:this.yylloc.first_column-$Parser$$};this.options.ranges&&(this.yylloc.range=[$o$jscomp$2$$[0],$o$jscomp$2$$[0]+this.yyleng-$Parser$$]);this.yyleng=this.yytext.length;return this},more:function(){this._more=
!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function($o$jscomp$2$$){this.unput(this.match.slice($o$jscomp$2$$))},pastInput:function(){var $o$jscomp$2$$=this.matched.substr(0,this.matched.length-
this.match.length);return(20<$o$jscomp$2$$.length?"...":"")+$o$jscomp$2$$.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var $o$jscomp$2$$=this.match;20>$o$jscomp$2$$.length&&($o$jscomp$2$$+=this._input.substr(0,20-$o$jscomp$2$$.length));return($o$jscomp$2$$.substr(0,20)+(20<$o$jscomp$2$$.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var $o$jscomp$2$$=this.pastInput(),$Parser$$=Array($o$jscomp$2$$.length+1).join("-");return $o$jscomp$2$$+this.upcomingInput()+"\n"+$Parser$$+
"^"},test_match:function($o$jscomp$2$$,$Parser$$){var $$V0$$;if(this.options.backtrack_lexer){var $$V1$$={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};this.options.ranges&&
($$V1$$.yylloc.range=this.yylloc.range.slice(0))}if($$V0$$=$o$jscomp$2$$[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=$$V0$$.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:$$V0$$?$$V0$$[$$V0$$.length-1].length-$$V0$$[$$V0$$.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+$o$jscomp$2$$[0].length};this.yytext+=$o$jscomp$2$$[0];this.match+=$o$jscomp$2$$[0];this.matches=$o$jscomp$2$$;this.yyleng=this.yytext.length;
this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice($o$jscomp$2$$[0].length);this.matched+=$o$jscomp$2$$[0];$o$jscomp$2$$=this.performAction.call(this,this.yy,this,$Parser$$,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if($o$jscomp$2$$)return $o$jscomp$2$$;if(this._backtrack)for(var $$V2$$ in $$V1$$)this[$$V2$$]=$$V1$$[$$V2$$];return!1},next:function(){if(this.done)return this.EOF;
this._input||(this.done=!0);var $o$jscomp$2$$;this._more||(this.match=this.yytext="");for(var $Parser$$=this._currentRules(),$$V0$$=0;$$V0$$<$Parser$$.length;$$V0$$++)if(($o$jscomp$2$$=this._input.match(this.rules[$Parser$$[$$V0$$]]))&&(!$$V1$$||$o$jscomp$2$$[0].length>$$V1$$[0].length)){var $$V1$$=$o$jscomp$2$$;var $$V2$$=$$V0$$;if(this.options.backtrack_lexer){$$V1$$=this.test_match($o$jscomp$2$$,$Parser$$[$$V0$$]);if(!1!==$$V1$$)return $$V1$$;if(this._backtrack)$$V1$$=!1;else return!1}else if(!this.options.flex)break}return $$V1$$?
($$V1$$=this.test_match($$V1$$,$Parser$$[$$V2$$]),!1!==$$V1$$?$$V1$$:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var $o$jscomp$2$$=this.next();return $o$jscomp$2$$?$o$jscomp$2$$:this.lex()},begin:function($o$jscomp$2$$){this.conditionStack.push($o$jscomp$2$$)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},
_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function($o$jscomp$2$$){$o$jscomp$2$$=this.conditionStack.length-1-Math.abs($o$jscomp$2$$||0);return 0<=$o$jscomp$2$$?this.conditionStack[$o$jscomp$2$$]:"INITIAL"},pushState:function($o$jscomp$2$$){this.begin($o$jscomp$2$$)},stateStackSize:function(){return this.conditionStack.length},
options:{},performAction:function($o$jscomp$2$$,$Parser$$,$$V0$$){switch($$V0$$){case 1:return 7;case 2:return 6;case 3:return 8;case 4:return 32;case 5:return 30;case 6:return 30;case 7:return 31;case 8:return 31;case 9:return 9;case 10:return 10;case 11:return"|";case 12:return 19;case 13:return 18;case 14:return 21;case 15:return 20;case 16:return 17;case 17:return 16;case 18:return 15;case 19:return 29;case 20:return 27;case 21:return 28;case 22:return 28;case 23:return 25;case 24:return"INVALID";
case 25:return 5}},rules:[/^(?:\s+)/,/^(?:AND\b)/,/^(?:OR\b)/,/^(?:NOT\b)/,/^(?:NULL\b)/,/^(?:TRUE\b)/,/^(?:true\b)/,/^(?:FALSE\b)/,/^(?:false\b)/,/^(?:\()/,/^(?:\))/,/^(?:\|)/,/^(?:<=)/,/^(?:<)/,/^(?:>=)/,/^(?:>)/,/^(?:!=)/,/^(?:==)/,/^(?:=)/,/^(?:-?[0-9]+(\.[0-9]+)?\b)/,/^(?:[a-zA-Z_][a-zA-Z0-9_]*)/,/^(?:'[^']*')/,/^(?:"[^"]*")/,/^(?:\.)/,/^(?:.)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],inclusive:!0}}}}();$parser$$.lexer=$lexer$$;
$Parser$$.prototype=$parser$$;$parser$$.Parser=$Parser$$;return new $Parser$$}();function $AccessService$$module$extensions$amp_access$0_1$amp_access$$($ampdoc$jscomp$21$$){var $$jscomp$this$jscomp$34$$=this;this.ampdoc=$ampdoc$jscomp$21$$;$installStylesForDoc$$module$src$style_installer$$($ampdoc$jscomp$21$$,function(){});var $accessElement$jscomp$1_promises$jscomp$3$$=$ampdoc$jscomp$21$$.getElementById("amp-access");if(this.$enabled_$=!!$accessElement$jscomp$1_promises$jscomp$3$$)this.$accessElement_$=$accessElement$jscomp$1_promises$jscomp$3$$,this.$pubOrigin_$=$parseUrlDeprecated$$module$src$url$$($getSourceUrl$$module$src$url$$($ampdoc$jscomp$21$$.win.location)).origin,
this.$timer_$=$Services$$module$src$services$timerFor$$($ampdoc$jscomp$21$$.win),this.$vsync_$=$getService$$module$src$service$$($ampdoc$jscomp$21$$.win,"vsync"),this.$cid_$=$getServicePromiseInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$21$$),"cid"),this.$viewer_$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$21$$),this.$viewport_$=$getServiceForDoc$$module$src$service$$($ampdoc$jscomp$21$$,"viewport"),this.$templates_$=$getService$$module$src$service$$($ampdoc$jscomp$21$$.win,
"templates"),this.$resources_$=$getServiceForDoc$$module$src$service$$($ampdoc$jscomp$21$$,"resources"),this.$performance_$=$getExistingServiceOrNull$$module$src$service$$($ampdoc$jscomp$21$$.win),this.$readerIdPromise_$=null,this.$sources_$=$JSCompiler_StaticMethods_parseConfig_$$(this),$accessElement$jscomp$1_promises$jscomp$3$$=this.$sources_$.map(function($ampdoc$jscomp$21$$){return $ampdoc$jscomp$21$$.whenFirstAuthorized()}),this.$firstAuthorizationsCompleted_$=!1,this.$lastAuthorizationPromises_$=
Promise.all($accessElement$jscomp$1_promises$jscomp$3$$),this.$reportViewPromise_$=null,this.$applyAuthorizationsObservable_$=new $Observable$$module$src$observable$$,this.$lastAuthorizationPromises_$.then(function(){$$jscomp$this$jscomp$34$$.$firstAuthorizationsCompleted_$=!0;$$jscomp$this$jscomp$34$$.$analyticsEvent_$("access-authorization-received");$$jscomp$this$jscomp$34$$.$performance_$&&($$jscomp$this$jscomp$34$$.$performance_$.tick("aaa"),$$jscomp$this$jscomp$34$$.$performance_$.tickSinceVisible("aaav"),
$$jscomp$this$jscomp$34$$.$performance_$.flush())}),$ampdoc$jscomp$21$$.getRootNode().addEventListener("amp:dom-update",this.$onDomUpdate_$.bind(this))}$JSCompiler_prototypeAlias$$=$AccessService$$module$extensions$amp_access$0_1$amp_access$$.prototype;$JSCompiler_prototypeAlias$$.getAccessReaderId=function(){return this.$enabled_$?this.$getReaderId_$():null};
$JSCompiler_prototypeAlias$$.$getReaderId_$=function(){if(!this.$readerIdPromise_$){var $consent$jscomp$1$$=Promise.resolve();this.$readerIdPromise_$=this.$cid_$.then(function($cid$$){return $cid$$.get({scope:"amp-access",createCookieIfNotPresent:!0},$consent$jscomp$1$$)})}return this.$readerIdPromise_$};$JSCompiler_prototypeAlias$$.areFirstAuthorizationsCompleted=function(){return this.$firstAuthorizationsCompleted_$};$JSCompiler_prototypeAlias$$.onApplyAuthorizations=function($callback$jscomp$66$$){this.$applyAuthorizationsObservable_$.add($callback$jscomp$66$$)};
function $JSCompiler_StaticMethods_parseConfig_$$($JSCompiler_StaticMethods_parseConfig_$self$$){$userAssert$$module$src$log$$($isJsonScriptTag$$module$src$dom$$($JSCompiler_StaticMethods_parseConfig_$self$$.$accessElement_$),'amp-access config should be inside a <script> tag with type="application/json"');var $rawContent$$=$tryParseJson$$module$src$json$$($JSCompiler_StaticMethods_parseConfig_$self$$.$accessElement_$.textContent,function($JSCompiler_StaticMethods_parseConfig_$self$$){throw $user$$module$src$log$$().createError('Failed to parse "amp-access" JSON: '+
$JSCompiler_StaticMethods_parseConfig_$self$$);}),$configMap$$={};if(Array.isArray($rawContent$$))for(var $contentArray$$=$rawContent$$,$i$jscomp$36$$=0;$i$jscomp$36$$<$contentArray$$.length;$i$jscomp$36$$++){var $namespace$jscomp$3$$=$contentArray$$[$i$jscomp$36$$].namespace;$userAssert$$module$src$log$$(!!$namespace$jscomp$3$$,"Namespace required");$userAssert$$module$src$log$$(!$configMap$$[$namespace$jscomp$3$$],"Namespace already used: "+$namespace$jscomp$3$$);$configMap$$[$namespace$jscomp$3$$]=
$contentArray$$[$i$jscomp$36$$]}else $configMap$$[$rawContent$$.namespace||""]=$rawContent$$;var $readerIdFn$jscomp$1$$=$JSCompiler_StaticMethods_parseConfig_$self$$.$getReaderId_$.bind($JSCompiler_StaticMethods_parseConfig_$self$$),$scheduleViewFn$jscomp$1$$=$JSCompiler_StaticMethods_parseConfig_$self$$.$scheduleView_$.bind($JSCompiler_StaticMethods_parseConfig_$self$$),$onReauthorizeFn$jscomp$1$$=$JSCompiler_StaticMethods_parseConfig_$self$$.$onReauthorize_$.bind($JSCompiler_StaticMethods_parseConfig_$self$$);
return Object.keys($configMap$$).map(function($rawContent$$){return new $AccessSource$$module$extensions$amp_access$0_1$amp_access_source$$($JSCompiler_StaticMethods_parseConfig_$self$$.ampdoc,$configMap$$[$rawContent$$],$readerIdFn$jscomp$1$$,$scheduleViewFn$jscomp$1$$,$onReauthorizeFn$jscomp$1$$,$JSCompiler_StaticMethods_parseConfig_$self$$.$accessElement_$)})}
$JSCompiler_prototypeAlias$$.$onDomUpdate_$=function($event$jscomp$12$$){var $$jscomp$this$jscomp$36$$=this;if(this.$firstAuthorizationsCompleted_$){var $target$jscomp$92$$=$event$jscomp$12$$.target;return this.$lastAuthorizationPromises_$.then(function(){var $event$jscomp$12$$=$$jscomp$this$jscomp$36$$.combinedResponses();$JSCompiler_StaticMethods_applyAuthorizationToRoot_$$($$jscomp$this$jscomp$36$$,$target$jscomp$92$$,$event$jscomp$12$$)})}};
$JSCompiler_prototypeAlias$$.getVendorSource=function($name$jscomp$87$$){for(var $i$jscomp$37$$=0;$i$jscomp$37$$<this.$sources_$.length;$i$jscomp$37$$++){var $source$jscomp$14$$=this.$sources_$[$i$jscomp$37$$];if("vendor"==$source$jscomp$14$$.getType()){var $vendorAdapter$$=$source$jscomp$14$$.getAdapter();if($vendorAdapter$$.getVendorName()==$name$jscomp$87$$)return $source$jscomp$14$$}}$userAssert$$module$src$log$$(!1,'Access vendor "%s" can only be used for "type=vendor", but none found',$name$jscomp$87$$);
throw Error();};$JSCompiler_prototypeAlias$$.isEnabled=function(){return this.$enabled_$};$JSCompiler_prototypeAlias$$.$getRootElement_$=function(){var $root$jscomp$9$$=this.ampdoc.getRootNode();return $root$jscomp$9$$.documentElement||$root$jscomp$9$$.body||$root$jscomp$9$$};$JSCompiler_prototypeAlias$$.$analyticsEvent_$=function($eventType$jscomp$9$$){$triggerAnalyticsEvent$$module$src$analytics$$(this.$getRootElement_$(),$eventType$jscomp$9$$)};
function $JSCompiler_StaticMethods_listenToBroadcasts_$$($JSCompiler_StaticMethods_listenToBroadcasts_$self$$){$JSCompiler_StaticMethods_listenToBroadcasts_$self$$.$viewer_$.onBroadcast(function($message$jscomp$33$$){"amp-access-reauthorize"==$message$jscomp$33$$.type&&$message$jscomp$33$$.origin==$JSCompiler_StaticMethods_listenToBroadcasts_$self$$.$pubOrigin_$&&$JSCompiler_StaticMethods_runAuthorization_$$($JSCompiler_StaticMethods_listenToBroadcasts_$self$$)})}
$JSCompiler_prototypeAlias$$.$onReauthorize_$=function($authorization$$){var $$jscomp$this$jscomp$38$$=this;this.$broadcastReauthorize_$();$authorization$$.then(function(){$$jscomp$this$jscomp$38$$.$firstAuthorizationsCompleted_$&&$$jscomp$this$jscomp$38$$.$lastAuthorizationPromises_$.then(function(){$$jscomp$this$jscomp$38$$.ampdoc.whenReady().then(function(){var $authorization$$=$$jscomp$this$jscomp$38$$.ampdoc.getRootNode(),$responses$jscomp$1$$=$$jscomp$this$jscomp$38$$.combinedResponses();return $JSCompiler_StaticMethods_applyAuthorizationToRoot_$$($$jscomp$this$jscomp$38$$,
$authorization$$,$responses$jscomp$1$$)})})})};$JSCompiler_prototypeAlias$$.$broadcastReauthorize_$=function(){this.$viewer_$.broadcast($dict$$module$src$utils$object$$({type:"amp-access-reauthorize",origin:this.$pubOrigin_$}))};
function $JSCompiler_StaticMethods_runAuthorization_$$($JSCompiler_StaticMethods_runAuthorization_$self$$){$JSCompiler_StaticMethods_toggleTopClass_$$($JSCompiler_StaticMethods_runAuthorization_$self$$,"amp-access-loading",!0);var $authorizations$$=$JSCompiler_StaticMethods_runAuthorization_$self$$.$viewer_$.whenFirstVisible().then(function(){return Promise.all($JSCompiler_StaticMethods_runAuthorization_$self$$.$sources_$.map(function($authorizations$$){return $JSCompiler_StaticMethods_runOneAuthorization_$$($JSCompiler_StaticMethods_runAuthorization_$self$$,$authorizations$$)}))}),
$rendered$$=$authorizations$$.then(function(){$JSCompiler_StaticMethods_toggleTopClass_$$($JSCompiler_StaticMethods_runAuthorization_$self$$,"amp-access-loading",!1);return $JSCompiler_StaticMethods_runAuthorization_$self$$.ampdoc.whenReady().then(function(){var $authorizations$$=$JSCompiler_StaticMethods_runAuthorization_$self$$.ampdoc.getRootNode(),$rendered$$=$JSCompiler_StaticMethods_runAuthorization_$self$$.combinedResponses();return $JSCompiler_StaticMethods_applyAuthorizationToRoot_$$($JSCompiler_StaticMethods_runAuthorization_$self$$,
$authorizations$$,$rendered$$)})});$JSCompiler_StaticMethods_runAuthorization_$self$$.$lastAuthorizationPromises_$=$rendered$$}function $JSCompiler_StaticMethods_runOneAuthorization_$$($JSCompiler_StaticMethods_runOneAuthorization_$self$$,$source$jscomp$16$$){return $source$jscomp$16$$.runAuthorization().catch(function(){$JSCompiler_StaticMethods_toggleTopClass_$$($JSCompiler_StaticMethods_runOneAuthorization_$self$$,"amp-access-error",!0)})}
$JSCompiler_prototypeAlias$$.getAuthdataField=function($field$jscomp$3$$){var $$jscomp$this$jscomp$41$$=this;return this.$enabled_$?this.$lastAuthorizationPromises_$.then(function(){var $responses$jscomp$3_v$jscomp$3$$=$$jscomp$this$jscomp$41$$.combinedResponses();$responses$jscomp$3_v$jscomp$3$$=$getValueForExpr$$module$src$json$$($responses$jscomp$3_v$jscomp$3$$,$field$jscomp$3$$);return void 0!==$responses$jscomp$3_v$jscomp$3$$?$responses$jscomp$3_v$jscomp$3$$:null}):null};
function $JSCompiler_StaticMethods_applyAuthorizationToRoot_$$($JSCompiler_StaticMethods_applyAuthorizationToRoot_$self$$,$elements$jscomp$3_root$jscomp$12$$,$response$jscomp$12$$){$elements$jscomp$3_root$jscomp$12$$=$elements$jscomp$3_root$jscomp$12$$.querySelectorAll("[amp-access]");for(var $promises$jscomp$4$$=[],$i$jscomp$39$$=0;$i$jscomp$39$$<$elements$jscomp$3_root$jscomp$12$$.length;$i$jscomp$39$$++)$promises$jscomp$4$$.push($JSCompiler_StaticMethods_applyAuthorizationToElement_$$($JSCompiler_StaticMethods_applyAuthorizationToRoot_$self$$,
$elements$jscomp$3_root$jscomp$12$$[$i$jscomp$39$$],$response$jscomp$12$$));return Promise.all($promises$jscomp$4$$).then(function(){$JSCompiler_StaticMethods_applyAuthorizationToRoot_$self$$.$applyAuthorizationsObservable_$.fire()})}
function $JSCompiler_StaticMethods_applyAuthorizationToElement_$$($JSCompiler_StaticMethods_applyAuthorizationToElement_$self$$,$element$jscomp$74$$,$response$jscomp$13$$){var $expr$jscomp$5$$=$element$jscomp$74$$.getAttribute("amp-access");a:{try{$parser$$module$extensions$amp_access$0_1$access_expr_impl$$.yy=$response$jscomp$13$$;var $JSCompiler_inline_result$jscomp$46$$=!!$parser$$module$extensions$amp_access$0_1$access_expr_impl$$.parse($expr$jscomp$5$$);break a}finally{$parser$$module$extensions$amp_access$0_1$access_expr_impl$$.yy=
null}$JSCompiler_inline_result$jscomp$46$$=void 0}var $on$jscomp$2$$=$JSCompiler_inline_result$jscomp$46$$,$renderPromise$$=null;$on$jscomp$2$$&&($renderPromise$$=$JSCompiler_StaticMethods_renderTemplates_$$($JSCompiler_StaticMethods_applyAuthorizationToElement_$self$$,$element$jscomp$74$$,$response$jscomp$13$$));return $renderPromise$$?$renderPromise$$.then(function(){return $JSCompiler_StaticMethods_applyAuthorizationAttrs_$$($JSCompiler_StaticMethods_applyAuthorizationToElement_$self$$,$element$jscomp$74$$,
$on$jscomp$2$$)}):$JSCompiler_StaticMethods_applyAuthorizationAttrs_$$($JSCompiler_StaticMethods_applyAuthorizationToElement_$self$$,$element$jscomp$74$$,$on$jscomp$2$$)}
function $JSCompiler_StaticMethods_applyAuthorizationAttrs_$$($JSCompiler_StaticMethods_applyAuthorizationAttrs_$self$$,$element$jscomp$75$$,$on$jscomp$3$$){var $wasOn$$=!$element$jscomp$75$$.hasAttribute("amp-access-hide");return $on$jscomp$3$$==$wasOn$$?Promise.resolve():$JSCompiler_StaticMethods_applyAuthorizationAttrs_$self$$.$resources_$.mutateElement($element$jscomp$75$$,function(){$on$jscomp$3$$?$element$jscomp$75$$.removeAttribute("amp-access-hide"):$element$jscomp$75$$.setAttribute("amp-access-hide",
"")})}
function $JSCompiler_StaticMethods_renderTemplates_$$($JSCompiler_StaticMethods_renderTemplates_$self$$,$element$jscomp$76$$,$response$jscomp$14$$){var $promises$jscomp$5$$=[],$templateElements$$=$element$jscomp$76$$.querySelectorAll("[amp-access-template]");if(0<$templateElements$$.length)for(var $$jscomp$loop$23$$={$$jscomp$loop$prop$i$24$:0};$$jscomp$loop$23$$.$$jscomp$loop$prop$i$24$<$templateElements$$.length;$$jscomp$loop$23$$={$$jscomp$loop$prop$i$24$:$$jscomp$loop$23$$.$$jscomp$loop$prop$i$24$},$$jscomp$loop$23$$.$$jscomp$loop$prop$i$24$++){var $p$jscomp$2$$=
$JSCompiler_StaticMethods_renderTemplate_$$($JSCompiler_StaticMethods_renderTemplates_$self$$,$templateElements$$[$$jscomp$loop$23$$.$$jscomp$loop$prop$i$24$],$response$jscomp$14$$).catch(function($JSCompiler_StaticMethods_renderTemplates_$self$$){return function($response$jscomp$14$$){$dev$$module$src$log$$().error("amp-access","Template failed: ",$response$jscomp$14$$,$templateElements$$[$JSCompiler_StaticMethods_renderTemplates_$self$$.$$jscomp$loop$prop$i$24$],$element$jscomp$76$$)}}($$jscomp$loop$23$$));
$promises$jscomp$5$$.push($p$jscomp$2$$)}return 0<$promises$jscomp$5$$.length?Promise.all($promises$jscomp$5$$):null}
function $JSCompiler_StaticMethods_renderTemplate_$$($JSCompiler_StaticMethods_renderTemplate_$self$$,$templateOrPrev$$,$response$jscomp$15$$){var $template$jscomp$3$$=$templateOrPrev$$,$prev$$=null;"TEMPLATE"!=$template$jscomp$3$$.tagName&&($prev$$=$template$jscomp$3$$,$template$jscomp$3$$=$prev$$.__AMP_ACCESS__TEMPLATE);return $template$jscomp$3$$?$JSCompiler_StaticMethods_renderTemplate_$self$$.$templates_$.renderTemplate($template$jscomp$3$$,$response$jscomp$15$$).then(function($templateOrPrev$$){return $JSCompiler_StaticMethods_renderTemplate_$self$$.$vsync_$.mutatePromise(function(){$templateOrPrev$$.setAttribute("amp-access-template",
"");$templateOrPrev$$.__AMP_ACCESS__TEMPLATE=$template$jscomp$3$$;$template$jscomp$3$$.parentElement?$template$jscomp$3$$.parentElement.replaceChild($templateOrPrev$$,$template$jscomp$3$$):$prev$$&&$prev$$.parentElement&&$prev$$.parentElement.replaceChild($templateOrPrev$$,$prev$$)})}):Promise.reject(Error("template not found"))}
$JSCompiler_prototypeAlias$$.$scheduleView_$=function($timeToView$$){var $$jscomp$this$jscomp$45$$=this;this.$sources_$.some(function($timeToView$$){return $timeToView$$.getAdapter().isPingbackEnabled()})&&(this.$reportViewPromise_$=null,this.ampdoc.whenReady().then(function(){$$jscomp$this$jscomp$45$$.$viewer_$.isVisible()&&$JSCompiler_StaticMethods_reportWhenViewed_$$($$jscomp$this$jscomp$45$$,$timeToView$$);$$jscomp$this$jscomp$45$$.$viewer_$.onVisibilityChanged(function(){$$jscomp$this$jscomp$45$$.$viewer_$.isVisible()&&
$JSCompiler_StaticMethods_reportWhenViewed_$$($$jscomp$this$jscomp$45$$,$timeToView$$)})}))};
function $JSCompiler_StaticMethods_reportWhenViewed_$$($JSCompiler_StaticMethods_reportWhenViewed_$self$$,$timeToView$jscomp$1$$){$JSCompiler_StaticMethods_reportWhenViewed_$self$$.$reportViewPromise_$||($JSCompiler_StaticMethods_reportWhenViewed_$self$$.$reportViewPromise_$=$JSCompiler_StaticMethods_whenViewed_$$($JSCompiler_StaticMethods_reportWhenViewed_$self$$,$timeToView$jscomp$1$$).then(function(){return $JSCompiler_StaticMethods_reportWhenViewed_$self$$.$lastAuthorizationPromises_$}).then(function(){$JSCompiler_StaticMethods_reportWhenViewed_$self$$.$analyticsEvent_$("access-viewed");for(var $timeToView$jscomp$1$$=
[],$JSCompiler_i$jscomp$inline_174$$=0;$JSCompiler_i$jscomp$inline_174$$<$JSCompiler_StaticMethods_reportWhenViewed_$self$$.$sources_$.length;$JSCompiler_i$jscomp$inline_174$$++)$JSCompiler_StaticMethods_reportWhenViewed_$self$$.$sources_$[$JSCompiler_i$jscomp$inline_174$$].getAdapter().isPingbackEnabled()&&$timeToView$jscomp$1$$.push($JSCompiler_StaticMethods_reportWhenViewed_$self$$.$sources_$[$JSCompiler_i$jscomp$inline_174$$].reportViewToServer());return Promise.all($timeToView$jscomp$1$$)}).catch(function($timeToView$jscomp$1$$){$JSCompiler_StaticMethods_reportWhenViewed_$self$$.$reportViewPromise_$=
null;throw $timeToView$jscomp$1$$;}),$JSCompiler_StaticMethods_reportWhenViewed_$self$$.$reportViewPromise_$.then($JSCompiler_StaticMethods_reportWhenViewed_$self$$.$broadcastReauthorize_$.bind($JSCompiler_StaticMethods_reportWhenViewed_$self$$)))}
function $JSCompiler_StaticMethods_whenViewed_$$($JSCompiler_StaticMethods_whenViewed_$self$$,$timeToView$jscomp$2$$){if(0==$timeToView$jscomp$2$$)return Promise.resolve();var $unlistenSet$$=[];return(new Promise(function($resolve$jscomp$18$$,$reject$jscomp$7$$){$unlistenSet$$.push($JSCompiler_StaticMethods_whenViewed_$self$$.$viewer_$.onVisibilityChanged(function(){$JSCompiler_StaticMethods_whenViewed_$self$$.$viewer_$.isVisible()||$reject$jscomp$7$$(Error("CANCELLED"))}));var $timeoutId$$=$JSCompiler_StaticMethods_whenViewed_$self$$.$timer_$.delay($resolve$jscomp$18$$,
$timeToView$jscomp$2$$);$unlistenSet$$.push(function(){return $JSCompiler_StaticMethods_whenViewed_$self$$.$timer_$.cancel($timeoutId$$)});$unlistenSet$$.push($JSCompiler_StaticMethods_whenViewed_$self$$.$viewport_$.onScroll($resolve$jscomp$18$$));$unlistenSet$$.push($listenOnce$$module$src$event_helper$$($JSCompiler_StaticMethods_whenViewed_$self$$.ampdoc.getRootNode(),$resolve$jscomp$18$$))})).then(function(){$unlistenSet$$.forEach(function($JSCompiler_StaticMethods_whenViewed_$self$$){return $JSCompiler_StaticMethods_whenViewed_$self$$()})},
function($JSCompiler_StaticMethods_whenViewed_$self$$){$unlistenSet$$.forEach(function($JSCompiler_StaticMethods_whenViewed_$self$$){return $JSCompiler_StaticMethods_whenViewed_$self$$()});throw $JSCompiler_StaticMethods_whenViewed_$self$$;})}
function $JSCompiler_StaticMethods_toggleTopClass_$$($JSCompiler_StaticMethods_toggleTopClass_$self$$,$className$jscomp$1$$,$on$jscomp$4$$){$JSCompiler_StaticMethods_toggleTopClass_$self$$.$vsync_$.mutate(function(){$JSCompiler_StaticMethods_toggleTopClass_$self$$.$getRootElement_$().classList.toggle($className$jscomp$1$$,$on$jscomp$4$$)})}
$JSCompiler_prototypeAlias$$.$handleAction_$=function($invocation$$){if(!$invocation$$.satisfiesTrust(100))return null;if("login"==$invocation$$.method)$invocation$$.event&&$invocation$$.event.preventDefault(),$JSCompiler_StaticMethods_loginWithType_$$(this,"");else{var $JSCompiler_string$jscomp$inline_176$$=$invocation$$.method;(6>$JSCompiler_string$jscomp$inline_176$$.length?0:0==$JSCompiler_string$jscomp$inline_176$$.lastIndexOf("login-",0))?($invocation$$.event&&$invocation$$.event.preventDefault(),
$JSCompiler_StaticMethods_loginWithType_$$(this,$invocation$$.method.substring(6))):"refresh"==$invocation$$.method&&($invocation$$.event&&$invocation$$.event.preventDefault(),$JSCompiler_StaticMethods_runAuthorization_$$(this))}return null};$JSCompiler_prototypeAlias$$.getSource=function($index$jscomp$75$$){$userAssert$$module$src$log$$(0<=$index$jscomp$75$$&&$index$jscomp$75$$<this.$sources_$.length,"Invalid index: %d",$index$jscomp$75$$);return this.$sources_$[$index$jscomp$75$$]};
function $JSCompiler_StaticMethods_loginWithType_$$($JSCompiler_StaticMethods_loginWithType_$self$$,$type$jscomp$140$$){var $splitPoint$$=$type$jscomp$140$$.indexOf("-"),$singleSource$$=1==$JSCompiler_StaticMethods_loginWithType_$self$$.$sources_$.length,$namespace$jscomp$4$$=-1<$splitPoint$$?$type$jscomp$140$$.substring(0,$splitPoint$$):$type$jscomp$140$$,$match$jscomp$5$$=$JSCompiler_StaticMethods_loginWithType_$self$$.$sources_$.filter(function($JSCompiler_StaticMethods_loginWithType_$self$$){return $JSCompiler_StaticMethods_loginWithType_$self$$.getNamespace()==
$namespace$jscomp$4$$});if($match$jscomp$5$$.length){var $remaining$$=-1<$splitPoint$$?$type$jscomp$140$$.substring($splitPoint$$+1):"";$match$jscomp$5$$[0].loginWithType($remaining$$)}else $userAssert$$module$src$log$$($singleSource$$,"Login must match namespace: %s",$namespace$jscomp$4$$),$JSCompiler_StaticMethods_loginWithType_$self$$.$sources_$[0].loginWithType($type$jscomp$140$$)}
$JSCompiler_prototypeAlias$$.combinedResponses=function(){if(1==this.$sources_$.length&&!this.$sources_$[0].getNamespace())return this.$sources_$[0].getAuthResponse()||{};var $combined$$={};this.$sources_$.forEach(function($source$jscomp$17$$){return $combined$$[$source$jscomp$17$$.getNamespace()]=$source$jscomp$17$$.getAuthResponse()});return $combined$$};
(function($AMP$jscomp$1$$){$AMP$jscomp$1$$.registerServiceForDoc("access",function($AMP$jscomp$1$$){$AMP$jscomp$1$$=new $AccessService$$module$extensions$amp_access$0_1$amp_access$$($AMP$jscomp$1$$);if($AMP$jscomp$1$$.$enabled_$){$getExistingServiceForDocInEmbedScope$$module$src$service$$($AMP$jscomp$1$$.$accessElement_$,"action").installActionHandler($AMP$jscomp$1$$.$accessElement_$,$AMP$jscomp$1$$.$handleAction_$.bind($AMP$jscomp$1$$));for(var $JSCompiler_StaticMethods_start_$self$jscomp$inline_179_ampdoc$jscomp$22$$=
0;$JSCompiler_StaticMethods_start_$self$jscomp$inline_179_ampdoc$jscomp$22$$<$AMP$jscomp$1$$.$sources_$.length;$JSCompiler_StaticMethods_start_$self$jscomp$inline_179_ampdoc$jscomp$22$$++)$AMP$jscomp$1$$.$sources_$[$JSCompiler_StaticMethods_start_$self$jscomp$inline_179_ampdoc$jscomp$22$$].start();$JSCompiler_StaticMethods_runAuthorization_$$($AMP$jscomp$1$$);$AMP$jscomp$1$$.$scheduleView_$(2E3);$JSCompiler_StaticMethods_listenToBroadcasts_$$($AMP$jscomp$1$$)}else $user$$module$src$log$$().info("amp-access",
'Access is disabled - no "id=amp-access" element');return $AMP$jscomp$1$$})})(self.AMP);
})});

//# sourceMappingURL=amp-access-0.1.js.map
