(self.AMP=self.AMP||[]).push({n:"amp-pan-zoom",v:"1904281823091",f:(function(AMP,_){
var $JSCompiler_prototypeAlias$$,$$jscomp$objectCreate$$="function"==typeof Object.create?Object.create:function($prototype$$){function $ctor$$(){}$ctor$$.prototype=$prototype$$;return new $ctor$$},$JSCompiler_temp$jscomp$17$$;
if("function"==typeof Object.setPrototypeOf)$JSCompiler_temp$jscomp$17$$=Object.setPrototypeOf;else{var $JSCompiler_inline_result$jscomp$18$$;a:{var $JSCompiler_x$jscomp$inline_36$$={a:!0},$JSCompiler_y$jscomp$inline_37$$={};try{$JSCompiler_y$jscomp$inline_37$$.__proto__=$JSCompiler_x$jscomp$inline_36$$;$JSCompiler_inline_result$jscomp$18$$=$JSCompiler_y$jscomp$inline_37$$.a;break a}catch($JSCompiler_e$jscomp$inline_38$$){}$JSCompiler_inline_result$jscomp$18$$=!1}$JSCompiler_temp$jscomp$17$$=$JSCompiler_inline_result$jscomp$18$$?
function($target$jscomp$83$$,$proto$jscomp$3$$){$target$jscomp$83$$.__proto__=$proto$jscomp$3$$;if($target$jscomp$83$$.__proto__!==$proto$jscomp$3$$)throw new TypeError($target$jscomp$83$$+" is not extensible");return $target$jscomp$83$$}:null}var $$jscomp$setPrototypeOf$$=$JSCompiler_temp$jscomp$17$$;
function $$jscomp$inherits$$($childCtor$$,$parentCtor$$){$childCtor$$.prototype=$$jscomp$objectCreate$$($parentCtor$$.prototype);$childCtor$$.prototype.constructor=$childCtor$$;if($$jscomp$setPrototypeOf$$)$$jscomp$setPrototypeOf$$($childCtor$$,$parentCtor$$);else for(var $p$$ in $parentCtor$$)if("prototype"!=$p$$)if(Object.defineProperties){var $descriptor$jscomp$1$$=Object.getOwnPropertyDescriptor($parentCtor$$,$p$$);$descriptor$jscomp$1$$&&Object.defineProperty($childCtor$$,$p$$,$descriptor$jscomp$1$$)}else $childCtor$$[$p$$]=
$parentCtor$$[$p$$];$childCtor$$.$superClass_$=$parentCtor$$.prototype};function $Deferred$$module$src$utils$promise$$(){var $resolve$$,$reject$$;this.promise=new Promise(function($res$$,$rej$$){$resolve$$=$res$$;$reject$$=$rej$$});this.resolve=$resolve$$;this.reject=$reject$$};self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log;function $dev$$module$src$log$$(){if($logs$$module$src$log$$.dev)return $logs$$module$src$log$$.dev;throw Error("failed to call initLogConstructor");}
function $userAssert$$module$src$log$$($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$){if(!$logs$$module$src$log$$.user)throw Error("failed to call initLogConstructor");$logs$$module$src$log$$.user.assert($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};function $getExistingServiceForDocInEmbedScope$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_172_JSCompiler_ampdoc$jscomp$inline_174_JSCompiler_inline_result$jscomp$inline_173_element$jscomp$11$$){var $opt_fallbackToTopWin$$,$win$jscomp$6$$=$JSCompiler_ampdoc$jscomp$inline_172_JSCompiler_ampdoc$jscomp$inline_174_JSCompiler_inline_result$jscomp$inline_173_element$jscomp$11$$.ownerDocument.defaultView,$isEmbed$$=$win$jscomp$6$$!=($win$jscomp$6$$.__AMP_TOP||$win$jscomp$6$$);if($isEmbed$$){if($isServiceRegistered$$module$src$service$$($win$jscomp$6$$,
"action")){var $embedService$$=$getServiceInternal$$module$src$service$$($win$jscomp$6$$,"action");if($embedService$$)return $embedService$$}if(!$opt_fallbackToTopWin$$)return null}$JSCompiler_ampdoc$jscomp$inline_172_JSCompiler_ampdoc$jscomp$inline_174_JSCompiler_inline_result$jscomp$inline_173_element$jscomp$11$$=$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_172_JSCompiler_ampdoc$jscomp$inline_174_JSCompiler_inline_result$jscomp$inline_173_element$jscomp$11$$);$JSCompiler_ampdoc$jscomp$inline_172_JSCompiler_ampdoc$jscomp$inline_174_JSCompiler_inline_result$jscomp$inline_173_element$jscomp$11$$=
$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_172_JSCompiler_ampdoc$jscomp$inline_174_JSCompiler_inline_result$jscomp$inline_173_element$jscomp$11$$);$JSCompiler_ampdoc$jscomp$inline_172_JSCompiler_ampdoc$jscomp$inline_174_JSCompiler_inline_result$jscomp$inline_173_element$jscomp$11$$=$JSCompiler_ampdoc$jscomp$inline_172_JSCompiler_ampdoc$jscomp$inline_174_JSCompiler_inline_result$jscomp$inline_173_element$jscomp$11$$.isSingleDoc()?$JSCompiler_ampdoc$jscomp$inline_172_JSCompiler_ampdoc$jscomp$inline_174_JSCompiler_inline_result$jscomp$inline_173_element$jscomp$11$$.win:
$JSCompiler_ampdoc$jscomp$inline_172_JSCompiler_ampdoc$jscomp$inline_174_JSCompiler_inline_result$jscomp$inline_173_element$jscomp$11$$;return $isServiceRegistered$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_172_JSCompiler_ampdoc$jscomp$inline_174_JSCompiler_inline_result$jscomp$inline_173_element$jscomp$11$$,"action")?$getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_172_JSCompiler_ampdoc$jscomp$inline_174_JSCompiler_inline_result$jscomp$inline_173_element$jscomp$11$$,
"action"):null}function $getService$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$){$win$jscomp$8$$=$win$jscomp$8$$.__AMP_TOP||$win$jscomp$8$$;return $getServiceInternal$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$)}
function $getAmpdoc$$module$src$service$$($nodeOrDoc$jscomp$2$$){return $nodeOrDoc$jscomp$2$$.nodeType?$getService$$module$src$service$$(($nodeOrDoc$jscomp$2$$.ownerDocument||$nodeOrDoc$jscomp$2$$).defaultView,"ampdoc").getAmpDoc($nodeOrDoc$jscomp$2$$):$nodeOrDoc$jscomp$2$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$){$isServiceRegistered$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$);var $JSCompiler_services$jscomp$inline_46$$=$holder$jscomp$4_s$jscomp$8$$.services;$JSCompiler_services$jscomp$inline_46$$||($JSCompiler_services$jscomp$inline_46$$=$holder$jscomp$4_s$jscomp$8$$.services={});var $services$$=$JSCompiler_services$jscomp$inline_46$$;$holder$jscomp$4_s$jscomp$8$$=$services$$[$id$jscomp$19$$];
$holder$jscomp$4_s$jscomp$8$$.obj||($holder$jscomp$4_s$jscomp$8$$.obj=new $holder$jscomp$4_s$jscomp$8$$.ctor($holder$jscomp$4_s$jscomp$8$$.context),$holder$jscomp$4_s$jscomp$8$$.ctor=null,$holder$jscomp$4_s$jscomp$8$$.context=null,$holder$jscomp$4_s$jscomp$8$$.resolve&&$holder$jscomp$4_s$jscomp$8$$.resolve($holder$jscomp$4_s$jscomp$8$$.obj));return $holder$jscomp$4_s$jscomp$8$$.obj}
function $isServiceRegistered$$module$src$service$$($holder$jscomp$12_service$jscomp$4$$,$id$jscomp$27$$){$holder$jscomp$12_service$jscomp$4$$=$holder$jscomp$12_service$jscomp$4$$.services&&$holder$jscomp$12_service$jscomp$4$$.services[$id$jscomp$27$$];return!(!$holder$jscomp$12_service$jscomp$4$$||!$holder$jscomp$12_service$jscomp$4$$.ctor&&!$holder$jscomp$12_service$jscomp$4$$.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function $bezierCurve$$module$src$curve$$($x1$jscomp$5$$,$y1$jscomp$5$$,$x2$jscomp$3$$,$y2$jscomp$3$$){var $bezier$$=new $Bezier$$module$src$curve$$($x1$jscomp$5$$,$y1$jscomp$5$$,$x2$jscomp$3$$,$y2$jscomp$3$$);return $bezier$$.solveYValueFromXValue.bind($bezier$$)}
function $Bezier$$module$src$curve$$($x1$jscomp$6$$,$y1$jscomp$6$$,$x2$jscomp$4$$,$y2$jscomp$4$$){var $x3$$=1,$y3$$=1;this.y0=this.x0=0;this.x1=$x1$jscomp$6$$;this.y1=$y1$jscomp$6$$;this.x2=$x2$jscomp$4$$;this.y2=$y2$jscomp$4$$;this.x3=$x3$$;this.y3=$y3$$}$JSCompiler_prototypeAlias$$=$Bezier$$module$src$curve$$.prototype;$JSCompiler_prototypeAlias$$.solveYValueFromXValue=function($xVal$$){return this.getPointY(this.solvePositionFromXValue($xVal$$))};
$JSCompiler_prototypeAlias$$.solvePositionFromXValue=function($xVal$jscomp$1$$){var $epsilon$$=1E-6,$t$$=($xVal$jscomp$1$$-this.x0)/(this.x3-this.x0);if(0>=$t$$)return 0;if(1<=$t$$)return 1;for(var $tMin$$=0,$tMax$$=1,$value$jscomp$93$$=0,$i$1_i$jscomp$11$$=0;8>$i$1_i$jscomp$11$$;$i$1_i$jscomp$11$$++){$value$jscomp$93$$=this.getPointX($t$$);var $derivative$$=(this.getPointX($t$$+$epsilon$$)-$value$jscomp$93$$)/$epsilon$$;if(Math.abs($value$jscomp$93$$-$xVal$jscomp$1$$)<$epsilon$$)return $t$$;if(Math.abs($derivative$$)<
$epsilon$$)break;else $value$jscomp$93$$<$xVal$jscomp$1$$?$tMin$$=$t$$:$tMax$$=$t$$,$t$$-=($value$jscomp$93$$-$xVal$jscomp$1$$)/$derivative$$}for($i$1_i$jscomp$11$$=0;Math.abs($value$jscomp$93$$-$xVal$jscomp$1$$)>$epsilon$$&&8>$i$1_i$jscomp$11$$;$i$1_i$jscomp$11$$++)$value$jscomp$93$$<$xVal$jscomp$1$$?($tMin$$=$t$$,$t$$=($t$$+$tMax$$)/2):($tMax$$=$t$$,$t$$=($t$$+$tMin$$)/2),$value$jscomp$93$$=this.getPointX($t$$);return $t$$};
$JSCompiler_prototypeAlias$$.getPointX=function($t$jscomp$1$$){if(0==$t$jscomp$1$$)return this.x0;if(1==$t$jscomp$1$$)return this.x3;var $ix0$$=this.lerp(this.x0,this.x1,$t$jscomp$1$$),$ix1$$=this.lerp(this.x1,this.x2,$t$jscomp$1$$),$ix2$$=this.lerp(this.x2,this.x3,$t$jscomp$1$$);$ix0$$=this.lerp($ix0$$,$ix1$$,$t$jscomp$1$$);$ix1$$=this.lerp($ix1$$,$ix2$$,$t$jscomp$1$$);return this.lerp($ix0$$,$ix1$$,$t$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.getPointY=function($t$jscomp$2$$){if(0==$t$jscomp$2$$)return this.y0;if(1==$t$jscomp$2$$)return this.y3;var $iy0$$=this.lerp(this.y0,this.y1,$t$jscomp$2$$),$iy1$$=this.lerp(this.y1,this.y2,$t$jscomp$2$$),$iy2$$=this.lerp(this.y2,this.y3,$t$jscomp$2$$);$iy0$$=this.lerp($iy0$$,$iy1$$,$t$jscomp$2$$);$iy1$$=this.lerp($iy1$$,$iy2$$,$t$jscomp$2$$);return this.lerp($iy0$$,$iy1$$,$t$jscomp$2$$)};
$JSCompiler_prototypeAlias$$.lerp=function($a$jscomp$1$$,$b$jscomp$2$$,$x$jscomp$84$$){return $a$jscomp$1$$+$x$jscomp$84$$*($b$jscomp$2$$-$a$jscomp$1$$)};
var $Curves$$module$src$curve$EASE$$=$bezierCurve$$module$src$curve$$(.25,.1,.25,1),$Curves$$module$src$curve$EASE_IN$$=$bezierCurve$$module$src$curve$$(.42,0,1,1),$Curves$$module$src$curve$EASE_OUT$$=$bezierCurve$$module$src$curve$$(0,0,.58,1),$Curves$$module$src$curve$EASE_IN_OUT$$=$bezierCurve$$module$src$curve$$(.42,0,.58,1),$NAME_MAP$$module$src$curve$$={linear:function($n$jscomp$7$$){return $n$jscomp$7$$},ease:$Curves$$module$src$curve$EASE$$,"ease-in":$Curves$$module$src$curve$EASE_IN$$,"ease-out":$Curves$$module$src$curve$EASE_OUT$$,
"ease-in-out":$Curves$$module$src$curve$EASE_IN_OUT$$};
function $getCurve$$module$src$curve$$($curve$$){if(!$curve$$)return null;if("string"==typeof $curve$$){if(-1!=$curve$$.indexOf("cubic-bezier")){var $match$jscomp$3_values$jscomp$11$$=$curve$$.match(/cubic-bezier\((.+)\)/);if($match$jscomp$3_values$jscomp$11$$&&($match$jscomp$3_values$jscomp$11$$=$match$jscomp$3_values$jscomp$11$$[1].split(",").map(parseFloat),4==$match$jscomp$3_values$jscomp$11$$.length)){for(var $i$jscomp$12$$=0;4>$i$jscomp$12$$;$i$jscomp$12$$++)if(isNaN($match$jscomp$3_values$jscomp$11$$[$i$jscomp$12$$]))return null;return $bezierCurve$$module$src$curve$$($match$jscomp$3_values$jscomp$11$$[0],
$match$jscomp$3_values$jscomp$11$$[1],$match$jscomp$3_values$jscomp$11$$[2],$match$jscomp$3_values$jscomp$11$$[3])}return null}return $NAME_MAP$$module$src$curve$$[$curve$$]}return $curve$$};function $NOOP_CALLBACK$$module$src$animation$$(){}function $Animation$$module$src$animation$$($contextNode$jscomp$2$$){var $opt_vsync$$;this.$contextNode_$=$contextNode$jscomp$2$$;this.$vsync_$=$opt_vsync$$||$getService$$module$src$service$$(self,"vsync");this.$curve_$=null;this.$segments_$=[]}
function $Animation$$module$src$animation$animate$$($contextNode$jscomp$3$$,$transition$$,$duration$jscomp$1$$){var $opt_curve$$=$PAN_ZOOM_CURVE_$$module$extensions$amp_pan_zoom$0_1$amp_pan_zoom$$;return(new $Animation$$module$src$animation$$($contextNode$jscomp$3$$)).setCurve($opt_curve$$).add(0,$transition$$,1).start($duration$jscomp$1$$)}
$Animation$$module$src$animation$$.prototype.setCurve=function($curve$jscomp$1$$){$curve$jscomp$1$$&&(this.$curve_$=$getCurve$$module$src$curve$$($curve$jscomp$1$$));return this};$Animation$$module$src$animation$$.prototype.add=function($delay$$,$transition$jscomp$1$$,$duration$jscomp$2$$,$opt_curve$jscomp$1$$){this.$segments_$.push({delay:$delay$$,func:$transition$jscomp$1$$,duration:$duration$jscomp$2$$,curve:$getCurve$$module$src$curve$$($opt_curve$jscomp$1$$)});return this};
$Animation$$module$src$animation$$.prototype.start=function($duration$jscomp$3$$){var $player$$=new $AnimationPlayer$$module$src$animation$$(this.$vsync_$,this.$contextNode_$,this.$segments_$,this.$curve_$,$duration$jscomp$3$$);return $player$$};
function $AnimationPlayer$$module$src$animation$$($vsync$$,$contextNode$jscomp$4_i$jscomp$13$$,$segments$$,$defaultCurve$$,$deferred$jscomp$2_duration$jscomp$4$$){this.$vsync_$=$vsync$$;this.$contextNode_$=$contextNode$jscomp$4_i$jscomp$13$$;this.$segments_$=[];for($contextNode$jscomp$4_i$jscomp$13$$=0;$contextNode$jscomp$4_i$jscomp$13$$<$segments$$.length;$contextNode$jscomp$4_i$jscomp$13$$++){var $segment$$=$segments$$[$contextNode$jscomp$4_i$jscomp$13$$];this.$segments_$.push({delay:$segment$$.delay,
func:$segment$$.func,duration:$segment$$.duration,curve:$segment$$.curve||$defaultCurve$$,started:!1,completed:!1})}this.$duration_$=$deferred$jscomp$2_duration$jscomp$4$$;this.$startTime_$=Date.now();this.$running_$=!0;this.$state_$={};$deferred$jscomp$2_duration$jscomp$4$$=new $Deferred$$module$src$utils$promise$$;this.$promise_$=$deferred$jscomp$2_duration$jscomp$4$$.promise;this.$resolve_$=$deferred$jscomp$2_duration$jscomp$4$$.resolve;this.$reject_$=$deferred$jscomp$2_duration$jscomp$4$$.reject;
this.$task_$=this.$vsync_$.createAnimTask(this.$contextNode_$,{mutate:this.$stepMutate_$.bind(this)});this.$vsync_$.canAnimate(this.$contextNode_$)?this.$task_$(this.$state_$):($dev$$module$src$log$$().warn("Animation","cannot animate"),$JSCompiler_StaticMethods_complete_$$(this,!1,0))}
$AnimationPlayer$$module$src$animation$$.prototype.then=function($opt_resolve$jscomp$1$$,$opt_reject$jscomp$1$$){return $opt_resolve$jscomp$1$$||$opt_reject$jscomp$1$$?this.$promise_$.then($opt_resolve$jscomp$1$$,$opt_reject$jscomp$1$$):this.$promise_$};
$AnimationPlayer$$module$src$animation$$.prototype.thenAlways=function($callback$jscomp$66_opt_callback$jscomp$5$$){$callback$jscomp$66_opt_callback$jscomp$5$$=$callback$jscomp$66_opt_callback$jscomp$5$$||$NOOP_CALLBACK$$module$src$animation$$;return this.then($callback$jscomp$66_opt_callback$jscomp$5$$,$callback$jscomp$66_opt_callback$jscomp$5$$)};$AnimationPlayer$$module$src$animation$$.prototype.halt=function($opt_dir$$){$JSCompiler_StaticMethods_complete_$$(this,!1,$opt_dir$$||0)};
function $JSCompiler_StaticMethods_complete_$$($JSCompiler_StaticMethods_complete_$self$$,$success$$,$dir$jscomp$1_i$jscomp$14$$){if($JSCompiler_StaticMethods_complete_$self$$.$running_$){$JSCompiler_StaticMethods_complete_$self$$.$running_$=!1;if(0!=$dir$jscomp$1_i$jscomp$14$$){1<$JSCompiler_StaticMethods_complete_$self$$.$segments_$.length&&$JSCompiler_StaticMethods_complete_$self$$.$segments_$.sort(function($JSCompiler_StaticMethods_complete_$self$$,$success$$){return $JSCompiler_StaticMethods_complete_$self$$.delay+
$JSCompiler_StaticMethods_complete_$self$$.duration-($success$$.delay+$success$$.duration)});try{if(0<$dir$jscomp$1_i$jscomp$14$$)for($dir$jscomp$1_i$jscomp$14$$=0;$dir$jscomp$1_i$jscomp$14$$<$JSCompiler_StaticMethods_complete_$self$$.$segments_$.length;$dir$jscomp$1_i$jscomp$14$$++)$JSCompiler_StaticMethods_complete_$self$$.$segments_$[$dir$jscomp$1_i$jscomp$14$$].func(1,!0);else for(var $i$2$$=$JSCompiler_StaticMethods_complete_$self$$.$segments_$.length-1;0<=$i$2$$;$i$2$$--)$JSCompiler_StaticMethods_complete_$self$$.$segments_$[$i$2$$].func(0,
!1)}catch($e$jscomp$16$$){$dev$$module$src$log$$().error("Animation","completion failed: "+$e$jscomp$16$$,$e$jscomp$16$$),$success$$=!1}}$success$$?$JSCompiler_StaticMethods_complete_$self$$.$resolve_$():$JSCompiler_StaticMethods_complete_$self$$.$reject_$()}}
$AnimationPlayer$$module$src$animation$$.prototype.$stepMutate_$=function(){if(this.$running_$){for(var $currentTime$$=Date.now(),$normLinearTime$$=Math.min(($currentTime$$-this.$startTime_$)/this.$duration_$,1),$i$3_i$jscomp$15$$=0;$i$3_i$jscomp$15$$<this.$segments_$.length;$i$3_i$jscomp$15$$++){var $segment$4_segment$jscomp$1$$=this.$segments_$[$i$3_i$jscomp$15$$];!$segment$4_segment$jscomp$1$$.started&&$normLinearTime$$>=$segment$4_segment$jscomp$1$$.delay&&($segment$4_segment$jscomp$1$$.started=
!0)}for($i$3_i$jscomp$15$$=0;$i$3_i$jscomp$15$$<this.$segments_$.length;$i$3_i$jscomp$15$$++)if($segment$4_segment$jscomp$1$$=this.$segments_$[$i$3_i$jscomp$15$$],$segment$4_segment$jscomp$1$$.started&&!$segment$4_segment$jscomp$1$$.completed)a:{var $JSCompiler_normLinearTime$jscomp$inline_51$$;if(0<$segment$4_segment$jscomp$1$$.duration){var $JSCompiler_normTime$jscomp$inline_52$$=$JSCompiler_normLinearTime$jscomp$inline_51$$=Math.min(($normLinearTime$$-$segment$4_segment$jscomp$1$$.delay)/$segment$4_segment$jscomp$1$$.duration,
1);if($segment$4_segment$jscomp$1$$.curve&&1!=$JSCompiler_normTime$jscomp$inline_52$$)try{$JSCompiler_normTime$jscomp$inline_52$$=$segment$4_segment$jscomp$1$$.curve($JSCompiler_normLinearTime$jscomp$inline_51$$)}catch($JSCompiler_e$jscomp$inline_53$$){$dev$$module$src$log$$().error("Animation","step curve failed: "+$JSCompiler_e$jscomp$inline_53$$,$JSCompiler_e$jscomp$inline_53$$);$JSCompiler_StaticMethods_complete_$$(this,!1,0);break a}}else $JSCompiler_normTime$jscomp$inline_52$$=$JSCompiler_normLinearTime$jscomp$inline_51$$=
1;1==$JSCompiler_normLinearTime$jscomp$inline_51$$&&($segment$4_segment$jscomp$1$$.completed=!0);try{$segment$4_segment$jscomp$1$$.func($JSCompiler_normTime$jscomp$inline_52$$,$segment$4_segment$jscomp$1$$.completed)}catch($e$5$jscomp$inline_54$$){$dev$$module$src$log$$().error("Animation","step mutate failed: "+$e$5$jscomp$inline_54$$,$e$5$jscomp$inline_54$$),$JSCompiler_StaticMethods_complete_$$(this,!1,0)}}1==$normLinearTime$$?$JSCompiler_StaticMethods_complete_$$(this,!0,0):this.$vsync_$.canAnimate(this.$contextNode_$)?
this.$task_$(this.$state_$):($dev$$module$src$log$$().warn("Animation","cancel animation"),$JSCompiler_StaticMethods_complete_$$(this,!1,0))}};function $Observable$$module$src$observable$$(){this.$handlers_$=null}$JSCompiler_prototypeAlias$$=$Observable$$module$src$observable$$.prototype;$JSCompiler_prototypeAlias$$.add=function($handler$jscomp$4$$){var $$jscomp$this$jscomp$1$$=this;this.$handlers_$||(this.$handlers_$=[]);this.$handlers_$.push($handler$jscomp$4$$);return function(){$$jscomp$this$jscomp$1$$.remove($handler$jscomp$4$$)}};
$JSCompiler_prototypeAlias$$.remove=function($handler$jscomp$5_index$jscomp$69$$){this.$handlers_$&&($handler$jscomp$5_index$jscomp$69$$=this.$handlers_$.indexOf($handler$jscomp$5_index$jscomp$69$$),-1<$handler$jscomp$5_index$jscomp$69$$&&this.$handlers_$.splice($handler$jscomp$5_index$jscomp$69$$,1))};$JSCompiler_prototypeAlias$$.removeAll=function(){this.$handlers_$&&(this.$handlers_$.length=0)};
$JSCompiler_prototypeAlias$$.fire=function($opt_event$$){if(this.$handlers_$)for(var $handlers$$=this.$handlers_$,$i$jscomp$16$$=0;$i$jscomp$16$$<$handlers$$.length;$i$jscomp$16$$++)(0,$handlers$$[$i$jscomp$16$$])($opt_event$$)};$JSCompiler_prototypeAlias$$.getHandlerCount=function(){return this.$handlers_$?this.$handlers_$.length:0};function $Pass$$module$src$pass$$($win$jscomp$42$$,$handler$jscomp$7$$){var $opt_defaultDelay$$,$$jscomp$this$jscomp$2$$=this;this.$timer_$=$getService$$module$src$service$$($win$jscomp$42$$,"timer");this.$handler_$=$handler$jscomp$7$$;this.$defaultDelay_$=$opt_defaultDelay$$||0;this.$scheduled_$=-1;this.$nextTime_$=0;this.$running_$=!1;this.$boundPass_$=function(){return $$jscomp$this$jscomp$2$$.$pass_$()}}$Pass$$module$src$pass$$.prototype.isPending=function(){return-1!=this.$scheduled_$};
$Pass$$module$src$pass$$.prototype.schedule=function($delay$jscomp$1_opt_delay$jscomp$2$$){$delay$jscomp$1_opt_delay$jscomp$2$$=$delay$jscomp$1_opt_delay$jscomp$2$$||this.$defaultDelay_$;this.$running_$&&10>$delay$jscomp$1_opt_delay$jscomp$2$$&&($delay$jscomp$1_opt_delay$jscomp$2$$=10);var $nextTime$$=Date.now()+$delay$jscomp$1_opt_delay$jscomp$2$$;return!this.isPending()||-10>$nextTime$$-this.$nextTime_$?(this.cancel(),this.$nextTime_$=$nextTime$$,this.$scheduled_$=this.$timer_$.delay(this.$boundPass_$,
$delay$jscomp$1_opt_delay$jscomp$2$$),!0):!1};$Pass$$module$src$pass$$.prototype.$pass_$=function(){this.$scheduled_$=-1;this.$nextTime_$=0;this.$running_$=!0;this.$handler_$();this.$running_$=!1};$Pass$$module$src$pass$$.prototype.cancel=function(){this.isPending()&&(this.$timer_$.cancel(this.$scheduled_$),this.$scheduled_$=-1)};function $findIndex$$module$src$utils$array$$($array$jscomp$8$$,$predicate$jscomp$1$$){for(var $i$jscomp$19$$=0;$i$jscomp$19$$<$array$jscomp$8$$.length;$i$jscomp$19$$++)if($predicate$jscomp$1$$($array$jscomp$8$$[$i$jscomp$19$$],$i$jscomp$19$$,$array$jscomp$8$$))return $i$jscomp$19$$;return-1};function $Gesture$$module$src$gesture$$($type$jscomp$134$$,$data$jscomp$57$$,$event$jscomp$5$$){var $time$jscomp$1$$=Date.now();this.type=$type$jscomp$134$$;this.data=$data$jscomp$57$$;this.time=$time$jscomp$1$$;this.event=$event$jscomp$5$$}
function $Gestures$$module$src$gesture$$($element$jscomp$55$$,$shouldNotPreventDefault$$){this.$element_$=$element$jscomp$55$$;this.$recognizers_$=[];this.$tracking_$=[];this.$ready_$=[];this.$pending_$=[];this.$eventing_$=null;this.$shouldNotPreventDefault_$=$shouldNotPreventDefault$$;this.$wasEventing_$=!1;this.$pass_$=new $Pass$$module$src$pass$$($element$jscomp$55$$.ownerDocument.defaultView,this.$doPass_$.bind(this));this.$pointerDownObservable_$=new $Observable$$module$src$observable$$;this.$overservers_$=
Object.create(null);this.$boundOnTouchStart_$=this.$onTouchStart_$.bind(this);this.$boundOnTouchEnd_$=this.$onTouchEnd_$.bind(this);this.$boundOnTouchMove_$=this.$onTouchMove_$.bind(this);this.$boundOnTouchCancel_$=this.$onTouchCancel_$.bind(this);this.$element_$.addEventListener("touchstart",this.$boundOnTouchStart_$);this.$element_$.addEventListener("touchend",this.$boundOnTouchEnd_$);this.$element_$.addEventListener("touchmove",this.$boundOnTouchMove_$);this.$element_$.addEventListener("touchcancel",
this.$boundOnTouchCancel_$);this.$passAfterEvent_$=!1}function $Gestures$$module$src$gesture$get$$($element$jscomp$56$$){var $opt_shouldNotPreventDefault$$=void 0===$opt_shouldNotPreventDefault$$?!1:$opt_shouldNotPreventDefault$$;var $res$jscomp$2$$=$element$jscomp$56$$.__AMP_Gestures;$res$jscomp$2$$||($res$jscomp$2$$=new $Gestures$$module$src$gesture$$($element$jscomp$56$$,$opt_shouldNotPreventDefault$$),$element$jscomp$56$$.__AMP_Gestures=$res$jscomp$2$$);return $res$jscomp$2$$}
$JSCompiler_prototypeAlias$$=$Gestures$$module$src$gesture$$.prototype;$JSCompiler_prototypeAlias$$.cleanup=function(){this.$element_$.removeEventListener("touchstart",this.$boundOnTouchStart_$);this.$element_$.removeEventListener("touchend",this.$boundOnTouchEnd_$);this.$element_$.removeEventListener("touchmove",this.$boundOnTouchMove_$);this.$element_$.removeEventListener("touchcancel",this.$boundOnTouchCancel_$);delete this.$element_$.__AMP_Gestures;this.$pass_$.cancel()};
$JSCompiler_prototypeAlias$$.onGesture=function($recognizerConstr$$,$handler$jscomp$8$$){var $recognizer$$=new $recognizerConstr$$(this),$type$jscomp$135$$=$recognizer$$.getType(),$overserver$$=this.$overservers_$[$type$jscomp$135$$];$overserver$$||(this.$recognizers_$.push($recognizer$$),$overserver$$=new $Observable$$module$src$observable$$,this.$overservers_$[$type$jscomp$135$$]=$overserver$$);return $overserver$$.add($handler$jscomp$8$$)};
$JSCompiler_prototypeAlias$$.removeGesture=function($index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$){var $type$jscomp$136$$=(new $index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$(this)).getType();if($index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$=this.$overservers_$[$type$jscomp$136$$]){$index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$.removeAll();$index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$=$findIndex$$module$src$utils$array$$(this.$recognizers_$,
function($index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$){return $index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$.getType()==$type$jscomp$136$$});if(0>$index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$)return!1;this.$recognizers_$.splice($index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$,1);this.$ready_$.splice($index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$,1);this.$pending_$.splice($index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$,
1);this.$tracking_$.splice($index$jscomp$71_overserver$jscomp$1_recognizerConstr$jscomp$1$$,1);delete this.$overservers_$[$type$jscomp$136$$];return!0}return!1};$JSCompiler_prototypeAlias$$.onPointerDown=function($handler$jscomp$9$$){return this.$pointerDownObservable_$.add($handler$jscomp$9$$)};
$JSCompiler_prototypeAlias$$.$onTouchStart_$=function($event$jscomp$6$$){var $now$$=Date.now();this.$wasEventing_$=!1;this.$pointerDownObservable_$.fire($event$jscomp$6$$);for(var $i$jscomp$20$$=0;$i$jscomp$20$$<this.$recognizers_$.length;$i$jscomp$20$$++)if(!this.$ready_$[$i$jscomp$20$$]&&(this.$pending_$[$i$jscomp$20$$]&&this.$pending_$[$i$jscomp$20$$]<$now$$&&$JSCompiler_StaticMethods_stopTracking_$$(this,$i$jscomp$20$$),this.$recognizers_$[$i$jscomp$20$$].onTouchStart($event$jscomp$6$$))){var $JSCompiler_index$jscomp$inline_57$$=
$i$jscomp$20$$;this.$tracking_$[$JSCompiler_index$jscomp$inline_57$$]=!0;this.$pending_$[$JSCompiler_index$jscomp$inline_57$$]=0}$JSCompiler_StaticMethods_afterEvent_$$(this,$event$jscomp$6$$)};
$JSCompiler_prototypeAlias$$.$onTouchMove_$=function($event$jscomp$7$$){for(var $now$jscomp$1$$=Date.now(),$i$jscomp$21$$=0;$i$jscomp$21$$<this.$recognizers_$.length;$i$jscomp$21$$++)this.$tracking_$[$i$jscomp$21$$]&&(this.$pending_$[$i$jscomp$21$$]&&this.$pending_$[$i$jscomp$21$$]<$now$jscomp$1$$?$JSCompiler_StaticMethods_stopTracking_$$(this,$i$jscomp$21$$):this.$recognizers_$[$i$jscomp$21$$].onTouchMove($event$jscomp$7$$)||$JSCompiler_StaticMethods_stopTracking_$$(this,$i$jscomp$21$$));$JSCompiler_StaticMethods_afterEvent_$$(this,
$event$jscomp$7$$)};
$JSCompiler_prototypeAlias$$.$onTouchEnd_$=function($event$jscomp$8$$){for(var $now$jscomp$2$$=Date.now(),$i$jscomp$22$$=0;$i$jscomp$22$$<this.$recognizers_$.length;$i$jscomp$22$$++)if(this.$tracking_$[$i$jscomp$22$$])if(this.$pending_$[$i$jscomp$22$$]&&this.$pending_$[$i$jscomp$22$$]<$now$jscomp$2$$)$JSCompiler_StaticMethods_stopTracking_$$(this,$i$jscomp$22$$);else{this.$recognizers_$[$i$jscomp$22$$].onTouchEnd($event$jscomp$8$$);var $isReady$$=!this.$pending_$[$i$jscomp$22$$],$isExpired$$=this.$pending_$[$i$jscomp$22$$]<
$now$jscomp$2$$,$isEventing$$=this.$eventing_$==this.$recognizers_$[$i$jscomp$22$$];$isEventing$$||!$isReady$$&&!$isExpired$$||$JSCompiler_StaticMethods_stopTracking_$$(this,$i$jscomp$22$$)}$JSCompiler_StaticMethods_afterEvent_$$(this,$event$jscomp$8$$)};
$JSCompiler_prototypeAlias$$.$onTouchCancel_$=function($event$jscomp$9$$){for(var $i$jscomp$23$$=0;$i$jscomp$23$$<this.$recognizers_$.length;$i$jscomp$23$$++){var $JSCompiler_index$jscomp$inline_177$$=$i$jscomp$23$$;this.$ready_$[$JSCompiler_index$jscomp$inline_177$$]=0;$JSCompiler_StaticMethods_stopTracking_$$(this,$JSCompiler_index$jscomp$inline_177$$)}$JSCompiler_StaticMethods_afterEvent_$$(this,$event$jscomp$9$$)};
function $JSCompiler_StaticMethods_afterEvent_$$($JSCompiler_StaticMethods_afterEvent_$self$$,$event$jscomp$11$$){var $cancelEvent$$=!!$JSCompiler_StaticMethods_afterEvent_$self$$.$eventing_$||$JSCompiler_StaticMethods_afterEvent_$self$$.$wasEventing_$;$JSCompiler_StaticMethods_afterEvent_$self$$.$wasEventing_$=!1;if(!$cancelEvent$$)for(var $now$jscomp$5$$=Date.now(),$i$jscomp$26$$=0;$i$jscomp$26$$<$JSCompiler_StaticMethods_afterEvent_$self$$.$recognizers_$.length;$i$jscomp$26$$++)if($JSCompiler_StaticMethods_afterEvent_$self$$.$ready_$[$i$jscomp$26$$]||
$JSCompiler_StaticMethods_afterEvent_$self$$.$pending_$[$i$jscomp$26$$]&&$JSCompiler_StaticMethods_afterEvent_$self$$.$pending_$[$i$jscomp$26$$]>=$now$jscomp$5$$){$cancelEvent$$=!0;break}$cancelEvent$$&&($event$jscomp$11$$.stopPropagation(),$JSCompiler_StaticMethods_afterEvent_$self$$.$shouldNotPreventDefault_$||$event$jscomp$11$$.preventDefault());$JSCompiler_StaticMethods_afterEvent_$self$$.$passAfterEvent_$&&($JSCompiler_StaticMethods_afterEvent_$self$$.$passAfterEvent_$=!1,$JSCompiler_StaticMethods_afterEvent_$self$$.$doPass_$())}
$JSCompiler_prototypeAlias$$.$doPass_$=function(){for(var $JSCompiler_index$jscomp$inline_60_now$jscomp$6$$=Date.now(),$readyIndex$$=-1,$JSCompiler_recognizer$jscomp$inline_61_i$6_i$jscomp$27$$=0;$JSCompiler_recognizer$jscomp$inline_61_i$6_i$jscomp$27$$<this.$recognizers_$.length;$JSCompiler_recognizer$jscomp$inline_61_i$6_i$jscomp$27$$++)if(!this.$ready_$[$JSCompiler_recognizer$jscomp$inline_61_i$6_i$jscomp$27$$])this.$pending_$[$JSCompiler_recognizer$jscomp$inline_61_i$6_i$jscomp$27$$]&&this.$pending_$[$JSCompiler_recognizer$jscomp$inline_61_i$6_i$jscomp$27$$]<
$JSCompiler_index$jscomp$inline_60_now$jscomp$6$$&&$JSCompiler_StaticMethods_stopTracking_$$(this,$JSCompiler_recognizer$jscomp$inline_61_i$6_i$jscomp$27$$);else if(-1==$readyIndex$$||this.$ready_$[$JSCompiler_recognizer$jscomp$inline_61_i$6_i$jscomp$27$$]>this.$ready_$[$readyIndex$$])$readyIndex$$=$JSCompiler_recognizer$jscomp$inline_61_i$6_i$jscomp$27$$;if(-1!=$readyIndex$$){var $waitTime$$=0;for($JSCompiler_recognizer$jscomp$inline_61_i$6_i$jscomp$27$$=0;$JSCompiler_recognizer$jscomp$inline_61_i$6_i$jscomp$27$$<
this.$recognizers_$.length;$JSCompiler_recognizer$jscomp$inline_61_i$6_i$jscomp$27$$++)!this.$ready_$[$JSCompiler_recognizer$jscomp$inline_61_i$6_i$jscomp$27$$]&&this.$tracking_$[$JSCompiler_recognizer$jscomp$inline_61_i$6_i$jscomp$27$$]&&($waitTime$$=Math.max($waitTime$$,this.$pending_$[$JSCompiler_recognizer$jscomp$inline_61_i$6_i$jscomp$27$$]-$JSCompiler_index$jscomp$inline_60_now$jscomp$6$$));if(2>$waitTime$$){$JSCompiler_index$jscomp$inline_60_now$jscomp$6$$=$readyIndex$$;$JSCompiler_recognizer$jscomp$inline_61_i$6_i$jscomp$27$$=
this.$recognizers_$[$JSCompiler_index$jscomp$inline_60_now$jscomp$6$$];for(var $JSCompiler_i$jscomp$inline_62$$=0;$JSCompiler_i$jscomp$inline_62$$<this.$recognizers_$.length;$JSCompiler_i$jscomp$inline_62$$++)if($JSCompiler_i$jscomp$inline_62$$!=$JSCompiler_index$jscomp$inline_60_now$jscomp$6$$){var $JSCompiler_index$jscomp$inline_180$$=$JSCompiler_i$jscomp$inline_62$$;this.$ready_$[$JSCompiler_index$jscomp$inline_180$$]=0;$JSCompiler_StaticMethods_stopTracking_$$(this,$JSCompiler_index$jscomp$inline_180$$)}this.$ready_$[$JSCompiler_index$jscomp$inline_60_now$jscomp$6$$]=
0;this.$pending_$[$JSCompiler_index$jscomp$inline_60_now$jscomp$6$$]=0;this.$eventing_$=$JSCompiler_recognizer$jscomp$inline_61_i$6_i$jscomp$27$$;$JSCompiler_recognizer$jscomp$inline_61_i$6_i$jscomp$27$$.acceptStart()}else this.$pass_$.schedule($waitTime$$)}};
function $JSCompiler_StaticMethods_stopTracking_$$($JSCompiler_StaticMethods_stopTracking_$self$$,$index$jscomp$74$$){$JSCompiler_StaticMethods_stopTracking_$self$$.$tracking_$[$index$jscomp$74$$]=!1;$JSCompiler_StaticMethods_stopTracking_$self$$.$pending_$[$index$jscomp$74$$]=0;$JSCompiler_StaticMethods_stopTracking_$self$$.$ready_$[$index$jscomp$74$$]||$JSCompiler_StaticMethods_stopTracking_$self$$.$recognizers_$[$index$jscomp$74$$].acceptCancel()}
function $GestureRecognizer$$module$src$gesture$$($type$jscomp$137$$,$manager$$){this.$type_$=$type$jscomp$137$$;this.$manager_$=$manager$$}$JSCompiler_prototypeAlias$$=$GestureRecognizer$$module$src$gesture$$.prototype;$JSCompiler_prototypeAlias$$.getType=function(){return this.$type_$};
$JSCompiler_prototypeAlias$$.signalReady=function($offset$jscomp$20$$){var $JSCompiler_StaticMethods_signalReady_$self$jscomp$inline_64$$=this.$manager_$;if($JSCompiler_StaticMethods_signalReady_$self$jscomp$inline_64$$.$eventing_$)this.acceptCancel();else{for(var $JSCompiler_now$jscomp$inline_67$$=Date.now(),$JSCompiler_i$jscomp$inline_68$$=0;$JSCompiler_i$jscomp$inline_68$$<$JSCompiler_StaticMethods_signalReady_$self$jscomp$inline_64$$.$recognizers_$.length;$JSCompiler_i$jscomp$inline_68$$++)$JSCompiler_StaticMethods_signalReady_$self$jscomp$inline_64$$.$recognizers_$[$JSCompiler_i$jscomp$inline_68$$]==
this&&($JSCompiler_StaticMethods_signalReady_$self$jscomp$inline_64$$.$ready_$[$JSCompiler_i$jscomp$inline_68$$]=$JSCompiler_now$jscomp$inline_67$$+$offset$jscomp$20$$,$JSCompiler_StaticMethods_signalReady_$self$jscomp$inline_64$$.$pending_$[$JSCompiler_i$jscomp$inline_68$$]=0);$JSCompiler_StaticMethods_signalReady_$self$jscomp$inline_64$$.$passAfterEvent_$=!0}};
$JSCompiler_prototypeAlias$$.signalPending=function($timeLeft$jscomp$1$$){var $JSCompiler_StaticMethods_signalPending_$self$jscomp$inline_70$$=this.$manager_$;if($JSCompiler_StaticMethods_signalPending_$self$jscomp$inline_70$$.$eventing_$)this.acceptCancel();else for(var $JSCompiler_now$jscomp$inline_73$$=Date.now(),$JSCompiler_i$jscomp$inline_74$$=0;$JSCompiler_i$jscomp$inline_74$$<$JSCompiler_StaticMethods_signalPending_$self$jscomp$inline_70$$.$recognizers_$.length;$JSCompiler_i$jscomp$inline_74$$++)$JSCompiler_StaticMethods_signalPending_$self$jscomp$inline_70$$.$recognizers_$[$JSCompiler_i$jscomp$inline_74$$]==
this&&($JSCompiler_StaticMethods_signalPending_$self$jscomp$inline_70$$.$pending_$[$JSCompiler_i$jscomp$inline_74$$]=$JSCompiler_now$jscomp$inline_73$$+$timeLeft$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.signalEnd=function(){var $JSCompiler_StaticMethods_signalEnd_$self$jscomp$inline_76$$=this.$manager_$;$JSCompiler_StaticMethods_signalEnd_$self$jscomp$inline_76$$.$eventing_$==this&&($JSCompiler_StaticMethods_signalEnd_$self$jscomp$inline_76$$.$eventing_$=null,$JSCompiler_StaticMethods_signalEnd_$self$jscomp$inline_76$$.$wasEventing_$=!0)};
$JSCompiler_prototypeAlias$$.signalEmit=function($data$jscomp$59$$,$event$jscomp$12$$){var $JSCompiler_overserver$jscomp$inline_83$$=this.$manager_$.$overservers_$[this.getType()];$JSCompiler_overserver$jscomp$inline_83$$&&$JSCompiler_overserver$jscomp$inline_83$$.fire(new $Gesture$$module$src$gesture$$(this.getType(),$data$jscomp$59$$,$event$jscomp$12$$))};$JSCompiler_prototypeAlias$$.acceptStart=function(){};$JSCompiler_prototypeAlias$$.acceptCancel=function(){};
$JSCompiler_prototypeAlias$$.onTouchStart=function(){return!1};$JSCompiler_prototypeAlias$$.onTouchMove=function(){return!1};$JSCompiler_prototypeAlias$$.onTouchEnd=function(){};function $NOOP_CALLBACK_$$module$src$motion$$(){}var $EXP_FRAME_CONST_$$module$src$motion$$=Math.round(-16.67/Math.log(.95));function $calcVelocity$$module$src$motion$$($deltaV$$,$deltaTime$$,$prevVelocity$$){1>$deltaTime$$&&($deltaTime$$=1);var $speed$$=$deltaV$$/$deltaTime$$,$depr$$=.5+Math.min($deltaTime$$/33.34,.5);return $speed$$*$depr$$+$prevVelocity$$*(1-$depr$$)}
function $continueMotion$$module$src$motion$$($contextNode$jscomp$5$$,$startX$$,$startY$$,$veloX$$,$veloY$$,$callback$jscomp$67$$){return(new $Motion$$module$src$motion$$($contextNode$jscomp$5$$,$startX$$,$startY$$,$veloX$$,$veloY$$,$callback$jscomp$67$$)).start()}
function $Motion$$module$src$motion$$($contextNode$jscomp$6_deferred$jscomp$3$$,$startX$jscomp$1$$,$startY$jscomp$1$$,$veloX$jscomp$1$$,$veloY$jscomp$1$$,$callback$jscomp$68$$){this.$vsync_$=$getService$$module$src$service$$(self,"vsync");this.$contextNode_$=$contextNode$jscomp$6_deferred$jscomp$3$$;this.$callback_$=$callback$jscomp$68$$;this.$lastX_$=$startX$jscomp$1$$;this.$lastY_$=$startY$jscomp$1$$;this.$maxVelocityX_$=$veloX$jscomp$1$$;this.$maxVelocityY_$=$veloY$jscomp$1$$;this.$velocityY_$=
this.$velocityX_$=0;$contextNode$jscomp$6_deferred$jscomp$3$$=new $Deferred$$module$src$utils$promise$$;this.$promise_$=$contextNode$jscomp$6_deferred$jscomp$3$$.promise;this.$resolve_$=$contextNode$jscomp$6_deferred$jscomp$3$$.resolve;this.$reject_$=$contextNode$jscomp$6_deferred$jscomp$3$$.reject;this.$continuing_$=!1}$JSCompiler_prototypeAlias$$=$Motion$$module$src$motion$$.prototype;
$JSCompiler_prototypeAlias$$.start=function(){this.$continuing_$=!0;if(.02>=Math.abs(this.$maxVelocityX_$)&&.02>=Math.abs(this.$maxVelocityY_$))this.$callback_$(this.$lastX_$,this.$lastY_$),this.$completeContinue_$(!0);else{this.$velocityX_$=this.$maxVelocityX_$;this.$velocityY_$=this.$maxVelocityY_$;var $JSCompiler_boundStep$jscomp$inline_86$$=this.$stepContinue_$.bind(this),$JSCompiler_boundComplete$jscomp$inline_87$$=this.$completeContinue_$.bind(this,!0);this.$vsync_$.runAnimMutateSeries(this.$contextNode_$,
$JSCompiler_boundStep$jscomp$inline_86$$,5E3).then($JSCompiler_boundComplete$jscomp$inline_87$$,$JSCompiler_boundComplete$jscomp$inline_87$$)}return this};$JSCompiler_prototypeAlias$$.halt=function(){this.$continuing_$&&this.$completeContinue_$(!1)};$JSCompiler_prototypeAlias$$.then=function($opt_resolve$jscomp$2$$,$opt_reject$jscomp$2$$){return $opt_resolve$jscomp$2$$||$opt_reject$jscomp$2$$?this.$promise_$.then($opt_resolve$jscomp$2$$,$opt_reject$jscomp$2$$):this.$promise_$};
$JSCompiler_prototypeAlias$$.thenAlways=function($callback$jscomp$69_opt_callback$jscomp$6$$){$callback$jscomp$69_opt_callback$jscomp$6$$=$callback$jscomp$69_opt_callback$jscomp$6$$||$NOOP_CALLBACK_$$module$src$motion$$;return this.then($callback$jscomp$69_opt_callback$jscomp$6$$,$callback$jscomp$69_opt_callback$jscomp$6$$)};
$JSCompiler_prototypeAlias$$.$stepContinue_$=function($timeSinceStart$$,$timeSincePrev$$){if(!this.$continuing_$)return!1;this.$lastX_$+=$timeSincePrev$$*this.$velocityX_$;this.$lastY_$+=$timeSincePrev$$*this.$velocityY_$;if(!this.$callback_$(this.$lastX_$,this.$lastY_$))return!1;var $decel$$=Math.exp(-$timeSinceStart$$/$EXP_FRAME_CONST_$$module$src$motion$$);this.$velocityX_$=this.$maxVelocityX_$*$decel$$;this.$velocityY_$=this.$maxVelocityY_$*$decel$$;return.02<Math.abs(this.$velocityX_$)||.02<
Math.abs(this.$velocityY_$)};$JSCompiler_prototypeAlias$$.$completeContinue_$=function($success$jscomp$1$$){this.$continuing_$&&(this.$continuing_$=!1,this.$callback_$(this.$lastX_$,this.$lastY_$),$success$jscomp$1$$?this.$resolve_$():this.$reject_$())};function $TapRecognizer$$module$src$gesture_recognizers$$($manager$jscomp$1$$){$GestureRecognizer$$module$src$gesture$$.call(this,"tap",$manager$jscomp$1$$);this.$lastY_$=this.$lastX_$=this.$startY_$=this.$startX_$=0;this.$target_$=null}$$jscomp$inherits$$($TapRecognizer$$module$src$gesture_recognizers$$,$GestureRecognizer$$module$src$gesture$$);
$TapRecognizer$$module$src$gesture_recognizers$$.prototype.onTouchStart=function($e$jscomp$20$$){var $touches$jscomp$2$$=$e$jscomp$20$$.touches;this.$target_$=$e$jscomp$20$$.target;return $touches$jscomp$2$$&&1==$touches$jscomp$2$$.length?(this.$startX_$=$touches$jscomp$2$$[0].clientX,this.$startY_$=$touches$jscomp$2$$[0].clientY,!0):!1};
$TapRecognizer$$module$src$gesture_recognizers$$.prototype.onTouchMove=function($dy$jscomp$4_e$jscomp$21_touches$jscomp$3$$){return($dy$jscomp$4_e$jscomp$21_touches$jscomp$3$$=$dy$jscomp$4_e$jscomp$21_touches$jscomp$3$$.changedTouches||$dy$jscomp$4_e$jscomp$21_touches$jscomp$3$$.touches)&&1==$dy$jscomp$4_e$jscomp$21_touches$jscomp$3$$.length&&(this.$lastX_$=$dy$jscomp$4_e$jscomp$21_touches$jscomp$3$$[0].clientX,this.$lastY_$=$dy$jscomp$4_e$jscomp$21_touches$jscomp$3$$[0].clientY,$dy$jscomp$4_e$jscomp$21_touches$jscomp$3$$=
8<=Math.abs(this.$lastY_$-this.$startY_$),8<=Math.abs(this.$lastX_$-this.$startX_$)||$dy$jscomp$4_e$jscomp$21_touches$jscomp$3$$)?!1:!0};$TapRecognizer$$module$src$gesture_recognizers$$.prototype.onTouchEnd=function(){this.signalReady(0)};$TapRecognizer$$module$src$gesture_recognizers$$.prototype.acceptStart=function(){this.signalEmit({clientX:this.$lastX_$,clientY:this.$lastY_$,target:this.$target_$},null);this.signalEnd()};
function $DoubletapRecognizer$$module$src$gesture_recognizers$$($manager$jscomp$2$$){$GestureRecognizer$$module$src$gesture$$.call(this,"doubletap",$manager$jscomp$2$$);this.$tapCount_$=this.$lastY_$=this.$lastX_$=this.$startY_$=this.$startX_$=0;this.$event_$=null}$$jscomp$inherits$$($DoubletapRecognizer$$module$src$gesture_recognizers$$,$GestureRecognizer$$module$src$gesture$$);$JSCompiler_prototypeAlias$$=$DoubletapRecognizer$$module$src$gesture_recognizers$$.prototype;
$JSCompiler_prototypeAlias$$.onTouchStart=function($e$jscomp$22_touches$jscomp$4$$){return 1<this.$tapCount_$?!1:($e$jscomp$22_touches$jscomp$4$$=$e$jscomp$22_touches$jscomp$4$$.touches)&&1==$e$jscomp$22_touches$jscomp$4$$.length?(this.$startX_$=$e$jscomp$22_touches$jscomp$4$$[0].clientX,this.$startY_$=$e$jscomp$22_touches$jscomp$4$$[0].clientY,this.$lastX_$=$e$jscomp$22_touches$jscomp$4$$[0].clientX,this.$lastY_$=$e$jscomp$22_touches$jscomp$4$$[0].clientY,!0):!1};
$JSCompiler_prototypeAlias$$.onTouchMove=function($dy$jscomp$5_e$jscomp$23_touches$jscomp$5$$){return($dy$jscomp$5_e$jscomp$23_touches$jscomp$5$$=$dy$jscomp$5_e$jscomp$23_touches$jscomp$5$$.touches)&&1==$dy$jscomp$5_e$jscomp$23_touches$jscomp$5$$.length?(this.$lastX_$=$dy$jscomp$5_e$jscomp$23_touches$jscomp$5$$[0].clientX,this.$lastY_$=$dy$jscomp$5_e$jscomp$23_touches$jscomp$5$$[0].clientY,$dy$jscomp$5_e$jscomp$23_touches$jscomp$5$$=8<=Math.abs(this.$lastY_$-this.$startY_$),8<=Math.abs(this.$lastX_$-
this.$startX_$)||$dy$jscomp$5_e$jscomp$23_touches$jscomp$5$$?(this.acceptCancel(),!1):!0):!1};$JSCompiler_prototypeAlias$$.onTouchEnd=function($e$jscomp$24$$){this.$tapCount_$++;2>this.$tapCount_$?this.signalPending(200):(this.$event_$=$e$jscomp$24$$,this.signalReady(0))};$JSCompiler_prototypeAlias$$.acceptStart=function(){this.$tapCount_$=0;this.signalEmit({clientX:this.$lastX_$,clientY:this.$lastY_$},this.$event_$);this.signalEnd()};
$JSCompiler_prototypeAlias$$.acceptCancel=function(){this.$tapCount_$=0};
function $SwipeRecognizer$$module$src$gesture_recognizers$$($type$jscomp$138$$,$manager$jscomp$3$$,$horiz$$,$vert$$){$GestureRecognizer$$module$src$gesture$$.call(this,$type$jscomp$138$$,$manager$jscomp$3$$);this.$horiz_$=$horiz$$;this.$vert_$=$vert$$;this.$eventing_$=!1;this.$velocityY_$=this.$velocityX_$=this.$prevTime_$=this.$lastTime_$=this.$startTime_$=this.$prevY_$=this.$prevX_$=this.$lastY_$=this.$lastX_$=this.$startY_$=this.$startX_$=0}
$$jscomp$inherits$$($SwipeRecognizer$$module$src$gesture_recognizers$$,$GestureRecognizer$$module$src$gesture$$);$JSCompiler_prototypeAlias$$=$SwipeRecognizer$$module$src$gesture_recognizers$$.prototype;
$JSCompiler_prototypeAlias$$.onTouchStart=function($e$jscomp$25_touches$jscomp$6$$){$e$jscomp$25_touches$jscomp$6$$=$e$jscomp$25_touches$jscomp$6$$.touches;return this.$eventing_$&&$e$jscomp$25_touches$jscomp$6$$&&1<$e$jscomp$25_touches$jscomp$6$$.length?!0:$e$jscomp$25_touches$jscomp$6$$&&1==$e$jscomp$25_touches$jscomp$6$$.length?(this.$startTime_$=Date.now(),this.$startX_$=$e$jscomp$25_touches$jscomp$6$$[0].clientX,this.$startY_$=$e$jscomp$25_touches$jscomp$6$$[0].clientY,!0):!1};
$JSCompiler_prototypeAlias$$.onTouchMove=function($dx$jscomp$6_e$jscomp$26$$){var $dy$jscomp$6_touches$jscomp$7_x$jscomp$85$$=$dx$jscomp$6_e$jscomp$26$$.touches;if($dy$jscomp$6_touches$jscomp$7_x$jscomp$85$$&&1<=$dy$jscomp$6_touches$jscomp$7_x$jscomp$85$$.length){var $$jscomp$destructuring$var15_y$jscomp$69$$=$dy$jscomp$6_touches$jscomp$7_x$jscomp$85$$[0];$dy$jscomp$6_touches$jscomp$7_x$jscomp$85$$=$$jscomp$destructuring$var15_y$jscomp$69$$.clientX;$$jscomp$destructuring$var15_y$jscomp$69$$=$$jscomp$destructuring$var15_y$jscomp$69$$.clientY;
this.$lastX_$=$dy$jscomp$6_touches$jscomp$7_x$jscomp$85$$;this.$lastY_$=$$jscomp$destructuring$var15_y$jscomp$69$$;if(this.$eventing_$)this.$emit_$(!1,!1,$dx$jscomp$6_e$jscomp$26$$);else if($dx$jscomp$6_e$jscomp$26$$=Math.abs($dy$jscomp$6_touches$jscomp$7_x$jscomp$85$$-this.$startX_$),$dy$jscomp$6_touches$jscomp$7_x$jscomp$85$$=Math.abs($$jscomp$destructuring$var15_y$jscomp$69$$-this.$startY_$),this.$horiz_$&&this.$vert_$)(8<=$dx$jscomp$6_e$jscomp$26$$||8<=$dy$jscomp$6_touches$jscomp$7_x$jscomp$85$$)&&
this.signalReady(-10);else if(this.$horiz_$)if(8<=$dx$jscomp$6_e$jscomp$26$$&&$dx$jscomp$6_e$jscomp$26$$>$dy$jscomp$6_touches$jscomp$7_x$jscomp$85$$)this.signalReady(-10);else{if(8<=$dy$jscomp$6_touches$jscomp$7_x$jscomp$85$$)return!1}else if(this.$vert_$)if(8<=$dy$jscomp$6_touches$jscomp$7_x$jscomp$85$$&&$dy$jscomp$6_touches$jscomp$7_x$jscomp$85$$>$dx$jscomp$6_e$jscomp$26$$)this.signalReady(-10);else{if(8<=$dx$jscomp$6_e$jscomp$26$$)return!1}else return!1;return!0}return!1};
$JSCompiler_prototypeAlias$$.onTouchEnd=function($e$jscomp$27$$){var $touches$jscomp$8$$=$e$jscomp$27$$.touches;$touches$jscomp$8$$&&0==$touches$jscomp$8$$.length&&this.$end_$($e$jscomp$27$$)};$JSCompiler_prototypeAlias$$.acceptStart=function(){this.$eventing_$=!0;this.$prevX_$=this.$startX_$;this.$prevY_$=this.$startY_$;this.$prevTime_$=this.$startTime_$;this.$startX_$=this.$lastX_$;this.$startY_$=this.$lastY_$;this.$emit_$(!0,!1,null)};
$JSCompiler_prototypeAlias$$.acceptCancel=function(){this.$eventing_$=!1};
$JSCompiler_prototypeAlias$$.$emit_$=function($first$jscomp$6$$,$last$$,$event$jscomp$13$$){this.$lastTime_$=Date.now();var $deltaTime$jscomp$1$$=this.$lastTime_$-this.$prevTime_$;if(!$last$$&&4<$deltaTime$jscomp$1$$||$last$$&&16<$deltaTime$jscomp$1$$){var $velocityX$$=$calcVelocity$$module$src$motion$$(this.$lastX_$-this.$prevX_$,$deltaTime$jscomp$1$$,this.$velocityX_$),$velocityY$$=$calcVelocity$$module$src$motion$$(this.$lastY_$-this.$prevY_$,$deltaTime$jscomp$1$$,this.$velocityY_$);if(!$last$$||
32<$deltaTime$jscomp$1$$||0!=$velocityX$$||0!=$velocityY$$)this.$velocityX_$=1E-4<Math.abs($velocityX$$)?$velocityX$$:0,this.$velocityY_$=1E-4<Math.abs($velocityY$$)?$velocityY$$:0;this.$prevX_$=this.$lastX_$;this.$prevY_$=this.$lastY_$;this.$prevTime_$=this.$lastTime_$}this.signalEmit({first:$first$jscomp$6$$,last:$last$$,time:this.$lastTime_$,deltaX:this.$lastX_$-this.$startX_$,deltaY:this.$lastY_$-this.$startY_$,startX:this.$startX_$,startY:this.$startY_$,lastX:this.$lastX_$,lastY:this.$lastY_$,
velocityX:this.$velocityX_$,velocityY:this.$velocityY_$},$event$jscomp$13$$)};$JSCompiler_prototypeAlias$$.$end_$=function($event$jscomp$14$$){this.$eventing_$&&(this.$eventing_$=!1,this.$emit_$(!1,!0,$event$jscomp$14$$),this.signalEnd())};function $SwipeXYRecognizer$$module$src$gesture_recognizers$$($manager$jscomp$4$$){$SwipeRecognizer$$module$src$gesture_recognizers$$.call(this,"swipe-xy",$manager$jscomp$4$$,!0,!0)}$$jscomp$inherits$$($SwipeXYRecognizer$$module$src$gesture_recognizers$$,$SwipeRecognizer$$module$src$gesture_recognizers$$);
function $PinchRecognizer$$module$src$gesture_recognizers$$($manager$jscomp$8$$){$GestureRecognizer$$module$src$gesture$$.call(this,"pinch",$manager$jscomp$8$$);this.$eventing_$=!1;this.$velocityY_$=this.$velocityX_$=this.$prevTime_$=this.$lastTime_$=this.$startTime_$=this.$centerClientY_$=this.$centerClientX_$=this.$prevDeltaY_$=this.$prevDeltaX_$=this.$lastY2_$=this.$lastX2_$=this.$lastY1_$=this.$lastX1_$=this.$startY2_$=this.$startX2_$=this.$startY1_$=this.$startX1_$=0}
$$jscomp$inherits$$($PinchRecognizer$$module$src$gesture_recognizers$$,$GestureRecognizer$$module$src$gesture$$);$JSCompiler_prototypeAlias$$=$PinchRecognizer$$module$src$gesture_recognizers$$.prototype;
$JSCompiler_prototypeAlias$$.onTouchStart=function($e$jscomp$31_touches$jscomp$11$$){$e$jscomp$31_touches$jscomp$11$$=$e$jscomp$31_touches$jscomp$11$$.touches;return $e$jscomp$31_touches$jscomp$11$$?1==$e$jscomp$31_touches$jscomp$11$$.length||this.$eventing_$&&2<$e$jscomp$31_touches$jscomp$11$$.length?!0:2==$e$jscomp$31_touches$jscomp$11$$.length?(this.$startTime_$=Date.now(),this.$startX1_$=$e$jscomp$31_touches$jscomp$11$$[0].clientX,this.$startY1_$=$e$jscomp$31_touches$jscomp$11$$[0].clientY,this.$startX2_$=
$e$jscomp$31_touches$jscomp$11$$[1].clientX,this.$startY2_$=$e$jscomp$31_touches$jscomp$11$$[1].clientY,!0):!1:!1};
$JSCompiler_prototypeAlias$$.onTouchMove=function($JSCompiler_dx1$jscomp$inline_90_JSCompiler_dx1$jscomp$inline_99_e$jscomp$32$$){var $JSCompiler_dy1$jscomp$inline_100_JSCompiler_dy1$jscomp$inline_91_touches$jscomp$12$$=$JSCompiler_dx1$jscomp$inline_90_JSCompiler_dx1$jscomp$inline_99_e$jscomp$32$$.touches;if(!$JSCompiler_dy1$jscomp$inline_100_JSCompiler_dy1$jscomp$inline_91_touches$jscomp$12$$||0==$JSCompiler_dy1$jscomp$inline_100_JSCompiler_dy1$jscomp$inline_91_touches$jscomp$12$$.length)return!1;
if(1==$JSCompiler_dy1$jscomp$inline_100_JSCompiler_dy1$jscomp$inline_91_touches$jscomp$12$$.length)return!0;this.$lastX1_$=$JSCompiler_dy1$jscomp$inline_100_JSCompiler_dy1$jscomp$inline_91_touches$jscomp$12$$[0].clientX;this.$lastY1_$=$JSCompiler_dy1$jscomp$inline_100_JSCompiler_dy1$jscomp$inline_91_touches$jscomp$12$$[0].clientY;this.$lastX2_$=$JSCompiler_dy1$jscomp$inline_100_JSCompiler_dy1$jscomp$inline_91_touches$jscomp$12$$[1].clientX;this.$lastY2_$=$JSCompiler_dy1$jscomp$inline_100_JSCompiler_dy1$jscomp$inline_91_touches$jscomp$12$$[1].clientY;
if(this.$eventing_$)return this.$emit_$(!1,!1,$JSCompiler_dx1$jscomp$inline_90_JSCompiler_dx1$jscomp$inline_99_e$jscomp$32$$),!0;$JSCompiler_dx1$jscomp$inline_90_JSCompiler_dx1$jscomp$inline_99_e$jscomp$32$$=this.$lastX1_$-this.$startX1_$;$JSCompiler_dy1$jscomp$inline_100_JSCompiler_dy1$jscomp$inline_91_touches$jscomp$12$$=this.$lastY1_$-this.$startY1_$;var $JSCompiler_dx2$jscomp$inline_101_JSCompiler_dx2$jscomp$inline_92$$=this.$lastX2_$-this.$startX2_$,$JSCompiler_dy2$jscomp$inline_102_JSCompiler_dy2$jscomp$inline_93$$=
this.$lastY2_$-this.$startY2_$,$JSCompiler_xPinchRecognized$jscomp$inline_104_JSCompiler_xPinchRejected$jscomp$inline_95$$=10<=Math.abs($JSCompiler_dx1$jscomp$inline_90_JSCompiler_dx1$jscomp$inline_99_e$jscomp$32$$+$JSCompiler_dx2$jscomp$inline_101_JSCompiler_dx2$jscomp$inline_92$$),$JSCompiler_yPinchRecognized$jscomp$inline_105_JSCompiler_yPinchRejected$jscomp$inline_96$$=10<=Math.abs($JSCompiler_dy1$jscomp$inline_100_JSCompiler_dy1$jscomp$inline_91_touches$jscomp$12$$+$JSCompiler_dy2$jscomp$inline_102_JSCompiler_dy2$jscomp$inline_93$$);
if((0<$JSCompiler_dx1$jscomp$inline_90_JSCompiler_dx1$jscomp$inline_99_e$jscomp$32$$*$JSCompiler_dx2$jscomp$inline_101_JSCompiler_dx2$jscomp$inline_92$$||0<$JSCompiler_dy1$jscomp$inline_100_JSCompiler_dy1$jscomp$inline_91_touches$jscomp$12$$*$JSCompiler_dy2$jscomp$inline_102_JSCompiler_dy2$jscomp$inline_93$$)&&($JSCompiler_xPinchRecognized$jscomp$inline_104_JSCompiler_xPinchRejected$jscomp$inline_95$$||$JSCompiler_yPinchRecognized$jscomp$inline_105_JSCompiler_yPinchRejected$jscomp$inline_96$$))return!1;
$JSCompiler_dx1$jscomp$inline_90_JSCompiler_dx1$jscomp$inline_99_e$jscomp$32$$=this.$lastX1_$-this.$startX1_$;$JSCompiler_dy1$jscomp$inline_100_JSCompiler_dy1$jscomp$inline_91_touches$jscomp$12$$=this.$lastY1_$-this.$startY1_$;$JSCompiler_dx2$jscomp$inline_101_JSCompiler_dx2$jscomp$inline_92$$=this.$lastX2_$-this.$startX2_$;$JSCompiler_dy2$jscomp$inline_102_JSCompiler_dy2$jscomp$inline_93$$=this.$lastY2_$-this.$startY2_$;$JSCompiler_xPinchRecognized$jscomp$inline_104_JSCompiler_xPinchRejected$jscomp$inline_95$$=
4<=Math.abs($JSCompiler_dx1$jscomp$inline_90_JSCompiler_dx1$jscomp$inline_99_e$jscomp$32$$-$JSCompiler_dx2$jscomp$inline_101_JSCompiler_dx2$jscomp$inline_92$$);$JSCompiler_yPinchRecognized$jscomp$inline_105_JSCompiler_yPinchRejected$jscomp$inline_96$$=4<=Math.abs($JSCompiler_dy1$jscomp$inline_100_JSCompiler_dy1$jscomp$inline_91_touches$jscomp$12$$-$JSCompiler_dy2$jscomp$inline_102_JSCompiler_dy2$jscomp$inline_93$$);0>=$JSCompiler_dx1$jscomp$inline_90_JSCompiler_dx1$jscomp$inline_99_e$jscomp$32$$*
$JSCompiler_dx2$jscomp$inline_101_JSCompiler_dx2$jscomp$inline_92$$&&0>=$JSCompiler_dy1$jscomp$inline_100_JSCompiler_dy1$jscomp$inline_91_touches$jscomp$12$$*$JSCompiler_dy2$jscomp$inline_102_JSCompiler_dy2$jscomp$inline_93$$&&($JSCompiler_xPinchRecognized$jscomp$inline_104_JSCompiler_xPinchRejected$jscomp$inline_95$$||$JSCompiler_yPinchRecognized$jscomp$inline_105_JSCompiler_yPinchRejected$jscomp$inline_96$$)&&this.signalReady(0);return!0};
$JSCompiler_prototypeAlias$$.onTouchEnd=function($e$jscomp$33$$){var $touches$jscomp$13$$=$e$jscomp$33$$.touches;$touches$jscomp$13$$&&2>$touches$jscomp$13$$.length&&this.$end_$($e$jscomp$33$$)};$JSCompiler_prototypeAlias$$.acceptStart=function(){this.$eventing_$=!0;this.$prevTime_$=this.$startTime_$;this.$prevDeltaY_$=this.$prevDeltaX_$=0;this.$centerClientX_$=.5*(this.$startX1_$+this.$startX2_$);this.$centerClientY_$=.5*(this.$startY1_$+this.$startY2_$);this.$emit_$(!0,!1,null)};
$JSCompiler_prototypeAlias$$.acceptCancel=function(){this.$eventing_$=!1};
$JSCompiler_prototypeAlias$$.$emit_$=function($first$jscomp$8$$,$last$jscomp$2$$,$event$jscomp$17$$){this.$lastTime_$=Date.now();var $JSCompiler_x1$jscomp$inline_108_JSCompiler_x1$jscomp$inline_114_deltaTime$jscomp$2$$=this.$lastTime_$-this.$prevTime_$,$deltaX$$=Math.abs(this.$lastX1_$-this.$startX1_$-(this.$lastX2_$-this.$startX2_$)),$deltaY$$=Math.abs(this.$lastY1_$-this.$startY1_$-(this.$lastY2_$-this.$startY2_$));if(!$last$jscomp$2$$&&4<$JSCompiler_x1$jscomp$inline_108_JSCompiler_x1$jscomp$inline_114_deltaTime$jscomp$2$$||
$last$jscomp$2$$&&16<$JSCompiler_x1$jscomp$inline_108_JSCompiler_x1$jscomp$inline_114_deltaTime$jscomp$2$$)this.$velocityX_$=$calcVelocity$$module$src$motion$$($deltaX$$-this.$prevDeltaX_$,$JSCompiler_x1$jscomp$inline_108_JSCompiler_x1$jscomp$inline_114_deltaTime$jscomp$2$$,this.$velocityX_$),this.$velocityY_$=$calcVelocity$$module$src$motion$$($deltaY$$-this.$prevDeltaY_$,$JSCompiler_x1$jscomp$inline_108_JSCompiler_x1$jscomp$inline_114_deltaTime$jscomp$2$$,this.$velocityY_$),this.$velocityX_$=1E-4<
Math.abs(this.$velocityX_$)?this.$velocityX_$:0,this.$velocityY_$=1E-4<Math.abs(this.$velocityY_$)?this.$velocityY_$:0,this.$prevDeltaX_$=$deltaX$$,this.$prevDeltaY_$=$deltaY$$,this.$prevTime_$=this.$lastTime_$;$JSCompiler_x1$jscomp$inline_108_JSCompiler_x1$jscomp$inline_114_deltaTime$jscomp$2$$=this.$startX1_$;var $JSCompiler_x2$jscomp$inline_109_JSCompiler_x2$jscomp$inline_115$$=this.$startX2_$,$JSCompiler_y1$jscomp$inline_110_JSCompiler_y1$jscomp$inline_116$$=this.$startY1_$,$JSCompiler_y2$jscomp$inline_111_JSCompiler_y2$jscomp$inline_117$$=
this.$startY2_$,$startSq$$=($JSCompiler_x1$jscomp$inline_108_JSCompiler_x1$jscomp$inline_114_deltaTime$jscomp$2$$-$JSCompiler_x2$jscomp$inline_109_JSCompiler_x2$jscomp$inline_115$$)*($JSCompiler_x1$jscomp$inline_108_JSCompiler_x1$jscomp$inline_114_deltaTime$jscomp$2$$-$JSCompiler_x2$jscomp$inline_109_JSCompiler_x2$jscomp$inline_115$$)+($JSCompiler_y1$jscomp$inline_110_JSCompiler_y1$jscomp$inline_116$$-$JSCompiler_y2$jscomp$inline_111_JSCompiler_y2$jscomp$inline_117$$)*($JSCompiler_y1$jscomp$inline_110_JSCompiler_y1$jscomp$inline_116$$-
$JSCompiler_y2$jscomp$inline_111_JSCompiler_y2$jscomp$inline_117$$);$JSCompiler_x1$jscomp$inline_108_JSCompiler_x1$jscomp$inline_114_deltaTime$jscomp$2$$=this.$lastX1_$;$JSCompiler_x2$jscomp$inline_109_JSCompiler_x2$jscomp$inline_115$$=this.$lastX2_$;$JSCompiler_y1$jscomp$inline_110_JSCompiler_y1$jscomp$inline_116$$=this.$lastY1_$;$JSCompiler_y2$jscomp$inline_111_JSCompiler_y2$jscomp$inline_117$$=this.$lastY2_$;var $lastSq$$=($JSCompiler_x1$jscomp$inline_108_JSCompiler_x1$jscomp$inline_114_deltaTime$jscomp$2$$-
$JSCompiler_x2$jscomp$inline_109_JSCompiler_x2$jscomp$inline_115$$)*($JSCompiler_x1$jscomp$inline_108_JSCompiler_x1$jscomp$inline_114_deltaTime$jscomp$2$$-$JSCompiler_x2$jscomp$inline_109_JSCompiler_x2$jscomp$inline_115$$)+($JSCompiler_y1$jscomp$inline_110_JSCompiler_y1$jscomp$inline_116$$-$JSCompiler_y2$jscomp$inline_111_JSCompiler_y2$jscomp$inline_117$$)*($JSCompiler_y1$jscomp$inline_110_JSCompiler_y1$jscomp$inline_116$$-$JSCompiler_y2$jscomp$inline_111_JSCompiler_y2$jscomp$inline_117$$);this.signalEmit({first:$first$jscomp$8$$,
last:$last$jscomp$2$$,time:this.$lastTime_$,centerClientX:this.$centerClientX_$,centerClientY:this.$centerClientY_$,dir:Math.sign($lastSq$$-$startSq$$),deltaX:.5*$deltaX$$,deltaY:.5*$deltaY$$,velocityX:.5*this.$velocityX_$,velocityY:.5*this.$velocityY_$},$event$jscomp$17$$)};$JSCompiler_prototypeAlias$$.$end_$=function($event$jscomp$18$$){this.$eventing_$&&(this.$eventing_$=!1,this.$emit_$(!1,!0,$event$jscomp$18$$),this.signalEnd())};var $propertyNameCache$$module$src$style$$,$vendorPrefixes$$module$src$style$$="Webkit webkit Moz moz ms O o".split(" ");
function $setStyles$$module$src$style$$($element$jscomp$61$$,$styles$jscomp$1$$){for(var $k$jscomp$2$$ in $styles$jscomp$1$$){var $JSCompiler_element$jscomp$inline_119$$=$element$jscomp$61$$,$JSCompiler_value$jscomp$inline_121$$=$styles$jscomp$1$$[$k$jscomp$2$$];var $JSCompiler_propertyName$jscomp$inline_124_JSCompiler_style$jscomp$inline_182$$=$JSCompiler_element$jscomp$inline_119$$.style;var $JSCompiler_camelCase$jscomp$inline_183$$=$k$jscomp$2$$;if(2>$JSCompiler_camelCase$jscomp$inline_183$$.length?
0:0==$JSCompiler_camelCase$jscomp$inline_183$$.lastIndexOf("--",0))$JSCompiler_propertyName$jscomp$inline_124_JSCompiler_style$jscomp$inline_182$$=$JSCompiler_camelCase$jscomp$inline_183$$;else{$propertyNameCache$$module$src$style$$||($propertyNameCache$$module$src$style$$=Object.create(null));var $JSCompiler_propertyName$jscomp$inline_185$$=$propertyNameCache$$module$src$style$$[$JSCompiler_camelCase$jscomp$inline_183$$];if(!$JSCompiler_propertyName$jscomp$inline_185$$){$JSCompiler_propertyName$jscomp$inline_185$$=
$JSCompiler_camelCase$jscomp$inline_183$$;if(void 0===$JSCompiler_propertyName$jscomp$inline_124_JSCompiler_style$jscomp$inline_182$$[$JSCompiler_camelCase$jscomp$inline_183$$]){var $JSCompiler_prefixedPropertyName$jscomp$inline_187_JSCompiler_titleCase$jscomp$inline_186$$=$JSCompiler_camelCase$jscomp$inline_183$$.charAt(0).toUpperCase()+$JSCompiler_camelCase$jscomp$inline_183$$.slice(1);b:{for(var $JSCompiler_i$jscomp$inline_222$$=0;$JSCompiler_i$jscomp$inline_222$$<$vendorPrefixes$$module$src$style$$.length;$JSCompiler_i$jscomp$inline_222$$++){var $JSCompiler_propertyName$jscomp$inline_223$$=
$vendorPrefixes$$module$src$style$$[$JSCompiler_i$jscomp$inline_222$$]+$JSCompiler_prefixedPropertyName$jscomp$inline_187_JSCompiler_titleCase$jscomp$inline_186$$;if(void 0!==$JSCompiler_propertyName$jscomp$inline_124_JSCompiler_style$jscomp$inline_182$$[$JSCompiler_propertyName$jscomp$inline_223$$]){$JSCompiler_prefixedPropertyName$jscomp$inline_187_JSCompiler_titleCase$jscomp$inline_186$$=$JSCompiler_propertyName$jscomp$inline_223$$;break b}}$JSCompiler_prefixedPropertyName$jscomp$inline_187_JSCompiler_titleCase$jscomp$inline_186$$=
""}void 0!==$JSCompiler_propertyName$jscomp$inline_124_JSCompiler_style$jscomp$inline_182$$[$JSCompiler_prefixedPropertyName$jscomp$inline_187_JSCompiler_titleCase$jscomp$inline_186$$]&&($JSCompiler_propertyName$jscomp$inline_185$$=$JSCompiler_prefixedPropertyName$jscomp$inline_187_JSCompiler_titleCase$jscomp$inline_186$$)}$propertyNameCache$$module$src$style$$[$JSCompiler_camelCase$jscomp$inline_183$$]=$JSCompiler_propertyName$jscomp$inline_185$$}$JSCompiler_propertyName$jscomp$inline_124_JSCompiler_style$jscomp$inline_182$$=
$JSCompiler_propertyName$jscomp$inline_185$$}$JSCompiler_propertyName$jscomp$inline_124_JSCompiler_style$jscomp$inline_182$$&&($JSCompiler_element$jscomp$inline_119$$.style[$JSCompiler_propertyName$jscomp$inline_124_JSCompiler_style$jscomp$inline_182$$]=$JSCompiler_value$jscomp$inline_121$$)}};var $optsSupported$$module$src$event_helper_listen$$;
function $internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$67$$,$eventType$jscomp$3$$,$listener$jscomp$62$$){var $opt_evtListenerOpts$$=void 0,$localElement$$=$element$jscomp$67$$,$localListener$$=$listener$jscomp$62$$;var $wrapped$$=function($element$jscomp$67$$){try{return $localListener$$($element$jscomp$67$$)}catch($e$jscomp$34$$){throw self.reportError($e$jscomp$34$$),$e$jscomp$34$$;}};var $optsSupported$$=$detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(),$capture$$=
!1;$opt_evtListenerOpts$$&&($capture$$=$opt_evtListenerOpts$$.capture);$localElement$$.addEventListener($eventType$jscomp$3$$,$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$$);return function(){$localElement$$&&$localElement$$.removeEventListener($eventType$jscomp$3$$,$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$$);$wrapped$$=$localElement$$=$localListener$$=null}}
function $detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(){if(void 0!==$optsSupported$$module$src$event_helper_listen$$)return $optsSupported$$module$src$event_helper_listen$$;$optsSupported$$module$src$event_helper_listen$$=!1;try{var $options$jscomp$14$$={get capture(){$optsSupported$$module$src$event_helper_listen$$=!0}};self.addEventListener("test-options",null,$options$jscomp$14$$);self.removeEventListener("test-options",null,$options$jscomp$14$$)}catch($err$jscomp$3$$){}return $optsSupported$$module$src$event_helper_listen$$}
;function $createCustomEvent$$module$src$event_helper$$($e$jscomp$35_win$jscomp$44$$,$type$jscomp$139$$,$detail$jscomp$3$$,$opt_eventInit$jscomp$2$$){var $eventInit$$={detail:$detail$jscomp$3$$};Object.assign($eventInit$$,$opt_eventInit$jscomp$2$$);if("function"==typeof $e$jscomp$35_win$jscomp$44$$.CustomEvent)return new $e$jscomp$35_win$jscomp$44$$.CustomEvent($type$jscomp$139$$,$eventInit$$);$e$jscomp$35_win$jscomp$44$$=$e$jscomp$35_win$jscomp$44$$.document.createEvent("CustomEvent");$e$jscomp$35_win$jscomp$44$$.initCustomEvent($type$jscomp$139$$,
!!$eventInit$$.bubbles,!!$eventInit$$.cancelable,$detail$jscomp$3$$);return $e$jscomp$35_win$jscomp$44$$}function $listen$$module$src$event_helper$$($element$jscomp$68$$,$eventType$jscomp$4$$,$listener$jscomp$63$$){return $internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$68$$,$eventType$jscomp$4$$,$listener$jscomp$63$$)};function $layoutRectLtwh$$module$src$layout_rect$$($left$jscomp$2$$,$top$jscomp$2$$,$width$jscomp$28$$,$height$jscomp$27$$){return{left:$left$jscomp$2$$,top:$top$jscomp$2$$,width:$width$jscomp$28$$,height:$height$jscomp$27$$,bottom:$top$jscomp$2$$+$height$jscomp$27$$,right:$left$jscomp$2$$+$width$jscomp$28$$,x:$left$jscomp$2$$,y:$top$jscomp$2$$}};function $numeric$$module$src$transition$$($start$jscomp$11$$,$end$jscomp$5$$){return function($time$jscomp$6$$){return $start$jscomp$11$$+($end$jscomp$5$$-$start$jscomp$11$$)*$time$jscomp$6$$}};var $PAN_ZOOM_CURVE_$$module$extensions$amp_pan_zoom$0_1$amp_pan_zoom$$=$bezierCurve$$module$src$curve$$(.4,0,.2,1.4),$ELIGIBLE_TAGS$$module$extensions$amp_pan_zoom$0_1$amp_pan_zoom$$={svg:!0,DIV:!0,"AMP-IMG":!0,"AMP-LAYOUT":!0,"AMP-SELECTOR":!0};
function $AmpPanZoom$$module$extensions$amp_pan_zoom$0_1$amp_pan_zoom$$($$jscomp$super$this_element$jscomp$72$$){$$jscomp$super$this_element$jscomp$72$$=AMP.BaseElement.call(this,$$jscomp$super$this_element$jscomp$72$$)||this;$$jscomp$super$this_element$jscomp$72$$.$content_$=null;$$jscomp$super$this_element$jscomp$72$$.$action_$=null;$$jscomp$super$this_element$jscomp$72$$.$sourceWidth_$=0;$$jscomp$super$this_element$jscomp$72$$.$sourceHeight_$=0;$$jscomp$super$this_element$jscomp$72$$.$elementBox_$=
null;$$jscomp$super$this_element$jscomp$72$$.$contentBox_$=null;$$jscomp$super$this_element$jscomp$72$$.$unlistenOnSwipePan_$=null;$$jscomp$super$this_element$jscomp$72$$.$scale_$=1;$$jscomp$super$this_element$jscomp$72$$.$startScale_$=1;$$jscomp$super$this_element$jscomp$72$$.$minScale_$=1;$$jscomp$super$this_element$jscomp$72$$.$maxScale_$=3;$$jscomp$super$this_element$jscomp$72$$.$initialX_$=0;$$jscomp$super$this_element$jscomp$72$$.$initialY_$=0;$$jscomp$super$this_element$jscomp$72$$.$initialScale_$=
1;$$jscomp$super$this_element$jscomp$72$$.$startX_$=0;$$jscomp$super$this_element$jscomp$72$$.$startY_$=0;$$jscomp$super$this_element$jscomp$72$$.$posX_$=0;$$jscomp$super$this_element$jscomp$72$$.$posY_$=0;$$jscomp$super$this_element$jscomp$72$$.$minX_$=0;$$jscomp$super$this_element$jscomp$72$$.$minY_$=0;$$jscomp$super$this_element$jscomp$72$$.$maxX_$=0;$$jscomp$super$this_element$jscomp$72$$.$maxY_$=0;$$jscomp$super$this_element$jscomp$72$$.$gestures_$=null;$$jscomp$super$this_element$jscomp$72$$.$motion_$=
null;$$jscomp$super$this_element$jscomp$72$$.$resetOnResize_$=!1;$$jscomp$super$this_element$jscomp$72$$.$zoomButton_$=null;$$jscomp$super$this_element$jscomp$72$$.$disableDoubleTap_$=!1;$$jscomp$super$this_element$jscomp$72$$.$unlistenMouseDown_$=null;$$jscomp$super$this_element$jscomp$72$$.$unlistenMouseUp_$=null;$$jscomp$super$this_element$jscomp$72$$.$unlistenMouseMove_$=null;$$jscomp$super$this_element$jscomp$72$$.$mouseStartY_$=0;$$jscomp$super$this_element$jscomp$72$$.$mouseStartX_$=0;return $$jscomp$super$this_element$jscomp$72$$}
$$jscomp$inherits$$($AmpPanZoom$$module$extensions$amp_pan_zoom$0_1$amp_pan_zoom$$,AMP.BaseElement);$JSCompiler_prototypeAlias$$=$AmpPanZoom$$module$extensions$amp_pan_zoom$0_1$amp_pan_zoom$$.prototype;
$JSCompiler_prototypeAlias$$.buildCallback=function(){var $$jscomp$this$jscomp$3$$=this;this.$action_$=$getExistingServiceForDocInEmbedScope$$module$src$service$$(this.element);var $children$jscomp$127$$=this.getRealChildren();$userAssert$$module$src$log$$(1==$children$jscomp$127$$.length,"%s should have its target element as its one and only child","amp-pan-zoom");$userAssert$$module$src$log$$($ELIGIBLE_TAGS$$module$extensions$amp_pan_zoom$0_1$amp_pan_zoom$$[$children$jscomp$127$$[0].tagName],"%s is not supported by %s",
$children$jscomp$127$$[0].tagName,"amp-pan-zoom");this.element.classList.add("i-amphtml-pan-zoom");this.$content_$=$children$jscomp$127$$[0];this.$content_$.classList.add("i-amphtml-pan-zoom-child");this.$maxScale_$=$JSCompiler_StaticMethods_getNumberAttributeOr_$$(this,"max-scale",3);this.$initialScale_$=$JSCompiler_StaticMethods_getNumberAttributeOr_$$(this,"initial-scale",1);this.$initialX_$=$JSCompiler_StaticMethods_getNumberAttributeOr_$$(this,"initial-x",0);this.$initialY_$=$JSCompiler_StaticMethods_getNumberAttributeOr_$$(this,
"initial-y",0);this.$resetOnResize_$=this.element.hasAttribute("reset-on-resize");this.$disableDoubleTap_$=this.element.hasAttribute("disable-double-tap");this.registerAction("transform",function($children$jscomp$127$$){var $invocation$$=$children$jscomp$127$$.args;if($invocation$$)return $$jscomp$this$jscomp$3$$.transform($invocation$$.x||0,$invocation$$.y||0,$invocation$$.scale||1)})};
$JSCompiler_prototypeAlias$$.transform=function($x$jscomp$89$$,$y$jscomp$72$$,$scale$jscomp$3$$){var $$jscomp$this$jscomp$4$$=this;$JSCompiler_StaticMethods_updatePanZoomBounds_$$(this,$scale$jscomp$3$$);var $boundX$$=$JSCompiler_StaticMethods_boundX_$$(this,$x$jscomp$89$$,!1),$boundY$$=$JSCompiler_StaticMethods_boundY_$$(this,$y$jscomp$72$$,!1);return $JSCompiler_StaticMethods_set_$$(this,$scale$jscomp$3$$,$boundX$$,$boundY$$,!0).then(function(){return $JSCompiler_StaticMethods_onZoomRelease_$$($$jscomp$this$jscomp$4$$)})};
$JSCompiler_prototypeAlias$$.onMeasureChanged=function(){this.$resetOnResize_$&&$JSCompiler_StaticMethods_resetContentDimensions_$$(this)};$JSCompiler_prototypeAlias$$.layoutCallback=function(){$JSCompiler_StaticMethods_createZoomButton_$$(this);this.scheduleLayout(this.$content_$);return $JSCompiler_StaticMethods_resetContentDimensions_$$(this).then($JSCompiler_StaticMethods_setupEvents_$$(this))};$JSCompiler_prototypeAlias$$.pauseCallback=function(){$JSCompiler_StaticMethods_cleanupEvents_$$(this)};
$JSCompiler_prototypeAlias$$.resumeCallback=function(){this.$content_$&&this.scheduleLayout(this.$content_$);$JSCompiler_StaticMethods_setupEvents_$$(this)};$JSCompiler_prototypeAlias$$.unlayoutCallback=function(){$JSCompiler_StaticMethods_cleanupEvents_$$(this);return!0};$JSCompiler_prototypeAlias$$.isLayoutSupported=function($layout$jscomp$3$$){return"fixed"==$layout$jscomp$3$$||"fixed-height"==$layout$jscomp$3$$||"fill"==$layout$jscomp$3$$||"responsive"==$layout$jscomp$3$$};
function $JSCompiler_StaticMethods_createZoomButton_$$($JSCompiler_StaticMethods_createZoomButton_$self$$){$JSCompiler_StaticMethods_createZoomButton_$self$$.$zoomButton_$=$JSCompiler_StaticMethods_createZoomButton_$self$$.element.ownerDocument.createElement("div");$JSCompiler_StaticMethods_createZoomButton_$self$$.$zoomButton_$.classList.add("amp-pan-zoom-in-icon");$JSCompiler_StaticMethods_createZoomButton_$self$$.$zoomButton_$.classList.add("amp-pan-zoom-button");$JSCompiler_StaticMethods_createZoomButton_$self$$.$zoomButton_$.addEventListener("click",
function(){$JSCompiler_StaticMethods_createZoomButton_$self$$.$zoomButton_$.classList.contains("amp-pan-zoom-in-icon")?($JSCompiler_StaticMethods_createZoomButton_$self$$.transform(0,0,$JSCompiler_StaticMethods_createZoomButton_$self$$.$maxScale_$),$JSCompiler_StaticMethods_toggleZoomButtonOut_$$($JSCompiler_StaticMethods_createZoomButton_$self$$)):($JSCompiler_StaticMethods_createZoomButton_$self$$.transform(0,0,$JSCompiler_StaticMethods_createZoomButton_$self$$.$minScale_$),$JSCompiler_StaticMethods_toggleZoomButtonIn_$$($JSCompiler_StaticMethods_createZoomButton_$self$$))});
$JSCompiler_StaticMethods_createZoomButton_$self$$.element.appendChild($JSCompiler_StaticMethods_createZoomButton_$self$$.$zoomButton_$)}
function $JSCompiler_StaticMethods_getNumberAttributeOr_$$($JSCompiler_StaticMethods_getNumberAttributeOr_$self_element$jscomp$74$$,$attribute$$,$defaultValue$jscomp$2$$){$JSCompiler_StaticMethods_getNumberAttributeOr_$self_element$jscomp$74$$=$JSCompiler_StaticMethods_getNumberAttributeOr_$self_element$jscomp$74$$.element;return $JSCompiler_StaticMethods_getNumberAttributeOr_$self_element$jscomp$74$$.hasAttribute($attribute$$)?parseInt($JSCompiler_StaticMethods_getNumberAttributeOr_$self_element$jscomp$74$$.getAttribute($attribute$$),
10):$defaultValue$jscomp$2$$}
function $JSCompiler_StaticMethods_resetContentDimensions_$$($JSCompiler_StaticMethods_resetContentDimensions_$self$$){return $JSCompiler_StaticMethods_resetContentDimensions_$self$$.mutateElement(function(){$setStyles$$module$src$style$$($JSCompiler_StaticMethods_resetContentDimensions_$self$$.$content_$,{width:"",height:""})}).then(function(){return $JSCompiler_StaticMethods_resetContentDimensions_$self$$.measureMutateElement(function(){$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$sourceWidth_$=$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$content_$.scrollWidth;
$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$sourceHeight_$=$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$content_$.scrollHeight;var $JSCompiler_maxScale$jscomp$inline_200_JSCompiler_sourceAspectRatio$jscomp$inline_129$$=$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$sourceWidth_$/$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$sourceHeight_$;$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$elementBox_$=$JSCompiler_StaticMethods_resetContentDimensions_$self$$.getViewport().getLayoutRect($JSCompiler_StaticMethods_resetContentDimensions_$self$$.element);
var $JSCompiler_$jscomp$inline_198_JSCompiler_elementBoxRatio$jscomp$inline_199_JSCompiler_height$jscomp$inline_193$$=Math.min($JSCompiler_StaticMethods_resetContentDimensions_$self$$.$elementBox_$.width/$JSCompiler_maxScale$jscomp$inline_200_JSCompiler_sourceAspectRatio$jscomp$inline_129$$,$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$elementBox_$.height),$JSCompiler_width$jscomp$inline_194$$=Math.min($JSCompiler_StaticMethods_resetContentDimensions_$self$$.$elementBox_$.height*$JSCompiler_maxScale$jscomp$inline_200_JSCompiler_sourceAspectRatio$jscomp$inline_129$$,
$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$elementBox_$.width);16>=Math.abs($JSCompiler_width$jscomp$inline_194$$-$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$sourceWidth_$)&&16>=Math.abs($JSCompiler_$jscomp$inline_198_JSCompiler_elementBoxRatio$jscomp$inline_199_JSCompiler_height$jscomp$inline_193$$-$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$sourceHeight_$)&&($JSCompiler_width$jscomp$inline_194$$=$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$sourceWidth_$,
$JSCompiler_$jscomp$inline_198_JSCompiler_elementBoxRatio$jscomp$inline_199_JSCompiler_height$jscomp$inline_193$$=$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$sourceHeight_$);$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$contentBox_$=$layoutRectLtwh$$module$src$layout_rect$$(0,0,Math.round($JSCompiler_width$jscomp$inline_194$$),Math.round($JSCompiler_$jscomp$inline_198_JSCompiler_elementBoxRatio$jscomp$inline_199_JSCompiler_height$jscomp$inline_193$$));$JSCompiler_$jscomp$inline_198_JSCompiler_elementBoxRatio$jscomp$inline_199_JSCompiler_height$jscomp$inline_193$$=
$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$elementBox_$;$JSCompiler_$jscomp$inline_198_JSCompiler_elementBoxRatio$jscomp$inline_199_JSCompiler_height$jscomp$inline_193$$=$JSCompiler_$jscomp$inline_198_JSCompiler_elementBoxRatio$jscomp$inline_199_JSCompiler_height$jscomp$inline_193$$.width/$JSCompiler_$jscomp$inline_198_JSCompiler_elementBoxRatio$jscomp$inline_199_JSCompiler_height$jscomp$inline_193$$.height;$JSCompiler_maxScale$jscomp$inline_200_JSCompiler_sourceAspectRatio$jscomp$inline_129$$=
Math.max($JSCompiler_$jscomp$inline_198_JSCompiler_elementBoxRatio$jscomp$inline_199_JSCompiler_height$jscomp$inline_193$$/$JSCompiler_maxScale$jscomp$inline_200_JSCompiler_sourceAspectRatio$jscomp$inline_129$$,$JSCompiler_maxScale$jscomp$inline_200_JSCompiler_sourceAspectRatio$jscomp$inline_129$$/$JSCompiler_$jscomp$inline_198_JSCompiler_elementBoxRatio$jscomp$inline_199_JSCompiler_height$jscomp$inline_193$$);isNaN($JSCompiler_maxScale$jscomp$inline_200_JSCompiler_sourceAspectRatio$jscomp$inline_129$$)||
($JSCompiler_StaticMethods_resetContentDimensions_$self$$.$maxScale_$=Math.max($JSCompiler_StaticMethods_resetContentDimensions_$self$$.$maxScale_$,$JSCompiler_maxScale$jscomp$inline_200_JSCompiler_sourceAspectRatio$jscomp$inline_129$$));$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$startScale_$=$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$scale_$=$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$initialScale_$;$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$startX_$=
$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$posX_$=$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$initialX_$;$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$startY_$=$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$posY_$=$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$initialY_$},function(){$setStyles$$module$src$style$$($JSCompiler_StaticMethods_resetContentDimensions_$self$$.$content_$,{width:$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$contentBox_$.width+
"px",height:$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$contentBox_$.height+"px"})},$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$content_$)}).then(function(){var $JSCompiler_inline_result$jscomp$164_JSCompiler_rect$jscomp$inline_202$$=$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$content_$.getBoundingClientRect();$JSCompiler_inline_result$jscomp$164_JSCompiler_rect$jscomp$inline_202$$=$layoutRectLtwh$$module$src$layout_rect$$(Number($JSCompiler_inline_result$jscomp$164_JSCompiler_rect$jscomp$inline_202$$.left),
Number($JSCompiler_inline_result$jscomp$164_JSCompiler_rect$jscomp$inline_202$$.top),Number($JSCompiler_inline_result$jscomp$164_JSCompiler_rect$jscomp$inline_202$$.width),Number($JSCompiler_inline_result$jscomp$164_JSCompiler_rect$jscomp$inline_202$$.height));$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$contentBox_$.top=$JSCompiler_inline_result$jscomp$164_JSCompiler_rect$jscomp$inline_202$$.top-$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$elementBox_$.top;$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$contentBox_$.left=
$JSCompiler_inline_result$jscomp$164_JSCompiler_rect$jscomp$inline_202$$.left-$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$elementBox_$.left;$JSCompiler_StaticMethods_updatePanZoomBounds_$$($JSCompiler_StaticMethods_resetContentDimensions_$self$$,$JSCompiler_StaticMethods_resetContentDimensions_$self$$.$scale_$);return $JSCompiler_StaticMethods_updatePanZoom_$$($JSCompiler_StaticMethods_resetContentDimensions_$self$$)})}
function $JSCompiler_StaticMethods_setupEvents_$$($JSCompiler_StaticMethods_setupEvents_$self$$){$JSCompiler_StaticMethods_setupGestures_$$($JSCompiler_StaticMethods_setupEvents_$self$$);$JSCompiler_StaticMethods_setupEvents_$self$$.$unlistenMouseDown_$=$listen$$module$src$event_helper$$($JSCompiler_StaticMethods_setupEvents_$self$$.element,"mousedown",function($e$jscomp$36$$){return $JSCompiler_StaticMethods_onMouseDown_$$($JSCompiler_StaticMethods_setupEvents_$self$$,$e$jscomp$36$$)})}
function $JSCompiler_StaticMethods_unlisten_$$($handle$jscomp$11$$){$handle$jscomp$11$$&&$handle$jscomp$11$$()}
function $JSCompiler_StaticMethods_cleanupEvents_$$($JSCompiler_StaticMethods_cleanupEvents_$self$$){$JSCompiler_StaticMethods_cleanupEvents_$self$$.$gestures_$&&($JSCompiler_StaticMethods_cleanupEvents_$self$$.$gestures_$.cleanup(),$JSCompiler_StaticMethods_cleanupEvents_$self$$.$gestures_$=null);$JSCompiler_StaticMethods_unlisten_$$($JSCompiler_StaticMethods_cleanupEvents_$self$$.$unlistenMouseDown_$);$JSCompiler_StaticMethods_unlisten_$$($JSCompiler_StaticMethods_cleanupEvents_$self$$.$unlistenMouseMove_$);
$JSCompiler_StaticMethods_unlisten_$$($JSCompiler_StaticMethods_cleanupEvents_$self$$.$unlistenMouseUp_$)}
function $JSCompiler_StaticMethods_onMouseDown_$$($JSCompiler_StaticMethods_onMouseDown_$self$$,$clientY$jscomp$3_e$jscomp$37$$){if(2!=$clientY$jscomp$3_e$jscomp$37$$.button){$clientY$jscomp$3_e$jscomp$37$$.preventDefault();var $clientX$jscomp$3$$=$clientY$jscomp$3_e$jscomp$37$$.clientX;$clientY$jscomp$3_e$jscomp$37$$=$clientY$jscomp$3_e$jscomp$37$$.clientY;$JSCompiler_StaticMethods_unlisten_$$($JSCompiler_StaticMethods_onMouseDown_$self$$.$unlistenMouseMove_$);$JSCompiler_StaticMethods_unlisten_$$($JSCompiler_StaticMethods_onMouseDown_$self$$.$unlistenMouseUp_$);
$JSCompiler_StaticMethods_onMouseDown_$self$$.$mouseStartX_$=$clientX$jscomp$3$$;$JSCompiler_StaticMethods_onMouseDown_$self$$.$mouseStartY_$=$clientY$jscomp$3_e$jscomp$37$$;$JSCompiler_StaticMethods_onMouseDown_$self$$.$unlistenMouseMove_$=$listen$$module$src$event_helper$$($JSCompiler_StaticMethods_onMouseDown_$self$$.element,"mousemove",function($clientY$jscomp$3_e$jscomp$37$$){$clientY$jscomp$3_e$jscomp$37$$.preventDefault();$JSCompiler_StaticMethods_onMove_$$($JSCompiler_StaticMethods_onMouseDown_$self$$,
$clientY$jscomp$3_e$jscomp$37$$.clientX-$JSCompiler_StaticMethods_onMouseDown_$self$$.$mouseStartX_$,$clientY$jscomp$3_e$jscomp$37$$.clientY-$JSCompiler_StaticMethods_onMouseDown_$self$$.$mouseStartY_$)});$JSCompiler_StaticMethods_onMouseDown_$self$$.$unlistenMouseUp_$=$listen$$module$src$event_helper$$($JSCompiler_StaticMethods_onMouseDown_$self$$.win,"mouseup",function($clientY$jscomp$3_e$jscomp$37$$){$clientY$jscomp$3_e$jscomp$37$$.preventDefault();$JSCompiler_StaticMethods_release_$$($JSCompiler_StaticMethods_onMouseDown_$self$$);
$JSCompiler_StaticMethods_unlisten_$$($JSCompiler_StaticMethods_onMouseDown_$self$$.$unlistenMouseMove_$);$JSCompiler_StaticMethods_unlisten_$$($JSCompiler_StaticMethods_onMouseDown_$self$$.$unlistenMouseUp_$)})}}
function $JSCompiler_StaticMethods_setupGestures_$$($JSCompiler_StaticMethods_setupGestures_$self$$){$JSCompiler_StaticMethods_setupGestures_$self$$.$gestures_$||($JSCompiler_StaticMethods_setupGestures_$self$$.$gestures_$=$Gestures$$module$src$gesture$get$$($JSCompiler_StaticMethods_setupGestures_$self$$.element),$JSCompiler_StaticMethods_setupGestures_$self$$.$gestures_$.onPointerDown(function(){$JSCompiler_StaticMethods_setupGestures_$self$$.$motion_$&&$JSCompiler_StaticMethods_setupGestures_$self$$.$motion_$.halt()}),
$JSCompiler_StaticMethods_setupGestures_$self$$.$gestures_$.onGesture($PinchRecognizer$$module$src$gesture_recognizers$$,function($e$jscomp$42$$){return $JSCompiler_StaticMethods_setupGestures_$self$$.handlePinch($e$jscomp$42$$.data)}),$JSCompiler_StaticMethods_setupGestures_$self$$.$disableDoubleTap_$||($JSCompiler_StaticMethods_setupGestures_$self$$.$gestures_$.onGesture($DoubletapRecognizer$$module$src$gesture_recognizers$$,function($e$jscomp$43$$){return $JSCompiler_StaticMethods_setupGestures_$self$$.handleDoubleTap($e$jscomp$43$$.data)}),
$JSCompiler_StaticMethods_setupGestures_$self$$.$gestures_$.onGesture($TapRecognizer$$module$src$gesture_recognizers$$,function($JSCompiler_data$jscomp$inline_145_e$jscomp$44$$){$JSCompiler_data$jscomp$inline_145_e$jscomp$44$$=$JSCompiler_data$jscomp$inline_145_e$jscomp$44$$.data;var $JSCompiler_event$jscomp$inline_146$$=$createCustomEvent$$module$src$event_helper$$($JSCompiler_StaticMethods_setupGestures_$self$$.win,"click",null,{bubbles:!0});$JSCompiler_data$jscomp$inline_145_e$jscomp$44$$.target.dispatchEvent($JSCompiler_event$jscomp$inline_146$$)})))}
$JSCompiler_prototypeAlias$$.handleDoubleTap=function($data$jscomp$60$$){var $$jscomp$this$jscomp$10$$=this;return $JSCompiler_StaticMethods_onDoubletapZoom_$$(this,$data$jscomp$60$$.clientX,$data$jscomp$60$$.clientY).then(function(){return $JSCompiler_StaticMethods_onZoomRelease_$$($$jscomp$this$jscomp$10$$)})};
$JSCompiler_prototypeAlias$$.handlePinch=function($data$jscomp$61$$){var $$jscomp$this$jscomp$11$$=this,$centerClientX$$=$data$jscomp$61$$.centerClientX,$centerClientY$$=$data$jscomp$61$$.centerClientY,$last$jscomp$3$$=$data$jscomp$61$$.last;return $JSCompiler_StaticMethods_onPinchZoom_$$(this,$centerClientX$$,$centerClientY$$,$data$jscomp$61$$.deltaX,$data$jscomp$61$$.deltaY,$data$jscomp$61$$.dir).then(function(){if($last$jscomp$3$$)return $JSCompiler_StaticMethods_onZoomRelease_$$($$jscomp$this$jscomp$11$$)})};
$JSCompiler_prototypeAlias$$.handleSwipe=function($data$jscomp$62$$){var $$jscomp$this$jscomp$12$$=this,$last$jscomp$4$$=$data$jscomp$62$$.last,$velocityX$jscomp$1$$=$data$jscomp$62$$.velocityX,$velocityY$jscomp$1$$=$data$jscomp$62$$.velocityY;return $JSCompiler_StaticMethods_onMove_$$(this,$data$jscomp$62$$.deltaX,$data$jscomp$62$$.deltaY).then(function(){if($last$jscomp$4$$)return $JSCompiler_StaticMethods_onMoveRelease_$$($$jscomp$this$jscomp$12$$,$velocityX$jscomp$1$$,$velocityY$jscomp$1$$)})};
function $JSCompiler_StaticMethods_registerPanningGesture_$$($JSCompiler_StaticMethods_registerPanningGesture_$self$$){$JSCompiler_StaticMethods_registerPanningGesture_$self$$.$unlistenOnSwipePan_$=$JSCompiler_StaticMethods_registerPanningGesture_$self$$.$gestures_$.onGesture($SwipeXYRecognizer$$module$src$gesture_recognizers$$,function($e$jscomp$45$$){return $JSCompiler_StaticMethods_registerPanningGesture_$self$$.handleSwipe($e$jscomp$45$$.data)})}
function $JSCompiler_StaticMethods_boundX_$$($JSCompiler_StaticMethods_boundX_$self$$,$x$jscomp$90$$,$JSCompiler_extent$jscomp$inline_207_allowExtent$jscomp$1$$){var $maxExtent$$=.25*$JSCompiler_StaticMethods_boundX_$self$$.$elementBox_$.width;$JSCompiler_extent$jscomp$inline_207_allowExtent$jscomp$1$$=$JSCompiler_extent$jscomp$inline_207_allowExtent$jscomp$1$$&&1<$JSCompiler_StaticMethods_boundX_$self$$.$scale_$?$maxExtent$$:0;return Math.min(Math.max($x$jscomp$90$$,$JSCompiler_StaticMethods_boundX_$self$$.$minX_$-
$JSCompiler_extent$jscomp$inline_207_allowExtent$jscomp$1$$),$JSCompiler_StaticMethods_boundX_$self$$.$maxX_$+$JSCompiler_extent$jscomp$inline_207_allowExtent$jscomp$1$$)}
function $JSCompiler_StaticMethods_boundY_$$($JSCompiler_StaticMethods_boundY_$self$$,$y$jscomp$73$$,$JSCompiler_extent$jscomp$inline_212_allowExtent$jscomp$2$$){var $maxExtent$jscomp$1$$=.25*$JSCompiler_StaticMethods_boundY_$self$$.$elementBox_$.height;$JSCompiler_extent$jscomp$inline_212_allowExtent$jscomp$2$$=$JSCompiler_extent$jscomp$inline_212_allowExtent$jscomp$2$$&&1<$JSCompiler_StaticMethods_boundY_$self$$.$scale_$?$maxExtent$jscomp$1$$:0;return Math.min(Math.max($y$jscomp$73$$,$JSCompiler_StaticMethods_boundY_$self$$.$minY_$-
$JSCompiler_extent$jscomp$inline_212_allowExtent$jscomp$2$$),$JSCompiler_StaticMethods_boundY_$self$$.$maxY_$+$JSCompiler_extent$jscomp$inline_212_allowExtent$jscomp$2$$)}
function $JSCompiler_StaticMethods_updatePanZoomBounds_$$($JSCompiler_StaticMethods_updatePanZoomBounds_$self$$,$scale$jscomp$4$$){var $$jscomp$destructuring$var35_$jscomp$destructuring$var36$$=$JSCompiler_StaticMethods_updatePanZoomBounds_$self$$.$contentBox_$,$cWidth$$=$$jscomp$destructuring$var35_$jscomp$destructuring$var36$$.width,$xOffset$$=$$jscomp$destructuring$var35_$jscomp$destructuring$var36$$.left,$cHeight$$=$$jscomp$destructuring$var35_$jscomp$destructuring$var36$$.height,$yOffset$$=$$jscomp$destructuring$var35_$jscomp$destructuring$var36$$.top;
$$jscomp$destructuring$var35_$jscomp$destructuring$var36$$=$JSCompiler_StaticMethods_updatePanZoomBounds_$self$$.$elementBox_$;var $eWidth$$=$$jscomp$destructuring$var35_$jscomp$destructuring$var36$$.width,$eHeight$$=$$jscomp$destructuring$var35_$jscomp$destructuring$var36$$.height;$JSCompiler_StaticMethods_updatePanZoomBounds_$self$$.$minX_$=Math.min(0,$eWidth$$-($xOffset$$+$cWidth$$*($scale$jscomp$4$$+1)/2));$JSCompiler_StaticMethods_updatePanZoomBounds_$self$$.$maxX_$=Math.max(0,($cWidth$$*$scale$jscomp$4$$-
$cWidth$$)/2-$xOffset$$);$JSCompiler_StaticMethods_updatePanZoomBounds_$self$$.$minY_$=Math.min(0,$eHeight$$-($yOffset$$+$cHeight$$*($scale$jscomp$4$$+1)/2));$JSCompiler_StaticMethods_updatePanZoomBounds_$self$$.$maxY_$=Math.max(0,($cHeight$$*$scale$jscomp$4$$-$cHeight$$)/2-$yOffset$$)}
function $JSCompiler_StaticMethods_updatePanZoom_$$($JSCompiler_StaticMethods_updatePanZoom_$self$$){var $s$jscomp$18$$=$JSCompiler_StaticMethods_updatePanZoom_$self$$.$scale_$,$x$jscomp$91$$=$JSCompiler_StaticMethods_updatePanZoom_$self$$.$posX_$,$y$jscomp$74$$=$JSCompiler_StaticMethods_updatePanZoom_$self$$.$posY_$,$content$jscomp$1$$=$JSCompiler_StaticMethods_updatePanZoom_$self$$.$content_$;return $JSCompiler_StaticMethods_updatePanZoom_$self$$.mutateElement(function(){var $JSCompiler_StaticMethods_updatePanZoom_$self$$=
$x$jscomp$91$$;var $JSCompiler_opt_y$jscomp$inline_149$$=$y$jscomp$74$$;"number"==typeof $JSCompiler_StaticMethods_updatePanZoom_$self$$&&($JSCompiler_StaticMethods_updatePanZoom_$self$$+="px");void 0===$JSCompiler_opt_y$jscomp$inline_149$$?$JSCompiler_StaticMethods_updatePanZoom_$self$$="translate("+$JSCompiler_StaticMethods_updatePanZoom_$self$$+")":("number"==typeof $JSCompiler_opt_y$jscomp$inline_149$$&&($JSCompiler_opt_y$jscomp$inline_149$$+="px"),$JSCompiler_StaticMethods_updatePanZoom_$self$$=
"translate("+$JSCompiler_StaticMethods_updatePanZoom_$self$$+", "+$JSCompiler_opt_y$jscomp$inline_149$$+")");$setStyles$$module$src$style$$($content$jscomp$1$$,{transform:$JSCompiler_StaticMethods_updatePanZoom_$self$$+" "+("scale("+$s$jscomp$18$$+")")})},$content$jscomp$1$$)}
function $JSCompiler_StaticMethods_onMove_$$($JSCompiler_StaticMethods_onMove_$self$$,$deltaX$jscomp$4$$,$deltaY$jscomp$4$$){var $animate$$=!1,$newPosX$$=$JSCompiler_StaticMethods_boundX_$$($JSCompiler_StaticMethods_onMove_$self$$,$JSCompiler_StaticMethods_onMove_$self$$.$startX_$+$deltaX$jscomp$4$$,!0),$newPosY$$=$JSCompiler_StaticMethods_boundY_$$($JSCompiler_StaticMethods_onMove_$self$$,$JSCompiler_StaticMethods_onMove_$self$$.$startY_$+$deltaY$jscomp$4$$,!0);return $JSCompiler_StaticMethods_set_$$($JSCompiler_StaticMethods_onMove_$self$$,
$JSCompiler_StaticMethods_onMove_$self$$.$scale_$,$newPosX$$,$newPosY$$,$animate$$)}
function $JSCompiler_StaticMethods_onMoveRelease_$$($JSCompiler_StaticMethods_onMoveRelease_$self$$,$veloX$jscomp$2$$,$veloY$jscomp$2$$){$JSCompiler_StaticMethods_onMoveRelease_$self$$.$motion_$=$continueMotion$$module$src$motion$$($JSCompiler_StaticMethods_onMoveRelease_$self$$.$content_$,$JSCompiler_StaticMethods_onMoveRelease_$self$$.$posX_$,$JSCompiler_StaticMethods_onMoveRelease_$self$$.$posY_$,$veloX$jscomp$2$$,$veloY$jscomp$2$$,function($veloX$jscomp$2$$,$veloY$jscomp$2$$){$veloX$jscomp$2$$=
$JSCompiler_StaticMethods_boundX_$$($JSCompiler_StaticMethods_onMoveRelease_$self$$,$veloX$jscomp$2$$,!0);$veloY$jscomp$2$$=$JSCompiler_StaticMethods_boundY_$$($JSCompiler_StaticMethods_onMoveRelease_$self$$,$veloY$jscomp$2$$,!0);if(1>Math.abs($veloX$jscomp$2$$-$JSCompiler_StaticMethods_onMoveRelease_$self$$.$posX_$)&&1>Math.abs($veloY$jscomp$2$$-$JSCompiler_StaticMethods_onMoveRelease_$self$$.$posY_$))return!1;$JSCompiler_StaticMethods_set_$$($JSCompiler_StaticMethods_onMoveRelease_$self$$,$JSCompiler_StaticMethods_onMoveRelease_$self$$.$scale_$,
$veloX$jscomp$2$$,$veloY$jscomp$2$$,!1);return!0});return $JSCompiler_StaticMethods_onMoveRelease_$self$$.$motion_$.thenAlways(function(){$JSCompiler_StaticMethods_onMoveRelease_$self$$.$motion_$=null;return $JSCompiler_StaticMethods_release_$$($JSCompiler_StaticMethods_onMoveRelease_$self$$)})}
function $JSCompiler_StaticMethods_onDoubletapZoom_$$($JSCompiler_StaticMethods_onDoubletapZoom_$self$$,$clientX$jscomp$6_dx$jscomp$9$$,$clientY$jscomp$6_dy$jscomp$9$$){var $newScale$$=$JSCompiler_StaticMethods_onDoubletapZoom_$self$$.$scale_$==$JSCompiler_StaticMethods_onDoubletapZoom_$self$$.$minScale_$?$JSCompiler_StaticMethods_onDoubletapZoom_$self$$.$maxScale_$:$JSCompiler_StaticMethods_onDoubletapZoom_$self$$.$minScale_$;$clientX$jscomp$6_dx$jscomp$9$$=$JSCompiler_StaticMethods_onDoubletapZoom_$self$$.$elementBox_$.width/
2-($clientX$jscomp$6_dx$jscomp$9$$-($JSCompiler_StaticMethods_onDoubletapZoom_$self$$.$elementBox_$.left-$JSCompiler_StaticMethods_onDoubletapZoom_$self$$.getViewport().getScrollLeft()));$clientY$jscomp$6_dy$jscomp$9$$=$JSCompiler_StaticMethods_onDoubletapZoom_$self$$.$elementBox_$.height/2-($clientY$jscomp$6_dy$jscomp$9$$-($JSCompiler_StaticMethods_onDoubletapZoom_$self$$.$elementBox_$.top-$JSCompiler_StaticMethods_onDoubletapZoom_$self$$.getViewport().getScrollTop()));return $JSCompiler_StaticMethods_onZoom_$$($JSCompiler_StaticMethods_onDoubletapZoom_$self$$,
$newScale$$,$clientX$jscomp$6_dx$jscomp$9$$,$clientY$jscomp$6_dy$jscomp$9$$,!0)}
function $JSCompiler_StaticMethods_onPinchZoom_$$($JSCompiler_StaticMethods_onPinchZoom_$self$$,$centerClientX$jscomp$1$$,$centerClientY$jscomp$1$$,$deltaX$jscomp$5_newScale$jscomp$1$$,$deltaY$jscomp$5$$,$dir$jscomp$3$$){if(0==$dir$jscomp$3$$)return Promise.resolve();var $$jscomp$destructuring$var38$$=$JSCompiler_StaticMethods_onPinchZoom_$self$$.$elementBox_$,$height$jscomp$30$$=$$jscomp$destructuring$var38$$.height,$dist$$=Math.sqrt($deltaX$jscomp$5_newScale$jscomp$1$$*$deltaX$jscomp$5_newScale$jscomp$1$$+
$deltaY$jscomp$5$$*$deltaY$jscomp$5$$);$deltaX$jscomp$5_newScale$jscomp$1$$=$JSCompiler_StaticMethods_onPinchZoom_$self$$.$startScale_$*(1+$dir$jscomp$3$$*$dist$$/100);var $deltaCenterX$$=$$jscomp$destructuring$var38$$.width/2-($centerClientX$jscomp$1$$-($JSCompiler_StaticMethods_onPinchZoom_$self$$.$elementBox_$.left-$JSCompiler_StaticMethods_onPinchZoom_$self$$.getViewport().getScrollLeft())),$deltaCenterY$$=$height$jscomp$30$$/2-($centerClientY$jscomp$1$$-($JSCompiler_StaticMethods_onPinchZoom_$self$$.$elementBox_$.top-
$JSCompiler_StaticMethods_onPinchZoom_$self$$.getViewport().getScrollTop()));return $JSCompiler_StaticMethods_onZoom_$$($JSCompiler_StaticMethods_onPinchZoom_$self$$,$deltaX$jscomp$5_newScale$jscomp$1$$,Math.min($dist$$/100,1)*$deltaCenterX$$,Math.min($dist$$/100,1)*$deltaCenterY$$,!1)}
function $JSCompiler_StaticMethods_onZoom_$$($JSCompiler_StaticMethods_onZoom_$self$$,$newScale$jscomp$2_scale$jscomp$6$$,$deltaX$jscomp$6_newPosX$jscomp$2$$,$deltaY$jscomp$6_newPosY$jscomp$2$$,$animate$jscomp$1$$){$newScale$jscomp$2_scale$jscomp$6$$=Math.min(Math.max($newScale$jscomp$2_scale$jscomp$6$$,$JSCompiler_StaticMethods_onZoom_$self$$.$minScale_$-.25),$JSCompiler_StaticMethods_onZoom_$self$$.$maxScale_$+.25);if($newScale$jscomp$2_scale$jscomp$6$$==$JSCompiler_StaticMethods_onZoom_$self$$.$scale_$)return Promise.resolve();
$JSCompiler_StaticMethods_updatePanZoomBounds_$$($JSCompiler_StaticMethods_onZoom_$self$$,$newScale$jscomp$2_scale$jscomp$6$$);$deltaX$jscomp$6_newPosX$jscomp$2$$=$JSCompiler_StaticMethods_boundX_$$($JSCompiler_StaticMethods_onZoom_$self$$,$JSCompiler_StaticMethods_onZoom_$self$$.$startX_$+$deltaX$jscomp$6_newPosX$jscomp$2$$*$newScale$jscomp$2_scale$jscomp$6$$,!1);$deltaY$jscomp$6_newPosY$jscomp$2$$=$JSCompiler_StaticMethods_boundY_$$($JSCompiler_StaticMethods_onZoom_$self$$,$JSCompiler_StaticMethods_onZoom_$self$$.$startY_$+
$deltaY$jscomp$6_newPosY$jscomp$2$$*$newScale$jscomp$2_scale$jscomp$6$$,!1);return $JSCompiler_StaticMethods_set_$$($JSCompiler_StaticMethods_onZoom_$self$$,$newScale$jscomp$2_scale$jscomp$6$$,$deltaX$jscomp$6_newPosX$jscomp$2$$,$deltaY$jscomp$6_newPosY$jscomp$2$$,$animate$jscomp$1$$)}
function $JSCompiler_StaticMethods_toggleZoomButtonIn_$$($JSCompiler_StaticMethods_toggleZoomButtonIn_$self$$){$JSCompiler_StaticMethods_toggleZoomButtonIn_$self$$.$zoomButton_$&&($JSCompiler_StaticMethods_toggleZoomButtonIn_$self$$.$zoomButton_$.classList.add("amp-pan-zoom-in-icon"),$JSCompiler_StaticMethods_toggleZoomButtonIn_$self$$.$zoomButton_$.classList.remove("amp-pan-zoom-out-icon"))}
function $JSCompiler_StaticMethods_toggleZoomButtonOut_$$($JSCompiler_StaticMethods_toggleZoomButtonOut_$self$$){$JSCompiler_StaticMethods_toggleZoomButtonOut_$self$$.$zoomButton_$&&($JSCompiler_StaticMethods_toggleZoomButtonOut_$self$$.$zoomButton_$.classList.remove("amp-pan-zoom-in-icon"),$JSCompiler_StaticMethods_toggleZoomButtonOut_$self$$.$zoomButton_$.classList.add("amp-pan-zoom-out-icon"))}
function $JSCompiler_StaticMethods_onZoomRelease_$$($JSCompiler_StaticMethods_onZoomRelease_$self$$){return $JSCompiler_StaticMethods_release_$$($JSCompiler_StaticMethods_onZoomRelease_$self$$).then(function(){$JSCompiler_StaticMethods_onZoomRelease_$self$$.$scale_$<=$JSCompiler_StaticMethods_onZoomRelease_$self$$.$minScale_$?($JSCompiler_StaticMethods_onZoomRelease_$self$$.$unlistenOnSwipePan_$&&($JSCompiler_StaticMethods_onZoomRelease_$self$$.$unlistenOnSwipePan_$(),$JSCompiler_StaticMethods_onZoomRelease_$self$$.$unlistenOnSwipePan_$=
null,$JSCompiler_StaticMethods_onZoomRelease_$self$$.$gestures_$.removeGesture($SwipeXYRecognizer$$module$src$gesture_recognizers$$)),$JSCompiler_StaticMethods_toggleZoomButtonIn_$$($JSCompiler_StaticMethods_onZoomRelease_$self$$),$JSCompiler_StaticMethods_onZoomRelease_$self$$.$content_$.classList.remove("i-amphtml-pan-zoom-scrollable")):($JSCompiler_StaticMethods_registerPanningGesture_$$($JSCompiler_StaticMethods_onZoomRelease_$self$$),$JSCompiler_StaticMethods_toggleZoomButtonOut_$$($JSCompiler_StaticMethods_onZoomRelease_$self$$),
$JSCompiler_StaticMethods_onZoomRelease_$self$$.$content_$.classList.add("i-amphtml-pan-zoom-scrollable"))})}
function $JSCompiler_StaticMethods_set_$$($JSCompiler_StaticMethods_set_$self$$,$newScale$jscomp$3$$,$newPosX$jscomp$3$$,$newPosY$jscomp$3$$,$animate$jscomp$2$$){var $ds$$=$newScale$jscomp$3$$-$JSCompiler_StaticMethods_set_$self$$.$scale_$,$dist$jscomp$1_dx$jscomp$11$$=$newPosX$jscomp$3$$-$JSCompiler_StaticMethods_set_$self$$.$posX_$,$dy$jscomp$11$$=$newPosY$jscomp$3$$-$JSCompiler_StaticMethods_set_$self$$.$posY_$;$dist$jscomp$1_dx$jscomp$11$$=Math.sqrt($dist$jscomp$1_dx$jscomp$11$$*$dist$jscomp$1_dx$jscomp$11$$+
$dy$jscomp$11$$*$dy$jscomp$11$$);var $dur$$=$animate$jscomp$2$$?250*Math.min(1,Math.max(.01*$dist$jscomp$1_dx$jscomp$11$$,Math.abs($ds$$))):0;if(16<$dur$$&&$animate$jscomp$2$$){var $scaleFunc$$=$numeric$$module$src$transition$$($JSCompiler_StaticMethods_set_$self$$.$scale_$,$newScale$jscomp$3$$),$xFunc$$=$numeric$$module$src$transition$$($JSCompiler_StaticMethods_set_$self$$.$posX_$,$newPosX$jscomp$3$$),$yFunc$$=$numeric$$module$src$transition$$($JSCompiler_StaticMethods_set_$self$$.$posY_$,$newPosY$jscomp$3$$);
return $Animation$$module$src$animation$animate$$($JSCompiler_StaticMethods_set_$self$$.$content_$,function($newScale$jscomp$3$$){$JSCompiler_StaticMethods_set_$self$$.$scale_$=$scaleFunc$$($newScale$jscomp$3$$);$JSCompiler_StaticMethods_set_$self$$.$posX_$=$xFunc$$($newScale$jscomp$3$$);$JSCompiler_StaticMethods_set_$self$$.$posY_$=$yFunc$$($newScale$jscomp$3$$);$JSCompiler_StaticMethods_updatePanZoom_$$($JSCompiler_StaticMethods_set_$self$$)},$dur$$).thenAlways(function(){$JSCompiler_StaticMethods_set_$self$$.$scale_$=
$newScale$jscomp$3$$;$JSCompiler_StaticMethods_set_$self$$.$posX_$=$newPosX$jscomp$3$$;$JSCompiler_StaticMethods_set_$self$$.$posY_$=$newPosY$jscomp$3$$;$JSCompiler_StaticMethods_updatePanZoom_$$($JSCompiler_StaticMethods_set_$self$$)})}$JSCompiler_StaticMethods_set_$self$$.$scale_$=$newScale$jscomp$3$$;$JSCompiler_StaticMethods_set_$self$$.$posX_$=$newPosX$jscomp$3$$;$JSCompiler_StaticMethods_set_$self$$.$posY_$=$newPosY$jscomp$3$$;return $JSCompiler_StaticMethods_updatePanZoom_$$($JSCompiler_StaticMethods_set_$self$$)}
function $JSCompiler_StaticMethods_release_$$($JSCompiler_StaticMethods_release_$self$$){var $newScale$jscomp$4$$=Math.min(Math.max($JSCompiler_StaticMethods_release_$self$$.$scale_$,$JSCompiler_StaticMethods_release_$self$$.$minScale_$-0),$JSCompiler_StaticMethods_release_$self$$.$maxScale_$+0);$newScale$jscomp$4$$!=$JSCompiler_StaticMethods_release_$self$$.$scale_$&&$JSCompiler_StaticMethods_updatePanZoomBounds_$$($JSCompiler_StaticMethods_release_$self$$,$newScale$jscomp$4$$);var $newPosX$jscomp$4$$=
$JSCompiler_StaticMethods_boundX_$$($JSCompiler_StaticMethods_release_$self$$,$JSCompiler_StaticMethods_release_$self$$.$posX_$/$JSCompiler_StaticMethods_release_$self$$.$scale_$*$newScale$jscomp$4$$,!1),$newPosY$jscomp$4$$=$JSCompiler_StaticMethods_boundY_$$($JSCompiler_StaticMethods_release_$self$$,$JSCompiler_StaticMethods_release_$self$$.$posY_$/$JSCompiler_StaticMethods_release_$self$$.$scale_$*$newScale$jscomp$4$$,!1);return $JSCompiler_StaticMethods_set_$$($JSCompiler_StaticMethods_release_$self$$,
$newScale$jscomp$4$$,$newPosX$jscomp$4$$,$newPosY$jscomp$4$$,!0).then(function(){$JSCompiler_StaticMethods_release_$self$$.$startScale_$=$JSCompiler_StaticMethods_release_$self$$.$scale_$;$JSCompiler_StaticMethods_release_$self$$.$startX_$=$JSCompiler_StaticMethods_release_$self$$.$posX_$;$JSCompiler_StaticMethods_release_$self$$.$startY_$=$JSCompiler_StaticMethods_release_$self$$.$posY_$;var $newScale$jscomp$4$$=$createCustomEvent$$module$src$event_helper$$($JSCompiler_StaticMethods_release_$self$$.win,
"amp-pan-zoom.transformEnd",{scale:$JSCompiler_StaticMethods_release_$self$$.$scale_$,x:$JSCompiler_StaticMethods_release_$self$$.$posX_$,y:$JSCompiler_StaticMethods_release_$self$$.$posY_$});$JSCompiler_StaticMethods_release_$self$$.$action_$.trigger($JSCompiler_StaticMethods_release_$self$$.element,"transformEnd",$newScale$jscomp$4$$,100);$JSCompiler_StaticMethods_release_$self$$.element.dispatchCustomEvent("transformEnd")})}
(function($AMP$jscomp$1$$){$AMP$jscomp$1$$.registerElement("amp-pan-zoom",$AmpPanZoom$$module$extensions$amp_pan_zoom$0_1$amp_pan_zoom$$,".i-amphtml-pan-zoom{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.i-amphtml-pan-zoom-child{position:absolute}.i-amphtml-pan-zoom-scrollable{cursor:all-scroll}.amp-pan-zoom-button{position:absolute;right:12px;width:36px;height:36px;bottom:12px;background-repeat:no-repeat;background-position:50%;box-shadow:1px 1px 2px;background-color:#fff;border-radius:3px}.amp-pan-zoom-in-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-pan-zoom-out-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19 13H5v-2h14z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}\n/*# sourceURL=/extensions/amp-pan-zoom/0.1/amp-pan-zoom.css*/")})(self.AMP);
})});

//# sourceMappingURL=amp-pan-zoom-0.1.js.map
