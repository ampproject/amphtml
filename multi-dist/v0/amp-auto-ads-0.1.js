(self.AMP=self.AMP||[]).push({n:"amp-auto-ads",v:"1904281823091",f:(function(AMP,_){
var $JSCompiler_prototypeAlias$$,$$jscomp$objectCreate$$="function"==typeof Object.create?Object.create:function($prototype$$){function $ctor$$(){}$ctor$$.prototype=$prototype$$;return new $ctor$$},$JSCompiler_temp$jscomp$16$$;
if("function"==typeof Object.setPrototypeOf)$JSCompiler_temp$jscomp$16$$=Object.setPrototypeOf;else{var $JSCompiler_inline_result$jscomp$17$$;a:{var $JSCompiler_x$jscomp$inline_34$$={a:!0},$JSCompiler_y$jscomp$inline_35$$={};try{$JSCompiler_y$jscomp$inline_35$$.__proto__=$JSCompiler_x$jscomp$inline_34$$;$JSCompiler_inline_result$jscomp$17$$=$JSCompiler_y$jscomp$inline_35$$.a;break a}catch($JSCompiler_e$jscomp$inline_36$$){}$JSCompiler_inline_result$jscomp$17$$=!1}$JSCompiler_temp$jscomp$16$$=$JSCompiler_inline_result$jscomp$17$$?
function($target$jscomp$83$$,$proto$jscomp$3$$){$target$jscomp$83$$.__proto__=$proto$jscomp$3$$;if($target$jscomp$83$$.__proto__!==$proto$jscomp$3$$)throw new TypeError($target$jscomp$83$$+" is not extensible");return $target$jscomp$83$$}:null}var $$jscomp$setPrototypeOf$$=$JSCompiler_temp$jscomp$16$$;
function $cloneLayoutMarginsChangeDef$$module$src$layout_rect$$($marginsChange$$){return $marginsChange$$?{top:$marginsChange$$.top,bottom:$marginsChange$$.bottom,left:$marginsChange$$.left,right:$marginsChange$$.right}:$marginsChange$$};function $Deferred$$module$src$utils$promise$$(){var $resolve$$,$reject$$;this.promise=new Promise(function($res$$,$rej$$){$resolve$$=$res$$;$reject$$=$rej$$});this.resolve=$resolve$$;this.reject=$reject$$}function $tryResolve$$module$src$utils$promise$$($fn$$){return new Promise(function($resolve$jscomp$1$$){$resolve$jscomp$1$$($fn$$())})};function $tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($component$jscomp$4$$,$fallback$$){$fallback$$=void 0===$fallback$$?"":$fallback$$;try{return decodeURIComponent($component$jscomp$4$$)}catch($e$jscomp$8$$){return $fallback$$}};var $regex$$module$src$url_parse_query_string$$=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;
function $parseQueryString_$$module$src$url_parse_query_string$$($queryString$$){var $params$jscomp$1$$=Object.create(null);if(!$queryString$$)return $params$jscomp$1$$;for(var $match$$;$match$$=$regex$$module$src$url_parse_query_string$$.exec($queryString$$);){var $name$jscomp$70$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[1],$match$$[1]),$value$jscomp$87$$=$match$$[2]?$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[2],$match$$[2]):"";
$params$jscomp$1$$[$name$jscomp$70$$]=$value$jscomp$87$$}return $params$jscomp$1$$};var $rtvVersion$$module$src$mode$$="";
function $getMode$$module$src$mode$$(){var $opt_win$$,$win$$=$opt_win$$||self;if($win$$.AMP_MODE)var $JSCompiler_temp$jscomp$18_JSCompiler_win$jscomp$inline_38$$=$win$$.AMP_MODE;else{$JSCompiler_temp$jscomp$18_JSCompiler_win$jscomp$inline_38$$=$win$$;var $JSCompiler_AMP_CONFIG$jscomp$inline_39_JSCompiler_singlePassType$jscomp$inline_46$$=self.AMP_CONFIG||{},$JSCompiler_runningTests$jscomp$inline_43$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_39_JSCompiler_singlePassType$jscomp$inline_46$$.test||!(!$JSCompiler_temp$jscomp$18_JSCompiler_win$jscomp$inline_38$$.AMP_TEST&&
!$JSCompiler_temp$jscomp$18_JSCompiler_win$jscomp$inline_38$$.__karma__),$JSCompiler_isLocalDev$jscomp$inline_44$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_39_JSCompiler_singlePassType$jscomp$inline_46$$.localDev||$JSCompiler_runningTests$jscomp$inline_43$$,$JSCompiler_hashQuery$jscomp$inline_45$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$18_JSCompiler_win$jscomp$inline_38$$.location.originalHash||$JSCompiler_temp$jscomp$18_JSCompiler_win$jscomp$inline_38$$.location.hash);
$JSCompiler_AMP_CONFIG$jscomp$inline_39_JSCompiler_singlePassType$jscomp$inline_46$$=$JSCompiler_AMP_CONFIG$jscomp$inline_39_JSCompiler_singlePassType$jscomp$inline_46$$.spt;var $JSCompiler_searchQuery$jscomp$inline_47$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$18_JSCompiler_win$jscomp$inline_38$$.location.search);$rtvVersion$$module$src$mode$$||($rtvVersion$$module$src$mode$$=$JSCompiler_isLocalDev$jscomp$inline_44$$?"1904281823091":$JSCompiler_temp$jscomp$18_JSCompiler_win$jscomp$inline_38$$.AMP_CONFIG&&
$JSCompiler_temp$jscomp$18_JSCompiler_win$jscomp$inline_38$$.AMP_CONFIG.v?$JSCompiler_temp$jscomp$18_JSCompiler_win$jscomp$inline_38$$.AMP_CONFIG.v:"011904281823091");$JSCompiler_temp$jscomp$18_JSCompiler_win$jscomp$inline_38$$=$win$$.AMP_MODE={localDev:$JSCompiler_isLocalDev$jscomp$inline_44$$,development:!("1"!=$JSCompiler_hashQuery$jscomp$inline_45$$.development&&!$JSCompiler_temp$jscomp$18_JSCompiler_win$jscomp$inline_38$$.AMP_DEV_MODE),examiner:"2"==$JSCompiler_hashQuery$jscomp$inline_45$$.development,
filter:$JSCompiler_hashQuery$jscomp$inline_45$$.filter,geoOverride:$JSCompiler_hashQuery$jscomp$inline_45$$["amp-geo"],minified:!0,lite:void 0!=$JSCompiler_searchQuery$jscomp$inline_47$$.amp_lite,test:$JSCompiler_runningTests$jscomp$inline_43$$,log:$JSCompiler_hashQuery$jscomp$inline_45$$.log,version:"1904281823091",rtvVersion:$rtvVersion$$module$src$mode$$,singlePassType:$JSCompiler_AMP_CONFIG$jscomp$inline_39_JSCompiler_singlePassType$jscomp$inline_46$$}}return $JSCompiler_temp$jscomp$18_JSCompiler_win$jscomp$inline_38$$}
;var $toString_$$module$src$types$$=Object.prototype.toString;self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log;function $user$$module$src$log$$(){if(!$logs$$module$src$log$$.user)throw Error("failed to call initLogConstructor");return $logs$$module$src$log$$.user}function $userAssert$$module$src$log$$($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$){$user$$module$src$log$$().assert($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};function $getService$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$){$win$jscomp$8$$=$win$jscomp$8$$.__AMP_TOP||$win$jscomp$8$$;return $getServiceInternal$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$)}
function $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$$,$id$jscomp$15$$){var $JSCompiler_ampdoc$jscomp$inline_53_JSCompiler_inline_result$jscomp$21_ampdoc$jscomp$2$$=$getAmpdoc$$module$src$service$$($elementOrAmpDoc$$);$JSCompiler_ampdoc$jscomp$inline_53_JSCompiler_inline_result$jscomp$21_ampdoc$jscomp$2$$=$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_53_JSCompiler_inline_result$jscomp$21_ampdoc$jscomp$2$$);$JSCompiler_ampdoc$jscomp$inline_53_JSCompiler_inline_result$jscomp$21_ampdoc$jscomp$2$$=
$JSCompiler_ampdoc$jscomp$inline_53_JSCompiler_inline_result$jscomp$21_ampdoc$jscomp$2$$.isSingleDoc()?$JSCompiler_ampdoc$jscomp$inline_53_JSCompiler_inline_result$jscomp$21_ampdoc$jscomp$2$$.win:$JSCompiler_ampdoc$jscomp$inline_53_JSCompiler_inline_result$jscomp$21_ampdoc$jscomp$2$$;return $getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_53_JSCompiler_inline_result$jscomp$21_ampdoc$jscomp$2$$,$id$jscomp$15$$)}
function $getAmpdoc$$module$src$service$$($nodeOrDoc$jscomp$2$$){return $nodeOrDoc$jscomp$2$$.nodeType?$getService$$module$src$service$$(($nodeOrDoc$jscomp$2$$.ownerDocument||$nodeOrDoc$jscomp$2$$).defaultView,"ampdoc").getAmpDoc($nodeOrDoc$jscomp$2$$):$nodeOrDoc$jscomp$2$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$){var $JSCompiler_services$jscomp$inline_60$$=$holder$jscomp$4_s$jscomp$8$$.services;$JSCompiler_services$jscomp$inline_60$$||($JSCompiler_services$jscomp$inline_60$$=$holder$jscomp$4_s$jscomp$8$$.services={});var $services$$=$JSCompiler_services$jscomp$inline_60$$;$holder$jscomp$4_s$jscomp$8$$=$services$$[$id$jscomp$19$$];$holder$jscomp$4_s$jscomp$8$$.obj||($holder$jscomp$4_s$jscomp$8$$.obj=new $holder$jscomp$4_s$jscomp$8$$.ctor($holder$jscomp$4_s$jscomp$8$$.context),
$holder$jscomp$4_s$jscomp$8$$.ctor=null,$holder$jscomp$4_s$jscomp$8$$.context=null,$holder$jscomp$4_s$jscomp$8$$.resolve&&$holder$jscomp$4_s$jscomp$8$$.resolve($holder$jscomp$4_s$jscomp$8$$.obj));return $holder$jscomp$4_s$jscomp$8$$.obj};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var $scopeSelectorSupported$$module$src$css$$;var $hasOwn_$$module$src$utils$object$$=Object.prototype.hasOwnProperty;function $dict$$module$src$utils$object$$($opt_initial$jscomp$1$$){return $opt_initial$jscomp$1$$||{}};function $endsWith$$module$src$string$$($string$jscomp$5$$,$suffix$jscomp$1$$){var $index$jscomp$68$$=$string$jscomp$5$$.length-$suffix$jscomp$1$$.length;return 0<=$index$jscomp$68$$&&$string$jscomp$5$$.indexOf($suffix$jscomp$1$$,$index$jscomp$68$$)==$index$jscomp$68$$}function $startsWith$$module$src$string$$($string$jscomp$6$$,$prefix$jscomp$2$$){return $prefix$jscomp$2$$.length>$string$jscomp$6$$.length?!1:0==$string$jscomp$6$$.lastIndexOf($prefix$jscomp$2$$,0)};function $createElementWithAttributes$$module$src$dom$$($doc$jscomp$12_element$jscomp$16$$,$tagName$jscomp$5$$,$attributes$jscomp$2$$){$doc$jscomp$12_element$jscomp$16$$=$doc$jscomp$12_element$jscomp$16$$.createElement($tagName$jscomp$5$$);for(var $JSCompiler_attr$jscomp$inline_64$$ in $attributes$jscomp$2$$)$doc$jscomp$12_element$jscomp$16$$.setAttribute($JSCompiler_attr$jscomp$inline_64$$,$attributes$jscomp$2$$[$JSCompiler_attr$jscomp$inline_64$$]);return $doc$jscomp$12_element$jscomp$16$$}
function $closest$$module$src$dom$$($el$jscomp$2_element$jscomp$17$$,$callback$jscomp$60$$){for(var $opt_stopAt$$;$el$jscomp$2_element$jscomp$17$$&&$el$jscomp$2_element$jscomp$17$$!==$opt_stopAt$$;$el$jscomp$2_element$jscomp$17$$=$el$jscomp$2_element$jscomp$17$$.parentElement)if($callback$jscomp$60$$($el$jscomp$2_element$jscomp$17$$))return $el$jscomp$2_element$jscomp$17$$;return null}
function $closestAncestorElementBySelector$$module$src$dom$$($element$jscomp$18$$,$selector$jscomp$2$$){return $element$jscomp$18$$.closest?$element$jscomp$18$$.closest($selector$jscomp$2$$):$closest$$module$src$dom$$($element$jscomp$18$$,function($element$jscomp$18$$){var $el$jscomp$3$$=$element$jscomp$18$$.matches||$element$jscomp$18$$.webkitMatchesSelector||$element$jscomp$18$$.mozMatchesSelector||$element$jscomp$18$$.msMatchesSelector||$element$jscomp$18$$.oMatchesSelector;return $el$jscomp$3$$?
$el$jscomp$3$$.call($element$jscomp$18$$,$selector$jscomp$2$$):!1})}
function $scopedQuerySelectorAll$$module$src$dom$$($JSCompiler_temp$jscomp$25_root$jscomp$6$$,$JSCompiler_elements$jscomp$inline_74_JSCompiler_scopedSelector$jscomp$inline_73_selector$jscomp$6$$){if(void 0!==$scopeSelectorSupported$$module$src$css$$)var $JSCompiler_inline_result$jscomp$147_JSCompiler_temp$jscomp$146$$=$scopeSelectorSupported$$module$src$css$$;else{try{var $JSCompiler_doc$jscomp$inline_151$$=$JSCompiler_temp$jscomp$25_root$jscomp$6$$.ownerDocument,$JSCompiler_testElement$jscomp$inline_152$$=
$JSCompiler_doc$jscomp$inline_151$$.createElement("div"),$JSCompiler_testChild$jscomp$inline_153$$=$JSCompiler_doc$jscomp$inline_151$$.createElement("div");$JSCompiler_testElement$jscomp$inline_152$$.appendChild($JSCompiler_testChild$jscomp$inline_153$$);$JSCompiler_inline_result$jscomp$147_JSCompiler_temp$jscomp$146$$=$JSCompiler_testElement$jscomp$inline_152$$.querySelector(":scope div")===$JSCompiler_testChild$jscomp$inline_153$$}catch($JSCompiler_e$jscomp$inline_154$$){$JSCompiler_inline_result$jscomp$147_JSCompiler_temp$jscomp$146$$=
!1}$JSCompiler_inline_result$jscomp$147_JSCompiler_temp$jscomp$146$$=$scopeSelectorSupported$$module$src$css$$=$JSCompiler_inline_result$jscomp$147_JSCompiler_temp$jscomp$146$$}$JSCompiler_inline_result$jscomp$147_JSCompiler_temp$jscomp$146$$?$JSCompiler_temp$jscomp$25_root$jscomp$6$$=$JSCompiler_temp$jscomp$25_root$jscomp$6$$.querySelectorAll($JSCompiler_elements$jscomp$inline_74_JSCompiler_scopedSelector$jscomp$inline_73_selector$jscomp$6$$.replace(/^|,/g,"$&:scope ")):($JSCompiler_temp$jscomp$25_root$jscomp$6$$.classList.add("i-amphtml-scoped"),
$JSCompiler_elements$jscomp$inline_74_JSCompiler_scopedSelector$jscomp$inline_73_selector$jscomp$6$$=$JSCompiler_elements$jscomp$inline_74_JSCompiler_scopedSelector$jscomp$inline_73_selector$jscomp$6$$.replace(/^|,/g,"$&.i-amphtml-scoped "),$JSCompiler_elements$jscomp$inline_74_JSCompiler_scopedSelector$jscomp$inline_73_selector$jscomp$6$$=$JSCompiler_temp$jscomp$25_root$jscomp$6$$.querySelectorAll($JSCompiler_elements$jscomp$inline_74_JSCompiler_scopedSelector$jscomp$inline_73_selector$jscomp$6$$),
$JSCompiler_temp$jscomp$25_root$jscomp$6$$.classList.remove("i-amphtml-scoped"),$JSCompiler_temp$jscomp$25_root$jscomp$6$$=$JSCompiler_elements$jscomp$inline_74_JSCompiler_scopedSelector$jscomp$inline_73_selector$jscomp$6$$);return $JSCompiler_temp$jscomp$25_root$jscomp$6$$}
function $whenUpgradedToCustomElement$$module$src$dom$$($element$jscomp$26$$){$startsWith$$module$src$string$$($element$jscomp$26$$.tagName,"AMP-");if($element$jscomp$26$$.createdCallback)return Promise.resolve($element$jscomp$26$$);if(!$element$jscomp$26$$.__AMP_UPG_PRM){var $deferred$jscomp$1$$=new $Deferred$$module$src$utils$promise$$;$element$jscomp$26$$.__AMP_UPG_PRM=$deferred$jscomp$1$$.promise;$element$jscomp$26$$.__AMP_UPG_RES=$deferred$jscomp$1$$.resolve}return $element$jscomp$26$$.__AMP_UPG_PRM}
;function $Services$$module$src$services$viewportForDoc$$($elementOrAmpDoc$jscomp$17$$){return $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$17$$,"viewport")};var $NON_DATA_ATTRIBUTE_WHITELIST$$module$extensions$amp_auto_ads$0_1$attributes$$={type:!0};
function $getAttributesFromConfigObj$$module$extensions$amp_auto_ads$0_1$attributes$$($configObj$$){if(!$configObj$$.attributes)return{};if("[object Object]"!==$toString_$$module$src$types$$.call($configObj$$.attributes)||Array.isArray($configObj$$.attributes))return $user$$module$src$log$$().warn("amp-auto-ads","attributes property not an object"),{};var $JSCompiler_attributeObject$jscomp$inline_79$$=$configObj$$.attributes,$JSCompiler_attributes$jscomp$inline_80$$={},$JSCompiler_key$jscomp$inline_81$$;
for($JSCompiler_key$jscomp$inline_81$$ in $JSCompiler_attributeObject$jscomp$inline_79$$)if($NON_DATA_ATTRIBUTE_WHITELIST$$module$extensions$amp_auto_ads$0_1$attributes$$[$JSCompiler_key$jscomp$inline_81$$]||$startsWith$$module$src$string$$($JSCompiler_key$jscomp$inline_81$$,"data-")){var $JSCompiler_valueType$jscomp$inline_82$$=typeof $JSCompiler_attributeObject$jscomp$inline_79$$[$JSCompiler_key$jscomp$inline_81$$];"number"!=$JSCompiler_valueType$jscomp$inline_82$$&&"string"!=$JSCompiler_valueType$jscomp$inline_82$$&&
"boolean"!=$JSCompiler_valueType$jscomp$inline_82$$?$user$$module$src$log$$().warn("amp-auto-ads","Attribute type not supported: "+$JSCompiler_valueType$jscomp$inline_82$$):$JSCompiler_attributes$jscomp$inline_80$$[$JSCompiler_key$jscomp$inline_81$$]=String($JSCompiler_attributeObject$jscomp$inline_79$$[$JSCompiler_key$jscomp$inline_81$$])}else $user$$module$src$log$$().warn("amp-auto-ads","Attribute not whitlisted: "+$JSCompiler_key$jscomp$inline_81$$);return $JSCompiler_attributes$jscomp$inline_80$$}
;var $BLACKLISTED_ANCESTOR_TAGS$$module$extensions$amp_auto_ads$0_1$placement$$=["AMP-SIDEBAR","AMP-APP-BANNER"],$INJECTORS$$module$extensions$amp_auto_ads$0_1$placement$$={1:function($anchorElement$$,$elementToInject$$){$anchorElement$$.parentNode.insertBefore($elementToInject$$,$anchorElement$$)},4:function($anchorElement$jscomp$1$$,$elementToInject$jscomp$1$$){$anchorElement$jscomp$1$$.parentNode.insertBefore($elementToInject$jscomp$1$$,$anchorElement$jscomp$1$$.nextSibling)},2:function($anchorElement$jscomp$2$$,
$elementToInject$jscomp$2$$){$anchorElement$jscomp$2$$.insertBefore($elementToInject$jscomp$2$$,$anchorElement$jscomp$2$$.firstChild)},3:function($anchorElement$jscomp$3$$,$elementToInject$jscomp$3$$){$anchorElement$jscomp$3$$.appendChild($elementToInject$jscomp$3$$)}};
function $Placement$$module$extensions$amp_auto_ads$0_1$placement$$($ampdoc$jscomp$10$$,$resources$$,$anchorElement$jscomp$4$$,$position$$,$injector$$,$attributes$jscomp$4$$,$opt_margins$$){this.ampdoc=$ampdoc$jscomp$10$$;this.$resources_$=$resources$$;this.$anchorElement_$=$anchorElement$jscomp$4$$;this.$position_$=$position$$;this.$injector_$=$injector$$;this.$attributes_$=$attributes$jscomp$4$$;this.$margins_$=$opt_margins$$;this.$adElement_$=null;this.$state_$=0}
$Placement$$module$extensions$amp_auto_ads$0_1$placement$$.prototype.getAdElement=function(){return this.$adElement_$};
$Placement$$module$extensions$amp_auto_ads$0_1$placement$$.prototype.getEstimatedPosition=function(){var $$jscomp$this$jscomp$1$$=this;return this.$resources_$.getElementLayoutBox(this.$anchorElement_$).then(function($JSCompiler_inline_result$jscomp$27_layoutBox$jscomp$1$$){a:switch($$jscomp$this$jscomp$1$$.$position_$){case 1:case 2:$JSCompiler_inline_result$jscomp$27_layoutBox$jscomp$1$$=$JSCompiler_inline_result$jscomp$27_layoutBox$jscomp$1$$.top;break a;case 3:case 4:$JSCompiler_inline_result$jscomp$27_layoutBox$jscomp$1$$=
$JSCompiler_inline_result$jscomp$27_layoutBox$jscomp$1$$.bottom;break a;default:throw Error("Unknown position");}return $JSCompiler_inline_result$jscomp$27_layoutBox$jscomp$1$$})};
$Placement$$module$extensions$amp_auto_ads$0_1$placement$$.prototype.placeAd=function($baseAttributes$$,$sizing$$,$adTracker$$,$isResponsiveEnabled$$){var $$jscomp$this$jscomp$2$$=this;return this.getEstimatedPosition().then(function($yPosition$$){return $adTracker$$.isTooNearAnAd($yPosition$$).then(function($adTracker$$){if($adTracker$$)return $$jscomp$this$jscomp$2$$.$state_$=3,$$jscomp$this$jscomp$2$$.$state_$;$$jscomp$this$jscomp$2$$.$adElement_$=$JSCompiler_StaticMethods_createAdElement_$$($$jscomp$this$jscomp$2$$,
$baseAttributes$$,$sizing$$.width);$$jscomp$this$jscomp$2$$.$injector_$($$jscomp$this$jscomp$2$$.$anchorElement_$,$$jscomp$this$jscomp$2$$.getAdElement());return $JSCompiler_StaticMethods_getPlacementSizing_$$($$jscomp$this$jscomp$2$$,$sizing$$,$isResponsiveEnabled$$).then(function($baseAttributes$$){return $whenUpgradedToCustomElement$$module$src$dom$$($$jscomp$this$jscomp$2$$.getAdElement()).then(function(){return $$jscomp$this$jscomp$2$$.getAdElement().whenBuilt()}).then(function(){return $$jscomp$this$jscomp$2$$.$resources_$.attemptChangeSize($$jscomp$this$jscomp$2$$.getAdElement(),
$baseAttributes$$.height,$baseAttributes$$.width,$baseAttributes$$.margins)}).then(function(){$$jscomp$this$jscomp$2$$.$state_$=2;return $$jscomp$this$jscomp$2$$.$state_$},function(){$$jscomp$this$jscomp$2$$.$state_$=1;return $$jscomp$this$jscomp$2$$.$state_$})})})})};
function $JSCompiler_StaticMethods_getPlacementSizing_$$($JSCompiler_StaticMethods_getPlacementSizing_$self$$,$sizing$jscomp$1$$,$isResponsiveEnabled$jscomp$1$$){var $viewport$jscomp$1$$=$JSCompiler_StaticMethods_getPlacementSizing_$self$$.$resources_$.getViewport(),$viewportWidth$$=$viewport$jscomp$1$$.getWidth();if($isResponsiveEnabled$jscomp$1$$&&1200>=$viewportWidth$$){var $viewportHeight$$=$viewport$jscomp$1$$.getHeight(),$responsiveHeight$$=$getResponsiveHeightForContext_$$module$extensions$amp_auto_ads$0_1$placement$$($viewportWidth$$,
$viewportHeight$$),$margins$jscomp$1$$=$cloneLayoutMarginsChangeDef$$module$src$layout_rect$$($JSCompiler_StaticMethods_getPlacementSizing_$self$$.$margins_$);return $getServiceForDoc$$module$src$service$$($JSCompiler_StaticMethods_getPlacementSizing_$self$$.$anchorElement_$,"resources").getElementLayoutBox($JSCompiler_StaticMethods_getPlacementSizing_$self$$.$anchorElement_$).then(function($sizing$jscomp$1$$){var $isResponsiveEnabled$jscomp$1$$;($isResponsiveEnabled$jscomp$1$$=$JSCompiler_StaticMethods_getPlacementSizing_$self$$.ampdoc.win.getComputedStyle($JSCompiler_StaticMethods_getPlacementSizing_$self$$.$anchorElement_$))||
($isResponsiveEnabled$jscomp$1$$=Object.create(null));$isResponsiveEnabled$jscomp$1$$=$isResponsiveEnabled$jscomp$1$$.direction;0!==$sizing$jscomp$1$$.left&&($margins$jscomp$1$$=$margins$jscomp$1$$||{},"rtl"==$isResponsiveEnabled$jscomp$1$$?$margins$jscomp$1$$.right=$sizing$jscomp$1$$.left:$margins$jscomp$1$$.left=-$sizing$jscomp$1$$.left)}).then(function(){return Promise.resolve({width:$viewportWidth$$,height:$responsiveHeight$$,margins:$margins$jscomp$1$$})})}return Promise.resolve({height:$sizing$jscomp$1$$.height||
250,margins:$JSCompiler_StaticMethods_getPlacementSizing_$self$$.$margins_$})}
function $JSCompiler_StaticMethods_createAdElement_$$($JSCompiler_StaticMethods_createAdElement_$self$$,$attributes$jscomp$5_baseAttributes$jscomp$1$$,$width$jscomp$28$$){$attributes$jscomp$5_baseAttributes$jscomp$1$$=Object.assign($dict$$module$src$utils$object$$({layout:$width$jscomp$28$$?"fixed":"fixed-height",height:"0",width:$width$jscomp$28$$?$width$jscomp$28$$:"auto","class":"i-amphtml-layout-awaiting-size"}),$attributes$jscomp$5_baseAttributes$jscomp$1$$,$JSCompiler_StaticMethods_createAdElement_$self$$.$attributes_$);
return $createElementWithAttributes$$module$src$dom$$($JSCompiler_StaticMethods_createAdElement_$self$$.ampdoc.win.document,"amp-ad",$attributes$jscomp$5_baseAttributes$jscomp$1$$)}
function $getPlacementsFromConfigObj$$module$extensions$amp_auto_ads$0_1$placement$$($ampdoc$jscomp$11$$,$configObj$jscomp$1$$){var $placementObjs$$=$configObj$jscomp$1$$.placements;if(!$placementObjs$$)return $user$$module$src$log$$().info("amp-auto-ads","No placements in config"),[];var $placements$$=[];$placementObjs$$.forEach(function($configObj$jscomp$1$$){$getPlacementsFromObject$$module$extensions$amp_auto_ads$0_1$placement$$($ampdoc$jscomp$11$$,$configObj$jscomp$1$$,$placements$$)});return $placements$$}
function $getPlacementsFromObject$$module$extensions$amp_auto_ads$0_1$placement$$($ampdoc$jscomp$12$$,$placementObj$jscomp$1$$,$placements$jscomp$1$$){var $injector$jscomp$1$$=$INJECTORS$$module$extensions$amp_auto_ads$0_1$placement$$[$placementObj$jscomp$1$$.pos];if($injector$jscomp$1$$){var $anchor$$=$placementObj$jscomp$1$$.anchor;if($anchor$$){var $anchorElements$$=$getAnchorElements$$module$extensions$amp_auto_ads$0_1$placement$$($ampdoc$jscomp$12$$.getRootNode(),$anchor$$);if($anchorElements$$.length){var $margins$jscomp$2$$=
void 0;if($placementObj$jscomp$1$$.style){var $marginTop$$=parseInt($placementObj$jscomp$1$$.style.top_m,10),$marginBottom$$=parseInt($placementObj$jscomp$1$$.style.bot_m,10);if($marginTop$$||$marginBottom$$)$margins$jscomp$2$$={top:$marginTop$$||void 0,bottom:$marginBottom$$||void 0}}$anchorElements$$.forEach(function($anchor$$){if($isPositionValid$$module$extensions$amp_auto_ads$0_1$placement$$($anchor$$,$placementObj$jscomp$1$$.pos)){var $anchorElements$$=$getAttributesFromConfigObj$$module$extensions$amp_auto_ads$0_1$attributes$$($placementObj$jscomp$1$$);
$placements$jscomp$1$$.push(new $Placement$$module$extensions$amp_auto_ads$0_1$placement$$($ampdoc$jscomp$12$$,$getServiceForDoc$$module$src$service$$($anchor$$,"resources"),$anchor$$,$placementObj$jscomp$1$$.pos,$injector$jscomp$1$$,$anchorElements$$,$margins$jscomp$2$$))}})}else $user$$module$src$log$$().warn("amp-auto-ads","No anchor element found")}else $user$$module$src$log$$().warn("amp-auto-ads","No anchor in placement")}else $user$$module$src$log$$().warn("amp-auto-ads","No injector for position")}
function $getAnchorElements$$module$extensions$amp_auto_ads$0_1$placement$$($rootElement$$,$anchorObj$$){var $element$jscomp$61_elements$jscomp$1_selector$jscomp$7$$=$anchorObj$$.selector;if(!$element$jscomp$61_elements$jscomp$1_selector$jscomp$7$$)return $user$$module$src$log$$().warn("amp-auto-ads","No selector in anchor"),[];$element$jscomp$61_elements$jscomp$1_selector$jscomp$7$$=[].slice.call($scopedQuerySelectorAll$$module$src$dom$$($rootElement$$.documentElement||$rootElement$$,$element$jscomp$61_elements$jscomp$1_selector$jscomp$7$$));
var $minChars$$=$anchorObj$$.min_c||0;0<$minChars$$&&($element$jscomp$61_elements$jscomp$1_selector$jscomp$7$$=$element$jscomp$61_elements$jscomp$1_selector$jscomp$7$$.filter(function($rootElement$$){return $rootElement$$.textContent.length>=$minChars$$}));"number"!=typeof $anchorObj$$.index&&$anchorObj$$.all||($element$jscomp$61_elements$jscomp$1_selector$jscomp$7$$=($element$jscomp$61_elements$jscomp$1_selector$jscomp$7$$=$element$jscomp$61_elements$jscomp$1_selector$jscomp$7$$[$anchorObj$$.index||
0])?[$element$jscomp$61_elements$jscomp$1_selector$jscomp$7$$]:[]);if(0==$element$jscomp$61_elements$jscomp$1_selector$jscomp$7$$.length)return[];if($anchorObj$$.sub){var $subElements$$=[];$element$jscomp$61_elements$jscomp$1_selector$jscomp$7$$.forEach(function($rootElement$$){$subElements$$=$subElements$$.concat($getAnchorElements$$module$extensions$amp_auto_ads$0_1$placement$$($rootElement$$,$anchorObj$$.sub))});return $subElements$$}return $element$jscomp$61_elements$jscomp$1_selector$jscomp$7$$}
function $isPositionValid$$module$extensions$amp_auto_ads$0_1$placement$$($anchorElement$jscomp$6$$,$position$jscomp$1$$){var $elementToCheckOrNull$$=1==$position$jscomp$1$$||4==$position$jscomp$1$$?$anchorElement$jscomp$6$$.parentElement:$anchorElement$jscomp$6$$;if(!$elementToCheckOrNull$$)return $user$$module$src$log$$().warn("amp-auto-ads","Parentless anchor with BEFORE/AFTER position."),!1;var $elementToCheck$$=$elementToCheckOrNull$$;return!$BLACKLISTED_ANCESTOR_TAGS$$module$extensions$amp_auto_ads$0_1$placement$$.some(function($anchorElement$jscomp$6$$){return $closestAncestorElementBySelector$$module$src$dom$$($elementToCheck$$,
$anchorElement$jscomp$6$$)?($user$$module$src$log$$().warn("amp-auto-ads","Placement inside blacklisted ancestor: "+$anchorElement$jscomp$6$$),!0):!1})}function $getResponsiveHeightForContext_$$module$extensions$amp_auto_ads$0_1$placement$$($viewportWidth$jscomp$1$$,$viewportHeight$jscomp$1$$){var $minHeight$$=100,$maxHeight$$=Math.min(300,$viewportHeight$jscomp$1$$),$idealHeight$$=Math.round($viewportWidth$jscomp$1$$/1.2);return Math.min(Math.max($idealHeight$$,$minHeight$$),$maxHeight$$)};function $LruCache$$module$src$utils$lru_cache$$(){var $capacity$$=100;this.$capacity_$=$capacity$$;this.$access_$=this.$size_$=0;this.$cache_$=Object.create(null)}$LruCache$$module$src$utils$lru_cache$$.prototype.has=function($key$jscomp$44$$){return!!this.$cache_$[$key$jscomp$44$$]};$LruCache$$module$src$utils$lru_cache$$.prototype.get=function($key$jscomp$45$$){var $cacheable$$=this.$cache_$[$key$jscomp$45$$];if($cacheable$$)return $cacheable$$.access=++this.$access_$,$cacheable$$.payload};
$LruCache$$module$src$utils$lru_cache$$.prototype.put=function($JSCompiler_cache$jscomp$inline_88_JSCompiler_inline_result$jscomp$145_key$jscomp$46$$,$payload$$){this.has($JSCompiler_cache$jscomp$inline_88_JSCompiler_inline_result$jscomp$145_key$jscomp$46$$)||this.$size_$++;this.$cache_$[$JSCompiler_cache$jscomp$inline_88_JSCompiler_inline_result$jscomp$145_key$jscomp$46$$]={payload:$payload$$,access:this.$access_$};if(!(this.$size_$<=this.$capacity_$)){if($logs$$module$src$log$$.dev)$JSCompiler_cache$jscomp$inline_88_JSCompiler_inline_result$jscomp$145_key$jscomp$46$$=
$logs$$module$src$log$$.dev;else throw Error("failed to call initLogConstructor");$JSCompiler_cache$jscomp$inline_88_JSCompiler_inline_result$jscomp$145_key$jscomp$46$$.warn("lru-cache","Trimming LRU cache");$JSCompiler_cache$jscomp$inline_88_JSCompiler_inline_result$jscomp$145_key$jscomp$46$$=this.$cache_$;var $JSCompiler_oldest$jscomp$inline_89$$=this.$access_$+1,$JSCompiler_key$jscomp$inline_91$$;for($JSCompiler_key$jscomp$inline_91$$ in $JSCompiler_cache$jscomp$inline_88_JSCompiler_inline_result$jscomp$145_key$jscomp$46$$){var $JSCompiler_access$jscomp$inline_92$$=
$JSCompiler_cache$jscomp$inline_88_JSCompiler_inline_result$jscomp$145_key$jscomp$46$$[$JSCompiler_key$jscomp$inline_91$$].access;if($JSCompiler_access$jscomp$inline_92$$<$JSCompiler_oldest$jscomp$inline_89$$){$JSCompiler_oldest$jscomp$inline_89$$=$JSCompiler_access$jscomp$inline_92$$;var $JSCompiler_oldestKey$jscomp$inline_90$$=$JSCompiler_key$jscomp$inline_91$$}}void 0!==$JSCompiler_oldestKey$jscomp$inline_90$$&&(delete $JSCompiler_cache$jscomp$inline_88_JSCompiler_inline_result$jscomp$145_key$jscomp$46$$[$JSCompiler_oldestKey$jscomp$inline_90$$],
this.$size_$--)}};$dict$$module$src$utils$object$$({c:!0,v:!0,a:!0,ad:!0,action:!0});var $a$$module$src$url$$,$cache$$module$src$url$$;
function $parseUrlDeprecated$$module$src$url$$($JSCompiler_inline_result$jscomp$28_url$jscomp$22$$){var $opt_nocache$$;$a$$module$src$url$$||($a$$module$src$url$$=self.document.createElement("a"),$cache$$module$src$url$$=self.UrlCache||(self.UrlCache=new $LruCache$$module$src$utils$lru_cache$$));var $JSCompiler_opt_cache$jscomp$inline_95$$=$opt_nocache$$?null:$cache$$module$src$url$$,$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$=$a$$module$src$url$$;if($JSCompiler_opt_cache$jscomp$inline_95$$&&
$JSCompiler_opt_cache$jscomp$inline_95$$.has($JSCompiler_inline_result$jscomp$28_url$jscomp$22$$))$JSCompiler_inline_result$jscomp$28_url$jscomp$22$$=$JSCompiler_opt_cache$jscomp$inline_95$$.get($JSCompiler_inline_result$jscomp$28_url$jscomp$22$$);else{$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$.href=$JSCompiler_inline_result$jscomp$28_url$jscomp$22$$;$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$.protocol||($JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$.href=
$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$.href);var $JSCompiler_info$jscomp$inline_97$$={href:$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$.href,protocol:$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$.protocol,host:$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$.host,hostname:$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$.hostname,port:"0"==$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$.port?
"":$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$.port,pathname:$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$.pathname,search:$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$.search,hash:$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$.hash,origin:null};"/"!==$JSCompiler_info$jscomp$inline_97$$.pathname[0]&&($JSCompiler_info$jscomp$inline_97$$.pathname="/"+$JSCompiler_info$jscomp$inline_97$$.pathname);if("http:"==$JSCompiler_info$jscomp$inline_97$$.protocol&&
80==$JSCompiler_info$jscomp$inline_97$$.port||"https:"==$JSCompiler_info$jscomp$inline_97$$.protocol&&443==$JSCompiler_info$jscomp$inline_97$$.port)$JSCompiler_info$jscomp$inline_97$$.port="",$JSCompiler_info$jscomp$inline_97$$.host=$JSCompiler_info$jscomp$inline_97$$.hostname;$JSCompiler_info$jscomp$inline_97$$.origin=$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$.origin&&"null"!=$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$.origin?$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$.origin:
"data:"!=$JSCompiler_info$jscomp$inline_97$$.protocol&&$JSCompiler_info$jscomp$inline_97$$.host?$JSCompiler_info$jscomp$inline_97$$.protocol+"//"+$JSCompiler_info$jscomp$inline_97$$.host:$JSCompiler_info$jscomp$inline_97$$.href;$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$=$getMode$$module$src$mode$$().test&&Object.freeze?Object.freeze($JSCompiler_info$jscomp$inline_97$$):$JSCompiler_info$jscomp$inline_97$$;$JSCompiler_opt_cache$jscomp$inline_95$$&&$JSCompiler_opt_cache$jscomp$inline_95$$.put($JSCompiler_inline_result$jscomp$28_url$jscomp$22$$,
$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$);$JSCompiler_inline_result$jscomp$28_url$jscomp$22$$=$JSCompiler_a$jscomp$inline_96_JSCompiler_frozen$jscomp$inline_98$$}return $JSCompiler_inline_result$jscomp$28_url$jscomp$22$$};function $isExperimentOn$$module$src$experiments$$($JSCompiler_params$jscomp$inline_109_win$jscomp$52$$,$experimentId$$){if($JSCompiler_params$jscomp$inline_109_win$jscomp$52$$.__AMP__EXPERIMENT_TOGGLES)var $JSCompiler_inline_result$jscomp$30_JSCompiler_toggles$jscomp$inline_101$$=$JSCompiler_params$jscomp$inline_109_win$jscomp$52$$.__AMP__EXPERIMENT_TOGGLES;else{$JSCompiler_params$jscomp$inline_109_win$jscomp$52$$.__AMP__EXPERIMENT_TOGGLES=Object.create(null);$JSCompiler_inline_result$jscomp$30_JSCompiler_toggles$jscomp$inline_101$$=
$JSCompiler_params$jscomp$inline_109_win$jscomp$52$$.__AMP__EXPERIMENT_TOGGLES;if($JSCompiler_params$jscomp$inline_109_win$jscomp$52$$.AMP_CONFIG)for(var $JSCompiler_allowed$jscomp$inline_104_JSCompiler_experimentId$jscomp$inline_102_allowed$2$jscomp$inline_108$$ in $JSCompiler_params$jscomp$inline_109_win$jscomp$52$$.AMP_CONFIG){var $JSCompiler_frequency$jscomp$inline_103_JSCompiler_meta$jscomp$inline_105_JSCompiler_optedInExperiments$jscomp$inline_106_i$3$jscomp$inline_110$$=$JSCompiler_params$jscomp$inline_109_win$jscomp$52$$.AMP_CONFIG[$JSCompiler_allowed$jscomp$inline_104_JSCompiler_experimentId$jscomp$inline_102_allowed$2$jscomp$inline_108$$];
"number"===typeof $JSCompiler_frequency$jscomp$inline_103_JSCompiler_meta$jscomp$inline_105_JSCompiler_optedInExperiments$jscomp$inline_106_i$3$jscomp$inline_110$$&&0<=$JSCompiler_frequency$jscomp$inline_103_JSCompiler_meta$jscomp$inline_105_JSCompiler_optedInExperiments$jscomp$inline_106_i$3$jscomp$inline_110$$&&1>=$JSCompiler_frequency$jscomp$inline_103_JSCompiler_meta$jscomp$inline_105_JSCompiler_optedInExperiments$jscomp$inline_106_i$3$jscomp$inline_110$$&&($JSCompiler_inline_result$jscomp$30_JSCompiler_toggles$jscomp$inline_101$$[$JSCompiler_allowed$jscomp$inline_104_JSCompiler_experimentId$jscomp$inline_102_allowed$2$jscomp$inline_108$$]=
Math.random()<$JSCompiler_frequency$jscomp$inline_103_JSCompiler_meta$jscomp$inline_105_JSCompiler_optedInExperiments$jscomp$inline_106_i$3$jscomp$inline_110$$)}if($JSCompiler_params$jscomp$inline_109_win$jscomp$52$$.AMP_CONFIG&&Array.isArray($JSCompiler_params$jscomp$inline_109_win$jscomp$52$$.AMP_CONFIG["allow-doc-opt-in"])&&0<$JSCompiler_params$jscomp$inline_109_win$jscomp$52$$.AMP_CONFIG["allow-doc-opt-in"].length&&($JSCompiler_allowed$jscomp$inline_104_JSCompiler_experimentId$jscomp$inline_102_allowed$2$jscomp$inline_108$$=
$JSCompiler_params$jscomp$inline_109_win$jscomp$52$$.AMP_CONFIG["allow-doc-opt-in"],$JSCompiler_frequency$jscomp$inline_103_JSCompiler_meta$jscomp$inline_105_JSCompiler_optedInExperiments$jscomp$inline_106_i$3$jscomp$inline_110$$=$JSCompiler_params$jscomp$inline_109_win$jscomp$52$$.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){$JSCompiler_frequency$jscomp$inline_103_JSCompiler_meta$jscomp$inline_105_JSCompiler_optedInExperiments$jscomp$inline_106_i$3$jscomp$inline_110$$=$JSCompiler_frequency$jscomp$inline_103_JSCompiler_meta$jscomp$inline_105_JSCompiler_optedInExperiments$jscomp$inline_106_i$3$jscomp$inline_110$$.getAttribute("content").split(",");
for(var $JSCompiler_i$jscomp$inline_107_JSCompiler_param$jscomp$inline_111$$=0;$JSCompiler_i$jscomp$inline_107_JSCompiler_param$jscomp$inline_111$$<$JSCompiler_frequency$jscomp$inline_103_JSCompiler_meta$jscomp$inline_105_JSCompiler_optedInExperiments$jscomp$inline_106_i$3$jscomp$inline_110$$.length;$JSCompiler_i$jscomp$inline_107_JSCompiler_param$jscomp$inline_111$$++)-1!=$JSCompiler_allowed$jscomp$inline_104_JSCompiler_experimentId$jscomp$inline_102_allowed$2$jscomp$inline_108$$.indexOf($JSCompiler_frequency$jscomp$inline_103_JSCompiler_meta$jscomp$inline_105_JSCompiler_optedInExperiments$jscomp$inline_106_i$3$jscomp$inline_110$$[$JSCompiler_i$jscomp$inline_107_JSCompiler_param$jscomp$inline_111$$])&&
($JSCompiler_inline_result$jscomp$30_JSCompiler_toggles$jscomp$inline_101$$[$JSCompiler_frequency$jscomp$inline_103_JSCompiler_meta$jscomp$inline_105_JSCompiler_optedInExperiments$jscomp$inline_106_i$3$jscomp$inline_110$$[$JSCompiler_i$jscomp$inline_107_JSCompiler_param$jscomp$inline_111$$]]=!0)}Object.assign($JSCompiler_inline_result$jscomp$30_JSCompiler_toggles$jscomp$inline_101$$,$getExperimentTogglesFromCookie$$module$src$experiments$$($JSCompiler_params$jscomp$inline_109_win$jscomp$52$$));if($JSCompiler_params$jscomp$inline_109_win$jscomp$52$$.AMP_CONFIG&&
Array.isArray($JSCompiler_params$jscomp$inline_109_win$jscomp$52$$.AMP_CONFIG["allow-url-opt-in"])&&0<$JSCompiler_params$jscomp$inline_109_win$jscomp$52$$.AMP_CONFIG["allow-url-opt-in"].length)for($JSCompiler_allowed$jscomp$inline_104_JSCompiler_experimentId$jscomp$inline_102_allowed$2$jscomp$inline_108$$=$JSCompiler_params$jscomp$inline_109_win$jscomp$52$$.AMP_CONFIG["allow-url-opt-in"],$JSCompiler_params$jscomp$inline_109_win$jscomp$52$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_params$jscomp$inline_109_win$jscomp$52$$.location.originalHash||
$JSCompiler_params$jscomp$inline_109_win$jscomp$52$$.location.hash),$JSCompiler_frequency$jscomp$inline_103_JSCompiler_meta$jscomp$inline_105_JSCompiler_optedInExperiments$jscomp$inline_106_i$3$jscomp$inline_110$$=0;$JSCompiler_frequency$jscomp$inline_103_JSCompiler_meta$jscomp$inline_105_JSCompiler_optedInExperiments$jscomp$inline_106_i$3$jscomp$inline_110$$<$JSCompiler_allowed$jscomp$inline_104_JSCompiler_experimentId$jscomp$inline_102_allowed$2$jscomp$inline_108$$.length;$JSCompiler_frequency$jscomp$inline_103_JSCompiler_meta$jscomp$inline_105_JSCompiler_optedInExperiments$jscomp$inline_106_i$3$jscomp$inline_110$$++)$JSCompiler_i$jscomp$inline_107_JSCompiler_param$jscomp$inline_111$$=
$JSCompiler_params$jscomp$inline_109_win$jscomp$52$$["e-"+$JSCompiler_allowed$jscomp$inline_104_JSCompiler_experimentId$jscomp$inline_102_allowed$2$jscomp$inline_108$$[$JSCompiler_frequency$jscomp$inline_103_JSCompiler_meta$jscomp$inline_105_JSCompiler_optedInExperiments$jscomp$inline_106_i$3$jscomp$inline_110$$]],"1"==$JSCompiler_i$jscomp$inline_107_JSCompiler_param$jscomp$inline_111$$&&($JSCompiler_inline_result$jscomp$30_JSCompiler_toggles$jscomp$inline_101$$[$JSCompiler_allowed$jscomp$inline_104_JSCompiler_experimentId$jscomp$inline_102_allowed$2$jscomp$inline_108$$[$JSCompiler_frequency$jscomp$inline_103_JSCompiler_meta$jscomp$inline_105_JSCompiler_optedInExperiments$jscomp$inline_106_i$3$jscomp$inline_110$$]]=
!0),"0"==$JSCompiler_i$jscomp$inline_107_JSCompiler_param$jscomp$inline_111$$&&($JSCompiler_inline_result$jscomp$30_JSCompiler_toggles$jscomp$inline_101$$[$JSCompiler_allowed$jscomp$inline_104_JSCompiler_experimentId$jscomp$inline_102_allowed$2$jscomp$inline_108$$[$JSCompiler_frequency$jscomp$inline_103_JSCompiler_meta$jscomp$inline_105_JSCompiler_optedInExperiments$jscomp$inline_106_i$3$jscomp$inline_110$$]]=!1)}var $toggles$$=$JSCompiler_inline_result$jscomp$30_JSCompiler_toggles$jscomp$inline_101$$;
return!!$toggles$$[$experimentId$$]}
function $getExperimentTogglesFromCookie$$module$src$experiments$$($JSCompiler_cookieString$jscomp$inline_115_JSCompiler_cookies$jscomp$inline_116_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_120_toggles$jscomp$3_win$jscomp$56$$){a:{try{var $JSCompiler_i$jscomp$inline_117_JSCompiler_inline_result$jscomp$149_i$jscomp$19$$=$JSCompiler_cookieString$jscomp$inline_115_JSCompiler_cookies$jscomp$inline_116_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_120_toggles$jscomp$3_win$jscomp$56$$.document.cookie}catch($JSCompiler_e$jscomp$inline_161$$){$JSCompiler_i$jscomp$inline_117_JSCompiler_inline_result$jscomp$149_i$jscomp$19$$=""}if($JSCompiler_cookieString$jscomp$inline_115_JSCompiler_cookies$jscomp$inline_116_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_120_toggles$jscomp$3_win$jscomp$56$$=
$JSCompiler_i$jscomp$inline_117_JSCompiler_inline_result$jscomp$149_i$jscomp$19$$)for($JSCompiler_cookieString$jscomp$inline_115_JSCompiler_cookies$jscomp$inline_116_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_120_toggles$jscomp$3_win$jscomp$56$$=$JSCompiler_cookieString$jscomp$inline_115_JSCompiler_cookies$jscomp$inline_116_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_120_toggles$jscomp$3_win$jscomp$56$$.split(";"),$JSCompiler_i$jscomp$inline_117_JSCompiler_inline_result$jscomp$149_i$jscomp$19$$=
0;$JSCompiler_i$jscomp$inline_117_JSCompiler_inline_result$jscomp$149_i$jscomp$19$$<$JSCompiler_cookieString$jscomp$inline_115_JSCompiler_cookies$jscomp$inline_116_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_120_toggles$jscomp$3_win$jscomp$56$$.length;$JSCompiler_i$jscomp$inline_117_JSCompiler_inline_result$jscomp$149_i$jscomp$19$$++){var $JSCompiler_cookie$jscomp$inline_118$$=$JSCompiler_cookieString$jscomp$inline_115_JSCompiler_cookies$jscomp$inline_116_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_120_toggles$jscomp$3_win$jscomp$56$$[$JSCompiler_i$jscomp$inline_117_JSCompiler_inline_result$jscomp$149_i$jscomp$19$$].trim(),
$JSCompiler_eq$jscomp$inline_119$$=$JSCompiler_cookie$jscomp$inline_118$$.indexOf("=");if(-1!=$JSCompiler_eq$jscomp$inline_119$$&&"AMP_EXP"==$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_cookie$jscomp$inline_118$$.substring(0,$JSCompiler_eq$jscomp$inline_119$$).trim(),void 0)){$JSCompiler_cookieString$jscomp$inline_115_JSCompiler_cookies$jscomp$inline_116_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_120_toggles$jscomp$3_win$jscomp$56$$=$JSCompiler_cookie$jscomp$inline_118$$.substring($JSCompiler_eq$jscomp$inline_119$$+
1).trim();$JSCompiler_cookieString$jscomp$inline_115_JSCompiler_cookies$jscomp$inline_116_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_120_toggles$jscomp$3_win$jscomp$56$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_cookieString$jscomp$inline_115_JSCompiler_cookies$jscomp$inline_116_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_120_toggles$jscomp$3_win$jscomp$56$$,$JSCompiler_cookieString$jscomp$inline_115_JSCompiler_cookies$jscomp$inline_116_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_120_toggles$jscomp$3_win$jscomp$56$$);
break a}}$JSCompiler_cookieString$jscomp$inline_115_JSCompiler_cookies$jscomp$inline_116_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_120_toggles$jscomp$3_win$jscomp$56$$=null}var $experimentCookie$$=$JSCompiler_cookieString$jscomp$inline_115_JSCompiler_cookies$jscomp$inline_116_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_120_toggles$jscomp$3_win$jscomp$56$$,$tokens$$=$experimentCookie$$?$experimentCookie$$.split(/\s*,\s*/g):[];$JSCompiler_cookieString$jscomp$inline_115_JSCompiler_cookies$jscomp$inline_116_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_120_toggles$jscomp$3_win$jscomp$56$$=
Object.create(null);for($JSCompiler_i$jscomp$inline_117_JSCompiler_inline_result$jscomp$149_i$jscomp$19$$=0;$JSCompiler_i$jscomp$inline_117_JSCompiler_inline_result$jscomp$149_i$jscomp$19$$<$tokens$$.length;$JSCompiler_i$jscomp$inline_117_JSCompiler_inline_result$jscomp$149_i$jscomp$19$$++)0!=$tokens$$[$JSCompiler_i$jscomp$inline_117_JSCompiler_inline_result$jscomp$149_i$jscomp$19$$].length&&("-"==$tokens$$[$JSCompiler_i$jscomp$inline_117_JSCompiler_inline_result$jscomp$149_i$jscomp$19$$][0]?$JSCompiler_cookieString$jscomp$inline_115_JSCompiler_cookies$jscomp$inline_116_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_120_toggles$jscomp$3_win$jscomp$56$$[$tokens$$[$JSCompiler_i$jscomp$inline_117_JSCompiler_inline_result$jscomp$149_i$jscomp$19$$].substr(1)]=
!1:$JSCompiler_cookieString$jscomp$inline_115_JSCompiler_cookies$jscomp$inline_116_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_120_toggles$jscomp$3_win$jscomp$56$$[$tokens$$[$JSCompiler_i$jscomp$inline_117_JSCompiler_inline_result$jscomp$149_i$jscomp$19$$]]=!0);return $JSCompiler_cookieString$jscomp$inline_115_JSCompiler_cookies$jscomp$inline_116_JSCompiler_inline_result$jscomp$29_JSCompiler_value$jscomp$inline_120_toggles$jscomp$3_win$jscomp$56$$};var $ADSENSE_AMP_AUTO_ADS_RESPONSIVE_EXPERIMENT_INFO$$module$ads$google$adsense_amp_auto_ads_responsive$$={isTrafficEligible:function($win$jscomp$63$$){return!!$win$jscomp$63$$.document.querySelector("AMP-AUTO-ADS")},branches:["19861210","19861211"]};function $buildUrl$$module$ads$google$a4a$shared$url_builder$$($baseUrl$jscomp$2$$,$queryParams$$){var $maxLength$$=4096,$opt_truncationQueryParam$$,$encodedParams$$=[],$encodedTruncationParam$$=$opt_truncationQueryParam$$&&null!=$opt_truncationQueryParam$$.value&&""!==$opt_truncationQueryParam$$.value?encodeURIComponent($opt_truncationQueryParam$$.name)+"="+encodeURIComponent(String($opt_truncationQueryParam$$.value)):null,$capacity$jscomp$1$$=$maxLength$$-$baseUrl$jscomp$2$$.length;$encodedTruncationParam$$&&
($capacity$jscomp$1$$-=$encodedTruncationParam$$.length+1);for(var $keys$jscomp$1$$=Object.keys($queryParams$$),$i$jscomp$20$$=0;$i$jscomp$20$$<$keys$jscomp$1$$.length;$i$jscomp$20$$++){var $key$jscomp$49$$=$keys$jscomp$1$$[$i$jscomp$20$$],$value$jscomp$104$$=$queryParams$$[$key$jscomp$49$$];if(null!=$value$jscomp$104$$&&""!==$value$jscomp$104$$){var $encodedNameAndSep$$=encodeURIComponent($key$jscomp$49$$)+"=",$encodedValue$$=encodeURIComponent(String($value$jscomp$104$$)),$fullLength$$=$encodedNameAndSep$$.length+
$encodedValue$$.length+1;if($fullLength$$>$capacity$jscomp$1$$){var $truncatedValue$$=$encodedValue$$.substr(0,$capacity$jscomp$1$$-$encodedNameAndSep$$.length-1).replace(/%\w?$/,"");$truncatedValue$$&&$encodedParams$$.push($encodedNameAndSep$$+$truncatedValue$$);$encodedTruncationParam$$&&$encodedParams$$.push($encodedTruncationParam$$);break}$encodedParams$$.push($encodedNameAndSep$$+$encodedValue$$);$capacity$jscomp$1$$-=$fullLength$$}}return $encodedParams$$.length?$baseUrl$jscomp$2$$+"?"+$encodedParams$$.join("&"):
$baseUrl$jscomp$2$$};function $getAdNetworkConfig$$module$extensions$amp_auto_ads$0_1$ad_network_config$$($type$jscomp$134$$,$autoAmpAdsElement$$){return($getMode$$module$src$mode$$().test||$getMode$$module$src$mode$$().localDev)&&"_ping_"==$type$jscomp$134$$?new $PingNetworkConfig$$module$extensions$amp_auto_ads$0_1$ad_network_config$$($autoAmpAdsElement$$):"adsense"==$type$jscomp$134$$?new $AdSenseNetworkConfig$$module$extensions$amp_auto_ads$0_1$ad_network_config$$($autoAmpAdsElement$$):"doubleclick"==$type$jscomp$134$$?
new $DoubleclickNetworkConfig$$module$extensions$amp_auto_ads$0_1$ad_network_config$$($autoAmpAdsElement$$):null}function $PingNetworkConfig$$module$extensions$amp_auto_ads$0_1$ad_network_config$$($autoAmpAdsElement$jscomp$1$$){this.$autoAmpAdsElement_$=$autoAmpAdsElement$jscomp$1$$}$JSCompiler_prototypeAlias$$=$PingNetworkConfig$$module$extensions$amp_auto_ads$0_1$ad_network_config$$.prototype;$JSCompiler_prototypeAlias$$.isEnabled=function(){return!0};
$JSCompiler_prototypeAlias$$.isResponsiveEnabled=function(){return!0};$JSCompiler_prototypeAlias$$.getConfigUrl=function(){return $buildUrl$$module$ads$google$a4a$shared$url_builder$$("//lh3.googleusercontent.com/pSECrJ82R7-AqeBCOEPGPM9iG9OEIQ_QXcbubWIOdkY=w400-h300-no-n",{})};$JSCompiler_prototypeAlias$$.getAttributes=function(){return $dict$$module$src$utils$object$$({type:"_ping_"})};
$JSCompiler_prototypeAlias$$.getDefaultAdConstraints=function(){var $viewportHeight$jscomp$2$$=$Services$$module$src$services$viewportForDoc$$(this.$autoAmpAdsElement_$).getSize().height;return{initialMinSpacing:$viewportHeight$jscomp$2$$,subsequentMinSpacing:[{adCount:3,spacing:2*$viewportHeight$jscomp$2$$},{adCount:6,spacing:3*$viewportHeight$jscomp$2$$}],maxAdCount:8}};$JSCompiler_prototypeAlias$$.getSizing=function(){return{}};
function $AdSenseNetworkConfig$$module$extensions$amp_auto_ads$0_1$ad_network_config$$($autoAmpAdsElement$jscomp$2$$){this.$autoAmpAdsElement_$=$autoAmpAdsElement$jscomp$2$$}$JSCompiler_prototypeAlias$$=$AdSenseNetworkConfig$$module$extensions$amp_auto_ads$0_1$ad_network_config$$.prototype;$JSCompiler_prototypeAlias$$.isEnabled=function(){return!0};
$JSCompiler_prototypeAlias$$.isResponsiveEnabled=function($win$jscomp$65$$){var $JSCompiler_experiments$jscomp$inline_164$$={"amp-auto-ads-adsense-responsive":$ADSENSE_AMP_AUTO_ADS_RESPONSIVE_EXPERIMENT_INFO$$module$ads$google$adsense_amp_auto_ads_responsive$$};$win$jscomp$65$$.experimentBranches=$win$jscomp$65$$.experimentBranches||{};for(var $JSCompiler_experimentName$jscomp$inline_166$$ in $JSCompiler_experiments$jscomp$inline_164$$)if($hasOwn_$$module$src$utils$object$$.call($JSCompiler_experiments$jscomp$inline_164$$,
$JSCompiler_experimentName$jscomp$inline_166$$)&&!$hasOwn_$$module$src$utils$object$$.call($win$jscomp$65$$.experimentBranches,$JSCompiler_experimentName$jscomp$inline_166$$))if($JSCompiler_experiments$jscomp$inline_164$$[$JSCompiler_experimentName$jscomp$inline_166$$].isTrafficEligible&&$JSCompiler_experiments$jscomp$inline_164$$[$JSCompiler_experimentName$jscomp$inline_166$$].isTrafficEligible($win$jscomp$65$$)){if(!$win$jscomp$65$$.experimentBranches[$JSCompiler_experimentName$jscomp$inline_166$$]&&
$isExperimentOn$$module$src$experiments$$($win$jscomp$65$$,$JSCompiler_experimentName$jscomp$inline_166$$)){var $JSCompiler_arr$jscomp$inline_176$$=$JSCompiler_experiments$jscomp$inline_164$$[$JSCompiler_experimentName$jscomp$inline_166$$].branches;$win$jscomp$65$$.experimentBranches[$JSCompiler_experimentName$jscomp$inline_166$$]=$JSCompiler_arr$jscomp$inline_176$$[Math.floor(Math.random()*$JSCompiler_arr$jscomp$inline_176$$.length)]||null}}else $win$jscomp$65$$.experimentBranches[$JSCompiler_experimentName$jscomp$inline_166$$]=
null;var $branch$$=($win$jscomp$65$$.experimentBranches?$win$jscomp$65$$.experimentBranches["amp-auto-ads-adsense-responsive"]:null)||null;return"19861211"!=$branch$$};
$JSCompiler_prototypeAlias$$.getConfigUrl=function(){var $docInfo$$=$getServiceForDoc$$module$src$service$$(this.$autoAmpAdsElement_$,"documentInfo").get(),$canonicalHostname$$=$parseUrlDeprecated$$module$src$url$$($docInfo$$.canonicalUrl).hostname;return $buildUrl$$module$ads$google$a4a$shared$url_builder$$("//pagead2.googlesyndication.com/getconfig/ama",{client:this.$autoAmpAdsElement_$.getAttribute("data-ad-client"),plah:$canonicalHostname$$,ama_t:"amp",url:$docInfo$$.canonicalUrl})};
$JSCompiler_prototypeAlias$$.getAttributes=function(){return $dict$$module$src$utils$object$$({type:"adsense","data-ad-client":this.$autoAmpAdsElement_$.getAttribute("data-ad-client")})};
$JSCompiler_prototypeAlias$$.getDefaultAdConstraints=function(){var $viewportHeight$jscomp$3$$=$Services$$module$src$services$viewportForDoc$$(this.$autoAmpAdsElement_$).getSize().height;return{initialMinSpacing:$viewportHeight$jscomp$3$$,subsequentMinSpacing:[{adCount:3,spacing:2*$viewportHeight$jscomp$3$$},{adCount:6,spacing:3*$viewportHeight$jscomp$3$$}],maxAdCount:8}};$JSCompiler_prototypeAlias$$.getSizing=function(){return{}};
function $DoubleclickNetworkConfig$$module$extensions$amp_auto_ads$0_1$ad_network_config$$($autoAmpAdsElement$jscomp$3$$){this.$autoAmpAdsElement_$=$autoAmpAdsElement$jscomp$3$$}$JSCompiler_prototypeAlias$$=$DoubleclickNetworkConfig$$module$extensions$amp_auto_ads$0_1$ad_network_config$$.prototype;$JSCompiler_prototypeAlias$$.isEnabled=function(){return!0};$JSCompiler_prototypeAlias$$.isResponsiveEnabled=function(){return!1};
$JSCompiler_prototypeAlias$$.getConfigUrl=function(){var $docInfo$jscomp$1$$=$getServiceForDoc$$module$src$service$$(this.$autoAmpAdsElement_$,"documentInfo").get(),$canonicalHostname$jscomp$1$$=$parseUrlDeprecated$$module$src$url$$($docInfo$jscomp$1$$.canonicalUrl).hostname;return $buildUrl$$module$ads$google$a4a$shared$url_builder$$("//pagead2.googlesyndication.com/getconfig/ama",{client:this.$autoAmpAdsElement_$.getAttribute("data-ad-legacy-client"),plah:$canonicalHostname$jscomp$1$$,ama_t:"amp",
url:$docInfo$jscomp$1$$.canonicalUrl})};$JSCompiler_prototypeAlias$$.getAttributes=function(){return $dict$$module$src$utils$object$$({type:"doubleclick","data-slot":this.$autoAmpAdsElement_$.getAttribute("data-slot"),json:this.$autoAmpAdsElement_$.getAttribute("data-json")})};
$JSCompiler_prototypeAlias$$.getDefaultAdConstraints=function(){var $viewportHeight$jscomp$4$$=$Services$$module$src$services$viewportForDoc$$(this.$autoAmpAdsElement_$).getSize().height;return{initialMinSpacing:$viewportHeight$jscomp$4$$,subsequentMinSpacing:[{adCount:3,spacing:2*$viewportHeight$jscomp$4$$},{adCount:6,spacing:3*$viewportHeight$jscomp$4$$}],maxAdCount:8}};
$JSCompiler_prototypeAlias$$.getSizing=function(){var $JSCompiler_json$jscomp$inline_124$$=this.$autoAmpAdsElement_$.getAttribute("data-experiment");try{var $JSCompiler_inline_result$jscomp$32$$=JSON.parse($JSCompiler_json$jscomp$inline_124$$)}catch($JSCompiler_e$jscomp$inline_126$$){$JSCompiler_inline_result$jscomp$32$$=null}var $experimentJson$$=$JSCompiler_inline_result$jscomp$32$$;return $experimentJson$$?{height:$experimentJson$$.height?Number($experimentJson$$.height):250,width:$experimentJson$$.width?
Number($experimentJson$$.width):void 0}:{}};function $AdStrategy$$module$extensions$amp_auto_ads$0_1$ad_strategy$$($placements$jscomp$2$$,$baseAttributes$jscomp$2$$,$sizing$jscomp$2$$,$adTracker$jscomp$1$$,$isResponsiveEnabled$jscomp$2$$){this.$availablePlacements_$=$placements$jscomp$2$$.slice(0);this.$baseAttributes_$=$baseAttributes$jscomp$2$$;this.$sizing_$=$sizing$jscomp$2$$;this.$adTracker_$=$adTracker$jscomp$1$$;this.$adsPlaced_$=0;this.$isResponsiveEnabled_$=void 0===$isResponsiveEnabled$jscomp$2$$?!1:$isResponsiveEnabled$jscomp$2$$}
$AdStrategy$$module$extensions$amp_auto_ads$0_1$ad_strategy$$.prototype.run=function(){var $$jscomp$this$jscomp$4$$=this;return this.$adTracker_$.isMaxAdCountReached()?$tryResolve$$module$src$utils$promise$$(function(){return $JSCompiler_StaticMethods_getStrategyResult_$$($$jscomp$this$jscomp$4$$)}):$JSCompiler_StaticMethods_placeNextAd_$$(this).then(function($success$$){return $success$$?$$jscomp$this$jscomp$4$$.run():$JSCompiler_StaticMethods_getStrategyResult_$$($$jscomp$this$jscomp$4$$)})};
function $JSCompiler_StaticMethods_getStrategyResult_$$($JSCompiler_StaticMethods_getStrategyResult_$self$$){return{adsPlaced:$JSCompiler_StaticMethods_getStrategyResult_$self$$.$adsPlaced_$,totalAdsOnPage:$JSCompiler_StaticMethods_getStrategyResult_$self$$.$adTracker_$.getAdCount()}}
function $JSCompiler_StaticMethods_placeNextAd_$$($JSCompiler_StaticMethods_placeNextAd_$self$$){var $nextPlacement$$=$JSCompiler_StaticMethods_placeNextAd_$self$$.$availablePlacements_$.shift();return $nextPlacement$$?$nextPlacement$$.placeAd($JSCompiler_StaticMethods_placeNextAd_$self$$.$baseAttributes_$,$JSCompiler_StaticMethods_placeNextAd_$self$$.$sizing_$,$JSCompiler_StaticMethods_placeNextAd_$self$$.$adTracker_$,$JSCompiler_StaticMethods_placeNextAd_$self$$.$isResponsiveEnabled_$).then(function($state$$){return 2==
$state$$?($JSCompiler_StaticMethods_placeNextAd_$self$$.$adTracker_$.addAd($nextPlacement$$.getAdElement()),$JSCompiler_StaticMethods_placeNextAd_$self$$.$adsPlaced_$++,!0):$JSCompiler_StaticMethods_placeNextAd_$$($JSCompiler_StaticMethods_placeNextAd_$self$$)}):($user$$module$src$log$$().info("amp-auto-ads","unable to fulfill ad strategy"),Promise.resolve(!1))};function $AdTracker$$module$extensions$amp_auto_ads$0_1$ad_tracker$$($ads$$,$adConstraints$$){this.$ads_$=$ads$$;this.$initialMinSpacing_$=$adConstraints$$.initialMinSpacing;this.$subsequentMinSpacing_$=$adConstraints$$.subsequentMinSpacing.slice(0).sort(function($ads$$,$adConstraints$$){return $ads$$.adCount-$adConstraints$$.adCount});this.$maxAdCount_$=$adConstraints$$.maxAdCount;this.$minAdSpacing_$=$JSCompiler_StaticMethods_getMinAdSpacing_$$(this)}
$AdTracker$$module$extensions$amp_auto_ads$0_1$ad_tracker$$.prototype.addAd=function($ad$$){this.$ads_$.push($ad$$);this.$minAdSpacing_$=$JSCompiler_StaticMethods_getMinAdSpacing_$$(this)};$AdTracker$$module$extensions$amp_auto_ads$0_1$ad_tracker$$.prototype.getAdCount=function(){return this.$ads_$.length};$AdTracker$$module$extensions$amp_auto_ads$0_1$ad_tracker$$.prototype.isMaxAdCountReached=function(){return this.getAdCount()>=this.$maxAdCount_$};
$AdTracker$$module$extensions$amp_auto_ads$0_1$ad_tracker$$.prototype.isTooNearAnAd=function($yPosition$jscomp$1$$){return $JSCompiler_StaticMethods_isWithinMinDistanceOfAd_$$(this,$yPosition$jscomp$1$$,0)};
function $JSCompiler_StaticMethods_isWithinMinDistanceOfAd_$$($JSCompiler_StaticMethods_isWithinMinDistanceOfAd_$self$$,$yPosition$jscomp$2$$,$adIndex$$){return $adIndex$$>=$JSCompiler_StaticMethods_isWithinMinDistanceOfAd_$self$$.$ads_$.length?Promise.resolve(!1):$JSCompiler_StaticMethods_getDistanceFromAd_$$($yPosition$jscomp$2$$,$JSCompiler_StaticMethods_isWithinMinDistanceOfAd_$self$$.$ads_$[$adIndex$$]).then(function($distance$$){return $distance$$<$JSCompiler_StaticMethods_isWithinMinDistanceOfAd_$self$$.$minAdSpacing_$?
!0:$JSCompiler_StaticMethods_isWithinMinDistanceOfAd_$$($JSCompiler_StaticMethods_isWithinMinDistanceOfAd_$self$$,$yPosition$jscomp$2$$,$adIndex$$+1)})}
function $JSCompiler_StaticMethods_getDistanceFromAd_$$($yPosition$jscomp$3$$,$ad$jscomp$1$$){return $getServiceForDoc$$module$src$service$$($ad$jscomp$1$$,"resources").getElementLayoutBox($ad$jscomp$1$$).then(function($ad$jscomp$1$$){return $yPosition$jscomp$3$$>=$ad$jscomp$1$$.top&&$yPosition$jscomp$3$$<=$ad$jscomp$1$$.bottom?0:Math.min(Math.abs($yPosition$jscomp$3$$-$ad$jscomp$1$$.top),Math.abs($yPosition$jscomp$3$$-$ad$jscomp$1$$.bottom))})}
function $JSCompiler_StaticMethods_getMinAdSpacing_$$($JSCompiler_StaticMethods_getMinAdSpacing_$self$$){for(var $adCount$$=$JSCompiler_StaticMethods_getMinAdSpacing_$self$$.getAdCount(),$spacing$$=$JSCompiler_StaticMethods_getMinAdSpacing_$self$$.$initialMinSpacing_$,$i$jscomp$23$$=0;$i$jscomp$23$$<$JSCompiler_StaticMethods_getMinAdSpacing_$self$$.$subsequentMinSpacing_$.length;$i$jscomp$23$$++){var $item$$=$JSCompiler_StaticMethods_getMinAdSpacing_$self$$.$subsequentMinSpacing_$[$i$jscomp$23$$];
$item$$.adCount<=$adCount$$&&($spacing$$=$item$$.spacing)}return $spacing$$}function $getExistingAds$$module$extensions$amp_auto_ads$0_1$ad_tracker$$($ampdoc$jscomp$13$$){return[].slice.call($ampdoc$jscomp$13$$.getRootNode().getElementsByTagName("AMP-AD")).filter(function($ampdoc$jscomp$13$$){return $ampdoc$jscomp$13$$.parentElement&&"AMP-STICKY-AD"==$ampdoc$jscomp$13$$.parentElement.tagName?!1:!0})}
function $getAdConstraintsFromConfigObj$$module$extensions$amp_auto_ads$0_1$ad_tracker$$($ampdoc$jscomp$14$$,$configObj$jscomp$2_obj$jscomp$31$$){$configObj$jscomp$2_obj$jscomp$31$$=$configObj$jscomp$2_obj$jscomp$31$$.adConstraints;if(!$configObj$jscomp$2_obj$jscomp$31$$)return null;var $viewportHeight$jscomp$5$$=$Services$$module$src$services$viewportForDoc$$($ampdoc$jscomp$14$$).getHeight(),$initialMinSpacing$$=$getValueFromString$$module$extensions$amp_auto_ads$0_1$ad_tracker$$($configObj$jscomp$2_obj$jscomp$31$$.initialMinSpacing,
$viewportHeight$jscomp$5$$);if(null==$initialMinSpacing$$)return $user$$module$src$log$$().warn("amp-auto-ads","Invalid initial min spacing"),null;var $subsequentMinSpacing$$=($configObj$jscomp$2_obj$jscomp$31$$.subsequentMinSpacing||[]).map(function($ampdoc$jscomp$14$$){var $configObj$jscomp$2_obj$jscomp$31$$=$ampdoc$jscomp$14$$.adCount;if(null==$configObj$jscomp$2_obj$jscomp$31$$)return $user$$module$src$log$$().warn("amp-auto-ads","No subsequentMinSpacing adCount specified"),null;$ampdoc$jscomp$14$$=
$getValueFromString$$module$extensions$amp_auto_ads$0_1$ad_tracker$$($ampdoc$jscomp$14$$.spacing,$viewportHeight$jscomp$5$$);return null==$ampdoc$jscomp$14$$?($user$$module$src$log$$().warn("amp-auto-ads","Invalid subsequent min spacing"),null):{adCount:$configObj$jscomp$2_obj$jscomp$31$$,spacing:$ampdoc$jscomp$14$$}});return-1!=$subsequentMinSpacing$$.indexOf(null)?null:null==$configObj$jscomp$2_obj$jscomp$31$$.maxAdCount?($user$$module$src$log$$().warn("amp-auto-ads","No maxAdCount specified"),
null):{initialMinSpacing:$initialMinSpacing$$,subsequentMinSpacing:$subsequentMinSpacing$$,maxAdCount:$configObj$jscomp$2_obj$jscomp$31$$.maxAdCount}}
function $getValueFromString$$module$extensions$amp_auto_ads$0_1$ad_tracker$$($strValue$$,$viewportHeight$jscomp$6$$){if(!$strValue$$)return null;var $numValue$$=parseFloat($strValue$$);return isNaN($numValue$$)||0>$numValue$$?null:$endsWith$$module$src$string$$($strValue$$,"px")?$numValue$$:$endsWith$$module$src$string$$($strValue$$,"vp")?$numValue$$*$viewportHeight$jscomp$6$$:null};function $AnchorAdStrategy$$module$extensions$amp_auto_ads$0_1$anchor_ad_strategy$$($ampdoc$jscomp$15$$,$baseAttributes$jscomp$3$$,$configObj$jscomp$3$$){this.ampdoc=$ampdoc$jscomp$15$$;this.$baseAttributes_$=$baseAttributes$jscomp$3$$;this.$configObj_$=$configObj$jscomp$3$$}
$AnchorAdStrategy$$module$extensions$amp_auto_ads$0_1$anchor_ad_strategy$$.prototype.run=function(){var $JSCompiler_doc$jscomp$inline_135_JSCompiler_inline_result$jscomp$33_JSCompiler_optInStatus$jscomp$inline_129_JSCompiler_stickyAd$jscomp$inline_137_JSCompiler_viewportWidth$jscomp$inline_133$$;a:{if($JSCompiler_doc$jscomp$inline_135_JSCompiler_inline_result$jscomp$33_JSCompiler_optInStatus$jscomp$inline_129_JSCompiler_stickyAd$jscomp$inline_137_JSCompiler_viewportWidth$jscomp$inline_133$$=this.$configObj_$.optInStatus)for(var $JSCompiler_ampAd$jscomp$inline_136_JSCompiler_attributes$jscomp$inline_134_JSCompiler_body$jscomp$inline_138_JSCompiler_i$jscomp$inline_130$$=
0;$JSCompiler_ampAd$jscomp$inline_136_JSCompiler_attributes$jscomp$inline_134_JSCompiler_body$jscomp$inline_138_JSCompiler_i$jscomp$inline_130$$<$JSCompiler_doc$jscomp$inline_135_JSCompiler_inline_result$jscomp$33_JSCompiler_optInStatus$jscomp$inline_129_JSCompiler_stickyAd$jscomp$inline_137_JSCompiler_viewportWidth$jscomp$inline_133$$.length;$JSCompiler_ampAd$jscomp$inline_136_JSCompiler_attributes$jscomp$inline_134_JSCompiler_body$jscomp$inline_138_JSCompiler_i$jscomp$inline_130$$++)if(2==$JSCompiler_doc$jscomp$inline_135_JSCompiler_inline_result$jscomp$33_JSCompiler_optInStatus$jscomp$inline_129_JSCompiler_stickyAd$jscomp$inline_137_JSCompiler_viewportWidth$jscomp$inline_133$$[$JSCompiler_ampAd$jscomp$inline_136_JSCompiler_attributes$jscomp$inline_134_JSCompiler_body$jscomp$inline_138_JSCompiler_i$jscomp$inline_130$$]){$JSCompiler_doc$jscomp$inline_135_JSCompiler_inline_result$jscomp$33_JSCompiler_optInStatus$jscomp$inline_129_JSCompiler_stickyAd$jscomp$inline_137_JSCompiler_viewportWidth$jscomp$inline_133$$=
!0;break a}$JSCompiler_doc$jscomp$inline_135_JSCompiler_inline_result$jscomp$33_JSCompiler_optInStatus$jscomp$inline_129_JSCompiler_stickyAd$jscomp$inline_137_JSCompiler_viewportWidth$jscomp$inline_133$$=!1}if(!$JSCompiler_doc$jscomp$inline_135_JSCompiler_inline_result$jscomp$33_JSCompiler_optInStatus$jscomp$inline_129_JSCompiler_stickyAd$jscomp$inline_137_JSCompiler_viewportWidth$jscomp$inline_133$$)return Promise.resolve(!1);if(0<this.ampdoc.getRootNode().getElementsByTagName("AMP-STICKY-AD").length)return $user$$module$src$log$$().warn("amp-auto-ads",
"exists <amp-sticky-ad>"),Promise.resolve(!1);$getService$$module$src$service$$(this.ampdoc.win,"extensions").installExtensionForDoc(this.ampdoc,"amp-sticky-ad","1.0");$JSCompiler_doc$jscomp$inline_135_JSCompiler_inline_result$jscomp$33_JSCompiler_optInStatus$jscomp$inline_129_JSCompiler_stickyAd$jscomp$inline_137_JSCompiler_viewportWidth$jscomp$inline_133$$=$Services$$module$src$services$viewportForDoc$$(this.ampdoc).getWidth();$JSCompiler_ampAd$jscomp$inline_136_JSCompiler_attributes$jscomp$inline_134_JSCompiler_body$jscomp$inline_138_JSCompiler_i$jscomp$inline_130$$=
Object.assign({},this.$baseAttributes_$,$dict$$module$src$utils$object$$({width:String($JSCompiler_doc$jscomp$inline_135_JSCompiler_inline_result$jscomp$33_JSCompiler_optInStatus$jscomp$inline_129_JSCompiler_stickyAd$jscomp$inline_137_JSCompiler_viewportWidth$jscomp$inline_133$$),height:"100"}));$JSCompiler_doc$jscomp$inline_135_JSCompiler_inline_result$jscomp$33_JSCompiler_optInStatus$jscomp$inline_129_JSCompiler_stickyAd$jscomp$inline_137_JSCompiler_viewportWidth$jscomp$inline_133$$=this.ampdoc.win.document;
$JSCompiler_ampAd$jscomp$inline_136_JSCompiler_attributes$jscomp$inline_134_JSCompiler_body$jscomp$inline_138_JSCompiler_i$jscomp$inline_130$$=$createElementWithAttributes$$module$src$dom$$($JSCompiler_doc$jscomp$inline_135_JSCompiler_inline_result$jscomp$33_JSCompiler_optInStatus$jscomp$inline_129_JSCompiler_stickyAd$jscomp$inline_137_JSCompiler_viewportWidth$jscomp$inline_133$$,"amp-ad",$JSCompiler_ampAd$jscomp$inline_136_JSCompiler_attributes$jscomp$inline_134_JSCompiler_body$jscomp$inline_138_JSCompiler_i$jscomp$inline_130$$);
$JSCompiler_doc$jscomp$inline_135_JSCompiler_inline_result$jscomp$33_JSCompiler_optInStatus$jscomp$inline_129_JSCompiler_stickyAd$jscomp$inline_137_JSCompiler_viewportWidth$jscomp$inline_133$$=$createElementWithAttributes$$module$src$dom$$($JSCompiler_doc$jscomp$inline_135_JSCompiler_inline_result$jscomp$33_JSCompiler_optInStatus$jscomp$inline_129_JSCompiler_stickyAd$jscomp$inline_137_JSCompiler_viewportWidth$jscomp$inline_133$$,"amp-sticky-ad",$dict$$module$src$utils$object$$({layout:"nodisplay"}));
$JSCompiler_doc$jscomp$inline_135_JSCompiler_inline_result$jscomp$33_JSCompiler_optInStatus$jscomp$inline_129_JSCompiler_stickyAd$jscomp$inline_137_JSCompiler_viewportWidth$jscomp$inline_133$$.appendChild($JSCompiler_ampAd$jscomp$inline_136_JSCompiler_attributes$jscomp$inline_134_JSCompiler_body$jscomp$inline_138_JSCompiler_i$jscomp$inline_130$$);$JSCompiler_ampAd$jscomp$inline_136_JSCompiler_attributes$jscomp$inline_134_JSCompiler_body$jscomp$inline_138_JSCompiler_i$jscomp$inline_130$$=this.ampdoc.getBody();
$JSCompiler_ampAd$jscomp$inline_136_JSCompiler_attributes$jscomp$inline_134_JSCompiler_body$jscomp$inline_138_JSCompiler_i$jscomp$inline_130$$.insertBefore($JSCompiler_doc$jscomp$inline_135_JSCompiler_inline_result$jscomp$33_JSCompiler_optInStatus$jscomp$inline_129_JSCompiler_stickyAd$jscomp$inline_137_JSCompiler_viewportWidth$jscomp$inline_133$$,$JSCompiler_ampAd$jscomp$inline_136_JSCompiler_attributes$jscomp$inline_134_JSCompiler_body$jscomp$inline_138_JSCompiler_i$jscomp$inline_130$$.firstChild);
return Promise.resolve(!0)};function $AmpAutoAds$$module$extensions$amp_auto_ads$0_1$amp_auto_ads$$($var_args$jscomp$56$$){return AMP.BaseElement.apply(this,arguments)||this}var $JSCompiler_parentCtor$jscomp$inline_141$$=AMP.BaseElement;$AmpAutoAds$$module$extensions$amp_auto_ads$0_1$amp_auto_ads$$.prototype=$$jscomp$objectCreate$$($JSCompiler_parentCtor$jscomp$inline_141$$.prototype);$AmpAutoAds$$module$extensions$amp_auto_ads$0_1$amp_auto_ads$$.prototype.constructor=$AmpAutoAds$$module$extensions$amp_auto_ads$0_1$amp_auto_ads$$;
if($$jscomp$setPrototypeOf$$)$$jscomp$setPrototypeOf$$($AmpAutoAds$$module$extensions$amp_auto_ads$0_1$amp_auto_ads$$,$JSCompiler_parentCtor$jscomp$inline_141$$);else for(var $JSCompiler_p$jscomp$inline_142$$ in $JSCompiler_parentCtor$jscomp$inline_141$$)if("prototype"!=$JSCompiler_p$jscomp$inline_142$$)if(Object.defineProperties){var $JSCompiler_descriptor$jscomp$inline_143$$=Object.getOwnPropertyDescriptor($JSCompiler_parentCtor$jscomp$inline_141$$,$JSCompiler_p$jscomp$inline_142$$);$JSCompiler_descriptor$jscomp$inline_143$$&&
Object.defineProperty($AmpAutoAds$$module$extensions$amp_auto_ads$0_1$amp_auto_ads$$,$JSCompiler_p$jscomp$inline_142$$,$JSCompiler_descriptor$jscomp$inline_143$$)}else $AmpAutoAds$$module$extensions$amp_auto_ads$0_1$amp_auto_ads$$[$JSCompiler_p$jscomp$inline_142$$]=$JSCompiler_parentCtor$jscomp$inline_141$$[$JSCompiler_p$jscomp$inline_142$$];$AmpAutoAds$$module$extensions$amp_auto_ads$0_1$amp_auto_ads$$.$superClass_$=$JSCompiler_parentCtor$jscomp$inline_141$$.prototype;
$AmpAutoAds$$module$extensions$amp_auto_ads$0_1$amp_auto_ads$$.prototype.buildCallback=function(){var $$jscomp$this$jscomp$7$$=this;$userAssert$$module$src$log$$($isExperimentOn$$module$src$experiments$$(this.win,"amp-auto-ads"),"Experiment is off");var $type$jscomp$135$$=this.element.getAttribute("type");$userAssert$$module$src$log$$($type$jscomp$135$$,"Missing type attribute");var $adNetwork$$=$getAdNetworkConfig$$module$extensions$amp_auto_ads$0_1$ad_network_config$$($type$jscomp$135$$,this.element);
$userAssert$$module$src$log$$($adNetwork$$,"No AdNetworkConfig for type: "+$type$jscomp$135$$);if($adNetwork$$.isEnabled(this.win)){var $ampdoc$jscomp$16$$=this.getAmpDoc();$getService$$module$src$service$$(this.win,"extensions").installExtensionForDoc($ampdoc$jscomp$16$$,"amp-ad");var $viewer$$=$getServiceForDoc$$module$src$service$$(this.getAmpDoc(),"viewer"),$whenVisible$$=$viewer$$.whenFirstVisible();$whenVisible$$.then(function(){return $JSCompiler_StaticMethods_getConfig_$$($$jscomp$this$jscomp$7$$,
$adNetwork$$.getConfigUrl())}).then(function($type$jscomp$135$$){if($type$jscomp$135$$){var $viewer$$=$type$jscomp$135$$.noConfigReason;if($viewer$$)$$jscomp$this$jscomp$7$$.user().warn("amp-auto-ads",$viewer$$);else{var $whenVisible$$=$getPlacementsFromConfigObj$$module$extensions$amp_auto_ads$0_1$placement$$($ampdoc$jscomp$16$$,$type$jscomp$135$$),$configObj$jscomp$4$$=Object.assign($adNetwork$$.getAttributes(),$getAttributesFromConfigObj$$module$extensions$amp_auto_ads$0_1$attributes$$($type$jscomp$135$$)),
$sizing$jscomp$3$$=$adNetwork$$.getSizing(),$adConstraints$jscomp$1_adTracker$jscomp$2$$=$getAdConstraintsFromConfigObj$$module$extensions$amp_auto_ads$0_1$ad_tracker$$($ampdoc$jscomp$16$$,$type$jscomp$135$$)||$adNetwork$$.getDefaultAdConstraints();$adConstraints$jscomp$1_adTracker$jscomp$2$$=new $AdTracker$$module$extensions$amp_auto_ads$0_1$ad_tracker$$($getExistingAds$$module$extensions$amp_auto_ads$0_1$ad_tracker$$($ampdoc$jscomp$16$$),$adConstraints$jscomp$1_adTracker$jscomp$2$$);(new $AdStrategy$$module$extensions$amp_auto_ads$0_1$ad_strategy$$($whenVisible$$,
$configObj$jscomp$4$$,$sizing$jscomp$3$$,$adConstraints$jscomp$1_adTracker$jscomp$2$$,$adNetwork$$.isResponsiveEnabled($$jscomp$this$jscomp$7$$.win))).run();(new $AnchorAdStrategy$$module$extensions$amp_auto_ads$0_1$anchor_ad_strategy$$($ampdoc$jscomp$16$$,$configObj$jscomp$4$$,$type$jscomp$135$$)).run()}}})}};$AmpAutoAds$$module$extensions$amp_auto_ads$0_1$amp_auto_ads$$.prototype.isLayoutSupported=function(){return!0};
function $JSCompiler_StaticMethods_getConfig_$$($JSCompiler_StaticMethods_getConfig_$self$$,$configUrl$$){var $xhrInit$$={mode:"cors",method:"GET",credentials:"omit",requireAmpResponseSourceOrigin:!1};return $getService$$module$src$service$$($JSCompiler_StaticMethods_getConfig_$self$$.win,"xhr").fetchJson($configUrl$$,$xhrInit$$).then(function($JSCompiler_StaticMethods_getConfig_$self$$){return $JSCompiler_StaticMethods_getConfig_$self$$.json()}).catch(function($configUrl$$){$JSCompiler_StaticMethods_getConfig_$self$$.user().error("amp-auto-ads",
"amp-auto-ads config xhr failed: "+$configUrl$$);return null})}(function($AMP$jscomp$1$$){$AMP$jscomp$1$$.registerElement("amp-auto-ads",$AmpAutoAds$$module$extensions$amp_auto_ads$0_1$amp_auto_ads$$)})(self.AMP);
})});

//# sourceMappingURL=amp-auto-ads-0.1.js.map
