(self.AMP=self.AMP||[]).push({n:"amp-skimlinks",v:"1904281823091",f:(function(AMP,_){
var $JSCompiler_prototypeAlias$$,$$jscomp$objectCreate$$="function"==typeof Object.create?Object.create:function($prototype$$){function $ctor$$(){}$ctor$$.prototype=$prototype$$;return new $ctor$$},$JSCompiler_temp$jscomp$20$$;
if("function"==typeof Object.setPrototypeOf)$JSCompiler_temp$jscomp$20$$=Object.setPrototypeOf;else{var $JSCompiler_inline_result$jscomp$21$$;a:{var $JSCompiler_x$jscomp$inline_52$$={a:!0},$JSCompiler_y$jscomp$inline_53$$={};try{$JSCompiler_y$jscomp$inline_53$$.__proto__=$JSCompiler_x$jscomp$inline_52$$;$JSCompiler_inline_result$jscomp$21$$=$JSCompiler_y$jscomp$inline_53$$.a;break a}catch($JSCompiler_e$jscomp$inline_54$$){}$JSCompiler_inline_result$jscomp$21$$=!1}$JSCompiler_temp$jscomp$20$$=$JSCompiler_inline_result$jscomp$21$$?
function($target$jscomp$83$$,$proto$jscomp$3$$){$target$jscomp$83$$.__proto__=$proto$jscomp$3$$;if($target$jscomp$83$$.__proto__!==$proto$jscomp$3$$)throw new TypeError($target$jscomp$83$$+" is not extensible");return $target$jscomp$83$$}:null}var $$jscomp$setPrototypeOf$$=$JSCompiler_temp$jscomp$20$$;
function $$jscomp$inherits$$($childCtor$$,$parentCtor$$){$childCtor$$.prototype=$$jscomp$objectCreate$$($parentCtor$$.prototype);$childCtor$$.prototype.constructor=$childCtor$$;if($$jscomp$setPrototypeOf$$)$$jscomp$setPrototypeOf$$($childCtor$$,$parentCtor$$);else for(var $p$$ in $parentCtor$$)if("prototype"!=$p$$)if(Object.defineProperties){var $descriptor$jscomp$1$$=Object.getOwnPropertyDescriptor($parentCtor$$,$p$$);$descriptor$jscomp$1$$&&Object.defineProperty($childCtor$$,$p$$,$descriptor$jscomp$1$$)}else $childCtor$$[$p$$]=
$parentCtor$$[$p$$];$childCtor$$.$superClass_$=$parentCtor$$.prototype}var $$jscomp$global$$=function($maybeGlobal$$){return"undefined"!=typeof window&&window===$maybeGlobal$$?$maybeGlobal$$:"undefined"!=typeof global&&null!=global?global:$maybeGlobal$$}(this);function $Deferred$$module$src$utils$promise$$(){var $resolve$$,$reject$$;this.promise=new Promise(function($res$$,$rej$$){$resolve$$=$res$$;$reject$$=$rej$$});this.resolve=$resolve$$;this.reject=$reject$$};function $tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($component$jscomp$4$$,$fallback$$){$fallback$$=void 0===$fallback$$?"":$fallback$$;try{return decodeURIComponent($component$jscomp$4$$)}catch($e$jscomp$8$$){return $fallback$$}};var $regex$$module$src$url_parse_query_string$$=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;
function $parseQueryString_$$module$src$url_parse_query_string$$($queryString$$){var $params$jscomp$1$$=Object.create(null);if(!$queryString$$)return $params$jscomp$1$$;for(var $match$$;$match$$=$regex$$module$src$url_parse_query_string$$.exec($queryString$$);){var $name$jscomp$70$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[1],$match$$[1]),$value$jscomp$87$$=$match$$[2]?$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[2],$match$$[2]):"";
$params$jscomp$1$$[$name$jscomp$70$$]=$value$jscomp$87$$}return $params$jscomp$1$$};var $rtvVersion$$module$src$mode$$="";self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log;function $userAssert$$module$src$log$$($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$){if(!$logs$$module$src$log$$.user)throw Error("failed to call initLogConstructor");$logs$$module$src$log$$.user.assert($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};function $getService$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$){$win$jscomp$8$$=$win$jscomp$8$$.__AMP_TOP||$win$jscomp$8$$;return $getServiceInternal$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$)}
function $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$$,$id$jscomp$15$$){var $ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdoc$$module$src$service$$($elementOrAmpDoc$$);$ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$);return $getServiceInternal$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$,$id$jscomp$15$$)}
function $getAmpdoc$$module$src$service$$($nodeOrDoc$jscomp$2$$){return $nodeOrDoc$jscomp$2$$.nodeType?$getService$$module$src$service$$(($nodeOrDoc$jscomp$2$$.ownerDocument||$nodeOrDoc$jscomp$2$$).defaultView,"ampdoc").getAmpDoc($nodeOrDoc$jscomp$2$$):$nodeOrDoc$jscomp$2$$}
function $getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$){$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$=$getAmpdoc$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$);return $ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.isSingleDoc()?$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.win:$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$){var $services$$=$getServices$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$);$holder$jscomp$4_s$jscomp$8$$=$services$$[$id$jscomp$19$$];$holder$jscomp$4_s$jscomp$8$$.obj||($holder$jscomp$4_s$jscomp$8$$.obj=new $holder$jscomp$4_s$jscomp$8$$.ctor($holder$jscomp$4_s$jscomp$8$$.context),$holder$jscomp$4_s$jscomp$8$$.ctor=null,$holder$jscomp$4_s$jscomp$8$$.context=null,$holder$jscomp$4_s$jscomp$8$$.resolve&&
$holder$jscomp$4_s$jscomp$8$$.resolve($holder$jscomp$4_s$jscomp$8$$.obj));return $holder$jscomp$4_s$jscomp$8$$.obj}
function $getServicePromiseInternal$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$,$id$jscomp$21$$){var $cached$$=$getServicePromiseOrNullInternal$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$,$id$jscomp$21$$);if($cached$$)return $cached$$;$holder$jscomp$6_services$jscomp$2$$=$getServices$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$);$holder$jscomp$6_services$jscomp$2$$[$id$jscomp$21$$]=$emptyServiceHolderWithPromise$$module$src$service$$();return $holder$jscomp$6_services$jscomp$2$$[$id$jscomp$21$$].promise}
function $getServicePromiseOrNullInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$){var $s$jscomp$11$$=$getServices$$module$src$service$$($holder$jscomp$8$$)[$id$jscomp$23$$];if($s$jscomp$11$$){if($s$jscomp$11$$.promise)return $s$jscomp$11$$.promise;$getServiceInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$);return $s$jscomp$11$$.promise=Promise.resolve($s$jscomp$11$$.obj)}return null}
function $getServices$$module$src$service$$($holder$jscomp$9$$){var $services$jscomp$5$$=$holder$jscomp$9$$.services;$services$jscomp$5$$||($services$jscomp$5$$=$holder$jscomp$9$$.services={});return $services$jscomp$5$$}
function $emptyServiceHolderWithPromise$$module$src$service$$(){var $deferred$$=new $Deferred$$module$src$utils$promise$$,$$jscomp$destructuring$var2_reject$jscomp$3$$=$deferred$$,$promise$jscomp$1$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.promise,$resolve$jscomp$4$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.resolve;$$jscomp$destructuring$var2_reject$jscomp$3$$=$$jscomp$destructuring$var2_reject$jscomp$3$$.reject;$promise$jscomp$1$$.catch(function(){});return{obj:null,promise:$promise$jscomp$1$$,
resolve:$resolve$jscomp$4$$,reject:$$jscomp$destructuring$var2_reject$jscomp$3$$,context:null,ctor:null}};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var $scopeSelectorSupported$$module$src$css$$;function $dict$$module$src$utils$object$$($opt_initial$jscomp$1$$){return $opt_initial$jscomp$1$$||{}};function $createElementWithAttributes$$module$src$dom$$($doc$jscomp$12_element$jscomp$16$$,$tagName$jscomp$5$$,$attributes$jscomp$2$$){$doc$jscomp$12_element$jscomp$16$$=$doc$jscomp$12_element$jscomp$16$$.createElement($tagName$jscomp$5$$);for(var $JSCompiler_attr$jscomp$inline_64$$ in $attributes$jscomp$2$$)$doc$jscomp$12_element$jscomp$16$$.setAttribute($JSCompiler_attr$jscomp$inline_64$$,$attributes$jscomp$2$$[$JSCompiler_attr$jscomp$inline_64$$]);return $doc$jscomp$12_element$jscomp$16$$};function $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$33$$){var $s$jscomp$13$$=$getServicePromiseOrNullInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($element$jscomp$33$$),"amp-analytics-instrumentation");if($s$jscomp$13$$)return $s$jscomp$13$$;var $ampdoc$jscomp$7$$=$getAmpdoc$$module$src$service$$($element$jscomp$33$$);return $ampdoc$jscomp$7$$.whenBodyAvailable().then(function(){var $element$jscomp$33$$=$ampdoc$jscomp$7$$.win;var $s$jscomp$13$$=
$ampdoc$jscomp$7$$.win.document.head;if($s$jscomp$13$$){var $JSCompiler_inline_result$jscomp$232_JSCompiler_scripts$jscomp$inline_234$$=[];$s$jscomp$13$$=$s$jscomp$13$$.querySelectorAll("script[custom-element]");for(var $JSCompiler_i$jscomp$inline_236$$=0;$JSCompiler_i$jscomp$inline_236$$<$s$jscomp$13$$.length;$JSCompiler_i$jscomp$inline_236$$++)$JSCompiler_inline_result$jscomp$232_JSCompiler_scripts$jscomp$inline_234$$.push($s$jscomp$13$$[$JSCompiler_i$jscomp$inline_236$$].getAttribute("custom-element"))}else $JSCompiler_inline_result$jscomp$232_JSCompiler_scripts$jscomp$inline_234$$=
[];$element$jscomp$33$$=$JSCompiler_inline_result$jscomp$232_JSCompiler_scripts$jscomp$inline_234$$.includes("amp-analytics")?$getService$$module$src$service$$($element$jscomp$33$$,"extensions").waitForExtension($element$jscomp$33$$,"amp-analytics"):Promise.resolve();return $element$jscomp$33$$}).then(function(){var $s$jscomp$13$$=$ampdoc$jscomp$7$$.win;return $s$jscomp$13$$.ampExtendedElements&&$s$jscomp$13$$.ampExtendedElements["amp-analytics"]?$getServicePromiseInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($element$jscomp$33$$),
"amp-analytics-instrumentation"):null})};function $Services$$module$src$services$documentInfoForDoc$$($elementOrAmpDoc$jscomp$6$$){return $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$6$$,"documentInfo").get()};function $once$$module$src$utils$function$$($fn$jscomp$3$$){var $evaluated$$=!1,$retValue$$=null,$callback$jscomp$66$$=$fn$jscomp$3$$;return function($fn$jscomp$3$$){for(var $args$$=[],$$jscomp$restIndex$$=0;$$jscomp$restIndex$$<arguments.length;++$$jscomp$restIndex$$)$args$$[$$jscomp$restIndex$$-0]=arguments[$$jscomp$restIndex$$];$evaluated$$||($retValue$$=$callback$jscomp$66$$.apply(self,$args$$),$evaluated$$=!0,$callback$jscomp$66$$=null);return $retValue$$}};function $triggerAnalyticsEvent$$module$src$analytics$$($target$jscomp$86$$,$eventType$jscomp$3$$,$opt_vars$$){$getElementServiceIfAvailableForDoc$$module$src$element_service$$($target$jscomp$86$$).then(function($analytics$$){$analytics$$&&$analytics$$.triggerEventForTarget($target$jscomp$86$$,$eventType$jscomp$3$$,$opt_vars$$)})};function $insertAnalyticsElement$$module$src$extension_analytics$$($parentElement$$,$config$jscomp$2_extensions$jscomp$1$$){var $ampdoc$jscomp$10_loadAnalytics$jscomp$1$$=!0;$ampdoc$jscomp$10_loadAnalytics$jscomp$1$$=void 0===$ampdoc$jscomp$10_loadAnalytics$jscomp$1$$?!1:$ampdoc$jscomp$10_loadAnalytics$jscomp$1$$;var $disableImmediate$$=void 0===$disableImmediate$$?!1:$disableImmediate$$;var $doc$jscomp$14$$=$parentElement$$.ownerDocument,$analyticsElem$$=$createElementWithAttributes$$module$src$dom$$($doc$jscomp$14$$,
"amp-analytics",$dict$$module$src$utils$object$$({sandbox:"true",trigger:$disableImmediate$$?"":"immediate"})),$scriptElem$$=$createElementWithAttributes$$module$src$dom$$($doc$jscomp$14$$,"script",$dict$$module$src$utils$object$$({type:"application/json"}));$scriptElem$$.textContent=JSON.stringify($config$jscomp$2_extensions$jscomp$1$$);$analyticsElem$$.appendChild($scriptElem$$);$analyticsElem$$.CONFIG=$config$jscomp$2_extensions$jscomp$1$$;$ampdoc$jscomp$10_loadAnalytics$jscomp$1$$?($config$jscomp$2_extensions$jscomp$1$$=
$getService$$module$src$service$$($parentElement$$.ownerDocument.defaultView,"extensions"),$ampdoc$jscomp$10_loadAnalytics$jscomp$1$$=$getAmpdoc$$module$src$service$$($parentElement$$),$config$jscomp$2_extensions$jscomp$1$$.installExtensionForDoc($ampdoc$jscomp$10_loadAnalytics$jscomp$1$$,"amp-analytics")):$getElementServiceIfAvailableForDoc$$module$src$element_service$$($parentElement$$).then(function(){});$parentElement$$.appendChild($analyticsElem$$)}
function $CustomEventReporter$$module$src$extension_analytics$$($parent$jscomp$14$$,$config$jscomp$3$$){var $$jscomp$this$jscomp$1$$=this;this.$id_$=$parent$jscomp$14$$.getResourceId();this.$parent_$=$parent$jscomp$14$$;this.$config_$=$config$jscomp$3$$;for(var $event$jscomp$5$$ in $config$jscomp$3$$.triggers){var $newEventType$$="sandbox-"+this.$id_$+"-"+$config$jscomp$3$$.triggers[$event$jscomp$5$$].on;$config$jscomp$3$$.triggers[$event$jscomp$5$$].on=$newEventType$$}this.$parent_$.signals().whenSignal("load-start").then(function(){$insertAnalyticsElement$$module$src$extension_analytics$$($$jscomp$this$jscomp$1$$.$parent_$,
$config$jscomp$3$$)})}$CustomEventReporter$$module$src$extension_analytics$$.prototype.trigger=function($eventType$jscomp$5$$,$opt_vars$jscomp$1$$){$triggerAnalyticsEvent$$module$src$analytics$$(this.$parent_$,"sandbox-"+this.$id_$+"-"+$eventType$jscomp$5$$,$opt_vars$jscomp$1$$)};function $CustomEventReporterBuilder$$module$src$extension_analytics$$($parent$jscomp$15$$){this.$parent_$=$parent$jscomp$15$$;this.$config_$={requests:{},triggers:{}}}
$CustomEventReporterBuilder$$module$src$extension_analytics$$.prototype.setTransportConfig=function($transportConfig$$){this.$config_$.transport=$transportConfig$$};$CustomEventReporterBuilder$$module$src$extension_analytics$$.prototype.setExtraUrlParams=function($extraUrlParamsConfig$$){this.$config_$.extraUrlParams=$extraUrlParamsConfig$$};
$CustomEventReporterBuilder$$module$src$extension_analytics$$.prototype.track=function($eventType$jscomp$7$$,$request$jscomp$5$$){$request$jscomp$5$$=Array.isArray($request$jscomp$5$$)?$request$jscomp$5$$:[$request$jscomp$5$$];for(var $requestList$$=[],$i$jscomp$11$$=0;$i$jscomp$11$$<$request$jscomp$5$$.length;$i$jscomp$11$$++){var $requestName$$=$eventType$jscomp$7$$+"-request-"+$i$jscomp$11$$;this.$config_$.requests[$requestName$$]=$request$jscomp$5$$[$i$jscomp$11$$];$requestList$$.push($requestName$$)}this.$config_$.triggers[$eventType$jscomp$7$$]=
{on:$eventType$jscomp$7$$,request:$requestList$$};return this};$CustomEventReporterBuilder$$module$src$extension_analytics$$.prototype.build=function(){var $report$$=new $CustomEventReporter$$module$src$extension_analytics$$(this.$parent_$,this.$config_$);this.$config_$=null;return $report$$};function $LruCache$$module$src$utils$lru_cache$$(){var $capacity$$=100;this.$capacity_$=$capacity$$;this.$access_$=this.$size_$=0;this.$cache_$=Object.create(null)}$LruCache$$module$src$utils$lru_cache$$.prototype.has=function($key$jscomp$43$$){return!!this.$cache_$[$key$jscomp$43$$]};$LruCache$$module$src$utils$lru_cache$$.prototype.get=function($key$jscomp$44$$){var $cacheable$$=this.$cache_$[$key$jscomp$44$$];if($cacheable$$)return $cacheable$$.access=++this.$access_$,$cacheable$$.payload};
$LruCache$$module$src$utils$lru_cache$$.prototype.put=function($JSCompiler_cache$jscomp$inline_81_JSCompiler_inline_result$jscomp$167_key$jscomp$45$$,$payload$$){this.has($JSCompiler_cache$jscomp$inline_81_JSCompiler_inline_result$jscomp$167_key$jscomp$45$$)||this.$size_$++;this.$cache_$[$JSCompiler_cache$jscomp$inline_81_JSCompiler_inline_result$jscomp$167_key$jscomp$45$$]={payload:$payload$$,access:this.$access_$};if(!(this.$size_$<=this.$capacity_$)){if($logs$$module$src$log$$.dev)$JSCompiler_cache$jscomp$inline_81_JSCompiler_inline_result$jscomp$167_key$jscomp$45$$=
$logs$$module$src$log$$.dev;else throw Error("failed to call initLogConstructor");$JSCompiler_cache$jscomp$inline_81_JSCompiler_inline_result$jscomp$167_key$jscomp$45$$.warn("lru-cache","Trimming LRU cache");$JSCompiler_cache$jscomp$inline_81_JSCompiler_inline_result$jscomp$167_key$jscomp$45$$=this.$cache_$;var $JSCompiler_oldest$jscomp$inline_82$$=this.$access_$+1,$JSCompiler_key$jscomp$inline_84$$;for($JSCompiler_key$jscomp$inline_84$$ in $JSCompiler_cache$jscomp$inline_81_JSCompiler_inline_result$jscomp$167_key$jscomp$45$$){var $JSCompiler_access$jscomp$inline_85$$=
$JSCompiler_cache$jscomp$inline_81_JSCompiler_inline_result$jscomp$167_key$jscomp$45$$[$JSCompiler_key$jscomp$inline_84$$].access;if($JSCompiler_access$jscomp$inline_85$$<$JSCompiler_oldest$jscomp$inline_82$$){$JSCompiler_oldest$jscomp$inline_82$$=$JSCompiler_access$jscomp$inline_85$$;var $JSCompiler_oldestKey$jscomp$inline_83$$=$JSCompiler_key$jscomp$inline_84$$}}void 0!==$JSCompiler_oldestKey$jscomp$inline_83$$&&(delete $JSCompiler_cache$jscomp$inline_81_JSCompiler_inline_result$jscomp$167_key$jscomp$45$$[$JSCompiler_oldestKey$jscomp$inline_83$$],
this.$size_$--)}};$dict$$module$src$utils$object$$({c:!0,v:!0,a:!0,ad:!0,action:!0});var $a$$module$src$url$$,$cache$$module$src$url$$;function $getNormalizedHostnameFromUrl$$module$extensions$amp_skimlinks$0_1$utils$$($JSCompiler_inline_result$jscomp$29_url$jscomp$41$$){$a$$module$src$url$$||($a$$module$src$url$$=self.document.createElement("a"),$cache$$module$src$url$$=self.UrlCache||(self.UrlCache=new $LruCache$$module$src$utils$lru_cache$$));var $JSCompiler_opt_cache$jscomp$inline_190$$=$cache$$module$src$url$$,$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$=$a$$module$src$url$$;
if($JSCompiler_opt_cache$jscomp$inline_190$$&&$JSCompiler_opt_cache$jscomp$inline_190$$.has($JSCompiler_inline_result$jscomp$29_url$jscomp$41$$))$JSCompiler_inline_result$jscomp$29_url$jscomp$41$$=$JSCompiler_opt_cache$jscomp$inline_190$$.get($JSCompiler_inline_result$jscomp$29_url$jscomp$41$$);else{$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.href=$JSCompiler_inline_result$jscomp$29_url$jscomp$41$$;$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.protocol||
($JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.href=$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.href);var $JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$={href:$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.href,protocol:$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.protocol,host:$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.host,
hostname:$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.hostname,port:"0"==$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.port?"":$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.port,pathname:$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.pathname,search:$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.search,
hash:$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.hash,origin:null};"/"!==$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$.pathname[0]&&($JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$.pathname="/"+$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$.pathname);if("http:"==$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$.protocol&&80==$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$.port||
"https:"==$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$.protocol&&443==$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$.port)$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$.port="",$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$.host=$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$.hostname;$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$.origin=$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.origin&&
"null"!=$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.origin?$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.origin:"data:"!=$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$.protocol&&$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$.host?$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$.protocol+"//"+$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$.host:
$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$.href;$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$=self;if($JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.AMP_MODE)$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$=$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.AMP_MODE;else{var $JSCompiler_AMP_CONFIG$jscomp$inline_239_JSCompiler_singlePassType$jscomp$inline_246$$=
self.AMP_CONFIG||{},$JSCompiler_runningTests$jscomp$inline_243$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_239_JSCompiler_singlePassType$jscomp$inline_246$$.test||!(!$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.AMP_TEST&&!$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.__karma__),$JSCompiler_isLocalDev$jscomp$inline_244$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_239_JSCompiler_singlePassType$jscomp$inline_246$$.localDev||
$JSCompiler_runningTests$jscomp$inline_243$$,$JSCompiler_hashQuery$jscomp$inline_245$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.location.originalHash||$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.location.hash);$JSCompiler_AMP_CONFIG$jscomp$inline_239_JSCompiler_singlePassType$jscomp$inline_246$$=$JSCompiler_AMP_CONFIG$jscomp$inline_239_JSCompiler_singlePassType$jscomp$inline_246$$.spt;
var $JSCompiler_searchQuery$jscomp$inline_247$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.location.search);$rtvVersion$$module$src$mode$$||($rtvVersion$$module$src$mode$$=$JSCompiler_isLocalDev$jscomp$inline_244$$?"1904281823091":$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.AMP_CONFIG&&$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.AMP_CONFIG.v?
$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.AMP_CONFIG.v:"011904281823091");$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$=$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.AMP_MODE={localDev:$JSCompiler_isLocalDev$jscomp$inline_244$$,development:!("1"!=$JSCompiler_hashQuery$jscomp$inline_245$$.development&&!$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.AMP_DEV_MODE),
examiner:"2"==$JSCompiler_hashQuery$jscomp$inline_245$$.development,filter:$JSCompiler_hashQuery$jscomp$inline_245$$.filter,geoOverride:$JSCompiler_hashQuery$jscomp$inline_245$$["amp-geo"],minified:!0,lite:void 0!=$JSCompiler_searchQuery$jscomp$inline_247$$.amp_lite,test:$JSCompiler_runningTests$jscomp$inline_243$$,log:$JSCompiler_hashQuery$jscomp$inline_245$$.log,version:"1904281823091",rtvVersion:$rtvVersion$$module$src$mode$$,singlePassType:$JSCompiler_AMP_CONFIG$jscomp$inline_239_JSCompiler_singlePassType$jscomp$inline_246$$}}$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$=
$JSCompiler_a$jscomp$inline_191_JSCompiler_temp$jscomp$229_JSCompiler_win$jscomp$inline_194$$.test&&Object.freeze?Object.freeze($JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$):$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$;$JSCompiler_opt_cache$jscomp$inline_190$$&&$JSCompiler_opt_cache$jscomp$inline_190$$.put($JSCompiler_inline_result$jscomp$29_url$jscomp$41$$,$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$);$JSCompiler_inline_result$jscomp$29_url$jscomp$41$$=
$JSCompiler_frozen$jscomp$inline_195_JSCompiler_info$jscomp$inline_192$$}var $hostname$$=$JSCompiler_inline_result$jscomp$29_url$jscomp$41$$.hostname;return $hostname$$.replace(/^www\./,"")}function $getNormalizedHostnameFromAnchor$$module$extensions$amp_skimlinks$0_1$utils$$($anchor$$){return $anchor$$?$anchor$$.hostname.replace(/^www\./,""):""}
function $isExcludedDomain$$module$extensions$amp_skimlinks$0_1$utils$$($domain$jscomp$2$$,$skimOptions$$){var $excludedDomains$$=$skimOptions$$.excludedDomains;return $excludedDomains$$&&-1!==$excludedDomains$$.indexOf($domain$jscomp$2$$)}
function $isExcludedAnchorUrl$$module$extensions$amp_skimlinks$0_1$utils$$($anchor$jscomp$1_domain$jscomp$3$$,$skimOptions$jscomp$1$$){$anchor$jscomp$1_domain$jscomp$3$$=$getNormalizedHostnameFromAnchor$$module$extensions$amp_skimlinks$0_1$utils$$($anchor$jscomp$1_domain$jscomp$3$$);return $isExcludedDomain$$module$extensions$amp_skimlinks$0_1$utils$$($anchor$jscomp$1_domain$jscomp$3$$,$skimOptions$jscomp$1$$)};var $DEFAULT_CONFIG$$module$extensions$amp_skimlinks$0_1$constants$$={pageTrackingUrl:"https://t.skimresources.com/api/track.php?data=${data}",linksTrackingUrl:"https://t.skimresources.com/api/link?data=${data}",nonAffiliateTrackingUrl:"https://t.skimresources.com/api/?call=track&rnd=${rnd}&data=${data}",beaconUrl:"https://r.skimresources.com/api"},$GLOBAL_DOMAIN_BLACKLIST$$module$extensions$amp_skimlinks$0_1$constants$$="facebook.com go.redirectingat.com go.skimresources.com instagram.com twitter.com youtube.com".split(" ");function $Tracking$$module$extensions$amp_skimlinks$0_1$tracking$$($JSCompiler_analyticsBuilder$jscomp$inline_98_element$jscomp$56$$,$JSCompiler_$jscomp$inline_99_skimOptions$jscomp$2$$,$referrer$$){this.$tracking_$=$JSCompiler_$jscomp$inline_99_skimOptions$jscomp$2$$.tracking;for(var $JSCompiler_linksTrackingUrl$jscomp$inline_101_JSCompiler_temp_const$jscomp$30$$=$JSCompiler_$jscomp$inline_99_skimOptions$jscomp$2$$.customTrackingId,$JSCompiler_nonAffiliateTrackingUrl$jscomp$inline_102_JSCompiler_str$jscomp$inline_93$$=
"",$JSCompiler_i$jscomp$inline_94$$=0;8>$JSCompiler_i$jscomp$inline_94$$;$JSCompiler_i$jscomp$inline_94$$++)$JSCompiler_nonAffiliateTrackingUrl$jscomp$inline_102_JSCompiler_str$jscomp$inline_93$$+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);this.$trackingInfo_$={customTrackingId:$JSCompiler_linksTrackingUrl$jscomp$inline_101_JSCompiler_temp_const$jscomp$30$$,guid:null,pageImpressionId:$JSCompiler_nonAffiliateTrackingUrl$jscomp$inline_102_JSCompiler_str$jscomp$inline_93$$,pageUrl:"CANONICAL_URL",
pubcode:$JSCompiler_$jscomp$inline_99_skimOptions$jscomp$2$$.pubcode,referrer:$referrer$$,timezone:"TIMEZONE"};this.$skimOptions_$=$JSCompiler_$jscomp$inline_99_skimOptions$jscomp$2$$;$JSCompiler_analyticsBuilder$jscomp$inline_98_element$jscomp$56$$=new $CustomEventReporterBuilder$$module$src$extension_analytics$$($JSCompiler_analyticsBuilder$jscomp$inline_98_element$jscomp$56$$);$JSCompiler_$jscomp$inline_99_skimOptions$jscomp$2$$=this.$skimOptions_$.config;$JSCompiler_linksTrackingUrl$jscomp$inline_101_JSCompiler_temp_const$jscomp$30$$=
$JSCompiler_$jscomp$inline_99_skimOptions$jscomp$2$$.linksTrackingUrl;$JSCompiler_nonAffiliateTrackingUrl$jscomp$inline_102_JSCompiler_str$jscomp$inline_93$$=$JSCompiler_$jscomp$inline_99_skimOptions$jscomp$2$$.nonAffiliateTrackingUrl;$JSCompiler_analyticsBuilder$jscomp$inline_98_element$jscomp$56$$.track("page-impressions",$JSCompiler_$jscomp$inline_99_skimOptions$jscomp$2$$.pageTrackingUrl);$JSCompiler_analyticsBuilder$jscomp$inline_98_element$jscomp$56$$.track("link-impressions",$JSCompiler_linksTrackingUrl$jscomp$inline_101_JSCompiler_temp_const$jscomp$30$$);
$JSCompiler_analyticsBuilder$jscomp$inline_98_element$jscomp$56$$.track("non-affiliate-click",$JSCompiler_nonAffiliateTrackingUrl$jscomp$inline_102_JSCompiler_str$jscomp$inline_93$$);$JSCompiler_analyticsBuilder$jscomp$inline_98_element$jscomp$56$$.setTransportConfig($dict$$module$src$utils$object$$({beacon:!0,image:!0,xhrpost:!1}));this.$analytics_$=$JSCompiler_analyticsBuilder$jscomp$inline_98_element$jscomp$56$$.build()}
$Tracking$$module$extensions$amp_skimlinks$0_1$tracking$$.prototype.getTrackingInfo=function(){return this.$trackingInfo_$};$Tracking$$module$extensions$amp_skimlinks$0_1$tracking$$.prototype.setTrackingInfo=function($newInfo$$){Object.assign(this.$trackingInfo_$,$newInfo$$)};
$Tracking$$module$extensions$amp_skimlinks$0_1$tracking$$.prototype.sendImpressionTracking=function($anchorReplacementList$$){if(this.$tracking_$){var $$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$=this.$trackingInfo_$,$pageImpressionId$$=$$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$.pageImpressionId,
$timezone$$=$$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$.timezone,$pubcode$$=$$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$.pubcode,$pageUrl$$=$$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$.pageUrl,
$guid$$=$$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$.guid,$commonData$$=$dict$$module$src$utils$object$$({pub:$pubcode$$,pag:$pageUrl$$,guid:$guid$$,uuid:$pageImpressionId$$,tz:$timezone$$,jv:"amp@1.0.3"});$$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$=
$JSCompiler_StaticMethods_extractAnchorTrackingInfo_$$(this,$anchorReplacementList$$);var $numberAffiliateLinks$$=$$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$.numberAffiliateLinks,$urls$$=$$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$.urls;
$$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$=this.$trackingInfo_$;$$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$=Object.assign($dict$$module$src$utils$object$$({slc:$numberAffiliateLinks$$,
jsl:0,pref:$$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$.referrer,uc:$$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$.customTrackingId,t:1}),$commonData$$);this.$analytics_$.trigger("page-impressions",
$dict$$module$src$utils$object$$({data:JSON.stringify($$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$)}));$$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$=$numberAffiliateLinks$$;0!==$$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$&&
($$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$=Object.assign($dict$$module$src$utils$object$$({dl:$urls$$,hae:$$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$?1:0,typ:"l"}),$commonData$$),
this.$analytics_$.trigger("link-impressions",$dict$$module$src$utils$object$$({data:JSON.stringify($$jscomp$destructuring$var13_$jscomp$destructuring$var14_JSCompiler_$jscomp$inline_107_JSCompiler_data$jscomp$inline_108_JSCompiler_data$jscomp$inline_114_JSCompiler_numberAffiliateLinks$jscomp$inline_112$$)})))}};
$Tracking$$module$extensions$amp_skimlinks$0_1$tracking$$.prototype.sendNaClickTracking=function($anchor$jscomp$2_data$jscomp$57$$){if(this.$tracking_$&&!$isExcludedAnchorUrl$$module$extensions$amp_skimlinks$0_1$utils$$($anchor$jscomp$2_data$jscomp$57$$,this.$skimOptions_$)){var $$jscomp$destructuring$var15$$=this.$trackingInfo_$,$pageImpressionId$jscomp$1$$=$$jscomp$destructuring$var15$$.pageImpressionId,$timezone$jscomp$1$$=$$jscomp$destructuring$var15$$.timezone,$customTrackingId$$=$$jscomp$destructuring$var15$$.customTrackingId;
$anchor$jscomp$2_data$jscomp$57$$=$dict$$module$src$utils$object$$({pubcode:$$jscomp$destructuring$var15$$.pubcode,referrer:$$jscomp$destructuring$var15$$.pageUrl,pref:$$jscomp$destructuring$var15$$.referrer,site:"false",url:$anchor$jscomp$2_data$jscomp$57$$.href,custom:$anchor$jscomp$2_data$jscomp$57$$.getAttribute("data-skimlinks-custom-tracking-id")||$customTrackingId$$,xtz:$timezone$jscomp$1$$,uuid:$pageImpressionId$jscomp$1$$,product:"1",jv:"amp@1.0.3"});this.$analytics_$.trigger("non-affiliate-click",
$dict$$module$src$utils$object$$({data:JSON.stringify($anchor$jscomp$2_data$jscomp$57$$),rnd:"RANDOM"}))}};
function $JSCompiler_StaticMethods_extractAnchorTrackingInfo_$$($JSCompiler_StaticMethods_extractAnchorTrackingInfo_$self$$,$anchorReplacementList$jscomp$1$$){var $numberAffiliateLinks$jscomp$3$$=0,$urls$jscomp$2$$=$dict$$module$src$utils$object$$({});$anchorReplacementList$jscomp$1$$.forEach(function($anchorReplacementList$jscomp$1$$){var $$jscomp$destructuring$var18_anchor$jscomp$3$$=$anchorReplacementList$jscomp$1$$.replacementUrl;$anchorReplacementList$jscomp$1$$=$anchorReplacementList$jscomp$1$$.anchor;
var $isExcluded$$=$isExcludedAnchorUrl$$module$extensions$amp_skimlinks$0_1$utils$$($anchorReplacementList$jscomp$1$$,$JSCompiler_StaticMethods_extractAnchorTrackingInfo_$self$$.$skimOptions_$),$isAffiliate$$=!!$$jscomp$destructuring$var18_anchor$jscomp$3$$;$isAffiliate$$&&!$isExcluded$$&&($urls$jscomp$2$$[$anchorReplacementList$jscomp$1$$.href]=$urls$jscomp$2$$[$anchorReplacementList$jscomp$1$$.href]||$dict$$module$src$utils$object$$({ae:1,count:0}),$urls$jscomp$2$$[$anchorReplacementList$jscomp$1$$.href].count+=
1,$numberAffiliateLinks$jscomp$3$$+=1)});return{numberAffiliateLinks:$numberAffiliateLinks$jscomp$3$$,urls:$urls$jscomp$2$$}};function $TwoStepsResponse$$module$extensions$amp_skimlinks$0_1$link_rewriter$two_steps_response$$($syncResponse$$,$asyncResponse$$){this.syncResponse=$syncResponse$$;this.asyncResponse=$asyncResponse$$};function $AffiliateLinkResolver$$module$extensions$amp_skimlinks$0_1$affiliate_link_resolver$$($xhr$$,$skimOptions$jscomp$3$$,$waypoint$$){this.$xhr_$=$xhr$$;this.$skimOptions_$=$skimOptions$jscomp$3$$;this.$waypoint_$=$waypoint$$;this.$domains_$=$dict$$module$src$utils$object$$({});this.firstRequest=null}
$AffiliateLinkResolver$$module$extensions$amp_skimlinks$0_1$affiliate_link_resolver$$.prototype.fetchDomainResolverApi=function($domains$$){var $data$jscomp$60$$=$dict$$module$src$utils$object$$({pubcode:this.$skimOptions_$.pubcode,page:"",domains:$domains$$}),$beaconUrl$$=this.$skimOptions_$.config.beaconUrl;$beaconUrl$$=$beaconUrl$$+"?data="+JSON.stringify($data$jscomp$60$$);var $fetchOptions$$={method:"GET",ampCors:!1,credentials:"include"};return this.$xhr_$.fetchJson($beaconUrl$$,$fetchOptions$$).then(function($domains$$){return $domains$$.json()})};
$AffiliateLinkResolver$$module$extensions$amp_skimlinks$0_1$affiliate_link_resolver$$.prototype.resolveUnknownAnchors=function($anchorList$$){var $alreadyResolvedResponse$$=$JSCompiler_StaticMethods_associateWithReplacementUrl_$$(this,$anchorList$$),$willBeResolvedPromise$$=null,$domainsToAsk$$=$JSCompiler_StaticMethods_getNewDomains_$$(this,$anchorList$$);if($domainsToAsk$$.length){$JSCompiler_StaticMethods_markDomainsAsUnknown_$$(this,$domainsToAsk$$);var $unknownAnchors$$=this.$getUnknownAnchors_$($anchorList$$,
$domainsToAsk$$);$willBeResolvedPromise$$=$JSCompiler_StaticMethods_resolvedUnknownAnchorsAsync_$$(this,$unknownAnchors$$,$domainsToAsk$$)}return new $TwoStepsResponse$$module$extensions$amp_skimlinks$0_1$link_rewriter$two_steps_response$$($alreadyResolvedResponse$$,$willBeResolvedPromise$$)};
function $JSCompiler_StaticMethods_associateWithReplacementUrl_$$($JSCompiler_StaticMethods_associateWithReplacementUrl_$self$$,$anchorList$jscomp$1$$){return $anchorList$jscomp$1$$.map(function($anchorList$jscomp$1$$){var $anchor$jscomp$4$$=null,$JSCompiler_domain$jscomp$inline_117$$=$getNormalizedHostnameFromAnchor$$module$extensions$amp_skimlinks$0_1$utils$$($anchorList$jscomp$1$$),$status$$=$isExcludedDomain$$module$extensions$amp_skimlinks$0_1$utils$$($JSCompiler_domain$jscomp$inline_117$$,$JSCompiler_StaticMethods_associateWithReplacementUrl_$self$$.$skimOptions_$)?
"ignore":$JSCompiler_StaticMethods_associateWithReplacementUrl_$self$$.$domains_$[$JSCompiler_domain$jscomp$inline_117$$]||"unknown",$shouldReplace$$="affiliate"===$status$$||"unknown"===$status$$;$shouldReplace$$&&($anchor$jscomp$4$$=$JSCompiler_StaticMethods_associateWithReplacementUrl_$self$$.$waypoint_$.getAffiliateUrl($anchorList$jscomp$1$$));return{anchor:$anchorList$jscomp$1$$,replacementUrl:$anchor$jscomp$4$$}})}
function $JSCompiler_StaticMethods_getNewDomains_$$($JSCompiler_StaticMethods_getNewDomains_$self$$,$anchorList$jscomp$2$$){return $anchorList$jscomp$2$$.reduce(function($anchorList$jscomp$2$$,$anchor$jscomp$5_domain$jscomp$5$$){$anchor$jscomp$5_domain$jscomp$5$$=$getNormalizedHostnameFromAnchor$$module$extensions$amp_skimlinks$0_1$utils$$($anchor$jscomp$5_domain$jscomp$5$$);var $acc$jscomp$1$$=$JSCompiler_StaticMethods_getNewDomains_$self$$.$domains_$[$anchor$jscomp$5_domain$jscomp$5$$],$isExcluded$jscomp$1$$=
$isExcludedDomain$$module$extensions$amp_skimlinks$0_1$utils$$($anchor$jscomp$5_domain$jscomp$5$$,$JSCompiler_StaticMethods_getNewDomains_$self$$.$skimOptions_$),$isDuplicate$$=-1!==$anchorList$jscomp$2$$.indexOf($anchor$jscomp$5_domain$jscomp$5$$);$acc$jscomp$1$$||$isExcluded$jscomp$1$$||$isDuplicate$$||$anchorList$jscomp$2$$.push($anchor$jscomp$5_domain$jscomp$5$$);return $anchorList$jscomp$2$$},[])}
function $JSCompiler_StaticMethods_markDomainsAsUnknown_$$($JSCompiler_StaticMethods_markDomainsAsUnknown_$self$$,$domains$jscomp$1$$){$domains$jscomp$1$$.forEach(function($domains$jscomp$1$$){$JSCompiler_StaticMethods_markDomainsAsUnknown_$self$$.$domains_$[$domains$jscomp$1$$]||($isExcludedDomain$$module$extensions$amp_skimlinks$0_1$utils$$($domains$jscomp$1$$,$JSCompiler_StaticMethods_markDomainsAsUnknown_$self$$.$skimOptions_$)&&($JSCompiler_StaticMethods_markDomainsAsUnknown_$self$$.$domains_$[$domains$jscomp$1$$]=
"ignore"),$JSCompiler_StaticMethods_markDomainsAsUnknown_$self$$.$domains_$[$domains$jscomp$1$$]="unknown")})}$AffiliateLinkResolver$$module$extensions$amp_skimlinks$0_1$affiliate_link_resolver$$.prototype.$getUnknownAnchors_$=function($anchorList$jscomp$3$$,$unknownDomains$$){return $anchorList$jscomp$3$$.filter(function($anchorList$jscomp$3$$){var $anchor$jscomp$6$$=$getNormalizedHostnameFromAnchor$$module$extensions$amp_skimlinks$0_1$utils$$($anchorList$jscomp$3$$);return-1!==$unknownDomains$$.indexOf($anchor$jscomp$6$$)})};
function $JSCompiler_StaticMethods_resolvedUnknownAnchorsAsync_$$($JSCompiler_StaticMethods_resolvedUnknownAnchorsAsync_$self$$,$anchorList$jscomp$4$$,$domainsToAsk$jscomp$1$$){var $promise$jscomp$3$$=$JSCompiler_StaticMethods_resolvedUnknownAnchorsAsync_$self$$.fetchDomainResolverApi($domainsToAsk$jscomp$1$$);$JSCompiler_StaticMethods_resolvedUnknownAnchorsAsync_$self$$.firstRequest||($JSCompiler_StaticMethods_resolvedUnknownAnchorsAsync_$self$$.firstRequest=$promise$jscomp$3$$);return $promise$jscomp$3$$.then(function($promise$jscomp$3$$){var $data$jscomp$61$$=
$promise$jscomp$3$$.merchant_domains||[];$JSCompiler_StaticMethods_updateDomainsStatusMap_$$($JSCompiler_StaticMethods_resolvedUnknownAnchorsAsync_$self$$,$domainsToAsk$jscomp$1$$,$data$jscomp$61$$);return $JSCompiler_StaticMethods_associateWithReplacementUrl_$$($JSCompiler_StaticMethods_resolvedUnknownAnchorsAsync_$self$$,$anchorList$jscomp$4$$)})}
function $JSCompiler_StaticMethods_updateDomainsStatusMap_$$($JSCompiler_StaticMethods_updateDomainsStatusMap_$self$$,$allDomains$$,$affiliateDomains$$){$allDomains$$.forEach(function($allDomains$$){var $domain$jscomp$7$$=-1!==$affiliateDomains$$.indexOf($allDomains$$);$JSCompiler_StaticMethods_updateDomainsStatusMap_$self$$.$domains_$[$allDomains$$]=$domain$jscomp$7$$?"affiliate":"non-affiliate"})};var $propertyNameCache$$module$src$style$$,$vendorPrefixes$$module$src$style$$="Webkit webkit Moz moz ms O o".split(" ");var $bodyMadeVisible$$module$src$style_installer$$=!1;function $PriorityQueue$$module$src$utils$priority_queue$$(){this.$queue_$=[]}$PriorityQueue$$module$src$utils$priority_queue$$.prototype.peek=function(){var $l$$=this.$queue_$.length;return $l$$?this.$queue_$[$l$$-1].item:null};
$PriorityQueue$$module$src$utils$priority_queue$$.prototype.enqueue=function($item$$,$priority$$){if(isNaN($priority$$))throw Error("Priority must not be NaN.");for(var $JSCompiler_target$jscomp$inline_124$$=$priority$$,$JSCompiler_i$jscomp$inline_125$$=-1,$JSCompiler_lo$jscomp$inline_126$$=0,$JSCompiler_hi$jscomp$inline_127$$=this.$queue_$.length;$JSCompiler_lo$jscomp$inline_126$$<=$JSCompiler_hi$jscomp$inline_127$$;){$JSCompiler_i$jscomp$inline_125$$=Math.floor(($JSCompiler_lo$jscomp$inline_126$$+
$JSCompiler_hi$jscomp$inline_127$$)/2);if($JSCompiler_i$jscomp$inline_125$$===this.$queue_$.length)break;if(this.$queue_$[$JSCompiler_i$jscomp$inline_125$$].priority<$JSCompiler_target$jscomp$inline_124$$)$JSCompiler_lo$jscomp$inline_126$$=$JSCompiler_i$jscomp$inline_125$$+1;else if(0<$JSCompiler_i$jscomp$inline_125$$&&this.$queue_$[$JSCompiler_i$jscomp$inline_125$$-1].priority>=$JSCompiler_target$jscomp$inline_124$$)$JSCompiler_hi$jscomp$inline_127$$=$JSCompiler_i$jscomp$inline_125$$-1;else break}this.$queue_$.splice($JSCompiler_i$jscomp$inline_125$$,
0,{item:$item$$,priority:$priority$$})};$PriorityQueue$$module$src$utils$priority_queue$$.prototype.forEach=function($callback$jscomp$67$$){for(var $index$jscomp$72$$=this.$queue_$.length;$index$jscomp$72$$--;)$callback$jscomp$67$$(this.$queue_$[$index$jscomp$72$$].item)};$PriorityQueue$$module$src$utils$priority_queue$$.prototype.dequeue=function(){return this.$queue_$.length?this.$queue_$.pop().item:null};
$$jscomp$global$$.Object.defineProperties($PriorityQueue$$module$src$utils$priority_queue$$.prototype,{length:{configurable:!0,enumerable:!0,get:function(){return this.$queue_$.length}}});var $deactivated$$module$src$chunk$$=/nochunking=1/.test(self.location.hash),$resolved$$module$src$chunk$$=Promise.resolve();
function $chunk$$module$src$chunk$$($elementOrAmpDoc$jscomp$19$$,$fn$jscomp$5$$){if($deactivated$$module$src$chunk$$)$resolved$$module$src$chunk$$.then($fn$jscomp$5$$);else{var $JSCompiler_constructor$jscomp$inline_198$$=$Chunks$$module$src$chunk$$,$JSCompiler_ampdoc$jscomp$inline_199$$=$getAmpdoc$$module$src$service$$($elementOrAmpDoc$jscomp$19$$),$JSCompiler_holder$jscomp$inline_200$$=$getAmpdocServiceHolder$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_199$$),$JSCompiler_services$jscomp$inline_252$$=
$getServices$$module$src$service$$($JSCompiler_holder$jscomp$inline_200$$),$JSCompiler_s$jscomp$inline_253$$=$JSCompiler_services$jscomp$inline_252$$.chunk;$JSCompiler_s$jscomp$inline_253$$||($JSCompiler_s$jscomp$inline_253$$=$JSCompiler_services$jscomp$inline_252$$.chunk={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});$JSCompiler_s$jscomp$inline_253$$.ctor||$JSCompiler_s$jscomp$inline_253$$.obj||($JSCompiler_s$jscomp$inline_253$$.ctor=$JSCompiler_constructor$jscomp$inline_198$$,
$JSCompiler_s$jscomp$inline_253$$.context=$JSCompiler_ampdoc$jscomp$inline_199$$,$JSCompiler_s$jscomp$inline_253$$.resolve&&$getServiceInternal$$module$src$service$$($JSCompiler_holder$jscomp$inline_200$$,"chunk"));$getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$19$$,"chunk").run($fn$jscomp$5$$,10)}}function $Task$$module$src$chunk$$($fn$jscomp$6$$){this.state="not_run";this.$fn_$=$fn$jscomp$6$$}
function $JSCompiler_StaticMethods_runTask_$$($JSCompiler_StaticMethods_runTask_$self$$,$idleDeadline$$){if("run"!=$JSCompiler_StaticMethods_runTask_$self$$.state){$JSCompiler_StaticMethods_runTask_$self$$.state="run";try{$JSCompiler_StaticMethods_runTask_$self$$.$fn_$($idleDeadline$$)}catch($e$jscomp$21$$){throw $JSCompiler_StaticMethods_runTask_$self$$.$onTaskError_$(),$e$jscomp$21$$;}}}$Task$$module$src$chunk$$.prototype.$getName_$=function(){return this.$fn_$.displayName||this.$fn_$.name};
$Task$$module$src$chunk$$.prototype.$onTaskError_$=function(){};$Task$$module$src$chunk$$.prototype.$immediateTriggerCondition_$=function(){return!1};$Task$$module$src$chunk$$.prototype.$useRequestIdleCallback_$=function(){return!0};
function $StartupTask$$module$src$chunk$$($fn$jscomp$7$$,$win$jscomp$50$$,$viewerPromise$$){$Task$$module$src$chunk$$.call(this,$fn$jscomp$7$$);var $$jscomp$this$jscomp$9$$=this;this.$win_$=$win$jscomp$50$$;this.$viewer_$=null;$viewerPromise$$.then(function($fn$jscomp$7$$){$$jscomp$this$jscomp$9$$.$viewer_$=$fn$jscomp$7$$;$$jscomp$this$jscomp$9$$.$viewer_$.isVisible()&&$JSCompiler_StaticMethods_runTask_$$($$jscomp$this$jscomp$9$$,null);$$jscomp$this$jscomp$9$$.$viewer_$.onVisibilityChanged(function(){$$jscomp$this$jscomp$9$$.$viewer_$.isVisible()&&
$JSCompiler_StaticMethods_runTask_$$($$jscomp$this$jscomp$9$$,null)})})}$$jscomp$inherits$$($StartupTask$$module$src$chunk$$,$Task$$module$src$chunk$$);
$StartupTask$$module$src$chunk$$.prototype.$onTaskError_$=function(){var $JSCompiler_doc$jscomp$inline_131_JSCompiler_element$jscomp$inline_203$$=self.document;if(!$bodyMadeVisible$$module$src$style_installer$$){$bodyMadeVisible$$module$src$style_installer$$=!0;$JSCompiler_doc$jscomp$inline_131_JSCompiler_element$jscomp$inline_203$$=$JSCompiler_doc$jscomp$inline_131_JSCompiler_element$jscomp$inline_203$$.body;var $JSCompiler_styles$jscomp$inline_204$$={opacity:1,visibility:"visible",animation:"none"},
$JSCompiler_k$jscomp$inline_205$$;for($JSCompiler_k$jscomp$inline_205$$ in $JSCompiler_styles$jscomp$inline_204$$){var $JSCompiler_element$jscomp$inline_255$$=$JSCompiler_doc$jscomp$inline_131_JSCompiler_element$jscomp$inline_203$$,$JSCompiler_value$jscomp$inline_257$$=$JSCompiler_styles$jscomp$inline_204$$[$JSCompiler_k$jscomp$inline_205$$];var $JSCompiler_propertyName$jscomp$inline_259_JSCompiler_style$jscomp$inline_265$$=$JSCompiler_element$jscomp$inline_255$$.style;var $JSCompiler_camelCase$jscomp$inline_266$$=
$JSCompiler_k$jscomp$inline_205$$;if(2>$JSCompiler_camelCase$jscomp$inline_266$$.length?0:0==$JSCompiler_camelCase$jscomp$inline_266$$.lastIndexOf("--",0))$JSCompiler_propertyName$jscomp$inline_259_JSCompiler_style$jscomp$inline_265$$=$JSCompiler_camelCase$jscomp$inline_266$$;else{$propertyNameCache$$module$src$style$$||($propertyNameCache$$module$src$style$$=Object.create(null));var $JSCompiler_propertyName$jscomp$inline_268$$=$propertyNameCache$$module$src$style$$[$JSCompiler_camelCase$jscomp$inline_266$$];
if(!$JSCompiler_propertyName$jscomp$inline_268$$){$JSCompiler_propertyName$jscomp$inline_268$$=$JSCompiler_camelCase$jscomp$inline_266$$;if(void 0===$JSCompiler_propertyName$jscomp$inline_259_JSCompiler_style$jscomp$inline_265$$[$JSCompiler_camelCase$jscomp$inline_266$$]){var $JSCompiler_prefixedPropertyName$jscomp$inline_270_JSCompiler_titleCase$jscomp$inline_269$$=$JSCompiler_camelCase$jscomp$inline_266$$.charAt(0).toUpperCase()+$JSCompiler_camelCase$jscomp$inline_266$$.slice(1);b:{for(var $JSCompiler_i$jscomp$inline_291$$=
0;$JSCompiler_i$jscomp$inline_291$$<$vendorPrefixes$$module$src$style$$.length;$JSCompiler_i$jscomp$inline_291$$++){var $JSCompiler_propertyName$jscomp$inline_292$$=$vendorPrefixes$$module$src$style$$[$JSCompiler_i$jscomp$inline_291$$]+$JSCompiler_prefixedPropertyName$jscomp$inline_270_JSCompiler_titleCase$jscomp$inline_269$$;if(void 0!==$JSCompiler_propertyName$jscomp$inline_259_JSCompiler_style$jscomp$inline_265$$[$JSCompiler_propertyName$jscomp$inline_292$$]){$JSCompiler_prefixedPropertyName$jscomp$inline_270_JSCompiler_titleCase$jscomp$inline_269$$=
$JSCompiler_propertyName$jscomp$inline_292$$;break b}}$JSCompiler_prefixedPropertyName$jscomp$inline_270_JSCompiler_titleCase$jscomp$inline_269$$=""}void 0!==$JSCompiler_propertyName$jscomp$inline_259_JSCompiler_style$jscomp$inline_265$$[$JSCompiler_prefixedPropertyName$jscomp$inline_270_JSCompiler_titleCase$jscomp$inline_269$$]&&($JSCompiler_propertyName$jscomp$inline_268$$=$JSCompiler_prefixedPropertyName$jscomp$inline_270_JSCompiler_titleCase$jscomp$inline_269$$)}$propertyNameCache$$module$src$style$$[$JSCompiler_camelCase$jscomp$inline_266$$]=
$JSCompiler_propertyName$jscomp$inline_268$$}$JSCompiler_propertyName$jscomp$inline_259_JSCompiler_style$jscomp$inline_265$$=$JSCompiler_propertyName$jscomp$inline_268$$}$JSCompiler_propertyName$jscomp$inline_259_JSCompiler_style$jscomp$inline_265$$&&($JSCompiler_element$jscomp$inline_255$$.style[$JSCompiler_propertyName$jscomp$inline_259_JSCompiler_style$jscomp$inline_265$$]=$JSCompiler_value$jscomp$inline_257$$)}}};
$StartupTask$$module$src$chunk$$.prototype.$immediateTriggerCondition_$=function(){return this.$viewer_$?this.$viewer_$.isVisible():this.$win_$.document.hidden?!1:!/visibilityState=(hidden|prerender)/.test(this.$win_$.location.hash)};$StartupTask$$module$src$chunk$$.prototype.$useRequestIdleCallback_$=function(){return!!this.$viewer_$};
function $Chunks$$module$src$chunk$$($ampDoc$$){var $$jscomp$this$jscomp$10$$=this;this.$win_$=$ampDoc$$.win;this.$tasks_$=new $PriorityQueue$$module$src$utils$priority_queue$$;this.$boundExecute_$=this.$execute_$.bind(this);this.$viewerPromise_$=$getServicePromiseInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($ampDoc$$),"viewer");this.$win_$.addEventListener("message",function($ampDoc$$){"amp-macro-task"==$ampDoc$$.data&&$$jscomp$this$jscomp$10$$.$execute_$(null)})}
$Chunks$$module$src$chunk$$.prototype.run=function($fn$jscomp$8$$,$priority$jscomp$2$$){var $t$$=new $Task$$module$src$chunk$$($fn$jscomp$8$$);$JSCompiler_StaticMethods_enqueueTask_$$(this,$t$$,$priority$jscomp$2$$)};
$Chunks$$module$src$chunk$$.prototype.runForStartup=function($fn$jscomp$9_t$jscomp$1$$){$fn$jscomp$9_t$jscomp$1$$=new $StartupTask$$module$src$chunk$$($fn$jscomp$9_t$jscomp$1$$,this.$win_$,this.$viewerPromise_$);$JSCompiler_StaticMethods_enqueueTask_$$(this,$fn$jscomp$9_t$jscomp$1$$,Number.POSITIVE_INFINITY)};
function $JSCompiler_StaticMethods_enqueueTask_$$($JSCompiler_StaticMethods_enqueueTask_$self$$,$task$$,$priority$jscomp$3$$){$JSCompiler_StaticMethods_enqueueTask_$self$$.$tasks_$.enqueue($task$$,$priority$jscomp$3$$);$resolved$$module$src$chunk$$.then(function(){$JSCompiler_StaticMethods_schedule_$$($JSCompiler_StaticMethods_enqueueTask_$self$$)})}
function $JSCompiler_StaticMethods_nextTask_$$($JSCompiler_StaticMethods_nextTask_$self$$,$opt_dequeue$$){for(var $t$jscomp$2$$=$JSCompiler_StaticMethods_nextTask_$self$$.$tasks_$.peek();$t$jscomp$2$$&&"not_run"!==$t$jscomp$2$$.state;)$JSCompiler_StaticMethods_nextTask_$self$$.$tasks_$.dequeue(),$t$jscomp$2$$=$JSCompiler_StaticMethods_nextTask_$self$$.$tasks_$.peek();$t$jscomp$2$$&&$opt_dequeue$$&&$JSCompiler_StaticMethods_nextTask_$self$$.$tasks_$.dequeue();return $t$jscomp$2$$}
$Chunks$$module$src$chunk$$.prototype.$execute_$=function($idleDeadline$jscomp$1$$){var $$jscomp$this$jscomp$12$$=this,$t$jscomp$3$$=$JSCompiler_StaticMethods_nextTask_$$(this,!0);if(!$t$jscomp$3$$)return!1;$JSCompiler_StaticMethods_runTask_$$($t$jscomp$3$$,$idleDeadline$jscomp$1$$);$resolved$$module$src$chunk$$.then(function(){$JSCompiler_StaticMethods_schedule_$$($$jscomp$this$jscomp$12$$)});return!0};
function $JSCompiler_StaticMethods_executeAsap_$$($JSCompiler_StaticMethods_executeAsap_$self$$){$resolved$$module$src$chunk$$.then(function(){$JSCompiler_StaticMethods_executeAsap_$self$$.$boundExecute_$(null)})}
function $JSCompiler_StaticMethods_schedule_$$($JSCompiler_StaticMethods_schedule_$self$$){var $nextTask$$=$JSCompiler_StaticMethods_nextTask_$$($JSCompiler_StaticMethods_schedule_$self$$);$nextTask$$&&($nextTask$$.$immediateTriggerCondition_$()?$JSCompiler_StaticMethods_executeAsap_$$($JSCompiler_StaticMethods_schedule_$self$$):$nextTask$$.$useRequestIdleCallback_$()&&$JSCompiler_StaticMethods_schedule_$self$$.$win_$.requestIdleCallback?$onIdle$$module$src$chunk$$($JSCompiler_StaticMethods_schedule_$self$$.$win_$,
$JSCompiler_StaticMethods_schedule_$self$$.$boundExecute_$):$JSCompiler_StaticMethods_schedule_$self$$.$win_$.postMessage("amp-macro-task","*"))}
function $onIdle$$module$src$chunk$$($win$jscomp$51$$,$fn$jscomp$10$$){function $rIC$$($info$jscomp$1$$){if($info$jscomp$1$$.timeRemaining()<$minimumTimeRemaining$$){var $remainingTimeout$$=2E3-(Date.now()-$startTime$jscomp$7$$);0>=$remainingTimeout$$||$info$jscomp$1$$.didTimeout?$fn$jscomp$10$$($info$jscomp$1$$):$win$jscomp$51$$.requestIdleCallback($rIC$$,{timeout:$remainingTimeout$$})}else $fn$jscomp$10$$($info$jscomp$1$$)}var $minimumTimeRemaining$$=15,$startTime$jscomp$7$$=Date.now();$win$jscomp$51$$.requestIdleCallback($rIC$$,
{timeout:2E3})};function $LinkReplacementCache$$module$extensions$amp_skimlinks$0_1$link_rewriter$link_replacement_cache$$(){this.$anchorList_$=[];this.$replacementList_$=[]}$JSCompiler_prototypeAlias$$=$LinkReplacementCache$$module$extensions$amp_skimlinks$0_1$link_rewriter$link_replacement_cache$$.prototype;$JSCompiler_prototypeAlias$$.updateLinkList=function($newAnchorList$$){this.$replacementList_$=$newAnchorList$$.map(this.getReplacementUrlForAnchor.bind(this));this.$anchorList_$=$newAnchorList$$};
$JSCompiler_prototypeAlias$$.updateReplacementUrls=function($replacementList$$){var $$jscomp$this$jscomp$14$$=this;$replacementList$$.forEach(function($replacementList$$){var $$jscomp$destructuring$var24$$=$replacementList$$.replacementUrl,$anchorIndex$$=$$jscomp$this$jscomp$14$$.$anchorList_$.indexOf($replacementList$$.anchor);-1!==$anchorIndex$$&&($$jscomp$this$jscomp$14$$.$replacementList_$[$anchorIndex$$]=$$jscomp$destructuring$var24$$)})};
$JSCompiler_prototypeAlias$$.getReplacementUrlForAnchor=function($anchor$jscomp$9_index$jscomp$73$$){$anchor$jscomp$9_index$jscomp$73$$=this.$anchorList_$.indexOf($anchor$jscomp$9_index$jscomp$73$$);return-1!==$anchor$jscomp$9_index$jscomp$73$$?this.$replacementList_$[$anchor$jscomp$9_index$jscomp$73$$]:null};$JSCompiler_prototypeAlias$$.isInCache=function($anchor$jscomp$10$$){return-1!==this.$anchorList_$.indexOf($anchor$jscomp$10$$)};
$JSCompiler_prototypeAlias$$.getAnchorReplacementList=function(){var $$jscomp$this$jscomp$15$$=this;return this.$anchorList_$.map(function($anchor$jscomp$11$$){return{anchor:$anchor$jscomp$11$$,replacementUrl:$$jscomp$this$jscomp$15$$.getReplacementUrlForAnchor($anchor$jscomp$11$$)}})};function $Observable$$module$src$observable$$(){this.$handlers_$=null}$JSCompiler_prototypeAlias$$=$Observable$$module$src$observable$$.prototype;$JSCompiler_prototypeAlias$$.add=function($handler$jscomp$4$$){var $$jscomp$this$jscomp$16$$=this;this.$handlers_$||(this.$handlers_$=[]);this.$handlers_$.push($handler$jscomp$4$$);return function(){$$jscomp$this$jscomp$16$$.remove($handler$jscomp$4$$)}};
$JSCompiler_prototypeAlias$$.remove=function($handler$jscomp$5_index$jscomp$74$$){this.$handlers_$&&($handler$jscomp$5_index$jscomp$74$$=this.$handlers_$.indexOf($handler$jscomp$5_index$jscomp$74$$),-1<$handler$jscomp$5_index$jscomp$74$$&&this.$handlers_$.splice($handler$jscomp$5_index$jscomp$74$$,1))};$JSCompiler_prototypeAlias$$.removeAll=function(){this.$handlers_$&&(this.$handlers_$.length=0)};
$JSCompiler_prototypeAlias$$.fire=function($opt_event$$){if(this.$handlers_$)for(var $handlers$$=this.$handlers_$,$i$jscomp$20$$=0;$i$jscomp$20$$<$handlers$$.length;$i$jscomp$20$$++)(0,$handlers$$[$i$jscomp$20$$])($opt_event$$)};$JSCompiler_prototypeAlias$$.getHandlerCount=function(){return this.$handlers_$?this.$handlers_$.length:0};function $LinkRewriter$$module$extensions$amp_skimlinks$0_1$link_rewriter$link_rewriter$$($rootNode$jscomp$2$$,$id$jscomp$35$$,$resolveUnknownLinks$$,$options$jscomp$15$$){this.events=new $Observable$$module$src$observable$$;this.id=$id$jscomp$35$$;this.$rootNode_$=$rootNode$jscomp$2$$;this.$resolveUnknownLinks_$=$resolveUnknownLinks$$;this.$linkSelector_$=$options$jscomp$15$$.linkSelector||"a";this.$restoreDelay_$=300;this.$anchorReplacementCache_$=new $LinkReplacementCache$$module$extensions$amp_skimlinks$0_1$link_rewriter$link_replacement_cache$$}
$JSCompiler_prototypeAlias$$=$LinkRewriter$$module$extensions$amp_skimlinks$0_1$link_rewriter$link_rewriter$$.prototype;$JSCompiler_prototypeAlias$$.getReplacementUrl=function($anchor$jscomp$12$$){return this.isWatchingLink($anchor$jscomp$12$$)?this.$anchorReplacementCache_$.getReplacementUrlForAnchor($anchor$jscomp$12$$):null};$JSCompiler_prototypeAlias$$.getAnchorReplacementList=function(){return this.$anchorReplacementCache_$.getAnchorReplacementList()};
$JSCompiler_prototypeAlias$$.isWatchingLink=function($anchor$jscomp$13$$){return this.$anchorReplacementCache_$.isInCache($anchor$jscomp$13$$)};
$JSCompiler_prototypeAlias$$.rewriteAnchorUrl=function($anchor$jscomp$14$$){var $newUrl$jscomp$1$$=this.getReplacementUrl($anchor$jscomp$14$$);if(!$newUrl$jscomp$1$$||$newUrl$jscomp$1$$===$anchor$jscomp$14$$.href)return!1;$anchor$jscomp$14$$.setAttribute("data-link-rewriter-original-url",$anchor$jscomp$14$$.href);$anchor$jscomp$14$$.href=$newUrl$jscomp$1$$;setTimeout(function(){$anchor$jscomp$14$$.href=$anchor$jscomp$14$$.getAttribute("data-link-rewriter-original-url");$anchor$jscomp$14$$.removeAttribute("data-link-rewriter-original-url")},
this.$restoreDelay_$);return!0};
$JSCompiler_prototypeAlias$$.onDomUpdated=function(){var $$jscomp$this$jscomp$17$$=this;return new Promise(function($resolve$jscomp$12$$){var $elementOrShadowRoot$$=$$jscomp$this$jscomp$17$$.$rootNode_$.nodeType==Node.DOCUMENT_NODE?$$jscomp$this$jscomp$17$$.$rootNode_$.documentElement:$$jscomp$this$jscomp$17$$.$rootNode_$;$chunk$$module$src$chunk$$($elementOrShadowRoot$$,function(){return $JSCompiler_StaticMethods_scanLinksOnPage_$$($$jscomp$this$jscomp$17$$).then(function(){$$jscomp$this$jscomp$17$$.events.fire({type:"PAGE_SCANNED"});$resolve$jscomp$12$$()})})})};
function $JSCompiler_StaticMethods_scanLinksOnPage_$$($JSCompiler_StaticMethods_scanLinksOnPage_$self$$){var $anchorList$jscomp$5$$=$JSCompiler_StaticMethods_getLinksInDOM_$$($JSCompiler_StaticMethods_scanLinksOnPage_$self$$),$unknownAnchors$jscomp$1$$=$JSCompiler_StaticMethods_scanLinksOnPage_$self$$.$getUnknownAnchors_$($anchorList$jscomp$5$$);$JSCompiler_StaticMethods_scanLinksOnPage_$self$$.$anchorReplacementCache_$.updateLinkList($anchorList$jscomp$5$$);if(!$unknownAnchors$jscomp$1$$.length)return Promise.resolve();
$JSCompiler_StaticMethods_scanLinksOnPage_$self$$.$anchorReplacementCache_$.updateReplacementUrls($unknownAnchors$jscomp$1$$.map(function($JSCompiler_StaticMethods_scanLinksOnPage_$self$$){return{anchor:$JSCompiler_StaticMethods_scanLinksOnPage_$self$$,replacementUrl:null}}));var $twoStepsResponse$$=$JSCompiler_StaticMethods_scanLinksOnPage_$self$$.$resolveUnknownLinks_$($unknownAnchors$jscomp$1$$);$userAssert$$module$src$log$$($twoStepsResponse$$ instanceof $TwoStepsResponse$$module$extensions$amp_skimlinks$0_1$link_rewriter$two_steps_response$$,
'Invalid response from provided "resolveUnknownLinks" function."resolveUnknownLinks" should return an instance of TwoStepsResponse');$twoStepsResponse$$.syncResponse&&$JSCompiler_StaticMethods_scanLinksOnPage_$self$$.$anchorReplacementCache_$.updateReplacementUrls($twoStepsResponse$$.syncResponse);return $twoStepsResponse$$.asyncResponse?$twoStepsResponse$$.asyncResponse.then(function($anchorList$jscomp$5$$){$JSCompiler_StaticMethods_scanLinksOnPage_$self$$.$anchorReplacementCache_$.updateReplacementUrls($anchorList$jscomp$5$$)}):
Promise.resolve()}$JSCompiler_prototypeAlias$$.$getUnknownAnchors_$=function($anchorList$jscomp$6$$){var $$jscomp$this$jscomp$19$$=this,$unknownAnchors$jscomp$2$$=[];$anchorList$jscomp$6$$.forEach(function($anchorList$jscomp$6$$){$$jscomp$this$jscomp$19$$.isWatchingLink($anchorList$jscomp$6$$)||$unknownAnchors$jscomp$2$$.push($anchorList$jscomp$6$$)});return $unknownAnchors$jscomp$2$$};
function $JSCompiler_StaticMethods_getLinksInDOM_$$($JSCompiler_StaticMethods_getLinksInDOM_$self$$){var $q$$=$JSCompiler_StaticMethods_getLinksInDOM_$self$$.$rootNode_$.querySelectorAll($JSCompiler_StaticMethods_getLinksInDOM_$self$$.$linkSelector_$);return[].slice.call($q$$)};function $LinkRewriterManager$$module$extensions$amp_skimlinks$0_1$link_rewriter$link_rewriter_manager$$($ampdoc$jscomp$19$$){this.$rootNode_$=$ampdoc$jscomp$19$$.getRootNode();var $JSCompiler_value$jscomp$inline_136$$=$Services$$module$src$services$documentInfoForDoc$$($ampdoc$jscomp$19$$).metaTags["amp-link-rewriter-priorities"];this.$priorityList_$=$JSCompiler_value$jscomp$inline_136$$?$JSCompiler_value$jscomp$inline_136$$.trim().split(/\s+/):[];this.$linkRewriters_$=[];this.$rootNode_$.addEventListener("amp:dom-update",
this.$onDomChanged_$.bind(this));var $navigation$$=$getServiceForDoc$$module$src$service$$($ampdoc$jscomp$19$$,"navigation");$navigation$$.registerAnchorMutator(this.maybeRewriteLink.bind(this),0)}
$LinkRewriterManager$$module$extensions$amp_skimlinks$0_1$link_rewriter$link_rewriter_manager$$.prototype.registerLinkRewriter=function($linkRewriterId$$,$resolveUnknownLinks$jscomp$1$$,$options$jscomp$18$$){var $linkRewriter$$=new $LinkRewriter$$module$extensions$amp_skimlinks$0_1$link_rewriter$link_rewriter$$(this.$rootNode_$,$linkRewriterId$$,$resolveUnknownLinks$jscomp$1$$,$options$jscomp$18$$);$JSCompiler_StaticMethods_insertInListBasedOnPriority_$$(this.$linkRewriters_$,$linkRewriter$$,this.$priorityList_$);
$linkRewriter$$.onDomUpdated();return $linkRewriter$$};
$LinkRewriterManager$$module$extensions$amp_skimlinks$0_1$link_rewriter$link_rewriter_manager$$.prototype.maybeRewriteLink=function($anchor$jscomp$17$$,$event$jscomp$10$$){var $suitableLinkRewriters$$=$JSCompiler_StaticMethods_getSuitableLinkRewritersForLink_$$(this,$anchor$jscomp$17$$);if($suitableLinkRewriters$$.length){for(var $chosenLinkRewriter$$=null,$i$jscomp$27$$=0;$i$jscomp$27$$<$suitableLinkRewriters$$.length;$i$jscomp$27$$++){var $hasReplaced$$=$suitableLinkRewriters$$[$i$jscomp$27$$].rewriteAnchorUrl($anchor$jscomp$17$$);
if($hasReplaced$$){$chosenLinkRewriter$$=$suitableLinkRewriters$$[$i$jscomp$27$$];break}}var $eventData$$={linkRewriterId:$chosenLinkRewriter$$?$chosenLinkRewriter$$.id:null,anchor:$anchor$jscomp$17$$,clickType:$event$jscomp$10$$.type};$suitableLinkRewriters$$.forEach(function($anchor$jscomp$17$$){$anchor$jscomp$17$$.events.fire({type:"CLICK",eventData:$eventData$$})})}};$LinkRewriterManager$$module$extensions$amp_skimlinks$0_1$link_rewriter$link_rewriter_manager$$.prototype.$onDomChanged_$=function(){this.$linkRewriters_$.forEach(function($linkRewriter$jscomp$2$$){$linkRewriter$jscomp$2$$.onDomUpdated()})};
function $JSCompiler_StaticMethods_parseLinkRewriterPriorityForAnchor_$$($anchor$jscomp$18$$){var $dataValue$$=$anchor$jscomp$18$$.hasAttribute("data-link-rewriters")?$anchor$jscomp$18$$.getAttribute("data-link-rewriters").trim():null;return $dataValue$$?$dataValue$$.split(/\s+/):[]}
function $JSCompiler_StaticMethods_insertInListBasedOnPriority_$$($linkRewriterList$$,$linkRewriter$jscomp$3$$,$idPriorityList$$){function $compareFunction$$($linkRewriterList$$,$linkRewriter$jscomp$3$$){var $compareFunction$$=$idPriorityList$$.indexOf($linkRewriterList$$.id),$linkRewriterA$$=$idPriorityList$$.indexOf($linkRewriter$jscomp$3$$.id);return-1===$compareFunction$$&&-1===$linkRewriterA$$?0:-1===$compareFunction$$?$B_HAS_PRIORITY$$:-1===$linkRewriterA$$?$A_HAS_PRIORITY$$:$compareFunction$$>
$linkRewriterA$$?$B_HAS_PRIORITY$$:$A_HAS_PRIORITY$$}var $B_HAS_PRIORITY$$=1,$A_HAS_PRIORITY$$=-1;$linkRewriterList$$.push($linkRewriter$jscomp$3$$);$linkRewriterList$$.sort($compareFunction$$)}
function $JSCompiler_StaticMethods_getSuitableLinkRewritersForLink_$$($JSCompiler_StaticMethods_getSuitableLinkRewritersForLink_$self$$,$anchor$jscomp$19$$){var $linkPriorityList$$=$JSCompiler_StaticMethods_parseLinkRewriterPriorityForAnchor_$$($anchor$jscomp$19$$);return $JSCompiler_StaticMethods_getSuitableLinkRewritersForLink_$self$$.$linkRewriters_$.reduce(function($JSCompiler_StaticMethods_getSuitableLinkRewritersForLink_$self$$,$linkRewriter$jscomp$4$$){$linkRewriter$jscomp$4$$.isWatchingLink($anchor$jscomp$19$$)&&
$JSCompiler_StaticMethods_insertInListBasedOnPriority_$$($JSCompiler_StaticMethods_getSuitableLinkRewritersForLink_$self$$,$linkRewriter$jscomp$4$$,$linkPriorityList$$);return $JSCompiler_StaticMethods_getSuitableLinkRewritersForLink_$self$$},[])};function $Waypoint$$module$extensions$amp_skimlinks$0_1$waypoint$$($ampdoc$jscomp$21$$,$skimOptions$jscomp$4$$,$tracking$$,$referrer$jscomp$5$$){this.$tracking_$=$tracking$$;this.$documentReferrer_$=$referrer$jscomp$5$$;this.$canonicalUrl_$=$Services$$module$src$services$documentInfoForDoc$$($ampdoc$jscomp$21$$).canonicalUrl;this.$timezone_$=""+(new Date).getTimezoneOffset();this.$skimOptions_$=$skimOptions$jscomp$4$$}
$Waypoint$$module$extensions$amp_skimlinks$0_1$waypoint$$.prototype.getAffiliateUrl=function($JSCompiler_mainAndFragment$jscomp$inline_218_JSCompiler_params$jscomp$inline_207_JSCompiler_url$jscomp$inline_215_anchor$jscomp$20$$){if(!$JSCompiler_mainAndFragment$jscomp$inline_218_JSCompiler_params$jscomp$inline_207_JSCompiler_url$jscomp$inline_215_anchor$jscomp$20$$)return null;var $$jscomp$destructuring$var32_JSCompiler_sv$jscomp$inline_212_guid$jscomp$1$$=this.$tracking_$.getTrackingInfo(),$JSCompiler_mainAndQuery$jscomp$inline_219_JSCompiler_s$jscomp$inline_208_pubcode$jscomp$2$$=
$$jscomp$destructuring$var32_JSCompiler_sv$jscomp$inline_212_guid$jscomp$1$$.pubcode,$JSCompiler_v$jscomp$inline_210_pageImpressionId$jscomp$2_sv$2$jscomp$inline_213$$=$$jscomp$destructuring$var32_JSCompiler_sv$jscomp$inline_212_guid$jscomp$1$$.pageImpressionId,$JSCompiler_i$jscomp$inline_211_customTrackingId$jscomp$2$$=$$jscomp$destructuring$var32_JSCompiler_sv$jscomp$inline_212_guid$jscomp$1$$.customTrackingId;$$jscomp$destructuring$var32_JSCompiler_sv$jscomp$inline_212_guid$jscomp$1$$=$$jscomp$destructuring$var32_JSCompiler_sv$jscomp$inline_212_guid$jscomp$1$$.guid;
var $xcust$$=$JSCompiler_mainAndFragment$jscomp$inline_218_JSCompiler_params$jscomp$inline_207_JSCompiler_url$jscomp$inline_215_anchor$jscomp$20$$.getAttribute("data-skimlinks-custom-tracking-id")||$JSCompiler_i$jscomp$inline_211_customTrackingId$jscomp$2$$,$queryParams$$=$dict$$module$src$utils$object$$({id:$JSCompiler_mainAndQuery$jscomp$inline_219_JSCompiler_s$jscomp$inline_208_pubcode$jscomp$2$$,url:$JSCompiler_mainAndFragment$jscomp$inline_218_JSCompiler_params$jscomp$inline_207_JSCompiler_url$jscomp$inline_215_anchor$jscomp$20$$.href,
sref:this.$canonicalUrl_$,pref:this.$documentReferrer_$,xguid:$$jscomp$destructuring$var32_JSCompiler_sv$jscomp$inline_212_guid$jscomp$1$$,xuuid:$JSCompiler_v$jscomp$inline_210_pageImpressionId$jscomp$2_sv$2$jscomp$inline_213$$,xtz:this.$timezone_$,xs:"1",jv:"amp@1.0.3"});$xcust$$&&($queryParams$$.xcust=$xcust$$);var $affiliationUrl$$=this.$skimOptions_$.waypointBaseUrl;$JSCompiler_mainAndFragment$jscomp$inline_218_JSCompiler_params$jscomp$inline_207_JSCompiler_url$jscomp$inline_215_anchor$jscomp$20$$=
$queryParams$$;$JSCompiler_mainAndQuery$jscomp$inline_219_JSCompiler_s$jscomp$inline_208_pubcode$jscomp$2$$=[];for($JSCompiler_inline_result$jscomp$172_JSCompiler_inline_result$jscomp$173_JSCompiler_k$jscomp$inline_209_JSCompiler_newUrl$jscomp$inline_220$$ in $JSCompiler_mainAndFragment$jscomp$inline_218_JSCompiler_params$jscomp$inline_207_JSCompiler_url$jscomp$inline_215_anchor$jscomp$20$$)if($JSCompiler_v$jscomp$inline_210_pageImpressionId$jscomp$2_sv$2$jscomp$inline_213$$=$JSCompiler_mainAndFragment$jscomp$inline_218_JSCompiler_params$jscomp$inline_207_JSCompiler_url$jscomp$inline_215_anchor$jscomp$20$$[$JSCompiler_inline_result$jscomp$172_JSCompiler_inline_result$jscomp$173_JSCompiler_k$jscomp$inline_209_JSCompiler_newUrl$jscomp$inline_220$$],
null!=$JSCompiler_v$jscomp$inline_210_pageImpressionId$jscomp$2_sv$2$jscomp$inline_213$$)if(Array.isArray($JSCompiler_v$jscomp$inline_210_pageImpressionId$jscomp$2_sv$2$jscomp$inline_213$$))for($JSCompiler_i$jscomp$inline_211_customTrackingId$jscomp$2$$=0;$JSCompiler_i$jscomp$inline_211_customTrackingId$jscomp$2$$<$JSCompiler_v$jscomp$inline_210_pageImpressionId$jscomp$2_sv$2$jscomp$inline_213$$.length;$JSCompiler_i$jscomp$inline_211_customTrackingId$jscomp$2$$++)$$jscomp$destructuring$var32_JSCompiler_sv$jscomp$inline_212_guid$jscomp$1$$=
$JSCompiler_v$jscomp$inline_210_pageImpressionId$jscomp$2_sv$2$jscomp$inline_213$$[$JSCompiler_i$jscomp$inline_211_customTrackingId$jscomp$2$$],$JSCompiler_mainAndQuery$jscomp$inline_219_JSCompiler_s$jscomp$inline_208_pubcode$jscomp$2$$.push(encodeURIComponent($JSCompiler_inline_result$jscomp$172_JSCompiler_inline_result$jscomp$173_JSCompiler_k$jscomp$inline_209_JSCompiler_newUrl$jscomp$inline_220$$)+"="+encodeURIComponent($$jscomp$destructuring$var32_JSCompiler_sv$jscomp$inline_212_guid$jscomp$1$$));
else $JSCompiler_mainAndQuery$jscomp$inline_219_JSCompiler_s$jscomp$inline_208_pubcode$jscomp$2$$.push(encodeURIComponent($JSCompiler_inline_result$jscomp$172_JSCompiler_inline_result$jscomp$173_JSCompiler_k$jscomp$inline_209_JSCompiler_newUrl$jscomp$inline_220$$)+"="+encodeURIComponent($JSCompiler_v$jscomp$inline_210_pageImpressionId$jscomp$2_sv$2$jscomp$inline_213$$));var $JSCompiler_inline_result$jscomp$172_JSCompiler_inline_result$jscomp$173_JSCompiler_k$jscomp$inline_209_JSCompiler_newUrl$jscomp$inline_220$$=
$JSCompiler_mainAndQuery$jscomp$inline_219_JSCompiler_s$jscomp$inline_208_pubcode$jscomp$2$$.join("&");$JSCompiler_mainAndFragment$jscomp$inline_218_JSCompiler_params$jscomp$inline_207_JSCompiler_url$jscomp$inline_215_anchor$jscomp$20$$=$affiliationUrl$$;$JSCompiler_inline_result$jscomp$172_JSCompiler_inline_result$jscomp$173_JSCompiler_k$jscomp$inline_209_JSCompiler_newUrl$jscomp$inline_220$$?($JSCompiler_mainAndFragment$jscomp$inline_218_JSCompiler_params$jscomp$inline_207_JSCompiler_url$jscomp$inline_215_anchor$jscomp$20$$=
$JSCompiler_mainAndFragment$jscomp$inline_218_JSCompiler_params$jscomp$inline_207_JSCompiler_url$jscomp$inline_215_anchor$jscomp$20$$.split("#",2),$JSCompiler_mainAndQuery$jscomp$inline_219_JSCompiler_s$jscomp$inline_208_pubcode$jscomp$2$$=$JSCompiler_mainAndFragment$jscomp$inline_218_JSCompiler_params$jscomp$inline_207_JSCompiler_url$jscomp$inline_215_anchor$jscomp$20$$[0].split("?",2),$JSCompiler_inline_result$jscomp$172_JSCompiler_inline_result$jscomp$173_JSCompiler_k$jscomp$inline_209_JSCompiler_newUrl$jscomp$inline_220$$=
$JSCompiler_mainAndQuery$jscomp$inline_219_JSCompiler_s$jscomp$inline_208_pubcode$jscomp$2$$[0]+($JSCompiler_mainAndQuery$jscomp$inline_219_JSCompiler_s$jscomp$inline_208_pubcode$jscomp$2$$[1]?"?"+$JSCompiler_mainAndQuery$jscomp$inline_219_JSCompiler_s$jscomp$inline_208_pubcode$jscomp$2$$[1]+"&"+$JSCompiler_inline_result$jscomp$172_JSCompiler_inline_result$jscomp$173_JSCompiler_k$jscomp$inline_209_JSCompiler_newUrl$jscomp$inline_220$$:"?"+$JSCompiler_inline_result$jscomp$172_JSCompiler_inline_result$jscomp$173_JSCompiler_k$jscomp$inline_209_JSCompiler_newUrl$jscomp$inline_220$$),
$JSCompiler_inline_result$jscomp$172_JSCompiler_inline_result$jscomp$173_JSCompiler_k$jscomp$inline_209_JSCompiler_newUrl$jscomp$inline_220$$+=$JSCompiler_mainAndFragment$jscomp$inline_218_JSCompiler_params$jscomp$inline_207_JSCompiler_url$jscomp$inline_215_anchor$jscomp$20$$[1]?"#"+$JSCompiler_mainAndFragment$jscomp$inline_218_JSCompiler_params$jscomp$inline_207_JSCompiler_url$jscomp$inline_215_anchor$jscomp$20$$[1]:""):$JSCompiler_inline_result$jscomp$172_JSCompiler_inline_result$jscomp$173_JSCompiler_k$jscomp$inline_209_JSCompiler_newUrl$jscomp$inline_220$$=
$JSCompiler_mainAndFragment$jscomp$inline_218_JSCompiler_params$jscomp$inline_207_JSCompiler_url$jscomp$inline_215_anchor$jscomp$20$$;return $JSCompiler_inline_result$jscomp$172_JSCompiler_inline_result$jscomp$173_JSCompiler_k$jscomp$inline_209_JSCompiler_newUrl$jscomp$inline_220$$};function $assertSkimOption$$module$extensions$amp_skimlinks$0_1$skim_options$$($condition$jscomp$2$$,$message$jscomp$30$$){$userAssert$$module$src$log$$($condition$jscomp$2$$,"<amp-skimlinks> Invalid option => "+$message$jscomp$30$$)}
function $getAmpSkimlinksOptions$$module$extensions$amp_skimlinks$0_1$skim_options$$($JSCompiler_customConfigJson$jscomp$inline_162_element$jscomp$70$$,$JSCompiler_temp_const$jscomp$39_docInfo$jscomp$1$$){var $JSCompiler_pubCode$jscomp$inline_142$$=$JSCompiler_customConfigJson$jscomp$inline_162_element$jscomp$70$$.getAttribute("publisher-code");$assertSkimOption$$module$extensions$amp_skimlinks$0_1$skim_options$$($JSCompiler_pubCode$jscomp$inline_142$$,'"publisher-code" is required.');var $JSCompiler_inline_result$jscomp$41_JSCompiler_temp_const$jscomp$42_JSCompiler_temp_const$jscomp$46_JSCompiler_tracking$jscomp$inline_148$$=
$getExcludedDomains_$$module$extensions$amp_skimlinks$0_1$skim_options$$,$JSCompiler_customTrackingId$jscomp$inline_152_JSCompiler_internalDomains$jscomp$inline_145$$=[];$JSCompiler_temp_const$jscomp$39_docInfo$jscomp$1$$.canonicalUrl&&$JSCompiler_customTrackingId$jscomp$inline_152_JSCompiler_internalDomains$jscomp$inline_145$$.push($getNormalizedHostnameFromUrl$$module$extensions$amp_skimlinks$0_1$utils$$($JSCompiler_temp_const$jscomp$39_docInfo$jscomp$1$$.canonicalUrl));$JSCompiler_temp_const$jscomp$39_docInfo$jscomp$1$$.sourceUrl&&
$JSCompiler_customTrackingId$jscomp$inline_152_JSCompiler_internalDomains$jscomp$inline_145$$.push($getNormalizedHostnameFromUrl$$module$extensions$amp_skimlinks$0_1$utils$$($JSCompiler_temp_const$jscomp$39_docInfo$jscomp$1$$.sourceUrl));$JSCompiler_temp_const$jscomp$39_docInfo$jscomp$1$$=$JSCompiler_inline_result$jscomp$41_JSCompiler_temp_const$jscomp$42_JSCompiler_temp_const$jscomp$46_JSCompiler_tracking$jscomp$inline_148$$($JSCompiler_customConfigJson$jscomp$inline_162_element$jscomp$70$$,$JSCompiler_customTrackingId$jscomp$inline_152_JSCompiler_internalDomains$jscomp$inline_145$$);
($JSCompiler_inline_result$jscomp$41_JSCompiler_temp_const$jscomp$42_JSCompiler_temp_const$jscomp$46_JSCompiler_tracking$jscomp$inline_148$$=$JSCompiler_customConfigJson$jscomp$inline_162_element$jscomp$70$$.getAttribute("tracking"))?($assertSkimOption$$module$extensions$amp_skimlinks$0_1$skim_options$$("true"===$JSCompiler_inline_result$jscomp$41_JSCompiler_temp_const$jscomp$42_JSCompiler_temp_const$jscomp$46_JSCompiler_tracking$jscomp$inline_148$$||"false"===$JSCompiler_inline_result$jscomp$41_JSCompiler_temp_const$jscomp$42_JSCompiler_temp_const$jscomp$46_JSCompiler_tracking$jscomp$inline_148$$,
'"tracking" possible values are "true" or "false".'),$JSCompiler_inline_result$jscomp$41_JSCompiler_temp_const$jscomp$42_JSCompiler_temp_const$jscomp$46_JSCompiler_tracking$jscomp$inline_148$$="true"===$JSCompiler_inline_result$jscomp$41_JSCompiler_temp_const$jscomp$42_JSCompiler_temp_const$jscomp$46_JSCompiler_tracking$jscomp$inline_148$$):$JSCompiler_inline_result$jscomp$41_JSCompiler_temp_const$jscomp$42_JSCompiler_temp_const$jscomp$46_JSCompiler_tracking$jscomp$inline_148$$=!0;($JSCompiler_customTrackingId$jscomp$inline_152_JSCompiler_internalDomains$jscomp$inline_145$$=
$JSCompiler_customConfigJson$jscomp$inline_162_element$jscomp$70$$.getAttribute("custom-tracking-id"))&&$assertSkimOption$$module$extensions$amp_skimlinks$0_1$skim_options$$(50>=$JSCompiler_customTrackingId$jscomp$inline_152_JSCompiler_internalDomains$jscomp$inline_145$$.length,'"custom-tracking-id" should be <=50 characters and only contain upper and lowercase characters, numbers, underscores and pipes.');var $JSCompiler_inline_result$jscomp$45$$=$JSCompiler_customConfigJson$jscomp$inline_162_element$jscomp$70$$.getAttribute("link-selector")||
null;var $JSCompiler_customSubDomain$jscomp$inline_159_JSCompiler_inline_result$jscomp$49_JSCompiler_temp_const$jscomp$50$$;($JSCompiler_customSubDomain$jscomp$inline_159_JSCompiler_inline_result$jscomp$49_JSCompiler_temp_const$jscomp$50$$=$JSCompiler_customConfigJson$jscomp$inline_162_element$jscomp$70$$.getAttribute("custom-redirect-domain"))?($JSCompiler_customSubDomain$jscomp$inline_159_JSCompiler_inline_result$jscomp$49_JSCompiler_temp_const$jscomp$50$$=$JSCompiler_customSubDomain$jscomp$inline_159_JSCompiler_inline_result$jscomp$49_JSCompiler_temp_const$jscomp$50$$.replace(/^\/\/|^https?:\/\/|\/$/g,
""),$JSCompiler_customSubDomain$jscomp$inline_159_JSCompiler_inline_result$jscomp$49_JSCompiler_temp_const$jscomp$50$$="http://"+$JSCompiler_customSubDomain$jscomp$inline_159_JSCompiler_inline_result$jscomp$49_JSCompiler_temp_const$jscomp$50$$):$JSCompiler_customSubDomain$jscomp$inline_159_JSCompiler_inline_result$jscomp$49_JSCompiler_temp_const$jscomp$50$$="https://go.skimresources.com";try{/^[\w-]+$/.test("script");if(void 0!==$scopeSelectorSupported$$module$src$css$$)var $JSCompiler_temp$jscomp$inline_275$$=
$scopeSelectorSupported$$module$src$css$$;else{try{var $JSCompiler_doc$jscomp$inline_277$$=$JSCompiler_customConfigJson$jscomp$inline_162_element$jscomp$70$$.ownerDocument,$JSCompiler_testElement$jscomp$inline_278$$=$JSCompiler_doc$jscomp$inline_277$$.createElement("div"),$JSCompiler_testChild$jscomp$inline_279$$=$JSCompiler_doc$jscomp$inline_277$$.createElement("div");$JSCompiler_testElement$jscomp$inline_278$$.appendChild($JSCompiler_testChild$jscomp$inline_279$$);var $JSCompiler_inline_result$jscomp$inline_276$$=
$JSCompiler_testElement$jscomp$inline_278$$.querySelector(":scope div")===$JSCompiler_testChild$jscomp$inline_279$$}catch($JSCompiler_e$jscomp$inline_282$$){$JSCompiler_inline_result$jscomp$inline_276$$=!1}$JSCompiler_temp$jscomp$inline_275$$=$scopeSelectorSupported$$module$src$css$$=$JSCompiler_inline_result$jscomp$inline_276$$}if($JSCompiler_temp$jscomp$inline_275$$)var $JSCompiler_temp$jscomp$inline_274$$=$JSCompiler_customConfigJson$jscomp$inline_162_element$jscomp$70$$.querySelectorAll("> script".replace(/^|,/g,
"$&:scope "));else{$JSCompiler_customConfigJson$jscomp$inline_162_element$jscomp$70$$.classList.add("i-amphtml-scoped");var $JSCompiler_scopedSelector$jscomp$inline_280$$="> script".replace(/^|,/g,"$&.i-amphtml-scoped "),$JSCompiler_elements$jscomp$inline_281$$=$JSCompiler_customConfigJson$jscomp$inline_162_element$jscomp$70$$.querySelectorAll($JSCompiler_scopedSelector$jscomp$inline_280$$);$JSCompiler_customConfigJson$jscomp$inline_162_element$jscomp$70$$.classList.remove("i-amphtml-scoped");$JSCompiler_temp$jscomp$inline_274$$=
$JSCompiler_elements$jscomp$inline_281$$}var $JSCompiler_inline_result$jscomp$231$$=$JSCompiler_temp$jscomp$inline_274$$;if(1!==$JSCompiler_inline_result$jscomp$231$$.length)throw Error("Found "+$JSCompiler_inline_result$jscomp$231$$.length+" <script> children. Expected 1.");var $JSCompiler_script$jscomp$inline_224$$=$JSCompiler_inline_result$jscomp$231$$[0];if("SCRIPT"!=$JSCompiler_script$jscomp$inline_224$$.tagName||!$JSCompiler_script$jscomp$inline_224$$.hasAttribute("type")||"APPLICATION/JSON"!=
$JSCompiler_script$jscomp$inline_224$$.getAttribute("type").toUpperCase())throw Error('<script> child must have type="application/json"');try{var $JSCompiler_inline_result$jscomp$174$$=JSON.parse($JSCompiler_script$jscomp$inline_224$$.textContent)}catch($JSCompiler_unusedError$jscomp$inline_225$$){throw Error("Failed to parse <script> contents. Is it valid JSON?");}$JSCompiler_customConfigJson$jscomp$inline_162_element$jscomp$70$$=$JSCompiler_inline_result$jscomp$174$$;var $JSCompiler_inline_result$jscomp$51$$=
{pageTrackingUrl:$JSCompiler_customConfigJson$jscomp$inline_162_element$jscomp$70$$.pageTrackingUrl||$DEFAULT_CONFIG$$module$extensions$amp_skimlinks$0_1$constants$$.pageTrackingUrl,linksTrackingUrl:$JSCompiler_customConfigJson$jscomp$inline_162_element$jscomp$70$$.linksTrackingUrl||$DEFAULT_CONFIG$$module$extensions$amp_skimlinks$0_1$constants$$.linksTrackingUrl,nonAffiliateTrackingUrl:$JSCompiler_customConfigJson$jscomp$inline_162_element$jscomp$70$$.nonAffiliateTrackingUrl||$DEFAULT_CONFIG$$module$extensions$amp_skimlinks$0_1$constants$$.nonAffiliateTrackingUrl,
beaconUrl:$JSCompiler_customConfigJson$jscomp$inline_162_element$jscomp$70$$.beaconUrl||$DEFAULT_CONFIG$$module$extensions$amp_skimlinks$0_1$constants$$.beaconUrl}}catch($JSCompiler_err$jscomp$inline_163$$){$JSCompiler_inline_result$jscomp$51$$=$DEFAULT_CONFIG$$module$extensions$amp_skimlinks$0_1$constants$$}return{pubcode:$JSCompiler_pubCode$jscomp$inline_142$$,excludedDomains:$JSCompiler_temp_const$jscomp$39_docInfo$jscomp$1$$,tracking:$JSCompiler_inline_result$jscomp$41_JSCompiler_temp_const$jscomp$42_JSCompiler_temp_const$jscomp$46_JSCompiler_tracking$jscomp$inline_148$$,
customTrackingId:$JSCompiler_customTrackingId$jscomp$inline_152_JSCompiler_internalDomains$jscomp$inline_145$$,linkSelector:$JSCompiler_inline_result$jscomp$45$$,waypointBaseUrl:$JSCompiler_customSubDomain$jscomp$inline_159_JSCompiler_inline_result$jscomp$49_JSCompiler_temp_const$jscomp$50$$,config:$JSCompiler_inline_result$jscomp$51$$}}
function $getExcludedDomains_$$module$extensions$amp_skimlinks$0_1$skim_options$$($element$jscomp$71$$,$internalDomains$$){var $excludedDomains$jscomp$1$$=[].concat($internalDomains$$).concat($GLOBAL_DOMAIN_BLACKLIST$$module$extensions$amp_skimlinks$0_1$constants$$),$excludedDomainsAttr$$=$element$jscomp$71$$.getAttribute("excluded-domains");$excludedDomainsAttr$$&&($excludedDomains$jscomp$1$$=$excludedDomains$jscomp$1$$.concat($excludedDomainsAttr$$.trim().split(/\s+/).map(function($element$jscomp$71$$){return $element$jscomp$71$$.replace(/^www\./,
"")})));return $excludedDomains$jscomp$1$$};function $AmpSkimlinks$$module$extensions$amp_skimlinks$0_1$amp_skimlinks$$($$jscomp$super$this_element$jscomp$78$$){$$jscomp$super$this_element$jscomp$78$$=AMP.BaseElement.call(this,$$jscomp$super$this_element$jscomp$78$$)||this;$$jscomp$super$this_element$jscomp$78$$.$xhr_$=null;$$jscomp$super$this_element$jscomp$78$$.$ampDoc_$=null;$$jscomp$super$this_element$jscomp$78$$.$docInfo_$=null;$$jscomp$super$this_element$jscomp$78$$.$viewer_$=null;$$jscomp$super$this_element$jscomp$78$$.$linkRewriterService_$=
null;$$jscomp$super$this_element$jscomp$78$$.$skimOptions_$={};$$jscomp$super$this_element$jscomp$78$$.$trackingService_$=null;$$jscomp$super$this_element$jscomp$78$$.$affiliateLinkResolver_$=null;$$jscomp$super$this_element$jscomp$78$$.$waypoint_$=null;$$jscomp$super$this_element$jscomp$78$$.$skimlinksLinkRewriter_$=null;$$jscomp$super$this_element$jscomp$78$$.$referrer_$=null;return $$jscomp$super$this_element$jscomp$78$$}
$$jscomp$inherits$$($AmpSkimlinks$$module$extensions$amp_skimlinks$0_1$amp_skimlinks$$,AMP.BaseElement);$JSCompiler_prototypeAlias$$=$AmpSkimlinks$$module$extensions$amp_skimlinks$0_1$amp_skimlinks$$.prototype;
$JSCompiler_prototypeAlias$$.buildCallback=function(){var $$jscomp$this$jscomp$24$$=this;this.$xhr_$=$getService$$module$src$service$$(this.win,"xhr");this.$ampDoc_$=this.getAmpDoc();this.$docInfo_$=$Services$$module$src$services$documentInfoForDoc$$(this.$ampDoc_$);this.$viewer_$=$getServiceForDoc$$module$src$service$$(this.$ampDoc_$,"viewer");this.$linkRewriterService_$=new $LinkRewriterManager$$module$extensions$amp_skimlinks$0_1$link_rewriter$link_rewriter_manager$$(this.$ampDoc_$);this.$skimOptions_$=
$getAmpSkimlinksOptions$$module$extensions$amp_skimlinks$0_1$skim_options$$(this.element,this.$docInfo_$);return this.$ampDoc_$.whenBodyAvailable().then(function(){return $$jscomp$this$jscomp$24$$.$viewer_$.getReferrerUrl()}).then(function($JSCompiler_inline_result$jscomp$175_referrer$jscomp$6$$){$$jscomp$this$jscomp$24$$.$referrer_$=$JSCompiler_inline_result$jscomp$175_referrer$jscomp$6$$;$$jscomp$this$jscomp$24$$.signals().signal("load-start");$JSCompiler_inline_result$jscomp$175_referrer$jscomp$6$$=
new $Tracking$$module$extensions$amp_skimlinks$0_1$tracking$$($$jscomp$this$jscomp$24$$.element,$$jscomp$this$jscomp$24$$.$skimOptions_$,$$jscomp$this$jscomp$24$$.$referrer_$);$$jscomp$this$jscomp$24$$.$trackingService_$=$JSCompiler_inline_result$jscomp$175_referrer$jscomp$6$$;$$jscomp$this$jscomp$24$$.$waypoint_$=new $Waypoint$$module$extensions$amp_skimlinks$0_1$waypoint$$($$jscomp$this$jscomp$24$$.$ampDoc_$,$$jscomp$this$jscomp$24$$.$skimOptions_$,$$jscomp$this$jscomp$24$$.$trackingService_$,$$jscomp$this$jscomp$24$$.$referrer_$);
$$jscomp$this$jscomp$24$$.$affiliateLinkResolver_$=new $AffiliateLinkResolver$$module$extensions$amp_skimlinks$0_1$affiliate_link_resolver$$($$jscomp$this$jscomp$24$$.$xhr_$,$$jscomp$this$jscomp$24$$.$skimOptions_$,$$jscomp$this$jscomp$24$$.$waypoint_$);$$jscomp$this$jscomp$24$$.$skimlinksLinkRewriter_$=$JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$$($$jscomp$this$jscomp$24$$)})};
$JSCompiler_prototypeAlias$$.$sendImpressionTracking_$=function($beaconData$$){var $$jscomp$this$jscomp$25$$=this;this.$trackingService_$.setTrackingInfo({guid:$beaconData$$.guid});$getServiceForDoc$$module$src$service$$(this.$ampDoc_$,"viewer").whenFirstVisible().then(function(){$$jscomp$this$jscomp$25$$.$trackingService_$.sendImpressionTracking($$jscomp$this$jscomp$25$$.$skimlinksLinkRewriter_$.getAnchorReplacementList())})};
$JSCompiler_prototypeAlias$$.$onPageScanned_$=function(){var $beaconApiPromise$$=this.$affiliateLinkResolver_$.firstRequest||this.$affiliateLinkResolver_$.fetchDomainResolverApi([]);return $beaconApiPromise$$.then(this.$sendImpressionTracking_$.bind(this))};
function $JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$$($JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$){var $linkRewriter$jscomp$5$$=$JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$.$linkRewriterService_$.registerLinkRewriter("amp-skimlinks",function($linkRewriter$jscomp$5$$){return $JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$.$affiliateLinkResolver_$.resolveUnknownAnchors($linkRewriter$jscomp$5$$)},{linkSelector:$JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$.$skimOptions_$.linkSelector}),
$$jscomp$compprop0$$={},$eventHandlers$$=($$jscomp$compprop0$$.PAGE_SCANNED=$once$$module$src$utils$function$$($JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$.$onPageScanned_$.bind($JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$)),$$jscomp$compprop0$$.CLICK=$JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$.$onClick_$.bind($JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$),$$jscomp$compprop0$$);$linkRewriter$jscomp$5$$.events.add(function($JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$){var $linkRewriter$jscomp$5$$=
$eventHandlers$$[$JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$.type];$linkRewriter$jscomp$5$$&&$linkRewriter$jscomp$5$$($JSCompiler_StaticMethods_initSkimlinksLinkRewriter_$self$$.eventData)});return $linkRewriter$jscomp$5$$}$JSCompiler_prototypeAlias$$.$onClick_$=function($eventData$jscomp$1$$){var $doClickTracking$$="amp-skimlinks"!==$eventData$jscomp$1$$.linkRewriterId&&"contextmenu"!==$eventData$jscomp$1$$.clickType;$doClickTracking$$&&this.$trackingService_$.sendNaClickTracking($eventData$jscomp$1$$.anchor)};
$JSCompiler_prototypeAlias$$.isLayoutSupported=function(){return!0};(function($AMP$jscomp$1$$){$AMP$jscomp$1$$.registerElement("amp-skimlinks",$AmpSkimlinks$$module$extensions$amp_skimlinks$0_1$amp_skimlinks$$)})(self.AMP);
})});

//# sourceMappingURL=amp-skimlinks-0.1.js.map
