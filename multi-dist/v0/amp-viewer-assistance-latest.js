(self.AMP=self.AMP||[]).push({n:"amp-viewer-assistance",v:"1904281823091",f:(function(AMP,_){
function $tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($component$jscomp$4$$,$fallback$$){$fallback$$=void 0===$fallback$$?"":$fallback$$;try{return decodeURIComponent($component$jscomp$4$$)}catch($e$jscomp$7$$){return $fallback$$}};var $regex$$module$src$url_parse_query_string$$=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log;function $user$$module$src$log$$(){if(!$logs$$module$src$log$$.user)throw Error("failed to call initLogConstructor");return $logs$$module$src$log$$.user};function $getExistingServiceForDocInEmbedScope$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_61_JSCompiler_holder$jscomp$inline_62_element$jscomp$11$$){var $opt_fallbackToTopWin$$,$win$jscomp$6$$=$JSCompiler_ampdoc$jscomp$inline_61_JSCompiler_holder$jscomp$inline_62_element$jscomp$11$$.ownerDocument.defaultView,$isEmbed$$=$win$jscomp$6$$!=($win$jscomp$6$$.__AMP_TOP||$win$jscomp$6$$);if($isEmbed$$){if($isServiceRegistered$$module$src$service$$($win$jscomp$6$$,"action")){var $embedService$$=
$getServiceInternal$$module$src$service$$($win$jscomp$6$$,"action");if($embedService$$)return $embedService$$}if(!$opt_fallbackToTopWin$$)return null}$JSCompiler_ampdoc$jscomp$inline_61_JSCompiler_holder$jscomp$inline_62_element$jscomp$11$$=$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_61_JSCompiler_holder$jscomp$inline_62_element$jscomp$11$$);$JSCompiler_ampdoc$jscomp$inline_61_JSCompiler_holder$jscomp$inline_62_element$jscomp$11$$=$getAmpdocServiceHolder$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_61_JSCompiler_holder$jscomp$inline_62_element$jscomp$11$$);
return $isServiceRegistered$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_61_JSCompiler_holder$jscomp$inline_62_element$jscomp$11$$,"action")?$getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_61_JSCompiler_holder$jscomp$inline_62_element$jscomp$11$$,"action"):null}
function $getService$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$){$win$jscomp$8$$=$win$jscomp$8$$.__AMP_TOP||$win$jscomp$8$$;return $getServiceInternal$$module$src$service$$($win$jscomp$8$$,$id$jscomp$11$$)}
function $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$$){var $ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdoc$$module$src$service$$($elementOrAmpDoc$$);$ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$);return $getServiceInternal$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$,"viewer")}
function $getAmpdoc$$module$src$service$$($nodeOrDoc$jscomp$2$$){return $nodeOrDoc$jscomp$2$$.nodeType?$getService$$module$src$service$$(($nodeOrDoc$jscomp$2$$.ownerDocument||$nodeOrDoc$jscomp$2$$).defaultView,"ampdoc").getAmpDoc($nodeOrDoc$jscomp$2$$):$nodeOrDoc$jscomp$2$$}
function $getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$){$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$=$getAmpdoc$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$);return $ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.isSingleDoc()?$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.win:$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$){$isServiceRegistered$$module$src$service$$($holder$jscomp$4_s$jscomp$8$$,$id$jscomp$19$$);var $JSCompiler_services$jscomp$inline_26$$=$holder$jscomp$4_s$jscomp$8$$.services;$JSCompiler_services$jscomp$inline_26$$||($JSCompiler_services$jscomp$inline_26$$=$holder$jscomp$4_s$jscomp$8$$.services={});var $services$$=$JSCompiler_services$jscomp$inline_26$$;$holder$jscomp$4_s$jscomp$8$$=$services$$[$id$jscomp$19$$];
$holder$jscomp$4_s$jscomp$8$$.obj||($holder$jscomp$4_s$jscomp$8$$.obj=new $holder$jscomp$4_s$jscomp$8$$.ctor($holder$jscomp$4_s$jscomp$8$$.context),$holder$jscomp$4_s$jscomp$8$$.ctor=null,$holder$jscomp$4_s$jscomp$8$$.context=null,$holder$jscomp$4_s$jscomp$8$$.resolve&&$holder$jscomp$4_s$jscomp$8$$.resolve($holder$jscomp$4_s$jscomp$8$$.obj));return $holder$jscomp$4_s$jscomp$8$$.obj}
function $isServiceRegistered$$module$src$service$$($holder$jscomp$12_service$jscomp$4$$,$id$jscomp$27$$){$holder$jscomp$12_service$jscomp$4$$=$holder$jscomp$12_service$jscomp$4$$.services&&$holder$jscomp$12_service$jscomp$4$$.services[$id$jscomp$27$$];return!(!$holder$jscomp$12_service$jscomp$4$$||!$holder$jscomp$12_service$jscomp$4$$.ctor&&!$holder$jscomp$12_service$jscomp$4$$.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function $dict$$module$src$utils$object$$($opt_initial$jscomp$1$$){return $opt_initial$jscomp$1$$||{}};$dict$$module$src$utils$object$$({c:!0,v:!0,a:!0,ad:!0,action:!0});function $getExperimentTogglesFromCookie$$module$src$experiments$$($JSCompiler_cookieString$jscomp$inline_30_JSCompiler_cookies$jscomp$inline_31_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_35_toggles$jscomp$3_win$jscomp$55$$){a:{try{var $JSCompiler_i$jscomp$inline_32_JSCompiler_inline_result$jscomp$57_i$jscomp$16$$=$JSCompiler_cookieString$jscomp$inline_30_JSCompiler_cookies$jscomp$inline_31_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_35_toggles$jscomp$3_win$jscomp$55$$.document.cookie}catch($JSCompiler_e$jscomp$inline_65$$){$JSCompiler_i$jscomp$inline_32_JSCompiler_inline_result$jscomp$57_i$jscomp$16$$=
""}if($JSCompiler_cookieString$jscomp$inline_30_JSCompiler_cookies$jscomp$inline_31_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_35_toggles$jscomp$3_win$jscomp$55$$=$JSCompiler_i$jscomp$inline_32_JSCompiler_inline_result$jscomp$57_i$jscomp$16$$)for($JSCompiler_cookieString$jscomp$inline_30_JSCompiler_cookies$jscomp$inline_31_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_35_toggles$jscomp$3_win$jscomp$55$$=$JSCompiler_cookieString$jscomp$inline_30_JSCompiler_cookies$jscomp$inline_31_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_35_toggles$jscomp$3_win$jscomp$55$$.split(";"),
$JSCompiler_i$jscomp$inline_32_JSCompiler_inline_result$jscomp$57_i$jscomp$16$$=0;$JSCompiler_i$jscomp$inline_32_JSCompiler_inline_result$jscomp$57_i$jscomp$16$$<$JSCompiler_cookieString$jscomp$inline_30_JSCompiler_cookies$jscomp$inline_31_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_35_toggles$jscomp$3_win$jscomp$55$$.length;$JSCompiler_i$jscomp$inline_32_JSCompiler_inline_result$jscomp$57_i$jscomp$16$$++){var $JSCompiler_cookie$jscomp$inline_33$$=$JSCompiler_cookieString$jscomp$inline_30_JSCompiler_cookies$jscomp$inline_31_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_35_toggles$jscomp$3_win$jscomp$55$$[$JSCompiler_i$jscomp$inline_32_JSCompiler_inline_result$jscomp$57_i$jscomp$16$$].trim(),
$JSCompiler_eq$jscomp$inline_34$$=$JSCompiler_cookie$jscomp$inline_33$$.indexOf("=");if(-1!=$JSCompiler_eq$jscomp$inline_34$$&&"AMP_EXP"==$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_cookie$jscomp$inline_33$$.substring(0,$JSCompiler_eq$jscomp$inline_34$$).trim(),void 0)){$JSCompiler_cookieString$jscomp$inline_30_JSCompiler_cookies$jscomp$inline_31_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_35_toggles$jscomp$3_win$jscomp$55$$=$JSCompiler_cookie$jscomp$inline_33$$.substring($JSCompiler_eq$jscomp$inline_34$$+
1).trim();$JSCompiler_cookieString$jscomp$inline_30_JSCompiler_cookies$jscomp$inline_31_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_35_toggles$jscomp$3_win$jscomp$55$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_cookieString$jscomp$inline_30_JSCompiler_cookies$jscomp$inline_31_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_35_toggles$jscomp$3_win$jscomp$55$$,$JSCompiler_cookieString$jscomp$inline_30_JSCompiler_cookies$jscomp$inline_31_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_35_toggles$jscomp$3_win$jscomp$55$$);
break a}}$JSCompiler_cookieString$jscomp$inline_30_JSCompiler_cookies$jscomp$inline_31_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_35_toggles$jscomp$3_win$jscomp$55$$=null}var $experimentCookie$$=$JSCompiler_cookieString$jscomp$inline_30_JSCompiler_cookies$jscomp$inline_31_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_35_toggles$jscomp$3_win$jscomp$55$$,$tokens$$=$experimentCookie$$?$experimentCookie$$.split(/\s*,\s*/g):[];$JSCompiler_cookieString$jscomp$inline_30_JSCompiler_cookies$jscomp$inline_31_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_35_toggles$jscomp$3_win$jscomp$55$$=
Object.create(null);for($JSCompiler_i$jscomp$inline_32_JSCompiler_inline_result$jscomp$57_i$jscomp$16$$=0;$JSCompiler_i$jscomp$inline_32_JSCompiler_inline_result$jscomp$57_i$jscomp$16$$<$tokens$$.length;$JSCompiler_i$jscomp$inline_32_JSCompiler_inline_result$jscomp$57_i$jscomp$16$$++)0!=$tokens$$[$JSCompiler_i$jscomp$inline_32_JSCompiler_inline_result$jscomp$57_i$jscomp$16$$].length&&("-"==$tokens$$[$JSCompiler_i$jscomp$inline_32_JSCompiler_inline_result$jscomp$57_i$jscomp$16$$][0]?$JSCompiler_cookieString$jscomp$inline_30_JSCompiler_cookies$jscomp$inline_31_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_35_toggles$jscomp$3_win$jscomp$55$$[$tokens$$[$JSCompiler_i$jscomp$inline_32_JSCompiler_inline_result$jscomp$57_i$jscomp$16$$].substr(1)]=
!1:$JSCompiler_cookieString$jscomp$inline_30_JSCompiler_cookies$jscomp$inline_31_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_35_toggles$jscomp$3_win$jscomp$55$$[$tokens$$[$JSCompiler_i$jscomp$inline_32_JSCompiler_inline_result$jscomp$57_i$jscomp$16$$]]=!0);return $JSCompiler_cookieString$jscomp$inline_30_JSCompiler_cookies$jscomp$inline_31_JSCompiler_inline_result$jscomp$18_JSCompiler_value$jscomp$inline_35_toggles$jscomp$3_win$jscomp$55$$};function $tryParseJson$$module$src$json$$($json$jscomp$1$$,$opt_onFailed$$){try{return JSON.parse($json$jscomp$1$$)}catch($e$jscomp$16$$){return $opt_onFailed$$&&$opt_onFailed$$($e$jscomp$16$$),null}};var $ACTION_STATUS_WHITELIST$$module$extensions$amp_viewer_assistance$0_1$amp_viewer_assistance$$=["ACTIVE_ACTION_STATUS","FAILED_ACTION_STATUS","COMPLETED_ACTION_STATUS"];
function $AmpViewerAssistance$$module$extensions$amp_viewer_assistance$0_1$amp_viewer_assistance$$($ampdoc$jscomp$10$$){var $assistanceElement$$=$ampdoc$jscomp$10$$.getElementById("amp-viewer-assistance");if(this.$enabled_$=!!$assistanceElement$$)this.$ampdoc_$=$ampdoc$jscomp$10$$,this.$assistanceElement_$=$assistanceElement$$,this.$configJson_$=$tryParseJson$$module$src$json$$(this.$assistanceElement_$.textContent,function($ampdoc$jscomp$10$$){throw $user$$module$src$log$$().createError('Failed to parse "amp-viewer-assistance" JSON: '+
$ampdoc$jscomp$10$$);}),this.$viewer_$=$getServiceForDoc$$module$src$service$$($ampdoc$jscomp$10$$),this.$action_$=$getExistingServiceForDocInEmbedScope$$module$src$service$$(this.$assistanceElement_$),this.$vsync_$=$getService$$module$src$service$$($ampdoc$jscomp$10$$.win,"vsync")}
$AmpViewerAssistance$$module$extensions$amp_viewer_assistance$0_1$amp_viewer_assistance$$.prototype.$actionHandler_$=function($invocation$$){var $$jscomp$this$jscomp$1$$=this,$$jscomp$destructuring$var13$$=$invocation$$,$method$jscomp$1$$=$$jscomp$destructuring$var13$$.method,$args$$=$$jscomp$destructuring$var13$$.args;"updateActionState"==$method$jscomp$1$$?$invocation$$.satisfiesTrust(1)&&$JSCompiler_StaticMethods_validateAndTransformUpdateArgs_$$($args$$).then(function($invocation$$){return $$jscomp$this$jscomp$1$$.$viewer_$.sendMessageAwaitResponse($method$jscomp$1$$,
$invocation$$)}).catch(function($invocation$$){$user$$module$src$log$$().error("amp-viewer-assistance",$invocation$$.toString())}):"signIn"==$method$jscomp$1$$&&$invocation$$.satisfiesTrust(100)&&$JSCompiler_StaticMethods_requestSignIn_$$(this);return null};
function $JSCompiler_StaticMethods_start_$$($JSCompiler_StaticMethods_start_$self$$){return $JSCompiler_StaticMethods_start_$self$$.$enabled_$?$JSCompiler_StaticMethods_start_$self$$.$viewer_$.isTrustedViewer().then(function($isTrustedViewer$$){var $JSCompiler_inline_result$jscomp$58_JSCompiler_temp$jscomp$19_JSCompiler_toggles$jscomp$inline_68$$;if($JSCompiler_inline_result$jscomp$58_JSCompiler_temp$jscomp$19_JSCompiler_toggles$jscomp$inline_68$$=!$isTrustedViewer$$){var $JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$=
$JSCompiler_StaticMethods_start_$self$$.$ampdoc_$.win;if($JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$.__AMP__EXPERIMENT_TOGGLES)$JSCompiler_inline_result$jscomp$58_JSCompiler_temp$jscomp$19_JSCompiler_toggles$jscomp$inline_68$$=$JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$.__AMP__EXPERIMENT_TOGGLES;else{$JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$.__AMP__EXPERIMENT_TOGGLES=Object.create(null);$JSCompiler_inline_result$jscomp$58_JSCompiler_temp$jscomp$19_JSCompiler_toggles$jscomp$inline_68$$=
$JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$.__AMP__EXPERIMENT_TOGGLES;if($JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$.AMP_CONFIG)for(var $JSCompiler_allowed$jscomp$inline_71_JSCompiler_experimentId$jscomp$inline_69_allowed$2$jscomp$inline_75$$ in $JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$.AMP_CONFIG){var $JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$=
$JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$.AMP_CONFIG[$JSCompiler_allowed$jscomp$inline_71_JSCompiler_experimentId$jscomp$inline_69_allowed$2$jscomp$inline_75$$];"number"===typeof $JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$&&0<=$JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$&&
1>=$JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$&&($JSCompiler_inline_result$jscomp$58_JSCompiler_temp$jscomp$19_JSCompiler_toggles$jscomp$inline_68$$[$JSCompiler_allowed$jscomp$inline_71_JSCompiler_experimentId$jscomp$inline_69_allowed$2$jscomp$inline_75$$]=Math.random()<$JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$)}if($JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$.AMP_CONFIG&&
Array.isArray($JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$.AMP_CONFIG["allow-doc-opt-in"])&&0<$JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$.AMP_CONFIG["allow-doc-opt-in"].length&&($JSCompiler_allowed$jscomp$inline_71_JSCompiler_experimentId$jscomp$inline_69_allowed$2$jscomp$inline_75$$=$JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$.AMP_CONFIG["allow-doc-opt-in"],$JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$=
$JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){$JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$=$JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$.getAttribute("content").split(",");
for(var $JSCompiler_i$jscomp$inline_74_JSCompiler_name$jscomp$inline_86_JSCompiler_param$jscomp$inline_78$$=0;$JSCompiler_i$jscomp$inline_74_JSCompiler_name$jscomp$inline_86_JSCompiler_param$jscomp$inline_78$$<$JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$.length;$JSCompiler_i$jscomp$inline_74_JSCompiler_name$jscomp$inline_86_JSCompiler_param$jscomp$inline_78$$++)-1!=
$JSCompiler_allowed$jscomp$inline_71_JSCompiler_experimentId$jscomp$inline_69_allowed$2$jscomp$inline_75$$.indexOf($JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$[$JSCompiler_i$jscomp$inline_74_JSCompiler_name$jscomp$inline_86_JSCompiler_param$jscomp$inline_78$$])&&($JSCompiler_inline_result$jscomp$58_JSCompiler_temp$jscomp$19_JSCompiler_toggles$jscomp$inline_68$$[$JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$[$JSCompiler_i$jscomp$inline_74_JSCompiler_name$jscomp$inline_86_JSCompiler_param$jscomp$inline_78$$]]=
!0)}Object.assign($JSCompiler_inline_result$jscomp$58_JSCompiler_temp$jscomp$19_JSCompiler_toggles$jscomp$inline_68$$,$getExperimentTogglesFromCookie$$module$src$experiments$$($JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$));if($JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$.AMP_CONFIG&&Array.isArray($JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$.AMP_CONFIG["allow-url-opt-in"])&&0<$JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$.AMP_CONFIG["allow-url-opt-in"].length){$JSCompiler_allowed$jscomp$inline_71_JSCompiler_experimentId$jscomp$inline_69_allowed$2$jscomp$inline_75$$=
$JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$.AMP_CONFIG["allow-url-opt-in"];$JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$=$JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$.location.originalHash||$JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$.location.hash;$JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$=
Object.create(null);if($JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$)for(var $JSCompiler_match$jscomp$inline_85_JSCompiler_value$jscomp$inline_87$$;$JSCompiler_match$jscomp$inline_85_JSCompiler_value$jscomp$inline_87$$=$regex$$module$src$url_parse_query_string$$.exec($JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$);)$JSCompiler_i$jscomp$inline_74_JSCompiler_name$jscomp$inline_86_JSCompiler_param$jscomp$inline_78$$=
$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_match$jscomp$inline_85_JSCompiler_value$jscomp$inline_87$$[1],$JSCompiler_match$jscomp$inline_85_JSCompiler_value$jscomp$inline_87$$[1]),$JSCompiler_match$jscomp$inline_85_JSCompiler_value$jscomp$inline_87$$=$JSCompiler_match$jscomp$inline_85_JSCompiler_value$jscomp$inline_87$$[2]?$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_match$jscomp$inline_85_JSCompiler_value$jscomp$inline_87$$[2],
$JSCompiler_match$jscomp$inline_85_JSCompiler_value$jscomp$inline_87$$[2]):"",$JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$[$JSCompiler_i$jscomp$inline_74_JSCompiler_name$jscomp$inline_86_JSCompiler_param$jscomp$inline_78$$]=$JSCompiler_match$jscomp$inline_85_JSCompiler_value$jscomp$inline_87$$;for($JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$=
0;$JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$<$JSCompiler_allowed$jscomp$inline_71_JSCompiler_experimentId$jscomp$inline_69_allowed$2$jscomp$inline_75$$.length;$JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$++)$JSCompiler_i$jscomp$inline_74_JSCompiler_name$jscomp$inline_86_JSCompiler_param$jscomp$inline_78$$=
$JSCompiler_params$jscomp$inline_84_JSCompiler_win$jscomp$inline_67$$["e-"+$JSCompiler_allowed$jscomp$inline_71_JSCompiler_experimentId$jscomp$inline_69_allowed$2$jscomp$inline_75$$[$JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$]],"1"==$JSCompiler_i$jscomp$inline_74_JSCompiler_name$jscomp$inline_86_JSCompiler_param$jscomp$inline_78$$&&($JSCompiler_inline_result$jscomp$58_JSCompiler_temp$jscomp$19_JSCompiler_toggles$jscomp$inline_68$$[$JSCompiler_allowed$jscomp$inline_71_JSCompiler_experimentId$jscomp$inline_69_allowed$2$jscomp$inline_75$$[$JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$]]=
!0),"0"==$JSCompiler_i$jscomp$inline_74_JSCompiler_name$jscomp$inline_86_JSCompiler_param$jscomp$inline_78$$&&($JSCompiler_inline_result$jscomp$58_JSCompiler_temp$jscomp$19_JSCompiler_toggles$jscomp$inline_68$$[$JSCompiler_allowed$jscomp$inline_71_JSCompiler_experimentId$jscomp$inline_69_allowed$2$jscomp$inline_75$$[$JSCompiler_frequency$jscomp$inline_70_JSCompiler_meta$jscomp$inline_72_JSCompiler_optedInExperiments$jscomp$inline_73_JSCompiler_queryString$jscomp$inline_83_i$3$jscomp$inline_77$$]]=
!1)}}$JSCompiler_inline_result$jscomp$58_JSCompiler_temp$jscomp$19_JSCompiler_toggles$jscomp$inline_68$$=!$JSCompiler_inline_result$jscomp$58_JSCompiler_temp$jscomp$19_JSCompiler_toggles$jscomp$inline_68$$["amp-viewer-assistance-untrusted"]}if($JSCompiler_inline_result$jscomp$58_JSCompiler_temp$jscomp$19_JSCompiler_toggles$jscomp$inline_68$$)return $JSCompiler_StaticMethods_start_$self$$.$enabled_$=!1,$user$$module$src$log$$().error("amp-viewer-assistance","amp-viewer-assistance is currently only supported on trusted viewers."),
$JSCompiler_StaticMethods_start_$self$$;$JSCompiler_StaticMethods_start_$self$$.$action_$.installActionHandler($JSCompiler_StaticMethods_start_$self$$.$assistanceElement_$,$JSCompiler_StaticMethods_start_$self$$.$actionHandler_$.bind($JSCompiler_StaticMethods_start_$self$$));$JSCompiler_StaticMethods_start_$self$$.getIdTokenPromise();$JSCompiler_StaticMethods_start_$self$$.$viewer_$.sendMessage("viewerAssistanceConfig",$dict$$module$src$utils$object$$({config:$JSCompiler_StaticMethods_start_$self$$.$configJson_$}));
return $JSCompiler_StaticMethods_start_$self$$}):($user$$module$src$log$$().error("amp-viewer-assistance","Could not find #amp-viewer-assistance element."),$JSCompiler_StaticMethods_start_$self$$)}
$AmpViewerAssistance$$module$extensions$amp_viewer_assistance$0_1$amp_viewer_assistance$$.prototype.getIdTokenPromise=function(){var $$jscomp$this$jscomp$3$$=this;return this.$viewer_$.sendMessageAwaitResponse("getAccessTokenPassive",$dict$$module$src$utils$object$$({providers:["actions-on-google-gsi"]})).then(function($token$jscomp$3$$){$JSCompiler_StaticMethods_toggleTopClass_$$($$jscomp$this$jscomp$3$$,!!$token$jscomp$3$$);return $token$jscomp$3$$}).catch(function(){$JSCompiler_StaticMethods_toggleTopClass_$$($$jscomp$this$jscomp$3$$,
!1)})};
function $JSCompiler_StaticMethods_requestSignIn_$$($JSCompiler_StaticMethods_requestSignIn_$self$$){$JSCompiler_StaticMethods_requestSignIn_$self$$.$viewer_$.sendMessageAwaitResponse("requestSignIn",$dict$$module$src$utils$object$$({providers:["actions-on-google-gsi"]})).then(function($token$jscomp$4$$){$user$$module$src$log$$().info("amp-viewer-assistance","Token: "+$token$jscomp$4$$);$token$jscomp$4$$?($JSCompiler_StaticMethods_toggleTopClass_$$($JSCompiler_StaticMethods_requestSignIn_$self$$,!0),
$JSCompiler_StaticMethods_requestSignIn_$self$$.$action_$.trigger($JSCompiler_StaticMethods_requestSignIn_$self$$.$assistanceElement_$,"signedIn",null,100)):$JSCompiler_StaticMethods_toggleTopClass_$$($JSCompiler_StaticMethods_requestSignIn_$self$$,!1)})}
function $JSCompiler_StaticMethods_validateAndTransformUpdateArgs_$$($args$jscomp$2$$){if(!$args$jscomp$2$$)return Promise.reject('"updateActionState" was called with no arguments!"');var $update$$=$args$jscomp$2$$.update,$error$jscomp$14$$=$args$jscomp$2$$.error;if($error$jscomp$14$$&&$update$$)return Promise.reject('"updateActionState" must have only one of the parameters "error" and "update".');if($error$jscomp$14$$)return $error$jscomp$14$$&&"function"===typeof $error$jscomp$14$$.text?$error$jscomp$14$$.text().then(function($args$jscomp$2$$){return $dict$$module$src$utils$object$$({update:{actionStatus:"FAILED_ACTION_STATUS",
result:{code:$error$jscomp$14$$.status,message:$args$jscomp$2$$}}})}):Promise.reject('"updateActionState" action "error" parameter must contain a valid "response" object.');if($update$$){var $actionStatus$$=$update$$&&$update$$.actionStatus;return $actionStatus$$&&$ACTION_STATUS_WHITELIST$$module$extensions$amp_viewer_assistance$0_1$amp_viewer_assistance$$.includes($actionStatus$$)?Promise.resolve($args$jscomp$2$$):Promise.reject('"updateActionState" action "update" parameter must contain a valid "actionStatus" field.')}return Promise.reject('"updateActionState" action must have an "update" or "error" parameter.')}
function $JSCompiler_StaticMethods_toggleTopClass_$$($JSCompiler_StaticMethods_toggleTopClass_$self$$,$on$jscomp$1$$){$JSCompiler_StaticMethods_toggleTopClass_$self$$.$vsync_$.mutate(function(){var $JSCompiler_root$jscomp$inline_54$$=$JSCompiler_StaticMethods_toggleTopClass_$self$$.$ampdoc_$.getRootNode();($JSCompiler_root$jscomp$inline_54$$.documentElement||$JSCompiler_root$jscomp$inline_54$$.body||$JSCompiler_root$jscomp$inline_54$$).classList.toggle("amp-viewer-assistance-identity-available",$on$jscomp$1$$)})}
(function($AMP$jscomp$1$$){$AMP$jscomp$1$$.registerServiceForDoc("amp-viewer-assistance",function($AMP$jscomp$1$$){return $JSCompiler_StaticMethods_start_$$(new $AmpViewerAssistance$$module$extensions$amp_viewer_assistance$0_1$amp_viewer_assistance$$($AMP$jscomp$1$$))})})(self.AMP);
})});

//# sourceMappingURL=amp-viewer-assistance-0.1.js.map
