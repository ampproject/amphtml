(self.AMP=self.AMP||[]).push({n:"amp-consent",v:"1904281823091",f:(function(AMP,_){
var $JSCompiler_prototypeAlias$$,$$jscomp$objectCreate$$="function"==typeof Object.create?Object.create:function($prototype$$){function $ctor$$(){}$ctor$$.prototype=$prototype$$;return new $ctor$$},$JSCompiler_temp$jscomp$18$$;
if("function"==typeof Object.setPrototypeOf)$JSCompiler_temp$jscomp$18$$=Object.setPrototypeOf;else{var $JSCompiler_inline_result$jscomp$19$$;a:{var $JSCompiler_x$jscomp$inline_47$$={a:!0},$JSCompiler_y$jscomp$inline_48$$={};try{$JSCompiler_y$jscomp$inline_48$$.__proto__=$JSCompiler_x$jscomp$inline_47$$;$JSCompiler_inline_result$jscomp$19$$=$JSCompiler_y$jscomp$inline_48$$.a;break a}catch($JSCompiler_e$jscomp$inline_49$$){}$JSCompiler_inline_result$jscomp$19$$=!1}$JSCompiler_temp$jscomp$18$$=$JSCompiler_inline_result$jscomp$19$$?
function($target$jscomp$83$$,$proto$jscomp$3$$){$target$jscomp$83$$.__proto__=$proto$jscomp$3$$;if($target$jscomp$83$$.__proto__!==$proto$jscomp$3$$)throw new TypeError($target$jscomp$83$$+" is not extensible");return $target$jscomp$83$$}:null}var $$jscomp$setPrototypeOf$$=$JSCompiler_temp$jscomp$18$$;
function $tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($component$jscomp$4$$,$fallback$$){$fallback$$=void 0===$fallback$$?"":$fallback$$;try{return decodeURIComponent($component$jscomp$4$$)}catch($e$jscomp$8$$){return $fallback$$}};var $regex$$module$src$url_parse_query_string$$=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;
function $parseQueryString_$$module$src$url_parse_query_string$$($queryString$$){var $params$jscomp$1$$=Object.create(null);if(!$queryString$$)return $params$jscomp$1$$;for(var $match$$;$match$$=$regex$$module$src$url_parse_query_string$$.exec($queryString$$);){var $name$jscomp$70$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[1],$match$$[1]),$value$jscomp$86$$=$match$$[2]?$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[2],$match$$[2]):"";
$params$jscomp$1$$[$name$jscomp$70$$]=$value$jscomp$86$$}return $params$jscomp$1$$};var $rtvVersion$$module$src$mode$$="";
function $getMode$$module$src$mode$$(){var $opt_win$$,$win$$=$opt_win$$||self;if($win$$.AMP_MODE)var $JSCompiler_temp$jscomp$20_JSCompiler_win$jscomp$inline_51$$=$win$$.AMP_MODE;else{$JSCompiler_temp$jscomp$20_JSCompiler_win$jscomp$inline_51$$=$win$$;var $JSCompiler_AMP_CONFIG$jscomp$inline_52_JSCompiler_singlePassType$jscomp$inline_59$$=self.AMP_CONFIG||{},$JSCompiler_runningTests$jscomp$inline_56$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_52_JSCompiler_singlePassType$jscomp$inline_59$$.test||!(!$JSCompiler_temp$jscomp$20_JSCompiler_win$jscomp$inline_51$$.AMP_TEST&&
!$JSCompiler_temp$jscomp$20_JSCompiler_win$jscomp$inline_51$$.__karma__),$JSCompiler_isLocalDev$jscomp$inline_57$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_52_JSCompiler_singlePassType$jscomp$inline_59$$.localDev||$JSCompiler_runningTests$jscomp$inline_56$$,$JSCompiler_hashQuery$jscomp$inline_58$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$20_JSCompiler_win$jscomp$inline_51$$.location.originalHash||$JSCompiler_temp$jscomp$20_JSCompiler_win$jscomp$inline_51$$.location.hash);
$JSCompiler_AMP_CONFIG$jscomp$inline_52_JSCompiler_singlePassType$jscomp$inline_59$$=$JSCompiler_AMP_CONFIG$jscomp$inline_52_JSCompiler_singlePassType$jscomp$inline_59$$.spt;var $JSCompiler_searchQuery$jscomp$inline_60$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$20_JSCompiler_win$jscomp$inline_51$$.location.search);$rtvVersion$$module$src$mode$$||($rtvVersion$$module$src$mode$$=$JSCompiler_isLocalDev$jscomp$inline_57$$?"1904281823091":$JSCompiler_temp$jscomp$20_JSCompiler_win$jscomp$inline_51$$.AMP_CONFIG&&
$JSCompiler_temp$jscomp$20_JSCompiler_win$jscomp$inline_51$$.AMP_CONFIG.v?$JSCompiler_temp$jscomp$20_JSCompiler_win$jscomp$inline_51$$.AMP_CONFIG.v:"011904281823091");$JSCompiler_temp$jscomp$20_JSCompiler_win$jscomp$inline_51$$=$win$$.AMP_MODE={localDev:$JSCompiler_isLocalDev$jscomp$inline_57$$,development:!("1"!=$JSCompiler_hashQuery$jscomp$inline_58$$.development&&!$JSCompiler_temp$jscomp$20_JSCompiler_win$jscomp$inline_51$$.AMP_DEV_MODE),examiner:"2"==$JSCompiler_hashQuery$jscomp$inline_58$$.development,
filter:$JSCompiler_hashQuery$jscomp$inline_58$$.filter,geoOverride:$JSCompiler_hashQuery$jscomp$inline_58$$["amp-geo"],minified:!0,lite:void 0!=$JSCompiler_searchQuery$jscomp$inline_60$$.amp_lite,test:$JSCompiler_runningTests$jscomp$inline_56$$,log:$JSCompiler_hashQuery$jscomp$inline_58$$.log,version:"1904281823091",rtvVersion:$rtvVersion$$module$src$mode$$,singlePassType:$JSCompiler_AMP_CONFIG$jscomp$inline_52_JSCompiler_singlePassType$jscomp$inline_59$$}}return $JSCompiler_temp$jscomp$20_JSCompiler_win$jscomp$inline_51$$}
;var $toString_$$module$src$types$$=Object.prototype.toString;function $isObject$$module$src$types$$($value$jscomp$89$$){return"[object Object]"===$toString_$$module$src$types$$.call($value$jscomp$89$$)}function $isFiniteNumber$$module$src$types$$($value$jscomp$90$$){return"number"===typeof $value$jscomp$90$$&&isFinite($value$jscomp$90$$)}function $isEnumValue$$module$src$types$$($enumObj$$,$s$jscomp$6$$){for(var $k$$ in $enumObj$$)if($enumObj$$[$k$$]===$s$jscomp$6$$)return!0;return!1};self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log;
function $user$$module$src$log$$($opt_element$jscomp$5$$){$logs$$module$src$log$$.user||($logs$$module$src$log$$.user=$getUserLogger$$module$src$log$$());var $JSCompiler_win$jscomp$inline_63$$=$logs$$module$src$log$$.user.win;return $opt_element$jscomp$5$$&&$opt_element$jscomp$5$$.ownerDocument.defaultView!=$JSCompiler_win$jscomp$inline_63$$?$logs$$module$src$log$$.userForEmbed?$logs$$module$src$log$$.userForEmbed:$logs$$module$src$log$$.userForEmbed=$getUserLogger$$module$src$log$$():$logs$$module$src$log$$.user}
function $getUserLogger$$module$src$log$$(){throw Error("failed to call initLogConstructor");}function $dev$$module$src$log$$(){if($logs$$module$src$log$$.dev)return $logs$$module$src$log$$.dev;throw Error("failed to call initLogConstructor");}
function $userAssert$$module$src$log$$($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$){return $user$$module$src$log$$().assert($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$,void 0,void 0,void 0,void 0,void 0,void 0)};var $hasOwn_$$module$src$utils$object$$=Object.prototype.hasOwnProperty;function $map$$module$src$utils$object$$(){var $opt_initial$$,$obj$jscomp$25$$=Object.create(null);$opt_initial$$&&Object.assign($obj$jscomp$25$$,$opt_initial$$);return $obj$jscomp$25$$}function $dict$$module$src$utils$object$$($opt_initial$jscomp$1$$){return $opt_initial$jscomp$1$$||{}}
function $deepMerge$$module$src$utils$object$$($target$jscomp$84$$,$$jscomp$loop$10_source$jscomp$12$$){var $depth$jscomp$8$$=1;$depth$jscomp$8$$=void 0===$depth$jscomp$8$$?10:$depth$jscomp$8$$;var $seen$$=[],$queue$$=[];$queue$$.push({t:$target$jscomp$84$$,s:$$jscomp$loop$10_source$jscomp$12$$,d:0});for($$jscomp$loop$10_source$jscomp$12$$={};0<$queue$$.length;){var $$jscomp$destructuring$var1$$=$queue$$.shift();$$jscomp$loop$10_source$jscomp$12$$.$$jscomp$loop$prop$t$12$=$$jscomp$destructuring$var1$$.t;
$$jscomp$loop$10_source$jscomp$12$$.$$jscomp$loop$prop$s$11$=$$jscomp$destructuring$var1$$.s;$$jscomp$loop$10_source$jscomp$12$$.$$jscomp$loop$prop$d$13$=$$jscomp$destructuring$var1$$.d;if($seen$$.includes($$jscomp$loop$10_source$jscomp$12$$.$$jscomp$loop$prop$s$11$))throw Error("Source object has a circular reference.");$seen$$.push($$jscomp$loop$10_source$jscomp$12$$.$$jscomp$loop$prop$s$11$);$$jscomp$loop$10_source$jscomp$12$$.$$jscomp$loop$prop$t$12$!==$$jscomp$loop$10_source$jscomp$12$$.$$jscomp$loop$prop$s$11$&&
($$jscomp$loop$10_source$jscomp$12$$.$$jscomp$loop$prop$d$13$>$depth$jscomp$8$$?Object.assign($$jscomp$loop$10_source$jscomp$12$$.$$jscomp$loop$prop$t$12$,$$jscomp$loop$10_source$jscomp$12$$.$$jscomp$loop$prop$s$11$):Object.keys($$jscomp$loop$10_source$jscomp$12$$.$$jscomp$loop$prop$s$11$).forEach(function($target$jscomp$84$$){return function($$jscomp$loop$10_source$jscomp$12$$){var $depth$jscomp$8$$=$target$jscomp$84$$.$$jscomp$loop$prop$s$11$[$$jscomp$loop$10_source$jscomp$12$$];if($hasOwn_$$module$src$utils$object$$.call($target$jscomp$84$$.$$jscomp$loop$prop$t$12$,
$$jscomp$loop$10_source$jscomp$12$$)){var $seen$$=$target$jscomp$84$$.$$jscomp$loop$prop$t$12$[$$jscomp$loop$10_source$jscomp$12$$];if($isObject$$module$src$types$$($depth$jscomp$8$$)&&$isObject$$module$src$types$$($seen$$)){$queue$$.push({t:$seen$$,s:$depth$jscomp$8$$,d:$target$jscomp$84$$.$$jscomp$loop$prop$d$13$+1});return}}$target$jscomp$84$$.$$jscomp$loop$prop$t$12$[$$jscomp$loop$10_source$jscomp$12$$]=$depth$jscomp$8$$}}($$jscomp$loop$10_source$jscomp$12$$)));$$jscomp$loop$10_source$jscomp$12$$=
{$$jscomp$loop$prop$s$11$:$$jscomp$loop$10_source$jscomp$12$$.$$jscomp$loop$prop$s$11$,$$jscomp$loop$prop$t$12$:$$jscomp$loop$10_source$jscomp$12$$.$$jscomp$loop$prop$t$12$,$$jscomp$loop$prop$d$13$:$$jscomp$loop$10_source$jscomp$12$$.$$jscomp$loop$prop$d$13$}}return $target$jscomp$84$$};var $CONSENT_ITEM_STATE$$module$extensions$amp_consent$0_1$consent_info$$={ACCEPTED:1,REJECTED:2,DISMISSED:3,NOT_REQUIRED:4,UNKNOWN:5};function $calculateLegacyStateValue$$module$extensions$amp_consent$0_1$consent_info$$($consentState$jscomp$2$$){return 1==$consentState$jscomp$2$$?!0:2==$consentState$jscomp$2$$?!1:null}
function $isConsentInfoStoredValueSame$$module$extensions$amp_consent$0_1$consent_info$$($infoA$$,$infoB$$){if(!$infoA$$&&!$infoB$$)return!0;if($infoA$$&&$infoB$$){var $stateEqual$$=$calculateLegacyStateValue$$module$extensions$amp_consent$0_1$consent_info$$($infoA$$.consentState)===$calculateLegacyStateValue$$module$extensions$amp_consent$0_1$consent_info$$($infoB$$.consentState),$stringEqual$$=($infoA$$.consentString||"")===($infoB$$.consentString||""),$isDirtyEqual$$=!!$infoA$$.isDirty===!!$infoB$$.isDirty;
return $stateEqual$$&&$stringEqual$$&&$isDirtyEqual$$}return!1}function $constructConsentInfo$$module$extensions$amp_consent$0_1$consent_info$$($consentState$jscomp$3$$,$opt_consentString$$,$opt_isDirty$$){return{consentState:$consentState$jscomp$3$$,consentString:$opt_consentString$$,isDirty:$opt_isDirty$$}}
function $convertValueToState$$module$extensions$amp_consent$0_1$consent_info$$($value$jscomp$93$$){return!0===$value$jscomp$93$$||1===$value$jscomp$93$$?1:!1===$value$jscomp$93$$||0===$value$jscomp$93$$?2:5};var $CMP_CONFIG$$module$extensions$amp_consent$0_1$cmps$$={};if($getMode$$module$src$mode$$().test||$getMode$$module$src$mode$$().localDev)$CMP_CONFIG$$module$extensions$amp_consent$0_1$cmps$$._ping_={consentInstanceId:"_ping_",checkConsentHref:"/get-consent-v1",promptUISrc:"/test/manual/diy-consent.html"};$CMP_CONFIG$$module$extensions$amp_consent$0_1$cmps$$.didomi={consentInstanceId:"didomi",checkConsentHref:"https://api.privacy-center.org/amp/check-consent",promptUISrc:"https://sdk-amp.privacy-center.org/loader.html"};function $Deferred$$module$src$utils$promise$$(){var $resolve$$,$reject$$;this.promise=new Promise(function($res$$,$rej$$){$resolve$$=$res$$;$reject$$=$rej$$});this.resolve=$resolve$$;this.reject=$reject$$};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var $scopeSelectorSupported$$module$src$css$$;function $startsWith$$module$src$string$$($string$jscomp$6$$,$prefix$jscomp$2$$){return $prefix$jscomp$2$$.length>$string$jscomp$6$$.length?!1:0==$string$jscomp$6$$.lastIndexOf($prefix$jscomp$2$$,0)};function $insertAfterOrAtStart$$module$src$dom$$($root$jscomp$3$$,$element$jscomp$12$$){var $after$$=null;$root$jscomp$3$$.insertBefore($element$jscomp$12$$,$after$$?$after$$.nextSibling:$root$jscomp$3$$.firstChild)}function $elementByTag$$module$src$dom$$($element$jscomp$17$$){/^[\w-]+$/.test("placeholder");return $element$jscomp$17$$.querySelector("placeholder")}
function $isAmpElement$$module$src$dom$$($element$jscomp$23_tag$jscomp$7$$){$element$jscomp$23_tag$jscomp$7$$=$element$jscomp$23_tag$jscomp$7$$.tagName;return $startsWith$$module$src$string$$($element$jscomp$23_tag$jscomp$7$$,"AMP-")&&!("AMP-STICKY-AD-TOP-PADDING"==$element$jscomp$23_tag$jscomp$7$$||"AMP-BODY"==$element$jscomp$23_tag$jscomp$7$$)};function $LruCache$$module$src$utils$lru_cache$$(){var $capacity$$=100;this.$capacity_$=$capacity$$;this.$access_$=this.$size_$=0;this.$cache_$=Object.create(null)}$LruCache$$module$src$utils$lru_cache$$.prototype.has=function($key$jscomp$44$$){return!!this.$cache_$[$key$jscomp$44$$]};$LruCache$$module$src$utils$lru_cache$$.prototype.get=function($key$jscomp$45$$){var $cacheable$$=this.$cache_$[$key$jscomp$45$$];if($cacheable$$)return $cacheable$$.access=++this.$access_$,$cacheable$$.payload};
$LruCache$$module$src$utils$lru_cache$$.prototype.put=function($JSCompiler_cache$jscomp$inline_72_key$jscomp$46$$,$payload$$){this.has($JSCompiler_cache$jscomp$inline_72_key$jscomp$46$$)||this.$size_$++;this.$cache_$[$JSCompiler_cache$jscomp$inline_72_key$jscomp$46$$]={payload:$payload$$,access:this.$access_$};if(!(this.$size_$<=this.$capacity_$)){$dev$$module$src$log$$().warn("lru-cache","Trimming LRU cache");$JSCompiler_cache$jscomp$inline_72_key$jscomp$46$$=this.$cache_$;var $JSCompiler_oldest$jscomp$inline_73$$=
this.$access_$+1,$JSCompiler_key$jscomp$inline_75$$;for($JSCompiler_key$jscomp$inline_75$$ in $JSCompiler_cache$jscomp$inline_72_key$jscomp$46$$){var $JSCompiler_access$jscomp$inline_76$$=$JSCompiler_cache$jscomp$inline_72_key$jscomp$46$$[$JSCompiler_key$jscomp$inline_75$$].access;if($JSCompiler_access$jscomp$inline_76$$<$JSCompiler_oldest$jscomp$inline_73$$){$JSCompiler_oldest$jscomp$inline_73$$=$JSCompiler_access$jscomp$inline_76$$;var $JSCompiler_oldestKey$jscomp$inline_74$$=$JSCompiler_key$jscomp$inline_75$$}}void 0!==
$JSCompiler_oldestKey$jscomp$inline_74$$&&(delete $JSCompiler_cache$jscomp$inline_72_key$jscomp$46$$[$JSCompiler_oldestKey$jscomp$inline_74$$],this.$size_$--)}};var $env$$module$src$config$$=self.AMP_CONFIG||{},$urls$$module$src$config$$={thirdParty:$env$$module$src$config$$.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:$env$$module$src$config$$.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof $env$$module$src$config$$.thirdPartyFrameRegex?new RegExp($env$$module$src$config$$.thirdPartyFrameRegex):$env$$module$src$config$$.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:$env$$module$src$config$$.cdnUrl||
"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof $env$$module$src$config$$.cdnProxyRegex?new RegExp($env$$module$src$config$$.cdnProxyRegex):$env$$module$src$config$$.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:$env$$module$src$config$$.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:$env$$module$src$config$$.localDev||!1};var $SERVING_TYPE_PREFIX$$module$src$url$$=$dict$$module$src$utils$object$$({c:!0,v:!0,a:!0,ad:!0,action:!0}),$a$$module$src$url$$,$cache$$module$src$url$$,$AMP_JS_PARAMS_REGEX$$module$src$url$$=/[?&]amp_js[^&]*/,$AMP_GSA_PARAMS_REGEX$$module$src$url$$=/[?&]amp_gsa[^&]*/,$AMP_R_PARAMS_REGEX$$module$src$url$$=/[?&]amp_r[^&]*/,$AMP_KIT_PARAMS_REGEX$$module$src$url$$=/[?&]amp_kit[^&]*/,$GOOGLE_EXPERIMENT_PARAMS_REGEX$$module$src$url$$=/[?&]usqp[^&]*/;
function $parseUrlDeprecated$$module$src$url$$($JSCompiler_inline_result$jscomp$30_url$jscomp$22$$){var $opt_nocache$$;$a$$module$src$url$$||($a$$module$src$url$$=self.document.createElement("a"),$cache$$module$src$url$$=self.UrlCache||(self.UrlCache=new $LruCache$$module$src$utils$lru_cache$$));var $JSCompiler_opt_cache$jscomp$inline_79$$=$opt_nocache$$?null:$cache$$module$src$url$$,$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$=$a$$module$src$url$$;if($JSCompiler_opt_cache$jscomp$inline_79$$&&
$JSCompiler_opt_cache$jscomp$inline_79$$.has($JSCompiler_inline_result$jscomp$30_url$jscomp$22$$))$JSCompiler_inline_result$jscomp$30_url$jscomp$22$$=$JSCompiler_opt_cache$jscomp$inline_79$$.get($JSCompiler_inline_result$jscomp$30_url$jscomp$22$$);else{$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$.href=$JSCompiler_inline_result$jscomp$30_url$jscomp$22$$;$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$.protocol||($JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$.href=
$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$.href);var $JSCompiler_info$jscomp$inline_81$$={href:$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$.href,protocol:$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$.protocol,host:$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$.host,hostname:$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$.hostname,port:"0"==$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$.port?
"":$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$.port,pathname:$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$.pathname,search:$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$.search,hash:$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$.hash,origin:null};"/"!==$JSCompiler_info$jscomp$inline_81$$.pathname[0]&&($JSCompiler_info$jscomp$inline_81$$.pathname="/"+$JSCompiler_info$jscomp$inline_81$$.pathname);if("http:"==$JSCompiler_info$jscomp$inline_81$$.protocol&&
80==$JSCompiler_info$jscomp$inline_81$$.port||"https:"==$JSCompiler_info$jscomp$inline_81$$.protocol&&443==$JSCompiler_info$jscomp$inline_81$$.port)$JSCompiler_info$jscomp$inline_81$$.port="",$JSCompiler_info$jscomp$inline_81$$.host=$JSCompiler_info$jscomp$inline_81$$.hostname;$JSCompiler_info$jscomp$inline_81$$.origin=$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$.origin&&"null"!=$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$.origin?$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$.origin:
"data:"!=$JSCompiler_info$jscomp$inline_81$$.protocol&&$JSCompiler_info$jscomp$inline_81$$.host?$JSCompiler_info$jscomp$inline_81$$.protocol+"//"+$JSCompiler_info$jscomp$inline_81$$.host:$JSCompiler_info$jscomp$inline_81$$.href;$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$=$getMode$$module$src$mode$$().test&&Object.freeze?Object.freeze($JSCompiler_info$jscomp$inline_81$$):$JSCompiler_info$jscomp$inline_81$$;$JSCompiler_opt_cache$jscomp$inline_79$$&&$JSCompiler_opt_cache$jscomp$inline_79$$.put($JSCompiler_inline_result$jscomp$30_url$jscomp$22$$,
$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$);$JSCompiler_inline_result$jscomp$30_url$jscomp$22$$=$JSCompiler_a$jscomp$inline_80_JSCompiler_frozen$jscomp$inline_82$$}return $JSCompiler_inline_result$jscomp$30_url$jscomp$22$$}
function $assertHttpsUrl$$module$src$url$$($JSCompiler_string$jscomp$inline_214_JSCompiler_url$jscomp$inline_84_urlString$jscomp$1$$,$elementContext$$){var $sourceName$$=void 0===$sourceName$$?"source":$sourceName$$;$userAssert$$module$src$log$$(null!=$JSCompiler_string$jscomp$inline_214_JSCompiler_url$jscomp$inline_84_urlString$jscomp$1$$,"%s %s must be available",$elementContext$$,$sourceName$$);var $theUrlString$$=$JSCompiler_string$jscomp$inline_214_JSCompiler_url$jscomp$inline_84_urlString$jscomp$1$$;
$JSCompiler_string$jscomp$inline_214_JSCompiler_url$jscomp$inline_84_urlString$jscomp$1$$=$theUrlString$$;"string"==typeof $JSCompiler_string$jscomp$inline_214_JSCompiler_url$jscomp$inline_84_urlString$jscomp$1$$&&($JSCompiler_string$jscomp$inline_214_JSCompiler_url$jscomp$inline_84_urlString$jscomp$1$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_string$jscomp$inline_214_JSCompiler_url$jscomp$inline_84_urlString$jscomp$1$$));var $JSCompiler_index$jscomp$inline_215_JSCompiler_temp$jscomp$199$$;
($JSCompiler_index$jscomp$inline_215_JSCompiler_temp$jscomp$199$$="https:"==$JSCompiler_string$jscomp$inline_214_JSCompiler_url$jscomp$inline_84_urlString$jscomp$1$$.protocol||"localhost"==$JSCompiler_string$jscomp$inline_214_JSCompiler_url$jscomp$inline_84_urlString$jscomp$1$$.hostname||"127.0.0.1"==$JSCompiler_string$jscomp$inline_214_JSCompiler_url$jscomp$inline_84_urlString$jscomp$1$$.hostname)||($JSCompiler_string$jscomp$inline_214_JSCompiler_url$jscomp$inline_84_urlString$jscomp$1$$=$JSCompiler_string$jscomp$inline_214_JSCompiler_url$jscomp$inline_84_urlString$jscomp$1$$.hostname,
$JSCompiler_index$jscomp$inline_215_JSCompiler_temp$jscomp$199$$=$JSCompiler_string$jscomp$inline_214_JSCompiler_url$jscomp$inline_84_urlString$jscomp$1$$.length-10,$JSCompiler_index$jscomp$inline_215_JSCompiler_temp$jscomp$199$$=0<=$JSCompiler_index$jscomp$inline_215_JSCompiler_temp$jscomp$199$$&&$JSCompiler_string$jscomp$inline_214_JSCompiler_url$jscomp$inline_84_urlString$jscomp$1$$.indexOf(".localhost",$JSCompiler_index$jscomp$inline_215_JSCompiler_temp$jscomp$199$$)==$JSCompiler_index$jscomp$inline_215_JSCompiler_temp$jscomp$199$$);
$userAssert$$module$src$log$$($JSCompiler_index$jscomp$inline_215_JSCompiler_temp$jscomp$199$$||/^(\/\/)/.test($theUrlString$$),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',$elementContext$$,$sourceName$$,$theUrlString$$);return $theUrlString$$}
function $getSourceUrl$$module$src$url$$($url$jscomp$37$$){"string"==typeof $url$jscomp$37$$&&($url$jscomp$37$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$37$$));var $JSCompiler_temp_const$jscomp$33_JSCompiler_url$jscomp$inline_86_path$jscomp$4$$=$url$jscomp$37$$;"string"==typeof $JSCompiler_temp_const$jscomp$33_JSCompiler_url$jscomp$inline_86_path$jscomp$4$$&&($JSCompiler_temp_const$jscomp$33_JSCompiler_url$jscomp$inline_86_path$jscomp$4$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_temp_const$jscomp$33_JSCompiler_url$jscomp$inline_86_path$jscomp$4$$));
if(!$urls$$module$src$config$$.cdnProxyRegex.test($JSCompiler_temp_const$jscomp$33_JSCompiler_url$jscomp$inline_86_path$jscomp$4$$.origin))return $url$jscomp$37$$.href;$JSCompiler_temp_const$jscomp$33_JSCompiler_url$jscomp$inline_86_path$jscomp$4$$=$url$jscomp$37$$.pathname.split("/");$userAssert$$module$src$log$$($SERVING_TYPE_PREFIX$$module$src$url$$[$JSCompiler_temp_const$jscomp$33_JSCompiler_url$jscomp$inline_86_path$jscomp$4$$[1]],"Unknown path prefix in url %s",$url$jscomp$37$$.href);var $domainOrHttpsSignal$$=
$JSCompiler_temp_const$jscomp$33_JSCompiler_url$jscomp$inline_86_path$jscomp$4$$[2],$origin$$="s"==$domainOrHttpsSignal$$?"https://"+decodeURIComponent($JSCompiler_temp_const$jscomp$33_JSCompiler_url$jscomp$inline_86_path$jscomp$4$$[3]):"http://"+decodeURIComponent($domainOrHttpsSignal$$);$userAssert$$module$src$log$$(0<$origin$$.indexOf("."),"Expected a . in origin %s",$origin$$);$JSCompiler_temp_const$jscomp$33_JSCompiler_url$jscomp$inline_86_path$jscomp$4$$.splice(1,"s"==$domainOrHttpsSignal$$?
3:2);$JSCompiler_temp_const$jscomp$33_JSCompiler_url$jscomp$inline_86_path$jscomp$4$$=$origin$$+$JSCompiler_temp_const$jscomp$33_JSCompiler_url$jscomp$inline_86_path$jscomp$4$$.join("/");var $JSCompiler_inline_result$jscomp$34_JSCompiler_search$jscomp$inline_89_JSCompiler_urlSearch$jscomp$inline_88$$;$JSCompiler_inline_result$jscomp$34_JSCompiler_search$jscomp$inline_89_JSCompiler_urlSearch$jscomp$inline_88$$=($JSCompiler_inline_result$jscomp$34_JSCompiler_search$jscomp$inline_89_JSCompiler_urlSearch$jscomp$inline_88$$=
$url$jscomp$37$$.search)&&"?"!=$JSCompiler_inline_result$jscomp$34_JSCompiler_search$jscomp$inline_89_JSCompiler_urlSearch$jscomp$inline_88$$?($JSCompiler_inline_result$jscomp$34_JSCompiler_search$jscomp$inline_89_JSCompiler_urlSearch$jscomp$inline_88$$=$JSCompiler_inline_result$jscomp$34_JSCompiler_search$jscomp$inline_89_JSCompiler_urlSearch$jscomp$inline_88$$.replace($AMP_JS_PARAMS_REGEX$$module$src$url$$,"").replace($AMP_GSA_PARAMS_REGEX$$module$src$url$$,"").replace($AMP_R_PARAMS_REGEX$$module$src$url$$,
"").replace($AMP_KIT_PARAMS_REGEX$$module$src$url$$,"").replace($GOOGLE_EXPERIMENT_PARAMS_REGEX$$module$src$url$$,"").replace(/^[?&]/,""))?"?"+$JSCompiler_inline_result$jscomp$34_JSCompiler_search$jscomp$inline_89_JSCompiler_urlSearch$jscomp$inline_88$$:"":"";return $JSCompiler_temp_const$jscomp$33_JSCompiler_url$jscomp$inline_86_path$jscomp$4$$+$JSCompiler_inline_result$jscomp$34_JSCompiler_search$jscomp$inline_89_JSCompiler_urlSearch$jscomp$inline_88$$+($url$jscomp$37$$.hash||"")}
function $resolveRelativeUrl$$module$src$url$$($relativeUrlString$$,$baseUrl$$){"string"==typeof $baseUrl$$&&($baseUrl$$=$parseUrlDeprecated$$module$src$url$$($baseUrl$$));if("function"==typeof URL)var $JSCompiler_relativeUrlString$jscomp$inline_91_JSCompiler_temp$jscomp$35$$=(new URL($relativeUrlString$$,$baseUrl$$.href)).toString();else{$JSCompiler_relativeUrlString$jscomp$inline_91_JSCompiler_temp$jscomp$35$$=$relativeUrlString$$;var $JSCompiler_baseUrl$jscomp$inline_92$$=$baseUrl$$;"string"==
typeof $JSCompiler_baseUrl$jscomp$inline_92$$&&($JSCompiler_baseUrl$jscomp$inline_92$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_baseUrl$jscomp$inline_92$$));$JSCompiler_relativeUrlString$jscomp$inline_91_JSCompiler_temp$jscomp$35$$=$JSCompiler_relativeUrlString$jscomp$inline_91_JSCompiler_temp$jscomp$35$$.replace(/\\/g,"/");var $JSCompiler_relativeUrl$jscomp$inline_93$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_relativeUrlString$jscomp$inline_91_JSCompiler_temp$jscomp$35$$);$JSCompiler_relativeUrlString$jscomp$inline_91_JSCompiler_temp$jscomp$35$$=
$startsWith$$module$src$string$$($JSCompiler_relativeUrlString$jscomp$inline_91_JSCompiler_temp$jscomp$35$$.toLowerCase(),$JSCompiler_relativeUrl$jscomp$inline_93$$.protocol)?$JSCompiler_relativeUrl$jscomp$inline_93$$.href:$startsWith$$module$src$string$$($JSCompiler_relativeUrlString$jscomp$inline_91_JSCompiler_temp$jscomp$35$$,"//")?$JSCompiler_baseUrl$jscomp$inline_92$$.protocol+$JSCompiler_relativeUrlString$jscomp$inline_91_JSCompiler_temp$jscomp$35$$:$startsWith$$module$src$string$$($JSCompiler_relativeUrlString$jscomp$inline_91_JSCompiler_temp$jscomp$35$$,
"/")?$JSCompiler_baseUrl$jscomp$inline_92$$.origin+$JSCompiler_relativeUrlString$jscomp$inline_91_JSCompiler_temp$jscomp$35$$:$JSCompiler_baseUrl$jscomp$inline_92$$.origin+$JSCompiler_baseUrl$jscomp$inline_92$$.pathname.replace(/\/[^/]*$/,"/")+$JSCompiler_relativeUrlString$jscomp$inline_91_JSCompiler_temp$jscomp$35$$}return $JSCompiler_relativeUrlString$jscomp$inline_91_JSCompiler_temp$jscomp$35$$};function $isExperimentOn$$module$src$experiments$$($JSCompiler_params$jscomp$inline_104_win$jscomp$18$$){var $experimentId$$="amp-consent-v2";if($JSCompiler_params$jscomp$inline_104_win$jscomp$18$$.__AMP__EXPERIMENT_TOGGLES)var $JSCompiler_inline_result$jscomp$37_JSCompiler_toggles$jscomp$inline_96$$=$JSCompiler_params$jscomp$inline_104_win$jscomp$18$$.__AMP__EXPERIMENT_TOGGLES;else{$JSCompiler_params$jscomp$inline_104_win$jscomp$18$$.__AMP__EXPERIMENT_TOGGLES=Object.create(null);$JSCompiler_inline_result$jscomp$37_JSCompiler_toggles$jscomp$inline_96$$=
$JSCompiler_params$jscomp$inline_104_win$jscomp$18$$.__AMP__EXPERIMENT_TOGGLES;if($JSCompiler_params$jscomp$inline_104_win$jscomp$18$$.AMP_CONFIG)for(var $JSCompiler_allowed$jscomp$inline_99_JSCompiler_experimentId$jscomp$inline_97_allowed$7$jscomp$inline_103$$ in $JSCompiler_params$jscomp$inline_104_win$jscomp$18$$.AMP_CONFIG){var $JSCompiler_frequency$jscomp$inline_98_JSCompiler_meta$jscomp$inline_100_JSCompiler_optedInExperiments$jscomp$inline_101_i$8$jscomp$inline_105$$=$JSCompiler_params$jscomp$inline_104_win$jscomp$18$$.AMP_CONFIG[$JSCompiler_allowed$jscomp$inline_99_JSCompiler_experimentId$jscomp$inline_97_allowed$7$jscomp$inline_103$$];
"number"===typeof $JSCompiler_frequency$jscomp$inline_98_JSCompiler_meta$jscomp$inline_100_JSCompiler_optedInExperiments$jscomp$inline_101_i$8$jscomp$inline_105$$&&0<=$JSCompiler_frequency$jscomp$inline_98_JSCompiler_meta$jscomp$inline_100_JSCompiler_optedInExperiments$jscomp$inline_101_i$8$jscomp$inline_105$$&&1>=$JSCompiler_frequency$jscomp$inline_98_JSCompiler_meta$jscomp$inline_100_JSCompiler_optedInExperiments$jscomp$inline_101_i$8$jscomp$inline_105$$&&($JSCompiler_inline_result$jscomp$37_JSCompiler_toggles$jscomp$inline_96$$[$JSCompiler_allowed$jscomp$inline_99_JSCompiler_experimentId$jscomp$inline_97_allowed$7$jscomp$inline_103$$]=
Math.random()<$JSCompiler_frequency$jscomp$inline_98_JSCompiler_meta$jscomp$inline_100_JSCompiler_optedInExperiments$jscomp$inline_101_i$8$jscomp$inline_105$$)}if($JSCompiler_params$jscomp$inline_104_win$jscomp$18$$.AMP_CONFIG&&Array.isArray($JSCompiler_params$jscomp$inline_104_win$jscomp$18$$.AMP_CONFIG["allow-doc-opt-in"])&&0<$JSCompiler_params$jscomp$inline_104_win$jscomp$18$$.AMP_CONFIG["allow-doc-opt-in"].length&&($JSCompiler_allowed$jscomp$inline_99_JSCompiler_experimentId$jscomp$inline_97_allowed$7$jscomp$inline_103$$=
$JSCompiler_params$jscomp$inline_104_win$jscomp$18$$.AMP_CONFIG["allow-doc-opt-in"],$JSCompiler_frequency$jscomp$inline_98_JSCompiler_meta$jscomp$inline_100_JSCompiler_optedInExperiments$jscomp$inline_101_i$8$jscomp$inline_105$$=$JSCompiler_params$jscomp$inline_104_win$jscomp$18$$.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){$JSCompiler_frequency$jscomp$inline_98_JSCompiler_meta$jscomp$inline_100_JSCompiler_optedInExperiments$jscomp$inline_101_i$8$jscomp$inline_105$$=$JSCompiler_frequency$jscomp$inline_98_JSCompiler_meta$jscomp$inline_100_JSCompiler_optedInExperiments$jscomp$inline_101_i$8$jscomp$inline_105$$.getAttribute("content").split(",");
for(var $JSCompiler_i$jscomp$inline_102_JSCompiler_param$jscomp$inline_106$$=0;$JSCompiler_i$jscomp$inline_102_JSCompiler_param$jscomp$inline_106$$<$JSCompiler_frequency$jscomp$inline_98_JSCompiler_meta$jscomp$inline_100_JSCompiler_optedInExperiments$jscomp$inline_101_i$8$jscomp$inline_105$$.length;$JSCompiler_i$jscomp$inline_102_JSCompiler_param$jscomp$inline_106$$++)-1!=$JSCompiler_allowed$jscomp$inline_99_JSCompiler_experimentId$jscomp$inline_97_allowed$7$jscomp$inline_103$$.indexOf($JSCompiler_frequency$jscomp$inline_98_JSCompiler_meta$jscomp$inline_100_JSCompiler_optedInExperiments$jscomp$inline_101_i$8$jscomp$inline_105$$[$JSCompiler_i$jscomp$inline_102_JSCompiler_param$jscomp$inline_106$$])&&
($JSCompiler_inline_result$jscomp$37_JSCompiler_toggles$jscomp$inline_96$$[$JSCompiler_frequency$jscomp$inline_98_JSCompiler_meta$jscomp$inline_100_JSCompiler_optedInExperiments$jscomp$inline_101_i$8$jscomp$inline_105$$[$JSCompiler_i$jscomp$inline_102_JSCompiler_param$jscomp$inline_106$$]]=!0)}Object.assign($JSCompiler_inline_result$jscomp$37_JSCompiler_toggles$jscomp$inline_96$$,$getExperimentTogglesFromCookie$$module$src$experiments$$($JSCompiler_params$jscomp$inline_104_win$jscomp$18$$));if($JSCompiler_params$jscomp$inline_104_win$jscomp$18$$.AMP_CONFIG&&
Array.isArray($JSCompiler_params$jscomp$inline_104_win$jscomp$18$$.AMP_CONFIG["allow-url-opt-in"])&&0<$JSCompiler_params$jscomp$inline_104_win$jscomp$18$$.AMP_CONFIG["allow-url-opt-in"].length)for($JSCompiler_allowed$jscomp$inline_99_JSCompiler_experimentId$jscomp$inline_97_allowed$7$jscomp$inline_103$$=$JSCompiler_params$jscomp$inline_104_win$jscomp$18$$.AMP_CONFIG["allow-url-opt-in"],$JSCompiler_params$jscomp$inline_104_win$jscomp$18$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_params$jscomp$inline_104_win$jscomp$18$$.location.originalHash||
$JSCompiler_params$jscomp$inline_104_win$jscomp$18$$.location.hash),$JSCompiler_frequency$jscomp$inline_98_JSCompiler_meta$jscomp$inline_100_JSCompiler_optedInExperiments$jscomp$inline_101_i$8$jscomp$inline_105$$=0;$JSCompiler_frequency$jscomp$inline_98_JSCompiler_meta$jscomp$inline_100_JSCompiler_optedInExperiments$jscomp$inline_101_i$8$jscomp$inline_105$$<$JSCompiler_allowed$jscomp$inline_99_JSCompiler_experimentId$jscomp$inline_97_allowed$7$jscomp$inline_103$$.length;$JSCompiler_frequency$jscomp$inline_98_JSCompiler_meta$jscomp$inline_100_JSCompiler_optedInExperiments$jscomp$inline_101_i$8$jscomp$inline_105$$++)$JSCompiler_i$jscomp$inline_102_JSCompiler_param$jscomp$inline_106$$=
$JSCompiler_params$jscomp$inline_104_win$jscomp$18$$["e-"+$JSCompiler_allowed$jscomp$inline_99_JSCompiler_experimentId$jscomp$inline_97_allowed$7$jscomp$inline_103$$[$JSCompiler_frequency$jscomp$inline_98_JSCompiler_meta$jscomp$inline_100_JSCompiler_optedInExperiments$jscomp$inline_101_i$8$jscomp$inline_105$$]],"1"==$JSCompiler_i$jscomp$inline_102_JSCompiler_param$jscomp$inline_106$$&&($JSCompiler_inline_result$jscomp$37_JSCompiler_toggles$jscomp$inline_96$$[$JSCompiler_allowed$jscomp$inline_99_JSCompiler_experimentId$jscomp$inline_97_allowed$7$jscomp$inline_103$$[$JSCompiler_frequency$jscomp$inline_98_JSCompiler_meta$jscomp$inline_100_JSCompiler_optedInExperiments$jscomp$inline_101_i$8$jscomp$inline_105$$]]=
!0),"0"==$JSCompiler_i$jscomp$inline_102_JSCompiler_param$jscomp$inline_106$$&&($JSCompiler_inline_result$jscomp$37_JSCompiler_toggles$jscomp$inline_96$$[$JSCompiler_allowed$jscomp$inline_99_JSCompiler_experimentId$jscomp$inline_97_allowed$7$jscomp$inline_103$$[$JSCompiler_frequency$jscomp$inline_98_JSCompiler_meta$jscomp$inline_100_JSCompiler_optedInExperiments$jscomp$inline_101_i$8$jscomp$inline_105$$]]=!1)}var $toggles$$=$JSCompiler_inline_result$jscomp$37_JSCompiler_toggles$jscomp$inline_96$$;
return!!$toggles$$[$experimentId$$]}
function $getExperimentTogglesFromCookie$$module$src$experiments$$($JSCompiler_cookieString$jscomp$inline_110_JSCompiler_cookies$jscomp$inline_111_JSCompiler_inline_result$jscomp$36_JSCompiler_value$jscomp$inline_115_toggles$jscomp$3_win$jscomp$22$$){a:{try{var $JSCompiler_i$jscomp$inline_112_JSCompiler_inline_result$jscomp$200_i$jscomp$17$$=$JSCompiler_cookieString$jscomp$inline_110_JSCompiler_cookies$jscomp$inline_111_JSCompiler_inline_result$jscomp$36_JSCompiler_value$jscomp$inline_115_toggles$jscomp$3_win$jscomp$22$$.document.cookie}catch($JSCompiler_e$jscomp$inline_218$$){$JSCompiler_i$jscomp$inline_112_JSCompiler_inline_result$jscomp$200_i$jscomp$17$$=""}if($JSCompiler_cookieString$jscomp$inline_110_JSCompiler_cookies$jscomp$inline_111_JSCompiler_inline_result$jscomp$36_JSCompiler_value$jscomp$inline_115_toggles$jscomp$3_win$jscomp$22$$=
$JSCompiler_i$jscomp$inline_112_JSCompiler_inline_result$jscomp$200_i$jscomp$17$$)for($JSCompiler_cookieString$jscomp$inline_110_JSCompiler_cookies$jscomp$inline_111_JSCompiler_inline_result$jscomp$36_JSCompiler_value$jscomp$inline_115_toggles$jscomp$3_win$jscomp$22$$=$JSCompiler_cookieString$jscomp$inline_110_JSCompiler_cookies$jscomp$inline_111_JSCompiler_inline_result$jscomp$36_JSCompiler_value$jscomp$inline_115_toggles$jscomp$3_win$jscomp$22$$.split(";"),$JSCompiler_i$jscomp$inline_112_JSCompiler_inline_result$jscomp$200_i$jscomp$17$$=
0;$JSCompiler_i$jscomp$inline_112_JSCompiler_inline_result$jscomp$200_i$jscomp$17$$<$JSCompiler_cookieString$jscomp$inline_110_JSCompiler_cookies$jscomp$inline_111_JSCompiler_inline_result$jscomp$36_JSCompiler_value$jscomp$inline_115_toggles$jscomp$3_win$jscomp$22$$.length;$JSCompiler_i$jscomp$inline_112_JSCompiler_inline_result$jscomp$200_i$jscomp$17$$++){var $JSCompiler_cookie$jscomp$inline_113$$=$JSCompiler_cookieString$jscomp$inline_110_JSCompiler_cookies$jscomp$inline_111_JSCompiler_inline_result$jscomp$36_JSCompiler_value$jscomp$inline_115_toggles$jscomp$3_win$jscomp$22$$[$JSCompiler_i$jscomp$inline_112_JSCompiler_inline_result$jscomp$200_i$jscomp$17$$].trim(),
$JSCompiler_eq$jscomp$inline_114$$=$JSCompiler_cookie$jscomp$inline_113$$.indexOf("=");if(-1!=$JSCompiler_eq$jscomp$inline_114$$&&"AMP_EXP"==$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_cookie$jscomp$inline_113$$.substring(0,$JSCompiler_eq$jscomp$inline_114$$).trim(),void 0)){$JSCompiler_cookieString$jscomp$inline_110_JSCompiler_cookies$jscomp$inline_111_JSCompiler_inline_result$jscomp$36_JSCompiler_value$jscomp$inline_115_toggles$jscomp$3_win$jscomp$22$$=$JSCompiler_cookie$jscomp$inline_113$$.substring($JSCompiler_eq$jscomp$inline_114$$+
1).trim();$JSCompiler_cookieString$jscomp$inline_110_JSCompiler_cookies$jscomp$inline_111_JSCompiler_inline_result$jscomp$36_JSCompiler_value$jscomp$inline_115_toggles$jscomp$3_win$jscomp$22$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($JSCompiler_cookieString$jscomp$inline_110_JSCompiler_cookies$jscomp$inline_111_JSCompiler_inline_result$jscomp$36_JSCompiler_value$jscomp$inline_115_toggles$jscomp$3_win$jscomp$22$$,$JSCompiler_cookieString$jscomp$inline_110_JSCompiler_cookies$jscomp$inline_111_JSCompiler_inline_result$jscomp$36_JSCompiler_value$jscomp$inline_115_toggles$jscomp$3_win$jscomp$22$$);
break a}}$JSCompiler_cookieString$jscomp$inline_110_JSCompiler_cookies$jscomp$inline_111_JSCompiler_inline_result$jscomp$36_JSCompiler_value$jscomp$inline_115_toggles$jscomp$3_win$jscomp$22$$=null}var $experimentCookie$$=$JSCompiler_cookieString$jscomp$inline_110_JSCompiler_cookies$jscomp$inline_111_JSCompiler_inline_result$jscomp$36_JSCompiler_value$jscomp$inline_115_toggles$jscomp$3_win$jscomp$22$$,$tokens$$=$experimentCookie$$?$experimentCookie$$.split(/\s*,\s*/g):[];$JSCompiler_cookieString$jscomp$inline_110_JSCompiler_cookies$jscomp$inline_111_JSCompiler_inline_result$jscomp$36_JSCompiler_value$jscomp$inline_115_toggles$jscomp$3_win$jscomp$22$$=
Object.create(null);for($JSCompiler_i$jscomp$inline_112_JSCompiler_inline_result$jscomp$200_i$jscomp$17$$=0;$JSCompiler_i$jscomp$inline_112_JSCompiler_inline_result$jscomp$200_i$jscomp$17$$<$tokens$$.length;$JSCompiler_i$jscomp$inline_112_JSCompiler_inline_result$jscomp$200_i$jscomp$17$$++)0!=$tokens$$[$JSCompiler_i$jscomp$inline_112_JSCompiler_inline_result$jscomp$200_i$jscomp$17$$].length&&("-"==$tokens$$[$JSCompiler_i$jscomp$inline_112_JSCompiler_inline_result$jscomp$200_i$jscomp$17$$][0]?$JSCompiler_cookieString$jscomp$inline_110_JSCompiler_cookies$jscomp$inline_111_JSCompiler_inline_result$jscomp$36_JSCompiler_value$jscomp$inline_115_toggles$jscomp$3_win$jscomp$22$$[$tokens$$[$JSCompiler_i$jscomp$inline_112_JSCompiler_inline_result$jscomp$200_i$jscomp$17$$].substr(1)]=
!1:$JSCompiler_cookieString$jscomp$inline_110_JSCompiler_cookies$jscomp$inline_111_JSCompiler_inline_result$jscomp$36_JSCompiler_value$jscomp$inline_115_toggles$jscomp$3_win$jscomp$22$$[$tokens$$[$JSCompiler_i$jscomp$inline_112_JSCompiler_inline_result$jscomp$200_i$jscomp$17$$]]=!0);return $JSCompiler_cookieString$jscomp$inline_110_JSCompiler_cookies$jscomp$inline_111_JSCompiler_inline_result$jscomp$36_JSCompiler_value$jscomp$inline_115_toggles$jscomp$3_win$jscomp$22$$};var $ALLOWED_DEPR_CONSENTINSTANCE_ATTRS$$module$extensions$amp_consent$0_1$consent_config$$={promptUI:!0,checkConsentHref:!0,promptIfUnknownForGeoGroup:!0,onUpdateHref:!0};function $ConsentConfig$$module$extensions$amp_consent$0_1$consent_config$$($element$jscomp$31$$){this.$element_$=$element$jscomp$31$$;this.$win_$=$element$jscomp$31$$.ownerDocument.defaultView;this.$config_$=null}
$ConsentConfig$$module$extensions$amp_consent$0_1$consent_config$$.prototype.getConsentConfig=function(){if(!this.$config_$){try{var $JSCompiler_i$jscomp$inline_234_JSCompiler_i$jscomp$inline_241_JSCompiler_parent$jscomp$inline_281$$=this.$element_$;/^[\w-]+$/.test("script");if(void 0!==$scopeSelectorSupported$$module$src$css$$)var $JSCompiler_temp$jscomp$inline_303$$=$scopeSelectorSupported$$module$src$css$$;else{try{var $JSCompiler_doc$jscomp$inline_305$$=$JSCompiler_i$jscomp$inline_234_JSCompiler_i$jscomp$inline_241_JSCompiler_parent$jscomp$inline_281$$.ownerDocument,
$JSCompiler_testElement$jscomp$inline_306$$=$JSCompiler_doc$jscomp$inline_305$$.createElement("div"),$JSCompiler_testChild$jscomp$inline_307$$=$JSCompiler_doc$jscomp$inline_305$$.createElement("div");$JSCompiler_testElement$jscomp$inline_306$$.appendChild($JSCompiler_testChild$jscomp$inline_307$$);var $JSCompiler_inline_result$jscomp$inline_304$$=$JSCompiler_testElement$jscomp$inline_306$$.querySelector(":scope div")===$JSCompiler_testChild$jscomp$inline_307$$}catch($JSCompiler_e$jscomp$inline_310$$){$JSCompiler_inline_result$jscomp$inline_304$$=
!1}$JSCompiler_temp$jscomp$inline_303$$=$scopeSelectorSupported$$module$src$css$$=$JSCompiler_inline_result$jscomp$inline_304$$}if($JSCompiler_temp$jscomp$inline_303$$)var $JSCompiler_attr$jscomp$inline_235_JSCompiler_temp$jscomp$inline_302$$=$JSCompiler_i$jscomp$inline_234_JSCompiler_i$jscomp$inline_241_JSCompiler_parent$jscomp$inline_281$$.querySelectorAll("> script".replace(/^|,/g,"$&:scope "));else{$JSCompiler_i$jscomp$inline_234_JSCompiler_i$jscomp$inline_241_JSCompiler_parent$jscomp$inline_281$$.classList.add("i-amphtml-scoped");
var $JSCompiler_scopedSelector$jscomp$inline_308$$="> script".replace(/^|,/g,"$&.i-amphtml-scoped "),$JSCompiler_elements$jscomp$inline_309$$=$JSCompiler_i$jscomp$inline_234_JSCompiler_i$jscomp$inline_241_JSCompiler_parent$jscomp$inline_281$$.querySelectorAll($JSCompiler_scopedSelector$jscomp$inline_308$$);$JSCompiler_i$jscomp$inline_234_JSCompiler_i$jscomp$inline_241_JSCompiler_parent$jscomp$inline_281$$.classList.remove("i-amphtml-scoped");$JSCompiler_attr$jscomp$inline_235_JSCompiler_temp$jscomp$inline_302$$=
$JSCompiler_elements$jscomp$inline_309$$}var $JSCompiler_assertValues$jscomp$inline_240_JSCompiler_attrs$jscomp$inline_233_JSCompiler_i$jscomp$inline_122_JSCompiler_inline_result$jscomp$277$$=$JSCompiler_attr$jscomp$inline_235_JSCompiler_temp$jscomp$inline_302$$;if(1!==$JSCompiler_assertValues$jscomp$inline_240_JSCompiler_attrs$jscomp$inline_233_JSCompiler_i$jscomp$inline_122_JSCompiler_inline_result$jscomp$277$$.length)throw Error("Found "+$JSCompiler_assertValues$jscomp$inline_240_JSCompiler_attrs$jscomp$inline_233_JSCompiler_i$jscomp$inline_122_JSCompiler_inline_result$jscomp$277$$.length+
" <script> children. Expected 1.");var $JSCompiler_script$jscomp$inline_223$$=$JSCompiler_assertValues$jscomp$inline_240_JSCompiler_attrs$jscomp$inline_233_JSCompiler_i$jscomp$inline_122_JSCompiler_inline_result$jscomp$277$$[0];if("SCRIPT"!=$JSCompiler_script$jscomp$inline_223$$.tagName||!$JSCompiler_script$jscomp$inline_223$$.hasAttribute("type")||"APPLICATION/JSON"!=$JSCompiler_script$jscomp$inline_223$$.getAttribute("type").toUpperCase())throw Error('<script> child must have type="application/json"');
try{var $JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$=JSON.parse($JSCompiler_script$jscomp$inline_223$$.textContent)}catch($JSCompiler_unusedError$jscomp$inline_224$$){throw Error("Failed to parse <script> contents. Is it valid JSON?");
}var $JSCompiler_config$jscomp$inline_120_JSCompiler_config$jscomp$inline_229_JSCompiler_inline_result$jscomp$202$$=$JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$}catch($JSCompiler_e$jscomp$inline_225$$){throw $user$$module$src$log$$(this.$element_$).createError("%s: %s",
"amp-consent/consent-config",$JSCompiler_e$jscomp$inline_225$$);}$JSCompiler_config$jscomp$inline_120_JSCompiler_config$jscomp$inline_229_JSCompiler_inline_result$jscomp$202$$=$userAssert$$module$src$log$$($JSCompiler_config$jscomp$inline_120_JSCompiler_config$jscomp$inline_229_JSCompiler_inline_result$jscomp$202$$,"%s: Inline config not found");$JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$=
$JSCompiler_config$jscomp$inline_120_JSCompiler_config$jscomp$inline_229_JSCompiler_inline_result$jscomp$202$$.consents;$isExperimentOn$$module$src$experiments$$(this.$win_$)||($userAssert$$module$src$log$$($JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$,
"%s: consents config is required","amp-consent/consent-config"),$userAssert$$module$src$log$$(0!=Object.keys($JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$).length,"%s: can't find consent instance","amp-consent/consent-config"));
if($JSCompiler_config$jscomp$inline_120_JSCompiler_config$jscomp$inline_229_JSCompiler_inline_result$jscomp$202$$.consents){$JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$=Object.keys($JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$);
$userAssert$$module$src$log$$(1>=$JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$.length,"%s: only single consent instance is supported","amp-consent/consent-config");if(0<$JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$.length)for($JSCompiler_config$jscomp$inline_120_JSCompiler_config$jscomp$inline_229_JSCompiler_inline_result$jscomp$202$$.consentInstanceId=
$JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$[0],$JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$=
$JSCompiler_config$jscomp$inline_120_JSCompiler_config$jscomp$inline_229_JSCompiler_inline_result$jscomp$202$$.consents[$JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$[0]],$JSCompiler_assertValues$jscomp$inline_240_JSCompiler_attrs$jscomp$inline_233_JSCompiler_i$jscomp$inline_122_JSCompiler_inline_result$jscomp$277$$=
Object.keys($JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$),$JSCompiler_i$jscomp$inline_234_JSCompiler_i$jscomp$inline_241_JSCompiler_parent$jscomp$inline_281$$=0;$JSCompiler_i$jscomp$inline_234_JSCompiler_i$jscomp$inline_241_JSCompiler_parent$jscomp$inline_281$$<
$JSCompiler_assertValues$jscomp$inline_240_JSCompiler_attrs$jscomp$inline_233_JSCompiler_i$jscomp$inline_122_JSCompiler_inline_result$jscomp$277$$.length;$JSCompiler_i$jscomp$inline_234_JSCompiler_i$jscomp$inline_241_JSCompiler_parent$jscomp$inline_281$$++)$JSCompiler_attr$jscomp$inline_235_JSCompiler_temp$jscomp$inline_302$$=$JSCompiler_assertValues$jscomp$inline_240_JSCompiler_attrs$jscomp$inline_233_JSCompiler_i$jscomp$inline_122_JSCompiler_inline_result$jscomp$277$$[$JSCompiler_i$jscomp$inline_234_JSCompiler_i$jscomp$inline_241_JSCompiler_parent$jscomp$inline_281$$],
!$JSCompiler_config$jscomp$inline_120_JSCompiler_config$jscomp$inline_229_JSCompiler_inline_result$jscomp$202$$[$JSCompiler_attr$jscomp$inline_235_JSCompiler_temp$jscomp$inline_302$$]&&$ALLOWED_DEPR_CONSENTINSTANCE_ATTRS$$module$extensions$amp_consent$0_1$consent_config$$[$JSCompiler_attr$jscomp$inline_235_JSCompiler_temp$jscomp$inline_302$$]&&($JSCompiler_config$jscomp$inline_120_JSCompiler_config$jscomp$inline_229_JSCompiler_inline_result$jscomp$202$$[$JSCompiler_assertValues$jscomp$inline_240_JSCompiler_attrs$jscomp$inline_233_JSCompiler_i$jscomp$inline_122_JSCompiler_inline_result$jscomp$277$$[$JSCompiler_i$jscomp$inline_234_JSCompiler_i$jscomp$inline_241_JSCompiler_parent$jscomp$inline_281$$]]=
$JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$[$JSCompiler_assertValues$jscomp$inline_240_JSCompiler_attrs$jscomp$inline_233_JSCompiler_i$jscomp$inline_122_JSCompiler_inline_result$jscomp$277$$[$JSCompiler_i$jscomp$inline_234_JSCompiler_i$jscomp$inline_241_JSCompiler_parent$jscomp$inline_281$$]]);
delete $JSCompiler_config$jscomp$inline_120_JSCompiler_config$jscomp$inline_229_JSCompiler_inline_result$jscomp$202$$.consents}if($isExperimentOn$$module$src$experiments$$(this.$win_$))if($JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$=
this.$element_$.getAttribute("type"))for($userAssert$$module$src$log$$($CMP_CONFIG$$module$extensions$amp_consent$0_1$cmps$$[$JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$],"%s: invalid CMP type %s","amp-consent/consent-config",
$JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$),$JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$=
$CMP_CONFIG$$module$extensions$amp_consent$0_1$cmps$$[$JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$],$JSCompiler_assertValues$jscomp$inline_240_JSCompiler_attrs$jscomp$inline_233_JSCompiler_i$jscomp$inline_122_JSCompiler_inline_result$jscomp$277$$=
["consentInstanceId","checkConsentHref","promptUISrc"],$JSCompiler_i$jscomp$inline_234_JSCompiler_i$jscomp$inline_241_JSCompiler_parent$jscomp$inline_281$$=0;$JSCompiler_i$jscomp$inline_234_JSCompiler_i$jscomp$inline_241_JSCompiler_parent$jscomp$inline_281$$<$JSCompiler_assertValues$jscomp$inline_240_JSCompiler_attrs$jscomp$inline_233_JSCompiler_i$jscomp$inline_122_JSCompiler_inline_result$jscomp$277$$.length;$JSCompiler_i$jscomp$inline_234_JSCompiler_i$jscomp$inline_241_JSCompiler_parent$jscomp$inline_281$$++);
else $JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$=null;else $JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$=
null;$JSCompiler_config$jscomp$inline_120_JSCompiler_config$jscomp$inline_229_JSCompiler_inline_result$jscomp$202$$=$deepMerge$$module$src$utils$object$$($JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$||{},$JSCompiler_config$jscomp$inline_120_JSCompiler_config$jscomp$inline_229_JSCompiler_inline_result$jscomp$202$$||
{});$userAssert$$module$src$log$$($JSCompiler_config$jscomp$inline_120_JSCompiler_config$jscomp$inline_229_JSCompiler_inline_result$jscomp$202$$.consentInstanceId,"%s: consentInstanceId to store consent info is required","amp-consent/consent-config");if($JSCompiler_config$jscomp$inline_120_JSCompiler_config$jscomp$inline_229_JSCompiler_inline_result$jscomp$202$$.policy)for($JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$=
Object.keys($JSCompiler_config$jscomp$inline_120_JSCompiler_config$jscomp$inline_229_JSCompiler_inline_result$jscomp$202$$.policy),$JSCompiler_assertValues$jscomp$inline_240_JSCompiler_attrs$jscomp$inline_233_JSCompiler_i$jscomp$inline_122_JSCompiler_inline_result$jscomp$277$$=0;$JSCompiler_assertValues$jscomp$inline_240_JSCompiler_attrs$jscomp$inline_233_JSCompiler_i$jscomp$inline_122_JSCompiler_inline_result$jscomp$277$$<$JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$.length;$JSCompiler_assertValues$jscomp$inline_240_JSCompiler_attrs$jscomp$inline_233_JSCompiler_i$jscomp$inline_122_JSCompiler_inline_result$jscomp$277$$++)"default"!=
$JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$[$JSCompiler_assertValues$jscomp$inline_240_JSCompiler_attrs$jscomp$inline_233_JSCompiler_i$jscomp$inline_122_JSCompiler_inline_result$jscomp$277$$]&&($user$$module$src$log$$().warn("amp-consent/consent-config",
"policy %s is currently not supported and will be ignored",$JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$[$JSCompiler_assertValues$jscomp$inline_240_JSCompiler_attrs$jscomp$inline_233_JSCompiler_i$jscomp$inline_122_JSCompiler_inline_result$jscomp$277$$]),
delete $JSCompiler_config$jscomp$inline_120_JSCompiler_config$jscomp$inline_229_JSCompiler_inline_result$jscomp$202$$.policy[$JSCompiler_consentInstanceConfigDepr$jscomp$inline_232_JSCompiler_consentsConfigDepr$jscomp$inline_230_JSCompiler_importConfig$jscomp$inline_239_JSCompiler_inline_result$jscomp$203_JSCompiler_inline_result$jscomp$inline_221_JSCompiler_keys$jscomp$inline_121_JSCompiler_keys$jscomp$inline_231_JSCompiler_type$jscomp$inline_238$$[$JSCompiler_assertValues$jscomp$inline_240_JSCompiler_attrs$jscomp$inline_233_JSCompiler_i$jscomp$inline_122_JSCompiler_inline_result$jscomp$277$$]]);
this.$config_$=$JSCompiler_config$jscomp$inline_120_JSCompiler_config$jscomp$inline_229_JSCompiler_inline_result$jscomp$202$$}return this.$config_$};
function $expandPolicyConfig$$module$extensions$amp_consent$0_1$consent_config$$($policyConfig$$,$consentId$$){var $defaultWaitForItems$$={};$defaultWaitForItems$$[$consentId$$]=void 0;var $defaultPolicy$$={waitFor:$defaultWaitForItems$$},$unblockOnAll$$=[4,1,2,3],$predefinedNone$$={waitFor:$defaultWaitForItems$$,unblockOn:$unblockOnAll$$},$rejectAllOnZero$$={waitFor:$defaultWaitForItems$$,timeout:{seconds:0,fallbackAction:"reject"},unblockOn:$unblockOnAll$$};$policyConfig$$._till_responded=$predefinedNone$$;
$policyConfig$$._till_accepted=$defaultPolicy$$;$policyConfig$$._auto_reject=$rejectAllOnZero$$;if($policyConfig$$&&$policyConfig$$["default"])return $policyConfig$$;$policyConfig$$["default"]=$defaultPolicy$$;return $policyConfig$$};function $Observable$$module$src$observable$$(){this.$handlers_$=null}$JSCompiler_prototypeAlias$$=$Observable$$module$src$observable$$.prototype;$JSCompiler_prototypeAlias$$.add=function($handler$jscomp$4$$){var $$jscomp$this$jscomp$1$$=this;this.$handlers_$||(this.$handlers_$=[]);this.$handlers_$.push($handler$jscomp$4$$);return function(){$$jscomp$this$jscomp$1$$.remove($handler$jscomp$4$$)}};
$JSCompiler_prototypeAlias$$.remove=function($handler$jscomp$5_index$jscomp$72$$){this.$handlers_$&&($handler$jscomp$5_index$jscomp$72$$=this.$handlers_$.indexOf($handler$jscomp$5_index$jscomp$72$$),-1<$handler$jscomp$5_index$jscomp$72$$&&this.$handlers_$.splice($handler$jscomp$5_index$jscomp$72$$,1))};$JSCompiler_prototypeAlias$$.removeAll=function(){this.$handlers_$&&(this.$handlers_$.length=0)};
$JSCompiler_prototypeAlias$$.fire=function($opt_event$$){if(this.$handlers_$)for(var $handlers$$=this.$handlers_$,$i$jscomp$21$$=0;$i$jscomp$21$$<$handlers$$.length;$i$jscomp$21$$++)(0,$handlers$$[$i$jscomp$21$$])($opt_event$$)};$JSCompiler_prototypeAlias$$.getHandlerCount=function(){return this.$handlers_$?this.$handlers_$.length:0};function $getService$$module$src$service$$($win$jscomp$31$$,$id$jscomp$11$$){$win$jscomp$31$$=$win$jscomp$31$$.__AMP_TOP||$win$jscomp$31$$;return $getServiceInternal$$module$src$service$$($win$jscomp$31$$,$id$jscomp$11$$)}
function $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$$,$id$jscomp$15$$){var $ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdoc$$module$src$service$$($elementOrAmpDoc$$);$ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$);return $getServiceInternal$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$,$id$jscomp$15$$)}
function $getServicePromiseForDoc$$module$src$service$$($JSCompiler_holder$jscomp$inline_133_JSCompiler_services$jscomp$inline_136_elementOrAmpDoc$jscomp$1$$,$JSCompiler_inline_result$jscomp$39_id$jscomp$17$$){$JSCompiler_holder$jscomp$inline_133_JSCompiler_services$jscomp$inline_136_elementOrAmpDoc$jscomp$1$$=$getAmpdocServiceHolder$$module$src$service$$($JSCompiler_holder$jscomp$inline_133_JSCompiler_services$jscomp$inline_136_elementOrAmpDoc$jscomp$1$$);var $JSCompiler_cached$jscomp$inline_135$$=
$getServicePromiseOrNullInternal$$module$src$service$$($JSCompiler_holder$jscomp$inline_133_JSCompiler_services$jscomp$inline_136_elementOrAmpDoc$jscomp$1$$,$JSCompiler_inline_result$jscomp$39_id$jscomp$17$$);$JSCompiler_cached$jscomp$inline_135$$?$JSCompiler_inline_result$jscomp$39_id$jscomp$17$$=$JSCompiler_cached$jscomp$inline_135$$:($JSCompiler_holder$jscomp$inline_133_JSCompiler_services$jscomp$inline_136_elementOrAmpDoc$jscomp$1$$=$getServices$$module$src$service$$($JSCompiler_holder$jscomp$inline_133_JSCompiler_services$jscomp$inline_136_elementOrAmpDoc$jscomp$1$$),
$JSCompiler_holder$jscomp$inline_133_JSCompiler_services$jscomp$inline_136_elementOrAmpDoc$jscomp$1$$[$JSCompiler_inline_result$jscomp$39_id$jscomp$17$$]=$emptyServiceHolderWithPromise$$module$src$service$$(),$JSCompiler_inline_result$jscomp$39_id$jscomp$17$$=$JSCompiler_holder$jscomp$inline_133_JSCompiler_services$jscomp$inline_136_elementOrAmpDoc$jscomp$1$$[$JSCompiler_inline_result$jscomp$39_id$jscomp$17$$].promise);return $JSCompiler_inline_result$jscomp$39_id$jscomp$17$$}
function $getAmpdoc$$module$src$service$$($nodeOrDoc$jscomp$2$$){return $nodeOrDoc$jscomp$2$$.nodeType?$getService$$module$src$service$$(($nodeOrDoc$jscomp$2$$.ownerDocument||$nodeOrDoc$jscomp$2$$).defaultView,"ampdoc").getAmpDoc($nodeOrDoc$jscomp$2$$):$nodeOrDoc$jscomp$2$$}
function $getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$){$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$=$getAmpdoc$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$);return $ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.isSingleDoc()?$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.win:$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$9$$,$id$jscomp$19$$){$isServiceRegistered$$module$src$service$$($holder$jscomp$4_s$jscomp$9$$,$id$jscomp$19$$);var $services$$=$getServices$$module$src$service$$($holder$jscomp$4_s$jscomp$9$$);$holder$jscomp$4_s$jscomp$9$$=$services$$[$id$jscomp$19$$];$holder$jscomp$4_s$jscomp$9$$.obj||($holder$jscomp$4_s$jscomp$9$$.obj=new $holder$jscomp$4_s$jscomp$9$$.ctor($holder$jscomp$4_s$jscomp$9$$.context),$holder$jscomp$4_s$jscomp$9$$.ctor=
null,$holder$jscomp$4_s$jscomp$9$$.context=null,$holder$jscomp$4_s$jscomp$9$$.resolve&&$holder$jscomp$4_s$jscomp$9$$.resolve($holder$jscomp$4_s$jscomp$9$$.obj));return $holder$jscomp$4_s$jscomp$9$$.obj}
function $getServicePromiseOrNullInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$){var $s$jscomp$12$$=$getServices$$module$src$service$$($holder$jscomp$8$$)[$id$jscomp$23$$];if($s$jscomp$12$$){if($s$jscomp$12$$.promise)return $s$jscomp$12$$.promise;$getServiceInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$);return $s$jscomp$12$$.promise=Promise.resolve($s$jscomp$12$$.obj)}return null}
function $getServices$$module$src$service$$($holder$jscomp$9$$){var $services$jscomp$5$$=$holder$jscomp$9$$.services;$services$jscomp$5$$||($services$jscomp$5$$=$holder$jscomp$9$$.services={});return $services$jscomp$5$$}
function $isServiceRegistered$$module$src$service$$($holder$jscomp$12_service$jscomp$4$$,$id$jscomp$27$$){$holder$jscomp$12_service$jscomp$4$$=$holder$jscomp$12_service$jscomp$4$$.services&&$holder$jscomp$12_service$jscomp$4$$.services[$id$jscomp$27$$];return!(!$holder$jscomp$12_service$jscomp$4$$||!$holder$jscomp$12_service$jscomp$4$$.ctor&&!$holder$jscomp$12_service$jscomp$4$$.obj)}
function $emptyServiceHolderWithPromise$$module$src$service$$(){var $$jscomp$destructuring$var12_reject$jscomp$3$$=new $Deferred$$module$src$utils$promise$$,$promise$jscomp$1$$=$$jscomp$destructuring$var12_reject$jscomp$3$$.promise,$resolve$jscomp$9$$=$$jscomp$destructuring$var12_reject$jscomp$3$$.resolve;$$jscomp$destructuring$var12_reject$jscomp$3$$=$$jscomp$destructuring$var12_reject$jscomp$3$$.reject;$promise$jscomp$1$$.catch(function(){});return{obj:null,promise:$promise$jscomp$1$$,resolve:$resolve$jscomp$9$$,
reject:$$jscomp$destructuring$var12_reject$jscomp$3$$,context:null,ctor:null}};var $WHITELIST_POLICY$$module$extensions$amp_consent$0_1$consent_policy_manager$$={"default":!0,_till_responded:!0,_till_accepted:!0,_auto_reject:!0};
function $ConsentPolicyManager$$module$extensions$amp_consent$0_1$consent_policy_manager$$($ampdoc$jscomp$7$$){this.$ampdoc_$=$ampdoc$jscomp$7$$;this.$policyInstancesDeferred_$=$map$$module$src$utils$object$$();this.$instances_$=$map$$module$src$utils$object$$();this.$ConsentStateManagerPromise_$=$getServicePromiseForDoc$$module$src$service$$(this.$ampdoc_$,"consentStateManager");this.$consentPromptInitiated_$=new $Deferred$$module$src$utils$promise$$;var $consentValueInitiated$$=new $Deferred$$module$src$utils$promise$$;
this.$consentValueInitiatedPromise_$=$consentValueInitiated$$.promise;this.$consentValueInitiatedResolver_$=$consentValueInitiated$$.resolve;this.$consentStateChangeObservables_$=new $Observable$$module$src$observable$$;this.$consentString_$=this.$consentState_$=this.$consentInstanceIdDepr_$=null}$JSCompiler_prototypeAlias$$=$ConsentPolicyManager$$module$extensions$amp_consent$0_1$consent_policy_manager$$.prototype;
$JSCompiler_prototypeAlias$$.setLegacyConsentInstanceId=function($consentInstanceId$$){this.$consentInstanceIdDepr_$=$consentInstanceId$$;this.$init_$()};
$JSCompiler_prototypeAlias$$.registerConsentPolicyInstance=function($policyId$$,$config$jscomp$5$$){var $$jscomp$this$jscomp$2$$=this;if(!this.$instances_$[$policyId$$]){var $waitFor$$=Object.keys($config$jscomp$5$$.waitFor||{});if(1!==$waitFor$$.length||$waitFor$$[0]!==this.$consentInstanceIdDepr_$)$user$$module$src$log$$().error("consent-policy-manager","invalid waitFor value, consent policy will never resolve");else{var $instance$jscomp$1$$=new $ConsentPolicyInstance$$module$extensions$amp_consent$0_1$consent_policy_manager$$($config$jscomp$5$$);
this.$instances_$[$policyId$$]=$instance$jscomp$1$$;this.$policyInstancesDeferred_$[$policyId$$]&&(this.$policyInstancesDeferred_$[$policyId$$].resolve(),this.$policyInstancesDeferred_$[$policyId$$]=null);this.$consentValueInitiatedPromise_$.then(function(){$$jscomp$this$jscomp$2$$.$consentState_$&&$instance$jscomp$1$$.evaluate($$jscomp$this$jscomp$2$$.$consentState_$);$$jscomp$this$jscomp$2$$.$consentStateChangeObservables_$.add(function($policyId$$){$instance$jscomp$1$$.evaluate($policyId$$)});
$$jscomp$this$jscomp$2$$.$consentPromptInitiated_$.promise.then(function(){$instance$jscomp$1$$.startTimeout($$jscomp$this$jscomp$2$$.$ampdoc_$.win)})})}}};
$JSCompiler_prototypeAlias$$.$init_$=function(){var $$jscomp$this$jscomp$3$$=this;this.$ConsentStateManagerPromise_$.then(function($manager$$){$manager$$.whenConsentReady().then(function(){$manager$$.onConsentStateChange(function($manager$$){var $info$jscomp$2$$=$manager$$.consentState,$JSCompiler_prevConsentStr$jscomp$inline_142$$=$$jscomp$this$jscomp$3$$.$consentString_$;$$jscomp$this$jscomp$3$$.$consentString_$=$manager$$.consentString;5!==$info$jscomp$2$$&&(4==$info$jscomp$2$$?1!=$$jscomp$this$jscomp$3$$.$consentState_$&&
2!=$$jscomp$this$jscomp$3$$.$consentState_$&&($$jscomp$this$jscomp$3$$.$consentState_$=4):3==$info$jscomp$2$$?(null===$$jscomp$this$jscomp$3$$.$consentState_$&&($$jscomp$this$jscomp$3$$.$consentState_$=5),$$jscomp$this$jscomp$3$$.$consentString_$=$JSCompiler_prevConsentStr$jscomp$inline_142$$):$$jscomp$this$jscomp$3$$.$consentState_$=$info$jscomp$2$$,$$jscomp$this$jscomp$3$$.$consentStateChangeObservables_$.fire($$jscomp$this$jscomp$3$$.$consentState_$));$$jscomp$this$jscomp$3$$.$consentValueInitiatedResolver_$&&
($$jscomp$this$jscomp$3$$.$consentValueInitiatedResolver_$(),$$jscomp$this$jscomp$3$$.$consentValueInitiatedResolver_$=null)})})})};$JSCompiler_prototypeAlias$$.enableTimeout=function(){this.$consentPromptInitiated_$.resolve()};
$JSCompiler_prototypeAlias$$.whenPolicyResolved=function($policyId$jscomp$1$$){var $$jscomp$this$jscomp$4$$=this;return $WHITELIST_POLICY$$module$extensions$amp_consent$0_1$consent_policy_manager$$[$policyId$jscomp$1$$]?$JSCompiler_StaticMethods_whenPolicyInstanceRegistered_$$(this,$policyId$jscomp$1$$).then(function(){return $$jscomp$this$jscomp$4$$.$instances_$[$policyId$jscomp$1$$].getReadyPromise().then(function(){return $$jscomp$this$jscomp$4$$.$instances_$[$policyId$jscomp$1$$].getCurrentPolicyStatus()})}):
($user$$module$src$log$$().error("consent-policy-manager","can not find policy %s, only predefined policies are supported",$policyId$jscomp$1$$),Promise.resolve(4))};
$JSCompiler_prototypeAlias$$.whenPolicyUnblock=function($policyId$jscomp$2$$){var $$jscomp$this$jscomp$5$$=this;return $WHITELIST_POLICY$$module$extensions$amp_consent$0_1$consent_policy_manager$$[$policyId$jscomp$2$$]?$JSCompiler_StaticMethods_whenPolicyInstanceRegistered_$$(this,$policyId$jscomp$2$$).then(function(){return $$jscomp$this$jscomp$5$$.$instances_$[$policyId$jscomp$2$$].getReadyPromise().then(function(){return $$jscomp$this$jscomp$5$$.$instances_$[$policyId$jscomp$2$$].shouldUnblock()})}):($user$$module$src$log$$().error("consent-policy-manager",
"can not find policy %s, only predefined policies are supported",$policyId$jscomp$2$$),Promise.resolve(!1))};$JSCompiler_prototypeAlias$$.getMergedSharedData=function($policyId$jscomp$3$$){var $$jscomp$this$jscomp$6$$=this;return this.whenPolicyResolved($policyId$jscomp$3$$).then(function(){return $$jscomp$this$jscomp$6$$.$ConsentStateManagerPromise_$}).then(function($policyId$jscomp$3$$){return $policyId$jscomp$3$$.getConsentInstanceSharedData()})};
$JSCompiler_prototypeAlias$$.getConsentStringInfo=function($policyId$jscomp$4$$){var $$jscomp$this$jscomp$7$$=this;return this.whenPolicyResolved($policyId$jscomp$4$$).then(function(){return $$jscomp$this$jscomp$7$$.$consentString_$})};
function $JSCompiler_StaticMethods_whenPolicyInstanceRegistered_$$($JSCompiler_StaticMethods_whenPolicyInstanceRegistered_$self$$,$policyId$jscomp$5$$){if($JSCompiler_StaticMethods_whenPolicyInstanceRegistered_$self$$.$instances_$[$policyId$jscomp$5$$])return Promise.resolve();$JSCompiler_StaticMethods_whenPolicyInstanceRegistered_$self$$.$policyInstancesDeferred_$[$policyId$jscomp$5$$]||($JSCompiler_StaticMethods_whenPolicyInstanceRegistered_$self$$.$policyInstancesDeferred_$[$policyId$jscomp$5$$]=
new $Deferred$$module$src$utils$promise$$);return $JSCompiler_StaticMethods_whenPolicyInstanceRegistered_$self$$.$policyInstancesDeferred_$[$policyId$jscomp$5$$].promise}
function $ConsentPolicyInstance$$module$extensions$amp_consent$0_1$consent_policy_manager$$($config$jscomp$6$$){this.$config_$=$config$jscomp$6$$;var $readyDeferred$$=new $Deferred$$module$src$utils$promise$$;this.$readyPromise_$=$readyDeferred$$.promise;this.$readyResolver_$=$readyDeferred$$.resolve;this.$status_$=4;this.$unblockStateLists_$=$config$jscomp$6$$.unblockOn||[1,3]}$JSCompiler_prototypeAlias$$=$ConsentPolicyInstance$$module$extensions$amp_consent$0_1$consent_policy_manager$$.prototype;
$JSCompiler_prototypeAlias$$.startTimeout=function($win$jscomp$41$$){var $$jscomp$this$jscomp$8$$=this,$timeoutConfig$$=this.$config_$.timeout,$timeoutSecond$$=null,$fallbackState$$;void 0!=$timeoutConfig$$&&($isObject$$module$src$types$$($timeoutConfig$$)?($timeoutConfig$$.fallbackAction&&"reject"==$timeoutConfig$$.fallbackAction?$fallbackState$$=2:$timeoutConfig$$.fallbackAction&&"dismiss"!=$timeoutConfig$$.fallbackAction&&$user$$module$src$log$$().error("consent-policy-manager","unsupported fallbackAction %s",
$timeoutConfig$$.fallbackAction),$timeoutSecond$$=$timeoutConfig$$.seconds):$timeoutSecond$$=$timeoutConfig$$,$userAssert$$module$src$log$$($isFiniteNumber$$module$src$types$$($timeoutSecond$$),"invalid timeout value %s",$timeoutSecond$$));null!=$timeoutSecond$$&&$win$jscomp$41$$.setTimeout(function(){$fallbackState$$=$fallbackState$$||5;$$jscomp$this$jscomp$8$$.evaluate($fallbackState$$,!0)},1E3*$timeoutSecond$$)};
$JSCompiler_prototypeAlias$$.evaluate=function($state$jscomp$3$$,$isFallback$$){$isFallback$$=void 0===$isFallback$$?!1:$isFallback$$;!$state$jscomp$3$$||$isFallback$$&&!this.$readyResolver_$||(this.$status_$=1===$state$jscomp$3$$?1:2===$state$jscomp$3$$?2:4===$state$jscomp$3$$?3:4,this.$readyResolver_$&&(this.$readyResolver_$(),this.$readyResolver_$=null))};$JSCompiler_prototypeAlias$$.getReadyPromise=function(){return this.$readyPromise_$};$JSCompiler_prototypeAlias$$.getCurrentPolicyStatus=function(){return this.$status_$};
$JSCompiler_prototypeAlias$$.shouldUnblock=function(){return-1<this.$unblockStateLists_$.indexOf(this.$status_$)};function $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$35$$){var $s$jscomp$14$$=$getServicePromiseOrNullInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($element$jscomp$35$$),"geo");if($s$jscomp$14$$)return $s$jscomp$14$$;var $ampdoc$jscomp$8$$=$getAmpdoc$$module$src$service$$($element$jscomp$35$$);return $ampdoc$jscomp$8$$.whenBodyAvailable().then(function(){var $element$jscomp$35$$=$ampdoc$jscomp$8$$.win;var $s$jscomp$14$$=$ampdoc$jscomp$8$$.win.document.head;
if($s$jscomp$14$$){var $JSCompiler_inline_result$jscomp$279_JSCompiler_scripts$jscomp$inline_284$$=[];$s$jscomp$14$$=$s$jscomp$14$$.querySelectorAll("script[custom-element]");for(var $JSCompiler_i$jscomp$inline_286$$=0;$JSCompiler_i$jscomp$inline_286$$<$s$jscomp$14$$.length;$JSCompiler_i$jscomp$inline_286$$++)$JSCompiler_inline_result$jscomp$279_JSCompiler_scripts$jscomp$inline_284$$.push($s$jscomp$14$$[$JSCompiler_i$jscomp$inline_286$$].getAttribute("custom-element"))}else $JSCompiler_inline_result$jscomp$279_JSCompiler_scripts$jscomp$inline_284$$=
[];$element$jscomp$35$$=$JSCompiler_inline_result$jscomp$279_JSCompiler_scripts$jscomp$inline_284$$.includes("amp-geo")?$getService$$module$src$service$$($element$jscomp$35$$,"extensions").waitForExtension($element$jscomp$35$$,"amp-geo"):Promise.resolve();return $element$jscomp$35$$}).then(function(){return $getServicePromiseOrNullInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($element$jscomp$35$$),"geo")})};function $ConsentStateManager$$module$extensions$amp_consent$0_1$consent_state_manager$$($ampdoc$jscomp$11$$){this.$ampdoc_$=$ampdoc$jscomp$11$$;this.$consentReadyResolver_$=this.$consentReadyPromise_$=this.$consentChangeHandler_$=this.$instance_$=this.$instanceId_$=null}$JSCompiler_prototypeAlias$$=$ConsentStateManager$$module$extensions$amp_consent$0_1$consent_state_manager$$.prototype;
$JSCompiler_prototypeAlias$$.registerConsentInstance=function($instanceId$$,$config$jscomp$7$$){this.$instance_$?$dev$$module$src$log$$().error("CONSENT-STATE-MANAGER","Cannot register consent instance %s, instance %s has already been registered.",$instanceId$$,this.$instanceId_$):(this.$instanceId_$=$instanceId$$,this.$instance_$=new $ConsentInstance$$module$extensions$amp_consent$0_1$consent_state_manager$$(this.$ampdoc_$,$instanceId$$,$config$jscomp$7$$),this.$consentReadyResolver_$&&(this.$consentReadyResolver_$(),
this.$consentReadyResolver_$=null))};$JSCompiler_prototypeAlias$$.updateConsentInstanceState=function($state$jscomp$4$$,$consentStr$jscomp$1$$){this.$instance_$?(this.$instance_$.update($state$jscomp$4$$,$consentStr$jscomp$1$$),this.$consentChangeHandler_$&&this.$consentChangeHandler_$($constructConsentInfo$$module$extensions$amp_consent$0_1$consent_info$$($state$jscomp$4$$,$consentStr$jscomp$1$$))):$dev$$module$src$log$$().error("CONSENT-STATE-MANAGER","instance not registered")};
$JSCompiler_prototypeAlias$$.getConsentInstanceInfo=function(){return this.$instance_$.get()};$JSCompiler_prototypeAlias$$.onConsentStateChange=function($handler$jscomp$7$$){this.$consentChangeHandler_$=$handler$jscomp$7$$;this.getConsentInstanceInfo().then(function($info$jscomp$4$$){$handler$jscomp$7$$($info$jscomp$4$$)})};$JSCompiler_prototypeAlias$$.setConsentInstanceSharedData=function($sharedDataPromise$$){this.$instance_$.sharedDataPromise=$sharedDataPromise$$};
$JSCompiler_prototypeAlias$$.getConsentInstanceSharedData=function(){return this.$instance_$.sharedDataPromise};$JSCompiler_prototypeAlias$$.whenConsentReady=function(){if(this.$instance_$)return Promise.resolve();if(!this.$consentReadyPromise_$){var $deferred$jscomp$2$$=new $Deferred$$module$src$utils$promise$$;this.$consentReadyPromise_$=$deferred$jscomp$2$$.promise;this.$consentReadyResolver_$=$deferred$jscomp$2$$.resolve}return this.$consentReadyPromise_$};
function $ConsentInstance$$module$extensions$amp_consent$0_1$consent_state_manager$$($ampdoc$jscomp$12$$,$id$jscomp$35$$,$config$jscomp$8$$){this.$ampdoc_$=$ampdoc$jscomp$12$$;this.$isAmpConsentV2ExperimentOn_$=$isExperimentOn$$module$src$experiments$$($ampdoc$jscomp$12$$.win);this.$id_$=$id$jscomp$35$$;this.sharedDataPromise=null;this.$storagePromise_$=$getServicePromiseForDoc$$module$src$service$$($ampdoc$jscomp$12$$,"storage");this.$localConsentInfo_$=null;this.$storageKey_$="amp-consent:"+$id$jscomp$35$$;
(this.$onUpdateHref_$=$config$jscomp$8$$.onUpdateHref||null)&&$assertHttpsUrl$$module$src$url$$(this.$onUpdateHref_$,"AMP-CONSENT")}
$ConsentInstance$$module$extensions$amp_consent$0_1$consent_state_manager$$.prototype.update=function($state$jscomp$5$$,$consentString$$){var $localState$$=this.$localConsentInfo_$&&this.$localConsentInfo_$.consentState,$localConsentStr$$=this.$localConsentInfo_$&&this.$localConsentInfo_$.consentString,$JSCompiler_newState$jscomp$inline_153$$=$state$jscomp$5$$,$JSCompiler_previousState$jscomp$inline_154$$=$localState$$;$isEnumValue$$module$src$types$$($CONSENT_ITEM_STATE$$module$extensions$amp_consent$0_1$consent_info$$,
$JSCompiler_newState$jscomp$inline_153$$)||($JSCompiler_newState$jscomp$inline_153$$=5);var $calculatedState$$=3==$JSCompiler_newState$jscomp$inline_153$$||5==$JSCompiler_newState$jscomp$inline_153$$?$JSCompiler_previousState$jscomp$inline_154$$||5:4==$JSCompiler_newState$jscomp$inline_153$$&&$JSCompiler_previousState$jscomp$inline_154$$&&5!=$JSCompiler_previousState$jscomp$inline_154$$?$JSCompiler_previousState$jscomp$inline_154$$:$JSCompiler_newState$jscomp$inline_153$$;if(3===$state$jscomp$5$$)this.$localConsentInfo_$=
$constructConsentInfo$$module$extensions$amp_consent$0_1$consent_info$$($calculatedState$$,$localConsentStr$$);else{var $newConsentInfo$$=$constructConsentInfo$$module$extensions$amp_consent$0_1$consent_info$$($calculatedState$$,$consentString$$),$oldConsentInfo$$=this.$localConsentInfo_$;this.$localConsentInfo_$=$newConsentInfo$$;$isConsentInfoStoredValueSame$$module$extensions$amp_consent$0_1$consent_info$$($newConsentInfo$$,$oldConsentInfo$$)||$JSCompiler_StaticMethods_updateStoredValue_$$(this,
$newConsentInfo$$)}};
function $JSCompiler_StaticMethods_updateStoredValue_$$($JSCompiler_StaticMethods_updateStoredValue_$self$$,$consentInfo$jscomp$1$$){$JSCompiler_StaticMethods_updateStoredValue_$self$$.$storagePromise_$.then(function($storage$$){if($isConsentInfoStoredValueSame$$module$extensions$amp_consent$0_1$consent_info$$($consentInfo$jscomp$1$$,$JSCompiler_StaticMethods_updateStoredValue_$self$$.$localConsentInfo_$)){var $JSCompiler_inline_result$jscomp$25_JSCompiler_obj$jscomp$inline_158_consentStr$jscomp$2_value$jscomp$101$$=$consentInfo$jscomp$1$$.consentString;
if($JSCompiler_inline_result$jscomp$25_JSCompiler_obj$jscomp$inline_158_consentStr$jscomp$2_value$jscomp$101$$&&150<$JSCompiler_inline_result$jscomp$25_JSCompiler_obj$jscomp$inline_158_consentStr$jscomp$2_value$jscomp$101$$.length)$user$$module$src$log$$().error("CONSENT-STATE-MANAGER","Cannot store consentString which length exceeds 150 Previous stored consentInfo will be cleared"),$storage$$.remove($JSCompiler_StaticMethods_updateStoredValue_$self$$.$storageKey_$);else{a:if($JSCompiler_StaticMethods_updateStoredValue_$self$$.$isAmpConsentV2ExperimentOn_$||
$consentInfo$jscomp$1$$.consentString||void 0!==$consentInfo$jscomp$1$$.isDirty){$JSCompiler_inline_result$jscomp$25_JSCompiler_obj$jscomp$inline_158_consentStr$jscomp$2_value$jscomp$101$$=$map$$module$src$utils$object$$();var $JSCompiler_consentState$jscomp$inline_159$$=$consentInfo$jscomp$1$$.consentState;if(1==$JSCompiler_consentState$jscomp$inline_159$$)$JSCompiler_inline_result$jscomp$25_JSCompiler_obj$jscomp$inline_158_consentStr$jscomp$2_value$jscomp$101$$.s=1;else if(2==$JSCompiler_consentState$jscomp$inline_159$$)$JSCompiler_inline_result$jscomp$25_JSCompiler_obj$jscomp$inline_158_consentStr$jscomp$2_value$jscomp$101$$.s=
0;else{$JSCompiler_inline_result$jscomp$25_JSCompiler_obj$jscomp$inline_158_consentStr$jscomp$2_value$jscomp$101$$=null;break a}$consentInfo$jscomp$1$$.consentString&&($JSCompiler_inline_result$jscomp$25_JSCompiler_obj$jscomp$inline_158_consentStr$jscomp$2_value$jscomp$101$$.r=$consentInfo$jscomp$1$$.consentString);!0===$consentInfo$jscomp$1$$.isDirty&&($JSCompiler_inline_result$jscomp$25_JSCompiler_obj$jscomp$inline_158_consentStr$jscomp$2_value$jscomp$101$$.d=1);$JSCompiler_inline_result$jscomp$25_JSCompiler_obj$jscomp$inline_158_consentStr$jscomp$2_value$jscomp$101$$=
0==Object.keys($JSCompiler_inline_result$jscomp$25_JSCompiler_obj$jscomp$inline_158_consentStr$jscomp$2_value$jscomp$101$$)?null:$JSCompiler_inline_result$jscomp$25_JSCompiler_obj$jscomp$inline_158_consentStr$jscomp$2_value$jscomp$101$$}else $JSCompiler_inline_result$jscomp$25_JSCompiler_obj$jscomp$inline_158_consentStr$jscomp$2_value$jscomp$101$$=$calculateLegacyStateValue$$module$extensions$amp_consent$0_1$consent_info$$($consentInfo$jscomp$1$$.consentState);null!=$JSCompiler_inline_result$jscomp$25_JSCompiler_obj$jscomp$inline_158_consentStr$jscomp$2_value$jscomp$101$$&&
($storage$$.setNonBoolean($JSCompiler_StaticMethods_updateStoredValue_$self$$.$storageKey_$,$JSCompiler_inline_result$jscomp$25_JSCompiler_obj$jscomp$inline_158_consentStr$jscomp$2_value$jscomp$101$$),$JSCompiler_StaticMethods_sendUpdateHrefRequest_$$($JSCompiler_StaticMethods_updateStoredValue_$self$$,$consentInfo$jscomp$1$$))}}})}
$ConsentInstance$$module$extensions$amp_consent$0_1$consent_state_manager$$.prototype.get=function(){var $$jscomp$this$jscomp$10$$=this;return this.$localConsentInfo_$?Promise.resolve(this.$localConsentInfo_$):this.$storagePromise_$.then(function($storage$jscomp$1$$){return $storage$jscomp$1$$.get($$jscomp$this$jscomp$10$$.$storageKey_$)}).then(function($storedValue$$){if($$jscomp$this$jscomp$10$$.$localConsentInfo_$)return $$jscomp$this$jscomp$10$$.$localConsentInfo_$;var $JSCompiler_inline_result$jscomp$23_JSCompiler_state$jscomp$inline_247_JSCompiler_value$jscomp$inline_161$$=
$storedValue$$;if(void 0===$JSCompiler_inline_result$jscomp$23_JSCompiler_state$jscomp$inline_247_JSCompiler_value$jscomp$inline_161$$)$JSCompiler_inline_result$jscomp$23_JSCompiler_state$jscomp$inline_247_JSCompiler_value$jscomp$inline_161$$=$constructConsentInfo$$module$extensions$amp_consent$0_1$consent_info$$(5,void 0,void 0);else if("boolean"===typeof $JSCompiler_inline_result$jscomp$23_JSCompiler_state$jscomp$inline_247_JSCompiler_value$jscomp$inline_161$$)$JSCompiler_inline_result$jscomp$23_JSCompiler_state$jscomp$inline_247_JSCompiler_value$jscomp$inline_161$$=
$convertValueToState$$module$extensions$amp_consent$0_1$consent_info$$($JSCompiler_inline_result$jscomp$23_JSCompiler_state$jscomp$inline_247_JSCompiler_value$jscomp$inline_161$$),$JSCompiler_inline_result$jscomp$23_JSCompiler_state$jscomp$inline_247_JSCompiler_value$jscomp$inline_161$$=$constructConsentInfo$$module$extensions$amp_consent$0_1$consent_info$$($JSCompiler_inline_result$jscomp$23_JSCompiler_state$jscomp$inline_247_JSCompiler_value$jscomp$inline_161$$,void 0,void 0);else{if(!$isObject$$module$src$types$$($JSCompiler_inline_result$jscomp$23_JSCompiler_state$jscomp$inline_247_JSCompiler_value$jscomp$inline_161$$))throw $dev$$module$src$log$$().createError("Invalid stored consent value");
var $JSCompiler_consentState$jscomp$inline_162$$=$convertValueToState$$module$extensions$amp_consent$0_1$consent_info$$($JSCompiler_inline_result$jscomp$23_JSCompiler_state$jscomp$inline_247_JSCompiler_value$jscomp$inline_161$$.s);$JSCompiler_inline_result$jscomp$23_JSCompiler_state$jscomp$inline_247_JSCompiler_value$jscomp$inline_161$$=$constructConsentInfo$$module$extensions$amp_consent$0_1$consent_info$$($JSCompiler_consentState$jscomp$inline_162$$,$JSCompiler_inline_result$jscomp$23_JSCompiler_state$jscomp$inline_247_JSCompiler_value$jscomp$inline_161$$.r,
$JSCompiler_inline_result$jscomp$23_JSCompiler_state$jscomp$inline_247_JSCompiler_value$jscomp$inline_161$$.d&&1===$JSCompiler_inline_result$jscomp$23_JSCompiler_state$jscomp$inline_247_JSCompiler_value$jscomp$inline_161$$.d)}$$jscomp$this$jscomp$10$$.$localConsentInfo_$=$JSCompiler_inline_result$jscomp$23_JSCompiler_state$jscomp$inline_247_JSCompiler_value$jscomp$inline_161$$;return $$jscomp$this$jscomp$10$$.$localConsentInfo_$}).catch(function($$jscomp$this$jscomp$10$$){$dev$$module$src$log$$().error("CONSENT-STATE-MANAGER",
"Failed to read storage",$$jscomp$this$jscomp$10$$);return $constructConsentInfo$$module$extensions$amp_consent$0_1$consent_info$$(5)})};
function $JSCompiler_StaticMethods_sendUpdateHrefRequest_$$($JSCompiler_StaticMethods_sendUpdateHrefRequest_$self$$,$consentInfo$jscomp$3$$){if($JSCompiler_StaticMethods_sendUpdateHrefRequest_$self$$.$onUpdateHref_$){var $consentState$jscomp$4$$=$calculateLegacyStateValue$$module$extensions$amp_consent$0_1$consent_info$$($consentInfo$jscomp$3$$.consentState),$cidPromise$$=$getServicePromiseForDoc$$module$src$service$$($JSCompiler_StaticMethods_sendUpdateHrefRequest_$self$$.$ampdoc_$,"cid").then(function($JSCompiler_StaticMethods_sendUpdateHrefRequest_$self$$){return $JSCompiler_StaticMethods_sendUpdateHrefRequest_$self$$.get({scope:"AMP-CONSENT",
createCookieIfNotPresent:!0},Promise.resolve())});$cidPromise$$.then(function($cidPromise$$){var $userId$$={consentInstanceId:$JSCompiler_StaticMethods_sendUpdateHrefRequest_$self$$.$id_$,ampUserId:$cidPromise$$};null!=$consentState$jscomp$4$$&&($userId$$.consentState=$consentState$jscomp$4$$);$consentInfo$jscomp$3$$.consentString&&($userId$$.consentString=$consentInfo$jscomp$3$$.consentString);var $init$jscomp$2$$={credentials:"include",method:"POST",body:$userId$$,ampCors:!1};$getServiceForDoc$$module$src$service$$($JSCompiler_StaticMethods_sendUpdateHrefRequest_$self$$.$ampdoc_$,
"viewer").whenFirstVisible().then(function(){$getService$$module$src$service$$($JSCompiler_StaticMethods_sendUpdateHrefRequest_$self$$.$ampdoc_$.win,"xhr").fetchJson($JSCompiler_StaticMethods_sendUpdateHrefRequest_$self$$.$onUpdateHref_$,$init$jscomp$2$$)})})}};var $container$$module$src$static_template$$;var $propertyNameCache$$module$src$style$$,$vendorPrefixes$$module$src$style$$="Webkit webkit Moz moz ms O o".split(" ");
function $getVendorJsPropertyName$$module$src$style$$($style$jscomp$1$$,$camelCase$jscomp$1$$,$opt_bypassCache$$){if($startsWith$$module$src$string$$($camelCase$jscomp$1$$,"--"))return $camelCase$jscomp$1$$;$propertyNameCache$$module$src$style$$||($propertyNameCache$$module$src$style$$=$map$$module$src$utils$object$$());var $propertyName$jscomp$9$$=$propertyNameCache$$module$src$style$$[$camelCase$jscomp$1$$];if(!$propertyName$jscomp$9$$||$opt_bypassCache$$){$propertyName$jscomp$9$$=$camelCase$jscomp$1$$;
if(void 0===$style$jscomp$1$$[$camelCase$jscomp$1$$]){var $JSCompiler_inline_result$jscomp$43_titleCase$jscomp$1$$=$camelCase$jscomp$1$$.charAt(0).toUpperCase()+$camelCase$jscomp$1$$.slice(1);a:{for(var $JSCompiler_i$jscomp$inline_166$$=0;$JSCompiler_i$jscomp$inline_166$$<$vendorPrefixes$$module$src$style$$.length;$JSCompiler_i$jscomp$inline_166$$++){var $JSCompiler_propertyName$jscomp$inline_167$$=$vendorPrefixes$$module$src$style$$[$JSCompiler_i$jscomp$inline_166$$]+$JSCompiler_inline_result$jscomp$43_titleCase$jscomp$1$$;
if(void 0!==$style$jscomp$1$$[$JSCompiler_propertyName$jscomp$inline_167$$]){$JSCompiler_inline_result$jscomp$43_titleCase$jscomp$1$$=$JSCompiler_propertyName$jscomp$inline_167$$;break a}}$JSCompiler_inline_result$jscomp$43_titleCase$jscomp$1$$=""}var $prefixedPropertyName$$=$JSCompiler_inline_result$jscomp$43_titleCase$jscomp$1$$;void 0!==$style$jscomp$1$$[$prefixedPropertyName$$]&&($propertyName$jscomp$9$$=$prefixedPropertyName$$)}$opt_bypassCache$$||($propertyNameCache$$module$src$style$$[$camelCase$jscomp$1$$]=
$propertyName$jscomp$9$$)}return $propertyName$jscomp$9$$}
function $setStyle$$module$src$style$$($element$jscomp$63$$,$property$jscomp$4_propertyName$jscomp$10$$,$value$jscomp$102$$){var $opt_units$$;($property$jscomp$4_propertyName$jscomp$10$$=$getVendorJsPropertyName$$module$src$style$$($element$jscomp$63$$.style,$property$jscomp$4_propertyName$jscomp$10$$,void 0))&&($element$jscomp$63$$.style[$property$jscomp$4_propertyName$jscomp$10$$]=$opt_units$$?$value$jscomp$102$$+$opt_units$$:$value$jscomp$102$$)}
function $toggle$$module$src$style$$($element$jscomp$66$$,$opt_display$$){void 0===$opt_display$$&&($opt_display$$=$element$jscomp$66$$.hasAttribute("hidden"));$opt_display$$?$element$jscomp$66$$.removeAttribute("hidden"):$element$jscomp$66$$.setAttribute("hidden","")};var $$jscomp$templatelit$0$$=['\n      <svg viewBox="0 0 40 40">\n        <defs>\n          <linearGradient id="grad">\n            <stop stop-color="rgb(105, 105, 105)"></stop>\n            <stop offset="100%"\n            stop-color="rgb(105, 105, 105)"\n            stop-opacity="0"></stop>\n          </linearGradient>\n        </defs>\n        <path d="M11,4.4 A18,18, 0,1,0, 38,20" stroke="url(#grad)"></path>\n      </svg>'];$$jscomp$templatelit$0$$.raw=$$jscomp$templatelit$0$$.slice();
function $ConsentUI$$module$extensions$amp_consent$0_1$consent_ui$$($baseInstance$jscomp$2$$,$config$jscomp$9$$,$opt_postPromptUI$$){this.$baseInstance_$=$baseInstance$jscomp$2$$;this.$isFullscreen_$=this.$isIframeVisible_$=this.$isVisible_$=this.$isPostPrompt_$=this.$isCreatedIframe_$=!1;this.$ui_$=null;this.$overlayEnabled_$=$isExperimentOn$$module$src$experiments$$($baseInstance$jscomp$2$$.win)&&$config$jscomp$9$$.uiConfig&&!0===$config$jscomp$9$$.uiConfig.overlay;this.$scrollEnabled_$=!0;this.$elementWithFocusBeforeShowing_$=
this.$maskElement_$=null;this.$ampdoc_$=$baseInstance$jscomp$2$$.getAmpDoc();this.$viewport_$=$getServiceForDoc$$module$src$service$$(this.$ampdoc_$,"viewport");this.$parent_$=$baseInstance$jscomp$2$$.element;this.$win_$=$baseInstance$jscomp$2$$.win;this.$document_$=this.$win_$.document;this.$placeholder_$=this.$clientConfig_$=this.$iframeReady_$=null;this.$initialHeight_$="30vh";this.$enableBorder_$=!0;this.$boundHandleIframeMessages_$=this.$handleIframeMessages_$.bind(this);this.$init_$($config$jscomp$9$$,
$opt_postPromptUI$$)}
$ConsentUI$$module$extensions$amp_consent$0_1$consent_ui$$.prototype.$init_$=function($config$jscomp$10$$,$JSCompiler_iframe$jscomp$inline_171_JSCompiler_placeholder$jscomp$inline_176_opt_postPromptUI$jscomp$1$$){if($JSCompiler_iframe$jscomp$inline_171_JSCompiler_placeholder$jscomp$inline_176_opt_postPromptUI$jscomp$1$$){var $postPromptUI$$=this.$ampdoc_$.getElementById($JSCompiler_iframe$jscomp$inline_171_JSCompiler_placeholder$jscomp$inline_176_opt_postPromptUI$jscomp$1$$);$postPromptUI$$||$user$$module$src$log$$().error("amp-consent-ui",
"postPromptUI element with id=%s not found",$JSCompiler_iframe$jscomp$inline_171_JSCompiler_placeholder$jscomp$inline_176_opt_postPromptUI$jscomp$1$$);this.$ui_$=$postPromptUI$$;this.$isPostPrompt_$=!0}else{var $promptUI$$=$config$jscomp$10$$.promptUI,$promptUISrc$$=$config$jscomp$10$$.promptUISrc;if($promptUI$$){var $promptElement$$=this.$ampdoc_$.getElementById($promptUI$$);$promptElement$$&&this.$parent_$.contains($promptElement$$)||$user$$module$src$log$$().error("amp-consent-ui","child element of <amp-consent> with promptUI id %s not found",
$promptUI$$);this.$ui_$=$promptElement$$}else if($promptUISrc$$&&$isExperimentOn$$module$src$experiments$$(this.$win_$)){this.$isCreatedIframe_$=!0;$JSCompiler_iframe$jscomp$inline_171_JSCompiler_placeholder$jscomp$inline_176_opt_postPromptUI$jscomp$1$$=this.$parent_$.ownerDocument.createElement("iframe");var $JSCompiler_doc$jscomp$inline_256_JSCompiler_el$jscomp$inline_295_JSCompiler_sandbox$jscomp$inline_172$$="allow-scripts";$JSCompiler_iframe$jscomp$inline_171_JSCompiler_placeholder$jscomp$inline_176_opt_postPromptUI$jscomp$1$$.src=
$assertHttpsUrl$$module$src$url$$($promptUISrc$$,this.$parent_$);var $JSCompiler_src$jscomp$inline_250_JSCompiler_srcUrl$jscomp$inline_252$$=$JSCompiler_iframe$jscomp$inline_171_JSCompiler_placeholder$jscomp$inline_176_opt_postPromptUI$jscomp$1$$.src;a:{var $JSCompiler_ampdoc$jscomp$inline_314_JSCompiler_containerUrl$jscomp$inline_253_JSCompiler_element$jscomp$inline_288_JSCompiler_embedService$jscomp$inline_292_JSCompiler_holder$jscomp$inline_315_JSCompiler_inline_result$jscomp$278_JSCompiler_urlService$jscomp$inline_251$$=
this.$parent_$;var $JSCompiler_win$jscomp$inline_290$$=$JSCompiler_ampdoc$jscomp$inline_314_JSCompiler_containerUrl$jscomp$inline_253_JSCompiler_element$jscomp$inline_288_JSCompiler_embedService$jscomp$inline_292_JSCompiler_holder$jscomp$inline_315_JSCompiler_inline_result$jscomp$278_JSCompiler_urlService$jscomp$inline_251$$.ownerDocument.defaultView;if($JSCompiler_win$jscomp$inline_290$$!=($JSCompiler_win$jscomp$inline_290$$.__AMP_TOP||$JSCompiler_win$jscomp$inline_290$$)){if($isServiceRegistered$$module$src$service$$($JSCompiler_win$jscomp$inline_290$$,
"url")&&($JSCompiler_ampdoc$jscomp$inline_314_JSCompiler_containerUrl$jscomp$inline_253_JSCompiler_element$jscomp$inline_288_JSCompiler_embedService$jscomp$inline_292_JSCompiler_holder$jscomp$inline_315_JSCompiler_inline_result$jscomp$278_JSCompiler_urlService$jscomp$inline_251$$=$getServiceInternal$$module$src$service$$($JSCompiler_win$jscomp$inline_290$$,"url")))break a;$JSCompiler_ampdoc$jscomp$inline_314_JSCompiler_containerUrl$jscomp$inline_253_JSCompiler_element$jscomp$inline_288_JSCompiler_embedService$jscomp$inline_292_JSCompiler_holder$jscomp$inline_315_JSCompiler_inline_result$jscomp$278_JSCompiler_urlService$jscomp$inline_251$$=
null}else $JSCompiler_ampdoc$jscomp$inline_314_JSCompiler_containerUrl$jscomp$inline_253_JSCompiler_element$jscomp$inline_288_JSCompiler_embedService$jscomp$inline_292_JSCompiler_holder$jscomp$inline_315_JSCompiler_inline_result$jscomp$278_JSCompiler_urlService$jscomp$inline_251$$=$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_314_JSCompiler_containerUrl$jscomp$inline_253_JSCompiler_element$jscomp$inline_288_JSCompiler_embedService$jscomp$inline_292_JSCompiler_holder$jscomp$inline_315_JSCompiler_inline_result$jscomp$278_JSCompiler_urlService$jscomp$inline_251$$),
$JSCompiler_ampdoc$jscomp$inline_314_JSCompiler_containerUrl$jscomp$inline_253_JSCompiler_element$jscomp$inline_288_JSCompiler_embedService$jscomp$inline_292_JSCompiler_holder$jscomp$inline_315_JSCompiler_inline_result$jscomp$278_JSCompiler_urlService$jscomp$inline_251$$=$getAmpdocServiceHolder$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_314_JSCompiler_containerUrl$jscomp$inline_253_JSCompiler_element$jscomp$inline_288_JSCompiler_embedService$jscomp$inline_292_JSCompiler_holder$jscomp$inline_315_JSCompiler_inline_result$jscomp$278_JSCompiler_urlService$jscomp$inline_251$$),
$JSCompiler_ampdoc$jscomp$inline_314_JSCompiler_containerUrl$jscomp$inline_253_JSCompiler_element$jscomp$inline_288_JSCompiler_embedService$jscomp$inline_292_JSCompiler_holder$jscomp$inline_315_JSCompiler_inline_result$jscomp$278_JSCompiler_urlService$jscomp$inline_251$$=$isServiceRegistered$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_314_JSCompiler_containerUrl$jscomp$inline_253_JSCompiler_element$jscomp$inline_288_JSCompiler_embedService$jscomp$inline_292_JSCompiler_holder$jscomp$inline_315_JSCompiler_inline_result$jscomp$278_JSCompiler_urlService$jscomp$inline_251$$,
"url")?$getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_314_JSCompiler_containerUrl$jscomp$inline_253_JSCompiler_element$jscomp$inline_288_JSCompiler_embedService$jscomp$inline_292_JSCompiler_holder$jscomp$inline_315_JSCompiler_inline_result$jscomp$278_JSCompiler_urlService$jscomp$inline_251$$,"url"):null}$JSCompiler_src$jscomp$inline_250_JSCompiler_srcUrl$jscomp$inline_252$$=$JSCompiler_ampdoc$jscomp$inline_314_JSCompiler_containerUrl$jscomp$inline_253_JSCompiler_element$jscomp$inline_288_JSCompiler_embedService$jscomp$inline_292_JSCompiler_holder$jscomp$inline_315_JSCompiler_inline_result$jscomp$278_JSCompiler_urlService$jscomp$inline_251$$.parse($JSCompiler_src$jscomp$inline_250_JSCompiler_srcUrl$jscomp$inline_252$$);
$JSCompiler_ampdoc$jscomp$inline_314_JSCompiler_containerUrl$jscomp$inline_253_JSCompiler_element$jscomp$inline_288_JSCompiler_embedService$jscomp$inline_292_JSCompiler_holder$jscomp$inline_315_JSCompiler_inline_result$jscomp$278_JSCompiler_urlService$jscomp$inline_251$$=$JSCompiler_ampdoc$jscomp$inline_314_JSCompiler_containerUrl$jscomp$inline_253_JSCompiler_element$jscomp$inline_288_JSCompiler_embedService$jscomp$inline_292_JSCompiler_holder$jscomp$inline_315_JSCompiler_inline_result$jscomp$278_JSCompiler_urlService$jscomp$inline_251$$.parse(this.$ampdoc_$.getUrl());
$JSCompiler_src$jscomp$inline_250_JSCompiler_srcUrl$jscomp$inline_252$$.origin!=$JSCompiler_ampdoc$jscomp$inline_314_JSCompiler_containerUrl$jscomp$inline_253_JSCompiler_element$jscomp$inline_288_JSCompiler_embedService$jscomp$inline_292_JSCompiler_holder$jscomp$inline_315_JSCompiler_inline_result$jscomp$278_JSCompiler_urlService$jscomp$inline_251$$.origin&&($JSCompiler_doc$jscomp$inline_256_JSCompiler_el$jscomp$inline_295_JSCompiler_sandbox$jscomp$inline_172$$="allow-scripts allow-same-origin");
$JSCompiler_iframe$jscomp$inline_171_JSCompiler_placeholder$jscomp$inline_176_opt_postPromptUI$jscomp$1$$.setAttribute("sandbox",$JSCompiler_doc$jscomp$inline_256_JSCompiler_el$jscomp$inline_295_JSCompiler_sandbox$jscomp$inline_172$$);$JSCompiler_iframe$jscomp$inline_171_JSCompiler_placeholder$jscomp$inline_176_opt_postPromptUI$jscomp$1$$.classList.add("i-amphtml-consent-ui-fill");this.$ui_$=$JSCompiler_iframe$jscomp$inline_171_JSCompiler_placeholder$jscomp$inline_176_opt_postPromptUI$jscomp$1$$;
$JSCompiler_iframe$jscomp$inline_171_JSCompiler_placeholder$jscomp$inline_176_opt_postPromptUI$jscomp$1$$=this.$parent_$.ownerDocument.createElement("placeholder");$toggle$$module$src$style$$($JSCompiler_iframe$jscomp$inline_171_JSCompiler_placeholder$jscomp$inline_176_opt_postPromptUI$jscomp$1$$,!1);$JSCompiler_iframe$jscomp$inline_171_JSCompiler_placeholder$jscomp$inline_176_opt_postPromptUI$jscomp$1$$.classList.add("i-amphtml-consent-ui-placeholder");$JSCompiler_doc$jscomp$inline_256_JSCompiler_el$jscomp$inline_295_JSCompiler_sandbox$jscomp$inline_172$$=
$JSCompiler_iframe$jscomp$inline_171_JSCompiler_placeholder$jscomp$inline_176_opt_postPromptUI$jscomp$1$$.ownerDocument||$JSCompiler_iframe$jscomp$inline_171_JSCompiler_placeholder$jscomp$inline_176_opt_postPromptUI$jscomp$1$$;$container$$module$src$static_template$$&&$container$$module$src$static_template$$.ownerDocument===$JSCompiler_doc$jscomp$inline_256_JSCompiler_el$jscomp$inline_295_JSCompiler_sandbox$jscomp$inline_172$$||($container$$module$src$static_template$$=$JSCompiler_doc$jscomp$inline_256_JSCompiler_el$jscomp$inline_295_JSCompiler_sandbox$jscomp$inline_172$$.createElement("div"));
$container$$module$src$static_template$$.innerHTML=$$jscomp$templatelit$0$$[0];$JSCompiler_doc$jscomp$inline_256_JSCompiler_el$jscomp$inline_295_JSCompiler_sandbox$jscomp$inline_172$$=$container$$module$src$static_template$$.firstElementChild;$container$$module$src$static_template$$.removeChild($JSCompiler_doc$jscomp$inline_256_JSCompiler_el$jscomp$inline_295_JSCompiler_sandbox$jscomp$inline_172$$);$JSCompiler_iframe$jscomp$inline_171_JSCompiler_placeholder$jscomp$inline_176_opt_postPromptUI$jscomp$1$$.appendChild($JSCompiler_doc$jscomp$inline_256_JSCompiler_el$jscomp$inline_295_JSCompiler_sandbox$jscomp$inline_172$$);
this.$placeholder_$=$JSCompiler_iframe$jscomp$inline_171_JSCompiler_placeholder$jscomp$inline_176_opt_postPromptUI$jscomp$1$$;this.$clientConfig_$=$config$jscomp$10$$.clientConfig||null}}};
$ConsentUI$$module$extensions$amp_consent$0_1$consent_ui$$.prototype.show=function(){var $$jscomp$this$jscomp$12$$=this;if(this.$ui_$){$toggle$$module$src$style$$(this.$parent_$,!0);var $classList$$=this.$parent_$.classList;$classList$$.add("amp-active");$classList$$.remove("amp-hidden");this.$baseInstance_$.getViewport().addToFixedLayer(this.$parent_$);if(this.$isCreatedIframe_$)$JSCompiler_StaticMethods_loadIframe_$$(this).then(function(){$$jscomp$this$jscomp$12$$.$baseInstance_$.mutateElement(function(){$$jscomp$this$jscomp$12$$.$isPostPrompt_$||
($$jscomp$this$jscomp$12$$.$elementWithFocusBeforeShowing_$=$$jscomp$this$jscomp$12$$.$document_$.activeElement);$JSCompiler_StaticMethods_maybeShowOverlay_$$($$jscomp$this$jscomp$12$$);$JSCompiler_StaticMethods_showIframe_$$($$jscomp$this$jscomp$12$$);$$jscomp$this$jscomp$12$$.$isPostPrompt_$||$$jscomp$this$jscomp$12$$.$ui_$.focus()})});else{var $show$$=function(){$$jscomp$this$jscomp$12$$.$ui_$&&($toggle$$module$src$style$$($$jscomp$this$jscomp$12$$.$ui_$,!0),$$jscomp$this$jscomp$12$$.$isPostPrompt_$||
($$jscomp$this$jscomp$12$$.$elementWithFocusBeforeShowing_$=$$jscomp$this$jscomp$12$$.$document_$.activeElement,$JSCompiler_StaticMethods_maybeShowOverlay_$$($$jscomp$this$jscomp$12$$),$$jscomp$this$jscomp$12$$.$baseInstance_$.scheduleLayout($$jscomp$this$jscomp$12$$.$ui_$),$$jscomp$this$jscomp$12$$.$ui_$.focus()))};$isAmpElement$$module$src$dom$$(this.$ui_$)?this.$ui_$.whenBuilt().then(function(){return $show$$()}):$show$$()}this.$isVisible_$=!0}};
$ConsentUI$$module$extensions$amp_consent$0_1$consent_ui$$.prototype.hide=function(){var $$jscomp$this$jscomp$13$$=this;this.$ui_$&&this.$baseInstance_$.mutateElement(function(){if($$jscomp$this$jscomp$13$$.$isCreatedIframe_$){var $JSCompiler_classList$jscomp$inline_180_JSCompiler_element$jscomp$inline_258_classList$jscomp$1$$=$$jscomp$this$jscomp$13$$.$parent_$.classList;$JSCompiler_classList$jscomp$inline_180_JSCompiler_element$jscomp$inline_258_classList$jscomp$1$$.remove("i-amphtml-consent-ui-iframe-active");
$$jscomp$this$jscomp$13$$.$win_$.removeEventListener("message",$$jscomp$this$jscomp$13$$.$boundHandleIframeMessages_$);$JSCompiler_classList$jscomp$inline_180_JSCompiler_element$jscomp$inline_258_classList$jscomp$1$$.remove("i-amphtml-consent-ui-iframe-fullscreen");$$jscomp$this$jscomp$13$$.$isFullscreen_$=!1;$JSCompiler_classList$jscomp$inline_180_JSCompiler_element$jscomp$inline_258_classList$jscomp$1$$.remove("i-amphtml-consent-ui-in");$$jscomp$this$jscomp$13$$.$isIframeVisible_$=!1;$$jscomp$this$jscomp$13$$.$ui_$.removeAttribute("name");
$JSCompiler_classList$jscomp$inline_180_JSCompiler_element$jscomp$inline_258_classList$jscomp$1$$=$$jscomp$this$jscomp$13$$.$ui_$;$JSCompiler_classList$jscomp$inline_180_JSCompiler_element$jscomp$inline_258_classList$jscomp$1$$.parentElement&&$JSCompiler_classList$jscomp$inline_180_JSCompiler_element$jscomp$inline_258_classList$jscomp$1$$.parentElement.removeChild($JSCompiler_classList$jscomp$inline_180_JSCompiler_element$jscomp$inline_258_classList$jscomp$1$$)}$$jscomp$this$jscomp$13$$.$isPostPrompt_$||
($JSCompiler_classList$jscomp$inline_180_JSCompiler_element$jscomp$inline_258_classList$jscomp$1$$=$$jscomp$this$jscomp$13$$.$parent_$.classList,$JSCompiler_classList$jscomp$inline_180_JSCompiler_element$jscomp$inline_258_classList$jscomp$1$$.remove("amp-active"),$JSCompiler_classList$jscomp$inline_180_JSCompiler_element$jscomp$inline_258_classList$jscomp$1$$.add("amp-hidden"));$$jscomp$this$jscomp$13$$.$overlayEnabled_$&&($$jscomp$this$jscomp$13$$.$maskElement_$&&$toggle$$module$src$style$$($$jscomp$this$jscomp$13$$.$maskElement_$,
!1),$JSCompiler_StaticMethods_enableScroll_$$($$jscomp$this$jscomp$13$$));$JSCompiler_StaticMethods_enableScroll_$$($$jscomp$this$jscomp$13$$);$JSCompiler_StaticMethods_resetAnimationStyles_$$($$jscomp$this$jscomp$13$$);$$jscomp$this$jscomp$13$$.$baseInstance_$.getViewport().removeFromFixedLayer($$jscomp$this$jscomp$13$$.$parent_$);$toggle$$module$src$style$$($$jscomp$this$jscomp$13$$.$ui_$,!1);$$jscomp$this$jscomp$13$$.$isVisible_$=!1;$$jscomp$this$jscomp$13$$.$elementWithFocusBeforeShowing_$?($$jscomp$this$jscomp$13$$.$elementWithFocusBeforeShowing_$.focus(),
$$jscomp$this$jscomp$13$$.$elementWithFocusBeforeShowing_$=null):0<$$jscomp$this$jscomp$13$$.$win_$.document.body.children.length&&$$jscomp$this$jscomp$13$$.$win_$.document.body.children[0].focus()})};
function $JSCompiler_StaticMethods_handleReady_$$($JSCompiler_StaticMethods_handleReady_$self$$,$data$jscomp$57$$){$JSCompiler_StaticMethods_handleReady_$self$$.$initialHeight_$="30vh";$JSCompiler_StaticMethods_handleReady_$self$$.$enableBorder_$=!0;if($data$jscomp$57$$.initialHeight)if("string"===typeof $data$jscomp$57$$.initialHeight&&0<=$data$jscomp$57$$.initialHeight.indexOf("vh")){var $dataHeight$$=parseInt($data$jscomp$57$$.initialHeight,10);10<=$dataHeight$$&&60>=$dataHeight$$?$JSCompiler_StaticMethods_handleReady_$self$$.$initialHeight_$=
$dataHeight$$+"vh":$user$$module$src$log$$().error("amp-consent-ui","Inavlid initial height: "+$data$jscomp$57$$.initialHeight+".Minimum: 10vh. Maximum: 60vh.")}else $user$$module$src$log$$().error("amp-consent-ui","Inavlid initial height: "+$data$jscomp$57$$.initialHeight+'.Must be a string in "vh" units.');!1===$data$jscomp$57$$.border&&($JSCompiler_StaticMethods_handleReady_$self$$.$enableBorder_$=!1);$JSCompiler_StaticMethods_handleReady_$self$$.$iframeReady_$.resolve()}
function $JSCompiler_StaticMethods_getClientInfoPromise_$$($JSCompiler_StaticMethods_getClientInfoPromise_$self$$){var $consentStatePromise$$=$getServicePromiseForDoc$$module$src$service$$($JSCompiler_StaticMethods_getClientInfoPromise_$self$$.$ampdoc_$,"consentStateManager");return $consentStatePromise$$.then(function($consentStatePromise$$){return $consentStatePromise$$.getConsentInstanceInfo().then(function($consentStatePromise$$){var $consentStateManager$$=$consentStatePromise$$.consentState;
return $dict$$module$src$utils$object$$({clientConfig:$JSCompiler_StaticMethods_getClientInfoPromise_$self$$.$clientConfig_$,consentState:1===$consentStateManager$$?"accepted":2===$consentStateManager$$?"rejected":"unknown",consentString:$consentStatePromise$$.consentString})})})}
function $JSCompiler_StaticMethods_loadIframe_$$($JSCompiler_StaticMethods_loadIframe_$self$$){$JSCompiler_StaticMethods_loadIframe_$self$$.$iframeReady_$=new $Deferred$$module$src$utils$promise$$;var $classList$jscomp$4$$=$JSCompiler_StaticMethods_loadIframe_$self$$.$parent_$.classList;$elementByTag$$module$src$dom$$($JSCompiler_StaticMethods_loadIframe_$self$$.$parent_$)||$insertAfterOrAtStart$$module$src$dom$$($JSCompiler_StaticMethods_loadIframe_$self$$.$parent_$,$JSCompiler_StaticMethods_loadIframe_$self$$.$placeholder_$);
$classList$jscomp$4$$.add("i-amphtml-consent-ui-loading");$toggle$$module$src$style$$($JSCompiler_StaticMethods_loadIframe_$self$$.$ui_$,!1);var $iframePromise$$=$JSCompiler_StaticMethods_getClientInfoPromise_$$($JSCompiler_StaticMethods_loadIframe_$self$$).then(function($classList$jscomp$4$$){$JSCompiler_StaticMethods_loadIframe_$self$$.$ui_$.setAttribute("name",JSON.stringify($classList$jscomp$4$$));$JSCompiler_StaticMethods_loadIframe_$self$$.$win_$.addEventListener("message",$JSCompiler_StaticMethods_loadIframe_$self$$.$boundHandleIframeMessages_$);
$insertAfterOrAtStart$$module$src$dom$$($JSCompiler_StaticMethods_loadIframe_$self$$.$parent_$,$JSCompiler_StaticMethods_loadIframe_$self$$.$ui_$)});return Promise.all([$iframePromise$$,$JSCompiler_StaticMethods_loadIframe_$self$$.$iframeReady_$.promise,$JSCompiler_StaticMethods_loadIframe_$self$$.$baseInstance_$.mutateElement(function(){$toggle$$module$src$style$$($JSCompiler_StaticMethods_loadIframe_$self$$.$placeholder_$,!0)})])}
function $JSCompiler_StaticMethods_showIframe_$$($JSCompiler_StaticMethods_showIframe_$self$$){var $classList$jscomp$5$$=$JSCompiler_StaticMethods_showIframe_$self$$.$parent_$.classList;$classList$jscomp$5$$.add("i-amphtml-consent-ui-iframe-active");$toggle$$module$src$style$$($JSCompiler_StaticMethods_showIframe_$self$$.$placeholder_$,!1);$toggle$$module$src$style$$($JSCompiler_StaticMethods_showIframe_$self$$.$ui_$,!0);$JSCompiler_StaticMethods_resetAnimationStyles_$$($JSCompiler_StaticMethods_showIframe_$self$$);
$JSCompiler_StaticMethods_showIframe_$self$$.$baseInstance_$.mutateElement(function(){$classList$jscomp$5$$.remove("i-amphtml-consent-ui-loading");$JSCompiler_StaticMethods_showIframe_$self$$.$baseInstance_$.mutateElement(function(){$classList$jscomp$5$$.add("i-amphtml-consent-ui-in");$JSCompiler_StaticMethods_showIframe_$self$$.$isIframeVisible_$=!0;if($JSCompiler_StaticMethods_showIframe_$self$$.$ui_$){var $JSCompiler_element$jscomp$inline_260_JSCompiler_styles$jscomp$inline_265$$=$JSCompiler_StaticMethods_showIframe_$self$$.$ui_$,
$JSCompiler_style$jscomp$inline_266_JSCompiler_styles$jscomp$inline_261$$={height:$JSCompiler_StaticMethods_showIframe_$self$$.$initialHeight_$},$JSCompiler_k$jscomp$inline_262$$;for($JSCompiler_k$jscomp$inline_262$$ in $JSCompiler_style$jscomp$inline_266_JSCompiler_styles$jscomp$inline_261$$)$setStyle$$module$src$style$$($JSCompiler_element$jscomp$inline_260_JSCompiler_styles$jscomp$inline_265$$,$JSCompiler_k$jscomp$inline_262$$,$JSCompiler_style$jscomp$inline_266_JSCompiler_styles$jscomp$inline_261$$[$JSCompiler_k$jscomp$inline_262$$])}$JSCompiler_element$jscomp$inline_260_JSCompiler_styles$jscomp$inline_265$$=
{transform:"translate3d(0px, calc(100% - "+$JSCompiler_StaticMethods_showIframe_$self$$.$initialHeight_$+"), 0px)"};$JSCompiler_style$jscomp$inline_266_JSCompiler_styles$jscomp$inline_261$$=$JSCompiler_StaticMethods_showIframe_$self$$.$parent_$.style;for(var $JSCompiler_k$jscomp$inline_267$$ in $JSCompiler_element$jscomp$inline_260_JSCompiler_styles$jscomp$inline_265$$)$JSCompiler_style$jscomp$inline_266_JSCompiler_styles$jscomp$inline_261$$.setProperty($getVendorJsPropertyName$$module$src$style$$($JSCompiler_style$jscomp$inline_266_JSCompiler_styles$jscomp$inline_261$$,
$JSCompiler_k$jscomp$inline_267$$),$JSCompiler_element$jscomp$inline_260_JSCompiler_styles$jscomp$inline_265$$[$JSCompiler_k$jscomp$inline_267$$].toString(),"important");$JSCompiler_StaticMethods_showIframe_$self$$.$enableBorder_$&&$JSCompiler_StaticMethods_showIframe_$self$$.$parent_$.classList.add("i-amphtml-consent-ui-enable-border")})})}
function $JSCompiler_StaticMethods_resetAnimationStyles_$$($JSCompiler_StaticMethods_resetAnimationStyles_$self_JSCompiler_element$jscomp$inline_269$$){$JSCompiler_StaticMethods_resetAnimationStyles_$self_JSCompiler_element$jscomp$inline_269$$=$JSCompiler_StaticMethods_resetAnimationStyles_$self_JSCompiler_element$jscomp$inline_269$$.$parent_$;var $JSCompiler_styles$jscomp$inline_270$$={transform:"",transition:""},$JSCompiler_k$jscomp$inline_271$$;for($JSCompiler_k$jscomp$inline_271$$ in $JSCompiler_styles$jscomp$inline_270$$)$setStyle$$module$src$style$$($JSCompiler_StaticMethods_resetAnimationStyles_$self_JSCompiler_element$jscomp$inline_269$$,
$JSCompiler_k$jscomp$inline_271$$,$JSCompiler_styles$jscomp$inline_270$$[$JSCompiler_k$jscomp$inline_271$$])}
function $JSCompiler_StaticMethods_maybeShowOverlay_$$($JSCompiler_StaticMethods_maybeShowOverlay_$self$$){if($JSCompiler_StaticMethods_maybeShowOverlay_$self$$.$overlayEnabled_$){if(!$JSCompiler_StaticMethods_maybeShowOverlay_$self$$.$maskElement_$){var $mask$jscomp$6$$=$JSCompiler_StaticMethods_maybeShowOverlay_$self$$.$win_$.document.createElement("div");$mask$jscomp$6$$.classList.add("i-amphtml-consent-ui-mask");$JSCompiler_StaticMethods_maybeShowOverlay_$self$$.$parent_$.ownerDocument.body.appendChild($mask$jscomp$6$$);
$JSCompiler_StaticMethods_maybeShowOverlay_$self$$.$maskElement_$=$mask$jscomp$6$$}$toggle$$module$src$style$$($JSCompiler_StaticMethods_maybeShowOverlay_$self$$.$maskElement_$,!0);$JSCompiler_StaticMethods_maybeShowOverlay_$self$$.$scrollEnabled_$&&($JSCompiler_StaticMethods_maybeShowOverlay_$self$$.$viewport_$.enterOverlayMode(),$JSCompiler_StaticMethods_maybeShowOverlay_$self$$.$scrollEnabled_$=!1)}}
function $JSCompiler_StaticMethods_enableScroll_$$($JSCompiler_StaticMethods_enableScroll_$self$$){$JSCompiler_StaticMethods_enableScroll_$self$$.$scrollEnabled_$||($JSCompiler_StaticMethods_enableScroll_$self$$.$viewport_$.leaveOverlayMode(),$JSCompiler_StaticMethods_enableScroll_$self$$.$scrollEnabled_$=!0)}
$ConsentUI$$module$extensions$amp_consent$0_1$consent_ui$$.prototype.$handleIframeMessages_$=function($data$jscomp$58_event$jscomp$9$$){var $$jscomp$this$jscomp$17$$=this;this.$ui_$.contentWindow===$data$jscomp$58_event$jscomp$9$$.source&&($data$jscomp$58_event$jscomp$9$$=$data$jscomp$58_event$jscomp$9$$.data)&&"consent-ui"==$data$jscomp$58_event$jscomp$9$$.type&&("ready"===$data$jscomp$58_event$jscomp$9$$.action&&$JSCompiler_StaticMethods_handleReady_$$(this,$data$jscomp$58_event$jscomp$9$$),"enter-fullscreen"===
$data$jscomp$58_event$jscomp$9$$.action&&this.$isIframeVisible_$&&this.$baseInstance_$.mutateElement(function(){$$jscomp$this$jscomp$17$$.$ui_$&&$$jscomp$this$jscomp$17$$.$isVisible_$&&!$$jscomp$this$jscomp$17$$.$isFullscreen_$&&($JSCompiler_StaticMethods_resetAnimationStyles_$$($$jscomp$this$jscomp$17$$),$$jscomp$this$jscomp$17$$.$parent_$.classList.add("i-amphtml-consent-ui-iframe-fullscreen"),$$jscomp$this$jscomp$17$$.$scrollEnabled_$&&($$jscomp$this$jscomp$17$$.$viewport_$.enterOverlayMode(),
$$jscomp$this$jscomp$17$$.$scrollEnabled_$=!1),$$jscomp$this$jscomp$17$$.$isFullscreen_$=!0)}))};function $NotificationUiManager$$module$src$service$notification_ui_manager$$(){this.$queueSize_$=0;this.$queuePromise_$=Promise.resolve();this.$queueEmptyHandler_$=function(){};this.$queueNotEmptyHandler_$=function(){}}$NotificationUiManager$$module$src$service$notification_ui_manager$$.prototype.onQueueEmpty=function($handler$jscomp$8$$){this.$queueEmptyHandler_$=$handler$jscomp$8$$;0==this.$queueSize_$&&$handler$jscomp$8$$()};
$NotificationUiManager$$module$src$service$notification_ui_manager$$.prototype.onQueueNotEmpty=function($handler$jscomp$9$$){this.$queueNotEmptyHandler_$=$handler$jscomp$9$$;0<this.$queueSize_$&&$handler$jscomp$9$$()};
$NotificationUiManager$$module$src$service$notification_ui_manager$$.prototype.registerUI=function($show$jscomp$1$$){var $$jscomp$this$jscomp$18$$=this;0==this.$queueSize_$&&this.$queueNotEmptyHandler_$();this.$queueSize_$++;var $promise$jscomp$2$$=this.$queuePromise_$.then(function(){return $show$jscomp$1$$().then(function(){$$jscomp$this$jscomp$18$$.$queueSize_$--;0==$$jscomp$this$jscomp$18$$.$queueSize_$&&$$jscomp$this$jscomp$18$$.$queueEmptyHandler_$()})});return this.$queuePromise_$=$promise$jscomp$2$$};var $ACTION_TYPE$$module$extensions$amp_consent$0_1$amp_consent$$={ACCEPT:"accept",REJECT:"reject",DISMISS:"dismiss"};
function $AmpConsent$$module$extensions$amp_consent$0_1$amp_consent$$($$jscomp$super$this_element$jscomp$68$$){$$jscomp$super$this_element$jscomp$68$$=AMP.BaseElement.call(this,$$jscomp$super$this_element$jscomp$68$$)||this;$$jscomp$super$this_element$jscomp$68$$.$consentStateManager_$=null;$$jscomp$super$this_element$jscomp$68$$.$consentPolicyManager_$=null;$$jscomp$super$this_element$jscomp$68$$.$notificationUiManager_$=null;$$jscomp$super$this_element$jscomp$68$$.$consentUI_$=null;$$jscomp$super$this_element$jscomp$68$$.$consentConfig_$=
null;$$jscomp$super$this_element$jscomp$68$$.$policyConfig_$=null;$$jscomp$super$this_element$jscomp$68$$.$postPromptUI_$=null;$$jscomp$super$this_element$jscomp$68$$.$dialogResolver_$=null;$$jscomp$super$this_element$jscomp$68$$.$isPromptUIOn_$=!1;$$jscomp$super$this_element$jscomp$68$$.$consentUIPending_$=!1;$$jscomp$super$this_element$jscomp$68$$.$vsync_$=$$jscomp$super$this_element$jscomp$68$$.getVsync();$$jscomp$super$this_element$jscomp$68$$.$remoteConfigPromise_$=null;$$jscomp$super$this_element$jscomp$68$$.$consentId_$=
null;return $$jscomp$super$this_element$jscomp$68$$}var $JSCompiler_parentCtor$jscomp$inline_191$$=AMP.BaseElement;$AmpConsent$$module$extensions$amp_consent$0_1$amp_consent$$.prototype=$$jscomp$objectCreate$$($JSCompiler_parentCtor$jscomp$inline_191$$.prototype);$AmpConsent$$module$extensions$amp_consent$0_1$amp_consent$$.prototype.constructor=$AmpConsent$$module$extensions$amp_consent$0_1$amp_consent$$;
if($$jscomp$setPrototypeOf$$)$$jscomp$setPrototypeOf$$($AmpConsent$$module$extensions$amp_consent$0_1$amp_consent$$,$JSCompiler_parentCtor$jscomp$inline_191$$);else for(var $JSCompiler_p$jscomp$inline_192$$ in $JSCompiler_parentCtor$jscomp$inline_191$$)if("prototype"!=$JSCompiler_p$jscomp$inline_192$$)if(Object.defineProperties){var $JSCompiler_descriptor$jscomp$inline_193$$=Object.getOwnPropertyDescriptor($JSCompiler_parentCtor$jscomp$inline_191$$,$JSCompiler_p$jscomp$inline_192$$);$JSCompiler_descriptor$jscomp$inline_193$$&&
Object.defineProperty($AmpConsent$$module$extensions$amp_consent$0_1$amp_consent$$,$JSCompiler_p$jscomp$inline_192$$,$JSCompiler_descriptor$jscomp$inline_193$$)}else $AmpConsent$$module$extensions$amp_consent$0_1$amp_consent$$[$JSCompiler_p$jscomp$inline_192$$]=$JSCompiler_parentCtor$jscomp$inline_191$$[$JSCompiler_p$jscomp$inline_192$$];$AmpConsent$$module$extensions$amp_consent$0_1$amp_consent$$.$superClass_$=$JSCompiler_parentCtor$jscomp$inline_191$$.prototype;
$AmpConsent$$module$extensions$amp_consent$0_1$amp_consent$$.prototype.getConsentPolicy=function(){return null};
$AmpConsent$$module$extensions$amp_consent$0_1$amp_consent$$.prototype.buildCallback=function(){var $$jscomp$this$jscomp$19$$=this;$userAssert$$module$src$log$$(this.element.getAttribute("id"),"amp-consent should have an id");this.$consentConfig_$=(new $ConsentConfig$$module$extensions$amp_consent$0_1$consent_config$$(this.element)).getConsentConfig();this.$consentId_$=this.$consentConfig_$.consentInstanceId;this.$consentConfig_$.postPromptUI&&(this.$postPromptUI_$=new $ConsentUI$$module$extensions$amp_consent$0_1$consent_ui$$(this,
$dict$$module$src$utils$object$$({}),this.$consentConfig_$.postPromptUI));var $children$jscomp$127_policyConfig$jscomp$1$$=this.$consentConfig_$.policy||$dict$$module$src$utils$object$$({});this.$policyConfig_$=$expandPolicyConfig$$module$extensions$amp_consent$0_1$consent_config$$($children$jscomp$127_policyConfig$jscomp$1$$,this.$consentId_$);$children$jscomp$127_policyConfig$jscomp$1$$=this.getRealChildren();for(var $i$jscomp$26$$=0;$i$jscomp$26$$<$children$jscomp$127_policyConfig$jscomp$1$$.length;$i$jscomp$26$$++){var $child$jscomp$6$$=
$children$jscomp$127_policyConfig$jscomp$1$$[$i$jscomp$26$$];$toggle$$module$src$style$$($child$jscomp$6$$,!1);this.setAsOwner($child$jscomp$6$$)}var $consentPolicyManagerPromise$$=$getServicePromiseForDoc$$module$src$service$$(this.getAmpDoc(),"consentPolicyManager").then(function($children$jscomp$127_policyConfig$jscomp$1$$){$$jscomp$this$jscomp$19$$.$consentPolicyManager_$=$children$jscomp$127_policyConfig$jscomp$1$$;$$jscomp$this$jscomp$19$$.$consentPolicyManager_$.setLegacyConsentInstanceId($$jscomp$this$jscomp$19$$.$consentId_$);
var $i$jscomp$26$$=Object.keys($$jscomp$this$jscomp$19$$.$policyConfig_$);for($children$jscomp$127_policyConfig$jscomp$1$$=0;$children$jscomp$127_policyConfig$jscomp$1$$<$i$jscomp$26$$.length;$children$jscomp$127_policyConfig$jscomp$1$$++)$$jscomp$this$jscomp$19$$.$consentPolicyManager_$.registerConsentPolicyInstance($i$jscomp$26$$[$children$jscomp$127_policyConfig$jscomp$1$$],$$jscomp$this$jscomp$19$$.$policyConfig_$[$i$jscomp$26$$[$children$jscomp$127_policyConfig$jscomp$1$$]])}),$consentStateManagerPromise$$=
$getServicePromiseForDoc$$module$src$service$$(this.getAmpDoc(),"consentStateManager").then(function($children$jscomp$127_policyConfig$jscomp$1$$){$children$jscomp$127_policyConfig$jscomp$1$$.registerConsentInstance($$jscomp$this$jscomp$19$$.$consentId_$,$$jscomp$this$jscomp$19$$.$consentConfig_$);$$jscomp$this$jscomp$19$$.$consentStateManager_$=$children$jscomp$127_policyConfig$jscomp$1$$}),$notificationUiManagerPromise$$=$getServicePromiseForDoc$$module$src$service$$(this.getAmpDoc(),"notificationUIManager").then(function($children$jscomp$127_policyConfig$jscomp$1$$){$$jscomp$this$jscomp$19$$.$notificationUiManager_$=
$children$jscomp$127_policyConfig$jscomp$1$$});Promise.all([$consentStateManagerPromise$$,$notificationUiManagerPromise$$,$consentPolicyManagerPromise$$]).then(function(){$$jscomp$this$jscomp$19$$.$init_$()})};
function $JSCompiler_StaticMethods_enableInteractions_$$($JSCompiler_StaticMethods_enableInteractions_$self$$){$JSCompiler_StaticMethods_enableInteractions_$self$$.registerAction("accept",function(){$JSCompiler_StaticMethods_handleAction_$$($JSCompiler_StaticMethods_enableInteractions_$self$$,"accept")});$JSCompiler_StaticMethods_enableInteractions_$self$$.registerAction("reject",function(){$JSCompiler_StaticMethods_handleAction_$$($JSCompiler_StaticMethods_enableInteractions_$self$$,"reject")});
$JSCompiler_StaticMethods_enableInteractions_$self$$.registerAction("dismiss",function(){$JSCompiler_StaticMethods_handleAction_$$($JSCompiler_StaticMethods_enableInteractions_$self$$,"dismiss")});$JSCompiler_StaticMethods_enableInteractions_$self$$.registerAction("prompt",function(){$JSCompiler_StaticMethods_scheduleDisplay_$$($JSCompiler_StaticMethods_enableInteractions_$self$$)});$JSCompiler_StaticMethods_enableExternalInteractions_$$($JSCompiler_StaticMethods_enableInteractions_$self$$)}
function $JSCompiler_StaticMethods_enableExternalInteractions_$$($JSCompiler_StaticMethods_enableExternalInteractions_$self$$){$JSCompiler_StaticMethods_enableExternalInteractions_$self$$.win.addEventListener("message",function($event$jscomp$10$$){if($JSCompiler_StaticMethods_enableExternalInteractions_$self$$.$isPromptUIOn_$){var $data$jscomp$59$$=$event$jscomp$10$$.data;if($data$jscomp$59$$&&"consent-response"==$data$jscomp$59$$.type)if($data$jscomp$59$$.action){if($isExperimentOn$$module$src$experiments$$($JSCompiler_StaticMethods_enableExternalInteractions_$self$$.win)&&
void 0!==$data$jscomp$59$$.info){"string"!=typeof $data$jscomp$59$$.info&&($user$$module$src$log$$().error("amp-consent","consent-response info only supports string, %s, treated as undefined",$data$jscomp$59$$.info),$data$jscomp$59$$.info=void 0);"dismiss"===$data$jscomp$59$$.action&&($data$jscomp$59$$.info&&$JSCompiler_StaticMethods_enableExternalInteractions_$self$$.user().error("amp-consent","Consent string value %s not applicable on user dismiss, stored value will be kept and used",$consentString$jscomp$1$$),
$data$jscomp$59$$.info=void 0);var $consentString$jscomp$1$$=$data$jscomp$59$$.info}for(var $iframes$$=$JSCompiler_StaticMethods_enableExternalInteractions_$self$$.element.querySelectorAll("iframe"),$i$jscomp$27$$=0;$i$jscomp$27$$<$iframes$$.length;$i$jscomp$27$$++)if($iframes$$[$i$jscomp$27$$].contentWindow===$event$jscomp$10$$.source){var $action$$=$data$jscomp$59$$.action;$JSCompiler_StaticMethods_handleAction_$$($JSCompiler_StaticMethods_enableExternalInteractions_$self$$,$action$$,$consentString$jscomp$1$$);
break}}else $user$$module$src$log$$().error("amp-consent","consent-response message missing required info")}})}
function $JSCompiler_StaticMethods_scheduleDisplay_$$($JSCompiler_StaticMethods_scheduleDisplay_$self$$){$JSCompiler_StaticMethods_scheduleDisplay_$self$$.$notificationUiManager_$||$dev$$module$src$log$$().error("amp-consent","notification ui manager not found");!$JSCompiler_StaticMethods_scheduleDisplay_$self$$.$consentUIPending_$&&$JSCompiler_StaticMethods_scheduleDisplay_$self$$.$consentUI_$&&($JSCompiler_StaticMethods_scheduleDisplay_$self$$.$consentUIPending_$=!0,$JSCompiler_StaticMethods_scheduleDisplay_$self$$.$notificationUiManager_$.registerUI($JSCompiler_StaticMethods_scheduleDisplay_$self$$.$show_$.bind($JSCompiler_StaticMethods_scheduleDisplay_$self$$)))}
$AmpConsent$$module$extensions$amp_consent$0_1$amp_consent$$.prototype.$show_$=function(){var $$jscomp$this$jscomp$22$$=this;this.$isPromptUIOn_$&&$dev$$module$src$log$$().error("amp-consent","Attempt to show an already displayed prompt UI");this.$vsync_$.mutate(function(){$$jscomp$this$jscomp$22$$.$consentUI_$.show();$$jscomp$this$jscomp$22$$.$isPromptUIOn_$=!0});var $deferred$jscomp$3$$=new $Deferred$$module$src$utils$promise$$;this.$dialogResolver_$=$deferred$jscomp$3$$.resolve;return $deferred$jscomp$3$$.promise};
function $JSCompiler_StaticMethods_handleAction_$$($JSCompiler_StaticMethods_handleAction_$self$$,$action$jscomp$1$$,$consentString$jscomp$2$$){$isEnumValue$$module$src$types$$($ACTION_TYPE$$module$extensions$amp_consent$0_1$amp_consent$$,$action$jscomp$1$$)&&$JSCompiler_StaticMethods_handleAction_$self$$.$isPromptUIOn_$&&($JSCompiler_StaticMethods_handleAction_$self$$.$consentStateManager_$?("accept"==$action$jscomp$1$$?$JSCompiler_StaticMethods_handleAction_$self$$.$consentStateManager_$.updateConsentInstanceState(1,
$consentString$jscomp$2$$):"reject"==$action$jscomp$1$$?$JSCompiler_StaticMethods_handleAction_$self$$.$consentStateManager_$.updateConsentInstanceState(2,$consentString$jscomp$2$$):"dismiss"==$action$jscomp$1$$&&$JSCompiler_StaticMethods_handleAction_$self$$.$consentStateManager_$.updateConsentInstanceState(3),$JSCompiler_StaticMethods_handleAction_$self$$.$isPromptUIOn_$||$dev$$module$src$log$$().error("amp-consent","%s no consent ui to hide"),$JSCompiler_StaticMethods_handleAction_$self$$.$consentUI_$.hide(),
$JSCompiler_StaticMethods_handleAction_$self$$.$isPromptUIOn_$=!1,$JSCompiler_StaticMethods_handleAction_$self$$.$dialogResolver_$&&($JSCompiler_StaticMethods_handleAction_$self$$.$dialogResolver_$(),$JSCompiler_StaticMethods_handleAction_$self$$.$dialogResolver_$=null),$JSCompiler_StaticMethods_handleAction_$self$$.$consentUIPending_$=!1):$dev$$module$src$log$$().error("amp-consent","No consent state manager"))}
$AmpConsent$$module$extensions$amp_consent$0_1$amp_consent$$.prototype.$init_$=function(){var $$jscomp$this$jscomp$23$$=this;$JSCompiler_StaticMethods_passSharedData_$$(this);$JSCompiler_StaticMethods_getConsentRequiredPromise_$$(this).then(function($isConsentRequired$$){return $JSCompiler_StaticMethods_initPromptUI_$$($$jscomp$this$jscomp$23$$,$isConsentRequired$$)}).then(function($isPostPromptUIRequired$$){$isPostPromptUIRequired$$&&$JSCompiler_StaticMethods_handlePostPromptUI_$$($$jscomp$this$jscomp$23$$);
$$jscomp$this$jscomp$23$$.$consentPolicyManager_$.enableTimeout()}).catch(function(){});$JSCompiler_StaticMethods_enableInteractions_$$(this)};
function $JSCompiler_StaticMethods_getConsentRequiredPromise_$$($JSCompiler_StaticMethods_getConsentRequiredPromise_$self$$){$userAssert$$module$src$log$$($JSCompiler_StaticMethods_getConsentRequiredPromise_$self$$.$consentConfig_$.checkConsentHref||$JSCompiler_StaticMethods_getConsentRequiredPromise_$self$$.$consentConfig_$.promptIfUnknownForGeoGroup,"neither checkConsentHref nor promptIfUnknownForGeoGroup is defined");var $consentRequiredPromise$$=null;if($JSCompiler_StaticMethods_getConsentRequiredPromise_$self$$.$consentConfig_$.promptIfUnknownForGeoGroup){var $geoGroup$$=
$JSCompiler_StaticMethods_getConsentRequiredPromise_$self$$.$consentConfig_$.promptIfUnknownForGeoGroup;$consentRequiredPromise$$=$JSCompiler_StaticMethods_isConsentRequiredGeo_$$($JSCompiler_StaticMethods_getConsentRequiredPromise_$self$$,$geoGroup$$)}else $consentRequiredPromise$$=$JSCompiler_StaticMethods_getConsentRemote_$$($JSCompiler_StaticMethods_getConsentRequiredPromise_$self$$).then(function($consentRequiredPromise$$){return $consentRequiredPromise$$&&$hasOwn_$$module$src$utils$object$$.call($consentRequiredPromise$$,
"promptIfUnknown")?!!$consentRequiredPromise$$.promptIfUnknown:($JSCompiler_StaticMethods_getConsentRequiredPromise_$self$$.user().error("amp-consent","Expecting promptIfUnknown from checkConsentHref when promptIfUnknownForGeoGroup is not specified"),!1)});return $consentRequiredPromise$$.then(function($JSCompiler_StaticMethods_getConsentRequiredPromise_$self$$){return!!$JSCompiler_StaticMethods_getConsentRequiredPromise_$self$$})}
function $JSCompiler_StaticMethods_passSharedData_$$($JSCompiler_StaticMethods_passSharedData_$self$$){var $responsePromise$$=$JSCompiler_StaticMethods_getConsentRemote_$$($JSCompiler_StaticMethods_passSharedData_$self$$),$sharedDataPromise$jscomp$1$$=$responsePromise$$.then(function($JSCompiler_StaticMethods_passSharedData_$self$$){return $JSCompiler_StaticMethods_passSharedData_$self$$&&void 0!==$JSCompiler_StaticMethods_passSharedData_$self$$.sharedData?$JSCompiler_StaticMethods_passSharedData_$self$$.sharedData:
null});$JSCompiler_StaticMethods_passSharedData_$self$$.$consentStateManager_$.setConsentInstanceSharedData($sharedDataPromise$jscomp$1$$)}
function $JSCompiler_StaticMethods_isConsentRequiredGeo_$$($JSCompiler_StaticMethods_isConsentRequiredGeo_$self$$,$geoGroup$jscomp$1$$){return $getElementServiceIfAvailableForDoc$$module$src$element_service$$($JSCompiler_StaticMethods_isConsentRequiredGeo_$self$$.element).then(function($JSCompiler_StaticMethods_isConsentRequiredGeo_$self$$){$userAssert$$module$src$log$$($JSCompiler_StaticMethods_isConsentRequiredGeo_$self$$,"requires <amp-geo> to use promptIfUnknownForGeoGroup");return 2==$JSCompiler_StaticMethods_isConsentRequiredGeo_$self$$.isInCountryGroup($geoGroup$jscomp$1$$)})}
function $JSCompiler_StaticMethods_getConsentRemote_$$($JSCompiler_StaticMethods_getConsentRemote_$self$$){if($JSCompiler_StaticMethods_getConsentRemote_$self$$.$remoteConfigPromise_$)return $JSCompiler_StaticMethods_getConsentRemote_$self$$.$remoteConfigPromise_$;if($JSCompiler_StaticMethods_getConsentRemote_$self$$.$consentConfig_$.checkConsentHref){var $ampdoc$jscomp$13_request$jscomp$6$$={consentInstanceId:$JSCompiler_StaticMethods_getConsentRemote_$self$$.$consentId_$};$JSCompiler_StaticMethods_getConsentRemote_$self$$.$consentConfig_$.clientConfig&&
($ampdoc$jscomp$13_request$jscomp$6$$.clientConfig=$JSCompiler_StaticMethods_getConsentRemote_$self$$.$consentConfig_$.clientConfig);var $init$jscomp$3$$={credentials:"include",method:"POST",body:$ampdoc$jscomp$13_request$jscomp$6$$,requireAmpResponseSourceOrigin:!1},$href$$=$JSCompiler_StaticMethods_getConsentRemote_$self$$.$consentConfig_$.checkConsentHref;$assertHttpsUrl$$module$src$url$$($href$$,$JSCompiler_StaticMethods_getConsentRemote_$self$$.element);$ampdoc$jscomp$13_request$jscomp$6$$=$JSCompiler_StaticMethods_getConsentRemote_$self$$.getAmpDoc();
var $sourceBase$$=$getSourceUrl$$module$src$url$$($ampdoc$jscomp$13_request$jscomp$6$$.getUrl()),$resolvedHref$$=$resolveRelativeUrl$$module$src$url$$($href$$,$sourceBase$$),$viewer$$=$getServiceForDoc$$module$src$service$$($ampdoc$jscomp$13_request$jscomp$6$$,"viewer");$JSCompiler_StaticMethods_getConsentRemote_$self$$.$remoteConfigPromise_$=$viewer$$.whenFirstVisible().then(function(){return $getService$$module$src$service$$($JSCompiler_StaticMethods_getConsentRemote_$self$$.win,"xhr").fetchJson($resolvedHref$$,
$init$jscomp$3$$).then(function($JSCompiler_StaticMethods_getConsentRemote_$self$$){return $JSCompiler_StaticMethods_getConsentRemote_$self$$.json()})})}else $JSCompiler_StaticMethods_getConsentRemote_$self$$.$remoteConfigPromise_$=Promise.resolve(null);return $JSCompiler_StaticMethods_getConsentRemote_$self$$.$remoteConfigPromise_$}
function $JSCompiler_StaticMethods_initPromptUI_$$($JSCompiler_StaticMethods_initPromptUI_$self$$,$isConsentRequired$jscomp$1$$){$JSCompiler_StaticMethods_initPromptUI_$self$$.$consentUI_$=new $ConsentUI$$module$extensions$amp_consent$0_1$consent_ui$$($JSCompiler_StaticMethods_initPromptUI_$self$$,$JSCompiler_StaticMethods_initPromptUI_$self$$.$consentConfig_$);return $JSCompiler_StaticMethods_initPromptUI_$self$$.$consentStateManager_$.getConsentInstanceInfo().then(function($info$jscomp$5$$){if($info$jscomp$5$$.consentString||
1===$info$jscomp$5$$.consentState||2===$info$jscomp$5$$.consentState)return!0;if(!$isConsentRequired$jscomp$1$$)return $JSCompiler_StaticMethods_initPromptUI_$self$$.$consentStateManager_$.updateConsentInstanceState(4),!1;$JSCompiler_StaticMethods_scheduleDisplay_$$($JSCompiler_StaticMethods_initPromptUI_$self$$);return!0})}
function $JSCompiler_StaticMethods_handlePostPromptUI_$$($JSCompiler_StaticMethods_handlePostPromptUI_$self$$){$JSCompiler_StaticMethods_handlePostPromptUI_$self$$.$postPromptUI_$&&($JSCompiler_StaticMethods_handlePostPromptUI_$self$$.$notificationUiManager_$.onQueueEmpty(function(){$JSCompiler_StaticMethods_handlePostPromptUI_$self$$.$vsync_$.mutate(function(){$JSCompiler_StaticMethods_handlePostPromptUI_$self$$.$postPromptUI_$.show()})}),$JSCompiler_StaticMethods_handlePostPromptUI_$self$$.$notificationUiManager_$.onQueueNotEmpty(function(){$JSCompiler_StaticMethods_handlePostPromptUI_$self$$.$vsync_$.mutate(function(){$JSCompiler_StaticMethods_handlePostPromptUI_$self$$.$postPromptUI_$.hide()})}))}
(function($AMP$jscomp$1$$){$AMP$jscomp$1$$.registerElement("amp-consent",$AmpConsent$$module$extensions$amp_consent$0_1$amp_consent$$,"amp-consent{position:fixed;bottom:0;left:0;overflow:hidden!important;background:hsla(0,0%,100%,0.7);width:100%;z-index:2147483645}amp-consent[i-amphtml-notbuilt]>*{display:none!important}amp-consent>*{max-height:100vh!important}amp-consent.amp-active{visibility:visible}amp-consent.amp-hidden{visibility:hidden}@-webkit-keyframes amp-consent-ui-placeholder-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes amp-consent-ui-placeholder-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.i-amphtml-consent-ui-placeholder{width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.i-amphtml-consent-ui-placeholder>svg{width:30px;height:30px;fill:none;stroke-width:1.5px;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-animation:amp-consent-ui-placeholder-spin 1000ms linear infinite;animation:amp-consent-ui-placeholder-spin 1000ms linear infinite}.i-amphtml-consent-ui-fill{position:absolute;top:0;left:0;width:100%}iframe.i-amphtml-consent-ui-fill{border:none}amp-consent.i-amphtml-consent-ui-iframe-active{width:100%!important;height:100vh!important;padding:0px!important;margin:0px!important;-webkit-transform:translate3d(0px,100vh,0px)!important;transform:translate3d(0px,100vh,0px)!important}amp-consent.i-amphtml-consent-ui-iframe-active.i-amphtml-consent-ui-enable-border{border-top-left-radius:8px!important;border-top-right-radius:8px!important;box-shadow:0 0 5px 0 rgba(0,0,0,0.2)!important}amp-consent.i-amphtml-consent-ui-iframe-active.i-amphtml-consent-ui-in{-webkit-transition:-webkit-transform 0.5s ease-out!important;transition:-webkit-transform 0.5s ease-out!important;transition:transform 0.5s ease-out!important;transition:transform 0.5s ease-out,-webkit-transform 0.5s ease-out!important}amp-consent.i-amphtml-consent-ui-iframe-active.i-amphtml-consent-ui-in.i-amphtml-consent-ui-iframe-fullscreen{top:0px!important;-webkit-transform:translateZ(0px)!important;transform:translateZ(0px)!important;border-top-left-radius:0px!important;border-top-right-radius:0px!important}amp-consent.i-amphtml-consent-ui-in.i-amphtml-consent-ui-iframe-fullscreen>.i-amphtml-consent-ui-fill{height:100%!important}@-webkit-keyframes i-amphtml-consent-ui-mask{0%{opacity:0.0}to{opacity:0.2}}@keyframes i-amphtml-consent-ui-mask{0%{opacity:0.0}to{opacity:0.2}}.i-amphtml-consent-ui-mask{position:fixed!important;top:0!important;left:0!important;width:100vw!important;height:100vh!important;opacity:0.2;-webkit-animation:i-amphtml-consent-ui-mask 0.25s ease-in;animation:i-amphtml-consent-ui-mask 0.25s ease-in;background-image:none!important;background-color:#000;z-index:2147483644}\n/*# sourceURL=/extensions/amp-consent/0.1/amp-consent.css*/");
$AMP$jscomp$1$$.registerServiceForDoc("notificationUIManager",$NotificationUiManager$$module$src$service$notification_ui_manager$$);$AMP$jscomp$1$$.registerServiceForDoc("consentStateManager",$ConsentStateManager$$module$extensions$amp_consent$0_1$consent_state_manager$$);$AMP$jscomp$1$$.registerServiceForDoc("consentPolicyManager",$ConsentPolicyManager$$module$extensions$amp_consent$0_1$consent_policy_manager$$)})(self.AMP);
})});

//# sourceMappingURL=amp-consent-0.1.js.map
