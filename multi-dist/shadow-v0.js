self.AMP_CONFIG||(self.AMP_CONFIG={"test":true,"localDev":true,"allow-doc-opt-in":["amp-date-picker","amp-img-auto-sizes","amp-next-page","ampdoc-shell","disable-amp-story-desktop","inabox-viewport-friendly","linker-meta-opt-in"],"allow-url-opt-in":["pump-early-frame","twitter-default-placeholder","twitter-default-placeholder-fade","twitter-default-placeholder-pulse"],"canary":0,"a4aFastFetchAdSenseLaunched":0,"a4aFastFetchDoubleclickLaunched":0,"a4aProfilingRate":0.01,"ad-type-custom":1,"amp-access-iframe":1,"amp-ad-ff-adx-ady":0.01,"amp-apester-media":1,"amp-auto-ads":1,"amp-auto-ads-adsense-holdout":0.1,"amp-auto-ads-adsense-responsive":0.1,"amp-auto-lightbox":1,"amp-consent":1,"amp-date-picker":1,"amp-ima-video":1,"amp-img-auto-sizes":1,"amp-list-load-more":1,"amp-list-viewport-resize":1,"amp-live-list-sorting":1,"amp-playbuzz":1,"amp-sidebar toolbar":1,"amp-story-responsive-units":1,"amp-story-v1":1,"ampdoc-closest":0.01,"as-use-attr-for-format":0.01,"blurry-placeholder":1,"chunked-amp":1,"doubleclickSraExp":0.01,"doubleclickSraReportExcludedBlock":0.1,"expAdsenseA4A":0.01,"expAdsenseCanonical":0.01,"expAdsenseUnconditionedCanonical":0.01,"fixed-elements-in-lightbox":1,"flexAdSlots":0.01,"font-display-swap":1,"hidden-mutation-observer":1,"linker-form":1,"linker-meta-opt-in":1,"no-initial-intersection":1,"no-sync-xhr-in-ads":1,"pump-early-frame":1,"sandbox-ads":1,"user-error-reporting":1,"version-locking":1});/*AMP_CONFIG*/(function(){var $JSCompiler_prototypeAlias$$,$$jscomp$objectCreate$$="function"==typeof Object.create?Object.create:function($prototype$$){function $ctor$$(){}$ctor$$.prototype=$prototype$$;return new $ctor$$},$JSCompiler_temp$jscomp$101$$;
if("function"==typeof Object.setPrototypeOf)$JSCompiler_temp$jscomp$101$$=Object.setPrototypeOf;else{var $JSCompiler_inline_result$jscomp$102$$;a:{var $JSCompiler_x$jscomp$inline_187$$={a:!0},$JSCompiler_y$jscomp$inline_188$$={};try{$JSCompiler_y$jscomp$inline_188$$.__proto__=$JSCompiler_x$jscomp$inline_187$$;$JSCompiler_inline_result$jscomp$102$$=$JSCompiler_y$jscomp$inline_188$$.a;break a}catch($JSCompiler_e$jscomp$inline_189$$){}$JSCompiler_inline_result$jscomp$102$$=!1}$JSCompiler_temp$jscomp$101$$=
$JSCompiler_inline_result$jscomp$102$$?function($target$jscomp$83$$,$proto$jscomp$3$$){$target$jscomp$83$$.__proto__=$proto$jscomp$3$$;if($target$jscomp$83$$.__proto__!==$proto$jscomp$3$$)throw new TypeError($target$jscomp$83$$+" is not extensible");return $target$jscomp$83$$}:null}var $$jscomp$setPrototypeOf$$=$JSCompiler_temp$jscomp$101$$;
function $$jscomp$inherits$$($childCtor$$,$parentCtor$$){$childCtor$$.prototype=$$jscomp$objectCreate$$($parentCtor$$.prototype);$childCtor$$.prototype.constructor=$childCtor$$;if($$jscomp$setPrototypeOf$$)$$jscomp$setPrototypeOf$$($childCtor$$,$parentCtor$$);else for(var $p$$ in $parentCtor$$)if("prototype"!=$p$$)if(Object.defineProperties){var $descriptor$jscomp$1$$=Object.getOwnPropertyDescriptor($parentCtor$$,$p$$);$descriptor$jscomp$1$$&&Object.defineProperty($childCtor$$,$p$$,$descriptor$jscomp$1$$)}else $childCtor$$[$p$$]=
$parentCtor$$[$p$$];$childCtor$$.$superClass_$=$parentCtor$$.prototype}var $$jscomp$global$$=function($maybeGlobal$$){return"undefined"!=typeof window&&window===$maybeGlobal$$?$maybeGlobal$$:"undefined"!=typeof global&&null!=global?global:$maybeGlobal$$}(this);
function $tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($component$jscomp$4$$,$fallback$$){$fallback$$=void 0===$fallback$$?"":$fallback$$;try{return decodeURIComponent($component$jscomp$4$$)}catch($e$jscomp$8$$){return $fallback$$}};var $regex$$module$src$url_parse_query_string$$=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;
function $parseQueryString_$$module$src$url_parse_query_string$$($queryString$$){var $params$jscomp$1$$=Object.create(null);if(!$queryString$$)return $params$jscomp$1$$;for(var $match$$;$match$$=$regex$$module$src$url_parse_query_string$$.exec($queryString$$);){var $name$jscomp$70$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[1],$match$$[1]),$value$jscomp$86$$=$match$$[2]?$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[2],$match$$[2]):"";
$params$jscomp$1$$[$name$jscomp$70$$]=$value$jscomp$86$$}return $params$jscomp$1$$};var $rtvVersion$$module$src$mode$$="";
function $getMode$$module$src$mode$$($opt_win$$){var $win$$=$opt_win$$||self;if($win$$.AMP_MODE)var $JSCompiler_temp$jscomp$103_JSCompiler_win$jscomp$inline_191$$=$win$$.AMP_MODE;else{$JSCompiler_temp$jscomp$103_JSCompiler_win$jscomp$inline_191$$=$win$$;var $JSCompiler_AMP_CONFIG$jscomp$inline_192_JSCompiler_singlePassType$jscomp$inline_199$$=self.AMP_CONFIG||{},$JSCompiler_runningTests$jscomp$inline_196$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_192_JSCompiler_singlePassType$jscomp$inline_199$$.test||!(!$JSCompiler_temp$jscomp$103_JSCompiler_win$jscomp$inline_191$$.AMP_TEST&&
!$JSCompiler_temp$jscomp$103_JSCompiler_win$jscomp$inline_191$$.__karma__),$JSCompiler_isLocalDev$jscomp$inline_197$$=!!$JSCompiler_AMP_CONFIG$jscomp$inline_192_JSCompiler_singlePassType$jscomp$inline_199$$.localDev||$JSCompiler_runningTests$jscomp$inline_196$$,$JSCompiler_hashQuery$jscomp$inline_198$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$103_JSCompiler_win$jscomp$inline_191$$.location.originalHash||$JSCompiler_temp$jscomp$103_JSCompiler_win$jscomp$inline_191$$.location.hash);
$JSCompiler_AMP_CONFIG$jscomp$inline_192_JSCompiler_singlePassType$jscomp$inline_199$$=$JSCompiler_AMP_CONFIG$jscomp$inline_192_JSCompiler_singlePassType$jscomp$inline_199$$.spt;var $JSCompiler_searchQuery$jscomp$inline_200$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$103_JSCompiler_win$jscomp$inline_191$$.location.search);$rtvVersion$$module$src$mode$$||($rtvVersion$$module$src$mode$$=$JSCompiler_isLocalDev$jscomp$inline_197$$?"1904281823091":$JSCompiler_temp$jscomp$103_JSCompiler_win$jscomp$inline_191$$.AMP_CONFIG&&
$JSCompiler_temp$jscomp$103_JSCompiler_win$jscomp$inline_191$$.AMP_CONFIG.v?$JSCompiler_temp$jscomp$103_JSCompiler_win$jscomp$inline_191$$.AMP_CONFIG.v:"011904281823091");$JSCompiler_temp$jscomp$103_JSCompiler_win$jscomp$inline_191$$=$win$$.AMP_MODE={localDev:$JSCompiler_isLocalDev$jscomp$inline_197$$,development:!("1"!=$JSCompiler_hashQuery$jscomp$inline_198$$.development&&!$JSCompiler_temp$jscomp$103_JSCompiler_win$jscomp$inline_191$$.AMP_DEV_MODE),examiner:"2"==$JSCompiler_hashQuery$jscomp$inline_198$$.development,
filter:$JSCompiler_hashQuery$jscomp$inline_198$$.filter,geoOverride:$JSCompiler_hashQuery$jscomp$inline_198$$["amp-geo"],minified:!0,lite:void 0!=$JSCompiler_searchQuery$jscomp$inline_200$$.amp_lite,test:$JSCompiler_runningTests$jscomp$inline_196$$,log:$JSCompiler_hashQuery$jscomp$inline_198$$.log,version:"1904281823091",rtvVersion:$rtvVersion$$module$src$mode$$,singlePassType:$JSCompiler_AMP_CONFIG$jscomp$inline_192_JSCompiler_singlePassType$jscomp$inline_199$$}}return $JSCompiler_temp$jscomp$103_JSCompiler_win$jscomp$inline_191$$}
;function $includes$$module$src$polyfills$array_includes$$($value$jscomp$87$$,$i$jscomp$3_opt_fromIndex$jscomp$10$$){var $fromIndex$$=$i$jscomp$3_opt_fromIndex$jscomp$10$$||0,$len$$=this.length;for($i$jscomp$3_opt_fromIndex$jscomp$10$$=0<=$fromIndex$$?$fromIndex$$:Math.max($len$$+$fromIndex$$,0);$i$jscomp$3_opt_fromIndex$jscomp$10$$<$len$$;$i$jscomp$3_opt_fromIndex$jscomp$10$$++){var $other$jscomp$7$$=this[$i$jscomp$3_opt_fromIndex$jscomp$10$$];if($other$jscomp$7$$===$value$jscomp$87$$||$value$jscomp$87$$!==
$value$jscomp$87$$&&$other$jscomp$7$$!==$other$jscomp$7$$)return!0}return!1};var $VALID_NAME$$module$src$polyfills$custom_elements$$=/^[a-z][a-z0-9._]*-[a-z0-9._-]*$/,$INVALID_NAMES$$module$src$polyfills$custom_elements$$="annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "),$TRACK_SUBTREE$$module$src$polyfills$custom_elements$$={childList:!0,subtree:!0};
function $assertValidName$$module$src$polyfills$custom_elements$$($SyntaxError$jscomp$1$$,$name$jscomp$71$$){if(!$VALID_NAME$$module$src$polyfills$custom_elements$$.test($name$jscomp$71$$)||$INVALID_NAMES$$module$src$polyfills$custom_elements$$.includes($name$jscomp$71$$))throw new $SyntaxError$jscomp$1$$('invalid custom element name "'+$name$jscomp$71$$+'"');}function $rethrowAsync$$module$src$polyfills$custom_elements$$($error$jscomp$2$$){new Promise(function(){throw $error$jscomp$2$$;})}
function $CustomElementRegistry$$module$src$polyfills$custom_elements$$($win$jscomp$7$$,$registry$$){this.$win_$=$win$jscomp$7$$;this.$registry_$=$registry$$;this.$pendingDefines_$=$win$jscomp$7$$.Object.create(null)}
$CustomElementRegistry$$module$src$polyfills$custom_elements$$.prototype.define=function($name$jscomp$72$$,$ctor$jscomp$1$$,$options$jscomp$14$$){this.$registry_$.define($name$jscomp$72$$,$ctor$jscomp$1$$,$options$jscomp$14$$);var $pending$$=this.$pendingDefines_$,$deferred$$=$pending$$[$name$jscomp$72$$];$deferred$$&&($deferred$$.resolve(),delete $pending$$[$name$jscomp$72$$])};
$CustomElementRegistry$$module$src$polyfills$custom_elements$$.prototype.get=function($name$jscomp$73$$){var $def$$=this.$registry_$.getByName($name$jscomp$73$$);if($def$$)return $def$$.ctor};
$CustomElementRegistry$$module$src$polyfills$custom_elements$$.prototype.whenDefined=function($name$jscomp$74$$){var $$jscomp$destructuring$var1_pending$jscomp$1$$=this.$win_$,$Promise$jscomp$1$$=$$jscomp$destructuring$var1_pending$jscomp$1$$.Promise;$assertValidName$$module$src$polyfills$custom_elements$$($$jscomp$destructuring$var1_pending$jscomp$1$$.SyntaxError,$name$jscomp$74$$);if(this.$registry_$.getByName($name$jscomp$74$$))return $Promise$jscomp$1$$.resolve();$$jscomp$destructuring$var1_pending$jscomp$1$$=
this.$pendingDefines_$;var $deferred$jscomp$1$$=$$jscomp$destructuring$var1_pending$jscomp$1$$[$name$jscomp$74$$];if($deferred$jscomp$1$$)return $deferred$jscomp$1$$.promise;var $resolve$$,$promise$$=new $Promise$jscomp$1$$(function($name$jscomp$74$$){return $resolve$$=$name$jscomp$74$$});$$jscomp$destructuring$var1_pending$jscomp$1$$[$name$jscomp$74$$]={promise:$promise$$,resolve:$resolve$$};return $promise$$};$CustomElementRegistry$$module$src$polyfills$custom_elements$$.prototype.upgrade=function($root$jscomp$3$$){this.$registry_$.upgrade($root$jscomp$3$$)};
function $Registry$$module$src$polyfills$custom_elements$$($win$jscomp$8$$){this.$win_$=$win$jscomp$8$$;this.$doc_$=$win$jscomp$8$$.document;this.$definitions_$=$win$jscomp$8$$.Object.create(null);this.$query_$="";this.$mutationObserver_$=this.$current_$=null;this.$observed_$=[$win$jscomp$8$$.document]}$JSCompiler_prototypeAlias$$=$Registry$$module$src$polyfills$custom_elements$$.prototype;$JSCompiler_prototypeAlias$$.current=function(){var $current$$=this.$current_$;this.$current_$=null;return $current$$};
$JSCompiler_prototypeAlias$$.getByName=function($name$jscomp$75$$){var $definition$$=this.$definitions_$[$name$jscomp$75$$];if($definition$$)return $definition$$};$JSCompiler_prototypeAlias$$.getByConstructor=function($ctor$jscomp$2$$){var $definitions$$=this.$definitions_$,$name$jscomp$76$$;for($name$jscomp$76$$ in $definitions$$){var $def$jscomp$1$$=$definitions$$[$name$jscomp$76$$];if($def$jscomp$1$$.ctor===$ctor$jscomp$2$$)return $def$jscomp$1$$}};
$JSCompiler_prototypeAlias$$.define=function($name$jscomp$77$$,$ctor$jscomp$3$$,$options$jscomp$15$$){var $$jscomp$destructuring$var2_SyntaxError$jscomp$3$$=this.$win_$,$Error$jscomp$1$$=$$jscomp$destructuring$var2_SyntaxError$jscomp$3$$.Error;$$jscomp$destructuring$var2_SyntaxError$jscomp$3$$=$$jscomp$destructuring$var2_SyntaxError$jscomp$3$$.SyntaxError;if($options$jscomp$15$$)throw new $Error$jscomp$1$$("Extending native custom elements is not supported");$assertValidName$$module$src$polyfills$custom_elements$$($$jscomp$destructuring$var2_SyntaxError$jscomp$3$$,
$name$jscomp$77$$);if(this.getByName($name$jscomp$77$$)||this.getByConstructor($ctor$jscomp$3$$))throw new $Error$jscomp$1$$('duplicate definition "'+$name$jscomp$77$$+'"');this.$definitions_$[$name$jscomp$77$$]={name:$name$jscomp$77$$,ctor:$ctor$jscomp$3$$};$JSCompiler_StaticMethods_observe_$$(this,$name$jscomp$77$$);this.upgrade(this.$doc_$,$name$jscomp$77$$)};
$JSCompiler_prototypeAlias$$.upgrade=function($i$jscomp$4_root$jscomp$4$$,$opt_query$$){var $newlyDefined$$=!!$opt_query$$,$upgradeCandidates$$=$JSCompiler_StaticMethods_queryAll_$$($i$jscomp$4_root$jscomp$4$$,$opt_query$$||this.$query_$);for($i$jscomp$4_root$jscomp$4$$=0;$i$jscomp$4_root$jscomp$4$$<$upgradeCandidates$$.length;$i$jscomp$4_root$jscomp$4$$++){var $candidate$jscomp$1$$=$upgradeCandidates$$[$i$jscomp$4_root$jscomp$4$$];$newlyDefined$$?$JSCompiler_StaticMethods_connectedCallback_$$(this,
$candidate$jscomp$1$$):this.upgradeSelf($candidate$jscomp$1$$)}};$JSCompiler_prototypeAlias$$.upgradeSelf=function($node$jscomp$2$$){var $def$jscomp$2$$=this.getByName($node$jscomp$2$$.localName);$def$jscomp$2$$&&$JSCompiler_StaticMethods_upgradeSelf_$$(this,$node$jscomp$2$$,$def$jscomp$2$$)};function $JSCompiler_StaticMethods_queryAll_$$($root$jscomp$5$$,$query$jscomp$13$$){return $query$jscomp$13$$&&$root$jscomp$5$$.querySelectorAll?$root$jscomp$5$$.querySelectorAll($query$jscomp$13$$):[]}
function $JSCompiler_StaticMethods_upgradeSelf_$$($JSCompiler_StaticMethods_upgradeSelf_$self$$,$node$jscomp$3$$,$ctor$jscomp$4_def$jscomp$3$$){$ctor$jscomp$4_def$jscomp$3$$=$ctor$jscomp$4_def$jscomp$3$$.ctor;if(!($node$jscomp$3$$ instanceof $ctor$jscomp$4_def$jscomp$3$$)){$JSCompiler_StaticMethods_upgradeSelf_$self$$.$current_$=$node$jscomp$3$$;try{var $el$$=new $ctor$jscomp$4_def$jscomp$3$$;if($el$$!==$node$jscomp$3$$)throw new $JSCompiler_StaticMethods_upgradeSelf_$self$$.$win_$.Error("Constructor illegally returned a different instance.");
}catch($e$jscomp$9$$){$rethrowAsync$$module$src$polyfills$custom_elements$$($e$jscomp$9$$)}}}
function $JSCompiler_StaticMethods_connectedCallback_$$($JSCompiler_StaticMethods_connectedCallback_$self$$,$node$jscomp$4$$){var $def$jscomp$4$$=$JSCompiler_StaticMethods_connectedCallback_$self$$.getByName($node$jscomp$4$$.localName);if($def$jscomp$4$$&&($JSCompiler_StaticMethods_upgradeSelf_$$($JSCompiler_StaticMethods_connectedCallback_$self$$,$node$jscomp$4$$,$def$jscomp$4$$),$node$jscomp$4$$.connectedCallback))try{$node$jscomp$4$$.connectedCallback()}catch($e$jscomp$10$$){$rethrowAsync$$module$src$polyfills$custom_elements$$($e$jscomp$10$$)}}
function $JSCompiler_StaticMethods_observe_$$($JSCompiler_StaticMethods_observe_$self$$,$name$jscomp$78$$){if($JSCompiler_StaticMethods_observe_$self$$.$query_$)$JSCompiler_StaticMethods_observe_$self$$.$query_$+=","+$name$jscomp$78$$;else{$JSCompiler_StaticMethods_observe_$self$$.$query_$=$name$jscomp$78$$;var $mo$$=new $JSCompiler_StaticMethods_observe_$self$$.$win_$.MutationObserver(function($name$jscomp$78$$){$name$jscomp$78$$&&$JSCompiler_StaticMethods_handleRecords_$$($JSCompiler_StaticMethods_observe_$self$$,
$name$jscomp$78$$)});$JSCompiler_StaticMethods_observe_$self$$.$mutationObserver_$=$mo$$;$JSCompiler_StaticMethods_observe_$self$$.$observed_$.forEach(function($JSCompiler_StaticMethods_observe_$self$$){$mo$$.observe($JSCompiler_StaticMethods_observe_$self$$,$TRACK_SUBTREE$$module$src$polyfills$custom_elements$$)});$JSCompiler_StaticMethods_observe_$self$$.$observed_$.length=0;$installPatches$$module$src$polyfills$custom_elements$$($JSCompiler_StaticMethods_observe_$self$$.$win_$,$JSCompiler_StaticMethods_observe_$self$$)}}
$JSCompiler_prototypeAlias$$.observe=function($tree$jscomp$1$$){this.$mutationObserver_$?this.$mutationObserver_$.observe($tree$jscomp$1$$,$TRACK_SUBTREE$$module$src$polyfills$custom_elements$$):this.$observed_$.push($tree$jscomp$1$$)};$JSCompiler_prototypeAlias$$.sync=function(){this.$mutationObserver_$&&$JSCompiler_StaticMethods_handleRecords_$$(this,this.$mutationObserver_$.takeRecords())};
function $JSCompiler_StaticMethods_handleRecords_$$($JSCompiler_StaticMethods_handleRecords_$self$$,$records$jscomp$1$$){for(var $i$jscomp$5$$=0;$i$jscomp$5$$<$records$jscomp$1$$.length;$i$jscomp$5$$++){var $record$$=$records$jscomp$1$$[$i$jscomp$5$$];if($record$$){var $$jscomp$destructuring$var4_i$7_i$9$$=$record$$,$addedNodes$$=$$jscomp$destructuring$var4_i$7_i$9$$.addedNodes,$removedNodes$$=$$jscomp$destructuring$var4_i$7_i$9$$.removedNodes;for($$jscomp$destructuring$var4_i$7_i$9$$=0;$$jscomp$destructuring$var4_i$7_i$9$$<
$addedNodes$$.length;$$jscomp$destructuring$var4_i$7_i$9$$++){var $i$11_i$8_node$10_node$jscomp$6$$=$addedNodes$$[$$jscomp$destructuring$var4_i$7_i$9$$],$connectedCandidates$$=$JSCompiler_StaticMethods_queryAll_$$($i$11_i$8_node$10_node$jscomp$6$$,$JSCompiler_StaticMethods_handleRecords_$self$$.$query_$);$JSCompiler_StaticMethods_connectedCallback_$$($JSCompiler_StaticMethods_handleRecords_$self$$,$i$11_i$8_node$10_node$jscomp$6$$);for($i$11_i$8_node$10_node$jscomp$6$$=0;$i$11_i$8_node$10_node$jscomp$6$$<
$connectedCandidates$$.length;$i$11_i$8_node$10_node$jscomp$6$$++)$JSCompiler_StaticMethods_connectedCallback_$$($JSCompiler_StaticMethods_handleRecords_$self$$,$connectedCandidates$$[$i$11_i$8_node$10_node$jscomp$6$$])}for($$jscomp$destructuring$var4_i$7_i$9$$=0;$$jscomp$destructuring$var4_i$7_i$9$$<$removedNodes$$.length;$$jscomp$destructuring$var4_i$7_i$9$$++){$i$11_i$8_node$10_node$jscomp$6$$=$removedNodes$$[$$jscomp$destructuring$var4_i$7_i$9$$];var $disconnectedCandidates$$=$JSCompiler_StaticMethods_queryAll_$$($i$11_i$8_node$10_node$jscomp$6$$,
$JSCompiler_StaticMethods_handleRecords_$self$$.$query_$);if($i$11_i$8_node$10_node$jscomp$6$$.disconnectedCallback)try{$i$11_i$8_node$10_node$jscomp$6$$.disconnectedCallback()}catch($JSCompiler_e$jscomp$inline_204$$){$rethrowAsync$$module$src$polyfills$custom_elements$$($JSCompiler_e$jscomp$inline_204$$)}for($i$11_i$8_node$10_node$jscomp$6$$=0;$i$11_i$8_node$10_node$jscomp$6$$<$disconnectedCandidates$$.length;$i$11_i$8_node$10_node$jscomp$6$$++){var $JSCompiler_node$jscomp$inline_207$$=$disconnectedCandidates$$[$i$11_i$8_node$10_node$jscomp$6$$];
if($JSCompiler_node$jscomp$inline_207$$.disconnectedCallback)try{$JSCompiler_node$jscomp$inline_207$$.disconnectedCallback()}catch($JSCompiler_e$jscomp$inline_208$$){$rethrowAsync$$module$src$polyfills$custom_elements$$($JSCompiler_e$jscomp$inline_208$$)}}}}}}
function $installPatches$$module$src$polyfills$custom_elements$$($$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$,$registry$jscomp$1$$){var $Object$jscomp$1$$=$$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$.Object,$docProto$$=$$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$.Document.prototype,$elProto$$=$$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$.Element.prototype,$nodeProto$$=$$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$.Node.prototype;
$$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$=$docProto$$;var $createElement$$=$$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$.createElement,$importNode$$=$$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$.importNode;$$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$=$nodeProto$$;var $appendChild$$=$$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$.appendChild,$cloneNode$$=$$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$.cloneNode,
$insertBefore$$=$$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$.insertBefore,$removeChild$$=$$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$.removeChild,$replaceChild$$=$$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$.replaceChild;$docProto$$.createElement=function($$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$){var $Object$jscomp$1$$=$registry$jscomp$1$$.getByName($$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$);
return $Object$jscomp$1$$?new $Object$jscomp$1$$.ctor:$createElement$$.apply(this,arguments)};$docProto$$.importNode=function(){var $$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$=$importNode$$.apply(this,arguments);$$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$&&($registry$jscomp$1$$.upgradeSelf($$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$),$registry$jscomp$1$$.upgrade($$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$));
return $$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$};$nodeProto$$.appendChild=function(){var $$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$=$appendChild$$.apply(this,arguments);$registry$jscomp$1$$.sync();return $$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$};$nodeProto$$.insertBefore=function(){var $$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$=$insertBefore$$.apply(this,arguments);$registry$jscomp$1$$.sync();
return $$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$};$nodeProto$$.removeChild=function(){var $$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$=$removeChild$$.apply(this,arguments);$registry$jscomp$1$$.sync();return $$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$};$nodeProto$$.replaceChild=function(){var $$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$=$replaceChild$$.apply(this,arguments);$registry$jscomp$1$$.sync();
return $$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$};$nodeProto$$.cloneNode=function(){var $$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$=$cloneNode$$.apply(this,arguments);$registry$jscomp$1$$.upgradeSelf($$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$);$registry$jscomp$1$$.upgrade($$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$);return $$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$};
var $innerHTMLDesc$$=$Object$jscomp$1$$.getOwnPropertyDescriptor($elProto$$,"innerHTML"),$innerHTMLSetter$$=$innerHTMLDesc$$.set;$innerHTMLDesc$$.set=function($$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$){$innerHTMLSetter$$.call(this,$$jscomp$destructuring$var6_$jscomp$destructuring$var7_win$jscomp$9$$);$registry$jscomp$1$$.upgrade(this)};$Object$jscomp$1$$.defineProperty($elProto$$,"innerHTML",$innerHTMLDesc$$)}
function $polyfill$$module$src$polyfills$custom_elements$$($win$jscomp$10$$){function $HTMLElementPolyfill$$(){var $win$jscomp$10$$=this.constructor,$HTMLElementPolyfill$$=$registry$jscomp$2$$.current();$HTMLElementPolyfill$$||($HTMLElementPolyfill$$=$registry$jscomp$2$$.getByConstructor($win$jscomp$10$$),$HTMLElementPolyfill$$=$createElement$jscomp$1$$.call($document$jscomp$1$$,$HTMLElementPolyfill$$.name));$Object$jscomp$2$$.setPrototypeOf($HTMLElementPolyfill$$,$win$jscomp$10$$.prototype);return $HTMLElementPolyfill$$}
var $Element$jscomp$2_elProto$jscomp$1$$=$win$jscomp$10$$.Element,$HTMLElement$jscomp$1$$=$win$jscomp$10$$.HTMLElement,$Object$jscomp$2$$=$win$jscomp$10$$.Object,$document$jscomp$1$$=$win$jscomp$10$$.document,$createElement$jscomp$1$$=$document$jscomp$1$$.createElement,$registry$jscomp$2$$=new $Registry$$module$src$polyfills$custom_elements$$($win$jscomp$10$$),$customElements$jscomp$2$$=new $CustomElementRegistry$$module$src$polyfills$custom_elements$$($win$jscomp$10$$,$registry$jscomp$2$$);$Object$jscomp$2$$.defineProperty($win$jscomp$10$$,
"customElements",{enumerable:!0,configurable:!0,value:$customElements$jscomp$2$$});$Element$jscomp$2_elProto$jscomp$1$$=$Element$jscomp$2_elProto$jscomp$1$$.prototype;var $attachShadow$$=$Element$jscomp$2_elProto$jscomp$1$$.attachShadow,$createShadowRoot$$=$Element$jscomp$2_elProto$jscomp$1$$.createShadowRoot;$attachShadow$$&&($Element$jscomp$2_elProto$jscomp$1$$.attachShadow=function($win$jscomp$10$$){var $HTMLElementPolyfill$$=$attachShadow$$.apply(this,arguments);$registry$jscomp$2$$.observe($HTMLElementPolyfill$$);
return $HTMLElementPolyfill$$},$Element$jscomp$2_elProto$jscomp$1$$.attachShadow.toString=function(){return $attachShadow$$.toString()});$createShadowRoot$$&&($Element$jscomp$2_elProto$jscomp$1$$.createShadowRoot=function(){var $win$jscomp$10$$=$createShadowRoot$$.apply(this,arguments);$registry$jscomp$2$$.observe($win$jscomp$10$$);return $win$jscomp$10$$},$Element$jscomp$2_elProto$jscomp$1$$.createShadowRoot.toString=function(){return $createShadowRoot$$.toString()});$subClass$$module$src$polyfills$custom_elements$$($Object$jscomp$2$$,
$HTMLElement$jscomp$1$$,$HTMLElementPolyfill$$);$win$jscomp$10$$.HTMLElement=$HTMLElementPolyfill$$}
function $wrapHTMLElement$$module$src$polyfills$custom_elements$$($win$jscomp$11$$){function $HTMLElementWrapper$$(){return $Reflect$jscomp$1$$.construct($HTMLElement$jscomp$2$$,[],this.constructor)}var $HTMLElement$jscomp$2$$=$win$jscomp$11$$.HTMLElement,$Reflect$jscomp$1$$=$win$jscomp$11$$.Reflect;$subClass$$module$src$polyfills$custom_elements$$($win$jscomp$11$$.Object,$HTMLElement$jscomp$2$$,$HTMLElementWrapper$$);$win$jscomp$11$$.HTMLElement=$HTMLElementWrapper$$}
function $subClass$$module$src$polyfills$custom_elements$$($Object$jscomp$4$$,$superClass$$,$subClass$$){$subClass$$.prototype=$Object$jscomp$4$$.create($superClass$$.prototype,{constructor:{configurable:!0,writable:!0,value:$subClass$$}})}
function $install$$module$src$polyfills$custom_elements$$($win$jscomp$12$$){var $opt_ctor$$;if(-1!==$win$jscomp$12$$.HTMLElement.toString().indexOf("[native code]")){var $install$$=!0,$installWrapper$$=!1,$JSCompiler_customElements$jscomp$inline_211_JSCompiler_temp$jscomp$105$$;if($JSCompiler_customElements$jscomp$inline_211_JSCompiler_temp$jscomp$105$$=$opt_ctor$$)$JSCompiler_customElements$jscomp$inline_211_JSCompiler_temp$jscomp$105$$=$win$jscomp$12$$.customElements,$JSCompiler_customElements$jscomp$inline_211_JSCompiler_temp$jscomp$105$$=
!!($JSCompiler_customElements$jscomp$inline_211_JSCompiler_temp$jscomp$105$$&&$JSCompiler_customElements$jscomp$inline_211_JSCompiler_temp$jscomp$105$$.define&&$JSCompiler_customElements$jscomp$inline_211_JSCompiler_temp$jscomp$105$$.get&&$JSCompiler_customElements$jscomp$inline_211_JSCompiler_temp$jscomp$105$$.whenDefined);if($JSCompiler_customElements$jscomp$inline_211_JSCompiler_temp$jscomp$105$$)try{var $Reflect$13$$=$win$jscomp$12$$.Reflect,$instance$$=$win$jscomp$12$$.Object.create($opt_ctor$$.prototype);
$opt_ctor$$.call($instance$$);$installWrapper$$=!(!$Reflect$13$$||!$Reflect$13$$.construct)}catch($e$jscomp$12$$){$install$$=!1}$installWrapper$$?$wrapHTMLElement$$module$src$polyfills$custom_elements$$($win$jscomp$12$$):$install$$&&$polyfill$$module$src$polyfills$custom_elements$$($win$jscomp$12$$)}};function $domTokenListTogglePolyfill$$module$src$polyfills$domtokenlist_toggle$$($token$jscomp$3$$,$opt_force$jscomp$1$$){var $remove$$=void 0===$opt_force$jscomp$1$$?this.contains($token$jscomp$3$$):!$opt_force$jscomp$1$$;if($remove$$)return this.remove($token$jscomp$3$$),!1;this.add($token$jscomp$3$$);return!0}
function $install$$module$src$polyfills$domtokenlist_toggle$$($win$jscomp$13$$){/Trident|MSIE|IEMobile/i.test($win$jscomp$13$$.navigator.userAgent)&&$win$jscomp$13$$.DOMTokenList&&$win$jscomp$13$$.Object.defineProperty($win$jscomp$13$$.DOMTokenList.prototype,"toggle",{enumerable:!1,configurable:!0,writable:!0,value:$domTokenListTogglePolyfill$$module$src$polyfills$domtokenlist_toggle$$})};function $documentContainsPolyfill$$module$src$polyfills$document_contains$$($node$jscomp$7$$){return $node$jscomp$7$$==this||this.documentElement.contains($node$jscomp$7$$)}
function $install$$module$src$polyfills$document_contains$$($win$jscomp$15$$){var $documentClass$$=$win$jscomp$15$$.HTMLDocument||$win$jscomp$15$$.Document;$documentClass$$.prototype.contains||$win$jscomp$15$$.Object.defineProperty($documentClass$$.prototype,"contains",{enumerable:!1,configurable:!0,writable:!0,value:$documentContainsPolyfill$$module$src$polyfills$document_contains$$})};var $toString_$$module$src$types$$=Object.prototype.toString;function $isArray$$module$src$types$$($value$jscomp$89$$){return Array.isArray($value$jscomp$89$$)}function $toArray$$module$src$types$$($arrayLike$jscomp$1$$){return $arrayLike$jscomp$1$$?Array.prototype.slice.call($arrayLike$jscomp$1$$):[]}function $isObject$$module$src$types$$($value$jscomp$90$$){return"[object Object]"===$toString_$$module$src$types$$.call($value$jscomp$90$$)}
function $isFiniteNumber$$module$src$types$$($value$jscomp$91$$){return"number"===typeof $value$jscomp$91$$&&isFinite($value$jscomp$91$$)};function $isUserErrorMessage$$module$src$log$$($message$jscomp$24$$){return 0<=$message$jscomp$24$$.indexOf("\u200b\u200b\u200b")}var $levelOverride_$$module$src$log$$=void 0;function $overrideLogLevel$$module$src$log$$($level$jscomp$17$$){$levelOverride_$$module$src$log$$=$level$jscomp$17$$}
function $Log$$module$src$log$$($win$jscomp$16$$,$levelFunc$$,$opt_suffix$$){this.win=$getMode$$module$src$mode$$().test&&$win$jscomp$16$$.AMP_TEST_IFRAME?$win$jscomp$16$$.parent:$win$jscomp$16$$;this.$levelFunc_$=$levelFunc$$;this.$level_$=this.win.console&&this.win.console.log&&"0"!=$getMode$$module$src$mode$$().log?$getMode$$module$src$mode$$().test&&this.win.ENABLE_LOG?4:$getMode$$module$src$mode$$().localDev&&!$getMode$$module$src$mode$$().log?3:this.$levelFunc_$({localDev:$getMode$$module$src$mode$$(void 0).localDev,
development:$getMode$$module$src$mode$$(void 0).development,filter:$getMode$$module$src$mode$$(void 0).filter,minified:$getMode$$module$src$mode$$(void 0).minified,lite:$getMode$$module$src$mode$$(void 0).lite,test:$getMode$$module$src$mode$$(void 0).test,log:$getMode$$module$src$mode$$(void 0).log,version:$getMode$$module$src$mode$$(void 0).version,rtvVersion:$getMode$$module$src$mode$$(void 0).rtvVersion,singlePassType:$getMode$$module$src$mode$$(void 0).singlePassType}):0;this.$suffix_$=$opt_suffix$$||
""}function $JSCompiler_StaticMethods_getLevel_$$($JSCompiler_StaticMethods_getLevel_$self$$){return void 0!==$levelOverride_$$module$src$log$$?$levelOverride_$$module$src$log$$:$JSCompiler_StaticMethods_getLevel_$self$$.$level_$}
function $JSCompiler_StaticMethods_msg_$$($JSCompiler_StaticMethods_msg_$self$$,$tag$jscomp$2$$,$level$jscomp$18$$,$messages$$){if(0!=$JSCompiler_StaticMethods_getLevel_$$($JSCompiler_StaticMethods_msg_$self$$)){var $fn$jscomp$1$$=$JSCompiler_StaticMethods_msg_$self$$.win.console.log;"ERROR"==$level$jscomp$18$$?$fn$jscomp$1$$=$JSCompiler_StaticMethods_msg_$self$$.win.console.error||$fn$jscomp$1$$:"INFO"==$level$jscomp$18$$?$fn$jscomp$1$$=$JSCompiler_StaticMethods_msg_$self$$.win.console.info||$fn$jscomp$1$$:
"WARN"==$level$jscomp$18$$&&($fn$jscomp$1$$=$JSCompiler_StaticMethods_msg_$self$$.win.console.warn||$fn$jscomp$1$$);$getMode$$module$src$mode$$().localDev&&$messages$$.unshift("["+$tag$jscomp$2$$+"]");$fn$jscomp$1$$.apply($JSCompiler_StaticMethods_msg_$self$$.win.console,$messages$$)}}$JSCompiler_prototypeAlias$$=$Log$$module$src$log$$.prototype;$JSCompiler_prototypeAlias$$.isEnabled=function(){return 0!=$JSCompiler_StaticMethods_getLevel_$$(this)};
$JSCompiler_prototypeAlias$$.fine=function($tag$jscomp$3$$,$var_args$jscomp$44$$){4<=$JSCompiler_StaticMethods_getLevel_$$(this)&&$JSCompiler_StaticMethods_msg_$$(this,$tag$jscomp$3$$,"FINE",Array.prototype.slice.call(arguments,1))};$JSCompiler_prototypeAlias$$.info=function($tag$jscomp$4$$,$var_args$jscomp$45$$){3<=$JSCompiler_StaticMethods_getLevel_$$(this)&&$JSCompiler_StaticMethods_msg_$$(this,$tag$jscomp$4$$,"INFO",Array.prototype.slice.call(arguments,1))};
$JSCompiler_prototypeAlias$$.warn=function($tag$jscomp$5$$,$var_args$jscomp$46$$){2<=$JSCompiler_StaticMethods_getLevel_$$(this)&&$JSCompiler_StaticMethods_msg_$$(this,$tag$jscomp$5$$,"WARN",Array.prototype.slice.call(arguments,1))};
$JSCompiler_prototypeAlias$$.$error_$=function($tag$jscomp$6$$,$var_args$jscomp$47$$){if(1<=$JSCompiler_StaticMethods_getLevel_$$(this))$JSCompiler_StaticMethods_msg_$$(this,$tag$jscomp$6$$,"ERROR",Array.prototype.slice.call(arguments,1));else{var $error$jscomp$3$$=$createErrorVargs$$module$src$log$$.apply(null,Array.prototype.slice.call(arguments,1));$JSCompiler_StaticMethods_prepareError_$$(this,$error$jscomp$3$$);return $error$jscomp$3$$}};
$JSCompiler_prototypeAlias$$.error=function($tag$jscomp$7$$,$var_args$jscomp$48$$){var $error$jscomp$4$$=this.$error_$.apply(this,arguments);$error$jscomp$4$$&&($error$jscomp$4$$.name=$tag$jscomp$7$$||$error$jscomp$4$$.name,self.reportError($error$jscomp$4$$))};$JSCompiler_prototypeAlias$$.expectedError=function($unusedTag$$,$var_args$jscomp$49$$){var $error$jscomp$5$$=this.$error_$.apply(this,arguments);$error$jscomp$5$$&&($error$jscomp$5$$.expected=!0,self.reportError($error$jscomp$5$$))};
$JSCompiler_prototypeAlias$$.createError=function($var_args$jscomp$50$$){var $error$jscomp$6$$=$createErrorVargs$$module$src$log$$.apply(null,arguments);$JSCompiler_StaticMethods_prepareError_$$(this,$error$jscomp$6$$);return $error$jscomp$6$$};
$JSCompiler_prototypeAlias$$.createExpectedError=function($var_args$jscomp$51$$){var $error$jscomp$7$$=$createErrorVargs$$module$src$log$$.apply(null,arguments);$JSCompiler_StaticMethods_prepareError_$$(this,$error$jscomp$7$$);$error$jscomp$7$$.expected=!0;return $error$jscomp$7$$};
$JSCompiler_prototypeAlias$$.assert=function($shouldBeTrueish$$,$opt_message$jscomp$7$$,$var_args$jscomp$52$$){var $firstElement$$;if(!$shouldBeTrueish$$){var $splitMessage$$=($opt_message$jscomp$7$$||"Assertion failed").split("%s"),$JSCompiler_val$jscomp$inline_217_JSCompiler_val$jscomp$inline_219_first$jscomp$5$$=$splitMessage$$.shift(),$formatted$$=$JSCompiler_val$jscomp$inline_217_JSCompiler_val$jscomp$inline_219_first$jscomp$5$$,$messageArray$$=[],$e$jscomp$13_i$jscomp$6$$=2;for(""!=$JSCompiler_val$jscomp$inline_217_JSCompiler_val$jscomp$inline_219_first$jscomp$5$$&&
$messageArray$$.push($JSCompiler_val$jscomp$inline_217_JSCompiler_val$jscomp$inline_219_first$jscomp$5$$);0<$splitMessage$$.length;){var $nextConstant$$=$splitMessage$$.shift(),$val$$=arguments[$e$jscomp$13_i$jscomp$6$$++];$val$$&&$val$$.tagName&&($firstElement$$=$val$$);$messageArray$$.push($val$$);$JSCompiler_val$jscomp$inline_217_JSCompiler_val$jscomp$inline_219_first$jscomp$5$$=$nextConstant$$.trim();""!=$JSCompiler_val$jscomp$inline_217_JSCompiler_val$jscomp$inline_219_first$jscomp$5$$&&$messageArray$$.push($JSCompiler_val$jscomp$inline_217_JSCompiler_val$jscomp$inline_219_first$jscomp$5$$);
$JSCompiler_val$jscomp$inline_217_JSCompiler_val$jscomp$inline_219_first$jscomp$5$$=$val$$;$formatted$$+=($JSCompiler_val$jscomp$inline_217_JSCompiler_val$jscomp$inline_219_first$jscomp$5$$&&1==$JSCompiler_val$jscomp$inline_217_JSCompiler_val$jscomp$inline_219_first$jscomp$5$$.nodeType?$JSCompiler_val$jscomp$inline_217_JSCompiler_val$jscomp$inline_219_first$jscomp$5$$.tagName.toLowerCase()+($JSCompiler_val$jscomp$inline_217_JSCompiler_val$jscomp$inline_219_first$jscomp$5$$.id?"#"+$JSCompiler_val$jscomp$inline_217_JSCompiler_val$jscomp$inline_219_first$jscomp$5$$.id:
""):$JSCompiler_val$jscomp$inline_217_JSCompiler_val$jscomp$inline_219_first$jscomp$5$$)+$nextConstant$$}$e$jscomp$13_i$jscomp$6$$=Error($formatted$$);$e$jscomp$13_i$jscomp$6$$.fromAssert=!0;$e$jscomp$13_i$jscomp$6$$.associatedElement=$firstElement$$;$e$jscomp$13_i$jscomp$6$$.messageArray=$messageArray$$;$JSCompiler_StaticMethods_prepareError_$$(this,$e$jscomp$13_i$jscomp$6$$);self.reportError($e$jscomp$13_i$jscomp$6$$);throw $e$jscomp$13_i$jscomp$6$$;}return $shouldBeTrueish$$};
$JSCompiler_prototypeAlias$$.assertElement=function($shouldBeElement$$,$opt_message$jscomp$8$$){this.assert($shouldBeElement$$&&1==$shouldBeElement$$.nodeType,($opt_message$jscomp$8$$||"Element expected")+": %s",$shouldBeElement$$);return $shouldBeElement$$};$JSCompiler_prototypeAlias$$.assertString=function($shouldBeString$$,$opt_message$jscomp$9$$){this.assert("string"==typeof $shouldBeString$$,($opt_message$jscomp$9$$||"String expected")+": %s",$shouldBeString$$);return $shouldBeString$$};
$JSCompiler_prototypeAlias$$.assertNumber=function($shouldBeNumber$$,$opt_message$jscomp$10$$){this.assert("number"==typeof $shouldBeNumber$$,($opt_message$jscomp$10$$||"Number expected")+": %s",$shouldBeNumber$$);return $shouldBeNumber$$};$JSCompiler_prototypeAlias$$.assertArray=function($shouldBeArray$$,$opt_message$jscomp$11$$){this.assert(Array.isArray($shouldBeArray$$),($opt_message$jscomp$11$$||"Array expected")+": %s",$shouldBeArray$$);return $shouldBeArray$$};
$JSCompiler_prototypeAlias$$.assertBoolean=function($shouldBeBoolean$$,$opt_message$jscomp$12$$){this.assert(!!$shouldBeBoolean$$===$shouldBeBoolean$$,($opt_message$jscomp$12$$||"Boolean expected")+": %s",$shouldBeBoolean$$);return $shouldBeBoolean$$};
$JSCompiler_prototypeAlias$$.assertEnumValue=function($JSCompiler_inline_result$jscomp$106_enumObj$jscomp$1$$,$s$jscomp$7$$,$opt_enumName$$){a:{for(var $JSCompiler_k$jscomp$inline_223$$ in $JSCompiler_inline_result$jscomp$106_enumObj$jscomp$1$$)if($JSCompiler_inline_result$jscomp$106_enumObj$jscomp$1$$[$JSCompiler_k$jscomp$inline_223$$]===$s$jscomp$7$$){$JSCompiler_inline_result$jscomp$106_enumObj$jscomp$1$$=!0;break a}$JSCompiler_inline_result$jscomp$106_enumObj$jscomp$1$$=!1}if($JSCompiler_inline_result$jscomp$106_enumObj$jscomp$1$$)return $s$jscomp$7$$;
this.assert(!1,'Unknown %s value: "%s"',$opt_enumName$$||"enum",$s$jscomp$7$$)};
function $JSCompiler_StaticMethods_prepareError_$$($JSCompiler_StaticMethods_prepareError_$self$$,$error$jscomp$8$$){$error$jscomp$8$$=$duplicateErrorIfNecessary$$module$src$log$$($error$jscomp$8$$);$JSCompiler_StaticMethods_prepareError_$self$$.$suffix_$?$error$jscomp$8$$.message?-1==$error$jscomp$8$$.message.indexOf($JSCompiler_StaticMethods_prepareError_$self$$.$suffix_$)&&($error$jscomp$8$$.message+=$JSCompiler_StaticMethods_prepareError_$self$$.$suffix_$):$error$jscomp$8$$.message=$JSCompiler_StaticMethods_prepareError_$self$$.$suffix_$:
$isUserErrorMessage$$module$src$log$$($error$jscomp$8$$.message)&&($error$jscomp$8$$.message=$error$jscomp$8$$.message.replace("\u200b\u200b\u200b",""))}
function $duplicateErrorIfNecessary$$module$src$log$$($error$jscomp$9$$){var $messageProperty$$=Object.getOwnPropertyDescriptor($error$jscomp$9$$,"message");if($messageProperty$$&&$messageProperty$$.writable)return $error$jscomp$9$$;var $stack$$=$error$jscomp$9$$.stack,$e$jscomp$14$$=Error($error$jscomp$9$$.message),$prop$jscomp$2$$;for($prop$jscomp$2$$ in $error$jscomp$9$$)$e$jscomp$14$$[$prop$jscomp$2$$]=$error$jscomp$9$$[$prop$jscomp$2$$];$e$jscomp$14$$.stack=$stack$$;return $e$jscomp$14$$}
function $createErrorVargs$$module$src$log$$($var_args$jscomp$53$$){for(var $error$jscomp$10$$=null,$message$jscomp$28$$="",$i$jscomp$7$$=0;$i$jscomp$7$$<arguments.length;$i$jscomp$7$$++){var $arg$jscomp$6$$=arguments[$i$jscomp$7$$];$arg$jscomp$6$$ instanceof Error&&!$error$jscomp$10$$?$error$jscomp$10$$=$duplicateErrorIfNecessary$$module$src$log$$($arg$jscomp$6$$):($message$jscomp$28$$&&($message$jscomp$28$$+=" "),$message$jscomp$28$$+=$arg$jscomp$6$$)}$error$jscomp$10$$?$message$jscomp$28$$&&($error$jscomp$10$$.message=
$message$jscomp$28$$+": "+$error$jscomp$10$$.message):$error$jscomp$10$$=Error($message$jscomp$28$$);return $error$jscomp$10$$}function $rethrowAsync$$module$src$log$$($var_args$jscomp$54$$){var $error$jscomp$11$$=$createErrorVargs$$module$src$log$$.apply(null,arguments);setTimeout(function(){self.reportError($error$jscomp$11$$);throw $error$jscomp$11$$;})}self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log,$logConstructor$$module$src$log$$=null;
function $user$$module$src$log$$($opt_element$jscomp$5$$){$logs$$module$src$log$$.user||($logs$$module$src$log$$.user=$getUserLogger$$module$src$log$$("\u200b\u200b\u200b"));var $JSCompiler_win$jscomp$inline_226$$=$logs$$module$src$log$$.user.win;return $opt_element$jscomp$5$$&&$opt_element$jscomp$5$$.ownerDocument.defaultView!=$JSCompiler_win$jscomp$inline_226$$?$logs$$module$src$log$$.userForEmbed?$logs$$module$src$log$$.userForEmbed:$logs$$module$src$log$$.userForEmbed=$getUserLogger$$module$src$log$$("\u200b\u200b\u200b\u200b"):
$logs$$module$src$log$$.user}function $getUserLogger$$module$src$log$$($suffix$$){if(!$logConstructor$$module$src$log$$)throw Error("failed to call initLogConstructor");return new $logConstructor$$module$src$log$$(self,function($suffix$$){var $mode$jscomp$13$$=parseInt($suffix$$.log,10);return $suffix$$.development||1<=$mode$jscomp$13$$?4:2},$suffix$$)}
function $dev$$module$src$log$$(){if($logs$$module$src$log$$.dev)return $logs$$module$src$log$$.dev;if(!$logConstructor$$module$src$log$$)throw Error("failed to call initLogConstructor");return $logs$$module$src$log$$.dev=new $logConstructor$$module$src$log$$(self,function($logNum$jscomp$1_mode$jscomp$14$$){$logNum$jscomp$1_mode$jscomp$14$$=parseInt($logNum$jscomp$1_mode$jscomp$14$$.log,10);return 3<=$logNum$jscomp$1_mode$jscomp$14$$?4:2<=$logNum$jscomp$1_mode$jscomp$14$$?3:0})}
function $userAssert$$module$src$log$$($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$,$opt_4$jscomp$1$$){return $user$$module$src$log$$().assert($shouldBeTrueish$jscomp$3$$,$opt_message$jscomp$14$$,$opt_1$jscomp$1$$,$opt_2$jscomp$1$$,$opt_3$jscomp$1$$,$opt_4$jscomp$1$$,void 0,void 0,void 0,void 0,void 0)};var $hasOwn_$$module$src$utils$object$$=Object.prototype.hasOwnProperty;function $map$$module$src$utils$object$$($opt_initial$$){var $obj$jscomp$25$$=Object.create(null);$opt_initial$$&&Object.assign($obj$jscomp$25$$,$opt_initial$$);return $obj$jscomp$25$$}function $dict$$module$src$utils$object$$($opt_initial$jscomp$1$$){return $opt_initial$jscomp$1$$||{}};function $Deferred$$module$src$utils$promise$$(){var $resolve$jscomp$1$$,$reject$$;this.promise=new Promise(function($res$jscomp$1$$,$rej$$){$resolve$jscomp$1$$=$res$jscomp$1$$;$reject$$=$rej$$});this.resolve=$resolve$jscomp$1$$;this.reject=$reject$$}function $tryResolve$$module$src$utils$promise$$($fn$jscomp$2$$){return new Promise(function($resolve$jscomp$2$$){$resolve$jscomp$2$$($fn$jscomp$2$$())})};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var $regex$$module$third_party$css_escape$css_escape$$=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function $escaper$$module$third_party$css_escape$css_escape$$($match$jscomp$1$$,$nil$$,$dash$$,$hexEscape$$,$chars$$){return $chars$$?$chars$$:$nil$$?"\ufffd":$hexEscape$$?$match$jscomp$1$$.slice(0,-1)+"\\"+$match$jscomp$1$$.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+$match$jscomp$1$$};var $scopeSelectorSupported$$module$src$css$$;function $testScopeSelector$$module$src$css$$($el$jscomp$3$$){try{var $doc$jscomp$1$$=$el$jscomp$3$$.ownerDocument,$testElement$$=$doc$jscomp$1$$.createElement("div"),$testChild$$=$doc$jscomp$1$$.createElement("div");$testElement$$.appendChild($testChild$$);return $testElement$$.querySelector(":scope div")===$testChild$$}catch($e$jscomp$15$$){return!1}};function $isDocumentReady$$module$src$document_ready$$($doc$jscomp$2$$){return"loading"!=$doc$jscomp$2$$.readyState&&"uninitialized"!=$doc$jscomp$2$$.readyState}function $isDocumentComplete$$module$src$document_ready$$($doc$jscomp$3$$){return"complete"==$doc$jscomp$3$$.readyState}
function $onDocumentReady$$module$src$document_ready$$($doc$jscomp$4$$,$callback$jscomp$55$$){$onDocumentState$$module$src$document_ready$$($doc$jscomp$4$$,$isDocumentReady$$module$src$document_ready$$,$callback$jscomp$55$$)}
function $onDocumentState$$module$src$document_ready$$($doc$jscomp$5$$,$stateFn$$,$callback$jscomp$56$$){var $ready$$=$stateFn$$($doc$jscomp$5$$);if($ready$$)$callback$jscomp$56$$($doc$jscomp$5$$);else{var $readyListener$$=function(){$stateFn$$($doc$jscomp$5$$)&&($ready$$||($ready$$=!0,$callback$jscomp$56$$($doc$jscomp$5$$)),$doc$jscomp$5$$.removeEventListener("readystatechange",$readyListener$$))};$doc$jscomp$5$$.addEventListener("readystatechange",$readyListener$$)}}
function $whenDocumentReady$$module$src$document_ready$$($doc$jscomp$6$$){return new Promise(function($resolve$jscomp$5$$){$onDocumentReady$$module$src$document_ready$$($doc$jscomp$6$$,$resolve$jscomp$5$$)})}function $whenDocumentComplete$$module$src$document_ready$$($doc$jscomp$7$$){return new Promise(function($resolve$jscomp$6$$){$onDocumentState$$module$src$document_ready$$($doc$jscomp$7$$,$isDocumentComplete$$module$src$document_ready$$,$resolve$jscomp$6$$)})};function $endsWith$$module$src$string$$($string$jscomp$5$$,$suffix$jscomp$1$$){var $index$jscomp$68$$=$string$jscomp$5$$.length-$suffix$jscomp$1$$.length;return 0<=$index$jscomp$68$$&&$string$jscomp$5$$.indexOf($suffix$jscomp$1$$,$index$jscomp$68$$)==$index$jscomp$68$$}function $startsWith$$module$src$string$$($string$jscomp$6$$,$prefix$jscomp$2$$){return $prefix$jscomp$2$$.length>$string$jscomp$6$$.length?!1:0==$string$jscomp$6$$.lastIndexOf($prefix$jscomp$2$$,0)};function $waitForChild$$module$src$dom$$($parent$jscomp$2$$,$checkFunc$$,$callback$jscomp$57$$){if($checkFunc$$($parent$jscomp$2$$))$callback$jscomp$57$$();else{var $win$jscomp$18$$=$parent$jscomp$2$$.ownerDocument.defaultView;if($win$jscomp$18$$.MutationObserver){var $observer$$=new $win$jscomp$18$$.MutationObserver(function(){$checkFunc$$($parent$jscomp$2$$)&&($observer$$.disconnect(),$callback$jscomp$57$$())});$observer$$.observe($parent$jscomp$2$$,{childList:!0})}else var $interval$$=$win$jscomp$18$$.setInterval(function(){$checkFunc$$($parent$jscomp$2$$)&&
($win$jscomp$18$$.clearInterval($interval$$),$callback$jscomp$57$$())},5)}}function $waitForHead$$module$src$dom$$($doc$jscomp$8$$,$callback$jscomp$58$$){$waitForChild$$module$src$dom$$($doc$jscomp$8$$.documentElement,function(){return!!$doc$jscomp$8$$.body},$callback$jscomp$58$$)}
function $waitForBody$$module$src$dom$$($doc$jscomp$10$$,$callback$jscomp$59$$){$onDocumentReady$$module$src$document_ready$$($doc$jscomp$10$$,function(){return $waitForHead$$module$src$dom$$($doc$jscomp$10$$,$callback$jscomp$59$$)})}function $waitForBodyPromise$$module$src$dom$$($doc$jscomp$11$$){return new Promise(function($resolve$jscomp$9$$){return $waitForBody$$module$src$dom$$($doc$jscomp$11$$,$resolve$jscomp$9$$)})}
function $removeElement$$module$src$dom$$($element$jscomp$11$$){$element$jscomp$11$$.parentElement&&$element$jscomp$11$$.parentElement.removeChild($element$jscomp$11$$)}
function $isConnectedNode$$module$src$dom$$($n$jscomp$4_node$jscomp$8$$){var $connected$$=$n$jscomp$4_node$jscomp$8$$.isConnected;if(void 0!==$connected$$)return $connected$$;do if($n$jscomp$4_node$jscomp$8$$=$rootNodeFor$$module$src$dom$$($n$jscomp$4_node$jscomp$8$$),$n$jscomp$4_node$jscomp$8$$.host)$n$jscomp$4_node$jscomp$8$$=$n$jscomp$4_node$jscomp$8$$.host;else break;while(1);return $n$jscomp$4_node$jscomp$8$$.nodeType===Node.DOCUMENT_NODE}
function $rootNodeFor$$module$src$dom$$($n$jscomp$5_node$jscomp$9$$){if(Node.prototype.getRootNode)return $n$jscomp$5_node$jscomp$9$$.getRootNode()||$n$jscomp$5_node$jscomp$9$$;for(;$n$jscomp$5_node$jscomp$9$$.parentNode;$n$jscomp$5_node$jscomp$9$$=$n$jscomp$5_node$jscomp$9$$.parentNode);return $n$jscomp$5_node$jscomp$9$$}
function $closest$$module$src$dom$$($el$jscomp$4_element$jscomp$15$$,$callback$jscomp$60$$){for(var $opt_stopAt$$;$el$jscomp$4_element$jscomp$15$$&&$el$jscomp$4_element$jscomp$15$$!==$opt_stopAt$$;$el$jscomp$4_element$jscomp$15$$=$el$jscomp$4_element$jscomp$15$$.parentElement)if($callback$jscomp$60$$($el$jscomp$4_element$jscomp$15$$))return $el$jscomp$4_element$jscomp$15$$;return null}
function $closestNode$$module$src$dom$$($n$jscomp$6_node$jscomp$10$$,$callback$jscomp$61$$){for(;$n$jscomp$6_node$jscomp$10$$;$n$jscomp$6_node$jscomp$10$$=$n$jscomp$6_node$jscomp$10$$.parentNode)if($callback$jscomp$61$$($n$jscomp$6_node$jscomp$10$$))return $n$jscomp$6_node$jscomp$10$$;return null}
function $closestAncestorElementBySelector$$module$src$dom$$($element$jscomp$16$$,$selector$jscomp$2$$){return $element$jscomp$16$$.closest?$element$jscomp$16$$.closest($selector$jscomp$2$$):$closest$$module$src$dom$$($element$jscomp$16$$,function($element$jscomp$16$$){return $matches$$module$src$dom$$($element$jscomp$16$$,$selector$jscomp$2$$)})}
function $childElements$$module$src$dom$$($child$jscomp$3_parent$jscomp$6$$,$callback$jscomp$63$$){var $children$jscomp$126$$=[];for($child$jscomp$3_parent$jscomp$6$$=$child$jscomp$3_parent$jscomp$6$$.firstElementChild;$child$jscomp$3_parent$jscomp$6$$;$child$jscomp$3_parent$jscomp$6$$=$child$jscomp$3_parent$jscomp$6$$.nextElementSibling)$callback$jscomp$63$$($child$jscomp$3_parent$jscomp$6$$)&&$children$jscomp$126$$.push($child$jscomp$3_parent$jscomp$6$$);return $children$jscomp$126$$}
function $lastChildElement$$module$src$dom$$($child$jscomp$4_parent$jscomp$7$$,$callback$jscomp$64$$){for($child$jscomp$4_parent$jscomp$7$$=$child$jscomp$4_parent$jscomp$7$$.lastElementChild;$child$jscomp$4_parent$jscomp$7$$;$child$jscomp$4_parent$jscomp$7$$=$child$jscomp$4_parent$jscomp$7$$.previousElementSibling)if($callback$jscomp$64$$($child$jscomp$4_parent$jscomp$7$$))return $child$jscomp$4_parent$jscomp$7$$;return null}
function $childNodes$$module$src$dom$$($child$jscomp$5_parent$jscomp$8$$,$callback$jscomp$65$$){var $nodes$jscomp$15$$=[];for($child$jscomp$5_parent$jscomp$8$$=$child$jscomp$5_parent$jscomp$8$$.firstChild;$child$jscomp$5_parent$jscomp$8$$;$child$jscomp$5_parent$jscomp$8$$=$child$jscomp$5_parent$jscomp$8$$.nextSibling)$callback$jscomp$65$$($child$jscomp$5_parent$jscomp$8$$)&&$nodes$jscomp$15$$.push($child$jscomp$5_parent$jscomp$8$$);return $nodes$jscomp$15$$}
function $childElementByAttr$$module$src$dom$$($parent$jscomp$9$$,$attr$jscomp$1$$){/^[\w-]+$/.test($attr$jscomp$1$$);return $scopedQuerySelector$$module$src$dom$$($parent$jscomp$9$$,"> ["+$attr$jscomp$1$$+"]")}function $childElementsByTag$$module$src$dom$$($parent$jscomp$13$$,$tagName$jscomp$8$$){/^[\w-]+$/.test($tagName$jscomp$8$$);return $scopedQuerySelectorAll$$module$src$dom$$($parent$jscomp$13$$,"> "+$tagName$jscomp$8$$)}
function $matches$$module$src$dom$$($el$jscomp$8$$,$selector$jscomp$3$$){var $matcher$$=$el$jscomp$8$$.matches||$el$jscomp$8$$.webkitMatchesSelector||$el$jscomp$8$$.mozMatchesSelector||$el$jscomp$8$$.msMatchesSelector||$el$jscomp$8$$.oMatchesSelector;return $matcher$$?$matcher$$.call($el$jscomp$8$$,$selector$jscomp$3$$):!1}
function $scopedQuerySelectionFallback$$module$src$dom$$($root$jscomp$7$$,$selector$jscomp$4$$){var $unique$$="i-amphtml-scoped";$root$jscomp$7$$.classList.add($unique$$);var $scopedSelector$$=$selector$jscomp$4$$.replace(/^|,/g,"$&."+$unique$$+" "),$elements$$=$root$jscomp$7$$.querySelectorAll($scopedSelector$$);$root$jscomp$7$$.classList.remove($unique$$);return $elements$$}
function $scopedQuerySelector$$module$src$dom$$($root$jscomp$8$$,$selector$jscomp$5$$){if(void 0!==$scopeSelectorSupported$$module$src$css$$?$scopeSelectorSupported$$module$src$css$$:$scopeSelectorSupported$$module$src$css$$=$testScopeSelector$$module$src$css$$($root$jscomp$8$$))return $root$jscomp$8$$.querySelector($selector$jscomp$5$$.replace(/^|,/g,"$&:scope "));var $fallbackResult$$=$scopedQuerySelectionFallback$$module$src$dom$$($root$jscomp$8$$,$selector$jscomp$5$$);return void 0===$fallbackResult$$[0]?
null:$fallbackResult$$[0]}function $scopedQuerySelectorAll$$module$src$dom$$($root$jscomp$9$$,$selector$jscomp$6$$){return(void 0!==$scopeSelectorSupported$$module$src$css$$?$scopeSelectorSupported$$module$src$css$$:$scopeSelectorSupported$$module$src$css$$=$testScopeSelector$$module$src$css$$($root$jscomp$9$$))?$root$jscomp$9$$.querySelectorAll($selector$jscomp$6$$.replace(/^|,/g,"$&:scope ")):$scopedQuerySelectionFallback$$module$src$dom$$($root$jscomp$9$$,$selector$jscomp$6$$)}
function $iterateCursor$$module$src$dom$$($iterable$jscomp$2$$,$cb$$){for(var $length$jscomp$17$$=$iterable$jscomp$2$$.length,$i$jscomp$12$$=0;$i$jscomp$12$$<$length$jscomp$17$$;$i$jscomp$12$$++)$cb$$($iterable$jscomp$2$$[$i$jscomp$12$$],$i$jscomp$12$$)}
function $openWindowDialog$$module$src$dom$$($win$jscomp$19$$,$url$jscomp$21$$,$target$jscomp$85$$,$opt_features$$){try{var $res$jscomp$2$$=$win$jscomp$19$$.open($url$jscomp$21$$,$target$jscomp$85$$,$opt_features$$)}catch($e$jscomp$16$$){$dev$$module$src$log$$().error("DOM","Failed to open url on target: ",$target$jscomp$85$$,$e$jscomp$16$$)}$res$jscomp$2$$||"_top"==$target$jscomp$85$$||($res$jscomp$2$$=$win$jscomp$19$$.open($url$jscomp$21$$,"_top"));return $res$jscomp$2$$}
function $tryFocus$$module$src$dom$$($element$jscomp$22$$){try{$element$jscomp$22$$.focus()}catch($e$jscomp$17$$){}}function $isIframed$$module$src$dom$$($win$jscomp$20$$){return $win$jscomp$20$$.parent&&$win$jscomp$20$$.parent!=$win$jscomp$20$$}var $PRECEDING_OR_CONTAINS$$module$src$dom$$=Node.DOCUMENT_POSITION_PRECEDING|Node.DOCUMENT_POSITION_CONTAINS;function $recreateNonProtoObject$$module$src$json$$($obj$jscomp$28$$){var $copy$$=Object.create(null),$k$jscomp$1$$;for($k$jscomp$1$$ in $obj$jscomp$28$$)if($hasOwnProperty$$module$src$json$$($obj$jscomp$28$$,$k$jscomp$1$$)){var $v$$=$obj$jscomp$28$$[$k$jscomp$1$$];$copy$$[$k$jscomp$1$$]=$isObject$$module$src$types$$($v$$)?$recreateNonProtoObject$$module$src$json$$($v$$):$v$$}return $copy$$}function $parseJson$$module$src$json$$($json$$){return JSON.parse($json$$)}
function $hasOwnProperty$$module$src$json$$($obj$jscomp$30$$,$key$jscomp$43$$){return null==$obj$jscomp$30$$||"object"!=typeof $obj$jscomp$30$$?!1:Object.prototype.hasOwnProperty.call($obj$jscomp$30$$,$key$jscomp$43$$)};function $utf8Encode$$module$src$utils$bytes$$($string$jscomp$8$$){return"undefined"!==typeof TextEncoder?(new TextEncoder("utf-8")).encode($string$jscomp$8$$):$stringToBytes$$module$src$utils$bytes$$(unescape(encodeURIComponent($string$jscomp$8$$)))}
function $stringToBytes$$module$src$utils$bytes$$($str$jscomp$8$$){for(var $bytes$jscomp$1$$=new Uint8Array($str$jscomp$8$$.length),$i$jscomp$15$$=0;$i$jscomp$15$$<$str$jscomp$8$$.length;$i$jscomp$15$$++){var $charCode$$=$str$jscomp$8$$.charCodeAt($i$jscomp$15$$);$bytes$jscomp$1$$[$i$jscomp$15$$]=$charCode$$}return $bytes$jscomp$1$$}
function $bytesToString$$module$src$utils$bytes$$($bytes$jscomp$2$$){for(var $array$jscomp$7$$=Array($bytes$jscomp$2$$.length),$i$jscomp$16$$=0;$i$jscomp$16$$<$bytes$jscomp$2$$.length;$i$jscomp$16$$++)$array$jscomp$7$$[$i$jscomp$16$$]=String.fromCharCode($bytes$jscomp$2$$[$i$jscomp$16$$]);return $array$jscomp$7$$.join("")};var $allowedFetchTypes$$module$src$polyfills$fetch$$={document:1,text:2},$allowedMethods$$module$src$polyfills$fetch$$=["GET","POST"];
function $fetchPolyfill$$module$src$polyfills$fetch$$($input$jscomp$9$$,$init$jscomp$2$$){$init$jscomp$2$$=void 0===$init$jscomp$2$$?{}:$init$jscomp$2$$;return new Promise(function($resolve$jscomp$10$$,$reject$jscomp$3$$){var $requestMethod$$=$normalizeMethod$$module$src$polyfills$fetch$$($init$jscomp$2$$.method||"GET"),$xhr$$=$createXhrRequest$$module$src$polyfills$fetch$$($requestMethod$$,$input$jscomp$9$$);"include"==$init$jscomp$2$$.credentials&&($xhr$$.withCredentials=!0);$init$jscomp$2$$.responseType in
$allowedFetchTypes$$module$src$polyfills$fetch$$&&($xhr$$.responseType=$init$jscomp$2$$.responseType);$init$jscomp$2$$.headers&&Object.keys($init$jscomp$2$$.headers).forEach(function($input$jscomp$9$$){$xhr$$.setRequestHeader($input$jscomp$9$$,$init$jscomp$2$$.headers[$input$jscomp$9$$])});$xhr$$.onreadystatechange=function(){2>$xhr$$.readyState||(100>$xhr$$.status||599<$xhr$$.status?($xhr$$.onreadystatechange=null,$reject$jscomp$3$$($user$$module$src$log$$().createExpectedError("Unknown HTTP status "+
$xhr$$.status))):4==$xhr$$.readyState&&$resolve$jscomp$10$$(new $FetchResponse$$module$src$polyfills$fetch$$($xhr$$)))};$xhr$$.onerror=function(){$reject$jscomp$3$$($user$$module$src$log$$().createExpectedError("Network failure"))};$xhr$$.onabort=function(){$reject$jscomp$3$$($user$$module$src$log$$().createExpectedError("Request aborted"))};"POST"==$requestMethod$$?$xhr$$.send($init$jscomp$2$$.body):$xhr$$.send()})}
function $createXhrRequest$$module$src$polyfills$fetch$$($method$jscomp$1$$,$url$jscomp$22$$){var $xhr$jscomp$1$$=new XMLHttpRequest;if("withCredentials"in $xhr$jscomp$1$$)$xhr$jscomp$1$$.open($method$jscomp$1$$,$url$jscomp$22$$,!0);else throw $dev$$module$src$log$$().createExpectedError("CORS is not supported");return $xhr$jscomp$1$$}
function $FetchResponse$$module$src$polyfills$fetch$$($xhr$jscomp$2$$){this.$xhr_$=$xhr$jscomp$2$$;this.status=this.$xhr_$.status;this.statusText=this.$xhr_$.statusText;this.ok=200<=this.status&&300>this.status;this.headers=new $FetchResponseHeaders$$module$src$polyfills$fetch$$($xhr$jscomp$2$$);this.bodyUsed=!1;this.body=null}$FetchResponse$$module$src$polyfills$fetch$$.prototype.clone=function(){return new $FetchResponse$$module$src$polyfills$fetch$$(this.$xhr_$)};
function $JSCompiler_StaticMethods_drainText_$$($JSCompiler_StaticMethods_drainText_$self$$){$JSCompiler_StaticMethods_drainText_$self$$.bodyUsed=!0;return Promise.resolve($JSCompiler_StaticMethods_drainText_$self$$.$xhr_$.responseText)}$FetchResponse$$module$src$polyfills$fetch$$.prototype.text=function(){return $JSCompiler_StaticMethods_drainText_$$(this)};$FetchResponse$$module$src$polyfills$fetch$$.prototype.json=function(){return $JSCompiler_StaticMethods_drainText_$$(this).then($parseJson$$module$src$json$$)};
$FetchResponse$$module$src$polyfills$fetch$$.prototype.arrayBuffer=function(){return $JSCompiler_StaticMethods_drainText_$$(this).then($utf8Encode$$module$src$utils$bytes$$)};function $normalizeMethod$$module$src$polyfills$fetch$$($method$jscomp$2$$){if(void 0===$method$jscomp$2$$)return"GET";$method$jscomp$2$$=$method$jscomp$2$$.toUpperCase();$allowedMethods$$module$src$polyfills$fetch$$.includes($method$jscomp$2$$);return $method$jscomp$2$$}
function $FetchResponseHeaders$$module$src$polyfills$fetch$$($xhr$jscomp$3$$){this.$xhr_$=$xhr$jscomp$3$$}$FetchResponseHeaders$$module$src$polyfills$fetch$$.prototype.get=function($name$jscomp$84$$){return this.$xhr_$.getResponseHeader($name$jscomp$84$$)};$FetchResponseHeaders$$module$src$polyfills$fetch$$.prototype.has=function($name$jscomp$85$$){return null!=this.$xhr_$.getResponseHeader($name$jscomp$85$$)};
function $Response$$module$src$polyfills$fetch$$($body$jscomp$1_data$jscomp$57$$,$init$jscomp$3$$){$init$jscomp$3$$=void 0===$init$jscomp$3$$?{}:$init$jscomp$3$$;var $lowercasedHeaders$$=$map$$module$src$utils$object$$();$body$jscomp$1_data$jscomp$57$$=Object.assign({status:200,statusText:"OK",responseText:$body$jscomp$1_data$jscomp$57$$?String($body$jscomp$1_data$jscomp$57$$):"",getResponseHeader:function($body$jscomp$1_data$jscomp$57$$){var $init$jscomp$3$$=String($body$jscomp$1_data$jscomp$57$$).toLowerCase();
return $hasOwn_$$module$src$utils$object$$.call($lowercasedHeaders$$,$init$jscomp$3$$)?$lowercasedHeaders$$[$init$jscomp$3$$]:null}},$init$jscomp$3$$);$body$jscomp$1_data$jscomp$57$$.status=void 0===$init$jscomp$3$$.status?200:parseInt($init$jscomp$3$$.status,10);if($isArray$$module$src$types$$($init$jscomp$3$$.headers))$init$jscomp$3$$.headers.forEach(function($body$jscomp$1_data$jscomp$57$$){var $init$jscomp$3$$=$body$jscomp$1_data$jscomp$57$$[1];$lowercasedHeaders$$[String($body$jscomp$1_data$jscomp$57$$[0]).toLowerCase()]=
String($init$jscomp$3$$)});else if($isObject$$module$src$types$$($init$jscomp$3$$.headers))for(var $key$jscomp$44$$ in $init$jscomp$3$$.headers)$lowercasedHeaders$$[String($key$jscomp$44$$).toLowerCase()]=String($init$jscomp$3$$.headers[$key$jscomp$44$$]);$init$jscomp$3$$.statusText&&($body$jscomp$1_data$jscomp$57$$.statusText=String($init$jscomp$3$$.statusText));$FetchResponse$$module$src$polyfills$fetch$$.call(this,$body$jscomp$1_data$jscomp$57$$)}
$$jscomp$inherits$$($Response$$module$src$polyfills$fetch$$,$FetchResponse$$module$src$polyfills$fetch$$);function $layoutRectLtwh$$module$src$layout_rect$$($left$jscomp$2$$,$top$jscomp$2$$,$width$jscomp$27$$,$height$jscomp$26$$){return{left:$left$jscomp$2$$,top:$top$jscomp$2$$,width:$width$jscomp$27$$,height:$height$jscomp$26$$,bottom:$top$jscomp$2$$+$height$jscomp$26$$,right:$left$jscomp$2$$+$width$jscomp$27$$,x:$left$jscomp$2$$,y:$top$jscomp$2$$}}
function $rectIntersection$$module$src$layout_rect$$($var_args$jscomp$55$$){for(var $x0$jscomp$2$$=-Infinity,$x1$jscomp$5$$=Infinity,$y0$jscomp$2$$=-Infinity,$y1$jscomp$5$$=Infinity,$i$jscomp$17$$=0;$i$jscomp$17$$<arguments.length;$i$jscomp$17$$++){var $current$jscomp$1$$=arguments[$i$jscomp$17$$];if($current$jscomp$1$$&&($x0$jscomp$2$$=Math.max($x0$jscomp$2$$,$current$jscomp$1$$.left),$x1$jscomp$5$$=Math.min($x1$jscomp$5$$,$current$jscomp$1$$.left+$current$jscomp$1$$.width),$y0$jscomp$2$$=Math.max($y0$jscomp$2$$,
$current$jscomp$1$$.top),$y1$jscomp$5$$=Math.min($y1$jscomp$5$$,$current$jscomp$1$$.top+$current$jscomp$1$$.height),$x1$jscomp$5$$<$x0$jscomp$2$$||$y1$jscomp$5$$<$y0$jscomp$2$$))return null}return Infinity==$x1$jscomp$5$$?null:$layoutRectLtwh$$module$src$layout_rect$$($x0$jscomp$2$$,$y0$jscomp$2$$,$x1$jscomp$5$$-$x0$jscomp$2$$,$y1$jscomp$5$$-$y0$jscomp$2$$)}
function $expandLayoutRect$$module$src$layout_rect$$($rect$jscomp$1$$,$dw$$,$dh$$){return $layoutRectLtwh$$module$src$layout_rect$$($rect$jscomp$1$$.left-$rect$jscomp$1$$.width*$dw$$,$rect$jscomp$1$$.top-$rect$jscomp$1$$.height*$dh$$,$rect$jscomp$1$$.width*(1+2*$dw$$),$rect$jscomp$1$$.height*(1+2*$dh$$))}
function $moveLayoutRect$$module$src$layout_rect$$($rect$jscomp$2$$,$dx$jscomp$4$$,$dy$jscomp$4$$){return 0==$dx$jscomp$4$$&&0==$dy$jscomp$4$$||0==$rect$jscomp$2$$.width&&0==$rect$jscomp$2$$.height?$rect$jscomp$2$$:$layoutRectLtwh$$module$src$layout_rect$$($rect$jscomp$2$$.left+$dx$jscomp$4$$,$rect$jscomp$2$$.top+$dy$jscomp$4$$,$rect$jscomp$2$$.width,$rect$jscomp$2$$.height)};var $nativeClientRect$$module$src$get_bounding_client_rect$$=Element.prototype.getBoundingClientRect;function $getBoundingClientRect$$module$src$get_bounding_client_rect$$(){return $isConnectedNode$$module$src$dom$$(this)?$nativeClientRect$$module$src$get_bounding_client_rect$$.call(this):$layoutRectLtwh$$module$src$layout_rect$$(0,0,0,0)};function $sign$$module$src$polyfills$math_sign$$($x$jscomp$84$$){return($x$jscomp$84$$=Number($x$jscomp$84$$))?0<$x$jscomp$84$$?1:-1:$x$jscomp$84$$};var $hasOwnProperty$$module$src$polyfills$object_assign$$=Object.prototype.hasOwnProperty;
function $assign$$module$src$polyfills$object_assign$$($target$jscomp$86$$,$var_args$jscomp$56$$){if(null==$target$jscomp$86$$)throw new TypeError("Cannot convert undefined or null to object");for(var $output$jscomp$2$$=Object($target$jscomp$86$$),$i$jscomp$18$$=1;$i$jscomp$18$$<arguments.length;$i$jscomp$18$$++){var $source$jscomp$13$$=arguments[$i$jscomp$18$$];if(null!=$source$jscomp$13$$)for(var $key$jscomp$45$$ in $source$jscomp$13$$)$hasOwnProperty$$module$src$polyfills$object_assign$$.call($source$jscomp$13$$,$key$jscomp$45$$)&&
($output$jscomp$2$$[$key$jscomp$45$$]=$source$jscomp$13$$[$key$jscomp$45$$])}return $output$jscomp$2$$};function $values$$module$src$polyfills$object_values$$($target$jscomp$87$$){return Object.keys($target$jscomp$87$$).map(function($k$jscomp$3$$){return $target$jscomp$87$$[$k$jscomp$3$$]})};function $module$node_modules$promise_pjs$promise$default$$($resolver$jscomp$1$$){if(!(this instanceof $module$node_modules$promise_pjs$promise$default$$))throw new TypeError("Constructor Promise requires `new`");if(!$isFunction$$module$node_modules$promise_pjs$promise$$($resolver$jscomp$1$$))throw new TypeError("Must pass resolver function");this._state=$PendingPromise$$module$node_modules$promise_pjs$promise$$;this._value=[];this._isChainEnd=!0;$doResolve$$module$node_modules$promise_pjs$promise$$(this,
$adopter$$module$node_modules$promise_pjs$promise$$(this,$FulfilledPromise$$module$node_modules$promise_pjs$promise$$),$adopter$$module$node_modules$promise_pjs$promise$$(this,$RejectedPromise$$module$node_modules$promise_pjs$promise$$),{then:$resolver$jscomp$1$$})}
$module$node_modules$promise_pjs$promise$default$$.prototype.then=function($onFulfilled$jscomp$1$$,$onRejected$jscomp$2$$){$onFulfilled$jscomp$1$$=$isFunction$$module$node_modules$promise_pjs$promise$$($onFulfilled$jscomp$1$$)?$onFulfilled$jscomp$1$$:void 0;$onRejected$jscomp$2$$=$isFunction$$module$node_modules$promise_pjs$promise$$($onRejected$jscomp$2$$)?$onRejected$jscomp$2$$:void 0;if($onFulfilled$jscomp$1$$||$onRejected$jscomp$2$$)this._isChainEnd=!1;return this._state(this._value,$onFulfilled$jscomp$1$$,
$onRejected$jscomp$2$$)};$module$node_modules$promise_pjs$promise$default$$.prototype.catch=function($onRejected$jscomp$3$$){return this.then(void 0,$onRejected$jscomp$3$$)};function $module$node_modules$promise_pjs$promise$default$resolve$$($value$jscomp$95$$){var $Constructor$$=this;return $value$jscomp$95$$===Object($value$jscomp$95$$)&&$value$jscomp$95$$ instanceof this?$value$jscomp$95$$:new $Constructor$$(function($Constructor$$){$Constructor$$($value$jscomp$95$$)})}
function $module$node_modules$promise_pjs$promise$default$reject$$($reason$jscomp$7$$){return new this(function($_$$,$reject$jscomp$4$$){$reject$jscomp$4$$($reason$jscomp$7$$)})}
function $module$node_modules$promise_pjs$promise$default$all$$($promises$jscomp$1$$){var $Constructor$jscomp$2$$=this;return new $Constructor$jscomp$2$$(function($resolve$jscomp$12$$,$reject$jscomp$5$$){var $length$jscomp$19$$=$promises$jscomp$1$$.length,$values$jscomp$11$$=Array($length$jscomp$19$$);if(0===$length$jscomp$19$$)return $resolve$jscomp$12$$($values$jscomp$11$$);$each$$module$node_modules$promise_pjs$promise$$($promises$jscomp$1$$,function($promises$jscomp$1$$,$index$jscomp$69$$){$Constructor$jscomp$2$$.resolve($promises$jscomp$1$$).then(function($promises$jscomp$1$$){$values$jscomp$11$$[$index$jscomp$69$$]=
$promises$jscomp$1$$;0===--$length$jscomp$19$$&&$resolve$jscomp$12$$($values$jscomp$11$$)},$reject$jscomp$5$$)})})}
function $module$node_modules$promise_pjs$promise$default$race$$($promises$jscomp$2$$){var $Constructor$jscomp$3$$=this;return new $Constructor$jscomp$3$$(function($resolve$jscomp$13$$,$reject$jscomp$6$$){for(var $i$jscomp$19$$=0;$i$jscomp$19$$<$promises$jscomp$2$$.length;$i$jscomp$19$$++)$Constructor$jscomp$3$$.resolve($promises$jscomp$2$$[$i$jscomp$19$$]).then($resolve$jscomp$13$$,$reject$jscomp$6$$)})}
function $FulfilledPromise$$module$node_modules$promise_pjs$promise$$($value$jscomp$97$$,$JSCompiler_promise$jscomp$inline_231_onFulfilled$jscomp$2$$,$unused$jscomp$1$$,$deferred$jscomp$3$$){if(!$JSCompiler_promise$jscomp$inline_231_onFulfilled$jscomp$2$$)return $deferred$jscomp$3$$&&($JSCompiler_promise$jscomp$inline_231_onFulfilled$jscomp$2$$=$deferred$jscomp$3$$.promise,$JSCompiler_promise$jscomp$inline_231_onFulfilled$jscomp$2$$._state=$FulfilledPromise$$module$node_modules$promise_pjs$promise$$,
$JSCompiler_promise$jscomp$inline_231_onFulfilled$jscomp$2$$._value=$value$jscomp$97$$),this;$deferred$jscomp$3$$||($deferred$jscomp$3$$=new $Deferred$$module$node_modules$promise_pjs$promise$$(this.constructor));$defer$$module$node_modules$promise_pjs$promise$$($tryCatchDeferred$$module$node_modules$promise_pjs$promise$$($deferred$jscomp$3$$,$JSCompiler_promise$jscomp$inline_231_onFulfilled$jscomp$2$$,$value$jscomp$97$$));return $deferred$jscomp$3$$.promise}
function $RejectedPromise$$module$node_modules$promise_pjs$promise$$($reason$jscomp$9$$,$JSCompiler_promise$jscomp$inline_236_unused$jscomp$2$$,$onRejected$jscomp$4$$,$deferred$jscomp$4$$){if(!$onRejected$jscomp$4$$)return $deferred$jscomp$4$$&&($JSCompiler_promise$jscomp$inline_236_unused$jscomp$2$$=$deferred$jscomp$4$$.promise,$JSCompiler_promise$jscomp$inline_236_unused$jscomp$2$$._state=$RejectedPromise$$module$node_modules$promise_pjs$promise$$,$JSCompiler_promise$jscomp$inline_236_unused$jscomp$2$$._value=
$reason$jscomp$9$$),this;$deferred$jscomp$4$$||($deferred$jscomp$4$$=new $Deferred$$module$node_modules$promise_pjs$promise$$(this.constructor));$defer$$module$node_modules$promise_pjs$promise$$($tryCatchDeferred$$module$node_modules$promise_pjs$promise$$($deferred$jscomp$4$$,$onRejected$jscomp$4$$,$reason$jscomp$9$$));return $deferred$jscomp$4$$.promise}
function $PendingPromise$$module$node_modules$promise_pjs$promise$$($queue$jscomp$2$$,$onFulfilled$jscomp$3$$,$onRejected$jscomp$5$$,$deferred$jscomp$5$$){if(!$deferred$jscomp$5$$){if(!$onFulfilled$jscomp$3$$&&!$onRejected$jscomp$5$$)return this;$deferred$jscomp$5$$=new $Deferred$$module$node_modules$promise_pjs$promise$$(this.constructor)}$queue$jscomp$2$$.push({deferred:$deferred$jscomp$5$$,onFulfilled:$onFulfilled$jscomp$3$$||$deferred$jscomp$5$$.resolve,onRejected:$onRejected$jscomp$5$$||$deferred$jscomp$5$$.reject});
return $deferred$jscomp$5$$.promise}function $Deferred$$module$node_modules$promise_pjs$promise$$($Promise$jscomp$2$$){var $deferred$jscomp$6$$=this;this.promise=new $Promise$jscomp$2$$(function($Promise$jscomp$2$$,$reject$jscomp$7$$){$deferred$jscomp$6$$.resolve=$Promise$jscomp$2$$;$deferred$jscomp$6$$.reject=$reject$jscomp$7$$});return $deferred$jscomp$6$$}
function $adopt$$module$node_modules$promise_pjs$promise$$($promise$jscomp$8$$,$state$$,$value$jscomp$98$$,$adoptee$$){var $queue$jscomp$3$$=$promise$jscomp$8$$._value;$promise$jscomp$8$$._state=$state$$;$promise$jscomp$8$$._value=$value$jscomp$98$$;$adoptee$$&&$state$$===$PendingPromise$$module$node_modules$promise_pjs$promise$$&&$adoptee$$._state($value$jscomp$98$$,void 0,void 0,{promise:$promise$jscomp$8$$,resolve:void 0,reject:void 0});for(var $i$jscomp$20$$=0;$i$jscomp$20$$<$queue$jscomp$3$$.length;$i$jscomp$20$$++){var $next$$=
$queue$jscomp$3$$[$i$jscomp$20$$];$promise$jscomp$8$$._state($value$jscomp$98$$,$next$$.onFulfilled,$next$$.onRejected,$next$$.deferred)}$queue$jscomp$3$$.length=0;$state$$===$RejectedPromise$$module$node_modules$promise_pjs$promise$$&&$promise$jscomp$8$$._isChainEnd&&setTimeout(function(){if($promise$jscomp$8$$._isChainEnd)throw $value$jscomp$98$$;},0)}
function $adopter$$module$node_modules$promise_pjs$promise$$($promise$jscomp$9$$,$state$jscomp$1$$){return function($value$jscomp$99$$){$adopt$$module$node_modules$promise_pjs$promise$$($promise$jscomp$9$$,$state$jscomp$1$$,$value$jscomp$99$$)}}function $noop$$module$node_modules$promise_pjs$promise$$(){}function $isFunction$$module$node_modules$promise_pjs$promise$$($fn$jscomp$3$$){return"function"===typeof $fn$jscomp$3$$}
function $each$$module$node_modules$promise_pjs$promise$$($collection$$,$iterator$jscomp$6$$){for(var $i$jscomp$21$$=0;$i$jscomp$21$$<$collection$$.length;$i$jscomp$21$$++)$iterator$jscomp$6$$($collection$$[$i$jscomp$21$$],$i$jscomp$21$$)}
function $tryCatchDeferred$$module$node_modules$promise_pjs$promise$$($deferred$jscomp$8$$,$fn$jscomp$4$$,$arg$jscomp$7$$){var $promise$jscomp$11$$=$deferred$jscomp$8$$.promise,$resolve$jscomp$15$$=$deferred$jscomp$8$$.resolve,$reject$jscomp$8$$=$deferred$jscomp$8$$.reject;return function(){try{var $deferred$jscomp$8$$=$fn$jscomp$4$$($arg$jscomp$7$$);$doResolve$$module$node_modules$promise_pjs$promise$$($promise$jscomp$11$$,$resolve$jscomp$15$$,$reject$jscomp$8$$,$deferred$jscomp$8$$,$deferred$jscomp$8$$)}catch($e$jscomp$20$$){$reject$jscomp$8$$($e$jscomp$20$$)}}}
var $defer$$module$node_modules$promise_pjs$promise$$=function(){function $flush$$(){for(var $flush$$=0;$flush$$<$length$jscomp$20$$;$flush$$++){var $defer$$=$queue$jscomp$4$$[$flush$$];$queue$jscomp$4$$[$flush$$]=null;$defer$$()}$length$jscomp$20$$=0}function $defer$$($flush$$){0===$length$jscomp$20$$&&$scheduleFlush$$();$queue$jscomp$4$$[$length$jscomp$20$$++]=$flush$$}if("undefined"!==typeof window&&window.postMessage){window.addEventListener("message",$flush$$);var $scheduleFlush$$=function(){window.postMessage("macro-task",
"*")}}else $scheduleFlush$$=function(){setTimeout($flush$$,0)};var $queue$jscomp$4$$=Array(16),$length$jscomp$20$$=0;return $defer$$}();
function $doResolve$$module$node_modules$promise_pjs$promise$$($promise$jscomp$12$$,$resolve$jscomp$16$$,$reject$jscomp$9$$,$value$jscomp$101$$,$context$$){var $_reject$$=$reject$jscomp$9$$,$then$$;try{if($value$jscomp$101$$===$promise$jscomp$12$$)throw new TypeError("Cannot fulfill promise with itself");var $isObj$$=$value$jscomp$101$$===Object($value$jscomp$101$$);if($isObj$$&&$value$jscomp$101$$ instanceof $promise$jscomp$12$$.constructor)$adopt$$module$node_modules$promise_pjs$promise$$($promise$jscomp$12$$,
$value$jscomp$101$$._state,$value$jscomp$101$$._value,$value$jscomp$101$$);else if($isObj$$&&($then$$=$value$jscomp$101$$.then)&&$isFunction$$module$node_modules$promise_pjs$promise$$($then$$)){var $_resolve$$=function($value$jscomp$101$$){$_resolve$$=$_reject$$=$noop$$module$node_modules$promise_pjs$promise$$;$doResolve$$module$node_modules$promise_pjs$promise$$($promise$jscomp$12$$,$resolve$jscomp$16$$,$reject$jscomp$9$$,$value$jscomp$101$$,$value$jscomp$101$$)};$_reject$$=function($promise$jscomp$12$$){$_resolve$$=
$_reject$$=$noop$$module$node_modules$promise_pjs$promise$$;$reject$jscomp$9$$($promise$jscomp$12$$)};$then$$.call($context$$,function($promise$jscomp$12$$){$_resolve$$($promise$jscomp$12$$)},function($promise$jscomp$12$$){$_reject$$($promise$jscomp$12$$)})}else $resolve$jscomp$16$$($value$jscomp$101$$)}catch($e$jscomp$21$$){$_reject$$($e$jscomp$21$$)}};/*
 Copyright (C) 2014-2016 by Andrea Giammarchi - @WebReflection

Use of this source code is governed by a MIT-style
license that can be found in the LICENSE file or at
https://opensource.org/licenses/MIT.















*/
function $installCustomElements$$module$node_modules$document_register_element$build$document_register_element_patched$$($window$jscomp$1$$){function $secondArgument$$($window$jscomp$1$$){return $window$jscomp$1$$.toLowerCase()}function $ASAP$$(){var $window$jscomp$1$$=$asapQueue$$.splice(0,$asapQueue$$.length);for($asapTimer$$=0;$window$jscomp$1$$.length;)$window$jscomp$1$$.shift().call(null,$window$jscomp$1$$.shift())}function $loopAndVerify$$($window$jscomp$1$$,$secondArgument$$){for(var $ASAP$$=
0,$loopAndVerify$$=$window$jscomp$1$$.length;$ASAP$$<$loopAndVerify$$;$ASAP$$++)$verifyAndSetupAndAction$$($window$jscomp$1$$[$ASAP$$],$secondArgument$$)}function $loopAndSetup$$($window$jscomp$1$$){for(var $secondArgument$$=0,$ASAP$$=$window$jscomp$1$$.length,$loopAndVerify$$;$secondArgument$$<$ASAP$$;$secondArgument$$++)$loopAndVerify$$=$window$jscomp$1$$[$secondArgument$$],$patch$$($loopAndVerify$$,$protos$$[$getTypeIndex$$($loopAndVerify$$)])}function $executeAction$$($window$jscomp$1$$){return function($secondArgument$$){$isValidNode$$($secondArgument$$)&&
($verifyAndSetupAndAction$$($secondArgument$$,$window$jscomp$1$$),$query$jscomp$14$$.length&&$loopAndVerify$$($secondArgument$$.querySelectorAll($query$jscomp$14$$),$window$jscomp$1$$))}}function $getTypeIndex$$($window$jscomp$1$$){var $secondArgument$$=$getAttribute$$.call($window$jscomp$1$$,"is"),$ASAP$$=$window$jscomp$1$$.nodeName.toUpperCase();$window$jscomp$1$$=$indexOf$$.call($types$$,$secondArgument$$?$PREFIX_IS$$+$secondArgument$$.toUpperCase():$PREFIX_TAG$$+$ASAP$$);return $secondArgument$$&&
-1<$window$jscomp$1$$&&!$isInQSA$$($ASAP$$,$secondArgument$$)?-1:$window$jscomp$1$$}function $isInQSA$$($window$jscomp$1$$,$secondArgument$$){return-1<$query$jscomp$14$$.indexOf($window$jscomp$1$$+'[is="'+$secondArgument$$+'"]')}function $onDOMAttrModified$$($window$jscomp$1$$){var $secondArgument$$=$window$jscomp$1$$.currentTarget,$ASAP$$=$window$jscomp$1$$.attrChange,$loopAndVerify$$=$window$jscomp$1$$.attrName,$loopAndSetup$$=$window$jscomp$1$$.target,$executeAction$$=$window$jscomp$1$$[$ADDITION$$]||
2,$getTypeIndex$$=$window$jscomp$1$$[$REMOVAL$$]||3;if($notFromInnerHTMLHelper$$&&(!$loopAndSetup$$||$loopAndSetup$$===$secondArgument$$)&&$secondArgument$$[$ATTRIBUTE_CHANGED_CALLBACK$$]&&"style"!==$loopAndVerify$$&&($window$jscomp$1$$.prevValue!==$window$jscomp$1$$.newValue||""===$window$jscomp$1$$.newValue&&($ASAP$$===$executeAction$$||$ASAP$$===$getTypeIndex$$)))$secondArgument$$[$ATTRIBUTE_CHANGED_CALLBACK$$]($loopAndVerify$$,$ASAP$$===$executeAction$$?null:$window$jscomp$1$$.prevValue,$ASAP$$===
$getTypeIndex$$?null:$window$jscomp$1$$.newValue)}function $onDOMNode$$($window$jscomp$1$$){var $secondArgument$$=$executeAction$$($window$jscomp$1$$);return function($window$jscomp$1$$){$asapQueue$$.push($secondArgument$$,$window$jscomp$1$$.target);$asapTimer$$&&clearTimeout($asapTimer$$);$asapTimer$$=setTimeout($ASAP$$,1)}}function $onReadyStateChange$$($window$jscomp$1$$){$dropDomContentLoaded$$&&($dropDomContentLoaded$$=!1,$window$jscomp$1$$.currentTarget.removeEventListener($DOM_CONTENT_LOADED$$,
$onReadyStateChange$$));$query$jscomp$14$$.length&&$loopAndVerify$$(($window$jscomp$1$$.target||$document$jscomp$2$$).querySelectorAll($query$jscomp$14$$),$window$jscomp$1$$.detail===$DETACHED$$?$DETACHED$$:$ATTACHED$$);$IE8$$&&$purge$$()}function $patchedSetAttribute$$($window$jscomp$1$$,$secondArgument$$){$setAttribute$$.call(this,$window$jscomp$1$$,$secondArgument$$);$onSubtreeModified$$.call(this,{target:this})}function $setupNode$$($window$jscomp$1$$,$secondArgument$$){$setPrototype$$($window$jscomp$1$$,
$secondArgument$$);$observer$jscomp$1$$?$observer$jscomp$1$$.observe($window$jscomp$1$$,$attributesObserver$$):($doesNotSupportDOMAttrModified$$&&($window$jscomp$1$$.setAttribute=$patchedSetAttribute$$,$window$jscomp$1$$[$EXPANDO_UID$$]=$getAttributesMirror$$($window$jscomp$1$$),$window$jscomp$1$$[$ADD_EVENT_LISTENER$$]($DOM_SUBTREE_MODIFIED$$,$onSubtreeModified$$)),$window$jscomp$1$$[$ADD_EVENT_LISTENER$$]($DOM_ATTR_MODIFIED$$,$onDOMAttrModified$$));$window$jscomp$1$$[$CREATED_CALLBACK$$]&&$notFromInnerHTMLHelper$$&&
($window$jscomp$1$$.created=!0,$window$jscomp$1$$[$CREATED_CALLBACK$$](),$window$jscomp$1$$.created=!1)}function $purge$$(){for(var $window$jscomp$1$$,$secondArgument$$=0,$ASAP$$=$targets$$.length;$secondArgument$$<$ASAP$$;$secondArgument$$++)$window$jscomp$1$$=$targets$$[$secondArgument$$],$documentElement$$.contains($window$jscomp$1$$)||($ASAP$$--,$targets$$.splice($secondArgument$$--,1),$verifyAndSetupAndAction$$($window$jscomp$1$$,$DETACHED$$))}function $throwTypeError$$($window$jscomp$1$$){throw Error("A "+
$window$jscomp$1$$+" type is already registered");}function $verifyAndSetupAndAction$$($window$jscomp$1$$,$secondArgument$$){var $ASAP$$,$loopAndVerify$$=$getTypeIndex$$($window$jscomp$1$$);-1<$loopAndVerify$$&&($patchIfNotAlready$$($window$jscomp$1$$,$protos$$[$loopAndVerify$$]),$loopAndVerify$$=0,$secondArgument$$!==$ATTACHED$$||$window$jscomp$1$$[$ATTACHED$$]?$secondArgument$$!==$DETACHED$$||$window$jscomp$1$$[$DETACHED$$]||($window$jscomp$1$$[$ATTACHED$$]=!1,$window$jscomp$1$$[$DETACHED$$]=!0,
$loopAndVerify$$=1):($window$jscomp$1$$[$DETACHED$$]=!1,$window$jscomp$1$$[$ATTACHED$$]=!0,$loopAndVerify$$=1,$IE8$$&&0>$indexOf$$.call($targets$$,$window$jscomp$1$$)&&$targets$$.push($window$jscomp$1$$)),$loopAndVerify$$&&($ASAP$$=$window$jscomp$1$$[$secondArgument$$+$CALLBACK$$])&&$ASAP$$.call($window$jscomp$1$$))}function $CustomElementRegistry$jscomp$1$$(){}function $CERDefine$$($window$jscomp$1$$,$ASAP$$,$loopAndVerify$$){$loopAndVerify$$=$loopAndVerify$$&&$loopAndVerify$$[$EXTENDS$$]||"";var $loopAndSetup$$=
$ASAP$$.prototype,$executeAction$$=$create$$($loopAndSetup$$),$getTypeIndex$$=$ASAP$$.observedAttributes||$empty$$,$isInQSA$$={prototype:$executeAction$$};$safeProperty$$($executeAction$$,$CREATED_CALLBACK$$,{value:function(){if($justCreated$$)$justCreated$$=!1;else if(!this[$DRECEV1$$]){this[$DRECEV1$$]=!0;new $ASAP$$(this);$loopAndSetup$$[$CREATED_CALLBACK$$]&&$loopAndSetup$$[$CREATED_CALLBACK$$].call(this);var $window$jscomp$1$$=$constructors$$[$nodeNames$$.get($ASAP$$)];(!$usableCustomElements$$||
1<$window$jscomp$1$$.create.length)&&$notifyAttributes$$(this)}}});$safeProperty$$($executeAction$$,$ATTRIBUTE_CHANGED_CALLBACK$$,{value:function($window$jscomp$1$$){-1<$indexOf$$.call($getTypeIndex$$,$window$jscomp$1$$)&&$loopAndSetup$$[$ATTRIBUTE_CHANGED_CALLBACK$$].apply(this,arguments)}});$loopAndSetup$$[$CONNECTED_CALLBACK$$]&&$safeProperty$$($executeAction$$,$ATTACHED_CALLBACK$$,{value:$loopAndSetup$$[$CONNECTED_CALLBACK$$]});$loopAndSetup$$[$DISCONNECTED_CALLBACK$$]&&$safeProperty$$($executeAction$$,
$DETACHED_CALLBACK$$,{value:$loopAndSetup$$[$DISCONNECTED_CALLBACK$$]});$loopAndVerify$$&&($isInQSA$$[$EXTENDS$$]=$loopAndVerify$$);$window$jscomp$1$$=$window$jscomp$1$$.toUpperCase();$constructors$$[$window$jscomp$1$$]={constructor:$ASAP$$,create:$loopAndVerify$$?[$loopAndVerify$$,$secondArgument$$($window$jscomp$1$$)]:[$window$jscomp$1$$]};$nodeNames$$.set($ASAP$$,$window$jscomp$1$$);$document$jscomp$2$$[$REGISTER_ELEMENT$$]($window$jscomp$1$$.toLowerCase(),$isInQSA$$);$whenDefined$$($window$jscomp$1$$);
$waitingList$$[$window$jscomp$1$$].r()}function $get$$($window$jscomp$1$$){return($window$jscomp$1$$=$constructors$$[$window$jscomp$1$$.toUpperCase()])&&$window$jscomp$1$$.constructor}function $getIs$$($window$jscomp$1$$){return"string"===typeof $window$jscomp$1$$?$window$jscomp$1$$:$window$jscomp$1$$&&$window$jscomp$1$$.is||""}function $notifyAttributes$$($window$jscomp$1$$){for(var $secondArgument$$=$window$jscomp$1$$[$ATTRIBUTE_CHANGED_CALLBACK$$],$ASAP$$=$secondArgument$$?$window$jscomp$1$$.attributes:
$empty$$,$loopAndVerify$$=$ASAP$$.length,$loopAndSetup$$;$loopAndVerify$$--;)$loopAndSetup$$=$ASAP$$[$loopAndVerify$$],$secondArgument$$.call($window$jscomp$1$$,$loopAndSetup$$.name||$loopAndSetup$$.nodeName,null,$loopAndSetup$$.value||$loopAndSetup$$.nodeValue)}function $whenDefined$$($window$jscomp$1$$){$window$jscomp$1$$=$window$jscomp$1$$.toUpperCase();$window$jscomp$1$$ in $waitingList$$||($waitingList$$[$window$jscomp$1$$]={},$waitingList$$[$window$jscomp$1$$].p=new $Promise$jscomp$3$$(function($secondArgument$$){$waitingList$$[$window$jscomp$1$$].r=
$secondArgument$$}));return $waitingList$$[$window$jscomp$1$$].p}function $polyfillV1$$(){function $ASAP$$($secondArgument$$){var $ASAP$$=$window$jscomp$1$$[$secondArgument$$];if($ASAP$$){$window$jscomp$1$$[$secondArgument$$]=function($window$jscomp$1$$){var $secondArgument$$;$window$jscomp$1$$||($window$jscomp$1$$=this);$window$jscomp$1$$[$DRECEV1$$]||($justCreated$$=!0,$window$jscomp$1$$=$constructors$$[$nodeNames$$.get($window$jscomp$1$$.constructor)],$window$jscomp$1$$=($secondArgument$$=$usableCustomElements$$&&
1===$window$jscomp$1$$.create.length)?Reflect.construct($ASAP$$,$empty$$,$window$jscomp$1$$.constructor):$document$jscomp$2$$.createElement.apply($document$jscomp$2$$,$window$jscomp$1$$.create),$window$jscomp$1$$[$DRECEV1$$]=!0,$justCreated$$=!1,$secondArgument$$||$notifyAttributes$$($window$jscomp$1$$));return $window$jscomp$1$$};$window$jscomp$1$$[$secondArgument$$].prototype=$ASAP$$.prototype;try{$ASAP$$.prototype.constructor=$window$jscomp$1$$[$secondArgument$$]}catch($WebKit$$){$defineProperty$$($ASAP$$,
$DRECEV1$$,{value:$window$jscomp$1$$[$secondArgument$$]})}}}$customElements$jscomp$3$$&&delete $window$jscomp$1$$.customElements;$defineProperty$$($window$jscomp$1$$,"customElements",{configurable:!0,value:new $CustomElementRegistry$jscomp$1$$});$defineProperty$$($window$jscomp$1$$,"CustomElementRegistry",{configurable:!0,value:$CustomElementRegistry$jscomp$1$$});for(var $loopAndVerify$$=$htmlClass$$.get(/^HTML[A-Z]*[a-z]/),$loopAndSetup$$=$loopAndVerify$$.length;$loopAndSetup$$--;$ASAP$$($loopAndVerify$$[$loopAndSetup$$]));
$document$jscomp$2$$.createElement=function($window$jscomp$1$$,$ASAP$$){return($ASAP$$=$getIs$$($ASAP$$))?$patchedCreateElement$$.call(this,$window$jscomp$1$$,$secondArgument$$($ASAP$$)):$patchedCreateElement$$.call(this,$window$jscomp$1$$)};$V0$$||($justSetup$$=!0,$document$jscomp$2$$[$REGISTER_ELEMENT$$](""))}var $polyfill$$="auto",$document$jscomp$2$$=$window$jscomp$1$$.document,$Object$jscomp$5$$=$window$jscomp$1$$.Object,$htmlClass$$=function($window$jscomp$1$$){function $secondArgument$$($window$jscomp$1$$,
$secondArgument$$){$secondArgument$$=$secondArgument$$.toLowerCase();$secondArgument$$ in $loopAndSetup$$||($loopAndSetup$$[$window$jscomp$1$$]=($loopAndSetup$$[$window$jscomp$1$$]||[]).concat($secondArgument$$),$loopAndSetup$$[$secondArgument$$]=$loopAndSetup$$[$secondArgument$$.toUpperCase()]=$window$jscomp$1$$)}function $ASAP$$($window$jscomp$1$$){var $secondArgument$$=[],$ASAP$$;for($ASAP$$ in $loopAndSetup$$)$window$jscomp$1$$.test($ASAP$$)&&$secondArgument$$.push($ASAP$$);return $secondArgument$$}
var $loopAndVerify$$=/^[A-Z]+[a-z]/,$loopAndSetup$$=($Object$jscomp$5$$.create||$Object$jscomp$5$$)(null),$executeAction$$={},$getTypeIndex$$,$isInQSA$$,$onDOMAttrModified$$;for($isInQSA$$ in $window$jscomp$1$$)for($onDOMAttrModified$$ in $window$jscomp$1$$[$isInQSA$$]){var $onDOMNode$$=$window$jscomp$1$$[$isInQSA$$][$onDOMAttrModified$$];$loopAndSetup$$[$onDOMAttrModified$$]=$onDOMNode$$;for($getTypeIndex$$=0;$getTypeIndex$$<$onDOMNode$$.length;$getTypeIndex$$++)$loopAndSetup$$[$onDOMNode$$[$getTypeIndex$$].toLowerCase()]=
$loopAndSetup$$[$onDOMNode$$[$getTypeIndex$$].toUpperCase()]=$onDOMAttrModified$$}$executeAction$$.get=function($window$jscomp$1$$){return"string"===typeof $window$jscomp$1$$?$loopAndSetup$$[$window$jscomp$1$$]||($loopAndVerify$$.test($window$jscomp$1$$)?[]:""):$ASAP$$($window$jscomp$1$$)};$executeAction$$.set=function($window$jscomp$1$$,$ASAP$$){return $loopAndVerify$$.test($window$jscomp$1$$)?$secondArgument$$($window$jscomp$1$$,$ASAP$$):$secondArgument$$($ASAP$$,$window$jscomp$1$$),$executeAction$$};
return $executeAction$$}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],
HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:"element abbr address article aside b bdi bdo cite code command dd dfn dt em figcaption figure footer header i kbd mark nav noscript rp rt ruby s samp section small strong sub summary sup u var wbr".split(" "),HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],
HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:"h1 h2 h3 h4 h5 h6".split(" "),HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],
HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],
HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],
HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});$polyfill$$||($polyfill$$="auto");var $REGISTER_ELEMENT$$="registerElement",$EXPANDO_UID$$=
"__"+$REGISTER_ELEMENT$$+(1E5*$window$jscomp$1$$.Math.random()>>0),$ADD_EVENT_LISTENER$$="addEventListener",$ATTACHED$$="attached",$CALLBACK$$="Callback",$DETACHED$$="detached",$EXTENDS$$="extends",$ATTRIBUTE_CHANGED_CALLBACK$$="attributeChanged"+$CALLBACK$$,$ATTACHED_CALLBACK$$=$ATTACHED$$+$CALLBACK$$,$CONNECTED_CALLBACK$$="connected"+$CALLBACK$$,$DISCONNECTED_CALLBACK$$="disconnected"+$CALLBACK$$,$CREATED_CALLBACK$$="created"+$CALLBACK$$,$DETACHED_CALLBACK$$=$DETACHED$$+$CALLBACK$$,$ADDITION$$=
"ADDITION",$MODIFICATION$$="MODIFICATION",$REMOVAL$$="REMOVAL",$DOM_ATTR_MODIFIED$$="DOMAttrModified",$DOM_CONTENT_LOADED$$="DOMContentLoaded",$DOM_SUBTREE_MODIFIED$$="DOMSubtreeModified",$PREFIX_TAG$$="<",$PREFIX_IS$$="=",$validName$$=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,$invalidNames$$="ANNOTATION-XML COLOR-PROFILE FONT-FACE FONT-FACE-SRC FONT-FACE-URI FONT-FACE-FORMAT FONT-FACE-NAME MISSING-GLYPH".split(" "),$types$$=[],$protos$$=[],$query$jscomp$14$$="",$documentElement$$=$document$jscomp$2$$.documentElement,
$indexOf$$=$types$$.indexOf||function($window$jscomp$1$$){for(var $secondArgument$$=this.length;$secondArgument$$--&&this[$secondArgument$$]!==$window$jscomp$1$$;);return $secondArgument$$},$OP$$=$Object$jscomp$5$$.prototype,$hOP$$=$OP$$.hasOwnProperty,$iPO$$=$OP$$.isPrototypeOf,$defineProperty$$=$Object$jscomp$5$$.defineProperty,$empty$$=[],$gOPD$$=$Object$jscomp$5$$.getOwnPropertyDescriptor,$gOPN$$=$Object$jscomp$5$$.getOwnPropertyNames,$gPO$$=$Object$jscomp$5$$.getPrototypeOf,$sPO$$=$Object$jscomp$5$$.setPrototypeOf,
$hasProto$$=!!$Object$jscomp$5$$.__proto__,$DRECEV1$$="__dreCEv1",$customElements$jscomp$3$$=$window$jscomp$1$$.customElements,$usableCustomElements$$="force"!==$polyfill$$&&!!($customElements$jscomp$3$$&&$customElements$jscomp$3$$.define&&$customElements$jscomp$3$$.get&&$customElements$jscomp$3$$.whenDefined),$Dict$$=$Object$jscomp$5$$.create||$Object$jscomp$5$$,$Map$jscomp$1$$=$window$jscomp$1$$.Map||function(){var $window$jscomp$1$$=[],$secondArgument$$=[],$ASAP$$;return{get:function($ASAP$$){return $secondArgument$$[$indexOf$$.call($window$jscomp$1$$,
$ASAP$$)]},set:function($loopAndVerify$$,$loopAndSetup$$){$ASAP$$=$indexOf$$.call($window$jscomp$1$$,$loopAndVerify$$);0>$ASAP$$?$secondArgument$$[$window$jscomp$1$$.push($loopAndVerify$$)-1]=$loopAndSetup$$:$secondArgument$$[$ASAP$$]=$loopAndSetup$$}}},$Promise$jscomp$3$$=$window$jscomp$1$$.Promise||function($window$jscomp$1$$){function $secondArgument$$($window$jscomp$1$$){for($loopAndVerify$$=!0;$ASAP$$.length;)$ASAP$$.shift()($window$jscomp$1$$)}var $ASAP$$=[],$loopAndVerify$$=!1,$loopAndSetup$$=
{"catch":function(){return $loopAndSetup$$},then:function($window$jscomp$1$$){$ASAP$$.push($window$jscomp$1$$);$loopAndVerify$$&&setTimeout($secondArgument$$,1);return $loopAndSetup$$}};$window$jscomp$1$$($secondArgument$$);return $loopAndSetup$$},$justCreated$$=!1,$constructors$$=$Dict$$(null),$waitingList$$=$Dict$$(null),$nodeNames$$=new $Map$jscomp$1$$,$create$$=$Object$jscomp$5$$.create||function $Bridge$$($window$jscomp$1$$){return $window$jscomp$1$$?($Bridge$$.prototype=$window$jscomp$1$$,new $Bridge$$):
this},$setPrototype$$=$sPO$$||($hasProto$$?function($window$jscomp$1$$,$secondArgument$$){$window$jscomp$1$$.__proto__=$secondArgument$$;return $window$jscomp$1$$}:$gOPN$$&&$gOPD$$?function(){function $window$jscomp$1$$($window$jscomp$1$$,$secondArgument$$){for(var $ASAP$$,$loopAndVerify$$=$gOPN$$($secondArgument$$),$loopAndSetup$$=0,$executeAction$$=$loopAndVerify$$.length;$loopAndSetup$$<$executeAction$$;$loopAndSetup$$++)$ASAP$$=$loopAndVerify$$[$loopAndSetup$$],$hOP$$.call($window$jscomp$1$$,
$ASAP$$)||$defineProperty$$($window$jscomp$1$$,$ASAP$$,$gOPD$$($secondArgument$$,$ASAP$$))}return function($secondArgument$$,$ASAP$$){do $window$jscomp$1$$($secondArgument$$,$ASAP$$);while(($ASAP$$=$gPO$$($ASAP$$))&&!$iPO$$.call($ASAP$$,$secondArgument$$));return $secondArgument$$}}():function($window$jscomp$1$$,$secondArgument$$){for(var $ASAP$$ in $secondArgument$$)$window$jscomp$1$$[$ASAP$$]=$secondArgument$$[$ASAP$$];return $window$jscomp$1$$}),$MutationObserver$jscomp$1$$=$window$jscomp$1$$.MutationObserver||
$window$jscomp$1$$.WebKitMutationObserver,$HTMLElementPrototype$$=($window$jscomp$1$$.HTMLElement||$window$jscomp$1$$.Element||$window$jscomp$1$$.Node).prototype,$IE8$$=!$iPO$$.call($HTMLElementPrototype$$,$documentElement$$),$safeProperty$$=$IE8$$?function($window$jscomp$1$$,$secondArgument$$,$ASAP$$){$window$jscomp$1$$[$secondArgument$$]=$ASAP$$.value;return $window$jscomp$1$$}:$defineProperty$$,$isValidNode$$=$IE8$$?function($window$jscomp$1$$){return 1===$window$jscomp$1$$.nodeType}:function($window$jscomp$1$$){return $iPO$$.call($HTMLElementPrototype$$,
$window$jscomp$1$$)},$targets$$=$IE8$$&&[],$attachShadow$jscomp$1$$=$HTMLElementPrototype$$.attachShadow,$cloneNode$jscomp$1$$=$HTMLElementPrototype$$.cloneNode,$dispatchEvent$$=$HTMLElementPrototype$$.dispatchEvent,$getAttribute$$=$HTMLElementPrototype$$.getAttribute,$hasAttribute$jscomp$1$$=$HTMLElementPrototype$$.hasAttribute,$removeAttribute$$=$HTMLElementPrototype$$.removeAttribute,$setAttribute$$=$HTMLElementPrototype$$.setAttribute,$createElement$jscomp$2$$=$document$jscomp$2$$.createElement,
$patchedCreateElement$$=$createElement$jscomp$2$$,$attributesObserver$$=$MutationObserver$jscomp$1$$&&{attributes:!0,characterData:!0,attributeOldValue:!0},$DOMAttrModified$$=$MutationObserver$jscomp$1$$||function(){$doesNotSupportDOMAttrModified$$=!1;$documentElement$$.removeEventListener($DOM_ATTR_MODIFIED$$,$DOMAttrModified$$)},$asapQueue$$,$asapTimer$$=0,$V0$$=$REGISTER_ELEMENT$$ in $document$jscomp$2$$,$setListener$$=!0,$justSetup$$=!1,$doesNotSupportDOMAttrModified$$=!0,$dropDomContentLoaded$$=
!0,$notFromInnerHTMLHelper$$=!0,$observer$jscomp$1$$,$observe$$;if(!$V0$$){if($sPO$$||$hasProto$$){var $patchIfNotAlready$$=function($window$jscomp$1$$,$secondArgument$$){$iPO$$.call($secondArgument$$,$window$jscomp$1$$)||$setupNode$$($window$jscomp$1$$,$secondArgument$$)};var $patch$$=$setupNode$$}else $patch$$=$patchIfNotAlready$$=function($window$jscomp$1$$,$secondArgument$$){$window$jscomp$1$$[$EXPANDO_UID$$]||($window$jscomp$1$$[$EXPANDO_UID$$]=$Object$jscomp$5$$(!0),$setupNode$$($window$jscomp$1$$,
$secondArgument$$))};if($IE8$$)$doesNotSupportDOMAttrModified$$=!1,function(){function $window$jscomp$1$$($window$jscomp$1$$){var $secondArgument$$=$window$jscomp$1$$.currentTarget,$ASAP$$=$secondArgument$$[$EXPANDO_UID$$];$window$jscomp$1$$=$window$jscomp$1$$.propertyName;if($ASAP$$.hasOwnProperty($window$jscomp$1$$)){$ASAP$$=$ASAP$$[$window$jscomp$1$$];var $loopAndVerify$$=new CustomEvent($DOM_ATTR_MODIFIED$$,{bubbles:!0});$loopAndVerify$$.attrName=$ASAP$$.name;$loopAndVerify$$.prevValue=$ASAP$$.value||
null;$loopAndVerify$$.newValue=$ASAP$$.value=$secondArgument$$[$window$jscomp$1$$]||null;null==$loopAndVerify$$.prevValue?$loopAndVerify$$[$ADDITION$$]=$loopAndVerify$$.attrChange=0:$loopAndVerify$$[$MODIFICATION$$]=$loopAndVerify$$.attrChange=1;$dispatchEvent$$.call($secondArgument$$,$loopAndVerify$$)}}function $secondArgument$$($window$jscomp$1$$,$secondArgument$$){var $ASAP$$=$hasAttribute$jscomp$1$$.call(this,$window$jscomp$1$$),$loopAndVerify$$=$ASAP$$&&$getAttribute$$.call(this,$window$jscomp$1$$),
$loopAndSetup$$=new CustomEvent($DOM_ATTR_MODIFIED$$,{bubbles:!0});$setAttribute$$.call(this,$window$jscomp$1$$,$secondArgument$$);$loopAndSetup$$.attrName=$window$jscomp$1$$;$loopAndSetup$$.prevValue=$ASAP$$?$loopAndVerify$$:null;$loopAndSetup$$.newValue=$secondArgument$$;$ASAP$$?$loopAndSetup$$[$MODIFICATION$$]=$loopAndSetup$$.attrChange=1:$loopAndSetup$$[$ADDITION$$]=$loopAndSetup$$.attrChange=0;$dispatchEvent$$.call(this,$loopAndSetup$$)}function $ASAP$$($window$jscomp$1$$){var $secondArgument$$=
new CustomEvent($DOM_ATTR_MODIFIED$$,{bubbles:!0});$secondArgument$$.attrName=$window$jscomp$1$$;$secondArgument$$.prevValue=$getAttribute$$.call(this,$window$jscomp$1$$);$secondArgument$$.newValue=null;$secondArgument$$[$REMOVAL$$]=$secondArgument$$.attrChange=2;$removeAttribute$$.call(this,$window$jscomp$1$$);$dispatchEvent$$.call(this,$secondArgument$$)}var $loopAndVerify$$=$gOPD$$($HTMLElementPrototype$$,$ADD_EVENT_LISTENER$$),$loopAndSetup$$=$loopAndVerify$$.value;$loopAndVerify$$.value=function($loopAndVerify$$,
$executeAction$$,$getTypeIndex$$){$loopAndVerify$$===$DOM_ATTR_MODIFIED$$&&this[$ATTRIBUTE_CHANGED_CALLBACK$$]&&this.setAttribute!==$secondArgument$$&&(this[$EXPANDO_UID$$]={className:{name:"class",value:this.className}},this.setAttribute=$secondArgument$$,this.removeAttribute=$ASAP$$,$loopAndSetup$$.call(this,"propertychange",$window$jscomp$1$$));$loopAndSetup$$.call(this,$loopAndVerify$$,$executeAction$$,$getTypeIndex$$)};$defineProperty$$($HTMLElementPrototype$$,$ADD_EVENT_LISTENER$$,$loopAndVerify$$)}();
else if(!$MutationObserver$jscomp$1$$&&($documentElement$$[$ADD_EVENT_LISTENER$$]($DOM_ATTR_MODIFIED$$,$DOMAttrModified$$),$documentElement$$.setAttribute($EXPANDO_UID$$,1),$documentElement$$.removeAttribute($EXPANDO_UID$$),$doesNotSupportDOMAttrModified$$)){var $onSubtreeModified$$=function($window$jscomp$1$$){var $secondArgument$$,$ASAP$$;if(this===$window$jscomp$1$$.target){var $loopAndVerify$$=this[$EXPANDO_UID$$];this[$EXPANDO_UID$$]=$secondArgument$$=$getAttributesMirror$$(this);for($ASAP$$ in $secondArgument$$){if(!($ASAP$$ in
$loopAndVerify$$))return $callDOMAttrModified$$(0,this,$ASAP$$,$loopAndVerify$$[$ASAP$$],$secondArgument$$[$ASAP$$],$ADDITION$$);if($secondArgument$$[$ASAP$$]!==$loopAndVerify$$[$ASAP$$])return $callDOMAttrModified$$(1,this,$ASAP$$,$loopAndVerify$$[$ASAP$$],$secondArgument$$[$ASAP$$],$MODIFICATION$$)}for($ASAP$$ in $loopAndVerify$$)if(!($ASAP$$ in $secondArgument$$))return $callDOMAttrModified$$(2,this,$ASAP$$,$loopAndVerify$$[$ASAP$$],$secondArgument$$[$ASAP$$],$REMOVAL$$)}};var $callDOMAttrModified$$=
function($window$jscomp$1$$,$secondArgument$$,$ASAP$$,$loopAndVerify$$,$loopAndSetup$$,$executeAction$$){$ASAP$$={attrChange:$window$jscomp$1$$,currentTarget:$secondArgument$$,attrName:$ASAP$$,prevValue:$loopAndVerify$$,newValue:$loopAndSetup$$};$ASAP$$[$executeAction$$]=$window$jscomp$1$$;$onDOMAttrModified$$($ASAP$$)};var $getAttributesMirror$$=function($window$jscomp$1$$){for(var $secondArgument$$,$ASAP$$={},$loopAndVerify$$=$window$jscomp$1$$.attributes,$loopAndSetup$$=0,$executeAction$$=$loopAndVerify$$.length;$loopAndSetup$$<
$executeAction$$;$loopAndSetup$$++)$window$jscomp$1$$=$loopAndVerify$$[$loopAndSetup$$],$secondArgument$$=$window$jscomp$1$$.name,"setAttribute"!==$secondArgument$$&&($ASAP$$[$secondArgument$$]=$window$jscomp$1$$.value);return $ASAP$$}}$document$jscomp$2$$[$REGISTER_ELEMENT$$]=function($window$jscomp$1$$,$secondArgument$$){function $ASAP$$(){return $patchedSetAttribute$$?$document$jscomp$2$$.createElement($setupNode$$,$isInQSA$$):$document$jscomp$2$$.createElement($setupNode$$)}var $isInQSA$$=$window$jscomp$1$$.toUpperCase();
$setListener$$&&($setListener$$=!1,$MutationObserver$jscomp$1$$?($observer$jscomp$1$$=function($window$jscomp$1$$,$secondArgument$$){function $ASAP$$($window$jscomp$1$$,$secondArgument$$){for(var $ASAP$$=0,$loopAndVerify$$=$window$jscomp$1$$.length;$ASAP$$<$loopAndVerify$$;$secondArgument$$($window$jscomp$1$$[$ASAP$$++]));}return new $MutationObserver$jscomp$1$$(function($loopAndVerify$$){for(var $loopAndSetup$$,$executeAction$$,$getTypeIndex$$,$isInQSA$$=0,$onDOMAttrModified$$=$loopAndVerify$$.length;$isInQSA$$<
$onDOMAttrModified$$;$isInQSA$$++)if($loopAndSetup$$=$loopAndVerify$$[$isInQSA$$],"childList"===$loopAndSetup$$.type)$ASAP$$($loopAndSetup$$.addedNodes,$window$jscomp$1$$),$ASAP$$($loopAndSetup$$.removedNodes,$secondArgument$$);else if($executeAction$$=$loopAndSetup$$.target,$notFromInnerHTMLHelper$$&&$executeAction$$[$ATTRIBUTE_CHANGED_CALLBACK$$]&&"style"!==$loopAndSetup$$.attributeName&&($getTypeIndex$$=$getAttribute$$.call($executeAction$$,$loopAndSetup$$.attributeName),$getTypeIndex$$!==$loopAndSetup$$.oldValue))$executeAction$$[$ATTRIBUTE_CHANGED_CALLBACK$$]($loopAndSetup$$.attributeName,
$loopAndSetup$$.oldValue,$getTypeIndex$$)})}($executeAction$$($ATTACHED$$),$executeAction$$($DETACHED$$)),$observe$$=function($window$jscomp$1$$){$observer$jscomp$1$$.observe($window$jscomp$1$$,{childList:!0,subtree:!0});return $window$jscomp$1$$},$observe$$($document$jscomp$2$$),$attachShadow$jscomp$1$$&&($HTMLElementPrototype$$.attachShadow=function(){return $observe$$($attachShadow$jscomp$1$$.apply(this,arguments))})):($asapQueue$$=[],$document$jscomp$2$$[$ADD_EVENT_LISTENER$$]("DOMNodeInserted",
$onDOMNode$$($ATTACHED$$)),$document$jscomp$2$$[$ADD_EVENT_LISTENER$$]("DOMNodeRemoved",$onDOMNode$$($DETACHED$$))),$document$jscomp$2$$[$ADD_EVENT_LISTENER$$]($DOM_CONTENT_LOADED$$,$onReadyStateChange$$),$document$jscomp$2$$[$ADD_EVENT_LISTENER$$]("readystatechange",$onReadyStateChange$$),$HTMLElementPrototype$$.cloneNode=function($window$jscomp$1$$){var $secondArgument$$=$cloneNode$jscomp$1$$.call(this,!!$window$jscomp$1$$),$ASAP$$=$getTypeIndex$$($secondArgument$$);-1<$ASAP$$&&$patch$$($secondArgument$$,
$protos$$[$ASAP$$]);$window$jscomp$1$$&&$query$jscomp$14$$.length&&$loopAndSetup$$($secondArgument$$.querySelectorAll($query$jscomp$14$$));return $secondArgument$$});if($justSetup$$)return $justSetup$$=!1;-2<$indexOf$$.call($types$$,$PREFIX_IS$$+$isInQSA$$)+$indexOf$$.call($types$$,$PREFIX_TAG$$+$isInQSA$$)&&$throwTypeError$$($window$jscomp$1$$);if(!$validName$$.test($isInQSA$$)||-1<$indexOf$$.call($invalidNames$$,$isInQSA$$))throw Error("The type "+$window$jscomp$1$$+" is invalid");var $onDOMAttrModified$$=
$secondArgument$$||$OP$$,$patchedSetAttribute$$=$hOP$$.call($onDOMAttrModified$$,$EXTENDS$$),$setupNode$$=$patchedSetAttribute$$?$secondArgument$$[$EXTENDS$$].toUpperCase():$isInQSA$$;$patchedSetAttribute$$&&-1<$indexOf$$.call($types$$,$PREFIX_TAG$$+$setupNode$$)&&$throwTypeError$$($setupNode$$);$secondArgument$$=$types$$.push(($patchedSetAttribute$$?$PREFIX_IS$$:$PREFIX_TAG$$)+$isInQSA$$)-1;$query$jscomp$14$$=$query$jscomp$14$$.concat($query$jscomp$14$$.length?",":"",$patchedSetAttribute$$?$setupNode$$+
'[is="'+$window$jscomp$1$$.toLowerCase()+'"]':$setupNode$$);$ASAP$$.prototype=$protos$$[$secondArgument$$]=$hOP$$.call($onDOMAttrModified$$,"prototype")?$onDOMAttrModified$$.prototype:$create$$($HTMLElementPrototype$$);$query$jscomp$14$$.length&&$loopAndVerify$$($document$jscomp$2$$.querySelectorAll($query$jscomp$14$$),$ATTACHED$$);return $ASAP$$};$document$jscomp$2$$.createElement=$patchedCreateElement$$=function($window$jscomp$1$$,$ASAP$$){var $loopAndVerify$$=$getIs$$($ASAP$$),$loopAndSetup$$=
$loopAndVerify$$?$createElement$jscomp$2$$.call($document$jscomp$2$$,$window$jscomp$1$$,$secondArgument$$($loopAndVerify$$)):$createElement$jscomp$2$$.call($document$jscomp$2$$,$window$jscomp$1$$);$window$jscomp$1$$=""+$window$jscomp$1$$;var $executeAction$$=$indexOf$$.call($types$$,($loopAndVerify$$?$PREFIX_IS$$:$PREFIX_TAG$$)+($loopAndVerify$$||$window$jscomp$1$$).toUpperCase()),$getTypeIndex$$=-1<$executeAction$$;$loopAndVerify$$&&($loopAndSetup$$.setAttribute("is",$loopAndVerify$$=$loopAndVerify$$.toLowerCase()),
$getTypeIndex$$&&($getTypeIndex$$=$isInQSA$$($window$jscomp$1$$.toUpperCase(),$loopAndVerify$$)));$notFromInnerHTMLHelper$$=!$document$jscomp$2$$.createElement.innerHTMLHelper;$getTypeIndex$$&&$patch$$($loopAndSetup$$,$protos$$[$executeAction$$]);return $loopAndSetup$$}}$CustomElementRegistry$jscomp$1$$.prototype={constructor:$CustomElementRegistry$jscomp$1$$,define:$usableCustomElements$$?function($window$jscomp$1$$,$secondArgument$$,$ASAP$$){if($ASAP$$)$CERDefine$$($window$jscomp$1$$,$secondArgument$$,
$ASAP$$);else{var $loopAndVerify$$=$window$jscomp$1$$.toUpperCase();$constructors$$[$loopAndVerify$$]={constructor:$secondArgument$$,create:[$loopAndVerify$$]};$nodeNames$$.set($secondArgument$$,$loopAndVerify$$);$customElements$jscomp$3$$.define($window$jscomp$1$$,$secondArgument$$)}}:$CERDefine$$,get:$usableCustomElements$$?function($window$jscomp$1$$){return $customElements$jscomp$3$$.get($window$jscomp$1$$)||$get$$($window$jscomp$1$$)}:$get$$,whenDefined:$usableCustomElements$$?function($window$jscomp$1$$){return $Promise$jscomp$3$$.race([$customElements$jscomp$3$$.whenDefined($window$jscomp$1$$),
$whenDefined$$($window$jscomp$1$$)])}:$whenDefined$$};if($customElements$jscomp$3$$&&"force"!==$polyfill$$)try{(function($secondArgument$$,$ASAP$$,$loopAndVerify$$){$ASAP$$[$EXTENDS$$]="a";$secondArgument$$.prototype=$create$$(HTMLAnchorElement.prototype);$secondArgument$$.prototype.constructor=$secondArgument$$;$window$jscomp$1$$.customElements.define($loopAndVerify$$,$secondArgument$$,$ASAP$$);if($getAttribute$$.call($document$jscomp$2$$.createElement("a",{is:$loopAndVerify$$}),"is")!==$loopAndVerify$$||
$usableCustomElements$$&&$getAttribute$$.call(new $secondArgument$$,"is")!==$loopAndVerify$$)throw $ASAP$$;})(function $DRE$jscomp$1$$(){return Reflect.construct(HTMLAnchorElement,[],$DRE$jscomp$1$$)},{},"document-register-element-a")}catch($o_O$$){$polyfillV1$$()}else $polyfillV1$$();try{$createElement$jscomp$2$$.call($document$jscomp$2$$,"a","a")}catch($FireFox$$){$secondArgument$$=function($window$jscomp$1$$){return{is:$window$jscomp$1$$.toLowerCase()}}}};function $LruCache$$module$src$utils$lru_cache$$(){var $capacity$$=100;this.$capacity_$=$capacity$$;this.$access_$=this.$size_$=0;this.$cache_$=Object.create(null)}$LruCache$$module$src$utils$lru_cache$$.prototype.has=function($key$jscomp$49$$){return!!this.$cache_$[$key$jscomp$49$$]};$LruCache$$module$src$utils$lru_cache$$.prototype.get=function($key$jscomp$50$$){var $cacheable$$=this.$cache_$[$key$jscomp$50$$];if($cacheable$$)return $cacheable$$.access=++this.$access_$,$cacheable$$.payload};
$LruCache$$module$src$utils$lru_cache$$.prototype.put=function($JSCompiler_cache$jscomp$inline_241_key$jscomp$51$$,$payload$$){this.has($JSCompiler_cache$jscomp$inline_241_key$jscomp$51$$)||this.$size_$++;this.$cache_$[$JSCompiler_cache$jscomp$inline_241_key$jscomp$51$$]={payload:$payload$$,access:this.$access_$};if(!(this.$size_$<=this.$capacity_$)){$dev$$module$src$log$$().warn("lru-cache","Trimming LRU cache");$JSCompiler_cache$jscomp$inline_241_key$jscomp$51$$=this.$cache_$;var $JSCompiler_oldest$jscomp$inline_242$$=
this.$access_$+1,$JSCompiler_key$jscomp$inline_244$$;for($JSCompiler_key$jscomp$inline_244$$ in $JSCompiler_cache$jscomp$inline_241_key$jscomp$51$$){var $JSCompiler_access$jscomp$inline_245$$=$JSCompiler_cache$jscomp$inline_241_key$jscomp$51$$[$JSCompiler_key$jscomp$inline_244$$].access;if($JSCompiler_access$jscomp$inline_245$$<$JSCompiler_oldest$jscomp$inline_242$$){$JSCompiler_oldest$jscomp$inline_242$$=$JSCompiler_access$jscomp$inline_245$$;var $JSCompiler_oldestKey$jscomp$inline_243$$=$JSCompiler_key$jscomp$inline_244$$}}void 0!==
$JSCompiler_oldestKey$jscomp$inline_243$$&&(delete $JSCompiler_cache$jscomp$inline_241_key$jscomp$51$$[$JSCompiler_oldestKey$jscomp$inline_243$$],this.$size_$--)}};var $env$$module$src$config$$=self.AMP_CONFIG||{},$urls$$module$src$config$$={thirdParty:$env$$module$src$config$$.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:$env$$module$src$config$$.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof $env$$module$src$config$$.thirdPartyFrameRegex?new RegExp($env$$module$src$config$$.thirdPartyFrameRegex):$env$$module$src$config$$.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:$env$$module$src$config$$.cdnUrl||
"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof $env$$module$src$config$$.cdnProxyRegex?new RegExp($env$$module$src$config$$.cdnProxyRegex):$env$$module$src$config$$.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:$env$$module$src$config$$.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:$env$$module$src$config$$.localDev||!1},$config$$module$src$config$$={urls:$urls$$module$src$config$$};var $SERVING_TYPE_PREFIX$$module$src$url$$=$dict$$module$src$utils$object$$({c:!0,v:!0,a:!0,ad:!0,action:!0}),$a$$module$src$url$$,$cache$$module$src$url$$,$AMP_JS_PARAMS_REGEX$$module$src$url$$=/[?&]amp_js[^&]*/,$AMP_GSA_PARAMS_REGEX$$module$src$url$$=/[?&]amp_gsa[^&]*/,$AMP_R_PARAMS_REGEX$$module$src$url$$=/[?&]amp_r[^&]*/,$AMP_KIT_PARAMS_REGEX$$module$src$url$$=/[?&]amp_kit[^&]*/,$GOOGLE_EXPERIMENT_PARAMS_REGEX$$module$src$url$$=/[?&]usqp[^&]*/,$INVALID_PROTOCOLS$$module$src$url$$=["javascript:",
"data:","vbscript:"];function $parseUrlDeprecated$$module$src$url$$($url$jscomp$23$$,$opt_nocache$$){$a$$module$src$url$$||($a$$module$src$url$$=self.document.createElement("a"),$cache$$module$src$url$$=self.UrlCache||(self.UrlCache=new $LruCache$$module$src$utils$lru_cache$$));return $parseUrlWithA$$module$src$url$$($a$$module$src$url$$,$url$jscomp$23$$,$opt_nocache$$?null:$cache$$module$src$url$$)}
function $parseUrlWithA$$module$src$url$$($a$jscomp$2$$,$url$jscomp$24$$,$opt_cache$$){if($opt_cache$$&&$opt_cache$$.has($url$jscomp$24$$))return $opt_cache$$.get($url$jscomp$24$$);$a$jscomp$2$$.href=$url$jscomp$24$$;$a$jscomp$2$$.protocol||($a$jscomp$2$$.href=$a$jscomp$2$$.href);var $info$jscomp$4$$={href:$a$jscomp$2$$.href,protocol:$a$jscomp$2$$.protocol,host:$a$jscomp$2$$.host,hostname:$a$jscomp$2$$.hostname,port:"0"==$a$jscomp$2$$.port?"":$a$jscomp$2$$.port,pathname:$a$jscomp$2$$.pathname,search:$a$jscomp$2$$.search,
hash:$a$jscomp$2$$.hash,origin:null};"/"!==$info$jscomp$4$$.pathname[0]&&($info$jscomp$4$$.pathname="/"+$info$jscomp$4$$.pathname);if("http:"==$info$jscomp$4$$.protocol&&80==$info$jscomp$4$$.port||"https:"==$info$jscomp$4$$.protocol&&443==$info$jscomp$4$$.port)$info$jscomp$4$$.port="",$info$jscomp$4$$.host=$info$jscomp$4$$.hostname;$info$jscomp$4$$.origin=$a$jscomp$2$$.origin&&"null"!=$a$jscomp$2$$.origin?$a$jscomp$2$$.origin:"data:"!=$info$jscomp$4$$.protocol&&$info$jscomp$4$$.host?$info$jscomp$4$$.protocol+
"//"+$info$jscomp$4$$.host:$info$jscomp$4$$.href;var $frozen$$=$getMode$$module$src$mode$$().test&&Object.freeze?Object.freeze($info$jscomp$4$$):$info$jscomp$4$$;$opt_cache$$&&$opt_cache$$.put($url$jscomp$24$$,$frozen$$);return $frozen$$}
function $appendEncodedParamStringToUrl$$module$src$url$$($url$jscomp$25$$,$paramString$$,$opt_addToFront$$){if(!$paramString$$)return $url$jscomp$25$$;var $mainAndFragment$$=$url$jscomp$25$$.split("#",2),$mainAndQuery$$=$mainAndFragment$$[0].split("?",2),$newUrl$$=$mainAndQuery$$[0]+($mainAndQuery$$[1]?$opt_addToFront$$?"?"+$paramString$$+"&"+$mainAndQuery$$[1]:"?"+$mainAndQuery$$[1]+"&"+$paramString$$:"?"+$paramString$$);return $newUrl$$+=$mainAndFragment$$[1]?"#"+$mainAndFragment$$[1]:""}
function $addParamsToUrl$$module$src$url$$($url$jscomp$27$$,$params$jscomp$3$$){return $appendEncodedParamStringToUrl$$module$src$url$$($url$jscomp$27$$,$serializeQueryString$$module$src$url$$($params$jscomp$3$$))}
function $serializeQueryString$$module$src$url$$($params$jscomp$5$$){var $s$jscomp$8$$=[],$k$jscomp$7$$;for($k$jscomp$7$$ in $params$jscomp$5$$){var $sv$18_v$jscomp$3$$=$params$jscomp$5$$[$k$jscomp$7$$];if(null!=$sv$18_v$jscomp$3$$)if($isArray$$module$src$types$$($sv$18_v$jscomp$3$$))for(var $i$jscomp$41$$=0;$i$jscomp$41$$<$sv$18_v$jscomp$3$$.length;$i$jscomp$41$$++){var $sv$$=$sv$18_v$jscomp$3$$[$i$jscomp$41$$];$s$jscomp$8$$.push(encodeURIComponent($k$jscomp$7$$)+"="+encodeURIComponent($sv$$))}else $s$jscomp$8$$.push(encodeURIComponent($k$jscomp$7$$)+
"="+encodeURIComponent($sv$18_v$jscomp$3$$))}return $s$jscomp$8$$.join("&")}function $isSecureUrlDeprecated$$module$src$url$$($url$jscomp$29$$){"string"==typeof $url$jscomp$29$$&&($url$jscomp$29$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$29$$));return"https:"==$url$jscomp$29$$.protocol||"localhost"==$url$jscomp$29$$.hostname||"127.0.0.1"==$url$jscomp$29$$.hostname||$endsWith$$module$src$string$$($url$jscomp$29$$.hostname,".localhost")}
function $assertHttpsUrl$$module$src$url$$($urlString$jscomp$1$$,$elementContext$$,$sourceName$$){$sourceName$$=void 0===$sourceName$$?"source":$sourceName$$;$userAssert$$module$src$log$$(null!=$urlString$jscomp$1$$,"%s %s must be available",$elementContext$$,$sourceName$$);var $theUrlString$$=$urlString$jscomp$1$$;$userAssert$$module$src$log$$($isSecureUrlDeprecated$$module$src$url$$($theUrlString$$)||/^(\/\/)/.test($theUrlString$$),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',
$elementContext$$,$sourceName$$,$theUrlString$$);return $theUrlString$$}function $removeFragment$$module$src$url$$($url$jscomp$30$$){var $index$jscomp$70$$=$url$jscomp$30$$.indexOf("#");return-1==$index$jscomp$70$$?$url$jscomp$30$$:$url$jscomp$30$$.substring(0,$index$jscomp$70$$)}
function $isProxyOrigin$$module$src$url$$($url$jscomp$32$$){"string"==typeof $url$jscomp$32$$&&($url$jscomp$32$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$32$$));return $urls$$module$src$config$$.cdnProxyRegex.test($url$jscomp$32$$.origin)}
function $isProtocolValid$$module$src$url$$($url$jscomp$35$$){if(!$url$jscomp$35$$)return!0;"string"==typeof $url$jscomp$35$$&&($url$jscomp$35$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$35$$));return!$INVALID_PROTOCOLS$$module$src$url$$.includes($url$jscomp$35$$.protocol)}
function $removeAmpJsParamsFromUrl$$module$src$url$$($url$jscomp$36$$){var $parsed$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$36$$),$search$$=$removeAmpJsParamsFromSearch$$module$src$url$$($parsed$$.search);return $parsed$$.origin+$parsed$$.pathname+$search$$+$parsed$$.hash}
function $removeAmpJsParamsFromSearch$$module$src$url$$($urlSearch$$){if(!$urlSearch$$||"?"==$urlSearch$$)return"";var $search$jscomp$1$$=$urlSearch$$.replace($AMP_JS_PARAMS_REGEX$$module$src$url$$,"").replace($AMP_GSA_PARAMS_REGEX$$module$src$url$$,"").replace($AMP_R_PARAMS_REGEX$$module$src$url$$,"").replace($AMP_KIT_PARAMS_REGEX$$module$src$url$$,"").replace($GOOGLE_EXPERIMENT_PARAMS_REGEX$$module$src$url$$,"").replace(/^[?&]/,"");return $search$jscomp$1$$?"?"+$search$jscomp$1$$:""}
function $getSourceUrl$$module$src$url$$($url$jscomp$38$$){"string"==typeof $url$jscomp$38$$&&($url$jscomp$38$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$38$$));if(!$isProxyOrigin$$module$src$url$$($url$jscomp$38$$))return $url$jscomp$38$$.href;var $path$jscomp$4$$=$url$jscomp$38$$.pathname.split("/");$userAssert$$module$src$log$$($SERVING_TYPE_PREFIX$$module$src$url$$[$path$jscomp$4$$[1]],"Unknown path prefix in url %s",$url$jscomp$38$$.href);var $domainOrHttpsSignal$$=$path$jscomp$4$$[2],
$origin$$="s"==$domainOrHttpsSignal$$?"https://"+decodeURIComponent($path$jscomp$4$$[3]):"http://"+decodeURIComponent($domainOrHttpsSignal$$);$userAssert$$module$src$log$$(0<$origin$$.indexOf("."),"Expected a . in origin %s",$origin$$);$path$jscomp$4$$.splice(1,"s"==$domainOrHttpsSignal$$?3:2);return $origin$$+$path$jscomp$4$$.join("/")+$removeAmpJsParamsFromSearch$$module$src$url$$($url$jscomp$38$$.search)+($url$jscomp$38$$.hash||"")}
function $getSourceOrigin$$module$src$url$$($url$jscomp$39$$){return $parseUrlDeprecated$$module$src$url$$($getSourceUrl$$module$src$url$$($url$jscomp$39$$)).origin}
function $getCorsUrl$$module$src$url$$($JSCompiler_field$jscomp$inline_251_win$jscomp$30$$,$url$jscomp$40$$){$checkCorsUrl$$module$src$url$$($url$jscomp$40$$);var $sourceOrigin$$=$getSourceOrigin$$module$src$url$$($JSCompiler_field$jscomp$inline_251_win$jscomp$30$$.location.href);$JSCompiler_field$jscomp$inline_251_win$jscomp$30$$=encodeURIComponent("__amp_source_origin")+"="+encodeURIComponent($sourceOrigin$$);return $appendEncodedParamStringToUrl$$module$src$url$$($url$jscomp$40$$,$JSCompiler_field$jscomp$inline_251_win$jscomp$30$$,
void 0)}function $checkCorsUrl$$module$src$url$$($url$jscomp$41$$){var $parsedUrl$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$41$$),$query$jscomp$15$$=$parseQueryString_$$module$src$url_parse_query_string$$($parsedUrl$$.search);$userAssert$$module$src$log$$(!("__amp_source_origin"in $query$jscomp$15$$),"Source origin is not allowed in %s",$url$jscomp$41$$)};function $getCookie$$module$src$cookies$$($i$jscomp$42_win$jscomp$31$$,$name$jscomp$103_value$jscomp$108$$){try{var $JSCompiler_inline_result$jscomp$128$$=$i$jscomp$42_win$jscomp$31$$.document.cookie}catch($JSCompiler_e$jscomp$inline_254$$){$JSCompiler_inline_result$jscomp$128$$=""}var $cookieString$$=$JSCompiler_inline_result$jscomp$128$$;if(!$cookieString$$)return null;var $cookies$$=$cookieString$$.split(";");for($i$jscomp$42_win$jscomp$31$$=0;$i$jscomp$42_win$jscomp$31$$<$cookies$$.length;$i$jscomp$42_win$jscomp$31$$++){var $cookie$$=
$cookies$$[$i$jscomp$42_win$jscomp$31$$].trim(),$eq$$=$cookie$$.indexOf("=");if(-1!=$eq$$&&$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($cookie$$.substring(0,$eq$$).trim(),void 0)==$name$jscomp$103_value$jscomp$108$$)return $name$jscomp$103_value$jscomp$108$$=$cookie$$.substring($eq$$+1).trim(),$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($name$jscomp$103_value$jscomp$108$$,$name$jscomp$103_value$jscomp$108$$)}return null}
function $setCookie$$module$src$cookies$$($win$jscomp$33$$,$name$jscomp$104$$,$value$jscomp$109$$,$expirationTime$$,$opt_options$jscomp$87$$){if(!$opt_options$jscomp$87$$||!$opt_options$jscomp$87$$.allowOnProxyOrigin){if($isProxyOrigin$$module$src$url$$($win$jscomp$33$$.location.href))throw Error("Should never attempt to set cookie on proxy origin: "+$name$jscomp$104$$);var $JSCompiler_current$jscomp$inline_259_domain$jscomp$2_parts$jscomp$1$$=$parseUrlDeprecated$$module$src$url$$($win$jscomp$33$$.location.href).hostname.toLowerCase(),
$JSCompiler_proxy$jscomp$inline_260_domain$19$$=$parseUrlDeprecated$$module$src$url$$($urls$$module$src$config$$.cdn).hostname.toLowerCase();if($JSCompiler_current$jscomp$inline_259_domain$jscomp$2_parts$jscomp$1$$==$JSCompiler_proxy$jscomp$inline_260_domain$19$$||$endsWith$$module$src$string$$($JSCompiler_current$jscomp$inline_259_domain$jscomp$2_parts$jscomp$1$$,"."+$JSCompiler_proxy$jscomp$inline_260_domain$19$$))throw Error("Should never attempt to set cookie on proxy origin. (in depth check): "+
$name$jscomp$104$$);}if($opt_options$jscomp$87$$&&$opt_options$jscomp$87$$.highestAvailableDomain){$JSCompiler_current$jscomp$inline_259_domain$jscomp$2_parts$jscomp$1$$=$win$jscomp$33$$.location.hostname.split(".");$JSCompiler_proxy$jscomp$inline_260_domain$19$$=$JSCompiler_current$jscomp$inline_259_domain$jscomp$2_parts$jscomp$1$$[$JSCompiler_current$jscomp$inline_259_domain$jscomp$2_parts$jscomp$1$$.length-1];for(var $i$jscomp$43$$=$JSCompiler_current$jscomp$inline_259_domain$jscomp$2_parts$jscomp$1$$.length-
2;0<=$i$jscomp$43$$;$i$jscomp$43$$--)if($JSCompiler_proxy$jscomp$inline_260_domain$19$$=$JSCompiler_current$jscomp$inline_259_domain$jscomp$2_parts$jscomp$1$$[$i$jscomp$43$$]+"."+$JSCompiler_proxy$jscomp$inline_260_domain$19$$,$trySetCookie$$module$src$cookies$$($win$jscomp$33$$,$name$jscomp$104$$,$value$jscomp$109$$,$expirationTime$$,$JSCompiler_proxy$jscomp$inline_260_domain$19$$),$getCookie$$module$src$cookies$$($win$jscomp$33$$,$name$jscomp$104$$)==$value$jscomp$109$$)return}$JSCompiler_current$jscomp$inline_259_domain$jscomp$2_parts$jscomp$1$$=
void 0;$opt_options$jscomp$87$$&&$opt_options$jscomp$87$$.domain&&($JSCompiler_current$jscomp$inline_259_domain$jscomp$2_parts$jscomp$1$$=$opt_options$jscomp$87$$.domain);$trySetCookie$$module$src$cookies$$($win$jscomp$33$$,$name$jscomp$104$$,$value$jscomp$109$$,$expirationTime$$,$JSCompiler_current$jscomp$inline_259_domain$jscomp$2_parts$jscomp$1$$)}
function $trySetCookie$$module$src$cookies$$($win$jscomp$34$$,$cookie$jscomp$1_name$jscomp$105$$,$value$jscomp$110$$,$expirationTime$jscomp$1$$,$domain$jscomp$3$$){"ampproject.org"==$domain$jscomp$3$$&&($value$jscomp$110$$="delete",$expirationTime$jscomp$1$$=0);$cookie$jscomp$1_name$jscomp$105$$=encodeURIComponent($cookie$jscomp$1_name$jscomp$105$$)+"="+encodeURIComponent($value$jscomp$110$$)+"; path=/"+($domain$jscomp$3$$?"; domain="+$domain$jscomp$3$$:"")+"; expires="+(new Date($expirationTime$jscomp$1$$)).toUTCString();
try{$win$jscomp$34$$.document.cookie=$cookie$jscomp$1_name$jscomp$105$$}catch($ignore$$){}};function $isCanary$$module$src$experiments$$($win$jscomp$36$$){return!(!$win$jscomp$36$$.AMP_CONFIG||!$win$jscomp$36$$.AMP_CONFIG.canary)}function $isExperimentOn$$module$src$experiments$$($win$jscomp$38$$,$experimentId$$){var $toggles$$=$experimentToggles$$module$src$experiments$$($win$jscomp$38$$);return!!$toggles$$[$experimentId$$]}
function $toggleExperiment$$module$src$experiments$$($win$jscomp$39$$,$JSCompiler_toggles$jscomp$inline_263_experimentId$jscomp$1$$,$opt_on$$,$opt_transientExperiment$$){var $currentlyOn$$=$isExperimentOn$$module$src$experiments$$($win$jscomp$39$$,$JSCompiler_toggles$jscomp$inline_263_experimentId$jscomp$1$$),$on$$=!(void 0!==$opt_on$$?!$opt_on$$:$currentlyOn$$);if($on$$!=$currentlyOn$$&&($experimentToggles$$module$src$experiments$$($win$jscomp$39$$)[$JSCompiler_toggles$jscomp$inline_263_experimentId$jscomp$1$$]=
$on$$,!$opt_transientExperiment$$)){var $cookieToggles$$=$getExperimentTogglesFromCookie$$module$src$experiments$$($win$jscomp$39$$);$cookieToggles$$[$JSCompiler_toggles$jscomp$inline_263_experimentId$jscomp$1$$]=$on$$;$JSCompiler_toggles$jscomp$inline_263_experimentId$jscomp$1$$=$cookieToggles$$;var $JSCompiler_experimentIds$jscomp$inline_264$$=[],$JSCompiler_experiment$jscomp$inline_265$$;for($JSCompiler_experiment$jscomp$inline_265$$ in $JSCompiler_toggles$jscomp$inline_263_experimentId$jscomp$1$$)$JSCompiler_experimentIds$jscomp$inline_264$$.push((!1===
$JSCompiler_toggles$jscomp$inline_263_experimentId$jscomp$1$$[$JSCompiler_experiment$jscomp$inline_265$$]?"-":"")+$JSCompiler_experiment$jscomp$inline_265$$);$setCookie$$module$src$cookies$$($win$jscomp$39$$,"AMP_EXP",$JSCompiler_experimentIds$jscomp$inline_264$$.join(","),Date.now()+15552E6,{domain:$win$jscomp$39$$.location.hostname,allowOnProxyOrigin:!0})}return $on$$}
function $experimentToggles$$module$src$experiments$$($params$jscomp$6_win$jscomp$40$$){if($params$jscomp$6_win$jscomp$40$$.__AMP__EXPERIMENT_TOGGLES)return $params$jscomp$6_win$jscomp$40$$.__AMP__EXPERIMENT_TOGGLES;$params$jscomp$6_win$jscomp$40$$.__AMP__EXPERIMENT_TOGGLES=Object.create(null);var $toggles$jscomp$2$$=$params$jscomp$6_win$jscomp$40$$.__AMP__EXPERIMENT_TOGGLES;if($params$jscomp$6_win$jscomp$40$$.AMP_CONFIG)for(var $allowed$20_experimentId$jscomp$2_i$jscomp$44$$ in $params$jscomp$6_win$jscomp$40$$.AMP_CONFIG){var $frequency$$=
$params$jscomp$6_win$jscomp$40$$.AMP_CONFIG[$allowed$20_experimentId$jscomp$2_i$jscomp$44$$];"number"===typeof $frequency$$&&0<=$frequency$$&&1>=$frequency$$&&($toggles$jscomp$2$$[$allowed$20_experimentId$jscomp$2_i$jscomp$44$$]=Math.random()<$frequency$$)}if($params$jscomp$6_win$jscomp$40$$.AMP_CONFIG&&Array.isArray($params$jscomp$6_win$jscomp$40$$.AMP_CONFIG["allow-doc-opt-in"])&&0<$params$jscomp$6_win$jscomp$40$$.AMP_CONFIG["allow-doc-opt-in"].length){var $allowed$$=$params$jscomp$6_win$jscomp$40$$.AMP_CONFIG["allow-doc-opt-in"],
$meta$$=$params$jscomp$6_win$jscomp$40$$.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if($meta$$){var $optedInExperiments$$=$meta$$.getAttribute("content").split(",");for($allowed$20_experimentId$jscomp$2_i$jscomp$44$$=0;$allowed$20_experimentId$jscomp$2_i$jscomp$44$$<$optedInExperiments$$.length;$allowed$20_experimentId$jscomp$2_i$jscomp$44$$++)-1!=$allowed$$.indexOf($optedInExperiments$$[$allowed$20_experimentId$jscomp$2_i$jscomp$44$$])&&($toggles$jscomp$2$$[$optedInExperiments$$[$allowed$20_experimentId$jscomp$2_i$jscomp$44$$]]=
!0)}}Object.assign($toggles$jscomp$2$$,$getExperimentTogglesFromCookie$$module$src$experiments$$($params$jscomp$6_win$jscomp$40$$));if($params$jscomp$6_win$jscomp$40$$.AMP_CONFIG&&Array.isArray($params$jscomp$6_win$jscomp$40$$.AMP_CONFIG["allow-url-opt-in"])&&0<$params$jscomp$6_win$jscomp$40$$.AMP_CONFIG["allow-url-opt-in"].length){$allowed$20_experimentId$jscomp$2_i$jscomp$44$$=$params$jscomp$6_win$jscomp$40$$.AMP_CONFIG["allow-url-opt-in"];$params$jscomp$6_win$jscomp$40$$=$parseQueryString_$$module$src$url_parse_query_string$$($params$jscomp$6_win$jscomp$40$$.location.originalHash||
$params$jscomp$6_win$jscomp$40$$.location.hash);for(var $i$21$$=0;$i$21$$<$allowed$20_experimentId$jscomp$2_i$jscomp$44$$.length;$i$21$$++){var $param$jscomp$6$$=$params$jscomp$6_win$jscomp$40$$["e-"+$allowed$20_experimentId$jscomp$2_i$jscomp$44$$[$i$21$$]];"1"==$param$jscomp$6$$&&($toggles$jscomp$2$$[$allowed$20_experimentId$jscomp$2_i$jscomp$44$$[$i$21$$]]=!0);"0"==$param$jscomp$6$$&&($toggles$jscomp$2$$[$allowed$20_experimentId$jscomp$2_i$jscomp$44$$[$i$21$$]]=!1)}}return $toggles$jscomp$2$$}
function $getExperimentTogglesFromCookie$$module$src$experiments$$($toggles$jscomp$3_win$jscomp$42$$){var $experimentCookie$$=$getCookie$$module$src$cookies$$($toggles$jscomp$3_win$jscomp$42$$,"AMP_EXP"),$tokens$$=$experimentCookie$$?$experimentCookie$$.split(/\s*,\s*/g):[];$toggles$jscomp$3_win$jscomp$42$$=Object.create(null);for(var $i$jscomp$45$$=0;$i$jscomp$45$$<$tokens$$.length;$i$jscomp$45$$++)0!=$tokens$$[$i$jscomp$45$$].length&&("-"==$tokens$$[$i$jscomp$45$$][0]?$toggles$jscomp$3_win$jscomp$42$$[$tokens$$[$i$jscomp$45$$].substr(1)]=
!1:$toggles$jscomp$3_win$jscomp$42$$[$tokens$$[$i$jscomp$45$$]]=!0);return $toggles$jscomp$3_win$jscomp$42$$};$install$$module$src$polyfills$domtokenlist_toggle$$(self);(function($win$jscomp$22$$){$win$jscomp$22$$.fetch||(Object.defineProperty($win$jscomp$22$$,"fetch",{value:$fetchPolyfill$$module$src$polyfills$fetch$$,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty($win$jscomp$22$$,"Response",{value:$Response$$module$src$polyfills$fetch$$,writable:!0,enumerable:!1,configurable:!0}))})(self);
(function($win$jscomp$25$$){$win$jscomp$25$$.Math.sign||$win$jscomp$25$$.Object.defineProperty($win$jscomp$25$$.Math,"sign",{enumerable:!1,configurable:!0,writable:!0,value:$sign$$module$src$polyfills$math_sign$$})})(self);(function($win$jscomp$26$$){$win$jscomp$26$$.Object.assign||$win$jscomp$26$$.Object.defineProperty($win$jscomp$26$$.Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:$assign$$module$src$polyfills$object_assign$$})})(self);
(function($win$jscomp$27$$){$win$jscomp$27$$.Object.values||$win$jscomp$27$$.Object.defineProperty($win$jscomp$27$$.Object,"values",{configurable:!0,writable:!0,value:$values$$module$src$polyfills$object_values$$})})(self);
(function($win$jscomp$28$$){$win$jscomp$28$$.Promise||($win$jscomp$28$$.Promise=$module$node_modules$promise_pjs$promise$default$$,$module$node_modules$promise_pjs$promise$default$$.default&&($win$jscomp$28$$.Promise=$module$node_modules$promise_pjs$promise$default$$.default),$win$jscomp$28$$.Promise.resolve=$module$node_modules$promise_pjs$promise$default$resolve$$,$win$jscomp$28$$.Promise.reject=$module$node_modules$promise_pjs$promise$default$reject$$,$win$jscomp$28$$.Promise.all=$module$node_modules$promise_pjs$promise$default$all$$,
$win$jscomp$28$$.Promise.race=$module$node_modules$promise_pjs$promise$default$race$$)})(self);$install$$module$src$polyfills$document_contains$$(self);(function($win$jscomp$4$$){$win$jscomp$4$$.Array.prototype.includes||$win$jscomp$4$$.Object.defineProperty(Array.prototype,"includes",{enumerable:!1,configurable:!0,writable:!0,value:$includes$$module$src$polyfills$array_includes$$})})(self);
(function($win$jscomp$24$$){try{var $JSCompiler_inline_result$jscomp$121$$=0!==$win$jscomp$24$$.document.createElement("div").getBoundingClientRect().top}catch($JSCompiler_e$jscomp$inline_269$$){$JSCompiler_inline_result$jscomp$121$$=!0}$JSCompiler_inline_result$jscomp$121$$&&$win$jscomp$24$$.Object.defineProperty($win$jscomp$24$$.Element.prototype,"getBoundingClientRect",{value:$getBoundingClientRect$$module$src$get_bounding_client_rect$$})})(self);
$getMode$$module$src$mode$$().test?$install$$module$src$polyfills$custom_elements$$(self):$installCustomElements$$module$node_modules$document_register_element$build$document_register_element_patched$$(self);function $getExistingServiceForDocInEmbedScope$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_273_JSCompiler_holder$jscomp$inline_274_element$jscomp$31$$,$id$jscomp$6$$){var $opt_fallbackToTopWin$$,$win$jscomp$49$$=$JSCompiler_ampdoc$jscomp$inline_273_JSCompiler_holder$jscomp$inline_274_element$jscomp$31$$.ownerDocument.defaultView,$isEmbed$$=$win$jscomp$49$$!=$getTopWindow$$module$src$service$$($win$jscomp$49$$);if($isEmbed$$){if($isServiceRegistered$$module$src$service$$($win$jscomp$49$$,
$id$jscomp$6$$)){var $embedService$$=$getServiceInternal$$module$src$service$$($win$jscomp$49$$,$id$jscomp$6$$);if($embedService$$)return $embedService$$}if(!$opt_fallbackToTopWin$$)return null}$JSCompiler_ampdoc$jscomp$inline_273_JSCompiler_holder$jscomp$inline_274_element$jscomp$31$$=$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_273_JSCompiler_holder$jscomp$inline_274_element$jscomp$31$$);$JSCompiler_ampdoc$jscomp$inline_273_JSCompiler_holder$jscomp$inline_274_element$jscomp$31$$=
$getAmpdocServiceHolder$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_273_JSCompiler_holder$jscomp$inline_274_element$jscomp$31$$);return $isServiceRegistered$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_273_JSCompiler_holder$jscomp$inline_274_element$jscomp$31$$,$id$jscomp$6$$)?$getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_273_JSCompiler_holder$jscomp$inline_274_element$jscomp$31$$,$id$jscomp$6$$):null}
function $installServiceInEmbedScope$$module$src$service$$($embedWin$$,$id$jscomp$7$$,$service$$){$getTopWindow$$module$src$service$$($embedWin$$);$isServiceRegistered$$module$src$service$$($embedWin$$,$id$jscomp$7$$);$registerServiceInternal$$module$src$service$$($embedWin$$,$embedWin$$,$id$jscomp$7$$,function(){return $service$$});$getServiceInternal$$module$src$service$$($embedWin$$,$id$jscomp$7$$)}
function $registerServiceBuilder$$module$src$service$$($win$jscomp$50$$,$id$jscomp$8$$,$constructor$jscomp$3$$){var $opt_instantiate$$;$win$jscomp$50$$=$getTopWindow$$module$src$service$$($win$jscomp$50$$);$registerServiceInternal$$module$src$service$$($win$jscomp$50$$,$win$jscomp$50$$,$id$jscomp$8$$,$constructor$jscomp$3$$);$opt_instantiate$$&&$getServiceInternal$$module$src$service$$($win$jscomp$50$$,$id$jscomp$8$$)}
function $registerServiceBuilderForDoc$$module$src$service$$($nodeOrDoc$$,$id$jscomp$9$$,$constructor$jscomp$4$$,$opt_instantiate$jscomp$1$$){var $ampdoc$$=$getAmpdoc$$module$src$service$$($nodeOrDoc$$),$holder$$=$getAmpdocServiceHolder$$module$src$service$$($ampdoc$$);$registerServiceInternal$$module$src$service$$($holder$$,$ampdoc$$,$id$jscomp$9$$,$constructor$jscomp$4$$);$opt_instantiate$jscomp$1$$&&$getServiceInternal$$module$src$service$$($holder$$,$id$jscomp$9$$)}
function $getService$$module$src$service$$($win$jscomp$51$$,$id$jscomp$11$$){$win$jscomp$51$$=$getTopWindow$$module$src$service$$($win$jscomp$51$$);return $getServiceInternal$$module$src$service$$($win$jscomp$51$$,$id$jscomp$11$$)}
function $getExistingServiceOrNull$$module$src$service$$($win$jscomp$53$$){$win$jscomp$53$$=$getTopWindow$$module$src$service$$($win$jscomp$53$$);return $isServiceRegistered$$module$src$service$$($win$jscomp$53$$,"performance")?$getServiceInternal$$module$src$service$$($win$jscomp$53$$,"performance"):null}
function $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$$,$id$jscomp$15$$){var $ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdoc$$module$src$service$$($elementOrAmpDoc$$);$ampdoc$jscomp$2_holder$jscomp$2$$=$getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$);return $getServiceInternal$$module$src$service$$($ampdoc$jscomp$2_holder$jscomp$2$$,$id$jscomp$15$$)}
function $getServicePromiseForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$1$$,$id$jscomp$17$$){return $getServicePromiseInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($elementOrAmpDoc$jscomp$1$$),$id$jscomp$17$$)}
function $getServicePromiseOrNullForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$2$$,$id$jscomp$18$$){return $getServicePromiseOrNullInternal$$module$src$service$$($getAmpdocServiceHolder$$module$src$service$$($elementOrAmpDoc$jscomp$2$$),$id$jscomp$18$$)}function $setParentWindow$$module$src$service$$($win$jscomp$55$$,$parentWin$$){$win$jscomp$55$$.__AMP_PARENT=$parentWin$$;$win$jscomp$55$$.__AMP_TOP=$getTopWindow$$module$src$service$$($parentWin$$)}
function $getTopWindow$$module$src$service$$($win$jscomp$57$$){return $win$jscomp$57$$.__AMP_TOP||$win$jscomp$57$$}function $getParentWindowFrameElement$$module$src$service$$($node$jscomp$28$$,$topWin$jscomp$1$$){var $childWin$$=($node$jscomp$28$$.ownerDocument||$node$jscomp$28$$).defaultView;if($childWin$$&&$childWin$$!=$topWin$jscomp$1$$&&$getTopWindow$$module$src$service$$($childWin$$)==$topWin$jscomp$1$$)try{return $childWin$$.frameElement}catch($e$jscomp$32$$){}return null}
function $getAmpdoc$$module$src$service$$($nodeOrDoc$jscomp$2$$){return $nodeOrDoc$jscomp$2$$.nodeType?$getService$$module$src$service$$(($nodeOrDoc$jscomp$2$$.ownerDocument||$nodeOrDoc$jscomp$2$$).defaultView,"ampdoc").getAmpDoc($nodeOrDoc$jscomp$2$$):$nodeOrDoc$jscomp$2$$}
function $getAmpdocServiceHolder$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$){$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$=$getAmpdoc$$module$src$service$$($ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$);return $ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.isSingleDoc()?$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$.win:$ampdoc$jscomp$4_nodeOrDoc$jscomp$3$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$4_s$jscomp$9$$,$id$jscomp$19$$){$isServiceRegistered$$module$src$service$$($holder$jscomp$4_s$jscomp$9$$,$id$jscomp$19$$);var $services$$=$getServices$$module$src$service$$($holder$jscomp$4_s$jscomp$9$$);$holder$jscomp$4_s$jscomp$9$$=$services$$[$id$jscomp$19$$];$holder$jscomp$4_s$jscomp$9$$.obj||($holder$jscomp$4_s$jscomp$9$$.obj=new $holder$jscomp$4_s$jscomp$9$$.ctor($holder$jscomp$4_s$jscomp$9$$.context),$holder$jscomp$4_s$jscomp$9$$.ctor=
null,$holder$jscomp$4_s$jscomp$9$$.context=null,$holder$jscomp$4_s$jscomp$9$$.resolve&&$holder$jscomp$4_s$jscomp$9$$.resolve($holder$jscomp$4_s$jscomp$9$$.obj));return $holder$jscomp$4_s$jscomp$9$$.obj}
function $registerServiceInternal$$module$src$service$$($holder$jscomp$5$$,$context$jscomp$1$$,$id$jscomp$20$$,$ctor$jscomp$6$$){var $services$jscomp$1$$=$getServices$$module$src$service$$($holder$jscomp$5$$),$s$jscomp$10$$=$services$jscomp$1$$[$id$jscomp$20$$];$s$jscomp$10$$||($s$jscomp$10$$=$services$jscomp$1$$[$id$jscomp$20$$]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});$s$jscomp$10$$.ctor||$s$jscomp$10$$.obj||($s$jscomp$10$$.ctor=$ctor$jscomp$6$$,$s$jscomp$10$$.context=
$context$jscomp$1$$,$s$jscomp$10$$.resolve&&$getServiceInternal$$module$src$service$$($holder$jscomp$5$$,$id$jscomp$20$$))}
function $getServicePromiseInternal$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$,$id$jscomp$21$$){var $cached$$=$getServicePromiseOrNullInternal$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$,$id$jscomp$21$$);if($cached$$)return $cached$$;$holder$jscomp$6_services$jscomp$2$$=$getServices$$module$src$service$$($holder$jscomp$6_services$jscomp$2$$);$holder$jscomp$6_services$jscomp$2$$[$id$jscomp$21$$]=$emptyServiceHolderWithPromise$$module$src$service$$();return $holder$jscomp$6_services$jscomp$2$$[$id$jscomp$21$$].promise}
function $getServicePromiseOrNullInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$){var $s$jscomp$12$$=$getServices$$module$src$service$$($holder$jscomp$8$$)[$id$jscomp$23$$];if($s$jscomp$12$$){if($s$jscomp$12$$.promise)return $s$jscomp$12$$.promise;$getServiceInternal$$module$src$service$$($holder$jscomp$8$$,$id$jscomp$23$$);return $s$jscomp$12$$.promise=Promise.resolve($s$jscomp$12$$.obj)}return null}
function $getServices$$module$src$service$$($holder$jscomp$9$$){var $services$jscomp$5$$=$holder$jscomp$9$$.services;$services$jscomp$5$$||($services$jscomp$5$$=$holder$jscomp$9$$.services={});return $services$jscomp$5$$}
function $disposeServicesInternal$$module$src$service$$($holder$jscomp$10_services$jscomp$6$$){$holder$jscomp$10_services$jscomp$6$$=$getServices$$module$src$service$$($holder$jscomp$10_services$jscomp$6$$);var $$jscomp$loop$89$$={},$id$jscomp$24$$;for($id$jscomp$24$$ in $holder$jscomp$10_services$jscomp$6$$){$$jscomp$loop$89$$.$$jscomp$loop$prop$id$90$=$id$jscomp$24$$;if(Object.prototype.hasOwnProperty.call($holder$jscomp$10_services$jscomp$6$$,$$jscomp$loop$89$$.$$jscomp$loop$prop$id$90$)){var $serviceHolder$$=
$holder$jscomp$10_services$jscomp$6$$[$$jscomp$loop$89$$.$$jscomp$loop$prop$id$90$];$serviceHolder$$.obj?$disposeServiceInternal$$module$src$service$$($$jscomp$loop$89$$.$$jscomp$loop$prop$id$90$,$serviceHolder$$.obj):$serviceHolder$$.promise&&$serviceHolder$$.promise.then(function($holder$jscomp$10_services$jscomp$6$$){return function($$jscomp$loop$89$$){return $disposeServiceInternal$$module$src$service$$($holder$jscomp$10_services$jscomp$6$$.$$jscomp$loop$prop$id$90$,$$jscomp$loop$89$$)}}($$jscomp$loop$89$$))}$$jscomp$loop$89$$=
{$$jscomp$loop$prop$id$90$:$$jscomp$loop$89$$.$$jscomp$loop$prop$id$90$}}}function $disposeServiceInternal$$module$src$service$$($id$jscomp$25$$,$service$jscomp$3$$){if("function"==typeof $service$jscomp$3$$.dispose)try{$service$jscomp$3$$.dispose()}catch($e$jscomp$33$$){$dev$$module$src$log$$().error("SERVICE","failed to dispose service",$id$jscomp$25$$,$e$jscomp$33$$)}}
function $isServiceRegistered$$module$src$service$$($holder$jscomp$12_service$jscomp$4$$,$id$jscomp$27$$){$holder$jscomp$12_service$jscomp$4$$=$holder$jscomp$12_service$jscomp$4$$.services&&$holder$jscomp$12_service$jscomp$4$$.services[$id$jscomp$27$$];return!(!$holder$jscomp$12_service$jscomp$4$$||!$holder$jscomp$12_service$jscomp$4$$.ctor&&!$holder$jscomp$12_service$jscomp$4$$.obj)}
function $emptyServiceHolderWithPromise$$module$src$service$$(){var $$jscomp$destructuring$var27_reject$jscomp$10$$=new $Deferred$$module$src$utils$promise$$,$promise$jscomp$13$$=$$jscomp$destructuring$var27_reject$jscomp$10$$.promise,$resolve$jscomp$19$$=$$jscomp$destructuring$var27_reject$jscomp$10$$.resolve;$$jscomp$destructuring$var27_reject$jscomp$10$$=$$jscomp$destructuring$var27_reject$jscomp$10$$.reject;$promise$jscomp$13$$.catch(function(){});return{obj:null,promise:$promise$jscomp$13$$,
resolve:$resolve$jscomp$19$$,reject:$$jscomp$destructuring$var27_reject$jscomp$10$$,context:null,ctor:null}};function $getElementServiceIfAvailable$$module$src$element_service$$($win$jscomp$61$$,$id$jscomp$29$$,$extension$jscomp$1$$){var $s$jscomp$13$$=$getServicePromiseOrNullInternal$$module$src$service$$($win$jscomp$61$$,$id$jscomp$29$$);return $s$jscomp$13$$?$s$jscomp$13$$:$getElementServicePromiseOrNull$$module$src$element_service$$($win$jscomp$61$$,$id$jscomp$29$$,$extension$jscomp$1$$,!0)}
function $getElementServiceForDoc$$module$src$element_service$$($element$jscomp$33$$,$id$jscomp$30$$,$extension$jscomp$2$$){return $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$33$$,$id$jscomp$30$$,$extension$jscomp$2$$,void 0).then(function($element$jscomp$33$$){return $userAssert$$module$src$log$$($element$jscomp$33$$,"Service %s was requested to be provided through %s, but %s is not loaded in the current page. To fix this problem load the JavaScript file for %s in this page.",
$id$jscomp$30$$,$extension$jscomp$2$$,$extension$jscomp$2$$,$extension$jscomp$2$$)})}
function $getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$34$$,$id$jscomp$31$$,$extension$jscomp$3$$,$opt_element$jscomp$10$$){var $s$jscomp$14$$=$getServicePromiseOrNullForDoc$$module$src$service$$($element$jscomp$34$$,$id$jscomp$31$$);if($s$jscomp$14$$)return $s$jscomp$14$$;var $ampdoc$jscomp$7$$=$getAmpdoc$$module$src$service$$($element$jscomp$34$$);return $ampdoc$jscomp$7$$.whenBodyAvailable().then(function(){return $waitForExtensionIfPresent$$module$src$element_service$$($ampdoc$jscomp$7$$.win,$extension$jscomp$3$$,
$ampdoc$jscomp$7$$.win.document.head)}).then(function(){if($opt_element$jscomp$10$$)var $s$jscomp$14$$=$getServicePromiseOrNullForDoc$$module$src$service$$($element$jscomp$34$$,$id$jscomp$31$$);else $s$jscomp$14$$=$ampdoc$jscomp$7$$.win,$s$jscomp$14$$=$s$jscomp$14$$.ampExtendedElements&&$s$jscomp$14$$.ampExtendedElements[$extension$jscomp$3$$]?$getServicePromiseForDoc$$module$src$service$$($element$jscomp$34$$,$id$jscomp$31$$):null;return $s$jscomp$14$$})}
function $getElementServiceIfAvailableForDocInEmbedScope$$module$src$element_service$$($element$jscomp$35$$){var $s$jscomp$15_win$jscomp$63$$=$getExistingServiceForDocInEmbedScope$$module$src$service$$($element$jscomp$35$$,"bind");if($s$jscomp$15_win$jscomp$63$$)return Promise.resolve($s$jscomp$15_win$jscomp$63$$);$s$jscomp$15_win$jscomp$63$$=$element$jscomp$35$$.ownerDocument.defaultView;var $topWin$jscomp$2$$=$getTopWindow$$module$src$service$$($s$jscomp$15_win$jscomp$63$$);return $s$jscomp$15_win$jscomp$63$$!==
$topWin$jscomp$2$$?$getElementServicePromiseOrNull$$module$src$element_service$$($s$jscomp$15_win$jscomp$63$$,"bind","amp-bind"):$getElementServiceIfAvailableForDoc$$module$src$element_service$$($element$jscomp$35$$,"bind","amp-bind")}
function $extensionScriptsInNode$$module$src$element_service$$($head$$){if(!$head$$)return[];for(var $scripts$jscomp$1$$=[],$list$jscomp$3$$=$head$$.querySelectorAll("script[custom-element]"),$i$jscomp$46$$=0;$i$jscomp$46$$<$list$jscomp$3$$.length;$i$jscomp$46$$++)$scripts$jscomp$1$$.push($list$jscomp$3$$[$i$jscomp$46$$].getAttribute("custom-element"));return $scripts$jscomp$1$$}
function $isExtensionScriptInNode$$module$src$element_service$$($ampdoc$jscomp$8$$){var $extensionId$$="amp-form";return $ampdoc$jscomp$8$$.whenBodyAvailable().then(function(){var $JSCompiler_head$jscomp$inline_281$$=$ampdoc$jscomp$8$$.getHeadNode(),$JSCompiler_extensionId$jscomp$inline_282$$=$extensionId$$;return $extensionScriptsInNode$$module$src$element_service$$($JSCompiler_head$jscomp$inline_281$$).includes($JSCompiler_extensionId$jscomp$inline_282$$)})}
function $waitForExtensionIfPresent$$module$src$element_service$$($win$jscomp$64$$,$extension$jscomp$6$$,$head$jscomp$2$$){if(!$extensionScriptsInNode$$module$src$element_service$$($head$jscomp$2$$).includes($extension$jscomp$6$$))return Promise.resolve();var $extensions$$=$getService$$module$src$service$$($win$jscomp$64$$,"extensions");return $extensions$$.waitForExtension($win$jscomp$64$$,$extension$jscomp$6$$)}
function $getElementServicePromiseOrNull$$module$src$element_service$$($win$jscomp$65$$,$id$jscomp$34$$,$extension$jscomp$7$$,$opt_element$jscomp$11$$){return $waitForBodyPromise$$module$src$dom$$($win$jscomp$65$$.document).then(function(){return $waitForExtensionIfPresent$$module$src$element_service$$($win$jscomp$65$$,$extension$jscomp$7$$,$win$jscomp$65$$.document.head)}).then(function(){return $opt_element$jscomp$11$$?$getServicePromiseOrNullInternal$$module$src$service$$($win$jscomp$65$$,$id$jscomp$34$$):
$win$jscomp$65$$.ampExtendedElements&&$win$jscomp$65$$.ampExtendedElements[$extension$jscomp$7$$]?$getServicePromiseInternal$$module$src$service$$($win$jscomp$65$$,$id$jscomp$34$$):null})};function $Services$$module$src$services$ampdocServiceFor$$($window$jscomp$2$$){return $getService$$module$src$service$$($window$jscomp$2$$,"ampdoc")}function $Services$$module$src$services$documentInfoForDoc$$($elementOrAmpDoc$jscomp$6$$){return $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$6$$,"documentInfo").get()}function $Services$$module$src$services$extensionsFor$$($window$jscomp$6$$){return $getService$$module$src$service$$($window$jscomp$6$$,"extensions")}
function $Services$$module$src$services$performanceFor$$($window$jscomp$7$$){return $getService$$module$src$service$$($window$jscomp$7$$,"performance")}function $Services$$module$src$services$platformFor$$($window$jscomp$9$$){return $getService$$module$src$service$$($window$jscomp$9$$,"platform")}function $Services$$module$src$services$resourcesForDoc$$($elementOrAmpDoc$jscomp$11$$){return $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$11$$,"resources")}
function $Services$$module$src$services$timerFor$$($window$jscomp$11$$){return $getService$$module$src$service$$($window$jscomp$11$$,"timer")}function $Services$$module$src$services$viewerForDoc$$($elementOrAmpDoc$jscomp$15$$){return $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$15$$,"viewer")}function $Services$$module$src$services$vsyncFor$$($window$jscomp$12$$){return $getService$$module$src$service$$($window$jscomp$12$$,"vsync")}
function $Services$$module$src$services$viewportForDoc$$($elementOrAmpDoc$jscomp$17$$){return $getServiceForDoc$$module$src$service$$($elementOrAmpDoc$jscomp$17$$,"viewport")};var $container$$module$src$static_template$$;
function $htmlFor$$module$src$static_template$$($doc$jscomp$14_nodeOrDoc$jscomp$4$$){$doc$jscomp$14_nodeOrDoc$jscomp$4$$=$doc$jscomp$14_nodeOrDoc$jscomp$4$$.ownerDocument||$doc$jscomp$14_nodeOrDoc$jscomp$4$$;$container$$module$src$static_template$$&&$container$$module$src$static_template$$.ownerDocument===$doc$jscomp$14_nodeOrDoc$jscomp$4$$||($container$$module$src$static_template$$=$doc$jscomp$14_nodeOrDoc$jscomp$4$$.createElement("div"));return $html$$module$src$static_template$$}
function $html$$module$src$static_template$$($strings$$){$container$$module$src$static_template$$.innerHTML=$strings$$[0];var $el$jscomp$9$$=$container$$module$src$static_template$$.firstElementChild;$container$$module$src$static_template$$.removeChild($el$jscomp$9$$);return $el$jscomp$9$$};var $propertyNameCache$$module$src$style$$,$vendorPrefixes$$module$src$style$$="Webkit webkit Moz moz ms O o".split(" ");
function $getVendorJsPropertyName$$module$src$style$$($style$jscomp$1$$,$camelCase$jscomp$1$$,$opt_bypassCache$$){if($startsWith$$module$src$string$$($camelCase$jscomp$1$$,"--"))return $camelCase$jscomp$1$$;$propertyNameCache$$module$src$style$$||($propertyNameCache$$module$src$style$$=$map$$module$src$utils$object$$());var $propertyName$jscomp$10$$=$propertyNameCache$$module$src$style$$[$camelCase$jscomp$1$$];if(!$propertyName$jscomp$10$$||$opt_bypassCache$$){$propertyName$jscomp$10$$=$camelCase$jscomp$1$$;
if(void 0===$style$jscomp$1$$[$camelCase$jscomp$1$$]){var $JSCompiler_inline_result$jscomp$137_titleCase$jscomp$1$$=$camelCase$jscomp$1$$.charAt(0).toUpperCase()+$camelCase$jscomp$1$$.slice(1);a:{for(var $JSCompiler_i$jscomp$inline_289$$=0;$JSCompiler_i$jscomp$inline_289$$<$vendorPrefixes$$module$src$style$$.length;$JSCompiler_i$jscomp$inline_289$$++){var $JSCompiler_propertyName$jscomp$inline_290$$=$vendorPrefixes$$module$src$style$$[$JSCompiler_i$jscomp$inline_289$$]+$JSCompiler_inline_result$jscomp$137_titleCase$jscomp$1$$;
if(void 0!==$style$jscomp$1$$[$JSCompiler_propertyName$jscomp$inline_290$$]){$JSCompiler_inline_result$jscomp$137_titleCase$jscomp$1$$=$JSCompiler_propertyName$jscomp$inline_290$$;break a}}$JSCompiler_inline_result$jscomp$137_titleCase$jscomp$1$$=""}var $prefixedPropertyName$$=$JSCompiler_inline_result$jscomp$137_titleCase$jscomp$1$$;void 0!==$style$jscomp$1$$[$prefixedPropertyName$$]&&($propertyName$jscomp$10$$=$prefixedPropertyName$$)}$opt_bypassCache$$||($propertyNameCache$$module$src$style$$[$camelCase$jscomp$1$$]=
$propertyName$jscomp$10$$)}return $propertyName$jscomp$10$$}function $setImportantStyles$$module$src$style$$($element$jscomp$57_style$jscomp$2$$,$styles$$){$element$jscomp$57_style$jscomp$2$$=$element$jscomp$57_style$jscomp$2$$.style;for(var $k$jscomp$8$$ in $styles$$)$element$jscomp$57_style$jscomp$2$$.setProperty($getVendorJsPropertyName$$module$src$style$$($element$jscomp$57_style$jscomp$2$$,$k$jscomp$8$$),$styles$$[$k$jscomp$8$$].toString(),"important")}
function $setStyle$$module$src$style$$($element$jscomp$58$$,$property$jscomp$4_propertyName$jscomp$11$$,$value$jscomp$111$$,$opt_units$$){($property$jscomp$4_propertyName$jscomp$11$$=$getVendorJsPropertyName$$module$src$style$$($element$jscomp$58$$.style,$property$jscomp$4_propertyName$jscomp$11$$,void 0))&&($element$jscomp$58$$.style[$property$jscomp$4_propertyName$jscomp$11$$]=$opt_units$$?$value$jscomp$111$$+$opt_units$$:$value$jscomp$111$$)}
function $getStyle$$module$src$style$$($element$jscomp$59$$,$property$jscomp$5_propertyName$jscomp$12$$){if($property$jscomp$5_propertyName$jscomp$12$$=$getVendorJsPropertyName$$module$src$style$$($element$jscomp$59$$.style,$property$jscomp$5_propertyName$jscomp$12$$,void 0))return $element$jscomp$59$$.style[$property$jscomp$5_propertyName$jscomp$12$$]}
function $setStyles$$module$src$style$$($element$jscomp$60$$,$styles$jscomp$1$$){for(var $k$jscomp$9$$ in $styles$jscomp$1$$)$setStyle$$module$src$style$$($element$jscomp$60$$,$k$jscomp$9$$,$styles$jscomp$1$$[$k$jscomp$9$$])}function $assertDoesNotContainDisplay$$module$src$style$$($styles$jscomp$2$$){"display"in $styles$jscomp$2$$&&$dev$$module$src$log$$().error("STYLE","`display` style detected in styles. You must use toggle instead.");return $styles$jscomp$2$$}
function $setInitialDisplay$$module$src$style$$($el$jscomp$10$$){$el$jscomp$10$$.style.display="block"}function $toggle$$module$src$style$$($element$jscomp$61$$,$opt_display$$){void 0===$opt_display$$&&($opt_display$$=$element$jscomp$61$$.hasAttribute("hidden"));$opt_display$$?$element$jscomp$61$$.removeAttribute("hidden"):$element$jscomp$61$$.setAttribute("hidden","")}
function $computedStyle$$module$src$style$$($win$jscomp$82$$,$el$jscomp$11$$){return $win$jscomp$82$$.getComputedStyle($el$jscomp$11$$)||$map$$module$src$utils$object$$()};var $$jscomp$templatelit$0$$=['\n      <i-amphtml-sizer class="i-amphtml-sizer">\n        <img alt="" role="presentation" aria-hidden="true"\n             class="i-amphtml-intrinsic-sizer" />\n      </i-amphtml-sizer>'];$$jscomp$templatelit$0$$.raw=$$jscomp$templatelit$0$$.slice();
var $Layout$$module$src$layout$$={NODISPLAY:"nodisplay",FIXED:"fixed",FIXED_HEIGHT:"fixed-height",RESPONSIVE:"responsive",CONTAINER:"container",FILL:"fill",FLEX_ITEM:"flex-item",FLUID:"fluid",INTRINSIC:"intrinsic"},$naturalDimensions_$$module$src$layout$$={"AMP-PIXEL":{width:"0px",height:"0px"},"AMP-ANALYTICS":{width:"1px",height:"1px"},"AMP-AUDIO":null,"AMP-SOCIAL-SHARE":{width:"60px",height:"44px"}},$LOADING_ELEMENTS_$$module$src$layout$$={"AMP-AD":!0,"AMP-ANIM":!0,"AMP-BRIGHTCOVE":!0,"AMP-DAILYMOTION":!0,
"AMP-EMBED":!0,"AMP-FACEBOOK":!0,"AMP-FACEBOOK-COMMENTS":!0,"AMP-FACEBOOK-LIKE":!0,"AMP-FACEBOOK-PAGE":!0,"AMP-GOOGLE-DOCUMENT-EMBED":!0,"AMP-IFRAME":!0,"AMP-IMG":!0,"AMP-INSTAGRAM":!0,"AMP-LIST":!0,"AMP-PINTEREST":!0,"AMP-PLAYBUZZ":!0,"AMP-YOUTUBE":!0,"AMP-VIMEO":!0},$videoPlayerTagNameRe$$module$src$layout$$=/^amp\-(video|.+player)/i;
function $parseLayout$$module$src$layout$$($s$jscomp$16$$){for(var $k$jscomp$10$$ in $Layout$$module$src$layout$$)if($Layout$$module$src$layout$$[$k$jscomp$10$$]==$s$jscomp$16$$)return $Layout$$module$src$layout$$[$k$jscomp$10$$]}
function $isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$1$$){return"fixed"==$layout$jscomp$1$$||"fixed-height"==$layout$jscomp$1$$||"responsive"==$layout$jscomp$1$$||"fill"==$layout$jscomp$1$$||"flex-item"==$layout$jscomp$1$$||"fluid"==$layout$jscomp$1$$||"intrinsic"==$layout$jscomp$1$$}
function $parseLength$$module$src$layout$$($s$jscomp$17$$){if("number"==typeof $s$jscomp$17$$)return $s$jscomp$17$$+"px";if($s$jscomp$17$$&&/^\d+(\.\d+)?(px|em|rem|vh|vw|vmin|vmax|cm|mm|q|in|pc|pt)?$/.test($s$jscomp$17$$))return/^\d+(\.\d+)?$/.test($s$jscomp$17$$)?$s$jscomp$17$$+"px":$s$jscomp$17$$}
function $assertLength$$module$src$layout$$($length$jscomp$28$$){$userAssert$$module$src$log$$(/^\d+(\.\d+)?(px|em|rem|vh|vw|vmin|vmax|cm|mm|q|in|pc|pt)$/.test($length$jscomp$28$$),"Invalid length value: %s",$length$jscomp$28$$);return $length$jscomp$28$$}
function $assertLengthOrPercent$$module$src$layout$$($length$jscomp$29$$){$userAssert$$module$src$log$$(/^\d+(\.\d+)?(px|em|rem|vh|vw|vmin|vmax|%)$/.test($length$jscomp$29$$),"Invalid length or percent value: %s",$length$jscomp$29$$);return $length$jscomp$29$$}
function $getLengthUnits$$module$src$layout$$($length$jscomp$30$$){$assertLength$$module$src$layout$$($length$jscomp$30$$);var $m$$=$userAssert$$module$src$log$$($length$jscomp$30$$.match(/[a-z]+/i),"Failed to read units from %s",$length$jscomp$30$$);return $m$$[0]}
function $getLengthNumeral$$module$src$layout$$($length$jscomp$31_res$jscomp$3$$){$length$jscomp$31_res$jscomp$3$$=parseFloat($length$jscomp$31_res$jscomp$3$$);return $isFiniteNumber$$module$src$types$$($length$jscomp$31_res$jscomp$3$$)?$length$jscomp$31_res$jscomp$3$$:void 0};var $optsSupported$$module$src$event_helper_listen$$;
function $internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$66$$,$eventType$jscomp$3$$,$listener$jscomp$62$$,$opt_evtListenerOpts$$){var $localElement$$=$element$jscomp$66$$,$localListener$$=$listener$jscomp$62$$;var $wrapped$$=function($element$jscomp$66$$){try{return $localListener$$($element$jscomp$66$$)}catch($e$jscomp$34$$){throw self.reportError($e$jscomp$34$$),$e$jscomp$34$$;}};var $optsSupported$$=$detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(),$capture$jscomp$1$$=
!1;$opt_evtListenerOpts$$&&($capture$jscomp$1$$=$opt_evtListenerOpts$$.capture);$localElement$$.addEventListener($eventType$jscomp$3$$,$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$jscomp$1$$);return function(){$localElement$$&&$localElement$$.removeEventListener($eventType$jscomp$3$$,$wrapped$$,$optsSupported$$?$opt_evtListenerOpts$$:$capture$jscomp$1$$);$wrapped$$=$localElement$$=$localListener$$=null}}
function $detectEvtListenerOptsSupport$$module$src$event_helper_listen$$(){if(void 0!==$optsSupported$$module$src$event_helper_listen$$)return $optsSupported$$module$src$event_helper_listen$$;$optsSupported$$module$src$event_helper_listen$$=!1;try{var $options$jscomp$23$$={get capture(){$optsSupported$$module$src$event_helper_listen$$=!0}};self.addEventListener("test-options",null,$options$jscomp$23$$);self.removeEventListener("test-options",null,$options$jscomp$23$$)}catch($err$jscomp$3$$){}return $optsSupported$$module$src$event_helper_listen$$}
;function $listen$$module$src$event_helper$$($element$jscomp$67$$,$eventType$jscomp$4$$,$listener$jscomp$63$$,$opt_evtListenerOpts$jscomp$1$$){return $internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$67$$,$eventType$jscomp$4$$,$listener$jscomp$63$$,$opt_evtListenerOpts$jscomp$1$$)}
function $listenOnce$$module$src$event_helper$$($element$jscomp$68$$,$eventType$jscomp$5$$,$listener$jscomp$64$$,$opt_evtListenerOpts$jscomp$2$$){var $localListener$jscomp$1$$=$listener$jscomp$64$$,$unlisten$$=$internalListenImplementation$$module$src$event_helper_listen$$($element$jscomp$68$$,$eventType$jscomp$5$$,function($element$jscomp$68$$){try{$localListener$jscomp$1$$($element$jscomp$68$$)}finally{$localListener$jscomp$1$$=null,$unlisten$$()}},$opt_evtListenerOpts$jscomp$2$$);return $unlisten$$}
function $listenOncePromise$$module$src$event_helper$$($element$jscomp$69$$,$opt_cancel$$){var $unlisten$jscomp$1$$,$eventPromise$$=new Promise(function($opt_cancel$$){$unlisten$jscomp$1$$=$listenOnce$$module$src$event_helper$$($element$jscomp$69$$,"click",$opt_cancel$$,void 0)});$eventPromise$$.then($unlisten$jscomp$1$$,$unlisten$jscomp$1$$);$opt_cancel$$&&$opt_cancel$$($unlisten$jscomp$1$$);return $eventPromise$$}
function $loadPromise$$module$src$event_helper$$($eleOrWindow$jscomp$1$$){var $unlistenLoad$$,$unlistenError$$;if($eleOrWindow$jscomp$1$$.complete||"complete"==$eleOrWindow$jscomp$1$$.readyState||$eleOrWindow$jscomp$1$$.document&&"complete"==$eleOrWindow$jscomp$1$$.document.readyState)return Promise.resolve($eleOrWindow$jscomp$1$$);var $loadingPromise$$=new Promise(function($loadingPromise$$,$reject$jscomp$11$$){var $resolve$jscomp$21$$=$eleOrWindow$jscomp$1$$.tagName;$unlistenLoad$$="AUDIO"===$resolve$jscomp$21$$||
"VIDEO"===$resolve$jscomp$21$$?$listenOnce$$module$src$event_helper$$($eleOrWindow$jscomp$1$$,"loadstart",$loadingPromise$$):$listenOnce$$module$src$event_helper$$($eleOrWindow$jscomp$1$$,"load",$loadingPromise$$);$resolve$jscomp$21$$&&($unlistenError$$=$listenOnce$$module$src$event_helper$$($eleOrWindow$jscomp$1$$,"error",$reject$jscomp$11$$))});return $loadingPromise$$.then(function(){$unlistenError$$&&$unlistenError$$();return $eleOrWindow$jscomp$1$$},function(){$unlistenLoad$$&&$unlistenLoad$$();
var $unlistenError$$=$eleOrWindow$jscomp$1$$;$unlistenError$$&&$unlistenError$$.src&&($unlistenError$$=$unlistenError$$.src);throw $user$$module$src$log$$().createError("Failed to load:",$unlistenError$$);})};var $$jscomp$templatelit$1$$=['\n        <link rel="preload" referrerpolicy="origin" />'];$$jscomp$templatelit$1$$.raw=$$jscomp$templatelit$1$$.slice();var $preconnectFeatures$$module$src$preconnect$$=null;
function $PreconnectService$$module$src$preconnect$$($win$jscomp$85$$){this.$document_$=$win$jscomp$85$$.document;this.$head_$=$win$jscomp$85$$.document.head;this.$origins_$={};this.$urls_$={};this.$platform_$=$Services$$module$src$services$platformFor$$($win$jscomp$85$$);this.$origins_$[$parseUrlDeprecated$$module$src$url$$($win$jscomp$85$$.location.href).origin]=!0;a:{if(!$preconnectFeatures$$module$src$preconnect$$){var $JSCompiler_inline_result$jscomp$142_JSCompiler_linkTag$jscomp$inline_296$$=
$win$jscomp$85$$.document.createElement("link");var $JSCompiler_tokenList$jscomp$inline_297$$=$JSCompiler_inline_result$jscomp$142_JSCompiler_linkTag$jscomp$inline_296$$.relList;$JSCompiler_inline_result$jscomp$142_JSCompiler_linkTag$jscomp$inline_296$$.as="invalid-value";if(!$JSCompiler_tokenList$jscomp$inline_297$$||!$JSCompiler_tokenList$jscomp$inline_297$$.supports){$JSCompiler_inline_result$jscomp$142_JSCompiler_linkTag$jscomp$inline_296$$={};break a}$preconnectFeatures$$module$src$preconnect$$=
{preconnect:$JSCompiler_tokenList$jscomp$inline_297$$.supports("preconnect"),preload:$JSCompiler_tokenList$jscomp$inline_297$$.supports("preload"),onlyValidAs:"invalid-value"!=$JSCompiler_inline_result$jscomp$142_JSCompiler_linkTag$jscomp$inline_296$$.as}}$JSCompiler_inline_result$jscomp$142_JSCompiler_linkTag$jscomp$inline_296$$=$preconnectFeatures$$module$src$preconnect$$}this.$features_$=$JSCompiler_inline_result$jscomp$142_JSCompiler_linkTag$jscomp$inline_296$$;this.$timer_$=$Services$$module$src$services$timerFor$$($win$jscomp$85$$)}
$PreconnectService$$module$src$preconnect$$.prototype.url=function($viewer$$,$url$jscomp$42$$,$opt_alsoConnecting$$){var $$jscomp$this$jscomp$2$$=this;$viewer$$.whenFirstVisible().then(function(){$$jscomp$this$jscomp$2$$.$url_$($viewer$$,$url$jscomp$42$$,$opt_alsoConnecting$$)})};
$PreconnectService$$module$src$preconnect$$.prototype.$url_$=function($origin$jscomp$1_viewer$jscomp$1$$,$url$jscomp$43$$,$opt_alsoConnecting$jscomp$1$$){if($JSCompiler_StaticMethods_isInterestingUrl_$$($url$jscomp$43$$)){$origin$jscomp$1_viewer$jscomp$1$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$43$$).origin;var $now$$=Date.now(),$lastPreconnectTimeout$$=this.$origins_$[$origin$jscomp$1_viewer$jscomp$1$$];if($lastPreconnectTimeout$$&&$now$$<$lastPreconnectTimeout$$)$opt_alsoConnecting$jscomp$1$$&&
(this.$origins_$[$origin$jscomp$1_viewer$jscomp$1$$]=$now$$+18E4);else{this.$origins_$[$origin$jscomp$1_viewer$jscomp$1$$]=$now$$+($opt_alsoConnecting$jscomp$1$$?18E4:1E4);if(!this.$features_$.preconnect){var $dns$$=this.$document_$.createElement("link");$dns$$.setAttribute("rel","dns-prefetch");$dns$$.setAttribute("href",$origin$jscomp$1_viewer$jscomp$1$$);this.$head_$.appendChild($dns$$)}var $preconnect$$=this.$document_$.createElement("link");$preconnect$$.setAttribute("rel","preconnect");$preconnect$$.setAttribute("href",
$origin$jscomp$1_viewer$jscomp$1$$);$preconnect$$.setAttribute("referrerpolicy","origin");this.$head_$.appendChild($preconnect$$);this.$timer_$.delay(function(){$dns$$&&$dns$$.parentNode&&$dns$$.parentNode.removeChild($dns$$);$preconnect$$.parentNode&&$preconnect$$.parentNode.removeChild($preconnect$$)},1E4);$JSCompiler_StaticMethods_preconnectPolyfill_$$(this,$origin$jscomp$1_viewer$jscomp$1$$)}}};
$PreconnectService$$module$src$preconnect$$.prototype.preload=function($viewer$jscomp$2$$,$url$jscomp$44$$,$opt_preloadAs$$){var $$jscomp$this$jscomp$3$$=this;$JSCompiler_StaticMethods_isInterestingUrl_$$($url$jscomp$44$$)&&!this.$urls_$[$url$jscomp$44$$]&&(this.$urls_$[$url$jscomp$44$$]=!0,this.url($viewer$jscomp$2$$,$url$jscomp$44$$,!0),this.$features_$.preload&&("document"==$opt_preloadAs$$&&this.$platform_$.isSafari()||$viewer$jscomp$2$$.whenFirstVisible().then(function(){var $viewer$jscomp$2$$=
$htmlFor$$module$src$static_template$$($$jscomp$this$jscomp$3$$.$document_$)($$jscomp$templatelit$1$$);$viewer$jscomp$2$$.setAttribute("href",$url$jscomp$44$$);$viewer$jscomp$2$$.as=$$jscomp$this$jscomp$3$$.$features_$.onlyValidAs?"fetch":"";$$jscomp$this$jscomp$3$$.$head_$.appendChild($viewer$jscomp$2$$)})))};
function $JSCompiler_StaticMethods_isInterestingUrl_$$($url$jscomp$46$$){return $startsWith$$module$src$string$$($url$jscomp$46$$,"https:")||$startsWith$$module$src$string$$($url$jscomp$46$$,"http:")?!0:!1}
function $JSCompiler_StaticMethods_preconnectPolyfill_$$($JSCompiler_StaticMethods_preconnectPolyfill_$self_xhr$jscomp$4$$,$origin$jscomp$2$$){if(!$JSCompiler_StaticMethods_preconnectPolyfill_$self_xhr$jscomp$4$$.$features_$.preconnect&&($JSCompiler_StaticMethods_preconnectPolyfill_$self_xhr$jscomp$4$$.$platform_$.isSafari()||$JSCompiler_StaticMethods_preconnectPolyfill_$self_xhr$jscomp$4$$.$platform_$.isIos())){var $now$jscomp$1$$=Date.now();$JSCompiler_StaticMethods_preconnectPolyfill_$self_xhr$jscomp$4$$.$origins_$[$origin$jscomp$2$$]=
$now$jscomp$1$$+18E4;var $cacheBust$$=$now$jscomp$1$$-$now$jscomp$1$$%18E4;$JSCompiler_StaticMethods_preconnectPolyfill_$self_xhr$jscomp$4$$=new XMLHttpRequest;$JSCompiler_StaticMethods_preconnectPolyfill_$self_xhr$jscomp$4$$.open("HEAD",$origin$jscomp$2$$+"/amp_preconnect_polyfill_404_or_other_error_expected._Do_not_worry_about_it?"+$cacheBust$$,!0);$JSCompiler_StaticMethods_preconnectPolyfill_$self_xhr$jscomp$4$$.withCredentials=!0;$JSCompiler_StaticMethods_preconnectPolyfill_$self_xhr$jscomp$4$$.send()}}
function $Preconnect$$module$src$preconnect$$($preconnectService$$,$element$jscomp$70$$){this.$preconnectService_$=$preconnectService$$;this.$element_$=$element$jscomp$70$$;this.$viewer_$=null}
function $JSCompiler_StaticMethods_getViewer_$$($JSCompiler_StaticMethods_getViewer_$self$$){$JSCompiler_StaticMethods_getViewer_$self$$.$viewer_$||($JSCompiler_StaticMethods_getViewer_$self$$.$viewer_$=$Services$$module$src$services$viewerForDoc$$($JSCompiler_StaticMethods_getViewer_$self$$.$element_$));return $JSCompiler_StaticMethods_getViewer_$self$$.$viewer_$}
$Preconnect$$module$src$preconnect$$.prototype.url=function($url$jscomp$48$$,$opt_alsoConnecting$jscomp$2$$){this.$preconnectService_$.url($JSCompiler_StaticMethods_getViewer_$$(this),$url$jscomp$48$$,$opt_alsoConnecting$jscomp$2$$)};$Preconnect$$module$src$preconnect$$.prototype.preload=function($url$jscomp$49$$,$opt_preloadAs$jscomp$1$$){this.$preconnectService_$.preload($JSCompiler_StaticMethods_getViewer_$$(this),$url$jscomp$49$$,$opt_preloadAs$jscomp$1$$)};function $BaseElement$$module$src$base_element$$($JSCompiler_element$jscomp$inline_303_element$jscomp$72$$){this.element=$JSCompiler_element$jscomp$inline_303_element$jscomp$72$$;this.layout_="nodisplay";this.layoutWidth_=-1;this.inViewport_=!1;this.win=$JSCompiler_element$jscomp$inline_303_element$jscomp$72$$.ownerDocument.defaultView;this.defaultActionAlias_=this.actionMap_=null;$JSCompiler_element$jscomp$inline_303_element$jscomp$72$$=this.element;var $JSCompiler_preconnectService$jscomp$inline_305_JSCompiler_serviceHolder$jscomp$inline_304$$=
$JSCompiler_element$jscomp$inline_303_element$jscomp$72$$.ownerDocument.defaultView;$registerServiceBuilder$$module$src$service$$($JSCompiler_preconnectService$jscomp$inline_305_JSCompiler_serviceHolder$jscomp$inline_304$$,"preconnect",$PreconnectService$$module$src$preconnect$$);$JSCompiler_preconnectService$jscomp$inline_305_JSCompiler_serviceHolder$jscomp$inline_304$$=$getService$$module$src$service$$($JSCompiler_preconnectService$jscomp$inline_305_JSCompiler_serviceHolder$jscomp$inline_304$$,
"preconnect");this.preconnect=new $Preconnect$$module$src$preconnect$$($JSCompiler_preconnectService$jscomp$inline_305_JSCompiler_serviceHolder$jscomp$inline_304$$,$JSCompiler_element$jscomp$inline_303_element$jscomp$72$$);this.config=null;this.layoutScheduleTime=0}$JSCompiler_prototypeAlias$$=$BaseElement$$module$src$base_element$$.prototype;$JSCompiler_prototypeAlias$$.signals=function(){return this.element.signals()};$JSCompiler_prototypeAlias$$.getDefaultActionAlias=function(){return this.defaultActionAlias_};
$JSCompiler_prototypeAlias$$.getLayoutPriority=function(){return 0};$JSCompiler_prototypeAlias$$.updateLayoutPriority=function($newLayoutPriority$$){this.element.getResources().updateLayoutPriority(this.element,$newLayoutPriority$$)};$JSCompiler_prototypeAlias$$.getLayout=function(){return this.layout_};$JSCompiler_prototypeAlias$$.getLayoutBox=function(){return this.element.getLayoutBox()};$JSCompiler_prototypeAlias$$.getPageLayoutBox=function(){return this.element.getPageLayoutBox()};
$JSCompiler_prototypeAlias$$.getWin=function(){return this.win};$JSCompiler_prototypeAlias$$.getAmpDoc=function(){return this.element.getAmpDoc()};$JSCompiler_prototypeAlias$$.getVsync=function(){return $Services$$module$src$services$vsyncFor$$(this.win)};$JSCompiler_prototypeAlias$$.getLayoutWidth=function(){return this.layoutWidth_};
$JSCompiler_prototypeAlias$$.getConsentPolicy=function(){var $policyId$$=null;this.element.hasAttribute("data-block-on-consent")&&($policyId$$=this.element.getAttribute("data-block-on-consent")||"default");return $policyId$$};$JSCompiler_prototypeAlias$$.isLayoutSupported=function($layout$jscomp$3$$){return"nodisplay"==$layout$jscomp$3$$};$JSCompiler_prototypeAlias$$.isAlwaysFixed=function(){return!1};$JSCompiler_prototypeAlias$$.isInViewport=function(){return this.inViewport_};
$JSCompiler_prototypeAlias$$.upgradeCallback=function(){return null};$JSCompiler_prototypeAlias$$.createdCallback=function(){};$JSCompiler_prototypeAlias$$.firstAttachedCallback=function(){};$JSCompiler_prototypeAlias$$.buildCallback=function(){};$JSCompiler_prototypeAlias$$.preconnectCallback=function(){};$JSCompiler_prototypeAlias$$.detachedCallback=function(){};$JSCompiler_prototypeAlias$$.setAsOwner=function($element$jscomp$73$$){this.element.getResources().setOwner($element$jscomp$73$$,this.element)};
$JSCompiler_prototypeAlias$$.prerenderAllowed=function(){return!1};$JSCompiler_prototypeAlias$$.createPlaceholderCallback=function(){return null};$JSCompiler_prototypeAlias$$.renderOutsideViewport=function(){return"inabox"==$getMode$$module$src$mode$$(this.win).runtime||3};$JSCompiler_prototypeAlias$$.idleRenderOutsideViewport=function(){return!1};$JSCompiler_prototypeAlias$$.isRelayoutNeeded=function(){return!1};$JSCompiler_prototypeAlias$$.layoutCallback=function(){return Promise.resolve()};
$JSCompiler_prototypeAlias$$.firstLayoutCompleted=function(){this.togglePlaceholder(!1)};$JSCompiler_prototypeAlias$$.viewportCallback=function(){};$JSCompiler_prototypeAlias$$.pauseCallback=function(){};$JSCompiler_prototypeAlias$$.resumeCallback=function(){};$JSCompiler_prototypeAlias$$.unlayoutCallback=function(){return!1};$JSCompiler_prototypeAlias$$.unlayoutOnPause=function(){return!1};$JSCompiler_prototypeAlias$$.reconstructWhenReparented=function(){return!0};
$JSCompiler_prototypeAlias$$.activate=function(){};$JSCompiler_prototypeAlias$$.activationTrust=function(){return 100};$JSCompiler_prototypeAlias$$.loadPromise=function($element$jscomp$74$$){return $loadPromise$$module$src$event_helper$$($element$jscomp$74$$)};
function $JSCompiler_StaticMethods_initActionMap_$$($JSCompiler_StaticMethods_initActionMap_$self$$){$JSCompiler_StaticMethods_initActionMap_$self$$.actionMap_||($JSCompiler_StaticMethods_initActionMap_$self$$.actionMap_=$JSCompiler_StaticMethods_initActionMap_$self$$.win.Object.create(null))}
$JSCompiler_prototypeAlias$$.registerAction=function($alias$$,$handler$jscomp$6$$,$minTrust$$){$minTrust$$=void 0===$minTrust$$?100:$minTrust$$;$JSCompiler_StaticMethods_initActionMap_$$(this);this.actionMap_[$alias$$]={handler:$handler$jscomp$6$$,minTrust:$minTrust$$}};
$JSCompiler_prototypeAlias$$.registerDefaultAction=function($handler$jscomp$7$$,$alias$jscomp$1$$,$minTrust$jscomp$1$$){$alias$jscomp$1$$=void 0===$alias$jscomp$1$$?"activate":$alias$jscomp$1$$;this.registerAction($alias$jscomp$1$$,$handler$jscomp$7$$,void 0===$minTrust$jscomp$1$$?100:$minTrust$jscomp$1$$);this.defaultActionAlias_=$alias$jscomp$1$$};
$JSCompiler_prototypeAlias$$.executeAction=function($invocation$$){var $handler$jscomp$8_method$jscomp$3$$=$invocation$$.method;"activate"===$handler$jscomp$8_method$jscomp$3$$&&($handler$jscomp$8_method$jscomp$3$$=this.defaultActionAlias_||$handler$jscomp$8_method$jscomp$3$$);$JSCompiler_StaticMethods_initActionMap_$$(this);var $holder$jscomp$13$$=this.actionMap_[$handler$jscomp$8_method$jscomp$3$$];$userAssert$$module$src$log$$($holder$jscomp$13$$,"Method not found: "+$handler$jscomp$8_method$jscomp$3$$+
" in "+this.element.tagName);$handler$jscomp$8_method$jscomp$3$$=$holder$jscomp$13$$.handler;if($invocation$$.satisfiesTrust($holder$jscomp$13$$.minTrust))return $handler$jscomp$8_method$jscomp$3$$($invocation$$)};$JSCompiler_prototypeAlias$$.getMaxDpr=function(){return this.element.getResources().getMaxDpr()};$JSCompiler_prototypeAlias$$.getDpr=function(){return this.element.getResources().getDpr()};
$JSCompiler_prototypeAlias$$.propagateAttributes=function($attributes$jscomp$6$$,$element$jscomp$75$$,$opt_removeMissingAttrs$$){$attributes$jscomp$6$$=$isArray$$module$src$types$$($attributes$jscomp$6$$)?$attributes$jscomp$6$$:[$attributes$jscomp$6$$];for(var $i$jscomp$50$$=0;$i$jscomp$50$$<$attributes$jscomp$6$$.length;$i$jscomp$50$$++){var $attr$jscomp$5$$=$attributes$jscomp$6$$[$i$jscomp$50$$];this.element.hasAttribute($attr$jscomp$5$$)?$element$jscomp$75$$.setAttribute($attr$jscomp$5$$,this.element.getAttribute($attr$jscomp$5$$)):
$opt_removeMissingAttrs$$&&$element$jscomp$75$$.removeAttribute($attr$jscomp$5$$)}};
$JSCompiler_prototypeAlias$$.forwardEvents=function($events$$,$element$jscomp$76$$){var $$jscomp$this$jscomp$4$$=this,$unlisteners$$=($isArray$$module$src$types$$($events$$)?$events$$:[$events$$]).map(function($events$$){return $listen$$module$src$event_helper$$($element$jscomp$76$$,$events$$,function($element$jscomp$76$$){$$jscomp$this$jscomp$4$$.element.dispatchCustomEvent($events$$,$element$jscomp$76$$.data||{})})});return function(){return $unlisteners$$.forEach(function($events$$){return $events$$()})}};
$JSCompiler_prototypeAlias$$.getPlaceholder=function(){return this.element.getPlaceholder()};$JSCompiler_prototypeAlias$$.togglePlaceholder=function($state$jscomp$3$$){this.element.togglePlaceholder($state$jscomp$3$$)};$JSCompiler_prototypeAlias$$.getFallback=function(){return this.element.getFallback()};$JSCompiler_prototypeAlias$$.toggleFallback=function($state$jscomp$4$$){this.element.toggleFallback($state$jscomp$4$$)};
$JSCompiler_prototypeAlias$$.toggleLoading=function($state$jscomp$5$$,$opt_force$jscomp$2$$){this.element.toggleLoading($state$jscomp$5$$,{force:!!$opt_force$jscomp$2$$})};$JSCompiler_prototypeAlias$$.isLoadingReused=function(){return!1};$JSCompiler_prototypeAlias$$.getOverflowElement=function(){return this.element.getOverflowElement()};$JSCompiler_prototypeAlias$$.renderStarted=function(){this.element.renderStarted()};$JSCompiler_prototypeAlias$$.getRealChildNodes=function(){return this.element.getRealChildNodes()};
$JSCompiler_prototypeAlias$$.getRealChildren=function(){return this.element.getRealChildren()};$JSCompiler_prototypeAlias$$.applyFillContent=function($element$jscomp$77$$,$opt_replacedContent$$){$element$jscomp$77$$.classList.add("i-amphtml-fill-content");$opt_replacedContent$$&&$element$jscomp$77$$.classList.add("i-amphtml-replaced-content")};$JSCompiler_prototypeAlias$$.getViewport=function(){return $Services$$module$src$services$viewportForDoc$$(this.getAmpDoc())};
$JSCompiler_prototypeAlias$$.getIntersectionElementLayoutBox=function(){return this.getLayoutBox()};$JSCompiler_prototypeAlias$$.scheduleLayout=function($elements$jscomp$2$$){this.element.getResources().scheduleLayout(this.element,$elements$jscomp$2$$)};$JSCompiler_prototypeAlias$$.schedulePause=function($elements$jscomp$3$$){this.element.getResources().schedulePause(this.element,$elements$jscomp$3$$)};
$JSCompiler_prototypeAlias$$.scheduleResume=function($elements$jscomp$4$$){this.element.getResources().scheduleResume(this.element,$elements$jscomp$4$$)};$JSCompiler_prototypeAlias$$.schedulePreload=function($elements$jscomp$5$$){this.element.getResources().schedulePreload(this.element,$elements$jscomp$5$$)};$JSCompiler_prototypeAlias$$.scheduleUnlayout=function($elements$jscomp$6$$){this.element.getResources().scheduleUnlayout(this.element,$elements$jscomp$6$$)};
$JSCompiler_prototypeAlias$$.updateInViewport=function($elements$jscomp$7$$,$inLocalViewport$$){this.element.getResources().updateInViewport(this.element,$elements$jscomp$7$$,$inLocalViewport$$)};$JSCompiler_prototypeAlias$$.changeHeight=function($newHeight$$){this.element.getResources().changeSize(this.element,$newHeight$$,void 0)};$JSCompiler_prototypeAlias$$.collapse=function(){this.element.getResources().collapseElement(this.element)};$JSCompiler_prototypeAlias$$.attemptCollapse=function(){return this.element.getResources().attemptCollapse(this.element)};
$JSCompiler_prototypeAlias$$.attemptChangeHeight=function($newHeight$jscomp$1$$){return this.element.getResources().attemptChangeSize(this.element,$newHeight$jscomp$1$$,void 0)};$JSCompiler_prototypeAlias$$.attemptChangeSize=function($newHeight$jscomp$2$$,$newWidth$$){return this.element.getResources().attemptChangeSize(this.element,$newHeight$jscomp$2$$,$newWidth$$)};$JSCompiler_prototypeAlias$$.measureElement=function($measurer$$){return this.element.getResources().measureElement($measurer$$)};
$JSCompiler_prototypeAlias$$.mutateElement=function($mutator$$,$opt_element$jscomp$12$$){return this.measureMutateElement(null,$mutator$$,$opt_element$jscomp$12$$)};$JSCompiler_prototypeAlias$$.measureMutateElement=function($measurer$jscomp$1$$,$mutator$jscomp$1$$,$opt_element$jscomp$13$$){return this.element.getResources().measureMutateElement($opt_element$jscomp$13$$||this.element,$measurer$jscomp$1$$,$mutator$jscomp$1$$)};$JSCompiler_prototypeAlias$$.collapsedCallback=function(){};
$JSCompiler_prototypeAlias$$.expand=function(){this.element.getResources().expandElement(this.element)};$JSCompiler_prototypeAlias$$.expandedCallback=function(){};$JSCompiler_prototypeAlias$$.mutatedAttributesCallback=function(){};$JSCompiler_prototypeAlias$$.onLayoutMeasure=function(){};$JSCompiler_prototypeAlias$$.onMeasureChanged=function(){};$JSCompiler_prototypeAlias$$.user=function(){return $user$$module$src$log$$(this.element)};
$JSCompiler_prototypeAlias$$.declareLayer=function($opt_element$jscomp$14$$){$isExperimentOn$$module$src$experiments$$(this.win,"layers");$opt_element$jscomp$14$$&&this.element.contains($opt_element$jscomp$14$$);return this.element.getLayers().declareLayer($opt_element$jscomp$14$$||this.element)};function $BaseTemplate$$module$src$service$template_impl$$($element$jscomp$78$$,$win$jscomp$86$$){this.element=$element$jscomp$78$$;this.win=$element$jscomp$78$$.ownerDocument.defaultView||$win$jscomp$86$$;this.$viewer_$=$getServiceForDoc$$module$src$service$$(this.element,"viewer");this.compileCallback()}$JSCompiler_prototypeAlias$$=$BaseTemplate$$module$src$service$template_impl$$.prototype;$JSCompiler_prototypeAlias$$.compileCallback=function(){};
$JSCompiler_prototypeAlias$$.setHtml=function(){throw Error("Not implemented");};$JSCompiler_prototypeAlias$$.render=function(){throw Error("Not implemented");};
$JSCompiler_prototypeAlias$$.unwrap=function($root$jscomp$11$$){for(var $singleElement$$=null,$n$jscomp$8$$=$root$jscomp$11$$.firstChild;null!=$n$jscomp$8$$;$n$jscomp$8$$=$n$jscomp$8$$.nextSibling)if(3==$n$jscomp$8$$.nodeType){if($n$jscomp$8$$.textContent.trim()){$singleElement$$=null;break}}else if(8!=$n$jscomp$8$$.nodeType)if(1==$n$jscomp$8$$.nodeType)if($singleElement$$){$singleElement$$=null;break}else $singleElement$$=$n$jscomp$8$$;else $singleElement$$=null;return $singleElement$$||$root$jscomp$11$$};
$JSCompiler_prototypeAlias$$.viewerCanRenderTemplates=function(){return this.$viewer_$.hasCapability("viewerRenderTemplate")};function $Templates$$module$src$service$template_impl$$($win$jscomp$87$$){this.$win_$=$win$jscomp$87$$;this.$templateClassMap_$={};this.$templateClassResolvers_$={}}$JSCompiler_prototypeAlias$$=$Templates$$module$src$service$template_impl$$.prototype;
$JSCompiler_prototypeAlias$$.setHtmlForTemplate=function($templateElement$$,$html$jscomp$1$$){return $JSCompiler_StaticMethods_getImplementation_$$(this,$templateElement$$).then(function($templateElement$$){return $templateElement$$.setHtml($html$jscomp$1$$)})};$JSCompiler_prototypeAlias$$.renderTemplate=function($templateElement$jscomp$1$$,$data$jscomp$58$$){return $JSCompiler_StaticMethods_getImplementation_$$(this,$templateElement$jscomp$1$$).then(function($templateElement$jscomp$1$$){return $templateElement$jscomp$1$$.render($data$jscomp$58$$)})};
$JSCompiler_prototypeAlias$$.renderTemplateArray=function($templateElement$jscomp$2$$,$array$jscomp$8$$){return 0==$array$jscomp$8$$.length?Promise.resolve([]):$JSCompiler_StaticMethods_getImplementation_$$(this,$templateElement$jscomp$2$$).then(function($templateElement$jscomp$2$$){return $array$jscomp$8$$.map(function($array$jscomp$8$$){return $templateElement$jscomp$2$$.render($array$jscomp$8$$)})})};
$JSCompiler_prototypeAlias$$.findAndRenderTemplate=function($parent$jscomp$14$$,$data$jscomp$59$$,$opt_querySelector$$){return this.renderTemplate(this.findTemplate($parent$jscomp$14$$,$opt_querySelector$$),$data$jscomp$59$$)};$JSCompiler_prototypeAlias$$.findAndSetHtmlForTemplate=function($parent$jscomp$15$$,$html$jscomp$2$$,$opt_querySelector$jscomp$1$$){return this.setHtmlForTemplate(this.findTemplate($parent$jscomp$15$$,$opt_querySelector$jscomp$1$$),$html$jscomp$2$$)};
$JSCompiler_prototypeAlias$$.findAndRenderTemplateArray=function($parent$jscomp$16$$,$array$jscomp$9$$,$opt_querySelector$jscomp$2$$){return this.renderTemplateArray(this.findTemplate($parent$jscomp$16$$,$opt_querySelector$jscomp$2$$),$array$jscomp$9$$)};$JSCompiler_prototypeAlias$$.hasTemplate=function($parent$jscomp$17$$,$opt_querySelector$jscomp$3$$){return!!this.maybeFindTemplate($parent$jscomp$17$$,$opt_querySelector$jscomp$3$$)};
$JSCompiler_prototypeAlias$$.findTemplate=function($parent$jscomp$18$$,$opt_querySelector$jscomp$4_templateElement$jscomp$3$$){$opt_querySelector$jscomp$4_templateElement$jscomp$3$$=this.maybeFindTemplate($parent$jscomp$18$$,$opt_querySelector$jscomp$4_templateElement$jscomp$3$$);$userAssert$$module$src$log$$($opt_querySelector$jscomp$4_templateElement$jscomp$3$$,"Template not found for %s",$parent$jscomp$18$$);var $templateTagName$$=$opt_querySelector$jscomp$4_templateElement$jscomp$3$$.tagName;
$userAssert$$module$src$log$$("TEMPLATE"==$templateTagName$$||"SCRIPT"==$templateTagName$$&&"text/plain"===$opt_querySelector$jscomp$4_templateElement$jscomp$3$$.getAttribute("type"),'Template must be defined in a <template> or <script type="text/plain"> tag');return $opt_querySelector$jscomp$4_templateElement$jscomp$3$$};
$JSCompiler_prototypeAlias$$.maybeFindTemplate=function($parent$jscomp$19$$,$opt_querySelector$jscomp$5$$){var $templateId$$=$parent$jscomp$19$$.getAttribute("template");return $templateId$$?$rootNodeFor$$module$src$dom$$($parent$jscomp$19$$).getElementById($templateId$$):$opt_querySelector$jscomp$5$$?$scopedQuerySelector$$module$src$dom$$($parent$jscomp$19$$,$opt_querySelector$jscomp$5$$):$parent$jscomp$19$$.querySelector("template, script")};
function $JSCompiler_StaticMethods_getImplementation_$$($JSCompiler_StaticMethods_getImplementation_$self$$,$element$jscomp$79$$){var $impl$jscomp$3_type$jscomp$139$$=$element$jscomp$79$$.__AMP_IMPL_;if($impl$jscomp$3_type$jscomp$139$$)return Promise.resolve($impl$jscomp$3_type$jscomp$139$$);$impl$jscomp$3_type$jscomp$139$$="";var $promise$jscomp$14_tagName$jscomp$17$$=$element$jscomp$79$$.tagName;"TEMPLATE"==$promise$jscomp$14_tagName$jscomp$17$$?$impl$jscomp$3_type$jscomp$139$$=$element$jscomp$79$$.getAttribute("type"):
"SCRIPT"==$promise$jscomp$14_tagName$jscomp$17$$&&($impl$jscomp$3_type$jscomp$139$$=$element$jscomp$79$$.getAttribute("template"));$userAssert$$module$src$log$$($impl$jscomp$3_type$jscomp$139$$,"Type must be specified: %s",$element$jscomp$79$$);if($promise$jscomp$14_tagName$jscomp$17$$=$element$jscomp$79$$.__AMP_WAIT_)return $promise$jscomp$14_tagName$jscomp$17$$;$promise$jscomp$14_tagName$jscomp$17$$=$JSCompiler_StaticMethods_waitForTemplateClass_$$($JSCompiler_StaticMethods_getImplementation_$self$$,
$impl$jscomp$3_type$jscomp$139$$).then(function($impl$jscomp$3_type$jscomp$139$$){var $promise$jscomp$14_tagName$jscomp$17$$=$element$jscomp$79$$.__AMP_IMPL_=new $impl$jscomp$3_type$jscomp$139$$($element$jscomp$79$$,$JSCompiler_StaticMethods_getImplementation_$self$$.$win_$);delete $element$jscomp$79$$.__AMP_WAIT_;return $promise$jscomp$14_tagName$jscomp$17$$});return $element$jscomp$79$$.__AMP_WAIT_=$promise$jscomp$14_tagName$jscomp$17$$}
function $JSCompiler_StaticMethods_waitForTemplateClass_$$($JSCompiler_StaticMethods_waitForTemplateClass_$self$$,$type$jscomp$140$$){if($JSCompiler_StaticMethods_waitForTemplateClass_$self$$.$templateClassMap_$[$type$jscomp$140$$])return $JSCompiler_StaticMethods_waitForTemplateClass_$self$$.$templateClassMap_$[$type$jscomp$140$$];var $$jscomp$destructuring$var36_resolve$jscomp$22$$=new $Deferred$$module$src$utils$promise$$,$promise$jscomp$15$$=$$jscomp$destructuring$var36_resolve$jscomp$22$$.promise;
$$jscomp$destructuring$var36_resolve$jscomp$22$$=$$jscomp$destructuring$var36_resolve$jscomp$22$$.resolve;$JSCompiler_StaticMethods_waitForTemplateClass_$self$$.$templateClassMap_$[$type$jscomp$140$$]=$promise$jscomp$15$$;$JSCompiler_StaticMethods_waitForTemplateClass_$self$$.$templateClassResolvers_$[$type$jscomp$140$$]=$$jscomp$destructuring$var36_resolve$jscomp$22$$;return $promise$jscomp$15$$}
$JSCompiler_prototypeAlias$$.unregisterTemplate=function($type$jscomp$142$$){$getMode$$module$src$mode$$();delete this.$templateClassMap_$[$type$jscomp$142$$];delete this.$templateClassResolvers_$[$type$jscomp$142$$]};var $VisibilityState$$module$src$visibility_state$$={PRERENDER:"prerender",VISIBLE:"visible",HIDDEN:"hidden",PAUSED:"paused",INACTIVE:"inactive"};/*

 Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 Use of this source code is governed by a BSD-style
 license that can be found in the LICENSE file or at
 https://developers.google.com/open-source/licenses/bsd


*/
var $ShadowCSS$$module$third_party$webcomponentsjs$ShadowCSS$$={strictStyling:!1,scopeRules:function($cssRules$$,$scopeSelector$$,$opt_transformer$$){var $cssText$$="";$cssRules$$&&Array.prototype.forEach.call($cssRules$$,function($cssRules$$){if($cssRules$$.selectorText&&$cssRules$$.style&&void 0!==$cssRules$$.style.cssText)$cssText$$+=this.scopeSelector($cssRules$$.selectorText,$scopeSelector$$,this.strictStyling,$opt_transformer$$)+" {\n\t",$cssText$$+=this.propertiesFromRule($cssRules$$)+"\n}\n\n";
else if($cssRules$$.type===CSSRule.MEDIA_RULE)$cssText$$+="@media "+$cssRules$$.media.mediaText+" {\n",$cssText$$+=this.scopeRules($cssRules$$.cssRules,$scopeSelector$$),$cssText$$+="\n}\n\n";else try{$cssRules$$.cssText&&($cssText$$+=$cssRules$$.cssText+"\n\n")}catch($x$jscomp$86$$){$cssRules$$.type===CSSRule.KEYFRAMES_RULE&&$cssRules$$.cssRules&&($cssText$$+=this.ieSafeCssTextFromKeyFrameRule($cssRules$$))}},this);return $cssText$$},ieSafeCssTextFromKeyFrameRule:function($rule$jscomp$4$$){var $cssText$jscomp$1$$=
"@keyframes "+$rule$jscomp$4$$.name+" {";Array.prototype.forEach.call($rule$jscomp$4$$.cssRules,function($rule$jscomp$4$$){$cssText$jscomp$1$$+=" "+$rule$jscomp$4$$.keyText+" {"+$rule$jscomp$4$$.style.cssText+"}"});return $cssText$jscomp$1$$+=" }"},scopeSelector:function($selector$jscomp$7$$,$scopeSelector$jscomp$1$$,$strict$$,$opt_transformer$jscomp$1$$){var $r$jscomp$1$$=[];$selector$jscomp$7$$.split(",").forEach(function($selector$jscomp$7$$){$selector$jscomp$7$$=$selector$jscomp$7$$.trim();$opt_transformer$jscomp$1$$&&
($selector$jscomp$7$$=$opt_transformer$jscomp$1$$($selector$jscomp$7$$));this.selectorNeedsScoping($selector$jscomp$7$$,$scopeSelector$jscomp$1$$)&&($selector$jscomp$7$$=$strict$$&&!$selector$jscomp$7$$.match($polyfillHostNoCombinator$$module$third_party$webcomponentsjs$ShadowCSS$$)?this.applyStrictSelectorScope($selector$jscomp$7$$,$scopeSelector$jscomp$1$$):this.applySelectorScope($selector$jscomp$7$$,$scopeSelector$jscomp$1$$));$r$jscomp$1$$.push($selector$jscomp$7$$)},this);return $r$jscomp$1$$.join(", ")},
selectorNeedsScoping:function($selector$jscomp$8$$,$re$jscomp$1_scopeSelector$jscomp$2$$){if(Array.isArray($re$jscomp$1_scopeSelector$jscomp$2$$))return!0;$re$jscomp$1_scopeSelector$jscomp$2$$=this.makeScopeMatcher($re$jscomp$1_scopeSelector$jscomp$2$$);return!$selector$jscomp$8$$.match($re$jscomp$1_scopeSelector$jscomp$2$$)},makeScopeMatcher:function($scopeSelector$jscomp$3$$){$scopeSelector$jscomp$3$$=$scopeSelector$jscomp$3$$.replace(/\[/g,"\\[").replace(/\]/g,"\\]");return new RegExp("^("+$scopeSelector$jscomp$3$$+
")"+$selectorReSuffix$$module$third_party$webcomponentsjs$ShadowCSS$$,"m")},applySelectorScope:function($selector$jscomp$9$$,$selectorScope$$){return Array.isArray($selectorScope$$)?this.applySelectorScopeList($selector$jscomp$9$$,$selectorScope$$):this.applySimpleSelectorScope($selector$jscomp$9$$,$selectorScope$$)},applySelectorScopeList:function($selector$jscomp$10$$,$scopeSelectorList$$){for(var $r$jscomp$2$$=[],$i$jscomp$51$$=0,$s$jscomp$18$$;$s$jscomp$18$$=$scopeSelectorList$$[$i$jscomp$51$$];$i$jscomp$51$$++)$r$jscomp$2$$.push(this.applySimpleSelectorScope($selector$jscomp$10$$,
$s$jscomp$18$$));return $r$jscomp$2$$.join(", ")},applySimpleSelectorScope:function($selector$jscomp$11$$,$scopeSelector$jscomp$4$$){return $selector$jscomp$11$$.match($polyfillHostRe$$module$third_party$webcomponentsjs$ShadowCSS$$)?($selector$jscomp$11$$=$selector$jscomp$11$$.replace($polyfillHostNoCombinator$$module$third_party$webcomponentsjs$ShadowCSS$$,$scopeSelector$jscomp$4$$),$selector$jscomp$11$$.replace($polyfillHostRe$$module$third_party$webcomponentsjs$ShadowCSS$$,$scopeSelector$jscomp$4$$+
" ")):$scopeSelector$jscomp$4$$+" "+$selector$jscomp$11$$},applyStrictSelectorScope:function($selector$jscomp$12$$,$scopeSelector$jscomp$5$$){$scopeSelector$jscomp$5$$=$scopeSelector$jscomp$5$$.replace(/\[is=([^\]]*)\]/g,"$1");var $splits$$=[" ",">","+","~"],$scoped$$=$selector$jscomp$12$$,$attrName$jscomp$2$$="["+$scopeSelector$jscomp$5$$+"]";$splits$$.forEach(function($selector$jscomp$12$$){$scoped$$=$scoped$$.split($selector$jscomp$12$$).map(function($selector$jscomp$12$$){var $scopeSelector$jscomp$5$$=
$selector$jscomp$12$$.trim().replace($polyfillHostRe$$module$third_party$webcomponentsjs$ShadowCSS$$,"");$scopeSelector$jscomp$5$$&&0>$splits$$.indexOf($scopeSelector$jscomp$5$$)&&0>$scopeSelector$jscomp$5$$.indexOf($attrName$jscomp$2$$)&&($selector$jscomp$12$$=$scopeSelector$jscomp$5$$.replace(/([^:]*)(:*)(.*)/,"$1"+$attrName$jscomp$2$$+"$2$3"));return $selector$jscomp$12$$}).join($selector$jscomp$12$$)});return $scoped$$},propertiesFromRule:function($rule$jscomp$6_style$jscomp$6$$){var $cssText$jscomp$2$$=
$rule$jscomp$6_style$jscomp$6$$.style.cssText;$rule$jscomp$6_style$jscomp$6$$.style.content&&!$rule$jscomp$6_style$jscomp$6$$.style.content.match(/['"]+|attr/)&&($cssText$jscomp$2$$=$cssText$jscomp$2$$.replace(/content:[^;]*;/g,"content: '"+$rule$jscomp$6_style$jscomp$6$$.style.content+"';"));$rule$jscomp$6_style$jscomp$6$$=$rule$jscomp$6_style$jscomp$6$$.style;for(var $i$jscomp$52$$ in $rule$jscomp$6_style$jscomp$6$$)"initial"===$rule$jscomp$6_style$jscomp$6$$[$i$jscomp$52$$]&&($cssText$jscomp$2$$+=
$i$jscomp$52$$+": initial; ");return $cssText$jscomp$2$$}},$selectorReSuffix$$module$third_party$webcomponentsjs$ShadowCSS$$="([>\\s~+[.,{:][\\s\\S]*)?$",$polyfillHostNoCombinator$$module$third_party$webcomponentsjs$ShadowCSS$$="-shadowcsshost-no-combinator",$polyfillHostRe$$module$third_party$webcomponentsjs$ShadowCSS$$=/-shadowcsshost/gim;var $shadowDomSupportedVersion$$module$src$web_components$$,$shadowCssSupported$$module$src$web_components$$;
function $isShadowCssSupported$$module$src$web_components$$(){void 0===$shadowCssSupported$$module$src$web_components$$&&($shadowCssSupported$$module$src$web_components$$="none"!=$getShadowDomSupportedVersion$$module$src$web_components$$()&&($isNative$$module$src$web_components$$(Element.prototype.attachShadow)||$isNative$$module$src$web_components$$(Element.prototype.createShadowRoot)));return $shadowCssSupported$$module$src$web_components$$}
function $isNative$$module$src$web_components$$($func$jscomp$3$$){return!!$func$jscomp$3$$&&-1!=$func$jscomp$3$$.toString().indexOf("[native code]")}
function $getShadowDomSupportedVersion$$module$src$web_components$$(){var $opt_elementClass$$;if(void 0===$shadowDomSupportedVersion$$module$src$web_components$$){var $JSCompiler_element$jscomp$inline_307$$=$opt_elementClass$$||Element;$shadowDomSupportedVersion$$module$src$web_components$$=$JSCompiler_element$jscomp$inline_307$$.prototype.attachShadow?"v1":$JSCompiler_element$jscomp$inline_307$$.prototype.createShadowRoot?"v0":"none"}return $shadowDomSupportedVersion$$module$src$web_components$$}
;var $SERVICES$$module$src$render_delaying_services$$={"amp-dynamic-css-classes":"[custom-element=amp-dynamic-css-classes]",variant:"amp-experiment","amp-story-render":"amp-story[standalone]"};
function $waitForServices$$module$src$render_delaying_services$$($win$jscomp$90$$){var $promises$jscomp$3$$=$includedServices$$module$src$render_delaying_services$$($win$jscomp$90$$).map(function($promises$jscomp$3$$){var $serviceId$$=$getServicePromiseInternal$$module$src$service$$($win$jscomp$90$$,$promises$jscomp$3$$).then(function($win$jscomp$90$$){return $win$jscomp$90$$&&$isRenderDelayingService$$module$src$render_delaying_services$$($win$jscomp$90$$)?$win$jscomp$90$$.whenReady().then(function(){return $win$jscomp$90$$}):
$win$jscomp$90$$});return $Services$$module$src$services$timerFor$$($win$jscomp$90$$).timeoutPromise(3E3,$serviceId$$,"Render timeout waiting for service "+$promises$jscomp$3$$+" to be ready.")});return Promise.all($promises$jscomp$3$$)}function $isRenderDelayingService$$module$src$render_delaying_services$$($service$jscomp$9$$){var $maybeRenderDelayingService$$=$service$jscomp$9$$;return"function"==typeof $maybeRenderDelayingService$$.whenReady}
function $includedServices$$module$src$render_delaying_services$$($win$jscomp$92$$){var $doc$jscomp$16$$=$win$jscomp$92$$.document;return Object.keys($SERVICES$$module$src$render_delaying_services$$).filter(function($win$jscomp$92$$){return $doc$jscomp$16$$.querySelector($SERVICES$$module$src$render_delaying_services$$[$win$jscomp$92$$])})};function $installStylesForDoc$$module$src$style_installer$$($ampdoc$jscomp$10$$,$cssText$jscomp$3$$,$cb$jscomp$2$$,$opt_isRuntimeCss$$,$opt_ext$$){var $cssRoot$$=$ampdoc$jscomp$10$$.getHeadNode(),$style$jscomp$7$$=$insertStyleElement$$module$src$style_installer$$($cssRoot$$,$maybeTransform$$module$src$style_installer$$($cssRoot$$,$cssText$jscomp$3$$),$opt_isRuntimeCss$$||!1,$opt_ext$$||null);if($cb$jscomp$2$$){var $rootNode$jscomp$1$$=$ampdoc$jscomp$10$$.getRootNode();if($styleLoaded$$module$src$style_installer$$($rootNode$jscomp$1$$,
$style$jscomp$7$$))$cb$jscomp$2$$($style$jscomp$7$$);else var $interval$jscomp$1$$=setInterval(function(){$styleLoaded$$module$src$style_installer$$($rootNode$jscomp$1$$,$style$jscomp$7$$)&&(clearInterval($interval$jscomp$1$$),$cb$jscomp$2$$($style$jscomp$7$$))},4)}}
function $installStylesLegacy$$module$src$style_installer$$($doc$jscomp$17$$,$cssText$jscomp$4$$,$cb$jscomp$3$$,$opt_isRuntimeCss$jscomp$1$$,$opt_ext$jscomp$1$$){var $style$jscomp$8$$=$insertStyleElement$$module$src$style_installer$$($doc$jscomp$17$$.head,$cssText$jscomp$4$$,$opt_isRuntimeCss$jscomp$1$$||!1,$opt_ext$jscomp$1$$||null);if($cb$jscomp$3$$)if($styleLoaded$$module$src$style_installer$$($doc$jscomp$17$$,$style$jscomp$8$$))$cb$jscomp$3$$($style$jscomp$8$$);else var $interval$jscomp$2$$=setInterval(function(){$styleLoaded$$module$src$style_installer$$($doc$jscomp$17$$,
$style$jscomp$8$$)&&(clearInterval($interval$jscomp$2$$),$cb$jscomp$3$$($style$jscomp$8$$))},4)}
function $insertStyleElement$$module$src$style_installer$$($cssRoot$jscomp$1$$,$JSCompiler_after$jscomp$inline_311_cssText$jscomp$5$$,$isRuntimeCss$$,$ext$$){var $styleMap$$=$cssRoot$jscomp$1$$.__AMP_CSS_SM;$styleMap$$||($styleMap$$=$cssRoot$jscomp$1$$.__AMP_CSS_SM=$map$$module$src$utils$object$$());var $isExtCss$$=!$isRuntimeCss$$&&$ext$$&&"amp-custom"!=$ext$$&&"amp-keyframes"!=$ext$$,$key$jscomp$54$$=$isRuntimeCss$$?"amp-runtime":$isExtCss$$?"amp-extension="+$ext$$:null;if($key$jscomp$54$$){var $existing$$=
$getExistingStyleElement$$module$src$style_installer$$($cssRoot$jscomp$1$$,$styleMap$$,$key$jscomp$54$$);if($existing$$)return $existing$$.textContent!==$JSCompiler_after$jscomp$inline_311_cssText$jscomp$5$$&&($existing$$.textContent=$JSCompiler_after$jscomp$inline_311_cssText$jscomp$5$$),$existing$$}var $style$jscomp$9$$=($cssRoot$jscomp$1$$.ownerDocument||$cssRoot$jscomp$1$$).createElement("style");$style$jscomp$9$$.textContent=$JSCompiler_after$jscomp$inline_311_cssText$jscomp$5$$;var $afterElement$$=
null;$isRuntimeCss$$?$style$jscomp$9$$.setAttribute("amp-runtime",""):$isExtCss$$?($style$jscomp$9$$.setAttribute("amp-extension",$ext$$||""),$afterElement$$=$getExistingStyleElement$$module$src$style_installer$$($cssRoot$jscomp$1$$,$styleMap$$,"amp-runtime")):($ext$$&&$style$jscomp$9$$.setAttribute($ext$$,""),$afterElement$$=$cssRoot$jscomp$1$$.lastChild);$JSCompiler_after$jscomp$inline_311_cssText$jscomp$5$$=$afterElement$$;$cssRoot$jscomp$1$$.insertBefore($style$jscomp$9$$,$JSCompiler_after$jscomp$inline_311_cssText$jscomp$5$$?
$JSCompiler_after$jscomp$inline_311_cssText$jscomp$5$$.nextSibling:$cssRoot$jscomp$1$$.firstChild);$key$jscomp$54$$&&($styleMap$$[$key$jscomp$54$$]=$style$jscomp$9$$);return $style$jscomp$9$$}
function $getExistingStyleElement$$module$src$style_installer$$($cssRoot$jscomp$2_existing$jscomp$1$$,$styleMap$jscomp$1$$,$key$jscomp$55$$){return $styleMap$jscomp$1$$[$key$jscomp$55$$]?$styleMap$jscomp$1$$[$key$jscomp$55$$]:($cssRoot$jscomp$2_existing$jscomp$1$$=$cssRoot$jscomp$2_existing$jscomp$1$$.querySelector("style["+$key$jscomp$55$$+"]"))?$styleMap$jscomp$1$$[$key$jscomp$55$$]=$cssRoot$jscomp$2_existing$jscomp$1$$:null}
function $installCssTransformer$$module$src$style_installer$$($cssRoot$jscomp$3$$,$transformer$$){$cssRoot$jscomp$3$$.__AMP_CSS_TR=$transformer$$}function $maybeTransform$$module$src$style_installer$$($cssRoot$jscomp$4_transformer$jscomp$1$$,$cssText$jscomp$6$$){return($cssRoot$jscomp$4_transformer$jscomp$1$$=$cssRoot$jscomp$4_transformer$jscomp$1$$.__AMP_CSS_TR)?$cssRoot$jscomp$4_transformer$jscomp$1$$($cssText$jscomp$6$$):$cssText$jscomp$6$$}var $bodyMadeVisible$$module$src$style_installer$$=!1;
function $makeBodyVisible$$module$src$style_installer$$(){var $doc$jscomp$19$$=self.document,$win$jscomp$93$$=$doc$jscomp$19$$.defaultView;$waitForBodyPromise$$module$src$dom$$($doc$jscomp$19$$).then(function(){return $waitForServices$$module$src$render_delaying_services$$($win$jscomp$93$$)}).catch(function($doc$jscomp$19$$){$rethrowAsync$$module$src$log$$($doc$jscomp$19$$);return[]}).then(function($services$jscomp$7$$){$bodyMadeVisible$$module$src$style_installer$$=!0;$setBodyVisibleStyles$$module$src$style_installer$$($doc$jscomp$19$$);
try{$Services$$module$src$services$resourcesForDoc$$($doc$jscomp$19$$.documentElement).renderStarted()}catch($JSCompiler_e$jscomp$inline_764$$){}if(0<$services$jscomp$7$$.length){var $resources$$=$Services$$module$src$services$resourcesForDoc$$($doc$jscomp$19$$.documentElement);$resources$$.schedulePass(1,!0)}try{var $perf$$=$Services$$module$src$services$performanceFor$$($win$jscomp$93$$);$perf$$.tick("mbv");$perf$$.flush()}catch($e$jscomp$36$$){}})}
function $makeBodyVisibleRecovery$$module$src$style_installer$$($doc$jscomp$20$$){$bodyMadeVisible$$module$src$style_installer$$||($bodyMadeVisible$$module$src$style_installer$$=!0,$setBodyVisibleStyles$$module$src$style_installer$$($doc$jscomp$20$$))}function $setBodyVisibleStyles$$module$src$style_installer$$($doc$jscomp$21$$){$setStyles$$module$src$style$$($doc$jscomp$21$$.body,{opacity:1,visibility:"visible",animation:"none"})}
function $styleLoaded$$module$src$style_installer$$($doc$jscomp$23_i$jscomp$53$$,$style$jscomp$10$$){var $sheets$$=$doc$jscomp$23_i$jscomp$53$$.styleSheets;for($doc$jscomp$23_i$jscomp$53$$=0;$doc$jscomp$23_i$jscomp$53$$<$sheets$$.length;$doc$jscomp$23_i$jscomp$53$$++){var $sheet$$=$sheets$$[$doc$jscomp$23_i$jscomp$53$$];if($sheet$$.ownerNode==$style$jscomp$10$$)return!0}return!1};var $UNCOMPOSED_SEARCH$$module$src$shadow_embed$$={composed:!1},$CSS_SELECTOR_BEG_REGEX$$module$src$shadow_embed$$=/[^\.\-_0-9a-zA-Z]/,$CSS_SELECTOR_END_REGEX$$module$src$shadow_embed$$=/[^\-_0-9a-zA-Z]/,$shadowDomStreamingSupported$$module$src$shadow_embed$$;
function $createShadowRoot$$module$src$shadow_embed$$($hostElement$$){var $win$jscomp$94$$=$hostElement$$.ownerDocument.defaultView,$existingRoot$$=$hostElement$$.shadowRoot||$hostElement$$.__AMP_SHADOW_ROOT;if($existingRoot$$)return $existingRoot$$.innerHTML="",$existingRoot$$;var $shadowDomSupported$$=$getShadowDomSupportedVersion$$module$src$web_components$$();if("v1"==$shadowDomSupported$$){var $shadowRoot$$=$hostElement$$.attachShadow({mode:"open"});$shadowRoot$$.styleSheets||Object.defineProperty($shadowRoot$$,
"styleSheets",{get:function(){var $hostElement$$=[];$iterateCursor$$module$src$dom$$($shadowRoot$$.childNodes,function($win$jscomp$94$$){"STYLE"===$win$jscomp$94$$.tagName&&$hostElement$$.push($win$jscomp$94$$.sheet)});return $hostElement$$}})}else $shadowRoot$$="v0"==$shadowDomSupported$$?$hostElement$$.createShadowRoot():$createShadowRootPolyfill$$module$src$shadow_embed$$($hostElement$$);if(!$isShadowCssSupported$$module$src$web_components$$()){var $rootId$$="i-amphtml-sd-"+$win$jscomp$94$$.Math.floor(1E4*
$win$jscomp$94$$.Math.random());$shadowRoot$$.id=$rootId$$;$shadowRoot$$.host.classList.add($rootId$$);$installCssTransformer$$module$src$style_installer$$($shadowRoot$$,function($hostElement$$){var $win$jscomp$94$$=$shadowRoot$$;var $existingRoot$$=$hostElement$$;var $shadowDomSupported$$=$win$jscomp$94$$.id;$win$jscomp$94$$=$win$jscomp$94$$.ownerDocument;var $rootId$$=null;try{$rootId$$=$getStylesheetRules$$module$src$shadow_embed$$($win$jscomp$94$$.implementation.createHTMLDocument(""),$existingRoot$$)}catch($JSCompiler_e$jscomp$inline_772$$){}if(!$rootId$$)try{$rootId$$=
$getStylesheetRules$$module$src$shadow_embed$$($win$jscomp$94$$,$existingRoot$$)}catch($e$24$jscomp$inline_773$$){}$existingRoot$$=$rootId$$?$ShadowCSS$$module$third_party$webcomponentsjs$ShadowCSS$$.scopeRules.call($ShadowCSS$$module$third_party$webcomponentsjs$ShadowCSS$$,$rootId$$,"."+$shadowDomSupported$$,$transformRootSelectors$$module$src$shadow_embed$$):$existingRoot$$;return $existingRoot$$})}return $shadowRoot$$}
function $createShadowRootPolyfill$$module$src$shadow_embed$$($hostElement$jscomp$1$$){var $doc$jscomp$24$$=$hostElement$jscomp$1$$.ownerDocument;$hostElement$jscomp$1$$.classList.add("i-amphtml-shadow-host-polyfill");var $hostStyle$$=$doc$jscomp$24$$.createElement("style");$hostStyle$$.textContent=".i-amphtml-shadow-host-polyfill>:not(i-amphtml-shadow-root){display:none!important}";$hostElement$jscomp$1$$.appendChild($hostStyle$$);var $shadowRoot$jscomp$1$$=$doc$jscomp$24$$.createElement("i-amphtml-shadow-root");
$hostElement$jscomp$1$$.appendChild($shadowRoot$jscomp$1$$);$hostElement$jscomp$1$$.__AMP_SHADOW_ROOT=$shadowRoot$jscomp$1$$;Object.defineProperty($hostElement$jscomp$1$$,"shadowRoot",{enumerable:!0,configurable:!0,value:$shadowRoot$jscomp$1$$});$shadowRoot$jscomp$1$$.host=$hostElement$jscomp$1$$;$shadowRoot$jscomp$1$$.getElementById=function($hostElement$jscomp$1$$){var $doc$jscomp$24$$=String($hostElement$jscomp$1$$).replace($regex$$module$third_party$css_escape$css_escape$$,$escaper$$module$third_party$css_escape$css_escape$$);
return $shadowRoot$jscomp$1$$.querySelector("#"+$doc$jscomp$24$$)};Object.defineProperty($shadowRoot$jscomp$1$$,"styleSheets",{get:function(){return $doc$jscomp$24$$.styleSheets?$toArray$$module$src$types$$($doc$jscomp$24$$.styleSheets).filter(function($hostElement$jscomp$1$$){return $shadowRoot$jscomp$1$$.contains($hostElement$jscomp$1$$.ownerNode)}):[]}});return $shadowRoot$jscomp$1$$}
function $getShadowRootNode$$module$src$shadow_embed$$($node$jscomp$29$$){return"none"!=$getShadowDomSupportedVersion$$module$src$web_components$$()&&Node.prototype.getRootNode?$node$jscomp$29$$.getRootNode($UNCOMPOSED_SEARCH$$module$src$shadow_embed$$):$closestNode$$module$src$dom$$($node$jscomp$29$$,function($node$jscomp$29$$){return $node$jscomp$29$$?"I-AMPHTML-SHADOW-ROOT"==$node$jscomp$29$$.tagName?!0:11==$node$jscomp$29$$.nodeType&&"[object ShadowRoot]"===Object.prototype.toString.call($node$jscomp$29$$):
!1})}
function $importShadowBody$$module$src$shadow_embed$$($shadowRoot$jscomp$2$$,$body$jscomp$2_n$jscomp$10$$,$deep$jscomp$4$$){var $doc$jscomp$25$$=$shadowRoot$jscomp$2$$.ownerDocument;if($isShadowCssSupported$$module$src$web_components$$())var $resultBody$$=$doc$jscomp$25$$.importNode($body$jscomp$2_n$jscomp$10$$,$deep$jscomp$4$$);else{$resultBody$$=$doc$jscomp$25$$.createElement("amp-body");$setInitialDisplay$$module$src$style$$($resultBody$$);for(var $i$jscomp$54$$=0;$i$jscomp$54$$<$body$jscomp$2_n$jscomp$10$$.attributes.length;$i$jscomp$54$$++)$resultBody$$.setAttribute($body$jscomp$2_n$jscomp$10$$.attributes[0].name,$body$jscomp$2_n$jscomp$10$$.attributes[0].value);
if($deep$jscomp$4$$)for($body$jscomp$2_n$jscomp$10$$=$body$jscomp$2_n$jscomp$10$$.firstChild;$body$jscomp$2_n$jscomp$10$$;$body$jscomp$2_n$jscomp$10$$=$body$jscomp$2_n$jscomp$10$$.nextSibling)$resultBody$$.appendChild($doc$jscomp$25$$.importNode($body$jscomp$2_n$jscomp$10$$,!0))}$setStyle$$module$src$style$$($resultBody$$,"position","relative");$shadowRoot$jscomp$2$$.appendChild($resultBody$$);Object.defineProperty($shadowRoot$jscomp$2$$,"body",{value:$resultBody$$});return $resultBody$$}
function $transformRootSelectors$$module$src$shadow_embed$$($selector$jscomp$13$$){return $selector$jscomp$13$$.replace(/(html|body)/g,$rootSelectorPrefixer$$module$src$shadow_embed$$)}
function $rootSelectorPrefixer$$module$src$shadow_embed$$($match$jscomp$3$$,$name$jscomp$107_next$jscomp$1$$,$pos$jscomp$1$$,$selector$jscomp$14$$){var $prev$$=$selector$jscomp$14$$.charAt($pos$jscomp$1$$-1);$name$jscomp$107_next$jscomp$1$$=$selector$jscomp$14$$.charAt($pos$jscomp$1$$+$match$jscomp$3$$.length);return $prev$$&&!$CSS_SELECTOR_BEG_REGEX$$module$src$shadow_embed$$.test($prev$$)||$name$jscomp$107_next$jscomp$1$$&&!$CSS_SELECTOR_END_REGEX$$module$src$shadow_embed$$.test($name$jscomp$107_next$jscomp$1$$)?
$match$jscomp$3$$:"amp-"+$match$jscomp$3$$}
function $getStylesheetRules$$module$src$shadow_embed$$($doc$jscomp$27$$,$css$jscomp$3$$){var $style$jscomp$11$$=$doc$jscomp$27$$.createElement("style");$style$jscomp$11$$.textContent=$css$jscomp$3$$;try{return($doc$jscomp$27$$.head||$doc$jscomp$27$$.documentElement).appendChild($style$jscomp$11$$),$style$jscomp$11$$.sheet?$style$jscomp$11$$.sheet.cssRules:null}finally{$style$jscomp$11$$.parentNode&&$style$jscomp$11$$.parentNode.removeChild($style$jscomp$11$$)}}
function $createShadowDomWriter$$module$src$shadow_embed$$($win$jscomp$97$$){void 0===$shadowDomStreamingSupported$$module$src$shadow_embed$$&&($shadowDomStreamingSupported$$module$src$shadow_embed$$=!$win$jscomp$97$$.document.implementation||"function"!=typeof $win$jscomp$97$$.document.implementation.createHTMLDocument||$Services$$module$src$services$platformFor$$($win$jscomp$97$$).isFirefox()?!1:!0);return $shadowDomStreamingSupported$$module$src$shadow_embed$$?new $ShadowDomWriterStreamer$$module$src$shadow_embed$$($win$jscomp$97$$):
new $ShadowDomWriterBulk$$module$src$shadow_embed$$($win$jscomp$97$$)}
function $ShadowDomWriterStreamer$$module$src$shadow_embed$$($win$jscomp$98$$){this.$parser_$=$win$jscomp$98$$.document.implementation.createHTMLDocument("");this.$parser_$.open();this.$vsync_$=$Services$$module$src$services$vsyncFor$$($win$jscomp$98$$);this.$boundMerge_$=this.$merge_$.bind(this);this.$onEnd_$=this.$onBodyChunk_$=this.$onBody_$=null;this.$mergeScheduled_$=!1;this.$success_$=Promise.resolve();this.$eof_$=!1;this.$targetBody_$=null}$JSCompiler_prototypeAlias$$=$ShadowDomWriterStreamer$$module$src$shadow_embed$$.prototype;
$JSCompiler_prototypeAlias$$.onBody=function($callback$jscomp$68$$){this.$onBody_$=$callback$jscomp$68$$};$JSCompiler_prototypeAlias$$.onBodyChunk=function($callback$jscomp$69$$){this.$onBodyChunk_$=$callback$jscomp$69$$};$JSCompiler_prototypeAlias$$.onEnd=function($callback$jscomp$70$$){this.$onEnd_$=$callback$jscomp$70$$};
$JSCompiler_prototypeAlias$$.write=function($chunk$jscomp$6$$){if(this.$eof_$)throw Error("closed already");$chunk$jscomp$6$$&&this.$parser_$.write($chunk$jscomp$6$$);this.$schedule_$();return this.$success_$};$JSCompiler_prototypeAlias$$.close=function(){this.$parser_$.close();this.$eof_$=!0;this.$schedule_$();return this.$success_$};$JSCompiler_prototypeAlias$$.abort=function(){throw Error("Not implemented");};$JSCompiler_prototypeAlias$$.releaseLock=function(){throw Error("Not implemented");};
$JSCompiler_prototypeAlias$$.$schedule_$=function(){this.$mergeScheduled_$||(this.$mergeScheduled_$=!0,this.$vsync_$.mutate(this.$boundMerge_$))};
$JSCompiler_prototypeAlias$$.$merge_$=function(){this.$mergeScheduled_$=!1;!this.$targetBody_$&&this.$parser_$.body&&(this.$targetBody_$=this.$onBody_$(this.$parser_$));if(this.$targetBody_$){var $inputBody$$=this.$parser_$.body,$targetBody$$=this.$targetBody_$,$transferCount$$=0;for($removeNoScriptElements$$module$src$shadow_embed$$($inputBody$$);$inputBody$$.firstChild;)$transferCount$$++,$targetBody$$.appendChild($inputBody$$.firstChild);0<$transferCount$$&&this.$onBodyChunk_$()}this.$eof_$&&this.$onEnd_$()};
$$jscomp$global$$.Object.defineProperties($ShadowDomWriterStreamer$$module$src$shadow_embed$$.prototype,{closed:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented");}},desiredSize:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented");}},ready:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented");}}});
function $ShadowDomWriterBulk$$module$src$shadow_embed$$($win$jscomp$99$$){this.$fullHtml_$=[];this.$vsync_$=$Services$$module$src$services$vsyncFor$$($win$jscomp$99$$);this.$onEnd_$=this.$onBodyChunk_$=this.$onBody_$=null;this.$success_$=Promise.resolve();this.$eof_$=!1}$JSCompiler_prototypeAlias$$=$ShadowDomWriterBulk$$module$src$shadow_embed$$.prototype;$JSCompiler_prototypeAlias$$.onBody=function($callback$jscomp$71$$){this.$onBody_$=$callback$jscomp$71$$};
$JSCompiler_prototypeAlias$$.onBodyChunk=function($callback$jscomp$72$$){this.$onBodyChunk_$=$callback$jscomp$72$$};$JSCompiler_prototypeAlias$$.onEnd=function($callback$jscomp$73$$){this.$onEnd_$=$callback$jscomp$73$$};$JSCompiler_prototypeAlias$$.write=function($chunk$jscomp$7$$){if(this.$eof_$)throw Error("closed already");$chunk$jscomp$7$$&&this.$fullHtml_$.push($chunk$jscomp$7$$);return this.$success_$};
$JSCompiler_prototypeAlias$$.close=function(){var $$jscomp$this$jscomp$9$$=this;this.$eof_$=!0;this.$vsync_$.mutate(function(){return $$jscomp$this$jscomp$9$$.$complete_$()});return this.$success_$};$JSCompiler_prototypeAlias$$.abort=function(){throw Error("Not implemented");};$JSCompiler_prototypeAlias$$.releaseLock=function(){throw Error("Not implemented");};
$JSCompiler_prototypeAlias$$.$complete_$=function(){var $fullHtml$$=this.$fullHtml_$.join(""),$doc$jscomp$28_targetBody$jscomp$1$$=(new DOMParser).parseFromString($fullHtml$$,"text/html");if($doc$jscomp$28_targetBody$jscomp$1$$.body){var $inputBody$jscomp$1$$=$doc$jscomp$28_targetBody$jscomp$1$$.body;$doc$jscomp$28_targetBody$jscomp$1$$=this.$onBody_$($doc$jscomp$28_targetBody$jscomp$1$$);var $transferCount$jscomp$1$$=0;for($removeNoScriptElements$$module$src$shadow_embed$$($inputBody$jscomp$1$$);$inputBody$jscomp$1$$.firstChild;)$transferCount$jscomp$1$$++,
$doc$jscomp$28_targetBody$jscomp$1$$.appendChild($inputBody$jscomp$1$$.firstChild);0<$transferCount$jscomp$1$$&&this.$onBodyChunk_$()}this.$onEnd_$()};
$$jscomp$global$$.Object.defineProperties($ShadowDomWriterBulk$$module$src$shadow_embed$$.prototype,{closed:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented");}},desiredSize:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented");}},ready:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented");}}});
function $removeNoScriptElements$$module$src$shadow_embed$$($parent$jscomp$20$$){var $noscriptElements$$=$childElementsByTag$$module$src$dom$$($parent$jscomp$20$$,"noscript");$iterateCursor$$module$src$dom$$($noscriptElements$$,function($parent$jscomp$20$$){$removeElement$$module$src$dom$$($parent$jscomp$20$$)})};var cssText$$module$build$css="html{overflow-x:hidden!important}body,html{height:auto!important}html.i-amphtml-fie{height:100%!important;width:100%!important}body{margin:0!important;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}[hidden]{display:none!important}html.i-amphtml-singledoc.i-amphtml-embedded{-ms-touch-action:pan-y;touch-action:pan-y}html.i-amphtml-fie>body,html.i-amphtml-singledoc>body{overflow:visible!important}html.i-amphtml-fie:not(.i-amphtml-inabox)>body,html.i-amphtml-singledoc:not(.i-amphtml-inabox)>body{position:relative!important}html.i-amphtml-webview>body{overflow-x:hidden!important;overflow-y:visible!important;min-height:100vh!important}html.i-amphtml-ios-embed-legacy>body{overflow-x:hidden!important;overflow-y:auto!important;position:absolute!important}html.i-amphtml-ios-embed{overflow-y:auto!important;position:static}#i-amphtml-wrapper{overflow-x:hidden!important;overflow-y:auto!important;position:absolute!important;top:0!important;left:0!important;right:0!important;bottom:0!important;margin:0!important;display:block!important}html.i-amphtml-ios-embed.i-amphtml-ios-overscroll,html.i-amphtml-ios-embed.i-amphtml-ios-overscroll>#i-amphtml-wrapper{-webkit-overflow-scrolling:touch!important}#i-amphtml-wrapper>body{position:relative!important;border-top:1px solid transparent!important}#i-amphtml-wrapper+body .i-amphtml-lightbox-element,#i-amphtml-wrapper+body[i-amphtml-lightbox]{visibility:hidden}#i-amphtml-wrapper+body[i-amphtml-lightbox] .i-amphtml-lightbox-element{visibility:visible}html.i-amphtml-ios-embed-sd{overflow:hidden!important;position:static!important}html.i-amphtml-ios-embed-sd>body,html.i-amphtml-singledoc.i-amphtml-ios-embed-sd>body{position:absolute!important;top:0!important;left:0!important;right:0!important;bottom:0!important;overflow:hidden!important}.i-amphtml-element{display:inline-block}.i-amphtml-blurry-placeholder{-webkit-transition:opacity 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;transition:opacity 0.3s cubic-bezier(0.0,0.0,0.2,1)!important}[layout=nodisplay]:not(.i-amphtml-element){display:none!important}.i-amphtml-layout-fixed,[layout=fixed][width][height]:not(.i-amphtml-layout-fixed){display:inline-block;position:relative}.i-amphtml-layout-responsive,[layout=responsive][width][height]:not(.i-amphtml-layout-responsive),[width][height][sizes]:not(.i-amphtml-layout-responsive){display:block;position:relative}.i-amphtml-layout-intrinsic{display:inline-block;position:relative;max-width:100%}.i-amphtml-intrinsic-sizer{max-width:100%;display:block!important}.i-amphtml-layout-container,.i-amphtml-layout-fixed-height,[layout=container],[layout=fixed-height][height]{display:block;position:relative}.i-amphtml-layout-fill,[layout=fill]:not(.i-amphtml-layout-fill){display:block;overflow:hidden!important;position:absolute;top:0;left:0;bottom:0;right:0}.i-amphtml-layout-flex-item,[layout=flex-item]:not(.i-amphtml-layout-flex-item){display:block;position:relative;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.i-amphtml-layout-fluid{position:relative}.i-amphtml-layout-size-defined{overflow:hidden!important}.i-amphtml-layout-awaiting-size{position:absolute!important;top:auto!important;bottom:auto!important}i-amphtml-sizer{display:block!important}.i-amphtml-blurry-placeholder,.i-amphtml-fill-content{display:block;height:0;max-height:100%;max-width:100%;min-height:100%;min-width:100%;width:0;margin:auto}.i-amphtml-layout-size-defined .i-amphtml-fill-content{position:absolute;top:0;left:0;bottom:0;right:0}.i-amphtml-layout-intrinsic .i-amphtml-sizer{max-width:100%}.i-amphtml-replaced-content,.i-amphtml-screen-reader{padding:0!important;border:none!important}.i-amphtml-screen-reader{position:fixed!important;top:0px!important;left:0px!important;width:4px!important;height:4px!important;opacity:0!important;overflow:hidden!important;margin:0!important;display:block!important;visibility:visible!important}.i-amphtml-screen-reader~.i-amphtml-screen-reader{left:8px!important}.i-amphtml-screen-reader~.i-amphtml-screen-reader~.i-amphtml-screen-reader{left:12px!important}.i-amphtml-screen-reader~.i-amphtml-screen-reader~.i-amphtml-screen-reader~.i-amphtml-screen-reader{left:16px!important}.i-amphtml-unresolved{position:relative;overflow:hidden!important}#i-amphtml-wrapper.i-amphtml-scroll-disabled,.i-amphtml-scroll-disabled{overflow-x:hidden!important;overflow-y:hidden!important}.i-amphtml-select-disabled{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.i-amphtml-notbuilt,[layout]:not(.i-amphtml-element){position:relative;overflow:hidden!important;color:transparent!important}.i-amphtml-notbuilt:not(.i-amphtml-layout-container)>*,[layout]:not([layout=container]):not(.i-amphtml-element)>*{display:none}.i-amphtml-ghost{visibility:hidden!important}.i-amphtml-element>[placeholder],[layout]:not(.i-amphtml-element)>[placeholder]{display:block}.i-amphtml-element>[placeholder].amp-hidden,.i-amphtml-element>[placeholder].hidden{visibility:hidden}.i-amphtml-element:not(.amp-notsupported)>[fallback],.i-amphtml-layout-container>[placeholder].amp-hidden,.i-amphtml-layout-container>[placeholder].hidden{display:none}.i-amphtml-layout-size-defined>[fallback],.i-amphtml-layout-size-defined>[placeholder]{position:absolute!important;top:0!important;left:0!important;right:0!important;bottom:0!important;z-index:1}.i-amphtml-notbuilt>[placeholder]{display:block!important}.i-amphtml-hidden-by-media-query{display:none!important}.i-amphtml-element-error{background:red!important;color:#fff!important;position:relative!important}.i-amphtml-element-error:before{content:attr(error-message)}i-amp-scroll-container,i-amphtml-scroll-container{position:absolute;top:0;left:0;right:0;bottom:0;display:block}i-amp-scroll-container.amp-active,i-amphtml-scroll-container.amp-active{overflow:auto;-webkit-overflow-scrolling:touch}.i-amphtml-loading-container{display:block!important;pointer-events:none;z-index:1}.i-amphtml-notbuilt>.i-amphtml-loading-container{display:block!important}.i-amphtml-loading-container.amp-hidden{visibility:hidden}.i-amphtml-loader-line{position:absolute;top:0;left:0;right:0;height:1px;overflow:hidden!important;background-color:hsla(0,0%,59.2%,0.2);display:block}.i-amphtml-loader-moving-line{display:block;position:absolute;width:100%;height:100%!important;background-color:hsla(0,0%,59.2%,0.65);z-index:2}@-webkit-keyframes i-amphtml-loader-line-moving{0%{-webkit-transform:translateX(-100%);transform:translateX(-100%)}to{-webkit-transform:translateX(100%);transform:translateX(100%)}}@keyframes i-amphtml-loader-line-moving{0%{-webkit-transform:translateX(-100%);transform:translateX(-100%)}to{-webkit-transform:translateX(100%);transform:translateX(100%)}}.i-amphtml-loader-line.amp-active .i-amphtml-loader-moving-line{-webkit-animation:i-amphtml-loader-line-moving 4s ease infinite;animation:i-amphtml-loader-line-moving 4s ease infinite}.i-amphtml-loader{position:absolute;display:block;height:10px;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;white-space:nowrap}.i-amphtml-loader.amp-active .i-amphtml-loader-dot{-webkit-animation:i-amphtml-loader-dots 2s infinite;animation:i-amphtml-loader-dots 2s infinite}.i-amphtml-loader-dot{position:relative;display:inline-block;height:10px;width:10px;margin:2px;border-radius:100%;background-color:rgba(0,0,0,0.3);box-shadow:2px 2px 2px 1px rgba(0,0,0,0.2);will-change:transform}.i-amphtml-loader .i-amphtml-loader-dot:first-child{-webkit-animation-delay:0s;animation-delay:0s}.i-amphtml-loader .i-amphtml-loader-dot:nth-child(2){-webkit-animation-delay:.1s;animation-delay:.1s}.i-amphtml-loader .i-amphtml-loader-dot:nth-child(3){-webkit-animation-delay:.2s;animation-delay:.2s}@-webkit-keyframes i-amphtml-loader-dots{0%,to{-webkit-transform:scale(.7);transform:scale(.7);background-color:rgba(0,0,0,0.3)}50%{-webkit-transform:scale(.8);transform:scale(.8);background-color:rgba(0,0,0,0.5)}}@keyframes i-amphtml-loader-dots{0%,to{-webkit-transform:scale(.7);transform:scale(.7);background-color:rgba(0,0,0,0.3)}50%{-webkit-transform:scale(.8);transform:scale(.8);background-color:rgba(0,0,0,0.5)}}.i-amphtml-element>[overflow]{cursor:pointer;position:relative;z-index:2;visibility:hidden}.i-amphtml-element>[overflow].amp-visible{visibility:visible}template{display:none!important}.amp-border-box,.amp-border-box *,.amp-border-box :after,.amp-border-box :before{box-sizing:border-box}amp-pixel{display:none!important}amp-instagram{padding:64px 0px 0px!important;background-color:#fff}amp-analytics,amp-story-auto-ads{position:fixed!important;top:0!important;width:1px!important;height:1px!important;overflow:hidden!important;visibility:hidden}html.i-amphtml-fie>amp-analytics{position:initial!important}amp-iframe iframe{box-sizing:border-box!important}[amp-access][amp-access-hide]{display:none}[subscriptions-dialog],body:not(.i-amphtml-subs-ready) [subscriptions-action],body:not(.i-amphtml-subs-ready) [subscriptions-section]{display:none!important}[visible-when-invalid]:not(.visible),amp-experiment,amp-live-list>[update],amp-share-tracking,form [submit-error],form [submit-success],form [submitting]{display:none}.i-amphtml-jank-meter{position:fixed;background-color:rgba(232,72,95,0.5);bottom:0;right:0;color:#fff;font-size:16px;z-index:1000;padding:5px}amp-accordion{display:block!important}amp-accordion>section{float:none!important}amp-accordion>section>*{float:none!important;display:block!important;overflow:hidden!important;position:relative!important}.i-amphtml-accordion-content,.i-amphtml-accordion-header,amp-accordion,amp-accordion>section{margin:0}.i-amphtml-accordion-header{cursor:pointer;background-color:#efefef;padding-right:20px;border:1px solid #dfdfdf}amp-accordion>section>:last-child{display:none!important}amp-accordion>section[expanded]>:last-child{display:block!important}amp-list[resizable-children]>.i-amphtml-loading-container.amp-hidden{display:none!important}amp-list[load-more] [load-more-button],amp-list[load-more] [load-more-end],amp-list[load-more] [load-more-failed],amp-list[load-more] [load-more-loading]{display:none}amp-story-page,amp-story[standalone]{display:block!important;height:100%!important;margin:0!important;padding:0!important;overflow:hidden!important;width:100%!important}amp-story[standalone]{background-color:#202125!important;position:relative!important}amp-story-page{background-color:#757575}amp-story .i-amphtml-loader{display:none!important}amp-story-page:not(:first-of-type):not([distance]):not([active]){-webkit-transform:translateY(1000vh)!important;transform:translateY(1000vh)!important}amp-autocomplete{position:relative!important;display:inline-block!important}amp-autocomplete>input{padding:.5rem;border:1px solid rgba(0,0,0,0.33)}.i-amphtml-autocomplete-results,amp-autocomplete>input{font-size:1rem;line-height:1.5rem}[amp-fx^=fly-in]{visibility:hidden}@media only screen and (max-width:979px){amp-addthis[data-widget-type=floating]{position:fixed!important;width:100%!important;height:50px;bottom:0}}@media only screen and (min-width:979px){amp-addthis[data-widget-type=floating]{position:fixed!important;width:70px!important;height:320px!important;top:200px}}\n/*# sourceURL=/css/amp.css*/";function $throttle$$module$src$utils$rate_limit$$($win$jscomp$100$$,$callback$jscomp$74$$){function $fire$$($fire$$){$nextCallArgs$$=null;$locker$$=$win$jscomp$100$$.setTimeout($waiter$$,$minInterval$$);$callback$jscomp$74$$.apply(null,$fire$$)}function $waiter$$(){$locker$$=0;$nextCallArgs$$&&$fire$$($nextCallArgs$$)}var $minInterval$$=100,$locker$$=0,$nextCallArgs$$=null;return function($win$jscomp$100$$){for(var $callback$jscomp$74$$=[],$waiter$$=0;$waiter$$<arguments.length;++$waiter$$)$callback$jscomp$74$$[$waiter$$-
0]=arguments[$waiter$$];$locker$$?$nextCallArgs$$=$callback$jscomp$74$$:$fire$$($callback$jscomp$74$$)}}
function $debounce$$module$src$utils$rate_limit$$($win$jscomp$101$$,$callback$jscomp$75$$){function $waiter$jscomp$1$$(){$locker$jscomp$1$$=0;var $remaining$$=300-($win$jscomp$101$$.Date.now()-$timestamp$$);if(0<$remaining$$)$locker$jscomp$1$$=$win$jscomp$101$$.setTimeout($waiter$jscomp$1$$,$remaining$$);else{var $JSCompiler_args$jscomp$inline_316$$=$nextCallArgs$jscomp$1$$;$nextCallArgs$jscomp$1$$=null;$callback$jscomp$75$$.apply(null,$JSCompiler_args$jscomp$inline_316$$)}}var $locker$jscomp$1$$=
0,$timestamp$$=0,$nextCallArgs$jscomp$1$$=null;return function($callback$jscomp$75$$){for(var $args$jscomp$3$$=[],$$jscomp$restIndex$jscomp$1$$=0;$$jscomp$restIndex$jscomp$1$$<arguments.length;++$$jscomp$restIndex$jscomp$1$$)$args$jscomp$3$$[$$jscomp$restIndex$jscomp$1$$-0]=arguments[$$jscomp$restIndex$jscomp$1$$];$timestamp$$=$win$jscomp$101$$.Date.now();$nextCallArgs$jscomp$1$$=$args$jscomp$3$$;$locker$jscomp$1$$||($locker$jscomp$1$$=$win$jscomp$101$$.setTimeout($waiter$jscomp$1$$,300))}};function $exponentialBackoff$$module$src$exponential_backoff$$(){var $getTimeout$$=$exponentialBackoffClock$$module$src$exponential_backoff$$();return function($work$$){return setTimeout($work$$,$getTimeout$$())}}
function $exponentialBackoffClock$$module$src$exponential_backoff$$(){var $count$jscomp$18$$=0;return function(){var $wait$$=Math.pow(1.5,$count$jscomp$18$$++);var $JSCompiler_jitter$jscomp$inline_320_JSCompiler_opt_perc$jscomp$inline_319$$=$wait$$*($JSCompiler_jitter$jscomp$inline_320_JSCompiler_opt_perc$jscomp$inline_319$$||.3)*Math.random();.5<Math.random()&&($JSCompiler_jitter$jscomp$inline_320_JSCompiler_opt_perc$jscomp$inline_319$$*=-1);$wait$$+=$JSCompiler_jitter$jscomp$inline_320_JSCompiler_opt_perc$jscomp$inline_319$$;
return 1E3*$wait$$}};function $triggerAnalyticsEvent$$module$src$analytics$$($target$jscomp$91$$,$opt_vars$$){$getElementServiceIfAvailableForDoc$$module$src$element_service$$($target$jscomp$91$$,"amp-analytics-instrumentation","amp-analytics").then(function($analytics$$){$analytics$$&&$analytics$$.triggerEventForTarget($target$jscomp$91$$,"user-error",$opt_vars$$)})};var $accumulatedErrorMessages$$module$src$error$$=self.AMPErrors||[];self.AMPErrors=$accumulatedErrorMessages$$module$src$error$$;function $reportingBackoff$$module$src$error$$($work$jscomp$1$$){$reportingBackoff$$module$src$error$$=$exponentialBackoff$$module$src$exponential_backoff$$();return $reportingBackoff$$module$src$error$$($work$jscomp$1$$)}
function $tryJsonStringify$$module$src$error$$($value$jscomp$120$$){try{return JSON.stringify($value$jscomp$120$$)}catch($e$jscomp$39$$){return String($value$jscomp$120$$)}}var $detectedJsEngine$$module$src$error$$;
function $reportError$$module$src$error$$($error$jscomp$16$$,$opt_associatedElement$jscomp$1$$){try{if($error$jscomp$16$$)if(void 0!==$error$jscomp$16$$.message){$error$jscomp$16$$=$duplicateErrorIfNecessary$$module$src$log$$($error$jscomp$16$$);var $isValidError$$=!0}else{var $origError$$=$error$jscomp$16$$;$error$jscomp$16$$=Error($tryJsonStringify$$module$src$error$$($origError$$));$error$jscomp$16$$.origError=$origError$$}else $error$jscomp$16$$=Error("Unknown error");$isValidError$$||!$getMode$$module$src$mode$$().localDev||
$getMode$$module$src$mode$$().test||setTimeout(function(){var $opt_associatedElement$jscomp$1$$=Error("_reported_ Error reported incorrectly: "+$error$jscomp$16$$);throw $opt_associatedElement$jscomp$1$$;});if($error$jscomp$16$$.reported)return $error$jscomp$16$$;$error$jscomp$16$$.reported=!0;var $element$jscomp$84$$=$opt_associatedElement$jscomp$1$$||$error$jscomp$16$$.associatedElement;$element$jscomp$84$$&&$element$jscomp$84$$.classList&&($element$jscomp$84$$.classList.add("i-amphtml-error"),
$getMode$$module$src$mode$$().development&&($element$jscomp$84$$.classList.add("i-amphtml-element-error"),$element$jscomp$84$$.setAttribute("error-message",$error$jscomp$16$$.message)));if(self.console){var $output$jscomp$3$$=console.error||console.log;$error$jscomp$16$$.messageArray?$output$jscomp$3$$.apply(console,$error$jscomp$16$$.messageArray):$element$jscomp$84$$?$output$jscomp$3$$.call(console,$error$jscomp$16$$.message,$element$jscomp$84$$):$getMode$$module$src$mode$$().minified?$output$jscomp$3$$.call(console,
$error$jscomp$16$$.message):$output$jscomp$3$$.call(console,$error$jscomp$16$$.stack)}$element$jscomp$84$$&&$element$jscomp$84$$.$dispatchCustomEventForTesting$&&$element$jscomp$84$$.$dispatchCustomEventForTesting$("amp:error",$error$jscomp$16$$.message);$onError$$module$src$error$$.call(void 0,void 0,void 0,void 0,void 0,$error$jscomp$16$$)}catch($errorReportingError$$){setTimeout(function(){throw $errorReportingError$$;})}return $error$jscomp$16$$}
function $isBlockedByConsent$$module$src$error$$($errorOrMessage$jscomp$1$$){return $errorOrMessage$jscomp$1$$?"string"==typeof $errorOrMessage$jscomp$1$$?$startsWith$$module$src$string$$($errorOrMessage$jscomp$1$$,"BLOCK_BY_CONSENT"):"string"==typeof $errorOrMessage$jscomp$1$$.message?$startsWith$$module$src$string$$($errorOrMessage$jscomp$1$$.message,"BLOCK_BY_CONSENT"):!1:!1}
function $onError$$module$src$error$$($message$jscomp$30$$,$filename$$,$line$$,$col$$,$error$jscomp$17$$){var $$jscomp$this$jscomp$10$$=this;this&&this.document&&$makeBodyVisibleRecovery$$module$src$style_installer$$(this.document);if(!($getMode$$module$src$mode$$().localDev||$getMode$$module$src$mode$$().development||$getMode$$module$src$mode$$().test)){var $hasNonAmpJs$$=!1;try{$hasNonAmpJs$$=$detectNonAmpJs$$module$src$error$$()}catch($ignore$jscomp$1$$){}if(!($hasNonAmpJs$$&&.01<Math.random())){var $data$jscomp$61$$=
$getErrorReportData$$module$src$error$$($message$jscomp$30$$,$filename$$,$line$$,$col$$,$error$jscomp$17$$,$hasNonAmpJs$$);$data$jscomp$61$$&&$reportingBackoff$$module$src$error$$(function(){return $reportErrorToServerOrViewer$$module$src$error$$($$jscomp$this$jscomp$10$$,$data$jscomp$61$$)})}}}
function $reportErrorToServerOrViewer$$module$src$error$$($win$jscomp$104$$,$data$jscomp$62$$){return $maybeReportErrorToViewer$$module$src$error$$($win$jscomp$104$$,$data$jscomp$62$$).then(function($win$jscomp$104$$){if(!$win$jscomp$104$$){var $reportedErrorToViewer$$=new XMLHttpRequest;$reportedErrorToViewer$$.open("POST",$urls$$module$src$config$$.errorReporting,!0);$reportedErrorToViewer$$.send(JSON.stringify($data$jscomp$62$$))}})}
function $maybeReportErrorToViewer$$module$src$error$$($ampdocService$jscomp$1_win$jscomp$105$$,$data$jscomp$63$$){$ampdocService$jscomp$1_win$jscomp$105$$=$Services$$module$src$services$ampdocServiceFor$$($ampdocService$jscomp$1_win$jscomp$105$$);if(!$ampdocService$jscomp$1_win$jscomp$105$$.isSingleDoc())return Promise.resolve(!1);var $ampdocSingle$$=$ampdocService$jscomp$1_win$jscomp$105$$.getAmpDoc(),$htmlElement$$=$ampdocSingle$$.getRootNode().documentElement,$docOptedIn$$=$htmlElement$$.hasAttribute("report-errors-to-viewer");
if(!$docOptedIn$$)return Promise.resolve(!1);var $viewer$jscomp$4$$=$Services$$module$src$services$viewerForDoc$$($ampdocSingle$$);return $viewer$jscomp$4$$.hasCapability("errorReporter")?$viewer$jscomp$4$$.isTrustedViewer().then(function($ampdocService$jscomp$1_win$jscomp$105$$){if(!$ampdocService$jscomp$1_win$jscomp$105$$)return!1;$viewer$jscomp$4$$.sendMessage("error",$dict$$module$src$utils$object$$({m:$data$jscomp$63$$.m,a:$data$jscomp$63$$.a,s:$data$jscomp$63$$.s,el:$data$jscomp$63$$.el,v:$data$jscomp$63$$.v,
jse:$data$jscomp$63$$.jse}));return!0}):Promise.resolve(!1)}
function $getErrorReportData$$module$src$error$$($message$jscomp$32$$,$JSCompiler_element$jscomp$inline_329_filename$jscomp$1$$,$line$jscomp$1$$,$col$jscomp$1$$,$error$jscomp$19$$,$JSCompiler_inline_result$jscomp$130_JSCompiler_win$jscomp$inline_325_hasNonAmpJs$jscomp$1$$){var $JSCompiler_message$jscomp$inline_322_data$jscomp$64$$=$message$jscomp$32$$;$error$jscomp$19$$&&($JSCompiler_message$jscomp$inline_322_data$jscomp$64$$=$error$jscomp$19$$.message?$error$jscomp$19$$.message:String($error$jscomp$19$$));
$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$||($JSCompiler_message$jscomp$inline_322_data$jscomp$64$$="Unknown error");$message$jscomp$32$$=$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$;var $expected$$=!(!$error$jscomp$19$$||!$error$jscomp$19$$.expected);if(!/_reported_/.test($message$jscomp$32$$)&&"CANCELLED"!=$message$jscomp$32$$){var $detachedWindow$$=!(self&&self.window),$throttleBase$$=Math.random();if(-1!=$message$jscomp$32$$.indexOf("Failed to load:")||"Script error."==$message$jscomp$32$$||
$detachedWindow$$)if($expected$$=!0,.001<$throttleBase$$)return;var $isUserError$$=$isUserErrorMessage$$module$src$log$$($message$jscomp$32$$);if(!($isUserError$$&&.1<$throttleBase$$)){$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$=Object.create(null);$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.v=$getMode$$module$src$mode$$().rtvVersion;$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.noAmp=$JSCompiler_inline_result$jscomp$130_JSCompiler_win$jscomp$inline_325_hasNonAmpJs$jscomp$1$$?
"1":"0";$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.m=$message$jscomp$32$$.replace("\u200b\u200b\u200b","");$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.a=$isUserError$$?"1":"0";$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.ex=$expected$$?"1":"0";$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.dw=$detachedWindow$$?"1":"0";var $runtime$$="1p";self.context&&self.context.location?($JSCompiler_message$jscomp$inline_322_data$jscomp$64$$["3p"]="1",$runtime$$="3p"):$getMode$$module$src$mode$$().runtime&&
($runtime$$=$getMode$$module$src$mode$$().runtime);$getMode$$module$src$mode$$().singlePassType&&($JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.spt=$getMode$$module$src$mode$$().singlePassType);$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.rt=$runtime$$;"inabox"===$runtime$$&&($JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.adid=$getMode$$module$src$mode$$().a4aId);$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.ca=$isCanary$$module$src$experiments$$(self)?"1":"0";
$JSCompiler_inline_result$jscomp$130_JSCompiler_win$jscomp$inline_325_hasNonAmpJs$jscomp$1$$=self;$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.bt=$JSCompiler_inline_result$jscomp$130_JSCompiler_win$jscomp$inline_325_hasNonAmpJs$jscomp$1$$.AMP_CONFIG&&$JSCompiler_inline_result$jscomp$130_JSCompiler_win$jscomp$inline_325_hasNonAmpJs$jscomp$1$$.AMP_CONFIG.type?$JSCompiler_inline_result$jscomp$130_JSCompiler_win$jscomp$inline_325_hasNonAmpJs$jscomp$1$$.AMP_CONFIG.type:"unknown";self.location.ancestorOrigins&&
self.location.ancestorOrigins[0]&&($JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.or=self.location.ancestorOrigins[0]);self.viewerState&&($JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.vs=self.viewerState);self.parent&&self.parent!=self&&($JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.iem="1");if(self.AMP&&self.AMP.viewer){var $resolvedViewerUrl$$=self.AMP.viewer.getResolvedViewerUrl(),$messagingOrigin$$=self.AMP.viewer.maybeGetMessagingOrigin();$resolvedViewerUrl$$&&($JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.rvu=
$resolvedViewerUrl$$);$messagingOrigin$$&&($JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.mso=$messagingOrigin$$)}$detectedJsEngine$$module$src$error$$||($detectedJsEngine$$module$src$error$$=$detectJsEngineFromStack$$module$src$error$$());$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.jse=$detectedJsEngine$$module$src$error$$;var $exps$$=[];$JSCompiler_inline_result$jscomp$130_JSCompiler_win$jscomp$inline_325_hasNonAmpJs$jscomp$1$$=self.__AMP__EXPERIMENT_TOGGLES||null;for(var $exp$$ in $JSCompiler_inline_result$jscomp$130_JSCompiler_win$jscomp$inline_325_hasNonAmpJs$jscomp$1$$)$exps$$.push($exp$$+
"="+($JSCompiler_inline_result$jscomp$130_JSCompiler_win$jscomp$inline_325_hasNonAmpJs$jscomp$1$$[$exp$$]?"1":"0"));$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.exps=$exps$$.join(",");$error$jscomp$19$$?($JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.el=$error$jscomp$19$$.associatedElement?$error$jscomp$19$$.associatedElement.tagName:"u",$error$jscomp$19$$.args&&($JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.args=JSON.stringify($error$jscomp$19$$.args)),$isUserError$$||
$error$jscomp$19$$.ignoreStack||!$error$jscomp$19$$.stack||($JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.s=$error$jscomp$19$$.stack),$error$jscomp$19$$.message&&($error$jscomp$19$$.message+=" _reported_")):($JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.f=$JSCompiler_element$jscomp$inline_329_filename$jscomp$1$$||"",$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.l=$line$jscomp$1$$||"",$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.c=$col$jscomp$1$$||"");$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.r=
self.document.referrer;$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.ae=$accumulatedErrorMessages$$module$src$error$$.join(",");$JSCompiler_message$jscomp$inline_322_data$jscomp$64$$.fr=self.location.originalHash||self.location.hash;$JSCompiler_element$jscomp$inline_329_filename$jscomp$1$$=$message$jscomp$32$$;25<=$accumulatedErrorMessages$$module$src$error$$.length&&$accumulatedErrorMessages$$module$src$error$$.splice(0,$accumulatedErrorMessages$$module$src$error$$.length-25+1);$accumulatedErrorMessages$$module$src$error$$.push($JSCompiler_element$jscomp$inline_329_filename$jscomp$1$$);
return $JSCompiler_message$jscomp$inline_322_data$jscomp$64$$}}}function $detectNonAmpJs$$module$src$error$$(){for(var $scripts$jscomp$2$$=self.document.querySelectorAll("script[src]"),$i$jscomp$55$$=0;$i$jscomp$55$$<$scripts$jscomp$2$$.length;$i$jscomp$55$$++)if(!$isProxyOrigin$$module$src$url$$($scripts$jscomp$2$$[$i$jscomp$55$$].src.toLowerCase()))return!0;return!1}
function $detectJsEngineFromStack$$module$src$error$$(){function $Fn$$(){}$Fn$$.prototype.t=function(){throw Error("message");};var $object$jscomp$1_stack$jscomp$1$$=new $Fn$$;try{$object$jscomp$1_stack$jscomp$1$$.t()}catch($e$jscomp$40$$){$object$jscomp$1_stack$jscomp$1$$=$e$jscomp$40$$.stack;if($startsWith$$module$src$string$$($object$jscomp$1_stack$jscomp$1$$,"t@"))return"Safari";if(-1<$object$jscomp$1_stack$jscomp$1$$.indexOf(".prototype.t@"))return"Firefox";var $last$$=$object$jscomp$1_stack$jscomp$1$$.split("\n").pop();
if(/\bat .* \(/i.test($last$$))return"IE";if($startsWith$$module$src$string$$($object$jscomp$1_stack$jscomp$1$$,"Error: message"))return"Chrome"}return"unknown"};var $ACTION_MAP_$$module$src$service$action_impl$$="__AMP_ACTION_MAP__"+Math.random(),$NON_AMP_ELEMENTS_ACTIONS_$$module$src$service$action_impl$$={form:["submit","clear"]},$TAPPABLE_ARIA_ROLES$$module$src$service$action_impl$$={button:!0,checkbox:!0,link:!0,listbox:!0,menuitem:!0,menuitemcheckbox:!0,menuitemradio:!0,option:!0,radio:!0,scrollbar:!0,slider:!0,spinbutton:!0,"switch":!0,tab:!0,treeitem:!0};
function $ActionInvocation$$module$src$service$action_impl$$($node$jscomp$30$$,$method$jscomp$4$$,$args$jscomp$4$$,$source$jscomp$14$$,$caller$$,$event$jscomp$12$$,$trust$$,$actionEventType$$,$tagOrTarget$$,$sequenceId$$){$actionEventType$$=void 0===$actionEventType$$?"?":$actionEventType$$;$tagOrTarget$$=void 0===$tagOrTarget$$?null:$tagOrTarget$$;$sequenceId$$=void 0===$sequenceId$$?Math.random():$sequenceId$$;this.node=$node$jscomp$30$$;this.method=$method$jscomp$4$$;this.args=$args$jscomp$4$$;
this.source=$source$jscomp$14$$;this.caller=$caller$$;this.event=$event$jscomp$12$$;this.trust=$trust$$;this.actionEventType=$actionEventType$$;this.tagOrTarget=$tagOrTarget$$||$node$jscomp$30$$.tagName;this.sequenceId=$sequenceId$$}
$ActionInvocation$$module$src$service$action_impl$$.prototype.satisfiesTrust=function($minimumTrust$$){return $isFiniteNumber$$module$src$types$$(this.trust)?this.trust<$minimumTrust$$?($user$$module$src$log$$().error("Action",'"'+this.actionEventType+'" is not allowed to invoke '+('"'+this.tagOrTarget+"."+this.method+'".')),!1):!0:($dev$$module$src$log$$().error("Action","Invalid trust for '"+this.method+"': "+this.trust),!1)};
function $ActionService$$module$src$service$action_impl$$($ampdoc$jscomp$11$$,$opt_root$$){this.ampdoc=$ampdoc$jscomp$11$$;this.$root_$=$opt_root$$||$ampdoc$jscomp$11$$.getRootNode();this.$whitelist_$=$JSCompiler_StaticMethods_queryWhitelist_$$(this);this.$globalTargets_$=$map$$module$src$utils$object$$();this.$globalMethodHandlers_$=$map$$module$src$utils$object$$();this.addEvent("tap");this.addEvent("submit");this.addEvent("change");this.addEvent("input-debounced");this.addEvent("input-throttled");
this.addEvent("valid");this.addEvent("invalid")}$ActionService$$module$src$service$action_impl$$.installInEmbedWindow=function($embedWin$jscomp$3$$,$ampdoc$jscomp$12$$){$installServiceInEmbedScope$$module$src$service$$($embedWin$jscomp$3$$,"action",new $ActionService$$module$src$service$action_impl$$($ampdoc$jscomp$12$$,$embedWin$jscomp$3$$.document))};$JSCompiler_prototypeAlias$$=$ActionService$$module$src$service$action_impl$$.prototype;
$JSCompiler_prototypeAlias$$.addEvent=function($name$jscomp$108$$){var $$jscomp$this$jscomp$11$$=this;if("tap"==$name$jscomp$108$$)this.$root_$.addEventListener("click",function($debouncedInput$$){$debouncedInput$$.defaultPrevented||$$jscomp$this$jscomp$11$$.trigger($debouncedInput$$.target,$name$jscomp$108$$,$debouncedInput$$,100)}),this.$root_$.addEventListener("keydown",function($debouncedInput$$){var $throttledInput$$=$debouncedInput$$.target,$event$jscomp$14$$=$debouncedInput$$.key;if("Enter"==
$event$jscomp$14$$||" "==$event$jscomp$14$$){var $role$$=$throttledInput$$.getAttribute("role"),$isTapEventRole$$=$role$$&&$hasOwn_$$module$src$utils$object$$.call($TAPPABLE_ARIA_ROLES$$module$src$service$action_impl$$,$role$$.toLowerCase());!$debouncedInput$$.defaultPrevented&&$isTapEventRole$$&&($debouncedInput$$.preventDefault(),$$jscomp$this$jscomp$11$$.trigger($throttledInput$$,$name$jscomp$108$$,$debouncedInput$$,100))}});else if("submit"==$name$jscomp$108$$)this.$root_$.addEventListener($name$jscomp$108$$,
function($debouncedInput$$){$$jscomp$this$jscomp$11$$.trigger($debouncedInput$$.target,$name$jscomp$108$$,$debouncedInput$$,100)});else if("change"==$name$jscomp$108$$)this.$root_$.addEventListener($name$jscomp$108$$,function($debouncedInput$$){var $throttledInput$$=$debouncedInput$$.target;$JSCompiler_StaticMethods_addTargetPropertiesAsDetail_$$($debouncedInput$$);$$jscomp$this$jscomp$11$$.trigger($throttledInput$$,$name$jscomp$108$$,$debouncedInput$$,100)});else if("input-debounced"==$name$jscomp$108$$){var $debouncedInput$$=
$debounce$$module$src$utils$rate_limit$$(this.ampdoc.win,function($debouncedInput$$){$$jscomp$this$jscomp$11$$.trigger($debouncedInput$$.target,$name$jscomp$108$$,$debouncedInput$$,100)});this.$root_$.addEventListener("input",function($name$jscomp$108$$){var $$jscomp$this$jscomp$11$$=new $DeferredEvent$$module$src$service$action_impl$$($name$jscomp$108$$);$JSCompiler_StaticMethods_addTargetPropertiesAsDetail_$$($$jscomp$this$jscomp$11$$);$debouncedInput$$($$jscomp$this$jscomp$11$$)})}else if("input-throttled"==
$name$jscomp$108$$){var $throttledInput$$=$throttle$$module$src$utils$rate_limit$$(this.ampdoc.win,function($debouncedInput$$){$$jscomp$this$jscomp$11$$.trigger($debouncedInput$$.target,$name$jscomp$108$$,$debouncedInput$$,100)});this.$root_$.addEventListener("input",function($name$jscomp$108$$){$name$jscomp$108$$=new $DeferredEvent$$module$src$service$action_impl$$($name$jscomp$108$$);$JSCompiler_StaticMethods_addTargetPropertiesAsDetail_$$($name$jscomp$108$$);$throttledInput$$($name$jscomp$108$$)})}else"valid"!=
$name$jscomp$108$$&&"invalid"!=$name$jscomp$108$$||this.$root_$.addEventListener($name$jscomp$108$$,function($debouncedInput$$){$$jscomp$this$jscomp$11$$.trigger($debouncedInput$$.target,$name$jscomp$108$$,$debouncedInput$$,100)})};$JSCompiler_prototypeAlias$$.addGlobalTarget=function($name$jscomp$109$$,$handler$jscomp$9$$){this.$globalTargets_$[$name$jscomp$109$$]=$handler$jscomp$9$$};
$JSCompiler_prototypeAlias$$.addGlobalMethodHandler=function($name$jscomp$110$$,$handler$jscomp$10$$,$minTrust$jscomp$3$$){this.$globalMethodHandlers_$[$name$jscomp$110$$]={handler:$handler$jscomp$10$$,minTrust:void 0===$minTrust$jscomp$3$$?100:$minTrust$jscomp$3$$}};
$JSCompiler_prototypeAlias$$.trigger=function($target$jscomp$94$$,$eventType$jscomp$9$$,$event$jscomp$22$$,$trust$jscomp$1$$,$opt_args$jscomp$1$$){$JSCompiler_StaticMethods_action_$$(this,$target$jscomp$94$$,$eventType$jscomp$9$$,$event$jscomp$22$$,$trust$jscomp$1$$,$opt_args$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.execute=function($invocation$jscomp$1_target$jscomp$95$$,$method$jscomp$5$$,$args$jscomp$5$$,$source$jscomp$15$$,$caller$jscomp$1$$,$event$jscomp$23$$,$trust$jscomp$2$$){$invocation$jscomp$1_target$jscomp$95$$=new $ActionInvocation$$module$src$service$action_impl$$($invocation$jscomp$1_target$jscomp$95$$,$method$jscomp$5$$,$args$jscomp$5$$,$source$jscomp$15$$,$caller$jscomp$1$$,$event$jscomp$23$$,$trust$jscomp$2$$);$JSCompiler_StaticMethods_invoke_$$(this,$invocation$jscomp$1_target$jscomp$95$$)};
$JSCompiler_prototypeAlias$$.installActionHandler=function($target$jscomp$96$$,$handler$jscomp$11$$){$target$jscomp$96$$.getAttribute("id");if($target$jscomp$96$$.__AMP_ACTION_HANDLER__)$dev$$module$src$log$$().error("Action","Action handler already installed for "+$target$jscomp$96$$);else{$target$jscomp$96$$.__AMP_ACTION_HANDLER__=$handler$jscomp$11$$;var $queuedInvocations$$=$target$jscomp$96$$.__AMP_ACTION_QUEUE__;$isArray$$module$src$types$$($queuedInvocations$$)&&$Services$$module$src$services$timerFor$$($target$jscomp$96$$.ownerDocument.defaultView).delay(function(){$queuedInvocations$$.forEach(function($target$jscomp$96$$){try{$handler$jscomp$11$$($target$jscomp$96$$)}catch($e$jscomp$41$$){$dev$$module$src$log$$().error("Action",
"Action execution failed:",$target$jscomp$96$$,$e$jscomp$41$$)}});$target$jscomp$96$$.__AMP_ACTION_QUEUE__.length=0},1)}};$JSCompiler_prototypeAlias$$.hasAction=function($element$jscomp$90$$,$actionEventType$jscomp$1$$,$opt_stopAt$jscomp$1$$){return!!$JSCompiler_StaticMethods_findAction_$$($element$jscomp$90$$,$actionEventType$jscomp$1$$,$opt_stopAt$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.hasResolvableAction=function($action$jscomp$5_element$jscomp$91$$,$actionEventType$jscomp$2$$,$opt_stopAt$jscomp$2$$){var $$jscomp$this$jscomp$12$$=this;return($action$jscomp$5_element$jscomp$91$$=$JSCompiler_StaticMethods_findAction_$$($action$jscomp$5_element$jscomp$91$$,$actionEventType$jscomp$2$$,$opt_stopAt$jscomp$2$$))?$action$jscomp$5_element$jscomp$91$$.actionInfos.some(function($action$jscomp$5_element$jscomp$91$$){$action$jscomp$5_element$jscomp$91$$=$action$jscomp$5_element$jscomp$91$$.target;
return!($$jscomp$this$jscomp$12$$.$globalTargets_$[$action$jscomp$5_element$jscomp$91$$]?!$$jscomp$this$jscomp$12$$.$root_$:!$$jscomp$this$jscomp$12$$.$root_$.getElementById($action$jscomp$5_element$jscomp$91$$))}):!1};$JSCompiler_prototypeAlias$$.setWhitelist=function($whitelist$$){this.$whitelist_$=$whitelist$$};
$JSCompiler_prototypeAlias$$.addToWhitelist=function($tagOrTarget$jscomp$1$$,$method$jscomp$6$$){this.$whitelist_$||(this.$whitelist_$=[]);this.$whitelist_$.push({tagOrTarget:$tagOrTarget$jscomp$1$$,method:$method$jscomp$6$$})};
function $JSCompiler_StaticMethods_action_$$($JSCompiler_StaticMethods_action_$self$$,$source$jscomp$16$$,$actionEventType$jscomp$3$$,$event$jscomp$24$$,$trust$jscomp$3$$,$opt_args$jscomp$2$$){var $action$jscomp$6$$=$JSCompiler_StaticMethods_findAction_$$($source$jscomp$16$$,$actionEventType$jscomp$3$$);if($action$jscomp$6$$){var $sequenceId$jscomp$1$$=Math.random(),$currentPromise$$=null;$action$jscomp$6$$.actionInfos.forEach(function($$jscomp$destructuring$var42$$){function $invokeAction$$(){var $opt_args$jscomp$2$$=
$JSCompiler_StaticMethods_action_$self$$.$globalTargets_$[$target$jscomp$99$$]?$JSCompiler_StaticMethods_action_$self$$.$root_$:$JSCompiler_StaticMethods_action_$self$$.$root_$.getElementById($target$jscomp$99$$);if($opt_args$jscomp$2$$)return $opt_args$jscomp$2$$=new $ActionInvocation$$module$src$service$action_impl$$($opt_args$jscomp$2$$,$method$jscomp$7$$,$dereferencedArgs$$,$source$jscomp$16$$,$action$jscomp$6$$.node,$event$jscomp$24$$,$trust$jscomp$3$$,$actionEventType$jscomp$3$$,$opt_args$jscomp$2$$.tagName||
$target$jscomp$99$$,$sequenceId$jscomp$1$$),$JSCompiler_StaticMethods_invoke_$$($JSCompiler_StaticMethods_action_$self$$,$opt_args$jscomp$2$$);$JSCompiler_StaticMethods_action_$self$$.$error_$('Target "'+$target$jscomp$99$$+'" not found for action ['+$str$jscomp$9$$+"].")}var $target$jscomp$99$$=$$jscomp$destructuring$var42$$.target,$method$jscomp$7$$=$$jscomp$destructuring$var42$$.method,$str$jscomp$9$$=$$jscomp$destructuring$var42$$.str,$dereferencedArgs$$=$dereferenceArgsVariables$$module$src$service$action_impl$$($$jscomp$destructuring$var42$$.args,
$event$jscomp$24$$,$opt_args$jscomp$2$$);$currentPromise$$=$currentPromise$$?$currentPromise$$.then($invokeAction$$):$invokeAction$$()})}}
$JSCompiler_prototypeAlias$$.$error_$=function($e$jscomp$42_message$jscomp$33$$,$opt_element$jscomp$15$$){if($opt_element$jscomp$15$$)throw $e$jscomp$42_message$jscomp$33$$=$user$$module$src$log$$().createError("[Action] "+$e$jscomp$42_message$jscomp$33$$),$reportError$$module$src$error$$($e$jscomp$42_message$jscomp$33$$,$opt_element$jscomp$15$$),$e$jscomp$42_message$jscomp$33$$;$user$$module$src$log$$().error("Action",$e$jscomp$42_message$jscomp$33$$)};
function $JSCompiler_StaticMethods_invoke_$$($JSCompiler_StaticMethods_invoke_$self_handler$jscomp$12$$,$invocation$jscomp$4$$){var $method$jscomp$8$$=$invocation$jscomp$4$$.method,$tagOrTarget$jscomp$2$$=$invocation$jscomp$4$$.tagOrTarget;if($JSCompiler_StaticMethods_invoke_$self_handler$jscomp$12$$.$whitelist_$&&!$isActionWhitelisted$$module$src$service$action_impl$$($invocation$jscomp$4$$,$JSCompiler_StaticMethods_invoke_$self_handler$jscomp$12$$.$whitelist_$))return $JSCompiler_StaticMethods_invoke_$self_handler$jscomp$12$$.$error_$('"'+
$tagOrTarget$jscomp$2$$+"."+$method$jscomp$8$$+'" is not whitelisted '+JSON.stringify($JSCompiler_StaticMethods_invoke_$self_handler$jscomp$12$$.$whitelist_$)+"."),null;var $globalTarget$$=$JSCompiler_StaticMethods_invoke_$self_handler$jscomp$12$$.$globalTargets_$[$tagOrTarget$jscomp$2$$];if($globalTarget$$)return $globalTarget$$($invocation$jscomp$4$$);var $node$jscomp$32$$=$invocation$jscomp$4$$.node,$globalMethod$$=$JSCompiler_StaticMethods_invoke_$self_handler$jscomp$12$$.$globalMethodHandlers_$[$method$jscomp$8$$];
if($globalMethod$$&&$invocation$jscomp$4$$.satisfiesTrust($globalMethod$$.minTrust))return $globalMethod$$.handler($invocation$jscomp$4$$);var $lowerTagName$$=$node$jscomp$32$$.tagName.toLowerCase();if("amp-"===$lowerTagName$$.substring(0,4))return $node$jscomp$32$$.enqueAction?$node$jscomp$32$$.enqueAction($invocation$jscomp$4$$):$JSCompiler_StaticMethods_invoke_$self_handler$jscomp$12$$.$error_$('Unrecognized AMP element "'+$lowerTagName$$+'".',$node$jscomp$32$$),null;var $nonAmpActions$$=$NON_AMP_ELEMENTS_ACTIONS_$$module$src$service$action_impl$$[$lowerTagName$$];
if("amp-"===($node$jscomp$32$$.getAttribute("id")||"").substring(0,4)||$nonAmpActions$$&&-1<$nonAmpActions$$.indexOf($method$jscomp$8$$))return($JSCompiler_StaticMethods_invoke_$self_handler$jscomp$12$$=$node$jscomp$32$$.__AMP_ACTION_HANDLER__)?$JSCompiler_StaticMethods_invoke_$self_handler$jscomp$12$$($invocation$jscomp$4$$):($node$jscomp$32$$.__AMP_ACTION_QUEUE__=$node$jscomp$32$$.__AMP_ACTION_QUEUE__||[],$node$jscomp$32$$.__AMP_ACTION_QUEUE__.push($invocation$jscomp$4$$)),null;$JSCompiler_StaticMethods_invoke_$self_handler$jscomp$12$$.$error_$("Target ("+
$tagOrTarget$jscomp$2$$+") doesn't support \""+$method$jscomp$8$$+'" action.',$invocation$jscomp$4$$.caller);return null}
function $JSCompiler_StaticMethods_findAction_$$($n$jscomp$11_target$jscomp$100$$,$actionEventType$jscomp$4$$,$opt_stopAt$jscomp$3$$){for(;$n$jscomp$11_target$jscomp$100$$&&(!$opt_stopAt$jscomp$3$$||$n$jscomp$11_target$jscomp$100$$!=$opt_stopAt$jscomp$3$$);){var $JSCompiler_actionEventType$jscomp$inline_338$$=$actionEventType$jscomp$4$$;var $JSCompiler_actionMap$jscomp$inline_339_JSCompiler_node$jscomp$inline_775$$=$n$jscomp$11_target$jscomp$100$$;var $JSCompiler_action$jscomp$inline_778_JSCompiler_actionEventType$jscomp$inline_776$$=
$JSCompiler_actionEventType$jscomp$inline_338$$,$JSCompiler_actionMap$jscomp$inline_777_action$27$jscomp$inline_779$$=$JSCompiler_actionMap$jscomp$inline_339_JSCompiler_node$jscomp$inline_775$$[$ACTION_MAP_$$module$src$service$action_impl$$];void 0===$JSCompiler_actionMap$jscomp$inline_777_action$27$jscomp$inline_779$$&&($JSCompiler_actionMap$jscomp$inline_777_action$27$jscomp$inline_779$$=null,$JSCompiler_actionMap$jscomp$inline_339_JSCompiler_node$jscomp$inline_775$$.hasAttribute("on")?($JSCompiler_action$jscomp$inline_778_JSCompiler_actionEventType$jscomp$inline_776$$=
$JSCompiler_actionMap$jscomp$inline_339_JSCompiler_node$jscomp$inline_775$$.getAttribute("on"),$JSCompiler_actionMap$jscomp$inline_777_action$27$jscomp$inline_779$$=$parseActionMap$$module$src$service$action_impl$$($JSCompiler_action$jscomp$inline_778_JSCompiler_actionEventType$jscomp$inline_776$$,$JSCompiler_actionMap$jscomp$inline_339_JSCompiler_node$jscomp$inline_775$$),$JSCompiler_actionMap$jscomp$inline_339_JSCompiler_node$jscomp$inline_775$$[$ACTION_MAP_$$module$src$service$action_impl$$]=$JSCompiler_actionMap$jscomp$inline_777_action$27$jscomp$inline_779$$):
$JSCompiler_actionMap$jscomp$inline_339_JSCompiler_node$jscomp$inline_775$$.hasAttribute("execute")&&($JSCompiler_actionMap$jscomp$inline_777_action$27$jscomp$inline_779$$=$JSCompiler_actionMap$jscomp$inline_339_JSCompiler_node$jscomp$inline_775$$.getAttribute("execute"),$JSCompiler_actionMap$jscomp$inline_777_action$27$jscomp$inline_779$$=$parseActionMap$$module$src$service$action_impl$$($JSCompiler_action$jscomp$inline_778_JSCompiler_actionEventType$jscomp$inline_776$$+":"+$JSCompiler_actionMap$jscomp$inline_777_action$27$jscomp$inline_779$$,
$JSCompiler_actionMap$jscomp$inline_339_JSCompiler_node$jscomp$inline_775$$),$JSCompiler_actionMap$jscomp$inline_339_JSCompiler_node$jscomp$inline_775$$[$ACTION_MAP_$$module$src$service$action_impl$$]=$JSCompiler_actionMap$jscomp$inline_777_action$27$jscomp$inline_779$$));var $actionInfos$$=($JSCompiler_actionMap$jscomp$inline_339_JSCompiler_node$jscomp$inline_775$$=$JSCompiler_actionMap$jscomp$inline_777_action$27$jscomp$inline_779$$)?$JSCompiler_actionMap$jscomp$inline_339_JSCompiler_node$jscomp$inline_775$$[$JSCompiler_actionEventType$jscomp$inline_338$$]||
null:null;if($actionInfos$$&&!$n$jscomp$11_target$jscomp$100$$.disabled&&!$matches$$module$src$dom$$($n$jscomp$11_target$jscomp$100$$,":disabled"))return{node:$n$jscomp$11_target$jscomp$100$$,actionInfos:$actionInfos$$};$n$jscomp$11_target$jscomp$100$$=$n$jscomp$11_target$jscomp$100$$.parentElement}return null}$JSCompiler_prototypeAlias$$.setActions=function($node$jscomp$35$$,$actionsStr$$){$node$jscomp$35$$.setAttribute("on",$actionsStr$$);delete $node$jscomp$35$$[$ACTION_MAP_$$module$src$service$action_impl$$]};
function $JSCompiler_StaticMethods_queryWhitelist_$$($JSCompiler_StaticMethods_queryWhitelist_$self$$){var $head$jscomp$3_meta$jscomp$1$$=$JSCompiler_StaticMethods_queryWhitelist_$self$$.ampdoc.getRootNode().head;return $head$jscomp$3_meta$jscomp$1$$?($head$jscomp$3_meta$jscomp$1$$=$head$jscomp$3_meta$jscomp$1$$.querySelector('meta[name="amp-action-whitelist"]'))?$head$jscomp$3_meta$jscomp$1$$.getAttribute("content").split(",").filter(function($JSCompiler_StaticMethods_queryWhitelist_$self$$){return $JSCompiler_StaticMethods_queryWhitelist_$self$$}).map(function($head$jscomp$3_meta$jscomp$1$$){var $action$jscomp$9$$=
$head$jscomp$3_meta$jscomp$1$$.split(".");if(2>$action$jscomp$9$$.length)$JSCompiler_StaticMethods_queryWhitelist_$self$$.$error_$("Invalid action whitelist entry: "+$head$jscomp$3_meta$jscomp$1$$+".");else return{tagOrTarget:$action$jscomp$9$$[0].trim(),method:$action$jscomp$9$$[1].trim()}}).filter(function($JSCompiler_StaticMethods_queryWhitelist_$self$$){return $JSCompiler_StaticMethods_queryWhitelist_$self$$}):null:null}
function $JSCompiler_StaticMethods_addTargetPropertiesAsDetail_$$($event$jscomp$25$$){var $detail$jscomp$4$$=$map$$module$src$utils$object$$(),$target$jscomp$101$$=$event$jscomp$25$$.target;void 0!==$target$jscomp$101$$.value&&($detail$jscomp$4$$.value=$target$jscomp$101$$.value);"INPUT"==$target$jscomp$101$$.tagName&&($detail$jscomp$4$$.valueAsNumber=Number($target$jscomp$101$$.value));void 0!==$target$jscomp$101$$.checked&&($detail$jscomp$4$$.checked=$target$jscomp$101$$.checked);if(void 0!==$target$jscomp$101$$.min||
void 0!==$target$jscomp$101$$.max)$detail$jscomp$4$$.min=$target$jscomp$101$$.min,$detail$jscomp$4$$.max=$target$jscomp$101$$.max;0<Object.keys($detail$jscomp$4$$).length&&($event$jscomp$25$$.detail=$detail$jscomp$4$$)}
function $isActionWhitelisted$$module$src$service$action_impl$$($invocation$jscomp$5_tagOrTarget$jscomp$4$$,$whitelist$jscomp$1$$){var $method$jscomp$10$$=$invocation$jscomp$5_tagOrTarget$jscomp$4$$.method,$node$jscomp$36$$=$invocation$jscomp$5_tagOrTarget$jscomp$4$$.node;$invocation$jscomp$5_tagOrTarget$jscomp$4$$=$invocation$jscomp$5_tagOrTarget$jscomp$4$$.tagOrTarget;"activate"===$method$jscomp$10$$&&"function"==typeof $node$jscomp$36$$.getDefaultActionAlias&&($method$jscomp$10$$=$node$jscomp$36$$.getDefaultActionAlias());
var $lcMethod$$=$method$jscomp$10$$.toLowerCase(),$lcTagOrTarget$$=$invocation$jscomp$5_tagOrTarget$jscomp$4$$.toLowerCase();return $whitelist$jscomp$1$$.some(function($invocation$jscomp$5_tagOrTarget$jscomp$4$$){return $invocation$jscomp$5_tagOrTarget$jscomp$4$$.tagOrTarget.toLowerCase()!==$lcTagOrTarget$$&&"*"!==$invocation$jscomp$5_tagOrTarget$jscomp$4$$.tagOrTarget||$invocation$jscomp$5_tagOrTarget$jscomp$4$$.method.toLowerCase()!==$lcMethod$$?!1:!0})}
function $DeferredEvent$$module$src$service$action_impl$$($event$jscomp$26$$){this.detail=null;var $JSCompiler_clone$jscomp$inline_343$$=this||$map$$module$src$utils$object$$(),$JSCompiler_prop$jscomp$inline_344$$;for($JSCompiler_prop$jscomp$inline_344$$ in $event$jscomp$26$$)$JSCompiler_clone$jscomp$inline_343$$[$JSCompiler_prop$jscomp$inline_344$$]="function"===typeof $event$jscomp$26$$[$JSCompiler_prop$jscomp$inline_344$$]?$notImplemented$$module$src$service$action_impl$$:$event$jscomp$26$$[$JSCompiler_prop$jscomp$inline_344$$]}
function $notImplemented$$module$src$service$action_impl$$(){}
function $parseActionMap$$module$src$service$action_impl$$($action$jscomp$11$$,$actionMap$jscomp$2_context$jscomp$2$$){var $assertAction$$=$assertActionForParser$$module$src$service$action_impl$$.bind(null,$action$jscomp$11$$,$actionMap$jscomp$2_context$jscomp$2$$),$assertToken$$=$assertTokenForParser$$module$src$service$action_impl$$.bind(null,$action$jscomp$11$$,$actionMap$jscomp$2_context$jscomp$2$$);$actionMap$jscomp$2_context$jscomp$2$$=null;var $toks$$=new $ParserTokenizer$$module$src$service$action_impl$$($action$jscomp$11$$);
do{var $tok$$=$toks$$.next();if($tok$$.type!=$TokenType$$module$src$service$action_impl$EOF$$&&($tok$$.type!=$TokenType$$module$src$service$action_impl$SEPARATOR$$||";"!=$tok$$.value))if($tok$$.type==$TokenType$$module$src$service$action_impl$LITERAL$$||$tok$$.type==$TokenType$$module$src$service$action_impl$ID$$){var $event$jscomp$27$$=$tok$$.value;$assertToken$$($toks$$.next(),[$TokenType$$module$src$service$action_impl$SEPARATOR$$],":");var $actions$$=[];do{var $target$jscomp$102$$=$assertToken$$($toks$$.next(),
[$TokenType$$module$src$service$action_impl$LITERAL$$,$TokenType$$module$src$service$action_impl$ID$$]).value,$method$jscomp$11$$="activate",$JSCompiler_toks$jscomp$inline_346_args$jscomp$7$$=null;var $peek$$=$toks$$.peek();if($peek$$.type==$TokenType$$module$src$service$action_impl$SEPARATOR$$&&"."==$peek$$.value&&($toks$$.next(),$method$jscomp$11$$=$assertToken$$($toks$$.next(),[$TokenType$$module$src$service$action_impl$LITERAL$$,$TokenType$$module$src$service$action_impl$ID$$]).value||$method$jscomp$11$$,
$peek$$=$toks$$.peek(),$peek$$.type==$TokenType$$module$src$service$action_impl$SEPARATOR$$&&"("==$peek$$.value)){$toks$$.next();$JSCompiler_toks$jscomp$inline_346_args$jscomp$7$$=$toks$$;var $JSCompiler_assertToken$jscomp$inline_347$$=$assertToken$$,$JSCompiler_assertAction$jscomp$inline_348$$=$assertAction$$,$JSCompiler_argValue$jscomp$inline_357_JSCompiler_peek$jscomp$inline_349_JSCompiler_type$jscomp$inline_354$$=$JSCompiler_toks$jscomp$inline_346_args$jscomp$7$$.peek(),$JSCompiler_args$jscomp$inline_351$$=
null;if($JSCompiler_argValue$jscomp$inline_357_JSCompiler_peek$jscomp$inline_349_JSCompiler_type$jscomp$inline_354$$.type==$TokenType$$module$src$service$action_impl$OBJECT$$){$JSCompiler_args$jscomp$inline_351$$=$map$$module$src$utils$object$$();var $JSCompiler_tok$jscomp$inline_350_JSCompiler_value$jscomp$inline_352$$=$JSCompiler_toks$jscomp$inline_346_args$jscomp$7$$.next().value;$JSCompiler_args$jscomp$inline_351$$.__AMP_OBJECT_STRING__=$JSCompiler_tok$jscomp$inline_350_JSCompiler_value$jscomp$inline_352$$;
$JSCompiler_assertToken$jscomp$inline_347$$($JSCompiler_toks$jscomp$inline_346_args$jscomp$7$$.next(),[$TokenType$$module$src$service$action_impl$SEPARATOR$$],")")}else{do{var $JSCompiler_$jscomp$inline_353_value$28$jscomp$inline_355$$=$JSCompiler_tok$jscomp$inline_350_JSCompiler_value$jscomp$inline_352$$=$JSCompiler_toks$jscomp$inline_346_args$jscomp$7$$.next();$JSCompiler_argValue$jscomp$inline_357_JSCompiler_peek$jscomp$inline_349_JSCompiler_type$jscomp$inline_354$$=$JSCompiler_$jscomp$inline_353_value$28$jscomp$inline_355$$.type;
$JSCompiler_$jscomp$inline_353_value$28$jscomp$inline_355$$=$JSCompiler_$jscomp$inline_353_value$28$jscomp$inline_355$$.value;if($JSCompiler_argValue$jscomp$inline_357_JSCompiler_peek$jscomp$inline_349_JSCompiler_type$jscomp$inline_354$$!=$TokenType$$module$src$service$action_impl$SEPARATOR$$||","!=$JSCompiler_$jscomp$inline_353_value$28$jscomp$inline_355$$&&")"!=$JSCompiler_$jscomp$inline_353_value$28$jscomp$inline_355$$)if($JSCompiler_argValue$jscomp$inline_357_JSCompiler_peek$jscomp$inline_349_JSCompiler_type$jscomp$inline_354$$==
$TokenType$$module$src$service$action_impl$LITERAL$$||$JSCompiler_argValue$jscomp$inline_357_JSCompiler_peek$jscomp$inline_349_JSCompiler_type$jscomp$inline_354$$==$TokenType$$module$src$service$action_impl$ID$$){$JSCompiler_assertToken$jscomp$inline_347$$($JSCompiler_toks$jscomp$inline_346_args$jscomp$7$$.next(),[$TokenType$$module$src$service$action_impl$SEPARATOR$$],"=");$JSCompiler_tok$jscomp$inline_350_JSCompiler_value$jscomp$inline_352$$=$JSCompiler_assertToken$jscomp$inline_347$$($JSCompiler_toks$jscomp$inline_346_args$jscomp$7$$.next(!0),
[$TokenType$$module$src$service$action_impl$LITERAL$$,$TokenType$$module$src$service$action_impl$ID$$]);var $JSCompiler_argValueTokens$jscomp$inline_356$$=[$JSCompiler_tok$jscomp$inline_350_JSCompiler_value$jscomp$inline_352$$];if($JSCompiler_tok$jscomp$inline_350_JSCompiler_value$jscomp$inline_352$$.type==$TokenType$$module$src$service$action_impl$ID$$)for($JSCompiler_argValue$jscomp$inline_357_JSCompiler_peek$jscomp$inline_349_JSCompiler_type$jscomp$inline_354$$=$JSCompiler_toks$jscomp$inline_346_args$jscomp$7$$.peek();$JSCompiler_argValue$jscomp$inline_357_JSCompiler_peek$jscomp$inline_349_JSCompiler_type$jscomp$inline_354$$.type==
$TokenType$$module$src$service$action_impl$SEPARATOR$$&&"."==$JSCompiler_argValue$jscomp$inline_357_JSCompiler_peek$jscomp$inline_349_JSCompiler_type$jscomp$inline_354$$.value;$JSCompiler_argValue$jscomp$inline_357_JSCompiler_peek$jscomp$inline_349_JSCompiler_type$jscomp$inline_354$$=$JSCompiler_toks$jscomp$inline_346_args$jscomp$7$$.peek())$JSCompiler_toks$jscomp$inline_346_args$jscomp$7$$.next(),$JSCompiler_tok$jscomp$inline_350_JSCompiler_value$jscomp$inline_352$$=$JSCompiler_assertToken$jscomp$inline_347$$($JSCompiler_toks$jscomp$inline_346_args$jscomp$7$$.next(!1),
[$TokenType$$module$src$service$action_impl$ID$$]),$JSCompiler_argValueTokens$jscomp$inline_356$$.push($JSCompiler_tok$jscomp$inline_350_JSCompiler_value$jscomp$inline_352$$);$JSCompiler_argValue$jscomp$inline_357_JSCompiler_peek$jscomp$inline_349_JSCompiler_type$jscomp$inline_354$$=$argValueForTokens$$module$src$service$action_impl$$($JSCompiler_argValueTokens$jscomp$inline_356$$);$JSCompiler_args$jscomp$inline_351$$||($JSCompiler_args$jscomp$inline_351$$=$map$$module$src$utils$object$$());$JSCompiler_args$jscomp$inline_351$$[$JSCompiler_$jscomp$inline_353_value$28$jscomp$inline_355$$]=
$JSCompiler_argValue$jscomp$inline_357_JSCompiler_peek$jscomp$inline_349_JSCompiler_type$jscomp$inline_354$$;$JSCompiler_argValue$jscomp$inline_357_JSCompiler_peek$jscomp$inline_349_JSCompiler_type$jscomp$inline_354$$=$JSCompiler_toks$jscomp$inline_346_args$jscomp$7$$.peek();$JSCompiler_assertAction$jscomp$inline_348$$($JSCompiler_argValue$jscomp$inline_357_JSCompiler_peek$jscomp$inline_349_JSCompiler_type$jscomp$inline_354$$.type==$TokenType$$module$src$service$action_impl$SEPARATOR$$&&(","==$JSCompiler_argValue$jscomp$inline_357_JSCompiler_peek$jscomp$inline_349_JSCompiler_type$jscomp$inline_354$$.value||
")"==$JSCompiler_argValue$jscomp$inline_357_JSCompiler_peek$jscomp$inline_349_JSCompiler_type$jscomp$inline_354$$.value),"Expected either [,] or [)]")}else $JSCompiler_assertAction$jscomp$inline_348$$(!1,"; unexpected token ["+($JSCompiler_tok$jscomp$inline_350_JSCompiler_value$jscomp$inline_352$$.value||"")+"]")}while($JSCompiler_tok$jscomp$inline_350_JSCompiler_value$jscomp$inline_352$$.type!=$TokenType$$module$src$service$action_impl$SEPARATOR$$||")"!=$JSCompiler_tok$jscomp$inline_350_JSCompiler_value$jscomp$inline_352$$.value)
}$JSCompiler_toks$jscomp$inline_346_args$jscomp$7$$=$JSCompiler_args$jscomp$inline_351$$}$actions$$.push({event:$event$jscomp$27$$,target:$target$jscomp$102$$,method:$method$jscomp$11$$,args:$JSCompiler_toks$jscomp$inline_346_args$jscomp$7$$&&$getMode$$module$src$mode$$().test&&Object.freeze?Object.freeze($JSCompiler_toks$jscomp$inline_346_args$jscomp$7$$):$JSCompiler_toks$jscomp$inline_346_args$jscomp$7$$,str:$action$jscomp$11$$});$peek$$=$toks$$.peek()}while($peek$$.type==$TokenType$$module$src$service$action_impl$SEPARATOR$$&&
","==$peek$$.value&&$toks$$.next());$actionMap$jscomp$2_context$jscomp$2$$||($actionMap$jscomp$2_context$jscomp$2$$=$map$$module$src$utils$object$$());$actionMap$jscomp$2_context$jscomp$2$$[$event$jscomp$27$$]=$actions$$}else $assertAction$$(!1,"; unexpected token ["+($tok$$.value||"")+"]")}while($tok$$.type!=$TokenType$$module$src$service$action_impl$EOF$$);return $actionMap$jscomp$2_context$jscomp$2$$}
function $argValueForTokens$$module$src$service$action_impl$$($tokens$jscomp$1$$){return 0==$tokens$jscomp$1$$.length?null:1==$tokens$jscomp$1$$.length?$tokens$jscomp$1$$[0].value:{expression:$tokens$jscomp$1$$.map(function($tokens$jscomp$1$$){return $tokens$jscomp$1$$.value}).join(".")}}
function $dereferenceArgsVariables$$module$src$service$action_impl$$($args$jscomp$9$$,$detail$jscomp$5_event$jscomp$28$$,$opt_args$jscomp$3$$){if(!$args$jscomp$9$$)return $args$jscomp$9$$;var $data$jscomp$65$$=$opt_args$jscomp$3$$||$dict$$module$src$utils$object$$({});$detail$jscomp$5_event$jscomp$28$$&&($detail$jscomp$5_event$jscomp$28$$=$detail$jscomp$5_event$jscomp$28$$.detail)&&($data$jscomp$65$$.event=$detail$jscomp$5_event$jscomp$28$$);var $applied$$=$map$$module$src$utils$object$$();Object.keys($args$jscomp$9$$).forEach(function($detail$jscomp$5_event$jscomp$28$$){var $opt_args$jscomp$3$$=
$args$jscomp$9$$[$detail$jscomp$5_event$jscomp$28$$];if("object"==typeof $opt_args$jscomp$3$$&&$opt_args$jscomp$3$$.expression){$opt_args$jscomp$3$$=$opt_args$jscomp$3$$.expression;if("."==$opt_args$jscomp$3$$)$opt_args$jscomp$3$$=$data$jscomp$65$$;else{$opt_args$jscomp$3$$=$opt_args$jscomp$3$$.split(".");for(var $key$jscomp$57$$=$data$jscomp$65$$,$JSCompiler_i$jscomp$inline_363$$=0;$JSCompiler_i$jscomp$inline_363$$<$opt_args$jscomp$3$$.length;$JSCompiler_i$jscomp$inline_363$$++){var $JSCompiler_part$jscomp$inline_364$$=
$opt_args$jscomp$3$$[$JSCompiler_i$jscomp$inline_363$$];if($JSCompiler_part$jscomp$inline_364$$&&$key$jscomp$57$$&&void 0!==$key$jscomp$57$$[$JSCompiler_part$jscomp$inline_364$$]&&$hasOwnProperty$$module$src$json$$($key$jscomp$57$$,$JSCompiler_part$jscomp$inline_364$$))$key$jscomp$57$$=$key$jscomp$57$$[$JSCompiler_part$jscomp$inline_364$$];else{$key$jscomp$57$$=void 0;break}}$opt_args$jscomp$3$$=$key$jscomp$57$$}var $exprValue$$=$opt_args$jscomp$3$$;$opt_args$jscomp$3$$=void 0===$exprValue$$?null:
$exprValue$$}$applied$$[$detail$jscomp$5_event$jscomp$28$$]=$data$jscomp$65$$[$opt_args$jscomp$3$$]?$data$jscomp$65$$[$opt_args$jscomp$3$$]:$opt_args$jscomp$3$$});return $applied$$}function $assertActionForParser$$module$src$service$action_impl$$($s$jscomp$19$$,$context$jscomp$3$$,$condition$jscomp$2$$,$opt_message$jscomp$15$$){return $userAssert$$module$src$log$$($condition$jscomp$2$$,"Invalid action definition in %s: [%s] %s",$context$jscomp$3$$,$s$jscomp$19$$,$opt_message$jscomp$15$$||"")}
function $assertTokenForParser$$module$src$service$action_impl$$($s$jscomp$20$$,$context$jscomp$4$$,$tok$jscomp$2$$,$types$jscomp$1$$,$opt_value$jscomp$9$$){void 0!==$opt_value$jscomp$9$$?$assertActionForParser$$module$src$service$action_impl$$($s$jscomp$20$$,$context$jscomp$4$$,$types$jscomp$1$$.includes($tok$jscomp$2$$.type)&&$tok$jscomp$2$$.value==$opt_value$jscomp$9$$,"; expected ["+$opt_value$jscomp$9$$+"]"):$assertActionForParser$$module$src$service$action_impl$$($s$jscomp$20$$,$context$jscomp$4$$,
$types$jscomp$1$$.includes($tok$jscomp$2$$.type));return $tok$jscomp$2$$}var $TokenType$$module$src$service$action_impl$EOF$$=1,$TokenType$$module$src$service$action_impl$SEPARATOR$$=2,$TokenType$$module$src$service$action_impl$LITERAL$$=3,$TokenType$$module$src$service$action_impl$ID$$=4,$TokenType$$module$src$service$action_impl$OBJECT$$=5;function $ParserTokenizer$$module$src$service$action_impl$$($str$jscomp$10$$){this.$str_$=$str$jscomp$10$$;this.$index_$=-1}
$ParserTokenizer$$module$src$service$action_impl$$.prototype.next=function($opt_convertValues$$){var $tok$jscomp$3$$=$JSCompiler_StaticMethods_next_$$(this,$opt_convertValues$$||!1);this.$index_$=$tok$jscomp$3$$.index;return $tok$jscomp$3$$};$ParserTokenizer$$module$src$service$action_impl$$.prototype.peek=function($opt_convertValues$jscomp$1$$){return $JSCompiler_StaticMethods_next_$$(this,$opt_convertValues$jscomp$1$$||!1)};
function $JSCompiler_StaticMethods_next_$$($JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$,$convertValues$$){var $newIndex$$=$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$index_$+1;if($newIndex$$>=$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$.length)return{type:$TokenType$$module$src$service$action_impl$EOF$$,index:$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$index_$};
var $c$jscomp$1_i$34$$=$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$.charAt($newIndex$$);if(-1!=" \t\n\r\f\v\u00a0\u2028\u2029".indexOf($c$jscomp$1_i$34$$)){for($newIndex$$++;$newIndex$$<$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$.length&&-1!=" \t\n\r\f\v\u00a0\u2028\u2029".indexOf($JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$.charAt($newIndex$$));$newIndex$$++);
if($newIndex$$>=$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$.length)return{type:$TokenType$$module$src$service$action_impl$EOF$$,index:$newIndex$$};$c$jscomp$1_i$34$$=$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$.charAt($newIndex$$)}if($convertValues$$&&($isNum$$module$src$service$action_impl$$($c$jscomp$1_i$34$$)||"."==$c$jscomp$1_i$34$$&&$newIndex$$+1<$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$.length&&
$isNum$$module$src$service$action_impl$$($JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$[$newIndex$$+1]))){for(var $hasFraction$$="."==$c$jscomp$1_i$34$$,$end$29_end$31_end$33_end$jscomp$5$$=$newIndex$$+1;$end$29_end$31_end$33_end$jscomp$5$$<$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$.length;$end$29_end$31_end$33_end$jscomp$5$$++){var $c2$$=$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$.charAt($end$29_end$31_end$33_end$jscomp$5$$);
if("."==$c2$$)$hasFraction$$=!0;else if(!$isNum$$module$src$service$action_impl$$($c2$$))break}$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$=$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$.substring($newIndex$$,$end$29_end$31_end$33_end$jscomp$5$$);$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$=$hasFraction$$?parseFloat($JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$):
parseInt($JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$,10);$newIndex$$=$end$29_end$31_end$33_end$jscomp$5$$-1;return{type:$TokenType$$module$src$service$action_impl$LITERAL$$,value:$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$,index:$newIndex$$}}if(-1!=";:.()=,|!".indexOf($c$jscomp$1_i$34$$))return{type:$TokenType$$module$src$service$action_impl$SEPARATOR$$,value:$c$jscomp$1_i$34$$,index:$newIndex$$};if(-1!=
"\"'".indexOf($c$jscomp$1_i$34$$)){$end$29_end$31_end$33_end$jscomp$5$$=-1;for(var $i$jscomp$56$$=$newIndex$$+1;$i$jscomp$56$$<$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$.length;$i$jscomp$56$$++)if($JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$.charAt($i$jscomp$56$$)==$c$jscomp$1_i$34$$){$end$29_end$31_end$33_end$jscomp$5$$=$i$jscomp$56$$;break}if(-1==$end$29_end$31_end$33_end$jscomp$5$$)return{type:0,
index:$newIndex$$};$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$=$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$.substring($newIndex$$+1,$end$29_end$31_end$33_end$jscomp$5$$);$newIndex$$=$end$29_end$31_end$33_end$jscomp$5$$;return{type:$TokenType$$module$src$service$action_impl$LITERAL$$,value:$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$,index:$newIndex$$}}if("{"==
$c$jscomp$1_i$34$$){var $numberOfBraces$$=1;$end$29_end$31_end$33_end$jscomp$5$$=-1;for($c$jscomp$1_i$34$$=$newIndex$$+1;$c$jscomp$1_i$34$$<$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$.length;$c$jscomp$1_i$34$$++){var $char$$=$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$[$c$jscomp$1_i$34$$];"{"==$char$$?$numberOfBraces$$++:"}"==$char$$&&$numberOfBraces$$--;if(0>=$numberOfBraces$$){$end$29_end$31_end$33_end$jscomp$5$$=
$c$jscomp$1_i$34$$;break}}if(-1==$end$29_end$31_end$33_end$jscomp$5$$)return{type:0,index:$newIndex$$};$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$=$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$.substring($newIndex$$,$end$29_end$31_end$33_end$jscomp$5$$+1);$newIndex$$=$end$29_end$31_end$33_end$jscomp$5$$;return{type:$TokenType$$module$src$service$action_impl$OBJECT$$,value:$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$,
index:$newIndex$$}}for($end$29_end$31_end$33_end$jscomp$5$$=$newIndex$$+1;$end$29_end$31_end$33_end$jscomp$5$$<$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$.length&&-1==" \t\n\r\f\x0B\u00a0\u2028\u2029;:.()=,|!\"'{}".indexOf($JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$.charAt($end$29_end$31_end$33_end$jscomp$5$$));$end$29_end$31_end$33_end$jscomp$5$$++);$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$=
$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.$str_$.substring($newIndex$$,$end$29_end$31_end$33_end$jscomp$5$$);$newIndex$$=$end$29_end$31_end$33_end$jscomp$5$$-1;return!$convertValues$$||"true"!=$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$&&"false"!=$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$?$isNum$$module$src$service$action_impl$$($JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$.charAt(0))?
{type:$TokenType$$module$src$service$action_impl$LITERAL$$,value:$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$,index:$newIndex$$}:{type:$TokenType$$module$src$service$action_impl$ID$$,value:$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$,index:$newIndex$$}:{type:$TokenType$$module$src$service$action_impl$LITERAL$$,value:"true"==$JSCompiler_StaticMethods_next_$self_s$30_s$jscomp$21_value$32_value$35_value$jscomp$124$$,
index:$newIndex$$}}function $isNum$$module$src$service$action_impl$$($c$jscomp$2$$){return"0"<=$c$jscomp$2$$&&"9">=$c$jscomp$2$$};function $remove$$module$src$utils$array$$($array$jscomp$11$$,$shouldRemove$$){for(var $removed$jscomp$1$$=[],$index$jscomp$73$$=0,$i$jscomp$58$$=0;$i$jscomp$58$$<$array$jscomp$11$$.length;$i$jscomp$58$$++){var $item$jscomp$1$$=$array$jscomp$11$$[$i$jscomp$58$$];$shouldRemove$$($item$jscomp$1$$,$i$jscomp$58$$,$array$jscomp$11$$)?$removed$jscomp$1$$.push($item$jscomp$1$$):($index$jscomp$73$$<$i$jscomp$58$$&&($array$jscomp$11$$[$index$jscomp$73$$]=$item$jscomp$1$$),$index$jscomp$73$$++)}$index$jscomp$73$$<
$array$jscomp$11$$.length&&($array$jscomp$11$$.length=$index$jscomp$73$$);return $removed$jscomp$1$$}function $findIndex$$module$src$utils$array$$($array$jscomp$12$$,$predicate$jscomp$1$$){for(var $i$jscomp$59$$=0;$i$jscomp$59$$<$array$jscomp$12$$.length;$i$jscomp$59$$++)if($predicate$jscomp$1$$($array$jscomp$12$$[$i$jscomp$59$$],$i$jscomp$59$$,$array$jscomp$12$$))return $i$jscomp$59$$;return-1};function $isFormDataWrapper$$module$src$form_data_wrapper$$($o$jscomp$6$$){return!!$o$jscomp$6$$&&"function"==typeof $o$jscomp$6$$.getFormData};var $allowedMethods_$$module$src$utils$xhr_utils$$=["GET","POST"],$allowedJsonBodyTypes_$$module$src$utils$xhr_utils$$=[$isArray$$module$src$types$$,$isObject$$module$src$types$$];
function $toStructuredCloneable$$module$src$utils$xhr_utils$$($input$jscomp$12$$,$JSCompiler_iterator$jscomp$inline_366_init$jscomp$4$$){var $newInit$$=Object.assign({},$JSCompiler_iterator$jscomp$inline_366_init$jscomp$4$$);if($isFormDataWrapper$$module$src$form_data_wrapper$$($JSCompiler_iterator$jscomp$inline_366_init$jscomp$4$$.body)){var $wrapper$$=$JSCompiler_iterator$jscomp$inline_366_init$jscomp$4$$.body;$newInit$$.headers["Content-Type"]="multipart/form-data;charset=utf-8";$JSCompiler_iterator$jscomp$inline_366_init$jscomp$4$$=
$wrapper$$.entries();for(var $JSCompiler_array$jscomp$inline_367$$=[],$JSCompiler_e$jscomp$inline_368$$=$JSCompiler_iterator$jscomp$inline_366_init$jscomp$4$$.next();!$JSCompiler_e$jscomp$inline_368$$.done;$JSCompiler_e$jscomp$inline_368$$=$JSCompiler_iterator$jscomp$inline_366_init$jscomp$4$$.next())$JSCompiler_array$jscomp$inline_367$$.push($JSCompiler_e$jscomp$inline_368$$.value);$newInit$$.body=$JSCompiler_array$jscomp$inline_367$$}return{input:$input$jscomp$12$$,init:$newInit$$}}
function $fromStructuredCloneable$$module$src$utils$xhr_utils$$($response$jscomp$2$$,$responseType$$){$userAssert$$module$src$log$$($isObject$$module$src$types$$($response$jscomp$2$$),"Object expected: %s",$response$jscomp$2$$);var $isDocumentType$$="document"==$responseType$$;if(!$isDocumentType$$)return new Response($response$jscomp$2$$.body,$response$jscomp$2$$.init);var $lowercasedHeaders$jscomp$1$$=$map$$module$src$utils$object$$(),$data$jscomp$67$$={status:200,statusText:"OK",getResponseHeader:function($response$jscomp$2$$){return $lowercasedHeaders$jscomp$1$$[String($response$jscomp$2$$).toLowerCase()]||
null}};if($response$jscomp$2$$.init){var $init$jscomp$5$$=$response$jscomp$2$$.init;$isArray$$module$src$types$$($init$jscomp$5$$.headers)&&$init$jscomp$5$$.headers.forEach(function($response$jscomp$2$$){$lowercasedHeaders$jscomp$1$$[String($response$jscomp$2$$[0]).toLowerCase()]=String($response$jscomp$2$$[1])});$init$jscomp$5$$.status&&($data$jscomp$67$$.status=parseInt($init$jscomp$5$$.status,10));$init$jscomp$5$$.statusText&&($data$jscomp$67$$.statusText=String($init$jscomp$5$$.statusText))}return new Response($response$jscomp$2$$.body?
String($response$jscomp$2$$.body):"",$data$jscomp$67$$)}
function $getViewerInterceptResponse$$module$src$utils$xhr_utils$$($win$jscomp$110$$,$ampdocSingle$jscomp$1$$,$input$jscomp$13$$,$init$jscomp$6$$){if(!$ampdocSingle$jscomp$1$$)return Promise.resolve();var $viewer$jscomp$5$$=$Services$$module$src$services$viewerForDoc$$($ampdocSingle$jscomp$1$$),$whenFirstVisible$$=$viewer$jscomp$5$$.whenFirstVisible();return!$isProxyOrigin$$module$src$url$$($input$jscomp$13$$)&&$viewer$jscomp$5$$.hasCapability("xhrInterceptor")&&$ampdocSingle$jscomp$1$$.getRootNode().documentElement.hasAttribute("allow-xhr-interception")?
$whenFirstVisible$$.then(function(){return $viewer$jscomp$5$$.isTrustedViewer()}).then(function($ampdocSingle$jscomp$1$$){var $whenFirstVisible$$=$getMode$$module$src$mode$$($win$jscomp$110$$).development;if($ampdocSingle$jscomp$1$$||$whenFirstVisible$$){var $viewerTrusted$jscomp$1$$=$dict$$module$src$utils$object$$({originalRequest:$toStructuredCloneable$$module$src$utils$xhr_utils$$($input$jscomp$13$$,$init$jscomp$6$$)});return $viewer$jscomp$5$$.sendMessageAwaitResponse("xhr",$viewerTrusted$jscomp$1$$).then(function($win$jscomp$110$$){return $fromStructuredCloneable$$module$src$utils$xhr_utils$$($win$jscomp$110$$,
$init$jscomp$6$$.responseType)})}}):$whenFirstVisible$$}function $setupInput$$module$src$utils$xhr_utils$$($win$jscomp$111$$,$input$jscomp$14$$,$init$jscomp$7$$){!1!==$init$jscomp$7$$.ampCors&&($input$jscomp$14$$=$getCorsUrl$$module$src$url$$($win$jscomp$111$$,$input$jscomp$14$$));return $input$jscomp$14$$}
function $setupInit$$module$src$utils$xhr_utils$$($init$jscomp$8_opt_init$jscomp$7$$,$opt_accept$$){$init$jscomp$8_opt_init$jscomp$7$$=$init$jscomp$8_opt_init$jscomp$7$$||{};var $JSCompiler_inline_result$jscomp$153_JSCompiler_method$jscomp$inline_370$$=$init$jscomp$8_opt_init$jscomp$7$$.method;void 0===$JSCompiler_inline_result$jscomp$153_JSCompiler_method$jscomp$inline_370$$?$JSCompiler_inline_result$jscomp$153_JSCompiler_method$jscomp$inline_370$$="GET":($JSCompiler_inline_result$jscomp$153_JSCompiler_method$jscomp$inline_370$$=
$JSCompiler_inline_result$jscomp$153_JSCompiler_method$jscomp$inline_370$$.toUpperCase(),$allowedMethods_$$module$src$utils$xhr_utils$$.includes($JSCompiler_inline_result$jscomp$153_JSCompiler_method$jscomp$inline_370$$));$init$jscomp$8_opt_init$jscomp$7$$.method=$JSCompiler_inline_result$jscomp$153_JSCompiler_method$jscomp$inline_370$$;$init$jscomp$8_opt_init$jscomp$7$$.headers=$init$jscomp$8_opt_init$jscomp$7$$.headers||$dict$$module$src$utils$object$$({});$opt_accept$$&&($init$jscomp$8_opt_init$jscomp$7$$.headers.Accept=
$opt_accept$$);return $init$jscomp$8_opt_init$jscomp$7$$}
function $setupAMPCors$$module$src$utils$xhr_utils$$($win$jscomp$112$$,$input$jscomp$15$$,$init$jscomp$9$$){!1===$init$jscomp$9$$.ampCors&&($init$jscomp$9$$.requireAmpResponseSourceOrigin=!1);!0===$init$jscomp$9$$.requireAmpResponseSourceOrigin&&$dev$$module$src$log$$().error("XHR","requireAmpResponseSourceOrigin is deprecated, use ampCors instead");void 0===$init$jscomp$9$$.requireAmpResponseSourceOrigin&&($init$jscomp$9$$.requireAmpResponseSourceOrigin=!0);var $currentOrigin$$=$win$jscomp$112$$.origin||
$parseUrlDeprecated$$module$src$url$$($win$jscomp$112$$.location.href).origin,$targetOrigin$$=$parseUrlDeprecated$$module$src$url$$($input$jscomp$15$$).origin;$currentOrigin$$==$targetOrigin$$&&($init$jscomp$9$$.headers=$init$jscomp$9$$.headers||{},$init$jscomp$9$$.headers["AMP-Same-Origin"]="true");return $init$jscomp$9$$}
function $setupJsonFetchInit$$module$src$utils$xhr_utils$$($init$jscomp$10$$){var $fetchInit$$=$setupInit$$module$src$utils$xhr_utils$$($init$jscomp$10$$,"application/json");if("POST"==$fetchInit$$.method&&!$isFormDataWrapper$$module$src$form_data_wrapper$$($fetchInit$$.body)){$allowedJsonBodyTypes_$$module$src$utils$xhr_utils$$.some(function($init$jscomp$10$$){return $init$jscomp$10$$($fetchInit$$.body)});$fetchInit$$.headers["Content-Type"]=$fetchInit$$.headers["Content-Type"]||"text/plain;charset=utf-8";
var $headerContentType$$=$fetchInit$$.headers["Content-Type"];$fetchInit$$.body="application/x-www-form-urlencoded"===$headerContentType$$?$serializeQueryString$$module$src$url$$($fetchInit$$.body):JSON.stringify($fetchInit$$.body)}return $fetchInit$$}
function $assertSuccess$$module$src$utils$xhr_utils$$($response$jscomp$5$$){return new Promise(function($resolve$jscomp$23_status$jscomp$1$$){if($response$jscomp$5$$.ok)return $resolve$jscomp$23_status$jscomp$1$$($response$jscomp$5$$);$resolve$jscomp$23_status$jscomp$1$$=$response$jscomp$5$$.status;var $err$jscomp$4$$=$user$$module$src$log$$().createError("HTTP error "+$resolve$jscomp$23_status$jscomp$1$$);$err$jscomp$4$$.retriable=415==$resolve$jscomp$23_status$jscomp$1$$||500<=$resolve$jscomp$23_status$jscomp$1$$&&
600>$resolve$jscomp$23_status$jscomp$1$$;$err$jscomp$4$$.response=$response$jscomp$5$$;throw $err$jscomp$4$$;})};function $Xhr$$module$src$service$xhr_impl$$($ampdocService$jscomp$2_win$jscomp$114$$){this.win=$ampdocService$jscomp$2_win$jscomp$114$$;$ampdocService$jscomp$2_win$jscomp$114$$=$Services$$module$src$services$ampdocServiceFor$$($ampdocService$jscomp$2_win$jscomp$114$$);this.$ampdocSingle_$=$ampdocService$jscomp$2_win$jscomp$114$$.isSingleDoc()?$ampdocService$jscomp$2_win$jscomp$114$$.getAmpDoc():null}$JSCompiler_prototypeAlias$$=$Xhr$$module$src$service$xhr_impl$$.prototype;
$JSCompiler_prototypeAlias$$.$fetch_$=function($input$jscomp$16$$,$init$jscomp$12$$){var $$jscomp$arguments$$=arguments,$$jscomp$this$jscomp$18$$=this;return $getViewerInterceptResponse$$module$src$utils$xhr_utils$$(this.win,this.$ampdocSingle_$,$input$jscomp$16$$,$init$jscomp$12$$).then(function($input$jscomp$16$$){if($input$jscomp$16$$)return $input$jscomp$16$$;if($isFormDataWrapper$$module$src$form_data_wrapper$$($init$jscomp$12$$.body)){var $interceptorResponse$$=$init$jscomp$12$$.body;$init$jscomp$12$$.body=
$interceptorResponse$$.getFormData()}return $$jscomp$this$jscomp$18$$.win.fetch.apply(null,$$jscomp$arguments$$)})};
function $JSCompiler_StaticMethods_fetchAmpCors_$$($JSCompiler_StaticMethods_fetchAmpCors_$self$$,$input$jscomp$17$$,$init$jscomp$13$$){$init$jscomp$13$$=void 0===$init$jscomp$13$$?{}:$init$jscomp$13$$;$input$jscomp$17$$=$setupInput$$module$src$utils$xhr_utils$$($JSCompiler_StaticMethods_fetchAmpCors_$self$$.win,$input$jscomp$17$$,$init$jscomp$13$$);$init$jscomp$13$$=$setupAMPCors$$module$src$utils$xhr_utils$$($JSCompiler_StaticMethods_fetchAmpCors_$self$$.win,$input$jscomp$17$$,$init$jscomp$13$$);
return $JSCompiler_StaticMethods_fetchAmpCors_$self$$.$fetch_$($input$jscomp$17$$,$init$jscomp$13$$).then(function($input$jscomp$17$$){var $response$jscomp$6$$=$JSCompiler_StaticMethods_fetchAmpCors_$self$$.win,$JSCompiler_init$jscomp$inline_374$$=$init$jscomp$13$$,$JSCompiler_allowSourceOriginHeader$jscomp$inline_375$$=$input$jscomp$17$$.headers.get("AMP-Access-Control-Allow-Source-Origin");$JSCompiler_allowSourceOriginHeader$jscomp$inline_375$$?($response$jscomp$6$$=$getSourceOrigin$$module$src$url$$($response$jscomp$6$$.location.href),
$userAssert$$module$src$log$$($JSCompiler_allowSourceOriginHeader$jscomp$inline_375$$==$response$jscomp$6$$,"Returned AMP-Access-Control-Allow-Source-Origin is not equal to the current: "+$JSCompiler_allowSourceOriginHeader$jscomp$inline_375$$+(" vs "+$response$jscomp$6$$))):$JSCompiler_init$jscomp$inline_374$$.requireAmpResponseSourceOrigin&&$userAssert$$module$src$log$$(!1,"Response must contain the AMP-Access-Control-Allow-Source-Origin header");return $input$jscomp$17$$},function($JSCompiler_StaticMethods_fetchAmpCors_$self$$){var $init$jscomp$13$$=
$parseUrlDeprecated$$module$src$url$$($input$jscomp$17$$).origin;throw $user$$module$src$log$$().createExpectedError("XHR","Failed fetching"+(" ("+$init$jscomp$13$$+"/...):"),$JSCompiler_StaticMethods_fetchAmpCors_$self$$&&$JSCompiler_StaticMethods_fetchAmpCors_$self$$.message);})}$JSCompiler_prototypeAlias$$.fetchJson=function($input$jscomp$18$$,$opt_init$jscomp$8$$){return this.fetch($input$jscomp$18$$,$setupJsonFetchInit$$module$src$utils$xhr_utils$$($opt_init$jscomp$8$$))};
$JSCompiler_prototypeAlias$$.fetchText=function($input$jscomp$19$$,$opt_init$jscomp$9$$){return this.fetch($input$jscomp$19$$,$setupInit$$module$src$utils$xhr_utils$$($opt_init$jscomp$9$$,"text/plain"))};$JSCompiler_prototypeAlias$$.fetch=function($input$jscomp$20$$,$init$jscomp$14_opt_init$jscomp$10$$){$init$jscomp$14_opt_init$jscomp$10$$=$setupInit$$module$src$utils$xhr_utils$$($init$jscomp$14_opt_init$jscomp$10$$);return $JSCompiler_StaticMethods_fetchAmpCors_$$(this,$input$jscomp$20$$,$init$jscomp$14_opt_init$jscomp$10$$).then(function($input$jscomp$20$$){return $assertSuccess$$module$src$utils$xhr_utils$$($input$jscomp$20$$)})};
$JSCompiler_prototypeAlias$$.sendSignal=function($input$jscomp$21$$,$opt_init$jscomp$11$$){return $JSCompiler_StaticMethods_fetchAmpCors_$$(this,$input$jscomp$21$$,$opt_init$jscomp$11$$).then(function($input$jscomp$21$$){return $assertSuccess$$module$src$utils$xhr_utils$$($input$jscomp$21$$)})};$JSCompiler_prototypeAlias$$.getCorsUrl=function($win$jscomp$115$$,$url$jscomp$50$$){return $getCorsUrl$$module$src$url$$($win$jscomp$115$$,$url$jscomp$50$$)};function $BatchedXhr$$module$src$service$batched_xhr_impl$$($win$jscomp$116$$){$Xhr$$module$src$service$xhr_impl$$.call(this,$win$jscomp$116$$);this.$fetchPromises_$=$map$$module$src$utils$object$$()}$$jscomp$inherits$$($BatchedXhr$$module$src$service$batched_xhr_impl$$,$Xhr$$module$src$service$xhr_impl$$);
$BatchedXhr$$module$src$service$batched_xhr_impl$$.prototype.fetch=function($input$jscomp$22$$,$opt_init$jscomp$12$$){var $$jscomp$this$jscomp$20$$=this,$accept$$=$opt_init$jscomp$12$$&&$opt_init$jscomp$12$$.headers&&$opt_init$jscomp$12$$.headers.Accept||"",$isBatchable$$=!$opt_init$jscomp$12$$||!$opt_init$jscomp$12$$.method||"GET"===$opt_init$jscomp$12$$.method,$key$jscomp$59$$=$removeFragment$$module$src$url$$($input$jscomp$22$$)+$accept$$,$isBatched$$=!!this.$fetchPromises_$[$key$jscomp$59$$];
if($isBatchable$$&&$isBatched$$)return this.$fetchPromises_$[$key$jscomp$59$$].then(function($input$jscomp$22$$){return $input$jscomp$22$$.clone()});var $fetchPromise$$=$Xhr$$module$src$service$xhr_impl$$.prototype.fetch.call(this,$input$jscomp$22$$,$opt_init$jscomp$12$$);$isBatchable$$&&(this.$fetchPromises_$[$key$jscomp$59$$]=$fetchPromise$$.then(function($input$jscomp$22$$){delete $$jscomp$this$jscomp$20$$.$fetchPromises_$[$key$jscomp$59$$];return $input$jscomp$22$$.clone()},function($input$jscomp$22$$){delete $$jscomp$this$jscomp$20$$.$fetchPromises_$[$key$jscomp$59$$];
throw $input$jscomp$22$$;}));return $fetchPromise$$};var $stubbedElements$$module$src$element_stub$$=[];function $ElementStub$$module$src$element_stub$$($element$jscomp$98$$){$BaseElement$$module$src$base_element$$.call(this,$element$jscomp$98$$);$stubbedElements$$module$src$element_stub$$.push(this)}$$jscomp$inherits$$($ElementStub$$module$src$element_stub$$,$BaseElement$$module$src$base_element$$);$ElementStub$$module$src$element_stub$$.prototype.getLayoutPriority=function(){return 0};
$ElementStub$$module$src$element_stub$$.prototype.isLayoutSupported=function(){return!0};$ElementStub$$module$src$element_stub$$.prototype.reconstructWhenReparented=function(){return!1};var $LABEL_MAP$$module$src$layout_delay_meter$$={0:"cld",2:"adld"};function $LayoutDelayMeter$$module$src$layout_delay_meter$$($win$jscomp$117$$,$priority$$){this.$win_$=$win$jscomp$117$$;this.$performance_$=$getExistingServiceOrNull$$module$src$service$$($win$jscomp$117$$);this.$firstLayoutTime_$=this.$firstInViewportTime_$=null;this.$done_$=!1;this.$label_$=$LABEL_MAP$$module$src$layout_delay_meter$$[$priority$$]}
$LayoutDelayMeter$$module$src$layout_delay_meter$$.prototype.enterViewport=function(){this.$label_$&&!this.$firstInViewportTime_$&&(this.$firstInViewportTime_$=this.$win_$.Date.now(),$JSCompiler_StaticMethods_tryMeasureDelay_$$(this))};$LayoutDelayMeter$$module$src$layout_delay_meter$$.prototype.startLayout=function(){this.$label_$&&!this.$firstLayoutTime_$&&(this.$firstLayoutTime_$=this.$win_$.Date.now(),$JSCompiler_StaticMethods_tryMeasureDelay_$$(this))};
function $JSCompiler_StaticMethods_tryMeasureDelay_$$($JSCompiler_StaticMethods_tryMeasureDelay_$self$$){if($JSCompiler_StaticMethods_tryMeasureDelay_$self$$.$performance_$&&$JSCompiler_StaticMethods_tryMeasureDelay_$self$$.$performance_$.isPerformanceTrackingOn()&&!$JSCompiler_StaticMethods_tryMeasureDelay_$self$$.$done_$&&$JSCompiler_StaticMethods_tryMeasureDelay_$self$$.$firstInViewportTime_$&&$JSCompiler_StaticMethods_tryMeasureDelay_$self$$.$firstLayoutTime_$){var $delay$$=$JSCompiler_StaticMethods_tryMeasureDelay_$self$$.$win_$.Math.max($JSCompiler_StaticMethods_tryMeasureDelay_$self$$.$firstLayoutTime_$-
$JSCompiler_StaticMethods_tryMeasureDelay_$self$$.$firstInViewportTime_$,0);$JSCompiler_StaticMethods_tryMeasureDelay_$self$$.$performance_$.tickDelta($JSCompiler_StaticMethods_tryMeasureDelay_$self$$.$label_$,$delay$$);$JSCompiler_StaticMethods_tryMeasureDelay_$self$$.$performance_$.throttledFlush();$JSCompiler_StaticMethods_tryMeasureDelay_$self$$.$done_$=!0}};function $Resource$$module$src$service$resource$$($deferred$jscomp$11_id$jscomp$37$$,$element$jscomp$99$$,$resources$jscomp$1$$){$element$jscomp$99$$.__AMP__RESOURCE=this;this.$id_$=$deferred$jscomp$11_id$jscomp$37$$;this.element=$element$jscomp$99$$;this.debugid=$element$jscomp$99$$.tagName.toLowerCase()+"#"+$deferred$jscomp$11_id$jscomp$37$$;this.hostWin=$element$jscomp$99$$.ownerDocument.defaultView;this.$resources_$=$resources$jscomp$1$$;this.$isPlaceholder_$=$element$jscomp$99$$.hasAttribute("placeholder");
this.$isBuilding_$=!1;this.$owner_$=void 0;this.$state_$=$element$jscomp$99$$.isBuilt()?1:0;this.$priorityOverride_$=-1;this.$layoutCount_$=0;this.$lastLayoutError_$=null;this.$isFixed_$=!1;this.$layoutBox_$=$layoutRectLtwh$$module$src$layout_rect$$(-1E4,-1E4,0,0);this.$initialLayoutBox_$=null;this.$isMeasureRequested_$=!1;this.$layoutPromise_$=this.$withViewportDeferreds_$=null;this.$pendingChangeSize_$=void 0;this.$loadedOnce_$=!1;$deferred$jscomp$11_id$jscomp$37$$=new $Deferred$$module$src$utils$promise$$;
this.$loadPromise_$=$deferred$jscomp$11_id$jscomp$37$$.promise;this.$loadPromiseResolve_$=$deferred$jscomp$11_id$jscomp$37$$.resolve;this.$useLayers_$=$isExperimentOn$$module$src$experiments$$(this.hostWin,"layers");this.$useLayersPrioritization_$=$isExperimentOn$$module$src$experiments$$(this.hostWin,"layers-prioritization")}function $Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$101$$){return $element$jscomp$101$$.__AMP__RESOURCE}$JSCompiler_prototypeAlias$$=$Resource$$module$src$service$resource$$.prototype;
$JSCompiler_prototypeAlias$$.getId=function(){return this.$id_$};$JSCompiler_prototypeAlias$$.updateOwner=function($owner$jscomp$1$$){this.$owner_$=$owner$jscomp$1$$};$JSCompiler_prototypeAlias$$.getOwner=function(){if(void 0===this.$owner_$){for(var $n$jscomp$12$$=this.element;$n$jscomp$12$$;$n$jscomp$12$$=$n$jscomp$12$$.parentElement)if($n$jscomp$12$$.__AMP__OWNER){this.$owner_$=$n$jscomp$12$$.__AMP__OWNER;break}void 0===this.$owner_$&&(this.$owner_$=null)}return this.$owner_$};
$JSCompiler_prototypeAlias$$.hasOwner=function(){return!!this.getOwner()};$JSCompiler_prototypeAlias$$.getLayoutPriority=function(){return-1!=this.$priorityOverride_$?this.$priorityOverride_$:this.element.getLayoutPriority()};$JSCompiler_prototypeAlias$$.updateLayoutPriority=function($newPriority$$){this.$priorityOverride_$=$newPriority$$};$JSCompiler_prototypeAlias$$.getState=function(){return this.$state_$};$JSCompiler_prototypeAlias$$.isBuilt=function(){return this.element.isBuilt()};
$JSCompiler_prototypeAlias$$.isBuilding=function(){return this.$isBuilding_$};$JSCompiler_prototypeAlias$$.whenBuilt=function(){return this.element.signals().whenSignal("res-built")};
$JSCompiler_prototypeAlias$$.build=function(){var $$jscomp$this$jscomp$21$$=this;if(this.$isBuilding_$||!this.element.isUpgraded()||!this.$resources_$.grantBuildPermission())return null;this.$isBuilding_$=!0;return this.element.build().then(function(){$$jscomp$this$jscomp$21$$.$isBuilding_$=!1;$$jscomp$this$jscomp$21$$.hasBeenMeasured()?($$jscomp$this$jscomp$21$$.$state_$=2,$$jscomp$this$jscomp$21$$.element.updateLayoutBox($$jscomp$this$jscomp$21$$.getLayoutBox(),!0)):$$jscomp$this$jscomp$21$$.$state_$=
1;$$jscomp$this$jscomp$21$$.element.signals().signal("res-built");$$jscomp$this$jscomp$21$$.element.dispatchCustomEvent("amp:built")},function($reason$jscomp$14$$){$$jscomp$this$jscomp$21$$.maybeReportErrorOnBuildFailure($reason$jscomp$14$$);$$jscomp$this$jscomp$21$$.$isBuilding_$=!1;$$jscomp$this$jscomp$21$$.element.signals().rejectSignal("res-built",$reason$jscomp$14$$);throw $reason$jscomp$14$$;})};
$JSCompiler_prototypeAlias$$.maybeReportErrorOnBuildFailure=function($reason$jscomp$15$$){$isBlockedByConsent$$module$src$error$$($reason$jscomp$15$$)||$dev$$module$src$log$$().error("Resource","failed to build:",this.debugid,$reason$jscomp$15$$)};$JSCompiler_prototypeAlias$$.applySizesAndMediaQuery=function(){this.element.applySizesAndMediaQuery()};
$JSCompiler_prototypeAlias$$.changeSize=function($newHeight$jscomp$3$$,$newWidth$jscomp$1$$,$opt_newMargins$$){this.element.changeSize($newHeight$jscomp$3$$,$newWidth$jscomp$1$$,$opt_newMargins$$);this.requestMeasure()};
$JSCompiler_prototypeAlias$$.overflowCallback=function($overflown$$,$requestedHeight$$,$requestedWidth$$,$requestedMargins$$){$overflown$$&&(this.$pendingChangeSize_$={height:$requestedHeight$$,width:$requestedWidth$$,margins:$requestedMargins$$});this.element.overflowCallback($overflown$$,$requestedHeight$$,$requestedWidth$$,$requestedMargins$$)};$JSCompiler_prototypeAlias$$.resetPendingChangeSize=function(){this.$pendingChangeSize_$=void 0};$JSCompiler_prototypeAlias$$.getPendingChangeSize=function(){return this.$pendingChangeSize_$};
$JSCompiler_prototypeAlias$$.getUpgradeDelayMs=function(){return this.element.getUpgradeDelayMs()};
$JSCompiler_prototypeAlias$$.measure=function(){if(!(this.$isPlaceholder_$&&this.element.parentElement&&$startsWith$$module$src$string$$(this.element.parentElement.tagName,"AMP-"))||"__AMP__RESOURCE"in this.element.parentElement){this.$isMeasureRequested_$=!1;var $oldBox$$=this.$layoutBox_$;if(this.$useLayers_$){var $JSCompiler_element$jscomp$inline_379_JSCompiler_from$jscomp$inline_390_JSCompiler_viewport$jscomp$inline_383$$=this.element;$JSCompiler_element$jscomp$inline_379_JSCompiler_from$jscomp$inline_390_JSCompiler_viewport$jscomp$inline_383$$.getLayers().remeasure($JSCompiler_element$jscomp$inline_379_JSCompiler_from$jscomp$inline_390_JSCompiler_viewport$jscomp$inline_383$$,
!0);this.$layoutBox_$=this.getPageLayoutBox()}else{$JSCompiler_element$jscomp$inline_379_JSCompiler_from$jscomp$inline_390_JSCompiler_viewport$jscomp$inline_383$$=this.$resources_$.getViewport();var $JSCompiler_box$jscomp$inline_384_JSCompiler_to$jscomp$inline_391$$=this.$resources_$.getViewport().getLayoutRect(this.element);this.$layoutBox_$=$JSCompiler_box$jscomp$inline_384_JSCompiler_to$jscomp$inline_391$$;var $JSCompiler_isFixed$jscomp$inline_385$$=!1;if($JSCompiler_element$jscomp$inline_379_JSCompiler_from$jscomp$inline_390_JSCompiler_viewport$jscomp$inline_383$$.supportsPositionFixed()&&
this.isDisplayed())for(var $JSCompiler_win$jscomp$inline_386$$=this.$resources_$.win,$JSCompiler_body$jscomp$inline_387$$=$JSCompiler_win$jscomp$inline_386$$.document.body,$JSCompiler_n$jscomp$inline_388$$=this.element;$JSCompiler_n$jscomp$inline_388$$&&$JSCompiler_n$jscomp$inline_388$$!=$JSCompiler_body$jscomp$inline_387$$;$JSCompiler_n$jscomp$inline_388$$=$JSCompiler_n$jscomp$inline_388$$.offsetParent){if($JSCompiler_n$jscomp$inline_388$$.isAlwaysFixed&&$JSCompiler_n$jscomp$inline_388$$.isAlwaysFixed()){$JSCompiler_isFixed$jscomp$inline_385$$=
!0;break}if($JSCompiler_element$jscomp$inline_379_JSCompiler_from$jscomp$inline_390_JSCompiler_viewport$jscomp$inline_383$$.isDeclaredFixed($JSCompiler_n$jscomp$inline_388$$)&&"fixed"==$computedStyle$$module$src$style$$($JSCompiler_win$jscomp$inline_386$$,$JSCompiler_n$jscomp$inline_388$$).position){$JSCompiler_isFixed$jscomp$inline_385$$=!0;break}}if(this.$isFixed_$=$JSCompiler_isFixed$jscomp$inline_385$$)this.$layoutBox_$=$moveLayoutRect$$module$src$layout_rect$$($JSCompiler_box$jscomp$inline_384_JSCompiler_to$jscomp$inline_391$$,
-$JSCompiler_element$jscomp$inline_379_JSCompiler_from$jscomp$inline_390_JSCompiler_viewport$jscomp$inline_383$$.getScrollLeft(),-$JSCompiler_element$jscomp$inline_379_JSCompiler_from$jscomp$inline_390_JSCompiler_viewport$jscomp$inline_383$$.getScrollTop())}var $box$$=this.$layoutBox_$;$JSCompiler_element$jscomp$inline_379_JSCompiler_from$jscomp$inline_390_JSCompiler_viewport$jscomp$inline_383$$=$oldBox$$;$JSCompiler_box$jscomp$inline_384_JSCompiler_to$jscomp$inline_391$$=$box$$;var $sizeChanges$$=
!($JSCompiler_element$jscomp$inline_379_JSCompiler_from$jscomp$inline_390_JSCompiler_viewport$jscomp$inline_383$$.width==$JSCompiler_box$jscomp$inline_384_JSCompiler_to$jscomp$inline_391$$.width&&$JSCompiler_element$jscomp$inline_379_JSCompiler_from$jscomp$inline_390_JSCompiler_viewport$jscomp$inline_383$$.height===$JSCompiler_box$jscomp$inline_384_JSCompiler_to$jscomp$inline_391$$.height);1!=this.$state_$&&$oldBox$$.top==$box$$.top&&!$sizeChanges$$||!this.element.isUpgraded()||0==this.$state_$||
1!=this.$state_$&&!this.element.isRelayoutNeeded()||(this.$state_$=2);this.hasBeenMeasured()||(this.$initialLayoutBox_$=$box$$);this.element.updateLayoutBox($box$$,$sizeChanges$$)}};
$JSCompiler_prototypeAlias$$.completeCollapse=function(){$toggle$$module$src$style$$(this.element,!1);this.$layoutBox_$=this.$useLayers_$?$layoutRectLtwh$$module$src$layout_rect$$(0,0,0,0):$layoutRectLtwh$$module$src$layout_rect$$(this.$layoutBox_$.left,this.$layoutBox_$.top,0,0);this.$isFixed_$=!1;this.element.updateLayoutBox(this.getLayoutBox());var $owner$jscomp$2$$=this.getOwner();$owner$jscomp$2$$&&$owner$jscomp$2$$.collapsedCallback(this.element)};
$JSCompiler_prototypeAlias$$.completeExpand=function(){$toggle$$module$src$style$$(this.element,!0);this.requestMeasure()};$JSCompiler_prototypeAlias$$.isMeasureRequested=function(){return this.$isMeasureRequested_$};$JSCompiler_prototypeAlias$$.hasBeenMeasured=function(){return!!this.$initialLayoutBox_$};$JSCompiler_prototypeAlias$$.requestMeasure=function(){this.$isMeasureRequested_$=!0};
$JSCompiler_prototypeAlias$$.getLayoutBox=function(){if(this.$useLayers_$){var $element$jscomp$104_size$jscomp$15$$=this.element,$layers$jscomp$1$$=$element$jscomp$104_size$jscomp$15$$.getLayers(),$pos$jscomp$2_viewport$jscomp$2$$=$layers$jscomp$1$$.getScrolledPosition($element$jscomp$104_size$jscomp$15$$);$element$jscomp$104_size$jscomp$15$$=$layers$jscomp$1$$.getSize($element$jscomp$104_size$jscomp$15$$);return $layoutRectLtwh$$module$src$layout_rect$$($pos$jscomp$2_viewport$jscomp$2$$.left,$pos$jscomp$2_viewport$jscomp$2$$.top,
$element$jscomp$104_size$jscomp$15$$.width,$element$jscomp$104_size$jscomp$15$$.height)}if(!this.$isFixed_$)return this.$layoutBox_$;$pos$jscomp$2_viewport$jscomp$2$$=this.$resources_$.getViewport();return $moveLayoutRect$$module$src$layout_rect$$(this.$layoutBox_$,$pos$jscomp$2_viewport$jscomp$2$$.getScrollLeft(),$pos$jscomp$2_viewport$jscomp$2$$.getScrollTop())};
$JSCompiler_prototypeAlias$$.getPageLayoutBox=function(){if(this.$useLayers_$){var $element$jscomp$105_size$jscomp$16$$=this.element,$layers$jscomp$2$$=$element$jscomp$105_size$jscomp$16$$.getLayers(),$pos$jscomp$3$$=$layers$jscomp$2$$.getOffsetPosition($element$jscomp$105_size$jscomp$16$$);$element$jscomp$105_size$jscomp$16$$=$layers$jscomp$2$$.getSize($element$jscomp$105_size$jscomp$16$$);return $layoutRectLtwh$$module$src$layout_rect$$($pos$jscomp$3$$.left,$pos$jscomp$3$$.top,$element$jscomp$105_size$jscomp$16$$.width,
$element$jscomp$105_size$jscomp$16$$.height)}return this.$layoutBox_$};$JSCompiler_prototypeAlias$$.getInitialLayoutBox=function(){return this.$initialLayoutBox_$||this.$layoutBox_$};$JSCompiler_prototypeAlias$$.isDisplayed=function(){var $isFluid$$="fluid"==this.element.getLayout(),$box$jscomp$2$$=this.getLayoutBox(),$hasNonZeroSize$$=0<$box$jscomp$2$$.height&&0<$box$jscomp$2$$.width;return($isFluid$$||$hasNonZeroSize$$)&&!!this.element.ownerDocument&&!!this.element.ownerDocument.defaultView};
$JSCompiler_prototypeAlias$$.isFixed=function(){return this.$isFixed_$};$JSCompiler_prototypeAlias$$.overlaps=function($rect$jscomp$4$$){var $JSCompiler_r1$jscomp$inline_393$$=this.getLayoutBox();return $JSCompiler_r1$jscomp$inline_393$$.top<=$rect$jscomp$4$$.bottom&&$rect$jscomp$4$$.top<=$JSCompiler_r1$jscomp$inline_393$$.bottom&&$JSCompiler_r1$jscomp$inline_393$$.left<=$rect$jscomp$4$$.right&&$rect$jscomp$4$$.left<=$JSCompiler_r1$jscomp$inline_393$$.right};
$JSCompiler_prototypeAlias$$.prerenderAllowed=function(){return this.element.prerenderAllowed()};
$JSCompiler_prototypeAlias$$.whenWithinViewport=function($key$jscomp$60_viewport$jscomp$3$$){if(!this.isLayoutPending()||!0===$key$jscomp$60_viewport$jscomp$3$$)return Promise.resolve();var $viewportNum$$=$key$jscomp$60_viewport$jscomp$3$$;$key$jscomp$60_viewport$jscomp$3$$=String($viewportNum$$);if(this.$withViewportDeferreds_$&&this.$withViewportDeferreds_$[$key$jscomp$60_viewport$jscomp$3$$])return this.$withViewportDeferreds_$[$key$jscomp$60_viewport$jscomp$3$$].promise;if(this.isWithinViewportRatio($viewportNum$$))return Promise.resolve();
this.$withViewportDeferreds_$=this.$withViewportDeferreds_$||{};this.$withViewportDeferreds_$[$key$jscomp$60_viewport$jscomp$3$$]=new $Deferred$$module$src$utils$promise$$;return this.$withViewportDeferreds_$[$key$jscomp$60_viewport$jscomp$3$$].promise};
function $JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$$($JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$self$$){if($JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$self$$.$withViewportDeferreds_$){var $viewportRatio$$=$JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$self$$.getDistanceViewportRatio(),$key$jscomp$61$$;for($key$jscomp$61$$ in $JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$self$$.$withViewportDeferreds_$)$JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$self$$.isWithinViewportRatio(parseFloat($key$jscomp$61$$),
$viewportRatio$$)&&($JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$self$$.$withViewportDeferreds_$[$key$jscomp$61$$].resolve(),delete $JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$self$$.$withViewportDeferreds_$[$key$jscomp$61$$])}}
$JSCompiler_prototypeAlias$$.getDistanceViewportRatio=function(){if(this.$useLayers_$&&this.$useLayersPrioritization_$){var $element$jscomp$106_layoutBox$jscomp$1$$=this.element;return{distance:$element$jscomp$106_layoutBox$jscomp$1$$.getLayers().iterateAncestry($element$jscomp$106_layoutBox$jscomp$1$$,this.$layersDistanceRatio_$)}}var $viewportBox$$=this.$resources_$.getViewport().getRect();$element$jscomp$106_layoutBox$jscomp$1$$=this.getLayoutBox();var $scrollDirection$$=this.$resources_$.getScrollDirection(),
$scrollPenalty$$=1,$distance$$=0;if($viewportBox$$.right<$element$jscomp$106_layoutBox$jscomp$1$$.left||$viewportBox$$.left>$element$jscomp$106_layoutBox$jscomp$1$$.right)return{distance:!1};if($viewportBox$$.bottom<$element$jscomp$106_layoutBox$jscomp$1$$.top)$distance$$=$element$jscomp$106_layoutBox$jscomp$1$$.top-$viewportBox$$.bottom,-1==$scrollDirection$$&&($scrollPenalty$$=2);else if($viewportBox$$.top>$element$jscomp$106_layoutBox$jscomp$1$$.bottom)$distance$$=$viewportBox$$.top-$element$jscomp$106_layoutBox$jscomp$1$$.bottom,
1==$scrollDirection$$&&($scrollPenalty$$=2);else return{distance:!0};return{distance:$distance$$,scrollPenalty:$scrollPenalty$$,viewportHeight:$viewportBox$$.height}};
$JSCompiler_prototypeAlias$$.isWithinViewportRatio=function($multiplier$$,$opt_viewportRatio$$){if("boolean"===typeof $multiplier$$)return $multiplier$$;var $$jscomp$destructuring$var65$$=$opt_viewportRatio$$||this.getDistanceViewportRatio(),$distance$jscomp$1$$=$$jscomp$destructuring$var65$$.distance,$viewportHeight$$=$$jscomp$destructuring$var65$$.viewportHeight;return this.$useLayers_$&&this.$useLayersPrioritization_$?$distance$jscomp$1$$<$multiplier$$:"boolean"==typeof $distance$jscomp$1$$?$distance$jscomp$1$$:
$distance$jscomp$1$$<$viewportHeight$$*$multiplier$$/$$jscomp$destructuring$var65$$.scrollPenalty};
$JSCompiler_prototypeAlias$$.$layersDistanceRatio_$=function($currentScore$$,$distance$jscomp$2_layout$jscomp$4$$,$depth$jscomp$10$$){$currentScore$$=$currentScore$$||0;var $depthPenalty$$=1+$depth$jscomp$10$$/10,$nonActivePenalty$$=$distance$jscomp$2_layout$jscomp$4$$.isActiveUnsafe()?1:2;$distance$jscomp$2_layout$jscomp$4$$=$distance$jscomp$2_layout$jscomp$4$$.getHorizontalViewportsFromParent()+$distance$jscomp$2_layout$jscomp$4$$.getVerticalViewportsFromParent();return $currentScore$$+$nonActivePenalty$$*
$depthPenalty$$*$distance$jscomp$2_layout$jscomp$4$$};$JSCompiler_prototypeAlias$$.renderOutsideViewport=function(){$JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$$(this);return this.hasOwner()||this.isWithinViewportRatio(this.element.renderOutsideViewport())};$JSCompiler_prototypeAlias$$.idleRenderOutsideViewport=function(){return this.isWithinViewportRatio(this.element.idleRenderOutsideViewport())};
$JSCompiler_prototypeAlias$$.layoutScheduled=function($scheduleTime$$){this.$state_$=3;this.element.layoutScheduleTime=$scheduleTime$$};$JSCompiler_prototypeAlias$$.layoutCanceled=function(){this.$state_$=this.hasBeenMeasured()?2:1};
$JSCompiler_prototypeAlias$$.startLayout=function(){var $$jscomp$this$jscomp$22$$=this;if(this.$layoutPromise_$)return this.$layoutPromise_$;if(4==this.$state_$)return Promise.resolve();if(5==this.$state_$)return Promise.reject(this.$lastLayoutError_$);this.isDisplayed();if(0<this.$layoutCount_$&&!this.element.isRelayoutNeeded())return this.$state_$=4,Promise.resolve();this.$layoutCount_$++;this.$state_$=3;return this.$layoutPromise_$=(new Promise(function($resolve$jscomp$24$$,$reject$jscomp$12$$){$Services$$module$src$services$vsyncFor$$($$jscomp$this$jscomp$22$$.hostWin).mutate(function(){try{$resolve$jscomp$24$$($$jscomp$this$jscomp$22$$.element.layoutCallback())}catch($e$jscomp$44$$){$reject$jscomp$12$$($e$jscomp$44$$)}})})).then(function(){return $JSCompiler_StaticMethods_layoutComplete_$$($$jscomp$this$jscomp$22$$,
!0)},function($reason$jscomp$16$$){return $JSCompiler_StaticMethods_layoutComplete_$$($$jscomp$this$jscomp$22$$,!1,$reason$jscomp$16$$)})};
function $JSCompiler_StaticMethods_layoutComplete_$$($JSCompiler_StaticMethods_layoutComplete_$self$$,$success$$,$opt_reason$jscomp$1$$){$JSCompiler_StaticMethods_layoutComplete_$self$$.$loadPromiseResolve_$&&($JSCompiler_StaticMethods_layoutComplete_$self$$.$loadPromiseResolve_$(),$JSCompiler_StaticMethods_layoutComplete_$self$$.$loadPromiseResolve_$=null);$JSCompiler_StaticMethods_layoutComplete_$self$$.$layoutPromise_$=null;$JSCompiler_StaticMethods_layoutComplete_$self$$.$loadedOnce_$=!0;$JSCompiler_StaticMethods_layoutComplete_$self$$.$state_$=
$success$$?4:5;$JSCompiler_StaticMethods_layoutComplete_$self$$.$lastLayoutError_$=$opt_reason$jscomp$1$$;if(!$success$$)return Promise.reject($opt_reason$jscomp$1$$)}$JSCompiler_prototypeAlias$$.isLayoutPending=function(){return 4!=this.$state_$&&5!=this.$state_$};$JSCompiler_prototypeAlias$$.loadedOnce=function(){return this.$loadPromise_$};$JSCompiler_prototypeAlias$$.hasLoadedOnce=function(){return this.$loadedOnce_$};
$JSCompiler_prototypeAlias$$.isInViewport=function(){var $isInViewport$$=this.element.isInViewport();$isInViewport$$&&$JSCompiler_StaticMethods_resolveDeferredsWhenWithinViewports_$$(this);return $isInViewport$$};$JSCompiler_prototypeAlias$$.setInViewport=function($inViewport$$){this.element.viewportCallback($inViewport$$)};
$JSCompiler_prototypeAlias$$.unlayout=function(){0!=this.$state_$&&1!=this.$state_$&&(this.setInViewport(!1),this.element.unlayoutCallback()&&(this.element.togglePlaceholder(!0),this.$state_$=1,this.$layoutCount_$=0,this.$layoutPromise_$=null))};$JSCompiler_prototypeAlias$$.getTaskId=function($localId$$){return this.debugid+"#"+$localId$$};$JSCompiler_prototypeAlias$$.pause=function(){this.element.pauseCallback();this.element.unlayoutOnPause()&&this.unlayout()};
$JSCompiler_prototypeAlias$$.pauseOnRemove=function(){this.element.pauseCallback()};$JSCompiler_prototypeAlias$$.resume=function(){this.element.resumeCallback()};$JSCompiler_prototypeAlias$$.unload=function(){this.pause();this.unlayout()};$JSCompiler_prototypeAlias$$.disconnect=function(){delete this.element.__AMP__RESOURCE;this.element.disconnect(!0)};function $Signals$$module$src$utils$signals$$(){this.$map_$=$map$$module$src$utils$object$$();this.$promiseMap_$=null}$JSCompiler_prototypeAlias$$=$Signals$$module$src$utils$signals$$.prototype;$JSCompiler_prototypeAlias$$.get=function($name$jscomp$119$$){return this.$map_$[$name$jscomp$119$$]||null};
$JSCompiler_prototypeAlias$$.whenSignal=function($name$jscomp$120$$){var $promiseStruct$$=this.$promiseMap_$&&this.$promiseMap_$[$name$jscomp$120$$];if(!$promiseStruct$$){var $$jscomp$destructuring$var66_result$jscomp$3$$=this.$map_$[$name$jscomp$120$$];null!=$$jscomp$destructuring$var66_result$jscomp$3$$?$promiseStruct$$={promise:"number"==typeof $$jscomp$destructuring$var66_result$jscomp$3$$?Promise.resolve($$jscomp$destructuring$var66_result$jscomp$3$$):Promise.reject($$jscomp$destructuring$var66_result$jscomp$3$$)}:
($$jscomp$destructuring$var66_result$jscomp$3$$=new $Deferred$$module$src$utils$promise$$,$promiseStruct$$={promise:$$jscomp$destructuring$var66_result$jscomp$3$$.promise,resolve:$$jscomp$destructuring$var66_result$jscomp$3$$.resolve,reject:$$jscomp$destructuring$var66_result$jscomp$3$$.reject});this.$promiseMap_$||(this.$promiseMap_$=$map$$module$src$utils$object$$());this.$promiseMap_$[$name$jscomp$120$$]=$promiseStruct$$}return $promiseStruct$$.promise};
$JSCompiler_prototypeAlias$$.signal=function($name$jscomp$121_promiseStruct$jscomp$1$$,$opt_time$$){if(null==this.$map_$[$name$jscomp$121_promiseStruct$jscomp$1$$]){var $time$jscomp$1$$=$opt_time$$||Date.now();this.$map_$[$name$jscomp$121_promiseStruct$jscomp$1$$]=$time$jscomp$1$$;($name$jscomp$121_promiseStruct$jscomp$1$$=this.$promiseMap_$&&this.$promiseMap_$[$name$jscomp$121_promiseStruct$jscomp$1$$])&&$name$jscomp$121_promiseStruct$jscomp$1$$.resolve&&($name$jscomp$121_promiseStruct$jscomp$1$$.resolve($time$jscomp$1$$),
$name$jscomp$121_promiseStruct$jscomp$1$$.resolve=void 0,$name$jscomp$121_promiseStruct$jscomp$1$$.reject=void 0)}};
$JSCompiler_prototypeAlias$$.rejectSignal=function($name$jscomp$122_promiseStruct$jscomp$2$$,$error$jscomp$21$$){null==this.$map_$[$name$jscomp$122_promiseStruct$jscomp$2$$]&&(this.$map_$[$name$jscomp$122_promiseStruct$jscomp$2$$]=$error$jscomp$21$$,($name$jscomp$122_promiseStruct$jscomp$2$$=this.$promiseMap_$&&this.$promiseMap_$[$name$jscomp$122_promiseStruct$jscomp$2$$])&&$name$jscomp$122_promiseStruct$jscomp$2$$.reject&&($name$jscomp$122_promiseStruct$jscomp$2$$.reject($error$jscomp$21$$),$name$jscomp$122_promiseStruct$jscomp$2$$.resolve=
void 0,$name$jscomp$122_promiseStruct$jscomp$2$$.reject=void 0))};$JSCompiler_prototypeAlias$$.reset=function($name$jscomp$123$$){this.$map_$[$name$jscomp$123$$]&&delete this.$map_$[$name$jscomp$123$$];var $promiseStruct$jscomp$3$$=this.$promiseMap_$&&this.$promiseMap_$[$name$jscomp$123$$];$promiseStruct$jscomp$3$$&&!$promiseStruct$jscomp$3$$.resolve&&delete this.$promiseMap_$[$name$jscomp$123$$]};var $$jscomp$templatelit$3$$=['<div class="i-amphtml-loader">\n        <div class="i-amphtml-loader-dot"></div>\n        <div class="i-amphtml-loader-dot"></div>\n        <div class="i-amphtml-loader-dot"></div>\n      </div>'];$$jscomp$templatelit$3$$.raw=$$jscomp$templatelit$3$$.slice();var $$jscomp$templatelit$2$$=['<div class="i-amphtml-loader-line">\n          <div class="i-amphtml-loader-moving-line"></div>\n        </div>'];$$jscomp$templatelit$2$$.raw=$$jscomp$templatelit$2$$.slice();
var $LINE_LOADER_ELEMENTS$$module$src$loader$$={"AMP-AD":!0};function $Pass$$module$src$pass$$($win$jscomp$119$$,$handler$jscomp$13$$,$opt_defaultDelay$$){var $$jscomp$this$jscomp$23$$=this;this.$timer_$=$Services$$module$src$services$timerFor$$($win$jscomp$119$$);this.$handler_$=$handler$jscomp$13$$;this.$defaultDelay_$=$opt_defaultDelay$$||0;this.$scheduled_$=-1;this.$nextTime_$=0;this.$running_$=!1;this.$boundPass_$=function(){return $$jscomp$this$jscomp$23$$.$pass_$()}}$Pass$$module$src$pass$$.prototype.isPending=function(){return-1!=this.$scheduled_$};
$Pass$$module$src$pass$$.prototype.schedule=function($delay$jscomp$1_opt_delay$jscomp$2$$){$delay$jscomp$1_opt_delay$jscomp$2$$=$delay$jscomp$1_opt_delay$jscomp$2$$||this.$defaultDelay_$;this.$running_$&&10>$delay$jscomp$1_opt_delay$jscomp$2$$&&($delay$jscomp$1_opt_delay$jscomp$2$$=10);var $nextTime$$=Date.now()+$delay$jscomp$1_opt_delay$jscomp$2$$;return!this.isPending()||-10>$nextTime$$-this.$nextTime_$?(this.cancel(),this.$nextTime_$=$nextTime$$,this.$scheduled_$=this.$timer_$.delay(this.$boundPass_$,
$delay$jscomp$1_opt_delay$jscomp$2$$),!0):!1};$Pass$$module$src$pass$$.prototype.$pass_$=function(){this.$scheduled_$=-1;this.$nextTime_$=0;this.$running_$=!0;this.$handler_$();this.$running_$=!1};$Pass$$module$src$pass$$.prototype.cancel=function(){this.isPending()&&(this.$timer_$.cancel(this.$scheduled_$),this.$scheduled_$=-1)};var $INIT_TIME$$module$src$intersection_observer_polyfill$$=Date.now();function $parseSizeList$$module$src$size_list$$($s$jscomp$22$$,$opt_allowPercentAsLength$$){var $sSizes$$=$s$jscomp$22$$.split(",");$userAssert$$module$src$log$$(0<$sSizes$$.length,"sizes has to have at least one size");var $sizes$$=[];$sSizes$$.forEach(function($s$jscomp$22$$){$s$jscomp$22$$=$s$jscomp$22$$.replace(/\s+/g," ").trim();if(0!=$s$jscomp$22$$.length){var $sSizes$$=$s$jscomp$22$$.charAt($s$jscomp$22$$.length-1),$sSize$$,$func$jscomp$4$$=!1;if(")"==$sSizes$$){$func$jscomp$4$$=!0;var $parens$$=
1;for($sSize$$=$s$jscomp$22$$.length-2;0<=$sSize$$;$sSize$$--){var $c$40_c$41_c$jscomp$3$$=$s$jscomp$22$$.charAt($sSize$$);"("==$c$40_c$41_c$jscomp$3$$?$parens$$--:")"==$c$40_c$41_c$jscomp$3$$&&$parens$$++;if(0==$parens$$)break}var $funcEnd$$=$sSize$$-1;if(0<$sSize$$)for($sSize$$--;0<=$sSize$$&&($c$40_c$41_c$jscomp$3$$=$s$jscomp$22$$.charAt($sSize$$),"%"==$c$40_c$41_c$jscomp$3$$||"-"==$c$40_c$41_c$jscomp$3$$||"_"==$c$40_c$41_c$jscomp$3$$||"a"<=$c$40_c$41_c$jscomp$3$$&&"z">=$c$40_c$41_c$jscomp$3$$||
"A"<=$c$40_c$41_c$jscomp$3$$&&"Z">=$c$40_c$41_c$jscomp$3$$||"0"<=$c$40_c$41_c$jscomp$3$$&&"9">=$c$40_c$41_c$jscomp$3$$);$sSize$$--);$userAssert$$module$src$log$$($sSize$$<$funcEnd$$,'Invalid CSS function in "%s"',$s$jscomp$22$$)}else for($sSize$$=$s$jscomp$22$$.length-2;0<=$sSize$$&&($c$40_c$41_c$jscomp$3$$=$s$jscomp$22$$.charAt($sSize$$),"%"==$c$40_c$41_c$jscomp$3$$||"."==$c$40_c$41_c$jscomp$3$$||"a"<=$c$40_c$41_c$jscomp$3$$&&"z">=$c$40_c$41_c$jscomp$3$$||"A"<=$c$40_c$41_c$jscomp$3$$&&"Z">=$c$40_c$41_c$jscomp$3$$||
"0"<=$c$40_c$41_c$jscomp$3$$&&"9">=$c$40_c$41_c$jscomp$3$$);$sSize$$--);if(0<=$sSize$$){var $mediaStr$$=$s$jscomp$22$$.substring(0,$sSize$$+1).trim();var $sizeStr$$=$s$jscomp$22$$.substring($sSize$$+1).trim()}else $sizeStr$$=$s$jscomp$22$$,$mediaStr$$=void 0;$sizes$$.push({mediaQuery:$mediaStr$$,size:$func$jscomp$4$$?$sizeStr$$:$opt_allowPercentAsLength$$?$assertLengthOrPercent$$module$src$layout$$($sizeStr$$):$assertLength$$module$src$layout$$($sizeStr$$)})}});return new $SizeList$$module$src$size_list$$($sizes$$)}
function $SizeList$$module$src$size_list$$($sizes$jscomp$1$$){$userAssert$$module$src$log$$(0<$sizes$jscomp$1$$.length,"SizeList must have at least one option");this.$sizes_$=$sizes$jscomp$1$$;for(var $i$jscomp$76$$=0;$i$jscomp$76$$<$sizes$jscomp$1$$.length;$i$jscomp$76$$++){var $option$jscomp$1$$=$sizes$jscomp$1$$[$i$jscomp$76$$];$i$jscomp$76$$<$sizes$jscomp$1$$.length-1?$userAssert$$module$src$log$$($option$jscomp$1$$.mediaQuery,"All options except for the last must have a media condition"):$userAssert$$module$src$log$$(!$option$jscomp$1$$.mediaQuery,
"The last option must not have a media condition")}}$SizeList$$module$src$size_list$$.prototype.select=function($win$jscomp$123$$){for(var $sizes$jscomp$2$$=this.$sizes_$,$length$jscomp$33$$=$sizes$jscomp$2$$.length-1,$i$jscomp$77$$=0;$i$jscomp$77$$<$length$jscomp$33$$;$i$jscomp$77$$++){var $option$jscomp$2$$=$sizes$jscomp$2$$[$i$jscomp$77$$];if($win$jscomp$123$$.matchMedia($option$jscomp$2$$.mediaQuery).matches)return $option$jscomp$2$$.size}return $sizes$jscomp$2$$[$length$jscomp$33$$].size};var $$jscomp$templatelit$4$$=['\n            <div class="i-amphtml-loading-container i-amphtml-fill-content\n              amp-hidden"></div>'];$$jscomp$templatelit$4$$.raw=$$jscomp$templatelit$4$$.slice();var $templateTagSupported$$module$src$custom_element$$;
function $createCustomElementClass$$module$src$custom_element$$($win$jscomp$124$$,$name$jscomp$125$$){function $CustomAmpElement$$($win$jscomp$124$$){return $baseCustomElement$$.call(this,$win$jscomp$124$$)||this}var $baseCustomElement$$=$createBaseCustomElementClass$$module$src$custom_element$$($win$jscomp$124$$);$$jscomp$inherits$$($CustomAmpElement$$,$baseCustomElement$$);$CustomAmpElement$$.prototype.elementName=function(){return $name$jscomp$125$$};return $CustomAmpElement$$}
function $createBaseCustomElementClass$$module$src$custom_element$$($win$jscomp$125$$){function $BaseCustomElement$$($win$jscomp$125$$){$win$jscomp$125$$=$htmlElement$jscomp$2$$.call(this,$win$jscomp$125$$)||this;$win$jscomp$125$$.createdCallback();return $win$jscomp$125$$}if($win$jscomp$125$$.BaseCustomElementClass)return $win$jscomp$125$$.BaseCustomElementClass;var $htmlElement$jscomp$2$$=$win$jscomp$125$$.HTMLElement;$$jscomp$inherits$$($BaseCustomElement$$,$htmlElement$jscomp$2$$);$BaseCustomElement$$.prototype.createdCallback=
function(){this.$isConnected_$=this.$built_$=!1;this.$buildingPromise_$=null;this.readyState="loading";this.everAttached=!1;this.$layers_$=this.$resources_$=this.$ampdoc_$=null;this.layout_="nodisplay";this.layoutWidth_=-1;this.$layoutCount_$=0;this.$paused_$=this.$isInViewport_$=this.$isFirstLayoutCompleted_$=!1;this.$heightsList_$=this.$sizeList_$=this.$mediaQuery_$=void 0;this.warnOnMissingOverflow=!0;this.$loadingState_$=this.$loadingDisabled_$=this.sizerElement=void 0;this.$loadingElement_$=
this.$loadingContainer_$=null;this.$overflowElement_$=void 0;var $BaseCustomElement$$=$win$jscomp$125$$.ampExtendedElements&&$win$jscomp$125$$.ampExtendedElements[this.elementName()];$getMode$$module$src$mode$$().test&&this.$implementationClassForTesting$&&($BaseCustomElement$$=this.$implementationClassForTesting$);this.implementation_=new $BaseCustomElement$$(this);this.$upgradeState_$=1;this.$upgradeDelayMs_$=0;this.$isInTemplate_$=this.$actionQueue_$=void 0;this.$signals_$=new $Signals$$module$src$utils$signals$$;
var $htmlElement$jscomp$2$$=$getExistingServiceOrNull$$module$src$service$$($win$jscomp$125$$);this.$perfOn_$=$htmlElement$jscomp$2$$&&$htmlElement$jscomp$2$$.isPerformanceTrackingOn();this.$layoutDelayMeter_$=null;this.__AMP_UPG_RES&&(this.__AMP_UPG_RES(this),delete this.__AMP_UPG_RES,delete this.__AMP_UPG_PRM)};$BaseCustomElement$$.prototype.elementName=function(){};$BaseCustomElement$$.prototype.signals=function(){return this.$signals_$};$BaseCustomElement$$.prototype.getAmpDoc=function(){return this.$ampdoc_$};
$BaseCustomElement$$.prototype.getResources=function(){return this.$resources_$};$BaseCustomElement$$.prototype.getLayers=function(){return this.$layers_$};$BaseCustomElement$$.prototype.isUpgraded=function(){return 2==this.$upgradeState_$};$BaseCustomElement$$.prototype.upgrade=function($win$jscomp$125$$){this.$isInTemplate_$||1!=this.$upgradeState_$||(this.implementation_=new $win$jscomp$125$$(this),this.everAttached&&this.$tryUpgrade_$())};$BaseCustomElement$$.prototype.getUpgradeDelayMs=function(){return this.$upgradeDelayMs_$};
$BaseCustomElement$$.prototype.$completeUpgrade_$=function($BaseCustomElement$$,$htmlElement$jscomp$2$$){this.$upgradeDelayMs_$=$win$jscomp$125$$.Date.now()-$htmlElement$jscomp$2$$;this.$upgradeState_$=2;this.implementation_=$BaseCustomElement$$;this.classList.remove("amp-unresolved");this.classList.remove("i-amphtml-unresolved");this.implementation_.createdCallback();this.$assertLayout_$();this.implementation_.layout_=this.layout_;this.implementation_.layoutWidth_=this.layoutWidth_;this.implementation_.firstAttachedCallback();
this.$dispatchCustomEventForTesting$("amp:attached");this.getResources().upgraded(this)};$BaseCustomElement$$.prototype.$assertLayout_$=function(){if("nodisplay"!=this.layout_&&!this.implementation_.isLayoutSupported(this.layout_)){var $win$jscomp$125$$="Layout not supported: "+this.layout_;this.getAttribute("layout")||($win$jscomp$125$$+=". The element did not specify a layout attribute. Check https://www.ampproject.org/docs/guides/responsive/control_layout and the respective element documentation for details.");
throw $user$$module$src$log$$().createError($win$jscomp$125$$);}};$BaseCustomElement$$.prototype.isBuilt=function(){return this.$built_$};$BaseCustomElement$$.prototype.whenBuilt=function(){return this.$signals_$.whenSignal("built")};$BaseCustomElement$$.prototype.getLayoutPriority=function(){this.isUpgraded();return this.implementation_.getLayoutPriority()};$BaseCustomElement$$.prototype.getDefaultActionAlias=function(){this.isUpgraded();return this.implementation_.getDefaultActionAlias()};$BaseCustomElement$$.prototype.build=
function(){var $win$jscomp$125$$=this;this.isUpgraded();return this.$buildingPromise_$?this.$buildingPromise_$:this.$buildingPromise_$=(new Promise(function($BaseCustomElement$$,$htmlElement$jscomp$2$$){var $$jscomp$this$jscomp$28$$=$win$jscomp$125$$.$getConsentPolicy_$();$$jscomp$this$jscomp$28$$?$getElementServiceIfAvailableForDoc$$module$src$element_service$$($win$jscomp$125$$,"consentPolicyManager","amp-consent").then(function($win$jscomp$125$$){return $win$jscomp$125$$?$win$jscomp$125$$.whenPolicyUnblock($$jscomp$this$jscomp$28$$):
!0}).then(function($$jscomp$this$jscomp$28$$){$$jscomp$this$jscomp$28$$?$BaseCustomElement$$($win$jscomp$125$$.implementation_.buildCallback()):$htmlElement$jscomp$2$$(Error("BLOCK_BY_CONSENT"))}):$BaseCustomElement$$($win$jscomp$125$$.implementation_.buildCallback())})).then(function(){$win$jscomp$125$$.preconnect(!1);$win$jscomp$125$$.$built_$=!0;$win$jscomp$125$$.classList.remove("i-amphtml-notbuilt");$win$jscomp$125$$.classList.remove("amp-notbuilt");$win$jscomp$125$$.$signals_$.signal("built");
$win$jscomp$125$$.$isInViewport_$&&$win$jscomp$125$$.$updateInViewport_$(!0);$win$jscomp$125$$.$actionQueue_$&&$Services$$module$src$services$timerFor$$($win$jscomp$125$$.ownerDocument.defaultView).delay($win$jscomp$125$$.$dequeueActions_$.bind($win$jscomp$125$$),1);if(!$win$jscomp$125$$.getPlaceholder()){var $BaseCustomElement$$=$win$jscomp$125$$.createPlaceholder();$BaseCustomElement$$&&$win$jscomp$125$$.appendChild($BaseCustomElement$$)}},function($BaseCustomElement$$){$win$jscomp$125$$.$signals_$.rejectSignal("built",
$BaseCustomElement$$);$isBlockedByConsent$$module$src$error$$($BaseCustomElement$$)||$reportError$$module$src$error$$($BaseCustomElement$$,$win$jscomp$125$$);throw $BaseCustomElement$$;})};$BaseCustomElement$$.prototype.preconnect=function($win$jscomp$125$$){var $BaseCustomElement$$=this;$win$jscomp$125$$?this.implementation_.preconnectCallback($win$jscomp$125$$):$Services$$module$src$services$timerFor$$(this.ownerDocument.defaultView).delay(function(){var $htmlElement$jscomp$2$$=$BaseCustomElement$$.tagName;
$BaseCustomElement$$.ownerDocument?$BaseCustomElement$$.ownerDocument.defaultView?$BaseCustomElement$$.implementation_.preconnectCallback($win$jscomp$125$$):$dev$$module$src$log$$().error($htmlElement$jscomp$2$$,"preconnect without defaultView"):$dev$$module$src$log$$().error($htmlElement$jscomp$2$$,"preconnect without ownerDocument")},1)};$BaseCustomElement$$.prototype.isAlwaysFixed=function(){return this.implementation_.isAlwaysFixed()};$BaseCustomElement$$.prototype.updateLayoutBox=function($win$jscomp$125$$,
$BaseCustomElement$$){var $htmlElement$jscomp$2$$=this;this.layoutWidth_=$win$jscomp$125$$.width;this.isUpgraded()&&(this.implementation_.layoutWidth_=this.layoutWidth_);if(this.isBuilt())try{if(this.implementation_.onLayoutMeasure(),$BaseCustomElement$$)this.implementation_.onMeasureChanged()}catch($e$jscomp$47$$){$reportError$$module$src$error$$($e$jscomp$47$$,this)}this.$isLoadingEnabled_$()&&(this.$isInViewport_$?this.toggleLoading(!0):1E3>$win$jscomp$125$$.top&&0<=$win$jscomp$125$$.top&&this.$mutateOrInvoke_$(function(){return $htmlElement$jscomp$2$$.$prepareLoading_$()}))};
$BaseCustomElement$$.prototype.$getSizer_$=function(){void 0===this.sizerElement&&"responsive"===this.layout_&&(this.sizerElement=this.querySelector("i-amphtml-sizer"));return this.sizerElement||null};$BaseCustomElement$$.prototype.applySizesAndMediaQuery=function(){void 0===this.$mediaQuery_$&&(this.$mediaQuery_$=this.getAttribute("media")||null);if(this.$mediaQuery_$){var $win$jscomp$125$$=this.ownerDocument.defaultView;this.classList.toggle("i-amphtml-hidden-by-media-query",!$win$jscomp$125$$.matchMedia(this.$mediaQuery_$).matches)}if(void 0===
this.$sizeList_$){var $BaseCustomElement$$=this.getAttribute("sizes");this.$sizeList_$=$BaseCustomElement$$?$parseSizeList$$module$src$size_list$$($BaseCustomElement$$):null}this.$sizeList_$&&$setStyle$$module$src$style$$(this,"width",this.$sizeList_$.select(this.ownerDocument.defaultView));void 0===this.$heightsList_$&&"responsive"===this.layout_&&(this.$heightsList_$=($BaseCustomElement$$=this.getAttribute("heights"))?$parseSizeList$$module$src$size_list$$($BaseCustomElement$$,!0):null);this.$heightsList_$&&
($BaseCustomElement$$=this.$getSizer_$())&&$setStyle$$module$src$style$$($BaseCustomElement$$,"paddingTop",this.$heightsList_$.select(this.ownerDocument.defaultView))};$BaseCustomElement$$.prototype.changeSize=function($win$jscomp$125$$,$BaseCustomElement$$,$htmlElement$jscomp$2$$){var $newHeight$jscomp$4$$=this.$getSizer_$();$newHeight$jscomp$4$$&&(this.sizerElement=null,$setStyle$$module$src$style$$($newHeight$jscomp$4$$,"paddingTop","0"),this.$mutateOrInvoke_$(function(){$removeElement$$module$src$dom$$($newHeight$jscomp$4$$)}));
void 0!==$win$jscomp$125$$&&$setStyle$$module$src$style$$(this,"height",$win$jscomp$125$$,"px");void 0!==$BaseCustomElement$$&&$setStyle$$module$src$style$$(this,"width",$BaseCustomElement$$,"px");$htmlElement$jscomp$2$$&&(null!=$htmlElement$jscomp$2$$.top&&$setStyle$$module$src$style$$(this,"marginTop",$htmlElement$jscomp$2$$.top,"px"),null!=$htmlElement$jscomp$2$$.right&&$setStyle$$module$src$style$$(this,"marginRight",$htmlElement$jscomp$2$$.right,"px"),null!=$htmlElement$jscomp$2$$.bottom&&$setStyle$$module$src$style$$(this,
"marginBottom",$htmlElement$jscomp$2$$.bottom,"px"),null!=$htmlElement$jscomp$2$$.left&&$setStyle$$module$src$style$$(this,"marginLeft",$htmlElement$jscomp$2$$.left,"px"));this.$isAwaitingSize_$()&&this.$sizeProvided_$();this.dispatchCustomEvent("amp:size-changed")};$BaseCustomElement$$.prototype.connectedCallback=function(){void 0===$templateTagSupported$$module$src$custom_element$$&&($templateTagSupported$$module$src$custom_element$$="content"in self.document.createElement("template"));$templateTagSupported$$module$src$custom_element$$||
void 0!==this.$isInTemplate_$||(this.$isInTemplate_$=!!$closestAncestorElementBySelector$$module$src$dom$$(this,"template"));if(!this.$isInTemplate_$&&!this.$isConnected_$&&$isConnectedNode$$module$src$dom$$(this)){this.$isConnected_$=!0;this.everAttached||(this.classList.add("i-amphtml-element"),this.classList.add("i-amphtml-notbuilt"),this.classList.add("amp-notbuilt"));if(!this.$ampdoc_$){var $win$jscomp$125$$=this.ownerDocument.defaultView,$BaseCustomElement$$=$Services$$module$src$services$ampdocServiceFor$$($win$jscomp$125$$).getAmpDoc(this);
this.$ampdoc_$=$BaseCustomElement$$;var $htmlElement$jscomp$2$$=this.tagName.toLowerCase();this.implementation_ instanceof $ElementStub$$module$src$element_stub$$&&!$BaseCustomElement$$.declaresExtension($htmlElement$jscomp$2$$)&&$Services$$module$src$services$extensionsFor$$($win$jscomp$125$$).installExtensionForDoc($BaseCustomElement$$,$htmlElement$jscomp$2$$)}this.$resources_$||(this.$resources_$=$Services$$module$src$services$resourcesForDoc$$(this.$ampdoc_$));$isExperimentOn$$module$src$experiments$$(this.$ampdoc_$.win,
"layers")&&(this.$layers_$||(this.$layers_$=$getServiceForDoc$$module$src$service$$(this.$ampdoc_$,"layers")),this.getLayers().add(this));this.getResources().add(this);if(this.everAttached){var $reconstruct$$=this.reconstructWhenReparented();$reconstruct$$&&this.$reset_$();this.isUpgraded()&&($reconstruct$$&&this.getResources().upgraded(this),this.$dispatchCustomEventForTesting$("amp:attached"))}else{this.everAttached=!0;try{var $JSCompiler_completedLayoutAttr$jscomp$inline_398$$=this.getAttribute("i-amphtml-layout");
if($JSCompiler_completedLayoutAttr$jscomp$inline_398$$){var $layout$22$jscomp$inline_399$$=$parseLayout$$module$src$layout$$($JSCompiler_completedLayoutAttr$jscomp$inline_398$$);"responsive"!=$layout$22$jscomp$inline_399$$&&"intrinsic"!=$layout$22$jscomp$inline_399$$||!this.firstElementChild?"nodisplay"==$layout$22$jscomp$inline_399$$&&($toggle$$module$src$style$$(this,!1),this.style.display=""):this.sizerElement=this.querySelector("i-amphtml-sizer")||void 0;var $JSCompiler_inline_result$jscomp$141$$=
$layout$22$jscomp$inline_399$$}else{var $JSCompiler_layoutAttr$jscomp$inline_400$$=this.getAttribute("layout"),$JSCompiler_widthAttr$jscomp$inline_401$$=this.getAttribute("width"),$JSCompiler_heightAttr$jscomp$inline_402$$=this.getAttribute("height"),$JSCompiler_sizesAttr$jscomp$inline_403$$=this.getAttribute("sizes"),$JSCompiler_heightsAttr$jscomp$inline_404$$=this.getAttribute("heights"),$JSCompiler_inputLayout$jscomp$inline_405$$=$JSCompiler_layoutAttr$jscomp$inline_400$$?$parseLayout$$module$src$layout$$($JSCompiler_layoutAttr$jscomp$inline_400$$):
null;$userAssert$$module$src$log$$(void 0!==$JSCompiler_inputLayout$jscomp$inline_405$$,"Unknown layout: %s",$JSCompiler_layoutAttr$jscomp$inline_400$$);var $JSCompiler_inputWidth$jscomp$inline_406$$=$JSCompiler_widthAttr$jscomp$inline_401$$&&"auto"!=$JSCompiler_widthAttr$jscomp$inline_401$$?$parseLength$$module$src$layout$$($JSCompiler_widthAttr$jscomp$inline_401$$):$JSCompiler_widthAttr$jscomp$inline_401$$;$userAssert$$module$src$log$$(void 0!==$JSCompiler_inputWidth$jscomp$inline_406$$,"Invalid width value: %s",
$JSCompiler_widthAttr$jscomp$inline_401$$);var $JSCompiler_inputHeight$jscomp$inline_407$$=$JSCompiler_heightAttr$jscomp$inline_402$$&&"fluid"!=$JSCompiler_heightAttr$jscomp$inline_402$$?$parseLength$$module$src$layout$$($JSCompiler_heightAttr$jscomp$inline_402$$):$JSCompiler_heightAttr$jscomp$inline_402$$;$userAssert$$module$src$log$$(void 0!==$JSCompiler_inputHeight$jscomp$inline_407$$,"Invalid height value: %s",$JSCompiler_heightAttr$jscomp$inline_402$$);var $JSCompiler_temp$jscomp$742$$;if(!($JSCompiler_temp$jscomp$742$$=
$JSCompiler_inputLayout$jscomp$inline_405$$&&"fixed"!=$JSCompiler_inputLayout$jscomp$inline_405$$&&"fixed-height"!=$JSCompiler_inputLayout$jscomp$inline_405$$||$JSCompiler_inputWidth$jscomp$inline_406$$&&$JSCompiler_inputHeight$jscomp$inline_407$$)){var $JSCompiler_tagName$jscomp$inline_781$$=this.tagName;$JSCompiler_tagName$jscomp$inline_781$$=$JSCompiler_tagName$jscomp$inline_781$$.toUpperCase();$JSCompiler_temp$jscomp$742$$=void 0===$naturalDimensions_$$module$src$layout$$[$JSCompiler_tagName$jscomp$inline_781$$]}if($JSCompiler_temp$jscomp$742$$){var $JSCompiler_width$jscomp$inline_408$$=
$JSCompiler_inputWidth$jscomp$inline_406$$;var $JSCompiler_height$jscomp$inline_409$$=$JSCompiler_inputHeight$jscomp$inline_407$$}else{var $JSCompiler_tagName$jscomp$inline_784$$=this.tagName.toUpperCase();if(!$naturalDimensions_$$module$src$layout$$[$JSCompiler_tagName$jscomp$inline_784$$]){var $JSCompiler_doc$jscomp$inline_785$$=this.ownerDocument,$JSCompiler_naturalTagName$jscomp$inline_786$$=$JSCompiler_tagName$jscomp$inline_784$$.replace(/^AMP\-/,""),$JSCompiler_temp$jscomp$inline_787$$=$JSCompiler_doc$jscomp$inline_785$$.createElement($JSCompiler_naturalTagName$jscomp$inline_786$$);
$JSCompiler_temp$jscomp$inline_787$$.controls=!0;$setStyles$$module$src$style$$($JSCompiler_temp$jscomp$inline_787$$,{position:"absolute",visibility:"hidden"});$JSCompiler_doc$jscomp$inline_785$$.body.appendChild($JSCompiler_temp$jscomp$inline_787$$);$naturalDimensions_$$module$src$layout$$[$JSCompiler_tagName$jscomp$inline_784$$]={width:($JSCompiler_temp$jscomp$inline_787$$.offsetWidth||1)+"px",height:($JSCompiler_temp$jscomp$inline_787$$.offsetHeight||1)+"px"};$JSCompiler_doc$jscomp$inline_785$$.body.removeChild($JSCompiler_temp$jscomp$inline_787$$)}var $JSCompiler_inline_result$jscomp$744$$=
$naturalDimensions_$$module$src$layout$$[$JSCompiler_tagName$jscomp$inline_784$$];$JSCompiler_width$jscomp$inline_408$$=$JSCompiler_inputWidth$jscomp$inline_406$$||"fixed-height"==$JSCompiler_inputLayout$jscomp$inline_405$$?$JSCompiler_inputWidth$jscomp$inline_406$$:$JSCompiler_inline_result$jscomp$744$$.width;$JSCompiler_height$jscomp$inline_409$$=$JSCompiler_inputHeight$jscomp$inline_407$$||$JSCompiler_inline_result$jscomp$744$$.height}var $JSCompiler_layout$jscomp$inline_410$$=$JSCompiler_inputLayout$jscomp$inline_405$$?
$JSCompiler_inputLayout$jscomp$inline_405$$:$JSCompiler_width$jscomp$inline_408$$||$JSCompiler_height$jscomp$inline_409$$?"fluid"==$JSCompiler_height$jscomp$inline_409$$?"fluid":!$JSCompiler_height$jscomp$inline_409$$||$JSCompiler_width$jscomp$inline_408$$&&"auto"!=$JSCompiler_width$jscomp$inline_408$$?$JSCompiler_height$jscomp$inline_409$$&&$JSCompiler_width$jscomp$inline_408$$&&($JSCompiler_sizesAttr$jscomp$inline_403$$||$JSCompiler_heightsAttr$jscomp$inline_404$$)?"responsive":"fixed":"fixed-height":
"container";"fixed"!=$JSCompiler_layout$jscomp$inline_410$$&&"fixed-height"!=$JSCompiler_layout$jscomp$inline_410$$&&"responsive"!=$JSCompiler_layout$jscomp$inline_410$$&&"intrinsic"!=$JSCompiler_layout$jscomp$inline_410$$||$userAssert$$module$src$log$$($JSCompiler_height$jscomp$inline_409$$,"Expected height to be available: %s",$JSCompiler_heightAttr$jscomp$inline_402$$);"fixed-height"==$JSCompiler_layout$jscomp$inline_410$$&&$userAssert$$module$src$log$$(!$JSCompiler_width$jscomp$inline_408$$||
"auto"==$JSCompiler_width$jscomp$inline_408$$,'Expected width to be either absent or equal "auto" for fixed-height layout: %s',$JSCompiler_widthAttr$jscomp$inline_401$$);"fixed"!=$JSCompiler_layout$jscomp$inline_410$$&&"responsive"!=$JSCompiler_layout$jscomp$inline_410$$&&"intrinsic"!=$JSCompiler_layout$jscomp$inline_410$$||$userAssert$$module$src$log$$($JSCompiler_width$jscomp$inline_408$$&&"auto"!=$JSCompiler_width$jscomp$inline_408$$,'Expected width to be available and not equal to "auto": %s',
$JSCompiler_widthAttr$jscomp$inline_401$$);"responsive"==$JSCompiler_layout$jscomp$inline_410$$||"intrinsic"==$JSCompiler_layout$jscomp$inline_410$$?$userAssert$$module$src$log$$($getLengthUnits$$module$src$layout$$($JSCompiler_width$jscomp$inline_408$$)==$getLengthUnits$$module$src$layout$$($JSCompiler_height$jscomp$inline_409$$),"Length units should be the same for width and height: %s, %s",$JSCompiler_widthAttr$jscomp$inline_401$$,$JSCompiler_heightAttr$jscomp$inline_402$$):$userAssert$$module$src$log$$(null===
$JSCompiler_heightsAttr$jscomp$inline_404$$,'Unexpected "heights" attribute for none-responsive layout');this.classList.add("i-amphtml-layout-"+$JSCompiler_layout$jscomp$inline_410$$);$isLayoutSizeDefined$$module$src$layout$$($JSCompiler_layout$jscomp$inline_410$$)&&this.classList.add("i-amphtml-layout-size-defined");if("nodisplay"==$JSCompiler_layout$jscomp$inline_410$$)$toggle$$module$src$style$$(this,!1),this.style.display="";else if("fixed"==$JSCompiler_layout$jscomp$inline_410$$)$setStyles$$module$src$style$$(this,
{width:$JSCompiler_width$jscomp$inline_408$$,height:$JSCompiler_height$jscomp$inline_409$$});else if("fixed-height"==$JSCompiler_layout$jscomp$inline_410$$)$setStyle$$module$src$style$$(this,"height",$JSCompiler_height$jscomp$inline_409$$);else if("responsive"==$JSCompiler_layout$jscomp$inline_410$$){var $JSCompiler_sizer$jscomp$inline_412$$=this.ownerDocument.createElement("i-amphtml-sizer");$setStyles$$module$src$style$$($JSCompiler_sizer$jscomp$inline_412$$,{paddingTop:$getLengthNumeral$$module$src$layout$$($JSCompiler_height$jscomp$inline_409$$)/
$getLengthNumeral$$module$src$layout$$($JSCompiler_width$jscomp$inline_408$$)*100+"%"});this.insertBefore($JSCompiler_sizer$jscomp$inline_412$$,this.firstChild);this.sizerElement=$JSCompiler_sizer$jscomp$inline_412$$}else if("intrinsic"==$JSCompiler_layout$jscomp$inline_410$$){var $sizer$23$jscomp$inline_413$$=$htmlFor$$module$src$static_template$$(this)($$jscomp$templatelit$0$$);$sizer$23$jscomp$inline_413$$.firstElementChild.setAttribute("src",'data:image/svg+xml;charset=utf-8,<svg height="'+$JSCompiler_height$jscomp$inline_409$$+
'" width="'+$JSCompiler_width$jscomp$inline_408$$+'" xmlns="http://www.w3.org/2000/svg" version="1.1"/>');this.insertBefore($sizer$23$jscomp$inline_413$$,this.firstChild);this.sizerElement=$sizer$23$jscomp$inline_413$$}else"fill"!=$JSCompiler_layout$jscomp$inline_410$$&&"container"!=$JSCompiler_layout$jscomp$inline_410$$&&("flex-item"==$JSCompiler_layout$jscomp$inline_410$$?($JSCompiler_width$jscomp$inline_408$$&&$setStyle$$module$src$style$$(this,"width",$JSCompiler_width$jscomp$inline_408$$),$JSCompiler_height$jscomp$inline_409$$&&
$setStyle$$module$src$style$$(this,"height",$JSCompiler_height$jscomp$inline_409$$)):"fluid"==$JSCompiler_layout$jscomp$inline_410$$&&(this.classList.add("i-amphtml-layout-awaiting-size"),$JSCompiler_width$jscomp$inline_408$$&&$setStyle$$module$src$style$$(this,"width",$JSCompiler_width$jscomp$inline_408$$),$setStyle$$module$src$style$$(this,"height",0)));this.setAttribute("i-amphtml-layout",$JSCompiler_layout$jscomp$inline_410$$);$JSCompiler_inline_result$jscomp$141$$=$JSCompiler_layout$jscomp$inline_410$$}this.layout_=
$JSCompiler_inline_result$jscomp$141$$}catch($e$jscomp$48$$){$reportError$$module$src$error$$($e$jscomp$48$$,this)}this.implementation_ instanceof $ElementStub$$module$src$element_stub$$||this.$tryUpgrade_$();this.isUpgraded()||(this.classList.add("amp-unresolved"),this.classList.add("i-amphtml-unresolved"),this.$dispatchCustomEventForTesting$("amp:stubbed"))}}};$BaseCustomElement$$.prototype.$isAwaitingSize_$=function(){return this.classList.contains("i-amphtml-layout-awaiting-size")};$BaseCustomElement$$.prototype.$sizeProvided_$=
function(){this.classList.remove("i-amphtml-layout-awaiting-size")};$BaseCustomElement$$.prototype.attachedCallback=function(){this.connectedCallback()};$BaseCustomElement$$.prototype.$tryUpgrade_$=function(){var $BaseCustomElement$$=this,$htmlElement$jscomp$2$$=this.implementation_;if(1==this.$upgradeState_$){this.$upgradeState_$=4;var $startTime$jscomp$7$$=$win$jscomp$125$$.Date.now(),$res$jscomp$4$$=$htmlElement$jscomp$2$$.upgradeCallback();$res$jscomp$4$$?"function"==typeof $res$jscomp$4$$.then?
$res$jscomp$4$$.then(function($win$jscomp$125$$){$BaseCustomElement$$.$completeUpgrade_$($win$jscomp$125$$||$htmlElement$jscomp$2$$,$startTime$jscomp$7$$)}).catch(function($win$jscomp$125$$){$BaseCustomElement$$.$upgradeState_$=3;$rethrowAsync$$module$src$log$$($win$jscomp$125$$)}):this.$completeUpgrade_$($res$jscomp$4$$,$startTime$jscomp$7$$):this.$completeUpgrade_$($htmlElement$jscomp$2$$,$startTime$jscomp$7$$)}};$BaseCustomElement$$.prototype.disconnectedCallback=function(){this.disconnect(!1)};
$BaseCustomElement$$.prototype.detachedCallback=function(){this.disconnectedCallback()};$BaseCustomElement$$.prototype.disconnect=function($win$jscomp$125$$){this.$isInTemplate_$||!this.$isConnected_$||!$win$jscomp$125$$&&$isConnectedNode$$module$src$dom$$(this)||($win$jscomp$125$$&&this.classList.remove("i-amphtml-element"),this.$isConnected_$=!1,this.getResources().remove(this),$isExperimentOn$$module$src$experiments$$(this.$ampdoc_$.win,"layers")&&this.getLayers().remove(this),this.implementation_.detachedCallback())};
$BaseCustomElement$$.prototype.dispatchCustomEvent=function($win$jscomp$125$$,$BaseCustomElement$$){$BaseCustomElement$$=$BaseCustomElement$$||{};var $htmlElement$jscomp$2$$=this.ownerDocument.createEvent("Event");$htmlElement$jscomp$2$$.data=$BaseCustomElement$$;$htmlElement$jscomp$2$$.initEvent($win$jscomp$125$$,!0,!0);this.dispatchEvent($htmlElement$jscomp$2$$)};$BaseCustomElement$$.prototype.$dispatchCustomEventForTesting$=function($win$jscomp$125$$,$BaseCustomElement$$){$getMode$$module$src$mode$$().test&&
this.dispatchCustomEvent($win$jscomp$125$$,$BaseCustomElement$$)};$BaseCustomElement$$.prototype.prerenderAllowed=function(){return this.implementation_.prerenderAllowed()};$BaseCustomElement$$.prototype.createPlaceholder=function(){return this.implementation_.createPlaceholderCallback()};$BaseCustomElement$$.prototype.renderOutsideViewport=function(){return this.implementation_.renderOutsideViewport()};$BaseCustomElement$$.prototype.idleRenderOutsideViewport=function(){return this.implementation_.idleRenderOutsideViewport()};
$BaseCustomElement$$.prototype.getLayoutBox=function(){return this.getResources().getResourceForElement(this).getLayoutBox()};$BaseCustomElement$$.prototype.getPageLayoutBox=function(){return this.getResources().getResourceForElement(this).getPageLayoutBox()};$BaseCustomElement$$.prototype.getOwner=function(){return this.getResources().getResourceForElement(this).getOwner()};$BaseCustomElement$$.prototype.getIntersectionChangeEntry=function(){var $win$jscomp$125$$=this.implementation_.getIntersectionElementLayoutBox(),
$BaseCustomElement$$=this.getResources().getResourceForElement(this).getOwner(),$htmlElement$jscomp$2$$=this.implementation_.getViewport().getRect(),$ownerBox$$=$BaseCustomElement$$&&$BaseCustomElement$$.getLayoutBox(),$JSCompiler_intersection$jscomp$inline_419_JSCompiler_intersection$jscomp$inline_796$$=$rectIntersection$$module$src$layout_rect$$($win$jscomp$125$$,$ownerBox$$,$htmlElement$jscomp$2$$)||$layoutRectLtwh$$module$src$layout_rect$$(0,0,0,0);$BaseCustomElement$$=$JSCompiler_intersection$jscomp$inline_419_JSCompiler_intersection$jscomp$inline_796$$.width*
$JSCompiler_intersection$jscomp$inline_419_JSCompiler_intersection$jscomp$inline_796$$.height;var $JSCompiler_largerBoxArea$jscomp$inline_792_JSCompiler_rootBounds$jscomp$inline_799$$=$win$jscomp$125$$.width*$win$jscomp$125$$.height;$BaseCustomElement$$=0===$JSCompiler_largerBoxArea$jscomp$inline_792_JSCompiler_rootBounds$jscomp$inline_799$$?0:$BaseCustomElement$$/$JSCompiler_largerBoxArea$jscomp$inline_792_JSCompiler_rootBounds$jscomp$inline_799$$;if($JSCompiler_largerBoxArea$jscomp$inline_792_JSCompiler_rootBounds$jscomp$inline_799$$=
$htmlElement$jscomp$2$$)$JSCompiler_intersection$jscomp$inline_419_JSCompiler_intersection$jscomp$inline_796$$=$moveLayoutRect$$module$src$layout_rect$$($JSCompiler_intersection$jscomp$inline_419_JSCompiler_intersection$jscomp$inline_796$$,-$htmlElement$jscomp$2$$.left,-$htmlElement$jscomp$2$$.top),$win$jscomp$125$$=$moveLayoutRect$$module$src$layout_rect$$($win$jscomp$125$$,-$htmlElement$jscomp$2$$.left,-$htmlElement$jscomp$2$$.top),$JSCompiler_largerBoxArea$jscomp$inline_792_JSCompiler_rootBounds$jscomp$inline_799$$=
$moveLayoutRect$$module$src$layout_rect$$($JSCompiler_largerBoxArea$jscomp$inline_792_JSCompiler_rootBounds$jscomp$inline_799$$,-$htmlElement$jscomp$2$$.left,-$htmlElement$jscomp$2$$.top);return{time:"undefined"!==typeof performance&&performance.now?performance.now():Date.now()-$INIT_TIME$$module$src$intersection_observer_polyfill$$,rootBounds:$JSCompiler_largerBoxArea$jscomp$inline_792_JSCompiler_rootBounds$jscomp$inline_799$$,boundingClientRect:$win$jscomp$125$$,intersectionRect:$JSCompiler_intersection$jscomp$inline_419_JSCompiler_intersection$jscomp$inline_796$$,
intersectionRatio:$BaseCustomElement$$}};$BaseCustomElement$$.prototype.getResourceId=function(){return this.getResources().getResourceForElement(this).getId()};$BaseCustomElement$$.prototype.$getResourceState_$=function(){return this.getResources().getResourceForElement(this).getState()};$BaseCustomElement$$.prototype.isRelayoutNeeded=function(){return this.implementation_.isRelayoutNeeded()};$BaseCustomElement$$.prototype.getImpl=function(){var $win$jscomp$125$$=this;return this.whenBuilt().then(function(){return $win$jscomp$125$$.implementation_})};
$BaseCustomElement$$.prototype.getLayout=function(){return this.layout_};$BaseCustomElement$$.prototype.layoutCallback=function(){var $win$jscomp$125$$=this;this.isBuilt();this.$dispatchCustomEventForTesting$("amp:load:start");var $BaseCustomElement$$=0==this.$layoutCount_$;this.$signals_$.reset("unload");$BaseCustomElement$$&&this.$signals_$.signal("load-start");this.$perfOn_$&&this.$getLayoutDelayMeter_$().startLayout();var $htmlElement$jscomp$2$$=$tryResolve$$module$src$utils$promise$$(function(){return $win$jscomp$125$$.implementation_.layoutCallback()});
this.preconnect(!0);this.classList.add("i-amphtml-layout");return $htmlElement$jscomp$2$$.then(function(){$BaseCustomElement$$&&$win$jscomp$125$$.$signals_$.signal("load-end");$win$jscomp$125$$.readyState="complete";$win$jscomp$125$$.$layoutCount_$++;$win$jscomp$125$$.toggleLoading(!1,{cleanup:!0});$win$jscomp$125$$.$isFirstLayoutCompleted_$||($win$jscomp$125$$.implementation_.firstLayoutCompleted(),$win$jscomp$125$$.$isFirstLayoutCompleted_$=!0,$win$jscomp$125$$.$dispatchCustomEventForTesting$("amp:load:end"))},
function($htmlElement$jscomp$2$$){$BaseCustomElement$$&&$win$jscomp$125$$.$signals_$.rejectSignal("load-end",$htmlElement$jscomp$2$$);$win$jscomp$125$$.$layoutCount_$++;$win$jscomp$125$$.toggleLoading(!1,{cleanup:!0});throw $htmlElement$jscomp$2$$;})};$BaseCustomElement$$.prototype.isInViewport=function(){return this.$isInViewport_$};$BaseCustomElement$$.prototype.viewportCallback=function($win$jscomp$125$$){var $BaseCustomElement$$=this;$win$jscomp$125$$!=this.$isInViewport_$&&this.ownerDocument&&
this.ownerDocument.defaultView&&(this.$isInViewport_$=$win$jscomp$125$$,0==this.$layoutCount_$&&($win$jscomp$125$$?$Services$$module$src$services$timerFor$$(this.ownerDocument.defaultView).delay(function(){$BaseCustomElement$$.$isInViewport_$&&$BaseCustomElement$$.ownerDocument&&$BaseCustomElement$$.ownerDocument.defaultView&&$BaseCustomElement$$.toggleLoading(!0)},100):this.toggleLoading(!1)),this.isBuilt()&&this.$updateInViewport_$($win$jscomp$125$$))};$BaseCustomElement$$.prototype.$updateInViewport_$=
function($win$jscomp$125$$){this.implementation_.inViewport_=$win$jscomp$125$$;this.implementation_.viewportCallback($win$jscomp$125$$);$win$jscomp$125$$&&this.$perfOn_$&&this.$getLayoutDelayMeter_$().enterViewport()};$BaseCustomElement$$.prototype.isPaused=function(){return this.$paused_$};$BaseCustomElement$$.prototype.pauseCallback=function(){this.$paused_$||(this.$paused_$=!0,this.viewportCallback(!1),this.isBuilt()&&this.implementation_.pauseCallback())};$BaseCustomElement$$.prototype.resumeCallback=
function(){this.$paused_$&&(this.$paused_$=!1,this.isBuilt()&&this.implementation_.resumeCallback())};$BaseCustomElement$$.prototype.unlayoutCallback=function(){if(!this.isBuilt())return!1;this.$signals_$.signal("unload");var $win$jscomp$125$$=this.implementation_.unlayoutCallback();$win$jscomp$125$$&&this.$reset_$();return $win$jscomp$125$$};$BaseCustomElement$$.prototype.$reset_$=function(){this.$layoutCount_$=0;this.$isFirstLayoutCompleted_$=!1;this.$signals_$.reset("render-start");this.$signals_$.reset("load-start");
this.$signals_$.reset("load-end");this.$signals_$.reset("ini-load")};$BaseCustomElement$$.prototype.unlayoutOnPause=function(){return this.implementation_.unlayoutOnPause()};$BaseCustomElement$$.prototype.reconstructWhenReparented=function(){return this.implementation_.reconstructWhenReparented()};$BaseCustomElement$$.prototype.collapse=function(){this.implementation_.collapse()};$BaseCustomElement$$.prototype.collapsedCallback=function($win$jscomp$125$$){this.implementation_.collapsedCallback($win$jscomp$125$$)};
$BaseCustomElement$$.prototype.expand=function(){this.implementation_.expand()};$BaseCustomElement$$.prototype.expandedCallback=function($win$jscomp$125$$){this.implementation_.expandedCallback($win$jscomp$125$$)};$BaseCustomElement$$.prototype.mutatedAttributesCallback=function($win$jscomp$125$$){this.implementation_.mutatedAttributesCallback($win$jscomp$125$$)};$BaseCustomElement$$.prototype.enqueAction=function($win$jscomp$125$$){this.isBuilt()?this.$executionAction_$($win$jscomp$125$$,!1):(void 0===
this.$actionQueue_$&&(this.$actionQueue_$=[]),this.$actionQueue_$.push($win$jscomp$125$$))};$BaseCustomElement$$.prototype.$dequeueActions_$=function(){var $win$jscomp$125$$=this;if(this.$actionQueue_$){var $BaseCustomElement$$=this.$actionQueue_$;this.$actionQueue_$=null;$BaseCustomElement$$.forEach(function($BaseCustomElement$$){$win$jscomp$125$$.$executionAction_$($BaseCustomElement$$,!0)})}};$BaseCustomElement$$.prototype.$executionAction_$=function($win$jscomp$125$$,$BaseCustomElement$$){try{this.implementation_.executeAction($win$jscomp$125$$,
$BaseCustomElement$$)}catch($e$jscomp$49$$){$rethrowAsync$$module$src$log$$("Action execution failed:",$e$jscomp$49$$,$win$jscomp$125$$.node.tagName,$win$jscomp$125$$.method)}};$BaseCustomElement$$.prototype.$getConsentPolicy_$=function(){var $win$jscomp$125$$=this.getAttribute("data-block-on-consent");if(null===$win$jscomp$125$$)if($win$jscomp$125$$=this.getAmpDoc(),($win$jscomp$125$$=$Services$$module$src$services$documentInfoForDoc$$($win$jscomp$125$$).metaTags["amp-consent-blocking"])?"string"!==
typeof $win$jscomp$125$$?($user$$module$src$log$$().error("CONSENT","Invalid amp-consent-blocking value, ignore meta tag"),$win$jscomp$125$$=!1):($win$jscomp$125$$=$win$jscomp$125$$.toUpperCase().replace(/\s/g,"").split(","),$win$jscomp$125$$=$win$jscomp$125$$.includes(this.tagName)?!0:!1):$win$jscomp$125$$=!1,$win$jscomp$125$$)$win$jscomp$125$$="default",this.setAttribute("data-block-on-consent",$win$jscomp$125$$);else return null;return""==$win$jscomp$125$$||"default"==$win$jscomp$125$$?this.implementation_.getConsentPolicy():
$win$jscomp$125$$};$BaseCustomElement$$.prototype.getRealChildNodes=function(){return $childNodes$$module$src$dom$$(this,function($win$jscomp$125$$){return!$isInternalOrServiceNode$$module$src$custom_element$$($win$jscomp$125$$)})};$BaseCustomElement$$.prototype.getRealChildren=function(){return $childElements$$module$src$dom$$(this,function($win$jscomp$125$$){return!$isInternalOrServiceNode$$module$src$custom_element$$($win$jscomp$125$$)})};$BaseCustomElement$$.prototype.getPlaceholder=function(){return $lastChildElement$$module$src$dom$$(this,
function($win$jscomp$125$$){return $win$jscomp$125$$.hasAttribute("placeholder")&&!("placeholder"in $win$jscomp$125$$)})};$BaseCustomElement$$.prototype.togglePlaceholder=function($win$jscomp$125$$){if($win$jscomp$125$$){var $BaseCustomElement$$=this.getPlaceholder();$BaseCustomElement$$&&$BaseCustomElement$$.classList.remove("amp-hidden")}else{/^[\w-]+$/.test("placeholder");var $htmlElement$jscomp$2$$=$scopedQuerySelectorAll$$module$src$dom$$(this,"> [placeholder]");for($BaseCustomElement$$=0;$BaseCustomElement$$<
$htmlElement$jscomp$2$$.length;$BaseCustomElement$$++)"placeholder"in $htmlElement$jscomp$2$$[$BaseCustomElement$$]||$htmlElement$jscomp$2$$[$BaseCustomElement$$].classList.add("amp-hidden")}};$BaseCustomElement$$.prototype.getFallback=function(){return $childElementByAttr$$module$src$dom$$(this,"fallback")};$BaseCustomElement$$.prototype.toggleFallback=function($win$jscomp$125$$){var $BaseCustomElement$$=this.$getResourceState_$();if(!$win$jscomp$125$$||0!=$BaseCustomElement$$&&1!=$BaseCustomElement$$&&
2!=$BaseCustomElement$$)if(this.classList.toggle("amp-notsupported",$win$jscomp$125$$),1==$win$jscomp$125$$){var $htmlElement$jscomp$2$$=this.getFallback();$htmlElement$jscomp$2$$&&this.getResources().scheduleLayout(this,$htmlElement$jscomp$2$$)}};$BaseCustomElement$$.prototype.renderStarted=function(){this.$signals_$.signal("render-start");this.togglePlaceholder(!1);this.toggleLoading(!1)};$BaseCustomElement$$.prototype.$isLoadingEnabled_$=function(){if(this.$isInA4A_$())return!1;void 0===this.$loadingDisabled_$&&
(this.$loadingDisabled_$=this.hasAttribute("noloading"));var $win$jscomp$125$$;($win$jscomp$125$$=this.$loadingDisabled_$)||($win$jscomp$125$$=this.tagName.toUpperCase(),$win$jscomp$125$$=!($LOADING_ELEMENTS_$$module$src$layout$$[$win$jscomp$125$$]||$videoPlayerTagNameRe$$module$src$layout$$.test($win$jscomp$125$$)));return $win$jscomp$125$$||100>this.layoutWidth_||0<this.$layoutCount_$||$isInternalOrServiceNode$$module$src$custom_element$$(this)||!$isLayoutSizeDefined$$module$src$layout$$(this.layout_)?
!1:!0};$BaseCustomElement$$.prototype.$isInA4A_$=function(){return this.$ampdoc_$&&this.$ampdoc_$.win!=this.ownerDocument.defaultView||"inabox"==$getMode$$module$src$mode$$().runtime};$BaseCustomElement$$.prototype.$prepareLoading_$=function(){if(this.$isLoadingEnabled_$()&&!this.$loadingContainer_$){var $win$jscomp$125$$=this.ownerDocument,$BaseCustomElement$$=$htmlFor$$module$src$static_template$$($win$jscomp$125$$)($$jscomp$templatelit$4$$),$htmlElement$jscomp$2$$=this.elementName();$win$jscomp$125$$=
$LINE_LOADER_ELEMENTS$$module$src$loader$$[$htmlElement$jscomp$2$$.toUpperCase()]?$htmlFor$$module$src$static_template$$($win$jscomp$125$$)($$jscomp$templatelit$2$$):$htmlFor$$module$src$static_template$$($win$jscomp$125$$)($$jscomp$templatelit$3$$);$BaseCustomElement$$.appendChild($win$jscomp$125$$);this.appendChild($BaseCustomElement$$);this.$loadingContainer_$=$BaseCustomElement$$;this.$loadingElement_$=$win$jscomp$125$$}};$BaseCustomElement$$.prototype.toggleLoading=function($win$jscomp$125$$,
$BaseCustomElement$$){var $htmlElement$jscomp$2$$=this,$state$jscomp$7$$=$BaseCustomElement$$&&$BaseCustomElement$$.cleanup,$opt_options$jscomp$88$$=$BaseCustomElement$$&&$BaseCustomElement$$.force;if(!$win$jscomp$125$$||this.implementation_.isLoadingReused()||!(0<this.$layoutCount_$||this.$signals_$.get("render-start")))if((this.$loadingState_$=$win$jscomp$125$$)||this.$loadingContainer_$)!$win$jscomp$125$$||$opt_options$jscomp$88$$||this.$isLoadingEnabled_$()?this.$mutateOrInvoke_$(function(){var $win$jscomp$125$$=
$htmlElement$jscomp$2$$.$loadingState_$;!$win$jscomp$125$$||$opt_options$jscomp$88$$||$htmlElement$jscomp$2$$.$isLoadingEnabled_$()||($win$jscomp$125$$=!1);$win$jscomp$125$$&&$htmlElement$jscomp$2$$.$prepareLoading_$();if($htmlElement$jscomp$2$$.$loadingContainer_$&&($htmlElement$jscomp$2$$.$loadingContainer_$.classList.toggle("amp-hidden",!$win$jscomp$125$$),$htmlElement$jscomp$2$$.$loadingElement_$.classList.toggle("amp-active",$win$jscomp$125$$),!$win$jscomp$125$$&&$state$jscomp$7$$&&!$htmlElement$jscomp$2$$.implementation_.isLoadingReused())){var $BaseCustomElement$$=
$htmlElement$jscomp$2$$.$loadingContainer_$;$htmlElement$jscomp$2$$.$loadingContainer_$=null;$htmlElement$jscomp$2$$.$loadingElement_$=null;$htmlElement$jscomp$2$$.$mutateOrInvoke_$(function(){$removeElement$$module$src$dom$$($BaseCustomElement$$)})}}):this.$loadingState_$=!1};$BaseCustomElement$$.prototype.$getLayoutDelayMeter_$=function(){this.$layoutDelayMeter_$||(this.$layoutDelayMeter_$=new $LayoutDelayMeter$$module$src$layout_delay_meter$$(this.ownerDocument.defaultView,this.getLayoutPriority()));
return this.$layoutDelayMeter_$};$BaseCustomElement$$.prototype.getOverflowElement=function(){void 0===this.$overflowElement_$&&(this.$overflowElement_$=$childElementByAttr$$module$src$dom$$(this,"overflow"))&&(this.$overflowElement_$.hasAttribute("tabindex")||this.$overflowElement_$.setAttribute("tabindex","0"),this.$overflowElement_$.hasAttribute("role")||this.$overflowElement_$.setAttribute("role","button"));return this.$overflowElement_$};$BaseCustomElement$$.prototype.overflowCallback=function($win$jscomp$125$$,
$BaseCustomElement$$,$htmlElement$jscomp$2$$){var $overflown$jscomp$1$$=this;this.getOverflowElement();this.$overflowElement_$?(this.$overflowElement_$.classList.toggle("amp-visible",$win$jscomp$125$$),this.$overflowElement_$.onclick=$win$jscomp$125$$?function(){var $win$jscomp$125$$=$overflown$jscomp$1$$.getResources();$win$jscomp$125$$.changeSize($overflown$jscomp$1$$,$BaseCustomElement$$,$htmlElement$jscomp$2$$);$win$jscomp$125$$.mutateElement($overflown$jscomp$1$$,function(){$overflown$jscomp$1$$.overflowCallback(!1,
$BaseCustomElement$$,$htmlElement$jscomp$2$$)})}:null):$win$jscomp$125$$&&this.warnOnMissingOverflow&&$user$$module$src$log$$().warn("CustomElement","Cannot resize element and overflow is not available",this)};$BaseCustomElement$$.prototype.$mutateOrInvoke_$=function($win$jscomp$125$$){this.$resources_$?this.getResources().mutateElement(this,$win$jscomp$125$$):$win$jscomp$125$$()};$win$jscomp$125$$.BaseCustomElementClass=$BaseCustomElement$$;return $win$jscomp$125$$.BaseCustomElementClass}
function $isInternalOrServiceNode$$module$src$custom_element$$($node$jscomp$38$$){var $JSCompiler_tagName$jscomp$inline_436$$="string"==typeof $node$jscomp$38$$?$node$jscomp$38$$:$node$jscomp$38$$.tagName;return $JSCompiler_tagName$jscomp$inline_436$$&&$startsWith$$module$src$string$$($JSCompiler_tagName$jscomp$inline_436$$.toLowerCase(),"i-")||$node$jscomp$38$$.tagName&&($node$jscomp$38$$.hasAttribute("placeholder")||$node$jscomp$38$$.hasAttribute("fallback")||$node$jscomp$38$$.hasAttribute("overflow"))?
!0:!1};function $getExtendedElements$$module$src$service$custom_element_registry$$($win$jscomp$127$$){$win$jscomp$127$$.ampExtendedElements||($win$jscomp$127$$.ampExtendedElements={});return $win$jscomp$127$$.ampExtendedElements}
function $upgradeOrRegisterElement$$module$src$service$custom_element_registry$$($win$jscomp$128$$,$name$jscomp$129$$,$toClass$$){var $knownElements$$=$getExtendedElements$$module$src$service$custom_element_registry$$($win$jscomp$128$$);if(!$knownElements$$[$name$jscomp$129$$])$registerElement$$module$src$service$custom_element_registry$$($win$jscomp$128$$,$name$jscomp$129$$,$toClass$$);else if($knownElements$$[$name$jscomp$129$$]!=$toClass$$){$userAssert$$module$src$log$$($knownElements$$[$name$jscomp$129$$]==
$ElementStub$$module$src$element_stub$$,"%s is already registered. The script tag for %s is likely included twice in the page.",$name$jscomp$129$$,$name$jscomp$129$$);$knownElements$$[$name$jscomp$129$$]=$toClass$$;for(var $i$jscomp$79$$=0;$i$jscomp$79$$<$stubbedElements$$module$src$element_stub$$.length;$i$jscomp$79$$++){var $stub$$=$stubbedElements$$module$src$element_stub$$[$i$jscomp$79$$],$element$jscomp$126$$=$stub$$.element;if($element$jscomp$126$$.tagName.toLowerCase()==$name$jscomp$129$$&&
$element$jscomp$126$$.ownerDocument.defaultView==$win$jscomp$128$$){try{$element$jscomp$126$$.upgrade($toClass$$)}catch($JSCompiler_e$jscomp$inline_440$$){$reportError$$module$src$error$$($JSCompiler_e$jscomp$inline_440$$,$element$jscomp$126$$)}$stubbedElements$$module$src$element_stub$$.splice($i$jscomp$79$$--,1)}}}}
function $stubElementsForDoc$$module$src$service$custom_element_registry$$(){var $ampdoc$jscomp$17$$=ampdocShell;$extensionScriptsInNode$$module$src$element_service$$($ampdoc$jscomp$17$$.getHeadNode()).forEach(function($name$jscomp$130$$){$ampdoc$jscomp$17$$.declareExtension($name$jscomp$130$$);$stubElementIfNotKnown$$module$src$service$custom_element_registry$$($ampdoc$jscomp$17$$.win,$name$jscomp$130$$)})}
function $stubElementIfNotKnown$$module$src$service$custom_element_registry$$($win$jscomp$129$$,$name$jscomp$131$$){$getExtendedElements$$module$src$service$custom_element_registry$$($win$jscomp$129$$)[$name$jscomp$131$$]||$registerElement$$module$src$service$custom_element_registry$$($win$jscomp$129$$,$name$jscomp$131$$,$ElementStub$$module$src$element_stub$$)}
function $registerElement$$module$src$service$custom_element_registry$$($win$jscomp$130$$,$name$jscomp$133$$,$implementationClass$$){$getExtendedElements$$module$src$service$custom_element_registry$$($win$jscomp$130$$)[$name$jscomp$133$$]=$implementationClass$$;var $klass$jscomp$1$$=$createCustomElementClass$$module$src$custom_element$$($win$jscomp$130$$,$name$jscomp$133$$),$supportsCustomElementsV1$$="customElements"in $win$jscomp$130$$;$supportsCustomElementsV1$$?$win$jscomp$130$$.customElements.define($name$jscomp$133$$,
$klass$jscomp$1$$):$win$jscomp$130$$.document.registerElement($name$jscomp$133$$,{prototype:$klass$jscomp$1$$.prototype})};function $guaranteeSrcForSrcsetUnsupportedBrowsers$$module$src$utils$img$$($img$jscomp$2$$){if(!$img$jscomp$2$$.hasAttribute("src")&&0=="srcset"in $img$jscomp$2$$){var $srcset$$=$img$jscomp$2$$.getAttribute("srcset"),$matches$jscomp$2$$=/\S+/.exec($srcset$$);if(null!=$matches$jscomp$2$$){var $srcseturl$$=$matches$jscomp$2$$[0];$img$jscomp$2$$.setAttribute("src",$srcseturl$$)}}};var $ATTRIBUTES_TO_PROPAGATE$$module$builtins$amp_img$$="alt title referrerpolicy aria-label aria-describedby aria-labelledby srcset src sizes".split(" ");
function $AmpImg$$module$builtins$amp_img$$($element$jscomp$128$$){$BaseElement$$module$src$base_element$$.call(this,$element$jscomp$128$$);this.$prerenderAllowed_$=this.$allowImgLoadFallback_$=!0;this.$unlistenError_$=this.$unlistenLoad_$=this.$img_$=null;this.$autoGenerateSizes_$=$isExperimentOn$$module$src$experiments$$(this.win,"amp-img-auto-sizes");this.$sizesWidth_$=0}$$jscomp$inherits$$($AmpImg$$module$builtins$amp_img$$,$BaseElement$$module$src$base_element$$);
$JSCompiler_prototypeAlias$$=$AmpImg$$module$builtins$amp_img$$.prototype;$JSCompiler_prototypeAlias$$.mutatedAttributesCallback=function($mutations$jscomp$1$$){if(this.$img_$){var $attrs$$=$ATTRIBUTES_TO_PROPAGATE$$module$builtins$amp_img$$.filter(function($attrs$$){return void 0!==$mutations$jscomp$1$$[$attrs$$]});this.propagateAttributes($attrs$$,this.$img_$,!0);$guaranteeSrcForSrcsetUnsupportedBrowsers$$module$src$utils$img$$(this.$img_$)}};
$JSCompiler_prototypeAlias$$.onMeasureChanged=function(){this.$autoGenerateSizes_$&&$JSCompiler_StaticMethods_maybeGenerateSizes_$$(this)};
$JSCompiler_prototypeAlias$$.preconnectCallback=function($onLayout$jscomp$1$$){var $src$jscomp$4_srcset$jscomp$1_srcseturl$jscomp$1$$=this.element.getAttribute("src");$src$jscomp$4_srcset$jscomp$1_srcseturl$jscomp$1$$?this.preconnect.url($src$jscomp$4_srcset$jscomp$1_srcseturl$jscomp$1$$,$onLayout$jscomp$1$$):($src$jscomp$4_srcset$jscomp$1_srcseturl$jscomp$1$$=this.element.getAttribute("srcset"))&&($src$jscomp$4_srcset$jscomp$1_srcseturl$jscomp$1$$=/\S+/.exec($src$jscomp$4_srcset$jscomp$1_srcseturl$jscomp$1$$))&&
this.preconnect.url($src$jscomp$4_srcset$jscomp$1_srcseturl$jscomp$1$$[0],$onLayout$jscomp$1$$)};$JSCompiler_prototypeAlias$$.firstAttachedCallback=function(){this.element.hasAttribute("noprerender")&&(this.$prerenderAllowed_$=!1)};$JSCompiler_prototypeAlias$$.isLayoutSupported=function($layout$jscomp$5$$){return $isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$5$$)};
$JSCompiler_prototypeAlias$$.$initialize_$=function(){if(!this.$img_$){this.$allowImgLoadFallback_$=!this.element.hasAttribute("fallback");this.element.hasAttribute("i-amphtml-ssr")&&(this.$img_$=this.element.querySelector("img"));this.$img_$=this.$img_$||new Image;this.$img_$.setAttribute("decoding","async");this.element.id&&this.$img_$.setAttribute("amp-img-id",this.element.id);"img"==this.element.getAttribute("role")&&(this.element.removeAttribute("role"),this.user().error("AMP-IMG","Setting role=img on amp-img elements breaks screen readers please just set alt or ARIA attributes, they will be correctly propagated for the underlying <img> element."));
this.propagateAttributes($ATTRIBUTES_TO_PROPAGATE$$module$builtins$amp_img$$,this.$img_$);$guaranteeSrcForSrcsetUnsupportedBrowsers$$module$src$utils$img$$(this.$img_$);this.$autoGenerateSizes_$&&$JSCompiler_StaticMethods_maybeGenerateSizes_$$(this);this.applyFillContent(this.$img_$,!0);var $JSCompiler_fromEl$jscomp$inline_442$$=this.element,$JSCompiler_toEl$jscomp$inline_443$$=this.$img_$;$JSCompiler_fromEl$jscomp$inline_442$$.hasAttribute("object-fit")&&$setStyle$$module$src$style$$($JSCompiler_toEl$jscomp$inline_443$$,
"object-fit",$JSCompiler_fromEl$jscomp$inline_442$$.getAttribute("object-fit"));$JSCompiler_fromEl$jscomp$inline_442$$.hasAttribute("object-position")&&$setStyle$$module$src$style$$($JSCompiler_toEl$jscomp$inline_443$$,"object-position",$JSCompiler_fromEl$jscomp$inline_442$$.getAttribute("object-position"));this.element.appendChild(this.$img_$)}};
function $JSCompiler_StaticMethods_maybeGenerateSizes_$$($JSCompiler_StaticMethods_maybeGenerateSizes_$self$$){if($JSCompiler_StaticMethods_maybeGenerateSizes_$self$$.$img_$&&!$JSCompiler_StaticMethods_maybeGenerateSizes_$self$$.element.getAttribute("sizes")){var $srcset$jscomp$2_width$jscomp$30$$=$JSCompiler_StaticMethods_maybeGenerateSizes_$self$$.element.getAttribute("srcset");if($srcset$jscomp$2_width$jscomp$30$$&&!/[0-9]+x(?:,|$)/.test($srcset$jscomp$2_width$jscomp$30$$)&&($srcset$jscomp$2_width$jscomp$30$$=
$JSCompiler_StaticMethods_maybeGenerateSizes_$self$$.getLayoutWidth(),$JSCompiler_StaticMethods_maybeGenerateSizes_$self$$.$img_$.hasAttribute("sizes")?$srcset$jscomp$2_width$jscomp$30$$>$JSCompiler_StaticMethods_maybeGenerateSizes_$self$$.$sizesWidth_$:1)){var $viewportWidth$$=$JSCompiler_StaticMethods_maybeGenerateSizes_$self$$.getViewport().getWidth(),$entry$jscomp$3$$="(max-width: "+$viewportWidth$$+"px) "+$srcset$jscomp$2_width$jscomp$30$$+"px, ",$defaultSize$$=$srcset$jscomp$2_width$jscomp$30$$+
"px";"fixed"!==$JSCompiler_StaticMethods_maybeGenerateSizes_$self$$.getLayout()&&($defaultSize$$=Math.max(Math.round(100*$srcset$jscomp$2_width$jscomp$30$$/$viewportWidth$$),100)+"vw");var $generatedSizes$$=$entry$jscomp$3$$+$defaultSize$$;$JSCompiler_StaticMethods_maybeGenerateSizes_$self$$.mutateElement(function(){$JSCompiler_StaticMethods_maybeGenerateSizes_$self$$.$img_$.setAttribute("sizes",$generatedSizes$$)});$JSCompiler_StaticMethods_maybeGenerateSizes_$self$$.$sizesWidth_$=$srcset$jscomp$2_width$jscomp$30$$}}}
$JSCompiler_prototypeAlias$$.prerenderAllowed=function(){return this.$prerenderAllowed_$};$JSCompiler_prototypeAlias$$.reconstructWhenReparented=function(){return!1};
$JSCompiler_prototypeAlias$$.layoutCallback=function(){var $$jscomp$this$jscomp$39$$=this;this.$initialize_$();var $img$jscomp$3$$=this.$img_$;this.$unlistenLoad_$=$listen$$module$src$event_helper$$($img$jscomp$3$$,"load",function(){return $JSCompiler_StaticMethods_hideFallbackImg_$$($$jscomp$this$jscomp$39$$)});this.$unlistenError_$=$listen$$module$src$event_helper$$($img$jscomp$3$$,"error",function(){return $JSCompiler_StaticMethods_onImgLoadingError_$$($$jscomp$this$jscomp$39$$)});return 0>=this.getLayoutWidth()?
Promise.resolve():this.loadPromise($img$jscomp$3$$)};$JSCompiler_prototypeAlias$$.unlayoutCallback=function(){this.$unlistenError_$&&(this.$unlistenError_$(),this.$unlistenError_$=null);this.$unlistenLoad_$&&(this.$unlistenLoad_$(),this.$unlistenLoad_$=null);return!0};
$JSCompiler_prototypeAlias$$.firstLayoutCompleted=function(){var $placeholder$jscomp$2$$=this.getPlaceholder();$placeholder$jscomp$2$$&&$placeholder$jscomp$2$$.classList.contains("i-amphtml-blurry-placeholder")&&$isExperimentOn$$module$src$experiments$$(this.win,"blurry-placeholder")?$setImportantStyles$$module$src$style$$($placeholder$jscomp$2$$,{opacity:0}):this.togglePlaceholder(!1)};
function $JSCompiler_StaticMethods_hideFallbackImg_$$($JSCompiler_StaticMethods_hideFallbackImg_$self$$){!$JSCompiler_StaticMethods_hideFallbackImg_$self$$.$allowImgLoadFallback_$&&$JSCompiler_StaticMethods_hideFallbackImg_$self$$.$img_$.classList.contains("i-amphtml-ghost")&&$JSCompiler_StaticMethods_hideFallbackImg_$self$$.getVsync().mutate(function(){$JSCompiler_StaticMethods_hideFallbackImg_$self$$.$img_$.classList.remove("i-amphtml-ghost");$JSCompiler_StaticMethods_hideFallbackImg_$self$$.toggleFallback(!1)})}
function $JSCompiler_StaticMethods_onImgLoadingError_$$($JSCompiler_StaticMethods_onImgLoadingError_$self$$){$JSCompiler_StaticMethods_onImgLoadingError_$self$$.$allowImgLoadFallback_$&&($JSCompiler_StaticMethods_onImgLoadingError_$self$$.getVsync().mutate(function(){$JSCompiler_StaticMethods_onImgLoadingError_$self$$.$img_$.classList.add("i-amphtml-ghost");$JSCompiler_StaticMethods_onImgLoadingError_$self$$.toggleFallback(!0);$JSCompiler_StaticMethods_onImgLoadingError_$self$$.togglePlaceholder(!1)}),
$JSCompiler_StaticMethods_onImgLoadingError_$self$$.$allowImgLoadFallback_$=!1)};function $AmpLayout$$module$builtins$amp_layout$$($var_args$jscomp$57$$){$BaseElement$$module$src$base_element$$.apply(this,arguments)}$$jscomp$inherits$$($AmpLayout$$module$builtins$amp_layout$$,$BaseElement$$module$src$base_element$$);$AmpLayout$$module$builtins$amp_layout$$.prototype.isLayoutSupported=function($layout$jscomp$6$$){return"container"==$layout$jscomp$6$$||$isLayoutSizeDefined$$module$src$layout$$($layout$jscomp$6$$)};
$AmpLayout$$module$builtins$amp_layout$$.prototype.buildCallback=function(){if("container"!=this.getLayout()){var $container$jscomp$5$$=this.win.document.createElement("div");this.applyFillContent($container$jscomp$5$$);this.getRealChildNodes().forEach(function($child$jscomp$7$$){$container$jscomp$5$$.appendChild($child$jscomp$7$$)});this.element.appendChild($container$jscomp$5$$)}};$AmpLayout$$module$builtins$amp_layout$$.prototype.prerenderAllowed=function(){return!0};function $createImagePixel$$module$src$pixel$$($image$jscomp$3_win$jscomp$146$$,$src$jscomp$7$$,$noReferrer$$){$noReferrer$$=void 0===$noReferrer$$?!1:$noReferrer$$;$image$jscomp$3_win$jscomp$146$$=new $image$jscomp$3_win$jscomp$146$$.Image;$noReferrer$$&&($image$jscomp$3_win$jscomp$146$$.referrerPolicy="no-referrer");$image$jscomp$3_win$jscomp$146$$.src=$src$jscomp$7$$;return $image$jscomp$3_win$jscomp$146$$};function $AmpPixel$$module$builtins$amp_pixel$$($element$jscomp$129$$){$BaseElement$$module$src$base_element$$.call(this,$element$jscomp$129$$);this.$triggerPromise_$=null}$$jscomp$inherits$$($AmpPixel$$module$builtins$amp_pixel$$,$BaseElement$$module$src$base_element$$);$AmpPixel$$module$builtins$amp_pixel$$.prototype.isLayoutSupported=function(){return!0};
$AmpPixel$$module$builtins$amp_pixel$$.prototype.buildCallback=function(){this.element.setAttribute("aria-hidden","true");(this.$referrerPolicy_$=this.element.getAttribute("referrerpolicy"))&&$userAssert$$module$src$log$$("no-referrer"==this.$referrerPolicy_$,'amp-pixel: invalid "referrerpolicy" value "'+this.$referrerPolicy_$+'". Only "no-referrer" is supported');this.element.hasAttribute("i-amphtml-ssr")&&this.element.querySelector("img")?$dev$$module$src$log$$().info("amp-pixel","inabox img already present"):
$Services$$module$src$services$viewerForDoc$$(this.getAmpDoc()).whenFirstVisible().then(this.$trigger_$.bind(this))};
$AmpPixel$$module$builtins$amp_pixel$$.prototype.$trigger_$=function(){var $$jscomp$this$jscomp$42$$=this;if(this.$triggerPromise_$)return $dev$$module$src$log$$().error("amp-pixel","duplicate pixel"),this.$triggerPromise_$;this.$triggerPromise_$=$Services$$module$src$services$timerFor$$(this.win).promise(1).then(function(){var $src$jscomp$8$$=$$jscomp$this$jscomp$42$$.element.getAttribute("src");if($src$jscomp$8$$)return $getExistingServiceForDocInEmbedScope$$module$src$service$$($$jscomp$this$jscomp$42$$.element,
"url-replace").expandUrlAsync($JSCompiler_StaticMethods_assertSource_$$($src$jscomp$8$$)).then(function($src$jscomp$8$$){var $src$jscomp$9$$=$$jscomp$this$jscomp$42$$.win,$JSCompiler_attributes$jscomp$inline_807_JSCompiler_referrerPolicy$jscomp$inline_452$$=$$jscomp$this$jscomp$42$$.$referrerPolicy_$;$JSCompiler_attributes$jscomp$inline_807_JSCompiler_referrerPolicy$jscomp$inline_452$$&&"no-referrer"!==$JSCompiler_attributes$jscomp$inline_807_JSCompiler_referrerPolicy$jscomp$inline_452$$&&$user$$module$src$log$$().error("pixel",
"Unsupported referrerPolicy: %s",$JSCompiler_attributes$jscomp$inline_807_JSCompiler_referrerPolicy$jscomp$inline_452$$);if("no-referrer"===$JSCompiler_attributes$jscomp$inline_807_JSCompiler_referrerPolicy$jscomp$inline_452$$)if("referrerPolicy"in Image.prototype)$src$jscomp$9$$=$createImagePixel$$module$src$pixel$$($src$jscomp$9$$,$src$jscomp$8$$,!0);else{var $JSCompiler_doc$jscomp$inline_806_JSCompiler_element$jscomp$inline_808$$=$src$jscomp$9$$.document;$JSCompiler_attributes$jscomp$inline_807_JSCompiler_referrerPolicy$jscomp$inline_452$$=
$dict$$module$src$utils$object$$({src:"about:blank",style:"display:none"});$JSCompiler_doc$jscomp$inline_806_JSCompiler_element$jscomp$inline_808$$=$JSCompiler_doc$jscomp$inline_806_JSCompiler_element$jscomp$inline_808$$.createElement("iframe");for(var $JSCompiler_attr$jscomp$inline_889$$ in $JSCompiler_attributes$jscomp$inline_807_JSCompiler_referrerPolicy$jscomp$inline_452$$)$JSCompiler_doc$jscomp$inline_806_JSCompiler_element$jscomp$inline_808$$.setAttribute($JSCompiler_attr$jscomp$inline_889$$,
$JSCompiler_attributes$jscomp$inline_807_JSCompiler_referrerPolicy$jscomp$inline_452$$[$JSCompiler_attr$jscomp$inline_889$$]);$src$jscomp$9$$.document.body.appendChild($JSCompiler_doc$jscomp$inline_806_JSCompiler_element$jscomp$inline_808$$);$createImagePixel$$module$src$pixel$$($JSCompiler_doc$jscomp$inline_806_JSCompiler_element$jscomp$inline_808$$.contentWindow,$src$jscomp$8$$);$src$jscomp$9$$=$JSCompiler_doc$jscomp$inline_806_JSCompiler_element$jscomp$inline_808$$}else $src$jscomp$9$$=$createImagePixel$$module$src$pixel$$($src$jscomp$9$$,
$src$jscomp$8$$);var $pixel$$=$src$jscomp$9$$;$dev$$module$src$log$$().info("amp-pixel","pixel triggered: ",$src$jscomp$8$$);return $pixel$$})})};function $JSCompiler_StaticMethods_assertSource_$$($src$jscomp$10$$){$userAssert$$module$src$log$$(/^(https:\/\/|\/\/)/i.test($src$jscomp$10$$),'The <amp-pixel> src attribute must start with "https://" or "//". Invalid value: '+$src$jscomp$10$$);return $src$jscomp$10$$};var $LEGACY_ELEMENTS$$module$src$service$extensions_impl$$=["amp-ad","amp-embed","amp-video"],$CUSTOM_TEMPLATES$$module$src$service$extensions_impl$$=["amp-mustache"];function $Extensions$$module$src$service$extensions_impl$$($win$jscomp$148$$){this.win=$win$jscomp$148$$;this.$ampdocService_$=$Services$$module$src$services$ampdocServiceFor$$($win$jscomp$148$$);this.$extensions_$={};this.$currentExtensionId_$=null}$JSCompiler_prototypeAlias$$=$Extensions$$module$src$service$extensions_impl$$.prototype;
$JSCompiler_prototypeAlias$$.registerExtension=function($extensionId$jscomp$6$$,$factory$$,$arg$jscomp$8$$){var $holder$jscomp$14$$=$JSCompiler_StaticMethods_getExtensionHolder_$$(this,$extensionId$jscomp$6$$,!0);try{this.$currentExtensionId_$=$extensionId$jscomp$6$$;$factory$$($arg$jscomp$8$$,$arg$jscomp$8$$._);if(($getMode$$module$src$mode$$().localDev||$getMode$$module$src$mode$$().test)&&Object.freeze){var $m$jscomp$1$$=$holder$jscomp$14$$.extension;$m$jscomp$1$$.elements=Object.freeze($m$jscomp$1$$.elements);
$holder$jscomp$14$$.extension=Object.freeze($m$jscomp$1$$)}$holder$jscomp$14$$.loaded=!0;$holder$jscomp$14$$.resolve&&$holder$jscomp$14$$.resolve($holder$jscomp$14$$.extension)}catch($e$jscomp$51$$){throw $holder$jscomp$14$$.error=$e$jscomp$51$$,$holder$jscomp$14$$.reject&&$holder$jscomp$14$$.reject($e$jscomp$51$$),$e$jscomp$51$$;}finally{this.$currentExtensionId_$=null}};
$JSCompiler_prototypeAlias$$.waitForExtension=function($win$jscomp$149$$,$extensionId$jscomp$7$$,$opt_timeout$$){return $Services$$module$src$services$timerFor$$($win$jscomp$149$$).timeoutPromise($opt_timeout$$||8E3,$JSCompiler_StaticMethods_waitFor_$$($JSCompiler_StaticMethods_getExtensionHolder_$$(this,$extensionId$jscomp$7$$,!1)),"Render timeout waiting for extension "+$extensionId$jscomp$7$$+" to be load.")};
$JSCompiler_prototypeAlias$$.preloadExtension=function($JSCompiler_extensionId$jscomp$inline_455_extensionId$jscomp$8$$,$JSCompiler_scriptElement$jscomp$inline_818_opt_extensionVersion$jscomp$1$$){"amp-embed"==$JSCompiler_extensionId$jscomp$inline_455_extensionId$jscomp$8$$&&($JSCompiler_extensionId$jscomp$inline_455_extensionId$jscomp$8$$="amp-ad");var $holder$jscomp$15$$=$JSCompiler_StaticMethods_getExtensionHolder_$$(this,$JSCompiler_extensionId$jscomp$inline_455_extensionId$jscomp$8$$,!1);if($holder$jscomp$15$$.loaded||
$holder$jscomp$15$$.error)var $JSCompiler_extensionVersion$jscomp$inline_826_JSCompiler_inline_result$jscomp$749_JSCompiler_opt_extensionVersion$jscomp$inline_817_JSCompiler_opt_extensionVersion$jscomp$inline_822$$=!1;else void 0===$holder$jscomp$15$$.scriptPresent&&($holder$jscomp$15$$.scriptPresent=!!this.win.document.head.querySelector('[custom-element="'+$JSCompiler_extensionId$jscomp$inline_455_extensionId$jscomp$8$$+'"]')),$JSCompiler_extensionVersion$jscomp$inline_826_JSCompiler_inline_result$jscomp$749_JSCompiler_opt_extensionVersion$jscomp$inline_817_JSCompiler_opt_extensionVersion$jscomp$inline_822$$=
!$holder$jscomp$15$$.scriptPresent;if($JSCompiler_extensionVersion$jscomp$inline_826_JSCompiler_inline_result$jscomp$749_JSCompiler_opt_extensionVersion$jscomp$inline_817_JSCompiler_opt_extensionVersion$jscomp$inline_822$$){$JSCompiler_extensionVersion$jscomp$inline_826_JSCompiler_inline_result$jscomp$749_JSCompiler_opt_extensionVersion$jscomp$inline_817_JSCompiler_opt_extensionVersion$jscomp$inline_822$$=$JSCompiler_scriptElement$jscomp$inline_818_opt_extensionVersion$jscomp$1$$;$JSCompiler_scriptElement$jscomp$inline_818_opt_extensionVersion$jscomp$1$$=
this.win.document.createElement("script");$JSCompiler_scriptElement$jscomp$inline_818_opt_extensionVersion$jscomp$1$$.async=!0;$startsWith$$module$src$string$$($JSCompiler_extensionId$jscomp$inline_455_extensionId$jscomp$8$$,"_")?$JSCompiler_extensionVersion$jscomp$inline_826_JSCompiler_inline_result$jscomp$749_JSCompiler_opt_extensionVersion$jscomp$inline_817_JSCompiler_opt_extensionVersion$jscomp$inline_822$$="":$JSCompiler_scriptElement$jscomp$inline_818_opt_extensionVersion$jscomp$1$$.setAttribute(0<=
$CUSTOM_TEMPLATES$$module$src$service$extensions_impl$$.indexOf($JSCompiler_extensionId$jscomp$inline_455_extensionId$jscomp$8$$)?"custom-template":"custom-element",$JSCompiler_extensionId$jscomp$inline_455_extensionId$jscomp$8$$);$JSCompiler_scriptElement$jscomp$inline_818_opt_extensionVersion$jscomp$1$$.setAttribute("data-script",$JSCompiler_extensionId$jscomp$inline_455_extensionId$jscomp$8$$);$JSCompiler_scriptElement$jscomp$inline_818_opt_extensionVersion$jscomp$1$$.setAttribute("i-amphtml-inserted",
"");var $JSCompiler_base$jscomp$inline_824_JSCompiler_inline_result$jscomp$886_JSCompiler_loc$jscomp$inline_819_JSCompiler_location$jscomp$inline_821$$=this.win.location;$getMode$$module$src$mode$$().test&&this.win.testLocation&&($JSCompiler_base$jscomp$inline_824_JSCompiler_inline_result$jscomp$886_JSCompiler_loc$jscomp$inline_819_JSCompiler_location$jscomp$inline_821$$=this.win.testLocation);if($getMode$$module$src$mode$$().localDev){var $JSCompiler_prefix$jscomp$inline_893_JSCompiler_rtv$jscomp$inline_825$$=
$JSCompiler_base$jscomp$inline_824_JSCompiler_inline_result$jscomp$886_JSCompiler_loc$jscomp$inline_819_JSCompiler_location$jscomp$inline_821$$.protocol+"//"+$JSCompiler_base$jscomp$inline_824_JSCompiler_inline_result$jscomp$886_JSCompiler_loc$jscomp$inline_819_JSCompiler_location$jscomp$inline_821$$.host;"about:"==$JSCompiler_base$jscomp$inline_824_JSCompiler_inline_result$jscomp$886_JSCompiler_loc$jscomp$inline_819_JSCompiler_location$jscomp$inline_821$$.protocol&&($JSCompiler_prefix$jscomp$inline_893_JSCompiler_rtv$jscomp$inline_825$$=
"");$JSCompiler_base$jscomp$inline_824_JSCompiler_inline_result$jscomp$886_JSCompiler_loc$jscomp$inline_819_JSCompiler_location$jscomp$inline_821$$=$JSCompiler_prefix$jscomp$inline_893_JSCompiler_rtv$jscomp$inline_825$$+"/dist"}else $JSCompiler_base$jscomp$inline_824_JSCompiler_inline_result$jscomp$886_JSCompiler_loc$jscomp$inline_819_JSCompiler_location$jscomp$inline_821$$=$urls$$module$src$config$$.cdn;$JSCompiler_prefix$jscomp$inline_893_JSCompiler_rtv$jscomp$inline_825$$=$getMode$$module$src$mode$$().rtvVersion;
null==$JSCompiler_extensionVersion$jscomp$inline_826_JSCompiler_inline_result$jscomp$749_JSCompiler_opt_extensionVersion$jscomp$inline_817_JSCompiler_opt_extensionVersion$jscomp$inline_822$$&&($JSCompiler_extensionVersion$jscomp$inline_826_JSCompiler_inline_result$jscomp$749_JSCompiler_opt_extensionVersion$jscomp$inline_817_JSCompiler_opt_extensionVersion$jscomp$inline_822$$="0.1");$JSCompiler_extensionVersion$jscomp$inline_826_JSCompiler_inline_result$jscomp$749_JSCompiler_opt_extensionVersion$jscomp$inline_817_JSCompiler_opt_extensionVersion$jscomp$inline_822$$=
$JSCompiler_extensionVersion$jscomp$inline_826_JSCompiler_inline_result$jscomp$749_JSCompiler_opt_extensionVersion$jscomp$inline_817_JSCompiler_opt_extensionVersion$jscomp$inline_822$$?"-"+$JSCompiler_extensionVersion$jscomp$inline_826_JSCompiler_inline_result$jscomp$749_JSCompiler_opt_extensionVersion$jscomp$inline_817_JSCompiler_opt_extensionVersion$jscomp$inline_822$$:"";var $JSCompiler_spPath$jscomp$inline_827$$=$getMode$$module$src$mode$$().singlePassType?$getMode$$module$src$mode$$().singlePassType+
"/":"";$JSCompiler_scriptElement$jscomp$inline_818_opt_extensionVersion$jscomp$1$$.src=$JSCompiler_base$jscomp$inline_824_JSCompiler_inline_result$jscomp$886_JSCompiler_loc$jscomp$inline_819_JSCompiler_location$jscomp$inline_821$$+"/rtv/"+$JSCompiler_prefix$jscomp$inline_893_JSCompiler_rtv$jscomp$inline_825$$+"/"+$JSCompiler_spPath$jscomp$inline_827$$+"v0/"+$JSCompiler_extensionId$jscomp$inline_455_extensionId$jscomp$8$$+$JSCompiler_extensionVersion$jscomp$inline_826_JSCompiler_inline_result$jscomp$749_JSCompiler_opt_extensionVersion$jscomp$inline_817_JSCompiler_opt_extensionVersion$jscomp$inline_822$$+
".js";this.win.document.head.appendChild($JSCompiler_scriptElement$jscomp$inline_818_opt_extensionVersion$jscomp$1$$);$holder$jscomp$15$$.scriptPresent=!0}return $JSCompiler_StaticMethods_waitFor_$$($holder$jscomp$15$$)};
$JSCompiler_prototypeAlias$$.installExtensionForDoc=function($ampdoc$jscomp$18$$,$extensionId$jscomp$9$$,$opt_extensionVersion$jscomp$2$$){var $$jscomp$this$jscomp$43$$=this,$rootNode$jscomp$2$$=$ampdoc$jscomp$18$$.getRootNode(),$extLoaders$$=$rootNode$jscomp$2$$.__AMP_EXT_LDR;$extLoaders$$||($extLoaders$$=$rootNode$jscomp$2$$.__AMP_EXT_LDR=$map$$module$src$utils$object$$());if($extLoaders$$[$extensionId$jscomp$9$$])return $extLoaders$$[$extensionId$jscomp$9$$];$stubElementIfNotKnown$$module$src$service$custom_element_registry$$($ampdoc$jscomp$18$$.win,
$extensionId$jscomp$9$$);return $extLoaders$$[$extensionId$jscomp$9$$]=this.preloadExtension($extensionId$jscomp$9$$,$opt_extensionVersion$jscomp$2$$).then(function(){return $JSCompiler_StaticMethods_installExtensionInDoc_$$($$jscomp$this$jscomp$43$$,$ampdoc$jscomp$18$$,$extensionId$jscomp$9$$)})};
$JSCompiler_prototypeAlias$$.reloadExtension=function($extensionId$jscomp$10$$,$oldScriptElement$$){this.$extensions_$[$extensionId$jscomp$10$$]&&delete this.$extensions_$[$extensionId$jscomp$10$$];$oldScriptElement$$.removeAttribute("custom-element");$oldScriptElement$$.setAttribute("i-amphtml-loaded-new-version",$extensionId$jscomp$10$$);var $JSCompiler_matches$jscomp$inline_462$$=$oldScriptElement$$.src.match(/^(.*)\/(.*)-([0-9.]+)\.js$/i),$urlParts$$={extensionId:$JSCompiler_matches$jscomp$inline_462$$?
$JSCompiler_matches$jscomp$inline_462$$[2]:void 0,extensionVersion:$JSCompiler_matches$jscomp$inline_462$$?$JSCompiler_matches$jscomp$inline_462$$[3]:void 0};return this.preloadExtension($extensionId$jscomp$10$$,$urlParts$$.extensionVersion)};$JSCompiler_prototypeAlias$$.loadElementClass=function($elementName$jscomp$6$$){return this.preloadExtension($elementName$jscomp$6$$).then(function($extension$jscomp$8$$){return $extension$jscomp$8$$.elements[$elementName$jscomp$6$$].implementationClass})};
$JSCompiler_prototypeAlias$$.addElement=function($name$jscomp$134$$,$implementationClass$jscomp$1$$,$css$jscomp$4$$){$JSCompiler_StaticMethods_getCurrentExtensionHolder_$$(this,$name$jscomp$134$$).extension.elements[$name$jscomp$134$$]={implementationClass:$implementationClass$jscomp$1$$,css:$css$jscomp$4$$};this.addDocFactory(function($ampdoc$jscomp$19$$){$JSCompiler_StaticMethods_installElement_$$($ampdoc$jscomp$19$$,$name$jscomp$134$$,$implementationClass$jscomp$1$$,$css$jscomp$4$$)})};
function $JSCompiler_StaticMethods_installElement_$$($ampdoc$jscomp$20$$,$name$jscomp$135$$,$implementationClass$jscomp$2$$,$css$jscomp$5$$){$css$jscomp$5$$?$installStylesForDoc$$module$src$style_installer$$($ampdoc$jscomp$20$$,$css$jscomp$5$$,function(){$JSCompiler_StaticMethods_registerElementInWindow_$$($ampdoc$jscomp$20$$.win,$name$jscomp$135$$,$implementationClass$jscomp$2$$)},!1,$name$jscomp$135$$):$JSCompiler_StaticMethods_registerElementInWindow_$$($ampdoc$jscomp$20$$.win,$name$jscomp$135$$,
$implementationClass$jscomp$2$$)}function $JSCompiler_StaticMethods_registerElementInWindow_$$($win$jscomp$150$$,$name$jscomp$136$$,$implementationClass$jscomp$3$$){$upgradeOrRegisterElement$$module$src$service$custom_element_registry$$($win$jscomp$150$$,$name$jscomp$136$$,$implementationClass$jscomp$3$$);$registerServiceBuilder$$module$src$service$$($win$jscomp$150$$,$name$jscomp$136$$,$emptyService$$module$src$service$extensions_impl$$)}
$JSCompiler_prototypeAlias$$.addService=function($name$jscomp$137$$,$implementationClass$jscomp$4$$){$JSCompiler_StaticMethods_getCurrentExtensionHolder_$$(this).extension.services.push({serviceName:$name$jscomp$137$$,serviceClass:$implementationClass$jscomp$4$$});this.addDocFactory(function($ampdoc$jscomp$21$$){$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$21$$,$name$jscomp$137$$,$implementationClass$jscomp$4$$,!0)})};
$JSCompiler_prototypeAlias$$.addDocFactory=function($factory$jscomp$1$$,$opt_forName$$){var $holder$jscomp$19$$=$JSCompiler_StaticMethods_getCurrentExtensionHolder_$$(this,$opt_forName$$);$holder$jscomp$19$$.docFactories.push($factory$jscomp$1$$);if(this.$currentExtensionId_$&&(this.$ampdocService_$.isSingleDoc()||this.$ampdocService_$.hasAmpDocShell())){var $ampdoc$jscomp$22$$=this.$ampdocService_$.getAmpDoc(this.win.document);($ampdoc$jscomp$22$$.declaresExtension(this.$currentExtensionId_$)||$holder$jscomp$19$$.auto)&&
$factory$jscomp$1$$($ampdoc$jscomp$22$$)}};$JSCompiler_prototypeAlias$$.installExtensionsInDoc=function($ampdoc$jscomp$23$$,$extensionIds$$){var $$jscomp$this$jscomp$46$$=this,$promises$jscomp$4$$=[];$extensionIds$$.forEach(function($extensionIds$$){$promises$jscomp$4$$.push($JSCompiler_StaticMethods_installExtensionInDoc_$$($$jscomp$this$jscomp$46$$,$ampdoc$jscomp$23$$,$extensionIds$$))});return Promise.all($promises$jscomp$4$$)};
function $JSCompiler_StaticMethods_installExtensionInDoc_$$($JSCompiler_StaticMethods_installExtensionInDoc_$self$$,$ampdoc$jscomp$24$$,$extensionId$jscomp$13$$){var $holder$jscomp$20$$=$JSCompiler_StaticMethods_getExtensionHolder_$$($JSCompiler_StaticMethods_installExtensionInDoc_$self$$,$extensionId$jscomp$13$$,!1);return $JSCompiler_StaticMethods_waitFor_$$($holder$jscomp$20$$).then(function(){$ampdoc$jscomp$24$$.declareExtension($extensionId$jscomp$13$$);$holder$jscomp$20$$.docFactories.forEach(function($JSCompiler_StaticMethods_installExtensionInDoc_$self$$){try{$JSCompiler_StaticMethods_installExtensionInDoc_$self$$($ampdoc$jscomp$24$$)}catch($e$jscomp$52$$){$rethrowAsync$$module$src$log$$("Doc factory failed: ",
$e$jscomp$52$$,$extensionId$jscomp$13$$)}})})}
$JSCompiler_prototypeAlias$$.installExtensionsInChildWindow=function($childWin$jscomp$2$$,$extensionIds$jscomp$1$$,$opt_preinstallCallback$$){var $$jscomp$this$jscomp$47$$=this,$topWin$jscomp$3$$=this.win,$parentWin$jscomp$8$$=$childWin$jscomp$2$$.frameElement.ownerDocument.defaultView;$setParentWindow$$module$src$service$$($childWin$jscomp$2$$,$parentWin$jscomp$8$$);$installPolyfillsInChildWindow$$module$src$service$extensions_impl$$($childWin$jscomp$2$$);$installStylesLegacy$$module$src$style_installer$$($childWin$jscomp$2$$.document,
cssText$$module$build$css,null,!0,"amp-runtime");$opt_preinstallCallback$$&&$opt_preinstallCallback$$($childWin$jscomp$2$$);$installStandardServicesInEmbed$$module$src$service$extensions_impl$$($childWin$jscomp$2$$,$parentWin$jscomp$8$$);$copyBuiltinElementsToChildWindow$$module$src$service$extensions_impl$$($topWin$jscomp$3$$,$childWin$jscomp$2$$);$stubLegacyElements$$module$src$service$extensions_impl$$($childWin$jscomp$2$$);var $promises$jscomp$5$$=[];$extensionIds$jscomp$1$$.forEach(function($extensionIds$jscomp$1$$){$LEGACY_ELEMENTS$$module$src$service$extensions_impl$$.includes($extensionIds$jscomp$1$$)||
$stubElementIfNotKnown$$module$src$service$custom_element_registry$$($childWin$jscomp$2$$,$extensionIds$jscomp$1$$);var $opt_preinstallCallback$$=$$jscomp$this$jscomp$47$$.preloadExtension($extensionIds$jscomp$1$$).then(function($opt_preinstallCallback$$){$opt_preinstallCallback$$.services.forEach(function($extensionIds$jscomp$1$$){$extensionIds$jscomp$1$$=$extensionIds$jscomp$1$$.serviceClass;if("function"===typeof $extensionIds$jscomp$1$$.installInEmbedWindow){var $opt_preinstallCallback$$=$getAmpdoc$$module$src$service$$($childWin$jscomp$2$$.frameElement);
$extensionIds$jscomp$1$$.installInEmbedWindow($childWin$jscomp$2$$,$opt_preinstallCallback$$)}});var $$jscomp$this$jscomp$47$$=null,$topWin$jscomp$3$$={},$parentWin$jscomp$8$$;for($parentWin$jscomp$8$$ in $opt_preinstallCallback$$.elements){$topWin$jscomp$3$$.$$jscomp$loop$prop$elementName$95$=$parentWin$jscomp$8$$;$topWin$jscomp$3$$.$$jscomp$loop$prop$elementDef$96$=$opt_preinstallCallback$$.elements[$topWin$jscomp$3$$.$$jscomp$loop$prop$elementName$95$];var $promises$jscomp$5$$=(new Promise(function($opt_preinstallCallback$$){return function($$jscomp$this$jscomp$47$$){$opt_preinstallCallback$$.$$jscomp$loop$prop$elementDef$96$.css?
$installStylesLegacy$$module$src$style_installer$$($childWin$jscomp$2$$.document,$opt_preinstallCallback$$.$$jscomp$loop$prop$elementDef$96$.css,$$jscomp$this$jscomp$47$$,!1,$extensionIds$jscomp$1$$):$$jscomp$this$jscomp$47$$()}}($topWin$jscomp$3$$))).then(function($extensionIds$jscomp$1$$){return function(){$upgradeOrRegisterElement$$module$src$service$custom_element_registry$$($childWin$jscomp$2$$,$extensionIds$jscomp$1$$.$$jscomp$loop$prop$elementName$95$,$extensionIds$jscomp$1$$.$$jscomp$loop$prop$elementDef$96$.implementationClass)}}($topWin$jscomp$3$$));
$$jscomp$this$jscomp$47$$?$$jscomp$this$jscomp$47$$.push($promises$jscomp$5$$):$$jscomp$this$jscomp$47$$=[$promises$jscomp$5$$];$topWin$jscomp$3$$={$$jscomp$loop$prop$elementDef$96$:$topWin$jscomp$3$$.$$jscomp$loop$prop$elementDef$96$,$$jscomp$loop$prop$elementName$95$:$topWin$jscomp$3$$.$$jscomp$loop$prop$elementName$95$}}return $$jscomp$this$jscomp$47$$?Promise.all($$jscomp$this$jscomp$47$$).then(function(){return $opt_preinstallCallback$$}):$opt_preinstallCallback$$});$promises$jscomp$5$$.push($opt_preinstallCallback$$)});
return Promise.all($promises$jscomp$5$$)};
function $JSCompiler_StaticMethods_getExtensionHolder_$$($JSCompiler_StaticMethods_getExtensionHolder_$self$$,$extensionId$jscomp$15$$,$auto$$){var $holder$jscomp$21$$=$JSCompiler_StaticMethods_getExtensionHolder_$self$$.$extensions_$[$extensionId$jscomp$15$$];$holder$jscomp$21$$||($holder$jscomp$21$$={extension:{elements:{},services:[]},auto:$auto$$,docFactories:[],promise:void 0,resolve:void 0,reject:void 0,loaded:void 0,error:void 0,scriptPresent:void 0},$JSCompiler_StaticMethods_getExtensionHolder_$self$$.$extensions_$[$extensionId$jscomp$15$$]=
$holder$jscomp$21$$);return $holder$jscomp$21$$}
function $JSCompiler_StaticMethods_getCurrentExtensionHolder_$$($JSCompiler_StaticMethods_getCurrentExtensionHolder_$self$$,$opt_forName$jscomp$1$$){$JSCompiler_StaticMethods_getCurrentExtensionHolder_$self$$.$currentExtensionId_$||$getMode$$module$src$mode$$().test||$dev$$module$src$log$$().error("extensions","unknown extension for ",$opt_forName$jscomp$1$$);return $JSCompiler_StaticMethods_getExtensionHolder_$$($JSCompiler_StaticMethods_getCurrentExtensionHolder_$self$$,$JSCompiler_StaticMethods_getCurrentExtensionHolder_$self$$.$currentExtensionId_$||
"_UNKNOWN_",!0)}
function $JSCompiler_StaticMethods_waitFor_$$($holder$jscomp$22$$){if(!$holder$jscomp$22$$.promise)if($holder$jscomp$22$$.loaded)$holder$jscomp$22$$.promise=Promise.resolve($holder$jscomp$22$$.extension);else if($holder$jscomp$22$$.error)$holder$jscomp$22$$.promise=Promise.reject($holder$jscomp$22$$.error);else{var $deferred$jscomp$14$$=new $Deferred$$module$src$utils$promise$$;$holder$jscomp$22$$.promise=$deferred$jscomp$14$$.promise;$holder$jscomp$22$$.resolve=$deferred$jscomp$14$$.resolve;$holder$jscomp$22$$.reject=
$deferred$jscomp$14$$.reject}return $holder$jscomp$22$$.promise}
function $installBuiltinElements$$module$src$service$extensions_impl$$(){var $win$jscomp$151$$=self;$registerElement$$module$src$service$custom_element_registry$$($win$jscomp$151$$,"amp-img",$AmpImg$$module$builtins$amp_img$$);$registerElement$$module$src$service$custom_element_registry$$($win$jscomp$151$$,"amp-pixel",$AmpPixel$$module$builtins$amp_pixel$$);$registerElement$$module$src$service$custom_element_registry$$($win$jscomp$151$$,"amp-layout",$AmpLayout$$module$builtins$amp_layout$$)}
function $copyBuiltinElementsToChildWindow$$module$src$service$extensions_impl$$($JSCompiler_toClass$jscomp$inline_487_parentWin$jscomp$9$$,$childWin$jscomp$3$$){var $JSCompiler_toClass$jscomp$inline_482$$=$getExtendedElements$$module$src$service$custom_element_registry$$($JSCompiler_toClass$jscomp$inline_487_parentWin$jscomp$9$$)["amp-img"];$registerElement$$module$src$service$custom_element_registry$$($childWin$jscomp$3$$,"amp-img",$JSCompiler_toClass$jscomp$inline_482$$||$ElementStub$$module$src$element_stub$$);
$JSCompiler_toClass$jscomp$inline_487_parentWin$jscomp$9$$=$getExtendedElements$$module$src$service$custom_element_registry$$($JSCompiler_toClass$jscomp$inline_487_parentWin$jscomp$9$$)["amp-pixel"];$registerElement$$module$src$service$custom_element_registry$$($childWin$jscomp$3$$,"amp-pixel",$JSCompiler_toClass$jscomp$inline_487_parentWin$jscomp$9$$||$ElementStub$$module$src$element_stub$$)}
function $stubLegacyElements$$module$src$service$extensions_impl$$($win$jscomp$152$$){$LEGACY_ELEMENTS$$module$src$service$extensions_impl$$.forEach(function($name$jscomp$138$$){$stubElementIfNotKnown$$module$src$service$custom_element_registry$$($win$jscomp$152$$,$name$jscomp$138$$)})}
function $installPolyfillsInChildWindow$$module$src$service$extensions_impl$$($childWin$jscomp$4$$){$install$$module$src$polyfills$document_contains$$($childWin$jscomp$4$$);$install$$module$src$polyfills$domtokenlist_toggle$$($childWin$jscomp$4$$);$getMode$$module$src$mode$$().test?$install$$module$src$polyfills$custom_elements$$($childWin$jscomp$4$$):$installCustomElements$$module$node_modules$document_register_element$build$document_register_element_patched$$($childWin$jscomp$4$$)}
function $installStandardServicesInEmbed$$module$src$service$extensions_impl$$($childWin$jscomp$5$$,$parentWin$jscomp$11$$){var $frameElement$jscomp$1$$=$childWin$jscomp$5$$.frameElement,$standardServices$$=[$getExistingServiceForDocInEmbedScope$$module$src$service$$($frameElement$jscomp$1$$,"url"),$getExistingServiceForDocInEmbedScope$$module$src$service$$($frameElement$jscomp$1$$,"action"),$getExistingServiceForDocInEmbedScope$$module$src$service$$($frameElement$jscomp$1$$,"standard-actions"),$getServiceForDoc$$module$src$service$$($frameElement$jscomp$1$$,
"navigation"),$Services$$module$src$services$timerFor$$($parentWin$jscomp$11$$)],$ampdoc$jscomp$25$$=$getAmpdoc$$module$src$service$$($frameElement$jscomp$1$$);$standardServices$$.forEach(function($parentWin$jscomp$11$$){$parentWin$jscomp$11$$.constructor.installInEmbedWindow($childWin$jscomp$5$$,$ampdoc$jscomp$25$$)})}function $emptyService$$module$src$service$extensions_impl$$(){return{}};function $CacheCidApi$$module$src$service$cache_cid_api$$($ampdoc$jscomp$26$$){this.$ampdoc_$=$ampdoc$jscomp$26$$;this.$viewer_$=$Services$$module$src$services$viewerForDoc$$(this.$ampdoc_$);this.$publisherCidPromise_$=null;this.$timer_$=$Services$$module$src$services$timerFor$$(this.$ampdoc_$.win)}$CacheCidApi$$module$src$service$cache_cid_api$$.prototype.isSupported=function(){return this.$viewer_$.isCctEmbedded()&&this.$viewer_$.isProxyOrigin()};
$CacheCidApi$$module$src$service$cache_cid_api$$.prototype.getScopedCid=function($scope$$){var $$jscomp$this$jscomp$48$$=this;if(!this.$viewer_$.isCctEmbedded())return Promise.resolve(null);this.$publisherCidPromise_$||(this.$publisherCidPromise_$=this.$fetchCid_$("https://ampcid.google.com/v1/cache:getClientId?key=AIzaSyDKtqGxnoeIqVM33Uf7hRSa3GJxuzR7mLc"));return this.$publisherCidPromise_$.then(function($publisherCid$$){return $publisherCid$$?$JSCompiler_StaticMethods_scopeCid_$$($$jscomp$this$jscomp$48$$,
$publisherCid$$,$scope$$):null})};
$CacheCidApi$$module$src$service$cache_cid_api$$.prototype.$fetchCid_$=function($url$jscomp$52$$,$useAlternate$$){var $$jscomp$this$jscomp$49$$=this;$useAlternate$$=void 0===$useAlternate$$?!0:$useAlternate$$;var $payload$jscomp$2$$=$dict$$module$src$utils$object$$({publisherOrigin:$getSourceOrigin$$module$src$url$$(this.$ampdoc_$.win.location)});return this.$timer_$.timeoutPromise(3E4,$getService$$module$src$service$$(this.$ampdoc_$.win,"xhr").fetchJson($url$jscomp$52$$,{method:"POST",ampCors:!1,
credentials:"include",mode:"cors",body:$payload$jscomp$2$$})).then(function($url$jscomp$52$$){return $url$jscomp$52$$.json().then(function($url$jscomp$52$$){if($url$jscomp$52$$.optOut)return null;var $payload$jscomp$2$$=$url$jscomp$52$$.publisherClientId;if(!$payload$jscomp$2$$&&$useAlternate$$&&$url$jscomp$52$$.alternateUrl){var $res$jscomp$5$$=$url$jscomp$52$$.alternateUrl+"?key=AIzaSyDKtqGxnoeIqVM33Uf7hRSa3GJxuzR7mLc";return $$jscomp$this$jscomp$49$$.$fetchCid_$($res$jscomp$5$$,!1)}return $payload$jscomp$2$$})}).catch(function($url$jscomp$52$$){$url$jscomp$52$$&&
$url$jscomp$52$$.response?$url$jscomp$52$$.response.json().then(function($url$jscomp$52$$){$dev$$module$src$log$$().error("CacheCidApi",JSON.stringify($url$jscomp$52$$))}):$dev$$module$src$log$$().error("CacheCidApi",$url$jscomp$52$$);return null})};
function $JSCompiler_StaticMethods_scopeCid_$$($JSCompiler_StaticMethods_scopeCid_$self$$,$publisherCid$jscomp$1_text$jscomp$13$$,$scope$jscomp$1$$){$publisherCid$jscomp$1_text$jscomp$13$$=$publisherCid$jscomp$1_text$jscomp$13$$+";"+$scope$jscomp$1$$;return $getService$$module$src$service$$($JSCompiler_StaticMethods_scopeCid_$self$$.$ampdoc_$.win,"crypto").sha384Base64($publisherCid$jscomp$1_text$jscomp$13$$).then(function($JSCompiler_StaticMethods_scopeCid_$self$$){return"amp-"+$JSCompiler_StaticMethods_scopeCid_$self$$})}
;function $GoogleCidApi$$module$src$service$cid_api$$($ampdoc$jscomp$27$$){this.$win_$=$ampdoc$jscomp$27$$.win;this.$timer_$=$Services$$module$src$services$timerFor$$(this.$win_$);this.$cidPromise_$={};var $canonicalUrl$$=$Services$$module$src$services$documentInfoForDoc$$($ampdoc$jscomp$27$$).canonicalUrl;this.$canonicalOrigin_$=$canonicalUrl$$?$parseUrlDeprecated$$module$src$url$$($canonicalUrl$$).origin:null}
$GoogleCidApi$$module$src$service$cid_api$$.prototype.getScopedCid=function($apiKey$$,$scope$jscomp$2$$){var $$jscomp$this$jscomp$50$$=this;if(this.$cidPromise_$[$scope$jscomp$2$$])return this.$cidPromise_$[$scope$jscomp$2$$];var $token$jscomp$6$$;return this.$cidPromise_$[$scope$jscomp$2$$]=this.$timer_$.poll(200,function(){$token$jscomp$6$$=$getCookie$$module$src$cookies$$($$jscomp$this$jscomp$50$$.$win_$,"AMP_TOKEN");return"$RETRIEVING"!==$token$jscomp$6$$}).then(function(){if("$OPT_OUT"===$token$jscomp$6$$)return"$OPT_OUT";
var $forceFetch$$="$NOT_FOUND"===$token$jscomp$6$$&&$isProxyOrigin$$module$src$url$$($$jscomp$this$jscomp$50$$.$win_$.document.referrer);if(!$forceFetch$$&&$token$jscomp$6$$&&"$"===$token$jscomp$6$$[0])return null;$token$jscomp$6$$&&(!$token$jscomp$6$$||"$"!==$token$jscomp$6$$[0])||$JSCompiler_StaticMethods_persistToken_$$($$jscomp$this$jscomp$50$$,"$RETRIEVING",3E4);return $$jscomp$this$jscomp$50$$.$fetchCid_$("https://ampcid.google.com/v1/publisher:getClientId?key="+$apiKey$$,$scope$jscomp$2$$,
$token$jscomp$6$$).then(function($forceFetch$$){var $response$jscomp$12$$=$$jscomp$this$jscomp$50$$.$handleResponse_$($forceFetch$$);if(!$response$jscomp$12$$&&$forceFetch$$.alternateUrl){var $altUrl$$=$forceFetch$$.alternateUrl+"?key="+$apiKey$$;return $$jscomp$this$jscomp$50$$.$fetchCid_$($altUrl$$,$scope$jscomp$2$$,$token$jscomp$6$$).then($$jscomp$this$jscomp$50$$.$handleResponse_$.bind($$jscomp$this$jscomp$50$$))}return $response$jscomp$12$$}).catch(function($apiKey$$){$JSCompiler_StaticMethods_persistToken_$$($$jscomp$this$jscomp$50$$,
"$ERROR",3E4);$apiKey$$&&$apiKey$$.response?$apiKey$$.response.json().then(function($apiKey$$){$dev$$module$src$log$$().error("GoogleCidApi",JSON.stringify($apiKey$$))}):$dev$$module$src$log$$().error("GoogleCidApi",$apiKey$$);return null})})};
$GoogleCidApi$$module$src$service$cid_api$$.prototype.$fetchCid_$=function($url$jscomp$54$$,$payload$jscomp$3_scope$jscomp$3$$,$token$jscomp$7$$){$payload$jscomp$3_scope$jscomp$3$$=$dict$$module$src$utils$object$$({originScope:$payload$jscomp$3_scope$jscomp$3$$,canonicalOrigin:this.$canonicalOrigin_$});$token$jscomp$7$$&&($payload$jscomp$3_scope$jscomp$3$$.securityToken=$token$jscomp$7$$);return this.$timer_$.timeoutPromise(3E4,$getService$$module$src$service$$(this.$win_$,"xhr").fetchJson($url$jscomp$54$$,
{method:"POST",ampCors:!1,credentials:"include",mode:"cors",body:$payload$jscomp$3_scope$jscomp$3$$}).then(function($url$jscomp$54$$){return $url$jscomp$54$$.json()}))};
$GoogleCidApi$$module$src$service$cid_api$$.prototype.$handleResponse_$=function($res$jscomp$9$$){if($res$jscomp$9$$.optOut)return $JSCompiler_StaticMethods_persistToken_$$(this,"$OPT_OUT",31536E6),"$OPT_OUT";if($res$jscomp$9$$.clientId)return $JSCompiler_StaticMethods_persistToken_$$(this,$res$jscomp$9$$.securityToken,31536E6),$res$jscomp$9$$.clientId;if($res$jscomp$9$$.alternateUrl)return null;$JSCompiler_StaticMethods_persistToken_$$(this,"$NOT_FOUND",36E5);return null};
function $JSCompiler_StaticMethods_persistToken_$$($JSCompiler_StaticMethods_persistToken_$self$$,$tokenValue$$,$expires$$){$tokenValue$$&&$setCookie$$module$src$cookies$$($JSCompiler_StaticMethods_persistToken_$self$$.$win_$,"AMP_TOKEN",$tokenValue$$,$JSCompiler_StaticMethods_persistToken_$self$$.$win_$.Date.now()+$expires$$,{highestAvailableDomain:!0})};function $ViewerCidApi$$module$src$service$viewer_cid_api$$($ampdoc$jscomp$28_canonicalUrl$jscomp$1$$){this.$ampdoc_$=$ampdoc$jscomp$28_canonicalUrl$jscomp$1$$;this.$viewer_$=$Services$$module$src$services$viewerForDoc$$(this.$ampdoc_$);this.$canonicalOrigin_$=($ampdoc$jscomp$28_canonicalUrl$jscomp$1$$=$Services$$module$src$services$documentInfoForDoc$$(this.$ampdoc_$).canonicalUrl)?$parseUrlDeprecated$$module$src$url$$($ampdoc$jscomp$28_canonicalUrl$jscomp$1$$).origin:null}
$ViewerCidApi$$module$src$service$viewer_cid_api$$.prototype.isSupported=function(){return this.$viewer_$.hasCapability("cid")?this.$viewer_$.isTrustedViewer():Promise.resolve(!1)};
$ViewerCidApi$$module$src$service$viewer_cid_api$$.prototype.getScopedCid=function($apiKey$jscomp$1$$,$payload$jscomp$4_scope$jscomp$4$$){$payload$jscomp$4_scope$jscomp$4$$=$dict$$module$src$utils$object$$({scope:$payload$jscomp$4_scope$jscomp$4$$,clientIdApi:!!$apiKey$jscomp$1$$,canonicalOrigin:this.$canonicalOrigin_$});$apiKey$jscomp$1$$&&($payload$jscomp$4_scope$jscomp$4$$.apiKey=$apiKey$jscomp$1$$);return this.$viewer_$.sendMessageAwaitResponse("cid",$payload$jscomp$4_scope$jscomp$4$$)};var $base64UrlEncodeSubs$$module$src$utils$base64$$={"+":"-","/":"_","=":"."};function $base64UrlEncodeFromBytes$$module$src$utils$base64$$($bytes$jscomp$4_str$jscomp$13$$){$bytes$jscomp$4_str$jscomp$13$$=$bytesToString$$module$src$utils$bytes$$($bytes$jscomp$4_str$jscomp$13$$);return btoa($bytes$jscomp$4_str$jscomp$13$$).replace(/[+/=]/g,function($bytes$jscomp$4_str$jscomp$13$$){return $base64UrlEncodeSubs$$module$src$utils$base64$$[$bytes$jscomp$4_str$jscomp$13$$]})};var $SCOPE_NAME_VALIDATOR$$module$src$service$cid_impl$$=/^[a-zA-Z0-9-_.]+$/,$CID_API_SCOPE_WHITELIST$$module$src$service$cid_impl$$={googleanalytics:"AMP_ECID_GOOGLE"},$API_KEYS$$module$src$service$cid_impl$$={googleanalytics:"AIzaSyA65lEHUEizIsNtlbNo-l2K18dT680nsaM"};
function $Cid$$module$src$service$cid_impl$$($ampdoc$jscomp$29$$){this.ampdoc=$ampdoc$jscomp$29$$;this.$baseCid_$=null;this.$externalCidCache_$=Object.create(null);this.$cacheCidApi_$=new $CacheCidApi$$module$src$service$cache_cid_api$$($ampdoc$jscomp$29$$);this.$viewerCidApi_$=new $ViewerCidApi$$module$src$service$viewer_cid_api$$($ampdoc$jscomp$29$$);this.$cidApi_$=new $GoogleCidApi$$module$src$service$cid_api$$($ampdoc$jscomp$29$$);this.$apiKeyMap_$=null}
$Cid$$module$src$service$cid_impl$$.prototype.get=function($getCidStruct$$,$consent$jscomp$1$$,$opt_persistenceConsent$jscomp$1$$){var $$jscomp$this$jscomp$51$$=this;$userAssert$$module$src$log$$($SCOPE_NAME_VALIDATOR$$module$src$service$cid_impl$$.test($getCidStruct$$.scope)&&$SCOPE_NAME_VALIDATOR$$module$src$service$cid_impl$$.test($getCidStruct$$.cookieName),"The CID scope and cookie name must only use the characters [a-zA-Z0-9-_.]+\nInstead found: %s",$getCidStruct$$.scope);return $consent$jscomp$1$$.then(function(){return $Services$$module$src$services$viewerForDoc$$($$jscomp$this$jscomp$51$$.ampdoc).whenFirstVisible()}).then(function(){return $isOptedOutOfCid$$module$src$service$cid_impl$$($$jscomp$this$jscomp$51$$.ampdoc)}).then(function($optedOut$$){if($optedOut$$)return"";
var $cidPromise$$=$JSCompiler_StaticMethods_getExternalCid_$$($$jscomp$this$jscomp$51$$,$getCidStruct$$,$opt_persistenceConsent$jscomp$1$$||$consent$jscomp$1$$);return $Services$$module$src$services$timerFor$$($$jscomp$this$jscomp$51$$.ampdoc.win).timeoutPromise(1E4,$cidPromise$$,'Getting cid for "'+$getCidStruct$$.scope+'" timed out').catch(function($getCidStruct$$){$rethrowAsync$$module$src$log$$($getCidStruct$$)})})};$Cid$$module$src$service$cid_impl$$.prototype.optOut=function(){return $optOutOfCid$$module$src$service$cid_impl$$(this.ampdoc)};
function $JSCompiler_StaticMethods_getExternalCid_$$($JSCompiler_StaticMethods_getExternalCid_$self$$,$getCidStruct$jscomp$1$$,$persistenceConsent$$){var $scope$jscomp$5$$=$getCidStruct$jscomp$1$$.scope,$url$jscomp$55$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_StaticMethods_getExternalCid_$self$$.ampdoc.win.location.href);if(!$isProxyOrigin$$module$src$url$$($url$jscomp$55$$)){var $apiKey$jscomp$2$$=$JSCompiler_StaticMethods_isScopeOptedIn_$$($JSCompiler_StaticMethods_getExternalCid_$self$$,
$scope$jscomp$5$$);return $apiKey$jscomp$2$$?$JSCompiler_StaticMethods_getExternalCid_$self$$.$cidApi_$.getScopedCid($apiKey$jscomp$2$$,$scope$jscomp$5$$).then(function($url$jscomp$55$$){if("$OPT_OUT"==$url$jscomp$55$$)return null;if($url$jscomp$55$$){var $apiKey$jscomp$2$$=$getCidStruct$jscomp$1$$.cookieName||$scope$jscomp$5$$;$setCidCookie$$module$src$service$cid_impl$$($JSCompiler_StaticMethods_getExternalCid_$self$$.ampdoc.win,$apiKey$jscomp$2$$,$url$jscomp$55$$);return $url$jscomp$55$$}return $getOrCreateCookie$$module$src$service$cid_impl$$($JSCompiler_StaticMethods_getExternalCid_$self$$,
$getCidStruct$jscomp$1$$,$persistenceConsent$$)}):$getOrCreateCookie$$module$src$service$cid_impl$$($JSCompiler_StaticMethods_getExternalCid_$self$$,$getCidStruct$jscomp$1$$,$persistenceConsent$$)}return $JSCompiler_StaticMethods_getExternalCid_$self$$.$viewerCidApi_$.isSupported().then(function($getCidStruct$jscomp$1$$){if($getCidStruct$jscomp$1$$){var $apiKey$jscomp$2$$=$JSCompiler_StaticMethods_isScopeOptedIn_$$($JSCompiler_StaticMethods_getExternalCid_$self$$,$scope$jscomp$5$$);return $JSCompiler_StaticMethods_getExternalCid_$self$$.$viewerCidApi_$.getScopedCid($apiKey$jscomp$2$$,
$scope$jscomp$5$$)}return $JSCompiler_StaticMethods_getExternalCid_$self$$.$cacheCidApi_$.isSupported()&&$JSCompiler_StaticMethods_isScopeOptedIn_$$($JSCompiler_StaticMethods_getExternalCid_$self$$,$scope$jscomp$5$$)?$JSCompiler_StaticMethods_getExternalCid_$self$$.$cacheCidApi_$.getScopedCid($scope$jscomp$5$$).then(function($getCidStruct$jscomp$1$$){return $getCidStruct$jscomp$1$$?$getCidStruct$jscomp$1$$:$JSCompiler_StaticMethods_scopeBaseCid_$$($JSCompiler_StaticMethods_getExternalCid_$self$$,
$persistenceConsent$$,$scope$jscomp$5$$,$url$jscomp$55$$)}):$JSCompiler_StaticMethods_scopeBaseCid_$$($JSCompiler_StaticMethods_getExternalCid_$self$$,$persistenceConsent$$,$scope$jscomp$5$$,$url$jscomp$55$$)})}
function $JSCompiler_StaticMethods_scopeBaseCid_$$($JSCompiler_StaticMethods_scopeBaseCid_$self$$,$persistenceConsent$jscomp$1$$,$scope$jscomp$6$$,$url$jscomp$56$$){return $getBaseCid$$module$src$service$cid_impl$$($JSCompiler_StaticMethods_scopeBaseCid_$self$$,$persistenceConsent$jscomp$1$$).then(function($persistenceConsent$jscomp$1$$){return $getService$$module$src$service$$($JSCompiler_StaticMethods_scopeBaseCid_$self$$.ampdoc.win,"crypto").sha384Base64($persistenceConsent$jscomp$1$$+$getProxySourceOrigin$$module$src$service$cid_impl$$($url$jscomp$56$$)+
$scope$jscomp$6$$)})}function $JSCompiler_StaticMethods_isScopeOptedIn_$$($JSCompiler_StaticMethods_isScopeOptedIn_$self$$,$scope$jscomp$7$$){$JSCompiler_StaticMethods_isScopeOptedIn_$self$$.$apiKeyMap_$||($JSCompiler_StaticMethods_isScopeOptedIn_$self$$.$apiKeyMap_$=$JSCompiler_StaticMethods_getOptedInScopes_$$($JSCompiler_StaticMethods_isScopeOptedIn_$self$$));return $JSCompiler_StaticMethods_isScopeOptedIn_$self$$.$apiKeyMap_$[$scope$jscomp$7$$]}
function $JSCompiler_StaticMethods_getOptedInScopes_$$($JSCompiler_StaticMethods_getOptedInScopes_$self$$){var $apiKeyMap$$={},$optInMeta$$=$JSCompiler_StaticMethods_getOptedInScopes_$self$$.ampdoc.win.document.head.querySelector("meta[name=amp-google-client-id-api]");$optInMeta$$&&$optInMeta$$.hasAttribute("content")&&$optInMeta$$.getAttribute("content").split(",").forEach(function($JSCompiler_StaticMethods_getOptedInScopes_$self$$){$JSCompiler_StaticMethods_getOptedInScopes_$self$$=$JSCompiler_StaticMethods_getOptedInScopes_$self$$.trim();
if(0<$JSCompiler_StaticMethods_getOptedInScopes_$self$$.indexOf("=")){var $optInMeta$$=$JSCompiler_StaticMethods_getOptedInScopes_$self$$.split("=");$apiKeyMap$$[$optInMeta$$[0].trim()]=$optInMeta$$[1].trim()}else{var $item$jscomp$3_scope$44$$=$JSCompiler_StaticMethods_getOptedInScopes_$self$$;($JSCompiler_StaticMethods_getOptedInScopes_$self$$=$CID_API_SCOPE_WHITELIST$$module$src$service$cid_impl$$[$item$jscomp$3_scope$44$$])?$apiKeyMap$$[$JSCompiler_StaticMethods_getOptedInScopes_$self$$]=$API_KEYS$$module$src$service$cid_impl$$[$item$jscomp$3_scope$44$$]:
$user$$module$src$log$$().error("CID","Unsupported client for Google CID API: "+$item$jscomp$3_scope$44$$)}});return $apiKeyMap$$}function $optOutOfCid$$module$src$service$cid_impl$$($ampdoc$jscomp$30$$){$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$30$$).sendMessage("cidOptOut",{});return $getServicePromiseForDoc$$module$src$service$$($ampdoc$jscomp$30$$,"storage").then(function($ampdoc$jscomp$30$$){return $ampdoc$jscomp$30$$.set("amp-cid-optout",!0)})}
function $isOptedOutOfCid$$module$src$service$cid_impl$$($ampdoc$jscomp$31$$){return $getServicePromiseForDoc$$module$src$service$$($ampdoc$jscomp$31$$,"storage").then(function($ampdoc$jscomp$31$$){return $ampdoc$jscomp$31$$.get("amp-cid-optout").then(function($ampdoc$jscomp$31$$){return!!$ampdoc$jscomp$31$$})}).catch(function(){return!1})}
function $setCidCookie$$module$src$service$cid_impl$$($win$jscomp$153$$,$scope$jscomp$9$$,$cookie$jscomp$2$$){var $expiration$$=Date.now()+31536E6;$setCookie$$module$src$cookies$$($win$jscomp$153$$,$scope$jscomp$9$$,$cookie$jscomp$2$$,$expiration$$,{highestAvailableDomain:!0})}
function $getOrCreateCookie$$module$src$service$cid_impl$$($cid$jscomp$2$$,$getCidStruct$jscomp$2$$,$persistenceConsent$jscomp$2$$){var $win$jscomp$154$$=$cid$jscomp$2$$.ampdoc.win,$scope$jscomp$10$$=$getCidStruct$jscomp$2$$.scope,$cookieName$jscomp$1$$=$getCidStruct$jscomp$2$$.cookieName||$scope$jscomp$10$$,$existingCookie$$=$getCookie$$module$src$cookies$$($win$jscomp$154$$,$cookieName$jscomp$1$$);if(!$existingCookie$$&&!$getCidStruct$jscomp$2$$.createCookieIfNotPresent)return Promise.resolve(null);
if($cid$jscomp$2$$.$externalCidCache_$[$scope$jscomp$10$$])return $cid$jscomp$2$$.$externalCidCache_$[$scope$jscomp$10$$];if($existingCookie$$)return/^amp-/.test($existingCookie$$)&&$setCidCookie$$module$src$service$cid_impl$$($win$jscomp$154$$,$cookieName$jscomp$1$$,$existingCookie$$),Promise.resolve($existingCookie$$);var $newCookiePromise$$=$getNewCidForCookie$$module$src$service$cid_impl$$($win$jscomp$154$$).then(function($cid$jscomp$2$$){return"amp-"+$cid$jscomp$2$$});Promise.all([$newCookiePromise$$,
$persistenceConsent$jscomp$2$$]).then(function($cid$jscomp$2$$){var $getCidStruct$jscomp$2$$=$cid$jscomp$2$$[0],$persistenceConsent$jscomp$2$$=$getCookie$$module$src$cookies$$($win$jscomp$154$$,$cookieName$jscomp$1$$);$persistenceConsent$jscomp$2$$||$setCidCookie$$module$src$service$cid_impl$$($win$jscomp$154$$,$cookieName$jscomp$1$$,$getCidStruct$jscomp$2$$)});return $cid$jscomp$2$$.$externalCidCache_$[$scope$jscomp$10$$]=$newCookiePromise$$}
function $getProxySourceOrigin$$module$src$service$cid_impl$$($url$jscomp$57$$){$userAssert$$module$src$log$$($isProxyOrigin$$module$src$url$$($url$jscomp$57$$),"Expected proxy origin %s",$url$jscomp$57$$.origin);return $getSourceOrigin$$module$src$url$$($url$jscomp$57$$)}
function $getBaseCid$$module$src$service$cid_impl$$($cid$jscomp$3$$,$persistenceConsent$jscomp$3$$){if($cid$jscomp$3$$.$baseCid_$)return $cid$jscomp$3$$.$baseCid_$;var $win$jscomp$155$$=$cid$jscomp$3$$.ampdoc.win;return $cid$jscomp$3$$.$baseCid_$=$read$$module$src$service$cid_impl$$($cid$jscomp$3$$.ampdoc).then(function($stored$$){var $needsToStore$$=!1;if($stored$$&&!$isExpired$$module$src$service$cid_impl$$($stored$$)){var $baseCid$jscomp$1$$=Promise.resolve($stored$$.cid);$stored$$.time+864E5<
Date.now()&&($needsToStore$$=!0)}else $baseCid$jscomp$1$$=$getService$$module$src$service$$($win$jscomp$155$$,"crypto").sha384Base64($getEntropy$$module$src$service$cid_impl$$($win$jscomp$155$$)),$needsToStore$$=!0;$needsToStore$$&&$baseCid$jscomp$1$$.then(function($win$jscomp$155$$){$store$$module$src$service$cid_impl$$($cid$jscomp$3$$.ampdoc,$persistenceConsent$jscomp$3$$,$win$jscomp$155$$)});return $baseCid$jscomp$1$$})}
function $store$$module$src$service$cid_impl$$($ampdoc$jscomp$32$$,$persistenceConsent$jscomp$4$$,$cidString$$){var $win$jscomp$156$$=$ampdoc$jscomp$32$$.win;$isIframed$$module$src$dom$$($win$jscomp$156$$)?$viewerBaseCid$$module$src$service$cid_impl$$($ampdoc$jscomp$32$$,JSON.stringify($dict$$module$src$utils$object$$({time:Date.now(),cid:$cidString$$}))):$persistenceConsent$jscomp$4$$.then(function(){try{$win$jscomp$156$$.localStorage.setItem("amp-cid",JSON.stringify($dict$$module$src$utils$object$$({time:Date.now(),
cid:$cidString$$})))}catch($ignore$jscomp$2$$){}})}
function $viewerBaseCid$$module$src$service$cid_impl$$($ampdoc$jscomp$33$$,$opt_data$jscomp$5$$){var $viewer$jscomp$7$$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$33$$);return $viewer$jscomp$7$$.isTrustedViewer().then(function($ampdoc$jscomp$33$$){if($ampdoc$jscomp$33$$)return $dev$$module$src$log$$().expectedError("CID","Viewer does not provide cap=cid"),$viewer$jscomp$7$$.sendMessageAwaitResponse("cid",$opt_data$jscomp$5$$).then(function($ampdoc$jscomp$33$$){var $opt_data$jscomp$5$$;if($opt_data$jscomp$5$$=
$ampdoc$jscomp$33$$){try{var $viewer$jscomp$7$$=$parseJson$$module$src$json$$($ampdoc$jscomp$33$$)}catch($JSCompiler_e$jscomp$inline_491$$){$viewer$jscomp$7$$=null}$opt_data$jscomp$5$$=!$viewer$jscomp$7$$}return $opt_data$jscomp$5$$?($dev$$module$src$log$$().expectedError("CID","invalid cid format"),JSON.stringify($dict$$module$src$utils$object$$({time:Date.now(),cid:$ampdoc$jscomp$33$$}))):$ampdoc$jscomp$33$$})})}
function $read$$module$src$service$cid_impl$$($ampdoc$jscomp$34$$){var $win$jscomp$157$$=$ampdoc$jscomp$34$$.win;try{var $data$jscomp$77$$=$win$jscomp$157$$.localStorage.getItem("amp-cid")}catch($ignore$jscomp$3$$){}var $dataPromise$$=Promise.resolve($data$jscomp$77$$);!$data$jscomp$77$$&&$isIframed$$module$src$dom$$($win$jscomp$157$$)&&($dataPromise$$=$viewerBaseCid$$module$src$service$cid_impl$$($ampdoc$jscomp$34$$));return $dataPromise$$.then(function($ampdoc$jscomp$34$$){if(!$ampdoc$jscomp$34$$)return null;
$ampdoc$jscomp$34$$=$parseJson$$module$src$json$$($ampdoc$jscomp$34$$);return{time:$ampdoc$jscomp$34$$.time,cid:$ampdoc$jscomp$34$$.cid}})}function $isExpired$$module$src$service$cid_impl$$($storedCidInfo$$){var $createdTime$$=$storedCidInfo$$.time;return $createdTime$$+31536E6<Date.now()}
function $getEntropy$$module$src$service$cid_impl$$($win$jscomp$158$$){if($win$jscomp$158$$.crypto&&$win$jscomp$158$$.crypto.getRandomValues){var $JSCompiler_inline_result$jscomp$116_JSCompiler_uint8array$jscomp$inline_495_uint8array$jscomp$1$$=new Uint8Array(16);$win$jscomp$158$$.crypto.getRandomValues($JSCompiler_inline_result$jscomp$116_JSCompiler_uint8array$jscomp$inline_495_uint8array$jscomp$1$$)}else $JSCompiler_inline_result$jscomp$116_JSCompiler_uint8array$jscomp$inline_495_uint8array$jscomp$1$$=
null;return $JSCompiler_inline_result$jscomp$116_JSCompiler_uint8array$jscomp$inline_495_uint8array$jscomp$1$$?$JSCompiler_inline_result$jscomp$116_JSCompiler_uint8array$jscomp$inline_495_uint8array$jscomp$1$$:String($win$jscomp$158$$.location.href+Date.now()+$win$jscomp$158$$.Math.random()+$win$jscomp$158$$.screen.width+$win$jscomp$158$$.screen.height)}
function $getNewCidForCookie$$module$src$service$cid_impl$$($win$jscomp$159$$){var $entropy$$=$getEntropy$$module$src$service$cid_impl$$($win$jscomp$159$$);if("string"==typeof $entropy$$)return $getService$$module$src$service$$($win$jscomp$159$$,"crypto").sha384Base64($entropy$$);var $cast$$=$entropy$$;return $tryResolve$$module$src$utils$promise$$(function(){return $base64UrlEncodeFromBytes$$module$src$utils$base64$$($cast$$).replace(/\.+$/,"")})};function $Crypto$$module$src$service$crypto_impl$$($win$jscomp$160$$){this.$win_$=$win$jscomp$160$$;var $subtle$$=null,$isLegacyWebkit$$=!1;$win$jscomp$160$$.crypto&&($win$jscomp$160$$.crypto.subtle?$subtle$$=$win$jscomp$160$$.crypto.subtle:$win$jscomp$160$$.crypto.webkitSubtle&&($subtle$$=$win$jscomp$160$$.crypto.webkitSubtle,$isLegacyWebkit$$=!0));this.pkcsAlgo={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};this.subtle=$subtle$$;this.$isLegacyWebkit_$=$isLegacyWebkit$$;this.$polyfillPromise_$=
null}$JSCompiler_prototypeAlias$$=$Crypto$$module$src$service$crypto_impl$$.prototype;
$JSCompiler_prototypeAlias$$.sha384=function($input$jscomp$24$$){var $$jscomp$this$jscomp$54$$=this;"string"===typeof $input$jscomp$24$$&&($input$jscomp$24$$=$stringToBytes$$module$src$utils$bytes$$($input$jscomp$24$$));if(!this.subtle||this.$polyfillPromise_$)return(this.$polyfillPromise_$||$JSCompiler_StaticMethods_loadPolyfill_$$(this)).then(function($$jscomp$this$jscomp$54$$){return $$jscomp$this$jscomp$54$$($input$jscomp$24$$)});try{return this.subtle.digest({name:"SHA-384"},$input$jscomp$24$$).then(function($input$jscomp$24$$){return new Uint8Array($input$jscomp$24$$)},
function($e$jscomp$55$$){$e$jscomp$55$$.message&&0>$e$jscomp$55$$.message.indexOf("secure origin")&&$user$$module$src$log$$().error("Crypto","SubtleCrypto failed, fallback to closure lib.",$e$jscomp$55$$);return $JSCompiler_StaticMethods_loadPolyfill_$$($$jscomp$this$jscomp$54$$).then(function(){return $$jscomp$this$jscomp$54$$.sha384($input$jscomp$24$$)})})}catch($e$jscomp$56$$){return $dev$$module$src$log$$().error("Crypto","SubtleCrypto failed, fallback to closure lib.",$e$jscomp$56$$),$JSCompiler_StaticMethods_loadPolyfill_$$(this).then(function(){return $$jscomp$this$jscomp$54$$.sha384($input$jscomp$24$$)})}};
$JSCompiler_prototypeAlias$$.sha384Base64=function($input$jscomp$25$$){return this.sha384($input$jscomp$25$$).then(function($input$jscomp$25$$){return $base64UrlEncodeFromBytes$$module$src$utils$base64$$($input$jscomp$25$$)})};
$JSCompiler_prototypeAlias$$.uniform=function($input$jscomp$26$$){return this.sha384($input$jscomp$26$$).then(function($input$jscomp$26$$){for(var $buffer$jscomp$17$$=0,$i$jscomp$80$$=2;0<=$i$jscomp$80$$;$i$jscomp$80$$--)$buffer$jscomp$17$$=($buffer$jscomp$17$$+$input$jscomp$26$$[$i$jscomp$80$$])/256;return $buffer$jscomp$17$$})};
function $JSCompiler_StaticMethods_loadPolyfill_$$($JSCompiler_StaticMethods_loadPolyfill_$self$$){return $JSCompiler_StaticMethods_loadPolyfill_$self$$.$polyfillPromise_$?$JSCompiler_StaticMethods_loadPolyfill_$self$$.$polyfillPromise_$:$JSCompiler_StaticMethods_loadPolyfill_$self$$.$polyfillPromise_$=$Services$$module$src$services$extensionsFor$$($JSCompiler_StaticMethods_loadPolyfill_$self$$.$win_$).preloadExtension("amp-crypto-polyfill").then(function(){return $getService$$module$src$service$$($JSCompiler_StaticMethods_loadPolyfill_$self$$.$win_$,
"crypto-polyfill")})}$JSCompiler_prototypeAlias$$.isPkcsAvailable=function(){return!!this.subtle&&!1!==this.$win_$.isSecureContext};$JSCompiler_prototypeAlias$$.importPkcsKey=function($jwk$$){this.isPkcsAvailable();var $keyData$jscomp$1$$=this.$isLegacyWebkit_$?$utf8Encode$$module$src$utils$bytes$$(JSON.stringify($jwk$$)):$jwk$$;return this.subtle.importKey("jwk",$keyData$jscomp$1$$,this.pkcsAlgo,!0,["verify"])};
$JSCompiler_prototypeAlias$$.verifyPkcs=function($key$jscomp$62$$,$signature$jscomp$1$$,$data$jscomp$79$$){this.isPkcsAvailable();return this.subtle.verify(this.pkcsAlgo,$key$jscomp$62$$,$signature$jscomp$1$$,$data$jscomp$79$$)};var $filteredLinkRels$$module$src$service$document_info_impl$$=["prefetch","preload","preconnect","dns-prefetch"];function $DocInfo$$module$src$service$document_info_impl$$($ampdoc$jscomp$37$$){this.$ampdoc_$=$ampdoc$jscomp$37$$;this.$info_$=null}
$DocInfo$$module$src$service$document_info_impl$$.prototype.get=function(){if(this.$info_$)return this.$info_$;var $ampdoc$jscomp$38$$=this.$ampdoc_$,$rootNode$jscomp$3_url$jscomp$58$$=$ampdoc$jscomp$38$$.getUrl(),$sourceUrl$$=$getSourceUrl$$module$src$url$$($rootNode$jscomp$3_url$jscomp$58$$),$canonicalUrl$jscomp$2$$=($rootNode$jscomp$3_url$jscomp$58$$=$ampdoc$jscomp$38$$.getRootNode())&&$rootNode$jscomp$3_url$jscomp$58$$.AMP&&$rootNode$jscomp$3_url$jscomp$58$$.AMP.canonicalUrl;if(!$canonicalUrl$jscomp$2$$){var $canonicalTag$$=
$rootNode$jscomp$3_url$jscomp$58$$.querySelector("link[rel=canonical]");$canonicalUrl$jscomp$2$$=$canonicalTag$$?$parseUrlDeprecated$$module$src$url$$($canonicalTag$$.href).href:$sourceUrl$$}var $pageViewId$$=String(Math.floor(1E4*$ampdoc$jscomp$38$$.win.Math.random())),$linkRels$$=$getLinkRels$$module$src$service$document_info_impl$$($ampdoc$jscomp$38$$.win.document),$metaTags$$=$getMetaTags$$module$src$service$document_info_impl$$($ampdoc$jscomp$38$$.win.document),$replaceParams$$=$getReplaceParams$$module$src$service$document_info_impl$$($ampdoc$jscomp$38$$);
return this.$info_$={get sourceUrl(){return $getSourceUrl$$module$src$url$$($ampdoc$jscomp$38$$.getUrl())},canonicalUrl:$canonicalUrl$jscomp$2$$,pageViewId:$pageViewId$$,linkRels:$linkRels$$,metaTags:$metaTags$$,replaceParams:$replaceParams$$}};
function $getLinkRels$$module$src$service$document_info_impl$$($$jscomp$loop$97_doc$jscomp$31$$){var $linkRels$jscomp$1$$=$map$$module$src$utils$object$$();if($$jscomp$loop$97_doc$jscomp$31$$.head){var $links$$=$$jscomp$loop$97_doc$jscomp$31$$.head.querySelectorAll("link[rel]");$$jscomp$loop$97_doc$jscomp$31$$={};for(var $i$jscomp$81$$=0;$i$jscomp$81$$<$links$$.length;$$jscomp$loop$97_doc$jscomp$31$$={$$jscomp$loop$prop$href$98$:$$jscomp$loop$97_doc$jscomp$31$$.$$jscomp$loop$prop$href$98$},$i$jscomp$81$$++){var $link$$=
$links$$[$i$jscomp$81$$];$$jscomp$loop$97_doc$jscomp$31$$.$$jscomp$loop$prop$href$98$=$link$$.href;var $rels$$=$link$$.getAttribute("rel");$rels$$&&$$jscomp$loop$97_doc$jscomp$31$$.$$jscomp$loop$prop$href$98$&&$rels$$.split(/\s+/).forEach(function($$jscomp$loop$97_doc$jscomp$31$$){return function($links$$){if(-1==$filteredLinkRels$$module$src$service$document_info_impl$$.indexOf($links$$)){var $i$jscomp$81$$=$linkRels$jscomp$1$$[$links$$];$i$jscomp$81$$?($isArray$$module$src$types$$($i$jscomp$81$$)||
($i$jscomp$81$$=$linkRels$jscomp$1$$[$links$$]=[$i$jscomp$81$$]),$i$jscomp$81$$.push($$jscomp$loop$97_doc$jscomp$31$$.$$jscomp$loop$prop$href$98$)):$linkRels$jscomp$1$$[$links$$]=$$jscomp$loop$97_doc$jscomp$31$$.$$jscomp$loop$prop$href$98$}}}($$jscomp$loop$97_doc$jscomp$31$$))}}return $linkRels$jscomp$1$$}
function $getMetaTags$$module$src$service$document_info_impl$$($doc$jscomp$32_i$jscomp$82$$){var $metaTags$jscomp$1$$=$map$$module$src$utils$object$$();if($doc$jscomp$32_i$jscomp$82$$.head){var $metas$$=$doc$jscomp$32_i$jscomp$82$$.head.querySelectorAll("meta[name]");for($doc$jscomp$32_i$jscomp$82$$=0;$doc$jscomp$32_i$jscomp$82$$<$metas$$.length;$doc$jscomp$32_i$jscomp$82$$++){var $meta$jscomp$2_name$jscomp$139$$=$metas$$[$doc$jscomp$32_i$jscomp$82$$],$content$jscomp$2$$=$meta$jscomp$2_name$jscomp$139$$.getAttribute("content");
if(($meta$jscomp$2_name$jscomp$139$$=$meta$jscomp$2_name$jscomp$139$$.getAttribute("name"))&&$content$jscomp$2$$){var $value$jscomp$133$$=$metaTags$jscomp$1$$[$meta$jscomp$2_name$jscomp$139$$];$value$jscomp$133$$?($isArray$$module$src$types$$($value$jscomp$133$$)||($value$jscomp$133$$=$metaTags$jscomp$1$$[$meta$jscomp$2_name$jscomp$139$$]=[$value$jscomp$133$$]),$value$jscomp$133$$.push($content$jscomp$2$$)):$metaTags$jscomp$1$$[$meta$jscomp$2_name$jscomp$139$$]=$content$jscomp$2$$}}}return $metaTags$jscomp$1$$}
function $getReplaceParams$$module$src$service$document_info_impl$$($ampdoc$jscomp$39_url$jscomp$59$$){var $JSCompiler_temp$jscomp$126_JSCompiler_url$jscomp$inline_497$$;($JSCompiler_temp$jscomp$126_JSCompiler_url$jscomp$inline_497$$=!$ampdoc$jscomp$39_url$jscomp$59$$.isSingleDoc())||($JSCompiler_temp$jscomp$126_JSCompiler_url$jscomp$inline_497$$=$ampdoc$jscomp$39_url$jscomp$59$$.win.location.href,"string"==typeof $JSCompiler_temp$jscomp$126_JSCompiler_url$jscomp$inline_497$$&&($JSCompiler_temp$jscomp$126_JSCompiler_url$jscomp$inline_497$$=
$parseUrlDeprecated$$module$src$url$$($JSCompiler_temp$jscomp$126_JSCompiler_url$jscomp$inline_497$$)),$JSCompiler_temp$jscomp$126_JSCompiler_url$jscomp$inline_497$$="a"!=($isProxyOrigin$$module$src$url$$($JSCompiler_temp$jscomp$126_JSCompiler_url$jscomp$inline_497$$)?$JSCompiler_temp$jscomp$126_JSCompiler_url$jscomp$inline_497$$.pathname.split("/",2)[1]:null));if($JSCompiler_temp$jscomp$126_JSCompiler_url$jscomp$inline_497$$)return null;$ampdoc$jscomp$39_url$jscomp$59$$=$parseUrlDeprecated$$module$src$url$$($ampdoc$jscomp$39_url$jscomp$59$$.win.location.href);
var $replaceRaw$$=$parseQueryString_$$module$src$url_parse_query_string$$($ampdoc$jscomp$39_url$jscomp$59$$.search).amp_r;return void 0===$replaceRaw$$?null:$parseQueryString_$$module$src$url_parse_query_string$$($replaceRaw$$)};function $Observable$$module$src$observable$$(){this.$handlers_$=null}$JSCompiler_prototypeAlias$$=$Observable$$module$src$observable$$.prototype;$JSCompiler_prototypeAlias$$.add=function($handler$jscomp$14$$){var $$jscomp$this$jscomp$56$$=this;this.$handlers_$||(this.$handlers_$=[]);this.$handlers_$.push($handler$jscomp$14$$);return function(){$$jscomp$this$jscomp$56$$.remove($handler$jscomp$14$$)}};
$JSCompiler_prototypeAlias$$.remove=function($handler$jscomp$15_index$jscomp$75$$){this.$handlers_$&&($handler$jscomp$15_index$jscomp$75$$=this.$handlers_$.indexOf($handler$jscomp$15_index$jscomp$75$$),-1<$handler$jscomp$15_index$jscomp$75$$&&this.$handlers_$.splice($handler$jscomp$15_index$jscomp$75$$,1))};$JSCompiler_prototypeAlias$$.removeAll=function(){this.$handlers_$&&(this.$handlers_$.length=0)};
$JSCompiler_prototypeAlias$$.fire=function($opt_event$$){if(this.$handlers_$)for(var $handlers$$=this.$handlers_$,$i$jscomp$83$$=0;$i$jscomp$83$$<$handlers$$.length;$i$jscomp$83$$++)(0,$handlers$$[$i$jscomp$83$$])($opt_event$$)};$JSCompiler_prototypeAlias$$.getHandlerCount=function(){return this.$handlers_$?this.$handlers_$.length:0};function $DocumentState$$module$src$service$document_state$$($win$jscomp$163$$){this.win=$win$jscomp$163$$;this.$document_$=$win$jscomp$163$$.document;this.$hiddenProp_$=$getVendorJsPropertyName$$module$src$style$$(this.$document_$,"hidden",!0);void 0===this.$document_$[this.$hiddenProp_$]&&(this.$hiddenProp_$=null);this.$visibilityStateProp_$=$getVendorJsPropertyName$$module$src$style$$(this.$document_$,"visibilityState",!0);void 0===this.$document_$[this.$visibilityStateProp_$]&&(this.$visibilityStateProp_$=
null);this.$visibilityObservable_$=new $Observable$$module$src$observable$$;this.$visibilityChangeEvent_$=null;if(this.$hiddenProp_$){this.$visibilityChangeEvent_$="visibilitychange";var $vendorStop$$=this.$hiddenProp_$.indexOf("Hidden");-1!=$vendorStop$$&&(this.$visibilityChangeEvent_$=this.$hiddenProp_$.substring(0,$vendorStop$$)+"Visibilitychange")}this.$boundOnVisibilityChanged_$=this.$onVisibilityChanged_$.bind(this);this.$visibilityChangeEvent_$&&this.$document_$.addEventListener(this.$visibilityChangeEvent_$,
this.$boundOnVisibilityChanged_$);this.$bodyAvailableObservable_$=null}$JSCompiler_prototypeAlias$$=$DocumentState$$module$src$service$document_state$$.prototype;$JSCompiler_prototypeAlias$$.isHidden=function(){return this.$hiddenProp_$?this.$document_$[this.$hiddenProp_$]:!1};$JSCompiler_prototypeAlias$$.getVisibilityState=function(){return this.$visibilityStateProp_$?this.$document_$[this.$visibilityStateProp_$]:this.isHidden()?"hidden":"visible"};
$JSCompiler_prototypeAlias$$.onVisibilityChanged=function($handler$jscomp$17$$){return this.$visibilityObservable_$.add($handler$jscomp$17$$)};$JSCompiler_prototypeAlias$$.$onVisibilityChanged_$=function(){this.$visibilityObservable_$.fire()};
$JSCompiler_prototypeAlias$$.onBodyAvailable=function($handler$jscomp$18$$){var $doc$jscomp$33$$=this.$document_$;if($doc$jscomp$33$$.body)return $handler$jscomp$18$$(),null;this.$bodyAvailableObservable_$||(this.$bodyAvailableObservable_$=new $Observable$$module$src$observable$$,$waitForChild$$module$src$dom$$($doc$jscomp$33$$.documentElement,function(){return!!$doc$jscomp$33$$.body},this.$onBodyAvailable_$.bind(this)));return this.$bodyAvailableObservable_$.add($handler$jscomp$18$$)};
$JSCompiler_prototypeAlias$$.$onBodyAvailable_$=function(){this.$bodyAvailableObservable_$.fire();this.$bodyAvailableObservable_$.removeAll();this.$bodyAvailableObservable_$=null};var $trackImpressionPromise$$module$src$impression$$=null,$DEFAULT_APPEND_URL_PARAM$$module$src$impression$$=["gclid","gclsrc"];function $getTrackImpressionPromise$$module$src$impression$$(){return $userAssert$$module$src$log$$($trackImpressionPromise$$module$src$impression$$,"E#19457 trackImpressionPromise")}
function $shouldAppendExtraParams$$module$src$impression$$($ampdoc$jscomp$40$$){return $ampdoc$jscomp$40$$.whenReady().then(function(){return!!$ampdoc$jscomp$40$$.getBody().querySelector("amp-analytics[type=googleanalytics]")})};function $PriorityQueue$$module$src$utils$priority_queue$$(){this.$queue_$=[]}$PriorityQueue$$module$src$utils$priority_queue$$.prototype.peek=function(){var $l$$=this.$queue_$.length;return $l$$?this.$queue_$[$l$$-1].item:null};
$PriorityQueue$$module$src$utils$priority_queue$$.prototype.enqueue=function($item$jscomp$5$$,$priority$jscomp$1$$){if(isNaN($priority$jscomp$1$$))throw Error("Priority must not be NaN.");for(var $JSCompiler_i$jscomp$inline_501$$=-1,$JSCompiler_lo$jscomp$inline_502$$=0,$JSCompiler_hi$jscomp$inline_503$$=this.$queue_$.length;$JSCompiler_lo$jscomp$inline_502$$<=$JSCompiler_hi$jscomp$inline_503$$;){$JSCompiler_i$jscomp$inline_501$$=Math.floor(($JSCompiler_lo$jscomp$inline_502$$+$JSCompiler_hi$jscomp$inline_503$$)/
2);if($JSCompiler_i$jscomp$inline_501$$===this.$queue_$.length)break;if(this.$queue_$[$JSCompiler_i$jscomp$inline_501$$].priority<$priority$jscomp$1$$)$JSCompiler_lo$jscomp$inline_502$$=$JSCompiler_i$jscomp$inline_501$$+1;else if(0<$JSCompiler_i$jscomp$inline_501$$&&this.$queue_$[$JSCompiler_i$jscomp$inline_501$$-1].priority>=$priority$jscomp$1$$)$JSCompiler_hi$jscomp$inline_503$$=$JSCompiler_i$jscomp$inline_501$$-1;else break}this.$queue_$.splice($JSCompiler_i$jscomp$inline_501$$,0,{item:$item$jscomp$5$$,
priority:$priority$jscomp$1$$})};$PriorityQueue$$module$src$utils$priority_queue$$.prototype.forEach=function($callback$jscomp$78$$){for(var $index$jscomp$76$$=this.$queue_$.length;$index$jscomp$76$$--;)$callback$jscomp$78$$(this.$queue_$[$index$jscomp$76$$].item)};$PriorityQueue$$module$src$utils$priority_queue$$.prototype.dequeue=function(){return this.$queue_$.length?this.$queue_$.pop().item:null};
$$jscomp$global$$.Object.defineProperties($PriorityQueue$$module$src$utils$priority_queue$$.prototype,{length:{configurable:!0,enumerable:!0,get:function(){return this.$queue_$.length}}});var $VALID_TARGETS$$module$src$service$navigation$$=["_top","_blank"];
function $Navigation$$module$src$service$navigation$$($ampdoc$jscomp$43$$,$opt_rootNode$$){var $$jscomp$this$jscomp$57$$=this;this.ampdoc=$ampdoc$jscomp$43$$;this.$rootNode_$=$opt_rootNode$$||$ampdoc$jscomp$43$$.getRootNode();this.$viewport_$=$Services$$module$src$services$viewportForDoc$$(this.ampdoc);this.$viewer_$=$Services$$module$src$services$viewerForDoc$$(this.ampdoc);this.$history_$=$getServiceForDoc$$module$src$service$$(this.ampdoc,"history");this.$platform_$=$Services$$module$src$services$platformFor$$(this.ampdoc.win);
this.$isIosSafari_$=this.$platform_$.isIos()&&this.$platform_$.isSafari();this.$isIframed_$=$isIframed$$module$src$dom$$(this.ampdoc.win)&&this.$viewer_$.isOvertakeHistory();this.$isEmbed_$=this.$rootNode_$!=this.ampdoc.getRootNode();this.$isInABox_$="inabox"==$getMode$$module$src$mode$$(this.ampdoc.win).runtime;this.$serviceContext_$=this.$rootNode_$.nodeType==Node.DOCUMENT_NODE?this.$rootNode_$.documentElement:this.$rootNode_$;this.$boundHandle_$=this.$handle_$.bind(this);this.$rootNode_$.addEventListener("click",
this.$boundHandle_$);this.$rootNode_$.addEventListener("contextmenu",this.$boundHandle_$);this.$appendExtraParams_$=!1;$shouldAppendExtraParams$$module$src$impression$$(this.ampdoc).then(function($ampdoc$jscomp$43$$){$$jscomp$this$jscomp$57$$.$appendExtraParams_$=$ampdoc$jscomp$43$$});this.$a2aFeatures_$=null;this.$anchorMutators_$=new $PriorityQueue$$module$src$utils$priority_queue$$}
$Navigation$$module$src$service$navigation$$.installInEmbedWindow=function($embedWin$jscomp$4$$,$ampdoc$jscomp$45$$){$installServiceInEmbedScope$$module$src$service$$($embedWin$jscomp$4$$,"navigation",new $Navigation$$module$src$service$navigation$$($ampdoc$jscomp$45$$,$embedWin$jscomp$4$$.document))};$JSCompiler_prototypeAlias$$=$Navigation$$module$src$service$navigation$$.prototype;
$JSCompiler_prototypeAlias$$.cleanup=function(){this.$boundHandle_$&&(this.$rootNode_$.removeEventListener("click",this.$boundHandle_$),this.$rootNode_$.removeEventListener("contextmenu",this.$boundHandle_$))};
$JSCompiler_prototypeAlias$$.openWindow=function($win$jscomp$171$$,$url$jscomp$64$$,$target$jscomp$106$$,$opener$$){var $options$jscomp$25$$="";!this.$platform_$.isIos()&&this.$platform_$.isChrome()||$opener$$||($options$jscomp$25$$+="noopener");var $newWin$$=$openWindowDialog$$module$src$dom$$($win$jscomp$171$$,$url$jscomp$64$$,$target$jscomp$106$$,$options$jscomp$25$$);$newWin$$&&!$opener$$&&($newWin$$.opener=null)};
$JSCompiler_prototypeAlias$$.navigateTo=function($win$jscomp$172$$,$url$jscomp$65$$,$opt_requestedBy$$,$$jscomp$destructuring$var85_target$jscomp$107$$){var $$jscomp$destructuring$var86_opener$jscomp$1$$=void 0===$$jscomp$destructuring$var85_target$jscomp$107$$?{}:$$jscomp$destructuring$var85_target$jscomp$107$$;$$jscomp$destructuring$var85_target$jscomp$107$$=void 0===$$jscomp$destructuring$var86_opener$jscomp$1$$.target?"_top":$$jscomp$destructuring$var86_opener$jscomp$1$$.target;$$jscomp$destructuring$var86_opener$jscomp$1$$=
void 0===$$jscomp$destructuring$var86_opener$jscomp$1$$.opener?!1:$$jscomp$destructuring$var86_opener$jscomp$1$$.opener;var $urlService$$=$getExistingServiceForDocInEmbedScope$$module$src$service$$(this.$serviceContext_$,"url");if($urlService$$.isProtocolValid($url$jscomp$65$$))if($userAssert$$module$src$log$$($VALID_TARGETS$$module$src$service$navigation$$.includes($$jscomp$destructuring$var85_target$jscomp$107$$),"Target '"+$$jscomp$destructuring$var85_target$jscomp$107$$+"' not supported."),"_blank"==
$$jscomp$destructuring$var85_target$jscomp$107$$)this.openWindow($win$jscomp$172$$,$url$jscomp$65$$,$$jscomp$destructuring$var85_target$jscomp$107$$,$$jscomp$destructuring$var86_opener$jscomp$1$$);else{if($opt_requestedBy$$&&(this.$a2aFeatures_$||(this.$a2aFeatures_$=$JSCompiler_StaticMethods_queryA2AFeatures_$$(this)),this.$a2aFeatures_$.includes($opt_requestedBy$$)&&this.navigateToAmpUrl($url$jscomp$65$$,$opt_requestedBy$$)))return;$win$jscomp$172$$.top.location.href=$url$jscomp$65$$}else $user$$module$src$log$$().error("navigation",
"Cannot navigate to invalid protocol: "+$url$jscomp$65$$)};$JSCompiler_prototypeAlias$$.navigateToAmpUrl=function($url$jscomp$66$$,$requestedBy$$){return this.$viewer_$.hasCapability("a2a")?(this.$viewer_$.sendMessage("a2aNavigate",$dict$$module$src$utils$object$$({url:$url$jscomp$66$$,requestedBy:$requestedBy$$})),!0):!1};
function $JSCompiler_StaticMethods_queryA2AFeatures_$$($JSCompiler_StaticMethods_queryA2AFeatures_$self_meta$jscomp$3$$){return($JSCompiler_StaticMethods_queryA2AFeatures_$self_meta$jscomp$3$$=$JSCompiler_StaticMethods_queryA2AFeatures_$self_meta$jscomp$3$$.$rootNode_$.querySelector('meta[name="amp-to-amp-navigation"]'))&&$JSCompiler_StaticMethods_queryA2AFeatures_$self_meta$jscomp$3$$.hasAttribute("content")?$JSCompiler_StaticMethods_queryA2AFeatures_$self_meta$jscomp$3$$.getAttribute("content").split(",").map(function($JSCompiler_StaticMethods_queryA2AFeatures_$self_meta$jscomp$3$$){return $JSCompiler_StaticMethods_queryA2AFeatures_$self_meta$jscomp$3$$.trim()}):
[]}
$JSCompiler_prototypeAlias$$.$handle_$=function($e$jscomp$58$$){if(!$e$jscomp$58$$.defaultPrevented){var $target$jscomp$108$$=$closestAncestorElementBySelector$$module$src$dom$$($e$jscomp$58$$.target,"A");if($target$jscomp$108$$&&$target$jscomp$108$$.href)if("click"==$e$jscomp$58$$.type){$JSCompiler_StaticMethods_expandVarsForAnchor_$$(this,$target$jscomp$108$$);var $JSCompiler_isNormalProtocol$jscomp$inline_844_JSCompiler_location$jscomp$inline_508_JSCompiler_protocol$jscomp$inline_842$$=$JSCompiler_StaticMethods_parseUrl_$$(this,$target$jscomp$108$$.href),
$JSCompiler_inline_result$jscomp$752_JSCompiler_temp$jscomp$751_JSCompiler_win$jscomp$inline_840$$;if($JSCompiler_inline_result$jscomp$752_JSCompiler_temp$jscomp$751_JSCompiler_win$jscomp$inline_840$$=!$JSCompiler_StaticMethods_handleA2AClick_$$(this,$e$jscomp$58$$,$target$jscomp$108$$,$JSCompiler_isNormalProtocol$jscomp$inline_844_JSCompiler_location$jscomp$inline_508_JSCompiler_protocol$jscomp$inline_842$$)){if(this.$isIframed_$){$JSCompiler_inline_result$jscomp$752_JSCompiler_temp$jscomp$751_JSCompiler_win$jscomp$inline_840$$=
$target$jscomp$108$$.ownerDocument.defaultView;var $JSCompiler_url$jscomp$inline_841$$=$target$jscomp$108$$.href;$JSCompiler_isNormalProtocol$jscomp$inline_844_JSCompiler_location$jscomp$inline_508_JSCompiler_protocol$jscomp$inline_842$$=$JSCompiler_isNormalProtocol$jscomp$inline_844_JSCompiler_location$jscomp$inline_508_JSCompiler_protocol$jscomp$inline_842$$.protocol;"ftp:"==$JSCompiler_isNormalProtocol$jscomp$inline_844_JSCompiler_location$jscomp$inline_508_JSCompiler_protocol$jscomp$inline_842$$?
($openWindowDialog$$module$src$dom$$($JSCompiler_inline_result$jscomp$752_JSCompiler_temp$jscomp$751_JSCompiler_win$jscomp$inline_840$$,$JSCompiler_url$jscomp$inline_841$$,"_blank"),$e$jscomp$58$$.preventDefault(),$JSCompiler_inline_result$jscomp$752_JSCompiler_temp$jscomp$751_JSCompiler_win$jscomp$inline_840$$=!0):($JSCompiler_isNormalProtocol$jscomp$inline_844_JSCompiler_location$jscomp$inline_508_JSCompiler_protocol$jscomp$inline_842$$=/^(https?|mailto):$/.test($JSCompiler_isNormalProtocol$jscomp$inline_844_JSCompiler_location$jscomp$inline_508_JSCompiler_protocol$jscomp$inline_842$$),
this.$isIosSafari_$&&!$JSCompiler_isNormalProtocol$jscomp$inline_844_JSCompiler_location$jscomp$inline_508_JSCompiler_protocol$jscomp$inline_842$$?($openWindowDialog$$module$src$dom$$($JSCompiler_inline_result$jscomp$752_JSCompiler_temp$jscomp$751_JSCompiler_win$jscomp$inline_840$$,$JSCompiler_url$jscomp$inline_841$$,"_top"),$e$jscomp$58$$.preventDefault(),$JSCompiler_inline_result$jscomp$752_JSCompiler_temp$jscomp$751_JSCompiler_win$jscomp$inline_840$$=!0):$JSCompiler_inline_result$jscomp$752_JSCompiler_temp$jscomp$751_JSCompiler_win$jscomp$inline_840$$=
!1)}else $JSCompiler_inline_result$jscomp$752_JSCompiler_temp$jscomp$751_JSCompiler_win$jscomp$inline_840$$=!1;$JSCompiler_inline_result$jscomp$752_JSCompiler_temp$jscomp$751_JSCompiler_win$jscomp$inline_840$$=!$JSCompiler_inline_result$jscomp$752_JSCompiler_temp$jscomp$751_JSCompiler_win$jscomp$inline_840$$}$JSCompiler_inline_result$jscomp$752_JSCompiler_temp$jscomp$751_JSCompiler_win$jscomp$inline_840$$&&($JSCompiler_StaticMethods_anchorMutatorHandlers_$$(this,$target$jscomp$108$$,$e$jscomp$58$$),
$JSCompiler_isNormalProtocol$jscomp$inline_844_JSCompiler_location$jscomp$inline_508_JSCompiler_protocol$jscomp$inline_842$$=$JSCompiler_StaticMethods_parseUrl_$$(this,$target$jscomp$108$$.href),$JSCompiler_StaticMethods_handleNavClick_$$(this,$e$jscomp$58$$,$target$jscomp$108$$,$JSCompiler_isNormalProtocol$jscomp$inline_844_JSCompiler_location$jscomp$inline_508_JSCompiler_protocol$jscomp$inline_842$$))}else"contextmenu"==$e$jscomp$58$$.type&&($JSCompiler_StaticMethods_expandVarsForAnchor_$$(this,
$target$jscomp$108$$),$JSCompiler_StaticMethods_anchorMutatorHandlers_$$(this,$target$jscomp$108$$,$e$jscomp$58$$))}};
function $JSCompiler_StaticMethods_anchorMutatorHandlers_$$($JSCompiler_StaticMethods_anchorMutatorHandlers_$self$$,$target$jscomp$111$$,$e$jscomp$61$$){$JSCompiler_StaticMethods_anchorMutatorHandlers_$self$$.$anchorMutators_$.forEach(function($JSCompiler_StaticMethods_anchorMutatorHandlers_$self$$){$JSCompiler_StaticMethods_anchorMutatorHandlers_$self$$($target$jscomp$111$$,$e$jscomp$61$$)})}
function $JSCompiler_StaticMethods_expandVarsForAnchor_$$($JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_518_JSCompiler_url$jscomp$inline_516$$,$el$jscomp$13$$){var $defaultExpandParamsUrl$$=null;if($JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_518_JSCompiler_url$jscomp$inline_516$$.$appendExtraParams_$&&!$JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_518_JSCompiler_url$jscomp$inline_516$$.$isEmbed_$){$JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_518_JSCompiler_url$jscomp$inline_516$$=
$parseUrlDeprecated$$module$src$url$$($JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_518_JSCompiler_url$jscomp$inline_516$$.ampdoc.win.location.href);var $JSCompiler_additionalUrlParams$jscomp$inline_521_JSCompiler_existParams$jscomp$inline_524_JSCompiler_loc$jscomp$inline_523_JSCompiler_params$jscomp$inline_517_JSCompiler_url$jscomp$inline_847$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_518_JSCompiler_url$jscomp$inline_516$$.search);
$JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_518_JSCompiler_url$jscomp$inline_516$$=[];for(var $JSCompiler_href$jscomp$inline_522_JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_848_i$45$jscomp$inline_525$$=0;$JSCompiler_href$jscomp$inline_522_JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_848_i$45$jscomp$inline_525$$<$DEFAULT_APPEND_URL_PARAM$$module$src$impression$$.length;$JSCompiler_href$jscomp$inline_522_JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_848_i$45$jscomp$inline_525$$++){var $JSCompiler_param$jscomp$inline_520_JSCompiler_param$jscomp$inline_849$$=
$DEFAULT_APPEND_URL_PARAM$$module$src$impression$$[$JSCompiler_href$jscomp$inline_522_JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_848_i$45$jscomp$inline_525$$];"undefined"!==typeof $JSCompiler_additionalUrlParams$jscomp$inline_521_JSCompiler_existParams$jscomp$inline_524_JSCompiler_loc$jscomp$inline_523_JSCompiler_params$jscomp$inline_517_JSCompiler_url$jscomp$inline_847$$[$JSCompiler_param$jscomp$inline_520_JSCompiler_param$jscomp$inline_849$$]&&$JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_518_JSCompiler_url$jscomp$inline_516$$.push($JSCompiler_param$jscomp$inline_520_JSCompiler_param$jscomp$inline_849$$)}$JSCompiler_additionalUrlParams$jscomp$inline_521_JSCompiler_existParams$jscomp$inline_524_JSCompiler_loc$jscomp$inline_523_JSCompiler_params$jscomp$inline_517_JSCompiler_url$jscomp$inline_847$$=
$el$jscomp$13$$.getAttribute("data-amp-addparams");$JSCompiler_href$jscomp$inline_522_JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_848_i$45$jscomp$inline_525$$=$el$jscomp$13$$.href;$JSCompiler_additionalUrlParams$jscomp$inline_521_JSCompiler_existParams$jscomp$inline_524_JSCompiler_loc$jscomp$inline_523_JSCompiler_params$jscomp$inline_517_JSCompiler_url$jscomp$inline_847$$&&($JSCompiler_href$jscomp$inline_522_JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_848_i$45$jscomp$inline_525$$=
$addParamsToUrl$$module$src$url$$($JSCompiler_href$jscomp$inline_522_JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_848_i$45$jscomp$inline_525$$,$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_additionalUrlParams$jscomp$inline_521_JSCompiler_existParams$jscomp$inline_524_JSCompiler_loc$jscomp$inline_523_JSCompiler_params$jscomp$inline_517_JSCompiler_url$jscomp$inline_847$$)));$JSCompiler_additionalUrlParams$jscomp$inline_521_JSCompiler_existParams$jscomp$inline_524_JSCompiler_loc$jscomp$inline_523_JSCompiler_params$jscomp$inline_517_JSCompiler_url$jscomp$inline_847$$=
$parseUrlDeprecated$$module$src$url$$($JSCompiler_href$jscomp$inline_522_JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_848_i$45$jscomp$inline_525$$);$JSCompiler_additionalUrlParams$jscomp$inline_521_JSCompiler_existParams$jscomp$inline_524_JSCompiler_loc$jscomp$inline_523_JSCompiler_params$jscomp$inline_517_JSCompiler_url$jscomp$inline_847$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_additionalUrlParams$jscomp$inline_521_JSCompiler_existParams$jscomp$inline_524_JSCompiler_loc$jscomp$inline_523_JSCompiler_params$jscomp$inline_517_JSCompiler_url$jscomp$inline_847$$.search);
for($JSCompiler_href$jscomp$inline_522_JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_848_i$45$jscomp$inline_525$$=$JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_518_JSCompiler_url$jscomp$inline_516$$.length-1;0<=$JSCompiler_href$jscomp$inline_522_JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_848_i$45$jscomp$inline_525$$;$JSCompiler_href$jscomp$inline_522_JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_848_i$45$jscomp$inline_525$$--)"undefined"!==
typeof $JSCompiler_additionalUrlParams$jscomp$inline_521_JSCompiler_existParams$jscomp$inline_524_JSCompiler_loc$jscomp$inline_523_JSCompiler_params$jscomp$inline_517_JSCompiler_url$jscomp$inline_847$$[$JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_518_JSCompiler_url$jscomp$inline_516$$[$JSCompiler_href$jscomp$inline_522_JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_848_i$45$jscomp$inline_525$$]]&&$JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_518_JSCompiler_url$jscomp$inline_516$$.splice($JSCompiler_href$jscomp$inline_522_JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_848_i$45$jscomp$inline_525$$,
1);$JSCompiler_additionalUrlParams$jscomp$inline_521_JSCompiler_existParams$jscomp$inline_524_JSCompiler_loc$jscomp$inline_523_JSCompiler_params$jscomp$inline_517_JSCompiler_url$jscomp$inline_847$$="";for($JSCompiler_href$jscomp$inline_522_JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_848_i$45$jscomp$inline_525$$=0;$JSCompiler_href$jscomp$inline_522_JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_848_i$45$jscomp$inline_525$$<$JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_518_JSCompiler_url$jscomp$inline_516$$.length;$JSCompiler_href$jscomp$inline_522_JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_848_i$45$jscomp$inline_525$$++)$JSCompiler_param$jscomp$inline_520_JSCompiler_param$jscomp$inline_849$$=
$JSCompiler_StaticMethods_expandVarsForAnchor_$self_JSCompiler_appendParams$jscomp$inline_518_JSCompiler_url$jscomp$inline_516$$[$JSCompiler_href$jscomp$inline_522_JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_848_i$45$jscomp$inline_525$$],$JSCompiler_additionalUrlParams$jscomp$inline_521_JSCompiler_existParams$jscomp$inline_524_JSCompiler_loc$jscomp$inline_523_JSCompiler_params$jscomp$inline_517_JSCompiler_url$jscomp$inline_847$$+=0==$JSCompiler_href$jscomp$inline_522_JSCompiler_i$jscomp$inline_519_JSCompiler_i$jscomp$inline_848_i$45$jscomp$inline_525$$?
$JSCompiler_param$jscomp$inline_520_JSCompiler_param$jscomp$inline_849$$+"=QUERY_PARAM("+$JSCompiler_param$jscomp$inline_520_JSCompiler_param$jscomp$inline_849$$+")":"&"+$JSCompiler_param$jscomp$inline_520_JSCompiler_param$jscomp$inline_849$$+"=QUERY_PARAM("+$JSCompiler_param$jscomp$inline_520_JSCompiler_param$jscomp$inline_849$$+")";$defaultExpandParamsUrl$$=$JSCompiler_additionalUrlParams$jscomp$inline_521_JSCompiler_existParams$jscomp$inline_524_JSCompiler_loc$jscomp$inline_523_JSCompiler_params$jscomp$inline_517_JSCompiler_url$jscomp$inline_847$$}var $urlReplacements$$=
$getExistingServiceForDocInEmbedScope$$module$src$service$$($el$jscomp$13$$,"url-replace");$urlReplacements$$.maybeExpandLink($el$jscomp$13$$,$defaultExpandParamsUrl$$)}
function $JSCompiler_StaticMethods_handleA2AClick_$$($JSCompiler_StaticMethods_handleA2AClick_$self$$,$e$jscomp$63$$,$target$jscomp$113$$,$location$jscomp$52$$){if(!$target$jscomp$113$$.hasAttribute("rel"))return!1;var $relations$$=$target$jscomp$113$$.getAttribute("rel").split(" ").map(function($JSCompiler_StaticMethods_handleA2AClick_$self$$){return $JSCompiler_StaticMethods_handleA2AClick_$self$$.trim()});return $relations$$.includes("amphtml")?$JSCompiler_StaticMethods_handleA2AClick_$self$$.navigateToAmpUrl($location$jscomp$52$$.href,
"<a rel=amphtml>")?($e$jscomp$63$$.preventDefault(),!0):!1:!1}
function $JSCompiler_StaticMethods_handleNavClick_$$($JSCompiler_StaticMethods_handleNavClick_$self$$,$e$jscomp$64$$,$target$jscomp$114$$,$tgtLoc$$){var $baseHref$$=$getMode$$module$src$mode$$().test&&!$JSCompiler_StaticMethods_handleNavClick_$self$$.$isEmbed_$?$JSCompiler_StaticMethods_handleNavClick_$self$$.ampdoc.win.location.href:"",$curLoc$$=$JSCompiler_StaticMethods_parseUrl_$$($JSCompiler_StaticMethods_handleNavClick_$self$$,$baseHref$$),$tgtHref$$=""+$tgtLoc$$.origin+$tgtLoc$$.pathname+$tgtLoc$$.search,
$curHref$$=""+$curLoc$$.origin+$curLoc$$.pathname+$curLoc$$.search;if($tgtLoc$$.hash&&$tgtHref$$==$curHref$$){if($e$jscomp$64$$.preventDefault(),!$JSCompiler_StaticMethods_handleNavClick_$self$$.$isEmbed_$){var $hash$jscomp$2$$=$tgtLoc$$.hash.slice(1),$elem$jscomp$1$$=null;if($hash$jscomp$2$$){var $escapedHash$$=String($hash$jscomp$2$$).replace($regex$$module$third_party$css_escape$css_escape$$,$escaper$$module$third_party$css_escape$css_escape$$);$elem$jscomp$1$$=$JSCompiler_StaticMethods_handleNavClick_$self$$.$rootNode_$.getElementById($hash$jscomp$2$$)||
$JSCompiler_StaticMethods_handleNavClick_$self$$.$rootNode_$.querySelector('a[name="'+$escapedHash$$+'"]')}$tgtLoc$$.hash!=$curLoc$$.hash?$JSCompiler_StaticMethods_handleNavClick_$self$$.$history_$.replaceStateForTarget($tgtLoc$$.hash).then(function(){$JSCompiler_StaticMethods_scrollToElement_$$($JSCompiler_StaticMethods_handleNavClick_$self$$,$elem$jscomp$1$$,$hash$jscomp$2$$)}):$JSCompiler_StaticMethods_scrollToElement_$$($JSCompiler_StaticMethods_handleNavClick_$self$$,$elem$jscomp$1$$,$hash$jscomp$2$$)}}else if($JSCompiler_StaticMethods_handleNavClick_$self$$.$isEmbed_$||
$JSCompiler_StaticMethods_handleNavClick_$self$$.$isInABox_$){var $targetAttr$$=($target$jscomp$114$$.getAttribute("target")||"").toLowerCase();"_top"!=$targetAttr$$&&"_blank"!=$targetAttr$$&&$target$jscomp$114$$.setAttribute("target","_blank")}else if($Services$$module$src$services$platformFor$$($JSCompiler_StaticMethods_handleNavClick_$self$$.ampdoc.win).isIe()){var $internalTargetElmId$$=$tgtLoc$$.hash.substring(1),$internalElm$$=$JSCompiler_StaticMethods_handleNavClick_$self$$.ampdoc.getElementById($internalTargetElmId$$);
$internalElm$$&&(/^(?:a|select|input|button|textarea)$/i.test($internalElm$$.tagName)||($internalElm$$.tabIndex=-1),$tryFocus$$module$src$dom$$($internalElm$$))}}$JSCompiler_prototypeAlias$$.registerAnchorMutator=function($callback$jscomp$79$$,$priority$jscomp$2$$){this.$anchorMutators_$.enqueue($callback$jscomp$79$$,$priority$jscomp$2$$)};
function $JSCompiler_StaticMethods_scrollToElement_$$($JSCompiler_StaticMethods_scrollToElement_$self$$,$elem$jscomp$2$$,$hash$jscomp$3$$){$elem$jscomp$2$$?($JSCompiler_StaticMethods_scrollToElement_$self$$.$viewport_$.scrollIntoView($elem$jscomp$2$$),$Services$$module$src$services$timerFor$$($JSCompiler_StaticMethods_scrollToElement_$self$$.ampdoc.win).delay(function(){return $JSCompiler_StaticMethods_scrollToElement_$self$$.$viewport_$.scrollIntoView($elem$jscomp$2$$)},1)):$dev$$module$src$log$$().warn("navigation",
"failed to find element with id="+$hash$jscomp$3$$+" or a[name="+$hash$jscomp$3$$+"]")}function $JSCompiler_StaticMethods_parseUrl_$$($JSCompiler_StaticMethods_parseUrl_$self$$,$url$jscomp$68$$){return $getExistingServiceForDocInEmbedScope$$module$src$service$$($JSCompiler_StaticMethods_parseUrl_$self$$.$serviceContext_$,"url").parse($url$jscomp$68$$)};function $installGlobalSubmitListenerForDoc$$module$src$document_submit$$($ampdoc$jscomp$47$$){$isExtensionScriptInNode$$module$src$element_service$$($ampdoc$jscomp$47$$).then(function($ampFormInstalled$$){$ampFormInstalled$$&&$ampdoc$jscomp$47$$.getRootNode().addEventListener("submit",$onDocumentFormSubmit_$$module$src$document_submit$$,!0)})}
function $onDocumentFormSubmit_$$module$src$document_submit$$($e$jscomp$66$$){if(!$e$jscomp$66$$.defaultPrevented){var $form$jscomp$3$$=$e$jscomp$66$$.target;if($form$jscomp$3$$&&"FORM"==$form$jscomp$3$$.tagName){var $isAmpFormMarked$$=$form$jscomp$3$$.classList.contains("i-amphtml-form"),$shouldValidate$$;($shouldValidate$$=$isAmpFormMarked$$?!$form$jscomp$3$$.hasAttribute("amp-novalidate"):!$form$jscomp$3$$.hasAttribute("novalidate"))&&$form$jscomp$3$$.checkValidity&&!$form$jscomp$3$$.checkValidity()&&
$e$jscomp$66$$.preventDefault();for(var $inputs$$=$form$jscomp$3$$.elements,$action$jscomp$12_i$jscomp$88_target$jscomp$116$$=0;$action$jscomp$12_i$jscomp$88_target$jscomp$116$$<$inputs$$.length;$action$jscomp$12_i$jscomp$88_target$jscomp$116$$++)$userAssert$$module$src$log$$(!$inputs$$[$action$jscomp$12_i$jscomp$88_target$jscomp$116$$].name||"__amp_source_origin"!=$inputs$$[$action$jscomp$12_i$jscomp$88_target$jscomp$116$$].name,"Illegal input name, %s found: %s","__amp_source_origin",$inputs$$[$action$jscomp$12_i$jscomp$88_target$jscomp$116$$]);
$action$jscomp$12_i$jscomp$88_target$jscomp$116$$=$form$jscomp$3$$.getAttribute("action");var $actionXhr$$=$form$jscomp$3$$.getAttribute("action-xhr"),$method$jscomp$13$$=($form$jscomp$3$$.getAttribute("method")||"GET").toUpperCase();$actionXhr$$&&($assertHttpsUrl$$module$src$url$$($actionXhr$$,$form$jscomp$3$$,"action-xhr"),$userAssert$$module$src$log$$(!$isProxyOrigin$$module$src$url$$($actionXhr$$),"form action-xhr should not be on AMP CDN: %s",$form$jscomp$3$$),$checkCorsUrl$$module$src$url$$($actionXhr$$));
$action$jscomp$12_i$jscomp$88_target$jscomp$116$$&&($assertHttpsUrl$$module$src$url$$($action$jscomp$12_i$jscomp$88_target$jscomp$116$$,$form$jscomp$3$$,"action"),$userAssert$$module$src$log$$(!$isProxyOrigin$$module$src$url$$($action$jscomp$12_i$jscomp$88_target$jscomp$116$$),"form action should not be on AMP CDN: %s",$form$jscomp$3$$),$checkCorsUrl$$module$src$url$$($action$jscomp$12_i$jscomp$88_target$jscomp$116$$));"GET"==$method$jscomp$13$$?$userAssert$$module$src$log$$($actionXhr$$||$action$jscomp$12_i$jscomp$88_target$jscomp$116$$,
"form action-xhr or action attribute is required for method=GET: %s",$form$jscomp$3$$):"POST"==$method$jscomp$13$$&&($action$jscomp$12_i$jscomp$88_target$jscomp$116$$&&$user$$module$src$log$$().error("form","action attribute is invalid for method=POST: %s",$form$jscomp$3$$),$actionXhr$$||($e$jscomp$66$$.preventDefault(),$userAssert$$module$src$log$$(!1,"Only XHR based (via action-xhr attribute) submissions are support for POST requests. %s",$form$jscomp$3$$)));($action$jscomp$12_i$jscomp$88_target$jscomp$116$$=
$form$jscomp$3$$.getAttribute("target"))?$userAssert$$module$src$log$$("_blank"==$action$jscomp$12_i$jscomp$88_target$jscomp$116$$||"_top"==$action$jscomp$12_i$jscomp$88_target$jscomp$116$$,"form target=%s is invalid can only be _blank or _top: %s",$action$jscomp$12_i$jscomp$88_target$jscomp$116$$,$form$jscomp$3$$):$form$jscomp$3$$.setAttribute("target","_top");$actionXhr$$&&($e$jscomp$66$$.preventDefault(),$e$jscomp$66$$.stopImmediatePropagation(),$getExistingServiceForDocInEmbedScope$$module$src$service$$($form$jscomp$3$$,
"action").execute($form$jscomp$3$$,"submit",null,$form$jscomp$3$$,$form$jscomp$3$$,$e$jscomp$66$$,100))}}};var $OBSERVER_OPTIONS$$module$src$service$hidden_observer_impl$$={attributes:!0,attributeFilter:["hidden"],subtree:!0};function $HiddenObserver$$module$src$service$hidden_observer_impl$$($ampdoc$jscomp$48$$,$opt_root$jscomp$1$$){this.$root_$=$opt_root$jscomp$1$$||$ampdoc$jscomp$48$$.getRootNode();this.$win_$=(this.$root_$.ownerDocument||this.$root_$).defaultView;this.$observable_$=this.$mutationObserver_$=null}
$HiddenObserver$$module$src$service$hidden_observer_impl$$.installInEmbedWindow=function($embedWin$jscomp$5$$,$ampdoc$jscomp$49$$){$installServiceInEmbedScope$$module$src$service$$($embedWin$jscomp$5$$,"hidden-observer",new $HiddenObserver$$module$src$service$hidden_observer_impl$$($ampdoc$jscomp$49$$,$embedWin$jscomp$5$$.document))};
$HiddenObserver$$module$src$service$hidden_observer_impl$$.prototype.add=function($handler$jscomp$19$$){var $$jscomp$this$jscomp$60$$=this;$JSCompiler_StaticMethods_init_$$(this);var $remove$jscomp$1$$=this.$observable_$.add($handler$jscomp$19$$);return function(){$remove$jscomp$1$$();0===$$jscomp$this$jscomp$60$$.$observable_$.getHandlerCount()&&$$jscomp$this$jscomp$60$$.dispose()}};
function $JSCompiler_StaticMethods_init_$$($JSCompiler_StaticMethods_init_$self$$){if(!$JSCompiler_StaticMethods_init_$self$$.$mutationObserver_$){$JSCompiler_StaticMethods_init_$self$$.$observable_$=new $Observable$$module$src$observable$$;var $mo$jscomp$1$$=new $JSCompiler_StaticMethods_init_$self$$.$win_$.MutationObserver(function($mo$jscomp$1$$){$mo$jscomp$1$$&&$JSCompiler_StaticMethods_init_$self$$.$observable_$.fire($mo$jscomp$1$$)});$JSCompiler_StaticMethods_init_$self$$.$mutationObserver_$=
$mo$jscomp$1$$;$mo$jscomp$1$$.observe($JSCompiler_StaticMethods_init_$self$$.$root_$,$OBSERVER_OPTIONS$$module$src$service$hidden_observer_impl$$)}}$HiddenObserver$$module$src$service$hidden_observer_impl$$.prototype.dispose=function(){this.$mutationObserver_$&&(this.$mutationObserver_$.disconnect(),this.$observable_$.removeAll(),this.$observable_$=this.$mutationObserver_$=null)};function $getState$$module$src$history$$($history$jscomp$1$$){try{return $history$jscomp$1$$.state}catch($e$jscomp$67$$){return null}};function $History$$module$src$service$history_impl$$($ampdoc$jscomp$51$$,$binding$$){this.$ampdoc_$=$ampdoc$jscomp$51$$;this.$timer_$=$Services$$module$src$services$timerFor$$($ampdoc$jscomp$51$$.win);this.$binding_$=$binding$$;this.$stackIndex_$=0;this.$stackOnPop_$=[];this.$queue_$=[];this.$binding_$.setOnStateUpdated(this.$onStateUpdated_$.bind(this))}$JSCompiler_prototypeAlias$$=$History$$module$src$service$history_impl$$.prototype;$JSCompiler_prototypeAlias$$.cleanup=function(){this.$binding_$.cleanup()};
$JSCompiler_prototypeAlias$$.push=function($opt_onPop$$,$opt_stateUpdate$$){var $$jscomp$this$jscomp$62$$=this;return $JSCompiler_StaticMethods_enque_$$(this,function(){return $$jscomp$this$jscomp$62$$.$binding_$.push($opt_stateUpdate$$).then(function($opt_stateUpdate$$){$$jscomp$this$jscomp$62$$.$onStateUpdated_$($opt_stateUpdate$$);$opt_onPop$$&&($$jscomp$this$jscomp$62$$.$stackOnPop_$[$opt_stateUpdate$$.stackIndex]=$opt_onPop$$);return $opt_stateUpdate$$.stackIndex})},"push")};
$JSCompiler_prototypeAlias$$.pop=function($stateId$$){var $$jscomp$this$jscomp$63$$=this;return $JSCompiler_StaticMethods_enque_$$(this,function(){return $$jscomp$this$jscomp$63$$.$binding_$.pop($stateId$$).then(function($stateId$$){$$jscomp$this$jscomp$63$$.$onStateUpdated_$($stateId$$)})},"pop")};
$JSCompiler_prototypeAlias$$.replace=function($opt_stateUpdate$jscomp$1$$){var $$jscomp$this$jscomp$64$$=this;return $JSCompiler_StaticMethods_enque_$$(this,function(){return $$jscomp$this$jscomp$64$$.$binding_$.replace($opt_stateUpdate$jscomp$1$$)},"replace")};$JSCompiler_prototypeAlias$$.get=function(){var $$jscomp$this$jscomp$65$$=this;return $JSCompiler_StaticMethods_enque_$$(this,function(){return $$jscomp$this$jscomp$65$$.$binding_$.get()},"get")};
$JSCompiler_prototypeAlias$$.goBack=function(){var $$jscomp$this$jscomp$66$$=this;return $JSCompiler_StaticMethods_enque_$$(this,function(){return 0>=$$jscomp$this$jscomp$66$$.$stackIndex_$?Promise.resolve():$$jscomp$this$jscomp$66$$.$binding_$.pop($$jscomp$this$jscomp$66$$.$stackIndex_$).then(function($historyState$jscomp$2$$){$$jscomp$this$jscomp$66$$.$onStateUpdated_$($historyState$jscomp$2$$)})},"goBack")};
$JSCompiler_prototypeAlias$$.replaceStateForTarget=function($target$jscomp$117$$){var $$jscomp$this$jscomp$67$$=this,$previousHash$$=this.$ampdoc_$.win.location.hash;return this.push(function(){$$jscomp$this$jscomp$67$$.$ampdoc_$.win.location.replace($previousHash$$||"#")}).then(function(){$$jscomp$this$jscomp$67$$.$binding_$.replaceStateForTarget($target$jscomp$117$$)})};$JSCompiler_prototypeAlias$$.getFragment=function(){return this.$binding_$.getFragment()};
$JSCompiler_prototypeAlias$$.updateFragment=function($fragment$jscomp$1$$){"#"==$fragment$jscomp$1$$[0]&&($fragment$jscomp$1$$=$fragment$jscomp$1$$.substr(1));return this.$binding_$.updateFragment($fragment$jscomp$1$$)};$JSCompiler_prototypeAlias$$.$onStateUpdated_$=function($historyState$jscomp$3$$){this.$stackIndex_$=$historyState$jscomp$3$$.stackIndex;$JSCompiler_StaticMethods_doPop_$$(this,$historyState$jscomp$3$$)};
function $JSCompiler_StaticMethods_doPop_$$($JSCompiler_StaticMethods_doPop_$self$$,$historyState$jscomp$4$$){if(!($JSCompiler_StaticMethods_doPop_$self$$.$stackIndex_$>=$JSCompiler_StaticMethods_doPop_$self$$.$stackOnPop_$.length-1)){for(var $toPop$$=[],$$jscomp$loop$99_i$jscomp$89$$=$JSCompiler_StaticMethods_doPop_$self$$.$stackOnPop_$.length-1;$$jscomp$loop$99_i$jscomp$89$$>$JSCompiler_StaticMethods_doPop_$self$$.$stackIndex_$;$$jscomp$loop$99_i$jscomp$89$$--)$JSCompiler_StaticMethods_doPop_$self$$.$stackOnPop_$[$$jscomp$loop$99_i$jscomp$89$$]&&
($toPop$$.push($JSCompiler_StaticMethods_doPop_$self$$.$stackOnPop_$[$$jscomp$loop$99_i$jscomp$89$$]),$JSCompiler_StaticMethods_doPop_$self$$.$stackOnPop_$[$$jscomp$loop$99_i$jscomp$89$$]=void 0);$JSCompiler_StaticMethods_doPop_$self$$.$stackOnPop_$.splice($JSCompiler_StaticMethods_doPop_$self$$.$stackIndex_$+1);if(0<$toPop$$.length)for($$jscomp$loop$99_i$jscomp$89$$={$$jscomp$loop$prop$i$47$100$:0};$$jscomp$loop$99_i$jscomp$89$$.$$jscomp$loop$prop$i$47$100$<$toPop$$.length;$$jscomp$loop$99_i$jscomp$89$$=
{$$jscomp$loop$prop$i$47$100$:$$jscomp$loop$99_i$jscomp$89$$.$$jscomp$loop$prop$i$47$100$},$$jscomp$loop$99_i$jscomp$89$$.$$jscomp$loop$prop$i$47$100$++)$JSCompiler_StaticMethods_doPop_$self$$.$timer_$.delay(function($JSCompiler_StaticMethods_doPop_$self$$){return function(){return $toPop$$[$JSCompiler_StaticMethods_doPop_$self$$.$$jscomp$loop$prop$i$47$100$]($historyState$jscomp$4$$)}}($$jscomp$loop$99_i$jscomp$89$$),1)}}
function $JSCompiler_StaticMethods_enque_$$($JSCompiler_StaticMethods_enque_$self$$,$callback$jscomp$80$$,$name$jscomp$140$$){var $$jscomp$destructuring$var88$$=new $Deferred$$module$src$utils$promise$$,$promise$jscomp$21$$=$$jscomp$destructuring$var88$$.promise,$trace$$=Error("history trace for "+$name$jscomp$140$$+": ");$JSCompiler_StaticMethods_enque_$self$$.$queue_$.push({callback:$callback$jscomp$80$$,resolve:$$jscomp$destructuring$var88$$.resolve,reject:$$jscomp$destructuring$var88$$.reject,
trace:$trace$$});1==$JSCompiler_StaticMethods_enque_$self$$.$queue_$.length&&$JSCompiler_StaticMethods_deque_$$($JSCompiler_StaticMethods_enque_$self$$);return $promise$jscomp$21$$}
function $JSCompiler_StaticMethods_deque_$$($JSCompiler_StaticMethods_deque_$self$$){if(0!=$JSCompiler_StaticMethods_deque_$self$$.$queue_$.length){var $task$$=$JSCompiler_StaticMethods_deque_$self$$.$queue_$[0];try{var $promise$jscomp$22$$=$task$$.callback()}catch($e$jscomp$68$$){$promise$jscomp$22$$=Promise.reject($e$jscomp$68$$)}$promise$jscomp$22$$.then(function($JSCompiler_StaticMethods_deque_$self$$){$task$$.resolve($JSCompiler_StaticMethods_deque_$self$$)},function($JSCompiler_StaticMethods_deque_$self$$){$dev$$module$src$log$$().error("History",
"failed to execute a task:",$JSCompiler_StaticMethods_deque_$self$$);$task$$.trace&&($task$$.trace.message+=$JSCompiler_StaticMethods_deque_$self$$,$dev$$module$src$log$$().error("History",$task$$.trace));$task$$.reject($JSCompiler_StaticMethods_deque_$self$$)}).then(function(){$JSCompiler_StaticMethods_deque_$self$$.$queue_$.splice(0,1);$JSCompiler_StaticMethods_deque_$$($JSCompiler_StaticMethods_deque_$self$$)})}}
function $HistoryBindingNatural_$$module$src$service$history_impl$$($history$jscomp$2_win$jscomp$174$$){var $$jscomp$this$jscomp$69$$=this;this.win=$history$jscomp$2_win$jscomp$174$$;this.$timer_$=$Services$$module$src$services$timerFor$$($history$jscomp$2_win$jscomp$174$$);$history$jscomp$2_win$jscomp$174$$=this.win.history;this.$startIndex_$=$history$jscomp$2_win$jscomp$174$$.length-1;var $state$jscomp$9$$=$getState$$module$src$history$$($history$jscomp$2_win$jscomp$174$$);$state$jscomp$9$$&&void 0!==
$state$jscomp$9$$["AMP.History"]&&(this.$startIndex_$=Math.min($state$jscomp$9$$["AMP.History"],this.$startIndex_$));this.$stackIndex_$=this.$startIndex_$;this.$onStateUpdated_$=null;this.$supportsState_$="state"in $history$jscomp$2_win$jscomp$174$$;this.$unsupportedState_$=$JSCompiler_StaticMethods_historyState_$$(this,this.$stackIndex_$);if($history$jscomp$2_win$jscomp$174$$.pushState&&$history$jscomp$2_win$jscomp$174$$.replaceState){this.$origPushState_$=$history$jscomp$2_win$jscomp$174$$.originalPushState||
$history$jscomp$2_win$jscomp$174$$.pushState.bind($history$jscomp$2_win$jscomp$174$$);this.$origReplaceState_$=$history$jscomp$2_win$jscomp$174$$.originalReplaceState||$history$jscomp$2_win$jscomp$174$$.replaceState.bind($history$jscomp$2_win$jscomp$174$$);var $pushState$$=function($history$jscomp$2_win$jscomp$174$$,$state$jscomp$9$$,$pushState$$){$$jscomp$this$jscomp$69$$.$unsupportedState_$=$history$jscomp$2_win$jscomp$174$$;$$jscomp$this$jscomp$69$$.$origPushState_$($history$jscomp$2_win$jscomp$174$$,
$state$jscomp$9$$,$pushState$$||null)};var $replaceState$$=function($history$jscomp$2_win$jscomp$174$$,$state$jscomp$9$$,$pushState$$){$$jscomp$this$jscomp$69$$.$unsupportedState_$=$history$jscomp$2_win$jscomp$174$$;void 0!==$pushState$$?$$jscomp$this$jscomp$69$$.$origReplaceState_$($history$jscomp$2_win$jscomp$174$$,$state$jscomp$9$$,$pushState$$):$$jscomp$this$jscomp$69$$.$origReplaceState_$($history$jscomp$2_win$jscomp$174$$,$state$jscomp$9$$)};$history$jscomp$2_win$jscomp$174$$.originalPushState||
($history$jscomp$2_win$jscomp$174$$.originalPushState=this.$origPushState_$);$history$jscomp$2_win$jscomp$174$$.originalReplaceState||($history$jscomp$2_win$jscomp$174$$.originalReplaceState=this.$origReplaceState_$)}else $pushState$$=function($history$jscomp$2_win$jscomp$174$$){$$jscomp$this$jscomp$69$$.$unsupportedState_$=$history$jscomp$2_win$jscomp$174$$},$replaceState$$=function($history$jscomp$2_win$jscomp$174$$){$$jscomp$this$jscomp$69$$.$unsupportedState_$=$history$jscomp$2_win$jscomp$174$$};
this.$pushState_$=$pushState$$;this.$replaceState_$=$replaceState$$;try{this.$replaceState_$($JSCompiler_StaticMethods_historyState_$$(this,this.$stackIndex_$,!0))}catch($e$jscomp$69$$){$dev$$module$src$log$$().error("History","Initial replaceState failed: "+$e$jscomp$69$$.message)}$history$jscomp$2_win$jscomp$174$$.pushState=this.$historyPushState_$.bind(this);$history$jscomp$2_win$jscomp$174$$.replaceState=this.$historyReplaceState_$.bind(this);this.$popstateHandler_$=function(){var $history$jscomp$2_win$jscomp$174$$=
$JSCompiler_StaticMethods_getState_$$($$jscomp$this$jscomp$69$$),$state$jscomp$9$$=$history$jscomp$2_win$jscomp$174$$?$history$jscomp$2_win$jscomp$174$$["AMP.History"]:void 0,$pushState$$=$$jscomp$this$jscomp$69$$.$stackIndex_$,$replaceState$$=$$jscomp$this$jscomp$69$$.$waitingState_$;$$jscomp$this$jscomp$69$$.$waitingState_$=void 0;$pushState$$>$$jscomp$this$jscomp$69$$.win.history.length-2&&($pushState$$=$$jscomp$this$jscomp$69$$.win.history.length-2,$$jscomp$this$jscomp$69$$.$updateHistoryState_$($JSCompiler_StaticMethods_mergeStateUpdate_$$($history$jscomp$2_win$jscomp$174$$,
{stackIndex:$pushState$$})));$pushState$$=void 0==$state$jscomp$9$$?$pushState$$+1:$state$jscomp$9$$<$$jscomp$this$jscomp$69$$.win.history.length?$state$jscomp$9$$:$$jscomp$this$jscomp$69$$.win.history.length-1;$history$jscomp$2_win$jscomp$174$$||($history$jscomp$2_win$jscomp$174$$={});$history$jscomp$2_win$jscomp$174$$["AMP.History"]=$pushState$$;$$jscomp$this$jscomp$69$$.$replaceState_$($history$jscomp$2_win$jscomp$174$$,void 0,void 0);$pushState$$!=$$jscomp$this$jscomp$69$$.$stackIndex_$&&$$jscomp$this$jscomp$69$$.$updateHistoryState_$($JSCompiler_StaticMethods_mergeStateUpdate_$$($history$jscomp$2_win$jscomp$174$$,
{stackIndex:$pushState$$}));$pushState$$<$$jscomp$this$jscomp$69$$.$startIndex_$&&($$jscomp$this$jscomp$69$$.$startIndex_$=$pushState$$);$replaceState$$&&$replaceState$$.resolve()};this.win.addEventListener("popstate",this.$popstateHandler_$)}$JSCompiler_prototypeAlias$$=$HistoryBindingNatural_$$module$src$service$history_impl$$.prototype;
$JSCompiler_prototypeAlias$$.cleanup=function(){this.$origPushState_$&&(this.win.history.pushState=this.$origPushState_$);this.$origReplaceState_$&&(this.win.history.replaceState=this.$origReplaceState_$);this.win.removeEventListener("popstate",this.$popstateHandler_$)};
function $JSCompiler_StaticMethods_historyState_$$($JSCompiler_StaticMethods_historyState_$self_state$jscomp$15$$,$stackIndex$$,$opt_replace$jscomp$2$$){$JSCompiler_StaticMethods_historyState_$self_state$jscomp$15$$=$map$$module$src$utils$object$$($opt_replace$jscomp$2$$?$JSCompiler_StaticMethods_getState_$$($JSCompiler_StaticMethods_historyState_$self_state$jscomp$15$$):void 0);$JSCompiler_StaticMethods_historyState_$self_state$jscomp$15$$["AMP.History"]=$stackIndex$$;return $JSCompiler_StaticMethods_historyState_$self_state$jscomp$15$$}
$JSCompiler_prototypeAlias$$.setOnStateUpdated=function($callback$jscomp$81$$){this.$onStateUpdated_$=$callback$jscomp$81$$};
$JSCompiler_prototypeAlias$$.push=function($opt_stateUpdate$jscomp$4$$){var $$jscomp$this$jscomp$70$$=this;return $JSCompiler_StaticMethods_whenReady_$$(this,function(){var $newState$jscomp$1$$=$JSCompiler_StaticMethods_mergeStateUpdate_$$($JSCompiler_StaticMethods_getState_$$($$jscomp$this$jscomp$70$$),$opt_stateUpdate$jscomp$4$$||{});$$jscomp$this$jscomp$70$$.$historyPushState_$($newState$jscomp$1$$,void 0,$newState$jscomp$1$$.fragment?"#"+$newState$jscomp$1$$.fragment:void 0);return $tryResolve$$module$src$utils$promise$$(function(){return $JSCompiler_StaticMethods_mergeStateUpdate_$$($newState$jscomp$1$$,
{stackIndex:$$jscomp$this$jscomp$70$$.$stackIndex_$})})})};
$JSCompiler_prototypeAlias$$.pop=function($stackIndex$jscomp$1$$){var $$jscomp$this$jscomp$71$$=this;$stackIndex$jscomp$1$$=Math.max($stackIndex$jscomp$1$$,this.$startIndex_$);return $JSCompiler_StaticMethods_whenReady_$$(this,function(){return $JSCompiler_StaticMethods_back_$$($$jscomp$this$jscomp$71$$,$$jscomp$this$jscomp$71$$.$stackIndex_$-$stackIndex$jscomp$1$$+1)}).then(function($stackIndex$jscomp$1$$){return $JSCompiler_StaticMethods_mergeStateUpdate_$$($JSCompiler_StaticMethods_getState_$$($$jscomp$this$jscomp$71$$),{stackIndex:$stackIndex$jscomp$1$$})})};
$JSCompiler_prototypeAlias$$.replace=function($opt_stateUpdate$jscomp$5$$){var $$jscomp$this$jscomp$72$$=this;$opt_stateUpdate$jscomp$5$$=void 0===$opt_stateUpdate$jscomp$5$$?{}:$opt_stateUpdate$jscomp$5$$;return $JSCompiler_StaticMethods_whenReady_$$(this,function(){var $newState$jscomp$2$$=$JSCompiler_StaticMethods_mergeStateUpdate_$$($JSCompiler_StaticMethods_getState_$$($$jscomp$this$jscomp$72$$),$opt_stateUpdate$jscomp$5$$||{}),$url$jscomp$69$$=($newState$jscomp$2$$.url||"").replace(/#.*/,""),
$fragment$jscomp$2$$=$newState$jscomp$2$$.fragment?"#"+$newState$jscomp$2$$.fragment:"";$$jscomp$this$jscomp$72$$.$historyReplaceState_$($newState$jscomp$2$$,$newState$jscomp$2$$.title,$url$jscomp$69$$||$fragment$jscomp$2$$?$url$jscomp$69$$+$fragment$jscomp$2$$:void 0);return $tryResolve$$module$src$utils$promise$$(function(){return $JSCompiler_StaticMethods_mergeStateUpdate_$$($newState$jscomp$2$$,{stackIndex:$$jscomp$this$jscomp$72$$.$stackIndex_$})})})};
$JSCompiler_prototypeAlias$$.get=function(){var $$jscomp$this$jscomp$73$$=this;return $tryResolve$$module$src$utils$promise$$(function(){return $JSCompiler_StaticMethods_mergeStateUpdate_$$($JSCompiler_StaticMethods_getState_$$($$jscomp$this$jscomp$73$$),{stackIndex:$$jscomp$this$jscomp$73$$.$stackIndex_$})})};
$JSCompiler_prototypeAlias$$.backTo=function($stackIndex$jscomp$2$$){var $$jscomp$this$jscomp$74$$=this;$stackIndex$jscomp$2$$=Math.max($stackIndex$jscomp$2$$,this.$startIndex_$);return $JSCompiler_StaticMethods_whenReady_$$(this,function(){return $JSCompiler_StaticMethods_back_$$($$jscomp$this$jscomp$74$$,$$jscomp$this$jscomp$74$$.$stackIndex_$-$stackIndex$jscomp$2$$)})};
function $JSCompiler_StaticMethods_getState_$$($JSCompiler_StaticMethods_getState_$self$$){return $JSCompiler_StaticMethods_getState_$self$$.$supportsState_$?$getState$$module$src$history$$($JSCompiler_StaticMethods_getState_$self$$.win.history):$JSCompiler_StaticMethods_getState_$self$$.$unsupportedState_$}
function $JSCompiler_StaticMethods_whenReady_$$($JSCompiler_StaticMethods_whenReady_$self$$,$callback$jscomp$82$$){return $JSCompiler_StaticMethods_whenReady_$self$$.$waitingState_$?$JSCompiler_StaticMethods_whenReady_$self$$.$waitingState_$.promise.then($callback$jscomp$82$$,$callback$jscomp$82$$):$callback$jscomp$82$$()}
function $JSCompiler_StaticMethods_wait_$$($JSCompiler_StaticMethods_wait_$self$$){var $deferred$jscomp$17_promise$jscomp$23$$=new $Deferred$$module$src$utils$promise$$,$resolve$jscomp$30$$=$deferred$jscomp$17_promise$jscomp$23$$.resolve,$reject$jscomp$16$$=$deferred$jscomp$17_promise$jscomp$23$$.reject;$deferred$jscomp$17_promise$jscomp$23$$=$JSCompiler_StaticMethods_wait_$self$$.$timer_$.timeoutPromise(500,$deferred$jscomp$17_promise$jscomp$23$$.promise);$JSCompiler_StaticMethods_wait_$self$$.$waitingState_$=
{promise:$deferred$jscomp$17_promise$jscomp$23$$,resolve:$resolve$jscomp$30$$,reject:$reject$jscomp$16$$};return $deferred$jscomp$17_promise$jscomp$23$$}
function $JSCompiler_StaticMethods_back_$$($JSCompiler_StaticMethods_back_$self$$,$steps$$){if(0>=$steps$$)return Promise.resolve($JSCompiler_StaticMethods_back_$self$$.$stackIndex_$);$JSCompiler_StaticMethods_back_$self$$.$unsupportedState_$=$JSCompiler_StaticMethods_historyState_$$($JSCompiler_StaticMethods_back_$self$$,$JSCompiler_StaticMethods_back_$self$$.$stackIndex_$-$steps$$);var $promise$jscomp$24$$=$JSCompiler_StaticMethods_wait_$$($JSCompiler_StaticMethods_back_$self$$);$JSCompiler_StaticMethods_back_$self$$.win.history.go(-$steps$$);
return $promise$jscomp$24$$.then(function(){return Promise.resolve($JSCompiler_StaticMethods_back_$self$$.$stackIndex_$)})}
$JSCompiler_prototypeAlias$$.$historyPushState_$=function($newState$jscomp$3_state$jscomp$17$$,$title$jscomp$10$$,$url$jscomp$70$$){$newState$jscomp$3_state$jscomp$17$$||($newState$jscomp$3_state$jscomp$17$$={});var $stackIndex$jscomp$4$$=this.$stackIndex_$+1;$newState$jscomp$3_state$jscomp$17$$["AMP.History"]=$stackIndex$jscomp$4$$;this.$pushState_$($newState$jscomp$3_state$jscomp$17$$,$title$jscomp$10$$,$url$jscomp$70$$);$stackIndex$jscomp$4$$!=this.win.history.length-1&&($stackIndex$jscomp$4$$=
this.win.history.length-1,$newState$jscomp$3_state$jscomp$17$$["AMP.History"]=$stackIndex$jscomp$4$$,this.$replaceState_$($newState$jscomp$3_state$jscomp$17$$));$newState$jscomp$3_state$jscomp$17$$=$JSCompiler_StaticMethods_mergeStateUpdate_$$($newState$jscomp$3_state$jscomp$17$$,{stackIndex:$stackIndex$jscomp$4$$});this.$updateHistoryState_$($newState$jscomp$3_state$jscomp$17$$)};
$JSCompiler_prototypeAlias$$.replaceStateForTarget=function($target$jscomp$118$$){var $$jscomp$this$jscomp$76$$=this;$JSCompiler_StaticMethods_whenReady_$$(this,function(){$$jscomp$this$jscomp$76$$.win.removeEventListener("popstate",$$jscomp$this$jscomp$76$$.$popstateHandler_$);try{$$jscomp$this$jscomp$76$$.win.location.replace($target$jscomp$118$$)}finally{$$jscomp$this$jscomp$76$$.win.addEventListener("popstate",$$jscomp$this$jscomp$76$$.$popstateHandler_$)}$$jscomp$this$jscomp$76$$.$historyReplaceState_$();
return Promise.resolve()})};
$JSCompiler_prototypeAlias$$.$historyReplaceState_$=function($newState$jscomp$4_state$jscomp$18$$,$title$jscomp$11$$,$url$jscomp$71$$){$newState$jscomp$4_state$jscomp$18$$||($newState$jscomp$4_state$jscomp$18$$={});var $stackIndex$jscomp$5$$=Math.min(this.$stackIndex_$,this.win.history.length-1);$newState$jscomp$4_state$jscomp$18$$["AMP.History"]=$stackIndex$jscomp$5$$;this.$replaceState_$($newState$jscomp$4_state$jscomp$18$$,$title$jscomp$11$$,$url$jscomp$71$$);$newState$jscomp$4_state$jscomp$18$$=$JSCompiler_StaticMethods_mergeStateUpdate_$$($newState$jscomp$4_state$jscomp$18$$,
{stackIndex:$stackIndex$jscomp$5$$});this.$updateHistoryState_$($newState$jscomp$4_state$jscomp$18$$)};$JSCompiler_prototypeAlias$$.$updateHistoryState_$=function($historyState$jscomp$5$$){$historyState$jscomp$5$$.stackIndex=Math.min($historyState$jscomp$5$$.stackIndex,this.win.history.length-1);this.$stackIndex_$!=$historyState$jscomp$5$$.stackIndex&&(this.$stackIndex_$=$historyState$jscomp$5$$.stackIndex,this.$onStateUpdated_$&&this.$onStateUpdated_$($historyState$jscomp$5$$))};
$JSCompiler_prototypeAlias$$.getFragment=function(){var $hash$jscomp$4$$=this.win.location.hash;$hash$jscomp$4$$=$hash$jscomp$4$$.substr(1);return Promise.resolve($hash$jscomp$4$$)};$JSCompiler_prototypeAlias$$.updateFragment=function($fragment$jscomp$3$$){return this.replace({fragment:$fragment$jscomp$3$$})};
function $JSCompiler_StaticMethods_mergeStateUpdate_$$($state$jscomp$19$$,$update$$){var $mergedData$$=Object.assign({},$state$jscomp$19$$&&$state$jscomp$19$$.data||{},$update$$.data||{});return Object.assign({},$state$jscomp$19$$||{},$update$$,{data:$mergedData$$})}
function $HistoryBindingVirtual_$$module$src$service$history_impl$$($win$jscomp$175$$,$viewer$jscomp$12$$){var $$jscomp$this$jscomp$77$$=this;this.win=$win$jscomp$175$$;this.$viewer_$=$viewer$jscomp$12$$;this.$stackIndex_$=0;this.$onStateUpdated_$=null;this.$unlistenOnHistoryPopped_$=this.$viewer_$.onMessage("historyPopped",function($win$jscomp$175$$){void 0!==$win$jscomp$175$$.newStackIndex&&($win$jscomp$175$$.stackIndex=$win$jscomp$175$$.newStackIndex);$$jscomp$this$jscomp$77$$.$updateHistoryState_$($win$jscomp$175$$)})}
$JSCompiler_prototypeAlias$$=$HistoryBindingVirtual_$$module$src$service$history_impl$$.prototype;$JSCompiler_prototypeAlias$$.replaceStateForTarget=function($target$jscomp$119$$){this.win.location.replace($target$jscomp$119$$)};$JSCompiler_prototypeAlias$$.cleanup=function(){this.$unlistenOnHistoryPopped_$()};$JSCompiler_prototypeAlias$$.setOnStateUpdated=function($callback$jscomp$83$$){this.$onStateUpdated_$=$callback$jscomp$83$$};
$JSCompiler_prototypeAlias$$.push=function($opt_stateUpdate$jscomp$6$$){var $$jscomp$this$jscomp$78$$=this,$message$jscomp$38$$=Object.assign({stackIndex:this.$stackIndex_$+1},$opt_stateUpdate$jscomp$6$$||{});return this.$viewer_$.sendMessageAwaitResponse("pushHistory",$message$jscomp$38$$).then(function($opt_stateUpdate$jscomp$6$$){$opt_stateUpdate$jscomp$6$$=$opt_stateUpdate$jscomp$6$$||$message$jscomp$38$$;$$jscomp$this$jscomp$78$$.$updateHistoryState_$($opt_stateUpdate$jscomp$6$$);return $opt_stateUpdate$jscomp$6$$})};
$JSCompiler_prototypeAlias$$.pop=function($message$jscomp$39_stackIndex$jscomp$6$$){var $$jscomp$this$jscomp$79$$=this;if($message$jscomp$39_stackIndex$jscomp$6$$>this.$stackIndex_$)return this.get();$message$jscomp$39_stackIndex$jscomp$6$$=$dict$$module$src$utils$object$$({stackIndex:this.$stackIndex_$});return this.$viewer_$.sendMessageAwaitResponse("popHistory",$message$jscomp$39_stackIndex$jscomp$6$$).then(function($message$jscomp$39_stackIndex$jscomp$6$$){$message$jscomp$39_stackIndex$jscomp$6$$=
$message$jscomp$39_stackIndex$jscomp$6$$||$dict$$module$src$utils$object$$({stackIndex:$$jscomp$this$jscomp$79$$.$stackIndex_$-1});$$jscomp$this$jscomp$79$$.$updateHistoryState_$($message$jscomp$39_stackIndex$jscomp$6$$);return $message$jscomp$39_stackIndex$jscomp$6$$})};
$JSCompiler_prototypeAlias$$.replace=function($opt_stateUpdate$jscomp$7$$){var $$jscomp$this$jscomp$80$$=this;if($opt_stateUpdate$jscomp$7$$&&$opt_stateUpdate$jscomp$7$$.url){if(!this.$viewer_$.hasCapability("fullReplaceHistory")){var $curState$$=$dict$$module$src$utils$object$$({stackIndex:this.$stackIndex_$});return Promise.resolve($curState$$)}var $url$jscomp$72$$=$opt_stateUpdate$jscomp$7$$.url.replace(/#.*/,"");$opt_stateUpdate$jscomp$7$$.url=$url$jscomp$72$$}var $message$jscomp$40$$=Object.assign({stackIndex:this.$stackIndex_$},
$opt_stateUpdate$jscomp$7$$||{});return this.$viewer_$.sendMessageAwaitResponse("replaceHistory",$message$jscomp$40$$,!0).then(function($opt_stateUpdate$jscomp$7$$){$opt_stateUpdate$jscomp$7$$=$opt_stateUpdate$jscomp$7$$||$message$jscomp$40$$;$$jscomp$this$jscomp$80$$.$updateHistoryState_$($opt_stateUpdate$jscomp$7$$);return $opt_stateUpdate$jscomp$7$$})};$JSCompiler_prototypeAlias$$.get=function(){return Promise.resolve({data:void 0,fragment:"",stackIndex:this.$stackIndex_$,title:""})};
$JSCompiler_prototypeAlias$$.$updateHistoryState_$=function($state$jscomp$20$$){var $stackIndex$jscomp$7$$=$state$jscomp$20$$.stackIndex;this.$stackIndex_$!=$stackIndex$jscomp$7$$&&(this.$stackIndex_$=$stackIndex$jscomp$7$$,this.$onStateUpdated_$&&this.$onStateUpdated_$($state$jscomp$20$$))};
$JSCompiler_prototypeAlias$$.getFragment=function(){return this.$viewer_$.hasCapability("fragment")?this.$viewer_$.sendMessageAwaitResponse("getFragment",void 0,!0).then(function($data$jscomp$82_hash$jscomp$5$$){if(!$data$jscomp$82_hash$jscomp$5$$)return"";"#"==$data$jscomp$82_hash$jscomp$5$$[0]&&($data$jscomp$82_hash$jscomp$5$$=$data$jscomp$82_hash$jscomp$5$$.substr(1));return $data$jscomp$82_hash$jscomp$5$$}):Promise.resolve("")};
$JSCompiler_prototypeAlias$$.updateFragment=function($fragment$jscomp$4$$){return this.$viewer_$.hasCapability("fragment")?this.$viewer_$.sendMessageAwaitResponse("replaceHistory",$dict$$module$src$utils$object$$({fragment:$fragment$jscomp$4$$}),!0):Promise.resolve()};
function $createHistory$$module$src$service$history_impl$$($ampdoc$jscomp$52$$){var $binding$jscomp$1_viewer$jscomp$13$$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$52$$);$binding$jscomp$1_viewer$jscomp$13$$.isOvertakeHistory()||$getMode$$module$src$mode$$($ampdoc$jscomp$52$$.win).test||$ampdoc$jscomp$52$$.win.AMP_TEST_IFRAME?$binding$jscomp$1_viewer$jscomp$13$$=new $HistoryBindingVirtual_$$module$src$service$history_impl$$($ampdoc$jscomp$52$$.win,$binding$jscomp$1_viewer$jscomp$13$$):
($registerServiceBuilder$$module$src$service$$($ampdoc$jscomp$52$$.win,"global-history-binding",$HistoryBindingNatural_$$module$src$service$history_impl$$),$binding$jscomp$1_viewer$jscomp$13$$=$getService$$module$src$service$$($ampdoc$jscomp$52$$.win,"global-history-binding"));return new $History$$module$src$service$history_impl$$($ampdoc$jscomp$52$$,$binding$jscomp$1_viewer$jscomp$13$$)};function $Input$$module$src$input$$($win$jscomp$176$$){this.win=$win$jscomp$176$$;this.$boundOnKeyDown_$=this.$onKeyDown_$.bind(this);this.$boundOnMouseDown_$=this.$onMouseDown_$.bind(this);this.$boundMouseConfirmed_$=this.$boundMouseCanceled_$=this.$boundOnMouseMove_$=null;this.$hasTouch_$="ontouchstart"in $win$jscomp$176$$||void 0!==$win$jscomp$176$$.navigator.maxTouchPoints&&0<$win$jscomp$176$$.navigator.maxTouchPoints||void 0!==$win$jscomp$176$$.DocumentTouch;this.$keyboardActive_$=!1;this.win.document.addEventListener("keydown",
this.$boundOnKeyDown_$);this.win.document.addEventListener("mousedown",this.$boundOnMouseDown_$);this.$hasMouse_$=!0;this.$mouseConfirmAttemptCount_$=0;this.$touchDetectedObservable_$=new $Observable$$module$src$observable$$;this.$mouseDetectedObservable_$=new $Observable$$module$src$observable$$;this.$keyboardStateObservable_$=new $Observable$$module$src$observable$$;this.$hasTouch_$&&(this.$hasMouse_$=!this.$hasTouch_$,this.$boundOnMouseMove_$=this.$onMouseMove_$.bind(this),$listenOnce$$module$src$event_helper$$($win$jscomp$176$$.document,
"mousemove",this.$boundOnMouseMove_$))}$JSCompiler_prototypeAlias$$=$Input$$module$src$input$$.prototype;$JSCompiler_prototypeAlias$$.isTouchDetected=function(){return this.$hasTouch_$};$JSCompiler_prototypeAlias$$.onTouchDetected=function($handler$jscomp$20$$,$opt_fireImmediately$$){$opt_fireImmediately$$&&$handler$jscomp$20$$(this.isTouchDetected());return this.$touchDetectedObservable_$.add($handler$jscomp$20$$)};$JSCompiler_prototypeAlias$$.isMouseDetected=function(){return this.$hasMouse_$};
$JSCompiler_prototypeAlias$$.onMouseDetected=function($handler$jscomp$21$$,$opt_fireImmediately$jscomp$1$$){$opt_fireImmediately$jscomp$1$$&&$handler$jscomp$21$$(this.isMouseDetected());return this.$mouseDetectedObservable_$.add($handler$jscomp$21$$)};$JSCompiler_prototypeAlias$$.isKeyboardActive=function(){return this.$keyboardActive_$};
$JSCompiler_prototypeAlias$$.onKeyboardStateChanged=function($handler$jscomp$22$$,$opt_fireImmediately$jscomp$2$$){$opt_fireImmediately$jscomp$2$$&&$handler$jscomp$22$$(this.isKeyboardActive());return this.$keyboardStateObservable_$.add($handler$jscomp$22$$)};
$JSCompiler_prototypeAlias$$.$onKeyDown_$=function($e$jscomp$71_target$jscomp$120$$){this.$keyboardActive_$||$e$jscomp$71_target$jscomp$120$$.defaultPrevented||($e$jscomp$71_target$jscomp$120$$=$e$jscomp$71_target$jscomp$120$$.target,$e$jscomp$71_target$jscomp$120$$&&("INPUT"==$e$jscomp$71_target$jscomp$120$$.tagName||"TEXTAREA"==$e$jscomp$71_target$jscomp$120$$.tagName||"SELECT"==$e$jscomp$71_target$jscomp$120$$.tagName||"OPTION"==$e$jscomp$71_target$jscomp$120$$.tagName||$e$jscomp$71_target$jscomp$120$$.hasAttribute("contenteditable")))||
(this.$keyboardActive_$=!0,this.$keyboardStateObservable_$.fire(!0))};$JSCompiler_prototypeAlias$$.$onMouseDown_$=function(){this.$keyboardActive_$&&(this.$keyboardActive_$=!1,this.$keyboardStateObservable_$.fire(!1))};
$JSCompiler_prototypeAlias$$.$onMouseMove_$=function($e$jscomp$72$$){var $$jscomp$this$jscomp$81$$=this;if($e$jscomp$72$$.sourceCapabilities&&$e$jscomp$72$$.sourceCapabilities.firesTouchEvents)this.$mouseCanceled_$();else{this.$boundMouseConfirmed_$||(this.$boundMouseConfirmed_$=this.$mouseConfirmed_$.bind(this),this.$boundMouseCanceled_$=this.$mouseCanceled_$.bind(this));var $unlisten$jscomp$5$$,$listenPromise$$=$listenOncePromise$$module$src$event_helper$$(this.win.document,function($e$jscomp$72$$){$unlisten$jscomp$5$$=
$e$jscomp$72$$});return $Services$$module$src$services$timerFor$$(this.win).timeoutPromise(300,$listenPromise$$).then(this.$boundMouseCanceled_$,function(){$unlisten$jscomp$5$$&&$unlisten$jscomp$5$$();$$jscomp$this$jscomp$81$$.$boundMouseConfirmed_$()})}};$JSCompiler_prototypeAlias$$.$mouseConfirmed_$=function(){this.$hasMouse_$=!0;this.$mouseDetectedObservable_$.fire(!0)};
$JSCompiler_prototypeAlias$$.$mouseCanceled_$=function(){this.$mouseConfirmAttemptCount_$++;3>=this.$mouseConfirmAttemptCount_$&&$listenOnce$$module$src$event_helper$$(this.win.document,"mousemove",this.$boundOnMouseMove_$)};function $Platform$$module$src$service$platform_impl$$($win$jscomp$178$$){this.$navigator_$=$win$jscomp$178$$.navigator}$JSCompiler_prototypeAlias$$=$Platform$$module$src$service$platform_impl$$.prototype;$JSCompiler_prototypeAlias$$.isAndroid=function(){return/Android/i.test(this.$navigator_$.userAgent)};$JSCompiler_prototypeAlias$$.isIos=function(){return/iPhone|iPad|iPod/i.test(this.$navigator_$.userAgent)};
$JSCompiler_prototypeAlias$$.isSafari=function(){return/Safari/i.test(this.$navigator_$.userAgent)&&!this.isChrome()&&!this.isIe()&&!this.isEdge()&&!this.isFirefox()&&!this.isOpera()};$JSCompiler_prototypeAlias$$.isChrome=function(){return/Chrome|CriOS/i.test(this.$navigator_$.userAgent)&&!this.isEdge()&&!this.isOpera()};$JSCompiler_prototypeAlias$$.isFirefox=function(){return/Firefox|FxiOS/i.test(this.$navigator_$.userAgent)&&!this.isEdge()};$JSCompiler_prototypeAlias$$.isOpera=function(){return/OPR\/|Opera|OPiOS/i.test(this.$navigator_$.userAgent)};
$JSCompiler_prototypeAlias$$.isIe=function(){return/Trident|MSIE|IEMobile/i.test(this.$navigator_$.userAgent)};$JSCompiler_prototypeAlias$$.isEdge=function(){return/Edge/i.test(this.$navigator_$.userAgent)};$JSCompiler_prototypeAlias$$.isWebKit=function(){return/WebKit/i.test(this.$navigator_$.userAgent)&&!this.isEdge()};$JSCompiler_prototypeAlias$$.isWindows=function(){return/Windows/i.test(this.$navigator_$.userAgent)};$JSCompiler_prototypeAlias$$.isStandalone=function(){return this.isIos()&&this.$navigator_$.standalone};
$JSCompiler_prototypeAlias$$.isBot=function(){return/bot/i.test(this.$navigator_$.userAgent)};
$JSCompiler_prototypeAlias$$.getMajorVersion=function(){return this.isSafari()?this.isIos()?this.getIosMajorVersion()||0:$JSCompiler_StaticMethods_evalMajorVersion_$$(this,/\sVersion\/(\d+)/,1):this.isChrome()?$JSCompiler_StaticMethods_evalMajorVersion_$$(this,/(Chrome|CriOS)\/(\d+)/,2):this.isFirefox()?$JSCompiler_StaticMethods_evalMajorVersion_$$(this,/(Firefox|FxiOS)\/(\d+)/,2):this.isOpera()?$JSCompiler_StaticMethods_evalMajorVersion_$$(this,/(OPR|Opera|OPiOS)\/(\d+)/,2):this.isIe()?$JSCompiler_StaticMethods_evalMajorVersion_$$(this,
/MSIE\s(\d+)/,1):this.isEdge()?$JSCompiler_StaticMethods_evalMajorVersion_$$(this,/Edge\/(\d+)/,1):0};
function $JSCompiler_StaticMethods_evalMajorVersion_$$($JSCompiler_StaticMethods_evalMajorVersion_$self_res$jscomp$12$$,$expr$jscomp$5$$,$index$jscomp$77$$){if(!$JSCompiler_StaticMethods_evalMajorVersion_$self_res$jscomp$12$$.$navigator_$.userAgent)return 0;$JSCompiler_StaticMethods_evalMajorVersion_$self_res$jscomp$12$$=$JSCompiler_StaticMethods_evalMajorVersion_$self_res$jscomp$12$$.$navigator_$.userAgent.match($expr$jscomp$5$$);return!$JSCompiler_StaticMethods_evalMajorVersion_$self_res$jscomp$12$$||
$index$jscomp$77$$>=$JSCompiler_StaticMethods_evalMajorVersion_$self_res$jscomp$12$$.length?0:parseInt($JSCompiler_StaticMethods_evalMajorVersion_$self_res$jscomp$12$$[$index$jscomp$77$$],10)}$JSCompiler_prototypeAlias$$.getIosVersionString=function(){if(!this.$navigator_$.userAgent||!this.isIos())return"";var $version$jscomp$6$$=this.$navigator_$.userAgent.match(/OS ([0-9]+[_.][0-9]+([_.][0-9]+)?)\b/);return $version$jscomp$6$$?$version$jscomp$6$$=$version$jscomp$6$$[1].replace(/_/g,"."):""};
$JSCompiler_prototypeAlias$$.getIosMajorVersion=function(){var $currentIosVersion$$=this.getIosVersionString();return""==$currentIosVersion$$?null:Number($currentIosVersion$$.split(".")[0])};function $FiniteStateMachine$$module$src$finite_state_machine$$($initialState$$){this.$state_$=$initialState$$;this.$transitions_$=Object.create(null)}$FiniteStateMachine$$module$src$finite_state_machine$$.prototype.addTransition=function($oldState$$,$newState$jscomp$8$$,$callback$jscomp$84$$){var $transition$$=$oldState$$+"|"+$newState$jscomp$8$$;this.$transitions_$[$transition$$]=$callback$jscomp$84$$};
$FiniteStateMachine$$module$src$finite_state_machine$$.prototype.setState=function($callback$jscomp$85_newState$jscomp$9$$){var $oldState$jscomp$1$$=this.$state_$;this.$state_$=$callback$jscomp$85_newState$jscomp$9$$;($callback$jscomp$85_newState$jscomp$9$$=this.$transitions_$[$oldState$jscomp$1$$+"|"+$callback$jscomp$85_newState$jscomp$9$$])&&$callback$jscomp$85_newState$jscomp$9$$()};function $FocusHistory$$module$src$focus_history$$($win$jscomp$179$$){var $purgeTimeout$$=6E4,$$jscomp$this$jscomp$82$$=this;this.win=$win$jscomp$179$$;this.$purgeTimeout_$=$purgeTimeout$$;this.$history_$=[];this.$observeFocus_$=new $Observable$$module$src$observable$$;this.$captureFocus_$=function($win$jscomp$179$$){$win$jscomp$179$$.target&&1==$win$jscomp$179$$.target.nodeType&&$JSCompiler_StaticMethods_pushFocus_$$($$jscomp$this$jscomp$82$$,$win$jscomp$179$$.target)};this.$captureBlur_$=function(){$Services$$module$src$services$timerFor$$($win$jscomp$179$$).delay(function(){$JSCompiler_StaticMethods_pushFocus_$$($$jscomp$this$jscomp$82$$,
$$jscomp$this$jscomp$82$$.win.document.activeElement)},500)};this.win.document.addEventListener("focus",this.$captureFocus_$,!0);this.win.addEventListener("blur",this.$captureBlur_$)}$JSCompiler_prototypeAlias$$=$FocusHistory$$module$src$focus_history$$.prototype;$JSCompiler_prototypeAlias$$.$cleanup_$=function(){this.win.document.removeEventListener("focus",this.$captureFocus_$,!0);this.win.removeEventListener("blur",this.$captureBlur_$)};$JSCompiler_prototypeAlias$$.onFocus=function($handler$jscomp$23$$){return this.$observeFocus_$.add($handler$jscomp$23$$)};
function $JSCompiler_StaticMethods_pushFocus_$$($JSCompiler_StaticMethods_pushFocus_$self$$,$element$jscomp$132$$){var $now$jscomp$4$$=Date.now();0==$JSCompiler_StaticMethods_pushFocus_$self$$.$history_$.length||$JSCompiler_StaticMethods_pushFocus_$self$$.$history_$[$JSCompiler_StaticMethods_pushFocus_$self$$.$history_$.length-1].el!=$element$jscomp$132$$?$JSCompiler_StaticMethods_pushFocus_$self$$.$history_$.push({el:$element$jscomp$132$$,time:$now$jscomp$4$$}):$JSCompiler_StaticMethods_pushFocus_$self$$.$history_$[$JSCompiler_StaticMethods_pushFocus_$self$$.$history_$.length-
1].time=$now$jscomp$4$$;$JSCompiler_StaticMethods_pushFocus_$self$$.purgeBefore($now$jscomp$4$$-$JSCompiler_StaticMethods_pushFocus_$self$$.$purgeTimeout_$);$JSCompiler_StaticMethods_pushFocus_$self$$.$observeFocus_$.fire($element$jscomp$132$$)}$JSCompiler_prototypeAlias$$.getLast=function(){return 0==this.$history_$.length?null:this.$history_$[this.$history_$.length-1].el};
$JSCompiler_prototypeAlias$$.purgeBefore=function($time$jscomp$3$$){for(var $index$jscomp$78$$=this.$history_$.length-1,$i$jscomp$90$$=0;$i$jscomp$90$$<this.$history_$.length;$i$jscomp$90$$++)if(this.$history_$[$i$jscomp$90$$].time>=$time$jscomp$3$$){$index$jscomp$78$$=$i$jscomp$90$$-1;break}-1!=$index$jscomp$78$$&&this.$history_$.splice(0,$index$jscomp$78$$+1)};
$JSCompiler_prototypeAlias$$.hasDescendantsOf=function($element$jscomp$133$$){this.win.document.activeElement&&$JSCompiler_StaticMethods_pushFocus_$$(this,this.win.document.activeElement);for(var $i$jscomp$91$$=0;$i$jscomp$91$$<this.$history_$.length;$i$jscomp$91$$++)if($element$jscomp$133$$.contains(this.$history_$[$i$jscomp$91$$].el))return!0;return!1};function $TaskQueue$$module$src$service$task_queue$$(){this.$tasks_$=[];this.$taskIdMap_$={};this.$lastDequeueTime_$=this.$lastEnqueueTime_$=0}$JSCompiler_prototypeAlias$$=$TaskQueue$$module$src$service$task_queue$$.prototype;$JSCompiler_prototypeAlias$$.getSize=function(){return this.$tasks_$.length};$JSCompiler_prototypeAlias$$.getLastEnqueueTime=function(){return this.$lastEnqueueTime_$};$JSCompiler_prototypeAlias$$.getLastDequeueTime=function(){return this.$lastDequeueTime_$};
$JSCompiler_prototypeAlias$$.getTaskById=function($taskId$$){return this.$taskIdMap_$[$taskId$$]||null};$JSCompiler_prototypeAlias$$.enqueue=function($task$jscomp$1$$){this.$tasks_$.push($task$jscomp$1$$);this.$taskIdMap_$[$task$jscomp$1$$.id]=$task$jscomp$1$$;this.$lastEnqueueTime_$=Date.now()};
$JSCompiler_prototypeAlias$$.dequeue=function($task$jscomp$2$$){var $dequeued$$=this.removeAtIndex($task$jscomp$2$$,this.$tasks_$.indexOf(this.$taskIdMap_$[$task$jscomp$2$$.id]));if(!$dequeued$$)return!1;this.$lastDequeueTime_$=Date.now();return!0};
$JSCompiler_prototypeAlias$$.peek=function($scorer$$,$state$jscomp$21$$){for(var $minScore$$=1E6,$minTask$$=null,$i$jscomp$92$$=0;$i$jscomp$92$$<this.$tasks_$.length;$i$jscomp$92$$++){var $task$jscomp$3$$=this.$tasks_$[$i$jscomp$92$$],$score$$=$scorer$$($task$jscomp$3$$,$state$jscomp$21$$);$score$$<$minScore$$&&($minScore$$=$score$$,$minTask$$=$task$jscomp$3$$)}return $minTask$$};$JSCompiler_prototypeAlias$$.forEach=function($callback$jscomp$86$$){this.$tasks_$.forEach($callback$jscomp$86$$)};
$JSCompiler_prototypeAlias$$.removeAtIndex=function($task$jscomp$4$$,$index$jscomp$79$$){var $existing$jscomp$3$$=this.$taskIdMap_$[$task$jscomp$4$$.id];if(!$existing$jscomp$3$$||this.$tasks_$[$index$jscomp$79$$]!=$existing$jscomp$3$$)return!1;this.$tasks_$.splice($index$jscomp$79$$,1);delete this.$taskIdMap_$[$task$jscomp$4$$.id];return!0};
$JSCompiler_prototypeAlias$$.purge=function($callback$jscomp$87$$){for(var $index$jscomp$80$$=this.$tasks_$.length;$index$jscomp$80$$--;)$callback$jscomp$87$$(this.$tasks_$[$index$jscomp$80$$])&&this.removeAtIndex(this.$tasks_$[$index$jscomp$80$$],$index$jscomp$80$$)};function $checkAndFix$$module$src$service$ie_media_bug$$($win$jscomp$180$$){var $opt_platform$$;return!($opt_platform$$||$Services$$module$src$services$platformFor$$($win$jscomp$180$$)).isIe()||$matchMediaIeQuite$$module$src$service$ie_media_bug$$($win$jscomp$180$$)?null:new Promise(function($opt_platform$$){var $resolve$jscomp$31$$=Date.now()+2E3,$interval$jscomp$3$$=$win$jscomp$180$$.setInterval(function(){var $endTime$jscomp$4$$=Date.now(),$matches$jscomp$3$$=$matchMediaIeQuite$$module$src$service$ie_media_bug$$($win$jscomp$180$$);
if($matches$jscomp$3$$||$endTime$jscomp$4$$>$resolve$jscomp$31$$)$win$jscomp$180$$.clearInterval($interval$jscomp$3$$),$opt_platform$$(),$matches$jscomp$3$$||$dev$$module$src$log$$().error("ie-media-bug","IE media never resolved")},10)})}
function $matchMediaIeQuite$$module$src$service$ie_media_bug$$($win$jscomp$181$$){var $q$$="(min-width: "+($win$jscomp$181$$.innerWidth-1)+"px)"+(" AND (max-width: "+($win$jscomp$181$$.innerWidth+1)+"px)");try{return $win$jscomp$181$$.matchMedia($q$$).matches}catch($e$jscomp$74$$){return $dev$$module$src$log$$().error("ie-media-bug","IE matchMedia failed: ",$e$jscomp$74$$),!0}};function $Resources$$module$src$service$resources_impl$$($ampdoc$jscomp$54$$){var $$jscomp$this$jscomp$83$$=this;this.ampdoc=$ampdoc$jscomp$54$$;this.win=$ampdoc$jscomp$54$$.win;this.$viewer_$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$54$$);this.$isRuntimeOn_$=this.$viewer_$.isRuntimeOn();this.$isBuildOn_$=!1;this.$maxDpr_$=this.win.devicePixelRatio||1;this.$resourceIdCounter_$=0;this.$resources_$=[];this.$buildAttemptsCount_$=this.$addCount_$=0;this.$visible_$=this.$viewer_$.isVisible();
this.$prerenderSize_$=this.$viewer_$.getPrerenderSize();this.$documentReady_$=!1;this.$firstPassAfterDocumentReady_$=!0;this.$ampInitialized_$=!1;this.$firstVisibleTime_$=-1;this.$relayoutAll_$=!0;this.$relayoutTop_$=-1;this.$lastVelocity_$=this.$lastScrollTime_$=0;this.$pass_$=new $Pass$$module$src$pass$$(this.win,function(){return $$jscomp$this$jscomp$83$$.doPass()});this.$remeasurePass_$=new $Pass$$module$src$pass$$(this.win,function(){$$jscomp$this$jscomp$83$$.$relayoutAll_$=!0;$$jscomp$this$jscomp$83$$.schedulePass()});
this.$exec_$=new $TaskQueue$$module$src$service$task_queue$$;this.$queue_$=new $TaskQueue$$module$src$service$task_queue$$;this.$useLayers_$=$isExperimentOn$$module$src$experiments$$(this.win,"layers");this.$useLayersPrioritization_$=$isExperimentOn$$module$src$experiments$$(this.win,"layers-prioritization");var $boundScorer$$;this.$boundTaskScorer_$=$boundScorer$$=this.$useLayers_$&&this.$useLayersPrioritization_$?this.$calcTaskScoreLayers_$.bind(this):this.$calcTaskScore_$.bind(this);this.$requestsChangeSize_$=
[];this.$pendingBuildResources_$=[];this.$isCurrentlyBuildingPendingResources_$=!1;this.$viewport_$=$Services$$module$src$services$viewportForDoc$$(this.ampdoc);this.$vsync_$=$Services$$module$src$services$vsyncFor$$(this.win);this.$activeHistory_$=new $FocusHistory$$module$src$focus_history$$(this.win);this.$vsyncScheduled_$=!1;this.$contentHeight_$=0;this.$maybeChangeHeight_$=!1;this.$passCallbacks_$=[];this.$visibilityStateMachine_$=new $FiniteStateMachine$$module$src$finite_state_machine$$(this.$viewer_$.getVisibilityState());
$JSCompiler_StaticMethods_setupVisibilityStateMachine_$$(this,this.$visibilityStateMachine_$);this.$viewport_$.onChanged(function($ampdoc$jscomp$54$$){$$jscomp$this$jscomp$83$$.$lastScrollTime_$=Date.now();$$jscomp$this$jscomp$83$$.$lastVelocity_$=$ampdoc$jscomp$54$$.velocity;$ampdoc$jscomp$54$$.relayoutAll&&($$jscomp$this$jscomp$83$$.$relayoutAll_$=!0,$$jscomp$this$jscomp$83$$.$maybeChangeHeight_$=!0);$$jscomp$this$jscomp$83$$.schedulePass()});this.$viewport_$.onScroll(function(){$$jscomp$this$jscomp$83$$.$lastScrollTime_$=
Date.now()});this.$useLayers_$&&(this.$layers_$=$getServiceForDoc$$module$src$service$$(this.ampdoc,"layers"),this.$boundCalcLayoutScore_$=this.$calcLayoutScore_$.bind(this));this.$viewer_$.onVisibilityChanged(function(){-1==$$jscomp$this$jscomp$83$$.$firstVisibleTime_$&&$$jscomp$this$jscomp$83$$.$viewer_$.isVisible()&&($$jscomp$this$jscomp$83$$.$firstVisibleTime_$=Date.now());$$jscomp$this$jscomp$83$$.schedulePass()});this.$viewer_$.onRuntimeState(function($ampdoc$jscomp$54$$){$$jscomp$this$jscomp$83$$.$isRuntimeOn_$=
$ampdoc$jscomp$54$$;$$jscomp$this$jscomp$83$$.schedulePass(1)});this.$activeHistory_$.onFocus(function($ampdoc$jscomp$54$$){$JSCompiler_StaticMethods_checkPendingChangeSize_$$($$jscomp$this$jscomp$83$$,$ampdoc$jscomp$54$$)});this.schedulePass();this.rebuildDomWhenReady()}$JSCompiler_prototypeAlias$$=$Resources$$module$src$service$resources_impl$$.prototype;
$JSCompiler_prototypeAlias$$.rebuildDomWhenReady=function(){var $$jscomp$this$jscomp$84$$=this;this.ampdoc.whenReady().then(function(){function $remeasure$$(){return $$jscomp$this$jscomp$84$$.$remeasurePass_$.schedule()}$$jscomp$this$jscomp$84$$.$documentReady_$=!0;$JSCompiler_StaticMethods_buildReadyResources_$$($$jscomp$this$jscomp$84$$);$$jscomp$this$jscomp$84$$.$pendingBuildResources_$=null;var $fixPromise$$=$checkAndFix$$module$src$service$ie_media_bug$$($$jscomp$this$jscomp$84$$.win);$fixPromise$$?
$fixPromise$$.then($remeasure$$):$remeasure$$();$JSCompiler_StaticMethods_monitorInput_$$($$jscomp$this$jscomp$84$$);Promise.race([$loadPromise$$module$src$event_helper$$($$jscomp$this$jscomp$84$$.win),$Services$$module$src$services$timerFor$$($$jscomp$this$jscomp$84$$.win).promise(3100)]).then($remeasure$$);$$jscomp$this$jscomp$84$$.win.document.fonts&&"loaded"!=$$jscomp$this$jscomp$84$$.win.document.fonts.status&&$$jscomp$this$jscomp$84$$.win.document.fonts.ready.then($remeasure$$)})};
$JSCompiler_prototypeAlias$$.get=function(){return this.$resources_$.slice(0)};$JSCompiler_prototypeAlias$$.isRuntimeOn=function(){return this.$isRuntimeOn_$};$JSCompiler_prototypeAlias$$.renderStarted=function(){this.ampdoc.signals().signal("render-start")};
$JSCompiler_prototypeAlias$$.getMeasuredResources=function($hostWin$$,$filterFn$$){var $$jscomp$this$jscomp$85$$=this;return this.ampdoc.signals().whenSignal("ready-scan").then(function(){var $filterFn$$=[];$$jscomp$this$jscomp$85$$.$resources_$.forEach(function($measurePromiseArray$$){$measurePromiseArray$$.hasBeenMeasured()||$measurePromiseArray$$.hostWin!=$hostWin$$||$measurePromiseArray$$.hasOwner()||$filterFn$$.push($JSCompiler_StaticMethods_ensuredMeasured_$$($$jscomp$this$jscomp$85$$,$measurePromiseArray$$))});
return Promise.all($filterFn$$)}).then(function(){return $$jscomp$this$jscomp$85$$.$resources_$.filter(function($$jscomp$this$jscomp$85$$){return $$jscomp$this$jscomp$85$$.hostWin==$hostWin$$&&!$$jscomp$this$jscomp$85$$.hasOwner()&&$$jscomp$this$jscomp$85$$.hasBeenMeasured()&&$filterFn$$($$jscomp$this$jscomp$85$$)})})};
$JSCompiler_prototypeAlias$$.getResourcesInRect=function($hostWin$jscomp$1$$,$rect$jscomp$5$$,$opt_isInPrerender$$){return this.getMeasuredResources($hostWin$jscomp$1$$,function($hostWin$jscomp$1$$){return!$hostWin$jscomp$1$$.isDisplayed()||!$hostWin$jscomp$1$$.overlaps($rect$jscomp$5$$)&&!$hostWin$jscomp$1$$.isFixed()||$opt_isInPrerender$$&&!$hostWin$jscomp$1$$.prerenderAllowed()?!1:!0})};
function $JSCompiler_StaticMethods_monitorInput_$$($JSCompiler_StaticMethods_monitorInput_$self$$){var $input$jscomp$27$$=$getService$$module$src$service$$($JSCompiler_StaticMethods_monitorInput_$self$$.win,"input");$input$jscomp$27$$.onTouchDetected(function($input$jscomp$27$$){$JSCompiler_StaticMethods_toggleInputClass_$$($JSCompiler_StaticMethods_monitorInput_$self$$,"amp-mode-touch",$input$jscomp$27$$)},!0);$input$jscomp$27$$.onMouseDetected(function($input$jscomp$27$$){$JSCompiler_StaticMethods_toggleInputClass_$$($JSCompiler_StaticMethods_monitorInput_$self$$,
"amp-mode-mouse",$input$jscomp$27$$)},!0);$input$jscomp$27$$.onKeyboardStateChanged(function($input$jscomp$27$$){$JSCompiler_StaticMethods_toggleInputClass_$$($JSCompiler_StaticMethods_monitorInput_$self$$,"amp-mode-keyboard-active",$input$jscomp$27$$)},!0)}
function $JSCompiler_StaticMethods_toggleInputClass_$$($JSCompiler_StaticMethods_toggleInputClass_$self$$,$clazz$$,$on$jscomp$2$$){$JSCompiler_StaticMethods_toggleInputClass_$self$$.ampdoc.whenBodyAvailable().then(function($body$jscomp$4$$){$JSCompiler_StaticMethods_toggleInputClass_$self$$.$vsync_$.mutate(function(){$body$jscomp$4$$.classList.toggle($clazz$$,$on$jscomp$2$$)})})}$JSCompiler_prototypeAlias$$.getMaxDpr=function(){return this.$maxDpr_$};$JSCompiler_prototypeAlias$$.getDpr=function(){return this.$maxDpr_$};
$JSCompiler_prototypeAlias$$.getResourceForElement=function($element$jscomp$135$$){return $Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$135$$)};$JSCompiler_prototypeAlias$$.getResourceForElementOptional=function($element$jscomp$136$$){return $Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$136$$)};
$JSCompiler_prototypeAlias$$.getElementLayoutBox=function($element$jscomp$137$$){var $$jscomp$this$jscomp$88$$=this,$resource$$=this.getResourceForElementOptional($element$jscomp$137$$);return $resource$$?$JSCompiler_StaticMethods_ensuredMeasured_$$(this,$resource$$):this.$vsync_$.measurePromise(function(){return $$jscomp$this$jscomp$88$$.getViewport().getLayoutRect($element$jscomp$137$$)})};
function $JSCompiler_StaticMethods_ensuredMeasured_$$($JSCompiler_StaticMethods_ensuredMeasured_$self$$,$resource$jscomp$1$$){return $resource$jscomp$1$$.hasBeenMeasured()?$tryResolve$$module$src$utils$promise$$(function(){return $resource$jscomp$1$$.getPageLayoutBox()}):$JSCompiler_StaticMethods_ensuredMeasured_$self$$.$vsync_$.measurePromise(function(){$resource$jscomp$1$$.measure();return $resource$jscomp$1$$.getPageLayoutBox()})}$JSCompiler_prototypeAlias$$.getViewport=function(){return this.$viewport_$};
$JSCompiler_prototypeAlias$$.getScrollDirection=function(){return Math.sign(this.$lastVelocity_$)||1};
$JSCompiler_prototypeAlias$$.add=function($element$jscomp$138$$){this.$addCount_$++;1==this.$addCount_$&&this.$viewport_$.ensureReadyForElements();var $resource$jscomp$2$$=$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$138$$);$resource$jscomp$2$$&&0!=$resource$jscomp$2$$.getState()&&!$element$jscomp$138$$.reconstructWhenReparented()?$resource$jscomp$2$$.requestMeasure():$resource$jscomp$2$$=new $Resource$$module$src$service$resource$$(++this.$resourceIdCounter_$,$element$jscomp$138$$,
this);this.$resources_$.push($resource$jscomp$2$$);this.$remeasurePass_$.schedule(1E3)};$JSCompiler_prototypeAlias$$.grantBuildPermission=function(){return 20>this.$buildAttemptsCount_$++||this.$viewer_$.hasBeenVisible()};
function $JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$$($JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$self$$,$resource$jscomp$3$$,$checkForDupes$$){$checkForDupes$$=void 0===$checkForDupes$$?!1:$checkForDupes$$;var $scheduleWhenBuilt$$=void 0===$scheduleWhenBuilt$$?!0:$scheduleWhenBuilt$$;var $buildingEnabled$$=$JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$self$$.$isRuntimeOn_$||$JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$self$$.$isBuildOn_$,
$shouldBuildResource$$="prerender"!=$JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$self$$.$viewer_$.getVisibilityState()||$resource$jscomp$3$$.prerenderAllowed();$buildingEnabled$$&&$shouldBuildResource$$&&($JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$self$$.$documentReady_$?$JSCompiler_StaticMethods_buildResourceUnsafe_$$($JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$self$$,$resource$jscomp$3$$,$scheduleWhenBuilt$$):$resource$jscomp$3$$.isBuilt()||$resource$jscomp$3$$.isBuilding()||
$checkForDupes$$&&$JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$self$$.$pendingBuildResources_$.includes($resource$jscomp$3$$)||($JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$self$$.$pendingBuildResources_$.push($resource$jscomp$3$$),$JSCompiler_StaticMethods_buildReadyResources_$$($JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$self$$,$scheduleWhenBuilt$$)))}
function $JSCompiler_StaticMethods_buildReadyResources_$$($JSCompiler_StaticMethods_buildReadyResources_$self$$,$JSCompiler_scheduleWhenBuilt$jscomp$inline_537_scheduleWhenBuilt$jscomp$1$$){if(!$JSCompiler_StaticMethods_buildReadyResources_$self$$.$isCurrentlyBuildingPendingResources_$)try{$JSCompiler_StaticMethods_buildReadyResources_$self$$.$isCurrentlyBuildingPendingResources_$=!0;$JSCompiler_scheduleWhenBuilt$jscomp$inline_537_scheduleWhenBuilt$jscomp$1$$=void 0===$JSCompiler_scheduleWhenBuilt$jscomp$inline_537_scheduleWhenBuilt$jscomp$1$$?
!0:$JSCompiler_scheduleWhenBuilt$jscomp$inline_537_scheduleWhenBuilt$jscomp$1$$;$JSCompiler_scheduleWhenBuilt$jscomp$inline_537_scheduleWhenBuilt$jscomp$1$$=void 0===$JSCompiler_scheduleWhenBuilt$jscomp$inline_537_scheduleWhenBuilt$jscomp$1$$?!0:$JSCompiler_scheduleWhenBuilt$jscomp$inline_537_scheduleWhenBuilt$jscomp$1$$;for(var $JSCompiler_i$jscomp$inline_538$$=0;$JSCompiler_i$jscomp$inline_538$$<$JSCompiler_StaticMethods_buildReadyResources_$self$$.$pendingBuildResources_$.length;$JSCompiler_i$jscomp$inline_538$$++){var $JSCompiler_resource$jscomp$inline_539$$=
$JSCompiler_StaticMethods_buildReadyResources_$self$$.$pendingBuildResources_$[$JSCompiler_i$jscomp$inline_538$$],$JSCompiler_temp$jscomp$741$$;if(!($JSCompiler_temp$jscomp$741$$=$JSCompiler_StaticMethods_buildReadyResources_$self$$.$documentReady_$))a:{var $JSCompiler_opt_stopNode$jscomp$inline_852$$=$JSCompiler_StaticMethods_buildReadyResources_$self$$.ampdoc.getRootNode(),$JSCompiler_currentElement$jscomp$inline_853$$=$JSCompiler_resource$jscomp$inline_539$$.element;do if($JSCompiler_currentElement$jscomp$inline_853$$.nextSibling){$JSCompiler_temp$jscomp$741$$=
!0;break a}while(($JSCompiler_currentElement$jscomp$inline_853$$=$JSCompiler_currentElement$jscomp$inline_853$$.parentNode)&&$JSCompiler_currentElement$jscomp$inline_853$$!=$JSCompiler_opt_stopNode$jscomp$inline_852$$);$JSCompiler_temp$jscomp$741$$=!1}$JSCompiler_temp$jscomp$741$$&&($JSCompiler_StaticMethods_buildReadyResources_$self$$.$pendingBuildResources_$.splice($JSCompiler_i$jscomp$inline_538$$--,1),$JSCompiler_StaticMethods_buildResourceUnsafe_$$($JSCompiler_StaticMethods_buildReadyResources_$self$$,
$JSCompiler_resource$jscomp$inline_539$$,$JSCompiler_scheduleWhenBuilt$jscomp$inline_537_scheduleWhenBuilt$jscomp$1$$))}}finally{$JSCompiler_StaticMethods_buildReadyResources_$self$$.$isCurrentlyBuildingPendingResources_$=!1}}
function $JSCompiler_StaticMethods_buildResourceUnsafe_$$($JSCompiler_StaticMethods_buildResourceUnsafe_$self$$,$resource$jscomp$5$$,$schedulePass$$){var $promise$jscomp$25$$=$resource$jscomp$5$$.build();$promise$jscomp$25$$&&$schedulePass$$&&$promise$jscomp$25$$.then(function(){return $JSCompiler_StaticMethods_buildResourceUnsafe_$self$$.schedulePass()},function($schedulePass$$){$JSCompiler_StaticMethods_removeResource_$$($JSCompiler_StaticMethods_buildResourceUnsafe_$self$$,$resource$jscomp$5$$);
if(!$isBlockedByConsent$$module$src$error$$($schedulePass$$))throw $schedulePass$$;})}$JSCompiler_prototypeAlias$$.remove=function($element$jscomp$139_resource$jscomp$6$$){($element$jscomp$139_resource$jscomp$6$$=$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$139_resource$jscomp$6$$))&&$JSCompiler_StaticMethods_removeResource_$$(this,$element$jscomp$139_resource$jscomp$6$$)};
function $JSCompiler_StaticMethods_removeResource_$$($JSCompiler_StaticMethods_removeResource_$self$$,$resource$jscomp$7$$,$opt_disconnect$$){var $index$jscomp$81$$=$JSCompiler_StaticMethods_removeResource_$self$$.$resources_$.indexOf($resource$jscomp$7$$);-1!=$index$jscomp$81$$&&$JSCompiler_StaticMethods_removeResource_$self$$.$resources_$.splice($index$jscomp$81$$,1);$resource$jscomp$7$$.isBuilt()&&$resource$jscomp$7$$.pauseOnRemove();$opt_disconnect$$&&$resource$jscomp$7$$.disconnect();$JSCompiler_StaticMethods_cleanupTasks_$$($JSCompiler_StaticMethods_removeResource_$self$$,
$resource$jscomp$7$$,!0)}$JSCompiler_prototypeAlias$$.removeForChildWindow=function($childWin$jscomp$6$$){var $$jscomp$this$jscomp$90$$=this,$toRemove$$=this.$resources_$.filter(function($$jscomp$this$jscomp$90$$){return $$jscomp$this$jscomp$90$$.hostWin==$childWin$jscomp$6$$});$toRemove$$.forEach(function($childWin$jscomp$6$$){return $JSCompiler_StaticMethods_removeResource_$$($$jscomp$this$jscomp$90$$,$childWin$jscomp$6$$,!0)})};
$JSCompiler_prototypeAlias$$.upgraded=function($element$jscomp$140_resource$jscomp$8$$){$element$jscomp$140_resource$jscomp$8$$=$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$140_resource$jscomp$8$$);$JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$$(this,$element$jscomp$140_resource$jscomp$8$$)};
$JSCompiler_prototypeAlias$$.setOwner=function($JSCompiler_cachedElements$jscomp$inline_543_element$jscomp$141$$,$JSCompiler_i$jscomp$inline_544_owner$jscomp$6$$){$JSCompiler_i$jscomp$inline_544_owner$jscomp$6$$.contains($JSCompiler_cachedElements$jscomp$inline_543_element$jscomp$141$$);$Resource$$module$src$service$resource$forElementOptional$$($JSCompiler_cachedElements$jscomp$inline_543_element$jscomp$141$$)&&$Resource$$module$src$service$resource$forElementOptional$$($JSCompiler_cachedElements$jscomp$inline_543_element$jscomp$141$$).updateOwner($JSCompiler_i$jscomp$inline_544_owner$jscomp$6$$);
$JSCompiler_cachedElements$jscomp$inline_543_element$jscomp$141$$.__AMP__OWNER=$JSCompiler_i$jscomp$inline_544_owner$jscomp$6$$;$JSCompiler_cachedElements$jscomp$inline_543_element$jscomp$141$$=$JSCompiler_cachedElements$jscomp$inline_543_element$jscomp$141$$.getElementsByClassName("i-amphtml-element");for($JSCompiler_i$jscomp$inline_544_owner$jscomp$6$$=0;$JSCompiler_i$jscomp$inline_544_owner$jscomp$6$$<$JSCompiler_cachedElements$jscomp$inline_543_element$jscomp$141$$.length;$JSCompiler_i$jscomp$inline_544_owner$jscomp$6$$++){var $JSCompiler_ele$jscomp$inline_545$$=
$JSCompiler_cachedElements$jscomp$inline_543_element$jscomp$141$$[$JSCompiler_i$jscomp$inline_544_owner$jscomp$6$$];$Resource$$module$src$service$resource$forElementOptional$$($JSCompiler_ele$jscomp$inline_545$$)&&$Resource$$module$src$service$resource$forElementOptional$$($JSCompiler_ele$jscomp$inline_545$$).updateOwner(void 0)}};
$JSCompiler_prototypeAlias$$.requireLayout=function($element$jscomp$142$$,$opt_parentPriority$$){var $$jscomp$this$jscomp$91$$=this,$promises$jscomp$6$$=[];$JSCompiler_StaticMethods_discoverResourcesForElement_$$(this,$element$jscomp$142$$,function($element$jscomp$142$$){4!=$element$jscomp$142$$.getState()&&(3!=$element$jscomp$142$$.getState()?$promises$jscomp$6$$.push($element$jscomp$142$$.whenBuilt().then(function(){$element$jscomp$142$$.measure();if($element$jscomp$142$$.isDisplayed())return $JSCompiler_StaticMethods_scheduleLayoutOrPreload_$$($$jscomp$this$jscomp$91$$,
$element$jscomp$142$$,!0,$opt_parentPriority$$,!0),$element$jscomp$142$$.loadedOnce()})):$element$jscomp$142$$.isDisplayed()&&$promises$jscomp$6$$.push($element$jscomp$142$$.loadedOnce()))});return Promise.all($promises$jscomp$6$$)};$JSCompiler_prototypeAlias$$.scheduleLayout=function($parentElement$$,$subElements$$){$JSCompiler_StaticMethods_scheduleLayoutOrPreloadForSubresources_$$(this,$Resource$$module$src$service$resource$forElementOptional$$($parentElement$$),!0,$elements_$$module$src$service$resources_impl$$($subElements$$))};
$JSCompiler_prototypeAlias$$.schedulePause=function($parentElement$jscomp$1$$,$subElements$jscomp$1$$){var $parentResource$$=$Resource$$module$src$service$resource$forElementOptional$$($parentElement$jscomp$1$$);$subElements$jscomp$1$$=$elements_$$module$src$service$resources_impl$$($subElements$jscomp$1$$);$JSCompiler_StaticMethods_discoverResourcesForArray_$$(this,$parentResource$$,$subElements$jscomp$1$$,function($parentElement$jscomp$1$$){$parentElement$jscomp$1$$.pause()})};
$JSCompiler_prototypeAlias$$.scheduleResume=function($parentElement$jscomp$2_parentResource$jscomp$1$$,$subElements$jscomp$2$$){$parentElement$jscomp$2_parentResource$jscomp$1$$=$Resource$$module$src$service$resource$forElementOptional$$($parentElement$jscomp$2_parentResource$jscomp$1$$);$subElements$jscomp$2$$=$elements_$$module$src$service$resources_impl$$($subElements$jscomp$2$$);$JSCompiler_StaticMethods_discoverResourcesForArray_$$(this,$parentElement$jscomp$2_parentResource$jscomp$1$$,$subElements$jscomp$2$$,
function($parentElement$jscomp$2_parentResource$jscomp$1$$){$parentElement$jscomp$2_parentResource$jscomp$1$$.resume()})};
$JSCompiler_prototypeAlias$$.scheduleUnlayout=function($parentElement$jscomp$3_parentResource$jscomp$2$$,$subElements$jscomp$3$$){$parentElement$jscomp$3_parentResource$jscomp$2$$=$Resource$$module$src$service$resource$forElementOptional$$($parentElement$jscomp$3_parentResource$jscomp$2$$);$subElements$jscomp$3$$=$elements_$$module$src$service$resources_impl$$($subElements$jscomp$3$$);$JSCompiler_StaticMethods_discoverResourcesForArray_$$(this,$parentElement$jscomp$3_parentResource$jscomp$2$$,$subElements$jscomp$3$$,
function($parentElement$jscomp$3_parentResource$jscomp$2$$){$parentElement$jscomp$3_parentResource$jscomp$2$$.unlayout()})};$JSCompiler_prototypeAlias$$.schedulePreload=function($parentElement$jscomp$4$$,$subElements$jscomp$4$$){$JSCompiler_StaticMethods_scheduleLayoutOrPreloadForSubresources_$$(this,$Resource$$module$src$service$resource$forElementOptional$$($parentElement$jscomp$4$$),!1,$elements_$$module$src$service$resources_impl$$($subElements$jscomp$4$$))};
$JSCompiler_prototypeAlias$$.updateLayoutPriority=function($element$jscomp$143$$,$newLayoutPriority$jscomp$1$$){var $resource$jscomp$13$$=$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$143$$);$resource$jscomp$13$$.updateLayoutPriority($newLayoutPriority$jscomp$1$$);this.$queue_$.forEach(function($element$jscomp$143$$){$element$jscomp$143$$.resource==$resource$jscomp$13$$&&($element$jscomp$143$$.priority=$newLayoutPriority$jscomp$1$$)});this.schedulePass()};
$JSCompiler_prototypeAlias$$.updateInViewport=function($parentElement$jscomp$5$$,$subElements$jscomp$5$$,$inLocalViewport$jscomp$1$$){$JSCompiler_StaticMethods_updateInViewportForSubresources_$$(this,$Resource$$module$src$service$resource$forElementOptional$$($parentElement$jscomp$5$$),$elements_$$module$src$service$resources_impl$$($subElements$jscomp$5$$),$inLocalViewport$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.changeSize=function($element$jscomp$144$$,$newHeight$jscomp$5$$,$newWidth$jscomp$4$$,$opt_callback$jscomp$5$$,$opt_newMargins$jscomp$2$$){$JSCompiler_StaticMethods_scheduleChangeSize_$$(this,$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$144$$),$newHeight$jscomp$5$$,$newWidth$jscomp$4$$,$opt_newMargins$jscomp$2$$,!0,$opt_callback$jscomp$5$$)};
$JSCompiler_prototypeAlias$$.attemptChangeSize=function($element$jscomp$145$$,$newHeight$jscomp$6$$,$newWidth$jscomp$5$$,$opt_newMargins$jscomp$3$$){var $$jscomp$this$jscomp$92$$=this;return new Promise(function($resolve$jscomp$32$$,$reject$jscomp$17$$){$JSCompiler_StaticMethods_scheduleChangeSize_$$($$jscomp$this$jscomp$92$$,$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$145$$),$newHeight$jscomp$6$$,$newWidth$jscomp$5$$,$opt_newMargins$jscomp$3$$,!1,function($element$jscomp$145$$){$element$jscomp$145$$?
$resolve$jscomp$32$$():$reject$jscomp$17$$(Error("changeSize attempt denied"))})})};$JSCompiler_prototypeAlias$$.measureElement=function($measurer$jscomp$2$$){return this.$vsync_$.measurePromise($measurer$jscomp$2$$)};$JSCompiler_prototypeAlias$$.mutateElement=function($element$jscomp$146$$,$mutator$jscomp$3$$){return this.measureMutateElement($element$jscomp$146$$,null,$mutator$jscomp$3$$)};
$JSCompiler_prototypeAlias$$.measureMutateElement=function($element$jscomp$147$$,$measurer$jscomp$3$$,$mutator$jscomp$4$$){return this.$useLayers_$?$JSCompiler_StaticMethods_measureMutateElementLayers_$$(this,$element$jscomp$147$$,$measurer$jscomp$3$$,$mutator$jscomp$4$$):$JSCompiler_StaticMethods_measureMutateElementResources_$$(this,$element$jscomp$147$$,$measurer$jscomp$3$$,$mutator$jscomp$4$$)};
function $JSCompiler_StaticMethods_measureMutateElementResources_$$($JSCompiler_StaticMethods_measureMutateElementResources_$self$$,$element$jscomp$148$$,$measurer$jscomp$4$$,$mutator$jscomp$5$$){function $calcRelayoutTop$$(){var $measurer$jscomp$4$$=$JSCompiler_StaticMethods_measureMutateElementResources_$self$$.$viewport_$.getLayoutRect($element$jscomp$148$$);return 0!=$measurer$jscomp$4$$.width&&0!=$measurer$jscomp$4$$.height?$measurer$jscomp$4$$.top:-1}var $relayoutTop$$=-1;return $JSCompiler_StaticMethods_measureMutateElementResources_$self$$.$vsync_$.runPromise({measure:function(){$measurer$jscomp$4$$&&
$measurer$jscomp$4$$();$relayoutTop$$=$calcRelayoutTop$$()},mutate:function(){$mutator$jscomp$5$$();$element$jscomp$148$$.classList.contains("i-amphtml-element")&&$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$148$$).requestMeasure();for(var $measurer$jscomp$4$$=$element$jscomp$148$$.getElementsByClassName("i-amphtml-element"),$i$jscomp$94$$=0;$i$jscomp$94$$<$measurer$jscomp$4$$.length;$i$jscomp$94$$++)$Resource$$module$src$service$resource$forElementOptional$$($measurer$jscomp$4$$[$i$jscomp$94$$]).requestMeasure();
-1!=$relayoutTop$$&&$JSCompiler_StaticMethods_setRelayoutTop_$$($JSCompiler_StaticMethods_measureMutateElementResources_$self$$,$relayoutTop$$);$JSCompiler_StaticMethods_measureMutateElementResources_$self$$.schedulePass(70);$JSCompiler_StaticMethods_measureMutateElementResources_$self$$.$vsync_$.measure(function(){var $element$jscomp$148$$=$calcRelayoutTop$$();-1!=$element$jscomp$148$$&&$element$jscomp$148$$!=$relayoutTop$$&&($JSCompiler_StaticMethods_setRelayoutTop_$$($JSCompiler_StaticMethods_measureMutateElementResources_$self$$,
$element$jscomp$148$$),$JSCompiler_StaticMethods_measureMutateElementResources_$self$$.schedulePass(70));$JSCompiler_StaticMethods_measureMutateElementResources_$self$$.$maybeChangeHeight_$=!0})}})}
function $JSCompiler_StaticMethods_measureMutateElementLayers_$$($JSCompiler_StaticMethods_measureMutateElementLayers_$self$$,$element$jscomp$149$$,$measurer$jscomp$5$$,$mutator$jscomp$6$$){return $JSCompiler_StaticMethods_measureMutateElementLayers_$self$$.$vsync_$.runPromise({measure:$measurer$jscomp$5$$||void 0,mutate:function(){$mutator$jscomp$6$$();$JSCompiler_StaticMethods_measureMutateElementLayers_$self$$.dirtyElement($element$jscomp$149$$)}})}
$JSCompiler_prototypeAlias$$.dirtyElement=function($ampElements$jscomp$1_element$jscomp$150_r$50$$){var $relayoutAll$$=!1;if(this.$useLayers_$){this.$layers_$.dirty($ampElements$jscomp$1_element$jscomp$150_r$50$$);$ampElements$jscomp$1_element$jscomp$150_r$50$$.classList.contains("i-amphtml-element")&&$Resource$$module$src$service$resource$forElementOptional$$($ampElements$jscomp$1_element$jscomp$150_r$50$$).requestMeasure();$ampElements$jscomp$1_element$jscomp$150_r$50$$=$ampElements$jscomp$1_element$jscomp$150_r$50$$.getElementsByClassName("i-amphtml-element");
for(var $i$jscomp$95$$=0;$i$jscomp$95$$<$ampElements$jscomp$1_element$jscomp$150_r$50$$.length;$i$jscomp$95$$++)$Resource$$module$src$service$resource$forElementOptional$$($ampElements$jscomp$1_element$jscomp$150_r$50$$[$i$jscomp$95$$]).requestMeasure();this.$maybeChangeHeight_$=!0}else{var $isAmpElement$$=$ampElements$jscomp$1_element$jscomp$150_r$50$$.classList.contains("i-amphtml-element");$isAmpElement$$?($ampElements$jscomp$1_element$jscomp$150_r$50$$=$Resource$$module$src$service$resource$forElementOptional$$($ampElements$jscomp$1_element$jscomp$150_r$50$$),
$JSCompiler_StaticMethods_setRelayoutTop_$$(this,$ampElements$jscomp$1_element$jscomp$150_r$50$$.getLayoutBox().top)):$relayoutAll$$=!0}this.schedulePass(70,$relayoutAll$$)};
$JSCompiler_prototypeAlias$$.attemptCollapse=function($element$jscomp$151$$){var $$jscomp$this$jscomp$95$$=this;return new Promise(function($resolve$jscomp$33$$,$reject$jscomp$18$$){$JSCompiler_StaticMethods_scheduleChangeSize_$$($$jscomp$this$jscomp$95$$,$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$151$$),0,0,void 0,!1,function($$jscomp$this$jscomp$95$$){$$jscomp$this$jscomp$95$$?($Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$151$$).completeCollapse(),
$resolve$jscomp$33$$()):$reject$jscomp$18$$(Error("collapse attempt denied"))})})};
$JSCompiler_prototypeAlias$$.collapseElement=function($element$jscomp$152$$){var $box$jscomp$7$$=this.$viewport_$.getLayoutRect($element$jscomp$152$$),$resource$jscomp$15$$=$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$152$$);0!=$box$jscomp$7$$.width&&0!=$box$jscomp$7$$.height&&($isExperimentOn$$module$src$experiments$$(this.win,"dirty-collapse-element")||this.$useLayers_$?this.dirtyElement($element$jscomp$152$$):$JSCompiler_StaticMethods_setRelayoutTop_$$(this,$box$jscomp$7$$.top));
$resource$jscomp$15$$.completeCollapse();this.schedulePass(70)};$JSCompiler_prototypeAlias$$.expandElement=function($element$jscomp$153$$){var $owner$jscomp$7_resource$jscomp$16$$=$Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$153$$);$owner$jscomp$7_resource$jscomp$16$$.completeExpand();($owner$jscomp$7_resource$jscomp$16$$=$owner$jscomp$7_resource$jscomp$16$$.getOwner())&&$owner$jscomp$7_resource$jscomp$16$$.expandedCallback($element$jscomp$153$$);this.schedulePass(70)};
$JSCompiler_prototypeAlias$$.schedulePass=function($opt_delay$jscomp$3$$,$opt_relayoutAll$$){$opt_relayoutAll$$&&(this.$relayoutAll_$=!0);return this.$pass_$.schedule($opt_delay$jscomp$3$$)};$JSCompiler_prototypeAlias$$.schedulePassVsync=function(){var $$jscomp$this$jscomp$96$$=this;this.$vsyncScheduled_$||(this.$vsyncScheduled_$=!0,this.$vsync_$.mutate(function(){return $$jscomp$this$jscomp$96$$.doPass()}))};$JSCompiler_prototypeAlias$$.ampInitComplete=function(){this.$ampInitialized_$=!0;this.schedulePass()};
$JSCompiler_prototypeAlias$$.onNextPass=function($callback$jscomp$88$$){this.$passCallbacks_$.push($callback$jscomp$88$$)};
$JSCompiler_prototypeAlias$$.doPass=function(){var $$jscomp$this$jscomp$97$$=this;if(this.$isRuntimeOn_$){this.$visible_$=this.$viewer_$.isVisible();this.$prerenderSize_$=this.$viewer_$.getPrerenderSize();var $firstPassAfterDocumentReady$$=this.$documentReady_$&&this.$firstPassAfterDocumentReady_$;if($firstPassAfterDocumentReady$$){this.$firstPassAfterDocumentReady_$=!1;var $doc$jscomp$35_i$jscomp$96$$=this.win.document,$documentInfo$$=$Services$$module$src$services$documentInfoForDoc$$(this.ampdoc);
this.$viewer_$.sendMessage("documentLoaded",$dict$$module$src$utils$object$$({title:$doc$jscomp$35_i$jscomp$96$$.title,sourceUrl:$getSourceUrl$$module$src$url$$(this.ampdoc.getUrl()),serverLayout:$doc$jscomp$35_i$jscomp$96$$.documentElement.hasAttribute("i-amphtml-element"),linkRels:$documentInfo$$.linkRels,metaTags:$documentInfo$$.metaTags}),!0);this.$contentHeight_$=this.$viewport_$.getContentHeight();this.$viewer_$.sendMessage("documentHeight",$dict$$module$src$utils$object$$({height:this.$contentHeight_$}),
!0)}this.$viewport_$.getSize();this.$pass_$.cancel();this.$vsyncScheduled_$=!1;this.$visibilityStateMachine_$.setState(this.$viewer_$.getVisibilityState());this.$documentReady_$&&this.$ampInitialized_$&&!this.ampdoc.signals().get("ready-scan")&&this.ampdoc.signals().signal("ready-scan");this.$maybeChangeHeight_$&&(this.$maybeChangeHeight_$=!1,this.$vsync_$.measure(function(){var $firstPassAfterDocumentReady$$=$$jscomp$this$jscomp$97$$.$viewport_$.getContentHeight();$firstPassAfterDocumentReady$$!=
$$jscomp$this$jscomp$97$$.$contentHeight_$&&($$jscomp$this$jscomp$97$$.$viewer_$.sendMessage("documentHeight",$dict$$module$src$utils$object$$({height:$firstPassAfterDocumentReady$$}),!0),$$jscomp$this$jscomp$97$$.$contentHeight_$=$firstPassAfterDocumentReady$$,$$jscomp$this$jscomp$97$$.$viewport_$.contentHeightChanged())}));for($doc$jscomp$35_i$jscomp$96$$=0;$doc$jscomp$35_i$jscomp$96$$<this.$passCallbacks_$.length;$doc$jscomp$35_i$jscomp$96$$++)(0,this.$passCallbacks_$[$doc$jscomp$35_i$jscomp$96$$])();
this.$passCallbacks_$.length=0}};
function $JSCompiler_StaticMethods_mutateWorkViaResources_$$($JSCompiler_StaticMethods_mutateWorkViaResources_$self$$){var $i$jscomp$97_now$jscomp$6$$=Date.now(),$viewportRect$$=$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$viewport_$.getRect(),$topOffset$$=$viewportRect$$.height/10,$bottomOffset$$=$viewportRect$$.height/10,$isScrollingStopped$$=.01>Math.abs($JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$lastVelocity_$)&&500<$i$jscomp$97_now$jscomp$6$$-$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$lastScrollTime_$||
1E3<$i$jscomp$97_now$jscomp$6$$-$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$lastScrollTime_$;if(0<$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$requestsChangeSize_$.length){var $requestsChangeSize$$=$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$requestsChangeSize_$;$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$requestsChangeSize_$=[];var $minTop$$=-1,$scrollAdjSet$$=[],$dirtySet$$=[],$aboveVpHeightChange$$=0;for($i$jscomp$97_now$jscomp$6$$=0;$i$jscomp$97_now$jscomp$6$$<
$requestsChangeSize$$.length;$i$jscomp$97_now$jscomp$6$$++){var $request$jscomp$5$$=$requestsChangeSize$$[$i$jscomp$97_now$jscomp$6$$],$resource$jscomp$17$$=$request$jscomp$5$$.resource,$box$jscomp$8$$=$resource$jscomp$17$$.getLayoutBox(),$topMarginDiff$$=0,$bottomMarginDiff$$=0,$leftMarginDiff$$=0,$rightMarginDiff$$=0,$$jscomp$destructuring$var95_margins$jscomp$1$$=$box$jscomp$8$$,$topUnchangedBoundary$$=$$jscomp$destructuring$var95_margins$jscomp$1$$.top,$bottomDisplacedBoundary$$=$$jscomp$destructuring$var95_margins$jscomp$1$$.bottom,
$newMargins$$=void 0;$request$jscomp$5$$.marginChange&&($newMargins$$=$request$jscomp$5$$.marginChange.newMargins,$$jscomp$destructuring$var95_margins$jscomp$1$$=$request$jscomp$5$$.marginChange.currentMargins,void 0!=$newMargins$$.top&&($topMarginDiff$$=$newMargins$$.top-$$jscomp$destructuring$var95_margins$jscomp$1$$.top),void 0!=$newMargins$$.bottom&&($bottomMarginDiff$$=$newMargins$$.bottom-$$jscomp$destructuring$var95_margins$jscomp$1$$.bottom),void 0!=$newMargins$$.left&&($leftMarginDiff$$=
$newMargins$$.left-$$jscomp$destructuring$var95_margins$jscomp$1$$.left),void 0!=$newMargins$$.right&&($rightMarginDiff$$=$newMargins$$.right-$$jscomp$destructuring$var95_margins$jscomp$1$$.right),$topMarginDiff$$&&($topUnchangedBoundary$$=$box$jscomp$8$$.top-$$jscomp$destructuring$var95_margins$jscomp$1$$.top),$bottomMarginDiff$$&&($bottomDisplacedBoundary$$=$box$jscomp$8$$.bottom+$$jscomp$destructuring$var95_margins$jscomp$1$$.bottom));var $heightDiff$$=$request$jscomp$5$$.newHeight-$box$jscomp$8$$.height,
$widthDiff$$=$request$jscomp$5$$.newWidth-$box$jscomp$8$$.width,$resize$$=!1;if(0!=$heightDiff$$||0!=$topMarginDiff$$||0!=$bottomMarginDiff$$||0!=$widthDiff$$||0!=$leftMarginDiff$$||0!=$rightMarginDiff$$)if($request$jscomp$5$$.force||!$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$visible_$)$resize$$=!0;else if($JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$activeHistory_$.hasDescendantsOf($resource$jscomp$17$$.element))$resize$$=!0;else if($topUnchangedBoundary$$>=$viewportRect$$.bottom-
$bottomOffset$$||0==$topMarginDiff$$&&$box$jscomp$8$$.bottom+Math.min($heightDiff$$,0)>=$viewportRect$$.bottom-$bottomOffset$$)$resize$$=!0;else if(1<$viewportRect$$.top&&$bottomDisplacedBoundary$$<=$viewportRect$$.top+$topOffset$$){if(0>$heightDiff$$&&$viewportRect$$.top+$aboveVpHeightChange$$<-$heightDiff$$)continue;$isScrollingStopped$$?($aboveVpHeightChange$$+=$heightDiff$$,$scrollAdjSet$$.push($request$jscomp$5$$)):$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$requestsChangeSize_$.push($request$jscomp$5$$);
continue}else $JSCompiler_StaticMethods_elementNearBottom_$$($JSCompiler_StaticMethods_mutateWorkViaResources_$self$$,$resource$jscomp$17$$,$box$jscomp$8$$)?$resize$$=!0:0>$heightDiff$$||0>$topMarginDiff$$||0>$bottomMarginDiff$$||$request$jscomp$5$$.resource.overflowCallback(!0,$request$jscomp$5$$.newHeight,$request$jscomp$5$$.newWidth,$newMargins$$);$resize$$&&(0<=$box$jscomp$8$$.top&&($minTop$$=-1==$minTop$$?$box$jscomp$8$$.top:Math.min($minTop$$,$box$jscomp$8$$.top)),$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$useLayers_$&&
$dirtySet$$.push($request$jscomp$5$$.resource.element),$request$jscomp$5$$.resource.changeSize($request$jscomp$5$$.newHeight,$request$jscomp$5$$.newWidth,$newMargins$$),$request$jscomp$5$$.resource.overflowCallback(!1,$request$jscomp$5$$.newHeight,$request$jscomp$5$$.newWidth,$newMargins$$),$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$maybeChangeHeight_$=!0);$request$jscomp$5$$.callback&&$request$jscomp$5$$.callback($resize$$)}$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$useLayers_$?
$dirtySet$$.forEach(function($i$jscomp$97_now$jscomp$6$$){$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.dirtyElement($i$jscomp$97_now$jscomp$6$$)}):-1!=$minTop$$&&$JSCompiler_StaticMethods_setRelayoutTop_$$($JSCompiler_StaticMethods_mutateWorkViaResources_$self$$,$minTop$$);0<$scrollAdjSet$$.length&&$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$vsync_$.run({measure:function($i$jscomp$97_now$jscomp$6$$){$i$jscomp$97_now$jscomp$6$$.scrollHeight=$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$viewport_$.getScrollHeight();
$i$jscomp$97_now$jscomp$6$$.scrollTop=$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$viewport_$.getScrollTop()},mutate:function($i$jscomp$97_now$jscomp$6$$){var $viewportRect$$=-1;$scrollAdjSet$$.forEach(function($JSCompiler_StaticMethods_mutateWorkViaResources_$self$$){var $i$jscomp$97_now$jscomp$6$$=$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.resource.getLayoutBox();$viewportRect$$=-1==$viewportRect$$?$i$jscomp$97_now$jscomp$6$$.top:Math.min($viewportRect$$,$i$jscomp$97_now$jscomp$6$$.top);
$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.resource.changeSize($JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.newHeight,$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.newWidth,$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.marginChange?$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.marginChange.newMargins:void 0);$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.callback&&$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.callback(!0)});
$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$useLayers_$?$scrollAdjSet$$.forEach(function($i$jscomp$97_now$jscomp$6$$){$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.dirtyElement($i$jscomp$97_now$jscomp$6$$.resource.element)}):-1!=$viewportRect$$&&$JSCompiler_StaticMethods_setRelayoutTop_$$($JSCompiler_StaticMethods_mutateWorkViaResources_$self$$,$viewportRect$$);var $topOffset$$=$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$viewport_$.getScrollHeight();$topOffset$$!=
$i$jscomp$97_now$jscomp$6$$.scrollHeight&&$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$viewport_$.setScrollTop($i$jscomp$97_now$jscomp$6$$.scrollTop+($topOffset$$-$i$jscomp$97_now$jscomp$6$$.scrollHeight));$JSCompiler_StaticMethods_mutateWorkViaResources_$self$$.$maybeChangeHeight_$=!0}},{})}}
function $JSCompiler_StaticMethods_elementNearBottom_$$($JSCompiler_StaticMethods_elementNearBottom_$self_threshold$jscomp$1$$,$resource$jscomp$18$$,$opt_layoutBox$$){var $opt_initialLayoutBox$$,$contentHeight$$=$JSCompiler_StaticMethods_elementNearBottom_$self_threshold$jscomp$1$$.$viewport_$.getContentHeight();$JSCompiler_StaticMethods_elementNearBottom_$self_threshold$jscomp$1$$=Math.max(.85*$contentHeight$$,$contentHeight$$-1E3);var $box$jscomp$10$$=$opt_layoutBox$$||$resource$jscomp$18$$.getLayoutBox(),
$initialBox$$=$opt_initialLayoutBox$$||$resource$jscomp$18$$.getInitialLayoutBox();return $box$jscomp$10$$.bottom>=$JSCompiler_StaticMethods_elementNearBottom_$self_threshold$jscomp$1$$||$initialBox$$.bottom>=$JSCompiler_StaticMethods_elementNearBottom_$self_threshold$jscomp$1$$}
function $JSCompiler_StaticMethods_setRelayoutTop_$$($JSCompiler_StaticMethods_setRelayoutTop_$self$$,$relayoutTop$jscomp$1$$){$JSCompiler_StaticMethods_setRelayoutTop_$self$$.$useLayers_$?$JSCompiler_StaticMethods_setRelayoutTop_$self$$.$relayoutAll_$=!0:$JSCompiler_StaticMethods_setRelayoutTop_$self$$.$relayoutTop_$=-1==$JSCompiler_StaticMethods_setRelayoutTop_$self$$.$relayoutTop_$?$relayoutTop$jscomp$1$$:Math.min($relayoutTop$jscomp$1$$,$JSCompiler_StaticMethods_setRelayoutTop_$self$$.$relayoutTop_$)}
function $JSCompiler_StaticMethods_checkPendingChangeSize_$$($JSCompiler_StaticMethods_checkPendingChangeSize_$self$$,$element$jscomp$155_resource$jscomp$19$$){var $resourceElement$$=$closest$$module$src$dom$$($element$jscomp$155_resource$jscomp$19$$,function($JSCompiler_StaticMethods_checkPendingChangeSize_$self$$){return!!$Resource$$module$src$service$resource$forElementOptional$$($JSCompiler_StaticMethods_checkPendingChangeSize_$self$$)});if($resourceElement$$){$element$jscomp$155_resource$jscomp$19$$=
$Resource$$module$src$service$resource$forElementOptional$$($resourceElement$$);var $pendingChangeSize$$=$element$jscomp$155_resource$jscomp$19$$.getPendingChangeSize();void 0!==$pendingChangeSize$$&&$JSCompiler_StaticMethods_scheduleChangeSize_$$($JSCompiler_StaticMethods_checkPendingChangeSize_$self$$,$element$jscomp$155_resource$jscomp$19$$,$pendingChangeSize$$.height,$pendingChangeSize$$.width,$pendingChangeSize$$.margins,!0)}}
function $JSCompiler_StaticMethods_discoverWork_$$($JSCompiler_StaticMethods_discoverWork_$self$$){var $i$57_i$59_now$jscomp$7$$=Date.now(),$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$=$JSCompiler_StaticMethods_discoverWork_$self$$.$relayoutAll_$;$JSCompiler_StaticMethods_discoverWork_$self$$.$relayoutAll_$=!1;var $r$54_r$56_relayoutTop$jscomp$2$$=$JSCompiler_StaticMethods_discoverWork_$self$$.$relayoutTop_$;$JSCompiler_StaticMethods_discoverWork_$self$$.$relayoutTop_$=-1;for(var $relayoutCount$$=
0,$remeasureCount$$=0,$i$51_i$jscomp$98$$=0;$i$51_i$jscomp$98$$<$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$.length;$i$51_i$jscomp$98$$++){var $r$52_r$jscomp$10$$=$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$[$i$51_i$jscomp$98$$];0!=$r$52_r$jscomp$10$$.getState()||$r$52_r$jscomp$10$$.isBuilding()||$JSCompiler_StaticMethods_buildOrScheduleBuildForResource_$$($JSCompiler_StaticMethods_discoverWork_$self$$,$r$52_r$jscomp$10$$,!0);if($i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$||
!$r$52_r$jscomp$10$$.hasBeenMeasured()||1==$r$52_r$jscomp$10$$.getState())$r$52_r$jscomp$10$$.applySizesAndMediaQuery(),$relayoutCount$$++;$r$52_r$jscomp$10$$.isMeasureRequested()&&$remeasureCount$$++}var $toUnload$$;if(0<$relayoutCount$$||0<$remeasureCount$$||$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$||-1!=$r$54_r$56_relayoutTop$jscomp$2$$)for($i$51_i$jscomp$98$$=0;$i$51_i$jscomp$98$$<$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$.length;$i$51_i$jscomp$98$$++)if($r$52_r$jscomp$10$$=
$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$[$i$51_i$jscomp$98$$],!$r$52_r$jscomp$10$$.hasOwner()||$r$52_r$jscomp$10$$.isMeasureRequested())if($i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$||1==$r$52_r$jscomp$10$$.getState()||!$r$52_r$jscomp$10$$.hasBeenMeasured()||$r$52_r$jscomp$10$$.isMeasureRequested()||-1!=$r$54_r$56_relayoutTop$jscomp$2$$&&$r$52_r$jscomp$10$$.getLayoutBox().bottom>=$r$54_r$56_relayoutTop$jscomp$2$$){var $wasDisplayed$$=$r$52_r$jscomp$10$$.isDisplayed();
$r$52_r$jscomp$10$$.measure();$wasDisplayed$$&&!$r$52_r$jscomp$10$$.isDisplayed()&&($toUnload$$||($toUnload$$=[]),$toUnload$$.push($r$52_r$jscomp$10$$))}$toUnload$$&&$JSCompiler_StaticMethods_discoverWork_$self$$.$vsync_$.mutate(function(){$toUnload$$.forEach(function($i$57_i$59_now$jscomp$7$$){$i$57_i$59_now$jscomp$7$$.unload();$JSCompiler_StaticMethods_cleanupTasks_$$($JSCompiler_StaticMethods_discoverWork_$self$$,$i$57_i$59_now$jscomp$7$$)})});$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$=
$JSCompiler_StaticMethods_discoverWork_$self$$.$viewport_$.getRect();var $loadRect$$=$JSCompiler_StaticMethods_discoverWork_$self$$.$visible_$?$expandLayoutRect$$module$src$layout_rect$$($i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$,.25,2):0<$JSCompiler_StaticMethods_discoverWork_$self$$.$prerenderSize_$?$expandLayoutRect$$module$src$layout_rect$$($i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$,0,$JSCompiler_StaticMethods_discoverWork_$self$$.$prerenderSize_$-
1):null;var $visibleRect$$=$JSCompiler_StaticMethods_discoverWork_$self$$.$visible_$?$expandLayoutRect$$module$src$layout_rect$$($i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$,.25,.25):$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$;for($i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$=0;$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$<$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$.length;$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$++)if($r$54_r$56_relayoutTop$jscomp$2$$=
$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$[$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$],0!=$r$54_r$56_relayoutTop$jscomp$2$$.getState()&&!$r$54_r$56_relayoutTop$jscomp$2$$.hasOwner()){var $shouldBeInViewport$$=$JSCompiler_StaticMethods_discoverWork_$self$$.$visible_$&&$r$54_r$56_relayoutTop$jscomp$2$$.isDisplayed()&&$r$54_r$56_relayoutTop$jscomp$2$$.overlaps($visibleRect$$);$r$54_r$56_relayoutTop$jscomp$2$$.setInViewport($shouldBeInViewport$$)}if($loadRect$$)for($i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$=
0;$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$<$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$.length;$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$++)$r$54_r$56_relayoutTop$jscomp$2$$=$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$[$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$],2!=$r$54_r$56_relayoutTop$jscomp$2$$.getState()||$r$54_r$56_relayoutTop$jscomp$2$$.hasOwner()||$r$54_r$56_relayoutTop$jscomp$2$$.isDisplayed()&&
$r$54_r$56_relayoutTop$jscomp$2$$.overlaps($loadRect$$)&&$JSCompiler_StaticMethods_scheduleLayoutOrPreload_$$($JSCompiler_StaticMethods_discoverWork_$self$$,$r$54_r$56_relayoutTop$jscomp$2$$,!0);if($JSCompiler_StaticMethods_discoverWork_$self$$.$visible_$&&0==$JSCompiler_StaticMethods_discoverWork_$self$$.$exec_$.getSize()&&0==$JSCompiler_StaticMethods_discoverWork_$self$$.$queue_$.getSize()&&$i$57_i$59_now$jscomp$7$$>$JSCompiler_StaticMethods_discoverWork_$self$$.$exec_$.getLastDequeueTime()+5E3){var $idleScheduledCount$$=
0;for($i$57_i$59_now$jscomp$7$$=0;$i$57_i$59_now$jscomp$7$$<$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$.length&&4>$idleScheduledCount$$;$i$57_i$59_now$jscomp$7$$++)$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$=$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$[$i$57_i$59_now$jscomp$7$$],2==$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$.getState()&&!$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$.hasOwner()&&$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$.isDisplayed()&&
$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$.idleRenderOutsideViewport()&&($JSCompiler_StaticMethods_scheduleLayoutOrPreload_$$($JSCompiler_StaticMethods_discoverWork_$self$$,$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$,!1),$idleScheduledCount$$++);for($i$57_i$59_now$jscomp$7$$=0;$i$57_i$59_now$jscomp$7$$<$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$.length&&4>$idleScheduledCount$$;$i$57_i$59_now$jscomp$7$$++)$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$=
$JSCompiler_StaticMethods_discoverWork_$self$$.$resources_$[$i$57_i$59_now$jscomp$7$$],2==$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$.getState()&&!$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$.hasOwner()&&$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$.isDisplayed()&&($JSCompiler_StaticMethods_scheduleLayoutOrPreload_$$($JSCompiler_StaticMethods_discoverWork_$self$$,$i$53_i$55_r$58_r$60_relayoutAll$jscomp$1_viewportRect$jscomp$1$$,!1),$idleScheduledCount$$++)}}
$JSCompiler_prototypeAlias$$.$calcTaskScore_$=function($task$jscomp$7$$){var $viewport$jscomp$5$$=this.$viewport_$.getRect(),$box$jscomp$11$$=$task$jscomp$7$$.resource.getLayoutBox(),$posPriority$$=Math.floor(($box$jscomp$11$$.top-$viewport$jscomp$5$$.top)/$viewport$jscomp$5$$.height);Math.sign($posPriority$$)!=this.getScrollDirection()&&($posPriority$$*=2);$posPriority$$=Math.abs($posPriority$$);return 10*$task$jscomp$7$$.priority+$posPriority$$};
$JSCompiler_prototypeAlias$$.$calcTaskScoreLayers_$=function($task$jscomp$8$$,$cache$jscomp$1$$){var $layerScore$$=this.$layers_$.iterateAncestry($task$jscomp$8$$.resource.element,this.$boundCalcLayoutScore_$,$cache$jscomp$1$$);return 10*$task$jscomp$8$$.priority+$layerScore$$};
$JSCompiler_prototypeAlias$$.$calcLayoutScore_$=function($currentScore$jscomp$1_score$jscomp$1$$,$distance$jscomp$3_layout$jscomp$7$$,$depth$jscomp$11_depthPenalty$jscomp$1$$,$cache$jscomp$2$$){var $id$jscomp$38$$=$distance$jscomp$3_layout$jscomp$7$$.getId();if($hasOwn_$$module$src$utils$object$$.call($cache$jscomp$2$$,$id$jscomp$38$$))return $cache$jscomp$2$$[$id$jscomp$38$$];$currentScore$jscomp$1_score$jscomp$1$$=$currentScore$jscomp$1_score$jscomp$1$$||0;$depth$jscomp$11_depthPenalty$jscomp$1$$=
1+$depth$jscomp$11_depthPenalty$jscomp$1$$/10;var $nonActivePenalty$jscomp$1$$=$distance$jscomp$3_layout$jscomp$7$$.isActiveUnsafe()?1:2;$distance$jscomp$3_layout$jscomp$7$$=$distance$jscomp$3_layout$jscomp$7$$.getHorizontalDistanceFromParent()+$distance$jscomp$3_layout$jscomp$7$$.getVerticalDistanceFromParent();return $cache$jscomp$2$$[$id$jscomp$38$$]=$currentScore$jscomp$1_score$jscomp$1$$+$nonActivePenalty$jscomp$1$$*$depth$jscomp$11_depthPenalty$jscomp$1$$*$distance$jscomp$3_layout$jscomp$7$$};
function $JSCompiler_StaticMethods_calcTaskTimeout_$$($JSCompiler_StaticMethods_calcTaskTimeout_$self$$,$task$jscomp$9$$){var $now$jscomp$9$$=Date.now();if(0==$JSCompiler_StaticMethods_calcTaskTimeout_$self$$.$exec_$.getSize()){if(-1===$JSCompiler_StaticMethods_calcTaskTimeout_$self$$.$firstVisibleTime_$)return 0;var $penalty$$=1E3*$task$jscomp$9$$.priority;return Math.max($penalty$$-($now$jscomp$9$$-$JSCompiler_StaticMethods_calcTaskTimeout_$self$$.$firstVisibleTime_$),0)}var $timeout$jscomp$5$$=
0;$JSCompiler_StaticMethods_calcTaskTimeout_$self$$.$exec_$.forEach(function($JSCompiler_StaticMethods_calcTaskTimeout_$self$$){$timeout$jscomp$5$$=Math.max($timeout$jscomp$5$$,Math.max(1E3*($task$jscomp$9$$.priority-$JSCompiler_StaticMethods_calcTaskTimeout_$self$$.priority),0)-($now$jscomp$9$$-$JSCompiler_StaticMethods_calcTaskTimeout_$self$$.startTime))});return $timeout$jscomp$5$$}
$JSCompiler_prototypeAlias$$.$reschedule_$=function($task$jscomp$10$$){this.$queue_$.getTaskById($task$jscomp$10$$.id)||this.$queue_$.enqueue($task$jscomp$10$$)};
$JSCompiler_prototypeAlias$$.$taskComplete_$=function($task$jscomp$11$$,$success$jscomp$3$$,$opt_reason$jscomp$2$$){this.$exec_$.dequeue($task$jscomp$11$$);this.schedulePass(1E3);if(!$success$jscomp$3$$)return $dev$$module$src$log$$().info("Resources","task failed:",$task$jscomp$11$$.id,$task$jscomp$11$$.resource.debugid,$opt_reason$jscomp$2$$),Promise.reject($opt_reason$jscomp$2$$)};
function $JSCompiler_StaticMethods_scheduleChangeSize_$$($JSCompiler_StaticMethods_scheduleChangeSize_$self$$,$resource$jscomp$20$$,$newHeight$jscomp$7$$,$newWidth$jscomp$6$$,$newMargins$jscomp$1$$,$force$jscomp$2$$,$opt_callback$jscomp$6$$){$resource$jscomp$20$$.hasBeenMeasured()&&!$newMargins$jscomp$1$$?$JSCompiler_StaticMethods_completeScheduleChangeSize_$$($JSCompiler_StaticMethods_scheduleChangeSize_$self$$,$resource$jscomp$20$$,$newHeight$jscomp$7$$,$newWidth$jscomp$6$$,void 0,$force$jscomp$2$$,
$opt_callback$jscomp$6$$):$JSCompiler_StaticMethods_scheduleChangeSize_$self$$.$vsync_$.measure(function(){$resource$jscomp$20$$.hasBeenMeasured()||$resource$jscomp$20$$.measure();if($newMargins$jscomp$1$$){var $JSCompiler_style$jscomp$inline_551_JSCompiler_temp$jscomp$171$$=$computedStyle$$module$src$style$$($JSCompiler_StaticMethods_scheduleChangeSize_$self$$.win,$resource$jscomp$20$$.element);$JSCompiler_style$jscomp$inline_551_JSCompiler_temp$jscomp$171$$={newMargins:$newMargins$jscomp$1$$,currentMargins:{top:parseInt($JSCompiler_style$jscomp$inline_551_JSCompiler_temp$jscomp$171$$.marginTop,
10)||0,right:parseInt($JSCompiler_style$jscomp$inline_551_JSCompiler_temp$jscomp$171$$.marginRight,10)||0,bottom:parseInt($JSCompiler_style$jscomp$inline_551_JSCompiler_temp$jscomp$171$$.marginBottom,10)||0,left:parseInt($JSCompiler_style$jscomp$inline_551_JSCompiler_temp$jscomp$171$$.marginLeft,10)||0}}}else $JSCompiler_style$jscomp$inline_551_JSCompiler_temp$jscomp$171$$=void 0;var $marginChange$$=$JSCompiler_style$jscomp$inline_551_JSCompiler_temp$jscomp$171$$;$JSCompiler_StaticMethods_completeScheduleChangeSize_$$($JSCompiler_StaticMethods_scheduleChangeSize_$self$$,
$resource$jscomp$20$$,$newHeight$jscomp$7$$,$newWidth$jscomp$6$$,$marginChange$$,$force$jscomp$2$$,$opt_callback$jscomp$6$$)})}
function $JSCompiler_StaticMethods_completeScheduleChangeSize_$$($JSCompiler_StaticMethods_completeScheduleChangeSize_$self$$,$resource$jscomp$22$$,$newHeight$jscomp$8$$,$newWidth$jscomp$7$$,$marginChange$jscomp$1$$,$force$jscomp$3$$,$opt_callback$jscomp$7$$){$resource$jscomp$22$$.resetPendingChangeSize();var $JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$=$resource$jscomp$22$$.getPageLayoutBox();if(!($JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$=
void 0!==$newHeight$jscomp$8$$&&$newHeight$jscomp$8$$!=$JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$.height||void 0!==$newWidth$jscomp$7$$&&$newWidth$jscomp$7$$!=$JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$.width)&&($JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$=
void 0!==$marginChange$jscomp$1$$)){$JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$=$marginChange$jscomp$1$$.currentMargins;var $JSCompiler_change$jscomp$inline_554_i$jscomp$99$$=$marginChange$jscomp$1$$.newMargins;$JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$=void 0!==$JSCompiler_change$jscomp$inline_554_i$jscomp$99$$.top&&$JSCompiler_change$jscomp$inline_554_i$jscomp$99$$.top!=
$JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$.top||void 0!==$JSCompiler_change$jscomp$inline_554_i$jscomp$99$$.right&&$JSCompiler_change$jscomp$inline_554_i$jscomp$99$$.right!=$JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$.right||void 0!==$JSCompiler_change$jscomp$inline_554_i$jscomp$99$$.bottom&&$JSCompiler_change$jscomp$inline_554_i$jscomp$99$$.bottom!=
$JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$.bottom||void 0!==$JSCompiler_change$jscomp$inline_554_i$jscomp$99$$.left&&$JSCompiler_change$jscomp$inline_554_i$jscomp$99$$.left!=$JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$.left}if($JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$){$JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$=
null;for($JSCompiler_change$jscomp$inline_554_i$jscomp$99$$=0;$JSCompiler_change$jscomp$inline_554_i$jscomp$99$$<$JSCompiler_StaticMethods_completeScheduleChangeSize_$self$$.$requestsChangeSize_$.length;$JSCompiler_change$jscomp$inline_554_i$jscomp$99$$++)if($JSCompiler_StaticMethods_completeScheduleChangeSize_$self$$.$requestsChangeSize_$[$JSCompiler_change$jscomp$inline_554_i$jscomp$99$$].resource==$resource$jscomp$22$$){$JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$=
$JSCompiler_StaticMethods_completeScheduleChangeSize_$self$$.$requestsChangeSize_$[$JSCompiler_change$jscomp$inline_554_i$jscomp$99$$];break}$JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$?($JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$.newHeight=$newHeight$jscomp$8$$,$JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$.newWidth=
$newWidth$jscomp$7$$,$JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$.marginChange=$marginChange$jscomp$1$$,$JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$.force=$force$jscomp$3$$||$JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$.force,$JSCompiler_margins$jscomp$inline_553_JSCompiler_temp$jscomp$118_JSCompiler_temp$jscomp$119_layoutBox$jscomp$3_request$jscomp$8$$.callback=
$opt_callback$jscomp$7$$):$JSCompiler_StaticMethods_completeScheduleChangeSize_$self$$.$requestsChangeSize_$.push({resource:$resource$jscomp$22$$,newHeight:$newHeight$jscomp$8$$,newWidth:$newWidth$jscomp$7$$,marginChange:$marginChange$jscomp$1$$,force:$force$jscomp$3$$,callback:$opt_callback$jscomp$7$$});$JSCompiler_StaticMethods_completeScheduleChangeSize_$self$$.schedulePassVsync()}else void 0===$newHeight$jscomp$8$$&&void 0===$newWidth$jscomp$7$$&&void 0===$marginChange$jscomp$1$$&&$dev$$module$src$log$$().error("Resources",
"attempting to change size with undefined dimensions",$resource$jscomp$22$$.debugid),$opt_callback$jscomp$7$$&&$opt_callback$jscomp$7$$(!0)}
function $JSCompiler_StaticMethods_isLayoutAllowed_$$($JSCompiler_StaticMethods_isLayoutAllowed_$self$$,$resource$jscomp$23$$,$forceOutsideViewport$$){return 0!=$resource$jscomp$23$$.getState()&&$resource$jscomp$23$$.isDisplayed()&&($JSCompiler_StaticMethods_isLayoutAllowed_$self$$.$visible_$||"prerender"==$JSCompiler_StaticMethods_isLayoutAllowed_$self$$.$viewer_$.getVisibilityState()&&$resource$jscomp$23$$.prerenderAllowed())&&($forceOutsideViewport$$||$resource$jscomp$23$$.isInViewport()||$resource$jscomp$23$$.renderOutsideViewport()||
$resource$jscomp$23$$.idleRenderOutsideViewport())?!0:!1}
function $JSCompiler_StaticMethods_scheduleLayoutOrPreload_$$($JSCompiler_StaticMethods_scheduleLayoutOrPreload_$self$$,$resource$jscomp$24$$,$layout$jscomp$8$$,$opt_parentPriority$jscomp$1$$,$opt_forceOutsideViewport$$){0!=$resource$jscomp$24$$.getState()&&$resource$jscomp$24$$.isDisplayed();var $forceOutsideViewport$jscomp$1$$=$opt_forceOutsideViewport$$||!1;$JSCompiler_StaticMethods_isLayoutAllowed_$$($JSCompiler_StaticMethods_scheduleLayoutOrPreload_$self$$,$resource$jscomp$24$$,$forceOutsideViewport$jscomp$1$$)&&
($layout$jscomp$8$$?$JSCompiler_StaticMethods_scheduleLayoutOrPreload_$self$$.$schedule_$($resource$jscomp$24$$,"L",0,$opt_parentPriority$jscomp$1$$||0,$forceOutsideViewport$jscomp$1$$,$resource$jscomp$24$$.startLayout.bind($resource$jscomp$24$$)):$JSCompiler_StaticMethods_scheduleLayoutOrPreload_$self$$.$schedule_$($resource$jscomp$24$$,"P",2,$opt_parentPriority$jscomp$1$$||0,$forceOutsideViewport$jscomp$1$$,$resource$jscomp$24$$.startLayout.bind($resource$jscomp$24$$)))}
function $JSCompiler_StaticMethods_scheduleLayoutOrPreloadForSubresources_$$($JSCompiler_StaticMethods_scheduleLayoutOrPreloadForSubresources_$self$$,$parentResource$jscomp$3$$,$layout$jscomp$9$$,$subElements$jscomp$6$$){$JSCompiler_StaticMethods_discoverResourcesForArray_$$($JSCompiler_StaticMethods_scheduleLayoutOrPreloadForSubresources_$self$$,$parentResource$jscomp$3$$,$subElements$jscomp$6$$,function($subElements$jscomp$6$$){0==$subElements$jscomp$6$$.getState()?$subElements$jscomp$6$$.whenBuilt().then(function(){$JSCompiler_StaticMethods_measureAndScheduleIfAllowed_$$($JSCompiler_StaticMethods_scheduleLayoutOrPreloadForSubresources_$self$$,
$subElements$jscomp$6$$,$layout$jscomp$9$$,$parentResource$jscomp$3$$.getLayoutPriority())}):$JSCompiler_StaticMethods_measureAndScheduleIfAllowed_$$($JSCompiler_StaticMethods_scheduleLayoutOrPreloadForSubresources_$self$$,$subElements$jscomp$6$$,$layout$jscomp$9$$,$parentResource$jscomp$3$$.getLayoutPriority())})}
function $JSCompiler_StaticMethods_measureAndScheduleIfAllowed_$$($JSCompiler_StaticMethods_measureAndScheduleIfAllowed_$self$$,$resource$jscomp$26$$,$layout$jscomp$10$$,$parentPriority$$){$resource$jscomp$26$$.measure();2==$resource$jscomp$26$$.getState()&&$resource$jscomp$26$$.isDisplayed()&&$JSCompiler_StaticMethods_scheduleLayoutOrPreload_$$($JSCompiler_StaticMethods_measureAndScheduleIfAllowed_$self$$,$resource$jscomp$26$$,$layout$jscomp$10$$,$parentPriority$$)}
$JSCompiler_prototypeAlias$$.$schedule_$=function($resource$jscomp$27_task$jscomp$12$$,$localId$jscomp$1_taskId$jscomp$1$$,$priorityOffset$$,$parentPriority$jscomp$1$$,$forceOutsideViewport$jscomp$2$$,$callback$jscomp$89$$){$localId$jscomp$1_taskId$jscomp$1$$=$resource$jscomp$27_task$jscomp$12$$.getTaskId($localId$jscomp$1_taskId$jscomp$1$$);$resource$jscomp$27_task$jscomp$12$$={id:$localId$jscomp$1_taskId$jscomp$1$$,resource:$resource$jscomp$27_task$jscomp$12$$,priority:Math.max($resource$jscomp$27_task$jscomp$12$$.getLayoutPriority(),
$parentPriority$jscomp$1$$)+$priorityOffset$$,forceOutsideViewport:$forceOutsideViewport$jscomp$2$$,callback:$callback$jscomp$89$$,scheduleTime:Date.now(),startTime:0,promise:null};var $queued$$=this.$queue_$.getTaskById($localId$jscomp$1_taskId$jscomp$1$$);if(!$queued$$||$resource$jscomp$27_task$jscomp$12$$.priority<$queued$$.priority)$queued$$&&this.$queue_$.dequeue($queued$$),this.$queue_$.enqueue($resource$jscomp$27_task$jscomp$12$$),this.schedulePass($JSCompiler_StaticMethods_calcTaskTimeout_$$(this,
$resource$jscomp$27_task$jscomp$12$$));$resource$jscomp$27_task$jscomp$12$$.resource.layoutScheduled($resource$jscomp$27_task$jscomp$12$$.scheduleTime)};
function $JSCompiler_StaticMethods_updateInViewportForSubresources_$$($JSCompiler_StaticMethods_updateInViewportForSubresources_$self$$,$parentResource$jscomp$4$$,$subElements$jscomp$7$$,$inLocalViewport$jscomp$2$$){var $inViewport$jscomp$4$$=$parentResource$jscomp$4$$.isInViewport()&&$inLocalViewport$jscomp$2$$;$JSCompiler_StaticMethods_discoverResourcesForArray_$$($JSCompiler_StaticMethods_updateInViewportForSubresources_$self$$,$parentResource$jscomp$4$$,$subElements$jscomp$7$$,function($JSCompiler_StaticMethods_updateInViewportForSubresources_$self$$){$JSCompiler_StaticMethods_updateInViewportForSubresources_$self$$.setInViewport($inViewport$jscomp$4$$)})}
function $JSCompiler_StaticMethods_discoverResourcesForArray_$$($JSCompiler_StaticMethods_discoverResourcesForArray_$self$$,$parentResource$jscomp$5$$,$elements$jscomp$10$$,$callback$jscomp$90$$){$elements$jscomp$10$$.forEach(function($elements$jscomp$10$$){$parentResource$jscomp$5$$.element.contains($elements$jscomp$10$$);$JSCompiler_StaticMethods_discoverResourcesForElement_$$($JSCompiler_StaticMethods_discoverResourcesForArray_$self$$,$elements$jscomp$10$$,$callback$jscomp$90$$)})}
function $JSCompiler_StaticMethods_discoverResourcesForElement_$$($JSCompiler_StaticMethods_discoverResourcesForElement_$self_ampElements$jscomp$2$$,$element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$,$callback$jscomp$91$$){if($element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$.classList.contains("i-amphtml-element"))$callback$jscomp$91$$($Resource$$module$src$service$resource$forElementOptional$$($element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$)),($element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$=
$element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$.getPlaceholder())&&$JSCompiler_StaticMethods_discoverResourcesForElement_$$($JSCompiler_StaticMethods_discoverResourcesForElement_$self_ampElements$jscomp$2$$,$element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$,$callback$jscomp$91$$);else{$JSCompiler_StaticMethods_discoverResourcesForElement_$self_ampElements$jscomp$2$$=$element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$.getElementsByClassName("i-amphtml-element");$element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$=
[];for(var $i$jscomp$100$$=0;$i$jscomp$100$$<$JSCompiler_StaticMethods_discoverResourcesForElement_$self_ampElements$jscomp$2$$.length;$i$jscomp$100$$++){for(var $ampElement$$=$JSCompiler_StaticMethods_discoverResourcesForElement_$self_ampElements$jscomp$2$$[$i$jscomp$100$$],$covered$$=!1,$j$$=0;$j$$<$element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$.length;$j$$++)if($element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$[$j$$].contains($ampElement$$)){$covered$$=!0;break}$covered$$||($element$jscomp$157_placeholder$jscomp$3_seen$jscomp$1$$.push($ampElement$$),
$callback$jscomp$91$$($Resource$$module$src$service$resource$forElementOptional$$($ampElement$$)))}}}
function $JSCompiler_StaticMethods_setupVisibilityStateMachine_$$($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$,$vsm$$){function $resume$$(){$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$resources_$.forEach(function($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$){return $JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.resume()});$doPass$$()}function $unload$$(){$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$resources_$.forEach(function($vsm$$){$vsm$$.unload();
$JSCompiler_StaticMethods_cleanupTasks_$$($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$,$vsm$$)});$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.unselectText()}function $pause$$(){$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$resources_$.forEach(function($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$){return $JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.pause()})}function $noop$$(){}function $doPass$$(){var $vsm$$=$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$viewport_$.getSize();
if(0<$vsm$$.height&&0<$vsm$$.width){0<$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$requestsChangeSize_$.length&&$JSCompiler_StaticMethods_mutateWorkViaResources_$$($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$);$JSCompiler_StaticMethods_discoverWork_$$($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$);$vsm$$=Date.now();for(var $resume$$=-1,$unload$$=Object.create(null),$pause$$=$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$queue_$.peek($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$boundTaskScorer_$,
$unload$$);$pause$$;){$resume$$=$JSCompiler_StaticMethods_calcTaskTimeout_$$($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$,$pause$$);if(16<$resume$$)break;$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$queue_$.dequeue($pause$$);($resume$$=$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$exec_$.getTaskById($pause$$.id))?($pause$$=$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$reschedule_$.bind($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$,
$pause$$),$resume$$.promise.then($pause$$,$pause$$)):($pause$$.resource.measure(),$JSCompiler_StaticMethods_isLayoutAllowed_$$($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$,$pause$$.resource,$pause$$.forceOutsideViewport)?($pause$$.promise=$pause$$.callback(),$pause$$.startTime=$vsm$$,$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$exec_$.enqueue($pause$$),$pause$$.promise.then($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$taskComplete_$.bind($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$,
$pause$$,!0),$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$taskComplete_$.bind($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$,$pause$$,!1)).catch($reportError$$module$src$error$$)):$pause$$.resource.layoutCanceled());$pause$$=$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$queue_$.peek($JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$boundTaskScorer_$,$unload$$);$resume$$=-1}0<=$resume$$?$vsm$$=$resume$$:($vsm$$=2*($vsm$$-$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$exec_$.getLastDequeueTime()),
$vsm$$=Math.max(Math.min(3E4,$vsm$$),5E3));0<$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$requestsChangeSize_$.length&&($vsm$$=Math.min($vsm$$,500));$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.$visible_$&&$JSCompiler_StaticMethods_setupVisibilityStateMachine_$self$$.schedulePass($vsm$$)}}$vsm$$.addTransition("prerender","prerender",$doPass$$);$vsm$$.addTransition("prerender","visible",$doPass$$);$vsm$$.addTransition("prerender","hidden",$doPass$$);$vsm$$.addTransition("prerender",
"inactive",$doPass$$);$vsm$$.addTransition("prerender","paused",$doPass$$);$vsm$$.addTransition("visible","visible",$doPass$$);$vsm$$.addTransition("visible","hidden",$doPass$$);$vsm$$.addTransition("visible","inactive",$unload$$);$vsm$$.addTransition("visible","paused",$pause$$);$vsm$$.addTransition("hidden","visible",$doPass$$);$vsm$$.addTransition("hidden","hidden",$doPass$$);$vsm$$.addTransition("hidden","inactive",$unload$$);$vsm$$.addTransition("hidden","paused",$pause$$);$vsm$$.addTransition("inactive",
"visible",$resume$$);$vsm$$.addTransition("inactive","hidden",$resume$$);$vsm$$.addTransition("inactive","inactive",$noop$$);$vsm$$.addTransition("inactive","paused",$doPass$$);$vsm$$.addTransition("paused","visible",$resume$$);$vsm$$.addTransition("paused","hidden",$doPass$$);$vsm$$.addTransition("paused","inactive",$unload$$);$vsm$$.addTransition("paused","paused",$noop$$)}$JSCompiler_prototypeAlias$$.unselectText=function(){try{this.win.getSelection().removeAllRanges()}catch($e$jscomp$75$$){}};
function $JSCompiler_StaticMethods_cleanupTasks_$$($JSCompiler_StaticMethods_cleanupTasks_$self$$,$resource$jscomp$29$$,$opt_removePending$$){1==$resource$jscomp$29$$.getState()&&($JSCompiler_StaticMethods_cleanupTasks_$self$$.$queue_$.purge(function($JSCompiler_StaticMethods_cleanupTasks_$self$$){return $JSCompiler_StaticMethods_cleanupTasks_$self$$.resource==$resource$jscomp$29$$}),$JSCompiler_StaticMethods_cleanupTasks_$self$$.$exec_$.purge(function($JSCompiler_StaticMethods_cleanupTasks_$self$$){return $JSCompiler_StaticMethods_cleanupTasks_$self$$.resource==
$resource$jscomp$29$$}),$remove$$module$src$utils$array$$($JSCompiler_StaticMethods_cleanupTasks_$self$$.$requestsChangeSize_$,function($JSCompiler_StaticMethods_cleanupTasks_$self$$){return $JSCompiler_StaticMethods_cleanupTasks_$self$$.resource===$resource$jscomp$29$$}));if(0==$resource$jscomp$29$$.getState()&&$opt_removePending$$&&$JSCompiler_StaticMethods_cleanupTasks_$self$$.$pendingBuildResources_$){var $pendingIndex$$=$JSCompiler_StaticMethods_cleanupTasks_$self$$.$pendingBuildResources_$.indexOf($resource$jscomp$29$$);
-1!=$pendingIndex$$&&$JSCompiler_StaticMethods_cleanupTasks_$self$$.$pendingBuildResources_$.splice($pendingIndex$$,1)}}function $elements_$$module$src$service$resources_impl$$($elements$jscomp$11$$){return $isArray$$module$src$types$$($elements$jscomp$11$$)?$elements$jscomp$11$$:[$elements$jscomp$11$$]};function $StandardActions$$module$src$service$standard_actions_impl$$($JSCompiler_actionService$jscomp$inline_568_ampdoc$jscomp$56$$,$context$jscomp$5_opt_win$jscomp$2$$){this.ampdoc=$JSCompiler_actionService$jscomp$inline_568_ampdoc$jscomp$56$$;$context$jscomp$5_opt_win$jscomp$2$$=$context$jscomp$5_opt_win$jscomp$2$$?$context$jscomp$5_opt_win$jscomp$2$$.document.documentElement:$JSCompiler_actionService$jscomp$inline_568_ampdoc$jscomp$56$$.getHeadNode();this.$resources_$=$Services$$module$src$services$resourcesForDoc$$($JSCompiler_actionService$jscomp$inline_568_ampdoc$jscomp$56$$);
this.$viewport_$=$Services$$module$src$services$viewportForDoc$$($JSCompiler_actionService$jscomp$inline_568_ampdoc$jscomp$56$$);$JSCompiler_actionService$jscomp$inline_568_ampdoc$jscomp$56$$=$getExistingServiceForDocInEmbedScope$$module$src$service$$($context$jscomp$5_opt_win$jscomp$2$$,"action");$JSCompiler_actionService$jscomp$inline_568_ampdoc$jscomp$56$$.addGlobalTarget("AMP",this.$handleAmpTarget_$.bind(this));$JSCompiler_actionService$jscomp$inline_568_ampdoc$jscomp$56$$.addGlobalMethodHandler("hide",
this.$handleHide_$.bind(this));$JSCompiler_actionService$jscomp$inline_568_ampdoc$jscomp$56$$.addGlobalMethodHandler("show",this.$handleShow_$.bind(this));$JSCompiler_actionService$jscomp$inline_568_ampdoc$jscomp$56$$.addGlobalMethodHandler("toggleVisibility",this.$handleToggle_$.bind(this));$JSCompiler_actionService$jscomp$inline_568_ampdoc$jscomp$56$$.addGlobalMethodHandler("scrollTo",this.$handleScrollTo_$.bind(this));$JSCompiler_actionService$jscomp$inline_568_ampdoc$jscomp$56$$.addGlobalMethodHandler("focus",
this.$handleFocus_$.bind(this));$JSCompiler_actionService$jscomp$inline_568_ampdoc$jscomp$56$$.addGlobalMethodHandler("toggleClass",this.$handleToggleClass_$.bind(this))}$StandardActions$$module$src$service$standard_actions_impl$$.installInEmbedWindow=function($embedWin$jscomp$6$$,$ampdoc$jscomp$57$$){$installServiceInEmbedScope$$module$src$service$$($embedWin$jscomp$6$$,"standard-actions",new $StandardActions$$module$src$service$standard_actions_impl$$($ampdoc$jscomp$57$$,$embedWin$jscomp$6$$))};
$JSCompiler_prototypeAlias$$=$StandardActions$$module$src$service$standard_actions_impl$$.prototype;
$JSCompiler_prototypeAlias$$.$handleAmpTarget_$=function($invocation$jscomp$9$$){if(!$invocation$jscomp$9$$.satisfiesTrust(100))return null;var $node$jscomp$39$$=$invocation$jscomp$9$$.node,$method$jscomp$14$$=$invocation$jscomp$9$$.method,$args$jscomp$10$$=$invocation$jscomp$9$$.args,$win$jscomp$182$$=($node$jscomp$39$$.ownerDocument||$node$jscomp$39$$).defaultView;switch($method$jscomp$14$$){case "pushState":case "setState":return $getElementServiceIfAvailableForDocInEmbedScope$$module$src$element_service$$($node$jscomp$39$$.nodeType===Node.DOCUMENT_NODE?
$node$jscomp$39$$.documentElement:$node$jscomp$39$$).then(function($node$jscomp$39$$){$userAssert$$module$src$log$$($node$jscomp$39$$,"AMP-BIND is not installed.");return $node$jscomp$39$$.invoke($invocation$jscomp$9$$)});case "navigateTo":return $JSCompiler_StaticMethods_handleNavigateTo_$$(this,$invocation$jscomp$9$$);case "closeOrNavigateTo":return $JSCompiler_StaticMethods_handleCloseOrNavigateTo_$$(this,$invocation$jscomp$9$$);case "scrollTo":return $userAssert$$module$src$log$$($args$jscomp$10$$.id,
"AMP.scrollTo must provide element ID"),$invocation$jscomp$9$$.node=$getAmpdoc$$module$src$service$$($node$jscomp$39$$).getElementById($args$jscomp$10$$.id),this.$handleScrollTo_$($invocation$jscomp$9$$);case "goBack":return $getServiceForDoc$$module$src$service$$(this.ampdoc,"history").goBack(),null;case "print":return $win$jscomp$182$$.print(),null;case "optoutOfCid":return $getServicePromiseForDoc$$module$src$service$$(this.ampdoc,"cid").then(function($invocation$jscomp$9$$){return $invocation$jscomp$9$$.optOut()}).catch(function($invocation$jscomp$9$$){$dev$$module$src$log$$().error("STANDARD-ACTIONS",
"Failed to opt out of CID",$invocation$jscomp$9$$)})}throw $user$$module$src$log$$().createError("Unknown AMP action ",$method$jscomp$14$$);};
function $JSCompiler_StaticMethods_handleNavigateTo_$$($JSCompiler_StaticMethods_handleNavigateTo_$self$$,$invocation$jscomp$10_permission$jscomp$1$$){var $node$jscomp$40$$=$invocation$jscomp$10_permission$jscomp$1$$.node,$caller$jscomp$2$$=$invocation$jscomp$10_permission$jscomp$1$$.caller,$method$jscomp$15$$=$invocation$jscomp$10_permission$jscomp$1$$.method,$args$jscomp$11$$=$invocation$jscomp$10_permission$jscomp$1$$.args,$win$jscomp$183$$=($node$jscomp$40$$.ownerDocument||$node$jscomp$40$$).defaultView;
$invocation$jscomp$10_permission$jscomp$1$$=Promise.resolve();$startsWith$$module$src$string$$($caller$jscomp$2$$.tagName,"AMP-")&&($invocation$jscomp$10_permission$jscomp$1$$=$caller$jscomp$2$$.getImpl().then(function($JSCompiler_StaticMethods_handleNavigateTo_$self$$){"function"==typeof $JSCompiler_StaticMethods_handleNavigateTo_$self$$.throwIfCannotNavigate&&$JSCompiler_StaticMethods_handleNavigateTo_$self$$.throwIfCannotNavigate()}));return $invocation$jscomp$10_permission$jscomp$1$$.then(function(){$getServiceForDoc$$module$src$service$$($JSCompiler_StaticMethods_handleNavigateTo_$self$$.ampdoc,
"navigation").navigateTo($win$jscomp$183$$,$args$jscomp$11$$.url,"AMP."+$method$jscomp$15$$,{target:$args$jscomp$11$$.target,opener:$args$jscomp$11$$.opener})},function($JSCompiler_StaticMethods_handleNavigateTo_$self$$){$user$$module$src$log$$().error("STANDARD-ACTIONS",$JSCompiler_StaticMethods_handleNavigateTo_$self$$.message)})}
function $JSCompiler_StaticMethods_handleCloseOrNavigateTo_$$($JSCompiler_StaticMethods_handleCloseOrNavigateTo_$self$$,$invocation$jscomp$11$$){var $node$jscomp$41_win$jscomp$184$$=$invocation$jscomp$11$$.node;$node$jscomp$41_win$jscomp$184$$=($node$jscomp$41_win$jscomp$184$$.ownerDocument||$node$jscomp$41_win$jscomp$184$$).defaultView;var $hasParent$$=$node$jscomp$41_win$jscomp$184$$.parent!=$node$jscomp$41_win$jscomp$184$$,$canBeClosed$$=$node$jscomp$41_win$jscomp$184$$.opener&&$JSCompiler_StaticMethods_handleCloseOrNavigateTo_$self$$.ampdoc.isSingleDoc()&&
!$hasParent$$,$wasClosed$$=!1;$canBeClosed$$&&($node$jscomp$41_win$jscomp$184$$.close(),$wasClosed$$=$node$jscomp$41_win$jscomp$184$$.closed);return $wasClosed$$?Promise.resolve():$JSCompiler_StaticMethods_handleNavigateTo_$$($JSCompiler_StaticMethods_handleCloseOrNavigateTo_$self$$,$invocation$jscomp$11$$)}
$JSCompiler_prototypeAlias$$.$handleScrollTo_$=function($args$jscomp$12_invocation$jscomp$12$$){var $node$jscomp$42$$=$args$jscomp$12_invocation$jscomp$12$$.node,$posOrUndef$$=($args$jscomp$12_invocation$jscomp$12$$=$args$jscomp$12_invocation$jscomp$12$$.args)&&$args$jscomp$12_invocation$jscomp$12$$.position,$durationOrUndef$$=$args$jscomp$12_invocation$jscomp$12$$&&$args$jscomp$12_invocation$jscomp$12$$.duration;$posOrUndef$$&&!["top","bottom","center"].includes($posOrUndef$$)&&($posOrUndef$$=void 0);
$isFiniteNumber$$module$src$types$$($durationOrUndef$$)||($durationOrUndef$$=void 0);return this.$viewport_$.animateScrollIntoView($node$jscomp$42$$,$posOrUndef$$,$durationOrUndef$$)};$JSCompiler_prototypeAlias$$.$handleFocus_$=function($invocation$jscomp$13$$){$tryFocus$$module$src$dom$$($invocation$jscomp$13$$.node);return null};
$JSCompiler_prototypeAlias$$.$handleHide_$=function($invocation$jscomp$14$$){var $target$jscomp$121$$=$invocation$jscomp$14$$.node;this.$resources_$.mutateElement($target$jscomp$121$$,function(){$target$jscomp$121$$.classList.contains("i-amphtml-element")?$target$jscomp$121$$.collapse():$toggle$$module$src$style$$($target$jscomp$121$$,!1)});return null};
$JSCompiler_prototypeAlias$$.$handleShow_$=function($$jscomp$destructuring$var101$$){var $target$jscomp$122$$=$$jscomp$destructuring$var101$$.node,$ownerWindow$$=$target$jscomp$122$$.ownerDocument.defaultView;if($target$jscomp$122$$.classList.contains("i-amphtml-layout-nodisplay"))return $user$$module$src$log$$().warn("STANDARD-ACTIONS","Elements with layout=nodisplay cannot be dynamically shown.",$target$jscomp$122$$),null;this.$resources_$.measureElement(function(){"none"!=$computedStyle$$module$src$style$$($ownerWindow$$,
$target$jscomp$122$$).display||$target$jscomp$122$$.hasAttribute("hidden")||$user$$module$src$log$$().warn("STANDARD-ACTIONS",'Elements can only be dynamically shown when they have the "hidden" attribute set or when they were dynamically hidden.',$target$jscomp$122$$)});var $autofocusElOrNull$$=$target$jscomp$122$$.hasAttribute("autofocus")?$target$jscomp$122$$:$target$jscomp$122$$.querySelector("[autofocus]");$autofocusElOrNull$$&&$Services$$module$src$services$platformFor$$($ownerWindow$$).isIos()?
$JSCompiler_StaticMethods_handleShowSync_$$($target$jscomp$122$$,$autofocusElOrNull$$):this.$resources_$.mutateElement($target$jscomp$122$$,function(){$JSCompiler_StaticMethods_handleShowSync_$$($target$jscomp$122$$,$autofocusElOrNull$$)});return null};
function $JSCompiler_StaticMethods_handleShowSync_$$($target$jscomp$123$$,$autofocusElOrNull$jscomp$1$$){$target$jscomp$123$$.classList.contains("i-amphtml-element")?$target$jscomp$123$$.expand():$toggle$$module$src$style$$($target$jscomp$123$$,!0);$autofocusElOrNull$jscomp$1$$&&$tryFocus$$module$src$dom$$($autofocusElOrNull$jscomp$1$$)}
$JSCompiler_prototypeAlias$$.$handleToggle_$=function($invocation$jscomp$15$$){return $invocation$jscomp$15$$.node.hasAttribute("hidden")?this.$handleShow_$($invocation$jscomp$15$$):this.$handleHide_$($invocation$jscomp$15$$)};
$JSCompiler_prototypeAlias$$.$handleToggleClass_$=function($invocation$jscomp$16$$){var $target$jscomp$124$$=$invocation$jscomp$16$$.node,$args$jscomp$13$$=$invocation$jscomp$16$$.args,$className$jscomp$1$$=$user$$module$src$log$$().assertString($args$jscomp$13$$["class"],"Argument 'class' must be a string.");this.$resources_$.mutateElement($target$jscomp$124$$,function(){if(void 0!==$args$jscomp$13$$.force){var $invocation$jscomp$16$$=$user$$module$src$log$$().assertBoolean($args$jscomp$13$$.force,
"Optional argument 'force' must be a boolean.");$target$jscomp$124$$.classList.toggle($className$jscomp$1$$,$invocation$jscomp$16$$)}else $target$jscomp$124$$.classList.toggle($className$jscomp$1$$)});return null};function $Storage$$module$src$service$storage_impl$$($ampdoc$jscomp$59$$,$viewer$jscomp$14$$,$binding$jscomp$2$$){this.ampdoc=$ampdoc$jscomp$59$$;this.$viewer_$=$viewer$jscomp$14$$;this.$binding_$=$binding$jscomp$2$$;this.$origin_$=$getSourceOrigin$$module$src$url$$(this.ampdoc.win.location);this.$storePromise_$=null}$JSCompiler_prototypeAlias$$=$Storage$$module$src$service$storage_impl$$.prototype;$JSCompiler_prototypeAlias$$.get=function($name$jscomp$141$$){return $JSCompiler_StaticMethods_getStore_$$(this).then(function($store$$){return $store$$.get($name$jscomp$141$$)})};
$JSCompiler_prototypeAlias$$.set=function($name$jscomp$142$$,$value$jscomp$134$$,$opt_isUpdate$$){return this.setNonBoolean($name$jscomp$142$$,$value$jscomp$134$$,$opt_isUpdate$$)};$JSCompiler_prototypeAlias$$.setNonBoolean=function($name$jscomp$143$$,$value$jscomp$135$$,$opt_isUpdate$jscomp$1$$){return $JSCompiler_StaticMethods_saveStore_$$(this,function($store$jscomp$1$$){return $store$jscomp$1$$.set($name$jscomp$143$$,$value$jscomp$135$$,$opt_isUpdate$jscomp$1$$)})};
$JSCompiler_prototypeAlias$$.remove=function($name$jscomp$144$$){return $JSCompiler_StaticMethods_saveStore_$$(this,function($store$jscomp$2$$){return $store$jscomp$2$$.remove($name$jscomp$144$$)})};
function $JSCompiler_StaticMethods_getStore_$$($JSCompiler_StaticMethods_getStore_$self$$){$JSCompiler_StaticMethods_getStore_$self$$.$storePromise_$||($JSCompiler_StaticMethods_getStore_$self$$.$storePromise_$=$JSCompiler_StaticMethods_getStore_$self$$.$binding_$.loadBlob($JSCompiler_StaticMethods_getStore_$self$$.$origin_$).then(function($JSCompiler_StaticMethods_getStore_$self$$){return $JSCompiler_StaticMethods_getStore_$self$$?$parseJson$$module$src$json$$(atob($JSCompiler_StaticMethods_getStore_$self$$)):
{}}).catch(function($JSCompiler_StaticMethods_getStore_$self$$){$dev$$module$src$log$$().expectedError("Storage","Failed to load store: ",$JSCompiler_StaticMethods_getStore_$self$$);return{}}).then(function($JSCompiler_StaticMethods_getStore_$self$$){return new $Store$$module$src$service$storage_impl$$($JSCompiler_StaticMethods_getStore_$self$$)}));return $JSCompiler_StaticMethods_getStore_$self$$.$storePromise_$}
function $JSCompiler_StaticMethods_saveStore_$$($JSCompiler_StaticMethods_saveStore_$self$$,$mutator$jscomp$7$$){return $JSCompiler_StaticMethods_getStore_$$($JSCompiler_StaticMethods_saveStore_$self$$).then(function($blob$jscomp$8_store$jscomp$3$$){$mutator$jscomp$7$$($blob$jscomp$8_store$jscomp$3$$);$blob$jscomp$8_store$jscomp$3$$=btoa(JSON.stringify($blob$jscomp$8_store$jscomp$3$$.obj));return $JSCompiler_StaticMethods_saveStore_$self$$.$binding_$.saveBlob($JSCompiler_StaticMethods_saveStore_$self$$.$origin_$,
$blob$jscomp$8_store$jscomp$3$$)}).then($JSCompiler_StaticMethods_saveStore_$self$$.$broadcastReset_$.bind($JSCompiler_StaticMethods_saveStore_$self$$))}
function $JSCompiler_StaticMethods_listenToBroadcasts_$$($JSCompiler_StaticMethods_listenToBroadcasts_$self$$){$JSCompiler_StaticMethods_listenToBroadcasts_$self$$.$viewer_$.onBroadcast(function($message$jscomp$41$$){"amp-storage-reset"==$message$jscomp$41$$.type&&$message$jscomp$41$$.origin==$JSCompiler_StaticMethods_listenToBroadcasts_$self$$.$origin_$&&($JSCompiler_StaticMethods_listenToBroadcasts_$self$$.$storePromise_$=null)})}
$JSCompiler_prototypeAlias$$.$broadcastReset_$=function(){this.$viewer_$.broadcast({type:"amp-storage-reset",origin:this.$origin_$})};function $Store$$module$src$service$storage_impl$$($obj$jscomp$33$$){var $opt_maxValues$$;this.obj=$recreateNonProtoObject$$module$src$json$$($obj$jscomp$33$$);this.$maxValues_$=$opt_maxValues$$||8;this.$values_$=this.obj.vv||Object.create(null);this.obj.vv||(this.obj.vv=this.$values_$)}
$Store$$module$src$service$storage_impl$$.prototype.get=function($item$jscomp$6_name$jscomp$145$$){return($item$jscomp$6_name$jscomp$145$$=this.$values_$[$item$jscomp$6_name$jscomp$145$$])?$item$jscomp$6_name$jscomp$145$$.v:void 0};
$Store$$module$src$service$storage_impl$$.prototype.set=function($item$61_item$jscomp$7_name$jscomp$146$$,$keys$jscomp$1_value$jscomp$136$$,$i$jscomp$101_opt_isUpdate$jscomp$2$$){if(void 0!==this.$values_$[$item$61_item$jscomp$7_name$jscomp$146$$]){$item$61_item$jscomp$7_name$jscomp$146$$=this.$values_$[$item$61_item$jscomp$7_name$jscomp$146$$];var $timestamp$jscomp$1$$=Date.now();$i$jscomp$101_opt_isUpdate$jscomp$2$$&&($timestamp$jscomp$1$$=$item$61_item$jscomp$7_name$jscomp$146$$.t);$item$61_item$jscomp$7_name$jscomp$146$$.v=
$keys$jscomp$1_value$jscomp$136$$;$item$61_item$jscomp$7_name$jscomp$146$$.t=$timestamp$jscomp$1$$}else this.$values_$[$item$61_item$jscomp$7_name$jscomp$146$$]=$dict$$module$src$utils$object$$({v:$keys$jscomp$1_value$jscomp$136$$,t:Date.now()});$keys$jscomp$1_value$jscomp$136$$=Object.keys(this.$values_$);if($keys$jscomp$1_value$jscomp$136$$.length>this.$maxValues_$){var $minTime$$=Infinity,$minKey$$=null;for($i$jscomp$101_opt_isUpdate$jscomp$2$$=0;$i$jscomp$101_opt_isUpdate$jscomp$2$$<$keys$jscomp$1_value$jscomp$136$$.length;$i$jscomp$101_opt_isUpdate$jscomp$2$$++)$item$61_item$jscomp$7_name$jscomp$146$$=
this.$values_$[$keys$jscomp$1_value$jscomp$136$$[$i$jscomp$101_opt_isUpdate$jscomp$2$$]],$item$61_item$jscomp$7_name$jscomp$146$$.t<$minTime$$&&($minKey$$=$keys$jscomp$1_value$jscomp$136$$[$i$jscomp$101_opt_isUpdate$jscomp$2$$],$minTime$$=$item$61_item$jscomp$7_name$jscomp$146$$.t);$minKey$$&&delete this.$values_$[$minKey$$]}};$Store$$module$src$service$storage_impl$$.prototype.remove=function($name$jscomp$147$$){delete this.$values_$[$name$jscomp$147$$]};
function $LocalStorageBinding$$module$src$service$storage_impl$$($error$jscomp$26_win$jscomp$185$$){this.win=$error$jscomp$26_win$jscomp$185$$;try{if("localStorage"in this.win){this.win.localStorage.getItem("test");var $JSCompiler_inline_result$jscomp$174$$=!0}else $JSCompiler_inline_result$jscomp$174$$=!1}catch($JSCompiler_e$jscomp$inline_571$$){$JSCompiler_inline_result$jscomp$174$$=!1}this.$isLocalStorageSupported_$=$JSCompiler_inline_result$jscomp$174$$;this.$isLocalStorageSupported_$||($error$jscomp$26_win$jscomp$185$$=
Error("localStorage not supported."),$dev$$module$src$log$$().expectedError("Storage",$error$jscomp$26_win$jscomp$185$$))}$LocalStorageBinding$$module$src$service$storage_impl$$.prototype.loadBlob=function($origin$jscomp$8$$){var $$jscomp$this$jscomp$108$$=this;return new Promise(function($resolve$jscomp$34$$){$$jscomp$this$jscomp$108$$.$isLocalStorageSupported_$?$resolve$jscomp$34$$($$jscomp$this$jscomp$108$$.win.localStorage.getItem("amp-store:"+$origin$jscomp$8$$)):$resolve$jscomp$34$$(null)})};
$LocalStorageBinding$$module$src$service$storage_impl$$.prototype.saveBlob=function($origin$jscomp$9$$,$blob$jscomp$9$$){var $$jscomp$this$jscomp$109$$=this;return new Promise(function($resolve$jscomp$35$$){$$jscomp$this$jscomp$109$$.$isLocalStorageSupported_$&&$$jscomp$this$jscomp$109$$.win.localStorage.setItem("amp-store:"+$origin$jscomp$9$$,$blob$jscomp$9$$);$resolve$jscomp$35$$()})};
function $ViewerStorageBinding$$module$src$service$storage_impl$$($viewer$jscomp$15$$){this.$viewer_$=$viewer$jscomp$15$$}$ViewerStorageBinding$$module$src$service$storage_impl$$.prototype.loadBlob=function($origin$jscomp$10$$){return this.$viewer_$.sendMessageAwaitResponse("loadStore",$dict$$module$src$utils$object$$({origin:$origin$jscomp$10$$})).then(function($origin$jscomp$10$$){return $origin$jscomp$10$$.blob})};
$ViewerStorageBinding$$module$src$service$storage_impl$$.prototype.saveBlob=function($origin$jscomp$11$$,$blob$jscomp$10$$){return this.$viewer_$.sendMessageAwaitResponse("saveStore",$dict$$module$src$utils$object$$({origin:$origin$jscomp$11$$,blob:$blob$jscomp$10$$}))};
function $installStorageServiceForDoc$$module$src$service$storage_impl$$($ampdoc$jscomp$60$$){$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$60$$,"storage",function(){var $JSCompiler_StaticMethods_start_$self$jscomp$inline_573_viewer$jscomp$16$$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$60$$),$overrideStorage$$=parseInt($JSCompiler_StaticMethods_start_$self$jscomp$inline_573_viewer$jscomp$16$$.getParam("storage"),10),$binding$jscomp$3$$=$overrideStorage$$?new $ViewerStorageBinding$$module$src$service$storage_impl$$($JSCompiler_StaticMethods_start_$self$jscomp$inline_573_viewer$jscomp$16$$):
new $LocalStorageBinding$$module$src$service$storage_impl$$($ampdoc$jscomp$60$$.win);$JSCompiler_StaticMethods_start_$self$jscomp$inline_573_viewer$jscomp$16$$=new $Storage$$module$src$service$storage_impl$$($ampdoc$jscomp$60$$,$JSCompiler_StaticMethods_start_$self$jscomp$inline_573_viewer$jscomp$16$$,$binding$jscomp$3$$);$JSCompiler_StaticMethods_listenToBroadcasts_$$($JSCompiler_StaticMethods_start_$self$jscomp$inline_573_viewer$jscomp$16$$);return $JSCompiler_StaticMethods_start_$self$jscomp$inline_573_viewer$jscomp$16$$},
!0)};function $Timer$$module$src$service$timer_impl$$($win$jscomp$186$$){this.win=$win$jscomp$186$$;this.$resolved_$=this.win.Promise.resolve();this.$taskCount_$=0;this.$canceled_$={};this.$startTime_$=Date.now()}$JSCompiler_prototypeAlias$$=$Timer$$module$src$service$timer_impl$$.prototype;$JSCompiler_prototypeAlias$$.timeSinceStart=function(){return Date.now()-this.$startTime_$};
$JSCompiler_prototypeAlias$$.delay=function($callback$jscomp$92$$,$opt_delay$jscomp$4$$){var $$jscomp$this$jscomp$110$$=this;if(!$opt_delay$jscomp$4$$){var $id$jscomp$39$$="p"+this.$taskCount_$++;this.$resolved_$.then(function(){$$jscomp$this$jscomp$110$$.$canceled_$[$id$jscomp$39$$]?delete $$jscomp$this$jscomp$110$$.$canceled_$[$id$jscomp$39$$]:$callback$jscomp$92$$()}).catch($reportError$$module$src$error$$);return $id$jscomp$39$$}return this.win.setTimeout(function(){try{$callback$jscomp$92$$()}catch($e$jscomp$78$$){throw $reportError$$module$src$error$$($e$jscomp$78$$),
$e$jscomp$78$$;}},$opt_delay$jscomp$4$$)};$JSCompiler_prototypeAlias$$.cancel=function($timeoutId$$){"string"==typeof $timeoutId$$?this.$canceled_$[$timeoutId$$]=!0:this.win.clearTimeout($timeoutId$$)};
$JSCompiler_prototypeAlias$$.promise=function($opt_delay$jscomp$5$$){var $$jscomp$this$jscomp$111$$=this;return new this.win.Promise(function($resolve$jscomp$36$$){var $timerKey$$=$$jscomp$this$jscomp$111$$.delay($resolve$jscomp$36$$,$opt_delay$jscomp$5$$);if(-1==$timerKey$$)throw Error("Failed to schedule timer.");})};
$JSCompiler_prototypeAlias$$.timeoutPromise=function($delay$jscomp$3$$,$opt_racePromise$$,$opt_message$jscomp$16$$){function $cancel$$(){$$jscomp$this$jscomp$112$$.cancel($timerKey$jscomp$1$$)}var $$jscomp$this$jscomp$112$$=this,$timerKey$jscomp$1$$,$delayPromise$$=new this.win.Promise(function($opt_racePromise$$,$cancel$$){$timerKey$jscomp$1$$=$$jscomp$this$jscomp$112$$.delay(function(){$cancel$$($user$$module$src$log$$().createError($opt_message$jscomp$16$$||"timeout"))},$delay$jscomp$3$$);if(-1==
$timerKey$jscomp$1$$)throw Error("Failed to schedule timer.");});if(!$opt_racePromise$$)return $delayPromise$$;$opt_racePromise$$.then($cancel$$,$cancel$$);return this.win.Promise.race([$delayPromise$$,$opt_racePromise$$])};
$JSCompiler_prototypeAlias$$.poll=function($delay$jscomp$4$$,$predicate$jscomp$2$$){var $$jscomp$this$jscomp$113$$=this;return new this.win.Promise(function($resolve$jscomp$37$$){var $interval$jscomp$4$$=$$jscomp$this$jscomp$113$$.win.setInterval(function(){$predicate$jscomp$2$$()&&($$jscomp$this$jscomp$113$$.win.clearInterval($interval$jscomp$4$$),$resolve$jscomp$37$$())},$delay$jscomp$4$$)})};
$Timer$$module$src$service$timer_impl$$.installInEmbedWindow=function($embedWin$jscomp$7$$){$installServiceInEmbedScope$$module$src$service$$($embedWin$jscomp$7$$,"timer",new $Timer$$module$src$service$timer_impl$$($embedWin$jscomp$7$$))};function $Url$$module$src$service$url_impl$$($ampdoc$jscomp$61_root$jscomp$13$$,$opt_rootNode$jscomp$1$$){$ampdoc$jscomp$61_root$jscomp$13$$=$opt_rootNode$jscomp$1$$||$ampdoc$jscomp$61_root$jscomp$13$$.getRootNode();this.$anchor_$=($ampdoc$jscomp$61_root$jscomp$13$$.ownerDocument||$ampdoc$jscomp$61_root$jscomp$13$$).createElement("a");this.$cache_$=new $LruCache$$module$src$utils$lru_cache$$}
$Url$$module$src$service$url_impl$$.installInEmbedWindow=function($embedWin$jscomp$8$$,$ampdoc$jscomp$62$$){$installServiceInEmbedScope$$module$src$service$$($embedWin$jscomp$8$$,"url",new $Url$$module$src$service$url_impl$$($ampdoc$jscomp$62$$,$embedWin$jscomp$8$$.document))};$JSCompiler_prototypeAlias$$=$Url$$module$src$service$url_impl$$.prototype;
$JSCompiler_prototypeAlias$$.parse=function($url$jscomp$73$$,$opt_nocache$jscomp$1$$){return $parseUrlWithA$$module$src$url$$(this.$anchor_$,$url$jscomp$73$$,$opt_nocache$jscomp$1$$?null:this.$cache_$)};$JSCompiler_prototypeAlias$$.isProtocolValid=function($url$jscomp$74$$){return $isProtocolValid$$module$src$url$$($url$jscomp$74$$)};$JSCompiler_prototypeAlias$$.getSourceOrigin=function($url$jscomp$75$$){return $getSourceOrigin$$module$src$url$$($url$jscomp$75$$)};
$JSCompiler_prototypeAlias$$.assertHttpsUrl=function($urlString$jscomp$3$$,$elementContext$jscomp$1$$,$sourceName$jscomp$1$$){return $assertHttpsUrl$$module$src$url$$($urlString$jscomp$3$$,$elementContext$jscomp$1$$,void 0===$sourceName$jscomp$1$$?"source":$sourceName$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.assertAbsoluteHttpOrHttpsUrl=function($urlString$jscomp$4$$){$userAssert$$module$src$log$$(/^https?:/i.test($urlString$jscomp$4$$),'URL must start with "http://" or "https://". Invalid value: %s',$urlString$jscomp$4$$);return $parseUrlDeprecated$$module$src$url$$($urlString$jscomp$4$$).href};$JSCompiler_prototypeAlias$$.isProxyOrigin=function($url$jscomp$76$$){return $isProxyOrigin$$module$src$url$$($url$jscomp$76$$)};$JSCompiler_prototypeAlias$$.isSecure=function($url$jscomp$77$$){return $isSecureUrlDeprecated$$module$src$url$$(this.parse($url$jscomp$77$$))};
$JSCompiler_prototypeAlias$$.getWinOrigin=function($win$jscomp$187$$){return $win$jscomp$187$$.origin||this.parse($win$jscomp$187$$.location.href).origin};
$JSCompiler_prototypeAlias$$.getCdnUrlOnOrigin=function($resourceUrl$$){if($isProxyOrigin$$module$src$url$$($resourceUrl$$))return $resourceUrl$$;var $$jscomp$destructuring$var104_search$jscomp$3$$=this.parse($resourceUrl$$),$host$$=$$jscomp$destructuring$var104_search$jscomp$3$$.host,$hash$jscomp$6$$=$$jscomp$destructuring$var104_search$jscomp$3$$.hash,$pathname$$=$$jscomp$destructuring$var104_search$jscomp$3$$.pathname;$$jscomp$destructuring$var104_search$jscomp$3$$=$$jscomp$destructuring$var104_search$jscomp$3$$.search;
var $encodedHost$$=encodeURIComponent($host$$);return $urls$$module$src$config$$.cdn+"/c/"+$encodedHost$$+$pathname$$+$$jscomp$destructuring$var104_search$jscomp$3$$+$hash$jscomp$6$$};function $getTimingDataAsync$$module$src$service$variable_source$$($win$jscomp$188$$,$startEvent$$,$endEvent$$){return $loadPromise$$module$src$event_helper$$($win$jscomp$188$$).then(function(){return $getTimingDataSync$$module$src$service$variable_source$$($win$jscomp$188$$,$startEvent$$,$endEvent$$)})}
function $getTimingDataSync$$module$src$service$variable_source$$($win$jscomp$189$$,$startEvent$jscomp$1$$,$endEvent$jscomp$1$$){var $timingInfo$$=$win$jscomp$189$$.performance&&$win$jscomp$189$$.performance.timing;if($timingInfo$$&&0!=$timingInfo$$.navigationStart){var $metric$$=void 0===$endEvent$jscomp$1$$?$timingInfo$$[$startEvent$jscomp$1$$]:$timingInfo$$[$endEvent$jscomp$1$$]-$timingInfo$$[$startEvent$jscomp$1$$];if($isFiniteNumber$$module$src$types$$($metric$$)&&!(0>$metric$$))return $metric$$}}
function $getNavigationData$$module$src$service$variable_source$$($win$jscomp$190$$,$attribute$jscomp$1$$){var $navigationInfo$$=$win$jscomp$190$$.performance&&$win$jscomp$190$$.performance.navigation;if($navigationInfo$$&&void 0!==$navigationInfo$$[$attribute$jscomp$1$$])return $navigationInfo$$[$attribute$jscomp$1$$]}
function $VariableSource$$module$src$service$variable_source$$($ampdoc$jscomp$64$$){this.ampdoc=$ampdoc$jscomp$64$$;this.$replacements_$=Object.create(null);this.$initialized_$=!1;$JSCompiler_StaticMethods_getUrlMacroWhitelist_$$(this)}$JSCompiler_prototypeAlias$$=$VariableSource$$module$src$service$variable_source$$.prototype;$JSCompiler_prototypeAlias$$.$initialize_$=function(){this.initialize();this.$initialized_$=!0};$JSCompiler_prototypeAlias$$.initialize=function(){};
$JSCompiler_prototypeAlias$$.get=function($name$jscomp$148$$){this.$initialized_$||this.$initialize_$();return this.$replacements_$[$name$jscomp$148$$]};$JSCompiler_prototypeAlias$$.set=function($varName$jscomp$1$$,$syncResolver$$){this.$replacements_$[$varName$jscomp$1$$]=this.$replacements_$[$varName$jscomp$1$$]||{sync:void 0,async:void 0};this.$replacements_$[$varName$jscomp$1$$].sync=$syncResolver$$;return this};
$JSCompiler_prototypeAlias$$.setAsync=function($varName$jscomp$2$$,$asyncResolver$$){this.$replacements_$[$varName$jscomp$2$$]=this.$replacements_$[$varName$jscomp$2$$]||{sync:void 0,async:void 0};this.$replacements_$[$varName$jscomp$2$$].async=$asyncResolver$$;return this};$JSCompiler_prototypeAlias$$.setBoth=function($varName$jscomp$3$$,$syncResolver$jscomp$1$$,$asyncResolver$jscomp$1$$){return this.set($varName$jscomp$3$$,$syncResolver$jscomp$1$$).setAsync($varName$jscomp$3$$,$asyncResolver$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.getExpr=function($opt_bindings$$,$opt_whiteList$$){this.$initialized_$||this.$initialize_$();var $all$$=Object.assign({},this.$replacements_$,$opt_bindings$$);return $JSCompiler_StaticMethods_buildExpr_$$(this,Object.keys($all$$),$opt_whiteList$$)};
function $JSCompiler_StaticMethods_buildExpr_$$($JSCompiler_StaticMethods_buildExpr_$self$$,$keys$jscomp$2$$,$opt_whiteList$jscomp$1$$){$JSCompiler_StaticMethods_getUrlMacroWhitelist_$$($JSCompiler_StaticMethods_buildExpr_$self$$)&&($keys$jscomp$2$$=$keys$jscomp$2$$.filter(function($keys$jscomp$2$$){return $JSCompiler_StaticMethods_getUrlMacroWhitelist_$$($JSCompiler_StaticMethods_buildExpr_$self$$).includes($keys$jscomp$2$$)}));$opt_whiteList$jscomp$1$$&&($keys$jscomp$2$$=$keys$jscomp$2$$.filter(function($JSCompiler_StaticMethods_buildExpr_$self$$){return $opt_whiteList$jscomp$1$$[$JSCompiler_StaticMethods_buildExpr_$self$$]}));
if(0===$keys$jscomp$2$$.length){var $regexThatMatchesNothing$$=/_^/g;return $regexThatMatchesNothing$$}$keys$jscomp$2$$.sort(function($JSCompiler_StaticMethods_buildExpr_$self$$,$keys$jscomp$2$$){return $keys$jscomp$2$$.length-$JSCompiler_StaticMethods_buildExpr_$self$$.length});var $regexStr$$="\\$?("+$keys$jscomp$2$$.map(function($JSCompiler_StaticMethods_buildExpr_$self$$){return"$"===$JSCompiler_StaticMethods_buildExpr_$self$$[0]?"\\"+$JSCompiler_StaticMethods_buildExpr_$self$$:$JSCompiler_StaticMethods_buildExpr_$self$$}).join("|")+
")";return new RegExp($regexStr$$,"g")}
function $JSCompiler_StaticMethods_getUrlMacroWhitelist_$$($JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$){if($JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.$variableWhitelist_$)return $JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.$variableWhitelist_$;var $head$jscomp$4_meta$jscomp$4$$=$JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.ampdoc.getRootNode().head;if(!$head$jscomp$4_meta$jscomp$4$$)return null;$head$jscomp$4_meta$jscomp$4$$=$head$jscomp$4_meta$jscomp$4$$.querySelector('meta[name="amp-allowed-url-macros"]');
if(!$head$jscomp$4_meta$jscomp$4$$)return null;$JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.$variableWhitelist_$=$head$jscomp$4_meta$jscomp$4$$.getAttribute("content").split(",").map(function($JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$){return $JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.trim()});return $JSCompiler_StaticMethods_getUrlMacroWhitelist_$self$$.$variableWhitelist_$};var $NOENCODE_WHITELIST$$module$src$service$url_expander$expander$$={ANCESTOR_ORIGIN:!0};function $Expander$$module$src$service$url_expander$expander$$($variableSource$$,$opt_bindings$jscomp$1$$,$opt_collectVars$$,$opt_sync$$,$opt_whiteList$jscomp$2$$,$opt_noEncode$$){this.$variableSource_$=$variableSource$$;this.$bindings_$=$opt_bindings$jscomp$1$$;this.$collectVars_$=$opt_collectVars$$;this.$sync_$=$opt_sync$$;this.$whiteList_$=$opt_whiteList$jscomp$2$$;this.$encode_$=!$opt_noEncode$$}
$Expander$$module$src$service$url_expander$expander$$.prototype.expand=function($url$jscomp$78$$){if(!$url$jscomp$78$$.length)return this.$sync_$?$url$jscomp$78$$:Promise.resolve($url$jscomp$78$$);var $expr$jscomp$6_matches$jscomp$4$$=this.$variableSource_$.getExpr(this.$bindings_$,this.$whiteList_$);$expr$jscomp$6_matches$jscomp$4$$=$JSCompiler_StaticMethods_findMatches_$$($url$jscomp$78$$,$expr$jscomp$6_matches$jscomp$4$$);return $expr$jscomp$6_matches$jscomp$4$$.length?$JSCompiler_StaticMethods_parseUrlRecursively_$$(this,
$url$jscomp$78$$,$expr$jscomp$6_matches$jscomp$4$$):this.$sync_$?$url$jscomp$78$$:Promise.resolve($url$jscomp$78$$)};$Expander$$module$src$service$url_expander$expander$$.prototype.getMacroNames=function($matches$jscomp$5_url$jscomp$79$$){var $expr$jscomp$7$$=this.$variableSource_$.getExpr(this.$bindings_$,this.$whiteList_$);return($matches$jscomp$5_url$jscomp$79$$=$matches$jscomp$5_url$jscomp$79$$.match($expr$jscomp$7$$))?$matches$jscomp$5_url$jscomp$79$$:[]};
function $JSCompiler_StaticMethods_findMatches_$$($url$jscomp$80$$,$expression$jscomp$3$$){var $matches$jscomp$6$$=[];$url$jscomp$80$$.replace($expression$jscomp$3$$,function($url$jscomp$80$$,$expression$jscomp$3$$,$startPosition$$){$url$jscomp$80$$=$url$jscomp$80$$.length;var $length$jscomp$34_match$jscomp$4$$=$url$jscomp$80$$+$startPosition$$-1;$matches$jscomp$6$$.push({start:$startPosition$$,stop:$length$jscomp$34_match$jscomp$4$$,name:$expression$jscomp$3$$,length:$url$jscomp$80$$})});return $matches$jscomp$6$$}
function $JSCompiler_StaticMethods_parseUrlRecursively_$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$,$url$jscomp$81$$,$matches$jscomp$7$$){function $evaluateNextLevel$$($encode$$){for(var $builder$$="",$results$jscomp$2$$=[];$urlIndex$$<$url$jscomp$81$$.length&&$matchIndex$$<=$matches$jscomp$7$$.length;){if($match$jscomp$5$$&&$urlIndex$$===$match$jscomp$5$$.start){var $binding$62_binding$jscomp$4$$=void 0;$binding$62_binding$jscomp$4$$=$JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$bindings_$&&
$hasOwn_$$module$src$utils$object$$.call($JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$bindings_$,$match$jscomp$5$$.name)?{name:$match$jscomp$5$$.name,prioritized:$JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$bindings_$[$match$jscomp$5$$.name],encode:$encode$$}:Object.assign({},$JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$variableSource_$.get($match$jscomp$5$$.name),{name:$match$jscomp$5$$.name,encode:$encode$$});$urlIndex$$=$match$jscomp$5$$.stop+1;$match$jscomp$5$$=$matches$jscomp$7$$[++$matchIndex$$];
"("===$url$jscomp$81$$[$urlIndex$$]?($urlIndex$$++,$numOfPendingCalls$$++,$stack$jscomp$2$$.push($binding$62_binding$jscomp$4$$),$builder$$.trim().length&&$results$jscomp$2$$.push($builder$$),$results$jscomp$2$$.push($evaluateNextLevel$$(!1))):($builder$$.length&&$results$jscomp$2$$.push($builder$$),$results$jscomp$2$$.push($JSCompiler_StaticMethods_evaluateBinding_$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$,$binding$62_binding$jscomp$4$$)));$builder$$=""}else{if("`"===$url$jscomp$81$$[$urlIndex$$])$ignoringChars$$?
$ignoringChars$$=!1:($nextArgShouldBeRaw$$=$ignoringChars$$=!0,$userAssert$$module$src$log$$(""===$builder$$.trim(),'The substring "'+$builder$$+'" was lost during url-replacement. Please ensure the url syntax is correct'),$builder$$="");else if($numOfPendingCalls$$&&","===$url$jscomp$81$$[$urlIndex$$]&&!$ignoringChars$$){if($builder$$.length){var $nextArg$$=$nextArgShouldBeRaw$$?$builder$$:$builder$$.trim();$results$jscomp$2$$.push($nextArg$$);$nextArgShouldBeRaw$$=!1}","===$url$jscomp$81$$[$urlIndex$$+
1]&&($results$jscomp$2$$.push(""),$urlIndex$$++);$builder$$=""}else{if($numOfPendingCalls$$&&")"===$url$jscomp$81$$[$urlIndex$$]&&!$ignoringChars$$)return $urlIndex$$++,$numOfPendingCalls$$--,$binding$62_binding$jscomp$4$$=$stack$jscomp$2$$.pop(),$results$jscomp$2$$.push($nextArgShouldBeRaw$$?$builder$$:$builder$$.trim()),$nextArgShouldBeRaw$$=!1,$JSCompiler_StaticMethods_evaluateBinding_$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$,$binding$62_binding$jscomp$4$$,$results$jscomp$2$$);$builder$$+=
$url$jscomp$81$$[$urlIndex$$]}$urlIndex$$++}$urlIndex$$===$url$jscomp$81$$.length&&$builder$$.length&&$results$jscomp$2$$.push($builder$$)}return $JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$sync_$?$results$jscomp$2$$.join(""):Promise.all($results$jscomp$2$$).then(function($JSCompiler_StaticMethods_parseUrlRecursively_$self$$){return $JSCompiler_StaticMethods_parseUrlRecursively_$self$$.join("")}).catch(function($JSCompiler_StaticMethods_parseUrlRecursively_$self$$){$rethrowAsync$$module$src$log$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$);
return""})}var $stack$jscomp$2$$=[],$urlIndex$$=0,$matchIndex$$=0,$match$jscomp$5$$=$matches$jscomp$7$$[$matchIndex$$],$numOfPendingCalls$$=0,$ignoringChars$$=!1,$nextArgShouldBeRaw$$=!1;return $evaluateNextLevel$$($JSCompiler_StaticMethods_parseUrlRecursively_$self$$.$encode_$)}
function $JSCompiler_StaticMethods_evaluateBinding_$$($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$,$bindingInfo$$,$opt_args$jscomp$4$$){var $$jscomp$destructuring$var107_name$jscomp$150$$=$bindingInfo$$,$encode$jscomp$1$$=$$jscomp$destructuring$var107_name$jscomp$150$$.encode;$$jscomp$destructuring$var107_name$jscomp$150$$=$$jscomp$destructuring$var107_name$jscomp$150$$.name;if($hasOwn_$$module$src$utils$object$$.call($bindingInfo$$,"prioritized"))var $binding$jscomp$5$$=$bindingInfo$$.prioritized;
else $JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$.$sync_$&&$hasOwn_$$module$src$utils$object$$.call($bindingInfo$$,"sync")?$binding$jscomp$5$$=$bindingInfo$$.sync:$JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$.$sync_$?($user$$module$src$log$$().error("Expander","ignoring async replacement key: ",$bindingInfo$$.name),$binding$jscomp$5$$=""):$binding$jscomp$5$$=$bindingInfo$$.async||$bindingInfo$$.sync;var $shouldEncode$$=$encode$jscomp$1$$&&!$NOENCODE_WHITELIST$$module$src$service$url_expander$expander$$[$$jscomp$destructuring$var107_name$jscomp$150$$];
return $JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$.$sync_$?($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$=$JSCompiler_StaticMethods_evaluateBindingSync_$$($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$,$binding$jscomp$5$$,$$jscomp$destructuring$var107_name$jscomp$150$$,$opt_args$jscomp$4$$),$shouldEncode$$?encodeURIComponent($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$):$JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$):
$JSCompiler_StaticMethods_evaluateBindingAsync_$$($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$,$binding$jscomp$5$$,$$jscomp$destructuring$var107_name$jscomp$150$$,$opt_args$jscomp$4$$).then(function($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$){return $shouldEncode$$?encodeURIComponent($JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$):$JSCompiler_StaticMethods_evaluateBinding_$self_result$jscomp$6$$})}
function $JSCompiler_StaticMethods_evaluateBindingAsync_$$($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$,$binding$jscomp$6$$,$name$jscomp$151$$,$opt_args$jscomp$5$$){try{var $value$jscomp$138$$="function"===typeof $binding$jscomp$6$$?$opt_args$jscomp$5$$?Promise.all($opt_args$jscomp$5$$).then(function($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$){return $binding$jscomp$6$$.apply(null,$JSCompiler_StaticMethods_evaluateBindingAsync_$self$$)}):$tryResolve$$module$src$utils$promise$$($binding$jscomp$6$$):
Promise.resolve($binding$jscomp$6$$);return $value$jscomp$138$$.then(function($binding$jscomp$6$$){$JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$,$name$jscomp$151$$,$binding$jscomp$6$$,$opt_args$jscomp$5$$);return null==$binding$jscomp$6$$?"":$binding$jscomp$6$$}).catch(function($binding$jscomp$6$$){$rethrowAsync$$module$src$log$$($binding$jscomp$6$$);$JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$,
$name$jscomp$151$$,"",$opt_args$jscomp$5$$);return Promise.resolve("")})}catch($e$jscomp$81$$){return $rethrowAsync$$module$src$log$$($e$jscomp$81$$),$JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingAsync_$self$$,$name$jscomp$151$$,"",$opt_args$jscomp$5$$),Promise.resolve("")}}
function $JSCompiler_StaticMethods_evaluateBindingSync_$$($JSCompiler_StaticMethods_evaluateBindingSync_$self$$,$binding$jscomp$7$$,$name$jscomp$152$$,$opt_args$jscomp$6$$){try{var $value$jscomp$139$$="function"===typeof $binding$jscomp$7$$?$binding$jscomp$7$$.apply(null,$opt_args$jscomp$6$$):$binding$jscomp$7$$;if($value$jscomp$139$$&&$value$jscomp$139$$.then){$user$$module$src$log$$().error("Expander","ignoring async macro resolution");var $result$jscomp$9$$=""}else"string"===typeof $value$jscomp$139$$||
"number"===typeof $value$jscomp$139$$||"boolean"===typeof $value$jscomp$139$$?($JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingSync_$self$$,$name$jscomp$152$$,$value$jscomp$139$$,$opt_args$jscomp$6$$),$result$jscomp$9$$=$value$jscomp$139$$.toString()):($JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingSync_$self$$,$name$jscomp$152$$,"",$opt_args$jscomp$6$$),$result$jscomp$9$$="");return $result$jscomp$9$$}catch($e$jscomp$82$$){return $rethrowAsync$$module$src$log$$($e$jscomp$82$$),
$JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_evaluateBindingSync_$self$$,$name$jscomp$152$$,"",$opt_args$jscomp$6$$),""}}
function $JSCompiler_StaticMethods_maybeCollectVars_$$($JSCompiler_StaticMethods_maybeCollectVars_$self$$,$name$jscomp$153$$,$value$jscomp$140$$,$opt_args$jscomp$7$$){if($JSCompiler_StaticMethods_maybeCollectVars_$self$$.$collectVars_$){var $args$jscomp$15$$="";if($opt_args$jscomp$7$$){var $rawArgs$$=$opt_args$jscomp$7$$.filter(function($JSCompiler_StaticMethods_maybeCollectVars_$self$$){return""!==$JSCompiler_StaticMethods_maybeCollectVars_$self$$}).join(",");$args$jscomp$15$$="("+$rawArgs$$+")"}$JSCompiler_StaticMethods_maybeCollectVars_$self$$.$collectVars_$[""+
$name$jscomp$153$$+$args$jscomp$15$$]=$value$jscomp$140$$||""}};function $dateMethod$$module$src$service$url_replacements_impl$$($method$jscomp$16$$){return function(){return(new Date)[$method$jscomp$16$$]()}}function $screenProperty$$module$src$service$url_replacements_impl$$($screen$jscomp$1$$,$property$jscomp$6$$){return function(){return $screen$jscomp$1$$[$property$jscomp$6$$]}}
function $GlobalVariableSource$$module$src$service$url_replacements_impl$$($ampdoc$jscomp$65$$){$VariableSource$$module$src$service$variable_source$$.call(this,$ampdoc$jscomp$65$$);this.$shareTrackingFragments_$=null}$$jscomp$inherits$$($GlobalVariableSource$$module$src$service$url_replacements_impl$$,$VariableSource$$module$src$service$variable_source$$);
function $JSCompiler_StaticMethods_setTimingResolver_$$($JSCompiler_StaticMethods_setTimingResolver_$self$$,$varName$jscomp$4$$,$startEvent$jscomp$2$$,$endEvent$jscomp$2$$){$JSCompiler_StaticMethods_setTimingResolver_$self$$.setBoth($varName$jscomp$4$$,function(){return $getTimingDataSync$$module$src$service$variable_source$$($JSCompiler_StaticMethods_setTimingResolver_$self$$.ampdoc.win,$startEvent$jscomp$2$$,$endEvent$jscomp$2$$)},function(){return $getTimingDataAsync$$module$src$service$variable_source$$($JSCompiler_StaticMethods_setTimingResolver_$self$$.ampdoc.win,
$startEvent$jscomp$2$$,$endEvent$jscomp$2$$)})}
$GlobalVariableSource$$module$src$service$url_replacements_impl$$.prototype.initialize=function(){function $expandSourceUrl$$(){var $expandSourceUrl$$=$Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$118$$.ampdoc);return $removeFragment$$module$src$url$$($JSCompiler_StaticMethods_addReplaceParamsIfMissing_$$($$jscomp$this$jscomp$118$$,$expandSourceUrl$$.sourceUrl))}var $$jscomp$this$jscomp$118$$=this,$win$jscomp$191$$=this.ampdoc.win,$element$jscomp$161$$=this.ampdoc.getHeadNode(),
$viewport$jscomp$6$$=$Services$$module$src$services$viewportForDoc$$(this.ampdoc);this.set("RANDOM",function(){return Math.random()});var $counterStore$$=Object.create(null);this.set("COUNTER",function($expandSourceUrl$$){return $counterStore$$[$expandSourceUrl$$]=($counterStore$$[$expandSourceUrl$$]|0)+1});this.set("CANONICAL_URL",function(){return $Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).canonicalUrl});this.set("CANONICAL_HOST",function(){return $parseUrlDeprecated$$module$src$url$$($Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).canonicalUrl).host});
this.set("CANONICAL_HOSTNAME",function(){return $parseUrlDeprecated$$module$src$url$$($Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).canonicalUrl).hostname});this.set("CANONICAL_PATH",function(){return $parseUrlDeprecated$$module$src$url$$($Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).canonicalUrl).pathname});this.setAsync("DOCUMENT_REFERRER",function(){return $Services$$module$src$services$viewerForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).getReferrerUrl()});
this.setAsync("EXTERNAL_REFERRER",function(){return $Services$$module$src$services$viewerForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).getReferrerUrl().then(function($expandSourceUrl$$){if(!$expandSourceUrl$$)return null;var $$jscomp$this$jscomp$118$$=$parseUrlDeprecated$$module$src$url$$($getSourceUrl$$module$src$url$$($expandSourceUrl$$)).hostname,$element$jscomp$161$$=$win$jscomp$191$$.location.hostname;return $$jscomp$this$jscomp$118$$===$element$jscomp$161$$?null:$expandSourceUrl$$})});this.set("TITLE",
function(){var $expandSourceUrl$$=$win$jscomp$191$$.document;return $expandSourceUrl$$.originalTitle||$expandSourceUrl$$.title});this.set("AMPDOC_URL",function(){return $removeFragment$$module$src$url$$($JSCompiler_StaticMethods_addReplaceParamsIfMissing_$$($$jscomp$this$jscomp$118$$,$win$jscomp$191$$.location.href))});this.set("AMPDOC_HOST",function(){var $expandSourceUrl$$=$parseUrlDeprecated$$module$src$url$$($win$jscomp$191$$.location.href);return $expandSourceUrl$$&&$expandSourceUrl$$.host});
this.set("AMPDOC_HOSTNAME",function(){var $expandSourceUrl$$=$parseUrlDeprecated$$module$src$url$$($win$jscomp$191$$.location.href);return $expandSourceUrl$$&&$expandSourceUrl$$.hostname});this.setBoth("SOURCE_URL",function(){return $expandSourceUrl$$()},function(){return $getTrackImpressionPromise$$module$src$impression$$().then(function(){return $expandSourceUrl$$()})});this.set("SOURCE_HOST",function(){return $parseUrlDeprecated$$module$src$url$$($Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).sourceUrl).host});
this.set("SOURCE_HOSTNAME",function(){return $parseUrlDeprecated$$module$src$url$$($Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).sourceUrl).hostname});this.set("SOURCE_PATH",function(){return $parseUrlDeprecated$$module$src$url$$($Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).sourceUrl).pathname});this.set("PAGE_VIEW_ID",function(){return $Services$$module$src$services$documentInfoForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).pageViewId});
this.setBoth("QUERY_PARAM",function($expandSourceUrl$$,$win$jscomp$191$$){return $JSCompiler_StaticMethods_getQueryParamData_$$($$jscomp$this$jscomp$118$$,$expandSourceUrl$$,void 0===$win$jscomp$191$$?"":$win$jscomp$191$$)},function($expandSourceUrl$$,$win$jscomp$191$$){$win$jscomp$191$$=void 0===$win$jscomp$191$$?"":$win$jscomp$191$$;return $getTrackImpressionPromise$$module$src$impression$$().then(function(){return $JSCompiler_StaticMethods_getQueryParamData_$$($$jscomp$this$jscomp$118$$,$expandSourceUrl$$,
$win$jscomp$191$$)})});this.setAsync("FRAGMENT_PARAM",$JSCompiler_StaticMethods_getViewerIntegrationValue_$$(this,"fragmentParam","FRAGMENT_PARAM"));this.setAsync("ANCESTOR_ORIGIN",$JSCompiler_StaticMethods_getViewerIntegrationValue_$$(this,"ancestorOrigin","ANCESTOR_ORIGIN"));var $clientIds$$=null;this.setBoth("CLIENT_ID",function($expandSourceUrl$$){return $clientIds$$?$clientIds$$[$expandSourceUrl$$]:null},function($expandSourceUrl$$,$win$jscomp$191$$,$viewport$jscomp$6$$){$user$$module$src$log$$().assertString($expandSourceUrl$$,
"The first argument to CLIENT_ID, the fallback Cookie name, is required");if("inabox"==$getMode$$module$src$mode$$().runtime)return Promise.resolve(null);var $counterStore$$=Promise.resolve();$win$jscomp$191$$&&($counterStore$$=$getElementServiceForDoc$$module$src$element_service$$($element$jscomp$161$$,"userNotificationManager","amp-user-notification").then(function($expandSourceUrl$$){return $expandSourceUrl$$.get($win$jscomp$191$$)}));return $getServicePromiseForDoc$$module$src$service$$($$jscomp$this$jscomp$118$$.ampdoc,
"cid").then(function($$jscomp$this$jscomp$118$$){return $$jscomp$this$jscomp$118$$.get({scope:$expandSourceUrl$$,createCookieIfNotPresent:!0,cookieName:$viewport$jscomp$6$$},$counterStore$$)}).then(function($$jscomp$this$jscomp$118$$){$clientIds$$||($clientIds$$=Object.create(null));var $win$jscomp$191$$=$viewport$jscomp$6$$||$expandSourceUrl$$;$$jscomp$this$jscomp$118$$&&"_ga"==$win$jscomp$191$$&&("string"===typeof $$jscomp$this$jscomp$118$$?$$jscomp$this$jscomp$118$$=$$jscomp$this$jscomp$118$$.replace(/^(GA1|1)\.[\d-]+\./,
""):$dev$$module$src$log$$().error("UrlReplacements","non-string cid, what is it?",Object.keys($$jscomp$this$jscomp$118$$)));return $clientIds$$[$expandSourceUrl$$]=$$jscomp$this$jscomp$118$$})});this.setAsync("VARIANT",function($expandSourceUrl$$){return $JSCompiler_StaticMethods_getVariantsValue_$$($$jscomp$this$jscomp$118$$,function($$jscomp$this$jscomp$118$$){var $win$jscomp$191$$=$$jscomp$this$jscomp$118$$[$expandSourceUrl$$];$userAssert$$module$src$log$$(void 0!==$win$jscomp$191$$,"The value passed to VARIANT() is not a valid experiment name:"+
$expandSourceUrl$$);return null===$win$jscomp$191$$?"none":$win$jscomp$191$$},"VARIANT")});this.setAsync("VARIANTS",function(){return $JSCompiler_StaticMethods_getVariantsValue_$$($$jscomp$this$jscomp$118$$,function($expandSourceUrl$$){var $$jscomp$this$jscomp$118$$=[],$win$jscomp$191$$;for($win$jscomp$191$$ in $expandSourceUrl$$)$$jscomp$this$jscomp$118$$.push($win$jscomp$191$$+"."+($expandSourceUrl$$[$win$jscomp$191$$]||"none"));return $$jscomp$this$jscomp$118$$.join("!")},"VARIANTS")});this.setAsync("AMP_GEO",
function($expandSourceUrl$$){return $JSCompiler_StaticMethods_getGeo_$$($$jscomp$this$jscomp$118$$,function($$jscomp$this$jscomp$118$$){return $expandSourceUrl$$?($userAssert$$module$src$log$$("ISOCountry"===$expandSourceUrl$$,"The value passed to AMP_GEO() is not valid name:"+$expandSourceUrl$$),$$jscomp$this$jscomp$118$$[$expandSourceUrl$$]||"unknown"):$$jscomp$this$jscomp$118$$.matchedISOCountryGroups.join(",")})});this.setAsync("SHARE_TRACKING_INCOMING",function(){return $JSCompiler_StaticMethods_getShareTrackingValue_$$($$jscomp$this$jscomp$118$$,
function($expandSourceUrl$$){return $expandSourceUrl$$.incomingFragment},"SHARE_TRACKING_INCOMING")});this.setAsync("SHARE_TRACKING_OUTGOING",function(){return $JSCompiler_StaticMethods_getShareTrackingValue_$$($$jscomp$this$jscomp$118$$,function($expandSourceUrl$$){return $expandSourceUrl$$.outgoingFragment},"SHARE_TRACKING_OUTGOING")});this.set("TIMESTAMP",$dateMethod$$module$src$service$url_replacements_impl$$("getTime"));this.set("TIMESTAMP_ISO",$dateMethod$$module$src$service$url_replacements_impl$$("toISOString"));
this.set("TIMEZONE",$dateMethod$$module$src$service$url_replacements_impl$$("getTimezoneOffset"));this.set("TIMEZONE_CODE",function(){if("Intl"in $win$jscomp$191$$&&"DateTimeFormat"in $win$jscomp$191$$.Intl)var $expandSourceUrl$$=(new Intl.DateTimeFormat).resolvedOptions().timeZone;return $expandSourceUrl$$||""});this.set("SCROLL_TOP",function(){return $viewport$jscomp$6$$.getScrollTop()});this.set("SCROLL_LEFT",function(){return $viewport$jscomp$6$$.getScrollLeft()});this.set("SCROLL_HEIGHT",function(){return $viewport$jscomp$6$$.getScrollHeight()});
this.set("SCROLL_WIDTH",function(){return $viewport$jscomp$6$$.getScrollWidth()});this.set("VIEWPORT_HEIGHT",function(){return $viewport$jscomp$6$$.getHeight()});this.set("VIEWPORT_WIDTH",function(){return $viewport$jscomp$6$$.getWidth()});var $screen$jscomp$2$$=$win$jscomp$191$$.screen;this.set("SCREEN_WIDTH",$screenProperty$$module$src$service$url_replacements_impl$$($screen$jscomp$2$$,"width"));this.set("SCREEN_HEIGHT",$screenProperty$$module$src$service$url_replacements_impl$$($screen$jscomp$2$$,
"height"));this.set("AVAILABLE_SCREEN_HEIGHT",$screenProperty$$module$src$service$url_replacements_impl$$($screen$jscomp$2$$,"availHeight"));this.set("AVAILABLE_SCREEN_WIDTH",$screenProperty$$module$src$service$url_replacements_impl$$($screen$jscomp$2$$,"availWidth"));this.set("SCREEN_COLOR_DEPTH",$screenProperty$$module$src$service$url_replacements_impl$$($screen$jscomp$2$$,"colorDepth"));this.set("DOCUMENT_CHARSET",function(){var $expandSourceUrl$$=$win$jscomp$191$$.document;return $expandSourceUrl$$.characterSet||
$expandSourceUrl$$.charset});this.set("BROWSER_LANGUAGE",function(){var $expandSourceUrl$$=$win$jscomp$191$$.navigator;return($expandSourceUrl$$.language||$expandSourceUrl$$.userLanguage||$expandSourceUrl$$.browserLanguage||"").toLowerCase()});this.set("USER_AGENT",function(){return $win$jscomp$191$$.navigator.userAgent});$JSCompiler_StaticMethods_setTimingResolver_$$(this,"PAGE_LOAD_TIME","navigationStart","loadEventStart");$JSCompiler_StaticMethods_setTimingResolver_$$(this,"DOMAIN_LOOKUP_TIME",
"domainLookupStart","domainLookupEnd");$JSCompiler_StaticMethods_setTimingResolver_$$(this,"TCP_CONNECT_TIME","connectStart","connectEnd");$JSCompiler_StaticMethods_setTimingResolver_$$(this,"SERVER_RESPONSE_TIME","requestStart","responseStart");$JSCompiler_StaticMethods_setTimingResolver_$$(this,"PAGE_DOWNLOAD_TIME","responseStart","responseEnd");$JSCompiler_StaticMethods_setTimingResolver_$$(this,"REDIRECT_TIME","navigationStart","fetchStart");$JSCompiler_StaticMethods_setTimingResolver_$$(this,
"DOM_INTERACTIVE_TIME","navigationStart","domInteractive");$JSCompiler_StaticMethods_setTimingResolver_$$(this,"CONTENT_LOAD_TIME","navigationStart","domContentLoadedEventStart");this.setAsync("ACCESS_READER_ID",function(){return $JSCompiler_StaticMethods_getAccessValue_$$($$jscomp$this$jscomp$118$$,function($expandSourceUrl$$){return $expandSourceUrl$$.getAccessReaderId()},"ACCESS_READER_ID")});this.setAsync("AUTHDATA",function($expandSourceUrl$$){$userAssert$$module$src$log$$($expandSourceUrl$$,
"The first argument to AUTHDATA, the field, is required");return $JSCompiler_StaticMethods_getAccessValue_$$($$jscomp$this$jscomp$118$$,function($$jscomp$this$jscomp$118$$){return $$jscomp$this$jscomp$118$$.getAuthdataField($expandSourceUrl$$)},"AUTHDATA")});this.setAsync("VIEWER",function(){return $Services$$module$src$services$viewerForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).getViewerOrigin().then(function($expandSourceUrl$$){return void 0==$expandSourceUrl$$?"":$expandSourceUrl$$})});this.setAsync("TOTAL_ENGAGED_TIME",
function(){return $getElementServiceForDoc$$module$src$element_service$$($element$jscomp$161$$,"activity","amp-analytics").then(function($expandSourceUrl$$){return $expandSourceUrl$$.getTotalEngagedTime()})});this.setAsync("INCREMENTAL_ENGAGED_TIME",function($expandSourceUrl$$,$$jscomp$this$jscomp$118$$){return $getElementServiceForDoc$$module$src$element_service$$($element$jscomp$161$$,"activity","amp-analytics").then(function($win$jscomp$191$$){return $win$jscomp$191$$.getIncrementalEngagedTime($expandSourceUrl$$,
"false"!==$$jscomp$this$jscomp$118$$)})});this.set("NAV_TIMING",function($expandSourceUrl$$,$$jscomp$this$jscomp$118$$){$userAssert$$module$src$log$$($expandSourceUrl$$,"The first argument to NAV_TIMING, the start attribute name, is required");return $getTimingDataSync$$module$src$service$variable_source$$($win$jscomp$191$$,$expandSourceUrl$$,$$jscomp$this$jscomp$118$$)});this.setAsync("NAV_TIMING",function($expandSourceUrl$$,$$jscomp$this$jscomp$118$$){$userAssert$$module$src$log$$($expandSourceUrl$$,
"The first argument to NAV_TIMING, the start attribute name, is required");return $getTimingDataAsync$$module$src$service$variable_source$$($win$jscomp$191$$,$expandSourceUrl$$,$$jscomp$this$jscomp$118$$)});this.set("NAV_TYPE",function(){return $getNavigationData$$module$src$service$variable_source$$($win$jscomp$191$$,"type")});this.set("NAV_REDIRECT_COUNT",function(){return $getNavigationData$$module$src$service$variable_source$$($win$jscomp$191$$,"redirectCount")});this.set("AMP_VERSION",function(){return"1904281823091"});
this.set("BACKGROUND_STATE",function(){return $Services$$module$src$services$viewerForDoc$$($$jscomp$this$jscomp$118$$.ampdoc).isVisible()?"0":"1"});this.setAsync("VIDEO_STATE",function($expandSourceUrl$$,$win$jscomp$191$$){var $element$jscomp$161$$=$$jscomp$this$jscomp$118$$.ampdoc.getRootNode(),$viewport$jscomp$6$$=$user$$module$src$log$$().assertElement($element$jscomp$161$$.getElementById($expandSourceUrl$$),'Could not find an element with id="'+$expandSourceUrl$$+'" for VIDEO_STATE');return $getServiceForDoc$$module$src$service$$($$jscomp$this$jscomp$118$$.ampdoc,
"video-manager").getAnalyticsDetails($viewport$jscomp$6$$).then(function($expandSourceUrl$$){return $expandSourceUrl$$?$expandSourceUrl$$[$win$jscomp$191$$]:""})});this.setAsync("STORY_PAGE_INDEX",$JSCompiler_StaticMethods_getStoryValue_$$(this,"pageIndex","STORY_PAGE_INDEX"));this.setAsync("STORY_PAGE_ID",$JSCompiler_StaticMethods_getStoryValue_$$(this,"pageId","STORY_PAGE_ID"));this.setAsync("FIRST_CONTENTFUL_PAINT",function(){return $tryResolve$$module$src$utils$promise$$(function(){return $Services$$module$src$services$performanceFor$$($win$jscomp$191$$).getFirstContentfulPaint()})});
this.setAsync("FIRST_VIEWPORT_READY",function(){return $tryResolve$$module$src$utils$promise$$(function(){return $Services$$module$src$services$performanceFor$$($win$jscomp$191$$).getFirstViewportReady()})});this.setAsync("MAKE_BODY_VISIBLE",function(){return $tryResolve$$module$src$utils$promise$$(function(){return $Services$$module$src$services$performanceFor$$($win$jscomp$191$$).getMakeBodyVisible()})});this.setAsync("AMP_STATE",function($expandSourceUrl$$){var $win$jscomp$191$$=$$jscomp$this$jscomp$118$$.ampdoc.getRootNode();
return $getElementServiceIfAvailableForDocInEmbedScope$$module$src$element_service$$($win$jscomp$191$$.documentElement||$win$jscomp$191$$).then(function($$jscomp$this$jscomp$118$$){return $$jscomp$this$jscomp$118$$?$$jscomp$this$jscomp$118$$.getStateValue($expandSourceUrl$$):""})})};
function $JSCompiler_StaticMethods_addReplaceParamsIfMissing_$$($JSCompiler_StaticMethods_addReplaceParamsIfMissing_$self_JSCompiler_temp$jscomp$124_replaceParams$jscomp$1$$,$orig$$){if($JSCompiler_StaticMethods_addReplaceParamsIfMissing_$self_JSCompiler_temp$jscomp$124_replaceParams$jscomp$1$$=$Services$$module$src$services$documentInfoForDoc$$($JSCompiler_StaticMethods_addReplaceParamsIfMissing_$self_JSCompiler_temp$jscomp$124_replaceParams$jscomp$1$$.ampdoc).replaceParams){var $JSCompiler_url$jscomp$inline_577$$=
$removeAmpJsParamsFromUrl$$module$src$url$$($orig$$),$JSCompiler_existingParams$jscomp$inline_580_JSCompiler_location$jscomp$inline_579$$=$parseUrlDeprecated$$module$src$url$$($JSCompiler_url$jscomp$inline_577$$);$JSCompiler_existingParams$jscomp$inline_580_JSCompiler_location$jscomp$inline_579$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_existingParams$jscomp$inline_580_JSCompiler_location$jscomp$inline_579$$.search);for(var $JSCompiler_paramsToAdd$jscomp$inline_581$$=$dict$$module$src$utils$object$$({}),
$JSCompiler_keys$jscomp$inline_582$$=Object.keys($JSCompiler_StaticMethods_addReplaceParamsIfMissing_$self_JSCompiler_temp$jscomp$124_replaceParams$jscomp$1$$),$JSCompiler_i$jscomp$inline_583$$=0;$JSCompiler_i$jscomp$inline_583$$<$JSCompiler_keys$jscomp$inline_582$$.length;$JSCompiler_i$jscomp$inline_583$$++)$hasOwn_$$module$src$utils$object$$.call($JSCompiler_existingParams$jscomp$inline_580_JSCompiler_location$jscomp$inline_579$$,$JSCompiler_keys$jscomp$inline_582$$[$JSCompiler_i$jscomp$inline_583$$])||
($JSCompiler_paramsToAdd$jscomp$inline_581$$[$JSCompiler_keys$jscomp$inline_582$$[$JSCompiler_i$jscomp$inline_583$$]]=$JSCompiler_StaticMethods_addReplaceParamsIfMissing_$self_JSCompiler_temp$jscomp$124_replaceParams$jscomp$1$$[$JSCompiler_keys$jscomp$inline_582$$[$JSCompiler_i$jscomp$inline_583$$]]);$JSCompiler_StaticMethods_addReplaceParamsIfMissing_$self_JSCompiler_temp$jscomp$124_replaceParams$jscomp$1$$=$addParamsToUrl$$module$src$url$$($JSCompiler_url$jscomp$inline_577$$,$JSCompiler_paramsToAdd$jscomp$inline_581$$)}else $JSCompiler_StaticMethods_addReplaceParamsIfMissing_$self_JSCompiler_temp$jscomp$124_replaceParams$jscomp$1$$=
$orig$$;return $JSCompiler_StaticMethods_addReplaceParamsIfMissing_$self_JSCompiler_temp$jscomp$124_replaceParams$jscomp$1$$}
function $JSCompiler_StaticMethods_getAccessValue_$$($JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$,$getter$jscomp$1$$,$expr$jscomp$8$$){$JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$=$JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$.ampdoc.getHeadNode();return Promise.all([$getElementServiceIfAvailableForDoc$$module$src$element_service$$($JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$,"access","amp-access"),$getElementServiceIfAvailableForDoc$$module$src$element_service$$($JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$,
"subscriptions","amp-subscriptions")]).then(function($JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$){$JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$=$JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$[0]||$JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$[1];return $JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$?$getter$jscomp$1$$($JSCompiler_StaticMethods_getAccessValue_$self_element$jscomp$163$$):($user$$module$src$log$$().error("UrlReplacements",
"Access or subsciptions service is not installed to access: ",$expr$jscomp$8$$),null)})}
function $JSCompiler_StaticMethods_getQueryParamData_$$($JSCompiler_StaticMethods_getQueryParamData_$self_replaceParams$jscomp$2$$,$key$jscomp$67_param$jscomp$11$$,$defaultValue$jscomp$4$$){$userAssert$$module$src$log$$($key$jscomp$67_param$jscomp$11$$,"The first argument to QUERY_PARAM, the query string param is required");var $params$jscomp$10_url$jscomp$84$$=$parseUrlDeprecated$$module$src$url$$($removeAmpJsParamsFromUrl$$module$src$url$$($JSCompiler_StaticMethods_getQueryParamData_$self_replaceParams$jscomp$2$$.ampdoc.win.location.href));$params$jscomp$10_url$jscomp$84$$=
$parseQueryString_$$module$src$url_parse_query_string$$($params$jscomp$10_url$jscomp$84$$.search);$key$jscomp$67_param$jscomp$11$$=$user$$module$src$log$$().assertString($key$jscomp$67_param$jscomp$11$$);$JSCompiler_StaticMethods_getQueryParamData_$self_replaceParams$jscomp$2$$=$Services$$module$src$services$documentInfoForDoc$$($JSCompiler_StaticMethods_getQueryParamData_$self_replaceParams$jscomp$2$$.ampdoc).replaceParams;return"undefined"!==typeof $params$jscomp$10_url$jscomp$84$$[$key$jscomp$67_param$jscomp$11$$]?
$params$jscomp$10_url$jscomp$84$$[$key$jscomp$67_param$jscomp$11$$]:$JSCompiler_StaticMethods_getQueryParamData_$self_replaceParams$jscomp$2$$&&"undefined"!==typeof $JSCompiler_StaticMethods_getQueryParamData_$self_replaceParams$jscomp$2$$[$key$jscomp$67_param$jscomp$11$$]?$JSCompiler_StaticMethods_getQueryParamData_$self_replaceParams$jscomp$2$$[$key$jscomp$67_param$jscomp$11$$]:$defaultValue$jscomp$4$$}
function $JSCompiler_StaticMethods_getVariantsValue_$$($JSCompiler_StaticMethods_getVariantsValue_$self$$,$getter$jscomp$2$$,$expr$jscomp$9$$){return $getElementServiceIfAvailableForDoc$$module$src$element_service$$($JSCompiler_StaticMethods_getVariantsValue_$self$$.ampdoc.getHeadNode(),"variant","amp-experiment",!0).then(function($JSCompiler_StaticMethods_getVariantsValue_$self$$){$userAssert$$module$src$log$$($JSCompiler_StaticMethods_getVariantsValue_$self$$,"To use variable %s, amp-experiment should be configured",
$expr$jscomp$9$$);return $JSCompiler_StaticMethods_getVariantsValue_$self$$.getVariants()}).then(function($JSCompiler_StaticMethods_getVariantsValue_$self$$){return $getter$jscomp$2$$($JSCompiler_StaticMethods_getVariantsValue_$self$$)})}
function $JSCompiler_StaticMethods_getGeo_$$($JSCompiler_StaticMethods_getGeo_$self_element$jscomp$164$$,$getter$jscomp$3$$){$JSCompiler_StaticMethods_getGeo_$self_element$jscomp$164$$=$JSCompiler_StaticMethods_getGeo_$self_element$jscomp$164$$.ampdoc.getHeadNode();return $getElementServiceIfAvailableForDoc$$module$src$element_service$$($JSCompiler_StaticMethods_getGeo_$self_element$jscomp$164$$,"geo","amp-geo",!0).then(function($JSCompiler_StaticMethods_getGeo_$self_element$jscomp$164$$){$userAssert$$module$src$log$$($JSCompiler_StaticMethods_getGeo_$self_element$jscomp$164$$,
"To use variable %s, amp-geo should be configured","AMP_GEO");return $getter$jscomp$3$$($JSCompiler_StaticMethods_getGeo_$self_element$jscomp$164$$)})}
function $JSCompiler_StaticMethods_getShareTrackingValue_$$($JSCompiler_StaticMethods_getShareTrackingValue_$self$$,$getter$jscomp$4$$,$expr$jscomp$11$$){$JSCompiler_StaticMethods_getShareTrackingValue_$self$$.$shareTrackingFragments_$||($JSCompiler_StaticMethods_getShareTrackingValue_$self$$.$shareTrackingFragments_$=$getElementServiceIfAvailable$$module$src$element_service$$($JSCompiler_StaticMethods_getShareTrackingValue_$self$$.ampdoc.win,"share-tracking","amp-share-tracking"));return $JSCompiler_StaticMethods_getShareTrackingValue_$self$$.$shareTrackingFragments_$.then(function($JSCompiler_StaticMethods_getShareTrackingValue_$self$$){$userAssert$$module$src$log$$($JSCompiler_StaticMethods_getShareTrackingValue_$self$$,
"To use variable %s, amp-share-tracking should be configured",$expr$jscomp$11$$);return $getter$jscomp$4$$($JSCompiler_StaticMethods_getShareTrackingValue_$self$$)})}
function $JSCompiler_StaticMethods_getStoryValue_$$($JSCompiler_StaticMethods_getStoryValue_$self$$,$property$jscomp$8$$,$name$jscomp$155$$){return function(){return $getElementServiceIfAvailable$$module$src$element_service$$($JSCompiler_StaticMethods_getStoryValue_$self$$.ampdoc.win,"story-variable","amp-story").then(function($JSCompiler_StaticMethods_getStoryValue_$self$$){$userAssert$$module$src$log$$($JSCompiler_StaticMethods_getStoryValue_$self$$,"To use variable %s amp-story should be configured",
$name$jscomp$155$$);return $JSCompiler_StaticMethods_getStoryValue_$self$$[$property$jscomp$8$$]})}}
function $JSCompiler_StaticMethods_getViewerIntegrationValue_$$($JSCompiler_StaticMethods_getViewerIntegrationValue_$self$$,$property$jscomp$9$$,$name$jscomp$156$$){return function($param$jscomp$12$$,$defaultValue$jscomp$5$$){$defaultValue$jscomp$5$$=void 0===$defaultValue$jscomp$5$$?"":$defaultValue$jscomp$5$$;return $getElementServiceIfAvailable$$module$src$element_service$$($JSCompiler_StaticMethods_getViewerIntegrationValue_$self$$.ampdoc.win,"viewer-integration-variable","amp-viewer-integration").then(function($JSCompiler_StaticMethods_getViewerIntegrationValue_$self$$){$userAssert$$module$src$log$$($JSCompiler_StaticMethods_getViewerIntegrationValue_$self$$,
"To use variable %s amp-viewer-integration must be installed",$name$jscomp$156$$);return $JSCompiler_StaticMethods_getViewerIntegrationValue_$self$$[$property$jscomp$9$$]($param$jscomp$12$$,$defaultValue$jscomp$5$$)})}}function $UrlReplacements$$module$src$service$url_replacements_impl$$($ampdoc$jscomp$66$$,$variableSource$jscomp$1$$){this.ampdoc=$ampdoc$jscomp$66$$;this.$variableSource_$=$variableSource$jscomp$1$$}$JSCompiler_prototypeAlias$$=$UrlReplacements$$module$src$service$url_replacements_impl$$.prototype;
$JSCompiler_prototypeAlias$$.expandStringSync=function($source$jscomp$20$$,$opt_bindings$jscomp$2$$,$opt_collectVars$jscomp$1$$,$opt_whiteList$jscomp$3$$){return(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$2$$,$opt_collectVars$jscomp$1$$,!0,$opt_whiteList$jscomp$3$$,!0)).expand($source$jscomp$20$$)};
$JSCompiler_prototypeAlias$$.expandStringAsync=function($source$jscomp$21$$,$opt_bindings$jscomp$3$$,$opt_whiteList$jscomp$4$$){return(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$3$$,void 0,void 0,$opt_whiteList$jscomp$4$$,!0)).expand($source$jscomp$21$$)};
$JSCompiler_prototypeAlias$$.expandUrlSync=function($url$jscomp$85$$,$opt_bindings$jscomp$4$$,$opt_collectVars$jscomp$2$$,$opt_whiteList$jscomp$5$$){return $JSCompiler_StaticMethods_ensureProtocolMatches_$$($url$jscomp$85$$,(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$4$$,$opt_collectVars$jscomp$2$$,!0,$opt_whiteList$jscomp$5$$)).expand($url$jscomp$85$$))};
$JSCompiler_prototypeAlias$$.expandUrlAsync=function($url$jscomp$86$$,$opt_bindings$jscomp$5$$,$opt_whiteList$jscomp$6$$){return(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$5$$,void 0,void 0,$opt_whiteList$jscomp$6$$)).expand($url$jscomp$86$$).then(function($opt_bindings$jscomp$5$$){return $JSCompiler_StaticMethods_ensureProtocolMatches_$$($url$jscomp$86$$,$opt_bindings$jscomp$5$$)})};
$JSCompiler_prototypeAlias$$.expandInputValueAsync=function($element$jscomp$165$$){return $JSCompiler_StaticMethods_expandInputValue_$$(this,$element$jscomp$165$$,!1)};$JSCompiler_prototypeAlias$$.expandInputValueSync=function($element$jscomp$166$$){return $JSCompiler_StaticMethods_expandInputValue_$$(this,$element$jscomp$166$$,!0)};
function $JSCompiler_StaticMethods_expandInputValue_$$($JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$,$element$jscomp$167$$,$opt_sync$jscomp$1$$){"INPUT"==$element$jscomp$167$$.tagName&&$element$jscomp$167$$.getAttribute("type");var $whitelist$jscomp$2$$=$JSCompiler_StaticMethods_getWhitelistForElement_$$($element$jscomp$167$$);if(!$whitelist$jscomp$2$$)return $opt_sync$jscomp$1$$?$element$jscomp$167$$.value:Promise.resolve($element$jscomp$167$$.value);void 0===$element$jscomp$167$$["amp-original-value"]&&
($element$jscomp$167$$["amp-original-value"]=$element$jscomp$167$$.value);$JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$=(new $Expander$$module$src$service$url_expander$expander$$($JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$.$variableSource_$,void 0,void 0,$opt_sync$jscomp$1$$,$whitelist$jscomp$2$$)).expand($element$jscomp$167$$["amp-original-value"]||$element$jscomp$167$$.value);return $opt_sync$jscomp$1$$?$element$jscomp$167$$.value=$JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$:
$JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$.then(function($JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$){return $element$jscomp$167$$.value=$JSCompiler_StaticMethods_expandInputValue_$self_result$jscomp$10$$})}
function $JSCompiler_StaticMethods_getWhitelistForElement_$$($element$jscomp$168_whitelist$jscomp$3$$,$opt_supportedReplacement$$){if($element$jscomp$168_whitelist$jscomp$3$$=$element$jscomp$168_whitelist$jscomp$3$$.getAttribute("data-amp-replace")){var $requestedReplacements$$={};$element$jscomp$168_whitelist$jscomp$3$$.trim().split(/\s+/).forEach(function($element$jscomp$168_whitelist$jscomp$3$$){!$opt_supportedReplacement$$||$hasOwn_$$module$src$utils$object$$.call($opt_supportedReplacement$$,
$element$jscomp$168_whitelist$jscomp$3$$)?$requestedReplacements$$[$element$jscomp$168_whitelist$jscomp$3$$]=!0:$user$$module$src$log$$().warn("URL","Ignoring unsupported replacement",$element$jscomp$168_whitelist$jscomp$3$$)});return $requestedReplacements$$}}
$JSCompiler_prototypeAlias$$.maybeExpandLink=function($element$jscomp$169$$,$defaultUrlParams$$){var $supportedReplacements$$={CLIENT_ID:!0,QUERY_PARAM:!0,PAGE_VIEW_ID:!0,NAV_TIMING:!0},$additionalUrlParameters$$=$element$jscomp$169$$.getAttribute("data-amp-addparams")||"",$whitelist$jscomp$5$$=$JSCompiler_StaticMethods_getWhitelistForElement_$$($element$jscomp$169$$,$supportedReplacements$$);if($whitelist$jscomp$5$$||$additionalUrlParameters$$||$defaultUrlParams$$){var $href$jscomp$1$$=$element$jscomp$169$$["amp-original-href"]||
$element$jscomp$169$$.getAttribute("href"),$JSCompiler_inline_result$jscomp$175_url$jscomp$88$$=$parseUrlDeprecated$$module$src$url$$($href$jscomp$1$$);null==$element$jscomp$169$$["amp-original-href"]&&($element$jscomp$169$$["amp-original-href"]=$href$jscomp$1$$);$additionalUrlParameters$$&&($href$jscomp$1$$=$addParamsToUrl$$module$src$url$$($href$jscomp$1$$,$parseQueryString_$$module$src$url_parse_query_string$$($additionalUrlParameters$$)));a:{var $JSCompiler_docInfo$jscomp$inline_587_JSCompiler_meta$jscomp$inline_588_JSCompiler_whitelist$jscomp$inline_589$$=
$Services$$module$src$services$documentInfoForDoc$$(this.ampdoc);if($JSCompiler_inline_result$jscomp$175_url$jscomp$88$$.origin==$parseUrlDeprecated$$module$src$url$$($JSCompiler_docInfo$jscomp$inline_587_JSCompiler_meta$jscomp$inline_588_JSCompiler_whitelist$jscomp$inline_589$$.canonicalUrl).origin||$JSCompiler_inline_result$jscomp$175_url$jscomp$88$$.origin==$parseUrlDeprecated$$module$src$url$$($JSCompiler_docInfo$jscomp$inline_587_JSCompiler_meta$jscomp$inline_588_JSCompiler_whitelist$jscomp$inline_589$$.sourceUrl).origin)$JSCompiler_inline_result$jscomp$175_url$jscomp$88$$=
!0;else{if(($JSCompiler_docInfo$jscomp$inline_587_JSCompiler_meta$jscomp$inline_588_JSCompiler_whitelist$jscomp$inline_589$$=this.ampdoc.getRootNode().querySelector("meta[name=amp-link-variable-allowed-origin]"))&&$JSCompiler_docInfo$jscomp$inline_587_JSCompiler_meta$jscomp$inline_588_JSCompiler_whitelist$jscomp$inline_589$$.hasAttribute("content")){$JSCompiler_docInfo$jscomp$inline_587_JSCompiler_meta$jscomp$inline_588_JSCompiler_whitelist$jscomp$inline_589$$=$JSCompiler_docInfo$jscomp$inline_587_JSCompiler_meta$jscomp$inline_588_JSCompiler_whitelist$jscomp$inline_589$$.getAttribute("content").trim().split(/\s+/);
for(var $JSCompiler_i$jscomp$inline_590$$=0;$JSCompiler_i$jscomp$inline_590$$<$JSCompiler_docInfo$jscomp$inline_587_JSCompiler_meta$jscomp$inline_588_JSCompiler_whitelist$jscomp$inline_589$$.length;$JSCompiler_i$jscomp$inline_590$$++)if($JSCompiler_inline_result$jscomp$175_url$jscomp$88$$.origin==$parseUrlDeprecated$$module$src$url$$($JSCompiler_docInfo$jscomp$inline_587_JSCompiler_meta$jscomp$inline_588_JSCompiler_whitelist$jscomp$inline_589$$[$JSCompiler_i$jscomp$inline_590$$]).origin){$JSCompiler_inline_result$jscomp$175_url$jscomp$88$$=
!0;break a}}$JSCompiler_inline_result$jscomp$175_url$jscomp$88$$=!1}}var $isAllowedOrigin$$=$JSCompiler_inline_result$jscomp$175_url$jscomp$88$$;if(!$isAllowedOrigin$$)return $whitelist$jscomp$5$$&&$user$$module$src$log$$().warn("URL","Ignoring link replacement",$href$jscomp$1$$," because the link does not go to the document's source, canonical, or whitelisted origin."),$element$jscomp$169$$.href=$href$jscomp$1$$;if($defaultUrlParams$$){if(!$whitelist$jscomp$5$$||!$whitelist$jscomp$5$$.QUERY_PARAM){var $overrideWhitelist$$=
{QUERY_PARAM:!0};$defaultUrlParams$$=this.expandUrlSync($defaultUrlParams$$,void 0,void 0,$overrideWhitelist$$)}$href$jscomp$1$$=$addParamsToUrl$$module$src$url$$($href$jscomp$1$$,$parseQueryString_$$module$src$url_parse_query_string$$($defaultUrlParams$$))}$whitelist$jscomp$5$$&&($href$jscomp$1$$=this.expandUrlSync($href$jscomp$1$$,void 0,void 0,$whitelist$jscomp$5$$));return $element$jscomp$169$$.href=$href$jscomp$1$$}};
$JSCompiler_prototypeAlias$$.collectVars=function($url$jscomp$89$$,$opt_bindings$jscomp$6$$){var $vars$jscomp$2$$=Object.create(null);return(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$,$opt_bindings$jscomp$6$$,$vars$jscomp$2$$)).expand($url$jscomp$89$$).then(function(){return $vars$jscomp$2$$})};
$JSCompiler_prototypeAlias$$.collectUnwhitelistedVarsSync=function($element$jscomp$170$$){var $url$jscomp$90$$=$element$jscomp$170$$.getAttribute("src"),$macroNames$$=(new $Expander$$module$src$service$url_expander$expander$$(this.$variableSource_$)).getMacroNames($url$jscomp$90$$),$whitelist$jscomp$6$$=$JSCompiler_StaticMethods_getWhitelistForElement_$$($element$jscomp$170$$);return $whitelist$jscomp$6$$?$macroNames$$.filter(function($element$jscomp$170$$){return!$whitelist$jscomp$6$$[$element$jscomp$170$$]}):
$macroNames$$};
function $JSCompiler_StaticMethods_ensureProtocolMatches_$$($url$jscomp$91$$,$replacement$jscomp$3$$){var $newProtocol$$=$parseUrlDeprecated$$module$src$url$$($replacement$jscomp$3$$,!0).protocol,$oldProtocol$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$91$$,!0).protocol;if($newProtocol$$!=$oldProtocol$$)return $user$$module$src$log$$().error("UrlReplacements","Illegal replacement of the protocol: ",$url$jscomp$91$$),$url$jscomp$91$$;$userAssert$$module$src$log$$($isProtocolValid$$module$src$url$$($replacement$jscomp$3$$),"The replacement url has invalid protocol: %s",
$replacement$jscomp$3$$);return $replacement$jscomp$3$$}$JSCompiler_prototypeAlias$$.getVariableSource=function(){return this.$variableSource_$};
function $installUrlReplacementsServiceForDoc$$module$src$service$url_replacements_impl$$($ampdoc$jscomp$67$$){$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$67$$,"url-replace",function($ampdoc$jscomp$67$$){return new $UrlReplacements$$module$src$service$url_replacements_impl$$($ampdoc$jscomp$67$$,new $GlobalVariableSource$$module$src$service$url_replacements_impl$$($ampdoc$jscomp$67$$))})};var $TRIM_ORIGIN_PATTERN_$$module$src$service$viewer_impl$$=/^(https?:\/\/)((www[0-9]*|web|ftp|wap|home|mobile|amp|m)\.)+/i,$TRUSTED_VIEWER_HOSTS$$module$src$service$viewer_impl$$=[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/];
function $Viewer$$module$src$service$viewer_impl$$($ampdoc$jscomp$69_deferred$jscomp$18_newUrl$jscomp$1$$,$opt_initParams$$){var $$jscomp$this$jscomp$122$$=this;this.ampdoc=$ampdoc$jscomp$69_deferred$jscomp$18_newUrl$jscomp$1$$;this.win=$ampdoc$jscomp$69_deferred$jscomp$18_newUrl$jscomp$1$$.win;this.$isIframed_$=$isIframed$$module$src$dom$$(this.win);this.$docState_$=$getService$$module$src$service$$(this.win,"documentState");this.$isRuntimeOn_$=!0;this.$overtakeHistory_$=!1;this.$viewerVisibilityState_$=
this.$visibilityState_$="visible";this.$prerenderSize_$=1;this.$messageObservables_$=$map$$module$src$utils$object$$();this.$messageResponders_$=$map$$module$src$utils$object$$();this.$runtimeOnObservable_$=new $Observable$$module$src$observable$$;this.$visibilityObservable_$=new $Observable$$module$src$observable$$;this.$broadcastObservable_$=new $Observable$$module$src$observable$$;this.$messagingOrigin_$=this.$messageDeliverer_$=null;this.$messageQueue_$=[];this.$params_$={};this.$hashParams_$=
{};this.$lastVisibleTime_$=this.$firstVisibleTime_$=this.$nextVisibleResolve_$=this.$nextVisiblePromise_$=null;$ampdoc$jscomp$69_deferred$jscomp$18_newUrl$jscomp$1$$=new $Deferred$$module$src$utils$promise$$;this.$whenFirstVisiblePromise_$=$ampdoc$jscomp$69_deferred$jscomp$18_newUrl$jscomp$1$$.promise;this.$whenFirstVisibleResolve_$=$ampdoc$jscomp$69_deferred$jscomp$18_newUrl$jscomp$1$$.resolve;$opt_initParams$$?Object.assign(this.$params_$,$opt_initParams$$):(this.win.name&&0==this.win.name.indexOf("__AMP__")&&
$parseParams_$$module$src$service$viewer_impl$$(this.win.name.substring(7),this.$params_$),this.win.location.hash&&($parseParams_$$module$src$service$viewer_impl$$(this.win.location.hash,this.$hashParams_$),Object.assign(this.$params_$,this.$hashParams_$)));this.$isRuntimeOn_$=!parseInt(this.$params_$.off,10);this.$overtakeHistory_$=!(!parseInt(this.$params_$.history,10)&&!this.$overtakeHistory_$);$JSCompiler_StaticMethods_setVisibilityState_$$(this,this.$params_$.visibilityState);this.$prerenderSize_$=
parseInt(this.$params_$.prerenderSize,10)||this.$prerenderSize_$;this.$isCctEmbedded_$=null;this.$isProxyOrigin_$=$isProxyOrigin$$module$src$url$$($parseUrlDeprecated$$module$src$url$$(this.ampdoc.win.location.href));this.$hasBeenVisible_$=this.isVisible();this.$docState_$.onVisibilityChanged(this.$recheckVisibilityState_$.bind(this));var $messagingDeferred$$=new $Deferred$$module$src$utils$promise$$;this.$messagingReadyResolver_$=$messagingDeferred$$.resolve;this.$messagingReadyPromise_$=$JSCompiler_StaticMethods_initMessagingChannel_$$(this,
$messagingDeferred$$.promise);this.$viewerOrigin_$=this.$isTrustedViewer_$=null;this.$unconfirmedReferrerUrl_$=this.isEmbedded()&&"referrer"in this.$params_$&&!1!==$JSCompiler_StaticMethods_isTrustedAncestorOrigins_$$(this)?this.$params_$.referrer:this.win.document.referrer;this.$referrerUrl_$=new Promise(function($ampdoc$jscomp$69_deferred$jscomp$18_newUrl$jscomp$1$$){$$jscomp$this$jscomp$122$$.isEmbedded()&&"referrer"in $$jscomp$this$jscomp$122$$.$params_$?$$jscomp$this$jscomp$122$$.isTrustedViewer().then(function($opt_initParams$$){$opt_initParams$$?
$ampdoc$jscomp$69_deferred$jscomp$18_newUrl$jscomp$1$$($$jscomp$this$jscomp$122$$.$params_$.referrer):($ampdoc$jscomp$69_deferred$jscomp$18_newUrl$jscomp$1$$($$jscomp$this$jscomp$122$$.win.document.referrer),$$jscomp$this$jscomp$122$$.$unconfirmedReferrerUrl_$!=$$jscomp$this$jscomp$122$$.win.document.referrer&&($dev$$module$src$log$$().expectedError("Viewer","Untrusted viewer referrer override: "+$$jscomp$this$jscomp$122$$.$unconfirmedReferrerUrl_$+" at "+$$jscomp$this$jscomp$122$$.$messagingOrigin_$),
$$jscomp$this$jscomp$122$$.$unconfirmedReferrerUrl_$=$$jscomp$this$jscomp$122$$.win.document.referrer))}):$ampdoc$jscomp$69_deferred$jscomp$18_newUrl$jscomp$1$$($$jscomp$this$jscomp$122$$.win.document.referrer)});this.$resolvedViewerUrl_$=$removeFragment$$module$src$url$$(this.win.location.href||"");this.$viewerUrl_$=new Promise(function($ampdoc$jscomp$69_deferred$jscomp$18_newUrl$jscomp$1$$){var $opt_initParams$$=$$jscomp$this$jscomp$122$$.$params_$.viewerUrl;$$jscomp$this$jscomp$122$$.isEmbedded()&&
$opt_initParams$$?$$jscomp$this$jscomp$122$$.isTrustedViewer().then(function($messagingDeferred$$){$messagingDeferred$$?$$jscomp$this$jscomp$122$$.$resolvedViewerUrl_$=$opt_initParams$$:$dev$$module$src$log$$().expectedError("Viewer","Untrusted viewer url override: "+$opt_initParams$$+" at "+$$jscomp$this$jscomp$122$$.$messagingOrigin_$);$ampdoc$jscomp$69_deferred$jscomp$18_newUrl$jscomp$1$$($$jscomp$this$jscomp$122$$.$resolvedViewerUrl_$)}):$ampdoc$jscomp$69_deferred$jscomp$18_newUrl$jscomp$1$$($$jscomp$this$jscomp$122$$.$resolvedViewerUrl_$)});
this.$params_$.click&&($ampdoc$jscomp$69_deferred$jscomp$18_newUrl$jscomp$1$$=$removeFragment$$module$src$url$$(this.win.location.href),$ampdoc$jscomp$69_deferred$jscomp$18_newUrl$jscomp$1$$!=this.win.location.href&&this.win.history.replaceState&&(this.win.location.originalHash||(this.win.location.originalHash=this.win.location.hash),this.win.history.replaceState({},"",$ampdoc$jscomp$69_deferred$jscomp$18_newUrl$jscomp$1$$),delete this.$hashParams_$.click));this.$recheckVisibilityState_$();this.$onVisibilityChange_$();
this.whenFirstVisible().then(function(){$$jscomp$this$jscomp$122$$.maybeUpdateFragmentForCct()})}
function $JSCompiler_StaticMethods_initMessagingChannel_$$($JSCompiler_StaticMethods_initMessagingChannel_$self$$,$messagingPromise$$){var $isEmbedded$$=!(!($JSCompiler_StaticMethods_initMessagingChannel_$self$$.$isIframed_$&&!$JSCompiler_StaticMethods_initMessagingChannel_$self$$.win.AMP_TEST_IFRAME&&($JSCompiler_StaticMethods_initMessagingChannel_$self$$.$params_$.origin||$JSCompiler_StaticMethods_initMessagingChannel_$self$$.$params_$.visibilityState||-1!=$JSCompiler_StaticMethods_initMessagingChannel_$self$$.win.location.search.indexOf("amp_js_v"))||
$JSCompiler_StaticMethods_initMessagingChannel_$self$$.isWebviewEmbedded()||$JSCompiler_StaticMethods_initMessagingChannel_$self$$.isCctEmbedded())&&$JSCompiler_StaticMethods_initMessagingChannel_$self$$.ampdoc.isSingleDoc());return $isEmbedded$$?$Services$$module$src$services$timerFor$$($JSCompiler_StaticMethods_initMessagingChannel_$self$$.win).timeoutPromise(2E4,$messagingPromise$$).catch(function($JSCompiler_StaticMethods_initMessagingChannel_$self$$){$JSCompiler_StaticMethods_initMessagingChannel_$self$$=
$getChannelError$$module$src$service$viewer_impl$$($JSCompiler_StaticMethods_initMessagingChannel_$self$$);$reportError$$module$src$error$$($JSCompiler_StaticMethods_initMessagingChannel_$self$$);throw $JSCompiler_StaticMethods_initMessagingChannel_$self$$;}):null}$JSCompiler_prototypeAlias$$=$Viewer$$module$src$service$viewer_impl$$.prototype;
$JSCompiler_prototypeAlias$$.$onVisibilityChange_$=function(){if(this.isVisible()){var $now$jscomp$10$$=Date.now();this.$firstVisibleTime_$||(this.$firstVisibleTime_$=$now$jscomp$10$$);this.$lastVisibleTime_$=$now$jscomp$10$$;this.$hasBeenVisible_$=!0;this.$whenFirstVisibleResolve_$();this.$nextVisibleResolve_$&&(this.$nextVisibleResolve_$(),this.$nextVisiblePromise_$=this.$nextVisibleResolve_$=null)}this.$visibilityObservable_$.fire()};$JSCompiler_prototypeAlias$$.getParam=function($name$jscomp$157$$){return this.$params_$[$name$jscomp$157$$]};
$JSCompiler_prototypeAlias$$.hasCapability=function($name$jscomp$158$$){var $capabilities$$=this.$params_$.cap;return $capabilities$$?-1!=$capabilities$$.split(",").indexOf($name$jscomp$158$$):!1};$JSCompiler_prototypeAlias$$.isEmbedded=function(){return!!this.$messagingReadyPromise_$};$JSCompiler_prototypeAlias$$.isWebviewEmbedded=function(){return!this.$isIframed_$&&"1"==this.$params_$.webview};
$JSCompiler_prototypeAlias$$.isCctEmbedded=function(){if(null!=this.$isCctEmbedded_$)return this.$isCctEmbedded_$;this.$isCctEmbedded_$=!1;if(!this.$isIframed_$){var $queryParams$$=$parseQueryString_$$module$src$url_parse_query_string$$(this.win.location.search);this.$isCctEmbedded_$="1"===$queryParams$$.amp_gsa&&$startsWith$$module$src$string$$($queryParams$$.amp_js_v||"","a")}return this.$isCctEmbedded_$};$JSCompiler_prototypeAlias$$.isProxyOrigin=function(){return this.$isProxyOrigin_$};
$JSCompiler_prototypeAlias$$.maybeUpdateFragmentForCct=function(){if(this.isCctEmbedded()&&this.win.history.replaceState){var $sourceOrigin$jscomp$2$$=$getSourceOrigin$$module$src$url$$(this.win.location.href),$canonicalUrl$jscomp$3$$=$Services$$module$src$services$documentInfoForDoc$$(this.ampdoc).canonicalUrl,$canonicalSourceOrigin$$=$getSourceOrigin$$module$src$url$$($canonicalUrl$jscomp$3$$);$JSCompiler_StaticMethods_hasRoughlySameOrigin_$$($sourceOrigin$jscomp$2$$,$canonicalSourceOrigin$$)&&
(this.$hashParams_$.ampshare=$canonicalUrl$jscomp$3$$,this.win.history.replaceState({},"","#"+$serializeQueryString$$module$src$url$$(this.$hashParams_$)))}};
function $JSCompiler_StaticMethods_hasRoughlySameOrigin_$$($first$jscomp$6$$,$second$jscomp$2$$){function $trimOrigin$$($first$jscomp$6$$){return 2<$first$jscomp$6$$.split(".").length?$first$jscomp$6$$.replace($TRIM_ORIGIN_PATTERN_$$module$src$service$viewer_impl$$,"$1"):$first$jscomp$6$$}return $trimOrigin$$($first$jscomp$6$$)==$trimOrigin$$($second$jscomp$2$$)}$JSCompiler_prototypeAlias$$.isRuntimeOn=function(){return this.$isRuntimeOn_$};
$JSCompiler_prototypeAlias$$.toggleRuntime=function(){this.$isRuntimeOn_$=!this.$isRuntimeOn_$;this.$runtimeOnObservable_$.fire(this.$isRuntimeOn_$)};$JSCompiler_prototypeAlias$$.onRuntimeState=function($handler$jscomp$24$$){return this.$runtimeOnObservable_$.add($handler$jscomp$24$$)};$JSCompiler_prototypeAlias$$.isOvertakeHistory=function(){return this.$overtakeHistory_$};$JSCompiler_prototypeAlias$$.getVisibilityState=function(){return this.$visibilityState_$};
$JSCompiler_prototypeAlias$$.$recheckVisibilityState_$=function(){$JSCompiler_StaticMethods_setVisibilityState_$$(this,this.$viewerVisibilityState_$)};
function $JSCompiler_StaticMethods_setVisibilityState_$$($JSCompiler_StaticMethods_setVisibilityState_$self$$,$state$jscomp$26$$){if($state$jscomp$26$$){var $oldState$jscomp$3$$=$JSCompiler_StaticMethods_setVisibilityState_$self$$.$visibilityState_$;$state$jscomp$26$$=$dev$$module$src$log$$().assertEnumValue($VisibilityState$$module$src$visibility_state$$,$state$jscomp$26$$,"VisibilityState");"hidden"===$state$jscomp$26$$&&($state$jscomp$26$$=$JSCompiler_StaticMethods_setVisibilityState_$self$$.$hasBeenVisible_$?
"inactive":"prerender");$JSCompiler_StaticMethods_setVisibilityState_$self$$.$viewerVisibilityState_$=$state$jscomp$26$$;!$JSCompiler_StaticMethods_setVisibilityState_$self$$.$docState_$.isHidden()||"visible"!==$state$jscomp$26$$&&"paused"!==$state$jscomp$26$$||($state$jscomp$26$$="hidden");$JSCompiler_StaticMethods_setVisibilityState_$self$$.$visibilityState_$=$state$jscomp$26$$;$oldState$jscomp$3$$!==$state$jscomp$26$$&&$JSCompiler_StaticMethods_setVisibilityState_$self$$.$onVisibilityChange_$()}}
$JSCompiler_prototypeAlias$$.isVisible=function(){return"visible"==this.getVisibilityState()};$JSCompiler_prototypeAlias$$.hasBeenVisible=function(){return this.$hasBeenVisible_$};$JSCompiler_prototypeAlias$$.whenFirstVisible=function(){return this.$whenFirstVisiblePromise_$};
$JSCompiler_prototypeAlias$$.whenNextVisible=function(){if(this.isVisible())return Promise.resolve();if(this.$nextVisiblePromise_$)return this.$nextVisiblePromise_$;var $deferred$jscomp$19$$=new $Deferred$$module$src$utils$promise$$;this.$nextVisibleResolve_$=$deferred$jscomp$19$$.resolve;return this.$nextVisiblePromise_$=$deferred$jscomp$19$$.promise};$JSCompiler_prototypeAlias$$.getFirstVisibleTime=function(){return this.$firstVisibleTime_$};$JSCompiler_prototypeAlias$$.getLastVisibleTime=function(){return this.$lastVisibleTime_$};
$JSCompiler_prototypeAlias$$.getPrerenderSize=function(){return this.$prerenderSize_$};$JSCompiler_prototypeAlias$$.getResolvedViewerUrl=function(){return this.$resolvedViewerUrl_$};$JSCompiler_prototypeAlias$$.getViewerUrl=function(){return this.$viewerUrl_$};$JSCompiler_prototypeAlias$$.maybeGetMessagingOrigin=function(){return this.$messagingOrigin_$};$JSCompiler_prototypeAlias$$.getUnconfirmedReferrerUrl=function(){return this.$unconfirmedReferrerUrl_$};
$JSCompiler_prototypeAlias$$.getReferrerUrl=function(){return this.$referrerUrl_$};
$JSCompiler_prototypeAlias$$.isTrustedViewer=function(){if(!this.$isTrustedViewer_$){var $isTrustedAncestorOrigins$$=$JSCompiler_StaticMethods_isTrustedAncestorOrigins_$$(this);this.$isTrustedViewer_$=void 0!==$isTrustedAncestorOrigins$$?Promise.resolve($isTrustedAncestorOrigins$$):this.$messagingReadyPromise_$.then(function($isTrustedAncestorOrigins$$){return $isTrustedAncestorOrigins$$?$JSCompiler_StaticMethods_isTrustedViewerOrigin_$$($isTrustedAncestorOrigins$$):!1})}return this.$isTrustedViewer_$};
function $JSCompiler_StaticMethods_isTrustedAncestorOrigins_$$($JSCompiler_StaticMethods_isTrustedAncestorOrigins_$self$$){if(!$JSCompiler_StaticMethods_isTrustedAncestorOrigins_$self$$.isEmbedded())return!1;if($JSCompiler_StaticMethods_isTrustedAncestorOrigins_$self$$.win.location.ancestorOrigins&&!$JSCompiler_StaticMethods_isTrustedAncestorOrigins_$self$$.isWebviewEmbedded()&&!$JSCompiler_StaticMethods_isTrustedAncestorOrigins_$self$$.isCctEmbedded())return 0<$JSCompiler_StaticMethods_isTrustedAncestorOrigins_$self$$.win.location.ancestorOrigins.length&&
$JSCompiler_StaticMethods_isTrustedViewerOrigin_$$($JSCompiler_StaticMethods_isTrustedAncestorOrigins_$self$$.win.location.ancestorOrigins[0])}
$JSCompiler_prototypeAlias$$.getViewerOrigin=function(){if(!this.$viewerOrigin_$){var $origin$jscomp$14$$;this.isEmbedded()?this.win.location.ancestorOrigins&&0<this.win.location.ancestorOrigins.length&&($origin$jscomp$14$$=this.win.location.ancestorOrigins[0]):$origin$jscomp$14$$="";this.$viewerOrigin_$=void 0!==$origin$jscomp$14$$?Promise.resolve($origin$jscomp$14$$):$Services$$module$src$services$timerFor$$(this.win).timeoutPromise(1E3,this.$messagingReadyPromise_$).catch(function(){return""})}return this.$viewerOrigin_$};
function $JSCompiler_StaticMethods_isTrustedViewerOrigin_$$($protocol$jscomp$2_urlString$jscomp$5$$){var $url$jscomp$92$$=$parseUrlDeprecated$$module$src$url$$($protocol$jscomp$2_urlString$jscomp$5$$);$protocol$jscomp$2_urlString$jscomp$5$$=$url$jscomp$92$$.protocol;return"x-thread:"==$protocol$jscomp$2_urlString$jscomp$5$$?!0:"https:"!=$protocol$jscomp$2_urlString$jscomp$5$$?!1:$TRUSTED_VIEWER_HOSTS$$module$src$service$viewer_impl$$.some(function($protocol$jscomp$2_urlString$jscomp$5$$){return $protocol$jscomp$2_urlString$jscomp$5$$.test($url$jscomp$92$$.hostname)})}
$JSCompiler_prototypeAlias$$.onVisibilityChanged=function($handler$jscomp$25$$){return this.$visibilityObservable_$.add($handler$jscomp$25$$)};$JSCompiler_prototypeAlias$$.onMessage=function($eventType$jscomp$11$$,$handler$jscomp$26$$){var $observable$$=this.$messageObservables_$[$eventType$jscomp$11$$];$observable$$||($observable$$=new $Observable$$module$src$observable$$,this.$messageObservables_$[$eventType$jscomp$11$$]=$observable$$);return $observable$$.add($handler$jscomp$26$$)};
$JSCompiler_prototypeAlias$$.onMessageRespond=function($eventType$jscomp$12$$,$responder$$){var $$jscomp$this$jscomp$124$$=this;this.$messageResponders_$[$eventType$jscomp$12$$]=$responder$$;return function(){$$jscomp$this$jscomp$124$$.$messageResponders_$[$eventType$jscomp$12$$]===$responder$$&&delete $$jscomp$this$jscomp$124$$.$messageResponders_$[$eventType$jscomp$12$$]}};
$JSCompiler_prototypeAlias$$.receiveMessage=function($eventType$jscomp$13_responder$jscomp$1$$,$data$jscomp$83$$){if("visibilitychange"==$eventType$jscomp$13_responder$jscomp$1$$)return void 0!==$data$jscomp$83$$.prerenderSize&&(this.$prerenderSize_$=$data$jscomp$83$$.prerenderSize),$JSCompiler_StaticMethods_setVisibilityState_$$(this,$data$jscomp$83$$.state),Promise.resolve();if("broadcast"==$eventType$jscomp$13_responder$jscomp$1$$)return this.$broadcastObservable_$.fire($data$jscomp$83$$),Promise.resolve();
var $observable$jscomp$1$$=this.$messageObservables_$[$eventType$jscomp$13_responder$jscomp$1$$];$observable$jscomp$1$$&&$observable$jscomp$1$$.fire($data$jscomp$83$$);if($eventType$jscomp$13_responder$jscomp$1$$=this.$messageResponders_$[$eventType$jscomp$13_responder$jscomp$1$$])return $eventType$jscomp$13_responder$jscomp$1$$($data$jscomp$83$$);if($observable$jscomp$1$$)return Promise.resolve()};
$JSCompiler_prototypeAlias$$.setMessageDeliverer=function($deliverer$$,$origin$jscomp$15_queue$jscomp$6$$){var $$jscomp$this$jscomp$125$$=this;if(this.$messageDeliverer_$)throw Error("message channel can only be initialized once");if(null==$origin$jscomp$15_queue$jscomp$6$$)throw Error("message channel must have an origin");this.$messageDeliverer_$=$deliverer$$;this.$messagingOrigin_$=$origin$jscomp$15_queue$jscomp$6$$;this.$messagingReadyResolver_$($origin$jscomp$15_queue$jscomp$6$$);0<this.$messageQueue_$.length&&
($origin$jscomp$15_queue$jscomp$6$$=this.$messageQueue_$.slice(0),this.$messageQueue_$=[],$origin$jscomp$15_queue$jscomp$6$$.forEach(function($deliverer$$){var $origin$jscomp$15_queue$jscomp$6$$=$$jscomp$this$jscomp$125$$.$messageDeliverer_$($deliverer$$.eventType,$deliverer$$.data,$deliverer$$.awaitResponse);$deliverer$$.awaitResponse&&$deliverer$$.responseResolver($origin$jscomp$15_queue$jscomp$6$$)}))};
$JSCompiler_prototypeAlias$$.sendMessage=function($eventType$jscomp$14$$,$data$jscomp$84$$,$cancelUnsent$$){$cancelUnsent$$=void 0===$cancelUnsent$$?!1:$cancelUnsent$$;$JSCompiler_StaticMethods_sendMessageInternal_$$(this,$eventType$jscomp$14$$,$data$jscomp$84$$,$cancelUnsent$$,!1)};
$JSCompiler_prototypeAlias$$.sendMessageAwaitResponse=function($eventType$jscomp$15$$,$data$jscomp$85$$,$cancelUnsent$jscomp$1$$){return $JSCompiler_StaticMethods_sendMessageInternal_$$(this,$eventType$jscomp$15$$,$data$jscomp$85$$,void 0===$cancelUnsent$jscomp$1$$?!1:$cancelUnsent$jscomp$1$$,!0)};
function $JSCompiler_StaticMethods_sendMessageInternal_$$($JSCompiler_StaticMethods_sendMessageInternal_$self$$,$eventType$jscomp$16$$,$data$jscomp$86$$,$$jscomp$destructuring$var114_cancelUnsent$jscomp$2_message$jscomp$43$$,$awaitResponse$$){if($JSCompiler_StaticMethods_sendMessageInternal_$self$$.$messageDeliverer_$)return $tryResolve$$module$src$utils$promise$$(function(){return $JSCompiler_StaticMethods_sendMessageInternal_$self$$.$messageDeliverer_$($eventType$jscomp$16$$,$data$jscomp$86$$,$awaitResponse$$)});
if(!$JSCompiler_StaticMethods_sendMessageInternal_$self$$.$messagingReadyPromise_$)return $awaitResponse$$?Promise.reject($getChannelError$$module$src$service$viewer_impl$$()):Promise.resolve();if(!$$jscomp$destructuring$var114_cancelUnsent$jscomp$2_message$jscomp$43$$)return $JSCompiler_StaticMethods_sendMessageInternal_$self$$.$messagingReadyPromise_$.then(function(){return $JSCompiler_StaticMethods_sendMessageInternal_$self$$.$messageDeliverer_$($eventType$jscomp$16$$,$data$jscomp$86$$,$awaitResponse$$)});
var $found$$=$findIndex$$module$src$utils$array$$($JSCompiler_StaticMethods_sendMessageInternal_$self$$.$messageQueue_$,function($JSCompiler_StaticMethods_sendMessageInternal_$self$$){return $JSCompiler_StaticMethods_sendMessageInternal_$self$$.eventType==$eventType$jscomp$16$$});if(-1!=$found$$)$$jscomp$destructuring$var114_cancelUnsent$jscomp$2_message$jscomp$43$$=$JSCompiler_StaticMethods_sendMessageInternal_$self$$.$messageQueue_$.splice($found$$,1)[0],$$jscomp$destructuring$var114_cancelUnsent$jscomp$2_message$jscomp$43$$.data=
$data$jscomp$86$$,$$jscomp$destructuring$var114_cancelUnsent$jscomp$2_message$jscomp$43$$.awaitResponse=$$jscomp$destructuring$var114_cancelUnsent$jscomp$2_message$jscomp$43$$.awaitResponse||$awaitResponse$$;else{$$jscomp$destructuring$var114_cancelUnsent$jscomp$2_message$jscomp$43$$=new $Deferred$$module$src$utils$promise$$;var $responseResolver$$=$$jscomp$destructuring$var114_cancelUnsent$jscomp$2_message$jscomp$43$$.resolve;$$jscomp$destructuring$var114_cancelUnsent$jscomp$2_message$jscomp$43$$=
{eventType:$eventType$jscomp$16$$,data:$data$jscomp$86$$,awaitResponse:$awaitResponse$$,responsePromise:$$jscomp$destructuring$var114_cancelUnsent$jscomp$2_message$jscomp$43$$.promise,responseResolver:$responseResolver$$}}$JSCompiler_StaticMethods_sendMessageInternal_$self$$.$messageQueue_$.push($$jscomp$destructuring$var114_cancelUnsent$jscomp$2_message$jscomp$43$$);return $$jscomp$destructuring$var114_cancelUnsent$jscomp$2_message$jscomp$43$$.responsePromise}
$JSCompiler_prototypeAlias$$.broadcast=function($message$jscomp$44$$){return this.$messagingReadyPromise_$?$JSCompiler_StaticMethods_sendMessageInternal_$$(this,"broadcast",$message$jscomp$44$$,!1,!1).then(function(){return!0},function(){return!1}):Promise.resolve(!1)};$JSCompiler_prototypeAlias$$.onBroadcast=function($handler$jscomp$27$$){return this.$broadcastObservable_$.add($handler$jscomp$27$$)};$JSCompiler_prototypeAlias$$.whenMessagingReady=function(){return this.$messagingReadyPromise_$};
$JSCompiler_prototypeAlias$$.replaceUrl=function($newUrl$jscomp$2$$){if($newUrl$jscomp$2$$&&this.ampdoc.isSingleDoc()&&this.win.history.replaceState)try{var $url$jscomp$93$$=$parseUrlDeprecated$$module$src$url$$(this.win.location.href),$replaceUrl$$=$parseUrlDeprecated$$module$src$url$$($removeFragment$$module$src$url$$($newUrl$jscomp$2$$)+this.win.location.hash);$url$jscomp$93$$.origin==$replaceUrl$$.origin&&$getSourceOrigin$$module$src$url$$($url$jscomp$93$$)==$getSourceOrigin$$module$src$url$$($replaceUrl$$)&&
(this.win.history.replaceState({},"",$replaceUrl$$.href),this.win.location.originalHref=$url$jscomp$93$$.href)}catch($e$jscomp$83$$){$dev$$module$src$log$$().error("Viewer","replaceUrl failed",$e$jscomp$83$$)}};
function $parseParams_$$module$src$service$viewer_impl$$($params$jscomp$11_str$jscomp$16$$,$allParams$$){$params$jscomp$11_str$jscomp$16$$=$parseQueryString_$$module$src$url_parse_query_string$$($params$jscomp$11_str$jscomp$16$$);for(var $k$jscomp$11$$ in $params$jscomp$11_str$jscomp$16$$)$allParams$$[$k$jscomp$11$$]=$params$jscomp$11_str$jscomp$16$$[$k$jscomp$11$$]}
function $getChannelError$$module$src$service$viewer_impl$$($opt_reason$jscomp$3$$){return $opt_reason$jscomp$3$$ instanceof Error?($opt_reason$jscomp$3$$=$duplicateErrorIfNecessary$$module$src$log$$($opt_reason$jscomp$3$$),$opt_reason$jscomp$3$$.message="No messaging channel: "+$opt_reason$jscomp$3$$.message,$opt_reason$jscomp$3$$):Error("No messaging channel: "+$opt_reason$jscomp$3$$)}
function $installViewerServiceForDoc$$module$src$service$viewer_impl$$($ampdoc$jscomp$70$$,$opt_initParams$jscomp$1$$){$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$70$$,"viewer",function(){return new $Viewer$$module$src$service$viewer_impl$$($ampdoc$jscomp$70$$,$opt_initParams$jscomp$1$$)},!0)};function $bezierCurve$$module$src$curve$$($x1$jscomp$6$$,$y1$jscomp$6$$,$x2$jscomp$3$$,$y2$jscomp$3$$){var $bezier$$=new $Bezier$$module$src$curve$$($x1$jscomp$6$$,$y1$jscomp$6$$,$x2$jscomp$3$$,$y2$jscomp$3$$);return $bezier$$.solveYValueFromXValue.bind($bezier$$)}
function $Bezier$$module$src$curve$$($x1$jscomp$7$$,$y1$jscomp$7$$,$x2$jscomp$4$$,$y2$jscomp$4$$){var $x3$$=1,$y3$$=1;this.y0=this.x0=0;this.x1=$x1$jscomp$7$$;this.y1=$y1$jscomp$7$$;this.x2=$x2$jscomp$4$$;this.y2=$y2$jscomp$4$$;this.x3=$x3$$;this.y3=$y3$$}$JSCompiler_prototypeAlias$$=$Bezier$$module$src$curve$$.prototype;$JSCompiler_prototypeAlias$$.solveYValueFromXValue=function($xVal$$){return this.getPointY(this.solvePositionFromXValue($xVal$$))};
$JSCompiler_prototypeAlias$$.solvePositionFromXValue=function($xVal$jscomp$1$$){var $epsilon$$=1E-6,$t$jscomp$1$$=($xVal$jscomp$1$$-this.x0)/(this.x3-this.x0);if(0>=$t$jscomp$1$$)return 0;if(1<=$t$jscomp$1$$)return 1;for(var $tMin$$=0,$tMax$$=1,$value$jscomp$141$$=0,$i$64_i$jscomp$103$$=0;8>$i$64_i$jscomp$103$$;$i$64_i$jscomp$103$$++){$value$jscomp$141$$=this.getPointX($t$jscomp$1$$);var $derivative$$=(this.getPointX($t$jscomp$1$$+$epsilon$$)-$value$jscomp$141$$)/$epsilon$$;if(Math.abs($value$jscomp$141$$-
$xVal$jscomp$1$$)<$epsilon$$)return $t$jscomp$1$$;if(Math.abs($derivative$$)<$epsilon$$)break;else $value$jscomp$141$$<$xVal$jscomp$1$$?$tMin$$=$t$jscomp$1$$:$tMax$$=$t$jscomp$1$$,$t$jscomp$1$$-=($value$jscomp$141$$-$xVal$jscomp$1$$)/$derivative$$}for($i$64_i$jscomp$103$$=0;Math.abs($value$jscomp$141$$-$xVal$jscomp$1$$)>$epsilon$$&&8>$i$64_i$jscomp$103$$;$i$64_i$jscomp$103$$++)$value$jscomp$141$$<$xVal$jscomp$1$$?($tMin$$=$t$jscomp$1$$,$t$jscomp$1$$=($t$jscomp$1$$+$tMax$$)/2):($tMax$$=$t$jscomp$1$$,
$t$jscomp$1$$=($t$jscomp$1$$+$tMin$$)/2),$value$jscomp$141$$=this.getPointX($t$jscomp$1$$);return $t$jscomp$1$$};
$JSCompiler_prototypeAlias$$.getPointX=function($t$jscomp$2$$){if(0==$t$jscomp$2$$)return this.x0;if(1==$t$jscomp$2$$)return this.x3;var $ix0$$=this.lerp(this.x0,this.x1,$t$jscomp$2$$),$ix1$$=this.lerp(this.x1,this.x2,$t$jscomp$2$$),$ix2$$=this.lerp(this.x2,this.x3,$t$jscomp$2$$);$ix0$$=this.lerp($ix0$$,$ix1$$,$t$jscomp$2$$);$ix1$$=this.lerp($ix1$$,$ix2$$,$t$jscomp$2$$);return this.lerp($ix0$$,$ix1$$,$t$jscomp$2$$)};
$JSCompiler_prototypeAlias$$.getPointY=function($t$jscomp$3$$){if(0==$t$jscomp$3$$)return this.y0;if(1==$t$jscomp$3$$)return this.y3;var $iy0$$=this.lerp(this.y0,this.y1,$t$jscomp$3$$),$iy1$$=this.lerp(this.y1,this.y2,$t$jscomp$3$$),$iy2$$=this.lerp(this.y2,this.y3,$t$jscomp$3$$);$iy0$$=this.lerp($iy0$$,$iy1$$,$t$jscomp$3$$);$iy1$$=this.lerp($iy1$$,$iy2$$,$t$jscomp$3$$);return this.lerp($iy0$$,$iy1$$,$t$jscomp$3$$)};
$JSCompiler_prototypeAlias$$.lerp=function($a$jscomp$3$$,$b$jscomp$3$$,$x$jscomp$87$$){return $a$jscomp$3$$+$x$jscomp$87$$*($b$jscomp$3$$-$a$jscomp$3$$)};
var $Curves$$module$src$curve$EASE$$=$bezierCurve$$module$src$curve$$(.25,.1,.25,1),$Curves$$module$src$curve$EASE_IN$$=$bezierCurve$$module$src$curve$$(.42,0,1,1),$Curves$$module$src$curve$EASE_OUT$$=$bezierCurve$$module$src$curve$$(0,0,.58,1),$Curves$$module$src$curve$EASE_IN_OUT$$=$bezierCurve$$module$src$curve$$(.42,0,.58,1),$NAME_MAP$$module$src$curve$$={linear:function($n$jscomp$14$$){return $n$jscomp$14$$},ease:$Curves$$module$src$curve$EASE$$,"ease-in":$Curves$$module$src$curve$EASE_IN$$,
"ease-out":$Curves$$module$src$curve$EASE_OUT$$,"ease-in-out":$Curves$$module$src$curve$EASE_IN_OUT$$};
function $getCurve$$module$src$curve$$($curve$$){if(!$curve$$)return null;if("string"==typeof $curve$$){if(-1!=$curve$$.indexOf("cubic-bezier")){var $match$jscomp$6_values$jscomp$15$$=$curve$$.match(/cubic-bezier\((.+)\)/);if($match$jscomp$6_values$jscomp$15$$&&($match$jscomp$6_values$jscomp$15$$=$match$jscomp$6_values$jscomp$15$$[1].split(",").map(parseFloat),4==$match$jscomp$6_values$jscomp$15$$.length)){for(var $i$jscomp$104$$=0;4>$i$jscomp$104$$;$i$jscomp$104$$++)if(isNaN($match$jscomp$6_values$jscomp$15$$[$i$jscomp$104$$]))return null;
return $bezierCurve$$module$src$curve$$($match$jscomp$6_values$jscomp$15$$[0],$match$jscomp$6_values$jscomp$15$$[1],$match$jscomp$6_values$jscomp$15$$[2],$match$jscomp$6_values$jscomp$15$$[3])}return null}return $NAME_MAP$$module$src$curve$$[$curve$$]}return $curve$$};function $NOOP_CALLBACK$$module$src$animation$$(){}function $Animation$$module$src$animation$$($contextNode$jscomp$2$$){var $opt_vsync$$;this.$contextNode_$=$contextNode$jscomp$2$$;this.$vsync_$=$opt_vsync$$||$Services$$module$src$services$vsyncFor$$(self);this.$curve_$=null;this.$segments_$=[]}
function $Animation$$module$src$animation$animate$$($contextNode$jscomp$3$$,$transition$jscomp$2$$,$duration$jscomp$1$$,$opt_curve$$){return(new $Animation$$module$src$animation$$($contextNode$jscomp$3$$)).setCurve($opt_curve$$).add(0,$transition$jscomp$2$$,1).start($duration$jscomp$1$$)}$Animation$$module$src$animation$$.prototype.setCurve=function($curve$jscomp$1$$){$curve$jscomp$1$$&&(this.$curve_$=$getCurve$$module$src$curve$$($curve$jscomp$1$$));return this};
$Animation$$module$src$animation$$.prototype.add=function($delay$jscomp$5$$,$transition$jscomp$3$$,$duration$jscomp$2$$,$opt_curve$jscomp$1$$){this.$segments_$.push({delay:$delay$jscomp$5$$,func:$transition$jscomp$3$$,duration:$duration$jscomp$2$$,curve:$getCurve$$module$src$curve$$($opt_curve$jscomp$1$$)});return this};
$Animation$$module$src$animation$$.prototype.start=function($duration$jscomp$3$$){var $player$$=new $AnimationPlayer$$module$src$animation$$(this.$vsync_$,this.$contextNode_$,this.$segments_$,this.$curve_$,$duration$jscomp$3$$);return $player$$};
function $AnimationPlayer$$module$src$animation$$($vsync$$,$contextNode$jscomp$4_i$jscomp$105$$,$segments$$,$defaultCurve$$,$deferred$jscomp$21_duration$jscomp$4$$){this.$vsync_$=$vsync$$;this.$contextNode_$=$contextNode$jscomp$4_i$jscomp$105$$;this.$segments_$=[];for($contextNode$jscomp$4_i$jscomp$105$$=0;$contextNode$jscomp$4_i$jscomp$105$$<$segments$$.length;$contextNode$jscomp$4_i$jscomp$105$$++){var $segment$$=$segments$$[$contextNode$jscomp$4_i$jscomp$105$$];this.$segments_$.push({delay:$segment$$.delay,
func:$segment$$.func,duration:$segment$$.duration,curve:$segment$$.curve||$defaultCurve$$,started:!1,completed:!1})}this.$duration_$=$deferred$jscomp$21_duration$jscomp$4$$;this.$startTime_$=Date.now();this.$running_$=!0;this.$state_$={};$deferred$jscomp$21_duration$jscomp$4$$=new $Deferred$$module$src$utils$promise$$;this.$promise_$=$deferred$jscomp$21_duration$jscomp$4$$.promise;this.$resolve_$=$deferred$jscomp$21_duration$jscomp$4$$.resolve;this.$reject_$=$deferred$jscomp$21_duration$jscomp$4$$.reject;
this.$task_$=this.$vsync_$.createAnimTask(this.$contextNode_$,{mutate:this.$stepMutate_$.bind(this)});this.$vsync_$.canAnimate(this.$contextNode_$)?this.$task_$(this.$state_$):($dev$$module$src$log$$().warn("Animation","cannot animate"),this.$complete_$(!1,0))}$JSCompiler_prototypeAlias$$=$AnimationPlayer$$module$src$animation$$.prototype;
$JSCompiler_prototypeAlias$$.then=function($opt_resolve$jscomp$1$$,$opt_reject$jscomp$1$$){return $opt_resolve$jscomp$1$$||$opt_reject$jscomp$1$$?this.$promise_$.then($opt_resolve$jscomp$1$$,$opt_reject$jscomp$1$$):this.$promise_$};
$JSCompiler_prototypeAlias$$.thenAlways=function($callback$jscomp$93_opt_callback$jscomp$8$$){$callback$jscomp$93_opt_callback$jscomp$8$$=$callback$jscomp$93_opt_callback$jscomp$8$$||$NOOP_CALLBACK$$module$src$animation$$;return this.then($callback$jscomp$93_opt_callback$jscomp$8$$,$callback$jscomp$93_opt_callback$jscomp$8$$)};$JSCompiler_prototypeAlias$$.halt=function($opt_dir$$){this.$complete_$(!1,$opt_dir$$||0)};
$JSCompiler_prototypeAlias$$.$complete_$=function($success$jscomp$4$$,$dir$jscomp$1_i$jscomp$106$$){if(this.$running_$){this.$running_$=!1;if(0!=$dir$jscomp$1_i$jscomp$106$$){1<this.$segments_$.length&&this.$segments_$.sort(function($success$jscomp$4$$,$dir$jscomp$1_i$jscomp$106$$){return $success$jscomp$4$$.delay+$success$jscomp$4$$.duration-($dir$jscomp$1_i$jscomp$106$$.delay+$dir$jscomp$1_i$jscomp$106$$.duration)});try{if(0<$dir$jscomp$1_i$jscomp$106$$)for($dir$jscomp$1_i$jscomp$106$$=0;$dir$jscomp$1_i$jscomp$106$$<
this.$segments_$.length;$dir$jscomp$1_i$jscomp$106$$++)this.$segments_$[$dir$jscomp$1_i$jscomp$106$$].func(1,!0);else for(var $i$65$$=this.$segments_$.length-1;0<=$i$65$$;$i$65$$--)this.$segments_$[$i$65$$].func(0,!1)}catch($e$jscomp$84$$){$dev$$module$src$log$$().error("Animation","completion failed: "+$e$jscomp$84$$,$e$jscomp$84$$),$success$jscomp$4$$=!1}}$success$jscomp$4$$?this.$resolve_$():this.$reject_$()}};
$JSCompiler_prototypeAlias$$.$stepMutate_$=function(){if(this.$running_$){for(var $currentTime$$=Date.now(),$normLinearTime$$=Math.min(($currentTime$$-this.$startTime_$)/this.$duration_$,1),$i$66_i$jscomp$107$$=0;$i$66_i$jscomp$107$$<this.$segments_$.length;$i$66_i$jscomp$107$$++){var $segment$67_segment$jscomp$1$$=this.$segments_$[$i$66_i$jscomp$107$$];!$segment$67_segment$jscomp$1$$.started&&$normLinearTime$$>=$segment$67_segment$jscomp$1$$.delay&&($segment$67_segment$jscomp$1$$.started=!0)}for($i$66_i$jscomp$107$$=
0;$i$66_i$jscomp$107$$<this.$segments_$.length;$i$66_i$jscomp$107$$++)if($segment$67_segment$jscomp$1$$=this.$segments_$[$i$66_i$jscomp$107$$],$segment$67_segment$jscomp$1$$.started&&!$segment$67_segment$jscomp$1$$.completed)a:{var $JSCompiler_normLinearTime$jscomp$inline_597$$;if(0<$segment$67_segment$jscomp$1$$.duration){var $JSCompiler_normTime$jscomp$inline_598$$=$JSCompiler_normLinearTime$jscomp$inline_597$$=Math.min(($normLinearTime$$-$segment$67_segment$jscomp$1$$.delay)/$segment$67_segment$jscomp$1$$.duration,
1);if($segment$67_segment$jscomp$1$$.curve&&1!=$JSCompiler_normTime$jscomp$inline_598$$)try{$JSCompiler_normTime$jscomp$inline_598$$=$segment$67_segment$jscomp$1$$.curve($JSCompiler_normLinearTime$jscomp$inline_597$$)}catch($JSCompiler_e$jscomp$inline_599$$){$dev$$module$src$log$$().error("Animation","step curve failed: "+$JSCompiler_e$jscomp$inline_599$$,$JSCompiler_e$jscomp$inline_599$$);this.$complete_$(!1,0);break a}}else $JSCompiler_normTime$jscomp$inline_598$$=$JSCompiler_normLinearTime$jscomp$inline_597$$=
1;1==$JSCompiler_normLinearTime$jscomp$inline_597$$&&($segment$67_segment$jscomp$1$$.completed=!0);try{$segment$67_segment$jscomp$1$$.func($JSCompiler_normTime$jscomp$inline_598$$,$segment$67_segment$jscomp$1$$.completed)}catch($e$68$jscomp$inline_600$$){$dev$$module$src$log$$().error("Animation","step mutate failed: "+$e$68$jscomp$inline_600$$,$e$68$jscomp$inline_600$$),this.$complete_$(!1,0)}}1==$normLinearTime$$?this.$complete_$(!0,0):this.$vsync_$.canAnimate(this.$contextNode_$)?this.$task_$(this.$state_$):
($dev$$module$src$log$$().warn("Animation","cancel animation"),this.$complete_$(!1,0))}};function $isLightbox$$module$src$service$fixed_layer$$($el$jscomp$15$$){return-1!==$el$jscomp$15$$.tagName.indexOf("LIGHTBOX")}
function $FixedLayer$$module$src$service$fixed_layer$$($ampdoc$jscomp$71$$,$vsync$jscomp$1$$,$borderTop$$,$paddingTop$$,$transfer$jscomp$3$$){var $$jscomp$this$jscomp$127$$=this;this.ampdoc=$ampdoc$jscomp$71$$;this.$vsync_$=$vsync$jscomp$1$$;this.$borderTop_$=$borderTop$$;this.$committedPaddingTop_$=this.$paddingTop_$=$paddingTop$$;this.$transfer_$=$transfer$jscomp$3$$&&$ampdoc$jscomp$71$$.isSingleDoc();this.$transferLayer_$=null;this.$counter_$=0;this.$elements_$=[];this.$updatePass_$=new $Pass$$module$src$pass$$($ampdoc$jscomp$71$$.win,
function(){$$jscomp$this$jscomp$127$$.update()});this.$hiddenObserverUnlistener_$=null;this.$fixedSelectors_$=[];this.$stickySelectors_$=[]}$JSCompiler_prototypeAlias$$=$FixedLayer$$module$src$service$fixed_layer$$.prototype;
$JSCompiler_prototypeAlias$$.enterLightbox=function($opt_lightbox$$,$opt_onComplete$$){var $$jscomp$this$jscomp$128$$=this,$transferLayer$$=$JSCompiler_StaticMethods_getTransferLayer_$$(this);$transferLayer$$&&$transferLayer$$.setLightboxMode(!0);$isExperimentOn$$module$src$experiments$$(this.ampdoc.win,"fixed-elements-in-lightbox")&&$opt_lightbox$$&&$opt_onComplete$$&&$opt_onComplete$$.then(function(){$$jscomp$this$jscomp$128$$.trySetupSelectorsNoInline($opt_lightbox$$,!0);$JSCompiler_StaticMethods_sortInDomOrder_$$($$jscomp$this$jscomp$128$$);
$$jscomp$this$jscomp$128$$.update()})};
$JSCompiler_prototypeAlias$$.leaveLightbox=function(){var $transferLayer$jscomp$1$$=$JSCompiler_StaticMethods_getTransferLayer_$$(this);$transferLayer$jscomp$1$$&&$transferLayer$jscomp$1$$.setLightboxMode(!1);if($isExperimentOn$$module$src$experiments$$(this.ampdoc.win,"fixed-elements-in-lightbox")){var $fes$$=$remove$$module$src$utils$array$$(this.$elements_$,function($transferLayer$jscomp$1$$){return!!$transferLayer$jscomp$1$$.lightboxed});$JSCompiler_StaticMethods_returnFixedElements_$$(this,$fes$$);
this.$elements_$.length||$JSCompiler_StaticMethods_unobserveHiddenMutations_$$(this)}};
$JSCompiler_prototypeAlias$$.setup=function(){var $platform$jscomp$2_root$jscomp$16$$=this.ampdoc.getRootNode(),$stylesheets$$=$platform$jscomp$2_root$jscomp$16$$.styleSheets;if($stylesheets$$){this.$fixedSelectors_$.length=0;for(var $i$jscomp$108$$=this.$stickySelectors_$.length=0;$i$jscomp$108$$<$stylesheets$$.length;$i$jscomp$108$$++){var $stylesheet$jscomp$2$$=$stylesheets$$[$i$jscomp$108$$];if(!$stylesheet$jscomp$2$$){$dev$$module$src$log$$().error("FixedLayer","Aborting setup due to null stylesheet.");
return}var $$jscomp$destructuring$var115$$=$stylesheet$jscomp$2$$,$disabled$$=$$jscomp$destructuring$var115$$.disabled,$ownerNode$$=$$jscomp$destructuring$var115$$.ownerNode;$disabled$$||!$ownerNode$$||"STYLE"!=$ownerNode$$.tagName||$ownerNode$$.hasAttribute("amp-boilerplate")||$ownerNode$$.hasAttribute("amp-runtime")||$ownerNode$$.hasAttribute("amp-extension")||$JSCompiler_StaticMethods_discoverSelectors_$$(this,$stylesheet$jscomp$2$$.cssRules)}this.trySetupSelectorsNoInline($platform$jscomp$2_root$jscomp$16$$,
void 0);$JSCompiler_StaticMethods_sortInDomOrder_$$(this);this.update();0<this.$elements_$.length&&this.observeHiddenMutations();$platform$jscomp$2_root$jscomp$16$$=$Services$$module$src$services$platformFor$$(this.ampdoc.win);0<this.$elements_$.length&&!this.$transfer_$&&$platform$jscomp$2_root$jscomp$16$$.isIos()&&$user$$module$src$log$$().warn("FixedLayer","Please test this page inside of an AMP Viewer such as Google's because the fixed or sticky positioning might have slightly different layout.")}};
$JSCompiler_prototypeAlias$$.observeHiddenMutations=function(){$isExperimentOn$$module$src$experiments$$(this.ampdoc.win,"hidden-mutation-observer")&&$JSCompiler_StaticMethods_initHiddenObserver_$$(this)};
function $JSCompiler_StaticMethods_unobserveHiddenMutations_$$($JSCompiler_StaticMethods_unobserveHiddenMutations_$self$$){$JSCompiler_StaticMethods_unobserveHiddenMutations_$self$$.$updatePass_$.cancel();var $unlisten$jscomp$6$$=$JSCompiler_StaticMethods_unobserveHiddenMutations_$self$$.$hiddenObserverUnlistener_$;$unlisten$jscomp$6$$&&($unlisten$jscomp$6$$(),$JSCompiler_StaticMethods_unobserveHiddenMutations_$self$$.$hiddenObserverUnlistener_$=null)}
function $JSCompiler_StaticMethods_initHiddenObserver_$$($JSCompiler_StaticMethods_initHiddenObserver_$self$$){if(!$JSCompiler_StaticMethods_initHiddenObserver_$self$$.$hiddenObserverUnlistener_$){var $root$jscomp$17$$=$JSCompiler_StaticMethods_initHiddenObserver_$self$$.ampdoc.getRootNode();$JSCompiler_StaticMethods_initHiddenObserver_$self$$.$hiddenObserverUnlistener_$=$getExistingServiceForDocInEmbedScope$$module$src$service$$($root$jscomp$17$$.documentElement||$root$jscomp$17$$,"hidden-observer").add(function(){$JSCompiler_StaticMethods_initHiddenObserver_$self$$.$updatePass_$.isPending()||
$JSCompiler_StaticMethods_initHiddenObserver_$self$$.$updatePass_$.schedule(16)})}}$JSCompiler_prototypeAlias$$.updatePaddingTop=function($paddingTop$jscomp$1$$,$opt_transient$$){this.$paddingTop_$=$paddingTop$jscomp$1$$;$opt_transient$$||(this.$committedPaddingTop_$=$paddingTop$jscomp$1$$);this.update()};
$JSCompiler_prototypeAlias$$.transformMutate=function($transform$jscomp$1$$){$transform$jscomp$1$$?this.$elements_$.forEach(function($e$jscomp$86$$){$e$jscomp$86$$.fixedNow&&$e$jscomp$86$$.top&&($setStyle$$module$src$style$$($e$jscomp$86$$.element,"transition","none"),$e$jscomp$86$$.transform&&"none"!=$e$jscomp$86$$.transform?$setStyle$$module$src$style$$($e$jscomp$86$$.element,"transform",$e$jscomp$86$$.transform+" "+$transform$jscomp$1$$):$setStyle$$module$src$style$$($e$jscomp$86$$.element,"transform",
$transform$jscomp$1$$))}):this.$elements_$.forEach(function($transform$jscomp$1$$){$transform$jscomp$1$$.fixedNow&&$transform$jscomp$1$$.top&&$setStyles$$module$src$style$$($transform$jscomp$1$$.element,{transform:"",transition:""})})};
$JSCompiler_prototypeAlias$$.addElement=function($element$jscomp$172$$,$opt_forceTransfer$$){$JSCompiler_StaticMethods_setupElement_$$(this,$element$jscomp$172$$,"*","fixed",$opt_forceTransfer$$);$JSCompiler_StaticMethods_sortInDomOrder_$$(this);this.observeHiddenMutations();return this.update()};
$JSCompiler_prototypeAlias$$.removeElement=function($element$jscomp$173_fes$jscomp$1$$){$element$jscomp$173_fes$jscomp$1$$=$JSCompiler_StaticMethods_tearDownElement_$$(this,$element$jscomp$173_fes$jscomp$1$$);$JSCompiler_StaticMethods_returnFixedElements_$$(this,$element$jscomp$173_fes$jscomp$1$$)};
function $JSCompiler_StaticMethods_returnFixedElements_$$($JSCompiler_StaticMethods_returnFixedElements_$self$$,$fes$jscomp$2$$){0<$fes$jscomp$2$$.length&&$JSCompiler_StaticMethods_returnFixedElements_$self$$.$transferLayer_$&&$JSCompiler_StaticMethods_returnFixedElements_$self$$.$vsync_$.mutate(function(){for(var $i$jscomp$109$$=0;$i$jscomp$109$$<$fes$jscomp$2$$.length;$i$jscomp$109$$++){var $fe$jscomp$1$$=$fes$jscomp$2$$[$i$jscomp$109$$];"fixed"==$fe$jscomp$1$$.position&&$JSCompiler_StaticMethods_returnFixedElements_$self$$.$transferLayer_$.returnFrom($fe$jscomp$1$$)}})}
$JSCompiler_prototypeAlias$$.isDeclaredFixed=function($element$jscomp$174$$){return!!$element$jscomp$174$$.__AMP_DECLFIXED};$JSCompiler_prototypeAlias$$.isDeclaredSticky=function($element$jscomp$175$$){return!!$element$jscomp$175$$.__AMP_DECLSTICKY};
$JSCompiler_prototypeAlias$$.update=function(){var $$jscomp$this$jscomp$131$$=this;this.$elements_$.filter(function($hasTransferables$$){return!$$jscomp$this$jscomp$131$$.ampdoc.contains($hasTransferables$$.element)}).forEach(function($hasTransferables$$){return $JSCompiler_StaticMethods_tearDownElement_$$($$jscomp$this$jscomp$131$$,$hasTransferables$$.element)});if(0==this.$elements_$.length)return Promise.resolve();this.$updatePass_$.cancel();var $hasTransferables$$=!1;return this.$vsync_$.runPromise({measure:function($state$jscomp$28$$){for(var $elements$jscomp$12$$=
$$jscomp$this$jscomp$131$$.$elements_$,$autoTops$$=[],$win$jscomp$192$$=$$jscomp$this$jscomp$131$$.ampdoc.win,$i$69_i$70_i$71_i$jscomp$110$$=0;$i$69_i$70_i$71_i$jscomp$110$$<$elements$jscomp$12$$.length;$i$69_i$70_i$71_i$jscomp$110$$++)$setImportantStyles$$module$src$style$$($elements$jscomp$12$$[$i$69_i$70_i$71_i$jscomp$110$$].element,{top:"",bottom:"-9999vh",transition:"none"});for($i$69_i$70_i$71_i$jscomp$110$$=0;$i$69_i$70_i$71_i$jscomp$110$$<$elements$jscomp$12$$.length;$i$69_i$70_i$71_i$jscomp$110$$++)$autoTops$$.push($computedStyle$$module$src$style$$($win$jscomp$192$$,
$elements$jscomp$12$$[$i$69_i$70_i$71_i$jscomp$110$$].element).top);for($i$69_i$70_i$71_i$jscomp$110$$=0;$i$69_i$70_i$71_i$jscomp$110$$<$elements$jscomp$12$$.length;$i$69_i$70_i$71_i$jscomp$110$$++)$setStyle$$module$src$style$$($elements$jscomp$12$$[$i$69_i$70_i$71_i$jscomp$110$$].element,"bottom","");for($i$69_i$70_i$71_i$jscomp$110$$=0;$i$69_i$70_i$71_i$jscomp$110$$<$elements$jscomp$12$$.length;$i$69_i$70_i$71_i$jscomp$110$$++){var $fe$jscomp$4$$=$elements$jscomp$12$$[$i$69_i$70_i$71_i$jscomp$110$$],
$$jscomp$destructuring$var117_style$jscomp$13_top$jscomp$3$$=$fe$jscomp$4$$,$$jscomp$destructuring$var118_bottom$jscomp$1_element$jscomp$176$$=$$jscomp$destructuring$var117_style$jscomp$13_top$jscomp$3$$.element,$forceTransfer$$=$$jscomp$destructuring$var117_style$jscomp$13_top$jscomp$3$$.forceTransfer;$$jscomp$destructuring$var117_style$jscomp$13_top$jscomp$3$$=$computedStyle$$module$src$style$$($win$jscomp$192$$,$$jscomp$destructuring$var118_bottom$jscomp$1_element$jscomp$176$$);var $offsetWidth$$=
$$jscomp$destructuring$var118_bottom$jscomp$1_element$jscomp$176$$.offsetWidth,$offsetHeight$$=$$jscomp$destructuring$var118_bottom$jscomp$1_element$jscomp$176$$.offsetHeight,$offsetTop$$=$$jscomp$destructuring$var118_bottom$jscomp$1_element$jscomp$176$$.offsetTop,$$jscomp$destructuring$var119_transform$jscomp$2$$=$$jscomp$destructuring$var117_style$jscomp$13_top$jscomp$3$$,$position$$=void 0===$$jscomp$destructuring$var119_transform$jscomp$2$$.position?"":$$jscomp$destructuring$var119_transform$jscomp$2$$.position,
$display$$=void 0===$$jscomp$destructuring$var119_transform$jscomp$2$$.display?"":$$jscomp$destructuring$var119_transform$jscomp$2$$.display;$$jscomp$destructuring$var118_bottom$jscomp$1_element$jscomp$176$$=$$jscomp$destructuring$var119_transform$jscomp$2$$.bottom;var $zIndex$$=$$jscomp$destructuring$var119_transform$jscomp$2$$.zIndex,$opacity$$=parseFloat($$jscomp$destructuring$var117_style$jscomp$13_top$jscomp$3$$.opacity);$$jscomp$destructuring$var119_transform$jscomp$2$$=$$jscomp$destructuring$var117_style$jscomp$13_top$jscomp$3$$[$getVendorJsPropertyName$$module$src$style$$($$jscomp$destructuring$var117_style$jscomp$13_top$jscomp$3$$,
"transform")];$$jscomp$destructuring$var117_style$jscomp$13_top$jscomp$3$$=$$jscomp$destructuring$var117_style$jscomp$13_top$jscomp$3$$.top;var $isFixed$jscomp$1$$="fixed"===$position$$&&($forceTransfer$$||0<$offsetWidth$$&&0<$offsetHeight$$),$isSticky$$=$endsWith$$module$src$string$$($position$$,"sticky"),$isDisplayed$$="none"!==$display$$;if($isDisplayed$$&&($isFixed$jscomp$1$$||$isSticky$$)){if("auto"===$$jscomp$destructuring$var117_style$jscomp$13_top$jscomp$3$$||$autoTops$$[$i$69_i$70_i$71_i$jscomp$110$$]!==
$$jscomp$destructuring$var117_style$jscomp$13_top$jscomp$3$$)$$jscomp$destructuring$var117_style$jscomp$13_top$jscomp$3$$=$isFixed$jscomp$1$$&&$offsetTop$$===$$jscomp$this$jscomp$131$$.$committedPaddingTop_$+$$jscomp$this$jscomp$131$$.$borderTop_$?"0px":"";var $isTransferrable$$=!1;$isFixed$jscomp$1$$&&($isTransferrable$$=!0===$forceTransfer$$?!0:!1===$forceTransfer$$?!1:0<$opacity$$&&300>$offsetHeight$$&&!(!$$jscomp$destructuring$var117_style$jscomp$13_top$jscomp$3$$&&!$$jscomp$destructuring$var118_bottom$jscomp$1_element$jscomp$176$$));
$isTransferrable$$&&($hasTransferables$$=!0);$state$jscomp$28$$[$fe$jscomp$4$$.id]={fixed:$isFixed$jscomp$1$$,sticky:$isSticky$$,transferrable:$isTransferrable$$,top:$$jscomp$destructuring$var117_style$jscomp$13_top$jscomp$3$$,zIndex:$zIndex$$,transform:$$jscomp$destructuring$var119_transform$jscomp$2$$}}else $state$jscomp$28$$[$fe$jscomp$4$$.id]={fixed:!1,sticky:!1,transferrable:!1,top:"",zIndex:""}}},mutate:function($state$jscomp$29$$){$hasTransferables$$&&$$jscomp$this$jscomp$131$$.$transfer_$&&
$JSCompiler_StaticMethods_getTransferLayer_$$($$jscomp$this$jscomp$131$$).update();for(var $elements$jscomp$13$$=$$jscomp$this$jscomp$131$$.$elements_$,$i$jscomp$111$$=0;$i$jscomp$111$$<$elements$jscomp$13$$.length;$i$jscomp$111$$++){var $fe$jscomp$5$$=$elements$jscomp$13$$[$i$jscomp$111$$],$feState$$=$state$jscomp$29$$[$fe$jscomp$5$$.id];$setStyle$$module$src$style$$($fe$jscomp$5$$.element,"transition","none");$setStyle$$module$src$style$$($fe$jscomp$5$$.element,"transition","");if($feState$$){var $JSCompiler_index$jscomp$inline_612$$=
$i$jscomp$111$$,$JSCompiler_state$jscomp$inline_613$$=$feState$$,$JSCompiler_element$jscomp$inline_614$$=$fe$jscomp$5$$.element,$JSCompiler_oldFixed$jscomp$inline_615$$=$fe$jscomp$5$$.fixedNow;$fe$jscomp$5$$.fixedNow=$JSCompiler_state$jscomp$inline_613$$.fixed;$fe$jscomp$5$$.stickyNow=$JSCompiler_state$jscomp$inline_613$$.sticky;$fe$jscomp$5$$.top=$JSCompiler_state$jscomp$inline_613$$.fixed||$JSCompiler_state$jscomp$inline_613$$.sticky?$JSCompiler_state$jscomp$inline_613$$.top:"";$fe$jscomp$5$$.transform=
$JSCompiler_state$jscomp$inline_613$$.transform;!$JSCompiler_oldFixed$jscomp$inline_615$$||$JSCompiler_state$jscomp$inline_613$$.fixed&&$JSCompiler_state$jscomp$inline_613$$.transferrable||!$$jscomp$this$jscomp$131$$.$transferLayer_$||$$jscomp$this$jscomp$131$$.$transferLayer_$.returnFrom($fe$jscomp$5$$);$JSCompiler_state$jscomp$inline_613$$.top&&($JSCompiler_state$jscomp$inline_613$$.fixed||$JSCompiler_state$jscomp$inline_613$$.sticky)&&!$fe$jscomp$5$$.lightboxed&&($JSCompiler_state$jscomp$inline_613$$.fixed||
!$$jscomp$this$jscomp$131$$.$transfer_$?$setStyle$$module$src$style$$($JSCompiler_element$jscomp$inline_614$$,"top","calc("+$JSCompiler_state$jscomp$inline_613$$.top+" + "+$$jscomp$this$jscomp$131$$.$paddingTop_$+"px)"):$$jscomp$this$jscomp$131$$.$committedPaddingTop_$===$$jscomp$this$jscomp$131$$.$paddingTop_$?$setStyle$$module$src$style$$($JSCompiler_element$jscomp$inline_614$$,"top",$JSCompiler_state$jscomp$inline_613$$.top):$setStyle$$module$src$style$$($JSCompiler_element$jscomp$inline_614$$,
"top","calc("+$JSCompiler_state$jscomp$inline_613$$.top+" - "+$$jscomp$this$jscomp$131$$.$committedPaddingTop_$+"px)"));$$jscomp$this$jscomp$131$$.$transfer_$&&$JSCompiler_state$jscomp$inline_613$$.fixed&&$JSCompiler_state$jscomp$inline_613$$.transferrable&&$JSCompiler_StaticMethods_getTransferLayer_$$($$jscomp$this$jscomp$131$$).transferTo($fe$jscomp$5$$,$JSCompiler_index$jscomp$inline_612$$,$JSCompiler_state$jscomp$inline_613$$)}}}},{}).catch(function($$jscomp$this$jscomp$131$$){$dev$$module$src$log$$().error("FixedLayer",
"Failed to mutate fixed elements:",$$jscomp$this$jscomp$131$$)})};
$JSCompiler_prototypeAlias$$.trySetupSelectorsNoInline=function($root$jscomp$18$$,$opt_lightboxMode$jscomp$1$$){try{for(var $JSCompiler_i$jscomp$inline_620_i$72$jscomp$inline_624$$=0;$JSCompiler_i$jscomp$inline_620_i$72$jscomp$inline_624$$<this.$fixedSelectors_$.length;$JSCompiler_i$jscomp$inline_620_i$72$jscomp$inline_624$$++)for(var $JSCompiler_fixedSelector$jscomp$inline_621_j$74$jscomp$inline_627$$=this.$fixedSelectors_$[$JSCompiler_i$jscomp$inline_620_i$72$jscomp$inline_624$$],$JSCompiler_elements$jscomp$inline_622$$=
$root$jscomp$18$$.querySelectorAll($JSCompiler_fixedSelector$jscomp$inline_621_j$74$jscomp$inline_627$$),$JSCompiler_j$jscomp$inline_623$$=0;$JSCompiler_j$jscomp$inline_623$$<$JSCompiler_elements$jscomp$inline_622$$.length&&!(10<this.$elements_$.length);$JSCompiler_j$jscomp$inline_623$$++)$JSCompiler_StaticMethods_setupElement_$$(this,$JSCompiler_elements$jscomp$inline_622$$[$JSCompiler_j$jscomp$inline_623$$],$JSCompiler_fixedSelector$jscomp$inline_621_j$74$jscomp$inline_627$$,"fixed",void 0,$opt_lightboxMode$jscomp$1$$);
for($JSCompiler_i$jscomp$inline_620_i$72$jscomp$inline_624$$=0;$JSCompiler_i$jscomp$inline_620_i$72$jscomp$inline_624$$<this.$stickySelectors_$.length;$JSCompiler_i$jscomp$inline_620_i$72$jscomp$inline_624$$++){var $JSCompiler_stickySelector$jscomp$inline_625$$=this.$stickySelectors_$[$JSCompiler_i$jscomp$inline_620_i$72$jscomp$inline_624$$],$elements$73$jscomp$inline_626$$=$root$jscomp$18$$.querySelectorAll($JSCompiler_stickySelector$jscomp$inline_625$$);for($JSCompiler_fixedSelector$jscomp$inline_621_j$74$jscomp$inline_627$$=
0;$JSCompiler_fixedSelector$jscomp$inline_621_j$74$jscomp$inline_627$$<$elements$73$jscomp$inline_626$$.length;$JSCompiler_fixedSelector$jscomp$inline_621_j$74$jscomp$inline_627$$++)$JSCompiler_StaticMethods_setupElement_$$(this,$elements$73$jscomp$inline_626$$[$JSCompiler_fixedSelector$jscomp$inline_621_j$74$jscomp$inline_627$$],$JSCompiler_stickySelector$jscomp$inline_625$$,"sticky",void 0,$opt_lightboxMode$jscomp$1$$)}}catch($e$jscomp$88$$){$dev$$module$src$log$$().error("FixedLayer","Failed to setup fixed elements:",
$e$jscomp$88$$)}};
function $JSCompiler_StaticMethods_setupElement_$$($JSCompiler_StaticMethods_setupElement_$self$$,$element$jscomp$178$$,$selector$jscomp$15$$,$position$jscomp$1$$,$opt_forceTransfer$jscomp$1$$,$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$){$element$jscomp$178$$.hasAttribute("style")&&($getStyle$$module$src$style$$($element$jscomp$178$$,"top")||$getStyle$$module$src$style$$($element$jscomp$178$$,"bottom"))&&$user$$module$src$log$$().error("FixedLayer","Inline styles with `top`, `bottom` and other CSS rules are not supported yet for fixed or sticky elements (#14186). Unexpected behavior may occur.",$element$jscomp$178$$);
if(!$isLightbox$$module$src$service$fixed_layer$$($element$jscomp$178$$)){var $isLightboxDescendant$$=$closest$$module$src$dom$$($element$jscomp$178$$,$isLightbox$$module$src$service$fixed_layer$$);if($fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$||!$isLightboxDescendant$$){$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$=null;for(var $i$jscomp$113_isFixed$jscomp$2$$=0;$i$jscomp$113_isFixed$jscomp$2$$<$JSCompiler_StaticMethods_setupElement_$self$$.$elements_$.length;$i$jscomp$113_isFixed$jscomp$2$$++){var $el$jscomp$16$$=
$JSCompiler_StaticMethods_setupElement_$self$$.$elements_$[$i$jscomp$113_isFixed$jscomp$2$$];if($el$jscomp$16$$.element==$element$jscomp$178$$&&$el$jscomp$16$$.position==$position$jscomp$1$$){$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$=$el$jscomp$16$$;break}}$i$jscomp$113_isFixed$jscomp$2$$="fixed"==$position$jscomp$1$$;$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$?$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$.selectors.includes($selector$jscomp$15$$)||$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$.selectors.push($selector$jscomp$15$$):
($fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$="F"+$JSCompiler_StaticMethods_setupElement_$self$$.$counter_$++,$element$jscomp$178$$.setAttribute("i-amphtml-fixedid",$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$),$i$jscomp$113_isFixed$jscomp$2$$?$element$jscomp$178$$.__AMP_DECLFIXED=!0:$element$jscomp$178$$.__AMP_DECLSTICKY=!0,$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$={id:$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$,element:$element$jscomp$178$$,position:$position$jscomp$1$$,
selectors:[$selector$jscomp$15$$],fixedNow:!1,stickyNow:!1,lightboxed:!!$isLightboxDescendant$$},$JSCompiler_StaticMethods_setupElement_$self$$.$elements_$.push($fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$));$fe$jscomp$6_id$jscomp$41_opt_lightboxMode$jscomp$3$$.forceTransfer=$i$jscomp$113_isFixed$jscomp$2$$?$opt_forceTransfer$jscomp$1$$:!1}}}
function $JSCompiler_StaticMethods_tearDownElement_$$($JSCompiler_StaticMethods_tearDownElement_$self$$,$element$jscomp$179$$){for(var $removed$jscomp$2$$=[],$i$jscomp$114$$=0;$i$jscomp$114$$<$JSCompiler_StaticMethods_tearDownElement_$self$$.$elements_$.length;$i$jscomp$114$$++){var $fe$jscomp$7$$=$JSCompiler_StaticMethods_tearDownElement_$self$$.$elements_$[$i$jscomp$114$$];$fe$jscomp$7$$.element===$element$jscomp$179$$&&($fe$jscomp$7$$.lightboxed||$JSCompiler_StaticMethods_tearDownElement_$self$$.$vsync_$.mutate(function(){$setStyle$$module$src$style$$($element$jscomp$179$$,
"top","")}),$JSCompiler_StaticMethods_tearDownElement_$self$$.$elements_$.splice($i$jscomp$114$$,1),$removed$jscomp$2$$.push($fe$jscomp$7$$))}$JSCompiler_StaticMethods_tearDownElement_$self$$.$elements_$.length||$JSCompiler_StaticMethods_unobserveHiddenMutations_$$($JSCompiler_StaticMethods_tearDownElement_$self$$);return $removed$jscomp$2$$}
function $JSCompiler_StaticMethods_sortInDomOrder_$$($JSCompiler_StaticMethods_sortInDomOrder_$self$$){$JSCompiler_StaticMethods_sortInDomOrder_$self$$.$elements_$.sort(function($JSCompiler_StaticMethods_sortInDomOrder_$self$$,$fe2$$){var $fe1$$=$JSCompiler_StaticMethods_sortInDomOrder_$self$$.element;var $JSCompiler_element2$jscomp$inline_633$$=$fe2$$.element;$fe1$$=$fe1$$===$JSCompiler_element2$jscomp$inline_633$$?0:$fe1$$.compareDocumentPosition($JSCompiler_element2$jscomp$inline_633$$)&$PRECEDING_OR_CONTAINS$$module$src$dom$$?
1:-1;return $fe1$$})}
function $JSCompiler_StaticMethods_getTransferLayer_$$($JSCompiler_StaticMethods_getTransferLayer_$self$$){if(!$JSCompiler_StaticMethods_getTransferLayer_$self$$.$transfer_$||$JSCompiler_StaticMethods_getTransferLayer_$self$$.$transferLayer_$)return $JSCompiler_StaticMethods_getTransferLayer_$self$$.$transferLayer_$;var $doc$jscomp$40$$=$JSCompiler_StaticMethods_getTransferLayer_$self$$.ampdoc.win.document;$JSCompiler_StaticMethods_getTransferLayer_$self$$.$transferLayer_$=$doc$jscomp$40$$.body.shadowRoot?new $TransferLayerShadow$$module$src$service$fixed_layer$$($doc$jscomp$40$$,
$JSCompiler_StaticMethods_getTransferLayer_$self$$.$vsync_$):new $TransferLayerBody$$module$src$service$fixed_layer$$($doc$jscomp$40$$,$JSCompiler_StaticMethods_getTransferLayer_$self$$.$vsync_$);return $JSCompiler_StaticMethods_getTransferLayer_$self$$.$transferLayer_$}
function $JSCompiler_StaticMethods_discoverSelectors_$$($JSCompiler_StaticMethods_discoverSelectors_$self$$,$rules$jscomp$1$$){for(var $i$jscomp$115$$=0;$i$jscomp$115$$<$rules$jscomp$1$$.length;$i$jscomp$115$$++){var $position$jscomp$2_rule$jscomp$7$$=$rules$jscomp$1$$[$i$jscomp$115$$];if(4==$position$jscomp$2_rule$jscomp$7$$.type||12==$position$jscomp$2_rule$jscomp$7$$.type)$JSCompiler_StaticMethods_discoverSelectors_$$($JSCompiler_StaticMethods_discoverSelectors_$self$$,$position$jscomp$2_rule$jscomp$7$$.cssRules);
else if(1==$position$jscomp$2_rule$jscomp$7$$.type){var $selectorText$$=$position$jscomp$2_rule$jscomp$7$$.selectorText;$position$jscomp$2_rule$jscomp$7$$=$position$jscomp$2_rule$jscomp$7$$.style.position;"*"!==$selectorText$$&&$position$jscomp$2_rule$jscomp$7$$&&("fixed"===$position$jscomp$2_rule$jscomp$7$$?$JSCompiler_StaticMethods_discoverSelectors_$self$$.$fixedSelectors_$.push($selectorText$$):$endsWith$$module$src$string$$($position$jscomp$2_rule$jscomp$7$$,"sticky")&&$JSCompiler_StaticMethods_discoverSelectors_$self$$.$stickySelectors_$.push($selectorText$$))}}}
function $TransferLayerBody$$module$src$service$fixed_layer$$($doc$jscomp$41$$,$styles$jscomp$3_vsync$jscomp$2$$){this.$doc_$=$doc$jscomp$41$$;this.$vsync_$=$styles$jscomp$3_vsync$jscomp$2$$;this.$isLightboxExperimentOn_$=$isExperimentOn$$module$src$experiments$$($doc$jscomp$41$$.defaultView,"fixed-elements-in-lightbox");this.$layer_$=$doc$jscomp$41$$.body.cloneNode(!1);this.$layer_$.removeAttribute("style");$styles$jscomp$3_vsync$jscomp$2$$={position:"absolute",top:0,left:0,height:0,width:0,pointerEvents:"none",
overflow:"hidden",animation:"none",background:"none",border:"none",borderImage:"none",boxSizing:"border-box",boxShadow:"none",float:"none",margin:0,opacity:1,outline:"none",padding:"none",transform:"none",transition:"none",visibility:"visible"};this.$isLightboxExperimentOn_$&&delete $styles$jscomp$3_vsync$jscomp$2$$.visibility;$setStyles$$module$src$style$$(this.$layer_$,$assertDoesNotContainDisplay$$module$src$style$$($styles$jscomp$3_vsync$jscomp$2$$));$setInitialDisplay$$module$src$style$$(this.$layer_$);
$doc$jscomp$41$$.documentElement.appendChild(this.$layer_$)}$JSCompiler_prototypeAlias$$=$TransferLayerBody$$module$src$service$fixed_layer$$.prototype;$JSCompiler_prototypeAlias$$.getRoot=function(){return this.$layer_$};
$JSCompiler_prototypeAlias$$.setLightboxMode=function($on$jscomp$3$$){var $$jscomp$this$jscomp$132$$=this;this.$vsync_$.mutate(function(){var $root$jscomp$20$$=$$jscomp$this$jscomp$132$$.getRoot();$$jscomp$this$jscomp$132$$.$isLightboxExperimentOn_$?$on$jscomp$3$$?$root$jscomp$20$$.setAttribute("i-amphtml-lightbox",""):$root$jscomp$20$$.removeAttribute("i-amphtml-lightbox"):$setStyle$$module$src$style$$($root$jscomp$20$$,"visibility",$on$jscomp$3$$?"hidden":"visible")})};
$JSCompiler_prototypeAlias$$.update=function(){for(var $body$jscomp$5$$=this.$doc_$.body,$layer$jscomp$1$$=this.$layer_$,$bodyAttrs$$=$body$jscomp$5$$.attributes,$layerAttrs$$=$layer$jscomp$1$$.attributes,$i$75_i$jscomp$116$$=0;$i$75_i$jscomp$116$$<$bodyAttrs$$.length;$i$75_i$jscomp$116$$++){var $attr$jscomp$6_name$jscomp$159$$=$bodyAttrs$$[$i$75_i$jscomp$116$$];"style"!==$attr$jscomp$6_name$jscomp$159$$.name&&$layerAttrs$$.setNamedItem($attr$jscomp$6_name$jscomp$159$$.cloneNode(!1))}for($i$75_i$jscomp$116$$=
0;$i$75_i$jscomp$116$$<$layerAttrs$$.length;$i$75_i$jscomp$116$$++)$attr$jscomp$6_name$jscomp$159$$=$layerAttrs$$[$i$75_i$jscomp$116$$].name,"style"===$attr$jscomp$6_name$jscomp$159$$||"i-amphtml-lightbox"===$attr$jscomp$6_name$jscomp$159$$||$body$jscomp$5$$.hasAttribute($attr$jscomp$6_name$jscomp$159$$)||($layer$jscomp$1$$.removeAttribute($attr$jscomp$6_name$jscomp$159$$),$i$75_i$jscomp$116$$--)};
$JSCompiler_prototypeAlias$$.transferTo=function($fe$jscomp$9$$,$index$jscomp$83$$,$state$jscomp$31$$){var $element$jscomp$181$$=$fe$jscomp$9$$.element;if($element$jscomp$181$$.parentElement!=this.$layer_$){$user$$module$src$log$$().warn("FixedLayer","In order to improve scrolling performance in Safari, we now move the element to a fixed positioning layer:",$fe$jscomp$9$$.element);if(!$fe$jscomp$9$$.placeholder){$setStyle$$module$src$style$$($element$jscomp$181$$,"pointer-events","initial");var $placeholder$jscomp$4$$=
$fe$jscomp$9$$.placeholder=this.$doc_$.createElement("i-amphtml-fpa");$toggle$$module$src$style$$($placeholder$jscomp$4$$,!1);$placeholder$jscomp$4$$.setAttribute("i-amphtml-fixedid",$fe$jscomp$9$$.id)}$setStyle$$module$src$style$$($element$jscomp$181$$,"zIndex","calc("+(1E4+$index$jscomp$83$$)+" + "+($state$jscomp$31$$.zIndex||0)+")");$fe$jscomp$9$$.lightboxed&&$element$jscomp$181$$.classList.add("i-amphtml-lightbox-element");$element$jscomp$181$$.parentElement.replaceChild($fe$jscomp$9$$.placeholder,
$element$jscomp$181$$);this.$layer_$.appendChild($element$jscomp$181$$);$fe$jscomp$9$$.selectors.some(function($fe$jscomp$9$$){try{var $index$jscomp$83$$=$matches$$module$src$dom$$($element$jscomp$181$$,$fe$jscomp$9$$)}catch($JSCompiler_e$jscomp$inline_639$$){$dev$$module$src$log$$().error("FixedLayer","Failed to test query match:",$JSCompiler_e$jscomp$inline_639$$),$index$jscomp$83$$=!1}return $index$jscomp$83$$})||($user$$module$src$log$$().warn("FixedLayer","Failed to move the element to the fixed position layer. This is most likely due to the compound CSS selector:",
$fe$jscomp$9$$.element),this.returnFrom($fe$jscomp$9$$))}};
$JSCompiler_prototypeAlias$$.returnFrom=function($fe$jscomp$10$$){if($fe$jscomp$10$$.placeholder&&this.$doc_$.contains($fe$jscomp$10$$.placeholder)){var $element$jscomp$182$$=$fe$jscomp$10$$.element,$placeholder$jscomp$5$$=$fe$jscomp$10$$.placeholder;$fe$jscomp$10$$.lightboxed&&$element$jscomp$182$$.classList.remove("i-amphtml-lightbox-element");this.$doc_$.contains($element$jscomp$182$$)?($setStyle$$module$src$style$$($fe$jscomp$10$$.element,"zIndex",""),$placeholder$jscomp$5$$.parentElement.replaceChild($element$jscomp$182$$,
$placeholder$jscomp$5$$)):$placeholder$jscomp$5$$.parentElement.removeChild($placeholder$jscomp$5$$)}};
function $TransferLayerShadow$$module$src$service$fixed_layer$$($doc$jscomp$42$$,$vsync$jscomp$3$$){this.$vsync_$=$vsync$jscomp$3$$;this.$layer_$=$doc$jscomp$42$$.createElement("div");this.$layer_$.id="i-amphtml-fixed-layer";$setImportantStyles$$module$src$style$$(this.$layer_$,{position:"absolute",top:0,left:0,height:0,width:0,overflow:"hidden"});var $slot$$=$doc$jscomp$42$$.createElement("slot");$slot$$.setAttribute("name","i-amphtml-fixed");this.$layer_$.appendChild($slot$$);$doc$jscomp$42$$.body.shadowRoot.appendChild(this.$layer_$)}
$JSCompiler_prototypeAlias$$=$TransferLayerShadow$$module$src$service$fixed_layer$$.prototype;$JSCompiler_prototypeAlias$$.getRoot=function(){return this.$layer_$};$JSCompiler_prototypeAlias$$.setLightboxMode=function($on$jscomp$4$$){var $$jscomp$this$jscomp$134$$=this;this.$vsync_$.mutate(function(){$setStyle$$module$src$style$$($$jscomp$this$jscomp$134$$.getRoot(),"visibility",$on$jscomp$4$$?"hidden":"visible")})};$JSCompiler_prototypeAlias$$.update=function(){};
$JSCompiler_prototypeAlias$$.transferTo=function($fe$jscomp$11$$){var $element$jscomp$184$$=$fe$jscomp$11$$.element;$user$$module$src$log$$().warn("FixedLayer","In order to improve scrolling performance in Safari, we now move the element to a fixed positioning layer:",$fe$jscomp$11$$.element);$element$jscomp$184$$.setAttribute("slot","i-amphtml-fixed")};$JSCompiler_prototypeAlias$$.returnFrom=function($fe$jscomp$12$$){$fe$jscomp$12$$.element.removeAttribute("slot")};var $$jscomp$templatelit$5$$=['\n      <div id="i-amphtml-scroller">\n        <div id="i-amphtml-body-wrapper">\n          <slot></slot>\n        </div>\n      </div>'];$$jscomp$templatelit$5$$.raw=$$jscomp$templatelit$5$$.slice();var $INHERIT_STYLES$$module$src$service$viewport$viewport_binding_ios_embed_sd$$="align-content align-items align-self alignment-baseline backface-visibility box-sizing column-count column-fill column-gap column-rule column-span column-width columns display flex flex-basis flex-direction flex-flow flex-grow flex-shrink flex-wrap gap grid grid-area grid-auto-columns grid-auto-flow grid-auto-rows grid-column grid-gap grid-row grid-template justify-content justify-items justify-self margin order padding perspective perspective-origin place-content place-items place-self table-layout".split(" ");
function $ViewportBindingIosEmbedShadowRoot_$$module$src$service$viewport$viewport_binding_ios_embed_sd$$($doc$jscomp$43_win$jscomp$193$$){var $$jscomp$this$jscomp$135$$=this;this.win=$doc$jscomp$43_win$jscomp$193$$;this.$vsync_$=$Services$$module$src$services$vsyncFor$$($doc$jscomp$43_win$jscomp$193$$);$doc$jscomp$43_win$jscomp$193$$=this.win.document;$doc$jscomp$43_win$jscomp$193$$.documentElement.classList.add("i-amphtml-ios-embed-sd");var $scroller$$=$htmlFor$$module$src$static_template$$($doc$jscomp$43_win$jscomp$193$$)($$jscomp$templatelit$5$$);
this.$scroller_$=$scroller$$;this.$wrapper_$=$scroller$$.firstElementChild;$setInitialDisplay$$module$src$style$$(this.$scroller_$);$setImportantStyles$$module$src$style$$(this.$scroller_$,{"overflow-x":"hidden","overflow-y":"auto",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",margin:"0",width:"100%","box-sizing":"border-box","padding-top":"0px","border-top":"1px solid transparent"});$setImportantStyles$$module$src$style$$(this.$wrapper_$,{overflow:"visible",position:"relative","will-change":"transform"});
this.$scrollObservable_$=new $Observable$$module$src$observable$$;this.$resizeObservable_$=new $Observable$$module$src$observable$$;this.$boundScrollEventListener_$=this.$onScrolled_$.bind(this);this.$boundResizeEventListener_$=this.$onResized_$.bind(this);this.$useLayers_$=$isExperimentOn$$module$src$experiments$$(this.win,"layers");this.$setupDone_$=this.$bodySyncScheduled_$=!1;$waitForBody$$module$src$dom$$($doc$jscomp$43_win$jscomp$193$$,this.$setup_$.bind(this));$whenDocumentReady$$module$src$document_ready$$($doc$jscomp$43_win$jscomp$193$$).then(function(){$$jscomp$this$jscomp$135$$.$scroller_$.classList.add("i-amphtml-ios-overscroll");
$setImportantStyles$$module$src$style$$($$jscomp$this$jscomp$135$$.$scroller_$,{"-webkit-overflow-scrolling":"touch"})})}$JSCompiler_prototypeAlias$$=$ViewportBindingIosEmbedShadowRoot_$$module$src$service$viewport$viewport_binding_ios_embed_sd$$.prototype;$JSCompiler_prototypeAlias$$.ensureReadyForElements=function(){this.$setup_$()};
$JSCompiler_prototypeAlias$$.$setup_$=function(){if(!this.$setupDone_$){this.$setupDone_$=!0;var $body$jscomp$6$$=this.win.document.body;$body$jscomp$6$$.attachShadow({mode:"open"}).appendChild(this.$scroller_$);this.$updateBodyStyles_$();if(this.win.MutationObserver){var $bodyObserver$$=new this.win.MutationObserver(this.$updateBodyStyles_$.bind(this));$bodyObserver$$.observe($body$jscomp$6$$,{attributes:!0})}this.$onScrolled_$()}};
$JSCompiler_prototypeAlias$$.$updateBodyStyles_$=function(){var $$jscomp$this$jscomp$136$$=this;if(!this.$bodySyncScheduled_$){var $body$jscomp$7$$=this.win.document.body;if($body$jscomp$7$$){var $inheritStyles$$={};this.$bodySyncScheduled_$=!0;this.$vsync_$.run({measure:function(){var $bodyStyles$$=$computedStyle$$module$src$style$$($$jscomp$this$jscomp$136$$.win,$body$jscomp$7$$);$INHERIT_STYLES$$module$src$service$viewport$viewport_binding_ios_embed_sd$$.forEach(function($$jscomp$this$jscomp$136$$){$inheritStyles$$[$$jscomp$this$jscomp$136$$]=
$bodyStyles$$[$$jscomp$this$jscomp$136$$]||""})},mutate:function(){$$jscomp$this$jscomp$136$$.$bodySyncScheduled_$=!1;$setImportantStyles$$module$src$style$$($$jscomp$this$jscomp$136$$.$wrapper_$,$assertDoesNotContainDisplay$$module$src$style$$($inheritStyles$$))}})}}};$JSCompiler_prototypeAlias$$.$onResized_$=function(){this.$resizeObservable_$.fire();this.$updateBodyStyles_$()};
$JSCompiler_prototypeAlias$$.connect=function(){this.win.addEventListener("resize",this.$boundResizeEventListener_$);this.$scroller_$.addEventListener("scroll",this.$boundScrollEventListener_$)};$JSCompiler_prototypeAlias$$.disconnect=function(){this.win.removeEventListener("resize",this.$boundResizeEventListener_$);this.$scroller_$.removeEventListener("scroll",this.$boundScrollEventListener_$)};$JSCompiler_prototypeAlias$$.getBorderTop=function(){return 1};
$JSCompiler_prototypeAlias$$.requiresFixedLayerTransfer=function(){return!$isExperimentOn$$module$src$experiments$$(this.win,"ios-embed-sd-notransfer")};$JSCompiler_prototypeAlias$$.supportsPositionFixed=function(){return!0};$JSCompiler_prototypeAlias$$.onScroll=function($callback$jscomp$94$$){this.$scrollObservable_$.add($callback$jscomp$94$$)};$JSCompiler_prototypeAlias$$.onResize=function($callback$jscomp$95$$){this.$resizeObservable_$.add($callback$jscomp$95$$)};
$JSCompiler_prototypeAlias$$.updatePaddingTop=function($paddingTop$jscomp$2$$){$setImportantStyles$$module$src$style$$(this.$scroller_$,{"padding-top":$paddingTop$jscomp$2$$+"px"})};$JSCompiler_prototypeAlias$$.hideViewerHeader=function($transient$$){$transient$$||this.updatePaddingTop(0)};$JSCompiler_prototypeAlias$$.showViewerHeader=function($transient$jscomp$1$$,$paddingTop$jscomp$3$$){$transient$jscomp$1$$||this.updatePaddingTop($paddingTop$jscomp$3$$)};
$JSCompiler_prototypeAlias$$.disableScroll=function(){$setImportantStyles$$module$src$style$$(this.$scroller_$,{"overflow-y":"hidden",position:"fixed"})};$JSCompiler_prototypeAlias$$.resetScroll=function(){$setImportantStyles$$module$src$style$$(this.$scroller_$,{"overflow-y":"auto",position:"absolute"})};$JSCompiler_prototypeAlias$$.updateLightboxMode=function(){return Promise.resolve()};$JSCompiler_prototypeAlias$$.getSize=function(){return{width:this.win.innerWidth,height:this.win.innerHeight}};
$JSCompiler_prototypeAlias$$.getScrollTop=function(){return this.$scroller_$.scrollTop};$JSCompiler_prototypeAlias$$.getScrollLeft=function(){return 0};$JSCompiler_prototypeAlias$$.getScrollWidth=function(){return this.$scroller_$.scrollWidth};$JSCompiler_prototypeAlias$$.getScrollHeight=function(){return this.$scroller_$.scrollHeight};
$JSCompiler_prototypeAlias$$.getContentHeight=function(){var $bodyWrapper$$=this.$wrapper_$,$rect$jscomp$6$$=$bodyWrapper$$.getBoundingClientRect(),$style$jscomp$15$$=$computedStyle$$module$src$style$$(this.win,$bodyWrapper$$),$topGapPlusPaddingAndBorder$$=$rect$jscomp$6$$.top+this.getScrollTop();return $rect$jscomp$6$$.height+$topGapPlusPaddingAndBorder$$+parseInt($style$jscomp$15$$.marginTop,10)+parseInt($style$jscomp$15$$.marginBottom,10)};$JSCompiler_prototypeAlias$$.contentHeightChanged=function(){};
$JSCompiler_prototypeAlias$$.getLayoutRect=function($b$jscomp$4_el$jscomp$17$$,$opt_scrollLeft$$,$opt_scrollTop$$){$b$jscomp$4_el$jscomp$17$$=$b$jscomp$4_el$jscomp$17$$.getBoundingClientRect();if(this.$useLayers_$)return $layoutRectLtwh$$module$src$layout_rect$$($b$jscomp$4_el$jscomp$17$$.left,$b$jscomp$4_el$jscomp$17$$.top,$b$jscomp$4_el$jscomp$17$$.width,$b$jscomp$4_el$jscomp$17$$.height);var $scrollTop$$=void 0!=$opt_scrollTop$$?$opt_scrollTop$$:this.getScrollTop(),$scrollLeft$$=void 0!=$opt_scrollLeft$$?
$opt_scrollLeft$$:this.getScrollLeft();return $layoutRectLtwh$$module$src$layout_rect$$(Math.round($b$jscomp$4_el$jscomp$17$$.left+$scrollLeft$$),Math.round($b$jscomp$4_el$jscomp$17$$.top+$scrollTop$$),Math.round($b$jscomp$4_el$jscomp$17$$.width),Math.round($b$jscomp$4_el$jscomp$17$$.height))};$JSCompiler_prototypeAlias$$.getRootClientRectAsync=function(){return Promise.resolve(null)};
$JSCompiler_prototypeAlias$$.setScrollTop=function($scrollTop$jscomp$1$$){this.$scroller_$.scrollTop=$scrollTop$jscomp$1$$||1};$JSCompiler_prototypeAlias$$.$onScrolled_$=function($opt_event$jscomp$1$$){0==this.$scroller_$.scrollTop&&(this.$scroller_$.scrollTop=1,$opt_event$jscomp$1$$&&$opt_event$jscomp$1$$.preventDefault());$opt_event$jscomp$1$$&&this.$scrollObservable_$.fire()};$JSCompiler_prototypeAlias$$.getScrollingElement=function(){return this.$scroller_$};
$JSCompiler_prototypeAlias$$.getScrollingElementScrollsLikeViewport=function(){return!1};function $ViewportBindingIosEmbedWrapper_$$module$src$service$viewport$viewport_binding_ios_embed_wrapper$$($doc$jscomp$45_win$jscomp$194$$){var $$jscomp$this$jscomp$137$$=this;this.win=$doc$jscomp$45_win$jscomp$194$$;this.$vsync_$=$Services$$module$src$services$vsyncFor$$($doc$jscomp$45_win$jscomp$194$$);$doc$jscomp$45_win$jscomp$194$$=this.win.document;var $documentElement$jscomp$2$$=$doc$jscomp$45_win$jscomp$194$$.documentElement,$topClasses$$=$documentElement$jscomp$2$$.className;$documentElement$jscomp$2$$.classList.add("i-amphtml-ios-embed");
var $wrapper$jscomp$1$$=$doc$jscomp$45_win$jscomp$194$$.createElement("html");this.$wrapper_$=$wrapper$jscomp$1$$;$wrapper$jscomp$1$$.id="i-amphtml-wrapper";$wrapper$jscomp$1$$.className=$topClasses$$;this.$scrollObservable_$=new $Observable$$module$src$observable$$;this.$resizeObservable_$=new $Observable$$module$src$observable$$;this.$boundScrollEventListener_$=this.$onScrolled_$.bind(this);this.$boundResizeEventListener_$=function(){return $$jscomp$this$jscomp$137$$.$resizeObservable_$.fire()};
this.$useLayers_$=$isExperimentOn$$module$src$experiments$$(this.win,"layers");this.$paddingTop_$=0;this.$setupDone_$=!1;$waitForBody$$module$src$dom$$($doc$jscomp$45_win$jscomp$194$$,this.$setup_$.bind(this));$whenDocumentReady$$module$src$document_ready$$($doc$jscomp$45_win$jscomp$194$$).then(function(){$documentElement$jscomp$2$$.classList.add("i-amphtml-ios-overscroll")})}$JSCompiler_prototypeAlias$$=$ViewportBindingIosEmbedWrapper_$$module$src$service$viewport$viewport_binding_ios_embed_wrapper$$.prototype;
$JSCompiler_prototypeAlias$$.ensureReadyForElements=function(){this.$setup_$()};$JSCompiler_prototypeAlias$$.$setup_$=function(){if(!this.$setupDone_$){this.$setupDone_$=!0;var $doc$jscomp$46$$=this.win.document,$body$jscomp$8$$=$doc$jscomp$46$$.body;$doc$jscomp$46$$.documentElement.appendChild(this.$wrapper_$);this.$wrapper_$.appendChild($body$jscomp$8$$);Object.defineProperty($doc$jscomp$46$$,"body",{get:function(){return $body$jscomp$8$$}});this.$onScrolled_$()}};
$JSCompiler_prototypeAlias$$.connect=function(){this.win.addEventListener("resize",this.$boundResizeEventListener_$);this.$wrapper_$.addEventListener("scroll",this.$boundScrollEventListener_$)};$JSCompiler_prototypeAlias$$.disconnect=function(){this.win.removeEventListener("resize",this.$boundResizeEventListener_$);this.$wrapper_$.removeEventListener("scroll",this.$boundScrollEventListener_$)};$JSCompiler_prototypeAlias$$.getBorderTop=function(){return 1};
$JSCompiler_prototypeAlias$$.requiresFixedLayerTransfer=function(){return!0};$JSCompiler_prototypeAlias$$.supportsPositionFixed=function(){return!0};$JSCompiler_prototypeAlias$$.onScroll=function($callback$jscomp$96$$){this.$scrollObservable_$.add($callback$jscomp$96$$)};$JSCompiler_prototypeAlias$$.onResize=function($callback$jscomp$97$$){this.$resizeObservable_$.add($callback$jscomp$97$$)};
$JSCompiler_prototypeAlias$$.updatePaddingTop=function($paddingTop$jscomp$4$$){this.$paddingTop_$=$paddingTop$jscomp$4$$;$setImportantStyles$$module$src$style$$(this.$wrapper_$,{"padding-top":$paddingTop$jscomp$4$$+"px"})};$JSCompiler_prototypeAlias$$.hideViewerHeader=function($transient$jscomp$2$$){$transient$jscomp$2$$||this.updatePaddingTop(0)};$JSCompiler_prototypeAlias$$.showViewerHeader=function($transient$jscomp$3$$,$paddingTop$jscomp$5$$){$transient$jscomp$3$$||this.updatePaddingTop($paddingTop$jscomp$5$$)};
$JSCompiler_prototypeAlias$$.disableScroll=function(){this.$wrapper_$.classList.add("i-amphtml-scroll-disabled")};$JSCompiler_prototypeAlias$$.resetScroll=function(){this.$wrapper_$.classList.remove("i-amphtml-scroll-disabled")};$JSCompiler_prototypeAlias$$.updateLightboxMode=function(){return Promise.resolve()};$JSCompiler_prototypeAlias$$.getSize=function(){return{width:this.win.innerWidth,height:this.win.innerHeight}};$JSCompiler_prototypeAlias$$.getScrollTop=function(){return this.$wrapper_$.scrollTop};
$JSCompiler_prototypeAlias$$.getScrollLeft=function(){return 0};$JSCompiler_prototypeAlias$$.getScrollWidth=function(){return this.$wrapper_$.scrollWidth};$JSCompiler_prototypeAlias$$.getScrollHeight=function(){return this.$wrapper_$.scrollHeight};
$JSCompiler_prototypeAlias$$.getContentHeight=function(){var $scrollingElement$$=this.win.document.body,$rect$jscomp$7$$=$scrollingElement$$.getBoundingClientRect(),$style$jscomp$16$$=$computedStyle$$module$src$style$$(this.win,$scrollingElement$$);return $rect$jscomp$7$$.height+this.$paddingTop_$+parseInt($style$jscomp$16$$.marginTop,10)+parseInt($style$jscomp$16$$.marginBottom,10)};$JSCompiler_prototypeAlias$$.contentHeightChanged=function(){};
$JSCompiler_prototypeAlias$$.getLayoutRect=function($b$jscomp$5_el$jscomp$18$$,$opt_scrollLeft$jscomp$1_scrollLeft$jscomp$1$$,$opt_scrollTop$jscomp$1_scrollTop$jscomp$2$$){$b$jscomp$5_el$jscomp$18$$=$b$jscomp$5_el$jscomp$18$$.getBoundingClientRect();if(this.$useLayers_$)return $layoutRectLtwh$$module$src$layout_rect$$($b$jscomp$5_el$jscomp$18$$.left,$b$jscomp$5_el$jscomp$18$$.top,$b$jscomp$5_el$jscomp$18$$.width,$b$jscomp$5_el$jscomp$18$$.height);$opt_scrollTop$jscomp$1_scrollTop$jscomp$2$$=void 0!=
$opt_scrollTop$jscomp$1_scrollTop$jscomp$2$$?$opt_scrollTop$jscomp$1_scrollTop$jscomp$2$$:this.getScrollTop();$opt_scrollLeft$jscomp$1_scrollLeft$jscomp$1$$=void 0!=$opt_scrollLeft$jscomp$1_scrollLeft$jscomp$1$$?$opt_scrollLeft$jscomp$1_scrollLeft$jscomp$1$$:this.getScrollLeft();return $layoutRectLtwh$$module$src$layout_rect$$(Math.round($b$jscomp$5_el$jscomp$18$$.left+$opt_scrollLeft$jscomp$1_scrollLeft$jscomp$1$$),Math.round($b$jscomp$5_el$jscomp$18$$.top+$opt_scrollTop$jscomp$1_scrollTop$jscomp$2$$),
Math.round($b$jscomp$5_el$jscomp$18$$.width),Math.round($b$jscomp$5_el$jscomp$18$$.height))};$JSCompiler_prototypeAlias$$.getRootClientRectAsync=function(){return Promise.resolve(null)};$JSCompiler_prototypeAlias$$.setScrollTop=function($scrollTop$jscomp$3$$){this.$wrapper_$.scrollTop=$scrollTop$jscomp$3$$||1};
$JSCompiler_prototypeAlias$$.$onScrolled_$=function($opt_event$jscomp$2$$){0==this.$wrapper_$.scrollTop&&(this.$wrapper_$.scrollTop=1,$opt_event$jscomp$2$$&&$opt_event$jscomp$2$$.preventDefault());$opt_event$jscomp$2$$&&this.$scrollObservable_$.fire()};$JSCompiler_prototypeAlias$$.getScrollingElement=function(){return this.$wrapper_$};$JSCompiler_prototypeAlias$$.getScrollingElementScrollsLikeViewport=function(){return!1};function $ViewportBindingNatural_$$module$src$service$viewport$viewport_binding_natural$$($ampdoc$jscomp$72$$){var $$jscomp$this$jscomp$138$$=this;this.ampdoc=$ampdoc$jscomp$72$$;this.win=$ampdoc$jscomp$72$$.win;this.$platform_$=$Services$$module$src$services$platformFor$$(this.win);this.$scrollObservable_$=new $Observable$$module$src$observable$$;this.$resizeObservable_$=new $Observable$$module$src$observable$$;this.$boundScrollEventListener_$=function(){$$jscomp$this$jscomp$138$$.$scrollObservable_$.fire()};
this.$boundResizeEventListener_$=function(){return $$jscomp$this$jscomp$138$$.$resizeObservable_$.fire()};this.$useLayers_$=$isExperimentOn$$module$src$experiments$$(this.win,"layers")}$JSCompiler_prototypeAlias$$=$ViewportBindingNatural_$$module$src$service$viewport$viewport_binding_natural$$.prototype;$JSCompiler_prototypeAlias$$.connect=function(){this.win.addEventListener("scroll",this.$boundScrollEventListener_$);this.win.addEventListener("resize",this.$boundResizeEventListener_$)};
$JSCompiler_prototypeAlias$$.disconnect=function(){this.win.removeEventListener("scroll",this.$boundScrollEventListener_$);this.win.removeEventListener("resize",this.$boundResizeEventListener_$)};$JSCompiler_prototypeAlias$$.ensureReadyForElements=function(){};$JSCompiler_prototypeAlias$$.getBorderTop=function(){return 0};$JSCompiler_prototypeAlias$$.requiresFixedLayerTransfer=function(){return!1};$JSCompiler_prototypeAlias$$.supportsPositionFixed=function(){return!0};
$JSCompiler_prototypeAlias$$.onScroll=function($callback$jscomp$98$$){this.$scrollObservable_$.add($callback$jscomp$98$$)};$JSCompiler_prototypeAlias$$.onResize=function($callback$jscomp$99$$){this.$resizeObservable_$.add($callback$jscomp$99$$)};$JSCompiler_prototypeAlias$$.updatePaddingTop=function($paddingTop$jscomp$6$$){$setImportantStyles$$module$src$style$$(this.win.document.documentElement,{"padding-top":$paddingTop$jscomp$6$$+"px"})};
$JSCompiler_prototypeAlias$$.hideViewerHeader=function($transient$jscomp$4$$){$transient$jscomp$4$$||this.updatePaddingTop(0)};$JSCompiler_prototypeAlias$$.showViewerHeader=function($transient$jscomp$5$$,$paddingTop$jscomp$7$$){$transient$jscomp$5$$||this.updatePaddingTop($paddingTop$jscomp$7$$)};$JSCompiler_prototypeAlias$$.disableScroll=function(){this.win.document.documentElement.classList.add("i-amphtml-scroll-disabled")};$JSCompiler_prototypeAlias$$.resetScroll=function(){this.win.document.documentElement.classList.remove("i-amphtml-scroll-disabled")};
$JSCompiler_prototypeAlias$$.updateLightboxMode=function(){return Promise.resolve()};$JSCompiler_prototypeAlias$$.getSize=function(){var $winWidth$$=this.win.innerWidth,$winHeight$$=this.win.innerHeight;if($winWidth$$&&$winHeight$$)return{width:$winWidth$$,height:$winHeight$$};var $el$jscomp$19$$=this.win.document.documentElement;return{width:$el$jscomp$19$$.clientWidth,height:$el$jscomp$19$$.clientHeight}};
$JSCompiler_prototypeAlias$$.getScrollTop=function(){var $pageScrollTop$$=this.getScrollingElement().scrollTop||this.win.pageYOffset,$host$jscomp$1$$=this.ampdoc.getRootNode().host;return $host$jscomp$1$$?$pageScrollTop$$-$host$jscomp$1$$.offsetTop:$pageScrollTop$$};$JSCompiler_prototypeAlias$$.getScrollLeft=function(){return 0};$JSCompiler_prototypeAlias$$.getScrollWidth=function(){return this.getScrollingElement().scrollWidth};$JSCompiler_prototypeAlias$$.getScrollHeight=function(){return this.getScrollingElement().scrollHeight};
$JSCompiler_prototypeAlias$$.getContentHeight=function(){var $scrollingElement$jscomp$1_style$jscomp$17$$=this.getScrollingElement(),$rect$jscomp$8$$=$scrollingElement$jscomp$1_style$jscomp$17$$.getBoundingClientRect();$scrollingElement$jscomp$1_style$jscomp$17$$=$computedStyle$$module$src$style$$(this.win,$scrollingElement$jscomp$1_style$jscomp$17$$);var $topGapPlusPadding$$=$rect$jscomp$8$$.top+this.getScrollTop();return $rect$jscomp$8$$.height+$topGapPlusPadding$$+parseInt($scrollingElement$jscomp$1_style$jscomp$17$$.marginTop,
10)+parseInt($scrollingElement$jscomp$1_style$jscomp$17$$.marginBottom,10)};$JSCompiler_prototypeAlias$$.contentHeightChanged=function(){};
$JSCompiler_prototypeAlias$$.getLayoutRect=function($b$jscomp$6_el$jscomp$20$$,$opt_scrollLeft$jscomp$2_scrollLeft$jscomp$2$$,$opt_scrollTop$jscomp$2_scrollTop$jscomp$4$$){$b$jscomp$6_el$jscomp$20$$=$b$jscomp$6_el$jscomp$20$$.getBoundingClientRect();if(this.$useLayers_$)return $layoutRectLtwh$$module$src$layout_rect$$($b$jscomp$6_el$jscomp$20$$.left,$b$jscomp$6_el$jscomp$20$$.top,$b$jscomp$6_el$jscomp$20$$.width,$b$jscomp$6_el$jscomp$20$$.height);$opt_scrollTop$jscomp$2_scrollTop$jscomp$4$$=void 0!=
$opt_scrollTop$jscomp$2_scrollTop$jscomp$4$$?$opt_scrollTop$jscomp$2_scrollTop$jscomp$4$$:this.getScrollTop();$opt_scrollLeft$jscomp$2_scrollLeft$jscomp$2$$=void 0!=$opt_scrollLeft$jscomp$2_scrollLeft$jscomp$2$$?$opt_scrollLeft$jscomp$2_scrollLeft$jscomp$2$$:this.getScrollLeft();return $layoutRectLtwh$$module$src$layout_rect$$(Math.round($b$jscomp$6_el$jscomp$20$$.left+$opt_scrollLeft$jscomp$2_scrollLeft$jscomp$2$$),Math.round($b$jscomp$6_el$jscomp$20$$.top+$opt_scrollTop$jscomp$2_scrollTop$jscomp$4$$),
Math.round($b$jscomp$6_el$jscomp$20$$.width),Math.round($b$jscomp$6_el$jscomp$20$$.height))};$JSCompiler_prototypeAlias$$.getRootClientRectAsync=function(){return Promise.resolve(null)};$JSCompiler_prototypeAlias$$.setScrollTop=function($scrollTop$jscomp$5$$){this.getScrollingElement().scrollTop=$scrollTop$jscomp$5$$};
$JSCompiler_prototypeAlias$$.getScrollingElement=function(){var $doc$jscomp$47$$=this.win.document;return $doc$jscomp$47$$.scrollingElement?$doc$jscomp$47$$.scrollingElement:$doc$jscomp$47$$.body&&this.$platform_$.isWebKit()?$doc$jscomp$47$$.body:$doc$jscomp$47$$.documentElement};$JSCompiler_prototypeAlias$$.getScrollingElementScrollsLikeViewport=function(){return!0};function $clamp$$module$src$utils$math$$($val$jscomp$11$$){var $max$$=500,$min$$=0;return Math.min(Math.max($val$jscomp$11$$,$min$$),$max$$)};function $positionLt$$module$src$service$layers_impl$$($left$jscomp$4$$,$top$jscomp$5$$){return{left:$left$jscomp$4$$,top:$top$jscomp$5$$}}var $ANCESTRY_CACHE$$module$src$service$layers_impl$$=[],$layoutId$$module$src$service$layers_impl$$=0;
function $LayoutLayers$$module$src$service$layers_impl$$($ampdoc$jscomp$73_win$jscomp$196$$,$scrollingElement$jscomp$2$$,$scrollingElementScrollsLikeViewport$$){var $$jscomp$this$jscomp$142$$=this;$ampdoc$jscomp$73_win$jscomp$196$$=$ampdoc$jscomp$73_win$jscomp$196$$.win;this.$scrollingElement_$=$scrollingElement$jscomp$2$$;this.$onScroll_$=null;this.$layouts_$=[];this.$unlisteners_$=[];$JSCompiler_StaticMethods_listenForScroll_$$(this,$ampdoc$jscomp$73_win$jscomp$196$$.document);$ampdoc$jscomp$73_win$jscomp$196$$.document.documentElement.contains($scrollingElement$jscomp$2$$)||
$JSCompiler_StaticMethods_listenForScroll_$$(this,$scrollingElement$jscomp$2$$);this.$unlisteners_$.push($listen$$module$src$event_helper$$($ampdoc$jscomp$73_win$jscomp$196$$,"resize",function(){for(var $ampdoc$jscomp$73_win$jscomp$196$$=$$jscomp$this$jscomp$142$$.$layouts_$,$scrollingElement$jscomp$2$$=0;$scrollingElement$jscomp$2$$<$ampdoc$jscomp$73_win$jscomp$196$$.length;$scrollingElement$jscomp$2$$++){var $scrollingElementScrollsLikeViewport$$=$ampdoc$jscomp$73_win$jscomp$196$$[$scrollingElement$jscomp$2$$];
$scrollingElementScrollsLikeViewport$$.undeclareLayer();$scrollingElementScrollsLikeViewport$$.forgetParentLayer()}},{capture:!0,passive:!0}));this.$activeLayer_$=$JSCompiler_StaticMethods_declareLayer_$$(this,$scrollingElement$jscomp$2$$,!0,$scrollingElementScrollsLikeViewport$$)}$JSCompiler_prototypeAlias$$=$LayoutLayers$$module$src$service$layers_impl$$.prototype;
$JSCompiler_prototypeAlias$$.dispose=function(){this.$unlisteners_$.forEach(function($unlisten$jscomp$7$$){return $unlisten$jscomp$7$$()});this.$unlisteners_$.length=0};
$JSCompiler_prototypeAlias$$.add=function($element$jscomp$186$$){var $layout$jscomp$11$$=$LayoutElement$$module$src$service$layers_impl$forOptional$$($element$jscomp$186$$);$layout$jscomp$11$$||($layout$jscomp$11$$=new $LayoutElement$$module$src$service$layers_impl$$($element$jscomp$186$$));this.$layouts_$.includes($layout$jscomp$11$$)||this.$layouts_$.push($layout$jscomp$11$$);return $layout$jscomp$11$$};
$JSCompiler_prototypeAlias$$.remove=function($element$jscomp$187_layout$jscomp$12$$){if($element$jscomp$187_layout$jscomp$12$$=$LayoutElement$$module$src$service$layers_impl$forOptional$$($element$jscomp$187_layout$jscomp$12$$)){var $layouts$$=this.$layouts_$,$i$jscomp$117_index$jscomp$84_parent$jscomp$21$$=$layouts$$.indexOf($element$jscomp$187_layout$jscomp$12$$);-1<$i$jscomp$117_index$jscomp$84_parent$jscomp$21$$&&$layouts$$.splice($i$jscomp$117_index$jscomp$84_parent$jscomp$21$$,1);if($i$jscomp$117_index$jscomp$84_parent$jscomp$21$$=
$element$jscomp$187_layout$jscomp$12$$.getParentLayer())$i$jscomp$117_index$jscomp$84_parent$jscomp$21$$.remove($element$jscomp$187_layout$jscomp$12$$);else for($i$jscomp$117_index$jscomp$84_parent$jscomp$21$$=0;$i$jscomp$117_index$jscomp$84_parent$jscomp$21$$<$layouts$$.length;$i$jscomp$117_index$jscomp$84_parent$jscomp$21$$++)$layouts$$[$i$jscomp$117_index$jscomp$84_parent$jscomp$21$$].remove($element$jscomp$187_layout$jscomp$12$$);$element$jscomp$187_layout$jscomp$12$$.forgetParentLayer();$element$jscomp$187_layout$jscomp$12$$.dirtyMeasurements()}};
$JSCompiler_prototypeAlias$$.getScrolledPosition=function($element$jscomp$188_pos$jscomp$4$$,$opt_ancestor$$){$element$jscomp$188_pos$jscomp$4$$=this.add($element$jscomp$188_pos$jscomp$4$$).getScrolledPosition($opt_ancestor$$);return $positionLt$$module$src$service$layers_impl$$(Math.round($element$jscomp$188_pos$jscomp$4$$.left),Math.round($element$jscomp$188_pos$jscomp$4$$.top))};
$JSCompiler_prototypeAlias$$.getOffsetPosition=function($element$jscomp$189_pos$jscomp$5$$,$opt_ancestor$jscomp$1$$){$element$jscomp$189_pos$jscomp$5$$=this.add($element$jscomp$189_pos$jscomp$5$$).getOffsetPosition($opt_ancestor$jscomp$1$$);return $positionLt$$module$src$service$layers_impl$$(Math.round($element$jscomp$189_pos$jscomp$5$$.left),Math.round($element$jscomp$189_pos$jscomp$5$$.top))};
$JSCompiler_prototypeAlias$$.getSize=function($element$jscomp$190_size$jscomp$17$$){$element$jscomp$190_size$jscomp$17$$=this.add($element$jscomp$190_size$jscomp$17$$).getSize();return{height:Math.round($element$jscomp$190_size$jscomp$17$$.height),width:Math.round($element$jscomp$190_size$jscomp$17$$.width)}};
$JSCompiler_prototypeAlias$$.remeasure=function($element$jscomp$191_from$jscomp$2_layout$jscomp$16$$,$opt_force$jscomp$3$$){$element$jscomp$191_from$jscomp$2_layout$jscomp$16$$=this.add($element$jscomp$191_from$jscomp$2_layout$jscomp$16$$);$element$jscomp$191_from$jscomp$2_layout$jscomp$16$$=$element$jscomp$191_from$jscomp$2_layout$jscomp$16$$.getParentLayer()||$element$jscomp$191_from$jscomp$2_layout$jscomp$16$$;$opt_force$jscomp$3$$&&$element$jscomp$191_from$jscomp$2_layout$jscomp$16$$.dirtyMeasurements();
$element$jscomp$191_from$jscomp$2_layout$jscomp$16$$.remeasure()};$JSCompiler_prototypeAlias$$.declareLayer=function($element$jscomp$192$$){$JSCompiler_StaticMethods_declareLayer_$$(this,$element$jscomp$192$$,!1,!1)};$JSCompiler_prototypeAlias$$.dirty=function($node$jscomp$46$$){($LayoutElement$$module$src$service$layers_impl$getParentLayer$$($node$jscomp$46$$)||$LayoutElement$$module$src$service$layers_impl$forOptional$$(this.$scrollingElement_$)).dirtyMeasurements()};
function $JSCompiler_StaticMethods_declareLayer_$$($JSCompiler_StaticMethods_declareLayer_$self_layout$jscomp$17$$,$element$jscomp$193$$,$isRootLayer$$,$scrollsLikeViewport$$){$JSCompiler_StaticMethods_declareLayer_$self_layout$jscomp$17$$=$JSCompiler_StaticMethods_declareLayer_$self_layout$jscomp$17$$.add($element$jscomp$193$$);$JSCompiler_StaticMethods_declareLayer_$self_layout$jscomp$17$$.declareLayer($isRootLayer$$,$scrollsLikeViewport$$);return $JSCompiler_StaticMethods_declareLayer_$self_layout$jscomp$17$$}
function $JSCompiler_StaticMethods_listenForScroll_$$($JSCompiler_StaticMethods_listenForScroll_$self$$,$root$jscomp$22$$){$JSCompiler_StaticMethods_listenForScroll_$self$$.$unlisteners_$.push($listen$$module$src$event_helper$$($root$jscomp$22$$,"scroll",function($root$jscomp$22$$){$root$jscomp$22$$=$root$jscomp$22$$.target;$root$jscomp$22$$=$root$jscomp$22$$.nodeType==Node.ELEMENT_NODE?$root$jscomp$22$$:$JSCompiler_StaticMethods_listenForScroll_$self$$.$scrollingElement_$;var $JSCompiler_scrolled$jscomp$inline_649_JSCompiler_target$jscomp$inline_648_event$jscomp$33$$=
$LayoutElement$$module$src$service$layers_impl$forOptional$$($root$jscomp$22$$);$JSCompiler_scrolled$jscomp$inline_649_JSCompiler_target$jscomp$inline_648_event$jscomp$33$$&&$JSCompiler_scrolled$jscomp$inline_649_JSCompiler_target$jscomp$inline_648_event$jscomp$33$$.isLayer()?$JSCompiler_scrolled$jscomp$inline_649_JSCompiler_target$jscomp$inline_648_event$jscomp$33$$.dirtyScrollMeasurements():$JSCompiler_scrolled$jscomp$inline_649_JSCompiler_target$jscomp$inline_648_event$jscomp$33$$=$JSCompiler_StaticMethods_declareLayer_$$($JSCompiler_StaticMethods_listenForScroll_$self$$,
$root$jscomp$22$$,!1,!1);$JSCompiler_StaticMethods_listenForScroll_$self$$.$activeLayer_$=$JSCompiler_scrolled$jscomp$inline_649_JSCompiler_target$jscomp$inline_648_event$jscomp$33$$;$JSCompiler_StaticMethods_listenForScroll_$self$$.$onScroll_$&&$JSCompiler_StaticMethods_listenForScroll_$self$$.$onScroll_$()},{capture:!0,passive:!0}))}$JSCompiler_prototypeAlias$$.onScroll=function($handler$jscomp$29$$){this.$onScroll_$=$handler$jscomp$29$$};$JSCompiler_prototypeAlias$$.getActiveLayer=function(){return this.$activeLayer_$};
$JSCompiler_prototypeAlias$$.iterateAncestry=function($element$jscomp$194$$,$iterator$jscomp$8$$,$state$jscomp$32$$){return this.add($element$jscomp$194$$).iterateAncestry($iterator$jscomp$8$$,$state$jscomp$32$$)};
function $LayoutElement$$module$src$service$layers_impl$$($element$jscomp$195$$){$element$jscomp$195$$.__AMP_LAYOUT=this;this.$element_$=$element$jscomp$195$$;this.$id_$=$element$jscomp$195$$.tagName+"-"+$layoutId$$module$src$service$layers_impl$$++;this.$parentLayer_$=void 0;this.$needsRemeasure_$=!0;this.$size_$={height:0,width:0};this.$position_$=$positionLt$$module$src$service$layers_impl$$(0,0);this.$isActive_$=void 0;this.$needsScrollRemeasure_$=this.$scrollsLikeViewport_$=this.$isRootLayer_$=
this.$isLayer_$=!1;this.$scrollTop_$=this.$scrollLeft_$=0;this.$children_$=[]}function $LayoutElement$$module$src$service$layers_impl$forOptional$$($element$jscomp$197$$){return $element$jscomp$197$$.__AMP_LAYOUT||null}
function $LayoutElement$$module$src$service$layers_impl$getParentLayer$$($node$jscomp$47_parent$jscomp$22$$,$layout$jscomp$20_opt_force$jscomp$4_win$jscomp$197$$){if($isDestroyed$$module$src$service$layers_impl$$($node$jscomp$47_parent$jscomp$22$$))return null;if(!$layout$jscomp$20_opt_force$jscomp$4_win$jscomp$197$$&&($layout$jscomp$20_opt_force$jscomp$4_win$jscomp$197$$=$LayoutElement$$module$src$service$layers_impl$forOptional$$($node$jscomp$47_parent$jscomp$22$$)))return $layout$jscomp$20_opt_force$jscomp$4_win$jscomp$197$$.getParentLayer();
$layout$jscomp$20_opt_force$jscomp$4_win$jscomp$197$$=$node$jscomp$47_parent$jscomp$22$$.ownerDocument.defaultView;for(var $el$jscomp$21$$=$node$jscomp$47_parent$jscomp$22$$,$op$$=$node$jscomp$47_parent$jscomp$22$$,$last$jscomp$1_layout$76$$;$el$jscomp$21$$;){if(($last$jscomp$1_layout$76$$=$el$jscomp$21$$===$node$jscomp$47_parent$jscomp$22$$?null:$LayoutElement$$module$src$service$layers_impl$forOptional$$($el$jscomp$21$$))&&$last$jscomp$1_layout$76$$.isLayer())return $last$jscomp$1_layout$76$$;if($el$jscomp$21$$===
$op$$){if("fixed"==$computedStyle$$module$src$style$$($layout$jscomp$20_opt_force$jscomp$4_win$jscomp$197$$,$op$$).position){if($node$jscomp$47_parent$jscomp$22$$=$op$$!==$node$jscomp$47_parent$jscomp$22$$?$op$$:$frameParent$$module$src$service$layers_impl$$($node$jscomp$47_parent$jscomp$22$$.ownerDocument))return $getServiceForDoc$$module$src$service$$($node$jscomp$47_parent$jscomp$22$$,"layers").declareLayer($node$jscomp$47_parent$jscomp$22$$),$LayoutElement$$module$src$service$layers_impl$forOptional$$($node$jscomp$47_parent$jscomp$22$$);
break}$op$$=$op$$.offsetParent}$last$jscomp$1_layout$76$$=$el$jscomp$21$$;$el$jscomp$21$$=$el$jscomp$21$$.assignedSlot||$el$jscomp$21$$.parentNode||$el$jscomp$21$$.host;!$el$jscomp$21$$&&($op$$=$el$jscomp$21$$=$frameParent$$module$src$service$layers_impl$$($last$jscomp$1_layout$76$$))&&($layout$jscomp$20_opt_force$jscomp$4_win$jscomp$197$$=$el$jscomp$21$$.ownerDocument.defaultView)}return null}$JSCompiler_prototypeAlias$$=$LayoutElement$$module$src$service$layers_impl$$.prototype;
$JSCompiler_prototypeAlias$$.getId=function(){return this.$id_$};$JSCompiler_prototypeAlias$$.contains=function($layout$jscomp$21$$){return $layout$jscomp$21$$===this?!1:$JSCompiler_StaticMethods_contains_$$(this,this.$element_$,$layout$jscomp$21$$.$element_$)};
function $JSCompiler_StaticMethods_contains_$$($JSCompiler_StaticMethods_contains_$self_host$jscomp$2_rootNode$jscomp$4$$,$element$jscomp$198$$,$other$jscomp$9$$){if($element$jscomp$198$$.contains($other$jscomp$9$$))return!0;if($element$jscomp$198$$.ownerDocument!==$other$jscomp$9$$.ownerDocument){var $frame$$=$frameParent$$module$src$service$layers_impl$$($other$jscomp$9$$.ownerDocument);return!!$frame$$&&$JSCompiler_StaticMethods_contains_$$($JSCompiler_StaticMethods_contains_$self_host$jscomp$2_rootNode$jscomp$4$$,
$element$jscomp$198$$,$frame$$)}$JSCompiler_StaticMethods_contains_$self_host$jscomp$2_rootNode$jscomp$4$$=($JSCompiler_StaticMethods_contains_$self_host$jscomp$2_rootNode$jscomp$4$$=$rootNodeFor$$module$src$dom$$($element$jscomp$198$$))&&$JSCompiler_StaticMethods_contains_$self_host$jscomp$2_rootNode$jscomp$4$$.host;return!!$JSCompiler_StaticMethods_contains_$self_host$jscomp$2_rootNode$jscomp$4$$&&$JSCompiler_StaticMethods_contains_$self_host$jscomp$2_rootNode$jscomp$4$$.contains($other$jscomp$9$$)}
$JSCompiler_prototypeAlias$$.add=function($child$jscomp$8$$){this.isLayer();this.contains($child$jscomp$8$$);this.$children_$.includes($child$jscomp$8$$)||this.$children_$.push($child$jscomp$8$$)};$JSCompiler_prototypeAlias$$.remove=function($child$jscomp$9_i$jscomp$119$$){$child$jscomp$9_i$jscomp$119$$=this.$children_$.indexOf($child$jscomp$9_i$jscomp$119$$);-1<$child$jscomp$9_i$jscomp$119$$&&this.$children_$.splice($child$jscomp$9_i$jscomp$119$$,1)};$JSCompiler_prototypeAlias$$.isLayer=function(){return this.$isLayer_$};
$JSCompiler_prototypeAlias$$.declareLayer=function($isRootLayer$jscomp$1_parent$jscomp$23$$,$scrollsLikeViewport$jscomp$1$$){this.$isLayer_$||(this.$isLayer_$=!0,this.$isRootLayer_$=$isRootLayer$jscomp$1_parent$jscomp$23$$,this.$scrollsLikeViewport_$=$scrollsLikeViewport$jscomp$1$$,this.$needsScrollRemeasure_$=this.$needsRemeasure_$=!0,($isRootLayer$jscomp$1_parent$jscomp$23$$=this.getParentLayer())&&$isRootLayer$jscomp$1_parent$jscomp$23$$.$transfer_$(this))};
$JSCompiler_prototypeAlias$$.undeclareLayer=function(){if(this.$isLayer_$&&!this.$isRootLayer_$){var $element$jscomp$199_parent$jscomp$24$$=this.$element_$;$isDestroyed$$module$src$service$layers_impl$$($element$jscomp$199_parent$jscomp$24$$)||"fixed"===$computedStyle$$module$src$style$$($element$jscomp$199_parent$jscomp$24$$.ownerDocument.defaultView,$element$jscomp$199_parent$jscomp$24$$).position||(this.$isLayer_$=!1,$element$jscomp$199_parent$jscomp$24$$=this.getParentLayer()||$LayoutElement$$module$src$service$layers_impl$getParentLayer$$($element$jscomp$199_parent$jscomp$24$$,
!0),this.$transfer_$($element$jscomp$199_parent$jscomp$24$$))}};$JSCompiler_prototypeAlias$$.$transfer_$=function($layer$jscomp$4$$){var $contained$$=$layer$jscomp$4$$.contains(this);$remove$$module$src$utils$array$$(this.$children_$,function($layout$jscomp$22$$){return $contained$$||$layer$jscomp$4$$.contains($layout$jscomp$22$$)?($layout$jscomp$22$$.dirtyMeasurements(),$layout$jscomp$22$$.$parentLayer_$=$layer$jscomp$4$$,$layer$jscomp$4$$.$children_$.push($layout$jscomp$22$$),!0):!1})};
$JSCompiler_prototypeAlias$$.getParentLayer=function(){if(void 0===this.$parentLayer_$){var $parent$jscomp$25$$=$LayoutElement$$module$src$service$layers_impl$getParentLayer$$(this.$element_$,!0);(this.$parentLayer_$=$parent$jscomp$25$$)&&$parent$jscomp$25$$.add(this)}return this.$parentLayer_$};$JSCompiler_prototypeAlias$$.forgetParentLayer=function(){this.$parentLayer_$=void 0};$JSCompiler_prototypeAlias$$.getSize=function(){this.remeasure();return this.$size_$};
$JSCompiler_prototypeAlias$$.getOffsetFromParent=function(){this.remeasure();return this.$position_$};$JSCompiler_prototypeAlias$$.isActiveUnsafe=function(){return this.$isActive_$};
$JSCompiler_prototypeAlias$$.getHorizontalDistanceFromParent=function(){var $parent$jscomp$26$$=this.getParentLayer();if(!$parent$jscomp$26$$)return 0;var $left$jscomp$5$$=this.getOffsetFromParent().left,$width$jscomp$33$$=this.getSize().width,$scrollLeft$jscomp$3$$=$parent$jscomp$26$$.getScrollLeft(),$parentWidth$$=$parent$jscomp$26$$.getSize().width;return $left$jscomp$5$$+$width$jscomp$33$$<$scrollLeft$jscomp$3$$?$scrollLeft$jscomp$3$$-($left$jscomp$5$$+$width$jscomp$33$$):$scrollLeft$jscomp$3$$+
$parentWidth$$<$left$jscomp$5$$?$left$jscomp$5$$-($scrollLeft$jscomp$3$$+$parentWidth$$):0};$JSCompiler_prototypeAlias$$.getHorizontalViewportsFromParent=function(){var $distance$jscomp$4$$=this.getHorizontalDistanceFromParent();if(0===$distance$jscomp$4$$)return 0;var $parentWidth$jscomp$1$$=this.getParentLayer().getSize().width;return $distance$jscomp$4$$/$parentWidth$jscomp$1$$};
$JSCompiler_prototypeAlias$$.getVerticalDistanceFromParent=function(){var $parent$jscomp$28$$=this.getParentLayer();if(!$parent$jscomp$28$$)return 0;var $top$jscomp$6$$=this.getOffsetFromParent().top,$height$jscomp$31$$=this.getSize().height,$scrollTop$jscomp$6$$=$parent$jscomp$28$$.getScrollTop(),$parentHeight$$=$parent$jscomp$28$$.getSize().height;return $top$jscomp$6$$+$height$jscomp$31$$<$scrollTop$jscomp$6$$?$scrollTop$jscomp$6$$-($top$jscomp$6$$+$height$jscomp$31$$):$scrollTop$jscomp$6$$+$parentHeight$$<
$top$jscomp$6$$?$top$jscomp$6$$-($scrollTop$jscomp$6$$+$parentHeight$$):0};$JSCompiler_prototypeAlias$$.getVerticalViewportsFromParent=function(){var $distance$jscomp$5$$=this.getVerticalDistanceFromParent();if(0===$distance$jscomp$5$$)return 0;var $parentHeight$jscomp$1$$=this.getParentLayer().getSize().height;return $distance$jscomp$5$$/$parentHeight$jscomp$1$$};$JSCompiler_prototypeAlias$$.getScrollTop=function(){$JSCompiler_StaticMethods_updateScrollPosition_$$(this);return this.$scrollTop_$};
$JSCompiler_prototypeAlias$$.getScrollLeft=function(){$JSCompiler_StaticMethods_updateScrollPosition_$$(this);return this.$scrollLeft_$};
$JSCompiler_prototypeAlias$$.getScrolledPosition=function($l$jscomp$1_opt_ancestor$jscomp$2$$){var $x$jscomp$88$$=this.getScrollLeft(),$y$jscomp$69$$=this.getScrollTop(),$stopAt$$=$l$jscomp$1_opt_ancestor$jscomp$2$$?$LayoutElement$$module$src$service$layers_impl$getParentLayer$$($l$jscomp$1_opt_ancestor$jscomp$2$$):null;for($l$jscomp$1_opt_ancestor$jscomp$2$$=this;$l$jscomp$1_opt_ancestor$jscomp$2$$&&$l$jscomp$1_opt_ancestor$jscomp$2$$!==$stopAt$$;$l$jscomp$1_opt_ancestor$jscomp$2$$=$l$jscomp$1_opt_ancestor$jscomp$2$$.getParentLayer()){var $position$jscomp$3$$=
$l$jscomp$1_opt_ancestor$jscomp$2$$.getOffsetFromParent();$x$jscomp$88$$+=$position$jscomp$3$$.left-$l$jscomp$1_opt_ancestor$jscomp$2$$.getScrollLeft();$y$jscomp$69$$+=$position$jscomp$3$$.top-$l$jscomp$1_opt_ancestor$jscomp$2$$.getScrollTop()}return $positionLt$$module$src$service$layers_impl$$($x$jscomp$88$$,$y$jscomp$69$$)};
$JSCompiler_prototypeAlias$$.getOffsetPosition=function($opt_ancestor$jscomp$3_stopAt$jscomp$1$$){var $x$jscomp$89$$=0,$y$jscomp$70$$=0;$opt_ancestor$jscomp$3_stopAt$jscomp$1$$=$opt_ancestor$jscomp$3_stopAt$jscomp$1$$?$LayoutElement$$module$src$service$layers_impl$getParentLayer$$($opt_ancestor$jscomp$3_stopAt$jscomp$1$$):null;for(var $l$jscomp$2$$=this;$l$jscomp$2$$&&$l$jscomp$2$$!==$opt_ancestor$jscomp$3_stopAt$jscomp$1$$;$l$jscomp$2$$=$l$jscomp$2$$.getParentLayer()){var $position$jscomp$4$$=$l$jscomp$2$$.getOffsetFromParent();
$x$jscomp$89$$+=$position$jscomp$4$$.left;$y$jscomp$70$$+=$position$jscomp$4$$.top}return $positionLt$$module$src$service$layers_impl$$($x$jscomp$89$$,$y$jscomp$70$$)};$JSCompiler_prototypeAlias$$.dirtyMeasurements=function(){this.$needsRemeasure_$=!0};$JSCompiler_prototypeAlias$$.dirtyScrollMeasurements=function(){this.$needsScrollRemeasure_$=!0};
$JSCompiler_prototypeAlias$$.remeasure=function(){for(var $layer$jscomp$5$$=this,$p$jscomp$8$$=this.getParentLayer();$p$jscomp$8$$;$p$jscomp$8$$=$p$jscomp$8$$.getParentLayer())$p$jscomp$8$$.$needsRemeasure_$&&($layer$jscomp$5$$=$p$jscomp$8$$);$layer$jscomp$5$$.$needsRemeasure_$&&$JSCompiler_StaticMethods_remeasure_$$($layer$jscomp$5$$)};
$JSCompiler_prototypeAlias$$.iterateAncestry=function($iterator$jscomp$9$$,$state$jscomp$33$$){for(var $activeLayer$$=$isDestroyed$$module$src$service$layers_impl$$(this.$element_$)?null:$getServiceForDoc$$module$src$service$$(this.$element_$,"layers").getActiveLayer(),$isActive$$=$activeLayer$$===this||!!$activeLayer$$&&$activeLayer$$.contains(this),$layer$jscomp$6_length$jscomp$35$$=this;$layer$jscomp$6_length$jscomp$35$$;)$ANCESTRY_CACHE$$module$src$service$layers_impl$$.push($layer$jscomp$6_length$jscomp$35$$),
$layer$jscomp$6_length$jscomp$35$$.$isActive_$=$isActive$$,$layer$jscomp$6_length$jscomp$35$$===$activeLayer$$&&($isActive$$=!1),$layer$jscomp$6_length$jscomp$35$$=$layer$jscomp$6_length$jscomp$35$$.getParentLayer();var $accumulator$$=void 0;$layer$jscomp$6_length$jscomp$35$$=$ANCESTRY_CACHE$$module$src$service$layers_impl$$.length;for(var $i$jscomp$120$$=0;$i$jscomp$120$$<$layer$jscomp$6_length$jscomp$35$$;$i$jscomp$120$$++){var $layer$77$$=$ANCESTRY_CACHE$$module$src$service$layers_impl$$.pop();
$accumulator$$=$iterator$jscomp$9$$($accumulator$$,$layer$77$$,$i$jscomp$120$$,$state$jscomp$33$$);$layer$77$$.$isActive_$=void 0}return $accumulator$$};
function $JSCompiler_StaticMethods_remeasure_$$($JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$){$JSCompiler_StaticMethods_updateScrollPosition_$$($JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$);$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.$needsRemeasure_$=!1;var $element$jscomp$200_i$jscomp$121_left$jscomp$6$$=$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.$element_$,$$jscomp$destructuring$var141_JSCompiler_temp$jscomp$180_parent$jscomp$30_top$jscomp$7$$=
$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.getParentLayer();if($$jscomp$destructuring$var141_JSCompiler_temp$jscomp$180_parent$jscomp$30_top$jscomp$7$$)if($$jscomp$destructuring$var141_JSCompiler_temp$jscomp$180_parent$jscomp$30_top$jscomp$7$$.$element_$.ownerDocument===$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.$element_$.ownerDocument){var $JSCompiler_position$jscomp$inline_654$$=$$jscomp$destructuring$var141_JSCompiler_temp$jscomp$180_parent$jscomp$30_top$jscomp$7$$.getScrolledPosition($$jscomp$destructuring$var141_JSCompiler_temp$jscomp$180_parent$jscomp$30_top$jscomp$7$$.$element_$.ownerDocument.documentElement);
$$jscomp$destructuring$var141_JSCompiler_temp$jscomp$180_parent$jscomp$30_top$jscomp$7$$=$positionLt$$module$src$service$layers_impl$$($JSCompiler_position$jscomp$inline_654$$.left-$$jscomp$destructuring$var141_JSCompiler_temp$jscomp$180_parent$jscomp$30_top$jscomp$7$$.getScrollLeft(),$JSCompiler_position$jscomp$inline_654$$.top-$$jscomp$destructuring$var141_JSCompiler_temp$jscomp$180_parent$jscomp$30_top$jscomp$7$$.getScrollTop())}else $$jscomp$destructuring$var141_JSCompiler_temp$jscomp$180_parent$jscomp$30_top$jscomp$7$$=
$positionLt$$module$src$service$layers_impl$$(0,0);else $$jscomp$destructuring$var141_JSCompiler_temp$jscomp$180_parent$jscomp$30_top$jscomp$7$$=$positionLt$$module$src$service$layers_impl$$(0,0);var $relative$$=$$jscomp$destructuring$var141_JSCompiler_temp$jscomp$180_parent$jscomp$30_top$jscomp$7$$;$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.$size_$={height:$element$jscomp$200_i$jscomp$121_left$jscomp$6$$.clientHeight,width:$element$jscomp$200_i$jscomp$121_left$jscomp$6$$.clientWidth};
$$jscomp$destructuring$var141_JSCompiler_temp$jscomp$180_parent$jscomp$30_top$jscomp$7$$=$element$jscomp$200_i$jscomp$121_left$jscomp$6$$.getBoundingClientRect();$element$jscomp$200_i$jscomp$121_left$jscomp$6$$=$$jscomp$destructuring$var141_JSCompiler_temp$jscomp$180_parent$jscomp$30_top$jscomp$7$$.left;$$jscomp$destructuring$var141_JSCompiler_temp$jscomp$180_parent$jscomp$30_top$jscomp$7$$=$$jscomp$destructuring$var141_JSCompiler_temp$jscomp$180_parent$jscomp$30_top$jscomp$7$$.top;$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.$scrollsLikeViewport_$&&
($element$jscomp$200_i$jscomp$121_left$jscomp$6$$+=$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.getScrollLeft(),$$jscomp$destructuring$var141_JSCompiler_temp$jscomp$180_parent$jscomp$30_top$jscomp$7$$+=$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.getScrollTop());$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.$position_$=$positionLt$$module$src$service$layers_impl$$($element$jscomp$200_i$jscomp$121_left$jscomp$6$$-$relative$$.left,$$jscomp$destructuring$var141_JSCompiler_temp$jscomp$180_parent$jscomp$30_top$jscomp$7$$-
$relative$$.top);($getMode$$module$src$mode$$().localDev||$getMode$$module$src$mode$$().test)&&Object.freeze&&(Object.freeze($JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.$size_$),Object.freeze($JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.$position_$));$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$=$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.$children_$;if($JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.length)for($element$jscomp$200_i$jscomp$121_left$jscomp$6$$=
0;$element$jscomp$200_i$jscomp$121_left$jscomp$6$$<$JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$.length;$element$jscomp$200_i$jscomp$121_left$jscomp$6$$++)$JSCompiler_StaticMethods_remeasure_$$($JSCompiler_StaticMethods_remeasure_$self_children$jscomp$127$$[$element$jscomp$200_i$jscomp$121_left$jscomp$6$$])}
function $JSCompiler_StaticMethods_updateScrollPosition_$$($JSCompiler_StaticMethods_updateScrollPosition_$self$$){$JSCompiler_StaticMethods_updateScrollPosition_$self$$.$isLayer_$&&$JSCompiler_StaticMethods_updateScrollPosition_$self$$.$needsScrollRemeasure_$&&($JSCompiler_StaticMethods_updateScrollPosition_$self$$.$needsScrollRemeasure_$=!1,$JSCompiler_StaticMethods_updateScrollPosition_$self$$.$scrollLeft_$=$JSCompiler_StaticMethods_updateScrollPosition_$self$$.$element_$.scrollLeft,$JSCompiler_StaticMethods_updateScrollPosition_$self$$.$scrollTop_$=
$JSCompiler_StaticMethods_updateScrollPosition_$self$$.$element_$.scrollTop)}function $frameParent$$module$src$service$layers_impl$$($node$jscomp$48$$){try{var $defaultView$jscomp$1$$=$node$jscomp$48$$.defaultView,$frameElement$jscomp$2$$=$defaultView$jscomp$1$$&&$defaultView$jscomp$1$$.frameElement;return $frameElement$jscomp$2$$&&$frameElement$jscomp$2$$.__AMP_EMBED__?$frameElement$jscomp$2$$:null}catch($e$jscomp$90$$){}return null}
function $isDestroyed$$module$src$service$layers_impl$$($defaultView$jscomp$2_node$jscomp$49_ownerDocument$jscomp$3$$){$defaultView$jscomp$2_node$jscomp$49_ownerDocument$jscomp$3$$=$defaultView$jscomp$2_node$jscomp$49_ownerDocument$jscomp$3$$.ownerDocument;if(!$defaultView$jscomp$2_node$jscomp$49_ownerDocument$jscomp$3$$)return!0;$defaultView$jscomp$2_node$jscomp$49_ownerDocument$jscomp$3$$=$defaultView$jscomp$2_node$jscomp$49_ownerDocument$jscomp$3$$.defaultView;return!$defaultView$jscomp$2_node$jscomp$49_ownerDocument$jscomp$3$$||
!$defaultView$jscomp$2_node$jscomp$49_ownerDocument$jscomp$3$$.document}
function $installLayersServiceForDoc$$module$src$service$layers_impl$$($ampdoc$jscomp$74$$,$scrollingElement$jscomp$3$$,$scrollingElementScrollsLikeViewport$jscomp$1$$){$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$74$$,"layers",function($ampdoc$jscomp$74$$){return new $LayoutLayers$$module$src$service$layers_impl$$($ampdoc$jscomp$74$$,$scrollingElement$jscomp$3$$,$scrollingElementScrollsLikeViewport$jscomp$1$$)},!0)};function $numeric$$module$src$transition$$($start$jscomp$11$$,$end$jscomp$6$$){return function($time$jscomp$8$$){return $start$jscomp$11$$+($end$jscomp$6$$-$start$jscomp$11$$)*$time$jscomp$8$$}};function $Viewport$$module$src$service$viewport$viewport_impl$$($ampdoc$jscomp$76$$,$binding$jscomp$8$$,$viewer$jscomp$19$$){var $$jscomp$this$jscomp$144$$=this,$win$jscomp$199$$=$ampdoc$jscomp$76$$.win;this.ampdoc=$ampdoc$jscomp$76$$;this.$globalDoc_$=this.ampdoc.win.document;this.$binding_$=$binding$jscomp$8$$;this.$viewer_$=$viewer$jscomp$19$$;this.$scrollTop_$=this.$size_$=this.$rect_$=null;this.$scrollAnimationFrameThrottled_$=!1;this.$scrollLeft_$=null;this.$paddingTop_$=Number($viewer$jscomp$19$$.getParam("paddingTop")||
0);this.$lastPaddingTop_$=0;this.$timer_$=$Services$$module$src$services$timerFor$$($win$jscomp$199$$);this.$vsync_$=$Services$$module$src$services$vsyncFor$$($win$jscomp$199$$);this.$scrollTracking_$=!1;this.$scrollCount_$=0;this.$changeObservable_$=new $Observable$$module$src$observable$$;this.$scrollObservable_$=new $Observable$$module$src$observable$$;this.$resizeObservable_$=new $Observable$$module$src$observable$$;this.$originalViewportMetaString_$=this.$viewportMeta_$=void 0;(this.$useLayers_$=
$isExperimentOn$$module$src$experiments$$($win$jscomp$199$$,"layers"))&&$installLayersServiceForDoc$$module$src$service$layers_impl$$($ampdoc$jscomp$76$$,this.$binding_$.getScrollingElement(),this.$binding_$.getScrollingElementScrollsLikeViewport());this.$fixedLayer_$=new $FixedLayer$$module$src$service$fixed_layer$$($ampdoc$jscomp$76$$,this.$vsync_$,this.$binding_$.getBorderTop(),this.$paddingTop_$,this.$binding_$.requiresFixedLayerTransfer());$ampdoc$jscomp$76$$.whenReady().then(function(){return $$jscomp$this$jscomp$144$$.$fixedLayer_$.setup()});
this.$viewer_$.onMessage("viewport",this.$updateOnViewportEvent_$.bind(this));this.$viewer_$.onMessage("scroll",this.$viewerSetScrollTop_$.bind(this));this.$viewer_$.onMessage("disableScroll",this.$disableScrollEventHandler_$.bind(this));this.$binding_$.updatePaddingTop(this.$paddingTop_$);this.$binding_$.onScroll(this.$scroll_$.bind(this));this.$binding_$.onResize(this.$resize_$.bind(this));this.onScroll(this.$sendScrollMessage_$.bind(this));this.$visible_$=!1;this.$viewer_$.onVisibilityChanged(this.$updateVisibility_$.bind(this));
this.$updateVisibility_$();var $globalDocElement$$=this.$globalDoc_$.documentElement;$ampdoc$jscomp$76$$.isSingleDoc()&&$globalDocElement$$.classList.add("i-amphtml-singledoc");$viewer$jscomp$19$$.isEmbedded()?$globalDocElement$$.classList.add("i-amphtml-embedded"):$globalDocElement$$.classList.add("i-amphtml-standalone");$isIframed$$module$src$dom$$($win$jscomp$199$$)&&$globalDocElement$$.classList.add("i-amphtml-iframed");"1"===$viewer$jscomp$19$$.getParam("webview")&&$globalDocElement$$.classList.add("i-amphtml-webview");
$isIframed$$module$src$dom$$($win$jscomp$199$$)&&"scrollRestoration"in $win$jscomp$199$$.history&&($win$jscomp$199$$.history.scrollRestoration="manual")}$JSCompiler_prototypeAlias$$=$Viewport$$module$src$service$viewport$viewport_impl$$.prototype;$JSCompiler_prototypeAlias$$.dispose=function(){this.$binding_$.disconnect()};$JSCompiler_prototypeAlias$$.ensureReadyForElements=function(){this.$binding_$.ensureReadyForElements()};
$JSCompiler_prototypeAlias$$.$updateVisibility_$=function(){var $visible$jscomp$3$$=this.$viewer_$.isVisible();$visible$jscomp$3$$!=this.$visible_$&&((this.$visible_$=$visible$jscomp$3$$)?(this.$binding_$.connect(),this.$size_$&&this.$resize_$()):this.$binding_$.disconnect())};$JSCompiler_prototypeAlias$$.getPaddingTop=function(){return this.$paddingTop_$};$JSCompiler_prototypeAlias$$.getTop=function(){return this.getScrollTop()};
$JSCompiler_prototypeAlias$$.getScrollTop=function(){null==this.$scrollTop_$&&(this.$scrollTop_$=this.$binding_$.getScrollTop());return this.$scrollTop_$};$JSCompiler_prototypeAlias$$.getScrollLeft=function(){null==this.$scrollLeft_$&&(this.$scrollLeft_$=this.$binding_$.getScrollLeft());return this.$scrollLeft_$};$JSCompiler_prototypeAlias$$.setScrollTop=function($scrollPos$jscomp$1$$){this.$scrollTop_$=null;this.$binding_$.setScrollTop($scrollPos$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.getVerticalScrollbarWidth=function(){var $win$jscomp$200$$=this.ampdoc.win,$windowWidth$$=$win$jscomp$200$$.innerWidth,$documentWidth$$=$win$jscomp$200$$.document.documentElement.clientWidth;return $windowWidth$$-$documentWidth$$};$JSCompiler_prototypeAlias$$.updatePaddingBottom=function($paddingBottom$$){this.ampdoc.whenBodyAvailable().then(function($body$jscomp$9$$){$setStyle$$module$src$style$$($body$jscomp$9$$,"borderBottom",$paddingBottom$$+"px solid transparent")})};
$JSCompiler_prototypeAlias$$.getSize=function(){if(this.$size_$)return this.$size_$;this.$size_$=this.$binding_$.getSize();if(0==this.$size_$.width||0==this.$size_$.height){var $visibilityState$$=this.$viewer_$.getVisibilityState();("prerender"==$visibilityState$$||"visible"==$visibilityState$$)&&.01>Math.random()&&$dev$$module$src$log$$().error("Viewport","viewport has zero dimensions")}return this.$size_$};$JSCompiler_prototypeAlias$$.getHeight=function(){return this.getSize().height};
$JSCompiler_prototypeAlias$$.getWidth=function(){return this.getSize().width};$JSCompiler_prototypeAlias$$.getScrollWidth=function(){return this.$binding_$.getScrollWidth()};$JSCompiler_prototypeAlias$$.getScrollHeight=function(){return this.$binding_$.getScrollHeight()};$JSCompiler_prototypeAlias$$.getContentHeight=function(){return this.$binding_$.getContentHeight()};$JSCompiler_prototypeAlias$$.contentHeightChanged=function(){this.$binding_$.contentHeightChanged()};
$JSCompiler_prototypeAlias$$.getRect=function(){if(null==this.$rect_$){var $scrollTop$jscomp$7$$=0,$scrollLeft$jscomp$4$$=0;this.$useLayers_$||($scrollTop$jscomp$7$$=this.getScrollTop(),$scrollLeft$jscomp$4$$=this.getScrollLeft());var $size$jscomp$18$$=this.getSize();this.$rect_$=$layoutRectLtwh$$module$src$layout_rect$$($scrollLeft$jscomp$4$$,$scrollTop$jscomp$7$$,$size$jscomp$18$$.width,$size$jscomp$18$$.height)}return this.$rect_$};
$JSCompiler_prototypeAlias$$.getLayoutRect=function($b$jscomp$8_el$jscomp$22$$){var $c$jscomp$4_scrollLeft$jscomp$5$$=this.getScrollLeft(),$scrollTop$jscomp$8$$=this.getScrollTop(),$frameElement$jscomp$3$$=$getParentWindowFrameElement$$module$src$service$$($b$jscomp$8_el$jscomp$22$$,this.ampdoc.win);return $frameElement$jscomp$3$$?($b$jscomp$8_el$jscomp$22$$=this.$binding_$.getLayoutRect($b$jscomp$8_el$jscomp$22$$,0,0),$c$jscomp$4_scrollLeft$jscomp$5$$=this.$binding_$.getLayoutRect($frameElement$jscomp$3$$,
$c$jscomp$4_scrollLeft$jscomp$5$$,$scrollTop$jscomp$8$$),$layoutRectLtwh$$module$src$layout_rect$$(Math.round($b$jscomp$8_el$jscomp$22$$.left+$c$jscomp$4_scrollLeft$jscomp$5$$.left),Math.round($b$jscomp$8_el$jscomp$22$$.top+$c$jscomp$4_scrollLeft$jscomp$5$$.top),Math.round($b$jscomp$8_el$jscomp$22$$.width),Math.round($b$jscomp$8_el$jscomp$22$$.height))):this.$binding_$.getLayoutRect($b$jscomp$8_el$jscomp$22$$,$c$jscomp$4_scrollLeft$jscomp$5$$,$scrollTop$jscomp$8$$)};
$JSCompiler_prototypeAlias$$.getClientRectAsync=function($el$jscomp$23$$){var $$jscomp$this$jscomp$145$$=this;if(this.$useLayers_$)return this.$vsync_$.measurePromise(function(){return $$jscomp$this$jscomp$145$$.getLayoutRect($el$jscomp$23$$)});var $local$$=this.$vsync_$.measurePromise(function(){return $el$jscomp$23$$.getBoundingClientRect()}),$root$jscomp$23$$=this.$binding_$.getRootClientRectAsync(),$frameElement$jscomp$4$$=$getParentWindowFrameElement$$module$src$service$$($el$jscomp$23$$,this.ampdoc.win);
$frameElement$jscomp$4$$&&($root$jscomp$23$$=this.$vsync_$.measurePromise(function(){return $frameElement$jscomp$4$$.getBoundingClientRect()}));return Promise.all([$local$$,$root$jscomp$23$$]).then(function($el$jscomp$23$$){var $$jscomp$this$jscomp$145$$=$el$jscomp$23$$[0];return($el$jscomp$23$$=$el$jscomp$23$$[1])?$moveLayoutRect$$module$src$layout_rect$$($$jscomp$this$jscomp$145$$,$el$jscomp$23$$.left,$el$jscomp$23$$.top):$layoutRectLtwh$$module$src$layout_rect$$(Number($$jscomp$this$jscomp$145$$.left),
Number($$jscomp$this$jscomp$145$$.top),Number($$jscomp$this$jscomp$145$$.width),Number($$jscomp$this$jscomp$145$$.height))})};$JSCompiler_prototypeAlias$$.supportsPositionFixed=function(){return this.$binding_$.supportsPositionFixed()};$JSCompiler_prototypeAlias$$.isDeclaredFixed=function($element$jscomp$203$$){return this.$fixedLayer_$.isDeclaredFixed($element$jscomp$203$$)};
$JSCompiler_prototypeAlias$$.scrollIntoView=function($element$jscomp$204$$){var $$jscomp$this$jscomp$146$$=this;return $JSCompiler_StaticMethods_getScrollingContainerFor_$$(this,$element$jscomp$204$$).then(function($parent$jscomp$31$$){return $JSCompiler_StaticMethods_scrollIntoViewInternal_$$($$jscomp$this$jscomp$146$$,$element$jscomp$204$$,$parent$jscomp$31$$)})};
function $JSCompiler_StaticMethods_scrollIntoViewInternal_$$($JSCompiler_StaticMethods_scrollIntoViewInternal_$self$$,$element$jscomp$205$$,$parent$jscomp$32$$){var $elementTop$$=$JSCompiler_StaticMethods_scrollIntoViewInternal_$self$$.$binding_$.getLayoutRect($element$jscomp$205$$).top,$newScrollTopPromise$$=$JSCompiler_StaticMethods_scrollIntoViewInternal_$self$$.$useLayers_$?$JSCompiler_StaticMethods_getElementScrollTop_$$($JSCompiler_StaticMethods_scrollIntoViewInternal_$self$$,$parent$jscomp$32$$).then(function($JSCompiler_StaticMethods_scrollIntoViewInternal_$self$$){return $elementTop$$+
$JSCompiler_StaticMethods_scrollIntoViewInternal_$self$$}):$tryResolve$$module$src$utils$promise$$(function(){return Math.max(0,$elementTop$$-$JSCompiler_StaticMethods_scrollIntoViewInternal_$self$$.$paddingTop_$)});$newScrollTopPromise$$.then(function($element$jscomp$205$$){return $JSCompiler_StaticMethods_setElementScrollTop_$$($JSCompiler_StaticMethods_scrollIntoViewInternal_$self$$,$parent$jscomp$32$$,$element$jscomp$205$$)})}
$JSCompiler_prototypeAlias$$.animateScrollIntoView=function($element$jscomp$206$$,$pos$jscomp$6$$,$opt_duration$jscomp$3$$,$opt_curve$jscomp$2$$){var $$jscomp$this$jscomp$148$$=this;$pos$jscomp$6$$=void 0===$pos$jscomp$6$$?"top":$pos$jscomp$6$$;return $JSCompiler_StaticMethods_getScrollingContainerFor_$$(this,$element$jscomp$206$$).then(function($parent$jscomp$33$$){return $$jscomp$this$jscomp$148$$.animateScrollWithinParent($element$jscomp$206$$,$parent$jscomp$33$$,$pos$jscomp$6$$,$opt_duration$jscomp$3$$,
$opt_curve$jscomp$2$$)})};
$JSCompiler_prototypeAlias$$.animateScrollWithinParent=function($element$jscomp$207_parentHeight$jscomp$2$$,$parent$jscomp$34$$,$pos$jscomp$7$$,$opt_duration$jscomp$4$$,$opt_curve$jscomp$3$$){var $$jscomp$this$jscomp$149$$=this,$elementRect$jscomp$1$$=this.$binding_$.getLayoutRect($element$jscomp$207_parentHeight$jscomp$2$$);$element$jscomp$207_parentHeight$jscomp$2$$=($parent$jscomp$34$$==this.$binding_$.getScrollingElement()?this.getSize():this.getLayoutRect($parent$jscomp$34$$)).height;switch($pos$jscomp$7$$){case "bottom":var $offset$jscomp$19$$=
-$element$jscomp$207_parentHeight$jscomp$2$$+$elementRect$jscomp$1$$.height;break;case "center":$offset$jscomp$19$$=-$element$jscomp$207_parentHeight$jscomp$2$$/2+$elementRect$jscomp$1$$.height/2;break;default:$offset$jscomp$19$$=0}return $JSCompiler_StaticMethods_getElementScrollTop_$$(this,$parent$jscomp$34$$).then(function($element$jscomp$207_parentHeight$jscomp$2$$){if($$jscomp$this$jscomp$149$$.$useLayers_$)var $pos$jscomp$7$$=Math.max(0,$elementRect$jscomp$1$$.top+$offset$jscomp$19$$+$element$jscomp$207_parentHeight$jscomp$2$$);
else{var $curScrollTop$$=$elementRect$jscomp$1$$.top-$$jscomp$this$jscomp$149$$.$paddingTop_$+$offset$jscomp$19$$;$pos$jscomp$7$$=Math.max(0,$curScrollTop$$)}if($pos$jscomp$7$$!=$element$jscomp$207_parentHeight$jscomp$2$$)return $JSCompiler_StaticMethods_interpolateScrollIntoView_$$($$jscomp$this$jscomp$149$$,$parent$jscomp$34$$,$element$jscomp$207_parentHeight$jscomp$2$$,$pos$jscomp$7$$,$opt_duration$jscomp$4$$,$opt_curve$jscomp$3$$)})};
function $JSCompiler_StaticMethods_interpolateScrollIntoView_$$($JSCompiler_StaticMethods_interpolateScrollIntoView_$self$$,$parent$jscomp$35$$,$curScrollTop$jscomp$1$$,$newScrollTop$jscomp$2$$,$duration$jscomp$5_opt_duration$jscomp$5$$,$curve$jscomp$3$$){$curve$jscomp$3$$=void 0===$curve$jscomp$3$$?"ease-in":$curve$jscomp$3$$;$duration$jscomp$5_opt_duration$jscomp$5$$=void 0!==$duration$jscomp$5_opt_duration$jscomp$5$$?$duration$jscomp$5_opt_duration$jscomp$5$$:Math.floor($clamp$$module$src$utils$math$$(.65*
Math.abs($curScrollTop$jscomp$1$$-$newScrollTop$jscomp$2$$)));var $interpolate$$=$numeric$$module$src$transition$$($curScrollTop$jscomp$1$$,$newScrollTop$jscomp$2$$);return $Animation$$module$src$animation$animate$$($parent$jscomp$35$$,function($curScrollTop$jscomp$1$$){$JSCompiler_StaticMethods_setElementScrollTop_$$($JSCompiler_StaticMethods_interpolateScrollIntoView_$self$$,$parent$jscomp$35$$,$interpolate$$($curScrollTop$jscomp$1$$))},$duration$jscomp$5_opt_duration$jscomp$5$$,$curve$jscomp$3$$).thenAlways(function(){$JSCompiler_StaticMethods_setElementScrollTop_$$($JSCompiler_StaticMethods_interpolateScrollIntoView_$self$$,
$parent$jscomp$35$$,$newScrollTop$jscomp$2$$)})}function $JSCompiler_StaticMethods_getScrollingContainerFor_$$($JSCompiler_StaticMethods_getScrollingContainerFor_$self$$,$element$jscomp$208$$){return $JSCompiler_StaticMethods_getScrollingContainerFor_$self$$.$vsync_$.measurePromise(function(){return $closestAncestorElementBySelector$$module$src$dom$$($element$jscomp$208$$,".i-amphtml-scrollable")||$JSCompiler_StaticMethods_getScrollingContainerFor_$self$$.$binding_$.getScrollingElement()})}
function $JSCompiler_StaticMethods_setElementScrollTop_$$($JSCompiler_StaticMethods_setElementScrollTop_$self$$,$element$jscomp$209$$,$scrollTop$jscomp$10$$){$element$jscomp$209$$==$JSCompiler_StaticMethods_setElementScrollTop_$self$$.$binding_$.getScrollingElement()?$JSCompiler_StaticMethods_setElementScrollTop_$self$$.$binding_$.setScrollTop($scrollTop$jscomp$10$$):$JSCompiler_StaticMethods_setElementScrollTop_$self$$.$vsync_$.mutate(function(){$element$jscomp$209$$.scrollTop=$scrollTop$jscomp$10$$})}
function $JSCompiler_StaticMethods_getElementScrollTop_$$($JSCompiler_StaticMethods_getElementScrollTop_$self$$,$element$jscomp$210$$){return $element$jscomp$210$$==$JSCompiler_StaticMethods_getElementScrollTop_$self$$.$binding_$.getScrollingElement()?$tryResolve$$module$src$utils$promise$$(function(){return $JSCompiler_StaticMethods_getElementScrollTop_$self$$.getScrollTop()}):$JSCompiler_StaticMethods_getElementScrollTop_$self$$.$vsync_$.measurePromise(function(){return $element$jscomp$210$$.scrollTop})}
$JSCompiler_prototypeAlias$$.getScrollingElement=function(){return this.$binding_$.getScrollingElement()};$JSCompiler_prototypeAlias$$.onChanged=function($handler$jscomp$30$$){return this.$changeObservable_$.add($handler$jscomp$30$$)};$JSCompiler_prototypeAlias$$.onScroll=function($handler$jscomp$31$$){return this.$scrollObservable_$.add($handler$jscomp$31$$)};$JSCompiler_prototypeAlias$$.onResize=function($handler$jscomp$32$$){return this.$resizeObservable_$.add($handler$jscomp$32$$)};
$JSCompiler_prototypeAlias$$.enterLightboxMode=function($opt_requestingElement$$,$opt_onComplete$jscomp$1$$){this.$viewer_$.sendMessage("requestFullOverlay",{},!0);this.enterOverlayMode();this.$fixedLayer_$.enterLightbox($opt_requestingElement$$,$opt_onComplete$jscomp$1$$);$opt_requestingElement$$&&this.maybeEnterFieLightboxMode($opt_requestingElement$$);return this.$binding_$.updateLightboxMode(!0)};
$JSCompiler_prototypeAlias$$.leaveLightboxMode=function($opt_requestingElement$jscomp$1$$){this.$viewer_$.sendMessage("cancelFullOverlay",{},!0);this.$fixedLayer_$.leaveLightbox();this.leaveOverlayMode();$opt_requestingElement$jscomp$1$$&&this.maybeLeaveFieLightboxMode($opt_requestingElement$jscomp$1$$);return this.$binding_$.updateLightboxMode(!1)};$JSCompiler_prototypeAlias$$.isLightboxExperimentOn=function(){return $isExperimentOn$$module$src$experiments$$(this.ampdoc.win,"amp-lightbox-a4a-proto")};
$JSCompiler_prototypeAlias$$.maybeEnterFieLightboxMode=function($requestingElement$$){var $fieOptional$$=$JSCompiler_StaticMethods_getFriendlyIframeEmbed_$$(this,$requestingElement$$);$fieOptional$$&&(this.isLightboxExperimentOn(),$fieOptional$$.enterFullOverlayMode())};
$JSCompiler_prototypeAlias$$.maybeLeaveFieLightboxMode=function($fieOptional$jscomp$1_requestingElement$jscomp$1$$){($fieOptional$jscomp$1_requestingElement$jscomp$1$$=$JSCompiler_StaticMethods_getFriendlyIframeEmbed_$$(this,$fieOptional$jscomp$1_requestingElement$jscomp$1$$))&&$fieOptional$jscomp$1_requestingElement$jscomp$1$$.leaveFullOverlayMode()};
function $JSCompiler_StaticMethods_getFriendlyIframeEmbed_$$($JSCompiler_StaticMethods_getFriendlyIframeEmbed_$self$$,$element$jscomp$212$$){var $iframeOptional$$=$getParentWindowFrameElement$$module$src$service$$($element$jscomp$212$$,$JSCompiler_StaticMethods_getFriendlyIframeEmbed_$self$$.ampdoc.win);return $iframeOptional$$&&$iframeOptional$$.__AMP_EMBED__}$JSCompiler_prototypeAlias$$.enterOverlayMode=function(){this.disableTouchZoom();this.disableScroll()};
$JSCompiler_prototypeAlias$$.leaveOverlayMode=function(){this.resetScroll();this.restoreOriginalTouchZoom()};
$JSCompiler_prototypeAlias$$.disableScroll=function(){var $$jscomp$this$jscomp$153$$=this,$win$jscomp$201$$=this.ampdoc.win,$documentElement$jscomp$4$$=$win$jscomp$201$$.document.documentElement,$requestedMarginRight$$;this.$vsync_$.measure(function(){var $existingMargin$$=$computedStyle$$module$src$style$$($win$jscomp$201$$,$documentElement$jscomp$4$$).marginRight,$scrollbarWidth$$=$$jscomp$this$jscomp$153$$.getVerticalScrollbarWidth();$requestedMarginRight$$=parseInt($existingMargin$$,10)+$scrollbarWidth$$});
this.$vsync_$.mutate(function(){$setStyle$$module$src$style$$($documentElement$jscomp$4$$,"margin-right",$requestedMarginRight$$,"px");$$jscomp$this$jscomp$153$$.$binding_$.disableScroll()})};$JSCompiler_prototypeAlias$$.resetScroll=function(){var $$jscomp$this$jscomp$154$$=this,$documentElement$jscomp$5$$=this.ampdoc.win.document.documentElement;this.$vsync_$.mutate(function(){$setStyle$$module$src$style$$($documentElement$jscomp$5$$,"margin-right","");$$jscomp$this$jscomp$154$$.$binding_$.resetScroll()})};
$JSCompiler_prototypeAlias$$.resetTouchZoom=function(){var $$jscomp$this$jscomp$155$$=this,$windowHeight$$=this.ampdoc.win.innerHeight,$documentHeight$$=this.$globalDoc_$.documentElement.clientHeight;$windowHeight$$&&$documentHeight$$&&$windowHeight$$===$documentHeight$$||this.disableTouchZoom()&&this.$timer_$.delay(function(){$$jscomp$this$jscomp$155$$.restoreOriginalTouchZoom()},50)};
$JSCompiler_prototypeAlias$$.disableTouchZoom=function(){var $viewportMeta$$=$JSCompiler_StaticMethods_getViewportMeta_$$(this);if(!$viewportMeta$$)return!1;var $JSCompiler_content$jscomp$inline_866_JSCompiler_currentValue$jscomp$inline_656$$=$viewportMeta$$.content,$JSCompiler_updateParams$jscomp$inline_657$$={"maximum-scale":"1","user-scalable":"no"};var $JSCompiler_params$jscomp$inline_858_JSCompiler_temp$jscomp$756$$=Object.create(null);if($JSCompiler_content$jscomp$inline_866_JSCompiler_currentValue$jscomp$inline_656$$)for(var $JSCompiler_changed$jscomp$inline_659_JSCompiler_pairs$jscomp$inline_859$$=
$JSCompiler_content$jscomp$inline_866_JSCompiler_currentValue$jscomp$inline_656$$.split(/,|;/),$JSCompiler_i$jscomp$inline_860$$=0;$JSCompiler_i$jscomp$inline_860$$<$JSCompiler_changed$jscomp$inline_659_JSCompiler_pairs$jscomp$inline_859$$.length;$JSCompiler_i$jscomp$inline_860$$++){var $JSCompiler_split$jscomp$inline_861_JSCompiler_value$jscomp$inline_863$$=$JSCompiler_changed$jscomp$inline_659_JSCompiler_pairs$jscomp$inline_859$$[$JSCompiler_i$jscomp$inline_860$$].split("="),$JSCompiler_name$jscomp$inline_862$$=
$JSCompiler_split$jscomp$inline_861_JSCompiler_value$jscomp$inline_863$$[0].trim();$JSCompiler_split$jscomp$inline_861_JSCompiler_value$jscomp$inline_863$$=$JSCompiler_split$jscomp$inline_861_JSCompiler_value$jscomp$inline_863$$[1];$JSCompiler_split$jscomp$inline_861_JSCompiler_value$jscomp$inline_863$$=($JSCompiler_split$jscomp$inline_861_JSCompiler_value$jscomp$inline_863$$||"").trim();$JSCompiler_name$jscomp$inline_862$$&&($JSCompiler_params$jscomp$inline_858_JSCompiler_temp$jscomp$756$$[$JSCompiler_name$jscomp$inline_862$$]=
$JSCompiler_split$jscomp$inline_861_JSCompiler_value$jscomp$inline_863$$)}$JSCompiler_changed$jscomp$inline_659_JSCompiler_pairs$jscomp$inline_859$$=!1;for(var $JSCompiler_k$jscomp$inline_660$$ in $JSCompiler_updateParams$jscomp$inline_657$$)$JSCompiler_params$jscomp$inline_858_JSCompiler_temp$jscomp$756$$[$JSCompiler_k$jscomp$inline_660$$]!==$JSCompiler_updateParams$jscomp$inline_657$$[$JSCompiler_k$jscomp$inline_660$$]&&($JSCompiler_changed$jscomp$inline_659_JSCompiler_pairs$jscomp$inline_859$$=
!0,void 0!==$JSCompiler_updateParams$jscomp$inline_657$$[$JSCompiler_k$jscomp$inline_660$$]?$JSCompiler_params$jscomp$inline_858_JSCompiler_temp$jscomp$756$$[$JSCompiler_k$jscomp$inline_660$$]=$JSCompiler_updateParams$jscomp$inline_657$$[$JSCompiler_k$jscomp$inline_660$$]:delete $JSCompiler_params$jscomp$inline_858_JSCompiler_temp$jscomp$756$$[$JSCompiler_k$jscomp$inline_660$$]);if($JSCompiler_changed$jscomp$inline_659_JSCompiler_pairs$jscomp$inline_859$$){$JSCompiler_content$jscomp$inline_866_JSCompiler_currentValue$jscomp$inline_656$$=
"";for(var $JSCompiler_k$jscomp$inline_867$$ in $JSCompiler_params$jscomp$inline_858_JSCompiler_temp$jscomp$756$$)0<$JSCompiler_content$jscomp$inline_866_JSCompiler_currentValue$jscomp$inline_656$$.length&&($JSCompiler_content$jscomp$inline_866_JSCompiler_currentValue$jscomp$inline_656$$+=","),$JSCompiler_content$jscomp$inline_866_JSCompiler_currentValue$jscomp$inline_656$$=$JSCompiler_params$jscomp$inline_858_JSCompiler_temp$jscomp$756$$[$JSCompiler_k$jscomp$inline_867$$]?$JSCompiler_content$jscomp$inline_866_JSCompiler_currentValue$jscomp$inline_656$$+
($JSCompiler_k$jscomp$inline_867$$+"="+$JSCompiler_params$jscomp$inline_858_JSCompiler_temp$jscomp$756$$[$JSCompiler_k$jscomp$inline_867$$]):$JSCompiler_content$jscomp$inline_866_JSCompiler_currentValue$jscomp$inline_656$$+$JSCompiler_k$jscomp$inline_867$$;$JSCompiler_params$jscomp$inline_858_JSCompiler_temp$jscomp$756$$=$JSCompiler_content$jscomp$inline_866_JSCompiler_currentValue$jscomp$inline_656$$}else $JSCompiler_params$jscomp$inline_858_JSCompiler_temp$jscomp$756$$=$JSCompiler_content$jscomp$inline_866_JSCompiler_currentValue$jscomp$inline_656$$;
return $JSCompiler_StaticMethods_setViewportMetaString_$$(this,$JSCompiler_params$jscomp$inline_858_JSCompiler_temp$jscomp$756$$)};$JSCompiler_prototypeAlias$$.restoreOriginalTouchZoom=function(){return void 0!==this.$originalViewportMetaString_$?$JSCompiler_StaticMethods_setViewportMetaString_$$(this,this.$originalViewportMetaString_$):!1};$JSCompiler_prototypeAlias$$.hasScrolled=function(){return 0<this.$scrollCount_$};$JSCompiler_prototypeAlias$$.updateFixedLayer=function(){this.$fixedLayer_$.update()};
$JSCompiler_prototypeAlias$$.addToFixedLayer=function($element$jscomp$213$$,$opt_forceTransfer$jscomp$2$$){return this.$fixedLayer_$.addElement($element$jscomp$213$$,$opt_forceTransfer$jscomp$2$$)};$JSCompiler_prototypeAlias$$.removeFromFixedLayer=function($element$jscomp$214$$){this.$fixedLayer_$.removeElement($element$jscomp$214$$)};
function $JSCompiler_StaticMethods_setViewportMetaString_$$($JSCompiler_StaticMethods_setViewportMetaString_$self_viewportMeta$jscomp$1$$,$viewportMetaString$$){return($JSCompiler_StaticMethods_setViewportMetaString_$self_viewportMeta$jscomp$1$$=$JSCompiler_StaticMethods_getViewportMeta_$$($JSCompiler_StaticMethods_setViewportMetaString_$self_viewportMeta$jscomp$1$$))&&$JSCompiler_StaticMethods_setViewportMetaString_$self_viewportMeta$jscomp$1$$.content!=$viewportMetaString$$?($JSCompiler_StaticMethods_setViewportMetaString_$self_viewportMeta$jscomp$1$$.content=
$viewportMetaString$$,!0):!1}
function $JSCompiler_StaticMethods_getViewportMeta_$$($JSCompiler_StaticMethods_getViewportMeta_$self$$){if($isIframed$$module$src$dom$$($JSCompiler_StaticMethods_getViewportMeta_$self$$.ampdoc.win))return null;void 0===$JSCompiler_StaticMethods_getViewportMeta_$self$$.$viewportMeta_$&&($JSCompiler_StaticMethods_getViewportMeta_$self$$.$viewportMeta_$=$JSCompiler_StaticMethods_getViewportMeta_$self$$.$globalDoc_$.querySelector("meta[name=viewport]"),$JSCompiler_StaticMethods_getViewportMeta_$self$$.$viewportMeta_$&&($JSCompiler_StaticMethods_getViewportMeta_$self$$.$originalViewportMetaString_$=
$JSCompiler_StaticMethods_getViewportMeta_$self$$.$viewportMeta_$.content));return $JSCompiler_StaticMethods_getViewportMeta_$self$$.$viewportMeta_$}$JSCompiler_prototypeAlias$$.$viewerSetScrollTop_$=function($data$jscomp$87$$){var $targetScrollTop$$=$data$jscomp$87$$.scrollTop;this.setScrollTop($targetScrollTop$$)};
$JSCompiler_prototypeAlias$$.$updateOnViewportEvent_$=function($data$jscomp$88$$){var $$jscomp$this$jscomp$156$$=this,$paddingTop$jscomp$8$$=$data$jscomp$88$$.paddingTop,$duration$jscomp$6$$=$data$jscomp$88$$.duration||0,$curve$jscomp$4$$=$data$jscomp$88$$.curve,$transient$jscomp$6$$=$data$jscomp$88$$["transient"];if(void 0!=$paddingTop$jscomp$8$$&&$paddingTop$jscomp$8$$!=this.$paddingTop_$){this.$lastPaddingTop_$=this.$paddingTop_$;this.$paddingTop_$=$paddingTop$jscomp$8$$;var $animPromise$$=$JSCompiler_StaticMethods_animateFixedElements_$$(this,
$duration$jscomp$6$$,$curve$jscomp$4$$,$transient$jscomp$6$$);$paddingTop$jscomp$8$$<this.$lastPaddingTop_$?this.$binding_$.hideViewerHeader($transient$jscomp$6$$,this.$lastPaddingTop_$):$animPromise$$.then(function(){$$jscomp$this$jscomp$156$$.$binding_$.showViewerHeader($transient$jscomp$6$$,$paddingTop$jscomp$8$$)})}};$JSCompiler_prototypeAlias$$.$disableScrollEventHandler_$=function($data$jscomp$89$$){$data$jscomp$89$$?this.disableScroll():this.resetScroll()};
function $JSCompiler_StaticMethods_animateFixedElements_$$($JSCompiler_StaticMethods_animateFixedElements_$self$$,$duration$jscomp$7$$,$curve$jscomp$5$$,$transient$jscomp$7$$){$JSCompiler_StaticMethods_animateFixedElements_$self$$.$fixedLayer_$.updatePaddingTop($JSCompiler_StaticMethods_animateFixedElements_$self$$.$paddingTop_$,$transient$jscomp$7$$);if(0>=$duration$jscomp$7$$)return Promise.resolve();var $tr$jscomp$2$$=$numeric$$module$src$transition$$($JSCompiler_StaticMethods_animateFixedElements_$self$$.$lastPaddingTop_$-
$JSCompiler_StaticMethods_animateFixedElements_$self$$.$paddingTop_$,0);return $Animation$$module$src$animation$animate$$($JSCompiler_StaticMethods_animateFixedElements_$self$$.ampdoc.getRootNode(),function($duration$jscomp$7$$){$duration$jscomp$7$$=$tr$jscomp$2$$($duration$jscomp$7$$);$JSCompiler_StaticMethods_animateFixedElements_$self$$.$fixedLayer_$.transformMutate("translateY("+$duration$jscomp$7$$+"px)")},$duration$jscomp$7$$,$curve$jscomp$5$$).thenAlways(function(){$JSCompiler_StaticMethods_animateFixedElements_$self$$.$fixedLayer_$.transformMutate(null)})}
function $JSCompiler_StaticMethods_changed_$$($JSCompiler_StaticMethods_changed_$self$$,$relayoutAll$jscomp$2$$,$velocity$$){var $size$jscomp$19$$=$JSCompiler_StaticMethods_changed_$self$$.getSize(),$scrollTop$jscomp$11$$=$JSCompiler_StaticMethods_changed_$self$$.getScrollTop(),$scrollLeft$jscomp$6$$=$JSCompiler_StaticMethods_changed_$self$$.getScrollLeft();$JSCompiler_StaticMethods_changed_$self$$.$changeObservable_$.fire({relayoutAll:$relayoutAll$jscomp$2$$,top:$scrollTop$jscomp$11$$,left:$scrollLeft$jscomp$6$$,
width:$size$jscomp$19$$.width,height:$size$jscomp$19$$.height,velocity:$velocity$$})}
$JSCompiler_prototypeAlias$$.$scroll_$=function(){var $$jscomp$this$jscomp$158$$=this;this.$rect_$=null;this.$scrollCount_$++;this.$scrollLeft_$=this.$binding_$.getScrollLeft();var $newScrollTop$jscomp$3$$=this.$binding_$.getScrollTop();if(!(0>$newScrollTop$jscomp$3$$)){this.$scrollTop_$=$newScrollTop$jscomp$3$$;if(!this.$scrollTracking_$){this.$scrollTracking_$=!0;var $now$jscomp$11$$=Date.now();this.$timer_$.delay(function(){$$jscomp$this$jscomp$158$$.$vsync_$.measure(function(){$$jscomp$this$jscomp$158$$.$throttledScroll_$($now$jscomp$11$$,$newScrollTop$jscomp$3$$)})},
36)}this.$scrollObservable_$.fire()}};
$JSCompiler_prototypeAlias$$.$throttledScroll_$=function($referenceTime$$,$referenceTop$$){var $$jscomp$this$jscomp$159$$=this,$newScrollTop$jscomp$4$$=this.$scrollTop_$=this.$binding_$.getScrollTop(),$now$jscomp$12$$=Date.now(),$velocity$jscomp$1$$=0;$now$jscomp$12$$!=$referenceTime$$&&($velocity$jscomp$1$$=($newScrollTop$jscomp$4$$-$referenceTop$$)/($now$jscomp$12$$-$referenceTime$$));.03>Math.abs($velocity$jscomp$1$$)?($JSCompiler_StaticMethods_changed_$$(this,!1,$velocity$jscomp$1$$),this.$scrollTracking_$=
!1):this.$timer_$.delay(function(){return $$jscomp$this$jscomp$159$$.$vsync_$.measure($$jscomp$this$jscomp$159$$.$throttledScroll_$.bind($$jscomp$this$jscomp$159$$,$now$jscomp$12$$,$newScrollTop$jscomp$4$$))},20)};
$JSCompiler_prototypeAlias$$.$sendScrollMessage_$=function(){var $$jscomp$this$jscomp$160$$=this;this.$scrollAnimationFrameThrottled_$||(this.$scrollAnimationFrameThrottled_$=!0,this.$vsync_$.measure(function(){$$jscomp$this$jscomp$160$$.$scrollAnimationFrameThrottled_$=!1;$$jscomp$this$jscomp$160$$.$viewer_$.sendMessage("scroll",$dict$$module$src$utils$object$$({scrollTop:$$jscomp$this$jscomp$160$$.getScrollTop()}),!0)}))};
$JSCompiler_prototypeAlias$$.$resize_$=function(){var $$jscomp$this$jscomp$161$$=this;this.$rect_$=null;var $oldSize$$=this.$size_$;this.$size_$=null;var $newSize$$=this.getSize();this.$fixedLayer_$.update().then(function(){var $widthChanged$$=!$oldSize$$||$oldSize$$.width!=$newSize$$.width;$JSCompiler_StaticMethods_changed_$$($$jscomp$this$jscomp$161$$,$widthChanged$$,0);var $sizeChanged$$=$widthChanged$$||$oldSize$$.height!=$newSize$$.height;$sizeChanged$$&&$$jscomp$this$jscomp$161$$.$resizeObservable_$.fire({relayoutAll:$widthChanged$$,
width:$newSize$$.width,height:$newSize$$.height})})};
function $createViewport$$module$src$service$viewport$viewport_impl$$($ampdoc$jscomp$77$$){var $viewer$jscomp$20$$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$77$$),$binding$jscomp$9_win$jscomp$203$$=$ampdoc$jscomp$77$$.win,$JSCompiler_temp$jscomp$182_JSCompiler_viewportType$jscomp$inline_664$$;if($JSCompiler_temp$jscomp$182_JSCompiler_viewportType$jscomp$inline_664$$=$ampdoc$jscomp$77$$.isSingleDoc())$JSCompiler_temp$jscomp$182_JSCompiler_viewportType$jscomp$inline_664$$=$viewer$jscomp$20$$.getParam("viewportType")||
$ViewportType$$module$src$service$viewport$viewport_impl$NATURAL$$,$JSCompiler_temp$jscomp$182_JSCompiler_viewportType$jscomp$inline_664$$=($Services$$module$src$services$platformFor$$($binding$jscomp$9_win$jscomp$203$$).isIos()&&$JSCompiler_temp$jscomp$182_JSCompiler_viewportType$jscomp$inline_664$$==$ViewportType$$module$src$service$viewport$viewport_impl$NATURAL$$?!$isIframed$$module$src$dom$$($binding$jscomp$9_win$jscomp$203$$)&&($getMode$$module$src$mode$$($binding$jscomp$9_win$jscomp$203$$).localDev||
$getMode$$module$src$mode$$($binding$jscomp$9_win$jscomp$203$$).development)||$isIframed$$module$src$dom$$($binding$jscomp$9_win$jscomp$203$$)&&$getMode$$module$src$mode$$($binding$jscomp$9_win$jscomp$203$$).test||$isIframed$$module$src$dom$$($binding$jscomp$9_win$jscomp$203$$)&&$viewer$jscomp$20$$.isEmbedded()?$ViewportType$$module$src$service$viewport$viewport_impl$NATURAL_IOS_EMBED$$:$JSCompiler_temp$jscomp$182_JSCompiler_viewportType$jscomp$inline_664$$:$JSCompiler_temp$jscomp$182_JSCompiler_viewportType$jscomp$inline_664$$)==
$ViewportType$$module$src$service$viewport$viewport_impl$NATURAL_IOS_EMBED$$;$binding$jscomp$9_win$jscomp$203$$=$JSCompiler_temp$jscomp$182_JSCompiler_viewportType$jscomp$inline_664$$?$isExperimentOn$$module$src$experiments$$($binding$jscomp$9_win$jscomp$203$$,"ios-embed-sd")&&$binding$jscomp$9_win$jscomp$203$$.Element.prototype.attachShadow&&11<=$Services$$module$src$services$platformFor$$($binding$jscomp$9_win$jscomp$203$$).getMajorVersion()?new $ViewportBindingIosEmbedShadowRoot_$$module$src$service$viewport$viewport_binding_ios_embed_sd$$($binding$jscomp$9_win$jscomp$203$$):
new $ViewportBindingIosEmbedWrapper_$$module$src$service$viewport$viewport_binding_ios_embed_wrapper$$($binding$jscomp$9_win$jscomp$203$$):new $ViewportBindingNatural_$$module$src$service$viewport$viewport_binding_natural$$($ampdoc$jscomp$77$$);return new $Viewport$$module$src$service$viewport$viewport_impl$$($ampdoc$jscomp$77$$,$binding$jscomp$9_win$jscomp$203$$,$viewer$jscomp$20$$)}
var $ViewportType$$module$src$service$viewport$viewport_impl$NATURAL$$="natural",$ViewportType$$module$src$service$viewport$viewport_impl$NATURAL_IOS_EMBED$$="natural-ios-embed";var $$jscomp$templatelit$6$$=['\n      <div class="i-amphtml-jank-meter"></div>'];$$jscomp$templatelit$6$$.raw=$$jscomp$templatelit$6$$.slice();
function $JankMeter$$module$src$service$jank_meter$$($win$jscomp$205$$){this.$win_$=$win$jscomp$205$$;this.$longTaskSelf_$=this.$longTaskChild_$=this.$totalFrameCnt_$=this.$badFrameCnt_$=0;this.$scheduledTime_$=null;this.$perf_$=$getExistingServiceOrNull$$module$src$service$$($win$jscomp$205$$);this.$longTaskObserver_$=this.$batteryLevelStart_$=this.$batteryManager_$=null;$JSCompiler_StaticMethods_initializeLongTaskObserver_$$(this)}
$JankMeter$$module$src$service$jank_meter$$.prototype.onScheduled=function(){$JSCompiler_StaticMethods_isEnabled_$$(this)&&null==this.$scheduledTime_$&&(this.$scheduledTime_$=this.$win_$.Date.now())};
$JankMeter$$module$src$service$jank_meter$$.prototype.onRun=function(){if($JSCompiler_StaticMethods_isEnabled_$$(this)&&null!=this.$scheduledTime_$){var $paintLatency$$=this.$win_$.Date.now()-this.$scheduledTime_$;this.$scheduledTime_$=null;this.$totalFrameCnt_$++;16<$paintLatency$$&&(this.$badFrameCnt_$++,$dev$$module$src$log$$().info("JANK","Paint latency: "+$paintLatency$$+"ms"));if(this.$perf_$&&200==this.$totalFrameCnt_$){var $gfp$$=this.$win_$.Math.floor((this.$totalFrameCnt_$-this.$badFrameCnt_$)/
this.$totalFrameCnt_$*100);this.$perf_$.tickDelta("gfp",$gfp$$);this.$perf_$.tickDelta("bf",this.$badFrameCnt_$);this.$longTaskObserver_$&&(this.$perf_$.tickDelta("lts",this.$longTaskSelf_$),this.$perf_$.tickDelta("ltc",this.$longTaskChild_$),this.$longTaskObserver_$.disconnect(),this.$longTaskObserver_$=null);var $batteryDrop$$=0;this.$batteryManager_$&&null!=this.$batteryLevelStart_$&&($batteryDrop$$=this.$win_$.Math.max(0,this.$win_$.Math.floor(100*this.$batteryManager_$.level-this.$batteryLevelStart_$)),
this.$perf_$.tickDelta("bd",$batteryDrop$$));this.$perf_$.flush();if($isExperimentOn$$module$src$experiments$$(this.$win_$,"jank-meter")){var $JSCompiler_batteryDrop$jscomp$inline_667$$=$batteryDrop$$,$JSCompiler_doc$jscomp$inline_668$$=this.$win_$.document,$JSCompiler_display$jscomp$inline_669$$=$htmlFor$$module$src$static_template$$($JSCompiler_doc$jscomp$inline_668$$)($$jscomp$templatelit$6$$);$JSCompiler_display$jscomp$inline_669$$.textContent="bf:"+this.$badFrameCnt_$+", lts: "+this.$longTaskSelf_$+
", "+("ltc:"+this.$longTaskChild_$+", bd:"+$JSCompiler_batteryDrop$jscomp$inline_667$$);$JSCompiler_doc$jscomp$inline_668$$.body.appendChild($JSCompiler_display$jscomp$inline_669$$)}}}};
function $JSCompiler_StaticMethods_isEnabled_$$($JSCompiler_StaticMethods_isEnabled_$self$$){return $isExperimentOn$$module$src$experiments$$($JSCompiler_StaticMethods_isEnabled_$self$$.$win_$,"jank-meter")||$JSCompiler_StaticMethods_isEnabled_$self$$.$perf_$&&$JSCompiler_StaticMethods_isEnabled_$self$$.$perf_$.isPerformanceTrackingOn()&&200>$JSCompiler_StaticMethods_isEnabled_$self$$.$totalFrameCnt_$}
function $JSCompiler_StaticMethods_initializeLongTaskObserver_$$($JSCompiler_StaticMethods_initializeLongTaskObserver_$self$$){$JSCompiler_StaticMethods_isEnabled_$$($JSCompiler_StaticMethods_initializeLongTaskObserver_$self$$)&&$isLongTaskApiSupported$$module$src$service$jank_meter$$($JSCompiler_StaticMethods_initializeLongTaskObserver_$self$$.$win_$)&&($JSCompiler_StaticMethods_initializeLongTaskObserver_$self$$.$longTaskObserver_$=new $JSCompiler_StaticMethods_initializeLongTaskObserver_$self$$.$win_$.PerformanceObserver(function($entryList$$){for(var $entries$jscomp$1$$=
$entryList$$.getEntries(),$i$jscomp$125$$=0;$i$jscomp$125$$<$entries$jscomp$1$$.length;$i$jscomp$125$$++)if("longtask"==$entries$jscomp$1$$[$i$jscomp$125$$].entryType){var $span$$=$JSCompiler_StaticMethods_initializeLongTaskObserver_$self$$.$win_$.Math.floor($entries$jscomp$1$$[$i$jscomp$125$$].duration/50);"cross-origin-descendant"==$entries$jscomp$1$$[$i$jscomp$125$$].name?($JSCompiler_StaticMethods_initializeLongTaskObserver_$self$$.$longTaskChild_$+=$span$$,$user$$module$src$log$$().info("LONGTASK",
"from child frame "+$entries$jscomp$1$$[$i$jscomp$125$$].duration+"ms")):($JSCompiler_StaticMethods_initializeLongTaskObserver_$self$$.$longTaskSelf_$+=$span$$,$dev$$module$src$log$$().info("LONGTASK","from self frame "+$entries$jscomp$1$$[$i$jscomp$125$$].duration+"ms"))}}),$JSCompiler_StaticMethods_initializeLongTaskObserver_$self$$.$longTaskObserver_$.observe({entryTypes:["longtask"]}))}
function $isLongTaskApiSupported$$module$src$service$jank_meter$$($win$jscomp$207$$){return!!$win$jscomp$207$$.PerformanceObserver&&!!$win$jscomp$207$$.TaskAttributionTiming&&"containerName"in $win$jscomp$207$$.TaskAttributionTiming.prototype};function $Vsync$$module$src$service$vsync_impl$$($win$jscomp$208$$){var $$jscomp$this$jscomp$164$$=this;this.win=$win$jscomp$208$$;this.$ampdocService_$=$Services$$module$src$services$ampdocServiceFor$$(this.win);this.$docState_$=$getService$$module$src$service$$(this.win,"documentState");this.$raf_$=$JSCompiler_StaticMethods_getRaf_$$(this);this.$tasks_$=[];this.$nextTasks_$=[];this.$states_$=[];this.$nextStates_$=[];this.$scheduled_$=!1;this.$nextFrameResolver_$=this.$nextFramePromise_$=null;this.$boundRunScheduledTasks_$=
this.$runScheduledTasks_$.bind(this);this.$invisiblePass_$=new $Pass$$module$src$pass$$(this.win,this.$boundRunScheduledTasks_$,16);this.$backupPass_$=new $Pass$$module$src$pass$$(this.win,this.$boundRunScheduledTasks_$,40);this.$singleDocViewer_$=null;var $boundOnVisibilityChanged$$=this.$onVisibilityChanged_$.bind(this);if(this.$ampdocService_$.isSingleDoc())$getServicePromiseForDoc$$module$src$service$$(this.$ampdocService_$.getAmpDoc(),"viewer").then(function($win$jscomp$208$$){$$jscomp$this$jscomp$164$$.$singleDocViewer_$=
$win$jscomp$208$$;$win$jscomp$208$$.onVisibilityChanged($boundOnVisibilityChanged$$)});else this.$docState_$.onVisibilityChanged($boundOnVisibilityChanged$$);this.$jankMeter_$=new $JankMeter$$module$src$service$jank_meter$$(this.win)}$JSCompiler_prototypeAlias$$=$Vsync$$module$src$service$vsync_impl$$.prototype;$JSCompiler_prototypeAlias$$.$onVisibilityChanged_$=function(){this.$scheduled_$&&$JSCompiler_StaticMethods_forceSchedule_$$(this)};
$JSCompiler_prototypeAlias$$.run=function($task$jscomp$16$$,$opt_state$$){this.$tasks_$.push($task$jscomp$16$$);this.$states_$.push($opt_state$$||void 0);this.$schedule_$()};
$JSCompiler_prototypeAlias$$.runPromise=function($deferred$jscomp$22_task$jscomp$17$$,$opt_state$jscomp$1$$){this.run($deferred$jscomp$22_task$jscomp$17$$,$opt_state$jscomp$1$$);if(this.$nextFramePromise_$)return this.$nextFramePromise_$;$deferred$jscomp$22_task$jscomp$17$$=new $Deferred$$module$src$utils$promise$$;this.$nextFrameResolver_$=$deferred$jscomp$22_task$jscomp$17$$.resolve;return this.$nextFramePromise_$=$deferred$jscomp$22_task$jscomp$17$$.promise};
$JSCompiler_prototypeAlias$$.createTask=function($task$jscomp$18$$){var $$jscomp$this$jscomp$165$$=this;return function($opt_state$jscomp$2$$){$$jscomp$this$jscomp$165$$.run($task$jscomp$18$$,$opt_state$jscomp$2$$)}};$JSCompiler_prototypeAlias$$.mutate=function($mutator$jscomp$8$$){this.run({measure:void 0,mutate:$mutator$jscomp$8$$})};$JSCompiler_prototypeAlias$$.mutatePromise=function($mutator$jscomp$9$$){return this.runPromise({measure:void 0,mutate:$mutator$jscomp$9$$})};
$JSCompiler_prototypeAlias$$.measure=function($measurer$jscomp$6$$){this.run({measure:$measurer$jscomp$6$$,mutate:void 0})};$JSCompiler_prototypeAlias$$.measurePromise=function($measurer$jscomp$7$$){var $$jscomp$this$jscomp$166$$=this;return new Promise(function($resolve$jscomp$41$$){$$jscomp$this$jscomp$166$$.measure(function(){$resolve$jscomp$41$$($measurer$jscomp$7$$())})})};
$JSCompiler_prototypeAlias$$.canAnimate=function($contextNode$jscomp$5$$){return $JSCompiler_StaticMethods_canAnimate_$$(this,$contextNode$jscomp$5$$)};
function $JSCompiler_StaticMethods_canAnimate_$$($JSCompiler_StaticMethods_canAnimate_$self_ampdoc$jscomp$79$$,$opt_contextNode$$){return $JSCompiler_StaticMethods_canAnimate_$self_ampdoc$jscomp$79$$.$docState_$.isHidden()?!1:$JSCompiler_StaticMethods_canAnimate_$self_ampdoc$jscomp$79$$.$singleDocViewer_$?$JSCompiler_StaticMethods_canAnimate_$self_ampdoc$jscomp$79$$.$singleDocViewer_$.isVisible():$opt_contextNode$$?($JSCompiler_StaticMethods_canAnimate_$self_ampdoc$jscomp$79$$=$JSCompiler_StaticMethods_canAnimate_$self_ampdoc$jscomp$79$$.$ampdocService_$.getAmpDocIfAvailable($opt_contextNode$$),
!$JSCompiler_StaticMethods_canAnimate_$self_ampdoc$jscomp$79$$||$Services$$module$src$services$viewerForDoc$$($JSCompiler_StaticMethods_canAnimate_$self_ampdoc$jscomp$79$$).isVisible()):!0}
$JSCompiler_prototypeAlias$$.runAnim=function($contextNode$jscomp$6$$,$task$jscomp$19$$,$opt_state$jscomp$3$$){if(!$JSCompiler_StaticMethods_canAnimate_$$(this,$contextNode$jscomp$6$$))return $dev$$module$src$log$$().warn("VSYNC","Did not schedule a vsync request, because document was invisible"),!1;this.run($task$jscomp$19$$,$opt_state$jscomp$3$$);return!0};
$JSCompiler_prototypeAlias$$.createAnimTask=function($contextNode$jscomp$7$$,$task$jscomp$20$$){var $$jscomp$this$jscomp$167$$=this;return function($opt_state$jscomp$4$$){return $$jscomp$this$jscomp$167$$.runAnim($contextNode$jscomp$7$$,$task$jscomp$20$$,$opt_state$jscomp$4$$)}};
$JSCompiler_prototypeAlias$$.runAnimMutateSeries=function($contextNode$jscomp$8$$,$mutator$jscomp$10$$,$opt_timeout$jscomp$1$$){var $$jscomp$this$jscomp$168$$=this;return $JSCompiler_StaticMethods_canAnimate_$$(this,$contextNode$jscomp$8$$)?new Promise(function($resolve$jscomp$42$$,$reject$jscomp$20$$){var $startTime$jscomp$8$$=Date.now(),$prevTime$$=0,$task$jscomp$21$$=$$jscomp$this$jscomp$168$$.createAnimTask($contextNode$jscomp$8$$,{mutate:function($contextNode$jscomp$8$$){var $$jscomp$this$jscomp$168$$=
Date.now()-$startTime$jscomp$8$$;$mutator$jscomp$10$$($$jscomp$this$jscomp$168$$,$$jscomp$this$jscomp$168$$-$prevTime$$,$contextNode$jscomp$8$$)?$opt_timeout$jscomp$1$$&&$$jscomp$this$jscomp$168$$>$opt_timeout$jscomp$1$$?$reject$jscomp$20$$(Error("timeout")):($prevTime$$=$$jscomp$this$jscomp$168$$,$task$jscomp$21$$($contextNode$jscomp$8$$)):$resolve$jscomp$42$$()}});$task$jscomp$21$$({})}):Promise.reject(Error("CANCELLED"))};
$JSCompiler_prototypeAlias$$.$schedule_$=function(){this.$scheduled_$||(this.$scheduled_$=!0,this.$jankMeter_$.onScheduled(),$JSCompiler_StaticMethods_forceSchedule_$$(this))};
function $JSCompiler_StaticMethods_forceSchedule_$$($JSCompiler_StaticMethods_forceSchedule_$self$$){$JSCompiler_StaticMethods_canAnimate_$$($JSCompiler_StaticMethods_forceSchedule_$self$$)?($JSCompiler_StaticMethods_forceSchedule_$self$$.$raf_$($JSCompiler_StaticMethods_forceSchedule_$self$$.$boundRunScheduledTasks_$),$JSCompiler_StaticMethods_forceSchedule_$self$$.$backupPass_$.schedule()):$JSCompiler_StaticMethods_forceSchedule_$self$$.$invisiblePass_$.schedule()}
$JSCompiler_prototypeAlias$$.$runScheduledTasks_$=function(){this.$backupPass_$.cancel();this.$scheduled_$=!1;this.$jankMeter_$.onRun();var $tasks$$=this.$tasks_$,$states$$=this.$states_$,$resolver$jscomp$3$$=this.$nextFrameResolver_$;this.$nextFramePromise_$=this.$nextFrameResolver_$=null;this.$tasks_$=this.$nextTasks_$;this.$states_$=this.$nextStates_$;for(var $i$78_i$jscomp$126$$=0;$i$78_i$jscomp$126$$<$tasks$$.length;$i$78_i$jscomp$126$$++)$tasks$$[$i$78_i$jscomp$126$$].measure&&!$callTaskNoInline$$module$src$service$vsync_impl$$($tasks$$[$i$78_i$jscomp$126$$].measure,
$states$$[$i$78_i$jscomp$126$$])&&($tasks$$[$i$78_i$jscomp$126$$].mutate=void 0);for($i$78_i$jscomp$126$$=0;$i$78_i$jscomp$126$$<$tasks$$.length;$i$78_i$jscomp$126$$++)$tasks$$[$i$78_i$jscomp$126$$].mutate&&$callTaskNoInline$$module$src$service$vsync_impl$$($tasks$$[$i$78_i$jscomp$126$$].mutate,$states$$[$i$78_i$jscomp$126$$]);this.$nextTasks_$=$tasks$$;this.$nextStates_$=$states$$;this.$nextTasks_$.length=0;this.$nextStates_$.length=0;$resolver$jscomp$3$$&&$resolver$jscomp$3$$()};
function $JSCompiler_StaticMethods_getRaf_$$($JSCompiler_StaticMethods_getRaf_$self$$){var $raf$$=$JSCompiler_StaticMethods_getRaf_$self$$.win.requestAnimationFrame||$JSCompiler_StaticMethods_getRaf_$self$$.win.webkitRequestAnimationFrame;if($raf$$)return $raf$$.bind($JSCompiler_StaticMethods_getRaf_$self$$.win);var $lastTime$$=0;return function($raf$$){var $fn$jscomp$10$$=Date.now(),$timeToCall$$=Math.max(0,16-($fn$jscomp$10$$-$lastTime$$));$lastTime$$=$fn$jscomp$10$$+$timeToCall$$;$JSCompiler_StaticMethods_getRaf_$self$$.win.setTimeout($raf$$,
$timeToCall$$)}}function $callTaskNoInline$$module$src$service$vsync_impl$$($callback$jscomp$100$$,$state$jscomp$35$$){try{var $ret$$=$callback$jscomp$100$$($state$jscomp$35$$);void 0!==$ret$$&&$dev$$module$src$log$$().error("VSYNC","callback returned a value but vsync cannot propogate it: %s",$callback$jscomp$100$$.toString())}catch($e$jscomp$91$$){return $rethrowAsync$$module$src$log$$($e$jscomp$91$$),!1}return!0};var $deactivated$$module$src$chunk$$=/nochunking=1/.test(self.location.hash),$resolved$$module$src$chunk$$=Promise.resolve();function $Task$$module$src$chunk$$($fn$jscomp$13$$){this.state="not_run";this.$fn_$=$fn$jscomp$13$$}
function $JSCompiler_StaticMethods_runTask_$$($JSCompiler_StaticMethods_runTask_$self$$,$idleDeadline$$){if("run"!=$JSCompiler_StaticMethods_runTask_$self$$.state){$JSCompiler_StaticMethods_runTask_$self$$.state="run";try{$JSCompiler_StaticMethods_runTask_$self$$.$fn_$($idleDeadline$$)}catch($e$jscomp$93$$){throw $JSCompiler_StaticMethods_runTask_$self$$.$onTaskError_$(),$e$jscomp$93$$;}}}$Task$$module$src$chunk$$.prototype.$getName_$=function(){return this.$fn_$.displayName||this.$fn_$.name};
$Task$$module$src$chunk$$.prototype.$onTaskError_$=function(){};$Task$$module$src$chunk$$.prototype.$immediateTriggerCondition_$=function(){return!1};$Task$$module$src$chunk$$.prototype.$useRequestIdleCallback_$=function(){return!0};
function $StartupTask$$module$src$chunk$$($fn$jscomp$14$$,$win$jscomp$209$$,$viewerPromise$$){$Task$$module$src$chunk$$.call(this,$fn$jscomp$14$$);var $$jscomp$this$jscomp$170$$=this;this.$win_$=$win$jscomp$209$$;this.$viewer_$=null;$viewerPromise$$.then(function($fn$jscomp$14$$){$$jscomp$this$jscomp$170$$.$viewer_$=$fn$jscomp$14$$;$$jscomp$this$jscomp$170$$.$viewer_$.isVisible()&&$JSCompiler_StaticMethods_runTask_$$($$jscomp$this$jscomp$170$$,null);$$jscomp$this$jscomp$170$$.$viewer_$.onVisibilityChanged(function(){$$jscomp$this$jscomp$170$$.$viewer_$.isVisible()&&
$JSCompiler_StaticMethods_runTask_$$($$jscomp$this$jscomp$170$$,null)})})}$$jscomp$inherits$$($StartupTask$$module$src$chunk$$,$Task$$module$src$chunk$$);$StartupTask$$module$src$chunk$$.prototype.$onTaskError_$=function(){$makeBodyVisibleRecovery$$module$src$style_installer$$(self.document)};$StartupTask$$module$src$chunk$$.prototype.$immediateTriggerCondition_$=function(){return this.$viewer_$?this.$viewer_$.isVisible():this.$win_$.document.hidden?!1:!/visibilityState=(hidden|prerender)/.test(this.$win_$.location.hash)};
$StartupTask$$module$src$chunk$$.prototype.$useRequestIdleCallback_$=function(){return!!this.$viewer_$};
function $Chunks$$module$src$chunk$$($ampDoc$$){var $$jscomp$this$jscomp$171$$=this;this.$win_$=$ampDoc$$.win;this.$tasks_$=new $PriorityQueue$$module$src$utils$priority_queue$$;this.$boundExecute_$=this.$execute_$.bind(this);this.$viewerPromise_$=$getServicePromiseForDoc$$module$src$service$$($ampDoc$$,"viewer");this.$win_$.addEventListener("message",function($ampDoc$$){"amp-macro-task"==$ampDoc$$.data&&$$jscomp$this$jscomp$171$$.$execute_$(null)})}
$Chunks$$module$src$chunk$$.prototype.run=function($fn$jscomp$15_t$jscomp$4$$,$priority$jscomp$4$$){$fn$jscomp$15_t$jscomp$4$$=new $Task$$module$src$chunk$$($fn$jscomp$15_t$jscomp$4$$);$JSCompiler_StaticMethods_enqueueTask_$$(this,$fn$jscomp$15_t$jscomp$4$$,$priority$jscomp$4$$)};
$Chunks$$module$src$chunk$$.prototype.runForStartup=function($fn$jscomp$16_t$jscomp$5$$){$fn$jscomp$16_t$jscomp$5$$=new $StartupTask$$module$src$chunk$$($fn$jscomp$16_t$jscomp$5$$,this.$win_$,this.$viewerPromise_$);$JSCompiler_StaticMethods_enqueueTask_$$(this,$fn$jscomp$16_t$jscomp$5$$,Number.POSITIVE_INFINITY)};
function $JSCompiler_StaticMethods_enqueueTask_$$($JSCompiler_StaticMethods_enqueueTask_$self$$,$task$jscomp$22$$,$priority$jscomp$5$$){$JSCompiler_StaticMethods_enqueueTask_$self$$.$tasks_$.enqueue($task$jscomp$22$$,$priority$jscomp$5$$);$resolved$$module$src$chunk$$.then(function(){$JSCompiler_StaticMethods_enqueueTask_$self$$.$schedule_$()})}
function $JSCompiler_StaticMethods_nextTask_$$($JSCompiler_StaticMethods_nextTask_$self$$,$opt_dequeue$$){for(var $t$jscomp$6$$=$JSCompiler_StaticMethods_nextTask_$self$$.$tasks_$.peek();$t$jscomp$6$$&&"not_run"!==$t$jscomp$6$$.state;)$JSCompiler_StaticMethods_nextTask_$self$$.$tasks_$.dequeue(),$t$jscomp$6$$=$JSCompiler_StaticMethods_nextTask_$self$$.$tasks_$.peek();$t$jscomp$6$$&&$opt_dequeue$$&&$JSCompiler_StaticMethods_nextTask_$self$$.$tasks_$.dequeue();return $t$jscomp$6$$}
$Chunks$$module$src$chunk$$.prototype.$execute_$=function($idleDeadline$jscomp$1$$){var $$jscomp$this$jscomp$173$$=this,$t$jscomp$7$$=$JSCompiler_StaticMethods_nextTask_$$(this,!0);if(!$t$jscomp$7$$)return!1;$JSCompiler_StaticMethods_runTask_$$($t$jscomp$7$$,$idleDeadline$jscomp$1$$);$resolved$$module$src$chunk$$.then(function(){$$jscomp$this$jscomp$173$$.$schedule_$()});return!0};
function $JSCompiler_StaticMethods_executeAsap_$$($JSCompiler_StaticMethods_executeAsap_$self$$){$resolved$$module$src$chunk$$.then(function(){$JSCompiler_StaticMethods_executeAsap_$self$$.$boundExecute_$(null)})}
$Chunks$$module$src$chunk$$.prototype.$schedule_$=function(){var $nextTask$$=$JSCompiler_StaticMethods_nextTask_$$(this);$nextTask$$&&($nextTask$$.$immediateTriggerCondition_$()?$JSCompiler_StaticMethods_executeAsap_$$(this):$nextTask$$.$useRequestIdleCallback_$()&&this.$win_$.requestIdleCallback?$onIdle$$module$src$chunk$$(this.$win_$,this.$boundExecute_$):this.$win_$.postMessage("amp-macro-task","*"))};
function $onIdle$$module$src$chunk$$($win$jscomp$210$$,$fn$jscomp$17$$){function $rIC$$($info$jscomp$6$$){if($info$jscomp$6$$.timeRemaining()<$minimumTimeRemaining$$){var $remainingTimeout$$=2E3-(Date.now()-$startTime$jscomp$9$$);0>=$remainingTimeout$$||$info$jscomp$6$$.didTimeout?$fn$jscomp$17$$($info$jscomp$6$$):$win$jscomp$210$$.requestIdleCallback($rIC$$,{timeout:$remainingTimeout$$})}else $fn$jscomp$17$$($info$jscomp$6$$)}var $minimumTimeRemaining$$=15,$startTime$jscomp$9$$=Date.now();$win$jscomp$210$$.requestIdleCallback($rIC$$,
{timeout:2E3})};(function(){$logConstructor$$module$src$log$$=$Log$$module$src$log$$;$dev$$module$src$log$$();$user$$module$src$log$$()})();
(function($fn$$){self.reportError=$fn$$})(function($JSCompiler_root$jscomp$inline_870_win$jscomp$102$$,$JSCompiler_vars$jscomp$inline_673_error$jscomp$15$$,$opt_associatedElement$$){$reportError$$module$src$error$$($JSCompiler_vars$jscomp$inline_673_error$jscomp$15$$,$opt_associatedElement$$);$JSCompiler_vars$jscomp$inline_673_error$jscomp$15$$&&$JSCompiler_root$jscomp$inline_870_win$jscomp$102$$&&$isUserErrorMessage$$module$src$log$$($JSCompiler_vars$jscomp$inline_673_error$jscomp$15$$.message)&&
!(0<=$JSCompiler_vars$jscomp$inline_673_error$jscomp$15$$.message.indexOf("\u200b\u200b\u200b\u200b"))&&$Services$$module$src$services$ampdocServiceFor$$($JSCompiler_root$jscomp$inline_870_win$jscomp$102$$).isSingleDoc()&&($JSCompiler_vars$jscomp$inline_673_error$jscomp$15$$=$dict$$module$src$utils$object$$({errorName:$JSCompiler_vars$jscomp$inline_673_error$jscomp$15$$.name,errorMessage:$JSCompiler_vars$jscomp$inline_673_error$jscomp$15$$.message}),$JSCompiler_root$jscomp$inline_870_win$jscomp$102$$=
$Services$$module$src$services$ampdocServiceFor$$($JSCompiler_root$jscomp$inline_870_win$jscomp$102$$).getAmpDoc().getRootNode(),$triggerAnalyticsEvent$$module$src$analytics$$($JSCompiler_root$jscomp$inline_870_win$jscomp$102$$.documentElement||$JSCompiler_root$jscomp$inline_870_win$jscomp$102$$.body||$JSCompiler_root$jscomp$inline_870_win$jscomp$102$$,$JSCompiler_vars$jscomp$inline_673_error$jscomp$15$$))}.bind(null,self));
function $installRuntimeServices$$module$src$runtime$$($global$jscomp$1$$){$registerServiceBuilder$$module$src$service$$($global$jscomp$1$$,"crypto",$Crypto$$module$src$service$crypto_impl$$);$registerServiceBuilder$$module$src$service$$($global$jscomp$1$$,"batched-xhr",$BatchedXhr$$module$src$service$batched_xhr_impl$$);$registerServiceBuilder$$module$src$service$$($global$jscomp$1$$,"documentState",$DocumentState$$module$src$service$document_state$$);$registerServiceBuilder$$module$src$service$$($global$jscomp$1$$,
"platform",$Platform$$module$src$service$platform_impl$$);$registerServiceBuilder$$module$src$service$$($global$jscomp$1$$,"templates",$Templates$$module$src$service$template_impl$$);$registerServiceBuilder$$module$src$service$$($global$jscomp$1$$,"timer",$Timer$$module$src$service$timer_impl$$);$registerServiceBuilder$$module$src$service$$($global$jscomp$1$$,"timer",$Timer$$module$src$service$timer_impl$$);$registerServiceBuilder$$module$src$service$$($global$jscomp$1$$,"vsync",$Vsync$$module$src$service$vsync_impl$$);
$registerServiceBuilder$$module$src$service$$($global$jscomp$1$$,"xhr",$Xhr$$module$src$service$xhr_impl$$);$registerServiceBuilder$$module$src$service$$($global$jscomp$1$$,"input",$Input$$module$src$input$$)}
function $installAmpdocServices$$module$src$runtime$$($ampdoc$jscomp$80$$,$opt_initParams$jscomp$2$$){$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,"url",$Url$$module$src$service$url_impl$$,!0);$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,"cid",$Cid$$module$src$service$cid_impl$$);$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,"documentInfo",$DocInfo$$module$src$service$document_info_impl$$);$installViewerServiceForDoc$$module$src$service$viewer_impl$$($ampdoc$jscomp$80$$,
$opt_initParams$jscomp$2$$);$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,"viewport",$createViewport$$module$src$service$viewport$viewport_impl$$,!0);$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,"hidden-observer",$HiddenObserver$$module$src$service$hidden_observer_impl$$);$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,"history",$createHistory$$module$src$service$history_impl$$);$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,
"resources",$Resources$$module$src$service$resources_impl$$);$installUrlReplacementsServiceForDoc$$module$src$service$url_replacements_impl$$($ampdoc$jscomp$80$$);$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,"action",$ActionService$$module$src$service$action_impl$$,!0);$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,"standard-actions",$StandardActions$$module$src$service$standard_actions_impl$$,!0);$installStorageServiceForDoc$$module$src$service$storage_impl$$($ampdoc$jscomp$80$$);
$registerServiceBuilderForDoc$$module$src$service$$($ampdoc$jscomp$80$$,"navigation",$Navigation$$module$src$service$navigation$$,!0);$installGlobalSubmitListenerForDoc$$module$src$document_submit$$($ampdoc$jscomp$80$$)}
function $adoptShared$$module$src$runtime$$($callback$jscomp$101_i$jscomp$127$$){function $installExtension$$($callback$jscomp$101_i$jscomp$127$$){function $installExtension$$(){$iniPromise$$.then(function(){"function"==typeof $callback$jscomp$101_i$jscomp$127$$?$callback$jscomp$101_i$jscomp$127$$($global$jscomp$3$$.AMP,$global$jscomp$3$$.AMP._):$extensions$jscomp$3$$.registerExtension($callback$jscomp$101_i$jscomp$127$$.n,$callback$jscomp$101_i$jscomp$127$$.f,$global$jscomp$3$$.AMP)})}"function"!=
typeof $callback$jscomp$101_i$jscomp$127$$&&$callback$jscomp$101_i$jscomp$127$$.i?$preloadDeps$$module$src$runtime$$($extensions$jscomp$3$$,$callback$jscomp$101_i$jscomp$127$$).then(function(){return $startRegisterOrChunk$$module$src$runtime$$($global$jscomp$3$$,$callback$jscomp$101_i$jscomp$127$$,$installExtension$$)}):$startRegisterOrChunk$$module$src$runtime$$($global$jscomp$3$$,$callback$jscomp$101_i$jscomp$127$$,$installExtension$$)}var $global$jscomp$3$$=self;if($global$jscomp$3$$.AMP_TAG)Promise.resolve();
else{$global$jscomp$3$$.AMP_TAG=!0;var $preregisteredExtensions$$=$global$jscomp$3$$.AMP||[];$registerServiceBuilder$$module$src$service$$($global$jscomp$3$$,"extensions",$Extensions$$module$src$service$extensions_impl$$);var $extensions$jscomp$3$$=$Services$$module$src$services$extensionsFor$$($global$jscomp$3$$);$installRuntimeServices$$module$src$runtime$$($global$jscomp$3$$);$stubLegacyElements$$module$src$service$extensions_impl$$($global$jscomp$3$$);$global$jscomp$3$$.AMP={win:$global$jscomp$3$$,
_:$global$jscomp$3$$.AMP?$global$jscomp$3$$.AMP._:void 0};$getMode$$module$src$mode$$().minified||($global$jscomp$3$$.AMP.extension=function($callback$jscomp$101_i$jscomp$127$$,$installExtension$$,$preregisteredExtensions$$){$preregisteredExtensions$$($global$jscomp$3$$.AMP)});$global$jscomp$3$$.AMP.config=$config$$module$src$config$$;$global$jscomp$3$$.AMP.BaseElement=$BaseElement$$module$src$base_element$$;$global$jscomp$3$$.AMP.BaseTemplate=$BaseTemplate$$module$src$service$template_impl$$;$global$jscomp$3$$.AMP.registerElement=
$extensions$jscomp$3$$.addElement.bind($extensions$jscomp$3$$);$global$jscomp$3$$.AMP.registerTemplate=function($callback$jscomp$101_i$jscomp$127$$,$installExtension$$){var $preregisteredExtensions$$=$getService$$module$src$service$$($global$jscomp$3$$,"templates");if($preregisteredExtensions$$.$templateClassMap_$[$callback$jscomp$101_i$jscomp$127$$]){var $extensions$jscomp$3$$=$preregisteredExtensions$$.$templateClassResolvers_$[$callback$jscomp$101_i$jscomp$127$$];$userAssert$$module$src$log$$($extensions$jscomp$3$$,
"Duplicate template type: %s",$callback$jscomp$101_i$jscomp$127$$);delete $preregisteredExtensions$$.$templateClassResolvers_$[$callback$jscomp$101_i$jscomp$127$$];$extensions$jscomp$3$$($installExtension$$)}else $preregisteredExtensions$$.$templateClassMap_$[$callback$jscomp$101_i$jscomp$127$$]=Promise.resolve($installExtension$$)};$global$jscomp$3$$.AMP.registerServiceForDoc=$extensions$jscomp$3$$.addService.bind($extensions$jscomp$3$$);$global$jscomp$3$$.AMP.isExperimentOn=$isExperimentOn$$module$src$experiments$$.bind(null,
$global$jscomp$3$$);$global$jscomp$3$$.AMP.toggleExperiment=$toggleExperiment$$module$src$experiments$$.bind(null,$global$jscomp$3$$);$global$jscomp$3$$.AMP.setLogLevel=$overrideLogLevel$$module$src$log$$.bind(null);$global$jscomp$3$$.AMP.setTickFunction=function(){};var $iniPromise$$=$callback$jscomp$101_i$jscomp$127$$($global$jscomp$3$$,$extensions$jscomp$3$$);for($callback$jscomp$101_i$jscomp$127$$=0;$callback$jscomp$101_i$jscomp$127$$<$preregisteredExtensions$$.length;$callback$jscomp$101_i$jscomp$127$$++){var $fnOrStruct$$=
$preregisteredExtensions$$[$callback$jscomp$101_i$jscomp$127$$];if($maybeLoadCorrectVersion$$module$src$runtime$$($global$jscomp$3$$,$fnOrStruct$$))$preregisteredExtensions$$.splice($callback$jscomp$101_i$jscomp$127$$--,1);else if("function"==typeof $fnOrStruct$$||"high"==$fnOrStruct$$.p){try{$installExtension$$($fnOrStruct$$)}catch($e$jscomp$95$$){$dev$$module$src$log$$().error("runtime","Extension failed: ",$e$jscomp$95$$,$fnOrStruct$$.n)}$preregisteredExtensions$$.splice($callback$jscomp$101_i$jscomp$127$$--,
1)}}$maybePumpEarlyFrame$$module$src$runtime$$($global$jscomp$3$$,function(){$global$jscomp$3$$.AMP.push=function($callback$jscomp$101_i$jscomp$127$$){$maybeLoadCorrectVersion$$module$src$runtime$$($global$jscomp$3$$,$callback$jscomp$101_i$jscomp$127$$)||$installExtension$$($callback$jscomp$101_i$jscomp$127$$)};for(var $callback$jscomp$101_i$jscomp$127$$=0;$callback$jscomp$101_i$jscomp$127$$<$preregisteredExtensions$$.length;$callback$jscomp$101_i$jscomp$127$$++){var $extensions$jscomp$3$$=$preregisteredExtensions$$[$callback$jscomp$101_i$jscomp$127$$];
if(!$maybeLoadCorrectVersion$$module$src$runtime$$($global$jscomp$3$$,$extensions$jscomp$3$$))try{$installExtension$$($extensions$jscomp$3$$)}catch($e$81$$){$dev$$module$src$log$$().error("runtime","Extension failed: ",$e$81$$,$extensions$jscomp$3$$.n)}}$preregisteredExtensions$$.length=0});$global$jscomp$3$$.AMP.push||($global$jscomp$3$$.AMP.push=$preregisteredExtensions$$.push.bind($preregisteredExtensions$$));$Services$$module$src$services$platformFor$$($global$jscomp$3$$).isIos()&&$setStyle$$module$src$style$$($global$jscomp$3$$.document.documentElement,
"cursor","pointer")}}
function $preloadDeps$$module$src$runtime$$($extensions$jscomp$4$$,$fnOrStruct$jscomp$3_promises$jscomp$8$$){if(Array.isArray($fnOrStruct$jscomp$3_promises$jscomp$8$$.i))return $fnOrStruct$jscomp$3_promises$jscomp$8$$=$fnOrStruct$jscomp$3_promises$jscomp$8$$.i.map(function($fnOrStruct$jscomp$3_promises$jscomp$8$$){return $extensions$jscomp$4$$.preloadExtension($fnOrStruct$jscomp$3_promises$jscomp$8$$)}),Promise.all($fnOrStruct$jscomp$3_promises$jscomp$8$$);if("string"==typeof $fnOrStruct$jscomp$3_promises$jscomp$8$$.i)return $extensions$jscomp$4$$.preloadExtension($fnOrStruct$jscomp$3_promises$jscomp$8$$.i);$dev$$module$src$log$$().error("RUNTIME",
"dependency is neither an array or a string",$fnOrStruct$jscomp$3_promises$jscomp$8$$.i);return Promise.resolve()}
function $startRegisterOrChunk$$module$src$runtime$$($JSCompiler_document$jscomp$inline_718_JSCompiler_elementOrAmpDoc$jscomp$inline_881_global$jscomp$4$$,$fnOrStruct$jscomp$4$$,$register$jscomp$2$$){"function"==typeof $fnOrStruct$jscomp$4$$||"high"==$fnOrStruct$jscomp$4$$.p?Promise.resolve().then($register$jscomp$2$$):($register$jscomp$2$$.displayName=$fnOrStruct$jscomp$4$$.n,$JSCompiler_document$jscomp$inline_718_JSCompiler_elementOrAmpDoc$jscomp$inline_881_global$jscomp$4$$=$JSCompiler_document$jscomp$inline_718_JSCompiler_elementOrAmpDoc$jscomp$inline_881_global$jscomp$4$$.document,
$deactivated$$module$src$chunk$$?$resolved$$module$src$chunk$$.then($register$jscomp$2$$):($JSCompiler_document$jscomp$inline_718_JSCompiler_elementOrAmpDoc$jscomp$inline_881_global$jscomp$4$$=$JSCompiler_document$jscomp$inline_718_JSCompiler_elementOrAmpDoc$jscomp$inline_881_global$jscomp$4$$.documentElement,$registerServiceBuilderForDoc$$module$src$service$$($JSCompiler_document$jscomp$inline_718_JSCompiler_elementOrAmpDoc$jscomp$inline_881_global$jscomp$4$$,"chunk",$Chunks$$module$src$chunk$$),
$getServiceForDoc$$module$src$service$$($JSCompiler_document$jscomp$inline_718_JSCompiler_elementOrAmpDoc$jscomp$inline_881_global$jscomp$4$$,"chunk").runForStartup($register$jscomp$2$$)))}
function $adoptShadowMode$$module$src$runtime$$(){$adoptShared$$module$src$runtime$$(function($global$jscomp$8$$,$extensions$jscomp$5$$){var $manager$$=new $MultidocManager$$module$src$runtime$$($global$jscomp$8$$,$Services$$module$src$services$ampdocServiceFor$$($global$jscomp$8$$),$extensions$jscomp$5$$,$Services$$module$src$services$timerFor$$($global$jscomp$8$$));$global$jscomp$8$$.AMP.attachShadowDoc=$manager$$.attachShadowDoc.bind($manager$$);$global$jscomp$8$$.AMP.attachShadowDocAsStream=$manager$$.attachShadowDocAsStream.bind($manager$$);
return $waitForBodyPromise$$module$src$dom$$($global$jscomp$8$$.document)})}function $MultidocManager$$module$src$runtime$$($win$jscomp$211$$,$ampdocService$jscomp$5$$,$extensions$jscomp$6$$,$timer$$){this.win=$win$jscomp$211$$;this.$ampdocService_$=$ampdocService$jscomp$5$$;this.$extensions_$=$extensions$jscomp$6$$;this.$timer_$=$timer$$;this.$shadowRoots_$=[]}
function $JSCompiler_StaticMethods_attachShadowDoc_$$($JSCompiler_StaticMethods_attachShadowDoc_$self$$,$hostElement$jscomp$2$$,$url$jscomp$94$$,$initParams$$,$builder$jscomp$1$$){$JSCompiler_StaticMethods_purgeShadowRoots_$$($JSCompiler_StaticMethods_attachShadowDoc_$self$$);$setStyle$$module$src$style$$($hostElement$jscomp$2$$,"visibility","hidden");var $shadowRoot$jscomp$6$$=$createShadowRoot$$module$src$shadow_embed$$($hostElement$jscomp$2$$);$shadowRoot$jscomp$6$$.AMP&&($user$$module$src$log$$().warn("runtime",
"Shadow doc wasn't previously closed"),$JSCompiler_StaticMethods_closeShadowRoot_$$($JSCompiler_StaticMethods_attachShadowDoc_$self$$,$shadowRoot$jscomp$6$$));var $amp$jscomp$1$$={};$shadowRoot$jscomp$6$$.AMP=$amp$jscomp$1$$;$amp$jscomp$1$$.url=$url$jscomp$94$$;var $origin$jscomp$16$$=$parseUrlDeprecated$$module$src$url$$($url$jscomp$94$$).origin,$ampdoc$jscomp$82$$=$JSCompiler_StaticMethods_attachShadowDoc_$self$$.$ampdocService_$.installShadowDoc($url$jscomp$94$$,$shadowRoot$jscomp$6$$);$amp$jscomp$1$$.ampdoc=
$ampdoc$jscomp$82$$;$installStylesForDoc$$module$src$style_installer$$($ampdoc$jscomp$82$$,cssText$$module$build$css,null,!0);$installAmpdocServices$$module$src$runtime$$($ampdoc$jscomp$82$$,$initParams$$||Object.create(null));var $viewer$jscomp$25$$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$82$$);$amp$jscomp$1$$.setVisibilityState=function($JSCompiler_StaticMethods_attachShadowDoc_$self$$){$JSCompiler_StaticMethods_setVisibilityState_$$($viewer$jscomp$25$$,$JSCompiler_StaticMethods_attachShadowDoc_$self$$)};
$amp$jscomp$1$$.postMessage=$viewer$jscomp$25$$.receiveMessage.bind($viewer$jscomp$25$$);var $onMessage$$;$amp$jscomp$1$$.onMessage=function($JSCompiler_StaticMethods_attachShadowDoc_$self$$){$onMessage$$=$JSCompiler_StaticMethods_attachShadowDoc_$self$$};$viewer$jscomp$25$$.setMessageDeliverer(function($hostElement$jscomp$2$$,$url$jscomp$94$$,$initParams$$){if("broadcast"==$hostElement$jscomp$2$$)return $JSCompiler_StaticMethods_broadcast_$$($JSCompiler_StaticMethods_attachShadowDoc_$self$$,$url$jscomp$94$$,
$shadowRoot$jscomp$6$$),$initParams$$?Promise.resolve():void 0;if($onMessage$$)return $onMessage$$($hostElement$jscomp$2$$,$url$jscomp$94$$,$initParams$$)},$origin$jscomp$16$$);$amp$jscomp$1$$.close=function(){$JSCompiler_StaticMethods_closeShadowRoot_$$($JSCompiler_StaticMethods_attachShadowDoc_$self$$,$shadowRoot$jscomp$6$$)};$getMode$$module$src$mode$$().development&&($amp$jscomp$1$$.toggleRuntime=$viewer$jscomp$25$$.toggleRuntime.bind($viewer$jscomp$25$$),$amp$jscomp$1$$.resources=$Services$$module$src$services$resourcesForDoc$$($ampdoc$jscomp$82$$));
$builder$jscomp$1$$($amp$jscomp$1$$,$shadowRoot$jscomp$6$$,$ampdoc$jscomp$82$$).then(function(){$ampdoc$jscomp$82$$.setReady();$ampdoc$jscomp$82$$.signals().signal("render-start");$setStyle$$module$src$style$$($hostElement$jscomp$2$$,"visibility","visible")});$JSCompiler_StaticMethods_attachShadowDoc_$self$$.$shadowRoots_$.includes($shadowRoot$jscomp$6$$)||$JSCompiler_StaticMethods_attachShadowDoc_$self$$.$shadowRoots_$.push($shadowRoot$jscomp$6$$);return $amp$jscomp$1$$}
$MultidocManager$$module$src$runtime$$.prototype.attachShadowDoc=function($hostElement$jscomp$3$$,$doc$jscomp$49$$,$url$jscomp$95$$,$opt_initParams$jscomp$3$$){var $$jscomp$this$jscomp$176$$=this;return $JSCompiler_StaticMethods_attachShadowDoc_$$(this,$hostElement$jscomp$3$$,$url$jscomp$95$$,$opt_initParams$jscomp$3$$,function($url$jscomp$95$$,$opt_initParams$jscomp$3$$,$ampdoc$jscomp$83$$){$url$jscomp$95$$=$JSCompiler_StaticMethods_mergeShadowHead_$$($$jscomp$this$jscomp$176$$,$ampdoc$jscomp$83$$,
$opt_initParams$jscomp$3$$,$doc$jscomp$49$$);$$jscomp$this$jscomp$176$$.$extensions_$.installExtensionsInDoc($ampdoc$jscomp$83$$,$url$jscomp$95$$);$doc$jscomp$49$$.body&&($opt_initParams$jscomp$3$$=$importShadowBody$$module$src$shadow_embed$$($opt_initParams$jscomp$3$$,$doc$jscomp$49$$.body,!0),$opt_initParams$jscomp$3$$.classList.add("amp-shadow"),$ampdoc$jscomp$83$$.setBody($opt_initParams$jscomp$3$$));setTimeout(function(){$ampdoc$jscomp$83$$.signals().signal("render-start");$setStyle$$module$src$style$$($hostElement$jscomp$3$$,
"visibility","visible")},50);return Promise.resolve()})};
$MultidocManager$$module$src$runtime$$.prototype.attachShadowDocAsStream=function($hostElement$jscomp$4$$,$url$jscomp$96$$,$opt_initParams$jscomp$4$$){var $$jscomp$this$jscomp$177$$=this;return $JSCompiler_StaticMethods_attachShadowDoc_$$(this,$hostElement$jscomp$4$$,$url$jscomp$96$$,$opt_initParams$jscomp$4$$,function($url$jscomp$96$$,$opt_initParams$jscomp$4$$,$ampdoc$jscomp$84$$){var $amp$jscomp$3$$=!1,$shadowRoot$jscomp$8$$=$createShadowDomWriter$$module$src$shadow_embed$$($$jscomp$this$jscomp$177$$.win);$url$jscomp$96$$.writer=
$shadowRoot$jscomp$8$$;$shadowRoot$jscomp$8$$.onBody(function($hostElement$jscomp$4$$){var $url$jscomp$96$$=$JSCompiler_StaticMethods_mergeShadowHead_$$($$jscomp$this$jscomp$177$$,$ampdoc$jscomp$84$$,$opt_initParams$jscomp$4$$,$hostElement$jscomp$4$$);$$jscomp$this$jscomp$177$$.$extensions_$.installExtensionsInDoc($ampdoc$jscomp$84$$,$url$jscomp$96$$);$hostElement$jscomp$4$$=$importShadowBody$$module$src$shadow_embed$$($opt_initParams$jscomp$4$$,$hostElement$jscomp$4$$.body,!1);$hostElement$jscomp$4$$.classList.add("amp-shadow");
$ampdoc$jscomp$84$$.setBody($hostElement$jscomp$4$$);return $hostElement$jscomp$4$$});$shadowRoot$jscomp$8$$.onBodyChunk(function(){$amp$jscomp$3$$||($amp$jscomp$3$$=!0,setTimeout(function(){$ampdoc$jscomp$84$$.signals().signal("render-start");$setStyle$$module$src$style$$($hostElement$jscomp$4$$,"visibility","visible")},50))});return new Promise(function($hostElement$jscomp$4$$){$shadowRoot$jscomp$8$$.onEnd(function(){$hostElement$jscomp$4$$();$url$jscomp$96$$.writer=null})})})};
function $JSCompiler_StaticMethods_mergeShadowHead_$$($JSCompiler_StaticMethods_mergeShadowHead_$self$$,$ampdoc$jscomp$85$$,$shadowRoot$jscomp$9$$,$doc$jscomp$51_n$jscomp$15$$){var $extensionIds$jscomp$4$$=[];if($doc$jscomp$51_n$jscomp$15$$.head){for(var $parentLinks$$={},$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$=$childElementsByTag$$module$src$dom$$($JSCompiler_StaticMethods_mergeShadowHead_$self$$.win.document.head,"link"),$href$82_i$jscomp$128_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$=
0;$href$82_i$jscomp$128_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$<$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$.length;$href$82_i$jscomp$128_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$++){var $href$jscomp$2_name$jscomp$162$$=$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$[$href$82_i$jscomp$128_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$].getAttribute("href");$href$jscomp$2_name$jscomp$162$$&&($parentLinks$$[$href$jscomp$2_name$jscomp$162$$]=!0)}for($doc$jscomp$51_n$jscomp$15$$=
$doc$jscomp$51_n$jscomp$15$$.head.firstElementChild;$doc$jscomp$51_n$jscomp$15$$;$doc$jscomp$51_n$jscomp$15$$=$doc$jscomp$51_n$jscomp$15$$.nextElementSibling)switch($href$82_i$jscomp$128_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$=$doc$jscomp$51_n$jscomp$15$$.tagName,$href$jscomp$2_name$jscomp$162$$=$doc$jscomp$51_n$jscomp$15$$.getAttribute("name"),$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$=$doc$jscomp$51_n$jscomp$15$$.getAttribute("rel"),$href$82_i$jscomp$128_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$){case "TITLE":$shadowRoot$jscomp$9$$.AMP.title=
$doc$jscomp$51_n$jscomp$15$$.textContent;break;case "META":$doc$jscomp$51_n$jscomp$15$$.hasAttribute("charset")||"viewport"!=$href$jscomp$2_name$jscomp$162$$&&$dev$$module$src$log$$().warn("runtime","meta ignored: ",$doc$jscomp$51_n$jscomp$15$$);break;case "LINK":$href$82_i$jscomp$128_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$=$doc$jscomp$51_n$jscomp$15$$.getAttribute("href");"canonical"==$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$?$shadowRoot$jscomp$9$$.AMP.canonicalUrl=$href$82_i$jscomp$128_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$:
"stylesheet"!=$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$||$parentLinks$$[$href$82_i$jscomp$128_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$]||($parentLinks$$[$href$82_i$jscomp$128_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$]=!0,$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$=$JSCompiler_StaticMethods_mergeShadowHead_$self$$.win.document.createElement("link"),$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$.setAttribute("rel","stylesheet"),$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$.setAttribute("type",
"text/css"),$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$.setAttribute("href",$href$82_i$jscomp$128_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$),$JSCompiler_StaticMethods_mergeShadowHead_$self$$.win.document.head.appendChild($el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$));break;case "STYLE":$doc$jscomp$51_n$jscomp$15$$.hasAttribute("amp-boilerplate")||($doc$jscomp$51_n$jscomp$15$$.hasAttribute("amp-custom")?$installStylesForDoc$$module$src$style_installer$$($ampdoc$jscomp$85$$,
$doc$jscomp$51_n$jscomp$15$$.textContent,null,!1,"amp-custom"):$doc$jscomp$51_n$jscomp$15$$.hasAttribute("amp-keyframes")&&$installStylesForDoc$$module$src$style_installer$$($ampdoc$jscomp$85$$,$doc$jscomp$51_n$jscomp$15$$.textContent,null,!1,"amp-keyframes"));break;case "SCRIPT":if($doc$jscomp$51_n$jscomp$15$$.hasAttribute("src")){$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$=$doc$jscomp$51_n$jscomp$15$$.getAttribute("src");var $isRuntime$$=-1!=$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$.indexOf("/amp.js")||
-1!=$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$.indexOf("/v0.js"),$customElement$$=$doc$jscomp$51_n$jscomp$15$$.getAttribute("custom-element"),$customTemplate$$=$doc$jscomp$51_n$jscomp$15$$.getAttribute("custom-template"),$versionRe$$=/-(\d+.\d+)(.max)?\.js$/;$href$82_i$jscomp$128_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$=($href$82_i$jscomp$128_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$=$versionRe$$.exec($el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$))?
$href$82_i$jscomp$128_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$[1]:"0.1";$isRuntime$$||($customElement$$||$customTemplate$$?($JSCompiler_StaticMethods_mergeShadowHead_$self$$.$extensions_$.installExtensionForDoc($ampdoc$jscomp$85$$,$customElement$$||$customTemplate$$,$href$82_i$jscomp$128_match$jscomp$7_tagName$jscomp$21_version$jscomp$7$$),$customElement$$&&$extensionIds$jscomp$4$$.push($customElement$$)):$doc$jscomp$51_n$jscomp$15$$.hasAttribute("data-amp-report-test")||$user$$module$src$log$$().error("runtime",
"- unknown script: ",$doc$jscomp$51_n$jscomp$15$$,$el$jscomp$24_links$jscomp$1_rel$jscomp$1_src$jscomp$11$$))}else-1==($doc$jscomp$51_n$jscomp$15$$.getAttribute("type")||"application/javascript").indexOf("javascript")?$shadowRoot$jscomp$9$$.appendChild($JSCompiler_StaticMethods_mergeShadowHead_$self$$.win.document.importNode($doc$jscomp$51_n$jscomp$15$$,!0)):$user$$module$src$log$$().error("runtime","- unallowed inline javascript: ",$doc$jscomp$51_n$jscomp$15$$);break;case "NOSCRIPT":break;default:$user$$module$src$log$$().error("runtime",
"- UNKNOWN head element:",$doc$jscomp$51_n$jscomp$15$$)}}return $extensionIds$jscomp$4$$}
function $JSCompiler_StaticMethods_broadcast_$$($JSCompiler_StaticMethods_broadcast_$self$$,$data$jscomp$91$$,$sender$jscomp$1$$){$JSCompiler_StaticMethods_purgeShadowRoots_$$($JSCompiler_StaticMethods_broadcast_$self$$);$JSCompiler_StaticMethods_broadcast_$self$$.$shadowRoots_$.forEach(function($shadowRoot$jscomp$10$$){if($shadowRoot$jscomp$10$$!=$sender$jscomp$1$$){var $viewer$jscomp$26$$=$Services$$module$src$services$viewerForDoc$$($shadowRoot$jscomp$10$$.AMP.ampdoc);$JSCompiler_StaticMethods_broadcast_$self$$.$timer_$.delay(function(){$viewer$jscomp$26$$.receiveMessage("broadcast",
$data$jscomp$91$$,!1)},0)}})}
function $JSCompiler_StaticMethods_closeShadowRoot_$$($JSCompiler_StaticMethods_closeShadowRoot_$self_JSCompiler_viewer$jscomp$inline_724_amp$jscomp$4$$,$ampdoc$jscomp$86_shadowRoot$jscomp$11$$){$JSCompiler_StaticMethods_removeShadowRoot_$$($JSCompiler_StaticMethods_closeShadowRoot_$self_JSCompiler_viewer$jscomp$inline_724_amp$jscomp$4$$,$ampdoc$jscomp$86_shadowRoot$jscomp$11$$);$JSCompiler_StaticMethods_closeShadowRoot_$self_JSCompiler_viewer$jscomp$inline_724_amp$jscomp$4$$=$ampdoc$jscomp$86_shadowRoot$jscomp$11$$.AMP;
delete $ampdoc$jscomp$86_shadowRoot$jscomp$11$$.AMP;$ampdoc$jscomp$86_shadowRoot$jscomp$11$$=$JSCompiler_StaticMethods_closeShadowRoot_$self_JSCompiler_viewer$jscomp$inline_724_amp$jscomp$4$$.ampdoc;$JSCompiler_StaticMethods_closeShadowRoot_$self_JSCompiler_viewer$jscomp$inline_724_amp$jscomp$4$$=$Services$$module$src$services$viewerForDoc$$($ampdoc$jscomp$86_shadowRoot$jscomp$11$$);$JSCompiler_StaticMethods_setVisibilityState_$$($JSCompiler_StaticMethods_closeShadowRoot_$self_JSCompiler_viewer$jscomp$inline_724_amp$jscomp$4$$,
"inactive");$disposeServicesInternal$$module$src$service$$($ampdoc$jscomp$86_shadowRoot$jscomp$11$$)}
function $JSCompiler_StaticMethods_removeShadowRoot_$$($JSCompiler_StaticMethods_removeShadowRoot_$self$$,$index$jscomp$85_shadowRoot$jscomp$12$$){$index$jscomp$85_shadowRoot$jscomp$12$$=$JSCompiler_StaticMethods_removeShadowRoot_$self$$.$shadowRoots_$.indexOf($index$jscomp$85_shadowRoot$jscomp$12$$);-1!=$index$jscomp$85_shadowRoot$jscomp$12$$&&$JSCompiler_StaticMethods_removeShadowRoot_$self$$.$shadowRoots_$.splice($index$jscomp$85_shadowRoot$jscomp$12$$,1)}
function $JSCompiler_StaticMethods_closeShadowRootAsync_$$($JSCompiler_StaticMethods_closeShadowRootAsync_$self$$,$shadowRoot$jscomp$13$$){$JSCompiler_StaticMethods_closeShadowRootAsync_$self$$.$timer_$.delay(function(){$JSCompiler_StaticMethods_closeShadowRoot_$$($JSCompiler_StaticMethods_closeShadowRootAsync_$self$$,$shadowRoot$jscomp$13$$)},0)}
function $JSCompiler_StaticMethods_purgeShadowRoots_$$($JSCompiler_StaticMethods_purgeShadowRoots_$self$$){$JSCompiler_StaticMethods_purgeShadowRoots_$self$$.$shadowRoots_$.forEach(function($shadowRoot$jscomp$14$$){$shadowRoot$jscomp$14$$.host&&$isConnectedNode$$module$src$dom$$($shadowRoot$jscomp$14$$.host)||($user$$module$src$log$$().warn("runtime","Shadow doc wasn't previously closed"),$JSCompiler_StaticMethods_removeShadowRoot_$$($JSCompiler_StaticMethods_purgeShadowRoots_$self$$,$shadowRoot$jscomp$14$$),
$JSCompiler_StaticMethods_closeShadowRootAsync_$$($JSCompiler_StaticMethods_purgeShadowRoots_$self$$,$shadowRoot$jscomp$14$$))})}
function $maybeLoadCorrectVersion$$module$src$runtime$$($win$jscomp$212$$,$fnOrStruct$jscomp$5$$){if(!$isExperimentOn$$module$src$experiments$$($win$jscomp$212$$,"version-locking")||"function"==typeof $fnOrStruct$jscomp$5$$||"1904281823091"==$fnOrStruct$jscomp$5$$.v)return!1;var $scriptInHead$jscomp$1$$=$win$jscomp$212$$.document.head.querySelector('[custom-element="'+$fnOrStruct$jscomp$5$$.n+'"]:not([i-amphtml-inserted])');if(!$scriptInHead$jscomp$1$$)return!1;$Services$$module$src$services$extensionsFor$$($win$jscomp$212$$).reloadExtension($fnOrStruct$jscomp$5$$.n,
$scriptInHead$jscomp$1$$);return!0}function $maybePumpEarlyFrame$$module$src$runtime$$($win$jscomp$213$$,$cb$jscomp$4$$){$isExperimentOn$$module$src$experiments$$($win$jscomp$213$$,"pump-early-frame")?$win$jscomp$213$$.document.body?0<$includedServices$$module$src$render_delaying_services$$($win$jscomp$213$$).length?$cb$jscomp$4$$():$Services$$module$src$services$timerFor$$($win$jscomp$213$$).delay($cb$jscomp$4$$,1):$cb$jscomp$4$$():$cb$jscomp$4$$()};function $AmpDocService$$module$src$service$ampdoc_impl$$($win$jscomp$214$$,$isSingleDoc$$){this.win=$win$jscomp$214$$;this.$singleDoc_$=null;$isSingleDoc$$&&(this.$singleDoc_$=new $AmpDocSingle$$module$src$service$ampdoc_impl$$($win$jscomp$214$$));this.$alwaysClosestAmpDoc_$=$isExperimentOn$$module$src$experiments$$($win$jscomp$214$$,"ampdoc-closest");this.$shellShadowDoc_$=null}$JSCompiler_prototypeAlias$$=$AmpDocService$$module$src$service$ampdoc_impl$$.prototype;
$JSCompiler_prototypeAlias$$.isSingleDoc=function(){return!!this.$singleDoc_$};$JSCompiler_prototypeAlias$$.hasAmpDocShell=function(){return!!this.$shellShadowDoc_$};
$JSCompiler_prototypeAlias$$.getAmpDocIfAvailable=function($opt_node$$,$$jscomp$destructuring$var161_$jscomp$destructuring$var162_n$jscomp$16_shadowRoot$jscomp$15$$){$$jscomp$destructuring$var161_$jscomp$destructuring$var162_n$jscomp$16_shadowRoot$jscomp$15$$=void 0===$$jscomp$destructuring$var161_$jscomp$destructuring$var162_n$jscomp$16_shadowRoot$jscomp$15$$?{}:$$jscomp$destructuring$var161_$jscomp$destructuring$var162_n$jscomp$16_shadowRoot$jscomp$15$$;var $closestAmpDoc$$=void 0===$$jscomp$destructuring$var161_$jscomp$destructuring$var162_n$jscomp$16_shadowRoot$jscomp$15$$.closestAmpDoc?
!1:$$jscomp$destructuring$var161_$jscomp$destructuring$var162_n$jscomp$16_shadowRoot$jscomp$15$$.closestAmpDoc;if(this.$singleDoc_$&&!$closestAmpDoc$$&&!this.$alwaysClosestAmpDoc_$)return this.$singleDoc_$;if($isExperimentOn$$module$src$experiments$$(this.win,"ampdoc-shell")&&$opt_node$$===this.win.document){if(this.$shellShadowDoc_$)return this.$shellShadowDoc_$;throw $dev$$module$src$log$$().createError("Ampdoc for shell has not been installed");}for($$jscomp$destructuring$var161_$jscomp$destructuring$var162_n$jscomp$16_shadowRoot$jscomp$15$$=
$opt_node$$;$$jscomp$destructuring$var161_$jscomp$destructuring$var162_n$jscomp$16_shadowRoot$jscomp$15$$;){if($$jscomp$destructuring$var161_$jscomp$destructuring$var162_n$jscomp$16_shadowRoot$jscomp$15$$.$ampdoc_$&&(this.$alwaysClosestAmpDoc_$||!$closestAmpDoc$$))return $$jscomp$destructuring$var161_$jscomp$destructuring$var162_n$jscomp$16_shadowRoot$jscomp$15$$.$ampdoc_$;var $ampdoc$jscomp$87_frameElement$jscomp$5$$=$getParentWindowFrameElement$$module$src$service$$($$jscomp$destructuring$var161_$jscomp$destructuring$var162_n$jscomp$16_shadowRoot$jscomp$15$$,
this.win);if($ampdoc$jscomp$87_frameElement$jscomp$5$$)$$jscomp$destructuring$var161_$jscomp$destructuring$var162_n$jscomp$16_shadowRoot$jscomp$15$$=$ampdoc$jscomp$87_frameElement$jscomp$5$$;else{$$jscomp$destructuring$var161_$jscomp$destructuring$var162_n$jscomp$16_shadowRoot$jscomp$15$$=$getShadowRootNode$$module$src$shadow_embed$$($$jscomp$destructuring$var161_$jscomp$destructuring$var162_n$jscomp$16_shadowRoot$jscomp$15$$);if(!$$jscomp$destructuring$var161_$jscomp$destructuring$var162_n$jscomp$16_shadowRoot$jscomp$15$$){if(this.$shellShadowDoc_$)return this.$shellShadowDoc_$;
break}if($ampdoc$jscomp$87_frameElement$jscomp$5$$=$$jscomp$destructuring$var161_$jscomp$destructuring$var162_n$jscomp$16_shadowRoot$jscomp$15$$.__AMPDOC)return $ampdoc$jscomp$87_frameElement$jscomp$5$$;$$jscomp$destructuring$var161_$jscomp$destructuring$var162_n$jscomp$16_shadowRoot$jscomp$15$$=$$jscomp$destructuring$var161_$jscomp$destructuring$var162_n$jscomp$16_shadowRoot$jscomp$15$$.host}}return this.$singleDoc_$?this.$singleDoc_$:null};
$JSCompiler_prototypeAlias$$.getAmpDoc=function($opt_node$jscomp$1$$,$ampdoc$jscomp$88_opt_options$jscomp$89$$){$ampdoc$jscomp$88_opt_options$jscomp$89$$=this.getAmpDocIfAvailable($opt_node$jscomp$1$$,$ampdoc$jscomp$88_opt_options$jscomp$89$$);if(!$ampdoc$jscomp$88_opt_options$jscomp$89$$)throw $dev$$module$src$log$$().createError("No ampdoc found for",$opt_node$jscomp$1$$);return $ampdoc$jscomp$88_opt_options$jscomp$89$$};
$JSCompiler_prototypeAlias$$.installShadowDoc=function($ampdoc$jscomp$89_url$jscomp$97$$,$shadowRoot$jscomp$16$$){$ampdoc$jscomp$89_url$jscomp$97$$=new $AmpDocShadow$$module$src$service$ampdoc_impl$$(this.win,$ampdoc$jscomp$89_url$jscomp$97$$,$shadowRoot$jscomp$16$$);return $shadowRoot$jscomp$16$$.__AMPDOC=$ampdoc$jscomp$89_url$jscomp$97$$};
$JSCompiler_prototypeAlias$$.installShellShadowDoc=function(){var $$jscomp$this$jscomp$181$$=this;this.$shellShadowDoc_$=new $AmpDocShell$$module$src$service$ampdoc_impl$$(this.win);this.win.document.__AMPDOC=this.$shellShadowDoc_$;$whenDocumentReady$$module$src$document_ready$$(this.win.document).then(function($document$jscomp$5$$){$$jscomp$this$jscomp$181$$.$shellShadowDoc_$.setBody($document$jscomp$5$$.body);$$jscomp$this$jscomp$181$$.$shellShadowDoc_$.setReady()});return this.$shellShadowDoc_$};
function $AmpDoc$$module$src$service$ampdoc_impl$$($win$jscomp$215$$){this.win=$win$jscomp$215$$;this.$signals_$=new $Signals$$module$src$utils$signals$$;this.$declaredExtensions_$=[]}$JSCompiler_prototypeAlias$$=$AmpDoc$$module$src$service$ampdoc_impl$$.prototype;$JSCompiler_prototypeAlias$$.isSingleDoc=function(){return null};$JSCompiler_prototypeAlias$$.getWin=function(){return this.win};$JSCompiler_prototypeAlias$$.signals=function(){return this.$signals_$};
$JSCompiler_prototypeAlias$$.declaresExtension=function($extensionId$jscomp$20$$){return-1!=this.$declaredExtensions_$.indexOf($extensionId$jscomp$20$$)};$JSCompiler_prototypeAlias$$.declareExtension=function($extensionId$jscomp$21$$){this.declaresExtension($extensionId$jscomp$21$$)||this.$declaredExtensions_$.push($extensionId$jscomp$21$$)};$JSCompiler_prototypeAlias$$.getRootNode=function(){return null};$JSCompiler_prototypeAlias$$.getHeadNode=function(){};
$JSCompiler_prototypeAlias$$.isBodyAvailable=function(){return!1};$JSCompiler_prototypeAlias$$.getBody=function(){return null};$JSCompiler_prototypeAlias$$.whenBodyAvailable=function(){return null};$JSCompiler_prototypeAlias$$.isReady=function(){return null};$JSCompiler_prototypeAlias$$.whenReady=function(){return null};$JSCompiler_prototypeAlias$$.getUrl=function(){return null};$JSCompiler_prototypeAlias$$.getElementById=function($id$jscomp$42$$){return this.getRootNode().getElementById($id$jscomp$42$$)};
$JSCompiler_prototypeAlias$$.contains=function($node$jscomp$50$$){return this.getRootNode().contains($node$jscomp$50$$)};
function $AmpDocSingle$$module$src$service$ampdoc_impl$$($win$jscomp$216$$){$AmpDoc$$module$src$service$ampdoc_impl$$.call(this,$win$jscomp$216$$);var $$jscomp$this$jscomp$182$$=this;this.$bodyPromise_$=this.win.document.body?Promise.resolve(this.win.document.body):$waitForBodyPromise$$module$src$dom$$(this.win.document).then(function(){return $$jscomp$this$jscomp$182$$.getBody()});this.$readyPromise_$=$whenDocumentReady$$module$src$document_ready$$(this.win.document)}
$$jscomp$inherits$$($AmpDocSingle$$module$src$service$ampdoc_impl$$,$AmpDoc$$module$src$service$ampdoc_impl$$);$JSCompiler_prototypeAlias$$=$AmpDocSingle$$module$src$service$ampdoc_impl$$.prototype;$JSCompiler_prototypeAlias$$.isSingleDoc=function(){return!0};$JSCompiler_prototypeAlias$$.getRootNode=function(){return this.win.document};$JSCompiler_prototypeAlias$$.getUrl=function(){return this.win.location.href};$JSCompiler_prototypeAlias$$.getHeadNode=function(){return this.win.document.head};
$JSCompiler_prototypeAlias$$.isBodyAvailable=function(){return!!this.win.document.body};$JSCompiler_prototypeAlias$$.getBody=function(){return this.win.document.body};$JSCompiler_prototypeAlias$$.whenBodyAvailable=function(){return this.$bodyPromise_$};$JSCompiler_prototypeAlias$$.isReady=function(){return $isDocumentReady$$module$src$document_ready$$(this.win.document)};$JSCompiler_prototypeAlias$$.whenReady=function(){return this.$readyPromise_$};
function $AmpDocShadow$$module$src$service$ampdoc_impl$$($win$jscomp$217$$,$url$jscomp$98$$,$shadowRoot$jscomp$17$$){$AmpDoc$$module$src$service$ampdoc_impl$$.call(this,$win$jscomp$217$$);this.$url_$=$url$jscomp$98$$;this.$shadowRoot_$=$shadowRoot$jscomp$17$$;this.$body_$=null;var $bodyDeferred$$=new $Deferred$$module$src$utils$promise$$;this.$bodyPromise_$=$bodyDeferred$$.promise;this.$bodyResolver_$=$bodyDeferred$$.resolve;this.$ready_$=!1;var $readyDeferred$$=new $Deferred$$module$src$utils$promise$$;
this.$readyPromise_$=$readyDeferred$$.promise;this.$readyResolver_$=$readyDeferred$$.resolve}$$jscomp$inherits$$($AmpDocShadow$$module$src$service$ampdoc_impl$$,$AmpDoc$$module$src$service$ampdoc_impl$$);$JSCompiler_prototypeAlias$$=$AmpDocShadow$$module$src$service$ampdoc_impl$$.prototype;$JSCompiler_prototypeAlias$$.isSingleDoc=function(){return!1};$JSCompiler_prototypeAlias$$.getRootNode=function(){return this.$shadowRoot_$};$JSCompiler_prototypeAlias$$.getUrl=function(){return this.$url_$};
$JSCompiler_prototypeAlias$$.getHeadNode=function(){return this.$shadowRoot_$};$JSCompiler_prototypeAlias$$.isBodyAvailable=function(){return!!this.$body_$};$JSCompiler_prototypeAlias$$.getBody=function(){return this.$body_$};$JSCompiler_prototypeAlias$$.setBody=function($body$jscomp$12$$){this.$body_$=$body$jscomp$12$$;this.$bodyResolver_$($body$jscomp$12$$);this.$bodyResolver_$=void 0};$JSCompiler_prototypeAlias$$.whenBodyAvailable=function(){return this.$bodyPromise_$};
$JSCompiler_prototypeAlias$$.isReady=function(){return this.$ready_$};$JSCompiler_prototypeAlias$$.setReady=function(){this.$ready_$=!0;this.$readyResolver_$();this.$readyResolver_$=void 0};$JSCompiler_prototypeAlias$$.whenReady=function(){return this.$readyPromise_$};function $AmpDocShell$$module$src$service$ampdoc_impl$$($win$jscomp$218$$){$AmpDocShadow$$module$src$service$ampdoc_impl$$.call(this,$win$jscomp$218$$,$win$jscomp$218$$.location.href,$win$jscomp$218$$.document)}
$$jscomp$inherits$$($AmpDocShell$$module$src$service$ampdoc_impl$$,$AmpDocShadow$$module$src$service$ampdoc_impl$$);$AmpDocShell$$module$src$service$ampdoc_impl$$.prototype.getHeadNode=function(){return this.win.document.head};function $Performance$$module$src$service$performance_impl$$($win$jscomp$220$$){var $$jscomp$this$jscomp$183$$=this;this.win=$win$jscomp$220$$;this.$initTime_$=this.win.Date.now();this.$events_$=[];this.$resources_$=this.$viewer_$=null;this.$isPerformanceTrackingOn_$=this.$isMessagingReady_$=!1;this.$enabledExperiments_$=$map$$module$src$utils$object$$();this.$ampexp_$="";this.$firstViewportReady_$=this.$firstContentfulPaint_$=this.$makeBodyVisible_$=null;this.$aggregateJankScore_$=this.$jankScoresTicked_$=
0;this.$boundOnVisibilityChange_$=this.$onVisibilityChange_$.bind(this);this.$boundTickLayoutJankScore_$=this.$tickLayoutJankScore_$.bind(this);this.addEnabledExperiment("rtv-"+$getMode$$module$src$mode$$(this.win).rtvVersion);$isCanary$$module$src$experiments$$(this.win)&&this.addEnabledExperiment("canary");$whenDocumentComplete$$module$src$document_ready$$($win$jscomp$220$$.document).then(function(){$$jscomp$this$jscomp$183$$.tick("ol");if(!$$jscomp$this$jscomp$183$$.win.PerformancePaintTiming&&
$$jscomp$this$jscomp$183$$.win.chrome&&"function"==typeof $$jscomp$this$jscomp$183$$.win.chrome.loadTimes){var $win$jscomp$220$$=1E3*$$jscomp$this$jscomp$183$$.win.chrome.loadTimes().firstPaintTime-$$jscomp$this$jscomp$183$$.win.performance.timing.navigationStart;1>=$win$jscomp$220$$||$$jscomp$this$jscomp$183$$.tickDelta("fp",$win$jscomp$220$$)}$$jscomp$this$jscomp$183$$.flush()});$JSCompiler_StaticMethods_registerPerformanceObserver_$$(this);$JSCompiler_StaticMethods_registerFirstInputDelayPolyfillListener_$$(this)}
$JSCompiler_prototypeAlias$$=$Performance$$module$src$service$performance_impl$$.prototype;
$JSCompiler_prototypeAlias$$.coreServicesAvailable=function(){var $$jscomp$this$jscomp$184$$=this,$documentElement$jscomp$7$$=this.win.document.documentElement;this.$viewer_$=$Services$$module$src$services$viewerForDoc$$($documentElement$jscomp$7$$);this.$resources_$=$Services$$module$src$services$resourcesForDoc$$($documentElement$jscomp$7$$);this.$isPerformanceTrackingOn_$=this.$viewer_$.isEmbedded()&&"1"===this.$viewer_$.getParam("csi");this.$viewer_$.onVisibilityChanged(this.flush.bind(this));
$JSCompiler_StaticMethods_measureUserPerceivedVisualCompletenessTime_$$(this);var $channelPromise$$=this.$viewer_$.whenMessagingReady();this.$viewer_$.whenFirstVisible().then(function(){$$jscomp$this$jscomp$184$$.tick("ofv");$$jscomp$this$jscomp$184$$.flush()});this.win.PerformanceLayoutJank&&(this.win.addEventListener("visibilitychange",this.$boundOnVisibilityChange_$,{capture:!0}),$Services$$module$src$services$platformFor$$(this.win).isSafari()&&this.win.addEventListener("beforeunload",this.$boundTickLayoutJankScore_$));
return $channelPromise$$?$channelPromise$$.then(function(){$$jscomp$this$jscomp$184$$.$isMessagingReady_$=!0;$$jscomp$this$jscomp$184$$.tickDelta("msr",$$jscomp$this$jscomp$184$$.win.Date.now()-$$jscomp$this$jscomp$184$$.$initTime_$);$JSCompiler_StaticMethods_flushQueuedTicks_$$($$jscomp$this$jscomp$184$$);$$jscomp$this$jscomp$184$$.flush()}):Promise.resolve()};
function $JSCompiler_StaticMethods_registerPerformanceObserver_$$($JSCompiler_StaticMethods_registerPerformanceObserver_$self$$){function $processEntry$$($processEntry$$){"first-paint"!=$processEntry$$.name||$recordedFirstPaint$$?"first-contentful-paint"!=$processEntry$$.name||$recordedFirstContentfulPaint$$?"firstInput"!==$processEntry$$.entryType||$recordedFirstInputDelay$$?"layoutJank"===$processEntry$$.entryType&&($JSCompiler_StaticMethods_registerPerformanceObserver_$self$$.$aggregateJankScore_$+=
$processEntry$$.fraction):($JSCompiler_StaticMethods_registerPerformanceObserver_$self$$.tickDelta("fid",$processEntry$$.processingStart-$processEntry$$.startTime),$recordedFirstInputDelay$$=!0):($JSCompiler_StaticMethods_registerPerformanceObserver_$self$$.tickDelta("fcp",$processEntry$$.startTime+$processEntry$$.duration),$recordedFirstContentfulPaint$$=!0):($JSCompiler_StaticMethods_registerPerformanceObserver_$self$$.tickDelta("fp",$processEntry$$.startTime+$processEntry$$.duration),$recordedFirstPaint$$=
!0)}var $recordedFirstPaint$$=!1,$recordedFirstContentfulPaint$$=!1,$recordedFirstInputDelay$$=!1,$entryTypesToObserve$$=[];$JSCompiler_StaticMethods_registerPerformanceObserver_$self$$.win.PerformancePaintTiming&&($JSCompiler_StaticMethods_registerPerformanceObserver_$self$$.win.performance.getEntriesByType("paint").forEach($processEntry$$),$entryTypesToObserve$$.push("paint"));$JSCompiler_StaticMethods_registerPerformanceObserver_$self$$.win.PerformanceEventTiming&&($JSCompiler_StaticMethods_registerPerformanceObserver_$self$$.win.performance.getEntriesByType("firstInput").forEach($processEntry$$),
$entryTypesToObserve$$.push("firstInput"));$JSCompiler_StaticMethods_registerPerformanceObserver_$self$$.win.PerformanceLayoutJank&&($JSCompiler_StaticMethods_registerPerformanceObserver_$self$$.win.performance.getEntriesByType("layoutJank").forEach($processEntry$$),$entryTypesToObserve$$.push("layoutJank"));if(0!==$entryTypesToObserve$$.length){var $observer$jscomp$2$$=new $JSCompiler_StaticMethods_registerPerformanceObserver_$self$$.win.PerformanceObserver(function($recordedFirstPaint$$){$recordedFirstPaint$$.getEntries().forEach($processEntry$$);
$JSCompiler_StaticMethods_registerPerformanceObserver_$self$$.flush()});try{$observer$jscomp$2$$.observe({entryTypes:$entryTypesToObserve$$})}catch($err$jscomp$8$$){$dev$$module$src$log$$().warn($err$jscomp$8$$)}}}
function $JSCompiler_StaticMethods_registerFirstInputDelayPolyfillListener_$$($JSCompiler_StaticMethods_registerFirstInputDelayPolyfillListener_$self$$){if($JSCompiler_StaticMethods_registerFirstInputDelayPolyfillListener_$self$$.win.perfMetrics&&$JSCompiler_StaticMethods_registerFirstInputDelayPolyfillListener_$self$$.win.perfMetrics.onFirstInputDelay)$JSCompiler_StaticMethods_registerFirstInputDelayPolyfillListener_$self$$.win.perfMetrics.onFirstInputDelay(function($delay$jscomp$6$$){$JSCompiler_StaticMethods_registerFirstInputDelayPolyfillListener_$self$$.tickDelta("fid-polyfill",$delay$jscomp$6$$);
$JSCompiler_StaticMethods_registerFirstInputDelayPolyfillListener_$self$$.flush()})}$JSCompiler_prototypeAlias$$.$onVisibilityChange_$=function(){"hidden"===this.win.document.visibilityState&&this.$tickLayoutJankScore_$()};
$JSCompiler_prototypeAlias$$.$tickLayoutJankScore_$=function(){0===this.$jankScoresTicked_$?(this.tickDelta("lj",this.$aggregateJankScore_$),this.flush(),this.$jankScoresTicked_$=1):1===this.$jankScoresTicked_$&&(this.tickDelta("lj-2",this.$aggregateJankScore_$),this.flush(),this.$jankScoresTicked_$=2,this.win.removeEventListener("visibilitychange",this.$boundOnVisibilityChange_$,{capture:!0}),this.win.removeEventListener("beforeunload",this.$boundTickLayoutJankScore_$))};
function $JSCompiler_StaticMethods_measureUserPerceivedVisualCompletenessTime_$$($JSCompiler_StaticMethods_measureUserPerceivedVisualCompletenessTime_$self$$){var $didStartInPrerender$$=!$JSCompiler_StaticMethods_measureUserPerceivedVisualCompletenessTime_$self$$.$viewer_$.hasBeenVisible(),$docVisibleTime$$=$didStartInPrerender$$?-1:$JSCompiler_StaticMethods_measureUserPerceivedVisualCompletenessTime_$self$$.$initTime_$;$JSCompiler_StaticMethods_measureUserPerceivedVisualCompletenessTime_$self$$.$viewer_$.whenFirstVisible().then(function(){$docVisibleTime$$=
$JSCompiler_StaticMethods_measureUserPerceivedVisualCompletenessTime_$self$$.win.Date.now();$JSCompiler_StaticMethods_measureUserPerceivedVisualCompletenessTime_$self$$.mark("visible")});$JSCompiler_StaticMethods_whenViewportLayoutComplete_$$($JSCompiler_StaticMethods_measureUserPerceivedVisualCompletenessTime_$self$$).then(function(){if($didStartInPrerender$$){var $userPerceivedVisualCompletenesssTime$$=-1<$docVisibleTime$$?$JSCompiler_StaticMethods_measureUserPerceivedVisualCompletenessTime_$self$$.win.Date.now()-
$docVisibleTime$$:0;$JSCompiler_StaticMethods_measureUserPerceivedVisualCompletenessTime_$self$$.$viewer_$.whenFirstVisible().then(function(){$JSCompiler_StaticMethods_measureUserPerceivedVisualCompletenessTime_$self$$.tickDelta("pc",$userPerceivedVisualCompletenesssTime$$)});$JSCompiler_StaticMethods_prerenderComplete_$$($JSCompiler_StaticMethods_measureUserPerceivedVisualCompletenessTime_$self$$,$userPerceivedVisualCompletenesssTime$$);$JSCompiler_StaticMethods_measureUserPerceivedVisualCompletenessTime_$self$$.mark("pc")}else $JSCompiler_StaticMethods_measureUserPerceivedVisualCompletenessTime_$self$$.tick("pc"),
$JSCompiler_StaticMethods_prerenderComplete_$$($JSCompiler_StaticMethods_measureUserPerceivedVisualCompletenessTime_$self$$,$JSCompiler_StaticMethods_measureUserPerceivedVisualCompletenessTime_$self$$.win.Date.now()-$docVisibleTime$$);$JSCompiler_StaticMethods_measureUserPerceivedVisualCompletenessTime_$self$$.flush()})}
function $JSCompiler_StaticMethods_whenViewportLayoutComplete_$$($JSCompiler_StaticMethods_whenViewportLayoutComplete_$self$$){var $rect$jscomp$12_size$jscomp$20$$=$Services$$module$src$services$viewportForDoc$$($JSCompiler_StaticMethods_whenViewportLayoutComplete_$self$$.win.document.documentElement).getSize();$rect$jscomp$12_size$jscomp$20$$=$layoutRectLtwh$$module$src$layout_rect$$(0,0,$rect$jscomp$12_size$jscomp$20$$.width,$rect$jscomp$12_size$jscomp$20$$.height);return $JSCompiler_StaticMethods_whenViewportLayoutComplete_$self$$.$resources_$.getResourcesInRect($JSCompiler_StaticMethods_whenViewportLayoutComplete_$self$$.win,
$rect$jscomp$12_size$jscomp$20$$,!0).then(function($JSCompiler_StaticMethods_whenViewportLayoutComplete_$self$$){return Promise.all($JSCompiler_StaticMethods_whenViewportLayoutComplete_$self$$.map(function($JSCompiler_StaticMethods_whenViewportLayoutComplete_$self$$){return $JSCompiler_StaticMethods_whenViewportLayoutComplete_$self$$.loadedOnce()}))})}
$JSCompiler_prototypeAlias$$.tick=function($label$jscomp$4$$,$opt_delta$$){var $value$jscomp$143$$=void 0==$opt_delta$$?this.win.Date.now():void 0,$data$jscomp$92$$=$dict$$module$src$utils$object$$({label:$label$jscomp$4$$,value:$value$jscomp$143$$,delta:null!=$opt_delta$$?Math.max($opt_delta$$,0):void 0});this.$isMessagingReady_$&&this.$isPerformanceTrackingOn_$?this.$viewer_$.sendMessage("tick",$data$jscomp$92$$):(50<=this.$events_$.length&&this.$events_$.shift(),this.$events_$.push($data$jscomp$92$$));
1==arguments.length&&this.mark($label$jscomp$4$$);var $storedVal$$=Math.round(null!=$opt_delta$$?Math.max($opt_delta$$,0):$value$jscomp$143$$-this.$initTime_$);switch($label$jscomp$4$$){case "fcp":this.$firstContentfulPaint_$=$storedVal$$;break;case "pc":this.$firstViewportReady_$=$storedVal$$;break;case "mbv":this.$makeBodyVisible_$=$storedVal$$}};$JSCompiler_prototypeAlias$$.mark=function($label$jscomp$5$$){this.win.performance&&this.win.performance.mark&&1==arguments.length&&this.win.performance.mark($label$jscomp$5$$)};
$JSCompiler_prototypeAlias$$.tickDelta=function($label$jscomp$6$$,$value$jscomp$144$$){this.tick($label$jscomp$6$$,$value$jscomp$144$$)};$JSCompiler_prototypeAlias$$.tickSinceVisible=function($label$jscomp$7$$){var $now$jscomp$14$$=this.win.Date.now(),$visibleTime$$=this.$viewer_$?this.$viewer_$.getFirstVisibleTime():0;this.tickDelta($label$jscomp$7$$,$visibleTime$$?Math.max($now$jscomp$14$$-$visibleTime$$,0):0)};
$JSCompiler_prototypeAlias$$.flush=function(){this.$isMessagingReady_$&&this.$isPerformanceTrackingOn_$&&this.$viewer_$.sendMessage("sendCsi",$dict$$module$src$utils$object$$({ampexp:this.$ampexp_$}),!0)};$JSCompiler_prototypeAlias$$.throttledFlush=function(){this.$throttledFlush_$||(this.$throttledFlush_$=$throttle$$module$src$utils$rate_limit$$(this.win,this.flush.bind(this)));this.$throttledFlush_$()};
$JSCompiler_prototypeAlias$$.addEnabledExperiment=function($experimentId$jscomp$3$$){this.$enabledExperiments_$[$experimentId$jscomp$3$$]=!0;this.$ampexp_$=Object.keys(this.$enabledExperiments_$).join(",")};
function $JSCompiler_StaticMethods_flushQueuedTicks_$$($JSCompiler_StaticMethods_flushQueuedTicks_$self$$){$JSCompiler_StaticMethods_flushQueuedTicks_$self$$.$viewer_$&&($JSCompiler_StaticMethods_flushQueuedTicks_$self$$.$isPerformanceTrackingOn_$&&$JSCompiler_StaticMethods_flushQueuedTicks_$self$$.$events_$.forEach(function($tickEvent$$){$JSCompiler_StaticMethods_flushQueuedTicks_$self$$.$viewer_$.sendMessage("tick",$tickEvent$$)}),$JSCompiler_StaticMethods_flushQueuedTicks_$self$$.$events_$.length=
0)}function $JSCompiler_StaticMethods_prerenderComplete_$$($JSCompiler_StaticMethods_prerenderComplete_$self$$,$value$jscomp$145$$){$JSCompiler_StaticMethods_prerenderComplete_$self$$.$viewer_$&&$JSCompiler_StaticMethods_prerenderComplete_$self$$.$viewer_$.sendMessage("prerenderComplete",$dict$$module$src$utils$object$$({value:$value$jscomp$145$$}),!0)}$JSCompiler_prototypeAlias$$.isPerformanceTrackingOn=function(){return this.$isPerformanceTrackingOn_$};
$JSCompiler_prototypeAlias$$.getFirstContentfulPaint=function(){return this.$firstContentfulPaint_$};$JSCompiler_prototypeAlias$$.getMakeBodyVisible=function(){return this.$makeBodyVisible_$};$JSCompiler_prototypeAlias$$.getFirstViewportReady=function(){return this.$firstViewportReady_$};(function(){$deactivated$$module$src$chunk$$=!0})();(function($win$jscomp$219$$,$isSingleDoc$jscomp$1$$){$registerServiceBuilder$$module$src$service$$($win$jscomp$219$$,"ampdoc",function(){return new $AmpDocService$$module$src$service$ampdoc_impl$$($win$jscomp$219$$,$isSingleDoc$jscomp$1$$)})})(self,!1);$installRuntimeServices$$module$src$runtime$$(self);(function(){$trackImpressionPromise$$module$src$impression$$=Promise.resolve()})();
if($isExperimentOn$$module$src$experiments$$(self,"ampdoc-shell")){$registerServiceBuilder$$module$src$service$$(self,"performance",$Performance$$module$src$service$performance_impl$$);var ampdocService=$Services$$module$src$services$ampdocServiceFor$$(self),ampdocShell=ampdocService.installShellShadowDoc();$installStylesForDoc$$module$src$style_installer$$(ampdocShell,cssText$$module$build$css,function(){$installAmpdocServices$$module$src$runtime$$(ampdocShell);$installBuiltinElements$$module$src$service$extensions_impl$$();
$adoptShadowMode$$module$src$runtime$$();$stubElementsForDoc$$module$src$service$custom_element_registry$$();$makeBodyVisible$$module$src$style_installer$$();$Services$$module$src$services$resourcesForDoc$$(ampdocShell).ampInitComplete()},!0,"amp-runtime")}else $bodyMadeVisible$$module$src$style_installer$$=!0,$installBuiltinElements$$module$src$service$extensions_impl$$(),$adoptShadowMode$$module$src$runtime$$();self.console&&(console.info||console.log).call(console,"Powered by AMP \u26a1 HTML shadows \u2013 Version 1904281823091");
self.document.documentElement.setAttribute("amp-version","1904281823091");})();

//# sourceMappingURL=shadow-v0.js.map
