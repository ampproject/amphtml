(self.AMP=self.AMP||[]).push({n:"amp-position-observer",v:"1912180046560",f:(function(AMP,_){
var k="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},m;if("function"==typeof Object.setPrototypeOf)m=Object.setPrototypeOf;else{var n;a:{var aa={a:!0},p={};try{p.__proto__=aa;n=p.a;break a}catch(a){}n=!1}m=n?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var q=m;function r(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(d){return b}};var ba=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var t=self.__AMP_LOG;function u(){if(!t.user)throw Error("failed to call initLogConstructor");return t.user}function v(){if(t.dev)return t.dev;throw Error("failed to call initLogConstructor");}function w(a,b,d){return u().assert(a,b,d,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};var x=Object.prototype.hasOwnProperty;function y(a){return a||{}};y({c:!0,v:!0,a:!0,ad:!0,action:!0});function z(a,b){if(a.__AMP__EXPERIMENT_TOGGLES)var d=a.__AMP__EXPERIMENT_TOGGLES;else{a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);d=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var c in a.AMP_CONFIG){var e=a.AMP_CONFIG[c];"number"===typeof e&&0<=e&&1>=e&&(d[c]=Math.random()<e)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length&&(c=a.AMP_CONFIG["allow-doc-opt-in"],e=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){e=
e.getAttribute("content").split(",");for(var f=0;f<e.length;f++)-1!=c.indexOf(e[f])&&(d[e[f]]=!0)}Object.assign(d,ca(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length){c=a.AMP_CONFIG["allow-url-opt-in"];e=a.location.originalHash||a.location.hash;a=Object.create(null);if(e)for(var g;g=ba.exec(e);)f=r(g[1],g[1]),g=g[2]?r(g[2].replace(/\+/g," "),g[2]):"",a[f]=g;for(e=0;e<c.length;e++)f=a["e-"+c[e]],"1"==f&&(d[c[e]]=!0),"0"==f&&(d[c[e]]=!1)}}var h=
d;return!!h[b]}function ca(a){var b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(e){v().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var d=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(var c=0;c<d.length;c++)0!=d[c].length&&("-"==d[c][0]?a[d[c].substr(1)]=!1:a[d[c]]=!0);return a};var A={},B=(A["ampdoc-fie"]={isTrafficEligible:function(){return!0},branches:[["21065001"],["21065002"]]},A);function da(a){var b=a.ownerDocument.defaultView,d=b.__AMP_TOP||(b.__AMP_TOP=b),c=b!=d;var e=d;if(z(e,"ampdoc-fie")){e.__AMP_EXPERIMENT_BRANCHES=e.__AMP_EXPERIMENT_BRANCHES||{};for(var f in B)if(x.call(B,f)&&!x.call(e.__AMP_EXPERIMENT_BRANCHES,f))if(B[f].isTrafficEligible&&B[f].isTrafficEligible(e)){if(!e.__AMP_EXPERIMENT_BRANCHES[f]&&z(e,f)){var g=B[f].branches;e.__AMP_EXPERIMENT_BRANCHES[f]=g[Math.floor(Math.random()*g.length)]||null}}else e.__AMP_EXPERIMENT_BRANCHES[f]=null;e="21065002"===(e.__AMP_EXPERIMENT_BRANCHES?
e.__AMP_EXPERIMENT_BRANCHES["ampdoc-fie"]:null)}else e=!1;var h=e;c&&!h?a=C(b,"action")?D(b,"action"):null:(a=E(a),a=F(a),a=C(a,"action")?D(a,"action"):null);return a}function ea(a){var b=G,d=E(a),c=F(d),e=c,f=H(e),g=f["position-observer"];g||(g=f["position-observer"]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});g.ctor||g.obj||(g.ctor=b,g.context=d,g.resolve&&D(e,"position-observer"))}function I(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return D(a,b)}
function J(a,b){var d=E(a);d=F(d);return D(d,b)}function E(a){return a.nodeType?I((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function F(a){a=E(a);return a.isSingleDoc()?a.win:a}function D(a,b){C(a,b);var d=H(a);a=d[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function H(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}function C(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function K(a,b,d,c){return{left:a,top:b,width:d,height:c,bottom:b+c,right:a+d,x:a,y:b}}function L(a,b){return a.top<b.top?"top":a.bottom>b.bottom?"bottom":"inside"}function M(a,b){return a&&b?a.left==b.left&&a.top==b.top&&a.width==b.width&&a.height==b.height:!1};function N(a,b,d,c){this.element=b;this.P=c;this.fidelity=d;this.turn=0==d?Math.floor(4*Math.random()):0;this.B=null;this.j=J(a,"viewport")}
N.prototype.update=function(a){var b=this;if(!a){if(0!=this.turn){this.turn--;return}0==this.fidelity&&(this.turn=4)}var d=this.j.getSize(),c=K(0,0,d.width,d.height);this.j.getClientRectAsync(this.element).then(function(a){var d={positionRect:a,viewportRect:c,relativePos:null},e=b.B;if(!(e&&M(e.positionRect,d.positionRect)&&M(e.viewportRect,d.viewportRect))){e=d.positionRect;d.relativePos=L(e,d.viewportRect);var h=d.viewportRect;e.top<=h.bottom&&h.top<=e.bottom&&e.left<=h.right&&h.left<=e.right?(b.B=
d,b.P(d)):b.B&&(b.B=null,d.positionRect=null,b.P(d))}})};function O(a){w(/^\d+(\.\d+)?(px|em|rem|vh|vw|vmin|vmax|cm|mm|q|in|pc|pt)$/.test(a),"Invalid length value: %s",a);return a};function P(a,b,d){var c={detail:d};Object.assign(c,void 0);if("function"==typeof a.CustomEvent)return new a.CustomEvent(b,c);a=a.document.createEvent("CustomEvent");a.initCustomEvent(b,!!c.bubbles,!!c.cancelable,d);return a};function fa(a,b){function d(){c=0;var g=500-(a.Date.now()-e);if(0<g)c=a.setTimeout(d,g);else{var h=f;f=null;b.apply(null,h)}}var c=0,e=0,f=null;return function(b){for(var g=[],l=0;l<arguments.length;++l)g[l-0]=arguments[l];e=a.Date.now();f=g;c||(c=a.setTimeout(d,500))}};function G(a){var b=this;this.V=a;this.U=a.win;this.h=[];this.Z=I(this.U,"vsync");this.j=J(a,"viewport");this.H=[];this.K=this.M=this.L=!1;this.W=fa(this.U,function(){b.L=!1})}G.prototype.observe=function(a,b,d){var c=this,e=new N(this.V,a,b,d);this.h.push(e);this.K||ha(this);e.update();return function(){for(var a=0;a<c.h.length;a++)if(c.h[a]==e){c.h.splice(a,1);0==c.h.length&&Q(c);break}}};
G.prototype.unobserve=function(a){for(var b=0;b<this.h.length;b++)if(this.h[b].element==a){this.h.splice(b,1);0==this.h.length&&Q(this);return}v().error("POSITION_OBSERVER","cannot unobserve unobserved element")};function ha(a){a.K=!0;a.H.push(a.j.onScroll(function(){a.W();a.L=!0;a.M||R(a)}));a.H.push(a.j.onResize(function(){a.updateAllEntries(!0)}))}function Q(a){for(a.K=!1;a.H.length;)a.H.pop()()}G.prototype.updateAllEntries=function(a){for(var b=0;b<this.h.length;b++)this.h[b].update(a)};
function R(a){a.updateAllEntries();a.M=!0;a.L?a.Z.measure(function(){R(a)}):a.M=!1};function S(a){a=AMP.BaseElement.call(this,a)||this;a.w=null;a.m=null;a.j=null;a.l=!1;a.G=0;a.o=0;a.N="0";a.J="0";a.C=0;a.S=0;a.I=null;a.F=null;a.A=null;a.D=0;a.R=0;a.T=!1;a.O=!1;return a}var T=AMP.BaseElement;S.prototype=k(T.prototype);S.prototype.constructor=S;if(q)q(S,T);else for(var U in T)if("prototype"!=U)if(Object.defineProperties){var V=Object.getOwnPropertyDescriptor(T,U);V&&Object.defineProperty(S,U,V)}else S[U]=T[U];S.aa=T.prototype;
S.prototype.buildCallback=function(){this.getAmpDoc().whenFirstVisible().then(this.X.bind(this));this.T=this.element.hasAttribute("once")};S.prototype.X=function(){var a=this;ia(this);this.w=da(this.element);this.j=J(this.element,"viewport");this.m||(ea(this.getAmpDoc()),this.m=J(this.element,"position-observer"));this.getAmpDoc().whenReady().then(function(){var b=W(a);a.m.observe(b,1,a.Y.bind(a))})};
function X(a){var b=a.j.getScrollTop(),d=y({"start-scroll-offset":b,"end-scroll-offset":b+a.R,"initial-inview-percent":a.D}),c=P(a.win,"amp-position-observer.scroll",y({percent:a.D,positionObserverData:d}));a.w.trigger(a.element,"scroll",c,1)}
S.prototype.Y=function(a){if(!this.T||!this.O){var b=this.l,d=this.I&&this.I.height,c=a;this.A||(this.A=c.viewportRect.height);var e=this.A-c.viewportRect.height,f=0;150>Math.abs(e)?f=e:this.A=null;c.viewportRect=K(c.viewportRect.left,c.viewportRect.top,c.viewportRect.width,c.viewportRect.height+f);this.I=a.viewportRect;d!=a.viewportRect.height&&(this.C=Y(this,this.N),this.S=Y(this,this.J));c=a.viewportRect;var g=c=K(c.left,c.top+this.C,c.width,c.height-this.S-this.C);c=a.positionRect;if(c){var h=
L(c,g);e=g;f=h;if("inside"==f)this.l=!0;else{var l=c.height*("top"==f?this.G:this.o);this.l="bottom"==f?c.top<=e.bottom-l:c.bottom>=e.top+l}}else this.l=!1,h=a.relativePos;b&&!this.l&&(this.D="bottom"==h?0:1,X(this),e=P(this.win,"amp-position-observer.exit",y({})),this.w.trigger(this.element,"exit",e,1),this.O=!0);!b&&this.l&&(e=P(this.win,"amp-position-observer.enter",y({})),this.w.trigger(this.element,"enter",e,1));this.l&&(f=g,c&&(e=f.height+c.height-(c.height*this.o+c.height*this.G),c=Math.abs(c.top-
this.C-(f.height-c.height*this.o)),this.D=c/e,this.R=e-c),X(this))}};function ia(a){var b=a.element.getAttribute("intersection-ratios");if(b){var d=b.trim().split(" ");a.G=Z(d[0]);a.o=a.G;d[1]&&(a.o=Z(d[1]))}var c=a.element.getAttribute("viewport-margins");c&&(c=c.trim().split(" "),a.N=c[0],a.J=a.N,c[1]&&(a.J=c[1]));a.F=a.element.getAttribute("target")}
function W(a){var b=a.F?u().assertElement(a.getAmpDoc().getElementById(a.F),"No element found with id:"+a.F):a.element.parentNode;a.getAmpDoc().getBody()==b&&(b=a.win.document.documentElement);return b}
function Y(a,b){b="number"==typeof b?b+"px":b&&/^\d+(\.\d+)?(px|em|rem|vh|vw|vmin|vmax|cm|mm|q|in|pc|pt)?$/.test(b)?/^\d+(\.\d+)?$/.test(b)?b+"px":b:void 0;b=O(b);var d=b;O(d);d=w(d.match(/[a-z]+/i),"Failed to read units from %s",d)[0];var c=parseFloat(b);c="number"===typeof c&&isFinite(c)?c:void 0;if(!c)return 0;w("px"==d||"vh"==d,"Only pixel or vh are valid as units for exclusion margins: "+b);"vh"==d&&(c=c/100*a.I.height);return c}
function Z(a){var b=parseFloat(a);w(0<=b&&1>=b,"Ratios must be a decimal between 0 and 1: "+a);return b}S.prototype.$=function(){if(this.m){var a=W(this);this.m.unobserve(a);this.m=null}};(function(a){a.registerElement("amp-position-observer",S)})(self.AMP);
})});

//# sourceMappingURL=amp-position-observer-0.1.js.map
