/**
 * Copyright 2021 The AMP HTML Authors. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS-IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

 .i-amphtml-story-player-loaded .story-player-iframe-desktop-panels {
  transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

/**
 * NOTE: If you change any variables or media queries change:
 * extensions/amp-story/1.0/amp-story-desktop-one-panel.css
 */

.story-player-iframe-desktop-panels {
  --i-amphtml-story-player-desktop-panels-ratio: 69 / 116;
  --i-amphtml-story-player-desktop-panels-responsive-margin: max(74px, 8.25vh);
  /** Calculates panel height by subtracting responsive vertical margin. */
  --i-amphtml-story-player-desktop-panels-height: calc(100vh - var(--i-amphtml-story-player-desktop-panels-responsive-margin) * 2);
  --i-amphtml-story-player-desktop-panels-width: calc(var(--i-amphtml-story-player-desktop-panels-height) * var(--i-amphtml-story-player-desktop-panels-ratio));
  --i-amphtml-story-player-desktop-panels-border-radius: 10px;
  width: var(--i-amphtml-story-player-desktop-panels-width) !important;
  height: var(--i-amphtml-story-player-desktop-panels-height) !important;
  border-radius: var(--i-amphtml-story-player-desktop-panels-border-radius) !important;
  
  position: absolute !important;
  border: none !important;
}

@media(max-height: 756px) {
  .story-player-iframe-desktop-panels {
    --i-amphtml-story-player-desktop-panels-responsive-margin: 0px;
    --i-amphtml-story-player-desktop-panels-width: calc(100vh * var(--i-amphtml-story-player-desktop-panels-ratio));
    --i-amphtml-story-player-desktop-panels-border-radius: 0;
  }
}

@media(max-height: 538px) {
  .story-player-iframe-desktop-panels {
    --i-amphtml-story-player-desktop-panels-ratio: 3 / 4;
  }
}

.i-amphtml-story-player-main-container-desktop-panels {
  height: 100% !important;
  overflow: hidden !important;
  transform-style: preserve-3d !important;
  background: black !important;
  display: flex !important;
  align-items: center !important;
}

.i-amphtml-story-player-main-container-desktop-panels iframe:nth-of-type(1),
.i-amphtml-story-player-main-container-desktop-panels .story-player-iframe-desktop-panels[i-amphtml-iframe-position="0"] {
  transform: translateX(calc(50vw - 50%)) !important;
}

.i-amphtml-story-player-main-container-desktop-panels iframe:nth-of-type(2),
.i-amphtml-story-player-main-container-desktop-panels iframe:nth-of-type(3),
.i-amphtml-story-player-main-container-desktop-panels .story-player-iframe-desktop-panels[i-amphtml-iframe-position="1"] {
  transform: translateX(calc(50vw + 50%)) scale(.6) !important;
}

.i-amphtml-story-player-main-container-desktop-panels .story-player-iframe-desktop-panels[i-amphtml-iframe-position="-1"] {
  transform: translateX(calc(50vw - 150%)) scale(.6) !important;
}
