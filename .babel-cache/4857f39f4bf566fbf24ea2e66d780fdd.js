var _ANIMATION_CSS_CLASS_;

/**
 * Copyright 2017 The AMP HTML Authors. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS-IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { GRID_LAYER_TEMPLATE_CLASS_NAMES } from "./amp-story-grid-layer";
import { StoryAnimationPresetDef } from "./animation-types";
import { calculateTargetScalingFactor, rotateAndTranslate, scaleAndTranslate, translate2d, whooshIn } from "./animation-presets-utils";
import { px } from "../../../src/core/dom/style";
import { userAssert } from "../../../src/log";

/** @const {string} */
var FULL_BLEED_CATEGORY = 'full-bleed';

/** @const {string} */
var FILL_TEMPLATE_LAYOUT = 'fill';

/** @const {number} */
var SCALE_HIGH_DEFAULT = 3;

/** @const {number} */
var SCALE_LOW_DEFAULT = 1;

/** @const {string} */
var SCALE_START_ATTRIBUTE_NAME = 'scale-start';

/** @const {string} */
var SCALE_END_ATTRIBUTE_NAME = 'scale-end';

/** @const {string} */
var TRANSLATE_X_ATTRIBUTE_NAME = 'translate-x';

/** @const {string} */
var TRANSLATE_Y_ATTRIBUTE_NAME = 'translate-y';

/** @const {string} */
var DEFAULT_CURVE = '0.4, 0.4, 0.0, 1';

/** @const {!Array<string>} */
export var PRESET_OPTION_ATTRIBUTES = [SCALE_START_ATTRIBUTE_NAME, SCALE_END_ATTRIBUTE_NAME, TRANSLATE_X_ATTRIBUTE_NAME, TRANSLATE_Y_ATTRIBUTE_NAME];

/**
 * A list of animations that are full bleed.
 * @private @const {!Array<string>}
 */
var FULL_BLEED_ANIMATION_NAMES = ['pan-up', 'pan-down', 'pan-right', 'pan-left', 'zoom-in', 'zoom-out'];

/**
 * A mapping of animation categories to corresponding CSS class names.
 * @private @const {!Object<string, string>}
 */
var ANIMATION_CSS_CLASS_NAMES = (_ANIMATION_CSS_CLASS_ = {}, _ANIMATION_CSS_CLASS_[FULL_BLEED_CATEGORY] = 'i-amphtml-story-grid-template-with-full-bleed-animation', _ANIMATION_CSS_CLASS_);

/**
 * Perform style-specific operations for presets.
 * @param {!Element} el
 * @param {string} presetName
 */
export function setStyleForPreset(el, presetName) {
  // For full bleed animations.
  if (FULL_BLEED_ANIMATION_NAMES.indexOf(presetName) >= 0) {
    var parent = el.parentElement;

    if (parent.classList.contains(GRID_LAYER_TEMPLATE_CLASS_NAMES[FILL_TEMPLATE_LAYOUT])) {
      parent.classList.remove(GRID_LAYER_TEMPLATE_CLASS_NAMES[FILL_TEMPLATE_LAYOUT]);
    }

    parent.classList.add(ANIMATION_CSS_CLASS_NAMES[FULL_BLEED_CATEGORY]);
  }
}

/**
 * First keyframe will always be considered offset: 0 and will be applied to the
 * element as the first frame before animation starts.
 * @type {!Object<string, !StoryAnimationPresetDef>}
 */
export var presets = {
  'pulse': {
    duration: 600,
    easing: 'cubic-bezier(0.3, 0.0, 0.0, 1)',
    keyframes: [{
      offset: 0,
      transform: 'scale(1)'
    }, {
      offset: 0.25,
      transform: 'scale(0.95)'
    }, {
      offset: 0.75,
      transform: 'scale(1.05)'
    }, {
      offset: 1,
      transform: 'scale(1)'
    }]
  },
  'fly-in-left': {
    duration: 600,
    easing: "cubic-bezier(0.2, 0.6, 0.0, 1)",
    keyframes: function keyframes(dimensions) {
      var offsetX = -(dimensions.targetX + dimensions.targetWidth);
      return translate2d(offsetX, 0, 0, 0);
    }
  },
  'fly-in-right': {
    duration: 600,
    easing: "cubic-bezier(0.2, 0.6, 0.0, 1)",
    keyframes: function keyframes(dimensions) {
      var offsetX = dimensions.pageWidth - dimensions.targetX;
      return translate2d(offsetX, 0, 0, 0);
    }
  },
  'fly-in-top': {
    duration: 600,
    easing: "cubic-bezier(0.2, 0.6, 0.0, 1)",
    keyframes: function keyframes(dimensions) {
      var offsetY = -(dimensions.targetY + dimensions.targetHeight);
      return translate2d(0, offsetY, 0, 0);
    }
  },
  'fly-in-bottom': {
    duration: 600,
    easing: "cubic-bezier(0.2, 0.6, 0.0, 1)",
    keyframes: function keyframes(dimensions) {
      var offsetY = dimensions.pageHeight - dimensions.targetY;
      return translate2d(0, offsetY, 0, 0);
    }
  },
  'rotate-in-left': {
    duration: 1000,
    easing: "cubic-bezier(" + DEFAULT_CURVE + ")",
    keyframes: function keyframes(dimensions) {
      var offsetX = -(dimensions.targetX + dimensions.targetWidth);
      return rotateAndTranslate(offsetX, 0, 0, 0, -1);
    }
  },
  'rotate-in-right': {
    duration: 1000,
    easing: "cubic-bezier(" + DEFAULT_CURVE + ")",
    keyframes: function keyframes(dimensions) {
      var offsetX = dimensions.pageWidth - dimensions.targetX;
      return rotateAndTranslate(offsetX, 0, 0, 0, 1);
    }
  },
  'fade-in': {
    duration: 600,
    easing: "cubic-bezier(" + DEFAULT_CURVE + ")",
    keyframes: [{
      opacity: 0
    }, {
      opacity: 1
    }]
  },
  'scale-fade-up': {
    duration: 600,
    easing: "cubic-bezier(" + DEFAULT_CURVE + ")",
    keyframes: [{
      opacity: 0,
      transform: 'scale(0.8)'
    }, {
      opacity: 1,
      transform: 'scale(1)'
    }]
  },
  'scale-fade-down': {
    duration: 600,
    easing: "cubic-bezier(" + DEFAULT_CURVE + ")",
    keyframes: [{
      opacity: 0,
      transform: 'scale(1.4)'
    }, {
      opacity: 1,
      transform: 'scale(1)'
    }]
  },
  'drop': {
    duration: 1600,
    easing: "linear",
    keyframes: function keyframes(dimensions) {
      var maxBounceHeight = Math.max(160, dimensions.targetY + dimensions.targetHeight);
      return [{
        offset: 0.0,
        transform: "translateY(" + px(Number(-maxBounceHeight)) + ")",
        easing: 'cubic-bezier(.5, 0, 1, 1)'
      }, {
        offset: 0.29,
        transform: "translateY(0)",
        easing: 'cubic-bezier(0, 0, .5, 1)'
      }, {
        offset: 0.45,
        transform: "translateY(" + px(-maxBounceHeight * 0.2812) + ")",
        easing: 'cubic-bezier(.5, 0, 1, 1)'
      }, {
        offset: 0.61,
        transform: "translateY(0)",
        easing: 'cubic-bezier(0, 0, .5, 1)'
      }, {
        offset: 0.71,
        transform: "translateY(" + px(-maxBounceHeight * 0.0956) + ")",
        easing: 'cubic-bezier(.5, 0, 1, 1)'
      }, {
        offset: 0.8,
        transform: "translateY(0)",
        easing: 'cubic-bezier(0, 0, .5, 1)'
      }, {
        offset: 0.85,
        transform: "translateY(" + px(-maxBounceHeight * 0.0359) + ")",
        easing: 'cubic-bezier(.5, 0, 1, 1)'
      }, {
        offset: 0.92,
        transform: "translateY(0)",
        easing: 'cubic-bezier(0, 0, .5, 1)'
      }, {
        offset: 0.96,
        transform: "translateY(" + px(-maxBounceHeight * 0.0156) + ")",
        easing: 'cubic-bezier(.5, 0, 1, 1)'
      }, {
        offset: 1,
        transform: "translateY(0)",
        easing: 'cubic-bezier(0, 0, .5, 1)'
      }];
    }
  },
  'twirl-in': {
    duration: 1000,
    easing: "cubic-bezier(" + DEFAULT_CURVE + ")",
    keyframes: [{
      transform: 'rotate(-540deg) scale(0.1)',
      opacity: 0
    }, {
      transform: 'none',
      opacity: 1
    }]
  },
  'whoosh-in-left': {
    duration: 600,
    easing: "cubic-bezier(" + DEFAULT_CURVE + ")",
    keyframes: function keyframes(dimensions) {
      var offsetX = -(dimensions.targetX + dimensions.targetWidth);
      return whooshIn(offsetX, 0, 0, 0);
    }
  },
  'whoosh-in-right': {
    duration: 600,
    easing: "cubic-bezier(" + DEFAULT_CURVE + ")",
    keyframes: function keyframes(dimensions) {
      var offsetX = dimensions.pageWidth - dimensions.targetX;
      return whooshIn(offsetX, 0, 0, 0);
    }
  },
  'pan-left': {
    duration: 1000,
    easing: 'linear',
    keyframes: function keyframes(dimensions, options) {
      var translateX = options[TRANSLATE_X_ATTRIBUTE_NAME];
      var scalingFactor = calculateTargetScalingFactor(dimensions);
      dimensions.targetWidth *= scalingFactor;
      dimensions.targetHeight *= scalingFactor;
      var offsetX = dimensions.pageWidth - dimensions.targetWidth;
      var offsetY = (dimensions.pageHeight - dimensions.targetHeight) / 2;
      return scaleAndTranslate(offsetX, offsetY, translateX ? offsetX + translateX : 0, offsetY, scalingFactor);
    }
  },
  'pan-right': {
    duration: 1000,
    easing: 'linear',
    keyframes: function keyframes(dimensions, options) {
      var translateX = options[TRANSLATE_X_ATTRIBUTE_NAME];
      var scalingFactor = calculateTargetScalingFactor(dimensions);
      dimensions.targetWidth *= scalingFactor;
      dimensions.targetHeight *= scalingFactor;
      var offsetX = dimensions.pageWidth - dimensions.targetWidth;
      var offsetY = (dimensions.pageHeight - dimensions.targetHeight) / 2;
      return scaleAndTranslate(0, offsetY, -translateX || offsetX, offsetY, scalingFactor);
    }
  },
  'pan-down': {
    duration: 1000,
    easing: 'linear',
    keyframes: function keyframes(dimensions, options) {
      var translateY = options[TRANSLATE_Y_ATTRIBUTE_NAME];
      var scalingFactor = calculateTargetScalingFactor(dimensions);
      dimensions.targetWidth *= scalingFactor;
      dimensions.targetHeight *= scalingFactor;
      var offsetX = -dimensions.targetWidth / 2;
      var offsetY = dimensions.pageHeight - dimensions.targetHeight;
      return scaleAndTranslate(offsetX, 0, offsetX, -translateY || offsetY, scalingFactor);
    }
  },
  'pan-up': {
    duration: 1000,
    easing: 'linear',
    keyframes: function keyframes(dimensions, options) {
      var translateY = options[TRANSLATE_Y_ATTRIBUTE_NAME];
      var scalingFactor = calculateTargetScalingFactor(dimensions);
      dimensions.targetWidth *= scalingFactor;
      dimensions.targetHeight *= scalingFactor;
      var offsetX = -dimensions.targetWidth / 2;
      var offsetY = dimensions.pageHeight - dimensions.targetHeight;
      return scaleAndTranslate(offsetX, offsetY, offsetX, translateY ? offsetY + translateY : 0, scalingFactor);
    }
  },
  'zoom-in': {
    duration: 1000,
    easing: 'linear',
    keyframes: function keyframes(unusedDimensions, options) {
      var scaleStart = options[SCALE_START_ATTRIBUTE_NAME];
      var scaleEnd = options[SCALE_END_ATTRIBUTE_NAME];

      if (scaleStart) {
        userAssert(scaleEnd > scaleStart, '"scale-end" value must be greater ' + 'than "scale-start" value when using "zoom-in" animation.');
      }

      return [{
        transform: "scale(" + (scaleStart || SCALE_LOW_DEFAULT) + ")"
      }, {
        transform: "scale(" + (scaleEnd || SCALE_HIGH_DEFAULT) + ")"
      }];
    }
  },
  'zoom-out': {
    duration: 1000,
    easing: 'linear',
    keyframes: function keyframes(unusedDimensions, options) {
      var scaleStart = options[SCALE_START_ATTRIBUTE_NAME];
      var scaleEnd = options[SCALE_END_ATTRIBUTE_NAME];

      if (scaleStart) {
        userAssert(scaleStart > scaleEnd, '"scale-start" value must be ' + 'higher than "scale-end" value when using "zoom-out" animation.');
      }

      return [{
        transform: "scale(" + (scaleStart || SCALE_HIGH_DEFAULT) + ")"
      }, {
        transform: "scale(" + (scaleEnd || SCALE_LOW_DEFAULT) + ")"
      }];
    }
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuaW1hdGlvbi1wcmVzZXRzLmpzIl0sIm5hbWVzIjpbIkdSSURfTEFZRVJfVEVNUExBVEVfQ0xBU1NfTkFNRVMiLCJTdG9yeUFuaW1hdGlvblByZXNldERlZiIsImNhbGN1bGF0ZVRhcmdldFNjYWxpbmdGYWN0b3IiLCJyb3RhdGVBbmRUcmFuc2xhdGUiLCJzY2FsZUFuZFRyYW5zbGF0ZSIsInRyYW5zbGF0ZTJkIiwid2hvb3NoSW4iLCJweCIsInVzZXJBc3NlcnQiLCJGVUxMX0JMRUVEX0NBVEVHT1JZIiwiRklMTF9URU1QTEFURV9MQVlPVVQiLCJTQ0FMRV9ISUdIX0RFRkFVTFQiLCJTQ0FMRV9MT1dfREVGQVVMVCIsIlNDQUxFX1NUQVJUX0FUVFJJQlVURV9OQU1FIiwiU0NBTEVfRU5EX0FUVFJJQlVURV9OQU1FIiwiVFJBTlNMQVRFX1hfQVRUUklCVVRFX05BTUUiLCJUUkFOU0xBVEVfWV9BVFRSSUJVVEVfTkFNRSIsIkRFRkFVTFRfQ1VSVkUiLCJQUkVTRVRfT1BUSU9OX0FUVFJJQlVURVMiLCJGVUxMX0JMRUVEX0FOSU1BVElPTl9OQU1FUyIsIkFOSU1BVElPTl9DU1NfQ0xBU1NfTkFNRVMiLCJzZXRTdHlsZUZvclByZXNldCIsImVsIiwicHJlc2V0TmFtZSIsImluZGV4T2YiLCJwYXJlbnQiLCJwYXJlbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJyZW1vdmUiLCJhZGQiLCJwcmVzZXRzIiwiZHVyYXRpb24iLCJlYXNpbmciLCJrZXlmcmFtZXMiLCJvZmZzZXQiLCJ0cmFuc2Zvcm0iLCJkaW1lbnNpb25zIiwib2Zmc2V0WCIsInRhcmdldFgiLCJ0YXJnZXRXaWR0aCIsInBhZ2VXaWR0aCIsIm9mZnNldFkiLCJ0YXJnZXRZIiwidGFyZ2V0SGVpZ2h0IiwicGFnZUhlaWdodCIsIm9wYWNpdHkiLCJtYXhCb3VuY2VIZWlnaHQiLCJNYXRoIiwibWF4IiwiTnVtYmVyIiwib3B0aW9ucyIsInRyYW5zbGF0ZVgiLCJzY2FsaW5nRmFjdG9yIiwidHJhbnNsYXRlWSIsInVudXNlZERpbWVuc2lvbnMiLCJzY2FsZVN0YXJ0Iiwic2NhbGVFbmQiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsU0FBUUEsK0JBQVI7QUFDQSxTQUFRQyx1QkFBUjtBQUNBLFNBQ0VDLDRCQURGLEVBRUVDLGtCQUZGLEVBR0VDLGlCQUhGLEVBSUVDLFdBSkYsRUFLRUMsUUFMRjtBQU9BLFNBQVFDLEVBQVI7QUFDQSxTQUFRQyxVQUFSOztBQUVBO0FBQ0EsSUFBTUMsbUJBQW1CLEdBQUcsWUFBNUI7O0FBQ0E7QUFDQSxJQUFNQyxvQkFBb0IsR0FBRyxNQUE3Qjs7QUFDQTtBQUNBLElBQU1DLGtCQUFrQixHQUFHLENBQTNCOztBQUNBO0FBQ0EsSUFBTUMsaUJBQWlCLEdBQUcsQ0FBMUI7O0FBRUE7QUFDQSxJQUFNQywwQkFBMEIsR0FBRyxhQUFuQzs7QUFDQTtBQUNBLElBQU1DLHdCQUF3QixHQUFHLFdBQWpDOztBQUNBO0FBQ0EsSUFBTUMsMEJBQTBCLEdBQUcsYUFBbkM7O0FBQ0E7QUFDQSxJQUFNQywwQkFBMEIsR0FBRyxhQUFuQzs7QUFDQTtBQUNBLElBQU1DLGFBQWEsR0FBRyxrQkFBdEI7O0FBRUE7QUFDQSxPQUFPLElBQU1DLHdCQUF3QixHQUFHLENBQ3RDTCwwQkFEc0MsRUFFdENDLHdCQUZzQyxFQUd0Q0MsMEJBSHNDLEVBSXRDQywwQkFKc0MsQ0FBakM7O0FBT1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFNRywwQkFBMEIsR0FBRyxDQUNqQyxRQURpQyxFQUVqQyxVQUZpQyxFQUdqQyxXQUhpQyxFQUlqQyxVQUppQyxFQUtqQyxTQUxpQyxFQU1qQyxVQU5pQyxDQUFuQzs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQU1DLHlCQUF5QixzREFDNUJYLG1CQUQ0QixJQUUzQix5REFGMkIsd0JBQS9COztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLFNBQVNZLGlCQUFULENBQTJCQyxFQUEzQixFQUErQkMsVUFBL0IsRUFBMkM7QUFDaEQ7QUFDQSxNQUFJSiwwQkFBMEIsQ0FBQ0ssT0FBM0IsQ0FBbUNELFVBQW5DLEtBQWtELENBQXRELEVBQXlEO0FBQ3ZELFFBQU1FLE1BQU0sR0FBR0gsRUFBRSxDQUFDSSxhQUFsQjs7QUFDQSxRQUNFRCxNQUFNLENBQUNFLFNBQVAsQ0FBaUJDLFFBQWpCLENBQ0U1QiwrQkFBK0IsQ0FBQ1Usb0JBQUQsQ0FEakMsQ0FERixFQUlFO0FBQ0FlLE1BQUFBLE1BQU0sQ0FBQ0UsU0FBUCxDQUFpQkUsTUFBakIsQ0FDRTdCLCtCQUErQixDQUFDVSxvQkFBRCxDQURqQztBQUdEOztBQUNEZSxJQUFBQSxNQUFNLENBQUNFLFNBQVAsQ0FBaUJHLEdBQWpCLENBQXFCVix5QkFBeUIsQ0FBQ1gsbUJBQUQsQ0FBOUM7QUFDRDtBQUNGOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLElBQU1zQixPQUFPLEdBQUc7QUFDckIsV0FBUztBQUNQQyxJQUFBQSxRQUFRLEVBQUUsR0FESDtBQUVQQyxJQUFBQSxNQUFNLEVBQUUsZ0NBRkQ7QUFHUEMsSUFBQUEsU0FBUyxFQUFFLENBQ1Q7QUFDRUMsTUFBQUEsTUFBTSxFQUFFLENBRFY7QUFFRUMsTUFBQUEsU0FBUyxFQUFFO0FBRmIsS0FEUyxFQUtUO0FBQ0VELE1BQUFBLE1BQU0sRUFBRSxJQURWO0FBRUVDLE1BQUFBLFNBQVMsRUFBRTtBQUZiLEtBTFMsRUFTVDtBQUNFRCxNQUFBQSxNQUFNLEVBQUUsSUFEVjtBQUVFQyxNQUFBQSxTQUFTLEVBQUU7QUFGYixLQVRTLEVBYVQ7QUFDRUQsTUFBQUEsTUFBTSxFQUFFLENBRFY7QUFFRUMsTUFBQUEsU0FBUyxFQUFFO0FBRmIsS0FiUztBQUhKLEdBRFk7QUF1QnJCLGlCQUFlO0FBQ2JKLElBQUFBLFFBQVEsRUFBRSxHQURHO0FBRWJDLElBQUFBLE1BQU0sa0NBRk87QUFHYkMsSUFBQUEsU0FIYSxxQkFHSEcsVUFIRyxFQUdTO0FBQ3BCLFVBQU1DLE9BQU8sR0FBRyxFQUFFRCxVQUFVLENBQUNFLE9BQVgsR0FBcUJGLFVBQVUsQ0FBQ0csV0FBbEMsQ0FBaEI7QUFDQSxhQUFPbkMsV0FBVyxDQUFDaUMsT0FBRCxFQUFVLENBQVYsRUFBYSxDQUFiLEVBQWdCLENBQWhCLENBQWxCO0FBQ0Q7QUFOWSxHQXZCTTtBQStCckIsa0JBQWdCO0FBQ2ROLElBQUFBLFFBQVEsRUFBRSxHQURJO0FBRWRDLElBQUFBLE1BQU0sa0NBRlE7QUFHZEMsSUFBQUEsU0FIYyxxQkFHSkcsVUFISSxFQUdRO0FBQ3BCLFVBQU1DLE9BQU8sR0FBR0QsVUFBVSxDQUFDSSxTQUFYLEdBQXVCSixVQUFVLENBQUNFLE9BQWxEO0FBQ0EsYUFBT2xDLFdBQVcsQ0FBQ2lDLE9BQUQsRUFBVSxDQUFWLEVBQWEsQ0FBYixFQUFnQixDQUFoQixDQUFsQjtBQUNEO0FBTmEsR0EvQks7QUF1Q3JCLGdCQUFjO0FBQ1pOLElBQUFBLFFBQVEsRUFBRSxHQURFO0FBRVpDLElBQUFBLE1BQU0sa0NBRk07QUFHWkMsSUFBQUEsU0FIWSxxQkFHRkcsVUFIRSxFQUdVO0FBQ3BCLFVBQU1LLE9BQU8sR0FBRyxFQUFFTCxVQUFVLENBQUNNLE9BQVgsR0FBcUJOLFVBQVUsQ0FBQ08sWUFBbEMsQ0FBaEI7QUFDQSxhQUFPdkMsV0FBVyxDQUFDLENBQUQsRUFBSXFDLE9BQUosRUFBYSxDQUFiLEVBQWdCLENBQWhCLENBQWxCO0FBQ0Q7QUFOVyxHQXZDTztBQStDckIsbUJBQWlCO0FBQ2ZWLElBQUFBLFFBQVEsRUFBRSxHQURLO0FBRWZDLElBQUFBLE1BQU0sa0NBRlM7QUFHZkMsSUFBQUEsU0FIZSxxQkFHTEcsVUFISyxFQUdPO0FBQ3BCLFVBQU1LLE9BQU8sR0FBR0wsVUFBVSxDQUFDUSxVQUFYLEdBQXdCUixVQUFVLENBQUNNLE9BQW5EO0FBQ0EsYUFBT3RDLFdBQVcsQ0FBQyxDQUFELEVBQUlxQyxPQUFKLEVBQWEsQ0FBYixFQUFnQixDQUFoQixDQUFsQjtBQUNEO0FBTmMsR0EvQ0k7QUF1RHJCLG9CQUFrQjtBQUNoQlYsSUFBQUEsUUFBUSxFQUFFLElBRE07QUFFaEJDLElBQUFBLE1BQU0sb0JBQWtCaEIsYUFBbEIsTUFGVTtBQUdoQmlCLElBQUFBLFNBSGdCLHFCQUdORyxVQUhNLEVBR007QUFDcEIsVUFBTUMsT0FBTyxHQUFHLEVBQUVELFVBQVUsQ0FBQ0UsT0FBWCxHQUFxQkYsVUFBVSxDQUFDRyxXQUFsQyxDQUFoQjtBQUNBLGFBQU9yQyxrQkFBa0IsQ0FBQ21DLE9BQUQsRUFBVSxDQUFWLEVBQWEsQ0FBYixFQUFnQixDQUFoQixFQUFtQixDQUFDLENBQXBCLENBQXpCO0FBQ0Q7QUFOZSxHQXZERztBQStEckIscUJBQW1CO0FBQ2pCTixJQUFBQSxRQUFRLEVBQUUsSUFETztBQUVqQkMsSUFBQUEsTUFBTSxvQkFBa0JoQixhQUFsQixNQUZXO0FBR2pCaUIsSUFBQUEsU0FIaUIscUJBR1BHLFVBSE8sRUFHSztBQUNwQixVQUFNQyxPQUFPLEdBQUdELFVBQVUsQ0FBQ0ksU0FBWCxHQUF1QkosVUFBVSxDQUFDRSxPQUFsRDtBQUNBLGFBQU9wQyxrQkFBa0IsQ0FBQ21DLE9BQUQsRUFBVSxDQUFWLEVBQWEsQ0FBYixFQUFnQixDQUFoQixFQUFtQixDQUFuQixDQUF6QjtBQUNEO0FBTmdCLEdBL0RFO0FBdUVyQixhQUFXO0FBQ1ROLElBQUFBLFFBQVEsRUFBRSxHQUREO0FBRVRDLElBQUFBLE1BQU0sb0JBQWtCaEIsYUFBbEIsTUFGRztBQUdUaUIsSUFBQUEsU0FBUyxFQUFFLENBQ1Q7QUFDRVksTUFBQUEsT0FBTyxFQUFFO0FBRFgsS0FEUyxFQUlUO0FBQ0VBLE1BQUFBLE9BQU8sRUFBRTtBQURYLEtBSlM7QUFIRixHQXZFVTtBQW1GckIsbUJBQWlCO0FBQ2ZkLElBQUFBLFFBQVEsRUFBRSxHQURLO0FBRWZDLElBQUFBLE1BQU0sb0JBQWtCaEIsYUFBbEIsTUFGUztBQUdmaUIsSUFBQUEsU0FBUyxFQUFFLENBQ1Q7QUFDRVksTUFBQUEsT0FBTyxFQUFFLENBRFg7QUFFRVYsTUFBQUEsU0FBUyxFQUFFO0FBRmIsS0FEUyxFQUtUO0FBQ0VVLE1BQUFBLE9BQU8sRUFBRSxDQURYO0FBRUVWLE1BQUFBLFNBQVMsRUFBRTtBQUZiLEtBTFM7QUFISSxHQW5GSTtBQWlHckIscUJBQW1CO0FBQ2pCSixJQUFBQSxRQUFRLEVBQUUsR0FETztBQUVqQkMsSUFBQUEsTUFBTSxvQkFBa0JoQixhQUFsQixNQUZXO0FBR2pCaUIsSUFBQUEsU0FBUyxFQUFFLENBQ1Q7QUFDRVksTUFBQUEsT0FBTyxFQUFFLENBRFg7QUFFRVYsTUFBQUEsU0FBUyxFQUFFO0FBRmIsS0FEUyxFQUtUO0FBQ0VVLE1BQUFBLE9BQU8sRUFBRSxDQURYO0FBRUVWLE1BQUFBLFNBQVMsRUFBRTtBQUZiLEtBTFM7QUFITSxHQWpHRTtBQStHckIsVUFBUTtBQUNOSixJQUFBQSxRQUFRLEVBQUUsSUFESjtBQUVOQyxJQUFBQSxNQUFNLFVBRkE7QUFHTkMsSUFBQUEsU0FITSxxQkFHSUcsVUFISixFQUdnQjtBQUNwQixVQUFNVSxlQUFlLEdBQUdDLElBQUksQ0FBQ0MsR0FBTCxDQUN0QixHQURzQixFQUV0QlosVUFBVSxDQUFDTSxPQUFYLEdBQXFCTixVQUFVLENBQUNPLFlBRlYsQ0FBeEI7QUFJQSxhQUFPLENBQ0w7QUFDRVQsUUFBQUEsTUFBTSxFQUFFLEdBRFY7QUFFRUMsUUFBQUEsU0FBUyxrQkFBZ0I3QixFQUFFLENBQUMyQyxNQUFNLENBQUMsQ0FBQ0gsZUFBRixDQUFQLENBQWxCLE1BRlg7QUFHRWQsUUFBQUEsTUFBTSxFQUFFO0FBSFYsT0FESyxFQU1MO0FBQ0VFLFFBQUFBLE1BQU0sRUFBRSxJQURWO0FBRUVDLFFBQUFBLFNBQVMsaUJBRlg7QUFHRUgsUUFBQUEsTUFBTSxFQUFFO0FBSFYsT0FOSyxFQVdMO0FBQ0VFLFFBQUFBLE1BQU0sRUFBRSxJQURWO0FBRUVDLFFBQUFBLFNBQVMsa0JBQWdCN0IsRUFBRSxDQUFDLENBQUN3QyxlQUFELEdBQW1CLE1BQXBCLENBQWxCLE1BRlg7QUFHRWQsUUFBQUEsTUFBTSxFQUFFO0FBSFYsT0FYSyxFQWdCTDtBQUNFRSxRQUFBQSxNQUFNLEVBQUUsSUFEVjtBQUVFQyxRQUFBQSxTQUFTLGlCQUZYO0FBR0VILFFBQUFBLE1BQU0sRUFBRTtBQUhWLE9BaEJLLEVBcUJMO0FBQ0VFLFFBQUFBLE1BQU0sRUFBRSxJQURWO0FBRUVDLFFBQUFBLFNBQVMsa0JBQWdCN0IsRUFBRSxDQUFDLENBQUN3QyxlQUFELEdBQW1CLE1BQXBCLENBQWxCLE1BRlg7QUFHRWQsUUFBQUEsTUFBTSxFQUFFO0FBSFYsT0FyQkssRUEwQkw7QUFDRUUsUUFBQUEsTUFBTSxFQUFFLEdBRFY7QUFFRUMsUUFBQUEsU0FBUyxpQkFGWDtBQUdFSCxRQUFBQSxNQUFNLEVBQUU7QUFIVixPQTFCSyxFQStCTDtBQUNFRSxRQUFBQSxNQUFNLEVBQUUsSUFEVjtBQUVFQyxRQUFBQSxTQUFTLGtCQUFnQjdCLEVBQUUsQ0FBQyxDQUFDd0MsZUFBRCxHQUFtQixNQUFwQixDQUFsQixNQUZYO0FBR0VkLFFBQUFBLE1BQU0sRUFBRTtBQUhWLE9BL0JLLEVBb0NMO0FBQ0VFLFFBQUFBLE1BQU0sRUFBRSxJQURWO0FBRUVDLFFBQUFBLFNBQVMsaUJBRlg7QUFHRUgsUUFBQUEsTUFBTSxFQUFFO0FBSFYsT0FwQ0ssRUF5Q0w7QUFDRUUsUUFBQUEsTUFBTSxFQUFFLElBRFY7QUFFRUMsUUFBQUEsU0FBUyxrQkFBZ0I3QixFQUFFLENBQUMsQ0FBQ3dDLGVBQUQsR0FBbUIsTUFBcEIsQ0FBbEIsTUFGWDtBQUdFZCxRQUFBQSxNQUFNLEVBQUU7QUFIVixPQXpDSyxFQThDTDtBQUNFRSxRQUFBQSxNQUFNLEVBQUUsQ0FEVjtBQUVFQyxRQUFBQSxTQUFTLGlCQUZYO0FBR0VILFFBQUFBLE1BQU0sRUFBRTtBQUhWLE9BOUNLLENBQVA7QUFvREQ7QUE1REssR0EvR2E7QUE2S3JCLGNBQVk7QUFDVkQsSUFBQUEsUUFBUSxFQUFFLElBREE7QUFFVkMsSUFBQUEsTUFBTSxvQkFBa0JoQixhQUFsQixNQUZJO0FBR1ZpQixJQUFBQSxTQUFTLEVBQUUsQ0FDVDtBQUNFRSxNQUFBQSxTQUFTLEVBQUUsNEJBRGI7QUFFRVUsTUFBQUEsT0FBTyxFQUFFO0FBRlgsS0FEUyxFQUtUO0FBQ0VWLE1BQUFBLFNBQVMsRUFBRSxNQURiO0FBRUVVLE1BQUFBLE9BQU8sRUFBRTtBQUZYLEtBTFM7QUFIRCxHQTdLUztBQTJMckIsb0JBQWtCO0FBQ2hCZCxJQUFBQSxRQUFRLEVBQUUsR0FETTtBQUVoQkMsSUFBQUEsTUFBTSxvQkFBa0JoQixhQUFsQixNQUZVO0FBR2hCaUIsSUFBQUEsU0FIZ0IscUJBR05HLFVBSE0sRUFHTTtBQUNwQixVQUFNQyxPQUFPLEdBQUcsRUFBRUQsVUFBVSxDQUFDRSxPQUFYLEdBQXFCRixVQUFVLENBQUNHLFdBQWxDLENBQWhCO0FBQ0EsYUFBT2xDLFFBQVEsQ0FBQ2dDLE9BQUQsRUFBVSxDQUFWLEVBQWEsQ0FBYixFQUFnQixDQUFoQixDQUFmO0FBQ0Q7QUFOZSxHQTNMRztBQW1NckIscUJBQW1CO0FBQ2pCTixJQUFBQSxRQUFRLEVBQUUsR0FETztBQUVqQkMsSUFBQUEsTUFBTSxvQkFBa0JoQixhQUFsQixNQUZXO0FBR2pCaUIsSUFBQUEsU0FIaUIscUJBR1BHLFVBSE8sRUFHSztBQUNwQixVQUFNQyxPQUFPLEdBQUdELFVBQVUsQ0FBQ0ksU0FBWCxHQUF1QkosVUFBVSxDQUFDRSxPQUFsRDtBQUNBLGFBQU9qQyxRQUFRLENBQUNnQyxPQUFELEVBQVUsQ0FBVixFQUFhLENBQWIsRUFBZ0IsQ0FBaEIsQ0FBZjtBQUNEO0FBTmdCLEdBbk1FO0FBMk1yQixjQUFZO0FBQ1ZOLElBQUFBLFFBQVEsRUFBRSxJQURBO0FBRVZDLElBQUFBLE1BQU0sRUFBRSxRQUZFO0FBR1ZDLElBQUFBLFNBSFUscUJBR0FHLFVBSEEsRUFHWWMsT0FIWixFQUdxQjtBQUM3QixVQUFNQyxVQUFVLEdBQUdELE9BQU8sQ0FBQ3BDLDBCQUFELENBQTFCO0FBQ0EsVUFBTXNDLGFBQWEsR0FBR25ELDRCQUE0QixDQUFDbUMsVUFBRCxDQUFsRDtBQUNBQSxNQUFBQSxVQUFVLENBQUNHLFdBQVgsSUFBMEJhLGFBQTFCO0FBQ0FoQixNQUFBQSxVQUFVLENBQUNPLFlBQVgsSUFBMkJTLGFBQTNCO0FBRUEsVUFBTWYsT0FBTyxHQUFHRCxVQUFVLENBQUNJLFNBQVgsR0FBdUJKLFVBQVUsQ0FBQ0csV0FBbEQ7QUFDQSxVQUFNRSxPQUFPLEdBQUcsQ0FBQ0wsVUFBVSxDQUFDUSxVQUFYLEdBQXdCUixVQUFVLENBQUNPLFlBQXBDLElBQW9ELENBQXBFO0FBRUEsYUFBT3hDLGlCQUFpQixDQUN0QmtDLE9BRHNCLEVBRXRCSSxPQUZzQixFQUd0QlUsVUFBVSxHQUFHZCxPQUFPLEdBQUdjLFVBQWIsR0FBMEIsQ0FIZCxFQUl0QlYsT0FKc0IsRUFLdEJXLGFBTHNCLENBQXhCO0FBT0Q7QUFuQlMsR0EzTVM7QUFnT3JCLGVBQWE7QUFDWHJCLElBQUFBLFFBQVEsRUFBRSxJQURDO0FBRVhDLElBQUFBLE1BQU0sRUFBRSxRQUZHO0FBR1hDLElBQUFBLFNBSFcscUJBR0RHLFVBSEMsRUFHV2MsT0FIWCxFQUdvQjtBQUM3QixVQUFNQyxVQUFVLEdBQUdELE9BQU8sQ0FBQ3BDLDBCQUFELENBQTFCO0FBRUEsVUFBTXNDLGFBQWEsR0FBR25ELDRCQUE0QixDQUFDbUMsVUFBRCxDQUFsRDtBQUNBQSxNQUFBQSxVQUFVLENBQUNHLFdBQVgsSUFBMEJhLGFBQTFCO0FBQ0FoQixNQUFBQSxVQUFVLENBQUNPLFlBQVgsSUFBMkJTLGFBQTNCO0FBRUEsVUFBTWYsT0FBTyxHQUFHRCxVQUFVLENBQUNJLFNBQVgsR0FBdUJKLFVBQVUsQ0FBQ0csV0FBbEQ7QUFDQSxVQUFNRSxPQUFPLEdBQUcsQ0FBQ0wsVUFBVSxDQUFDUSxVQUFYLEdBQXdCUixVQUFVLENBQUNPLFlBQXBDLElBQW9ELENBQXBFO0FBRUEsYUFBT3hDLGlCQUFpQixDQUN0QixDQURzQixFQUV0QnNDLE9BRnNCLEVBR3RCLENBQUNVLFVBQUQsSUFBZWQsT0FITyxFQUl0QkksT0FKc0IsRUFLdEJXLGFBTHNCLENBQXhCO0FBT0Q7QUFwQlUsR0FoT1E7QUFzUHJCLGNBQVk7QUFDVnJCLElBQUFBLFFBQVEsRUFBRSxJQURBO0FBRVZDLElBQUFBLE1BQU0sRUFBRSxRQUZFO0FBR1ZDLElBQUFBLFNBSFUscUJBR0FHLFVBSEEsRUFHWWMsT0FIWixFQUdxQjtBQUM3QixVQUFNRyxVQUFVLEdBQUdILE9BQU8sQ0FBQ25DLDBCQUFELENBQTFCO0FBQ0EsVUFBTXFDLGFBQWEsR0FBR25ELDRCQUE0QixDQUFDbUMsVUFBRCxDQUFsRDtBQUNBQSxNQUFBQSxVQUFVLENBQUNHLFdBQVgsSUFBMEJhLGFBQTFCO0FBQ0FoQixNQUFBQSxVQUFVLENBQUNPLFlBQVgsSUFBMkJTLGFBQTNCO0FBRUEsVUFBTWYsT0FBTyxHQUFHLENBQUNELFVBQVUsQ0FBQ0csV0FBWixHQUEwQixDQUExQztBQUNBLFVBQU1FLE9BQU8sR0FBR0wsVUFBVSxDQUFDUSxVQUFYLEdBQXdCUixVQUFVLENBQUNPLFlBQW5EO0FBRUEsYUFBT3hDLGlCQUFpQixDQUN0QmtDLE9BRHNCLEVBRXRCLENBRnNCLEVBR3RCQSxPQUhzQixFQUl0QixDQUFDZ0IsVUFBRCxJQUFlWixPQUpPLEVBS3RCVyxhQUxzQixDQUF4QjtBQU9EO0FBbkJTLEdBdFBTO0FBMlFyQixZQUFVO0FBQ1JyQixJQUFBQSxRQUFRLEVBQUUsSUFERjtBQUVSQyxJQUFBQSxNQUFNLEVBQUUsUUFGQTtBQUdSQyxJQUFBQSxTQUhRLHFCQUdFRyxVQUhGLEVBR2NjLE9BSGQsRUFHdUI7QUFDN0IsVUFBTUcsVUFBVSxHQUFHSCxPQUFPLENBQUNuQywwQkFBRCxDQUExQjtBQUNBLFVBQU1xQyxhQUFhLEdBQUduRCw0QkFBNEIsQ0FBQ21DLFVBQUQsQ0FBbEQ7QUFDQUEsTUFBQUEsVUFBVSxDQUFDRyxXQUFYLElBQTBCYSxhQUExQjtBQUNBaEIsTUFBQUEsVUFBVSxDQUFDTyxZQUFYLElBQTJCUyxhQUEzQjtBQUVBLFVBQU1mLE9BQU8sR0FBRyxDQUFDRCxVQUFVLENBQUNHLFdBQVosR0FBMEIsQ0FBMUM7QUFDQSxVQUFNRSxPQUFPLEdBQUdMLFVBQVUsQ0FBQ1EsVUFBWCxHQUF3QlIsVUFBVSxDQUFDTyxZQUFuRDtBQUVBLGFBQU94QyxpQkFBaUIsQ0FDdEJrQyxPQURzQixFQUV0QkksT0FGc0IsRUFHdEJKLE9BSHNCLEVBSXRCZ0IsVUFBVSxHQUFHWixPQUFPLEdBQUdZLFVBQWIsR0FBMEIsQ0FKZCxFQUt0QkQsYUFMc0IsQ0FBeEI7QUFPRDtBQW5CTyxHQTNRVztBQWdTckIsYUFBVztBQUNUckIsSUFBQUEsUUFBUSxFQUFFLElBREQ7QUFFVEMsSUFBQUEsTUFBTSxFQUFFLFFBRkM7QUFHVEMsSUFBQUEsU0FIUyxxQkFHQ3FCLGdCQUhELEVBR21CSixPQUhuQixFQUc0QjtBQUNuQyxVQUFNSyxVQUFVLEdBQUdMLE9BQU8sQ0FBQ3RDLDBCQUFELENBQTFCO0FBQ0EsVUFBTTRDLFFBQVEsR0FBR04sT0FBTyxDQUFDckMsd0JBQUQsQ0FBeEI7O0FBRUEsVUFBSTBDLFVBQUosRUFBZ0I7QUFDZGhELFFBQUFBLFVBQVUsQ0FDUmlELFFBQVEsR0FBR0QsVUFESCxFQUVSLHVDQUNFLDBEQUhNLENBQVY7QUFLRDs7QUFFRCxhQUFPLENBQ0w7QUFBQ3BCLFFBQUFBLFNBQVMsY0FBV29CLFVBQVUsSUFBSTVDLGlCQUF6QjtBQUFWLE9BREssRUFFTDtBQUFDd0IsUUFBQUEsU0FBUyxjQUFXcUIsUUFBUSxJQUFJOUMsa0JBQXZCO0FBQVYsT0FGSyxDQUFQO0FBSUQ7QUFuQlEsR0FoU1U7QUFxVHJCLGNBQVk7QUFDVnFCLElBQUFBLFFBQVEsRUFBRSxJQURBO0FBRVZDLElBQUFBLE1BQU0sRUFBRSxRQUZFO0FBR1ZDLElBQUFBLFNBSFUscUJBR0FxQixnQkFIQSxFQUdrQkosT0FIbEIsRUFHMkI7QUFDbkMsVUFBTUssVUFBVSxHQUFHTCxPQUFPLENBQUN0QywwQkFBRCxDQUExQjtBQUNBLFVBQU00QyxRQUFRLEdBQUdOLE9BQU8sQ0FBQ3JDLHdCQUFELENBQXhCOztBQUVBLFVBQUkwQyxVQUFKLEVBQWdCO0FBQ2RoRCxRQUFBQSxVQUFVLENBQ1JnRCxVQUFVLEdBQUdDLFFBREwsRUFFUixpQ0FDRSxnRUFITSxDQUFWO0FBS0Q7O0FBRUQsYUFBTyxDQUNMO0FBQUNyQixRQUFBQSxTQUFTLGNBQVdvQixVQUFVLElBQUk3QyxrQkFBekI7QUFBVixPQURLLEVBRUw7QUFBQ3lCLFFBQUFBLFNBQVMsY0FBV3FCLFFBQVEsSUFBSTdDLGlCQUF2QjtBQUFWLE9BRkssQ0FBUDtBQUlEO0FBbkJTO0FBclRTLENBQWhCIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7R1JJRF9MQVlFUl9URU1QTEFURV9DTEFTU19OQU1FU30gZnJvbSAnLi9hbXAtc3RvcnktZ3JpZC1sYXllcic7XG5pbXBvcnQge1N0b3J5QW5pbWF0aW9uUHJlc2V0RGVmfSBmcm9tICcuL2FuaW1hdGlvbi10eXBlcyc7XG5pbXBvcnQge1xuICBjYWxjdWxhdGVUYXJnZXRTY2FsaW5nRmFjdG9yLFxuICByb3RhdGVBbmRUcmFuc2xhdGUsXG4gIHNjYWxlQW5kVHJhbnNsYXRlLFxuICB0cmFuc2xhdGUyZCxcbiAgd2hvb3NoSW4sXG59IGZyb20gJy4vYW5pbWF0aW9uLXByZXNldHMtdXRpbHMnO1xuaW1wb3J0IHtweH0gZnJvbSAnI2NvcmUvZG9tL3N0eWxlJztcbmltcG9ydCB7dXNlckFzc2VydH0gZnJvbSAnLi4vLi4vLi4vc3JjL2xvZyc7XG5cbi8qKiBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IEZVTExfQkxFRURfQ0FURUdPUlkgPSAnZnVsbC1ibGVlZCc7XG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBGSUxMX1RFTVBMQVRFX0xBWU9VVCA9ICdmaWxsJztcbi8qKiBAY29uc3Qge251bWJlcn0gKi9cbmNvbnN0IFNDQUxFX0hJR0hfREVGQVVMVCA9IDM7XG4vKiogQGNvbnN0IHtudW1iZXJ9ICovXG5jb25zdCBTQ0FMRV9MT1dfREVGQVVMVCA9IDE7XG5cbi8qKiBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IFNDQUxFX1NUQVJUX0FUVFJJQlVURV9OQU1FID0gJ3NjYWxlLXN0YXJ0Jztcbi8qKiBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IFNDQUxFX0VORF9BVFRSSUJVVEVfTkFNRSA9ICdzY2FsZS1lbmQnO1xuLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgVFJBTlNMQVRFX1hfQVRUUklCVVRFX05BTUUgPSAndHJhbnNsYXRlLXgnO1xuLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgVFJBTlNMQVRFX1lfQVRUUklCVVRFX05BTUUgPSAndHJhbnNsYXRlLXknO1xuLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgREVGQVVMVF9DVVJWRSA9ICcwLjQsIDAuNCwgMC4wLCAxJztcblxuLyoqIEBjb25zdCB7IUFycmF5PHN0cmluZz59ICovXG5leHBvcnQgY29uc3QgUFJFU0VUX09QVElPTl9BVFRSSUJVVEVTID0gW1xuICBTQ0FMRV9TVEFSVF9BVFRSSUJVVEVfTkFNRSxcbiAgU0NBTEVfRU5EX0FUVFJJQlVURV9OQU1FLFxuICBUUkFOU0xBVEVfWF9BVFRSSUJVVEVfTkFNRSxcbiAgVFJBTlNMQVRFX1lfQVRUUklCVVRFX05BTUUsXG5dO1xuXG4vKipcbiAqIEEgbGlzdCBvZiBhbmltYXRpb25zIHRoYXQgYXJlIGZ1bGwgYmxlZWQuXG4gKiBAcHJpdmF0ZSBAY29uc3QgeyFBcnJheTxzdHJpbmc+fVxuICovXG5jb25zdCBGVUxMX0JMRUVEX0FOSU1BVElPTl9OQU1FUyA9IFtcbiAgJ3Bhbi11cCcsXG4gICdwYW4tZG93bicsXG4gICdwYW4tcmlnaHQnLFxuICAncGFuLWxlZnQnLFxuICAnem9vbS1pbicsXG4gICd6b29tLW91dCcsXG5dO1xuXG4vKipcbiAqIEEgbWFwcGluZyBvZiBhbmltYXRpb24gY2F0ZWdvcmllcyB0byBjb3JyZXNwb25kaW5nIENTUyBjbGFzcyBuYW1lcy5cbiAqIEBwcml2YXRlIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59XG4gKi9cbmNvbnN0IEFOSU1BVElPTl9DU1NfQ0xBU1NfTkFNRVMgPSB7XG4gIFtGVUxMX0JMRUVEX0NBVEVHT1JZXTpcbiAgICAnaS1hbXBodG1sLXN0b3J5LWdyaWQtdGVtcGxhdGUtd2l0aC1mdWxsLWJsZWVkLWFuaW1hdGlvbicsXG59O1xuXG4vKipcbiAqIFBlcmZvcm0gc3R5bGUtc3BlY2lmaWMgb3BlcmF0aW9ucyBmb3IgcHJlc2V0cy5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJlc2V0TmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U3R5bGVGb3JQcmVzZXQoZWwsIHByZXNldE5hbWUpIHtcbiAgLy8gRm9yIGZ1bGwgYmxlZWQgYW5pbWF0aW9ucy5cbiAgaWYgKEZVTExfQkxFRURfQU5JTUFUSU9OX05BTUVTLmluZGV4T2YocHJlc2V0TmFtZSkgPj0gMCkge1xuICAgIGNvbnN0IHBhcmVudCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKFxuICAgICAgcGFyZW50LmNsYXNzTGlzdC5jb250YWlucyhcbiAgICAgICAgR1JJRF9MQVlFUl9URU1QTEFURV9DTEFTU19OQU1FU1tGSUxMX1RFTVBMQVRFX0xBWU9VVF1cbiAgICAgIClcbiAgICApIHtcbiAgICAgIHBhcmVudC5jbGFzc0xpc3QucmVtb3ZlKFxuICAgICAgICBHUklEX0xBWUVSX1RFTVBMQVRFX0NMQVNTX05BTUVTW0ZJTExfVEVNUExBVEVfTEFZT1VUXVxuICAgICAgKTtcbiAgICB9XG4gICAgcGFyZW50LmNsYXNzTGlzdC5hZGQoQU5JTUFUSU9OX0NTU19DTEFTU19OQU1FU1tGVUxMX0JMRUVEX0NBVEVHT1JZXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBGaXJzdCBrZXlmcmFtZSB3aWxsIGFsd2F5cyBiZSBjb25zaWRlcmVkIG9mZnNldDogMCBhbmQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZVxuICogZWxlbWVudCBhcyB0aGUgZmlyc3QgZnJhbWUgYmVmb3JlIGFuaW1hdGlvbiBzdGFydHMuXG4gKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsICFTdG9yeUFuaW1hdGlvblByZXNldERlZj59XG4gKi9cbmV4cG9ydCBjb25zdCBwcmVzZXRzID0ge1xuICAncHVsc2UnOiB7XG4gICAgZHVyYXRpb246IDYwMCxcbiAgICBlYXNpbmc6ICdjdWJpYy1iZXppZXIoMC4zLCAwLjAsIDAuMCwgMSknLFxuICAgIGtleWZyYW1lczogW1xuICAgICAge1xuICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKDEpJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG9mZnNldDogMC4yNSxcbiAgICAgICAgdHJhbnNmb3JtOiAnc2NhbGUoMC45NSknLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgb2Zmc2V0OiAwLjc1LFxuICAgICAgICB0cmFuc2Zvcm06ICdzY2FsZSgxLjA1KScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBvZmZzZXQ6IDEsXG4gICAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKDEpJyxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAgJ2ZseS1pbi1sZWZ0Jzoge1xuICAgIGR1cmF0aW9uOiA2MDAsXG4gICAgZWFzaW5nOiBgY3ViaWMtYmV6aWVyKDAuMiwgMC42LCAwLjAsIDEpYCxcbiAgICBrZXlmcmFtZXMoZGltZW5zaW9ucykge1xuICAgICAgY29uc3Qgb2Zmc2V0WCA9IC0oZGltZW5zaW9ucy50YXJnZXRYICsgZGltZW5zaW9ucy50YXJnZXRXaWR0aCk7XG4gICAgICByZXR1cm4gdHJhbnNsYXRlMmQob2Zmc2V0WCwgMCwgMCwgMCk7XG4gICAgfSxcbiAgfSxcbiAgJ2ZseS1pbi1yaWdodCc6IHtcbiAgICBkdXJhdGlvbjogNjAwLFxuICAgIGVhc2luZzogYGN1YmljLWJlemllcigwLjIsIDAuNiwgMC4wLCAxKWAsXG4gICAga2V5ZnJhbWVzKGRpbWVuc2lvbnMpIHtcbiAgICAgIGNvbnN0IG9mZnNldFggPSBkaW1lbnNpb25zLnBhZ2VXaWR0aCAtIGRpbWVuc2lvbnMudGFyZ2V0WDtcbiAgICAgIHJldHVybiB0cmFuc2xhdGUyZChvZmZzZXRYLCAwLCAwLCAwKTtcbiAgICB9LFxuICB9LFxuICAnZmx5LWluLXRvcCc6IHtcbiAgICBkdXJhdGlvbjogNjAwLFxuICAgIGVhc2luZzogYGN1YmljLWJlemllcigwLjIsIDAuNiwgMC4wLCAxKWAsXG4gICAga2V5ZnJhbWVzKGRpbWVuc2lvbnMpIHtcbiAgICAgIGNvbnN0IG9mZnNldFkgPSAtKGRpbWVuc2lvbnMudGFyZ2V0WSArIGRpbWVuc2lvbnMudGFyZ2V0SGVpZ2h0KTtcbiAgICAgIHJldHVybiB0cmFuc2xhdGUyZCgwLCBvZmZzZXRZLCAwLCAwKTtcbiAgICB9LFxuICB9LFxuICAnZmx5LWluLWJvdHRvbSc6IHtcbiAgICBkdXJhdGlvbjogNjAwLFxuICAgIGVhc2luZzogYGN1YmljLWJlemllcigwLjIsIDAuNiwgMC4wLCAxKWAsXG4gICAga2V5ZnJhbWVzKGRpbWVuc2lvbnMpIHtcbiAgICAgIGNvbnN0IG9mZnNldFkgPSBkaW1lbnNpb25zLnBhZ2VIZWlnaHQgLSBkaW1lbnNpb25zLnRhcmdldFk7XG4gICAgICByZXR1cm4gdHJhbnNsYXRlMmQoMCwgb2Zmc2V0WSwgMCwgMCk7XG4gICAgfSxcbiAgfSxcbiAgJ3JvdGF0ZS1pbi1sZWZ0Jzoge1xuICAgIGR1cmF0aW9uOiAxMDAwLFxuICAgIGVhc2luZzogYGN1YmljLWJlemllcigke0RFRkFVTFRfQ1VSVkV9KWAsXG4gICAga2V5ZnJhbWVzKGRpbWVuc2lvbnMpIHtcbiAgICAgIGNvbnN0IG9mZnNldFggPSAtKGRpbWVuc2lvbnMudGFyZ2V0WCArIGRpbWVuc2lvbnMudGFyZ2V0V2lkdGgpO1xuICAgICAgcmV0dXJuIHJvdGF0ZUFuZFRyYW5zbGF0ZShvZmZzZXRYLCAwLCAwLCAwLCAtMSk7XG4gICAgfSxcbiAgfSxcbiAgJ3JvdGF0ZS1pbi1yaWdodCc6IHtcbiAgICBkdXJhdGlvbjogMTAwMCxcbiAgICBlYXNpbmc6IGBjdWJpYy1iZXppZXIoJHtERUZBVUxUX0NVUlZFfSlgLFxuICAgIGtleWZyYW1lcyhkaW1lbnNpb25zKSB7XG4gICAgICBjb25zdCBvZmZzZXRYID0gZGltZW5zaW9ucy5wYWdlV2lkdGggLSBkaW1lbnNpb25zLnRhcmdldFg7XG4gICAgICByZXR1cm4gcm90YXRlQW5kVHJhbnNsYXRlKG9mZnNldFgsIDAsIDAsIDAsIDEpO1xuICAgIH0sXG4gIH0sXG4gICdmYWRlLWluJzoge1xuICAgIGR1cmF0aW9uOiA2MDAsXG4gICAgZWFzaW5nOiBgY3ViaWMtYmV6aWVyKCR7REVGQVVMVF9DVVJWRX0pYCxcbiAgICBrZXlmcmFtZXM6IFtcbiAgICAgIHtcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gICdzY2FsZS1mYWRlLXVwJzoge1xuICAgIGR1cmF0aW9uOiA2MDAsXG4gICAgZWFzaW5nOiBgY3ViaWMtYmV6aWVyKCR7REVGQVVMVF9DVVJWRX0pYCxcbiAgICBrZXlmcmFtZXM6IFtcbiAgICAgIHtcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgdHJhbnNmb3JtOiAnc2NhbGUoMC44KScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICB0cmFuc2Zvcm06ICdzY2FsZSgxKScsXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gICdzY2FsZS1mYWRlLWRvd24nOiB7XG4gICAgZHVyYXRpb246IDYwMCxcbiAgICBlYXNpbmc6IGBjdWJpYy1iZXppZXIoJHtERUZBVUxUX0NVUlZFfSlgLFxuICAgIGtleWZyYW1lczogW1xuICAgICAge1xuICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICB0cmFuc2Zvcm06ICdzY2FsZSgxLjQpJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKDEpJyxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAgJ2Ryb3AnOiB7XG4gICAgZHVyYXRpb246IDE2MDAsXG4gICAgZWFzaW5nOiBgbGluZWFyYCxcbiAgICBrZXlmcmFtZXMoZGltZW5zaW9ucykge1xuICAgICAgY29uc3QgbWF4Qm91bmNlSGVpZ2h0ID0gTWF0aC5tYXgoXG4gICAgICAgIDE2MCxcbiAgICAgICAgZGltZW5zaW9ucy50YXJnZXRZICsgZGltZW5zaW9ucy50YXJnZXRIZWlnaHRcbiAgICAgICk7XG4gICAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgb2Zmc2V0OiAwLjAsXG4gICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgke3B4KE51bWJlcigtbWF4Qm91bmNlSGVpZ2h0KSl9KWAsXG4gICAgICAgICAgZWFzaW5nOiAnY3ViaWMtYmV6aWVyKC41LCAwLCAxLCAxKScsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBvZmZzZXQ6IDAuMjksXG4gICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgwKWAsXG4gICAgICAgICAgZWFzaW5nOiAnY3ViaWMtYmV6aWVyKDAsIDAsIC41LCAxKScsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBvZmZzZXQ6IDAuNDUsXG4gICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgke3B4KC1tYXhCb3VuY2VIZWlnaHQgKiAwLjI4MTIpfSlgLFxuICAgICAgICAgIGVhc2luZzogJ2N1YmljLWJlemllciguNSwgMCwgMSwgMSknLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgb2Zmc2V0OiAwLjYxLFxuICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoMClgLFxuICAgICAgICAgIGVhc2luZzogJ2N1YmljLWJlemllcigwLCAwLCAuNSwgMSknLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgb2Zmc2V0OiAwLjcxLFxuICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHtweCgtbWF4Qm91bmNlSGVpZ2h0ICogMC4wOTU2KX0pYCxcbiAgICAgICAgICBlYXNpbmc6ICdjdWJpYy1iZXppZXIoLjUsIDAsIDEsIDEpJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIG9mZnNldDogMC44LFxuICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoMClgLFxuICAgICAgICAgIGVhc2luZzogJ2N1YmljLWJlemllcigwLCAwLCAuNSwgMSknLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgb2Zmc2V0OiAwLjg1LFxuICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHtweCgtbWF4Qm91bmNlSGVpZ2h0ICogMC4wMzU5KX0pYCxcbiAgICAgICAgICBlYXNpbmc6ICdjdWJpYy1iZXppZXIoLjUsIDAsIDEsIDEpJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIG9mZnNldDogMC45MixcbiAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKDApYCxcbiAgICAgICAgICBlYXNpbmc6ICdjdWJpYy1iZXppZXIoMCwgMCwgLjUsIDEpJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIG9mZnNldDogMC45NixcbiAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKCR7cHgoLW1heEJvdW5jZUhlaWdodCAqIDAuMDE1Nil9KWAsXG4gICAgICAgICAgZWFzaW5nOiAnY3ViaWMtYmV6aWVyKC41LCAwLCAxLCAxKScsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBvZmZzZXQ6IDEsXG4gICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgwKWAsXG4gICAgICAgICAgZWFzaW5nOiAnY3ViaWMtYmV6aWVyKDAsIDAsIC41LCAxKScsXG4gICAgICAgIH0sXG4gICAgICBdO1xuICAgIH0sXG4gIH0sXG4gICd0d2lybC1pbic6IHtcbiAgICBkdXJhdGlvbjogMTAwMCxcbiAgICBlYXNpbmc6IGBjdWJpYy1iZXppZXIoJHtERUZBVUxUX0NVUlZFfSlgLFxuICAgIGtleWZyYW1lczogW1xuICAgICAge1xuICAgICAgICB0cmFuc2Zvcm06ICdyb3RhdGUoLTU0MGRlZykgc2NhbGUoMC4xKScsXG4gICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0cmFuc2Zvcm06ICdub25lJyxcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAgJ3dob29zaC1pbi1sZWZ0Jzoge1xuICAgIGR1cmF0aW9uOiA2MDAsXG4gICAgZWFzaW5nOiBgY3ViaWMtYmV6aWVyKCR7REVGQVVMVF9DVVJWRX0pYCxcbiAgICBrZXlmcmFtZXMoZGltZW5zaW9ucykge1xuICAgICAgY29uc3Qgb2Zmc2V0WCA9IC0oZGltZW5zaW9ucy50YXJnZXRYICsgZGltZW5zaW9ucy50YXJnZXRXaWR0aCk7XG4gICAgICByZXR1cm4gd2hvb3NoSW4ob2Zmc2V0WCwgMCwgMCwgMCk7XG4gICAgfSxcbiAgfSxcbiAgJ3dob29zaC1pbi1yaWdodCc6IHtcbiAgICBkdXJhdGlvbjogNjAwLFxuICAgIGVhc2luZzogYGN1YmljLWJlemllcigke0RFRkFVTFRfQ1VSVkV9KWAsXG4gICAga2V5ZnJhbWVzKGRpbWVuc2lvbnMpIHtcbiAgICAgIGNvbnN0IG9mZnNldFggPSBkaW1lbnNpb25zLnBhZ2VXaWR0aCAtIGRpbWVuc2lvbnMudGFyZ2V0WDtcbiAgICAgIHJldHVybiB3aG9vc2hJbihvZmZzZXRYLCAwLCAwLCAwKTtcbiAgICB9LFxuICB9LFxuICAncGFuLWxlZnQnOiB7XG4gICAgZHVyYXRpb246IDEwMDAsXG4gICAgZWFzaW5nOiAnbGluZWFyJyxcbiAgICBrZXlmcmFtZXMoZGltZW5zaW9ucywgb3B0aW9ucykge1xuICAgICAgY29uc3QgdHJhbnNsYXRlWCA9IG9wdGlvbnNbVFJBTlNMQVRFX1hfQVRUUklCVVRFX05BTUVdO1xuICAgICAgY29uc3Qgc2NhbGluZ0ZhY3RvciA9IGNhbGN1bGF0ZVRhcmdldFNjYWxpbmdGYWN0b3IoZGltZW5zaW9ucyk7XG4gICAgICBkaW1lbnNpb25zLnRhcmdldFdpZHRoICo9IHNjYWxpbmdGYWN0b3I7XG4gICAgICBkaW1lbnNpb25zLnRhcmdldEhlaWdodCAqPSBzY2FsaW5nRmFjdG9yO1xuXG4gICAgICBjb25zdCBvZmZzZXRYID0gZGltZW5zaW9ucy5wYWdlV2lkdGggLSBkaW1lbnNpb25zLnRhcmdldFdpZHRoO1xuICAgICAgY29uc3Qgb2Zmc2V0WSA9IChkaW1lbnNpb25zLnBhZ2VIZWlnaHQgLSBkaW1lbnNpb25zLnRhcmdldEhlaWdodCkgLyAyO1xuXG4gICAgICByZXR1cm4gc2NhbGVBbmRUcmFuc2xhdGUoXG4gICAgICAgIG9mZnNldFgsXG4gICAgICAgIG9mZnNldFksXG4gICAgICAgIHRyYW5zbGF0ZVggPyBvZmZzZXRYICsgdHJhbnNsYXRlWCA6IDAsXG4gICAgICAgIG9mZnNldFksXG4gICAgICAgIHNjYWxpbmdGYWN0b3JcbiAgICAgICk7XG4gICAgfSxcbiAgfSxcbiAgJ3Bhbi1yaWdodCc6IHtcbiAgICBkdXJhdGlvbjogMTAwMCxcbiAgICBlYXNpbmc6ICdsaW5lYXInLFxuICAgIGtleWZyYW1lcyhkaW1lbnNpb25zLCBvcHRpb25zKSB7XG4gICAgICBjb25zdCB0cmFuc2xhdGVYID0gb3B0aW9uc1tUUkFOU0xBVEVfWF9BVFRSSUJVVEVfTkFNRV07XG5cbiAgICAgIGNvbnN0IHNjYWxpbmdGYWN0b3IgPSBjYWxjdWxhdGVUYXJnZXRTY2FsaW5nRmFjdG9yKGRpbWVuc2lvbnMpO1xuICAgICAgZGltZW5zaW9ucy50YXJnZXRXaWR0aCAqPSBzY2FsaW5nRmFjdG9yO1xuICAgICAgZGltZW5zaW9ucy50YXJnZXRIZWlnaHQgKj0gc2NhbGluZ0ZhY3RvcjtcblxuICAgICAgY29uc3Qgb2Zmc2V0WCA9IGRpbWVuc2lvbnMucGFnZVdpZHRoIC0gZGltZW5zaW9ucy50YXJnZXRXaWR0aDtcbiAgICAgIGNvbnN0IG9mZnNldFkgPSAoZGltZW5zaW9ucy5wYWdlSGVpZ2h0IC0gZGltZW5zaW9ucy50YXJnZXRIZWlnaHQpIC8gMjtcblxuICAgICAgcmV0dXJuIHNjYWxlQW5kVHJhbnNsYXRlKFxuICAgICAgICAwLFxuICAgICAgICBvZmZzZXRZLFxuICAgICAgICAtdHJhbnNsYXRlWCB8fCBvZmZzZXRYLFxuICAgICAgICBvZmZzZXRZLFxuICAgICAgICBzY2FsaW5nRmFjdG9yXG4gICAgICApO1xuICAgIH0sXG4gIH0sXG4gICdwYW4tZG93bic6IHtcbiAgICBkdXJhdGlvbjogMTAwMCxcbiAgICBlYXNpbmc6ICdsaW5lYXInLFxuICAgIGtleWZyYW1lcyhkaW1lbnNpb25zLCBvcHRpb25zKSB7XG4gICAgICBjb25zdCB0cmFuc2xhdGVZID0gb3B0aW9uc1tUUkFOU0xBVEVfWV9BVFRSSUJVVEVfTkFNRV07XG4gICAgICBjb25zdCBzY2FsaW5nRmFjdG9yID0gY2FsY3VsYXRlVGFyZ2V0U2NhbGluZ0ZhY3RvcihkaW1lbnNpb25zKTtcbiAgICAgIGRpbWVuc2lvbnMudGFyZ2V0V2lkdGggKj0gc2NhbGluZ0ZhY3RvcjtcbiAgICAgIGRpbWVuc2lvbnMudGFyZ2V0SGVpZ2h0ICo9IHNjYWxpbmdGYWN0b3I7XG5cbiAgICAgIGNvbnN0IG9mZnNldFggPSAtZGltZW5zaW9ucy50YXJnZXRXaWR0aCAvIDI7XG4gICAgICBjb25zdCBvZmZzZXRZID0gZGltZW5zaW9ucy5wYWdlSGVpZ2h0IC0gZGltZW5zaW9ucy50YXJnZXRIZWlnaHQ7XG5cbiAgICAgIHJldHVybiBzY2FsZUFuZFRyYW5zbGF0ZShcbiAgICAgICAgb2Zmc2V0WCxcbiAgICAgICAgMCxcbiAgICAgICAgb2Zmc2V0WCxcbiAgICAgICAgLXRyYW5zbGF0ZVkgfHwgb2Zmc2V0WSxcbiAgICAgICAgc2NhbGluZ0ZhY3RvclxuICAgICAgKTtcbiAgICB9LFxuICB9LFxuICAncGFuLXVwJzoge1xuICAgIGR1cmF0aW9uOiAxMDAwLFxuICAgIGVhc2luZzogJ2xpbmVhcicsXG4gICAga2V5ZnJhbWVzKGRpbWVuc2lvbnMsIG9wdGlvbnMpIHtcbiAgICAgIGNvbnN0IHRyYW5zbGF0ZVkgPSBvcHRpb25zW1RSQU5TTEFURV9ZX0FUVFJJQlVURV9OQU1FXTtcbiAgICAgIGNvbnN0IHNjYWxpbmdGYWN0b3IgPSBjYWxjdWxhdGVUYXJnZXRTY2FsaW5nRmFjdG9yKGRpbWVuc2lvbnMpO1xuICAgICAgZGltZW5zaW9ucy50YXJnZXRXaWR0aCAqPSBzY2FsaW5nRmFjdG9yO1xuICAgICAgZGltZW5zaW9ucy50YXJnZXRIZWlnaHQgKj0gc2NhbGluZ0ZhY3RvcjtcblxuICAgICAgY29uc3Qgb2Zmc2V0WCA9IC1kaW1lbnNpb25zLnRhcmdldFdpZHRoIC8gMjtcbiAgICAgIGNvbnN0IG9mZnNldFkgPSBkaW1lbnNpb25zLnBhZ2VIZWlnaHQgLSBkaW1lbnNpb25zLnRhcmdldEhlaWdodDtcblxuICAgICAgcmV0dXJuIHNjYWxlQW5kVHJhbnNsYXRlKFxuICAgICAgICBvZmZzZXRYLFxuICAgICAgICBvZmZzZXRZLFxuICAgICAgICBvZmZzZXRYLFxuICAgICAgICB0cmFuc2xhdGVZID8gb2Zmc2V0WSArIHRyYW5zbGF0ZVkgOiAwLFxuICAgICAgICBzY2FsaW5nRmFjdG9yXG4gICAgICApO1xuICAgIH0sXG4gIH0sXG4gICd6b29tLWluJzoge1xuICAgIGR1cmF0aW9uOiAxMDAwLFxuICAgIGVhc2luZzogJ2xpbmVhcicsXG4gICAga2V5ZnJhbWVzKHVudXNlZERpbWVuc2lvbnMsIG9wdGlvbnMpIHtcbiAgICAgIGNvbnN0IHNjYWxlU3RhcnQgPSBvcHRpb25zW1NDQUxFX1NUQVJUX0FUVFJJQlVURV9OQU1FXTtcbiAgICAgIGNvbnN0IHNjYWxlRW5kID0gb3B0aW9uc1tTQ0FMRV9FTkRfQVRUUklCVVRFX05BTUVdO1xuXG4gICAgICBpZiAoc2NhbGVTdGFydCkge1xuICAgICAgICB1c2VyQXNzZXJ0KFxuICAgICAgICAgIHNjYWxlRW5kID4gc2NhbGVTdGFydCxcbiAgICAgICAgICAnXCJzY2FsZS1lbmRcIiB2YWx1ZSBtdXN0IGJlIGdyZWF0ZXIgJyArXG4gICAgICAgICAgICAndGhhbiBcInNjYWxlLXN0YXJ0XCIgdmFsdWUgd2hlbiB1c2luZyBcInpvb20taW5cIiBhbmltYXRpb24uJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gW1xuICAgICAgICB7dHJhbnNmb3JtOiBgc2NhbGUoJHtzY2FsZVN0YXJ0IHx8IFNDQUxFX0xPV19ERUZBVUxUfSlgfSxcbiAgICAgICAge3RyYW5zZm9ybTogYHNjYWxlKCR7c2NhbGVFbmQgfHwgU0NBTEVfSElHSF9ERUZBVUxUfSlgfSxcbiAgICAgIF07XG4gICAgfSxcbiAgfSxcbiAgJ3pvb20tb3V0Jzoge1xuICAgIGR1cmF0aW9uOiAxMDAwLFxuICAgIGVhc2luZzogJ2xpbmVhcicsXG4gICAga2V5ZnJhbWVzKHVudXNlZERpbWVuc2lvbnMsIG9wdGlvbnMpIHtcbiAgICAgIGNvbnN0IHNjYWxlU3RhcnQgPSBvcHRpb25zW1NDQUxFX1NUQVJUX0FUVFJJQlVURV9OQU1FXTtcbiAgICAgIGNvbnN0IHNjYWxlRW5kID0gb3B0aW9uc1tTQ0FMRV9FTkRfQVRUUklCVVRFX05BTUVdO1xuXG4gICAgICBpZiAoc2NhbGVTdGFydCkge1xuICAgICAgICB1c2VyQXNzZXJ0KFxuICAgICAgICAgIHNjYWxlU3RhcnQgPiBzY2FsZUVuZCxcbiAgICAgICAgICAnXCJzY2FsZS1zdGFydFwiIHZhbHVlIG11c3QgYmUgJyArXG4gICAgICAgICAgICAnaGlnaGVyIHRoYW4gXCJzY2FsZS1lbmRcIiB2YWx1ZSB3aGVuIHVzaW5nIFwiem9vbS1vdXRcIiBhbmltYXRpb24uJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gW1xuICAgICAgICB7dHJhbnNmb3JtOiBgc2NhbGUoJHtzY2FsZVN0YXJ0IHx8IFNDQUxFX0hJR0hfREVGQVVMVH0pYH0sXG4gICAgICAgIHt0cmFuc2Zvcm06IGBzY2FsZSgke3NjYWxlRW5kIHx8IFNDQUxFX0xPV19ERUZBVUxUfSlgfSxcbiAgICAgIF07XG4gICAgfSxcbiAgfSxcbn07XG4iXX0=
// /Users/mszylkowski/src/amphtml/extensions/amp-story/1.0/animation-presets.js